Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Due Date,Votes,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Issue split),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
"Add support for ""stateless"" usage of the SDK APIs",FABN-1,17766,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid,kungyc,jimthematrix,jimthematrix,12/Jun/17 12:06 PM,30/Oct/19 1:40 AM,28/Oct/23 3:25 AM,30/Oct/19 1:40 AM,,,,,,,Future,,,,4,Release-planning-1.2,,,,"[~vdods] wrote in Rocket.Chat:
I strongly suggest changing the stateful implementation of Client (and probably others, such as Chain), as it obscures the responsibility of each class and makes the relationships between the concepts more difficult to understand. For example, the Client.installChaincode method presumably acts on behalf of a user, but it's not clear if it does, and the documentation doesn't indicate anything about which user it should be, or that setUserContext should be used. Same for many other functions. Concretely, remove the notion of user context and require the app to pass in the desired User object directly to the relevant methods. It will make for an easier to understand an use SDK and much clearer app code.",,crmiles,davidkhala,denyeart,GuillaumeCisco,heatherp,holocron,knagware9,kungyc,MichaelWang,SimonOberzan,vdods,yoheiueda,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,FABN-1245,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy09b:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,crmiles,davidkhala,denyeart,GuillaumeCisco,heatherp,holocron,knagware9,kungyc,MichaelWang,SimonOberzan,vdods,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/17 12:07 PM;jimthematrix;the stateless design as you described is a legitimate alternative, it would require the user object to be passed to every call that sends requests to the fabric. the v1.0 SDK took a very different (stateful) approach from the very beginning, as evident in the ""SDK design spec"" https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit that was published in November 2016. as I explained in an earlier discussion on this subject, we took the view that not every application user needs to have their distinctive signing identity (private key and signing certificate), but instead the application would maintain a relatively small number of signing identities to use with the fabric. as a result you would want a client instance dedicated to a signing identity (say one for the org admin, and one or a small number for a regular org member).

if you have the need to use a large number of signing identities to submit requests to the fabric, then this design is not optimal (although it doesn't prevent you from doing that, you'd just have to create many instances of clients and channels). But since the fabric MSP governs access control and endorsement policies based on organizational units and roles (org1.admin, org1.member), there's really no need to use more than one identity for each role. of course you would want to have accountability of each individual user using the app, but that can be tracked and implemented in the application layer outside of the ""fabric identities"".

since we are beta, it'd be really difficult if not impossible to make any API changes. in the next major release (say 1.1) we could consider adding the ability to use the clients and channels in a stateless way, such that if the user object is passed with each fabric request call, it'll be used and the client/channel object itself does not require the user context to be set ahead of time. so basically both the stateful and stateless styles can be supported;;;","28/Jun/17 8:41 PM;crmiles;This is something that I've been wondering about for a while.  I originally hit issues trying to connect with multiple users until I realized that this stateful client was the issue.  As you mention above, I can create multiple client instances (one for each request, or I guess I could cache them by user), but isn't that 'heavy'?  Would I need to also create a new Chain instance for each client, or could I reuse a single Chain instance across multiple Clients?  Just wondering if there are any grpc-related concerns with having too many connections open (or left open)...

Personally, I would prefer the stateless approach – especially because invoking chaincode as a given user is helpful from a security perspective.  I like that I can get the caller cert in my chaincode and know that it was that particular user who was invoking the chaincode (along with retrieving the TCert attributes - when we get TCerts! :) );;;","29/Jun/17 4:06 PM;jimthematrix;[~crmiles] yes you can definitely re-use Peer, Orderer instances across clients and channel objects to avoid having to create new grpc connections for each new users. About the chaincode getting the creator/caller cert, that always works with either approach.;;;","15/Dec/17 7:46 AM;holocron;[~jimthematrix] can we get an update on the current thinking here?;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","04/Jun/18 1:44 PM;davidkhala;How about in future design, not to use Client but directly use User as its role?;;;","30/Oct/19 1:40 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK for getting information from Peer,FABN-2,14632,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,varadatibm,varadatibm,09/Feb/17 1:46 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,25/Mar/17 4:29 AM,,,,,,,,,,,0,node-SDK,,,,"In order to build a UI for showing information about the Peer , we need the following APIs on the Fabric SDK...

GET Blockheight
GET Block

POST InstallChainCode
GET InstalledChainCode
POST InstantiateChainCode
GET InstantiatedChainCode

GET Channels in Network
GET Channels (for the Org)

Join Channel
Create Channel (on Orderer)",,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5bz:",,,,Unset,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,Unset,,,,,,,,,,,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/17 2:06 PM;jimthematrix;[~varadatibm] can you confirm the only remaining work is the following?

GET Channels in Network
GET Channels (for the Org);;;","08/Mar/17 10:35 PM;varadatibm;Jim, that is correct... we have all but the ones you mentioned... ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test concurrent transaction submissions,FABN-3,12922,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,dongming,dongming,dongming,07/Oct/16 2:48 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,06/Jun/17 4:55 AM,,,,,,,v1.0.0,,,,0,quality,,,,"This was not possible in v0.6 code base due to a timer problem during TCert download. see details below.

in the v1.0 code base, we need ensure concurrent transaction submission or successive submissions in short intervals are possible to enable high throughput.",,bmos299,dinotone,dongming,Ratnakar,ryokawajp,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-657,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/16 5:46 AM;Ratnakar;NodeCode.zip;https://jira.hyperledger.org/secure/attachment/10120/NodeCode.zip","12/Oct/16 5:46 AM;Ratnakar;Stress-failures.txt.zip;https://jira.hyperledger.org/secure/attachment/10121/Stress-failures.txt.zip","07/Oct/16 10:22 PM;Ratnakar;logs.zip;https://jira.hyperledger.org/secure/attachment/10106/logs.zip",,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx76n:",,,,Unset,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,Unset,,,,,,,,,,,bmos299,dinotone,dongming,Ratnakar,ryokawajp,warm3snow,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 3:32 AM;bmos299;Hi Dongming, can you add a code snippet?
Thanks,Barry;;;","07/Oct/16 3:33 AM;bmos299;...and your work around.;;;","07/Oct/16 4:04 AM;dongming;The code is as follow:

var i =0;
function SendInvokeArt(pid, user, request, null) {
    ...
     var invokeTx = user.invoke(request);

     if (i< 125) {
          SendInvokeArt(pid, user, request, null);
          i++;
     }

...
};;;","07/Oct/16 10:19 PM;Ratnakar;Additional details : 

* *hfc version 0.6.2*
* *4 peer network with security and pbft enabled*

To achive the above mentioned test I have commented the below lines in hfs.ts/hfs.js file in function *getTCerts()*

{code:java}
self.getTCertResponseTime.start();
self.getTCertResponseTime.cancel();
self.getTCertResponseTime.stop();

{code}

calling invokes in a for loop for 3000 times, however I could see some of the Invokes are failing

Error message:

{code:java}

Failed to submit chaincode invoke transaction: request={""chaincodeID"":""d4473998ca8c11e93e26bbe97509141a5553e44014c4bce6b9790998629d8f48"",""fcn"":""invoke"",""args"":[""a"",""b"",""10""]}, error={""error"":{""code"":14,""metadata"":{""_internal_repr"":{}}},""msg"":""Error""}
{code}




$ ./QuickTrxCounter.sh http://localhost:7050

Chain height on http://localhost:7050 is 42

Total Transactions made 2657


Do we have any suggestion for perfomrance/stress testsing in Nodejs ? 
Sure there is some reason for having *TCertResponseTime* here, Please help us to understand the same ?

PS: Attached nodejs and all 4 PEER logs
 [^logs.zip] ;;;","11/Oct/16 2:14 AM;bmos299;Assigning to Jim to determine who should work on the issue. ;;;","12/Oct/16 5:47 AM;Ratnakar;Instead of tight loop this time, spawning 5 child processes and calling invokes on receiving *submit* event
Still see the issue.

{code:java}
/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/stats.js:77
            throw Error(""started twice without stopping"");
            ^

Error: started twice without stopping
    at Error (native)
    at ResponseTime.start (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/stats.js:77:19)
    at TCertGetter.getTCerts (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:1705:35)
    at TCertGetter.getNextTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:1659:18)
    at Member.getNextTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:862:28)
    at TransactionContext.getMyTCert (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:1175:21)
    at TransactionContext.invoke (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:1012:14)
    at Member.invoke (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/node_modules/hfc/lib/hfc.js:814:12)
    at executeTest (/home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/childProcess.js:58:27)
    at /home/ratnakar/go/src/github.com/hyperledger/fabric/event-perf/childProcess.js:76:13

child process exited with code 1

{code}

*Below code has been used for sending traffic/Invoke transaction:*

{code:java}

function executeTest() {
  // Construct the invoke request
  var invokeRequest = {
      // Name (hash) required for invoke
      chaincodeID: testChaincodeID,
      // Function to trigger
      fcn: config.invokeRequest.functionName,
      // Parameters for the invoke function
      args: newArgs
  };

  // Trigger the invoke transaction
  var invokeTx = deployer.invoke(invokeRequest);
  invokeTx.on('submitted', function(results) {
      // Invoke transaction submitted
      console.log(util.format(""submitted chaincode invoke transaction: response=%j\n"", results));
      executeTest();
  });
  invokeTx.on('complete', function(results) {
      // Invoke transaction completed
      console.log(util.format(""completed chaincode invoke transaction: response=%j\n"", results));
      query();
  });
  invokeTx.on('error', function(err) {
      // Invoke transaction submission failed
      console.log(util.format(""Failed to process chaincode invoke transaction: request=%j, error=%j\n"", invokeRequest, err));
      executeTest();
  });
}
{code}


Also as per [~jimthematrix] suggestion set the Invoke wait time to 1 hour

{code:java}
chain.setInvokeWaitTime(3600);
{code}

However still see the below error for Invokes:

{code:java}
error=""timed out waiting for transaction to complete""
{code}


PS: Adding logs  [^Stress-failures.txt.zip]   and code  [^NodeCode.zip] 
;;;","20/Oct/16 11:03 PM;dongming;With chaincode exmaple02,  I can send invokes every 200ms, but will see the error if go below 200ms.;;;","08/Dec/16 4:39 PM;ryokawajp;Hi everyone. We also face the same exception ""throw Error(""started twice without stopping"");"", which led to a crash of our app.
Our application is deployed on Bluemix and our testers were accessing the application with usual web browsers. We are using hfc 0.6.5.

https://github.com/hyperledger/fabric/blob/v0.6/sdk/node/src/hfc.ts#L2097

If I understand the behavior of the HFC correctly, the variable self.gettingTCerts in TCertGetter is not updated and looks always being false. 
Is this the cause of calling getTCert() twice?
;;;","06/Jun/17 4:56 AM;jimthematrix;This has been accomplished by [~dongming]'s Performance Test Engine work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
submitting peer: guaranteed delivery of requests,FABN-4,12777,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,corecode,corecode,27/Sep/16 9:33 PM,30/Oct/19 1:39 AM,28/Oct/23 3:25 AM,30/Oct/19 1:39 AM,,,,,,,Future,,,,0,node-SDK,,,,"To prevent loss of requests, a consensus client needs to implement guaranteed delivery.  For this, a client needs to submit the request to at least f+1 consensus nodes and wait for their confirmation.  This is also true for solo orderer and CFT systems such as kafka (with both f=0).  The delivery can be guaranteed only when f+1 (or more) confirmations have been collected.

This also provides a mechanism for flow control, because consensus nodes can opt not to reply with a confirmation (and process further requests) while their fresh pool (see FAB-474) is at capacity.

Note that the requirement to confirm delivery from f+1 replicas implies that the submitting client/peer needs to know of at least f+1 (current) consensus nodes.",,corecode,heatherp,jimthematrix,Joseph580307,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8f3:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,8.0,Unset,,,,,,,,,,,corecode,heatherp,jimthematrix,Joseph580307,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/16 12:43 AM;jimthematrix;what's the expected design for this to work from the client SDK point of view? My understanding is for a consensus cloud to offer a robust decentralized service, it ought to allow individual consensus nodes to be contacted separately, which I think is what [~corecode] is describing above. however, a client application may choose to deploy a proxy server within the enterprise, so that they can trust that node, that disseminates a transaction request to a list of orderers. it may even be configured to rotate b/w a list of sets of orderers. so that a client application can be just concerned with that one proxy node to submit transactions, instead of each app having to know all of (f+1) consensus nodes.

does this make sense? i'm trying to decide if the SDK only supports contacting one endpoint for submitting transactions, whether or not it can fulfill the guaranteed delivery requirement using a trusted proxy node setup.;;;","30/Oct/19 1:39 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sample web app,FABN-5,15547,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,03/Apr/17 7:42 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,29/Apr/17 12:50 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,An sample web app implementation to use NodeSDK apis using REST APIs,,ranjan78,Ratnakar,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx37z:",,,,Unset,,Sprint 15 - SDK node,Sprint 16 - SDK node,,,,,,,,,,Unset,,,,,,,,,,,ranjan78,Ratnakar,vdods,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Apr/17 7:43 AM;Ratnakar;document to track reviewing REST APIs
https://docs.google.com/document/d/1bfY7fOh6J6biXOjVHeF5e3feqYz09Cily9bie-KKGOE/;;;","13/Apr/17 10:29 PM;Ratnakar;Made the basic changes and published the changes to temporary repo https://github.com/ratnakar-asara/RestAPIs4Nodesdk 

working on the *token* implementation ;;;","11/May/17 10:29 AM;vdods;I created a fork of that repo with the goal of making its deployment more seamless and adding a basic, interactive web client.  In principle, this would allow people to have a very easy, working starting point for a HLF web app.

https://github.com/vdods/Fabric_SampleWebApp;;;","16/May/17 4:33 AM;vdods;While it doesn't appear to be blocking the functionality of the app, there are error messages regarding the gossip channel which aren't seen during the steps listed in the instructions, but can be seen by looking at the docker-compose logs with the command
{code:java}
docker-compose -f artifacts/docker-compose.yaml logs{code}
The error messages are:
{code:java}
peer0 | 2017-05-15 19:24:30.133 UTC [gossip/comm#-1] authenticateRemotePeer -> WARN 318 Remote peer 172.18.0.7:60682 didn't send TLS certificate
peer0 | 2017-05-15 19:24:30.133 UTC [gossip/comm#-1] GossipStream -> ERRO 319 Authentication failed
peer0 | 2017-05-15 19:24:30.151 UTC [eventhub_producer] Chat -> DEBU 31a Received EOF, ending Chat
peer0 | 2017-05-15 19:24:30.151 UTC [eventhub_producer] deRegisterHandler -> DEBU 31b deRegisterHandler BLOCK
peer0 | 2017-05-15 19:24:30.181 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 31c Sending GossipMessage: tag:EMPTY conn:<pki_id:""\234+!\253r\3719\227\353#\305\317U\316<Z\262\321\013Ze\345k\036l\326\365kZ\360\346\301"" cert:""\n\007Org1MSP\022\364\005-----BEGIN -----\nMIICEjCCAbigAwIBAgIQPjb63mDL4e062MPjtcA1CDAKBggqhkjOPQQDAjBgMQsw\nCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy\nYW5jaXNjbzERMA8GA1UEChMIcGVlck9yZzExETAPBgNVBAMTCHBlZXJPcmcxMB4X\nDTE3MDMwMTE3MzY0MVoXDTI3MDIyNzE3MzY0MVowUjELMAkGA1UEBhMCVVMxEzAR\nBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBGcmFuY2lzY28xFjAUBgNV\nBAMTDXBlZXJPcmcxUGVlcjEwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAS0hO8C\n8ph+PiFkYikdVAK/zCd2ckxb6m5bTOq54VtWR7wbdPuu9djICTaROTUmfeoAHF60\nol/Z/penR/G6chqKo2IwYDAOBgNVHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYB\nBQUHAwEwDAYDVR0TAQH/BAIwADArBgNVHSMEJDAigCDYpbPKwbgh9uS0h86vH9I5\nzc/DEIlBUJCLkPBekXlVajAKBggqhkjOPQQDAgNIADBFAiEAmGS3LTaqCkWV+myl\nlhg9ovtLJABuxQLnajMJYQOXURgCIHLVNrDbEF0KpEmFwXIBYMFdsKGRAF0kC43M\nbpq87UJq\n-----END -----\n"" hash:""\271g\256\220 B\210]7jE\027\377k\030\027\371-g;dN\270\326\361\246\001a\250\2629\221"" > , Envelope: 844 bytes, Signature: 844 bytes to 172.18.0.7:60686
peer0 | 2017-05-15 19:24:30.191 UTC [gossip/comm#-1] isPKIblackListed -> DEBU 31d [125 58 68 210 143 225 187 103 137 152 206 221 191 200 16 240 149 119 163 246 238 16 27 103 91 198 163 125 200 174 34 56] : false
peer0 | 2017-05-15 19:24:30.191 UTC [gossip/comm#-1] authenticateRemotePeer -> DEBU 31e Received pki_id:""}:D\322\217\341\273g\211\230\316\335\277\310\020\360\225w\243\366\356\020\033g[\306\243}\310\256\""8"" cert:""\n\007Org1MSP\022\364\005-----BEGIN -----\nMIICEjCCAbmgAwIBAgIRANgd5gwHKxNyqxptv40oPEkwCgYIKoZIzj0EAwIwYDEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xETAPBgNVBAoTCHBlZXJPcmcxMREwDwYDVQQDEwhwZWVyT3JnMTAe\nFw0xNzAzMDExNzM2NDFaFw0yNzAyMjcxNzM2NDFaMFIxCzAJBgNVBAYTAlVTMRMw\nEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2NvMRYwFAYD\nVQQDEw1wZWVyT3JnMVBlZXIyMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEZibY\npTur7h/LIkZkV1yr11mP0M4Hts+ARrky3r97WihvF0+TgxUIUrFjEe4Yv+SIlz5+\nIE6BlNemaF67nUeD+aNiMGAwDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsG\nAQUFBwMBMAwGA1UdEwEB/wQCMAAwKwYDVR0jBCQwIoAg2KWzysG4IfbktIfOrx/S\nOc3PwxCJQVCQi5DwXpF5VWowCgYIKoZIzj0EAwIDRwAwRAIgJ6zmGTYWeAjaa8zV\nI73t3Zop/mF790NwkH2SSlt4SAMCIG9yeH7K8YdD8Ao3kBiARyjI+QpiWqi1K8qS\nb6EWptg2\n-----END -----\n"" hash:"";\220\300\232\001\r\300\033\310\260T\220\332A0K\224Hl\r\340\275\004\263\243'P\321U\360\315E"" from 172.18.0.7:60686
peer0 | 2017-05-15 19:24:30.191 UTC [gossip/comm#-1] authenticateRemotePeer -> WARN 31f Remote peer 172.18.0.7:60686 didn't send TLS certificate
peer0 | 2017-05-15 19:24:30.194 UTC [gossip/comm#-1] GossipStream -> ERRO 320 Authentication failed
{code}
Is this a configuration error?  And if so, is there an easy resolution?  I'm not sure what, if anything, is prevented from working because of this error.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
*** Rejected ***: Allow SDK to deploy chaincode with customized docker file contents,FABN-6,13208,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,harrisob@us.ibm.com,harrisob@us.ibm.com,27/Oct/16 12:37 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,08/Mar/17 2:03 PM,,,,,,,,,,,0,,,,,"Remove the hard coded docker file contents and replace with config support and optional input request contents. The docker file contents will be built first from the deploy request. The caller may include an optional parameter in the deploy request ('dockerfile-content'). When the request does not contain the contents then the hierarchical config will be used. We will include the default contents in the default configuration file. The users of the SDK would then be allowed to override the contents by setting an override config file, environment variable, command line argument (might be too long to set here), or programmatically setting a new default.  ",,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxk8f:",,,,Unset,,,,,,,,,,,,2.0,Unset,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:15 AM;jimthematrix;[~harrisob@us.ibm.com] moved this back to TODO due to the removal of dockerfile-content from the peer chaincode support API. ;;;","08/Mar/17 2:03 PM;jimthematrix;with the recent change in how peers build the docker for running chaincode, the dockerfile is not passed in from the client any longer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure node.js SDK supports high throughput and horizontal scaling,FABN-7,13319,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,dongming,jimthematrix,jimthematrix,05/Nov/16 4:56 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,06/Jun/17 2:51 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,node-SDK,,,,"""high throughput"" - on a single instance, multiple transactions can be submitted in fast succession or in parallel

""horizontal scalability"" - test for stateless-ness (except for those states saved in the keyvaluestore backed by a database)",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx76v:",,,,Unset,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/17 2:52 AM;jimthematrix;this one is pretty much accomplished via [~dongming]'s Performance Test Engine;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the starter kit to support network mode,FABN-8,12888,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,04/Oct/16 5:23 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,09/Feb/17 12:34 AM,,,,,,,,,,,0,node-SDK,,,,"[~ghaskins] has been working on the fabric-ccenv image as the runtime dependency for chaincode deployment. This will make it possible, among other things, to have a pure-docker based set up, without vagrant, that supports chaincode deployment in network mode. Previously this was not possible unless you perform a local build that produces the full fabric-baseimage image.

My conversation with Greg below as reference:

jzhang [3:43 PM]  
@ghaskins sorry if this question has been asked before, I saw “hyperledger/fabric-baseimage-sandbox” is now published to docker hub, it’s a great enhancement! solves a long-time gnarly error when trying to use docker to set up a network outside of vagrant, where the “network” mode doesn’t work when you try to deploy chaincode, because the hyperledger/fabric-baseimage is missing a bunch of content.

ghaskins [3:43 PM]  
oh, actually thats not what that is for, heh

jzhang [3:43 PM]  
I just tested pulling the baseimage-sandbox and tag it as baseimage:latest, now everything works like a charm!

ghaskins [3:43 PM]  
that image was created so we could debug our baseimage CI pipeline, it really should go away

[3:44]  
but its interesting you were using it like that

jzhang [3:44 PM]  
yeah that’s why i’m asking

[3:44]  
can i count on it being there?

[3:44]  
sounds like answer is no :wink:

ghaskins [3:44 PM]  
no, i really should delete it

[3:44]  
but lets talk about the real problem

[3:45]  
the whole “baseimage:latest” thing has been a source of great confusion, and its in the process of being addressed

jzhang [3:45 PM]  
so going back to my original requirement: we need to have a way for app developers to set up a local network with docker only (without vagrant)

ghaskins [3:45 PM]  
yep

[3:45]  
understood (I actually want the same!)

[3:45]  
the short answer is: its not ready for that use case quite yet

[3:45]  
the long answer is: being actively worked on

jzhang [3:45 PM]  
ok great

ghaskins [3:46 PM]  
i hope to have it all squared away in the next few weeks

jzhang [3:46 PM]  
is the plan to have fabric-baseimage itself be fully built?

[3:46]  
(read through your google doc proposal, thought that was the plan…)

[3:46]  
(just confirming…)

ghaskins [3:46 PM]  
well, the plan is that “baseimage” will become what it was always intended: a build-time optimization and not a runtime resource

[3:47]  
right now, its kind of both

[3:47]  
which, as you have discovered, is a problem

[3:47]  
going forward, no runtime references to “baseimage” anything will be made

jzhang [3:48 PM]  
ok, so then for the runtime resource, where peer needs a base image to spin up instances for running chaincode, it’ll ask for a different image?

ghaskins [3:48 PM]  
historically, the primary issue is that chaincode deployment depended on baseimage:latest being present

jzhang [3:48 PM]  
yep

ghaskins [3:48 PM]  
yes, exactly

jzhang [3:48 PM]  
ok

ghaskins [3:48 PM]  
so hyperledger/fabric-ccenv will primarily fill this role

jzhang [3:48 PM]  
ah

ghaskins [3:48 PM]  
but we arent publishing it yet, so it acts kind of like baseimage:latest does

[3:48]  
that is, it only works if you build fabric locally

[3:49]  
we will be fixing this

jzhang [3:49 PM]  
i see

ghaskins [3:49 PM]  
theres a new templating engine that is in master

[3:49]  
you can get a sense of the direction if you study this:

[3:49]  
https://github.com/hyperledger/fabric/blob/master/peer/core.yaml#L285
 GitHub
hyperledger/fabric
Read-only mirror of https://gerrit.hyperledger.org/r/#/admin/projects/fabric 
 
 

jzhang [3:50 PM]  
do you have the FAB # for track this handy?

ghaskins [3:50 PM]  
that allows us to, for example, pin the ccenv to the same release as the peer

jzhang [3:50 PM]  
ok will take a look

ghaskins [3:50 PM]  
its actually pretty close to ready at this point, we just arent pushing the images out yet

[3:50]  
I cant recall if there is a FAB, there might be

jzhang [3:50 PM]  
got it

ghaskins [3:50 PM]  
(sorry, too many balls in the air right now)

[3:51]  
couple of caveats: this only applies to master

jzhang [3:51 PM]  
don’t worry about it then, i assume you’ll send out a notification once it starts publishing...

ghaskins [3:51 PM]  
v0.6 still works with the old system

jzhang [3:51 PM]  
that’s ok

ghaskins [3:51 PM]  
(and actually, features/* like features/convergence are lagging merges

[3:51]  
yeah, ill send out an email/slack when its ready

[3:52]  
long story short, right now things only work if you build locally first (unless you hand massage the system)

[3:52]  
but soon, it will work in a pure docker flow

jzhang [3:52 PM]  
perfect",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx88v:",,,,Unset,,Sprint 6 - nodeSDK,Sprint 6 - Crypto,,,,,,,,,2.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:35 AM;jimthematrix;the work that [~bmos299]'s team are doing for the hackfest and onward subsumed this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create sample node.js web app to show off the SDK capabilities,FABN-9,12548,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix@gmail.com,jimthematrix@gmail.com,25/Aug/16 2:00 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,30/May/17 11:58 PM,,,,,,,Future,,,,0,help-wanted,node-SDK,,,"it'd be great to include sample node.js application built on ""express"", so demonstrate how the Node.js SDK is supposed to be used in the context of a stateless web application:
* design a nice UI to help users understand basic concepts (chaincode deploy, transaction invocation, etc.)
* code sample should show usage of the proposal and transaction submission API's
* for the sake of being self-contained (and not require a complex steps to set it up), it should rely on the COP server to do user registration and enrollment. but need to make sure this part is described as optional.
",,jimthematrix@gmail.com,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-711,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx767:",,,,Unset,,Sprint 5 - Consensus,,,,,,,,,,4.0,Unset,,,,,,,,,,,jimthematrix@gmail.com,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 12:11 AM;yuki-kon;I wrote a sample code for Node.js application to show usage of the hfc API.
If anyone familiar with hfc reads this comment, could you check the code?
Also, where is the read-me document to commit this sample?

-----------------------------------------------------------------------------------------
var hfc = require('/opt/gopath/src/github.com/hyperledger/fabric/sdk/node');
//var hfc = require('hfc'); // *** NPM package dosen't work well with the least Fabric ?
var chain;
var chaincodeID;
var chainuser;

chain = hfc.newChain(""targetChain"");
chain.setKeyValStore( hfc.newFileKeyValStore('/tmp/keyValStore') );
chain.setMemberServicesUrl(""grpc://localhost:7054"");
chain.addPeer(""grpc://localhost:7051"");

// *** set Registrar ***
// enloll ""WebAppAdmin"" , who is already registered in ""membersrvc.yaml""
console.log(""setting registrar ..."");
chain.enroll(""WebAppAdmin"", ""DJY27pEnl16d"", function (err, webAppAdmin) {
   //console.log(""Enroll %s"",webAppAdmin);
   if (err) return console.log(""ERROR: %s"",err);
   chain.setRegistrar(webAppAdmin);

   // *** Register and Enroll User ***
   // register and enroll a new user ""chainuser""
   console.log(""enrolling user ..."");
   var registrationRequest = {
       enrollmentID: ""chainuser"",
       roles: 1,
       affiliation: ""bank_a"",
       registrar: null
   };

   chain.registerAndEnroll(registrationRequest , function (err, user) {
      //console.log(""RegisterAndEnroll %s"", user);
      if (err) return console.log(""ERROR: %s"",err);
      chainuser = user;

      // *** Deploy Chaincode ***
      console.log(""deploying chaincode ..."");
      var deployRequest = {
        fcn: ""init"",
        args:  [""a"", ""100"", ""b"", ""200""],
        chaincodePath: ""github.com/chaincode_example02""
      };

      var deployTx = chainuser.deploy(deployRequest);

      deployTx.on('submitted', function(results) {
         console.log(""submitted deploy: %j"",results);
      });
      deployTx.on('complete', function(results) {
         console.log(""completed deploy: %j"",results);
         chaincodeID = results.chaincodeID;
         console.log(""chaincodeID:"" + chaincodeID);

         // *** Invoke Chaincode ***
         console.log(""invoke chaincode ..."");
         var invokeRequest = {
            chaincodeID: chaincodeID,
            fcn: ""invoke"",
            args: [""a"", ""b"", ""10""]
         };
         var invokeTx = chainuser.invoke(invokeRequest);

         invokeTx.on('submitted', function(results) {
            console.log(""submitted invoke: %j"",results);
         });
         invokeTx.on('complete', function(results) {
            console.log(""completed invoke: %j"",results);

            // *** Query Chaincode ***
            console.log(""query chaincode ..."");
            var queryRequest = {
               chaincodeID: chaincodeID,
               fcn: ""query"",
               args: [""a""]
            };

            var queryTx = chainuser.query(queryRequest);

            queryTx.on('submitted', function(results) {
               console.log(""submitted query: %j"",results);
            });
            queryTx.on('complete', function(results) {
               console.log(""completed query: %j"",results);
            });
            queryTx.on('error', function(err) {
               console.log(""error on query: %j"",err);
            });

         });

         invokeTx.on('error', function(err) {
            console.log(""error on invoke: %j"",err);
         });
      });
      deployTx.on('error', function(err) {
         console.log(""error on deploy: %j"",err);
      });
   });
});
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK should minimize boilerplate needed for simple interaction,FABN-10,15678,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,greg.haskins,greg.haskins,11/Apr/17 11:22 PM,01/May/19 1:17 AM,28/Oct/23 3:25 AM,01/May/19 1:17 AM,,,,,,,Future,,,,1,,,,,"Right now there is a large degree of boilerplate required to perform even basic operations.  As a result, many applications end up copying the same ""util.js"" over and over to implement the helpers used to deal with the common scenarios.  Ideally, this may be captured in the SDK itself so that users do not need to replicate it every time.",,bestbeforetoday,greg.haskins,harrisob@us.ibm.com,mbwhite,vdods,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-3095,,,,,,,,,"1|hzxqcn:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,bestbeforetoday,greg.haskins,harrisob@us.ibm.com,mbwhite,vdods,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Apr/17 6:49 AM;vdods;Many applications will likely use a very simple subset of the full configuration capabilities of Fabric and Fabric-CA, and so these common use cases should guide the design; making these common use cases the easiest way to use the SDK.;;;","19/Sep/18 11:46 PM;bestbeforetoday;This sounds similar to the enhancements proposed in [FABN-692|https://jira.hyperledger.org/browse/FABN-692]. Your feedback there would be welcome.;;;","01/May/19 1:17 AM;harrisob@us.ibm.com;fabric-network covers this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Support deploy pre-built chaincode package downloadable from an http or https URL or in-memory buffer,FABN-11,12379,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,smithbk,smithbk,15/Aug/16 10:48 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,09/Sep/16 4:28 AM,,,,,,,,,,31/Aug/16 12:00 AM,0,functional-enhancements,node-SDK,,,"The Node SDK should support deploying chaincode by a URL and by buffer.
The URL and buffer should support both zip and tar.gz format.

",,AshishkumarLakshmanan,jimthematrix,jimthematrix@gmail.com,smithbk,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABN-690,,,,,,,,,"1|hzx9u7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,jimthematrix,jimthematrix@gmail.com,smithbk,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:33 AM;jimthematrix;this is subsumed by the work from [~greg.haskins] to support .CAR archives: https://gerrit.hyperledger.org/r/#/c/5429/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode upgrade support,FABN-12,14573,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,07/Feb/17 3:09 AM,14/Aug/19 3:26 AM,28/Oct/23 3:25 AM,05/Apr/17 1:08 PM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx55z:",,,,Unset,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Node SDK API to query the location of TLS certificate,FABN-13,12453,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,angrbrd,angrbrd,18/Aug/16 2:54 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,06/Jun/17 12:21 AM,,,,,,,,,,,0,,,,,"This feature will allow the end user to determine the location (directory) of the TLS certificate on the peer side. That way, the user does not need to guess at the location or get it via some roundabout means. This is particularly important when the user is deploying a chaincode with TLS.",,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb7b:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 9:56 AM;ChristopherFerris;[~jimthematrix] is this still relevant? If not, please set fixVersion WONTFIX and close. Thanks;;;","06/Jun/17 12:26 AM;jimthematrix;this used to be a requirement in v0.6, now that the chaincode container management has been improved, this is not needed any longer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create and update channel config,FABN-14,13297,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,smithbk,smithbk,04/Nov/16 11:56 PM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,20/Apr/17 11:24 AM,,,,,,,,,,,0,,,,,"At the moment channel creation relies on a command line tool (configtxgen) to generate the configuration template in binary format, which then gets sent to the orderer to create or change a channel configuration.

The SDK should make it possible for the application to create a channel from scratch without relying on external tools. Same for changing configurations.",,bmkor,davidkhala,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2914,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx37b:",,,,Unset,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,Unset,,,,,,,,,,,bmkor,davidkhala,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK support for privacy-preserving ownable state,FABN-15,28453,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,ales,denyeart,13/Mar/18 7:41 AM,30/Oct/19 1:39 AM,28/Oct/23 3:25 AM,30/Oct/19 1:39 AM,,,,,,,Future,,,,0,,,,,An application developer requires high-level functions to create and modify ownable state without having to handle individual KVS pairs,,ales,denyeart,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-15,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8820,,,,,,,,,"1|hzz133:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ales,denyeart,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/18 10:38 PM;denyeart;[~ales] With latest design I don't think there is any SDK impact for the normal (public) ownable state, right?;;;","28/Aug/18 12:46 AM;denyeart;[~ales] I know there is no SDK impact for normal state-based endorsement flows... how about for the privacy-preserving scenarios?  If some SDK side work is required, please clarify in description.;;;","30/Oct/19 1:39 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate protobuf handling code to generated JS,FABN-16,15792,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,18/Apr/17 1:33 AM,12/Oct/19 4:33 PM,28/Oct/23 3:25 AM,06/Oct/17 5:33 AM,,,,,,,,,,,0,,,,,"Looks like protobuf provides a JS code generator:
https://developers.google.com/protocol-buffers/docs/reference/javascript-generated",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx4af:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support Peer in dev mode for Deployment Proposal,FABN-17,13260,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,greg.haskins,jimthematrix,jimthematrix,03/Nov/16 12:43 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,03/Feb/17 11:03 PM,,,,,,,,,,,0,node-SDK,,,,"Currently the sendDeploymentProposal() call always assumes that the target Peers are in ""network"" mode, and it always packages up the chaincode and send to the Peer.

If the Peers (aks Endorsers) are in ""dev"" mode, then all it needs to send is chaincode name in the Proposal.",,greg.haskins,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx733:",,,,Unset,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,2.0,Unset,,,,,,,,,,,greg.haskins,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Feb/17 11:03 PM;greg.haskins;This support has been merged:

https://gerrit.hyperledger.org/r/#/c/3883/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign proposals and transactions using ECerts,FABN-18,13439,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,jimthematrix,jimthematrix,15/Nov/16 12:52 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,23/Nov/16 12:57 AM,,,,,,,,,,,0,node-SDK,,,,"proposals and transactions are supposed to be signed by TCerts, but in this initial step we'll sign using ECerts.",,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxetz:",,,,Unset,,Sprint 6 - nodeSDK,,,,,,,,,,4.0,Unset,,,,,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/16 12:57 AM;jimthematrix;work was done in https://gerrit.hyperledger.org/r/#/c/2655/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update maintainers file,FABN-19,28641,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ryjones,ryjones,ryjones,19/Mar/18 10:16 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,20/Mar/18 2:01 AM,,,,,,,,,,,0,,,,,Fabric-sdk-node maintainers file is misnamed and has old data.,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1xr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Mar/18 10:17 AM;ryjones;https://gerrit.hyperledger.org/r/#/c/19361/ (master)

https://gerrit.hyperledger.org/r/#/c/19363/ (release-1.1);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Further code optimization of balance-transfer sample,FABN-20,19238,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,14/Jul/17 3:58 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,01/Oct/17 6:48 PM,v1.0.0,,,,,,v1.0.2,,,,0,,,,,"the way it's currently written, it's not easy to deploy the app (both the client app and fabric backend) to a non-localhost.

also some code inside the app statically assumes grpcs instead of relying on the urls in the network-config.json

lastly, the list of target peers for instantiate, invoke calls should be optional",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6a7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/17 4:06 AM;jimthematrix;https://gerrit.hyperledger.org/r/11629;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use constant instead of create same big number object every time,FABN-21,30417,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,grapebaba,grapebaba,grapebaba,20/May/18 6:11 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,29/May/18 9:23 PM,v1.1.0,,,,,,v1.3.0,,,,0,,,,,"Since for p256 and p384 the orderer is a constant, we don't need create a big number object every time. It can reduce memory usage under heavy load.",,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzban:",,,,,,,,,,,,,,,,,,,,,,,,,,,,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Auction application based on Node SDK tests,FABN-22,12810,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,2020Nishi,jjjjibm,jjjjibm,29/Sep/16 4:32 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Nov/16 2:20 AM,,,,,,,,,,,0,node-SDK,,,,"This is part of the ""run complex transactions"" testing to be written and executed in v0.6. Nishi and/or Ratnakar may contribute to this (according to Jason's test plan assignments).",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-731,,,,,,,,,"1|hzx8lz:",,,,,,Sprint 2,Sprint 4 - Quality,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK - Ensure chaincode META-INF subdirectories passed upon install,FABN-23,30361,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,18/May/18 1:31 AM,12/Jun/20 12:31 AM,28/Oct/23 3:25 AM,31/May/18 1:01 AM,,,,,,,v1.2.0,,,,0,sdk,,,,"Node.js SDK - Ensure chaincode META-INF subdirectories passed upon install.

In v1.1 SDKs added support to pass couchdb indexes during chaincode install using directory:

META-INF/statedb/couchdb/indexes

In v1.2, need to ensure other subdirectories are also passed, as there can now be collection specific couchdb indexes defined in directory:

META-INF/statedb/couchdb/collections/<collection_name>/indexes

 ",,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-70,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,"1|hzwqfq:w",,,,,,To Do,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/May/18 4:41 AM;harrisob@us.ibm.com;Are the file types still going to be JSON ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Release v1.0.5,FABN-24,28340,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,09/Mar/18 11:20 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,09/Mar/18 11:58 PM,,,,,,,v1.0.5,,,,0,,,,,"## 1.0.5
Fri Mar  9 09:10:59 EST 2018
* [6572011](https://github.com/hyperledger/fabric-sdk-node/commit/6572011) [FAB-8723](https://jira.hyperledger.org/browse/FAB-8723) NodeSDK V1.0 - string env vars
* [33e1825](https://github.com/hyperledger/fabric-sdk-node/commit/33e1825) [FAB-8470](https://jira.hyperledger.org/browse/FAB-8470) NodeSDK - grpc settings
* [e630166](https://github.com/hyperledger/fabric-sdk-node/commit/e630166) [FAB-8469](https://jira.hyperledger.org/browse/FAB-8469) NodeSDK - update policies.proto
* [65aa0d1](https://github.com/hyperledger/fabric-sdk-node/commit/65aa0d1) [FAB-8467](https://jira.hyperledger.org/browse/FAB-8467) NodeSDK use CA correctly
* [473af31](https://github.com/hyperledger/fabric-sdk-node/commit/473af31) [FAB-8465](https://jira.hyperledger.org/browse/FAB-8465) NodeSDK Handle error messages",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-27,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0fb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove documentation link from fabric-sdk-node readme,FABN-25,20507,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,29/Aug/17 10:13 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,13/Sep/17 11:57 PM,v1.0.1,,,,,,v1.0.3,,,,0,Documentation,,,,"remove documentation link from fabric-sdk-node README

[https://github.com/hyperledger/fabric-sdk-node/blob/release/README.md|https://github.com/hyperledger/fabric-sdk-node/blob/release/README.md..]

We have deleted RTD build reference for fabric-sdk-node repository.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyerb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/17 11:56 PM;rameshthoomu;patch has been submitted and merged. now the fabric-sdk-node README shows only node 6.9.5 CI build status.https://github.com/hyperledger/fabric-sdk-node/tree/master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for 1.0.3 release,FABN-26,20642,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,06/Sep/17 10:38 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,06/Oct/17 5:32 AM,,,,,,,v1.0.4,,,,0,,,,,"change version in package.json files to ""1.0.3-snapshot""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfh3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Release v1.0.4,FABN-27,27970,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,24/Feb/18 4:34 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,24/Feb/18 5:31 AM,,,,,,,v1.0.4,,,,0,,,,,"## 1.0.4
Fri Feb 23 14:00:03 EDT 2018
* [121e6d9](https://github.com/hyperledger/fabric-sdk-node/commit/121e6d9) [FAB-8351](https://jira.hyperledger.org/browse/FAB-8351) NodeSDK - add parms to PKCS11
* [148a709](https://github.com/hyperledger/fabric-sdk-node/commit/148a709) [FAB-8415](https://jira.hyperledger.org/browse/FAB-8415) update the TLS certs that have expired
* [148a709](https://github.com/hyperledger/fabric-sdk-node/commit/148a709) [FAB-8438](https://jira.hyperledger.org/browse/FAB-8438) update the cloudant version causing NPM to not find it",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK] complete UT coverage in sdk/node/test/unit/*.js test cases,FABN-28,12794,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jjjjibm,jjjjibm,jjjjibm,28/Sep/16 5:09 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,12/Oct/16 11:16 PM,,,,,,,,,,,0,node-SDK,,,,"The directory  ../fabric/sdk/node/test/unit/  contains unit tests for the Node SDK APIs. An audit of the tests completed by Janet Wolf showed certain APIs are completely absent from the unit test coverage. 

1.Audit sdk/node/test/unit/ to identify APIs covered and omitted from unit test coverage.
    - Janet Wolf did this by comparing the APIs exposed by sdk/node/doc to the APIs called in the parts in sdk/node/test/unit.   Complete.
2.Write test cases or enhance existing test cases to add omitted APIs to sdk/node/test/unit/.
  - Janet Wolf and Nishi Nidamarty have written such test cases.  Complete.  See FAB-594 for class member coverage.
3.Review test cases.
 - Janet and Nishi reviewed the test cases and identified improvements.  Complete.
4.Integrate Allen Bailey's sdk/node/test/unit changes with the enhanced test cases.
   The tests in sdk/node/test/unit are designed to run on a laptop in the predefined vagrant environment.  As such, many values such as URLs are hard coded in the test case.  Working independently, Allen Bailey has been generalizing the tests to use environment variables for test case configuration.  This will allow us to run the unit tests on other platforms such as HSBN and Bluemix.   Allen Bailey will integrate his changes with the tests written by Janet and Nishi.   See FAB-595.
5.Check changes into source control.  Not started.  See FAB-595.
6.Test integrated changes on Fabric .6.  Not started. 
",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-87,,,,,,FABN-38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8yv:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[DOC] - update build status on fabric-sdk-node README,FABN-29,20806,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,13/Sep/17 11:49 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Mar/18 3:52 PM,v1.0.1,,,,,,v1.1.0,,,,0,Documentation,,,,"Build status on fabric-sdk-node README has to update with multiple CI jobs build status. In the current CI process on fabric-sdk-node, we run tests on node 6.9.5 and 8.4.0 but we are showing only the node 6.9.5 build status on README.",,rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-574,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Mar/18 3:52 PM;zhaochy;master branch have both node6 and node8 build status now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change versions to 1.1.0-snapshot,FABN-30,20645,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,07/Sep/17 12:19 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,02/Nov/17 4:35 AM,,,,,,,v1.1.0,,,,0,,,,,"Given the practice to cherry-pick commits from master into the release branch in order to produce a fix release (1.0.1 and 1.0.2 were both done this way), the master branch should be versioned as ""1.1.0-snapshot"" instead of the ever-progressing 1.0.1 -> 1.0.2 -> 1.0.3 etc. Using the ""1.1.0"" version also more accurately reflects the content in the master branch which now contains commits for features targeted at v1.1 (and left out of the release cherry picking).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfhr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Work out SDK interactions for upgrade,FABN-31,12326,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,muralisrini,Clayton Sims,Clayton Sims,12/Aug/16 2:09 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Mar/18 2:14 AM,,,,,,,Future,,,,0,node-SDK,,,,"Work out SDK interactions for upgrade
",,Clayton Sims,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxa1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/16 12:14 AM;jimthematrix;[~Clayton Sims] can you clarify the requirement? is ""upgrade"" referring to the fabric software upgrade, or chaincode version upgrade, or hfc library itself?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node 1.0.2,FABN-32,20617,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,06/Sep/17 3:52 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,06/Oct/17 5:31 AM,,,,,,,v1.0.2,,,,0,,,,,"# cherry-pick non-feature commits to a new local branch
# make the following updates
## Change version in fabric-client/package.json and fabric-ca-client/package.json to ""1.0.2""
## release_notes/v1.0.2.txt should be updated
## change log should be generated just after rebasing to pick up the last minute merged CRs and linked from release_notes/v1.0.2.txt
# squash merge into the master branch, then push to refs/for/release",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric node SDK: Unable to create CouchDB indexes,FABN-33,27806,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,AdnanChoudhury,AdnanChoudhury,17/Feb/18 6:33 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Feb/18 12:49 AM,,,,,,,v1.1.1,,,,0,node-SDK,Release-planning-1.1,Release-planning-1.1-PostAlpha,sdk,"The Fabric 1.1 feature of CouchDB indexing is not working while using Node SDK. The index definition files were placed in the specified directory accompanying the chaincode, but was unable to find the index implemented in CouchDB (verified by viewing the existing indexes via CouchDB web interface), and the peer log does not mention about finding any index definitions.

*To reproduce:*
 A modified balance transfer sample was used, to activate CouchDB state database for the peers. 1) docker-compose.yaml file was changed (see attached),
 2) index definition were placed in specified folder in the accompanying go chaincode folder.
 3) and the rest was run as directed.

*Result:*
 1) The CouchDB container has the values to ""a"" and ""b"" but no index.
 2) The peer log does not indicate finding any index definitions.

*Expectation*:
 CouchDB has the defined indexes.",,AdnanChoudhury,denyeart,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-44,,,,,,,FABJ-160,,,,,,,,,,,,,,,FABN-391,,,,,"17/Feb/18 6:32 AM;AdnanChoudhury;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/14632/docker-compose.yaml","27/Feb/18 8:51 AM;Ratnakar;image-2018-02-26-18-51-35-383.png;https://jira.hyperledger.org/secure/attachment/14686/image-2018-02-26-18-51-35-383.png",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Feb/18 9:59 PM;denyeart;Chaincode authors add any couchdb indexes as *.json metadata files in <chaincode_directory>/META-INF/statedb/couchdb/indexes.

Here is what the client packaging logic should do:

Add *.json to the list of files that are packaged.

If there is a META-INF directory at the chaincode top level directory, package it including all subdirectories at the top level of the chaincode tar (NOT within the ""src"" directory).

 

For example, for go chaincode (fabric-client/lib/packager/Golang.js) the packaged tar would include:
 * src/github.com/hyperledger/fabric/examples/chaincode/go/marbles02/marbles_chaincode.go
 * META-INF/statedb/couchdb/indexes/indexOwner.json

 

For example, for node chaincode (fabric-client/lib/packager/Node.js) the packaged tar would include:
 * src/marbles_chaincode.js
 * META-INF/statedb/couchdb/indexes/indexOwner.json

Chaincode installation on peer side (LSCC) will do validation on the JSON content.

See full go and node chaincode examples with indexes in fabric-samples/chaincode/marbles02.;;;","23/Feb/18 5:04 AM;Clayton Sims;Gari - From today's discussion I understand you are the proud owner of this one now. ;;;","26/Feb/18 2:14 AM;mastersingh24;https://gerrit.hyperledger.org/r/18385;;;","27/Feb/18 8:32 AM;AdnanChoudhury;[~mastersingh24] verifying this fix failed for me, this bug is still reproducable following the steps mentioned above.
the test used latest fabric-client that has the changes from the CR.;;;","27/Feb/18 8:57 AM;Ratnakar;[~mastersingh24] [~denyeart] I would like to add couple of my observations here.
 * For chaincode install, metadata path is not passed from ""__getChaincodePackageData_"" of *Client.js* class to *Packager.package()*, hence there is no provision for the application developer/ tester to pass this metadata path causes the problem 
 * while debugging the issue, It is also observed that *logger* is used without importing the module.

 
 Making the API changes as described above works for me ie., I could see the index gets created.

 ;;;","27/Feb/18 11:47 AM;Ratnakar;Raised another issue to address this [FAB-8550|https://jira.hyperledger.org/browse/FAB-8550];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test node sdk on zLinux,FABN-34,12925,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,rameshthoomu,gongsu,gongsu,07/Oct/16 6:17 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,19/Jun/17 12:18 AM,,,,,,,Future,,,,0,,,,,"Code level:

commit 3ed2416fd8729f5c0954b55f9f95330a3e723c97
Merge: 448d207 4e9dd2b
Author: Gari Singh <gari.r.singh@gmail.com>
Date:   Thu Oct 6 12:08:47 2016 +0000

    Merge ""Utility to assist in writing Node SDK Unit tests""

Running ""make node-sdk-unit-tests"" on zLinux produces the following error:

npm WARN hfc@0.6.2 license should be a valid SPDX license expression
node_modules/.bin/typings install
typings WARN deprecated 9/28/2016: ""registry:dt/node#6.0.0+20160523035754"" is deprecated (updated, replaced or removed)

+-- debug (global)
`-- node (global)

node_modules/.bin/tsc
[RUN] unit tests...
Initilizing environment...
Traceback (most recent call last):
  File ""<stdin>"", line 6, in <module>
socket.gaierror: [Errno -2] Name or service not known
membersrvc (localhost:7054) unreachable...exiting
Makefile:75: recipe for target 'unit-tests' failed
make[1]: *** [unit-tests] Error 1
make[1]: Leaving directory '/opt/openchain/src/github.com/hyperledger/fabric/sdk/node'
Makefile:96: recipe for target 'node-sdk-unit-tests' failed
make: *** [node-sdk-unit-tests] Error 2

Full log attached.",Linux s390x Debian 8 Jessie,gongsu,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/16 6:15 AM;gongsu;node-sdk-unit-tests.log;https://jira.hyperledger.org/secure/attachment/10105/node-sdk-unit-tests.log","15/Oct/16 6:36 AM;gongsu;node-sdk-unit-tests.log.s390x;https://jira.hyperledger.org/secure/attachment/10138/node-sdk-unit-tests.log.s390x","15/Oct/16 7:16 AM;gongsu;node-sdk-unit-tests.log.x86;https://jira.hyperledger.org/secure/attachment/10139/node-sdk-unit-tests.log.x86",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4an:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,gongsu,latitiah,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/16 7:16 AM;gongsu;The problem was due to the script sdk/node/bin/run-unit-tests.sh using ""ping"" command to resolve ""localhost"" into IP address in function resolvHost(). On a host with IPv6 addresses, localhost might resolve to IP address ::1 instead of 127.0.0.1, which breaks the script.

The following change allows the test run to finish:

bq. -   : ${SDK_MEMBERSRVC_ADDRESS:=""localhost:7054""}
bq. -   : ${SDK_PEER_ADDRESS:=""localhost:7051""}
bq. +   : ${SDK_MEMBERSRVC_ADDRESS:=""127.0.0.1:7054""}
bq. +   : ${SDK_PEER_ADDRESS:=""127.0.0.1:7051""}

However, there are multiple ""LedgerError - ResourceNotFound: ledger: resource not found"" during the tests. Note that node-sdk-unit-tests also have multiple failures on x86. Log files for both zLinux and x86 are attached.

 [^node-sdk-unit-tests.log.s390x]  [^node-sdk-unit-tests.log.x86] ;;;","31/Mar/17 3:05 AM;jimthematrix;So I think we need to test the following environments:
- inside Docker hosted in LinuxOne
- in the native LinuxOne environment

[~rameshthoomu] I believe the CI job for s390 is running inside Docker is that right?
[~latitiah] have you been running SDK samples on s390? is that in LinuxOne or Docker?;;;","31/Mar/17 3:44 AM;latitiah;Yes and yes - I was running the SDK (node) from my Ubuntu laptop with the network being Docker running inside zACI on LinuxOne.;;;","09/Apr/17 1:43 AM;rameshthoomu;[~jimthematrix] CI run node sdk jobs natively on s390x and x86 Machines. We have to run node sdk tests in docker containers. Will create JIRA ticket for this task and share it here..;;;","19/Jun/17 12:18 AM;rameshthoomu;Closing this issue.. This was already implemented. On every sdk-node commit CI runs verify and merge job. https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-verify-s390x/ and https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-s390x/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk documentation builds are broken,FABN-35,15972,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Apr/17 1:15 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Apr/17 1:05 AM,,,,,,,v1.0.0,,,,0,node-SDK,quality,,,fabric-sdk-node documentation builds are broken. ,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/17 1:20 AM;rameshthoomu;fabric-sdk-node builds are broken and here is the link: https://readthedocs.org/projects/fabric-sdk-node/builds/5327943/;;;","26/Apr/17 11:00 PM;rameshthoomu;patch has been submitted and it's in review;;;","27/Apr/17 1:05 AM;rameshthoomu;node sdk documentation builds are working as expected after this patch merge https://gerrit.hyperledger.org/r/#/c/8481/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node client for TCert,FABN-36,13438,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,ashutosh_kumar,ashutosh_kumar,15/Nov/16 12:44 AM,30/Oct/19 1:39 AM,28/Oct/23 3:25 AM,30/Oct/19 1:39 AM,,,,,,,Future,,,,0,MembershipServices,,,,"Node SDK client should perform following : 
* Create Private Key
* Sign the message
* Add authorization header to the call.",,ashutosh_kumar,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-784,,,FABC-700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-697,,,,,,,,,"1|hzx760:",,,,,,Sprint 5 - Membership Services,Sprint 6 - Membership Services,Sprint 7 - Memship Services,Sprint 8 - Membership Services,Sprint 9 - Membership Services,Sprint 10 - Membership Service,,,,,,,,,,,,,,,,,ashutosh_kumar,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:39 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Release v1.1.1,FABN-37,29946,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,04/May/18 9:28 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,31/May/18 12:51 AM,,,,,,,v1.1.1,,,,0,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh v1.1.0 v1.1.1

create release_notes/v1.1.1.txt

update 3 package.json files with the release identifier

./package.json

    ""version"": ""1.1.0"",  -> ""version"": ""1.1.1"",

./fabric-ca-client/package.json

    ""version"": ""1.1.0"",  -> ""version"": ""1.1.1"",

./fabric-client/package.json

    ""version"": ""1.1.0"",  -> ""version"": ""1.1.1"",

 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-129,FABN-82,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8qv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 4:41 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/21413/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK] integrate new test cases for UT coverage into Gerrit,FABN-38,12897,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,rennman,jjjjibm,jjjjibm,05/Oct/16 4:13 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Nov/16 1:43 PM,,,,,,,,,,,0,node-SDK,,,,"See task FAB-493 for background for this task.

New test cases written by Janet Wolf and Nishi Nidamarty need to be integrated into the existing test cases in source control. 

Working independently, Allen Bailey has enhanced existing test cases to drive TLS testing.

Allen Bailey will integrate the new test cases with his work and add them to source control for fabric .6 and fabric 1.0",,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-28,FABN-87,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd7z:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/16 1:43 PM;jimthematrix;rejecting since the developers are responsible for writing test cases in v1.0 code base;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node6 jobs should only be run on release branch,FABN-39,26644,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,07/Jan/18 5:05 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,09/Jan/18 7:17 PM,,,,,,,v1.1.0,,,,0,,,,,The Node SDK does not support Node v6.x for v1.1 and later so there is not need to run the Node6 jobs for changes to master,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzysm7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/18 5:11 AM;mastersingh24;https://gerrit.hyperledger.org/r/16627;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a common test suite for all CryptoSuite implementations,FABN-40,14315,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,jimthematrix,jimthematrix,24/Jan/17 1:19 PM,30/Oct/19 1:38 AM,28/Oct/23 3:25 AM,30/Oct/19 1:38 AM,,,,,,,Future,,,,0,,,,,"a single test suite that drivers all APIs of the CryptoSuite interface, only switching among the implementations via configuration settings.",,heatherp,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx764:",,,,,,,,,,,,,,,,,,,,,,,,,,,,heatherp,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:38 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove openssl line from verify job,FABN-41,24501,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,rameshthoomu,chrispoole,chrispoole,28/Nov/17 8:48 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Jan/18 5:58 AM,,,,,,,,,,,0,fabric-sdk-rest,,,,"No longer have private directory and generate the keys ad-hoc; these lines were just for bootstrapping a few weeks ago, and are no longer required. From the two CI jobs for `fabric-sdk-rest`, please remove lines:

 

```

cd $WORKSPACE/gopath/src/github.com/hyperledger/fabric-sdk-rest/packages/fabric-rest/server/private

# Generate keys for TLS
openssl req -x509 -newkey rsa:4096 -keyout privatekey.pem -out certificate.pem \
 -days 365 -subj ""/C=US/ST=Oregon/L=Portland/O=Company Name/OU=Org/CN=www.example.com"" -nodes
```

 ",,chrispoole,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyo9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrispoole,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ca-tests.js needs to be updated to work with the latest fabric,FABN-42,13997,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jjjjibm,jjjjibm,11/Jan/17 1:48 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Mar/17 1:54 PM,,,,,,,,,,,0,help-wanted,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create unit tests for node.js SDK standalone,FABN-43,12674,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,13/Sep/16 8:49 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,13/Sep/16 8:50 PM,,,,,,,,,,,0,node-SDK,,,,Create headless unit tests for those functions that do not require a chain.,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-109,,,,,,FAB-611,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc0f:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update integration tests based on new error message,FABN-44,28006,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,26/Feb/18 4:22 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,15/Mar/18 5:53 AM,,,,,,,v1.1.0,,,,0,,,,,"FAB-8481 changed the error message and this breaks the current integration tests.
Eventually we need to eliminate checking for specific messages, but for the short term will just check for the updated message.",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-33,,,,,,,,,,,,,,,,,,,FAB-8481,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyvr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Feb/18 4:30 AM;mastersingh24;https://gerrit.hyperledger.org/r/18387;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MSP implementation always returns true when validating identities,FABN-45,15789,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,jimthematrix,jimthematrix,18/Apr/17 12:52 AM,30/Oct/19 1:38 AM,28/Oct/23 3:25 AM,30/Oct/19 1:38 AM,,,,,,,Future,,,,0,,,,,The actual implementation to validate the identity against the trusted certificate roots is missing,,heatherp,ranjan78,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx49z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,heatherp,ranjan78,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/17 5:18 AM;jimthematrix;deferring to post v1.0 per discussions on the #fabric-crypto channel;;;","30/Oct/19 1:38 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Attempt fabric-sdk-node unit tests on Windows 7/10 without Vagrant VM,FABN-46,13700,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bmos299,jjjjibm,jjjjibm,07/Dec/16 4:27 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,06/Jul/18 10:54 PM,,,,,,,v1.0.0,,,,0,,,,,"Execute node sdk unit tests using a Windows 7 native environment (don't use a vagrant VM). 

Edit:  gulp test-headless executes all the unit tests except pkcs11.js.  ",,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2019,FABN-439,FABN-338,FAB-3229,FAB-3225,,FAB-3514,,,,,"28/Apr/17 6:28 AM;jjjjibm;FAB-1293 test-headless.out first run.txt;https://jira.hyperledger.org/secure/attachment/10681/FAB-1293+test-headless.out+first+run.txt","02/May/17 5:09 AM;jjjjibm;how I run fabric-sdk-node on native Windows 10.odt;https://jira.hyperledger.org/secure/attachment/10692/how+I+run+fabric-sdk-node+on+native+Windows+10.odt",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx48v:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/17 1:50 PM;jimthematrix;[~jjjjibm] have you tried this?;;;","08/Mar/17 1:56 PM;jjjjibm;Yes, Jim, I was trying this at the time I wrote this issue.  I stopped to work on more pressing issues.  As I recall, I was not making a lot of  headway.;;;","11/Apr/17 9:24 PM;ChristopherFerris;see FAB-2019;;;","20/Apr/17 12:29 AM;jjjjibm;FYI.  FAB-2019 covers fabric but not node-sdk.  Gari did not attempt those.;;;","22/Apr/17 1:38 AM;jimthematrix;[~jjjjibm] are you able to get a windows 10 machine or VM to try this out?;;;","22/Apr/17 2:36 AM;jjjjibm;Virtualization Infrastructure Services: vSphere 
Message: A new vCenter Virtual Machine has been created for you. Follow instructions for access and use. 
Virtual Machine Info: Name : jcwWin10Pro
Operating System : Windows 10
Management Server : visvc6a.rtp.raleigh.ibm.com
IP Address : 9.37.138.184
Domain : rtp.raleigh.ibm.com
Memory (GB) : 8
CPU (cores) : 4
 
This is the VM I am setting up to try the Node SDK.;;;","22/Apr/17 8:03 AM;jjjjibm;Not working yet: 

> gulp test-headless

[18:53:43] Using gulpfile ~\go\src\github.com\hyperledger\fabric-sdk-node\gulpfile.js
[18:53:43] Starting 'lint'...
[18:53:43] Starting 'pre-test'...
[18:53:51] Finished 'pre-test' after 7.9 s
[18:53:54] Finished 'lint' after 11 s
[18:53:54] Starting 'test-headless'...

events.js:160
      throw er; // Unhandled 'error' event
      ^
Error: Cannot find module 'C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\node_modules\grpc\src\node\extension_binary\grpc_node.node'
    at Function.Module._resolveFilename (module.js:469:15)
    at Function.Module._load (module.js:417:25)
    at Module.require (module.js:497:17)
    at require (internal/module.js:20:19)
    at Object.<anonymous> (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\node_modules\grpc\src\node\src\grpc_extension.js:38:15)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Object.Module._extensions.(anonymous function) [as .js] (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\node_modules\istanbul\lib\hook.js:109:37)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.require (module.js:497:17)
    at require (internal/module.js:20:19)
    at Object.<anonymous> (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\node_modules\grpc\src\node\src\client.js:55:12)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
npm ERR! Test failed.  See above for more details.

ibmadmin@jcwWin10Pro MINGW64 ~/go/src/github.com/hyperledger/fabric-sdk-node (master)
$ gulp test-headless
[18:56:03] Using gulpfile ~\go\src\github.com\hyperledger\fabric-sdk-node\gulpfile.js
[18:56:03] Starting 'lint'...
[18:56:03] Starting 'pre-test'...
[18:56:11] Finished 'pre-test' after 7.84 s
[19:00:45] Finished 'lint' after 4.68 min
[19:00:46] Starting 'test-headless'...

ibmadmin@jcwWin10Pro MINGW64 ~/go/src/github.com/hyperledger/fabric-sdk-node (master);;;","22/Apr/17 8:05 AM;jjjjibm;(continued) 
This is from npm list:

+--  (fabric-client) invalid error: ENOENT: no such file or directory, open 'C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\node_modules\fabric-client\package.json;;;","28/Apr/17 4:44 AM;jjjjibm;After quite a few trials, I have all but two headless tests running on Windows 10 Pro.  

1..537
# tests 537
# pass  535
# fail  2

I will separately post what I had to do to get this to work.;;;","02/May/17 8:00 AM;jjjjibm;Attachments show the results of test-headless, and how I installed fabric-sdk-node. 

I was not able to get Docker for Windows to work on my Win10 VM.  To do that, I would need to enable virtualization on the host machine.  Or, I would need win10 hardware.

It does not seem I can use the vlaunch menu to request a VM with nested virtualization.   I will see Barry Mosakowski about obtaining Win10 hardware.;;;","05/Jun/17 11:47 AM;jimthematrix;hi [~bmos299] do you have someone with a Windows 10 and Windows 7 systems to help test out the situation with node SDK support? It's not clear to me if there are any problems. But I'd also be surprised if everything just works there too.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Minor correction to balance-transasfer sample README,FABN-47,16848,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,18/May/17 12:24 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,21/May/17 1:09 PM,,,,,,,v1.0.0-alpha2,,,,0,node-sdk,quality,,,"*Prerequisites and Setup* section has to be updated in balance-transafer sample, as this refers to Fabric docs 

[https://github.com/hyperledger/fabric-sdk-node/tree/master/examples/balance-transfer#prerequisites-and-setup]

 ",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update format of CA token in node SDK,FABN-48,30409,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Invalid,,smithbk,smithbk,19/May/18 10:56 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,19/Jul/18 9:28 AM,,,,,,,Future,,,,0,,,,,"The format of the authorization header is changing. 

The current format is *<base64 encoding of X509 certificate>.<base64 encoding of payload>* where payload is the signature over hash of the string: <base64 encoding of request body>.<base64 encoding of X509 cert>

The new format is *<base64 encoding of X509 certificate>.<base64 encoding of payload>* where payload is the signature over hash of the string: <request method>.<base64 encoding of request URI including query parameters>.<base64 encoding of request body>.<base64 encoding of X509 cert>

This change should be made after https://gerrit.hyperledger.org/r/#/c/22025/ is merged",,aambati,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzb93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/18 2:48 AM;smithbk;The token format is not being changed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK trigger for automatic release publishing,FABN-49,15374,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,16/Mar/17 9:00 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,17/Mar/17 10:47 AM,,,,,,,,,,,0,node-sdk-ci,,,,"This task describes a technique that uses source code commits to automatically trigger release publishing:

what the CI job needs to do:
- on every commit merge, find the version from fabric-client/package.json and fabric-ca-client/package.json
- if the version number has ""-snapshot"" in the end, it's not a release, it should publish to the ""unstable"" stream like follows:
  -- use ""npm dist-tags ls <pkg>"" command to discover the current published version of the ""unstable"" stream, say ""n.m.p-snapshot.s""
  -- check to see if the local version string match the online version
    --- if matching, for instance local version is ""n.m.p-snapshot"", it means we are still in the same release stream
      ---- update the version string in package.json locally to ""n.m.p-snapshot.s+1""
    --- if not matching, for instance local version is ""n.k.p-snapshot"", it means we have entered a new release stream and this will be the first snapshot revision for the new stream
      ---- update the version string in package.json locally to ""n.k.p-snapshot.1""
    --- npm publish --tag=unstable
- if the version number does not have ""-snapshot"" suffix, it's a release. perform the release publishing actions, by running ""npm publish"" in both fabric-client and fabric-ca-client folders. Note that this assumes that the version string for both packages have been updated in package.json in the source code
  - note that the release string may have other suffix like ""1.0.0-alpha"", which is a release version. On the other hand, ""1.0.0-alpha-snapshot"" is also a legitimate version and is not a release version

what a committer needs to do for a release:
- create a CR that updates the version in both package.json files under fabric-client and fabric-ca-client folders (not the one under the project root, that file has no bearings on the npm publish). ensure that the version of the two packages are identical. the version for the release should not have the ""-snapshot"" suffix and obeys the semver rules
- create a 2nd CR that bumps the version and adds back the ""-snapshot"" suffix
- create a tag corresponding to the commit level of the first CR (that has the change for the release version)",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx73r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Mar/17 5:40 AM;rameshthoomu;Patch has been submitted;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support per-request timeout for sending peer proposals,FABN-50,20358,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Aug/17 8:47 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,02/Nov/17 4:35 AM,,,,,,,v1.1.0,,,,0,,,,,"Using global settings makes it difficult to manage timeouts for only certain requests that are expected to take a long time (such as chaincode instantiate and upgrade, where docker images are getting built). we really need to support per-request timeouts

[~greg.haskins] this was something you asked about during v1.0, which unfortunately we didn't get around to implementing until now.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Fabric Test plan for 1.0,FABN-51,13450,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,15/Nov/16 4:08 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,09/Feb/17 12:41 AM,,,,,,,,,,,0,node-SDK,quality,,,Details tbd,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx72v:",,,,,,Sprint 6 - Quality,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:41 AM;jimthematrix;not sure what the work for this is still remaining. [~jjjjibm] please re-open if you need this to track work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node 1.0.3,FABN-52,27437,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,06/Feb/18 10:23 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,07/Feb/18 5:44 AM,,,,,,,v1.0.3,,,,0,,,,,"# make the following updates
 ## Change version in fabric-client/package.json and fabric-ca-client/package.json to ""1.0.3""
 ## release_notes/v1.0.3.txt should be updated
 ## change log should be generated just after rebasing to pick up the last minute merged CRs and linked from release_notes/v1.0.3.txt
 # then push to refs/for/release",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-32,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyw0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add release version to detect fabric-sdk-node release,FABN-53,19372,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jtclark,rameshthoomu,rameshthoomu,20/Jul/17 1:27 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,29/Aug/17 3:47 AM,v1.0.0,,,,,,v1.1.0,,,,0,node-SDK,,,,Add release version in package.json or create and add it in Makefile to detect fabric-sdk-node release. Drawback with the existing package.json script is to hardcode CI script to fetch versions from package.json. For every new version have to update CI script which is time consuming process.,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy3hr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/17 12:57 AM;jtclark;New patch added: [https://gerrit.hyperledger.org/r/#/c/12065/]. Please review.;;;","08/Aug/17 10:49 PM;rameshthoomu;[~jtclark] unable to access [https://gerrit.hyperledger.org/r/#/c/12065/.] gerrit link. Could you please provide the access or make it public;;;","10/Aug/17 1:05 AM;jtclark;[~rameshthoomu] - The link in my comment has an extra character in it.  I've edited the link here on the JIRA task. Should work fine now.;;;","15/Aug/17 11:14 PM;rameshthoomu;[~jtclark] As discussed in RC channel, please abandon this patch. Get rid of the existing hard coded values and implement the same logic with regular expressions. Please see my comments in the above patch. Thanks!!;;;","22/Aug/17 12:01 AM;jtclark;Update:

The patch mentioned above (https://gerrit.hyperledger.org/r/#/c/12065/) was ABANDONED. We are going to provide this fix in a different way, i.e, change the logic in ci script to accept any version numbers with regular expressions.
;;;","07/Sep/17 1:51 AM;jtclark;Update:

A new patch has been submitted. This patch uses regex to detect a valid release number: https://gerrit.hyperledger.org/r/#/c/13201/. Plz review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make crypto suite implementation pluggable in node.js SDK,FABN-54,12805,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,28/Sep/16 10:04 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,04/Oct/16 3:55 AM,,,,,,,,,,,0,node-SDK,,,,"make the code pluggable so that it's possible to swap in/out different crypto suites:

ECDSA vs. RSA vs. SM2 for asymmetric encryption and digital signature
AES vs. SM1 for symmetric encryption
SHA vs. SM3 for secure hashing",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9af:",,,,,,Sprint 2,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - E2E test should use channelEventHub,FABN-55,28345,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,09/Mar/18 11:52 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Mar/18 4:30 AM,,,,,,,v1.2.0,,,,0,,,,,Update the end to end flow to use the new channel event hubs,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0gf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 4:31 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/19495/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update grpc package version to 1.0.0,FABN-56,12714,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,angrbrd,angrbrd,angrbrd,21/Sep/16 5:59 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Sep/16 1:32 AM,,,,,,,v0.6,,,,1,node-SDK,,,,"Users in the field are finding that the hfc dependency on grpc v0.13.2-pre1 is failing to compile on Windows. The advice received from grpc forums was to update the package version to 1.0.0 which works fine on Windows.

This issue is to upgrade the grpc package used by hfc to 1.0.0",,angrbrd,nemes1s,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx99j:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,angrbrd,nemes1s,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 5:12 AM;angrbrd;On master: https://gerrit.hyperledger.org/r/#/c/1249
On v0.6: https://gerrit.hyperledger.org/r/#/c/1251;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update balance-transfer sample app to encourage best practices and remove temporary workaround,FABN-57,14568,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,jimthematrix,jimthematrix,07/Feb/17 12:34 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,15/Feb/17 9:03 AM,,,,,,,,,,,0,,,,,"- remove the 2sec pause after receiving the event notification, this is not necessary any longer after https://gerrit.hyperledger.org/r/#/c/4913/ is merged
- move the event listener registration earlier in the code logic before the transaction is sent out, and use Promise.all() to manage the promise resolution

Use the updated end-to-end.js as reference for these changes.",,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx65j:",,,,,,Sprint 11 - SDK node,Sprint 12 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Feb/17 9:03 AM;Ratnakar;Issue has been fixed with the commit https://gerrit.hyperledger.org/r/#/c/5671/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
please add lint to the jenkins build ,FABN-58,13105,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,21/Oct/16 7:36 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,29/Oct/16 5:46 AM,,,,,,,,,,,0,build-system,,,,please add lint to the jenkins build. it does not appear to be running. Locally you just need to run gulp and it runs linter and tests.,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdfb:",,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 6:32 AM;rameshthoomu;Added ""gulp"" command in node-sdk job to verify node-sdk code check;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build fabric-sdk-node Jenkins verify and merge jobs for the z and p platforms,FABN-59,14953,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,harrijk,harrijk,21/Feb/17 5:04 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,04/Mar/17 10:44 PM,,,,,,,,,,,0,,,,,"In order to catch any build errors on z or p for the fabric-sdk-node verify and merge Jenkins jobs, please create a new set of fabric-sdk-node verify/merge jobs for the z and p platforms.

Thanks.",,harrijk,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxllz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrijk,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Feb/17 6:11 AM;rameshthoomu;I have observed errors while running sdk tests in power builds..@jim suggested me to enable sdk-node builds on Z nodes only as we don't see any need of implementing sdk on power platforms.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement MemberService.getTransactionCertificate(enrollmentID),FABN-60,12437,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mgutala,angrbrd,angrbrd,17/Aug/16 7:25 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,14/Feb/17 12:49 AM,,,,,,,,,,,0,node-SDK,,,,"This task is to create the equivalent of the REST GET /registrar/enrollmentID/tcert endpoint in the Node.js SDK.

note that how to implement this is currently undecided. there is ongoing work to make TCert generated a local-only operation without involving the member service.",,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8of:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:44 AM;mgutala;As per conversation with Jim Zhang, moved this issue to v1.0.;;;","14/Feb/17 12:49 AM;jimthematrix;this is subsumed by the work to support tcert download the private key derivation;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add npm test to gulp tasks,FABN-61,13015,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,14/Oct/16 7:10 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,24/Nov/16 12:38 AM,,,,,,,,,,,0,build-system,,,,add npm test to gulp tasks,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcqv:",,,,,,Sprint 3,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Nov/16 12:38 AM;ChristopherFerris;see also FAB-932 and https://gerrit.hyperledger.org/r/#/c/2201/

closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update connection profile tutorial ,FABN-62,28165,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,02/Mar/18 3:00 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Mar/18 2:57 PM,,,,,,,v1.1.0,,,,0,,,,,Update the connection profile tutorial to include how to use with mutual TLS,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzlz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Mar/18 3:03 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18617/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - add configuration and input parameter support for docker contents,FABN-63,13422,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Nov/16 2:53 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,20/Nov/16 6:49 AM,,,,,,,,,,,0,node-SDK,,,,"Allow the chaincode docker file contents to be customized by the user. Allow for both getting the file contents from the hierarchical configuration or passed as a string object on the deploy proposal request. 

This task implements FAB-877",,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeqf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/16 6:49 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2533/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Continuously publish fabric-client and fabric-ca-client to npm,FABN-64,15266,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,09/Mar/17 2:56 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,17/Mar/17 10:47 AM,,,,,,,,,,,0,,,,,"should update the merge CI to perform npm publish with a tag for ""unstable"", this allows the early adopters (like fabric composer or explorer UI) to follow closely the latest updates:

npm publish --tag unstable
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnlz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Mar/17 2:57 AM;jimthematrix;[~davidkel];;;","17/Mar/17 8:58 AM;jimthematrix;[~rameshthoomu] maybe this can now be closed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
steps for using connection profile,FABN-65,22473,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid,,dongming,dongming,18/Oct/17 5:20 AM,30/Oct/19 1:38 AM,28/Oct/23 3:25 AM,30/Oct/19 1:38 AM,,,,,,,,,,,0,,,,,"In order for community users to use connection profile, detail steps of setup should be needed.  This includes
 * prepare artifiacts to bring up network (create a new fixtures directory, edit configtx.yaml in their directory, run cryptogen and configtxgen...to create the output flies with file names as currently used by their existing test, move the mychannel.tx, orgs.genesis.block files to the fabric-sdk-node/test/fixtures/ directories)
 * when actual commands are not available because of manual reading and editing, explain what corresponding changes must be done - e.g. editing network.yaml and docker-compose.yaml and other connection-profile yaml files, to use the output files generated in prior steps
 * also explain how to start the new network and run simple test using their test framework; how to run the existing test can be used as a model",,dongming,harrisob@us.ibm.com,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6438,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,harrisob@us.ibm.com,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/18 7:34 AM;harrisob@us.ibm.com;Does this document what you are asking for ?

https://fabric-sdk-node.github.io/tutorial-network-config.html;;;","30/Oct/19 1:38 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a basic performance test suite,FABN-66,19160,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,12/Jul/17 12:04 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Aug/17 4:25 AM,v1.0.0,,,,,,v1.0.1,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7v3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jul/17 10:15 PM;jimthematrix;https://gerrit.hyperledger.org/r/11557;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add README file Balance-transfer node-sdk sample,FABN-67,16744,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,16/May/17 3:39 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,18/May/17 10:08 AM,,,,,,,,,,,0,node-sdk,quality,,,"As part of the epic FAB-3604, a sample node-sdk webapplication has been added.

With JIRA adding the required README.",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvdz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - upgrade jsrsasign version,FABN-68,28382,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,10/Mar/18 7:18 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Mar/18 2:37 PM,,,,,,,v1.1.0,,,,0,,,,,Upgrade npm jsrsasign package due to LGPL license issues.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0lb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update package.json with latest packages,FABN-69,30456,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,wenjian,wenjian,22/May/18 5:01 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,24/May/18 5:47 AM,,,,,,,v1.2.0,,,,0,node-SDK,,,,Update package.json files with latest versions of dependency packages for node sdk and unit/integration tests. Also check in package-lock.json. ,,davidkhala,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzbgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/18 12:45 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/22099/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify chaincode package logic to comply to peer's verification,FABN-70,15061,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,greg.haskins,jimthematrix,jimthematrix,27/Feb/17 1:33 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Mar/17 1:01 PM,,,,,,,,,,,0,,,,,"With https://gerrit.hyperledger.org/r/#/c/6059/ the peers validation the chaincode package content. the sdk much package according to the rules:
- only files in src/<chaincode path>
- no directories
- all file permissions -rw-rw-rw- or less permissive",,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-39,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5y7:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Mar/17 9:51 PM;rickr;The client should not be enforcing security here. This policy should be on the server and should be adjustable by local policies. Anyone can change the client code.   Organization may want to allow packaging other types and have empty directories.  Should not ask users to deploy or fix an thier sdks for this.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK: remove anchor links to sections in private-data.md,FABN-71,31426,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,wenjian,wenjian,28/Jun/18 4:37 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Jun/18 10:29 PM,,,,,,,v1.2.0,,,,0,node-SDK,,,,"The anchor links for section titles in private-data.md file look good in github. However, these anchor links are not supported in html ( [https://fabric-sdk-node.github.io/tutorial-private-data.html] ).

Per [~rameshthoomu],  .md with gh-pages is causing this issue. Remove the anchor links so that they will not cause problem in html. 

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgfr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Jun/18 4:42 AM;wenjian;https://gerrit.hyperledger.org/r/#/c/23751/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify CouchDBKeyValueStore to not ask for a client instance in the constructor,FABN-72,14917,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,19/Feb/17 2:44 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,23/Feb/17 4:40 AM,,,,,,,,,,,0,,,,,"the API should simply ask for an 'opts' object for the necessary information, namely the URL and optionally the database name.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlfr:",,,,,,Sprint 12 - SDK node,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor headless-tests.js to individual test modules,FABN-73,14721,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,10/Feb/17 12:53 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,17/Feb/17 8:26 AM,,,,,,,,,,,0,,,,,"this file is getting very big with thousands of lines of code. it becomes increasingly difficult to code and debug with it.

should instead break it apart into separate ""test suites"" and group them together in a single folder dedicated to headless tests (those that don't require a target network to run)

it seems tape does not support test suite hierarchy (istanbul will not be able to find coverage information if a test module is required from another module). so the intended solution is to use a ""gulp"" task to launch it",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-309,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx65r:",,,,,,Sprint 11 - SDK node,Sprint 12 - SDK node,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js sdk CI verify (and others) job configuration change,FABN-74,15358,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,15/Mar/17 5:47 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,17/Mar/17 10:48 AM,,,,,,,,,,,0,,,,,"the latest change 7135 for TLS support moved the docker-compose.yaml to the primary location at test/fixtures instead of hiding it under the ""channel"" folder as a temporary measure",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx73z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Mar/17 6:35 AM;rameshthoomu;Patch has been submitted. In-review.;;;","17/Mar/17 10:48 AM;rameshthoomu;node sdk CI verify and merge jobs are now executing end-2-end (with TLS);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tests for https://gerrit.hyperledger.org/r/#/c/851/,FABN-75,12692,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,pmullaney,Clayton Sims,Clayton Sims,14/Sep/16 5:03 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,29/Sep/16 2:25 AM,,,,,,,,,,,0,node-SDK,,,,Chris Ferris /Gari merged 851 but in parallel suggested a task to be opened to add tests.,,Clayton Sims,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9bj:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/16 4:11 AM;pmullaney;Unit tests for chaincode events were added. See sdk/node/test/unit/event-tests.js;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - connection profile should handle URL/URI path,FABN-76,28927,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,27/Mar/18 9:40 PM,31/Jul/19 3:01 AM,28/Oct/23 3:25 AM,31/Jul/19 3:01 AM,,,,,,,Future,,,,1,,,,,NodeSDK should be able to load the configuration (connection profile) from a URL address or local file system. Attributes that contained within the configuration should also be able to be loaded from a URL or local file.,,davidkel,harrisob@us.ibm.com,paul.sitoh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-808,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3dz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,paul.sitoh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/18 1:21 AM;paul.sitoh;[~harrisob@us.ibm.com] for this task, what is the plan? Will you be introducing and new configuration parser – i.e. ./impl/NetworkConfig_1_1.js to replace existing ./impl/NetworkConfig_1_0.js?;;;","14/Apr/18 12:58 AM;harrisob@us.ibm.com;My plan would to enhance the current parser where the path attribute may be an url. Not sure that this type of change would require a new parser altogether and a new version on the file itself. 

Also please note that is not a priority item and I do not know when I would get to it. If you have time, you may contribute to the open source project.;;;","18/Apr/18 12:09 AM;paul.sitoh;[~harrisob@us.ibm.com] noted.

I'll experiment it on my fork version [https://github.com/paulwizviz/fabric-sdk-node]. Feel free to follow it.

I normally do it via a BDD style unit/smoke tests you can see here [https://github.com/paulwizviz/fabric-sdk-node/tree/release-1.1/test/bdd|https://github.com/paulwizviz/fabric-sdk-node/tree/release-1.1/test/bdd.] (this is only on my forked repo and won't be pushed to the hyperledger repo).

Anyway if I reach any point that I think maybe useful, I'll let you know. If you think I have made headway, I'll cherry-pick the changes to the main repo and you can advise me on how to then push to the hyperledger repo for contribution.;;;","31/Jul/19 3:01 AM;harrisob@us.ibm.com;Not Required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch to gulp for build and test scripts,FABN-77,12624,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,09/Sep/16 2:59 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Sep/16 9:52 PM,,,,,,,,,,,0,node-SDK,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9b3:",,,,,,Sprint 1,Sprint 2,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-server API changes,FABN-78,15244,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,smithbk,smithbk,08/Mar/17 1:02 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,15/Mar/17 3:53 AM,,,,,,,,,,,0,,,,,"The following change set makes 3 slight changes to the fabric-ca-server's APIs:
   https://gerrit.hyperledger.org/r/#/c/6943/

The changes are as follows:
{code}
1) To the *enroll* response
The response used to be:
   { ""result"": ""base-64-encoded PEM of ecert"" }
The response is now:
   { ""result"": {
          ""cert"": ""base-64-encoded PEM of ecert"",
          ""serverinfo"": {
                ""caname"": ""<name of the CA>"",
                ""cachain"": ""base-64-encoded PEM chain of signing CA""
          }
  }

2) To the register response
The field named ""credential"" was changed to ""secret""

3) The context root of all URLs is ""/api/v1/cfssl/"", but this prefix is no longer needed.  For example, change ""/api/v1/cfssl/enroll"" to ""/enroll"".   For now, both are recognized, but I'll remove the prefixed version in the future.
{code}",,rickr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5d3:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,rickr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/17 5:00 AM;rickr;java commited and done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add optional secret to registration request,FABN-79,15751,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,smithbk,smithbk,15/Apr/17 1:12 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,26/Apr/17 10:43 PM,,,,,,,v1.0.0,,,,0,,,,,"The REST API supports this via the additional ""Secret"" field in the RegistrationRequest as shown in fabric-ca/api/client.go:
{code}
        // Secret is an optional password.  If not specified,
        // a random secret is generated.  In both cases, the secret
        // is returned in the RegistrationResponse.
        Secret string `json:""secret,omitempty"" help:""The enrollment secret for the identity being registered""`
{code}",,ChristopherFerris,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-536,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4bb:",,,,,,Sprint 16 - SDK node,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Apr/17 10:15 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/8365/;;;","26/Apr/17 10:43 PM;jimthematrix;not sure why [~fennelD7] changed it from Done to TO DO. this was fixed and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk allows one GRPC connection for all transactions,FABN-80,24867,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,dongming,dongming,08/Dec/17 12:59 AM,25/Oct/19 3:01 AM,28/Oct/23 3:25 AM,25/Oct/19 3:01 AM,v1.0.0,,,,,,Future,,,,0,performance,sdk-triaged,Usability,,"To reduce overhead of GRPC connections, SDK Node should allow a client to open one GRPC connection and reuse it for many transactions, for one test. This would be similar to event hub connection. Creating individual GRPC connections for each transaction adds overhead and negatively impacts performance. Also, reference this issue opened with grpc team for some information about errors encountered when trying to use numerous grpc connections: [https://github.com/grpc/grpc/issues/12642]",,denyeart,dongming,harrisob@us.ibm.com,mlishok,scottz,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyqdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,dongming,harrisob@us.ibm.com,mlishok,scottz,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","14/Aug/19 1:43 AM;harrisob@us.ibm.com;being worked as part of the refactor of the low level NodeSDK. Will be included in the new package 'fabric-base'

https://gerrit.hyperledger.org/r/c/fabric-sdk-node/+/32889
;;;","25/Oct/19 3:00 AM;harrisob@us.ibm.com;The user will now be allowed to connect to the endpoint and then pass that connection to any number of endorsements or queries before closing the connection.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node Utilize TLS binding information and timestamp in eventhub registration messages,FABN-81,27206,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,wlahti,wlahti,30/Jan/18 1:45 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Feb/18 10:53 PM,v1.1.0,,,,,,v1.1.0,,,,0,,,,,"For the eventhub, the SDK must ensure that the following fields are set, depending on the TLS settings for the network:
 * non-TLS or server-side TLS: timestamp should be set in event registration message (not required in order to allow compatibility with v1.0)
 * mutual TLS: the TLSCertHash must be set in the event registration message. The TLS certificate hash to set is the SHA256 hash of the DER representation of the client's TLS certificate",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4824,,,,,,FABN-84,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuxr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Feb/18 10:53 PM;wlahti;This is being addressed via FAB-8563.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Release v1.0.8,FABN-82,30505,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,23/May/18 4:46 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,26/May/18 3:18 AM,,,,,,,v1.0.8,,,,0,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh v1.0.7  v1.0.8

create release_notes/v1.0.8.txt

update 3 package.json files with the release identifier

./package.json

    ""version"": ""1.0.7"",  -> ""version"": ""1.0.8"",

./fabric-ca-client/package.json

    ""version"": ""1.0.7"",  -> ""version"": ""1.0.8"",

./fabric-client/package.json

    ""version"": ""1.0.7"",  -> ""version"": ""1.0.8"",

 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-37,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzbpz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 4:52 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/22167/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - add Node.js v8 test case with async/await,FABN-83,20854,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,16/Sep/17 2:11 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,03/Oct/17 2:30 AM,,,,,,,v1.1.0,,,,0,node-SDK,,,,"Add a node.js specific test case that will take advantage of the new async / await to simplify the use of the promise based APIs for the application programmer. This will require the use of node.js version 8.

The test case will also include some memory usage reporting that may be charted.

The test case will also take a few heapdumps that may be analyzed by Chromes memory dev tools.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/17 2:30 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/13515/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node Utilize TLS binding information and timestamp in deliver service registration messages,FABN-84,24641,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jeffgarratt,jeffgarratt,01/Dec/17 1:53 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Feb/18 10:53 PM,v1.1.0,,,,,,v1.1.0,,,,0,,,,,"For the deliver service, the SDK must ensure that the following fields are set, depending on the TLS settings for the network:
 * non-TLS or server-side TLS: timestamp must be set in the envelope's channel header
 * mutual TLS: the TLSCertHash must be set in the envelope's channel header. The TLS certificate hash to set is the SHA256 hash of the DER representation of the client's TLS certificate",,jeffgarratt,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4824,,,,FABN-81,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyoyn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Feb/18 10:53 PM;wlahti;This is being addressed via FAB-8563.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide Identity Mixer crypto library for integration with with fabric-sdk-node,FABN-85,20053,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,dubovitskaya,dubovitskaya,09/Aug/17 6:57 PM,13/Jan/21 12:25 AM,28/Oct/23 3:25 AM,13/Jan/21 12:25 AM,Future,,,,,,Future,,,,0,external,idemix,sdk-triaged,,,,davidkhala,denyeart,dubovitskaya,Hangyu_FJH,huxd,lesleyannj,mdr,vjuge,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5672,FABC-630,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-689,,,,,,,,,"1|i00zll:06",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,denyeart,dubovitskaya,Hangyu_FJH,huxd,lesleyannj,mdr,vjuge,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Aug/17 12:21 AM;jimthematrix;from a quick chat with [~mdr], here's my understanding of the overall flow and the impact to the SDKs:

Overall flow is actually very similar to how TCert was done before, except that the client are not issued x.509 certificates, but instead idmixer credentials.
- client and server are configured to have the same CA root (same as before, although the CA root may not be represented as certificates, [~mdr]?)
- client enrolls with fabric-ca (to be enhanced to issue idmixer creds in lieu of ECerts)
- with the idmixer creds, client signs transactions in a zero-knowledge proof style so as to not reveal its identity
- the peer/orderer verifies the creator identity (using the same SerializedIdentity proto), and signature

Note that the peer and orderer will continue to sign with x.509 certificates. only the client's signatures are produced with idmixer.

What the SDKs need to do:
- support enrollment with fabric-ca to get idmixer creds
- implement MSPs for idmixer identities, so as to properly serialize identity bytes and sign
- support multiple MSP IDs for the same organization. It's currently the case, at least with node.js and Java SDK, that MSP IDs are equated to organizations. Now you may have ""org1MSP-x509"" and ""org1MSP-idmixer"" both belonging to the same organization

[~troyronda];;;","12/Aug/17 12:54 AM;mdr;Exactly [~jimthematrix]. Regarding the CA root, it is indeed not an x509 certificate but will have a different structure. We have a proto that defines the idemix msp config that we can use for that. ;;;","13/Jan/21 12:25 AM;lesleyannj;Backlog Review - Closing due to inactivity.  Can be re-opened if work starts again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adopt ES6 class construct for inheritance and pluggable implementations,FABN-86,12804,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,28/Sep/16 9:58 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,04/Oct/16 3:55 AM,,,,,,,,,,,0,node-SDK,,,,"After discussions with Gari and the community, we decided to adopt the native class support in ES6 which is supported by the node.js engine versions as of v4.3. As a result, we'll remove the self-rolled prototype based .extend() construct from all modules.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9a7:",,,,,,Sprint 2,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK] complete UT coverage for class member,FABN-87,12896,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,2020Nishi,jjjjibm,jjjjibm,05/Oct/16 4:00 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Oct/16 4:05 AM,,,,,,,v0.6,,,,0,node-SDK,,,,"See FAB-493 for more background on this task. 

This task covers adding test cases to complete UT coverage of class member.  This work was done by Nishi. ",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-28,FABN-38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx99r:",,,,,,Sprint 2,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK: Add e2e tests for private data,FABN-88,31285,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,wenjian,wenjian,wenjian,22/Jun/18 12:34 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,23/Jun/18 12:51 AM,,,,,,,v1.2.0,,,,0,node-sdk,,,,"Implement a new chaincode with private data in Node.js SDK test suite. Add e2e tests to test the following of the new chaincode:
 # implement chaincode with private data and create collections_config.json file
 # install and instantiate chaincode
 # invoke chaincode transaction to set private data
 # query private data in different collections

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jun/18 9:27 PM;wenjian;https://gerrit.hyperledger.org/r/#/c/23515/;;;","25/Jun/18 10:48 AM;wenjian;One more CR: https://gerrit.hyperledger.org/r/#/c/23559/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI jobs for new tests,FABN-89,23961,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,chrispoole,chrispoole,16/Nov/17 1:14 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,16/Nov/17 6:46 PM,,,,,,,,,,,0,fabric-sdk-rest,,,,"Tests have been updated, including authentication tests and ensuring TLS functionality works. Update CI jobs to correspond to these changes.",,chrispoole,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyn7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrispoole,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/17 6:47 PM;chrispoole;Fixed by Ramesh with change 15491.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - use multiple orderers,FABN-90,31041,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,14/Jun/18 3:29 AM,06/Sep/18 3:50 PM,28/Oct/23 3:25 AM,19/Jun/18 4:36 AM,,,,,,,v1.2.0,,,,0,,,,,The channel may have multiple orderers. The sendTransaction API should try the first one and then the next and so on until it succeeds in sending the transaction.,,harrisob@us.ibm.com,MariWade,RyanLe 2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzeq7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,MariWade,RyanLe 2,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/18 5:01 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23031/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove node.js engine restrictions from package.json,FABN-91,20347,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Aug/17 5:28 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,02/Nov/17 4:35 AM,,,,,,,,,,,0,,,,,"The engines.node properties are only advisory, no mandatory. we shouldn't use that to indicate the supported engine ranges. in addition, engine-strict and engineStrict properties have been removed from npm support already since 3.0.0.

in addition, we want to introduce support for node 8, in addition to 6 (until 6 goes end of life). as far as I know it's not possible to list discrete version ranges (skipping 7.x in b/w) with semver. so the next best solution is to just remove the ranges altogether.

note that we need to update the docs to reflect this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-94,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/17 4:36 AM;jimthematrix;note the it's actually possible to specify a range made up of discrete ranges:

{code}
"">=6.9.5 <7.0.0 || >=8.4.0""
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
new node-uuid released,FABN-92,13527,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,muralisr,muralisr,24/Nov/16 7:18 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,23/Feb/17 4:47 AM,,,,,,,,,,,0,,,,,"[~jimthematrix] [~mastersingh24] 

 a notification of a new *node-uuid* release (see  https://github.com/hyperledger/fabric/pull/14) in case we need to update. (thanks [~ChristopherFerris] )",,jimthematrix,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgtr:",,,,,,Sprint 12 - SDK node,,,,,,,,,,,,,,,,,,,,,,jimthematrix,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Feb/17 4:48 AM;jimthematrix;in fabric-sdk-node we don't make use of UUID so closing this task;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK support of Deliver service from peer,FABN-93,24034,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,wlahti,wlahti,21/Nov/17 12:24 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,19/Apr/18 2:20 AM,,,,,,,,,,,0,A&D,,,,,,jeffgarratt,wlahti,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7022,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzynlb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,wlahti,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/17 2:58 AM;jeffgarratt;Will... can we make these tasks off of the feature 7022 itself... because your work does NOT depend on these.  They are specific to the feature itself.  And make sure to make them tasks (Your A&D label is perfect!!);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add CI job to run parallel tests with node.js 8.4.x,FABN-94,20350,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,23/Aug/17 11:29 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,30/Aug/17 10:54 PM,,,,,,,v1.1.0,,,,0,,,,,"Node.js 8.4.x is in the ""current"" mode, which is leading up to the Long-Term Support (LTS) mode some time in October.

for 1.1 we'd like to introduce node 8 support in addition to node 6.9+

In order to do this (dual support for node 6 and 8), we'd like to ask for a new CI to be created that will run the entire test bucket ('gulp test') with node 8.4.x, in addition to the current job that uses node 6.9.x

While this may not be a huge deal for majority of the community at this point, this will make a huge difference for those who would like to take up node.js chaincode, which is only supported on node 8.4.0+. It would be a big headache (and honestly an irresponsible thing to do) to require them to write client-side code with node.js SDK for node.js 6.9 levels and write chaincode for node 8 levels.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-91,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/17 10:53 PM;rameshthoomu;Created  jobs for both 6.9.5 and 8.4.0 in fabric-sdk-node and 8.4.0 in fabric-chaincode-node.;;;","30/Aug/17 10:54 PM;rameshthoomu;[https://jenkins.hyperledger.org/view/fabric-sdk-node/]
https://jenkins.hyperledger.org/view/fabric-chaincode-node/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Enable mutual TLS on Connection Profile networks,FABN-95,28074,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,28/Feb/18 6:07 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,01/Mar/18 8:01 AM,,,,,,,v1.1.0,,,,0,must-fix,,,,"Have the fabric network run with mutual TLS. Update the test cases and docker compose to work with mutual TLS.

Will require updates to how the internal peer and orderer objects are built automatically for the user.",,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4824,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyz5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Feb/18 8:02 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/18087/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jenkins job for fabric-node-sdk repo,FABN-96,12733,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,24/Sep/16 6:49 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,18/Oct/16 12:56 PM,,,,,,,,,,,0,build-system,,,,we need a Jenkins job for fabric-node-sdk repo,,ChristopherFerris,jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8r3:",,,,,,Sprint 2,Sprint 3,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 10:52 PM;rameshthoomu;[~jjjjibm] please do let me know if need any help to create job in Jenkins.;;;","28/Sep/16 3:55 AM;jjjjibm;Chris, what exactly should the Jenkins job do? ;;;","11/Oct/16 10:11 PM;rameshthoomu;[~ChristopherFerris] [~jjjjibm] : I have created a new job in Jenkins for fabric-node-sdk-unit-tests on v0.6 branch. We will create a new job for fabric-node-sdk repo once it is functional.;;;","17/Oct/16 11:20 AM;rameshthoomu;Have submitted patch set in ci-management for this task. In-review https://gerrit.hyperledger.org/r/#/c/1807/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protobuf change: ChaincodeSpec ctorMsg to input,FABN-97,14154,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,18/Jan/17 9:42 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,09/Feb/17 12:40 AM,,,,,,,,,,,0,,,,,https://gerrit.hyperledger.org/r/#/c/4111/1/protos/peer/chaincode.proto,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx77b:",,,,,,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - be able to manage multiple event hubs concurently ,FABN-98,14595,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,08/Feb/17 1:16 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Mar/18 2:13 AM,,,,,,,Future,,,,0,node-SDK,,,,"When working with multiple endorsing peers it is important to know when all have completed a transaction in order to attempt an additional endorsing action that requires the completion of that transaction. 

Should we give back an array of event hubs automatically 
Should users ask for a specific event hub for each peer
Should users be more tolerant of proposal errors and resubmit

SDK will have to be able to manage the lifecycle of multiple event hubs from creation, connecting, and disconnecting. ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx75b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add tests for chaincode-invoke-chaincode scenario,FABN-99,12588,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,rameshthoomu,rameshthoomu,01/Sep/16 3:40 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Mar/18 2:11 AM,,,,,,,Future,,,,0,,,,,"After running node-sdk-unit-tests, chaincode_example02 directory is altering with chaincode_example02 binary and chaincode_example02.log file. In result, TestChaincodeInvokeChaincode unit-test is failing as the hash value is changing in chaincode_example04.go file.

*Before running node-sdk-unit-tests*
vagrant@hyperledger-devenv:v0.0.10-0ba14a5:/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02$ ls

chaincode_example02.go  chaincode_example02_test.go

*After running node-sdk-unit-tests*
vagrant@hyperledger-devenv:v0.0.10-0ba14a5:/opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02$ ls

chaincode_example02  chaincode_example02.go  chaincode_example02.log  chaincode_example02_test.go

_{color:#707070}Untracked files:

 (use ""git add <file>..."" to include in what will be committed)
       examples/chaincode/go/asset_management/asset_management
       examples/chaincode/go/asset_management_with_roles/asset_management_with_roles
       examples/chaincode/go/chaincode_example02/chaincode_example02
       membersrvc/ca/.ca/
rameshthoomu@IBM450-R90AL4EM MINGW64 /c/Go/src/github.com/hyperledger/fabric ((d85b45e...))
$ git{color}_",,binhn,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4av:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,binhn,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Sep/16 5:30 AM;rameshthoomu;Please see the failed unit-test log file.. https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/773/console;;;","05/Oct/16 8:33 AM;rameshthoomu;[~angrbrd]: Any update on this issue. ChainCode ID is modifying after running Node-SDK tests first.;;;","19/Apr/17 6:50 AM;binhn;[~rameshthoomu]  This seems to be outdated as we no longer use hash. Please recheck;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-implement node.js SDK in pure CommonJS module without TypeScript,FABN-100,12697,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,15/Sep/16 11:58 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,28/Sep/16 9:52 PM,,,,,,,,,,,0,node-SDK,,,,using  TypeScript adds complexity to the contributor's environment setup and build setup that are not warranted. Using javascript techniques like prototypal inheritance we can make the code base extensible and pluggable.,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,288000,172800,,0%,288000,172800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9av:",,,,,,Sprint 1,Sprint 2,,,,,,,,,8.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabriccopservices-tests.js needs to be updated to work with default fabric-ca image,FABN-101,13999,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,11/Jan/17 2:24 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Mar/17 1:54 PM,,,,,,,,,,,0,help-wanted,,,,"the default image does not have the ""testUser"" account",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an Org to a channel,FABN-102,18638,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sandp125,sandp125,sandp125,24/Jun/17 5:59 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Jul/18 3:23 AM,v1.0.0,,,,,,v1.0.0,,,,0,quality,,,,"+Test Name+:  Add an Org to a channel

+Component+:  channel, configtxlator, fabric-sdk-node

+Description+: Here are the test steps: 

1. Get the config block for the channel
 2. Translate the block into JSON via `{{configtxlator}}` and extract the `{{config}}` section.
 3. Make a copy of this section, and edit it to add your new org.
 4. Encode both the extract config, and the updated config to proto using `{{configtxlator}}`
 5. Have `{{configtxlator}}` compute the `{{ConfigUpdate}}` based on the two config objects you just produced
 6. Collect signatures over this `{{ConfigUpdate}}` and submit to ordering as a config update transaction

+Artifact Locations+: 

Test scripts program can be found at https://github.com/sandp125/FabricNodeAPI_V1

+Network Topology:+ basic e2ecli network of 1 ""solo"" orderer, 2 organizations with 2 peers each.

+Client Driver:+  

+Input+:   

+Output+: 
  ",,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5mf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
npm publish of fabric-sdk-rest modules during CI builds,FABN-103,20995,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,MartinC,MartinC,26/Sep/17 7:34 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Oct/17 4:19 AM,,,,,,,,,,,0,fabric-sdk-rest,,,,"The approach here is based upon what was done for fabric-sdk-node in -FAB-2802-

This task describes a technique that uses source code commits to automatically trigger release publishing:

what the CI job needs to do:
 - on every commit merge to the master branch, find the version from fabric-rest/package.json and loopback-connector-fabric/package.json
 - if the version number has ""-snapshot"" in the end, it's not a release, it should publish to the ""unstable"" stream like follows:
 -- use ""npm dist-tags ls <pkg>"" command to discover the current published version of the ""unstable"" stream, say ""n.m.p-snapshot.s""
 -- check to see if the local version string match the online version
 --- if matching, for instance local version is ""n.m.p-snapshot"", it means we are still in the same release stream
 ---- update the version string in package.json locally to ""n.m.p-snapshot.s+1""
 --- if not matching, for instance local version is ""n.k.p-snapshot"", it means we have entered a new release stream and this will be the first snapshot revision for the new stream
 ---- update the version string in package.json locally to ""n.k.p-snapshot.1""
 --- npm publish --tag=unstable
 - if the version number does not have ""-snapshot"" suffix, it's a release. perform the release publishing actions, by running ""npm publish"" in both fabric-rest and loopback-connector-fabric folders. Note that this assumes that the version string for both packages have been updated in package.json in the source code
 - note that the release string may have other suffix like ""1.0.0-alpha"", which is a release version. On the other hand, ""1.0.0-alpha-snapshot"" is also a legitimate version and is not a release version

what a committer needs to do for a release:
 - create a CR that updates the version in both package.json files under fabric-rest and loopback-connector-fabric folders (not the one under the project root, that file has no bearings on the npm publish). ensure that the version of the two packages are identical. the version for the release should not have the ""-snapshot"" suffix and obeys the semver rules
 - create a 2nd CR that bumps the version and adds back the ""-snapshot"" suffix
 - create a tag corresponding to the commit level of the first CR (that has the change for the release version)",,chrispoole,MartinC,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyh93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrispoole,MartinC,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/17 4:19 AM;rameshthoomu;patch has been submitted and merged. See the fabric-rest npm modules here https://www.npmjs.com/package/fabric-rest;;;","10/Oct/17 5:33 PM;chrispoole;Awesome—thanks [~rameshthoomu].;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - update readmenow doc ,FABN-104,12459,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 8:37 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Sep/16 4:08 AM,,,,,,,,,,,0,node-SDK,,,,"Doc updates to include
  -- restructure to have audience flow
      --- Node app programmer
      --- Chain code programmer
      --- Node SDK programmer

  -- indicate versions required on all prerequisites 
  -- indicate exact changes in all configuration files (locations and full settings)
  -- indicate exact commands to load docker images and start the ""Hello World"" 
       --- will have to include commands specific to Windows, Mac, Linux 
  -- indicate how to install Node SDK and create API docs
  -- all links should be relative links and working ",,harrisob@us.ibm.com,nickgaski,rameshthoomu,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-707,,,,,,,,,,,,,,,,,,,FABN-124,,,,,"23/Aug/16 11:09 PM;smithbk;app-developer.zip;https://jira.hyperledger.org/secure/attachment/10039/app-developer.zip",,,,,,,,,,,,,,,,,,,FABN-690,,,,,,,,,"1|hzx99z:",,,,,,Sprint 1,Sprint 2,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,nickgaski,rameshthoomu,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 11:18 PM;smithbk;I added app-developer.zip which should go at fabric/docs/app-developer and contains all (or most) application developer related docs.

The missing pieces are:
1) A docker image for the client SDK
2) Build the fabric/sdk/node/doc info (as done by fabric/sdk/node/makedoc.sh) and include in the readme docs.  Need Ramesh to help here.;;;","24/Aug/16 3:12 AM;rameshthoomu;I have build node sdk documentation for the above readme documents. Please see the reference here http://169.53.62.117/nodesdkdocs/site/app-developer/app-developer-env-setup/ (this is a temporary place to host documentation) soon we are moving to new fabric docs url. 

formatting is required to most of the docs in app-developer folder. also, I see below error while building documentation 

WARNING -  The page ""app-developer\node-sdk.md"" contained a hyperlink to ""app-developer\dev-setup\devenv.md"" which is not listed in the ""pages"" configuration. -- *Correct the path of the devenv.md file..*

Please share the updated documentation to build and deploy..;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric/docs/nodeSDK to fabric-sdk-node repository,FABN-105,13168,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,25/Oct/16 11:48 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Nov/16 12:17 AM,,,,,,,,,,,0,node-SDK,,,,"As a subtask of FAB-782, we will put fabric nodeSDK doc into the new fabric-sdk-node repository, temporarily leaving nodeSDK in fabric until we determine if the community will accept the way that this changes the docs.  Each repository is a separate read-the-docs, so there will need to be a link in the hyperledger doc to the node sdk read-the-docs.",,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-782,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdmv:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,2.0,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/16 3:05 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/2073 is merged;;;","02/Nov/16 3:11 AM;cdaughtr;Next, remove files and make changes to link to http://fabric-sdk-node.readthedocs.io/en/latest/.;;;","04/Nov/16 12:41 AM;cdaughtr;http://gerrit.hyperledger.org/r/2223 is merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move intro and tutorials out of fabric-sdk-node into fabric/docs,FABN-106,19972,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,jimthematrix,jimthematrix,05/Aug/17 11:21 AM,16/Jun/20 5:19 PM,28/Oct/23 3:25 AM,16/Jun/20 5:19 PM,,,,,,,Future,,,,0,external,sdk-triaged,,,"Background (Rocket.Chat): 8/4/2017
Chris Ferris: I think that we should use a consistent approach for our documentation. That means for fabric using RST and RTD for tutorials and other prose, and linking to language specific API documentation (jsdoc, javadoc, godoc, etc) from that
I don't think that we should be using a different scheme
because we will soon be translating and we cannot be all over the map with how we deliver docs so that the translation process can be consistently applied across projects
and also so that the release process is consistent
this also makes it easier for people to engage in helping to write the documentation without having to use different skills/tools across the various repos

Jim Zhang: ok that makes sense, we have one prose (intro page) and one tutorial so far (creating channel), both specific to node.js SDK, that we can move out of jsdoc into RST/RTD, we should move them out of fabric-sdk-node and into fabric/docs",,bestbeforetoday,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyc33:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bestbeforetoday,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","16/Jun/20 5:19 PM;bestbeforetoday;I think things have moved on far enough that this issue is no longer relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add changelog.sh to fabric-sdk-node,FABN-107,16696,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/May/17 12:47 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,13/May/17 1:24 AM,v1.0.0-alpha1,,,,,,v1.0.0-alpha2,,,,0,build-system,,,,add changeling.sh to fabric-sdk-node,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv4f:",,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/17 12:55 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9293/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Removing an Org from Channel,FABN-108,18639,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,sandp125,sandp125,sandp125,24/Jun/17 6:02 AM,13/Jan/21 12:27 AM,28/Oct/23 3:25 AM,13/Jan/21 12:27 AM,v1.0.0,,,,,,Future,,,,0,external,quality,sdk-triaged,,"+Test Name+:  Add an Org to a channel

+Component+:  channel, configtxlator, fabric-sdk-node

+Description+: Here are the test steps: 

1. Get the config block for the channel
 2. Translate the block into JSON via `{{configtxlator}}` and extract the `{{config}}` section.
 3. Make a copy of this section, and remove the org.
 4. Encode both the extract config, and the updated config to proto using `{{configtxlator}}`
 5. Have `{{configtxlator}}` compute the `{{ConfigUpdate}}` based on the two config objects you just produced
 6. Collect signatures over this `{{ConfigUpdate}}` and submit to ordering as a config update transaction

+Artifact Locations+: 

Test scripts program can be found at https://github.com/sandp125/FabricNodeAPI_V1

+Network Topology:+ basic e2ecli network of 1 ""solo"" orderer, 3 organizations with 2 peers each.

+Client Driver:+  

+Input+:   

+Output+: 
  ",,ibmamnt,lesleyannj,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00zll:09",,,,,,,,,,,,,,,,,,,,,,,,,,,,ibmamnt,lesleyannj,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/18 1:26 PM;ibmamnt;Hello, quick question. Is Removing an org from channel possible ?;;;","10/Dec/20 9:49 PM;lesleyannj;[~sandp125] We are reviewing the backlog.  Is this task still applicable?  If yes, what is the current status?;;;","13/Jan/21 12:27 AM;lesleyannj;Backlog Review - Closing due to inactivity.  Can be re-opened if work starts again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pull node.js SDK out of Fabric into a standalone project,FABN-109,12623,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,09/Sep/16 2:57 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Sep/16 3:37 AM,,,,,,,,,,,1,node-SDK,,,,,,ChristopherFerris,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,86400,28800,,0%,86400,28800,,,,,,,,,,,,,,,,,,,,,,,,,FABN-43,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxau7:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/16 10:50 PM;mastersingh24;I like this proposal although it will get a little tricky in terms of keeping things in sync.

We'll need to decide how we run CI between the core fabric and the SDKs, although my assumption will be that we'll have release branches / tags which should make things easier.

We can also include test cases in fabric which use the SDK like an end user would (e.g. npm install) rather than building, etc.

We should probably also consider having a trigger from the core fabric to the SDK repo for CI as well.;;;","19/Sep/16 9:38 PM;ChristopherFerris;+1 to [~mastersingh24] comments, However, we should be testing against published fabric-peer/fabric-membersrvc images and vice-versa. What we need is to have stability of the exposed APIs between the two (well any SDK and fabric peer/membersrvc).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - add tutorial on using the logging,FABN-110,30991,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Jun/18 5:33 AM,19/Oct/18 7:20 PM,28/Oct/23 3:25 AM,13/Jun/18 12:22 AM,,,,,,,v1.2.0,,,,0,,,,,"Add a tutorial on how to use the logging.

How to change the settings to have debug logging. How to get the logger if an application wishes to use it.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzejj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add eslint to fabric-sdk-node,FABN-111,12809,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,ChristopherFerris,ChristopherFerris,29/Sep/16 2:44 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,04/Oct/16 3:55 AM,,,,,,,,,,,0,build-system,node-SDK,,,add eslint to fabric-sdk-node and perform initial linting,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9an:",,,,,,Sprint 2,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/16 10:30 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1357/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update fabric-ca-services-tests to tolerate ENETUNREACH,FABN-112,30569,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,wenjian,wenjian,24/May/18 8:33 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,24/May/18 9:28 PM,,,,,,,v1.2.0,,,,0,,,,,The fabric-ca-services-tests.js has a negative test with a non-routable endpoint ('http://10.255.255.1:3000'). Verification build sometimes returns ENETUNREACH error instead of connection timeout. This is probably due to the routing/gateway configuration on the build machine. Update the test to tolerate ENETUNREACH. ,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzc1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/May/18 8:53 PM;wenjian;[https://gerrit.hyperledger.org/r/#/c/22239/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test SDK with Node v8.0.0,FABN-113,17425,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,03/Jun/17 5:56 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,03/Jun/17 5:56 PM,v1.0.0,v1.0.0-beta,,,,,v1.0.0,,,,0,,,,,"Node.js v8.0.0 was recently released and while we don't claim support for it, I'm sure some people will try it.  This task is to run a smoke test and then capture any issues.  ",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxykn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/17 5:57 PM;mastersingh24;Ran
{noformat}
gulp test{noformat}
using Node.js v8.0.0 and npm v5.0.0 with no issues;;;","03/Jun/17 5:58 PM;mastersingh24;[~jimthematrix] - FYI;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add integration test to upgrade chaincode with state changes,FABN-114,19294,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,17/Jul/17 10:18 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,19/Jul/17 7:18 PM,,,,,,,v1.0.1,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8nb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jul/17 4:00 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/11701/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - create sample node.js stand-alone application to showcase the Node SDK APIs,FABN-115,12464,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 9:02 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Sep/16 4:09 AM,,,,,,,,,,25/Aug/16 12:00 AM,0,getting-started,node-SDK,,,"Take the sample standalone application that is included in the documentation attached to  FAB-160 and include this under directory fabric/examples/sdk/node/standalone (or something similar).  This sample needs to be tested.

The following suggested enhancements are copied from FAB-143 (which is closed as a duplicate to this):
1) enrolls a bootstrap ID ('admin'),
2) sets registrar,
3) registers and enrolls a new ID
4) deploys, queries, and invokes using the new ID. It should deploy one of our samples by URL.
",,Clayton Sims,harrisob@us.ibm.com,jimthematrix@gmail.com,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-707,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-691,,,,,,,,,"1|hzxb87:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,harrisob@us.ibm.com,jimthematrix@gmail.com,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 11:40 PM;smithbk;This is related to FAB-160.  I included the following standalone application sample in the app-developer.zip attached to FAB-160.  I think this is much simpler than a REST-based app and also will not mislead users to think that a simple REST-based app would be secure.   Here is the standalone app.

/*
* A simple application utilizing the Node.js Client SDK to:
* 1) Enroll a user
* 2) User deploys chaincode
* 3) User queries chaincode
*/
// ""HFC"" stands for ""Hyperledger Fabric Client""
var hfc = require('/opt/gopath/src/github.com/hyperledger/fabric/sdk/node');

var chain, user, chaincodeID;

// Create a chain object used to interact with the chain.
// You can name it anything you want as it is only used by client.
chain = hfc.newChain(""mychain"");
// Initialize the place to store sensitive private key information
chain.setKeyValStore( hfc.newFileKeyValStore('/tmp/keyValStore') );
// Set the URL to membership services and to the peer
chain.setMemberServicesUrl(""grpc://localhost:7054"");
chain.addPeer(""grpc://localhost:7051"");
// The following is required when the peer is started in dev mode
// (i.e. with the '--peer-chaincodedev' option)
chain.setDevMode(true);

// Begin by enrolling the user
enroll();

// Enroll a user.
function enroll() {
  console.log(""enrolling user admin ..."");
  // Enroll ""admin"" which is preregistered in the membersrvc.yaml
  chain.enroll(""admin"", ""Xurw3yU9zI0l"", function(err, admin) {
     if (err) {
        console.log(""ERROR: failed to register %s: %s"",err);
        process.exit(1);
     }
     user = admin;
     deploy();
  });
}

// Deploy chaincode
function deploy() {
  console.log(""deploying chaincode; please wait ..."");
  // Construct the deploy request
  var req = {
      chaincodeName: 'mycc',
      fcn: ""init"",
      args: [""a"", initA, ""b"", initB]
  };
  // Issue the deploy request and listen for events
  var tx = user.deploy(req);
  tx.on('complete', function(results) {
      // Deploy request completed successfully
      console.log(""deploy complete; results: %j"",results);
      // Set the testChaincodeID for subsequent tests
      chaincodeID = results.chaincodeID;
      query();
  });
  tx.on('error', function(err) {
      console.log(""Failed to deploy chaincode: request=%j, error=%j"",req,err);
      process.exit(1);
  });

}

// Query chaincode
function query() {
  console.log(""querying chaincode ..."");
  // Construct a query request 
  var req = {
     chaincodeID: chaincodeID,
     fcn: ""query"",
     args: [""a""]
  };
  // Issue the query request and listen for events
  var tx = user.query(req);
  tx.on('complete', function (results) {
     console.log(""query completed successfully; results=%j"",results);
     process.exit(0);
  });
  queryTx.on('error', function (err) {
     console.log(""Failed to query chaincode: request=%j, error=%j"",req,err);
     process.exit(1);
  });
};;;","25/Aug/16 1:25 PM;jimthematrix@gmail.com;[~harrisob@us.ibm.com] please make sure to get the doc updated to mention this new sample once completed coding and testing.;;;","25/Aug/16 10:46 PM;Clayton Sims;Bret can we mark this complete, per yesterdays discussion?
 ;;;","25/Aug/16 11:48 PM;smithbk;Don't think you should mark complete until it is committed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add license check to fabric-sdk-node repo,FABN-116,16353,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/May/17 9:23 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,07/Apr/18 6:03 PM,v1.0.0-alpha1,,,,,,v1.2.0,,,,0,,,,,see FAB-3674 for description,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,FAB-3674,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx47b:",,,,,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 8:34 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/20235;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Demonstrate writing app for HA and backend fault tolerance,FABN-117,19223,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,Ratnakar,jimthematrix,jimthematrix,13/Jul/17 5:49 AM,16/Jan/20 10:31 PM,28/Oct/23 3:25 AM,16/Jan/20 10:31 PM,v1.0.0,,,,,,Future,,,,0,external,sdk-triaged,,,"Demonstrate with sample code and documentation how to:

- write fabric apps using node.js SDK with HA (multiple app instances)
- write fabric apps using node.js SDK that can tolerate crashes in peer nodes and orderer nodes",,fredbi,heatherp,mplisov,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy87b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,fredbi,heatherp,mplisov,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:36 AM;heatherp;Hi [~Ratnakar] - I've been working through the node sdk backlog with the maintainers and we're wondering: is this still in progress?;;;","16/Jan/20 10:31 PM;heatherp;Hi [~Ratnakar] I'm closing this off as we haven't heard back since October - feel free to reopen if it's something you plan on completing, thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the node sdk verify job to run the full test suite,FABN-118,15280,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,09/Mar/17 12:52 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,15/Mar/17 4:09 AM,,,,,,,,,,,0,,,,,"`gulp test` now works properly against the network launched with test/fixtures/channel/docker-compose.yaml

we should update the verify CI to run this instead of the minimal headless bucket only.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnof:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Mar/17 4:09 AM;rameshthoomu;Patch has been submitted and merged. now node verify and merge jobs are executing `gulp test` command which executes headless and e2e tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Get config block from peer,FABN-119,28094,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,01/Mar/18 3:39 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,05/Mar/18 2:59 PM,,,,,,,v1.1.0,,,,0,,,,,Users may not always be authorized to read from the orderer when they are initializing the channel object with an existing channel. Get the config block from their peer instead to initialize the channel object.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyz8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Mar/18 3:46 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18537/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK unit and integration tests must all pass/test harness support,FABN-120,15695,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,pmullaney,pmullaney,12/Apr/17 6:13 AM,01/May/19 1:22 AM,28/Oct/23 3:25 AM,01/May/19 1:22 AM,v1.0.0,,,,,,Future,,,,0,,,,,"Its confusing to end users what is a valid test and often these are the only examples end users use. Ideally, the requirements of running the tests should be captured in a test harness (fabric setup) that drives the tests. If that existed, it would be easy to determine which tests were currently enabled and should be considered valid. Numerous error messages that are not errors need to be surpressed to avoid useless investigation(See attachment).

",,harrisob@us.ibm.com,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/17 3:47 AM;pmullaney;errors-sdk.txt;https://jira.hyperledger.org/secure/attachment/10671/errors-sdk.txt",,,,,,,,,,,,,,,,,,,FAB-3095,,,,,,,,,"1|hzx765:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Apr/17 1:30 PM;jimthematrix;[~pmullaney] not sure I understand the requirement, are you referring to the fact that Tape() mix test setup/teardown into the test code itself?;;;","18/Apr/17 2:35 AM;pmullaney;I might just not be aware of an existing mechanism but I'd like to see something like the v0.6 script that automated the fabric setup prior to then running the tests. I think ""gulp test"" current captures an ordering of a subset of the tests such that they pass. I think the readme is confusing in this area as it doesn't mention that and then suggests that tests can be run individually.;;;","04/May/17 6:23 AM;jimthematrix;I'm turning this to a task for future investigation;;;","01/May/19 1:22 AM;harrisob@us.ibm.com;migrating to mocha and cucumber tests;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - create client and chain Docker image,FABN-121,12461,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 8:49 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,27/Sep/16 3:38 AM,,,,,,,,,,,1,getting-started,node-SDK,,,"Docker image(s) to be able to have a complete end to end configuration
    --- member services
    --- a single peer (with security enabled)
    --- installed sample chaincode

Goal is to have the user go through the following steps to easily get a taste of the Hyperledger:
1. copy/paste a docker-compose.yaml file content in documentation, create a file and fire up ""docker-compose up""
2. docker exec -it <instanceId> /bin/bash to open a command terminal inside the docker instance containing the SDK and CLI
3. use ""hfc"" command to deploy a chaincode, invoke it and query state data",,harrisob@us.ibm.com,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-707,,,,,,,,,,,,,FABN-712,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-691,,,,,,,,,"1|hzxatz:",,,,,,Sprint 1,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 1:30 PM;jimthematrix@gmail.com;[~harrisob@us.ibm.com] please make sure corresponding doc is updated (in prominent sections) to mention this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add duplicate check to SDK addPeer(peer) function,FABN-122,13929,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,05/Jan/17 8:05 AM,28/Feb/19 5:21 AM,28/Oct/23 3:25 AM,08/Mar/17 1:53 PM,,,,,,,,,,,1,help-wanted,,,,"The Class “Chain.js”  has the function “addPeer(peer)”.
As of now, “addPeer (peer)” only adds a new Peer object to Chain object.
In order to avoid the error when adding the peer which already exists, duplication check is needed before adding a new Peer.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1167,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxggv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Feb/17 1:21 AM;yuki-kon;merged: https://gerrit.hyperledger.org/r/#/c/3677/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken test cases due to CryptoSuite impl change,FABN-123,14994,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Feb/17 1:30 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,23/Feb/17 4:40 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx73b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Improve the API Docs,FABN-124,12311,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,bmos299,bmos299,11/Aug/16 4:54 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,11/Apr/17 9:49 PM,,,,,,,v0.6,,,,0,node-SDK,,,,"In the SDK can we:

1. add descriptions for every parameter
2. have more samples 
3. Not have to force the user to do a make to get the docs:
This issue is previously raised here https://github.com/hyperledger/fabric/issues/2196.
 
Copied from FAB-220:
The task is to:
1) Investigate other tools other than typedoc to generate documentation from typescript source.
2) If a better tool is not found, investigate how to better use typedoc. Are there other options we should use other than what makedoc.sh currently specifies?
",,bmos299,ChristopherFerris,nickgaski,Ratnakar,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-220,,,FABN-104,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxabz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,ChristopherFerris,nickgaski,Ratnakar,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 11:43 PM;smithbk;Also see FAB-160.;;;","03/Apr/17 11:07 PM;ChristopherFerris;I believe that this can be closed. Please correct me if I am mistaken. [~jimthematrix];;;","11/Apr/17 9:49 PM;ChristopherFerris;closed this as I believe it was for v0.6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test failed in z390 CI build due to timing issues caused by mixed promises,FABN-125,15363,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,16/Mar/17 1:01 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,17/Mar/17 8:54 AM,,,,,,,,,,,0,,,,,the test/integration/query.js has a lot of promise chains that get tangled together that caused the execution of the test suite to be sensitive to timing. as a result the same code was successful in x86 build but fails in z390 build. and in theory it could fail from time to time in x86 as well.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-383,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx747:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node test references private repo,FABN-126,27462,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jyellick,jyellick,jyellick,07/Feb/18 1:53 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,07/Feb/18 5:17 PM,,,,,,,v1.1.0,,,,0,,,,,"There is a link in the node test code to a private repository which is a clone of fabric, this should be removed.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyw8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/18 2:07 AM;jyellick;In review via: https://gerrit.hyperledger.org/r/c/17591/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getUserContext() should resolve null when user was not found,FABN-127,13900,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,inatatsu,inatatsu,30/Dec/16 5:19 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Feb/17 10:20 PM,v1.0.0,,,,,,,,,,0,node-SDK,quality,,,Client.getUserContext() should resolve null when the given user name was not found in the local state store.,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgcv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/17 10:20 PM;jimthematrix;[~inatatsu] please review the latest code and let us know if there are still situations where proper values are not returned;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK]  https://github.com/hyperledger/fabric-sdk-node  fabric documentation link points to nonexistent page,FABN-128,15072,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 3:33 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Mar/17 3:22 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"https://github.com/hyperledger/fabric-sdk-node

The first readme page *{color:#205081}Hyperledger Fabric Client SDK for Node.js
{color}* contains a dead link.

In this sentence
As an application developer, to learn about how to install and use the Node.js SDK, please visit the {color:#59afe1} fabric documentation{color}. 

the words {color:#59afe1}fabric documentation {color}are a hyperlink to
 {color:#59afe1}http://hyperledger-fabric.readthedocs.io/en/latest/Setup/NodeSDK-setup 
{color}.  However, when you click the link, this is displayed;


        \          SORRY            /
         \                         /
          \    This page does     /
           ]   not exist yet.    [    ,'|
           ]                     [   /  |
           ]___               ___[ ,'   |
           ]  ]\             /[  [ |:   |
           ]  ] \           / [  [ |:   |
           ]  ]  ]         [  [  [ |:   |
           ]  ]  ]__     __[  [  [ |:   |
           ]  ]  ] ]\ _ /[ [  [  [ |:   |
           ]  ]  ] ] (#) [ [  [  [ :===='
           ]  ]  ]_].nHn.[_[  [  [
           ]  ]  ]  HHHHH. [  [  [
           ]  ] /   `HH(""N  \ [  [
           ]__]/     HHH  ""  \[__[
           ]         NNN         [
           ]         N/""         [
           ]         N H         [
          /          N            \
         /           q,            \
        /                           \




How to recreate:
1.Clone fabric-sdk-node
2.gulp doc to generate doc
3.python -m SimpleHTTPServer &
4.In Firefox, <your IP address>:8000
5.Click docks->gen

OR visit url in issue title
Readme appears ","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - timeout setting not being passed,FABN-129,20904,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,19/Sep/17 11:40 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,03/Oct/17 2:30 AM,v1.1.0,,,,,,v1.1.0,,,,0,,,,,The timeout setting is not being passed from external API sendTransactionProposal() method to the internal sendTransactionProposal() method.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/17 2:29 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/13613/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen  documented but not implemented,FABN-130,15115,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,01/Mar/17 4:15 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,,,,,"In my review of generated documentation I see  a couple functions which are documented, but not implemented.  Here is an example from class Chain.

updateChain()

    Calls the orderer(s) to update an existing chain. This allows the addition and deletion of Peer nodes to an existing chain, as well as the update of Peer certificate information upon certificate renewals.

    Returns:

    Whether the chain update process was successful.

    Type
        boolean 

I was surprised to see no input parameters, so I looked at the code.

**
	 * Calls the orderer(s) to update an existing chain. This allows the addition and
	 * deletion of Peer nodes to an existing chain, as well as the update of Peer
	 * certificate information upon certificate renewals.
	 * @returns {boolean} Whether the chain update process was successful.
	 */
	updateChain() {
		//to do
	}

As you can see, it is not actually implemented. 

Here is an example of an unimplemented function which could actually be harmful:

isReadonly() {
		return false;//to do
	}

A user might trust the result of this function call, not realizing it has not actually been implemented.  

Possible solutions for 'to do' functions:
 - implement all 'todo' methods before code cut-off
 - throw new Error(""this function is not fully implemented yet"") until method is implemented. 
 -  log.error('Method x is not yet implemented');  until method is implemented


","fabric-sdk-node commit d3fcbe2299c840dfd7886076b009b88eb25a7dd8
fabric commit a0d032bc5c4853b43972163f502a03ee7770c1d5
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK error when running SideDB,FABN-131,30791,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,dongming,dongming,01/Jun/18 3:29 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,08/Jun/18 10:35 AM,v1.2.0,,,,,,v1.2.0,,,,0,,,,,"When running sideDB using 

├─┬ fabric-ca-client@1.2.0-snapshot.50
├─┬ fabric-client@1.2.0-snapshot.50

 

 wwith ""blockToLive"" set to 3 in the collection config json, see the following error message:

error: [SideDB.js]: Error: CollectionConfig Requires Param ""blockToLive"" of type unsigned int64, found 3(type: number)",,denyeart,dongming,harrisob@us.ibm.com,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10134,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzdin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,dongming,harrisob@us.ibm.com,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jun/18 5:17 AM;harrisob@us.ibm.com;Problem is with the greater than max check. Will remove the check and replace with a check that will validate the parsing of the value, if the value parses to the same string user has provide then it is a valid number and within the range allowed.;;;","06/Jun/18 5:29 AM;denyeart;[~harrisob@us.ibm.com] You can make blockToLive optional from client.  And if not passed by client set it to 0 which implies never purge.;;;","07/Jun/18 11:41 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/22859/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add a new test case that uses configtxgen output for creating channels,FABN-132,16166,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,03/May/17 4:05 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/May/17 2:05 PM,,,,,,,,,,,0,,,,,in parallel to the create-channel.js that creates the channel from JSON input,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Lint errors in fabric-sdk-node builds,FABN-133,31286,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,rameshthoomu,rameshthoomu,22/Jun/18 2:30 PM,19/Mar/19 8:12 PM,28/Oct/23 3:25 AM,14/Jul/18 2:58 AM,v1.2.0,,,,,,v1.3.0,,,,0,ci-failure,,,,"Observed many **lint** errors in fabric-sdk-node builds. Please see the fabric-sdk-node build job.

*sdk-node commit# 9375d2*

*Build Log:*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/35/console.log.gz",,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/18 2:58 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/24381/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make e2e test run from any directory,FABN-134,15574,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jimthematrix,jimthematrix,05/Apr/17 1:06 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,13/Apr/17 4:49 AM,v1.0.0,,,,,,v1.0.0,,,,0,,,,,right now due to file path handling issues the e2e test can only successfully run from the project root.,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4bz:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/17 1:52 AM;jjjjibm;$ git log -1
commit 3f9fa0675f8ec48d58f68409d3d3c0d3a0cbbae9
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Tue Apr 11 12:46:19 2017 -0400

    node-SDK FAB-2994 make e2d test run from any directory

    I changed the pathname of mychannel.tx such that it is now
    calculated relative to __dirname, and normalized.

    Change-Id: I1f4eda2762b06e6d8aeef2a1dc85d9c35e19093d
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>

;;;","12/Apr/17 1:53 AM;jjjjibm;https://gerrit.hyperledger.org/r/#/c/7939/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"node-sdk test on Mac machine: Checking: for valid PIN failed with ::Error: dlopen(/temp, 1): image not found",FABN-135,21800,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,12/Oct/17 7:51 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,07/Mar/18 5:31 AM,v1.1.0-alpha,,,,,,,,,,0,,,,,"node-sdk  gulp test failed on Mac machine.

 

not ok 486 Checking: for valid PIN failed with ::Error: dlopen(/temp, 1): image not found at Error (native) Load:136
 ---
 operator: fail
 at: checkError (/Users/davidliu/Documents/fabric-sdk-node/test/unit/cryptosuite-pkcs11.js:91:6)
 stack: |-
 Error: Checking: for valid PIN failed with ::Error: dlopen(/temp, 1): image not found
 at Error (native) Load:136
 at Test.assert [as _assert] (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
 at Test.bound [as _assert] (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
 at Test.fail (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)
 at Test.bound [as fail] (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
 at checkError (/Users/davidliu/Documents/fabric-sdk-node/test/unit/cryptosuite-pkcs11.js:91:6)
 at test (/Users/davidliu/Documents/fabric-sdk-node/test/unit/cryptosuite-pkcs11.js:101:3)
 at Test.<anonymous> (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
 at Test.bound [as _cb] (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
 at Test.run (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:96:10)
 at Test.bound [as run] (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
 at Immediate.next (/Users/davidliu/Documents/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
 at runCallback (timers.js:789:20)
 at tryOnImmediate (timers.js:751:5)
 at processImmediate [as _immediateCallback] (timers.js:722:5)",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update fabric-client and fabric-ca-client readmes,FABN-136,16577,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,11/May/17 4:19 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,11/May/17 11:29 AM,,,,,,,,,,,0,,,,,Need to update the link to the documentation,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxumn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 4:36 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/9207/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e tests are failing on sdk-node commit# 9d70798,FABN-137,15852,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,rameshthoomu,rameshthoomu,20/Apr/17 4:01 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,21/Apr/17 2:59 AM,,,,,,,v1.0.0,,,,0,node-SDK,quality,,,"Observed sdk-node e2e tests are failing with the below error on commit# 9d70798

Below is the error log:

{code:java}
Attaching to ca_peerOrg2, orderer0, ca_peerOrg1, couchdb, peer0, peer2, peer1, peer3
[36mca_peerOrg2 |[0m 2017/04/19 18:51:45 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
[36mca_peerOrg2 |[0m Error: ca.name property is required but is missing from the configuration file
[36mca_peerOrg2 |[0m Usage:

{code}
Docker Log File:

https://jenkins.hyperledger.org/sandbox/job/e2e_FIT_x86_64/6/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/dockerlogfile.log
=======> FABRIC PEER COMMIT NUMBER - b6201fe =======> FABRIC CA COMMIT NUMBER - e583181 =======> FABRIC SDK NODE COMMIT NUMBER - 9d70798",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqif:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix fabric-sdk-node/examples/balance-transfer,FABN-138,15923,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,Ratnakar,vdods,vdods,22/Apr/17 10:43 AM,10/Oct/18 3:04 AM,28/Oct/23 3:25 AM,02/May/17 12:31 AM,,,,,,,,,,,0,,,,,"There is a distinct lack of a working example app for fabric-sdk-node, and I and others have had no luck in trying to unravel the e2e integration test into a working app.  It's arguably necessary to app developers to have this example working and brought up to date.

Criteria for usability:
- Have examples/balance-transfer be a self-contained app, with no external dependence on ""getting started"".  Preferably have the whole thing run via single `docker-compose up` command -- this would include services for CA, orderer, peers, and finally the application itself.
- Have the configuration sources (the files that go into the channel transaction envelope) all be present, and have the command which builds the channel transaction file (and other files I may be forgetting/unaware of) available to run via script.
- It should be obvious from the example what the dependencies of all necessary components are for configuring the services, configuring the channel, other configurations, and building the app.
- No code in the example should directly require() an internal source file of fabric-client or fabric-ca-client (as helper.js currently does) -- this indicates improper encapsulation and is confusing to someone using the API docs as a guide.
",,Ratnakar,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3095,,,,,,,,,"1|hzxqpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/17 12:51 AM;jimthematrix;[~Ratnakar] can you review the list of requirements from [~vdods], I think #1 and #2 are already addressed in your work toward FAB-2967. but #3 may need further work;;;","01/May/17 8:30 AM;Ratnakar;[~jimthematrix] Except utils.js (Using internal source file of fabric-client) I think remaining things been taken care in the example provided with FAB-2967. 

*utils.js* is mainly used for getting the *Nonce* , Can we fix the length to 24 for alpha version of the example app, Please suggest  ? 

Also to load the proto file we are using the internal resource, I am not sure if we can avoid this for Alpha 
https://github.com/hyperledger/fabric-sdk-node/blob/master/examples/balance-transfer/app/join-channel.js#L32-L33

;;;","02/May/17 12:31 AM;Ratnakar;FAB-2967 addresses this issue.
FAB-3541 is created to avoid using internal resource like *utils.js*;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
_sendChaincodeProposal func err,FABN-139,19132,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,kungyc,kungyc,kungyc,11/Jul/17 1:15 PM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,18/Jul/17 4:46 AM,v1.0.0,,,,,,v1.0.1,,,,0,help-wanted,,,,"        var peers = null;
        if (request) \{
            let peers = request.targets;
        }
        if (!peers || peers.length < 1) \{
            peers = this.getPeers();
        }
 
use ""let peers"" seems to make peer always null, so the channel will try to get targets from the this.getPeers() ",,harrisob@us.ibm.com,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7rj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/17 4:10 AM;harrisob@us.ibm.com;Please excuse me for working on this issue, I did not see that it was in progress, you may wish to have a look at [https://gerrit.hyperledger.org/r/#/c/11625/] to compare your changes.;;;","15/Jul/17 4:12 PM;kungyc;[~harrisob@us.ibm.com] sorry, I was the first time to contribute with gerrit and may be misunderstanding the status, the change now is been reviewed, refere to :[https://gerrit.hyperledger.org/r/#/c/11605/

];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
documentation link in npm for hfc is broken,FABN-140,12511,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,cdaughtr,ChristopherFerris,ChristopherFerris,22/Aug/16 4:17 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,10/Sep/16 2:10 AM,,,,,,,,,,,0,Documentation,node-SDK,,,"see [~ghaskins] issue reported on GH https://github.com/hyperledger/fabric/issues/2339

Description

The links within the documentation on NPM do not work properly.

Describe How to Reproduce

Go to https://www.npmjs.com/package/hfc#going-deeper and click on some of the links like ""Member"". A 404 is returned.

Workarounds: build the doc locally from fabric.git and open with a file:// URL",,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbe7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/16 5:56 AM;ChristopherFerris;I'm not clear on the approach being taken to address this, but there are a few things that we must fix.

1) we need a README - currently there is nothing that speaks to installing or using the SDK. Instead, we are greeted with: ERROR: No README data found!
2) no reference to the source. Most other NPM modules link to the source's GH repository/
3) no link to Hyperledger project. There's a mention but no link.;;;","10/Sep/16 4:47 AM;ChristopherFerris;Anya has this ;;;","13/Sep/16 4:37 AM;angrbrd;I have updated the npm package to version 0.5.3 here: https://www.npmjs.com/package/hfc

This version is compatible with the v0.5-developer-preview-1 fabric branch (now archived Fabric05 branch). The update includes the latest updates to fix a break (caused by a third party) that occurred last Friday 09/09 as well as updates to the README.md. It certainly looks much better and includes more detailed installation instructions regarding compatibility, though it's not perfect. I am still trying to understand how to get those auto-generated docs up there on npm. I thought I had figured it out, but my theory on how to do that didn't turn out to fix it. I'll dig a bit more on this and publish once again when I'm ready to push out version 0.6.x to npm, as the README.md is a single file. There is not a specific README.md for a specific version, so it will update either way. Please stay tuned for another updated later today or tomorrow.

Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI build script needs to install node v6.9.x,FABN-141,15331,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,cdaughtr,cdaughtr,14/Mar/17 12:10 AM,19/Jul/18 9:52 AM,28/Oct/23 3:25 AM,06/Apr/17 3:46 AM,,,,,,,,,,,0,build-system,,,,"The build script is installing node v7.4.0, but we currently support v6.9.x, so this needs to be changed to v6.9.x.

In the fabric-sdk-node README.md,
To build and test, the following pre-requisites must be installed first: 
node runtime version 6.9.x, note that 7.0 is not supported at this point
npm tool version 3.10.x

https://github.com/hyperledger/ci-management/blob/master/packer/provision/docker.sh#L156

deb_install_node() {
    # Node install
    pushd /usr/local
    curl https://nodejs.org/dist/v7.4.0/node-v7.4.0-linux-x64.tar.xz | tar xJf - --strip-components=1
    popd
    echo npm -v: `npm -v`
    echo node -v: `node -v`
}",,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Condition judgement bug in Client.js,FABN-142,18547,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,fennelD7,fennelD7,fennelD7,22/Jun/17 3:45 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Jul/17 1:50 AM,v1.0.0-beta,,,,,,v1.0.0,,,,0,,,,,"Based on the program logic and error message, I think the condition judgement code misplaced the two arrguments name and checkPersistence here.

```
792   if (typeof name === 'boolean' && name && typeof checkPersistence === 'undefined')
793        throw new Error('Illegal arguments: ""checkPersistence"" is truthy but ""name"" is undefined');

```",,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy59z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jul/17 1:52 AM;jimthematrix;[~fennelD7] working as designed, this captured the case where the call is
{code}
client.getUserContext(true);
{code}
which is not valid because name is missing;;;","14/Jul/17 5:57 PM;fennelD7;Get it!  I was confused by name judged boolean type, should thought more use cases :)

Thank you!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - sendBroadcast() and sendDeliver() status check should use protobuf enum,FABN-143,16998,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,23/May/17 1:40 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Jun/17 11:28 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,NodeSDK is looking for String when it should be looking for number.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/17 11:28 PM;harrisob@us.ibm.com;The order currently returns a string status not an integer value.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK doc issue : node and npm versions should be corrected,FABN-144,13357,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,Ratnakar,Ratnakar,08/Nov/16 10:10 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:13 AM,,,,,,,,,,,0,node-SDK,,,,"Node and npm versions mentioned in the *README* under *build-and-test* (https://github.com/hyperledger/fabric-sdk-node#build-and-test) are wrong. It should be corrected as per the package.json , else tests are failing.

{code:java}
 ""node"": "">=6.7.0"",
 ""npm"": "">=3.0.0""
{code}

Logs for reference.

It is good to have *Troubleshoot section* :
In some cases the npm installed using apt-get could be an older version than what is required and normally installed along with Node. To resolve this version compatibility issue,
Download and extarct the nodejs tar from here https://nodejs.org/dist/v6.9.1 and set *bin* to your PATH
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/16 10:08 AM;Ratnakar;unit-tests-failure.txt;https://jira.hyperledger.org/secure/attachment/10220/unit-tests-failure.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxean:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Reduce manual steps to prepare for running ""gulp test""",FABN-145,16672,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,12/May/17 1:07 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/May/17 1:59 AM,,,,,,,v1.0.0,,,,0,,,,,"you have to:
- make sure `gulp ca` is run so shared dependencies are copied from fabric-client to fabric-ca-client
- delete temp folders so older persisted users and private keys are cleaned up
- delete chaincode images so any chaincode updates can be picked up

this makes the running of gulp test error-prone.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3bz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - unable to query certain blocks,FABN-146,19475,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,AngelMilanov,AngelMilanov,26/Jul/17 12:01 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Jul/17 4:11 AM,,,,,,,v1.0.1,,,,0,,,,,"When using Fabric 1.0.0 with Fabric Node SDK 1.0.0, at some point the contents of certain blocks cannot be acquired from the peers through the Channel#queryBlock(blockNumber, target) function.

Invoking the function results in a TypeError with the following stacktrace:
 *error: [BlockDecoder.js]: TypeError: Cannot read property 'max_degree' of null*
 *at decodeRangeQueryInfo (...fabric-client/lib/BlockDecoder.js:1248:31)*
 *at decodeKVRWSet (...fabric-client/lib/BlockDecoder.js:1203:27)*
 *at decodeReadWriteSets (...fabric-client/lib/BlockDecoder.js:1172:22)*
 *at decodeChaincodeAction (...fabric-client/lib/BlockDecoder.js:1144:29)*
 *at decodeProposalResponsePayload (...fabric-client/lib/BlockDecoder.js:1136:40)*
 *at decodeChaincodeEndorsedAction (...fabric-client/lib/BlockDecoder.js:1114:37)*
 *at decodeChaincodeActionPayload (...fabric-client/lib/BlockDecoder.js:1098:19)*
 *at decodeEndorserTransaction (...fabric-client/lib/BlockDecoder.js:665:21)*
 *at decodeBlockDataEnvelope (...fabric-client/lib/BlockDecoder.js:649:27)*
 *at decodeBlockData (...fabric-client/lib/BlockDecoder.js:566:18)*",,AngelMilanov,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9lz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AngelMilanov,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Jul/17 12:32 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/11907/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - test case does not match API,FABN-147,18615,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,24/Jun/17 1:54 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Jun/17 12:43 AM,,,,,,,v1.0.0,,,,0,,,,,"NodeSDK remove the need to save and return the header, however the test cases still are doing this. Since many of the test cases are also examples we should remove this so as to not confuse users.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5iv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node-SDK fails in Cloud Foundry and Windows 10 due to hashtable dependency,FABN-148,15437,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,isramos,isramos,24/Mar/17 12:21 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/May/17 3:52 AM,v1.0.0,v1.0.0-alpha1,v1.1.0,,,,v1.0.0,,,,0,,,,,"As is Node-SDK does not work in Cloud Foundry (CF) runtimes because it cannot install the node package called ""hashtable"". 
That package requires GCC. However CF don't let you run “apt-get install build-essentials” so it fails to “npm install hashtable”. 

A solution is to replace hashtable with hashtable-js, described as ""a pure Javascript replacement for node-hashtable"", I implemented the code and it seem to work. Now I need someone's help to make the official contribution. Here's the next steps:

(1) make the changes shown in the attached photo
(2) run the E2E test
(3) push the code",,isramos,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-608,FABN-287,,,,,,,,,,,,,"24/Mar/17 12:20 AM;isramos;Screen Shot 2017-03-23 at 10.20.27 AM.png;https://jira.hyperledger.org/secure/attachment/10602/Screen+Shot+2017-03-23+at+10.20.27+AM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3bj:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,isramos,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Mar/17 4:52 AM;mastersingh24;this seems odd to me - we use other packages which require native code and compilation - e.g. the grpc package;;;","23/May/17 12:04 PM;jimthematrix;http://gerrit.hyperledger.org/r/9681;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HFC 0.6.5 fails to connect to membersrvc when running in Docker,FABN-149,14964,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,aliblackwell,aliblackwell,21/Feb/17 7:24 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Feb/17 7:59 PM,,,,,,,v0.6,,,,0,,,,,"Member enrolment hangs indefinitely with no debug output provided to diagnose the error.

GRPC has protocol buffers & native code inside it, which may be responsible. It may also be due to a problem with the crypto module as some others seem to override it.

Does not appear to be limited to enrollment only as getTCertBatch and other method calls using GRPC also fail.

We have tried base images {{node:6.9}} and {{bitnami/node:6.9.0-r0}}


{noformat}
  crypto Using sha3-256 +6ms
  hfc Enrolling [req={""enrollmentID"":""admin"",""enrollmentSecret"":""Xurw3yU9zI0l""}] +206ms
  hfc [MemberServicesImpl.enroll] [{""enrollmentID"":""admin"",""enrollmentSecret"":""Xurw3yU9zI0l""}] +0ms
  hfc [MemberServicesImpl.enroll] Generating keys... +0ms
  hfc [MemberServicesImpl.enroll] Generating keys...done! +185ms
  hfc [MemberServicesImpl.enroll] Generating request! ""3059301306072a8648ce3d020106082a8648ce3d03010703420004482a38893a6f4f45874e9a22d305ec170f9ec92c0d68495980b9daaa73a194b40c8ad16f57aa7298c0e3fbb6e93fde1be6109df6e2328dd82c68e5758eaed783"" +3ms
  hfc [MemberServicesImpl.enroll] Adding signing key! +0ms
  hfc [MemberServicesImpl.enroll] Assding encryption key! +0ms
  hfc [MemberServicesImpl.enroll] [Contact ECA] {""ts"":{""seconds"":{""low"":1487672577,""high"":0,""unsigned"":false},""nanos"":0},""id"":{""id"":""admin""},""tok"":{""tok"":{""buffer"":{""type"":""Buffer"",""data"":[88,117,114,119,51,121,85,57,122,73,48,108]},""offset"":0,""markedOffset"":-1,""limit"":12,""littleEndian"":false,""noAssert"":false}},""sign"":{""type"":0,""key"":{""buffer"":{""type"":""Buffer"",""data"":[48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0,4,72,42,56,137,58,111,79,69,135,78,154,34,211,5,236,23,15,158,201,44,13,104,73,89,128,185,218,170,115,161,148,180,12,138,209,111,87,170,114,152,192,227,251,182,233,63,222,27,230,16,157,246,226,50,141,216,44,104,229,117,142,174,215,131]},""offset"":0,""markedOffset"":-1,""limit"":91,""littleEndian"":false,""noAssert"":false}},""enc"":{""type"":0,""key"":{""buffer"":{""type"":""Buffer"",""data"":[48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0,4,211,9,95,87,73,179,0,90,184,14,75,76,34,141,122,67,142,16,41,198,162,70,250,106,137,164,215,6,3,159,28,166,123,44,221,178,154,189,62,174,198,74,164,171,151,103,124,48,1,107,255,194,233,212,75,47,9,86,117,224,88,183,183,146]},""offset"":0,""markedOffset"":-1,""limit"":91,""littleEndian"":false,""noAssert"":false}},""sig"":null}  +0ms

(hangs indefinitely)
{noformat}

This is the output when running with GRPC debug

{{GRPC_VERBOSITY=DEBUG GRPC_TRACE=all node yourapp.js}}

{noformat}

I0221 10:32:06.259892515    1849 channel.c:231]              grpc_channel_create_call(channel=0x36e61a0, parent_call=(nil), propagation_mask=ffff, cq=0x36ffda0, method=/protos.ECAP/CreateCertificatePair, host=(null), deadline=gpr_timespec { tv_sec: 9223372036854775807, tv_nsec: 0, clock_type: 1 }, reserved=(nil))
I0221 10:32:06.262332450    1849 metadata_array.c:42]        grpc_metadata_array_init(array=0x7ffdd68d9560)
I0221 10:32:06.262382575    1849 metadata_array.c:42]        grpc_metadata_array_init(array=0x36ff648)
I0221 10:32:06.262392720    1849 metadata_array.c:42]        grpc_metadata_array_init(array=0x354d858)
I0221 10:32:06.262406165    1849 call.c:1690]                grpc_call_start_batch(call=0x35e1a10, ops=0x36062d0, nops=6, tag=0x36659a0, reserved=(nil))
I0221 10:32:06.262433118    1849 call.c:1366]                ops[0]: SEND_INITIAL_METADATA
I0221 10:32:06.262440332    1849 call.c:1366]                ops[1]: SEND_MESSAGE ptr=0x36e48e0
I0221 10:32:06.262446388    1849 call.c:1366]                ops[2]: SEND_CLOSE_FROM_CLIENT
I0221 10:32:06.262452997    1849 call.c:1366]                ops[3]: RECV_INITIAL_METADATA ptr=0x36ff648
I0221 10:32:06.262459165    1849 call.c:1366]                ops[4]: RECV_MESSAGE ptr=0x35ef7a8
I0221 10:32:06.262465746    1849 call.c:1366]                ops[5]: RECV_STATUS_ON_CLIENT metadata=0x354d858 status=0x354d870 details=0x354d878
I0221 10:32:06.262530992    1849 client_channel.c:109]       OP[client-channel:0x35e2018]: SEND_INITIAL_METADATA{key=3a 70 61 74 68 ':path' value=2f 70 72 6f 74 6f 73 2e 45 43 41 50 2f 43 72 65 61 74 65 43 65 72 74 69 66 69 63 61 74 65 50 61 69 72 '/protos.ECAP/CreateCertificatePair', key=3a 61 75 74 68 6f 72 69 74 79 ':authority' value=, key=67 72 70 63 2d 65 6e 63 6f 64 69 6e 67 'grpc-encoding' value=69 64 65 6e 74 69 74 79 'identity', key=67 72 70 63 2d 61 63 63 65 70 74 2d 65 6e 63 6f 64 69 6e 67 'grpc-accept-encoding' value=69 64 65 6e 74 69 74 79 2c 64 65 66 6c 61 74 65 2c 67 7a 69 70 'identity,deflate,gzip'} SEND_MESSAGE:flags=0x00000000:len=223 SEND_TRAILING_METADATA{} RECV_INITIAL_METADATA RECV_MESSAGE RECV_TRAILING_METADATA
I0221 10:32:06.262690022    1856 completion_queue.c:333]     grpc_completion_queue_next(cc=0x36ffda0, deadline=gpr_timespec { tv_sec: 9223372036854775807, tv_nsec: 0, clock_type: 1 }, reserved=(nil))
D0221 10:32:06.279838252    1859 dns_resolver.c:192]         dns resolution failed: {""created"":""@1487673126.279796172"",""description"":""OS Error"",""errno"":-5,""file"":""../src/core/lib/iomgr/resolve_address_posix.c"",""file_line"":115,""os_error"":""No address associated with hostname"",""syscall"":""getaddrinfo"",""target_address"":""""}
D0221 10:32:06.279860795    1859 dns_resolver.c:201]         retrying immediately
D0221 10:32:06.279880214    1859 connectivity_state.c:156]   SET: 0x36e62e8 client_channel: IDLE --> TRANSIENT_FAILURE [new_lb+resolver] error=0x7fd2f0001730 {""created"":""@1487673126.279870831"",""description"":""No load balancing policy"",""file"":""../src/core/ext/client_config/client_channel.c"",""file_line"":188}
D0221 10:32:07.297370847    1860 dns_resolver.c:192]         dns resolution failed: {""created"":""@1487673127.297344897"",""description"":""OS Error"",""errno"":-5,""file"":""../src/core/lib/iomgr/resolve_address_posix.c"",""file_line"":115,""os_error"":""No address associated with hostname"",""syscall"":""getaddrinfo"",""target_address"":""""}
D0221 10:32:07.297390643    1860 dns_resolver.c:201]         retrying immediately
D0221 10:32:07.297412393    1860 connectivity_state.c:156]   SET: 0x36e62e8 client_channel: TRANSIENT_FAILURE --> TRANSIENT_FAILURE [new_lb+resolver] error=0x7fd2f00018b0 {""created"":""@1487673127.297401869"",""description"":""No load balancing policy"",""file"":""../src/core/ext/client_config/client_channel.c"",""file_line"":188}
D0221 10:32:09.121116790    1861 dns_resolver.c:192]         dns resolution failed: {""created"":""@1487673129.121083749"",""description"":""OS Error"",""errno"":-5,""file"":""../src/core/lib/iomgr/resolve_address_posix.c"",""file_line"":115,""os_error"":""No address associated with hostname"",""syscall"":""getaddrinfo"",""target_address"":""""}
D0221 10:32:09.121139809    1861 dns_resolver.c:201]         retrying immediately
D0221 10:32:09.121160988    1861 connectivity_state.c:156]   SET: 0x36e62e8 client_channel: TRANSIENT_FAILURE --> TRANSIENT_FAILURE [new_lb+resolver] error=0x7fd2f0001cf0 {""created"":""@1487673129.121151085"",""description"":""No load balancing policy"",""file"":""../src/core/ext/client_config/client_channel.c"",""file_line"":188}

{noformat}


",,aliblackwell,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,aliblackwell,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Feb/17 7:58 PM;aliblackwell;This was not a bug in the system, rather in our docker-compose setup – we were using quotes where we shouldn't have been. Closing the issue!;;;","24/Aug/17 4:03 PM;vdods;Alasdair – what in particular was wrongly quoted?  I'm experiencing the same issue, and I believe it's also a result of a misuse of docker.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node does not support peer as identity role,FABN-150,27875,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,dongming,dongming,21/Feb/18 5:23 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Feb/18 6:54 AM,,,,,,,v1.1.1,,,,0,,,,,"Use PTE to set up endorsement:

""endorsement"": \{
    ""identities"": [
        \{ ""role"": \{ ""name"": ""peer"", ""mspId"": ""PeerOrg1"" }},
        \{ ""role"": \{ ""name"": ""peer"", ""mspId"": ""PeerOrg2"" }}
    ],
    ""policy"": \{
        ""2-of"": [\{ ""signed-by"": 0 }, \{ ""signed-by"": 1 }]
    }
 },

 

And receive the following error message from sdk-node:

 

error: [PTE 0 main]: Error: Invalid role name found: must be one of ""member"" or ""admin"", but found ""peer""
 at buildPrincipal (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Policy.js:157:10)
 at policy.identities.forEach (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Policy.js:131:24)
 at Array.forEach (<anonymous>)
 at Function.buildPolicy (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Policy.js:130:22)
 at Channel._buildEndorsementPolicy (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Channel.js:1920:17)
 at Channel._sendChaincodeProposal (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Channel.js:1270:28)
 at Channel.sendInstantiateProposal (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Channel.js:1197:15)
 at channel.initialize.then (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/pte-main.js:518:28)
 at <anonymous>
 at process._tickCallback (internal/process/next_tick.js:188:7)",,denyeart,dongming,harrisob@us.ibm.com,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,dongming,harrisob@us.ibm.com,rickr,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/18 8:14 PM;denyeart;[~harrisob@us.ibm.com] This looks like a quick one, could it be prioritized to unblock test?  Are there any other places where SDK looks for *.member or *.admin?

[~rickr] Does Java SDK have similar checks that look for *.member or *.admin?;;;","21/Feb/18 8:55 PM;rickr;[~denyeart] Yes and it accepts peer role too.;;;","21/Feb/18 9:57 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18135/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"npm install hfc ""[Throwing Errors]""",FABN-151,15404,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,coderundebug12,coderundebug12,20/Mar/17 6:41 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,17/Apr/17 1:46 PM,v1.0.0,,,,,,,,,,0,,,,,"while trying to install hfc via npm error are observed, tried with manual way also as instructed on IBM site , still not able to install ",,coderundebug12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxoav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,coderundebug12,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/17 3:54 AM;jimthematrix;[~coderundebug12] can you give more details? which version of the sdk? what errors are you seeing? what environment are you seeing this in? note that Vagrant at this point is NOT supported by the node SDK.;;;","17/Apr/17 1:46 PM;jimthematrix;Closing as WONT FIX due to lack of details;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] Using apt-get install softhsm2, node pkcs11.js fails but sudo node pkcs11.js succeeds ",FABN-152,15369,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jjjjibm,jjjjibm,16/Mar/17 3:51 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,11/May/17 11:40 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"I installed softhsm2 on an Ubuntu 16 vlaunch VM like this: apt-get install softhsm2

This is consistent with the way CI installs softhsm2.  The goal is to enable fabric-sdk-node/test/unit/pkcs11.js to run in the CI environment. 

Having installed softhsm2, the command 'node pkcs11.js' fails in C_Initialize with the rc 'GENERAL ERROR':

Error: CKR_GENERAL_ERROR:5
at Error (native) C_Initialize:152]
at: Test.onetime [as end] (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/onetime/index.js:22:12)
stack: |-
Error: CKR_GENERAL_ERROR:5
at Error (native) C_Initialize:152
at Error (native)
at CryptoSuite_PKCS11._pkcs11OpenSession (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/bccsp_pkcs11.js:157:10)
at new CryptoSuite_PKCS11 (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/bccsp_pkcs11.js:110:8)
at Object.module.exports.getCryptoSuite 


However, adding sudo enables all pkcs11.js tests to pass:  sudo node pkcs11.js

So, 'sudo' is one fix.  Unfortunately, it is probably not possible to sudo in the CI environment.
[~vpaprots] suggested two commands that enable me to call 'node pkcs11.js' successfully, even though I am not running as root. 

Ramesh requested this issue is to work out how we can issue these commands in CI  so we can add pkcs11.js to the node SDK CI test bucket. 

I'm appending a transcript of my conversation with Ramesh beginning from the time I told him I had a break through with pkcs11.js.  The commands suggested by [~vpaprots] are in the transcript. ","fabric-sdk-node: commit e2edc9bae777b9b12418da2a2c33dce7da33e340
fabric commit d7920a9c3fa0b3fe96ed8e4dde86795de97ae1e2
fabric-ca  commit c73ce65eaa9732dcf51930e75ed99adfb4edce85

Vlaunch VM running Ubuntu 16 
softhsm2 installed via apt-get",jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-441,,,,,,,,,,,"16/Mar/17 4:06 AM;jjjjibm;FAB-2797.txt;https://jira.hyperledger.org/secure/attachment/10587/FAB-2797.txt","16/Mar/17 3:55 AM;jjjjibm;FAB-2797.txt;https://jira.hyperledger.org/secure/attachment/10586/FAB-2797.txt","16/Mar/17 4:06 AM;jjjjibm;bccsp_pkcs11.js;https://jira.hyperledger.org/secure/attachment/10588/bccsp_pkcs11.js","16/Mar/17 4:05 AM;jjjjibm;pkcs11.js;https://jira.hyperledger.org/secure/attachment/10590/pkcs11.js","16/Mar/17 4:05 AM;jjjjibm;test.js;https://jira.hyperledger.org/secure/attachment/10589/test.js",,,,,,,,,,,,,,,,,,,,,,,,"1|hzx47r:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 12:15 PM;rameshthoomu;[~jjjjibm] I have followed below steps on patch on your patch shared to me

{code:java}
apt-get -qq install -y softhsm2
mkdir -p /var/lib/softhsm/tokens/
softhsm2-util --init-token --slot 0 --label ""ForFabric"" --so-pin 1234 --pin 98765432
chown -R jenkins:jenkins /var/lib/softhsm /etc/softhsm
{code}

cd to /w/workspace/gopath/src/github.com/hyperledger/fabric-sdk-node`
then run `node test/unit/pkcs11.js

below are the observations

{noformat}

1) Tests are worked as expected on `ppc64le` platform
2) FAILED in `x86_64` and `s390x`
{noformat}


[~vpaprots] suggested below changes are required in code to fix these issues

The tests specify an incorrect location for the pkcs11 dll  

{code:java}

	pin = ""98765432""
		label = ""ForFabric""
		possibilities := []string{
			""/usr/lib/softhsm/libsofthsm2.so"",                            //Debian
			""/usr/lib/x86_64-linux-gnu/softhsm/libsofthsm2.so"",           //Ubuntu
			""/usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so"",            //Ubuntu
			""/usr/lib/powerpc64le-linux-gnu/softhsm/libsofthsm2.so"",      //Power
			""/usr/local/Cellar/softhsm/2.1.0/lib/softhsm/libsofthsm2.so"", //MacOS
		}
{code}

;;;","11/May/17 11:40 AM;rameshthoomu;Integrated required softhsm2 changes in sandbox packer image and tested [~jjjjibm] patch on PKCS tests.. CI changes are working as expected and PKCS tests are working as expected but one of the test is failed.

 

ok 11 Successfully signed message not ok 12 Failed. Error: CKR_SIGNATURE_LEN_RANGE:193 at Error (native) C_Verify:814 --- operator: fail at: process._tickCallback (internal/process/next_tick.js:103:7) ... #;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] Some of the integration tests are failing with timouts,FABN-153,31244,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,Ratnakar,Ratnakar,21/Jun/18 4:37 AM,21/Sep/18 11:50 PM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,v1.2.0,,,,,,Future,,,,0,quality,,,,"For test description details , please refer the Case 4 of FAB-10161

some of the Integration tests are failing with the timeouts 

failures of all the tests are enclosed  [^timeout_failures.txt] 

_error gist:_
{code}
not ok 297 Expecting a rejected promise from the 2nd transaction should be invalid^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: equal
    expected: 'invalid'
    actual:   'timeout'
    at: e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/events.js:287:5)
    stack: |-
      Error: Expecting a rejected promise from the 2nd transaction should be invalid
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.equal (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:384:10)
          at Test.bound [as equal] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/events.js:287:5)
          at <anonymous>
          at process._tickCallback (internal/process/next_tick.js:188:7)^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-294,,,FAB-10161,,,,,,,,,,,"21/Jun/18 4:33 AM;Ratnakar;timeout_failures.txt;https://jira.hyperledger.org/secure/attachment/15133/timeout_failures.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfo7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/18 11:32 PM;Ratnakar;Analyzed peer logs and it is observed that the root cause for these timeouts is due to mutual TLS usage in v1.1 integrations test suite

*peer logs:*
{code}
2018-06-21 13:45:15.836 UTC [eventhub_producer] Chat -> ERRO 98f Error handling message: event message validation failed: [client didn't include its TLS cert hash]
{code}

V1.1 NodeJS Integration tests are not using the API *setTlsClientCertAndKey* causes these failures against NodeJS SDK V1.2*.*

 

I added the API  *setTlsClientCertAndKey* in all the above tests and observed all the above tests are PASSED.

 

[~harrisob@us.ibm.com] Do we want to change the Integration tests of 1.1 ?

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document security implications of the default chaincode endorsement policy,FABN-154,20370,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,24/Aug/17 4:50 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Sep/17 11:20 PM,,,,,,,v1.1.0,,,,0,,,,,"basically the default endorsement policy allows an application to complete bypass the proposal endorsement phase and manually construct an arbitrary read-write set, sign it with its own key and send it to the orderer directly. should make it more explicit that this is not recommended for production.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzye1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/17 11:20 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/12719/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Problems attempting to use keystore directory other than .hfc-key-store,FABN-155,15519,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,cdaughtr,davidkel,davidkel,30/Mar/17 5:31 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/May/17 1:59 PM,v1.0.0,,,,,,v1.0.0-alpha2,,,,0,alpha2,node-SDK,v1.0,,"If I try and specify a path to a keystore directory other than .hfc-key-store I hit the following problem, reported as follows
```
Error: Private key missing from key store. Can not establish the signing identity for user admin
      at _mspImpl.cryptoSuite.importKey.then.then (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/User.js:260:11)
```
Looking at the code I see the following at line 228-232 or User.js
```
		// FIXME: need to persist crypto settings, for now use the app-wide config setting
		this._mspImpl = new LocalMSP({
			id: state.mspid,
			cryptoSuite: sdkUtils.newCryptoSuite()
		});
```
I believe that because no path to the keystore I am using is passed to the created crypto suite it attempts to use the default at .hfc-key-store and because the admin private key hasn't been stored there this causes the problem.
",,cdaughtr,Clayton Sims,davidkel,pvrbharg,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,FABN-348,,,,,"30/Jun/17 2:37 AM;pvrbharg;FAB-2940.zip;https://jira.hyperledger.org/secure/attachment/11503/FAB-2940.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx39b:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,cdaughtr,Clayton Sims,davidkel,pvrbharg,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Apr/17 3:01 AM;sstone1;[~jimthematrix] any thoughts on this one?

Apart from being able to use different local directories, it's also impacting the work to get Composer's REST API support working using database persistence for user certificates. This is because I cannot get all of fabric-client to use our custom KeyValueStore implementation.

I spent some time looking at this today. Couple of things:

Client.getUserContext() calls loadUserFromStateStore() which calls User.fromString(), but it doesn't pass the key value store or any options for the key value store in. As Dave mentions above, this causes the new CryptoSuite to go off and create a new key value store. 

Currently CryptoSuite requires the KeyValStore class rather than the instance. It would be easier to use the APIs if the CryptoSuite used the same KeyValStore instance that we set on the owning Chain object, or if todays APIs accepted a KeyValStore instance rather than the class.

Finally, it seems that for any given user, after enrolment the KeyValStore creates three files. For the user bob1, you get:

~/.hfc-key-store/bob1
~/.hfc-key-store/da39a3ee5e6b4b0d3255bfef95601890afd80709-pub
~/.hfc-key-store/da39a3ee5e6b4b0d3255bfef95601890afd80709-priv

It would be useful for custom KeyValStore implementations - including ours ;-) - if we knew which user the public/private key files belonged to. I think this would make it easier for users to manage these directories as well. Currently the only option is to parse the first file to get the property which has the hash in it.

I would suggest prefixing them with the username, e.g.:

~/.hfc-key-store/bob1
~/.hfc-key-store/bob1-da39a3ee5e6b4b0d3255bfef95601890afd80709-pub
~/.hfc-key-store/bob1-da39a3ee5e6b4b0d3255bfef95601890afd80709-priv;;;","22/Apr/17 12:11 AM;davidkel;This problem still occurs with the latest code in snapshot.17. The stacktrace of the call that isn't using the requested path is

{code:java}
    at new CryptoSuite_ECDSA_AES (/home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:77:21)
    at Object.module.exports.newCryptoSuite (/home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/fabric-client/lib/utils.js:126:9)
    at User.fromString (/home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/fabric-client/lib/User.js:237:14)
    at /home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/fabric-client/lib/Client.js:718:22
{code}
;;;","26/Apr/17 8:01 AM;cdaughtr;Is this still a problem?

This problem looks like it has already been fixed.  Since your User code snippet, User.js:233 checks this._kvsCryptoOpts before creating the newCryptoSuite. This object can contain the file key store path which can be passed as opts at 
`setEnrollment(privateKey, certificate, mspId, opts) { `

The opts object (this._kvsCryptoOpts) can contain kvsOpts, an options object specific to the implementation in KVSImplClass.

User.js:233
```this._mspImpl = new LocalMSP({
	id: state.mspid,
	cryptoSuite: this._kvsCryptoOpts ? sdkUtils.newCryptoSuite(
	this._kvsCryptoOpts.cryptoSettings, this._kvsCryptoOpts.KVSImplClass, this._kvsCryptoOpts.kvsOpts) :
	sdkUtils.newCryptoSuite()
});```;;;","26/Apr/17 7:43 PM;davidkel;So this problem still isn't fixed, although the code where the FIXME was has changed, I am still having problems. The first problem is described by Simon Stone above in the fact that getUserContext still tries to use the default .hfc-key-store directory. Stack traces from snapshot.19 are as follows :-

{code:java}
    at Client.loadUserFromStateStore (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/Client.js:841:15)
    at Client.getUserContext (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/Client.js:806:18)
    at getSubmitter (/home/vagrant/src/fabric-composer/packages/composer-systests/hlfv1-latest/setup-utils-latest.js:78:19)
{code}
 and once the promise is resolved

{code:java}
    at CryptoSuite_ECDSA_AES (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:63:15)
    at Object.module.exports.newCryptoSuite (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/utils.js:126:9)
    at User.fromString (/home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/User.js:237:14)
    at /home/vagrant/src/fabric-composer/node_modules/fabric-client/lib/Client.js:852:22
info: [crypto_ecdsa_aes]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""path"":""/home/vagrant/.hfc-key-store""}}
{code}

As you can see here it is still defaulting to .hfc-key-store when it tries to load from persistence. If it fails to load from persistence then what is the correct way to create a user ? doing a new User() type approach which was how we have been doing things as follows :-

{code:java}
                return cop.enroll({
                    enrollmentID: username,
                    enrollmentSecret: password
                }).then((enrollment) => {
                    console.log('Successfully enrolled user \'' + username + '\', now creating User');

                    member = new User(username, client);
                    return member.setEnrollment(enrollment.key, enrollment.certificate, mspid);
                 }).then(() => {
                    return client.setUserContext(member);
                }).then((member) => {
                    return resolve(member);
                }).catch((err) => {
                    console.log('Failed to enroll and persist user. Error: ' + err.stack ? err.stack : err);
                    throw new Error('failed to enroll');
                });
{code}
doesn't work as the User object doesn't get any information about the crypto keystore.
The other way appears to be the client.createUser method, but the e2e test suite hasn't been updated to provide examples but it looks like I need to pass in an options object that requires the username, mspid and some crypto content.

So in summary there is still a problem with getUserContext not using the correct keystore and then if some guidance could be provided on the right way to create a User object that would be great.

;;;","27/Apr/17 12:55 AM;cdaughtr;You need to pass the path to the keyValueStorePath in two places:

1.  When creating FabricCAServices, add the 4th parameter {path: keyValStorePath}
{code:java}
  new FabricCAServices(fabricCAEndpoint, tlsOptions/*cryptoSettings*/,
				kvs/*KVSImplClass*/, {path: keyValStorePath});

 .then((caService) =>
   client.setCryptoSuite(caService.getCrypto());
{code}

2.  When calling setEnrollment, add the 4th parameter opts which includes the kvsOpts object containing the path.  new User(username) is all that is needed, as there used to be a 2nd parameter of 'client' which is no longer used.  setEnrollment persists the file path, allowing getUserContext to use the correct keystore.
{code:java}
   member = new User(username); 
   opts = {KVSImplClass: keyValueStore, kvsOpts: {path: keyValStorePath}};
   return member.setEnrollment(enrollment.key, enrollment.certificate, mspid, opts);
{code}

We have a couple of integration tests that can be used as an example:
test/integration/couchdb-fabricca-tests.js
test/integration/cloudant-fabricca-tests.js
I copied and modified one of these to use the file key value store, and it ran successfully, using the specified custom file path.

For an example of Client.createUser, see test/integration/client.js.

Let me know if you have additional questions.;;;","27/Apr/17 3:35 AM;cdaughtr;I was just working through a related issue FAB-2923, and [~jimthematrix] determined that a redesign is needed to support a User that is associated with multiple chains, each having it's own cryptosuite with potentially different crypto options.  So note that the current implementation will be changing when FAB-2923 is completed.;;;","27/Apr/17 5:39 PM;davidkel;Hi [~cdaughtr] many thanks for the update. I guess it would make sense to wait for the change of implementation and new apis. Please let me know when they have been published to NPM and I can recode to them and test them within our environment as well.;;;","09/May/17 10:26 PM;Clayton Sims;Caroline what is the CR for this?;;;","10/May/17 3:04 AM;cdaughtr;[~Clayton Sims] There is no direct CR for this issue.  It will be fixed with FAB-2923, CR:

https://jira.hyperledger.org/browse/FAB-2923?focusedCommentId=23348&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-23348;;;","10/May/17 2:01 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/8905/;;;","30/Jun/17 2:39 AM;pvrbharg;This is [bvperepa@us.ibm.com|mailto:bvperepa@us.ibm.com] @ customer and we are seeing this issue at our customer setup. This is an issue that is holding us up as of now and you can see the error in log file. We are using the latest Composer binaries as of June 28, 2017.

Please advise. Thanks.

 

[^FAB-2940.zip];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] npm WARN package.json hfc@0.6.2 license should be a valid SPDX license expression,FABN-156,12918,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jjjjibm,jjjjibm,06/Oct/16 11:32 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:22 AM,,,,,,,,,,,0,node-SDK,,,,"This warning appears on the console when running *make node-sdk-unit-tests
*#@touch node_modules/.bin/typings
[INSTALL] node_modules/.bin/tsc
npm install --no-bin-links typescript
npm WARN package.json hfc@0.6.2 license should be a valid SPDX license expression
typescript@1.8.10 node_modules/typescript
#@touch node_modules/.bin/tsc
[BUILD] SDK
npm install --no-bin-links
npm WARN package.json hfc@0.6.2 license should be a valid SPDX license expression


This is  high priority because IBM is very sensitive to license issues for legal reasons.

How to recreate:
1.Start Ubuntu on Vagrant.  ( I have not tried other methods of running Ubuntu)
2.cd to fabric
3.run make node-sdk-unit-tests
","Widnows 7 running VirtualBox running VAgrant running Ubuntu.  (standard set-up)



",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TransactionID ctor documentation is inconsistent with the code,FABN-157,17853,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,harrisob@us.ibm.com,jtrayfield,jtrayfield,14/Jun/17 6:28 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Jun/17 3:56 AM,v1.0.0-beta,,,,,,v1.0.0,,,,0,,,,,"/**
 * Builds a new tranaction Id based on a user's certificate and an automatically
 * generated nonce value.
 * @param \{Client} clientContext An instance of \{@link Client} that provides an unique
 * base for this transaction id.
 */
 constructor(userContext) \{
 logger.debug('const - start');
 if (typeof userContext === 'undefined' || userContext === null) \{
 throw new Error('Missing userContext parameter');
 }
 if(!(User.isInstance(userContext))) \{
 throw new Error('Parameter ""userContext"" must be an instance of the ""User"" class');
 }",,harrisob@us.ibm.com,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3e7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Jun/17 3:01 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/10845/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
response with payload in fabric-sdk-node,FABN-158,19350,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,mochechan,mochechan,19/Jul/17 5:54 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Nov/17 10:31 AM,v1.0.0,,,,,,,,,,0,node-SDK,,,,"shim.Error(""payload"")

shim.Success([]byte(""payload""))

Response has payload in peer command and unit test, but response has no payload in Fabric-sdk-node when we invoke a chaincode.

Response should has payload in Fabric-sdk-node.",,ChristopherFerris,harrisob@us.ibm.com,mochechan,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8x3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,harrisob@us.ibm.com,mochechan,zhaochy,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jul/17 8:35 PM;ChristopherFerris;This is more correctly a bug report than a new feature request.;;;","28/Oct/17 3:09 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to look at this one;;;","30/Oct/17 2:23 PM;zhaochy;@[~mochechan] Would you please add more details for how you get the payload from sdk-node?

@[~harrisob@us.ibm.com] I updated the tests so that the payload will be checked during the e2e test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""mychannel.tx"" for e2e_sdk_node is broken",FABN-159,16074,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,yuki-kon,yuki-kon,28/Apr/17 8:19 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/May/17 5:11 AM,,,,,,,v1.0.0,,,,0,,,,,"Environment: 
--------------------------
Client is using fabric-sdk-node and running on Fabric Eco system on following changeset
hyperledger/fabric-ca                x86_64-1.0.0-snapshot-b4ce73f
hyperledger/fabric-couchdb       x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-kafka             x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-zookeeper  x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-orderer        x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-peer             x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-javaenv        x86_64-1.0.0-snapshot-efd9307
hyperledger/fabric-ccenv            x86_64-1.0.0-snapshot-efd9307

Steps to reproduce 
--------------------------
1. set up fabric-sdk-node based on ReadMe.
2. run docker-compose up --force-recreate to launch the network
3. run gulp test
4. run test/integration/new-chain.js

Expected Results
--------------------------
A new channel is created because a channel ""mychannel"" doesn't exist before executing this test script.

Actual Results
--------------------------
Creating a new channel fails.

Client SDK output the following error log. Detailed log is attached.

debug: [Client.js]: createChannel - start
debug: [Client.js]: createChannel - about to send envelope
debug: [Orderer.js]: sendBroadcast - start
debug: [Orderer.js]: sendBroadcast - sent message
debug: [Orderer.js]: sendBroadcast - on data response: {""status"":""BAD_REQUEST""}
error: [Orderer.js]: sendBroadcast - reject with BAD_REQUEST
debug: [Client.js]: createChannel - rejecting with Error: BAD_REQUEST
ok 4 Got back failure error. Error code: Error: BAD_REQUEST

Orderer output the following error log. Detailed log is attached.

2017-04-27 22:18:29.273 UTC [orderer/common/broadcast] Handle -> WARN 14a Rejecting CONFIG_UPDATE because: Error validating DeltaSet: Attempt to set key [Policy] /Channel/Admins to version 0, but key is at version 0


Cause
--------------------------
It seems like that a channel configtx ""test/fixtures/channel/mychannel.tx"" is broken.
After replacing ""mychannel.tx"" to a new one generated by configtx tool manually, a new channel is created successfully.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/17 8:21 AM;yuki-kon;newchain.log.txt;https://jira.hyperledger.org/secure/attachment/10683/newchain.log.txt","28/Apr/17 8:20 AM;yuki-kon;orderer0.log.txt;https://jira.hyperledger.org/secure/attachment/10684/orderer0.log.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] README.md errors: copy docker-compose.yml file in home directory (/home/vagrant) and copy the following content into the file,FABN-160,13588,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,03/Dec/16 6:37 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 1:49 PM,,,,,,,,,,,0,,,,,"README.md at this url: https://github.com/hyperledger/fabric-sdk-node

Has these instructions which aren't clear: 
run vagrant up to launch the vagrant VM
Once inside vagrant, cd $GOPATH/src/github.com/hyperledger/fabric
run make images to build the docker images
copy docker-compose.yml file in home directory (/home/vagrant) and copy the following content into the file

 
1.Need to add  'vagrant ssh' between the 'run vagrant up' instruction and the 'Once inside vagrant' instruction.   
2.This instruction is unclear: 
docker-compose.yml file in home directory (/home/vagrant) and copy the following content into the file

I discussed this instruction with JIm.  I suggest  breaking this into two steps:
a.Create a file in /home/vagrant called docker-compose.yml.
c.Copy the contents of the file here: <link to docker-compose.yml> into /home/vagrant/docker-compose.yml

",Applies to all environments.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxffb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] end-to-end.js not ok 6 TypeError: Cannot read property 'getIdentity' of null at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:7                   95:44,FABN-161,14136,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,18/Jan/17 3:48 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:48 PM,,,,,,,,,,,0,,,,,"Running
node end-to-end.js 

Test case 6 fails with this message: 
not ok 6 TypeError: Cannot read property 'getIdentity' of null at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:7                   95:44

Here is line 795:  header = Chain._buildHeader(userContext.getIdentity(), request.chainId, request.chaincodeId, request.txId, request.nonce);

Here is some context:

                var self = this;
                var proposal, header;
                return this._clientContext.getUserContext()
                .then(
                        function(userContext) {
                                header = Chain._buildHeader(userContext.getIdentity(), request.chainId, request.chaincodeId, request.txId, request.nonce);
                                proposal = self._buildProposal(invokeSpec, header);
                                let signed_proposal = self._signProposal(userContext.getSigningIdentity(), proposal);

                                return Chain._sendPeersProposal(self.getPeers(), signed_proposal);
                        }

",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-269,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxid3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deprecated cloudant@1.10.0,FABN-162,28457,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,rameshthoomu,rameshthoomu,13/Mar/18 10:13 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,14/Mar/18 11:09 AM,,,,,,,v1.0.6,v1.1.0,,,0,ci-failure,,,,"It seems cloudant@1.10.0 package is now deprecated and moved to a new name @cloudant/cloudant.
{code:java}
00:05:21.229 node version =======>
00:05:21.231 v6.9.5
00:05:21.993 npm WARN deprecated cloudant@1.10.0: This package is now scoped. The new name is @cloudant/cloudant
00:05:22.459 npm ERR! Linux 4.4.0-112-generic
00:05:22.459 npm ERR! argv ""/home/jenkins/.nvm/versions/node/v6.9.5/bin/node"" ""/home/jenkins/.nvm/versions/node/v6.9.5/bin/npm"" ""install""
00:05:22.477 npm ERR! node v6.9.5
00:05:22.478 npm ERR! npm  v3.10.10
00:05:22.478 npm ERR! code EREADFILE
00:05:22.478 
00:05:22.478 npm ERR! Error extracting /home/jenkins/.npm/cloudant/1.9.0/package.tgz archive: ENOENT: no such file or directory, open '/home/jenkins/.npm/cloudant/1.9.0/package.tgz'{code}",,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz13r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Mar/18 3:02 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/19125/;;;","14/Mar/18 6:03 AM;harrisob@us.ibm.com;For V1.0 https://gerrit.hyperledger.org/r/#/c/19137/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Order of requires breaks default config,FABN-163,20224,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,vdods,vdods,17/Aug/17 9:49 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Nov/17 1:25 PM,,,,,,,,,,,0,help-wanted,,,,"The following code causes fabric-ca-client/config/default.json to be loaded as the default config instead of fabric-client/config/default.json:

```const FabricCAServices = require('fabric-ca-client');

const FabricClient = require('fabric-client');

```

In particular, this caused the following line in fabric-client/lib/Client.js to assign undefined to process.env.GRPC_SSL_CIPHER_SUITES, because 'grpc-ssl-cipher-suites' is defined in fabric-client/config/default.json and not fabric-ca-client/config/default.json, thereby causing some GRPC calls to fail with little indication of why.

`process.env.GRPC_SSL_CIPHER_SUITES = sdkUtils.getConfigSetting('grpc-ssl-cipher-suites');`

 

Related: the function fabric-client/lib/utils.js:getConfig assigns a config singleton to `global.hfc`, which makes a bad assumption that `global.hfc` refers to the module.  However, this requires the importer of fabric-client to assign it to the global var `hfc`, which e.g. I didn't do.",,denyeart,harrisob@us.ibm.com,mastersingh24,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,mastersingh24,vdods,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/17 5:20 AM;harrisob@us.ibm.com;Thanks for finding this ... here is the Garrit item where the fix is going in

https://gerrit.hyperledger.org/r/#/c/15325/;;;","27/Nov/17 1:25 PM;denyeart;Merged.  Marking done, if anything else remains please open another Jira item.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] hfc/lib/Client.js consesus --> consensus ?,FABN-164,14147,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jjjjibm,jjjjibm,18/Jan/17 11:53 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:43 PM,,,,,,,,,,,0,,,,,"Class Chain  in hfc/lib/Client.js has two methods: getConsesus() and setConsesus()

consesus ---> consensus? ","Vlaunch VM 
Cloned directories yesterday Pm",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxifj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Usability] Node.JS SDK Mutual TLS tutorial is still pointing to the old instructions/APIs,FABN-165,31266,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,21/Jun/18 11:11 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Jun/18 11:16 PM,v1.2.0,,,,,,v1.2.0,,,,0,quality,,,,"To enable Mutual TLS with  Fabric Node.js SDK 1.2  the instructions in the tutorial are still pointing to the old approach and which seems to be deprecated from 1.2 onwards.

rather Instructions should point to use the following API 

 
*client.setTlsClientCertAndKey(clientCertificate, clientKey);*",,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jun/18 11:18 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23489/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] Integration Tests Fail When Using Node SDK 1.1 APIs with SDK/fabric/fabric-ca are at v1.2,FABN-166,31200,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,Ratnakar,Ratnakar,20/Jun/18 7:22 AM,21/Sep/18 11:50 PM,28/Oct/23 3:25 AM,21/Jun/18 5:26 AM,v1.2.0,,,,,,v1.2.0,,,,0,quality,,,,"Refer the case 4 of FAB-10161

Gist of failures (added a work around to remove the failures seen in FAB-10731 )
{code:java}
450:not ok 223 Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member2""
475:not ok 224 Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member3""
500:not ok 225 Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member4""
545:not ok 241 install reject: Error: Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testInstall"" at new Channel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Channel.js:96:11) at Client.newChannel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:203:19) at installChaincode (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:158:24) at test (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:59:2) at Test.<anonymous> (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13) at Test.bound [as _cb] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32) at Test.run (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:95:10) at Test.bound [as run] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32) at Immediate.next (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/results.js:71:15) at runCallback (timers.js:789:20) at tryOnImmediate (timers.js:751:5) at processImmediate [as _immediateCallback] (timers.js:722:5)
573:not ok 242 install reject: Error: Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testInstall0"" at new Channel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Channel.js:96:11) at Client.newChannel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:203:19) at installChaincode (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:158:24) at installChaincode.then.catch.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:78:3) at <anonymous> at runMicrotasksCallback (internal/process/next_tick.js:121:5) at _combinedTickCallback (internal/process/next_tick.js:131:7) at process._tickCallback (internal/process/next_tick.js:180:9)
602:not ok 243 using chaincodePackage - install reject: Error: Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testInstallPackage"" at new Channel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Channel.js:96:11) at Client.newChannel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:203:19) at installChaincode (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:158:24) at Packager.package.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/install.js:112:3) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7)

622:not ok 244 using chaincodePackage0 - install same chaincode again - reject, error
828:not ok 341 Failed to get an error returned :: No Error returned , should have had an error with chaincode exists end2endnodesdk
843:not ok 342 Failed to get an error returned :: No Error returned , should have had an error with chaincode exists end2endnodesdk


667:not ok 259 Timeout - Failed to receive the event for instantiate
966:not ok 386 Failed to send transaction and get notifications within the timeout period.
979:not ok 387 Error: Failed to send transaction and get notifications within the timeout period. at Promise.all.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/invoke.js:302:11) at <anonymous>
910:not ok 373 Failed to send transaction and get notifications within the timeout period.
923:not ok 374 Error: Failed to send transaction and get notifications within the timeout period. at Promise.all.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/invoke.js:302:11) at <anonymous>

382:not ok 217 TypeError: Cannot read property 'EC' of undefined
409:not ok 218 Failed to enroll 'testUser'. Error: Enrollment failed with errors [[{""code"":20,""message"":""Authorization failure""}]]
1007:not ok 391 Test failed with TypeError: Cannot read property '_caName' of undefined


644:not ok 252 Expecting a rejected promise from the 2nd transaction should be invalid
682:not ok 260 (unnamed assert)
707:not ok 267 Error: Failed to send install Proposal or receive valid response: Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052367 vs. 1048576) at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/e2eUtils.js:166:10) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7)
938:not ok 375 Failed to invoke transaction chaincode


{code}
For Quick reference given the steps to reproduce the issue as following
 *Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.2, Fabric is at 1.2 & Fabric-CA is at 1.2*
{code:java}
Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install
make sure to use latest 1.2 node modules for the clients fabric-client and fabric-ca-client (As of this testing used the version: 1.2.0-snapshot.62)
rm -rf node_modules/fabric-c*
npm install fabric-client@1.2.0-snapshot.62
npm install fabric-ca-client@1.2.0-snapshot.62

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}",,bmos299,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10161,,,,,,,,,,,"21/Jun/18 3:18 AM;Ratnakar;case4.txt;https://jira.hyperledger.org/secure/attachment/15131/case4.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 9:56 PM;bmos299;[~Ratnakar] is still debugging the specific test failures.  At this point, we believe this bug is high and will have more information by mid-day EST. ;;;","21/Jun/18 5:26 AM;Ratnakar;Raised separate issues
 FAB-10773 [Interoperability test ] some negative tests of V1.1 Integration tests are failing when channel name has Captial letters 
 FAB-10774 [Interoperability test ] Some of the integration tests are failing with timouts
 FAB-10776 [Interoperability test ] Integration test failed with error ""unnamed assert""
 FAB-10777 [Interoperability test ] Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052367 vs. 1048576)
 FAB-10779 [Interoperability test ] Failed to invoke transaction chaincode
 FAB-10780 [Interoperability test ] TypeError: Cannot read property '_caName' of undefined

 

closing this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chain.getOrganizationUnits() can be confusing,FABN-167,16759,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,16/May/17 11:54 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/May/17 1:58 AM,,,,,,,,,,,0,,,,,"This method returns an array of MSP ids. this name overlaps with MSP's organizational unit support which is totally different.

could change to getMSPIds() but to application developer getOrganizations() should be easier to grasp.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to join peer from different machine than orderer,FABN-168,22447,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,hl-admin,tejasborawake,tejasborawake,17/Oct/17 2:31 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/Oct/17 12:24 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Hi,

We are trying to create multi-machine setup of Fabric Node-SDK using 1.0.0 version.
We are able to start orderer,CAs and all peers of both ORG1 and ORG2.
We are able to register token and create channel, but when we try to connect ORG1 or ORG2 to channel, we get below error. Could you please help us in resolving this error?:


{color:#d04437}_*error: [Orderer.js]: sendDeliver - on error code 14: ""Error: Connect Failed\n    at ClientDuplexStream._emitStatusIfDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:201:19)\n    at ClientDuplexStream._readsDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:169:8)\n    at readCallback (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:229:12)""
[2017-10-17 10:49:53.827] [ERROR] Join-Channel - Error: SERVICE_UNAVAILABLE
    at ClientDuplexStream.<anonymous> (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/fabric-client/lib/Orderer.js:234:23)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at ClientDuplexStream._emitStatusIfDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:204:12)
    at ClientDuplexStream._readsDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:169:8)
    at readCallback (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:229:12)
[2017-10-17 10:49:53.827] [ERROR] Join-Channel - Error: Error: SERVICE_UNAVAILABLE
    at ClientDuplexStream.<anonymous> (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/fabric-client/lib/Orderer.js:234:23)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at ClientDuplexStream._emitStatusIfDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:204:12)
    at ClientDuplexStream._readsDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:169:8)
    at readCallback (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:229:12)
    at helper.getOrgAdmin.then.then (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/app/join-channel.js:120:9)
    at process._tickCallback (internal/process/next_tick.js:109:7)
[2017-10-17 10:49:53.828] [DEBUG] Join-Channel - 
!!!!!!!! ERROR: Join Channel FAILED !!!!!!!!

[2017-10-17 10:49:53.828] [DEBUG] Join-Channel - 
(node:30702) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 6): Error: Error: Error: SERVICE_UNAVAILABLE
    at ClientDuplexStream.<anonymous> (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/fabric-client/lib/Orderer.js:234:23)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at ClientDuplexStream._emitStatusIfDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:204:12)
    at ClientDuplexStream._readsDone (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:169:8)
    at readCallback (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/node_modules/grpc/src/node/src/client.js:229:12)
    at helper.getOrgAdmin.then.then (/home/dev/work/src/github.com/hyperledger/mortgagelending/dlt-service/mortgage/app/join-channel.js:120:9)
    at process._tickCallback (internal/process/next_tick.js:109:7){color}
*_",,harrisob@us.ibm.com,tejasborawake,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,tejasborawake,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/17 8:05 PM;tejasborawake;docker logs of peer0 of org1 shows below error:

2017-10-17 10:45:48.236 UTC [deliveryClient] StartDeliverForChannel -> DEBU 2c8 This peer will pass blocks from orderer service to other peers for channel mychannel
2017-10-17 10:45:51.237 UTC [ConnProducer] NewConnection -> ERRO 2c9 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded
2017-10-17 10:45:51.238 UTC [deliveryClient] connect -> ERRO 2ca Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]
2017-10-17 10:45:55.239 UTC [ConnProducer] NewConnection -> ERRO 2cb Failed connecting to orderer.example.com:7050 , error: context deadline exceeded
2017-10-17 10:45:55.239 UTC [deliveryClient] connect -> ERRO 2cc Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050]
2017-10-17 10:46:00.240 UTC [ConnProducer] NewConnection -> ERRO 2cd Failed connecting to orderer.example.com:7050 , error: context deadline exceeded
2017-10-17 10:46:00.240 UTC [deliveryClient] connect -> ERRO 2ce Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050];;;","26/Oct/17 12:24 AM;harrisob@us.ibm.com;Would you please recheck this with the latest fabric and NodeSDK;;;","26/Oct/17 2:41 PM;tejasborawake;Could you please point out which are the latest fabric,fabric-ca,Node-SDk versions?
There are too many branches and tags to fin latest ones.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Required node engine and npm version ranges need to be tightened,FABN-169,14456,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,01/Feb/17 12:48 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:39 AM,,,,,,,,,,,0,,,,,so that we don't end up supporting many versions that we won't be able to fully test,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx77r:",,,,,,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk error message when installing couchDB index,FABN-170,28250,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,dongming,dongming,07/Mar/18 3:13 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Mar/18 5:40 AM,,,,,,,v1.1.0,,,,0,must-fix,,,,"Using node-sdk commit 210dc901cab9dc26c1b3ad7403d08d2ca36b2a14 to install chanicode with couchDB index, the install request is

\{""targets"":[\{""clientCert"":null,""_options"":\{""grpc.ssl_target_name_override"":""peer0.org2.example.com"",""grpc.default_authority"":""peer0.org2.example.com"",""grpc.max_receive_message_length"":-1,""grpc.max_send_message_length"":-1,""grpc.primary_user_agent"":""grpc-node/1.7.3""},""_url"":""grpcs://localhost:7063"",""_endpoint"":\{""creds"":\{},""addr"":""localhost:7063""},""_request_timeout"":45000,""_endorserClient"":\{""$channel"":\{}},""_roles"":\{}},\{""clientCert"":null,""_options"":\{""grpc.ssl_target_name_override"":""peer1.org2.example.com"",""grpc.default_authority"":""peer1.org2.example.com"",""grpc.max_receive_message_length"":-1,""grpc.max_send_message_length"":-1,""grpc.primary_user_agent"":""grpc-node/1.7.3""},""_url"":""grpcs://localhost:7064"",""_endpoint"":\{""creds"":\{},""addr"":""localhost:7064""},""_request_timeout"":45000,""_endorserClient"":\{""$channel"":\{}},""_roles"":\{}}],""chaincodePath"":""github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02"",""metadataPath"":""github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02"",""chaincodeId"":""marbles02_go_ch1"",""chaincodeType"":""golang"",""chaincodeVersion"":""v0""}

 

and observe this error message:

/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/packager/BasePackager.js:84
 logger.error(`error while packaging $\{item.path}`);
 ^

ReferenceError: logger is not defined
 at Walker.klaw.on.on (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/packager/BasePackager.js:84:5)
 at emitTwo (events.js:126:13)
 at Walker.emit (events.js:214:7)
 at /home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/node_modules/klaw/src/index.js:34:26
 at /home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/node_modules/graceful-fs/polyfills.js:284:29
 at FSReqWrap.oncomplete (fs.js:152:21)

 ",,AdnanChoudhury,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz013:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Mar/18 4:32 AM;AdnanChoudhury;This error will be hit if the metadataPath is not found. It tries to log it but then can't find the logger, because it's not imported, as noted  in the comment in 8345
If the metadatapath is correct, this error wont occur. ;;;","07/Mar/18 5:25 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/18787/;;;","07/Mar/18 10:18 AM;denyeart;[~dongming] [~AdnanChoudhury] The fix is merged, you can retry latest SDK and verify a good error message is returned now.;;;","07/Mar/18 11:25 PM;dongming;Retest with the fix (9c5ecb8040773ff3836979b3cf86caca10fa93e4) with the incorrect META-INF path, do not see the ""logger is not defined"" message. Now SDK returns the following error message to notify user that the file/directory does not exist:

 

error: [packager/BasePackager.js]: error while packaging item \{""path"":""/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02/META-INF""} :: Error: ENOENT: no such file or directory, lstat '/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02/META-INF';;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
minor optimization: use env var for fabric-ca cert and key in e2e docker-compose.yaml,FABN-171,16916,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/May/17 3:57 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/May/17 11:10 AM,,,,,,,,,,,0,,,,,"the fabric-ca services in the docker-compose.yaml uses a mix of environment variables and command line arguments, while all parameters can be specified with environment variables. clean this up for consistency and better readability",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/May/17 5:17 PM;lehors;I don't think this really qualifies as ""a bug"" per se but I agree with the sentiment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update FIT to run the new end to end test,FABN-172,15211,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,jimthematrix,jimthematrix,06/Mar/17 4:00 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,11/Mar/17 5:44 AM,,,,,,,,,,,0,,,,,"two changes are needed:
- run test/fixtures/channel/docker-compose.yaml instead of test/fixtures/docker-compose.yaml
- run test/integration/e2e.js instead of end-to-end.js",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2655,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Mar/17 5:44 AM;rameshthoomu;FIT job has been updated with new e2e program. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
events do not work ,FABN-173,13857,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,bfuentes@fr.ibm.com,bfuentes@fr.ibm.com,19/Dec/16 11:38 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,06/Apr/17 3:42 AM,,,,,,,,,,,0,help-wanted,,,,"I am trying to make events working on hfc, but when I initialize it, I have an error.
So I used debug to see what happened (see attached file) 
It sounds like ""this"" is no more referencing the eventHub line 2382 of hfc.js (v0.6.5) 

!image-2016-12-19-15-35-08-973.png|thumbnail! ",,bfuentes@fr.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/16 11:35 PM;bfuentes@fr.ibm.com;image-2016-12-19-15-35-08-973.png;https://jira.hyperledger.org/secure/attachment/10322/image-2016-12-19-15-35-08-973.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bfuentes@fr.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - should return bytes not hex string,FABN-174,17504,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,06/Jun/17 2:07 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Jun/17 6:43 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"During the decode of block data signatures and unknown payloads were being converted to hex strings, although this would print out nice in logs it was not easily worked with by applications.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxz1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-SDK] chain.setPreFetchMode() takes an undocumented parameter,FABN-175,14148,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,18/Jan/17 12:06 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:43 AM,,,,,,,,,,,0,,,,,"The implementation of setPreFetchMode in chain.js is this:

/**
	 * Set prefetch mode to true or false.
	 */
	setPreFetchMode(preFetchMode) {
		this._preFetchMode = preFetchMode;
	}

Clearly, setPreFetchMode() takes a parameter. 

However, the generated documentation does not mention the parameter:

setPreFetchMode()

    Set prefetch mode to true or false.


Here's another:

code : 
/**
	 * Set the tcert batch size.
	 */
	setTCertBatchSize(batchSize) {
		this._tcertBatchSize = batchSize;
	}

docs/gen:  
setTCertBatchSize()

    Set the tcert batch size.

Example of method with documented inputs:

From class Client

setUserContext(user, skipPersistence)

    Sets an instance of the User class as the security context of self client instance. This user’s credentials (ECert), or special transaction certificates that are derived from the user's ECert, will be used to conduct transactions and queries with the blockchain network. Upon setting the user context, the SDK saves the object in a persistence cache if the “state store” has been set on the Client instance. If no state store has been set, this cache will not be established and the application is responsible for setting the user context again if the application crashes and is recovered.
    Parameters:
    Name 	Type 	Description
    user 	User 	

    An instance of the User class encapsulating the authenticated user’s signing materials (private key and enrollment certificate)
    skipPersistence 	boolean 	

    Whether to skip saving the user object into persistence. Default is false and the method will attempt to save the user object to the state store.

How to recreate:
1.Cllone fabric-sdk-node
2.gulp doc from <fabric-sdk-node>
3.cd to fabric-sdk-node/docs
4.python -m SimpleHTTP  /* start HTTP server on your VM */
5.In a browser, <your VM  ip>:8000 and follow the bouncing ball.  
","Fabric-node-SDK cloned yesterday.
",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxifr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
End-to-end test fails partially,FABN-176,13939,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,smithbk,AdnanChoudhury,AdnanChoudhury,06/Jan/17 7:02 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 10:15 PM,,,,,,,,,,,0,node-SDK,,,,"Following Jim's Sprint7 node js SDK video (https://www.youtube.com/watch?v=t7PcpkIoGAc), the attached script goes through the setup etc. and runs the end-to-end test step 1.  It runs 3 tests, and 2 of them fail.

Here is the output:


{code:java}
info: [Chain.js]: Constructed Chain instance: name - testChain-e2e, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [Peer.js]: Peer.const - url: grpc://localhost:7051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:7056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
[2017-01-05 16:49:48.935] [INFO] E2E - Found steps: step1
TAP version 13
# End-to-end flow of chaincode deploy, transaction invocation, and query
[2017-01-05 16:49:48.941] [INFO] E2E - Executing step1
info: [Client.js]: Failed to load user ""admin"" from local key value store
[2017-01-05 16:49:48.945] [INFO] E2E - [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store
[2017-01-05 16:49:48.946] [DEBUG] E2E - [crypto_ecdsa_aes]: Hash algorithm: SHA2, hash output size: 256
[2017-01-05 16:49:48.946] [INFO] E2E - [FabricCOPImpl.js]: Successfully constructed Fabric COP service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":8888}
[2017-01-05 16:49:48.987] [DEBUG] E2E - [ecdsa/key.js]: ECDSA curve param X: 3561bf3953c987fb10c40b2123b400f4bab1e7edce4ea9d94e143be8b3d46f8f
[2017-01-05 16:49:48.987] [DEBUG] E2E - [ecdsa/key.js]: ECDSA curve param Y: 679a7d5f3f74396f0ce4466e24348c398d660331cd3f73b529fdceddb9b5e35c
not ok 1 Error: Enrollment failed with errors [[{""code"":400,""message"":""100001: failed in Sign%!(EXTRA []interface {}=[]) [{\""code\"":11000,\""message\"":\""attempt to write a readonly database\""}]""}]] at IncomingMessage.<anonymous> (/home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc-cop/lib/FabricCOPImpl.js:287:22) at emitNone (events.js:91:20) at IncomingMessage.emit (events.js:185:7) at endReadableNT (_stream_readable.js:974:12) at _combinedTickCallback (internal/process/next_tick.js:74:11) at process._tickCallback (internal/process/next_tick.js:98:9)
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...
ok 2 Successfully enrolled user 'admin'
error: [Chain.js]: Sending the deployment proposal failed. Error: TypeError: Cannot read property 'getIdentity' of null
    at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49
error: [Chain.js]: Building the deployment proposal failed. Error: TypeError: Cannot read property 'getIdentity' of null
    at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49
not ok 3 TypeError: Cannot read property 'getIdentity' of null at /home/adnan/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:381:49
  ---
    operator: fail
  ...

1..3
# tests 3
# pass  1
# fail  2

{code}
",,AbhilekhSingh,AdnanChoudhury,ibmamnt,ishihara.shun,jimthematrix,Komhar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jan/17 6:58 AM;AdnanChoudhury;testscript.sh;https://jira.hyperledger.org/secure/attachment/10367/testscript.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AbhilekhSingh,AdnanChoudhury,ibmamnt,ishihara.shun,jimthematrix,Komhar,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Feb/17 5:53 AM;mastersingh24;[~jimthematrix] - is this still an issue?;;;","08/Feb/17 10:16 PM;jimthematrix;[~AdnanChoudhury] if you can still reproduce this please re-open and add the conditions that makes the error happen (native process or docker for fabric-ca, what parameters are used);;;","10/Feb/17 1:04 PM;Komhar;Also happening with prod scripts at getting started link https://hyperledger-fabric.readthedocs.io/en/latest/gettingstarted/  on deployment of chaincode (16.10 Ubuntu).

**nfo: Returning a new winston logger with default configurations
info: [Chain.js]: Constructed Chain instance: name - fabric-client1, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [Peer.js]: Peer.const - url: grpc://localhost:8051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8055 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Client.js]: Failed to load user ""admin"" from local key value store
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":8054}
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store /home/montoo/.hfc-key-store**
;;;","07/Mar/17 5:45 PM;AbhilekhSingh;Still happening on
{code:none}
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 16.04.2 LTS
Release:	16.04
Codename:	xenial
{code}


{code:none}
info: Returning a new winston logger with default configurations
info: [Chain.js]: Constructed Chain instance: name - fabric-client1, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [Peer.js]: Peer.const - url: grpc://localhost:8051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8055 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Client.js]: Failed to load user ""admin"" from local key value store
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":8054}
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store /home/ubuntu/.hfc-key-store
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - add test for multiple chaincode registration,FABN-177,29366,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,13/Apr/18 4:26 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/Apr/18 2:13 AM,,,,,,,v1.2.0,,,,0,,,,,Add test for multiple chaincode registration for both the EventHub and ChannelEventHub,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5r3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 4:39 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/20509/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK: channel.getGenisisBlock() has uncatched Promise,FABN-178,30882,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jamesruan,jamesruan,05/Jun/18 7:45 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,11/Jun/18 11:55 PM,v1.1.0,,,,,,,,,,0,,,,," 

I'm modifying the fabric-samples/balance-transfer to see how to know the new channel has been created. The current API doc for client.createChannel has following description:
{code:java}
Returns:
Promise for a result object with status on the acceptance of the create request by the orderer. Note that this is not the confirmation of successful creation of the channel. The client application must poll the orderer to discover whether the channel has been created completely or not.{code}
I've looked at the code in the golang peer cmd tool. It calls getGenesisBlock() right after the createChannel() has returned. So I tried similar with the node sdk. However, I've got the following

error complaining about the reason why the genesis block can not be fetched.
{code:java}
error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND

[2018-06-05 18:24:51.583] [ERROR] Create-Channel - Error: Invalid results returned ::NOT_FOUND

    at ClientDuplexStream.<anonymous> (/Users/rbh/git/fabric-samples/balance-transfer/node_modules/fabric-client/lib/Orderer.js:229:22)

    at emitOne (events.js:116:13)

    at ClientDuplexStream.emit (events.js:211:7)

    at addChunk (_stream_readable.js:263:12)

    at readableAddChunk (_stream_readable.js:250:11)

    at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)

    at readCallback (/Users/rbh/git/fabric-samples/balance-transfer/node_modules/grpc/src/client.js:312:14)

(node:25358) UnhandledPromiseRejectionWarning: Error: Failed to initialize the channel: Error: Invalid results returned ::NOT_FOUND

    at Object.createChannel (/Users/rbh/git/fabric-samples/balance-transfer/app/create-channel.js:71:9)

    at <anonymous>

    at process._tickCallback (internal/process/next_tick.js:188:7)

(node:25358) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)

(node:25358) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.{code}
I want to know:
 # Why there's no error handle for the getGenesisBlock? A bug?
 # Why sendDeliver() with SeekBehaviour: BLOCK_UNTIL_READY will fail? (I'd dug into the getGenesisBlock()'s code)
 # 
 # Is there a way to be notified that the channel has been created with node SDK?

 ",,harrisob@us.ibm.com,jamesruan,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzze5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jamesruan,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/18 6:10 AM;kchristidis;Please attach the code for the modified balance-transfer script.

/cc [~harrisob@us.ibm.com] [~wenjian];;;","07/Jun/18 12:23 PM;jamesruan;
{code:java}
/**
 * Copyright 2017 IBM All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an 'AS IS' BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
var util = require('util');
var fs = require('fs');
var path = require('path');

var helper = require('./helper.js');
var logger = helper.getLogger('Create-Channel');
//Attempt to send a request to the orderer with the sendTransaction method
var createChannel = async function(channelName, channelConfigPath, username, orgName) {
    logger.debug('\n====== Creating Channel \'' + channelName + '\' ======\n');
    try {
        // first setup the client for this org
        var client = await helper.getClientForOrg(orgName);
        logger.debug('Successfully got the fabric client for the organization ""%s""', orgName);

        // read in the envelope for the channel config raw bytes
        var envelope = fs.readFileSync(path.join(__dirname, channelConfigPath));
        // extract the channel config bytes from the envelope to be signed
        var channelConfig = client.extractChannelConfig(envelope);

        //Acting as a client in the given organization provided with ""orgName"" param
        // sign the channel config bytes as ""endorsement"", this is required by
        // the orderer's channel creation policy
        // this will use the admin identity assigned to the client when the connection profile was loaded
        let signature = client.signChannelConfig(channelConfig);

        let request = {
            config: channelConfig,
            signatures: [signature],
            name: channelName,
            txId: client.newTransactionID(true) // get an admin based transactionID
        };

        // send to orderer
        var response = await client.createChannel(request)
        logger.debug(' response ::%j', response);
        if (response && response.status === 'SUCCESS') {
            let channel = client.getChannel(channelName);
            let genesis_block = await channel.getGenesisBlock(request);
            logger.debug(genesis_block);
            logger.debug('Successfully created the channel.');
            let response = {
                success: true,
                message: 'Channel \'' + channelName + '\' created Successfully'
            };
            return response;
        } else {
            logger.error('\n!!!!!!!!! Failed to create the channel \'' + channelName +
                '\' !!!!!!!!!\n\n');
            throw new Error('Failed to create the channel \'' + channelName + '\'');
        }
    } catch (err) {
        logger.error('Failed to initialize the channel: ' + err.stack ? err.stack :    err);
        throw new Error('Failed to initialize the channel: ' + err.toString());
    }
};

exports.createChannel = createChannel;

{code}
;;;","11/Jun/18 11:55 PM;harrisob@us.ibm.com;You will just have to keep trying till it is found. Just add a sleep to your code for 5 seconds before getting the genesis block (joining the channel by the peer).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing setCryptoKeyStore function to typescript type,FABN-179,29377,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,Superjo149,Superjo149,13/Apr/18 9:27 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,20/Apr/18 12:30 PM,,,,,,,v1.1.0,,,,0,,,,,,,Superjo149,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5sv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Superjo149,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Apr/18 4:41 PM;zhaochy;master : https://gerrit.hyperledger.org/r/#/c/20611/;;;","20/Apr/18 12:30 PM;zhaochy;for release 1.1 https://gerrit.hyperledger.org/r/#/c/20613/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk-node e2e tests are failed on latest commit [sdk=80d8508],FABN-180,16321,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,rameshthoomu,rameshthoomu,04/May/17 10:35 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/May/17 5:03 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Observed sdk-node e2e tests are failing.. Below is the error log from CI build

https://jenkins.hyperledger.org/sandbox/job/e2e_FIT_x86_64/11/consoleText

{code:java}
00:25:49.299 ok 11 Successfully enrolled orderer 'admin'
00:25:49.324 error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
00:25:49.332 not ok 12 Error: Invalid results returned ::NOT_FOUND at ClientDuplexStream.<anonymous> (/w/workspace/e2e_FIT_x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:9:9047) at emitOne (events.js:96:13) at ClientDuplexStream.emit (events.js:188:7) at readableAddChunk (_stream_readable.js:176:18) at ClientDuplexStream.Readable.push (_stream_readable.js:134:10) at readCallback (/w/workspace/e2e_FIT_x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:245:14)
00:25:49.333   ---
00:25:49.333     operator: fail
00:25:49.333     at: hfc.newDefaultKeyValueStore.then.then.then.then (/w/workspace/e2e_FIT_x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:224:5)
00:25:49.333   ...
00:25:49.333 not ok 13 Error: Error: Invalid results returned ::NOT_FOUND at ClientDuplexStream.<anonymous> (/w/workspace/e2e_FIT_x86_64
{code}

=======> FABRIC PEER COMMIT NUMBER - 99867e6 =======> FABRIC CA COMMIT NUMBER - 71fa531 =======> FABRIC SDK NODE COMMIT NUMBER - 80d8508

observed the same tests are worked as expected on ""power"" and ""z"" platforms.. ",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node tests are failing in x86_64 build nodes,FABN-181,17656,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,09/Jun/17 12:19 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Jun/17 8:54 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,build-system,node-SDK,quality,,fabric-sdk-node tests are failing in x86_64 build nodes. Don't see this issue in z build nodes but consistently failing in x86_64 build nodes.,Jenkins X86_64,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:44 AM;mastersingh24;[~rameshthoomu] - can you add some more detail here and is this alpha2 or beta?;;;","09/Jun/17 8:54 AM;rameshthoomu;[~mastersingh24] this issue was fixed with this patch https://gerrit.hyperledger.org/r/#/c/10351/... We didn't observe any failures after this patch. Will monitor fabric-sdk-node-verify-x86_64 builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Provide constructor for input to chain.setMemberServices(),FABN-182,12550,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,26/Aug/16 12:41 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:30 AM,,,,,,,,,,,0,.6,Fabric05,node-SDK,,"Here is the documentation generated for setMemberServices(): 


_setMemberServices

    setMemberServices(memberServices: MemberServices): void

        Defined in src/hfc.ts:504

    Set the member service associated this chain. This allows the default implementation of member service to be overridden.
    Parameters
        memberServices: MemberServices
    Returns void

_
The documentation describes MemberServices as an Interface, but 
(1) The documentation does not describe how to build a MemberServices, and
(2) The node SDK does not provide a constructure for MemberServices (That is, you
can't code  'new MemberServices' to create an input for chain.getMemberServices()

The only method I could devise to make an input to setMemberServices is to print one out: 
    console.log(""Here is a MemberServices: "", chain.getMemberServices());

_Here is a MemberServices:  { ecaaClient: { '$channel': {} },
  ecapClient: { '$channel': {} },
  tcapClient: { '$channel': {} },
  tlscapClient: { '$channel': {} },
  cryptoPrimitives:
   { hashAlgorithm: 'SHA3',
     securityLevel: 256,
     suite: 'sha3-256',
     curveName: 'secp256r1',
     hashFunction:
      { [Function]
        create: [Function],
        update: [Function],
        hex: [Function],
        buffer: [Function],
        array: [Function] },
     hashFunctionKeyDerivation: { [Function] hash: [Function] },
     hashOutputSize: 32,
     ecdsaCurve:
      { curve: [Object],
        g: <EC Point x: 6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296 y: 4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5>,
        n: <BN: ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551>,
        hash: [Object] } } }_

and to copy it like this: 

_// Make a modifiable copy of incoming member services 
	var myMemberServices = { ecaaClient: initMemberServices.ecaaClient
									,ecapClient: initMemberServices.ecapClient
									,tcapClient: initMemberServices.tcapClient
									,tlscapClient: initMemberServices.tlscapClient
									,cryptoPrimitives: initMemberServices.cryptoPrimitives
									};
_

Then I can modify the securityLevel and hashAlgorithm: 

// Modify my MemberServices so I can test chain.setMemberServices()
	myMemberServices.cryptoPrimitives.securityLevel = initMemberServices.getSecurityLevel() == 256 ? 384 : 256; 
    myMemberServices.cryptoPrimitives.hashAlgorithm = initMemberServices.getHashAlgorithm('SHA2') == 'SHA2' ? 'SHA3' : 'SHA2'; 

console.log(""\nMyMemberServices with new security level and hash algorithm: "", myMemberServices);

_MyMemberServices with new security level and hash algorithm:  { ecaaClient: { '$channel': {} },
  ecapClient: { '$channel': {} },
  tcapClient: { '$channel': {} },
  tlscapClient: { '$channel': {} },
  cryptoPrimitives:
   { hashAlgorithm: 'SHA2',
     securityLevel: 384,
     suite: 'sha3-256',
     curveName: 'secp256r1',
     hashFunction:
      { [Function]
        create: [Function],
        update: [Function],
        hex: [Function],
        buffer: [Function],
        array: [Function] },
     hashFunctionKeyDerivation: { [Function] hash: [Function] },
     hashOutputSize: 32,
     ecdsaCurve:
      { curve: [Object],
        g: <EC Point x: 6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296 y: 4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5>,
        n: <BN: ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551>,
        hash: [Object] } } }_

Now that my copy is ready, I can invoke:
     chain.setMemberServices(myMemberServices);
console.log(""\nnew member services after chain.setMemberServices(myMemberServices):"", chain.getMemberServices());

This ostensibly works.  Of course it does, because 

(3) chain.setMemberServices() returns void and thus has no way of indicating an error
ocurred when attempting to set MemberServices.

Here's the new chain.MemberServices:

_new member services after chain.setMemberServices(myMemberServices): { ecaaClient: { '$channel': {} },
  ecapClient: { '$channel': {} },
  tcapClient: { '$channel': {} },
  tlscapClient: { '$channel': {} },
  cryptoPrimitives:
   { *hashAlgorithm: 'SHA2',
*    * securityLevel: 384,
*     suite: 'sha3-256',
     curveName: 'secp256r1',
     hashFunction:
      { [Function]
        create: [Function],
        update: [Function],
        hex: [Function],
        buffer: [Function],
        array: [Function] },
     hashFunctionKeyDerivation: { [Function] hash: [Function] },
     hashOutputSize: 32,
     ecdsaCurve:
      { curve: [Object],
        g: <EC Point x: 6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296 y: 4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5>,
        n: <BN: ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551>,
        hash: [Object] } } }_

It looks OK.  Note the  securityLevel and hash Al Gore rhythm matches what is in myMemberServices. 

And finally, for the pièce de résistance,let's fetch that new security level out of the MemberService that is now in the chain: 
    console.log(""chain.getMemberServices().getSecurityLevel "", chain.getMemberServices().getSecurityLevel());

Here's the output: 

_/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:738
n.getMemberServices().getSecurityLevel "", chain.getMemberServices().getSecurit
                                                                    ^
TypeError: undefined is not a function_

What's up with that?  Did I code that call wrong?  No, because when I comment out this line: 
   +//chain.setMemberServices(myMemberServices);
+this line works: +console.log(""chain.getMemberServices().getSecurityLevel "", chain.getMemberServices().getSecurityLevel());+

Here's the output: _chain.getMemberServices().getSecurityLevel  384
_
So the coded line is fine.  Uncommenting //chain.setMemberServices(myMemberServices); and trying again, the output is: 
_/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:738
n.getMemberServices().getSecurityLevel "", chain.getMemberServices().getSecurit
                                                                    ^
TypeError: undefined is not a function_

So, it seems that 
(4) chain.setMemberServices() works, but it breaks chain.getMemberServices().getSecurityLevel().
(5) it breaks chain.getMemberServices().getHashAlgorithm() the same way.

You may claim myMemberServices is defective in some way.  To that I say:
(6) node-SDK makes it too hard to build myMemberServices.  See title of this issue. 

There's another possible resolution of this issue.  Anya Derbakova discussed this issue.  the upshot of the discussion is, 
(7) perhaps chain.setMemberServices() is not meant to be exposed?

Here is the chat: 
+var initMemberServices = chain.getMemberServices();
   
   // Make a modifiable copy of incoming member services 
   var c = copyOfMemberServices = { ecaaClient: initMemberServices.ecaaClient
                                   ,ecapClient: initMemberServices.ecapClient
                                   ,tcapClient: initMemberServices.tcapClient
                                   ,tlscapClient: initMemberServices.tlscapClient
                                   ,cryptoPrimitives: initMemberServices.cryptoPrimitives};

[2:33]  
This is pretty much the only way to build MemberServices if you want to use the setMemberServices(), right?

[2:33]  
And since stuff like this occurs:

[2:34]  
temp =  384
/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:721
      copyOfMemberServices.setSecurityLevel(temp);
                           ^
TypeError: undefined is not a function

[2:34]  
You pretty much have to do this:

[2:35]  
copyOfMemberServices.cryptoPrimitives.SecurityLevel = 384;

[2:35]  
Right?

[2:36]  
(Same question sent to Keith)

anya [3:06 PM]  
i belive so...

[3:06]  
but i honestly have not tried that

[3:06]  
not sure why you would need this

jcwolf [3:07 PM]  
Well, how to build input for chain.setMemberServices()?

[3:07]  
etMemberServices

   setMemberServices(memberServices: MemberServices): void

       Defined in src/hfc.ts:504

   Set the member service associated this chain. This allows the default implementation of member service to be overridden.

anya [3:07 PM]  
what do you mean by build input?

jcwolf [3:08 PM]  
Well, the parameter is an object of type MemberServices

[3:08]  
So I would need to create a MemberServices object so I could call this method

anya [3:08 PM]  
chain.setMemberServicesUrl(""grpc://localhost:7054"");

[3:08]  
?

[3:09]  
 ```    /**
     * Set the member services URL
     * @param {string} url Member services URL of the form: ""grpc://host:port"" or ""grpcs://host:port""
     */
    setMemberServicesUrl(url:string, pem?:string):void {
        this.setMemberServices(newMemberServices(url,pem));
    }
```

[3:09]  
it creates it for you

jcwolf [3:09 PM]  
That's a different method.   Should setMemberServices() be exposed?

[3:11]  
What is supposed to be at grpc://localhost:7054?

anya [3:11 PM]  
the member services endpoint

[3:12]  
 ```    /**
     * Set the member service associated this chain.  This allows the default implementation of member service to be overridden.
     */
    setMemberServices(memberServices:MemberServices):void {
        this.memberServices = memberServices;
        if (memberServices instanceof MemberServicesImpl) {
           this.cryptoPrimitives = (<MemberServicesImpl>memberServices).getCrypto();
        }
    };
```

[3:12]  
this may already be exposed

[3:12]  
i believe it is

[3:12]  
but we don’t really use it that way it seems

[3:12]  
we just set the endpoint and that’s it

jcwolf [3:13 PM]  
Sorry for being thick, but what exactly is the member services endpoint?

anya [3:13 PM]  
the URL at which the member services process is listening

[3:13]  
it may be running locally, but it may not be

[3:13]  
in this example it is:
`chain.setMemberServicesUrl(""grpc://localhost:7054”);`

[3:14]  
the member services is running locally and listening on port 7054

[3:14]  
so all you have to do is point it to this URL that’s it

jcwolf [3:14 PM]  
What all this is leading up to, is that the SDK has exposed a method setMemberServices() but not enough information to build the input to setMemberServices()

anya [3:15 PM]  
`setMemberServicesURL` calls it under the covers

[3:15]  
so there is no need for you to create the object yourself

jcwolf [3:15 PM]  
So I'm creating that structure you see so as to add it to the unit test

[3:15]  
If it's exposed, it has to be tested because a customer will see it

[3:15]  
Or maybe it should be a private function

anya [3:16 PM]  
i’m not sure Janet

[3:16]  
i’m sorry

[3:16]  
this is a bit too tedious for me to answer it looks like (edited)

[3:16]  
i’ve used it the way i’m telling you

jcwolf [3:16 PM]  
I'll write up an issue and you guys can discuss it :slightly_smiling_face:

anya [3:16 PM]  
yes, i’ve got over “highest” priority issues to work

[3:16]  
so unfortunately that is kinda off my radar at this point

[3:17]  
we need more people to fix these things

[3:17]  
and we just don’t have them

[3:17]  
so please understand my frustration here

jcwolf [3:17 PM]  
I understand.  I just wanted to run it by you or Keith before writing up an issue in case I was missing something obvious

anya [3:18 PM]  
you are right the `setMemberServices` seems to be exposed, to my best knowledge

[3:18]  
and do people use it directly? it doesn’t seem to me that they do, but they certainly could as it is exposed.

jcwolf [3:19 PM]  
Yeah, maybe it's not strictly necessary, but I dno't have enough of a feel to say whether or not it is needed by our users

anya [3:19 PM]  
right, i see your point

[3:19]  
at this time, it doesn’t seem like… but in the future, maybe

jcwolf [3:19 PM]  
It would seem perhaps the intent is suppose you don't like what is at grpc://localhost:7054, you could override one of the values

[3:20]  
Thanks for your input.  I'll write up the issue

[3:20]  
I think I have enough to describe the issue

anya [3:21 PM]  
```    constructor(url:string,pem:string) {
        let ep = new Endpoint(url,pem);
        var options = {
              'grpc.ssl_target_name_override' : 'tlsca',
              'grpc.default_authority': 'tlsca'
        };
        this.ecaaClient = new _caProto.ECAA(ep.addr, ep.creds, options);
        this.ecapClient = new _caProto.ECAP(ep.addr, ep.creds, options);
        this.tcapClient = new _caProto.TCAP(ep.addr, ep.creds, options);
        this.tlscapClient = new _caProto.TLSCAP(ep.addr, ep.creds, options);
        this.cryptoPrimitives = new crypto.Crypto(DEFAULT_HASH_ALGORITHM, DEFAULT_SECURITY_LEVEL);
    }
```

new messages
[3:21]  
this is the constructor for the membership services object

[3:21]  
it basically sets all of the required things for you

[3:21]  
so you don’t really “override” anything

[3:21]  
the only thing you really need to pass is that url and pem (if you’re doing it with tls)

[3:21]  
so at this time, i would say we don’t really need to expose that method

[3:21]  
but that’s just my take on it+","Win7, vagrant, hfc 0.0.2",bmos299,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxblb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,jjjjibm,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/16 2:15 AM;bmos299;Assigning to Jim to determine who should work on the issue. ;;;","17/Oct/16 7:17 PM;mastersingh24;[~jimthematrix] - I don't think we are going to do this?  At least not in the 0.6 codebase?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unit test preamble creates log file in chaincode_example02 folder,FABN-183,13065,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,rennman,muralisr,muralisr,20/Oct/16 6:57 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Nov/16 1:42 PM,,,,,,,,,,,0,node-SDK,,,,"startExampleInDevMode in fabric/sdk/node/bin/run-unit-tests.sh creates log file in chaincode_example02 folder. This will cause chaincode_example04 based tests (such as TestChaincodeInvokeChaincode) to fail.

Suggest creating log file in some neutral folder such as /tmp.

[~rennman] please do reassign if you are not the right person to fix.",,jimthematrix,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxda7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/16 1:42 PM;jimthematrix;rejecting this bug as it's not happening to v1.0 any longer;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getAffiliation API in member class in Node SDK fails to fetch affiliation of a user,FABN-184,12518,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Nishi,Nishi,22/Aug/16 10:30 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,04/Apr/17 12:44 AM,,,,,,,,,,,0,,,,,"Call alice.getAffiliation() in my test to verify getAffiliation for user alice failed.

Expected Result:

getAffiliation to return 'bank_a' for user alice as in membersrvc.yaml

Actual Result:

Test failed returned [undefined]

commit level on fabric source code: 346f9fb",,ChristopherFerris,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/17 12:44 AM;ChristopherFerris;closing this because it pertains to v0.6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some of the root certs are expired and causes orderer crash,FABN-185,27884,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,Ratnakar,Ratnakar,Ratnakar,21/Feb/18 6:43 AM,21/Aug/19 9:15 PM,28/Oct/23 3:25 AM,22/Feb/18 6:16 AM,,,,,,,v1.1.1,,,,0,fabric-sdk-node,quality,,,"{code}

2018-02-20 21:27:10.597 UTC [orderer/commmon/multichannel] newLedgerResources -> CRIT 06b Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: CA Certificate is not valid, (SN: 1000): could not obtain certification chain: the supplied identity is not valid: x509: certificate has expired or is not yet valid
 panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: CA Certificate is not valid, (SN: 1000): could not obtain certification chain: the supplied identity is not valid: x509: certificate has expired or is not yet valid

goroutine 1 [running]:
 github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc4202a42a0, 0xd1538c, 0x27, 0xc4202c40b0, 0x1, 0x1)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x134
 github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc420381960, 0xc4201d16e0, 0xc4201d16e0)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:253 +0x391
 github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0x1392280, 0xc4204420e0, 0xc4201d1320, 0x138ed00, 0x13f2da0, 0xc42000e0b8, 0x1, 0x1, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:144 +0x352
 github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc4202d4a00, 0x138ed00, 0x13f2da0, 0xc42000e0b8, 0x1, 0x1, 0xc420446f90)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:262 +0x277
 github.com/hyperledger/fabric/orderer/common/server.Start(0xcf98fc, 0x5, 0xc4202d4a00)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:103 +0x24c
 github.com/hyperledger/fabric/orderer/common/server.Main()
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:82 +0x20f
 main.main()
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20

{code}",,angelo.decaro,ArtemSkliarov,denyeart,harrisob@us.ibm.com,knagware9,mastersingh24,pankajcheema,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-273,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angelo.decaro,ArtemSkliarov,denyeart,harrisob@us.ibm.com,knagware9,mastersingh24,pankajcheema,Ratnakar,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/18 10:57 AM;harrisob@us.ibm.com;Do we have to recreate the configtx artifacts also ?;;;","21/Feb/18 12:40 PM;Ratnakar;Yes [~harrisob@us.ibm.com]This needs new msps to be generated aswell  channel artifacts

I ran through all the certs and following certs all are expired today.
{code}
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/org1.example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/tlscacerts/org2.example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/cacerts/example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/cacerts/org1.example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/ordererOrganizations/example.com/msp/cacerts/org2.example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/msp/cacerts/org1.example.com-tls-cert.pem
./test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/msp/cacerts/org2.example.com-tls-cert.pem

Validity
    Not Before: Feb 20 19:06:10 2017 GMT
    Not After : Feb 20 19:06:10 2018 GMT
{code};;;","21/Feb/18 8:10 PM;denyeart;[~Ratnakar] Did you assign yourself on purpose?

It would be good to use certificates with expiry longer than 1 year.  [~adc] could you help update these like you did for other certs recently?;;;","21/Feb/18 9:45 PM;Ratnakar;Yes [~denyeart]. I was under impression that the changes would be very minor and re-generating the certs will solve the issue.
                    However the certs structure has changed with recent cryptogen tool, hence several tests were failing. Here are the changes that are in progress https://gerrit.hyperledger.org/r/#/c/18127/
If [~adc] could generate the certs with the old structure then we don't need to fix any tests and docs.;;;","21/Feb/18 10:40 PM;angelo.decaro;So, a way to generate the certificates using the old structure would be to use and old version of cryptogen. I guess, it is better to move to the new version, no?;;;","21/Feb/18 10:58 PM;angelo.decaro;So, it is just the tls certificates that are expired. How are they used? Where are the corresponding secret keys?;;;","21/Feb/18 11:19 PM;angelo.decaro;[~Ratnakar], [~denyeart], the expired certificates are all self-signed certificates. A quick fix is to invoke cryptogen on the same configuration file. Then, replace the expired certificates with freshly generated certificates. This should work. ;;;","21/Feb/18 11:38 PM;mastersingh24;this is an easy fix ... we need to do it.  frankly we should probably just regenerate the artifacts for each release;;;","21/Feb/18 11:59 PM;angelo.decaro;I would add also the generation of certificates on the fly for the MSP tests as well.;;;","22/Feb/18 1:48 AM;Ratnakar;As per  [~angelo.decaro] suggestion , I have used the self signed ca tls certs generated from e2e_cli sample and replaced them here.
However while generating the channel artifacts like channel transaction. I do see some issues.

{code}
 $CONFIGTXGEN -profile TwoOrgsChannel -outputCreateChannelTx mychannel.tx -channelID mychannel
2018-02-21 11:45:48.646 EST [common/tools/configtxgen] main -> INFO 001 Loading configuration
2018-02-21 11:45:48.651 EST [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 002 Generating new channel configtx
2018-02-21 11:45:48.669 EST [common/tools/configtxgen] main -> CRIT 003 Error on outputChannelCreateTx: config update generation failure: could not parse application to application group: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority
{code};;;","22/Feb/18 1:59 AM;Ratnakar;Also I see orderer bootstrap fails 

{code}
2018-02-21 16:49:41.073 UTC [orderer/commmon/multichannel] newLedgerResources -> CRIT 056 Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority
panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority

goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc420248570, 0xd1538c, 0x27, 0xc4203579f0, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x134
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc420219e30, 0xc42043b470, 0xc42043b470)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:253 +0x391
github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0x1392280, 0xc42015e000, 0xc42043b0b0, 0x138ed00, 0x13f2da0, 0xc4201388f8, 0x1, 0x1, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:144 +0x352
github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc4202aca00, 0x138ed00, 0x13f2da0, 0xc4201388f8, 0x1, 0x1, 0xc4204210c0)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:262 +0x277
github.com/hyperledger/fabric/orderer/common/server.Start(0xcf98fc, 0x5, 0xc4202aca00)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:103 +0x24c
github.com/hyperledger/fabric/orderer/common/server.Main()
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:82 +0x20f
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
{code}
;;;","22/Feb/18 4:15 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/18165;;;","22/Feb/18 4:27 AM;angelo.decaro;The issue was related to the expiration of certain TLS certificates. I have replaced them by fresh certificates generated with cryptogen. I have replaced only the TLS certificates and not the entire MSP folders because they are self-signed. After that I have regenerated the genesis block (recall that it contains a copy of all certificates). And that was it. Tests passed. 

Now, because I had the impression that those TLS certificates were useless, I have performed the following sanity check: I have removed the TLS certs, regenerated the genesis block and executed the tests again (restarting docker-compose, as well). The result is that all the tests passed nevertheless :);;;","22/Feb/18 6:58 AM;harrisob@us.ibm.com;Fixed on 1.0 release also
https://gerrit.hyperledger.org/r/#/c/18177/;;;","23/Jan/19 6:39 PM;knagware9;I am getting similar issue on fabric 1.4 , please check.

019-01-23 09:33:32.479 UTC [orderer.commmon.multichannel] newLedgerResources -> PANI 0fc Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""ca.example.com"")
panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""ca.example.com"")

goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000524000, 0x0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc00000e078, 0x4, 0xf6f983, 0x27, 0xc00033f808, 0x1, 0x1, 0x0, 0x0, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc00000e078, 0xf6f983, 0x27, 0xc00033f808, 0x1, 0x1)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc00000e080, 0xf6f983, 0x27, 0xc00033f808, 0x1, 0x1)
 /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc0004ea360, 0xc0002c1450, 0xc0002c1450)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:260 +0x2d7
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).Initialize(0xc0004ea360, 0xc00052af90)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:147 +0x242
github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc000141880, 0xc0004141f0, 0x0, 0xc0004ea1b0, 0x19b4420, 0xc0004143b0, 0x2, 0x2, 0xc0004143c0, 0x2, ...)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:414 +0x2ec
github.com/hyperledger/fabric/orderer/common/server.Start(0xf4dfc0, 0x5, 0xc000518000)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:142 +0x52d
github.com/hyperledger/fabric/orderer/common/server.Main()
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:87 +0x1ce
main.main()
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20;;;","29/Apr/19 4:19 PM;pankajcheema;[~knagware9] I am facing the same issue in 1.4
;;;","29/Apr/19 4:24 PM;pankajcheema;2019-04-29 07:04:02.904 UTC [localconfig] completeInitialization -> INFO 001 Kafka.Version unset, setting to 0.10.2.0
2019-04-29 07:04:02.916 UTC [orderer.common.server] prettyPrintStruct -> INFO 002 Orderer config values:
	General.LedgerType = ""file""
	General.ListenAddress = ""0.0.0.0""
	General.ListenPort = 7050
	General.TLS.Enabled = false
	General.TLS.PrivateKey = ""/etc/hyperledger/fabric/tls/server.key""
	General.TLS.Certificate = ""/etc/hyperledger/fabric/tls/server.crt""
	General.TLS.RootCAs = [/etc/hyperledger/fabric/tls/ca.crt]
	General.TLS.ClientAuthRequired = false
	General.TLS.ClientRootCAs = []
	General.Cluster.RootCAs = [/etc/hyperledger/fabric/tls/ca.crt]
	General.Cluster.ClientCertificate = """"
	General.Cluster.ClientPrivateKey = """"
	General.Cluster.DialTimeout = 5s
	General.Cluster.RPCTimeout = 7s
	General.Cluster.ReplicationBufferSize = 20971520
	General.Cluster.ReplicationPullTimeout = 5s
	General.Cluster.ReplicationRetryTimeout = 5s
	General.Keepalive.ServerMinInterval = 1m0s
	General.Keepalive.ServerInterval = 2h0m0s
	General.Keepalive.ServerTimeout = 20s
	General.GenesisMethod = ""file""
	General.GenesisProfile = ""SampleInsecureSolo""
	General.SystemChannel = ""test-system-channel-name""
	General.GenesisFile = ""/hl_config/genesis/genesis.block""
	General.Profile.Enabled = false
	General.Profile.Address = ""0.0.0.0:6060""
	General.LocalMSPDir = ""/var/hyperledger/msp""
	General.LocalMSPID = ""OrdererMSP""
	General.BCCSP.ProviderName = ""SW""
	General.BCCSP.SwOpts.SecLevel = 256
	General.BCCSP.SwOpts.HashFamily = ""SHA2""
	General.BCCSP.SwOpts.Ephemeral = false
	General.BCCSP.SwOpts.FileKeystore.KeyStorePath = ""/var/hyperledger/msp/keystore""
	General.BCCSP.SwOpts.DummyKeystore =
	General.BCCSP.SwOpts.InmemKeystore =
	General.BCCSP.PluginOpts =
	General.Authentication.TimeWindow = 15m0s
	FileLedger.Location = ""/var/hyperledger/ledger""
	FileLedger.Prefix = ""hyperledger-fabric-ordererledger""
	RAMLedger.HistorySize = 1000
	Kafka.Retry.ShortInterval = 5s
	Kafka.Retry.ShortTotal = 10m0s
	Kafka.Retry.LongInterval = 5m0s
	Kafka.Retry.LongTotal = 12h0m0s
	Kafka.Retry.NetworkTimeouts.DialTimeout = 10s
	Kafka.Retry.NetworkTimeouts.ReadTimeout = 10s
	Kafka.Retry.NetworkTimeouts.WriteTimeout = 10s
	Kafka.Retry.Metadata.RetryMax = 3
	Kafka.Retry.Metadata.RetryBackoff = 250ms
	Kafka.Retry.Producer.RetryMax = 3
	Kafka.Retry.Producer.RetryBackoff = 100ms
	Kafka.Retry.Consumer.RetryBackoff = 2s
	Kafka.Verbose = false
	Kafka.Version = 0.10.2.0
	Kafka.TLS.Enabled = false
	Kafka.TLS.PrivateKey = """"
	Kafka.TLS.Certificate = """"
	Kafka.TLS.RootCAs = []
	Kafka.TLS.ClientAuthRequired = false
	Kafka.TLS.ClientRootCAs = []
	Kafka.SASLPlain.Enabled = false
	Kafka.SASLPlain.User = """"
	Kafka.SASLPlain.Password = """"
	Kafka.Topic.ReplicationFactor = 3
	Debug.BroadcastTraceDir = """"
	Debug.DeliverTraceDir = """"
	Consensus = map[WALDir:/var/hyperledger/production/orderer/etcdraft/wal SnapDir:/var/hyperledger/production/orderer/etcdraft/snapshot]
	Operations.ListenAddress = ""127.0.0.1:8443""
	Operations.TLS.Enabled = false
	Operations.TLS.PrivateKey = """"
	Operations.TLS.Certificate = """"
	Operations.TLS.RootCAs = []
	Operations.TLS.ClientAuthRequired = false
	Operations.TLS.ClientRootCAs = []
	Metrics.Provider = ""disabled""
	Metrics.Statsd.Network = ""udp""
	Metrics.Statsd.Address = ""127.0.0.1:8125""
	Metrics.Statsd.WriteInterval = 30s
	Metrics.Statsd.Prefix = """"
2019-04-29 07:04:02.933 UTC [orderer.common.server] initializeMultichannelRegistrar -> INFO 003 Not bootstrapping because of existing chains
2019-04-29 07:04:02.936 UTC [orderer.commmon.multichannel] newLedgerResources -> PANI 004 Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""ca.org1.example.com"")
panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Consortiums sub-group config: setting up the MSP manager failed: the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of ""x509: ECDSA verification failure"" while trying to verify candidate authority certificate ""ca.org1.example.com"")

goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc0000e3ad0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000aa350, 0x4, 0xf6f983, 0x27, 0xc00045d808, 0x1, 0x1, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000aa350, 0xf6f983, 0x27, 0xc00045d808, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc0000aa358, 0xf6f983, 0x27, 0xc00045d808, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc0003fa2d0, 0xc000332e10, 0xc000332e10)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:260 +0x2d7
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).Initialize(0xc0003fa2d0, 0xc0001bf890)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:147 +0x242
github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc000077800, 0xc0001de440, 0x0, 0xc0003fa240, 0x19b4420, 0xc0001de540, 0x2, 0x2, 0xc0001de550, 0x2, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:414 +0x2ec
github.com/hyperledger/fabric/orderer/common/server.Start(0xf4dfc0, 0x5, 0xc00042c000)
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:142 +0x52d
github.com/hyperledger/fabric/orderer/common/server.Main()
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:87 +0x1ce
main.main()
	/opt/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20


These are the complete logs .;;;","29/Apr/19 4:50 PM;pankajcheema;Hi All ,

I have regenerated the certificates and it worked fine . But I don't know the cause any idea from anyone ?;;;","21/Aug/19 9:15 PM;ArtemSkliarov;Have the same issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChainCode is packaged with Win-style path and not recognized by Peer side,FABN-186,15279,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,YingShi,YingShi,09/Mar/17 11:38 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/May/17 1:21 AM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,,,,"[Test setting]
fabric version: latest @ March 6th
fabric yaml: \fabric-sdk-node\test\fixtures\docker-compose.yml
node sdk version: latest @ March 6th
OS: sdk running in win7, peers in linux container


[Debug info]
Run fabric-sdk-node\test\integration\e2e\invoke-transaction.js, then get:
[34mdebug[39m: [Peer.js]: Peer.sendProposal - Start
[34mdebug[39m: [Peer.js]: Peer.sendProposal - Start
[31merror[39m: [Peer.js]: GRPC client got an error response from the peer ""grpc://localhost:7051"". Error: Illegal file detected in payload: ""src\github.com\example_cc\example_cc.go""
    at D:\eclipse-workspace\fabric-sdk-node\node_modules\grpc\src\node\src\client.js:434:17

Add trace to packager/Golang.js and get:
info[39m: [packager/Golang.js]: packaging GOLANG from github.com/example_cc
[34mdebug[39m: [packager/Golang.js]: goPath: /eclipse-workspace/fabric-sdk-node/test/fixtures, chaincodePath: github.com/example_cc
[34mdebug[39m: [packager/Golang.js]: Compose the path to the chaincode project directory: \eclipse-workspace\fabric-sdk-node\test\fixtures\src\github.com\example_cc
[34mdebug[39m: [packager/Golang.js]: goPath: /eclipse-workspace/fabric-sdk-node/test/fixtures, filePath: \eclipse-workspace\fabric-sdk-node\test\fixtures\src\github.com\example_cc
[34mdebug[39m: [packager/Golang.js]: adding entry name=src\github.com\example_cc\example_cc.go, fqp=D:\eclipse-workspace\fabric-sdk-node\test\fixtures\src\github.com\example_cc\example_cc.go
[34m

No matter the input path style, in Windows the packager converts name and fqp into Win-style by path.join/ relative, which is not recognized in Peers.


[To fix temporarily]
Modify fabric-client/lib/packager/Golang.js:function findSource(goPath, filePath) line 100-101 as:
//- name: path.relative(goPath, entry.path),
//- fqp: entry.path
name: path.relative(goPath, entry.path).replace(/\\/g,""\/""),
fqp: entry.path.replace(/\\/g,""\/"")","fabric version: latest @ March 6th
fabric yaml: \fabric-sdk-node\test\fixtures\docker-compose.yml
node sdk version: latest @ March 6th
OS: sdk running in win7, peers in linux container",YingShi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3af:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,YingShi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TCert-related methods still exists in the SDK API,FABN-187,16758,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,16/May/17 11:34 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/May/17 1:58 AM,,,,,,,,,,,0,,,,,TCert support is not part of v1.0 so this needs to be cleaned up from the SDK API,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvan:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node documentation is broken https://fabric-sdk-node.github.io/,FABN-188,23979,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,17/Nov/17 12:40 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Nov/17 3:46 AM,,,,,,,,,,,0,,,,,fabric-sdk-node documentation is broken. https://fabric-sdk-node.github.io/,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzynbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Nov/17 7:41 AM;mastersingh24;[~rameshthoomu] - What exactly is the issue here?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK]  Incorrect Chaincode ID on Deploy Transaction,FABN-189,12589,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,sanjay.bardhan,bmos299,bmos299,01/Sep/16 4:20 AM,08/Feb/19 1:32 AM,28/Oct/23 3:25 AM,08/Sep/16 10:35 PM,,,,,,,,,,,0,FABRIC05,node-SDK,,,"
bmos299

The problem is in the node sdk (not in the fabric).   The node sdk builds the deploy transaction.  The deploy transaction is special.  In the deploy transaction the transaction id needs to equal the chaincode id.  However, the node sdk generates a uuid for the deploy transaction just as it does for other types of transactions.   Hence the problem.


When the peer is started and realizes it does not have the chaincode deployed, it uses the chaincode id and tries to find a transaction id that matches this value.....in this case it will not find  a match and hence the failure.",,angrbrd,bmos299,ChristopherFerris,Clayton Sims,jimthematrix,mastersingh24,sanjay.bardhan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbpz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,bmos299,ChristopherFerris,Clayton Sims,jimthematrix,mastersingh24,sanjay.bardhan,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/16 6:36 AM;Clayton Sims;STing with Sharon, This should go to the top of the list to fix. ;;;","02/Sep/16 9:01 AM;ChristopherFerris;this should be merged in master and v0.6;;;","05/Sep/16 7:34 PM;mastersingh24;Is anyone actually working on this?;;;","07/Sep/16 1:10 AM;angrbrd;[~ChristopherFerris], the last thing I heard was this fix must go into v0.5 and master. But I guess since we already branched the v0.6 branch, it should go into the v0.6 branch also? Let me know.

[~mastersingh24], yes I am working on this. I am currently stuck on the fact that the v0.5 branch is so old, it does not have the changes that allow deployment with the newer version of Docker. The Docker installation is updated inside Vagrant to 1.12.1, which causes the error below. So I can't verify the change on v0.5. Once I get through this issue, I'll verify and publish.

[dockercontroller] Start -> ERRO 063 start-could not start container API error (400): {""message"":""starting container with HostConfig was deprecated since v1.10 and removed in v1.12""};;;","07/Sep/16 7:36 AM;angrbrd;I have been able to resolve the Docker issue above and verified this change on the Fabric05 branch. The required change has now been merged into the Fabric05 branch here:
https://github.ibm.com/IBM-Blockchain/Fabric05/pull/16

I have also published the hfc version 0.5.1 to npm, which includes this change.

I am now working to put this change into master, in order to publish the hfc version 0.6.1 to npm. Thanks for your patience.

;;;","07/Sep/16 10:44 PM;jimthematrix;from discussion in today's scrum, will put the change in master instead of the 0.6 branch (besides the changes in 0.5);;;","13/Sep/16 10:55 PM;angrbrd;This change has now been merged to master.

https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=commit;h=f6ae4af5400c1232569e3a7ce06d75ec7a9c031c

This issue can be closed.;;;","23/Dec/16 2:18 PM;sanjay.bardhan;I am using latest hfc v 0.6.5 and still getting incorrect chaincode id while using HFC chaincode deployment code. If I deploy the code from REST and then use the chaincode id to invoke and query trhough HFC code it works perfect. But deploying through HFC does not return a valid chaincode id that I can use for invoke and query. I am using latest hyperledger starter kit and then updated the HFC through npm.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] https://github.com/hyperledger/fabric-sdk-node -- If you are using a Mac ....,FABN-190,15076,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 5:25 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 2:18 PM,,,,,,,v1.0.0,,,,0,,,,,"The structure of the readme following this point is not as clear as it could be.  Everything following this paragraph is in a bulleted list subordinate to this paragraph, implying every bulleted item is something to do if you have a Mac and you want to build natively. 

{color:#707070}If you are using a Mac and would like to build the docker images and run them natively instead of using vagrant, do the following:{color}

Yet the list contains bullets such as : 
* To use vagrant, do the following:
* run vagrant up to launch the vagrant VM
* Once inside vagrant, follow these steps to start the fabric-ca server and the Peers network with orderer
* Back in your native host (MacOS, or Windows, or Ubuntu, etc), run the following tests:

It's really not clear which steps pertain only to Mac environments, and which steps are common to all environments.  I

As a suggestion, maybe we need to split this into two pars.
Vagrant Users
Mac Users who want to run without the Vagrant environment. 

For clarity, we may have to duplicate some information in both sections, or have a third 
section:
All users (vagrant and otherwise) 

1) Unclear as noted
2( Isn't Mac a trademark that needs to be flagged as such?  Same comment for Docker for Mac, Brew, etc.



* ","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve unit test coverage:  fabric-ca-client.js,FABN-191,15509,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,30/Mar/17 4:25 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Apr/17 3:50 AM,,,,,,,,,,,0,,,,,Adding more unit test coverage for classes  FabricCAClient and FabricCAServer. ,Ubuntu vlaunch VM,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxowf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/17 8:10 AM;jjjjibm;commit 51e6974e8dd45ffe8fa7d420dd789c3aaeb29091
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Thu Mar 30 18:57:45 2017 -0400

    node-SDK FAB-2930 UT coverage -- fabric-ca-client

    Add test cases to drive uncovered paths in
    FabricCAClientImpl.js: getCrypto(), enroll(), revoke(),
    _parseURL(), toString().
    Add tlsOptions to constructor tests.

    Change-Id: I3e215f43a8fd0b40e3ed373132191a239e28eb12
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","31/Mar/17 8:59 AM;jjjjibm;commit 0779cf05234309eb140cfd29ad8122c6b513be46
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Thu Mar 30 18:57:45 2017 -0400

    node-SDK FAB-2930 UT coverage -- fabric-ca-client

    Add test cases to drive uncovered paths in
    FabricCAClientImpl.js: getCrypto(), enroll(), revoke(),
    _parseURL(), toString().
    Add tlsOptions to constructor tests.

    Change-Id: I3e215f43a8fd0b40e3ed373132191a239e28eb12
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] http://<ip:port>/docs/gen/module-fabric-client.html -- typos and dead links,FABN-192,15086,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 8:20 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:38 AM,,,,,,,v1.0.0,,,,0,,,,,"In the generated documentation for fabric-sdk-node, from the Modules pull down menu, select:

1) api.  
     a) The APIs are defined according to the Hyperledger Fabric's common SDK specification
==> 
The APIs are defined according to the Hyperledger Fabric's common SDK specification.
    b) The linked document is out of date. 
2) fabric-ca-client 
    a) You can probably lose the quotes around fabric-ca-client and fabric-ca
    b) user certificates lifecycle
        ===>
        user certificate lifecycles?
        ==>
        a user certificate's lifecycle?
        ===>
       user certificates' lifecycles?
    c) authenticate with the fabric
        ==>
       authenticate with the fabric.

3) fabric-client
    a) No need to quote fabric-client.
    b) including Chain   ===> including Chain.
    c) chain is a link to 

_Error response

Error code 404.

Message: File not found.

Error code explanation: 404 = Nothing matches the given URI. 
 
    Either link to something live, or don't make it a link. 
_","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add query checking as the last step in marbles.js test script,FABN-193,13520,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Nov/16 6:50 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,01/Dec/16 12:50 PM,,,,,,,,,,,0,node-SDK,,,,so that the test script can verify that the previous transactions were successful,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf4f:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Naming for instantiate and invoke in balance-transfer sample should be consistent,FABN-194,19209,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,bh4rtp,bh4rtp,12/Jul/17 5:49 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Jul/17 4:45 AM,v1.0.0,,,,,,v1.0.1,,,,0,help-wanted,,,,"*Instantiate chaincode*:
 curl -s -X POST \
 [http://localhost:4000/channels/mychannel/chaincodes] \
 -H ""authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE0OTQ4NjU1OTEsInVzZXJuYW1lIjoiSmltIiwib3JnTmFtZSI6Im9yZzEiLCJpYXQiOjE0OTQ4NjE5OTF9.yWaJhFDuTvMQRaZIqg20Is5t-JJ_1BP58yrNLOKxtNI"" \
 -H ""content-type: application/json"" \
 -d '\{
 ""peers"": [""localhost:7051""],
 ""chaincodeName"":""mycc"",
 ""chaincodeVersion"":""v0"",
 ""{color:#FF0000}functionName{color}"":""init"",
 ""args"":[""a"",""100"",""b"",""200""]
 }'

*Invoke request*:
 curl -s -X POST \
 [http://localhost:4000/channels/mychannel/chaincodes/mycc] \
 -H ""authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE0OTQ4NjU1OTEsInVzZXJuYW1lIjoiSmltIiwib3JnTmFtZSI6Im9yZzEiLCJpYXQiOjE0OTQ4NjE5OTF9.yWaJhFDuTvMQRaZIqg20Is5t-JJ_1BP58yrNLOKxtNI"" \
 -H ""content-type: application/json"" \
 -d '\{
 ""peers"": [""localhost:7051"", ""localhost:7056""],
 ""{color:#FF0000}fcn{color}"":""move"",
 ""args"":[""a"",""b"",""10""]
 }'

The functionName and fcn should be consistent.",,bh4rtp,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy84n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bh4rtp,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jul/17 10:25 PM;jimthematrix;thanks [~bh4rtp], this is indeed a discrepancy that should be fixed, but it's only in the balance-transfer sample code, the node SDK APIs for both instantiate and invoke use 'fcn':
https://fabric-sdk-node.github.io/global.html#ChaincodeInstantiateUpgradeRequest
https://fabric-sdk-node.github.io/global.html#ChaincodeInvokeRequest;;;","14/Jul/17 4:58 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/11635/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
can't simultaneously create channel,FABN-195,20721,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,brantzh,brantzh,11/Sep/17 6:07 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Oct/17 3:53 AM,,,,,,,,,,,0,,,,,"We got following errors when create two channels from orderer.

!image-2017-09-11-17-04-50-683.png!

SDK side showed following error

!image-2017-09-11-17-05-37-084.png!",,brantzh,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/17 6:04 PM;brantzh;image-2017-09-11-17-04-50-683.png;https://jira.hyperledger.org/secure/attachment/12052/image-2017-09-11-17-04-50-683.png","11/Sep/17 6:05 PM;brantzh;image-2017-09-11-17-05-37-084.png;https://jira.hyperledger.org/secure/attachment/12051/image-2017-09-11-17-05-37-084.png",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,brantzh,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/17 3:54 AM;harrisob@us.ibm.com;Only need to create the join on one peer, other peers will join the channel;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
setUserContext is not attempting to failover thru Certificate Authorities,FABN-196,30007,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,venu.vemula,venu.vemula,07/May/18 11:09 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/May/18 2:50 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"setUserContext() is always connecting first Certificate Authority in _setUserFromConfig() function.

This is creating problems when that Certificate Authority is down or having problems in responding.

_setUserFromConfig should try to connect other Certificate Authorities (if present in network cofnig) if it fails to get successful enrollment with first Certificate Authority. 

We faced this problem and had to remove the first Certificate Authority from the network config to get setUserContext working.
",,harrisob@us.ibm.com,kchristidis,venu.vemula,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz913:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,kchristidis,venu.vemula,wenjian,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/18 6:18 AM;kchristidis;[~harrisob@us.ibm.com], [~wenjian]: Have a look? Is this containable for the 1.2 cut, or we defer?;;;","23/May/18 7:21 AM;harrisob@us.ibm.com;For 1.2, we could add a optional parameter to specify the CA name on the 'setUserFromConfig()' API;;;","23/May/18 7:42 AM;kchristidis;Iterating over the listed CAs a no go?;;;","24/May/18 12:57 AM;harrisob@us.ibm.com;NodeSDK does not do retry, error recovery, or HA today. I think we should have that concept across all the API's.;;;","24/May/18 5:49 AM;kchristidis;Understood.;;;","25/May/18 10:47 PM;wenjian;https://gerrit.hyperledger.org/r/#/c/22351/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
console.log calls in _fixEcpt should be removed,FABN-197,27013,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,davidkel,davidkel,23/Jan/18 8:11 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Jan/18 11:28 PM,v1.1.0,,,,,,v1.0.3,v1.1.0,,,0,node-SDK,,,,in fabric-client/lib/impl/bccsp_pkcs11.js the _fixEcpt method has console.log calls. These should be removed and converted to logger calls.,,davidkel,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyucf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jan/18 9:30 PM;mastersingh24;https://gerrit.hyperledger.org/r/17133 (master)

https://gerrit.hyperledger.org/r/17135 (release);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[Interoperability test ] Integration test failed with error ""unnamed assert""",FABN-198,31246,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,Ratnakar,Ratnakar,21/Jun/18 4:42 AM,21/Sep/18 11:50 PM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,v1.2.0,,,,,,Future,,,,0,quality,,,,"For test description details , please refer the Case 4 of FAB-10161

Error message: 
{code}
not ok 305 (unnamed assert)^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: fail
    at: e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/channel-event-hub.js:694:13)
    stack: |-
      Error: (unnamed assert)
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.fail (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
          at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/channel-event-hub.js:694:13)
          at <anonymous>
          at process._tickCallback (internal/process/next_tick.js:188:7)^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-294,,,FAB-10161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfof:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/18 11:35 PM;Ratnakar;I analyzed the peer/orderer logs and it is observed that the root cause for this issue is due to mutual TLS usage in tests.

V1.1 NodeJS Integration tests are not using the API *setTlsClientCertAndKey* causes this failures against NodeJS SDK V1.2*.*

 
I added the API  *setTlsClientCertAndKey* in test/integration/channel-event-hub.js and the test has PASSED
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Minor jsdoc fixes,FABN-199,19278,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,ericmvaughn,ericmvaughn,ericmvaughn,16/Jul/17 2:49 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Jul/17 4:07 AM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,"Client.js - ChannelRequest is missing the txId parameter
 
Channel.js -  The jsdoc for getChannelConfig() should say that it returns a promise
 
User.js - getCryptoSuite() is missing a jsdoc comment",,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8kn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/17 3:33 AM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/11667/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unresovled variable,FABN-200,13880,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,grapebaba,grapebaba,grapebaba,22/Dec/16 4:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/Dec/16 1:41 PM,,,,,,,v1.0.0,,,,0,,,,,"line227 in FabricCOPImpl.js
    this._ca = (connect_opts.ca) ? ca : null;",,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,grapebaba,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused chaincodePath from test codes,FABN-201,17625,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,08/Jun/17 5:46 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Jul/17 4:48 AM,v1.0.0-alpha2,,,,,,v1.0.1,,,,0,,,,,"The unused var ""chaincodePath"" is left in comment and test codes.
Following functions don't require ""chaincodePath"" for request message any longer.

- channel.sendInstantiateProposal(request)
- channel.sendUpgradeProposal(request)

We need to remove unused ""chaincodePath"" to make it easy to understand test cases.

 

Environment: 
fabric-sdk-node: commit 4f03644dcee9eb8f80b9bfa4a5e3b760bab2d926",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jun/17 6:04 AM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/10303/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js test does not run with default fabric-ca docker image,FABN-202,14454,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,31/Jan/17 8:51 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:40 AM,,,,,,,,,,,0,,,,,"the fabric-ca docker image uses server-config.json that has only one user: ""admin"". the end-to-end.js test must use that user in order to run successfully",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx77j:",,,,,,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node: Registration of admin fails at the first attempt but succeed if retried,FABN-203,24432,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,jeroiraz,jeroiraz,22/Nov/17 10:20 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,29/Nov/17 2:46 AM,,,,,,,,,,,0,balance-transfer,node-sdk,,,"Based on the balance-transfer (master branch), first attempt to register admin user fails but succeed when retried.

*Request*: curl -s -X POST http://localhost:4000/users -H ""content-type: application/x-www-form-urlencoded"" -d 'username=admin&orgName=org1'

First time the above request is made, it returns the following error:

- _Registration of 'admin' failed: Identity 'admin' is already registered_

But if the same request is made again, it suceeds:

- _""message"":""admin enrolled Successfully"",""token"":""eyJhbGciOiJIUzI1...""_",,harrisob@us.ibm.com,jeroiraz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzynz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jeroiraz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/17 2:47 AM;harrisob@us.ibm.com;The sample app has been updated... and I am not able to recreate this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - keep alive default need to be 6 minutes,FABN-204,21328,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,05/Oct/17 11:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Oct/17 4:17 AM,v1.0.2,,,,,,v1.1.0,,,,0,node-SDK,,,,Any time less then 6 minutes will have issues from being rejected by the peer or not even polling,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyifj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Oct/17 4:17 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14229/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
re-generate orderer genesis block and channel,FABN-205,17429,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jimthematrix,jimthematrix,04/Jun/17 12:09 PM,12/Oct/19 4:33 PM,28/Oct/23 3:25 AM,05/Jun/17 11:03 AM,,,,,,,,,,,0,,,,,"with the removal of sbft package, the orderer.yaml was updated (genesis and sbftlocal sections were removed). as a result the existing genesis block causes the orderer to crash on start up.

[~rickr] [~troyronda] [~grapebaba]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3cf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update link,FABN-206,28212,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,05/Mar/18 5:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Mar/18 4:10 AM,,,,,,,v1.1.0,,,,0,,,,,"find a link that is invalid, update the link",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzun:",,,,,,,,,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Mar/18 6:00 PM;zhaochy;https://gerrit.hyperledger.org/r/18723;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update with latest protos,FABN-207,20279,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/17 11:10 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,03/Oct/17 2:26 AM,,,,,,,v1.1.0,,,,0,node-SDK,,,,Pull in and update code to latest fabric protos,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydlr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/17 11:19 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/12591/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SSL errors occur when trying to communicate with multiple peers concurrently - mutual TLS path,FABN-208,28662,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,varadatibm,varadatibm,20/Mar/18 5:16 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Mar/18 4:33 AM,,,,,,,,,,,0,,,,,"FAB-6266 added a fix for working around a grpc issue... but that fix is missing when using mutual TLS certs...

 

https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/fabric-client/lib/Remote.js#L211",,fredbi,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 5:15 AM;varadatibm;image-2018-03-19-16-15-34-506.png;https://jira.hyperledger.org/secure/attachment/14800/image-2018-03-19-16-15-34-506.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz227:",,,,,,,,,,,,,,,,,,,,,,,,,,,,fredbi,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 4:28 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/19477/ – v1.1
 [https://gerrit.hyperledger.org/r/#/c/19463/] – v1.2
| |;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Importing fabric-ca-client before fabric-client causes different behaviour,FABN-209,23906,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,dainliff,dainliff,10/Nov/17 2:13 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Nov/17 3:46 AM,,,,,,,v1.1.0-preview,,,,0,,,,,"Importing fabric-ca-client before fabric-client causes different behaviour, and in my experience has always caused application errors.
 I think this is likely due to the default global fabric configuration being different between fabric-client and fabric-ca-client.

To replicate
 * go to [https://github.com/hyperledger/fabric-samples/tree/v1.1.0-preview/balance-transfer]
 * Install ""fabric-ca-client:1.1.0-preview""
 * In config.js import fabric-ca-client before fabric-client like so

{code:java}
var util = require('util');
var path = require('path');
require('fabric-ca-client');
var hfc = require('fabric-client');{code}
 * run application and tests, and you should receive the following errors

{code:java}
[2017-11-10 16:08:41.604] [INFO] SampleWebApp - ****************** SERVER STARTED ************************
[2017-11-10 16:08:41.606] [INFO] SampleWebApp - *************** http://localhost:4000 ******************
[2017-11-10 16:08:43.939] [DEBUG] SampleWebApp - ------>>>>>> new request for /users
[2017-11-10 16:08:43.940] [DEBUG] SampleWebApp - End point : /users
[2017-11-10 16:08:43.940] [DEBUG] SampleWebApp - User name : Jim
[2017-11-10 16:08:43.940] [DEBUG] SampleWebApp - Org name : Org1
[2017-11-10 16:08:43.942] [DEBUG] Helper - getClientForOrg - ****** START Org1 undefined
error: [Client.js]: Invalid network configuration due to missing ""network-config-schema"" configuration setting
[2017-11-10 16:08:43.949] [ERROR] Helper - Failed to get registered user: Jim with error: Error: Invalid network configuration due to missing ""network-config-schema"" configuration setting
[2017-11-10 16:08:43.949] [DEBUG] SampleWebApp - Successfully returned from registering the username Jim for organization Org1
[2017-11-10 16:08:43.971] [DEBUG] SampleWebApp - ------>>>>>> new request for /users
[2017-11-10 16:08:43.971] [DEBUG] SampleWebApp - End point : /users
[2017-11-10 16:08:43.971] [DEBUG] SampleWebApp - User name : Barry
[2017-11-10 16:08:43.971] [DEBUG] SampleWebApp - Org name : Org2
[2017-11-10 16:08:43.971] [DEBUG] Helper - getClientForOrg - ****** START Org2 undefined
error: [Client.js]: Invalid network configuration due to missing ""network-config-schema"" configuration setting
[2017-11-10 16:08:43.975] [ERROR] Helper - Failed to get registered user: Barry with error: Error: Invalid network configuration due to missing ""network-config-schema"" configuration setting
[2017-11-10 16:08:43.975] [DEBUG] SampleWebApp - Successfully returned from registering the username Barry for organization Org2{code}
 

I believe that the import order of the two packages should not make a difference, as it's pretty unexpected behaviour. However, In the meantime the documentation should reflect that fabric-ca-client must be imported after fabric-client.",,dainliff,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzymxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dainliff,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/17 3:46 AM;harrisob@us.ibm.com;see https://gerrit.hyperledger.org/r/#/c/15325/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"API cleanup: eliminate ""storekey"" param in CryptoSuite -> importKey()",FABN-210,16601,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,11/May/17 5:44 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/May/17 3:59 AM,,,,,,,,,,,0,,,,,"this param is extraneous because the ""opts"" param already has the ""ephemeral"" that means the same thing",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxupr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - npm warnings should be removed,FABN-211,21264,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,04/Oct/17 12:21 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Oct/17 1:51 AM,v1.0.2,,,,,,v1.1.0,,,,0,node-SDK,,,,"There are number of npm install warnings that indicate there are new versions of the packages that should be used.

{color:#333333}```
{color}{color:#333333}npm WARN deprecated node-uuid@{color}{color:#008080}1.4{color}{color:#333333}.{color}{color:#008080}8{color}{color:#333333}: {color}{color:#333333}Use{color}{color:#333333} uuid module instead{color}
{color:#333333}npm WARN deprecated crypto@{color}{color:#008080}0.0{color}{color:#333333}.{color}{color:#008080}3{color}{color:#333333}: This {color}{color:#333333}package{color} {color:#333333}is{color}{color:#333333} no longer supported. It{color}{color:#990073}'s{color}{color:#333333} now a built-{color}{color:#333333}in{color}{color:#333333} Node module. {color}{color:#333333}If{color}{color:#333333} you{color}{color:#990073}'ve{color}{color:#333333} depended {color}{color:#333333}on{color}{color:#333333} crypto, you should switch {color}{color:#333333}to{color}{color:#333333} the one that{color}{color:#990073}'s{color}{color:#333333} built-{color}{color:#333333}in{color}{color:#333333}.{color}
{color:#333333}npm WARN deprecated minimatch@{color}{color:#008080}2.0{color}{color:#333333}.{color}{color:#008080}10{color}{color:#333333}: Please update {color}{color:#333333}to{color}{color:#333333} minimatch {color}{color:#008080}3.0{color}{color:#333333}.{color}{color:#008080}2{color} {color:#333333}or{color}{color:#333333} higher {color}{color:#333333}to{color}{color:#333333} avoid a RegExp DoS issue{color}
{color:#333333}npm WARN deprecated minimatch@{color}{color:#008080}0.2{color}{color:#333333}.{color}{color:#008080}14{color}{color:#333333}: Please update {color}{color:#333333}to{color}{color:#333333} minimatch {color}{color:#008080}3.0{color}{color:#333333}.{color}{color:#008080}2{color} {color:#333333}or{color}{color:#333333} higher {color}{color:#333333}to{color}{color:#333333} avoid a RegExp DoS issue{color}
{color:#333333}npm WARN deprecated graceful-fs@{color}{color:#008080}1.2{color}{color:#333333}.{color}{color:#008080}3{color}{color:#333333}: graceful-fs v3.{color}{color:#008080}0.0{color} {color:#333333}and{color}{color:#333333} before will fail {color}{color:#333333}on{color}{color:#333333} node releases >= v7.{color}{color:#008080}0{color}{color:#333333}. Please update {color}{color:#333333}to{color}{color:#333333} graceful-fs@^{color}{color:#008080}4.0{color}{color:#333333}.{color}{color:#008080}0{color}{color:#333333} as soon as possible. {color}{color:#333333}Use{color} {color:#990073}'npm{color}{color:#333333} ls graceful-fs' {color}{color:#333333}to{color}{color:#333333} find it {color}{color:#333333}in{color}{color:#333333} the tree.{color}
{color:#333333}npm WARN deprecated wrench@{color}{color:#008080}1.3{color}{color:#333333}.{color}{color:#008080}9{color}{color:#333333}: wrench.js {color}{color:#333333}is{color}{color:#333333} deprecated! You should check {color}{color:#333333}out{color}{color:#333333} fs-extra (https://github.com/jprichardson/node-fs-extra) {color}{color:#333333}for{color}{color:#333333} any operations you were using wrench {color}{color:#333333}for{color}{color:#333333}. Thanks {color}{color:#333333}for{color} {color:#333333}all{color}{color:#333333} the usage over the years.{color}",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyi93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/17 6:07 AM;harrisob@us.ibm.com;Only the {color:#333333}crypto{color} package was controllable by the NodeSDK;;;","17/Oct/17 1:52 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14437/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"requiring fabric-client ignores value for Client.setConfigSetting('hfc-logging', value)",FABN-212,27125,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,RobertDiebels,RobertDiebels,29/Jan/18 10:24 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,08/Feb/18 5:19 AM,,,,,,,,,,,0,configuration,sdk,,,"*What happens*
 When setting 'hfc-logging' for `fabric-client` using Client.setConfigSetting() the value passed to `setConfigSetting()` is ignored.

*Reproduction example*
{code:java}
const FabricClient = require('fabric-client');
FabricClient.setConfigSetting('hfc-logging', {
    'debug': 'console',
    'info': 'console',
    'error': 'console'
});

const client = new FabricClient();
client.newTransactionID(true);
//Expected console output: 'newTransactionID - getting an admin TransactionID'
{code}
*What I'm expecting*

I'm expecting debug output in the console.

*Solution*

Call
{code:java}
FabricUtils.setConfigSetting(){code}
before requiring
{code:java}
require('fabric-client'){code}
like so:
{code:java}
const FabricUtils = require('fabric-client/lib/utils');
FabricUtils.setConfigSetting('hfc-logging', {
    'debug': 'console',
    'info': 'console',
    'error': 'console'
});

const FabricClient = require('fabric-client');
const client = new FabricClient();
client.newTransactionID(true);{code}
Because: 
{code:java}
require('fabric-client')
{code}
creates a default global logger. That cannot be updated.

 

*Reasoning*

I'm filing this as a bug because the documentation does not specify
{code:java}
setConfigSetting(){code}
only works on FabricUtils. As well as believing that the Reproduction example should just work.

EDIT: I removed the 'cause' section since it probably only caused confusion.","{color:#cc7832}{color:#333333}Fabric-client version: 1.0.0-preview^
NodeJS: v8.9.3{color}
{color}",harrisob@us.ibm.com,RobertDiebels,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-660,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,RobertDiebels,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/18 1:54 PM;zhaochy;[~RobertDiebels] As our document describes, *_FabricUtils.getLogger_* is only an internal API just use inside the sdk scope. For client side logger, please construct from your application;;;","07/Feb/18 6:54 PM;RobertDiebels;[~zhaochy] This issue isn't about calling FabricUtils.getLogger outside the SDK. It's about the lack of debug logging even thought I called:
{code:java}
FabricClient.setConfigSetting('hfc-logging', {'debug':'console'});{code}

The following bit of code has the same effect as the one above.

 

 
{code:java}
const FabricClient = require('fabric-client');
FabricClient.setConfigSetting('hfc-logging', {'debug':'console'});
{code}
 All the same methods are callled. As I said:

 
{noformat}
Inside `fabric-client/lib/Client.js` a logger is set with `var logger = sdkUtils.getLogger('Client.js');`.{noformat}
I added the call to:
{code:java}
FabricUtils.getLogger(){code}
So you could see that calling:
{code:java}
logger.debug(""Some message""){code}
did nothing.

So this issue is not fixed. I'll update my initial issue report to reflect the above.

 ;;;","07/Feb/18 8:25 PM;zhaochy;[~RobertDiebels] thanks for your quick response;;;","07/Feb/18 9:39 PM;RobertDiebels;[~zhaochy] no problemo. Just thought I'd mention it in case anyone else comes across this issue.;;;","08/Feb/18 5:13 AM;harrisob@us.ibm.com;An easy way to set the logging before doing the require is to use an environment setting before or when calling calling node or setting the environment from code.

    process.env.HFC_LOGGING = ""\{'debug': 'console'}"";;;;","08/Feb/18 5:21 AM;harrisob@us.ibm.com;Opened a feature https://jira.hyperledger.org/browse/FAB-8118

I think that we should be able to reset the logging settings during runtime.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK log message levels for invoke failures when using service discovery,FABN-213,31490,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,dongming,dongming,29/Jun/18 11:28 PM,13/Sep/18 3:07 AM,28/Oct/23 3:25 AM,13/Sep/18 3:07 AM,,,,,,,v1.3.0,,,,0,,,,,"With service discovery, SDK will go thru the discovery layout sequentially.  If fails to send transaction with the first layout choice, then go to next choice.  When each choice fails, SDK issues an error message.

Our expectation will be SDK issues a warning message rather than an error when a choice fails.  Then issue an error message only when all choices fail.  This applies to both orderers and peers, and is only for service discovery scenario.",,dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgpb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 4:11 AM;harrisob@us.ibm.com;in progress
https://gerrit.hyperledger.org/r/#/c/26202/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to install chaincode for marbles,FABN-214,20950,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,knagware9,knagware9,22/Sep/17 3:58 AM,12/Oct/19 4:29 PM,28/Oct/23 3:25 AM,01/Oct/17 3:21 AM,v1.0.0,,,,,,,,,,0,gossip,node-SDK,,,"In Ubuntu environment with docker version 17.05 ,chaincode installation is failing with sendPeersProposal -promise is rejected :Error connect failed. !image-2017-09-22-00-24-38-538.png!

!image-2017-09-22-00-22-41-556.png!","Ubuntut 16.4 with docker 17.05-ce and same issue with Kubernetes 1.7.4 on IBM Bluemix container service.

 

 ",knagware9,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/17 4:00 AM;knagware9;Chaincode_install_failed.JPG;https://jira.hyperledger.org/secure/attachment/12138/Chaincode_install_failed.JPG",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyh13:",,,,,,,,,,,,,,,,,,,,,,,,,,,,knagware9,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Sep/17 5:05 AM;knagware9;hertzpoc@hertzpoc-VirtualBox:~/work/src/github.com/hyperledger/marbles/scripts$ sudo node install_chaincode.js
info: Using default config file marbles_local.json
info: Loaded config file /home/hertzpoc/work/src/github.com/hyperledger/marbles/config/marbles_local.json
info: Loaded creds file /home/hertzpoc/work/src/github.com/hyperledger/marbles/config/blockchain_creds_local.json
---------------------------------------
info: Lets install some chaincode - marbles v4
---------------------------------------
info: First we enroll
info: [fcw] Going to enroll with admin cert!  peer_urls=[grpc://localhost:7051], channel_id=mychannel, uuid=marbles-Docker Compose Network-mychannel-fabric-peer-org1, orderer_url=grpc://localhost:7050, msp_id=Org1MSP
debug: added peer grpc://localhost:7051
debug: [fcw] Successfully got enrollment marbles-Docker Compose Network-mychannel-fabric-peer-org1
---------------------------------------
info: Now we install
---------------------------------------
debug: [fcw] Installing Chaincode
debug: [fcw] Sending install req targets=[grpc.primary_user_agent=grpc-node/1.2.4, _url=grpc://localhost:7051, addr=localhost:7051, , _request_timeout=90000, , _name=null], chaincodePath=marbles, chaincodeId=marbles, chaincodeVersion=v4
info: [packager/Golang.js]: packaging GOLANG from marbles
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Connect Failed
    at /home/hertzpoc/work/src/github.com/hyperledger/marbles/node_modules/grpc/src/node/src/client.js:434:17
error: [fcw] Failed to obtain endorsement for transaction. code=14, 
error: [fcw] Error in install catch block object code=14, 
---------------------------------------
info: Install done. Errors: parsed=Blockchain network error - Connect Failed, raw=[code=14, ];;;","01/Oct/17 3:21 AM;mastersingh24;[~knagware9] This should be opened against the marbles repo:    https://github.com/IBM-Blockchain/marbles

I'm going to close this here;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] end-to-end.js Error: version not provided for chaincode end2end,FABN-215,14774,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,jjjjibm,jjjjibm,14/Feb/17 4:38 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Feb/17 2:56 AM,,,,,,,v1.0.0,,,,0,,,,,"New result from end-to-end.js:

ok 1 Successfully loaded member from persistence
ok 2 Successfully enrolled user 'admin'
[2017-02-13 14:23:45.395] [DEBUG] E2E - [crypto_ecdsa_aes]: ecdsa signature:  Signature {
  r: <BN: f924dc666bcc06352f58e7feef0f1091f9016bb534b1401872ddffcb398b6292>,
  s: <BN: 46be8324822b0471f3435de37e992b257d8f15cbe2b037105a3e24add7c165ec>,
  recoveryParam: 0 }
error: [Peer.js]: GRPC client got an error response from the peer. Error: version not provided for chaincode end2end
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: version not provided for chaincode end2end
    at Object.callback (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Peer.js:191:13)
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:437:14
error: [Peer.js]: GRPC client got an error response from the peer. Error: version not provided for chaincode end2end
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: version not provided for chaincode end2end
    at Object.callback (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Peer.js:191:13)
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:437:14
# proposalRespondes = Error: Error: version not provided for chaincode end2end,Error: Error: version not provided for chaincode end2end
[2017-02-13 14:23:45.424] [ERROR] E2E - deploy proposal was bad
[2017-02-13 14:23:45.424] [ERROR] E2E - deploy proposal was bad
not ok 3 Failed to send Proposal or receive valid response. Response null or status is not 200. exiting...

How to recreate:
1.Clone fabric-sdk-node
2.Build fabric-sdk-node
3.node end-to-end.js step1 
",Vlaunch VM running Ubuntu,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2175,,,FAB-2175,,,FAB-1926,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Feb/17 6:28 AM;jjjjibm;Hi Bret, I spoke to Morali, who did this issue: https://gerrit.hyperledger.org/r/#/c/4993 (FAB-1926)  He says he has been discussing this change with you. ;;;","14/Feb/17 8:28 AM;jjjjibm;Bret, FYI.  Murali has offered to help us tomorrow.;;;","17/Feb/17 2:56 AM;jjjjibm;Bret, we have identified this issue as a duplicate of FAB2175.  I'll close this one.   ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- .hfc-key-store and missing tests,FABN-216,15079,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 6:34 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 2:18 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In the readme at https://github.com/hyperledger/fabric-sdk-node, in the section{color:#d04437} Back in your native host (MacOS, or Windows, or Ubuntu, etc), run the following tests:
{color}
1) Deleting artifacts of previous runs seems to be described here: 

_Clear out your previous key value store if needed for fabric-sdk-node (rm -fr /tmp/hfc-*) and for fabric-ca (rm <...>/fabric-ca/testdata/fabric-ca.db)

I have been clearing out ~/.hfc-key-store.  We should mention that also if it is still required.

2) This paragraph references ca-tests.js: 
_Test user management by member services with the {color:#d04437}test/unit/ca-tests.js{color}. This test exercises the KeyValueStore implementations for a file-based KeyValueStore as well as a CouchDB KeyValueStore. To successfully run this test, you must first set up a CouchDB database instance on your local machine. Please see the instructions below._

The test {color:#d04437}unit/ca-test.js {color}was deleted here: https://gerrit.hyperledger.org/r/#/c/6511/  so this paragraph needs work.   If you meant to describe a test that requires couchdb:
see instructions below ===> see section{color:#d04437} Set Up CouchDB Database for couchdb-fabriccop-tests.js
{color}3) Test happy path from end to end, run node test/unit/end-to-end.js
test/unit  --> test/integration
We should probably avoid the phrase 'happy path' or even 'green path'.  Perhaps
Test end-to-end fuctionality:  node test/integration/end-to-end.js
4) Test transaction proposals, run node test/unit/endorser-tests.js
===>
Test transaction proposals{color:#d04437}: {color}run node test/i{color:#d04437}ntegration{color}/endorser-tests.js
5) Test sending endorsed transactions for consensus, run node test/unit/orderer-tests.js\===>
Test sending endorsed transactions for consensus{color:#d04437}:{color}  run node test/{color:#d04437}integration{color}/orderer-tests.js

6) We should probably mention that you can install softhsm to run test/unit/pkcs11.js

7) There are many tests in test/integration that are not listed here.  Do we want to describe every test in test/integration and why a user would or not not run the test? 




_

","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add .txt to list of skipped files in license check,FABN-217,31704,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,ChristopherFerris,ChristopherFerris,06/Jul/18 11:04 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Jul/18 8:47 AM,,,,,,,v1.2.0,,,,0,,,,,add .txt to list of skipped files in license check,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-344,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzhzr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Headless-tests.js does not finish due to grpc client not returning,FABN-218,13257,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,02/Nov/16 11:04 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/Nov/16 6:00 AM,,,,,,,,,,,0,node-SDK,,,,"there's a call to Peer.sendProposal() in this test suite that's meant to test for error condition, but the grpc client call does not thrown an error, causing the promise to never resolve or reject. as a result the test never completes.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxduf:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability testing] protobuf changes in V1.1 causes integration test failure,FABN-219,27947,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,23/Feb/18 11:44 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Feb/18 1:21 AM,v1.1.0,,,,,,v1.1.1,,,,0,fabric-sdk-node,quality,,,"Block protobuf been changed in 1.1 SDK
 ex: parsing a block information (failure is seen in integration/query.js)

All the applications (i.e. tests) which parses the block information has to be changed when they use v1.1 SDK.
||Fabric SDK version||Syntax||
|1.0|block.data.data[0].payload.data.config.channel_group.groups.Application.policies.Writers.policy.*policy*.rule|
|1.1|block.data.data[0].payload.data.config.channel_group.groups.Application.policies.Writers.policy.*value*.rule|

This causes failures in the compatibility tests.

We should add to doc in v1.1  - maybe in upgrade section. Say something like:
{code:java}
applications that use this policy.*policy*.rule will fail after upgrading node sdk and fabric, so users must  change their application as specified (using policy.*value*.rule)
{code}",,denyeart,harrisob@us.ibm.com,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyylr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Feb/18 3:09 AM;denyeart;The update should be in the node sdk release notes rather than upgrade doc.;;;","24/Feb/18 3:13 AM;mastersingh24;I spoke with [~jyellick] to double check, but this is actually not a regression.  The issue is that the 1.0.x SDKs never updated their proto definitions.  So the bug is actually in SDKs v1.0.x

The proto definition DID NOT change in Fabric from 1.0 to 1.1.

;;;","24/Feb/18 8:30 AM;harrisob@us.ibm.com;We will not be putting in the v1.1 release notes  as this is such a minor issue
 see [https://gerrit.hyperledger.org/r/#/c/18313/]

protos updated in NodeSDK v1.0

[https://gerrit.hyperledger.org/r/#/c/18331/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-server error/crash,FABN-220,16144,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,pmullaney,pmullaney,02/May/17 3:54 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/May/17 5:04 AM,,,,,,,v1.0.0,,,,0,,,,,"Steps to reproduce:

cd fabric-sdk-node/tests/fixtures
docker-compose up --force-recreate

Output should indicate:
ubuntu@hyperledger-devenv:16cb17a:/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures$ docker-compose up --force-recreate
Creating network ""fixtures_default"" with the default driver
Creating ca_peerOrg2
Creating ca_peerOrg1
Creating orderer0
Creating couchdb
Creating peer0
Creating peer2
Attaching to ca_peerOrg2, ca_peerOrg1, couchdb, orderer0, peer0, peer2
ca_peerOrg2 | 2017/05/01 18:39:39 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
ca_peerOrg2 | Error: Incorrect format in file '/etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml': 1 error(s) decoding:
ca_peerOrg2 | 
ca_peerOrg2 | * 'LDAP.TLS.CertFiles': source data must be an array or slice, got string
ca_peerOrg2 | Usage:
ca_peerOrg2 |   fabric-ca-server start [flags]
ca_peerOrg2 | 
ca_peerOrg2 | Global Flags:
ca_peerOrg2 |       --address string                         Listening address of fabric-ca-server (default ""0.0.0.0"")
ca_peerOrg2 |   -b, --boot string                            The user:pass for bootstrap admin which is required to build default config file
ca_peerOrg2 |       --ca.certfile string                     PEM-encoded CA certificate file (default ""ca-cert.pem"")

",,pmullaney,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,pmullaney,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 4:19 AM;smithbk;I just spoke to [~jimthematrix] about this and he will make the necessary change to the node SDK to fix this, so assigning to him.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node - SDK] member.*etRoles() Not enough information to set or interpret roles,FABN-221,12723,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jjjjibm,jjjjibm,22/Sep/16 3:45 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,04/Apr/17 12:48 AM,,,,,,,,,,,0,v0.6,,,,"Description: 
Here is the documentation for member.setRoles()

setRoles

    setRoles(roles: string[]): void

        Defined in src/hfc.ts:807

    Set the roles.
    Parameters
      *  roles: string[]

        The roles.
*    Returns void
There's not enough information to set roles to a useful value. 
",Vlaunch VM running Ubuntu 14 and building fabric and node SDK from master.   Neither vagrant nor virtualbox are involved.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - allow HSM settings as strings,FABN-222,28301,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,09/Mar/18 1:17 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Mar/18 2:49 PM,,,,,,,v1.0.4,v1.1.0,,,0,,,,,Allow the HSM settings that are numeric to be passed in as environment string settings and converted to numeric,,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Mar/18 2:49 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/18989/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up unit test of sdk-node,FABN-223,17194,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,27/May/17 7:30 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/May/17 5:27 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"Unit test scripts of fabric-sdk-node needs to be cleaned up.

There are some test codes which require to fix as follows:
 * Unused args, variables and methods
 * Duplicated test case
 * inconsistency between test name and test code",fabric-sdk-node: commit b7eb1d4d48bcdeba21033591c4d0589e5a090f4d,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxa7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/17 7:45 AM;yuki-kon;Path set is here. https://gerrit.hyperledger.org/r/#/c/9883/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK stops when a chosen orderer is down during traffic using service discovery,FABN-224,31464,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,dongming,dongming,29/Jun/18 5:15 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Jun/18 3:41 AM,,,,,,,v1.2.0,,,,0,must-fix,,,,"Using service discovery, when the orderer is down and sends transactions to that orderer, then SDK stops",,denyeart,dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzglz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jun/18 8:48 PM;denyeart;[~dongming] [~harrisob@us.ibm.com] please clarify what you mean by 'stops'?  If you think this is must-fix for v1.2 please add that label.;;;","29/Jun/18 11:07 PM;dongming;When running transactions with service discovery, if the orderer is down, then SDK will exit node and PTE will not be able to send any subsequent transactions.;;;","30/Jun/18 2:55 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/23853/]

Issue was fixed prior to this being written up and included with the above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix more typos in BlockDecoder,FABN-225,28328,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,09/Mar/18 2:18 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Mar/18 6:44 PM,,,,,,,,,,,0,,,,,"There are a few typo issues and logical issue in the value returned from `decodeSigningIdentityInfo()`.

These issues need to be fixed.",,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0db:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
install chaincode e2e test,FABN-226,17265,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,xixuejia,xixuejia,xixuejia,31/May/17 1:12 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/May/17 4:07 AM,v1.0.0,v1.0.0-alpha2,,,,,,,,,0,quality,,,,"When we call install-chaincode.js in e2e directory, and if the chaincode installation failed in peers of org1, the test will stop and not try to install on org2. But it still shows _Successfully installed chaincode in peers of organization ""org2""_ which is confusing.",,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/May/17 4:03 AM;xixuejia;https://gerrit.hyperledger.org/r/#/c/9931/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
docker-compose CA services failing due to configuration file syntax error,FABN-227,15588,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,vdods,vdods,vdods,06/Apr/17 5:44 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/Apr/17 11:49 AM,v1.0.0,,,,,,v1.0.0,,,,0,,,,,"vdods@vdods-VirtualBox:~/files/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures$ docker-compose up --abort-on-container-exit
Creating network ""fixtures_default"" with the default driver
Creating ca_peerOrg2
Creating couchdb
Creating orderer0
Creating ca_peerOrg1
Creating peer0
Creating peer2
Creating peer1
Creating peer3
Attaching to ca_peerOrg1, ca_peerOrg2, orderer0, couchdb, peer0, peer2, peer3, peer1
ca_peerOrg1 | 2017/04/05 20:20:53 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
ca_peerOrg1 | Error: Incorrect format in file '/etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml': 1 error(s) decoding:
ca_peerOrg1 |
ca_peerOrg1 | * 'DB.TLS.CertFiles': source data must be an array or slice, got string","The fix is simple -- change the following line in test/fixtures/fabricca/tlsOrg#/fabric-ca-server-config.yaml (where # is 1 and 2)

      certfiles: db-server-cert.pem			# Comma Separated (e.g. root.pem, root2.pem)

to the following:

      certfiles:
        - db-server-cert.pem			# Comma Separated (e.g. root.pem, root2.pem)
",choas,rameshthoomu,vdods,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,FABN-435,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,choas,rameshthoomu,vdods,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/17 7:03 AM;vdods;The fix is https://gerrit.hyperledger.org/r/#/c/7737/;;;","18/Apr/17 1:37 AM;vdods;Last I checked, this was ""fixed"" from the other side (within fabric-ca) -- i.e. DB.TLS.CertFiles is expected to be a [comma-separated?] string instead of an array of values.  Not sure if this is the intended long-term state though.  Please advise.;;;","18/Apr/17 10:15 PM;rameshthoomu;Marking this bug to Highest as this is blocking node e2e tests.;;;","19/Apr/17 6:42 AM;choas;Changes are made in fabric-ca (see FAB-2993 and FAB-2896), therefore it should be now an array of values.

In my opinion the actual comments ""Comma Separated (e.g. root.pem, root2.pem)"" in the fabric-ca-server-config.yaml files (fabric-sdk-node) aren't correct?;;;","19/Apr/17 10:37 AM;vdods;The CR https://gerrit.hyperledger.org/r/#/c/7737/ has been merged by Jim Zhang -- does that resolve this issue?;;;","19/Apr/17 6:59 PM;choas;Yes, this resolves it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Doc - Broken link http://hyperledger-fabric.readthedocs.io/en/latest/orderingservice.html,FABN-228,31188,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,nileshdeotale,nileshdeotale,20/Jun/18 5:20 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,20/Jun/18 9:07 PM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"[~harrisob@us.ibm.com]

[https://fabric-sdk-node.github.io/tutorial-app-dev-env-setup.html] has ""orderer"" hyperlink to [http://hyperledger-fabric.readthedocs.io/en/latest/orderingservice.html]

But it returns this :

\ SORRY / \ / \ This page does / ] not exist yet. [ ,'| ] [ / | ]___ ___[ ,' | ] ]\ /[ [ |: | ] ] \ / [ [ |: | ] ] ] [ [ [ |: | ] ] ]__ __[ [ [ |: | ] ] ] ]\ _ /[ [ [ [ |: | ] ] ] ] (#) [ [ [ [ :====' ] ] ]_].nHn.[_[ [ [ ] ] ] HHHHH. [ [ [ ] ] / `HH(""N \ [ [ ]__]/ HHH "" [__[ ] NNN [ ] N/"" [ ] N H [ / N \ / q, \ / \""",,harrisob@us.ibm.com,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 5:20 AM;nileshdeotale;Screen Shot 2018-06-19 at 4.18.46 PM.png;https://jira.hyperledger.org/secure/attachment/15120/Screen+Shot+2018-06-19+at+4.18.46+PM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfe7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/18 7:53 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23353/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-sdk] <ip:port>/docs/gen/User.html  identities .. has --> identities .. have, and why call it toString()?",FABN-229,15110,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,01/Mar/17 3:32 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Generated documentation for class User has these minor grammar errors.

(1) 
Is now:
User identitie{color:#205081}s{color} represent signing capability because {color:#205081}it has {color}access

Should be:
User identities represent signing capability because {color:#205081}they have {color}access ..

Could be: 
The user identity represents signing capability because it has access ...

(2) 
Is now:
Peer identitie{color:#205081}s{color} in the context of the application/SDK only {color:#205081}has{color} the ...

Should be:
Peer{color:#205081} identities {color}in the context of the application/SDK only {color:#205081}have{color}  the ...

Could be:
The peer identity in the context of the application/SDK only has the ...

If you pick the 'Could be' or similar solution for (1) you should select the 'Could be' solution or similar for (2) for consistent style.  For the same reason, match the 'should be' solution for (1) with a 'should be' solution for (2). 

(3) Some method descriptions end with '.', and others do not 
(See what I did that?) 
Example: 
getAffiliation()

    Get the affiliation{color:#d04437}.
{color}
The description ends with a period '.'

Example:
fromString()

    Set the current state of this member from a string based JSON object

The description does not with a period.

I count 9 descriptions  punctuated standardly,  5 dangling
(See what I did with that?)

Solution:  pick one style and use it consistently. 

(4)  toString() is defined or named in an unconventional way 

These classes in the node SDK have the method toString(): Chain, FabricCAServices, Peer, Remote.

Tt is always defined like this:

_toString()

    return a printable representation of this object
_

Class User also has a method toString(), defined like this:

toString()

    Save the current state of this member as a string


If this method does something that is not identical to what the other class toString() methods do, overloading the name will cause confusion.  The method should be renamed. 

If this method does the same thing the other class toString() methods do, this description or the other descriptions need to change.  ","fabric-sdk-node commit d3fcbe2299c840dfd7886076b009b88eb25a7dd8
fabric commit a0d032bc5c4853b43972163f502a03ee7770c1d5
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmbb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] unnecessary or missing parameters in transaction proposal request,FABN-230,27788,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,16/Feb/18 7:32 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Feb/18 12:11 AM,v1.1.0-alpha,,,,,,v1.1.1,,,,0,,,,,"Some transaction proposal requests have unnecessary or missing parameters.

1. fabric-sdk-node/fabric-client/lib/Channel.js

The following functions have “chainId” in request objects. However, “chainId” is not used to call sendTransactionProposal.
This parameter should be removed.
- queryInfo
- queryBlockByHash
- queryBlock
- queryTransaction
- queryInstantiatedChaincodes
- queryByChaincode
 
In addition, queryBlock doesn’t have the value of “signer” in ChaincodeInvokeRequest.
https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Channel.js#L962
Signer generated by previous step should be added to the request object.

2. fabric-sdk-node/test/integration/events.js,  fabric-sdk-node/test/integration/eventutil.js

createRequest has unnecessary parameters - “channel” and “user”. These parameters should be removed.
https://github.com/hyperledger/fabric-sdk-node/blob/master/test/integration/eventutil.js#L59
",fabric-sdk-node 0ace8d1c3e2e75c7eb1d033926162c1bce11fbea,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Feb/18 7:59 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/17965/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to deploy chaincode example02 using hfc0.6.0 on V0.6 branch,FABN-231,12622,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,angrbrd,Ratnakar,Ratnakar,09/Sep/16 1:56 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Sep/16 6:12 AM,,,,,,,v0.6,,,,0,node-SDK,,,,"1. Downloaded the code from gerrit 
   
{code:java}
git clone http://gerrit.hyperledger.org/r/fabric
{code}

2. switched v0.6 branch
   
{code:java}
git checkout v0.6
{code}

3. vagrant up && vagrant ssh
4. started memberservice and peer
5. Tried to deploy chaincode_example02 using nodesdk with hfc version *hfc@0.6.0*
    However it fails to deploy chaincode and fails with below error(peer and node logs attached) , also enclosed node program used to test this.


{code:java}
    14:04:09.030 [chaincode] processStream -> ERRO 018 Got error: Incorrect number of arguments. Expecting 4
14:04:09.030 [chaincode] Launch -> ERRO 019 sending init failed(Error initializing container e982b3a15a1ce3ca25b119c1aa8c19268090aebbcbceba040d26e14cd1980ac4: Incorrect number of arguments. Expecting 4)
14:04:09.065 [chaincode] processStream -> ERRO 01a Error handling chaincode support stream: connection error: desc = ""transport is closing""
{code}
",,bmos299,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/16 1:56 AM;Ratnakar;hello-blockchain.js;https://jira.hyperledger.org/secure/attachment/10071/hello-blockchain.js","09/Sep/16 1:56 AM;Ratnakar;node_logs.txt;https://jira.hyperledger.org/secure/attachment/10070/node_logs.txt","09/Sep/16 1:56 AM;Ratnakar;peer_logs.txt;https://jira.hyperledger.org/secure/attachment/10069/peer_logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbuv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/16 3:48 AM;bmos299;Changed priority to highest. ;;;","09/Sep/16 11:35 PM;jimthematrix;i'm able to reproduce this error. looking to see what's the problem.;;;","09/Sep/16 11:36 PM;jimthematrix;seeing the following error in the peer log output:

2016/09/09 14:32:41 transport: http2Server.HandleStreams failed to receive the preface from client: read tcp 127.0.0.1:7051->127.0.0.1:47051: read: connection reset by peer
14:32:52.685 [chaincode] processStream -> ERRO 01d Got error: Incorrect number of arguments. Expecting 4
14:32:52.685 [chaincode] Launch -> ERRO 01e sending init failed(Error initializing container 7a67222df9b1cad80b8b2fa326aca8f715d13bf2beb2d9f8fa2285a40ec0a786: Incorrect number of arguments. Expecting 4)
14:32:52.726 [chaincode] processStream -> ERRO 01f Error handling chaincode support stream: connection error: desc = ""transport is closing""
2016/09/09 14:33:41 grpc: Server.Serve failed to create ServerTransport:  connection error: desc = ""transport: write tcp 127.0.0.1:7051->127.0.0.1:47054: write: broken pipe""
2016/09/09 14:33:51 transport: http2Server.HandleStreams failed to receive the preface from client: read tcp 127.0.0.1:7051->127.0.0.1:47055: read: connection reset by peer

;;;","10/Sep/16 12:01 AM;jimthematrix;same error when using membersrvc and peer built from the master branch (still using node.js SDK @0.6);;;","10/Sep/16 1:19 AM;jimthematrix;This is caused by the fact that v0.6 is missing an SDK fix that corresponds to the fabric peer changes for the transaction invoke API. Switching the app to use an SDK built from the master branch gets the app to run through completion successfully.

Assigning to [~angrbrd] as she's coordinating the preparation of v0.6 branch. It's also possible that the v0.6 branch will be re-based on master. [~binhn] and [~ChristopherFerris] are investigating the rebase as we speak.;;;","21/Sep/16 4:38 AM;Ratnakar;Verified with hfc@0.61 and donot see the issue any more.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The javascript SDK throws errors for get apis and objects do not exist,FABN-232,31009,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,MariWade,MariWade,13/Jun/18 1:16 AM,30/Oct/19 1:35 AM,28/Oct/23 3:25 AM,30/Oct/19 1:35 AM,,,,,,,Future,,,,0,,,,,"An Application that uses the node sdk has to use exception/error flow to check if an object exist as a result of the javascript SDK throwing errors when get apis and the objects do not exist.  The problem is that all coding is done by handling the errors, even if there is not a true error which may cause true errors not to be handled correctly.

Either the sdk needs to return a result/undefined or the sdk needs a presence api.

 For example:

In the application, *client.getChannel()* will throw an error if the channel is not on the client.  The code needs to check if the channel is not already there.   The test in the application code to check for presence is:
 try \{
 channel=client.getChannel(channelName, throwErrorIfNotFound);
 logger.debug(`$\{loggerHeader} found in client.`);
 } catch (err) \{
 logger.debug(`$\{loggerHeader} not found in user client. Creating a new instance`);
 }
  
 The result of this call if the channel is not on the client is an error:
 error: [Client.js]: Channel not found for name mychannel.

 

Another example: *this.channel.queryTransaction(this.txId)*
  
 let processedTransaction:any;
 try \{
   processedTransaction=await this.channel.queryTransaction(this.txId);
 } catch (queryTransactionError) \{
 // 2 scenarios- 1) there is an error reading the query 2) there is no processed transaction result for the TXID
  logger.debug(`$\{loggerHeader} queryTransaction did not find transaction state: queryTransaction  error message: $\{queryTransactionError.message}`);
 }
  
 The result throws an error:
  
 error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: chaincode error (status: 500, message: Failed to get transaction with id a81da323ada56d1718f2aef4722a2a328059f85936e239bd15f944bccdc3d196, error Entry not found in index)

    at new createStatusError (/Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:64:15)

    at /Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:583:15

error: [Channel.js]: Failed Transaction Query. Error: Error: 2 UNKNOWN: chaincode error (status: 500, message: Failed to get transaction with id a81da323ada56d1718f2aef4722a2a328059f85936e239bd15f944bccdc3d196, error Entry not found in index)

    at new createStatusError (/Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:64:15)

    at /Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:583:15

debug: TransactionState queryTransactionState correlationId:1111 - queryTransaction did not find transaction state: queryTransaction error message: 2 UNKNOWN: chaincode error (status: 500, message: Failed to get transaction with id a81da323ada56d1718f2aef4722a2a328059f85936e239bd15f944bccdc3d196, error Entry not found in index)
  ",,davidkel,heatherp,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzelj:",,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,heatherp,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/18 10:28 PM;MariWade;To be clear, I gave examples of the errors and not a finite list.;;;","07/Sep/18 3:23 AM;davidkel;Changing this effectively would mean a change to the api, so will need to be done in a version where these kinds of breaking changes could be done. Also I don't see this as a bug but an enhancement so changing to a story.;;;","30/Oct/19 1:35 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK] Loss of custom event,FABN-233,29072,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,jyg,jyg,02/Apr/18 4:07 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/Apr/18 10:12 AM,v1.1.0,,,,,,,,,,0,,,,,"I happened to lose some custom events (SetEvent) when running a multi-user concurrency test. As the blocklistener was catching the event, I investigated the issue in EventHub.js.

In _{color:#59afe1}processChainCodeOnEvents(block){color} , I modified the following piece of code:

 if (!cbtable) \{ 
                        return; 
                    } 
  cbtable.forEach(function(cbe) \{ 
          if (cbe.eventNameFilter.test(ccEvent.event_name)) \{ 
                         cbe.onEvent(ccEvent); 
                  } 
     });

The return occured and exited the block and consequently, the rest of events could not be processed.   That is why I could not get the events in my code.     ccEvent.chaincode_id was apparently undefined when this happens.

I replaced the code by the following to make it work:

if (cbtable) \{
           cbtable.forEach(function(cbe) \{
             if (cbe.eventNameFilter.test(ccEvent.event_name)) \{
               cbe.onEvent(ccEvent);
             }
      });
 }

not sure if this is correct behavior.  But at least, the rest of events in the block can be properly processed. 

 Would appreciate expert point of view on this.

 

 ","Hyperledger Fabric 1.1

Fabric node-sdk 1.1",jyg,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz47b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jyg,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Apr/18 11:29 AM;zhaochy;[~harrisob@us.ibm.com]
seems we need to change 

{code:javascript}
if (!cbtable) {
	return;
}
{code}

to

{code:javascript}
if (!cbtable) {
	continue;
}
{code}
;;;","02/Apr/18 11:40 AM;zhaochy;https://gerrit.hyperledger.org/r/20059;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Database Conflict with CouchDBKeyValueStore,FABN-234,30180,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,milliger,milliger,15/May/18 4:21 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/May/18 12:51 AM,v1.0.5,,,,,,v1.0.8,v1.1.3,v1.2.0,,2,Conflict,CouchDBKeyValueStore,StateStore,,"When using CouchDBKeyValueStore as the client's stateStore we encounter database conflicts.
 # We try to set the client's user context by calling *loadUserFromStateStore(...)*
 # The SDK then tries to deserialize the user by calling *User.fromString(...)*
 # The *fromString()* function calls *CryptoSuite.importKey(...)*
 # The CryptoSuite's default implementation calls *store.putKey(...)* on the CouchDBKeyValueStore

In other words: Calling loadUserFromStateStore(...) (which sounds like a read-only operation) issues an update in the underlying database. Internally the revision of the couchDB document is changed.

Now if we quickly call this function multiple times (call it for the second time before the first networking call has returned) we end up with a database conflict in CouchDB that isn't properly caught by the SDK.

 

{{[Node] error: [CouchDBKeyValueStore.js]: setValue, _dbInsert, ERROR: [member_db.insert] -  conflict}}

{{Unhandled rejection Error: conflict}}{{[Node]     at /app/node_modules/fabric-client/lib/impl/CouchDBKeyValueStore.js:176:13}}{{[Node]     at Request._callback (/app/node_modules/nano/lib/nano.js:241:7)}}{{[Node]     at Request.self.callback (/app/node_modules/nano/node_modules/request/request.js:186:22)}}{{[Node]     at emitTwo (events.js:106:13)}}{{[Node]     at Request.emit (events.js:191:7)}}{{[Node]     at Request.<anonymous> (/app/node_modules/nano/node_modules/request/request.js:1163:10)}}{{[Node]     at emitOne (events.js:96:13)}}{{[Node]     at Request.emit (events.js:188:7)}}{{[Node]     at IncomingMessage.<anonymous> (/app/node_modules/nano/node_modules/request/request.js:1085:12)}}{{[Node]     at IncomingMessage.g (events.js:292:16)}}{{[Node]     at emitNone (events.js:91:20)}}{{[Node]     at IncomingMessage.emit (events.js:185:7)}}{{[Node]     at endReadableNT (_stream_readable.js:974:12)}}{{[Node]     at _combinedTickCallback (internal/process/next_tick.js:80:11)}}{{[Node]     at process._tickDomainCallback (internal/process/next_tick.js:128:9)}}

 

Please find attached a sample node program to reproduce this issue.","Here's our setup:
 * Hyperledger Fabric Node SDK in version 1.0.5
 * Cloudant CouchDB implementation on IBM Cloud as a remote state store (any other remote couchdb that takes some time to respond works as well)",angel-ibm,denyeart,harrisob@us.ibm.com,milliger,smnschfr,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 5:41 PM;milliger;index.js;https://jira.hyperledger.org/secure/attachment/14980/index.js",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza33:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angel-ibm,denyeart,harrisob@us.ibm.com,milliger,smnschfr,wenjian,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 2:42 AM;harrisob@us.ibm.com;Looks like a problem that should be fixed. A ""loadFrom"" operation should not also write back to the same.

Should we do a fix  and publish a 1.0.8  and 1.1.3;;;","16/May/18 10:36 PM;smnschfr;Hi [~harrisob@us.ibm.com], thanks for having a look at the issue. In order to be able to plan with the customer whose project is affected by this issue, could you kindly give a rought estimate when you expect this to be fixed?;;;","18/May/18 10:48 PM;harrisob@us.ibm.com;[~denyeart] what do you think?

I will play to publish NodeSDK `fabric-client` 1.0.8 by 5/24;;;","19/May/18 1:41 AM;denyeart;I agree the fix should be backported.  I'll defer to [~harrisob@us.ibm.com] on timing of a fix release.;;;","23/May/18 5:04 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/22065/;;;","23/May/18 5:05 AM;harrisob@us.ibm.com;The change to have the publish to NPM is in progress.;;;","23/May/18 4:21 PM;smnschfr;Great news, thanks to all of you! Looking forward to using it.;;;","30/May/18 10:39 PM;wenjian;CR for release 1.1: [https://gerrit.hyperledger.org/r/#/c/22537/]

CR for release 1.2: [https://gerrit.hyperledger.org/r/#/c/22533/] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
hfc module needs access to create a Dockerfile in the chaincode directory,FABN-235,12940,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,sstone1,sstone1,10/Oct/16 7:43 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:22 AM,v0.6,v1.0.0,,,,,,,,,0,,,,,"As part of a deploy() call, the hfc module creates a Dockerfile in the the specified chaincode directory. This causes the deploy() call to fail when the chaincode is stored in a directory that the running user does not have access to. If the deploy() call needs to write files to the file system, that should always be done in a temporary directory that the running user can definitely access.

My scenario is that I have two npm modules:
* my-module, which is a module that uses hfc, and contains the chaincode
* my-cli, which is a CLI application for working my-module

my-cli calls my-module, which then attempts to deploy the chaincode that is stored in the my-module directory (in the root owned, global node.js module directory). That fails because the user does not have access to write to that directory.

{noformat}
Error: Error writing file [/usr/local/lib/node_modules/my-cli/node_modules/my-module/chaincode/src/mycc/Dockerfile]: Error: EACCES: permission denied, open '/usr/local/lib/node_modules/my-cli/node_modules/my-module/chaincode/src/mycc/Dockerfile'
    at TransactionContext.<anonymous> (/usr/local/lib/node_modules/my-cli/node_modules/my-module/lib/util.js:165:28)
    at emitOne (events.js:96:13)
    at TransactionContext.emit (events.js:188:7)
    at Timeout._onTimeout (/usr/local/lib/node_modules/my-cli/node_modules/hfc/lib/hfc.js:970:22)
    at tryOnTimeout (timers.js:232:11)
    at Timer.listOnTimeout (timers.js:202:5)
{noformat}",,Clayton Sims,jimthematrix,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxctz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,jimthematrix,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/16 10:59 PM;jimthematrix;[~sstone1] thanks for raising this defect, if it's OK with you can we document this as v0.6 limitation and fix in v1.0? trying to minimize changes to v0.6 to only crashing or blocking defects. please let us know.;;;","08/Feb/17 10:35 AM;Clayton Sims;Per email.   Simon said this is failing on Hackfest driver.   Can you take a look. 
;;;","09/Feb/17 12:23 AM;jimthematrix;[~sstone1] as discussed earlier, now that the docker file content has been removed from the deploy API (it'll be generated by the peers on the fly), this is fixed indirectly;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure trying to install chaincode ,FABN-236,15649,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,greg.haskins,greg.haskins,11/Apr/17 2:26 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/May/17 4:59 AM,v1.0.0,,,,,,,,,,0,,,,,"error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
error: [Chain.js]: getChannelConfig - Failed Proposal. Error: Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.<anonymous> (/Users/ghaskins/sandbox/git/chaintool/examples/example02/client/nodejs/node_modules/fabric-client/lib/Orderer.js:199:22)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at ClientDuplexStream.Readable.push (_stream_readable.js:134:10)
    at readCallback (/Users/ghaskins/sandbox/git/chaintool/examples/example02/client/nodejs/node_modules/grpc/src/node/src/client.js:245:14)
error: [Chain.js]: Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.<anonymous> (/Users/ghaskins/sandbox/git/chaintool/examples/example02/client/nodejs/node_modules/fabric-client/lib/Orderer.js:199:22)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at ClientDuplexStream.Readable.push (_stream_readable.js:134:10)
    at readCallback (/Users/ghaskins/sandbox/git/chaintool/examples/example02/client/nodejs/node_modules/grpc/src/node/src/client.js:245:14)
error:Error: Error: Invalid results returned ::NOT_FOUND",,greg.haskins,IvanJJill,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jun/17 9:32 PM;IvanJJill;e2e.log;https://jira.hyperledger.org/secure/attachment/11309/e2e.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx38v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,greg.haskins,IvanJJill,swangbj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Apr/17 1:33 PM;jimthematrix;errors indicated channel creation failure. can you give more details on how this error came about?;;;","03/May/17 4:03 PM;swangbj;hi, have you fixed this problem? I just got the same error.;;;","04/May/17 6:21 AM;jimthematrix;[~ghaskins] [~swangbj] can you provide more details on how this was reproduced? clearly this worked in the CI build and end-2-end FIT tests.;;;","05/May/17 5:00 AM;jimthematrix;closing it as it's very much likely to have been fixed by now. please give the latest a try and if happening again please re-open and provide more details on how to reproduce.;;;","05/May/17 5:08 AM;jimthematrix;need more details on how this was reproduced. note that there is no good indicator that the channel has been successfully created by the orderer. so you have to wait some length of time before calling join channel. that's what the e2e.js test does, waiting 5 seconds. it's not pretty but is the easiest solution. you could also keep polling until you get the expected block (within a set timeout);;;","06/May/17 2:05 AM;swangbj;thx .I will have a try!;;;","22/Jun/17 8:57 PM;IvanJJill;hi guys,
 i am running into the same problem.

running on Ubuntu 16.4.2 64bit, following Marbles v3.0 manual from [here|https://github.com/IBM-Blockchain/marbles/blob/v3.0/docs/install_chaincode_locally.md]
 i have ran the docker-composer:
 _docker-compose -f docker-compose-marblesv3.yaml up -d_
 all the network is up and running, verified by _docker ps_

then moved to marbles directory, installed successfully all packages with _npm install_
 then went to ./scripts directory, and ran 
 _node install_chaincode.js_
 it went successfully, so I ran 
 _node instantiate_chaincode.js_
 and this is where I have received the same output
 after tracing the error, I could figure out that it happens in deploj_cc.js line 141:
_chain.initialize().then ..._
 which calls _chain.js -> orderer.js_ : sendDeliver.on('data'...
 it returns status 'NOT_FOUND'

 

hope that helps

 ;;;","22/Jun/17 9:32 PM;IvanJJill;Just an update: e2e.js yields the same errors, see the log attached

[^e2e.log];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB image used by node SDK's docker-compose does not run on s390 architecture,FABN-237,15513,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,30/Mar/17 5:10 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/Mar/17 2:59 AM,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx74f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] chain.getMember(<undefined user>) returns member,FABN-238,12424,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jjjjibm,jjjjibm,17/Aug/16 6:11 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/Aug/16 1:36 AM,,,,,,,,,,,0,node-SDK,,,,"To drive an error case, I added the following call to my node.js program:

chain.getMember(""Pope Francis"", function(err, member) {
			if (err) {
				console.log(""could not get member for "", name, err);
				return cb(err);
			}
			console.log(""I did find this member"", member)
			chain.setRegistrar(member);
		});

Since ""Pope Francis"" isn't a defined user, I expected the callback function to be driven with an error to the effect ""Pope Francis"" was not defined.

Instead I got this: 
~I did find this member { tcertGetterMap: {},
  name: 'Pope Francis',
  chain:
   { peers: [],
     securityEnabled: true,
     members: {},
     tcertBatchSize: 200,
     devMode: false,
     preFetchMode: true,
     deployWaitTime: 20,
     invokeWaitTime: 5,
     name: 'testChain',
     keyValStore: { setValue: [Function], dir: '/tmp/keyValStore' },
     memberServices:
      { ecaaClient: [Object],
        ecapClient: [Object],
        tcapClient: [Object],
        tlscapClient: [Object],
        cryptoPrimitives: [Object] },
     cryptoPrimitives:
      { hashAlgorithm: 'SHA3',
        securityLevel: 256,
        suite: 'sha3-256',
        curveName: 'secp256r1',
        hashFunction: [Object],
        hashFunctionKeyDerivation: [Object],
        hashOutputSize: 32,
        ecdsaCurve: [Object] },
     registrar:
      { tcertGetterMap: {},
        name: 'admin',
        chain: [Circular],
        memberServices: [Object],
        keyValStore: [Object],
        keyValStoreName: 'member.admin',
        tcertBatchSize: 200,
        enrollment: [Object] } },
  memberServices:
   { ecaaClient: { '$channel': {} },
     ecapClient: { '$channel': {} },
     tcapClient: { '$channel': {} },
     tlscapClient: { '$channel': {} },
     cryptoPrimitives:
      { hashAlgorithm: 'SHA3',
        securityLevel: 256,
        suite: 'sha3-256',
        curveName: 'secp256r1',
        hashFunction: [Object],
        hashFunctionKeyDerivation: [Object],
        hashOutputSize: 32,
        ecdsaCurve: [Object] } },
  keyValStore: { setValue: [Function], dir: '/tmp/keyValStore' },
  keyValStoreName: 'member.Pope Francis',
  tcertBatchSize: 200 ~}

The documentation says nothing about chain.getMember() creating members for nonexistent users:

_getMember

    getMember(name: string, cb: GetMemberCallback): void

        Defined in src/hfc.ts:609

    Get the user member named 'name'.
    Parameters
        name: string
        cb: GetMemberCallback

        Callback of form ""function(err,Member)""
    Returns void


_

Either getMember() should have returned with an error, or else the documentation must change to indicate chain.getMember() will always return a member, even for undefined users. 

How to reproduce:
1.In vagrant, in your fabric directory, cd to .../fabric/sdk/node/test/unit
2.Edit registrar.js  (for example)
3.Add this code to one of the existing functions:

{code:java}
chain.getMember(""Pope Francis"", function(err, member) {
			if (err) {
				console.log(""could not get member for "", name, err);
				return cb(err);
			}
			console.log(""I did find this member"", member)
			chain.setRegistrar(member);
		});
{code}
4.Run 'make node-sdk-unit-tests' as usual. ",Laptop = Win 7 hfc = 0.0.2 Still using Github until I'm told sdk/node works on Gerrit. ,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb3b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Aug/16 4:39 AM;cdaughtr;I was able to reproduce this issue.

If we assume that chain.getMember from 
hfc.ts getMember(name:string, cb:GetMemberCallback), should return an existing member or an error, then there appears to be a gap in the logic between 

private getMemberHelper(name:string, cb:GetMemberCallback), which returns a member or an error

and

restoreState(cb:ErrorCallback) which is documented as ""Restore the state of this member from the key value store (if found).  If not found, do nothing.""

So still need to find out if this is working as designed and needs a documentation update or if this is an actual bug.;;;","26/Aug/16 6:14 AM;jimthematrix;from API design point of view, having the getMember() method return an error on non-existent names would be a more intuitive design.

but at this point we are minimizing the changes to the existing SDK implementation and should start working on a new design that are driven by two forces:
- all the changes brought about by the new architecture (proposal vs. transaction, endorsers and orderers, etc.)
- we should have aligned API designs across all SDKs for node.js, python and Java

So what I recommend is leave the current implementation as-is, and update the documentation to make this behavior clearly spelled out.;;;","31/Aug/16 1:36 AM;cdaughtr;merged: http://gerrit.hyperledger.org/r/733;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unit tests still use **TEST_CHAINID**,FABN-239,14304,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,inatatsu,inatatsu,23/Jan/17 6:32 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Jan/17 1:11 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"While FAB-1763 had renamed the default chain ID from ""***TEST_CHAINID***"" to ""test_chainid"", unit tests in Node SDK still use the old chain ID, which causes test failure. Attached below is an output of the end-to-end test:
{code:java}
e2e        | ok 2 Successfully enrolled user 'admin'
e2e        | debug: [Chain.js]: getPeers - list size: 2.
e2e        | debug: [Chain.js]: Chain.sendDeployment- Successfully generated chaincode deploy archive and name (mycc)
e2e        | debug: [Chain.js]: buildChainHeader - type 3 chain_id **TEST_CHAINID** tx_id NaN epoch % chaincode_id null lccc
e2e        | [2017-01-23 07:37:02.142] [DEBUG] E2E - [crypto_ecdsa_aes]: ecdsa signature:  Signature {
e2e        |   r: <BN: 8630a5423becf5f9614dc47d96507d45190d938b80fa8231596e9e16486cb38>,
e2e        |   s: <BN: 6d7735c59a99c4e02c0c0d77a594c462e5510f906bd32e8ff437130ccd381fb4>,
e2e        |   recoveryParam: 0 }
e2e        | debug: [Chain.js]: _signProposal - signature::{""type"":""Buffer"",""data"":[48,68,2,32,8,99,10,84,35,190,207,95,150,20,220,71,217,101,7,212,81,144,217,56,184,15,168,35,21,150,233,225,100,134,203,56,2,32,109,119,53,197,154,153,196,224,44,12,13,119,165,148,196,98,229,81,15,144,107,211,46,143,244,55,19,12,205,56,31,180]}
e2e        | debug: [Chain.js]: getPeers - list size: 2.
e2e        | debug: [Peer.js]: Peer.sendProposal - Start
e2e        | debug: [Peer.js]: Peer.sendProposal - Start
e2e        | error: [Peer.js]: GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:417:17
e2e        | error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        |     at Object.callback (/fabric-sdk-node/node_modules/hfc/lib/Peer.js:191:13)
e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:420:14
e2e        | error: [Peer.js]: GRPC client got an error response from the peer. Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:417:17
e2e        | error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        |     at Object.callback (/fabric-sdk-node/node_modules/hfc/lib/Peer.js:191:13)
e2e        |     at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:420:14
e2e        | debug: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        | debug: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: Failed to deserialize creator identity, err MSP DEFAULT is unknown
e2e        | [2017-01-23 07:37:02.148] [ERROR] E2E - deploy proposal was bad
e2e        | [2017-01-23 07:37:02.148] [ERROR] E2E - deploy proposal was bad
e2e        | not ok 3 Failed to send Proposal or receive valid response. Response null or status is not 200. exiting...
e2e        |   ---
e2e        |     operator: fail
e2e        |     at: process._tickCallback (internal/process/next_tick.js:103:7)
e2e        |   ...
{code}
",,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1763,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxivb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/17 6:46 PM;inatatsu;https://gerrit.hyperledger.org/r/#/c/4709/;;;","24/Jan/17 1:11 PM;inatatsu;Fixed by another change set https://gerrit.hyperledger.org/r/#/c/4639/ .;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getUserContext() does not always return the requested user,FABN-240,15603,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,06/Apr/17 11:54 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Apr/17 1:35 PM,v1.0.0,,,,,,v1.0.0,,,,0,,,,,"if the client object has userA as the current context, and wants to switch to userB, it may want to first call client.getUserContext(""userB"") but the code always returns the current user which is userA.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/17 1:35 PM;jimthematrix;resolved by https://gerrit.hyperledger.org/r/#/c/7805/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
balance-transafer example fails with proto error,FABN-241,16116,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,29/Apr/17 11:54 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Apr/17 9:56 AM,,,,,,,v1.0.0,,,,0,node-sdk,,,,"When run the sample with the below scripts

*Terminal - 1*
Start the WebServer

{panel}
./runApp.sh
{panel}

*Terminal - 2*
Call REST end Points

{panel}
./testAPIs.sh
{panel}


Create channel fails with following error:
{code}
[2017-04-29 10:44:51.300] [ERROR] Create-Channel - TypeError: _commonProto.Envelope.decode is not a function
    at /home/itpc/experims/fabric-sdk-node/examples/balance-transfer/node_modules/fabric-client/lib/Chain.js:427:42
(node:19444) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): Error: TypeError: _commonProto.Envelope.decode is not a function
    at /home/itpc/experims/fabric-sdk-node/examples/balance-transfer/node_modules/fabric-client/lib/Chain.js:427:42
{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] end-to-end.js not ok 1 Error: Calling enrollment endpoint failed with error [Error: Parse Error] at ClientRequest.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc-cop/lib/FabricCOPImpl.js:304:12) ,FABN-242,14137,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jjjjibm,jjjjibm,18/Jan/17 4:52 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:47 PM,,,,,,,,,,,0,,,,,"Running 
node end-to-end.js

after running latest.sh to clone directories and start network. This is the first test case I run.

Test 1 fails with these messages:

[2017-01-17 14:13:49.216] [INFO] E2E - Executing step1
info: [Client.js]: Failed to load user ""admin"" from local key value store
[2017-01-17 14:13:49.223] [INFO] E2E - [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store
[2017-01-17 14:13:49.225] [DEBUG] E2E - [crypto_ecdsa_aes]: Hash algorithm: SHA2, hash output size: 256
[2017-01-17 14:13:49.225] [INFO] E2E - [FabricCOPImpl.js]: Successfully constructed Fabric COP service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":8888}
[2017-01-17 14:13:49.295] [DEBUG] E2E - [ecdsa/key.js]: ECDSA curve param X: 93b3e1870099383a7050da28a34b024520cae3353c0325f9282d583662276d33
[2017-01-17 14:13:49.296] [DEBUG] E2E - [ecdsa/key.js]: ECDSA curve param Y: 2c026141e4511682cfbf0bdbe525137741d0effa17e505d7747d29d284a97523


not ok 1 Error: Calling enrollment endpoint failed with error [Error: Parse Error] at ClientRequest.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc-cop/lib/FabricCOPImpl.js:304:12) at emitOne (events.js:96:13) at ClientRequest.emit (events.js:188:7) at Socket.socketOnData (_http_client.js:366:9) at emitOne (events.js:96:13) at Socket.emit (events.js:188:7) at readableAddChunk (_stream_readable.js:176:18) at Socket.Readable.push (_stream_readable.js:134:10) at TCP.onread (net.js:543:20)


  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...

Here is line 304 of hfc-cop/lib/FabricCOPImpl.js

reject(new Error(util.format('Calling enrollment endpoint failed with error [%s]', err)));

and here is some context:

                                                                util.format('Enrollment failed with errors [%s]', JSON.stringify(enrollResponse.errors))));
                                                }

                                        } catch (err) {
                                                reject(new Error(
                                                        util.format('Could not parse enrollment response [%s] as JSON due to error [%s]', payload, err)));
                                        }
                                });

                        });

                        request.on('error', function (err) {
                                reject(new Error(util.format('Calling enrollment endpoint failed with error [%s]', err)));
                        });

                        request.write(JSON.stringify(enrollRequest));
                        request.end();

                });

        }

        /**
         * Convert a PEM encoded certificate to DER format
         * @param {string) pem PEM encoded public or private key
         * @returns {string} hex Hex-encoded DER bytes
         * @throws Will throw an error if the conversation fails




","Vlaunch VM running Ubuntu.  The VM runs fabric, COP, and end-to-end.js.

Attaching latest.sh which creates directories and starts everything.",jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/17 4:52 AM;jjjjibm;latest.sh;https://jira.hyperledger.org/secure/attachment/10382/latest.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxidb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/17 12:48 PM;jimthematrix;[~jjjjibm] can you please provide the fabric-ca log at the time of the error? otherwise it's difficult to determine the cause. i wasn't able to reproduce. if you can reproduce this error please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] improve Documentation -- class Chain,FABN-243,12572,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,31/Aug/16 2:04 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Oct/16 12:24 PM,,,,,,,,,,,0,Fabric05,node-SDK,,,"From the generated documentation here: file:///C:/go/src/github.com/hyperledger/fabric/sdk/node/doc

I've copied the page for class Chain into an odt file and annotated it with document suggestions.  

General principles of API documentation:   Documentation for each API should answer these questions:
   - Result:  What's the result of issuing this API
   - Requirements:  What's required to issue this API ? 
  - Restrictions:  List any restrictions
   - Tips:  If you can ignore what the tip says, it's a valid tip.  Otherwise, it must be a result, requirement, or restriction. 

Some documentation actually has headings:  Results, Requirements, Restrictions (and optionally) Tips. 

I will attach the odt document.  It is based on hfc 0.0.2 (just before moving from github to Gerrit).   ","Win7 laptop, vagrant vm running Ubuntu, hfc 0.0.2 ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 2:04 AM;jjjjibm;node-sdk chain documentation.odt;https://jira.hyperledger.org/secure/attachment/10054/node-sdk+chain+documentation.odt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbo7:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] pkcs11-tests.js not ok 2 Error: /usr/lib/libacsp-pkcs11.so: cannot open shared obry at Error (native) Load:129,FABN-244,14715,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jjjjibm,jjjjibm,jjjjibm,10/Feb/17 8:43 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Feb/17 3:24 AM,,,,,,,,,,,0,,,,,"Running the test cases  fabric-sdk-node/test/unit/pkcs11-tests.js requires either special hardware, or the software product softHSM-2*.  

So I installed softHSM-2.2.0 and created tokens:

softhsm2-util --init-token --slot 0 --label ""My token 1""
so pin abcd  user pin 1234 since that is what is coded in pkcs11-tests.js


Slot 2089908031
    Slot info:
        Description:      SoftHSM slot ID 0x7c91773f
        Manufacturer ID:  SoftHSM project
        Hardware version: 2.2
        Firmware version: 2.2
        Token present:    yes
    Token info:
        Manufacturer ID:  SoftHSM project
        Model:            SoftHSM v2
        Hardware version: 2.2
        Firmware version: 2.2
        Serial number:    17671c0d7c91773f
        Initialized:      yes
        User PIN init.:   yes
        Label:            JCW token 1

I set the User PIN to '1234' because that is the value hard coded in pkcs11-tests.js.

Nonetheless, the test case fails:
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-js
TAP version 13
#

**PKCS11 - generate an ephemeral key


ok 1 Verify that the HSM based key management module has been ena
info: Returning a new winston logger with default configurations
info: [crypto_pkcs11]: CryptoSuite_PKCS11[69]: keySize: 256
info: [crypto_pkcs11]: CryptoSuite_PKCS11[79]: PKCS11 library: /u
info: [crypto_pkcs11]: CryptoSuite_PKCS11[91]: PKCS11 slot: 0
not ok 2 Error: /usr/lib/libacsp-pkcs11.so: cannot open shared obry at Error (native) Load:129
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      [Error: /usr/lib/libacsp-pkcs11.so: cannot open shared obje
    at Error (native) Load:129]
    at: Test.onetime [as end] (/home/ibmadmin/work/src/github.commodules/onetime/index.js:22:12)
    stack: |-
      Error: /usr/lib/libacsp-pkcs11.so: cannot open shared objec
          at Error (native) Load:129
          at Error (native)
          at CryptoSuite_PKCS11._pkcs11OpenSession (/home/ibmadmifabric-sdk-node/node_modules/fabric-client/lib/impl/bccsp_pkcs11.
          at new CryptoSuite_PKCS11 (/home/ibmadmin/work/src/gith/node_modules/fabric-client/lib/impl/bccsp_pkcs11.js:110:8)
          at Object.module.exports.getCryptoSuite (/home/ibmadminabric-sdk-node/node_modules/fabric-client/lib/utils.js:85:11)
          at test (/home/ibmadmin/work/src/github.com/hyperledgertests.js:52:22)
          at Test.<anonymous> (/home/ibmadmin/work/src/github.commodules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/ibmadmin/work/src/github.de_modules/tape/lib/test.js:66:32)
          at Test.run (/home/ibmadmin/work/src/github.com/hyperletape/lib/test.js:85:10)
          at Test.bound [as run] (/home/ibmadmin/work/src/github.de_modules/tape/lib/test.js:66:32)
          at Immediate.next (/home/ibmadmin/work/src/github.com/hdules/tape/lib/results.js:71:15)
  ...
#
<more errors follow>

The problem is that the code is looking for the softHSM libraries at libpath = '/usr/lib/libacsp-pkcs11.so';  based on the process.platform value of 'default' (anything but Darwin).  
SoftHSM installs the libraries at /usr/local/lib/softhsm/libsofthsm2.so''.   

On the Ubuntu vlaunch VM I am using, process.platform is set to 'linux'.

The fix is to use the same location as 'darwin' when process.platform is set to 'linux'. 

How to recreate:
1.Install softHSM on Ubuntu VM.  Instsructions are in the test case pkcs11-tests.js. 
2.Create token(s).  Set the user PIN to '1234' (or change source code in pkcs11-tests.js
3.Run the test case. 


",vlaunch VM running Ubuntu. ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Feb/17 8:53 AM;jjjjibm;commit 8266a16b4fa363335fa85253cf44b4fed784c272
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Thu Feb 9 18:46:30 2017 -0500

    node-SDK Fix FAB-2158 pkcs11-tests.js fails

    The test pkcs11-tests.js was looking for softHSM libraries in
    '/usr/lib/libacsp-pkcs11.so' based on process.platform <> 'darwin'.
    The libraries are actually in /usr/local/lib/softhsm/libsofthsm2.so.
    I added 'linux' to the list of platforms with SoftHSM libraries in
    /usr/local/lib/softhsm/libsofthsm2.so.

    Change-Id: Ie997bb8beca657bd22f0340f8c10ab8e37e0b579
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] dead link in generated documentation,FABN-245,13995,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jjjjibm,jjjjibm,11/Jan/17 1:12 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:42 AM,,,,,,,,,,,0,help-wanted,,,,"1.cd fabric-sdk-node
2.gulp doc to generate documentation
3.python -m SimpleHTTPServer

4.In a browser, navigate to <ip>:8000->docs/gen/
5.From Modules pulldown menu, select hfc

This displays a page with this text:
Module: hfc

This is the main module for the ""hfc"" (Hyperledger Fabric Client) package. It provides the convenience APIs to the classes of the package including* Chain*

where* Chain *is a link.
6.Click *Chain*

See this: 
Error response

Error code 404.

Message: File not found.

Error code explanation: 404 = Nothing matches the given URI. ",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js fails due to key size mismatch with member service,FABN-246,13481,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,19/Nov/16 4:20 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Nov/16 8:15 AM,,,,,,,,,,,0,node-SDK,,,,"this wasn't caught earlier because when running ""gulp test"" the key size was set to the right level (256) from an earlier test suite.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxezz:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-sdk build fails on Fabric V0.6 ,FABN-247,12739,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,angrbrd,Ratnakar,Ratnakar,26/Sep/16 12:39 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/Nov/16 6:24 AM,v0.6,,,,,,v0.6,,,,0,0.6,node-SDK,,,"node-sdk build fails with below error on on Fabric V0.6 


{code:java}
src/hfc.ts(2411,24): error TS2339: Property 'notBefore' does not exist on type 'Attribute'.
src/hfc.ts(2411,59): error TS2339: Property 'notBefore' does not exist on type 'Attribute'.
src/hfc.ts(2412,24): error TS2339: Property 'notAfter' does not exist on type 'Attribute'.
src/hfc.ts(2412,57): error TS2339: Property 'notAfter' does not exist on type 'Attribute'.
typings/globals/node/index.d.ts(415,11): error TS2430: Interface 'NodeBuffer' incorrectly extends interface 'Uint8Array'.
  Types of property 'fill' are incompatible.
    Type '(value: any, offset?: number, end?: number) => Buffer' is not assignable to type '(value: number, start?: number, end?: number) => this'.
      Type 'Buffer' is not assignable to type 'this'.
make[1]: *** [lib/hfc.js] Error 2
make[1]: Leaving directory `/opt/gopath/src/github.com/hyperledger/fabric/sdk/node'
make: *** [sdk/node] Error 2

{code}

",,angrbrd,chenhong8010,devchaud,rain8010,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/16 6:19 AM;angrbrd;FAB-438_1;https://jira.hyperledger.org/secure/attachment/10210/FAB-438_1","05/Nov/16 12:54 AM;devchaud;log.txt;https://jira.hyperledger.org/secure/attachment/10216/log.txt","26/Sep/16 12:38 AM;Ratnakar;node_sdk_err_logs.txt;https://jira.hyperledger.org/secure/attachment/10093/node_sdk_err_logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9tr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,chenhong8010,devchaud,rain8010,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Sep/16 12:09 AM;angrbrd;I have already root caused this issue and will put in a fix today. Thanks!;;;","27/Sep/16 1:34 AM;angrbrd;Patch set is on master branch: http://gerrit.hyperledger.org/r/1241;;;","27/Sep/16 1:49 AM;angrbrd;Patch set is on v0.6 branch: https://gerrit.hyperledger.org/r/#/c/1243
Change must be merged into both branches, otherwise v0.6 is also broken with same errors.;;;","27/Sep/16 3:30 AM;angrbrd;Commit c7963ea7ebafff2c49353b54c138a027f6996986 on master
Commit cd0c5dd89e23a75d826d8136d1235ab215c11657 on v0.6

Closing.;;;","01/Nov/16 8:39 PM;devchaud;Is this bug fixed as mentioned in the comments.. The resolution status still reads as unresolved.;;;","01/Nov/16 8:40 PM;devchaud;Get below error:
$ make all
[BUILD] SDK documentation
node_modules/.bin/typedoc -m amd \
                --name 'Node.js Hyperledger Fabric SDK' \
                --includeDeclarations \
                --excludeExternals \
                --excludeNotExported \
                --out doc \
                src/hfc.ts typedoc-special.d.ts

Using TypeScript 2.0.6 from /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/typedoc/node_modules/typescript/lib
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2410)
 Property 'notBefore' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2410)
 Property 'notBefore' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2411)
 Property 'notAfter' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2411)
 Property 'notAfter' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/typings/globals/node/index.d.ts(414)
 Interface 'NodeBuffer' incorrectly extends interface 'Uint8Array'.
  Types of property 'fill' are incompatible.
    Type '(value: any, offset?: number, end?: number) => Buffer' is not assignable to type '(value: number, start?: number, end?: number) => this'.
      Type 'Buffer' is not assignable to type 'this'.
make: *** [doc/index.html] Error 4
;;;","01/Nov/16 9:24 PM;chenhong8010;I have the same issue. It seems adding the ""typescript:1.8.10"" in the sdk/node/pakage.json does not work, since ""typescript:2.0.6"" is specified in the package.json in  the 'typing' subdirection of 'node_modules'.   ;;;","02/Nov/16 6:23 AM;angrbrd;I am on Fabric branch v0.6 commit b111ac5e112dc2a4b5840780426a3a7646d278a2 (latest commit).

The node sdk build (make node-sdk) works for me inside Vagrant. I am attaching the log here. All the sdk unit tests (make node-sdk-unit-tests) also pass for me inside Vagrant. I am closing this issue now, as it should have been closed some time ago when the referenced fixes went in. If you are still seeing this on the latest version of the v0.6 branch, please give me the exact recreate steps you are following and the system you are running on.

Thanks!

[^FAB-438_1] ;;;","02/Nov/16 1:00 PM;devchaud;How can I find out which version of fabric branch I am on. I had checked out the code on 10 Oct and hence sure that I am on version 0.6 as this version was released on 16 sept.;;;","02/Nov/16 1:04 PM;devchaud;I am following below steps:
1. vagrant up
2. vagrant ssh
3.  cd /opt/gopath/src/github.com/hyperledger/fabric/sdk/node
4. make all, which gives below error

vagrant@hyperledger-devenv:v0.1.0-e8b1513:/opt/gopath/src/github.com/hyperledger/fabric/sdk/node$ make all
[BUILD] SDK documentation
node_modules/.bin/typedoc -m amd \
                --name 'Node.js Hyperledger Fabric SDK' \
                --includeDeclarations \
                --excludeExternals \
                --excludeNotExported \
                --out doc \
                src/hfc.ts typedoc-special.d.ts

Using TypeScript 2.0.6 from /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/typedoc/node_modules/typescript/lib
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2410)
 Property 'notBefore' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2410)
 Property 'notBefore' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2411)
 Property 'notAfter' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/src/hfc.ts(2411)
 Property 'notAfter' does not exist on type 'Attribute'.
Error: /opt/gopath/src/github.com/hyperledger/fabric/sdk/node/typings/globals/node/index.d.ts(414)
 Interface 'NodeBuffer' incorrectly extends interface 'Uint8Array'.
  Types of property 'fill' are incompatible.
    Type '(value: any, offset?: number, end?: number) => Buffer' is not assignable to type '(value: number, start?: number, end?: number) => this'.
      Type 'Buffer' is not assignable to type 'this'.
make: *** [doc/index.html] Error 4

;;;","03/Nov/16 12:31 AM;angrbrd;Hi [~devchaud],

If you could please verify for me which fabric branch you are on by checking which branch you had checked out from Gerrit. You should be on the latest commit of the v0.6 branch.

$  git branch -vv

master 18a44d0 [origin/master: behind 4] Merge ""[FAB-702] - Add gossip node metastate object""
--> v0.6   b111ac5 [origin/v0.6] Merge ""Merge busywork master into v0.6"" into v0.6

When you are on the v0.6 branch, if you would please follow these steps:

1. Start up vagrant:
cd /fabric/devenv
vagrant up

2. Change to the /fabric directory
cd /opt/gopath/src/github.com/hyperledger/fabric

3. Make sure you do not have node_modules folder as it may have newer version of typescript inside
make node-sdk clean

4. Build the sdk from the fabric directory
make node-sdk

I just confirmed that this works with no errors on the v0.6 branch.

Thanks!;;;","03/Nov/16 12:40 PM;devchaud;vagrant@hyperledger-devenv:v0.1.0-e8b1513:/opt/gopath/src/github.com/hyperledger/fabric$ git branch -vv
* master e8b1513 [origin/master] Merge ""Modified Dockerfile for the SDK sample""

Not sure which version this is..;;;","03/Nov/16 12:41 PM;devchaud;I guess this is master branch ;;;","03/Nov/16 8:07 PM;devchaud;I took the latest code for v0.6 from git and now I have to reconfigure vagrant and docker images which is a lengthy process. Is there any way to just update the hyperledger code without the need for reconfiguring vagrant and docker?

I will let you know once my VM is up and running.;;;","03/Nov/16 11:56 PM;angrbrd;[~devchaud],

It looks like you are on the master branch, instead of the v0.6 branch. The Node.js sdk tests do not run on master, as this code is now being split out into its own repository for the v1.0 work. There are no plans to make this code ever run on master. In fact, if you sync up to the latest state on master, this code is no longer in there, it's already been removed from master. You need to switch to the v0.6 branch. Unfortunately, you need to switch to the v0.6 branch and rebuild. There is no other way to do that, as the Docker images are being built from the version of the code that you have locally.

Let me know if following my steps above after switching to the v0.6 branch resolves your issue.

Thanks.;;;","04/Nov/16 7:17 PM;devchaud;Thanks Anna. I will let you know. 

Setting up the vagrant boxes and docker images is a huge task, as from my office network there are many network errors related to authorization, SSL and blocked URL's. Will keep you posted once I am done with the installation.;;;","05/Nov/16 12:54 AM;devchaud;Anna: I think it worked fine. See the attached log.txt. Thanks for your help in this regards;;;","05/Nov/16 1:27 AM;angrbrd;Great! Thank you for letting me know :-].;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - handle missing discovery,FABN-248,31928,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,17/Jul/18 12:41 AM,03/Aug/18 5:24 AM,28/Oct/23 3:25 AM,03/Aug/18 5:24 AM,,,,,,,v1.2.1,,,,0,,,,,When the network is not properly configured the discovery results may be missing the endorsement plans. The nodeSDK should throw an error when it tries to endorse and there is no plan associated with requested chaincode.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not Required,Unset,Not Required,,,,,No,,,No,,,"1|hzzirz:",,,,Unset,Not Required,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jul/18 1:57 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/24449/]  — for 1.3

[https://gerrit.hyperledger.org/r/#/c/24451/] –- for 1.2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - connection should use legacy grpc setting,FABN-249,29147,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,05/Apr/18 1:35 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Apr/18 10:48 AM,,,,,,,v1.1.1,v1.2.0,,,0,,,,,"When user tries to set the GRPC settings by using grpc-max-receive-message-length or grpc-max-send-message-length settings they will not be taken and the NodeSDK default settings from the default.json will be used.

grpc.max_receive_message_length: -1

grpc.max_send_message_length: -1

The Remote.js should be modified to use the legacy settings from 1.0 first then use the real grpc names for the settings to be fully backwards compatible.

 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4iv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dev,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Apr/18 5:12 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/20293/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
vulnerable node packages found in fabric-sdk-node modules,FABN-250,27835,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,rameshthoomu,rameshthoomu,19/Feb/18 10:21 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Jun/18 11:35 PM,,,,,,,v1.2.0,,,,0,,,,,"observed vulnerable node packages *(hoek @2.16.3)* found in fabric-sdk-node modules
*00:01:58.021* │ Installed  │ 2.16.3                                                             *00:01:58.021* │ Vulnerable │ <= 4.2.0 || >= 5.0.0 < 5.0.3                                       *00:01:58.021* │ Patched    │ > 4.2.0 < 5.0.0 || >= 5.0.3 
*00:01:58.021* │ Path       │ fabric-client@1.1.0-snapshot > nano@6.4.2 > cloudant-follow@0.13.0 │*00:01:58.021* │            │ > request@2.81.0 > hawk@3.1.3 > hoek@2.16.3
[https://nodesecurity.io/advisories/566]

Below is the Jenkins log to see the vulnerable node package errors

https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-vulnerable-tests-x86_64/289/console",,denyeart,harrisob@us.ibm.com,kchristidis,rameshthoomu,scottz,smithbk,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8456,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,kchristidis,rameshthoomu,scottz,smithbk,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Feb/18 4:38 AM;denyeart;Talked to [~harrisob@us.ibm.com] , he doesn't think we can control this since the dependency is pulled in by another dependency that we don't have control over.
It may have to be documented in release notes that user should update the package after npm install.

Bret, assuming we go with the release notes approach, you could go ahead and add a couple sentences now to fabric-sdk-node release_notes/v1.1.0-rc1.txt.
You can see the release note precedent in : https://gerrit.hyperledger.org/r/#/c/17197/ .
;;;","21/Feb/18 7:58 AM;harrisob@us.ibm.com;To test locally

First install the node security package so that it can be run in command line ---- https://www.npmjs.com/package/nsp

      sudo npm install -g nsp

Then run the tool from different directories, top level, /fabric-sdk-node, /fabric-client, /fabric-ca-client

 ;;;","22/Feb/18 6:26 AM;smithbk;https://gerrit.hyperledger.org/r/18211 [FAB-8373] Document known vulnerabilties;;;","23/Feb/18 3:35 AM;Clayton Sims;Per conversation with dave / keith , moving to release v1.2 and adding a release note

 

[~joe-alewine]  lets open a release note item to make sure we capture in v1.1 release note;;;","23/Feb/18 7:58 AM;denyeart;[~Clayton Sims] FAB-8456 has been opened for the release note.  As we find release notes we'll create a Jira and assign to the person with the most context (it doesn't have to be Joe), in this case Keith.;;;","29/Mar/18 2:13 AM;scottz;[~harrisob@us.ibm.com] [~denyeart] I am reviewing the CI_Failures bugs. This one shows ""In review"" status, but it seems we documented the vulnerability with another issue in v1.1, and there is still work to be done in v1.2 for this one. So, should we move this back to status ""To Do"" ? ;;;","22/May/18 3:40 AM;kchristidis;I see this CR: [https://gerrit.hyperledger.org/r/c/18173/]

Can you please update with the plan of attack here?;;;","31/May/18 4:59 AM;wenjian;[~sambhavdutt], this bug does not duplicate FAB-10039. It only reports vulnerability for hoek@2.16.3 package, but FAB-10039 reports vulnerabilities for more packages. 

As said in previous comments, we don't control hoek version because the dependency is pulled in by another package that we don't have control over. For v1.2, I think we will go with the same release note approach as v1.1.

 ;;;","07/Jun/18 9:53 PM;kchristidis;[~wenjian]: Close as ""not a bug"" then?;;;","13/Jun/18 11:00 PM;wenjian;[~harrisob@us.ibm.com], [~denyeart]  

The hoek@2.16.3 package is pulled in due to log4js@2.7.0 that is ONLY used in node sdk unit tests. The sdk itself (fabric-client) pulls in hoek@4.2.1 that has no vulnerability. 

Unless we need to document vulnerability for sdk unit tests, I suggest we close this ticket.

 ;;;","13/Jun/18 11:13 PM;smithbk;I don't think it needs a release note since it is only used in unit tests;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getCertificateAuthority() on client doesn't setup cryptosuite on returned object,FABN-251,22722,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,davidkel,davidkel,20/Oct/17 11:38 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,29/Oct/17 2:17 AM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"in getCertificateAuthority, the line
{code}
let ca_service = new ca_service_impl( {url : ca_url, tlsOptions : tls_options, caName : ca_name, cryptoSuite : this._crypto_suite});
{code}
uses this._crypto_suite which doesn't exist. It should use this.getCryptoSuite() to ensure it uses the right object property.
Unfortunately it means that getCertificateAuthority is not usable at present.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzykef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/17 2:29 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14789/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
invoke transaction API in SDK should not include chaincode version,FABN-252,16864,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jimthematrix,jimthematrix,19/May/17 1:25 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/May/17 3:58 AM,,,,,,,,,,,0,,,,,"based on my understanding from chatting with Murali, there can only ever be a single version of the chaincode that in effect on a channel, which is the version that was instantiated last. so the send transaction proposal request should not need to include the chaincode version, just the name.

[~muralisr] please chime in if my understanding is inaccurate.
[~rickr] FYI",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx387:",,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 9:34 AM;muralisr; right [~jimthematrix].. to summarize the install, instantiate, upgrade and invoke need the following information

{code:java}
install - path, name, version
instantiate, upgrade - name, version
invoke - name 
{code}
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] https://github.com/hyperledger/fabric-sdk-node -- you still need the vagrant environment,FABN-253,15075,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 4:55 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 2:17 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"The readme at https://github.com/hyperledger/fabric-sdk-node

contains this sentence which is logical to those of us how have  worked on Fabric since v0.5 days:

Because v1.0 is still in active development, you *still need *the vagrant environment to build the {color:#d04437}necessary{color} Docker images {color:#d04437}needed{color} to run the network. 

1) It will mystify users who are new to the project.   
2) If an image is 'needed to run ...' , it's redundant to call it necessary. 

Is now: 
you still need the vagrant environment to build the {color:#d04437}necessary {color}Docker images needed to run the network.

Should be:
you require a vagrant environment to build the  Docker images needed to run the network.

Allen and I have been happily testing without recourse to vagrant for a few months now, and this section of the readme is followed by a section on running natively without Vagrant.   
Is now:
Because v1.0 is still in active development, you *still need *the vagrant environment to build the necessary Docker images needed to run the network

Could be:
You can use a vagrant environment to build the Docker images needed to run the network. 


In the same readme, here is another reference which makes sense to old hands but not new users:
start fabric-ca {color:#d04437}(new {color}membership service)

Is now: 
start fabric-ca {color:#d04437}(new {color}membership service)

Should be:
start fabric-ca (membership service)

Could be:
start fabric-ca  (fabric-ca membership service replaces the V0.6 membership service) ","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm53:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getCertificateAuthority returns FabricCAServices instance instead of CertificateAuthority,FABN-254,30503,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,VigneshkumarChinnachamy,VigneshkumarChinnachamy,23/May/18 3:29 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,15/Jun/18 12:58 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"I'm trying to use node sdk with the connection profile. The following snippet throws an error saying getRegistrar is not a function. When I see the type declaration, client.getCertificateAuthority() returns FabricCAServices instance instead of CertificateAuthority ([link https://fabric-sdk-node.github.io/Client.html#getCertificateAuthority__anchor|https://fabric-sdk-node.github.io/Client.html#getCertificateAuthority__anchor])
{code:javascript}
const client: Client = await Client.loadFromConfig(<file>);
const caClient: any = client.getCertificateAuthority();

caClient.register(
  {
    enrollmentID: username,
    enrollmentSecret: password,
    role: role || ""member""
  },
  caClient.getRegistrar()
);
{code}",,kchristidis,VigneshkumarChinnachamy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzbpj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,VigneshkumarChinnachamy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/18 11:33 PM;kchristidis;[~mastersingh24]: On track for 1.2?;;;","15/Jun/18 12:58 AM;kchristidis;https://gerrit.hyperledger.org/r/c/23041/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Update to the 1.2 version of protos,FABN-255,30655,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,ericmvaughn,ericmvaughn,ericmvaughn,26/May/18 4:00 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,v1.2.0,,,,,,,,,,0,,,,,Update the protos to the latest version for the 1.2 release.,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzcs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/May/18 12:52 AM;ericmvaughn;My mistake, the protos have already been updated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK crashes after current GRPC 1.3.0 release,FABN-256,16088,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,chrisf,chrisf,28/Apr/17 8:27 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/May/17 3:40 PM,,,,,,,,,,,0,node-SDK,,,,"Hi fabric-sdk-node Team!

Currently the SDK has a range value for the grpc npm modukle: ""grpc"": "">=1.1.2 <2.0.0"".
Yesterday a new version 1.3.0 of grpc was released and it seems to be incompatible with the fabric-sdk-node component.

The specific error is as follows:
Error: TypeError: identityProto.SerializedIdentity is not a constructor

This happens if I execute for example queryInfo().
The error seems to come from the file identity.js line 113:
var serializedIdentity = new identityProto.SerializedIdentity();
There the new grpc module doesn'r return a constrcutor.

I manually installed version 1.2.0 of grpc and there it is working.
",,chrisf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-465,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrisf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing type check for Deploy Request fields in NodeSdk,FABN-257,13161,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,25/Oct/16 9:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:17 AM,,,,,,,,,,,0,quality,,,,"There should be type check for Deploy Request  in NodeSdk and throw an error accordinly tinstead of sending marshaled values to Fabric and fail/crash it there.

Example:
NodeSdk end users are mistakenly sending strings instead of arrays for arguments and attributes, which inturn shows failures in Fabric",,angrbrd,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdlj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/16 5:32 AM;angrbrd;Hi [~Ratnakar],

Can you please give some concrete examples you are using to reproduce this failure? I would like to know:

(1) Which version of the fabric you are running to reproduce this. Which branch? Which commit level?
(2) Which version of the SDK (which branch) you're reproducing this on. Otherwise, I do know where the fix would go.
(3) Example deploy requests with associated errors that cause the failure.

Then reassign back to me please.

Thanks!;;;","02/Nov/16 7:30 AM;Ratnakar;
1) & 2)  I think The problem is reproducible on almost all the branches with all versions of hfc
3) Please refer this for more details - https://hyperledgerproject.slack.com/archives/fabric-sdk-node/p1477221876000288
*Reiterating here:*
when deploy/invoke request expects an array and passed as string, then NodeSDk ignored to check the same for the correct type and passes the same to Fabric and hence it fails somewhere in Fabric.
For example here is an invoke request:
{code:javascript}
var invokeRequest = {
       // Name (hash) required for invoke
       chaincodeID: testChaincodeID,
       // Function to trigger
       //fcn: config.invokeRequest.functionName,
       fcn: ""newSecuritySetup"",
       // Parameters for the invoke function
       args: args1,
       attrs: ""EQTY_licence""
   };
{code}



here attrs should be an array instead of a string , as a result client program throws the below error

*Error: Error fetching attributes = BAD_REQUEST*
this error is thrown from ""*RequestAttributes*"" function in *acap.go*.

This can be avoided by checking for type of some of the params like args, attrs etc.,



;;;","03/Nov/16 12:53 AM;angrbrd;[~Ratnakar],

Thank you for clarifying and pointing to the Slack conversation! I appreciate it.

OK, once the deploy/invoke/query transaction path goes into the v1.0 sdk code base (fabric-sdk-node repository), I will make sure that checks for arrays on ""args"" and ""attrs"" are added. Right now, the transaction path is still being worked on. I do not think this is a critical issue to be fixed for v0.6, therefore I don't believe it will be allowed to merge to the v0.6 branch as the release is already completed.

Thanks,
Anya
;;;","01/Jan/17 5:33 AM;mastersingh24;[~jimthematrix] Don't think this is still an issue with v1, but can you confirm and close this if it's no longer an issue?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typescript compiling in Fabric-SDK-Node,FABN-258,29176,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,Paperman,Paperman,05/Apr/18 7:09 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Apr/18 10:49 AM,,,,,,,,,,,0,v1.1,,,,"There is an issue with the fabric-client node sdk. When you compile the project with a typescript compiler. The app dosen't recognize the class names of the objects. For example:

let peer:Peer = new Peer();

console.log(peer.constructor.name) == """" --> So we got an empty string

The problem is the declaration of the class Peer:

{color:#cc7832}var {color}Peer = {color:#cc7832}class {color}{color:#cc7832}extends {color}Remote

need to be changed into:

{color:#cc7832}var {color}Peer = {color:#cc7832}class {color}Peer {color:#cc7832}extends {color}Remote

Otherwise the compiler dosen't understand the syntax and the class name will be empty.",We builded the hole environement with the fabric 1.1 release. Everything else works as expected.,Paperman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4p3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Paperman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 10:55 AM;zhaochy;https://gerrit.hyperledger.org/r/#/c/20299/ for master
https://gerrit.hyperledger.org/r/#/c/20361/ for release 1.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] on Win10Pro: not ok 35 Caught error in Package.package tests,FABN-259,16068,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,28/Apr/17 4:50 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/May/17 11:03 PM,,,,,,,v1.0.0,,,,0,cannotrecreate,node-SDK,,,"When running gulp test-headless on Windows 10 Pro (without Vagrant of course), this test fails:

# Verify byte data begin
not ok 35 Caught error in Package.package tests
  ---
    operator: fail
    at: Packager.package.then.then.then.catch (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\test\unit\chain.js:386:5)
  ...
# Error: ENOENT: no such file or directory, open 'C:\tmp\test-deploy-copy.tar.gz'
# at Error (native)
# at Object.fs.openSync (fs.js:641:18)
# at Object.fs.writeFileSync (fs.js:1347:33)
# at Packager.package.then.then.then (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\test\unit\chain.js:374:6

(Output above is not meant to be a numbered list.  It looks like '#' confuses Jira,)

How to recreate:
1.Get a copy of Windows 10 Pro.
2.Clone fabric-sdk-node to a local directory on that Win10.
3.Build the node-sdk (npm install, gulp ca, etc)
4.Run gulp test-headless ","Windows 10 Pro is installed and running on a vlaunch VM. 
Fabric-sdk-node is installed and built on this VM.  

node-sdk: commit caaf3c0dc78da7f6fa21521e872a4b0de752a292

fabric and fabric-ca are neither installed nor built.",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3c7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/17 11:05 PM;jjjjibm;I cannot recreate this issue.  I git pull'd and tried the test again to be sure.  We can re-open this issue if it surfaces again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting slower and slower when shout down nodes and getting SERVICE_UNAVAILABLE response,FABN-260,28412,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Environment Issue,,kungyc,kungyc,12/Mar/18 4:07 PM,12/Oct/19 4:29 PM,28/Oct/23 3:25 AM,14/Nov/18 10:47 PM,v1.1.0,,,,,,,,,,0,,,,,"After testing, SDK will be stacked and use more and more time when using ""sendTransaction"" in Channel.js when peers was shut down.

 

Testing scenario:

1. Create and join channel.

 2. Shut down peers in orgs

3. Send endorse proposal to peers.

4. Get SERVICE_UNAVAILABLE response.

3. Send endorse proposal to peers.

4. Get SERVICE_UNAVAILABLE response for 4s later.

......

The more times I loop, the more time the function will take.

 

This situation not just happen on peer, when I send the request to a crashed orderer, it will happen either.",,andrew-coleman,denyeart,harrisob@us.ibm.com,kchristidis,kungyc,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Mar/18 6:43 PM;kungyc;debug.log;https://jira.hyperledger.org/secure/attachment/14779/debug.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0rb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,denyeart,harrisob@us.ibm.com,kchristidis,kungyc,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Mar/18 9:45 PM;denyeart;[~harrisob@us.ibm.com] Any idea?;;;","15/Mar/18 6:02 AM;harrisob@us.ibm.com;I am unable to recreate. Would you provide a debug log 
export HFC_LOGGING='\{""debug"":""console""}';;;","15/Mar/18 6:48 PM;kungyc;As the timestamps of debug.log file, the first time I send the broadcast and it took 0.02 s to send back the response, and the second time it took 3s, the third time is 4s, then is 10s, 23s finally is 1m18s.;;;","15/Mar/18 11:40 PM;harrisob@us.ibm.com;What are the versions of GRPC and fabric-client;;;","16/Mar/18 1:55 AM;kungyc;Fabric-client is 
""version"": ""1.1.0-snapshot.98""
 
Grpc is 
""version"": ""1.9.1"";;;","27/Mar/18 3:42 AM;harrisob@us.ibm.com;I tried again.... still not able to recreate... I set setup a network ... do one good send broadcast, then kill the fabric network when the NodeSDK waits on a 10 second sleep, then have it do more send broadcasts ... which all fail within 150 milliseconds.

Are you setting any other GRPC options ?;;;","23/May/18 5:51 AM;kchristidis;Will close as unverified if we get no updates by end of week.;;;","14/Nov/18 10:47 PM;andrew-coleman;cannot recreate - closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] headless-tests.js not ok 12 checking that able to test-2 value from an additional configuration file,FABN-261,14000,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,11/Jan/17 2:40 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 10:01 PM,,,,,,,,,,,0,,,,,"After running the example in Jim Zhang's sprint 7 video, one of the headless-test.js tests fails:

not ok 12 checking that able to test-2 value from an additional configuration file
  ---
    operator: equal
    expected: 'local'
    actual:   'notfound'
    at: Test.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)

...

1..205
# tests 205
# pass  204
# fail  1

  ...
How to recreate:
1.Set up environment as in JIm's sprint 7 video, stopping just short of the end-to-end test.
2.cd fabric-sdk-node/test/unit
3.node headless-tests.js ","Use commit levels specified in Jim Zhang's sprint 7 video:

Fabric:
git checkout -b sprint7 d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091
fabric-cop:
        git checkout -b sprint7 ffb4fc22b84775769c755c5c3db53f6911ba4835
fabric-sdk-node
        git checkout -b sprint7 662135eedefd43e0d249362b991cf04e2b423783

I am running a vlaunch VM running Ubuntu ""trusty"" .  
I am using the docker compose file in fabric-sdk-node/test/fixtures
",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgt3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invoke never disconnects from eventhub when Orderer is down,FABN-262,20182,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,ldfreema,ldfreema,15/Aug/17 4:16 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/Oct/17 1:27 AM,v1.0.1,,,,,,,,,,0,,,,,"When performing Invokes when the orderer is unavailable, the following error is displayed, but the invoke never completes due to the eventhub never being disconnected...

 

***** invoke transaction to move money *****
ok 1 Successfully enrolled user 'admin'
info: [invoke-chaincode]: create new peer grpcs://tor-zbc01c.3.secure.blockchain.ibm.com:28000
info: [invoke-chaincode]: create new eventhub grpcs://tor-zbc01c.3.secure.blockchain.ibm.com:12093
info: [EventHub.js]: _connect - options \{}
error: [Orderer.js]: sendDeliver - on error code 14: ""Error: Connect Failed\n at ClientDuplexStream._emitStatusIfDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:201:19)\n at ClientDuplexStream._readsDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:169:8)\n at readCallback (/ctc/keeper/node_modules/grpc/src/node/src/client.js:229:12)""
error: [Channel.js]: getChannelConfig - Failed Proposal. Error: Error: SERVICE_UNAVAILABLE
 at ClientDuplexStream.<anonymous> (/ctc/keeper/node_modules/fabric-client/lib/Orderer.js:258:23)
 at emitOne (events.js:96:13)
 at ClientDuplexStream.emit (events.js:188:7)
 at ClientDuplexStream._emitStatusIfDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:204:12)
 at ClientDuplexStream._readsDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:169:8)
 at readCallback (/ctc/keeper/node_modules/grpc/src/node/src/client.js:229:12)
error: [Channel.js]: Error: SERVICE_UNAVAILABLE
 at ClientDuplexStream.<anonymous> (/ctc/keeper/node_modules/fabric-client/lib/Orderer.js:258:23)
 at emitOne (events.js:96:13)
 at ClientDuplexStream.emit (events.js:188:7)
 at ClientDuplexStream._emitStatusIfDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:204:12)
 at ClientDuplexStream._readsDone (/ctc/keeper/node_modules/grpc/src/node/src/client.js:169:8)
 at readCallback (/ctc/keeper/node_modules/grpc/src/node/src/client.js:229:12)
not ok 2 Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 ---
 operator: fail
 at: process._tickCallback (internal/process/next_tick.js:103:7)
 stack: |-
 Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 at Test.assert [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:212:54)
 at Test.bound [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at Test.fail (/ctc/keeper/node_modules/tape/lib/test.js:277:10)
 at Test.bound [as fail] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at /ctc/keeper/node_sdk/tests.js:899:15
 at process._tickCallback (internal/process/next_tick.js:103:7)
 ...
not ok 3 Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at /ctc/keeper/node_sdk/tests.js:900:19 at process._tickCallback (internal/process/next_tick.js:103:7)
 ---
 operator: fail
 at: process._tickCallback (internal/process/next_tick.js:103:7)
 stack: |-
 Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 at /ctc/keeper/node_sdk/tests.js:900:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at Test.assert [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:212:54)
 at Test.bound [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at Test.fail (/ctc/keeper/node_modules/tape/lib/test.js:277:10)
 at Test.bound [as fail] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at /ctc/keeper/node_sdk/tests.js:1009:15
 at process._tickCallback (internal/process/next_tick.js:103:7)
 ...
not ok 4 Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at /ctc/keeper/node_sdk/tests.js:900:19 at process._tickCallback (internal/process/next_tick.js:103:7) at /ctc/keeper/node_sdk/tests.js:1010:19 at process._tickCallback (internal/process/next_tick.js:103:7)
 ---
 operator: fail
 at: process._tickCallback (internal/process/next_tick.js:103:7)
 stack: |-
 Error: Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 at /ctc/keeper/node_sdk/tests.js:900:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at /ctc/keeper/node_sdk/tests.js:1010:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at Test.assert [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:212:54)
 at Test.bound [as _assert] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at Test.fail (/ctc/keeper/node_modules/tape/lib/test.js:277:10)
 at Test.bound [as fail] (/ctc/keeper/node_modules/tape/lib/test.js:64:32)
 at /ctc/keeper/node_sdk/tests.js:1027:15
 at process._tickCallback (internal/process/next_tick.js:103:7)
 ...
not ok 5 Error: Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE at /ctc/keeper/node_sdk/tests.js:900:19 at process._tickCallback (internal/process/next_tick.js:103:7) at /ctc/keeper/node_sdk/tests.js:1010:19 at process._tickCallback (internal/process/next_tick.js:103:7)
 ---
 operator: error
 expected: |-
 undefined
 actual: |-
 [Error: Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 at /ctc/keeper/node_sdk/tests.js:900:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at /ctc/keeper/node_sdk/tests.js:1010:19
 at process._tickCallback (internal/process/next_tick.js:103:7)]
 at: Test.onetime (/ctc/keeper/node_modules/onetime/index.js:22:12)
 stack: |-
 Error: Error: Error: Failed to enroll user 'admin'. Error: Error: SERVICE_UNAVAILABLE
 at /ctc/keeper/node_sdk/tests.js:900:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at /ctc/keeper/node_sdk/tests.js:1010:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 at /ctc/keeper/node_sdk/tests.js:1028:19
 at process._tickCallback (internal/process/next_tick.js:103:7)
 ...

 ",,harrisob@us.ibm.com,ldfreema,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyd4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,ldfreema,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/17 1:28 AM;harrisob@us.ibm.com;This is working as designed. The eventhub is on the peer, so it still has a connection. Using a timer on the callback setup would shut it down if there is not an event posted in reasonable about of time.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update balance-transfer sample to alpha2/beta,FABN-263,17253,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,31/May/17 12:03 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Jun/17 11:16 PM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"or optionally, since the beta release activities are underway now, maybe migrate it directly to beta level",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,FAB-4212,FAB-4379,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3dr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - Peer GRPC connection needs timeout to avoid hang,FABN-264,15407,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,21/Mar/17 2:48 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:54 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,Peer asynchronous connection needs an external timeout to avoid a GRPC hang in the event that the peer does does not response in a configurable amount of time. ,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxobj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
how can I convert the byte array of currentBlockHash to string,FABN-265,19984,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,oujunketu,oujunketu,07/Aug/17 9:52 AM,12/Oct/19 4:33 PM,28/Oct/23 3:25 AM,05/Nov/17 8:09 PM,v1.0.0,,,,,,,,,,0,,,,,"Hello,

I've checked the type definitions in the latest Hyperledger Fabric SDK document. It seems that only BlockchainInfo includes currentBlockHash and previousBlockHash which are array<bytes> type.

However, I want them in string type but I do not know where I can get them. Shall I convert them to string by myself and how? 
And I got the array<bytes> value of currentBlockHash  which is the same as the value of previousBlockHash in my test. (see the attachment.). That is strange.

I need your help.

Thank you",,mastersingh24,oujunketu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/17 9:36 AM;oujunketu;ret.PNG;https://jira.hyperledger.org/secure/attachment/11835/ret.PNG",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyc5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,oujunketu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/17 4:13 AM;mastersingh24;You should be able to use 
{code:java}
Buffer.from(...).toString()
{code}
;;;","05/Nov/17 8:08 PM;mastersingh24;This has been out there for over a month with no feedback.  [~oujunketu] - I'm going to close this.  If the above did not resolve the issue either re-open or post in #fabric-sdk-node in RocketChat;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Node-SDK]: chain.getUser() returns a member object for an invalid user,FABN-266,12538,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,2020Nishi,2020Nishi,24/Aug/16 2:56 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:31 AM,,,,,,,,,,,0,",6",,,,"""AAA12345"" does not exist in membersrvc.yaml

But chain.getUser(""AAA12345"", function (err, user) {..}

returned a member object in 'user'
    ",,2020Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbjb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,2020Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK should retain absolute paths when deploying chaincode,FABN-267,12512,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,zmanian,zmanian,22/Aug/16 9:54 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,06/Apr/17 3:41 AM,,,,,,,,,,,0,node-SDK,,,,"When deploying chaincode, the SDK currently copies source code to $GOPATH/src/build-chaincode. This is will have the effect of breaking the build process of the chaincode is organized into sub-packages. 

The rest API retains the absolute paths to code during the container build process. This should behavior should be retained in the SDK",,angrbrd,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,zmanian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 5:21 AM;angrbrd;Hi [~zmanian], I'm trying to understand the problem you're citing.

Currently, the Dockerfile command for the SDK chaincode deployment contains: ""COPY . $GOPATH/src/build-chaincode/"". This copies everything contained inside the original chaincode directory under /src/build-chaincode directory. This includes any packages that the original chaincode directory had. Maybe I am misunderstanding, but I believe this process should work. Do you have a concrete example? Have you seen this fail such that I can reproduce?

Thanks!;;;","31/Aug/16 7:12 AM;zmanian;So lets you have an a chaincode application with the following structure

src/github.com/alice/app
src/github.com/alice/app/app.go
src/github.com/alice/app/foo/
src/github.com/alice/app/foo/foo.go
src/github.com/alice/app/bar/
src/github.com/alice/app/bar/bar.go

Now if you deploy the chaincode path github.com/alice/app via the REST API, the code will be fetched from github into the normal paths before the chaincode is built.

If instead, you use the sdk the go binary will attempt to be built from /src/build-chaincode and the compillation will fail because the paths will have changed.

Basically the way to template the dockerfile in the SDK will pretty much only work for single file chaincode apps.

You can try this with https://github.com/skuchain/doc_proofs


;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Broken links in docs due to code refactoring,FABN-268,15563,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,04/Apr/17 9:05 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Apr/17 1:07 PM,,,,,,,,,,,0,,,,,several methods have been moved from Chain.js to Client.js,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx55r:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] not ok 3 TypeError: Cannot read property 'getIdentity' of null at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:7                   08:49,FABN-269,14130,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,18/Jan/17 3:18 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 9:56 PM,,,,,,,,,,,0,,,,,"Running
   node end-to-end.js,
test case 3 fails with this message: 
not ok 3 TypeError: Cannot read property 'getIdentity' of null at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:7                   08:49

Here are the complete messages:

ok 2 Successfully enrolled user 'admin'
error: [Chain.js]: Sending the deployment proposal failed. Error: TypeError: Can                   not read property 'getIdentity' of null
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modul                   es/hfc/lib/Chain.js:708:49
error: [Chain.js]: Building the deployment proposal failed. Error: TypeError: Ca                   nnot read property 'getIdentity' of null
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modul                   es/hfc/lib/Chain.js:708:49
not ok 3 TypeError: Cannot read property 'getIdentity' of null at /home/ibmadmin                   /work/src/github.com/hyperledger/fabric-sdk-node/node_modules/hfc/lib/Chain.js:7                   08:49
  ---
    operator: fail


Here is line 708:

 header = Chain._buildHeader(userContext.getIdentity(), request.chainId, 'lccc', request.txId, request.nonce);

and here is some context:

 return self._clientContext.getUserContext()
                                                        .then(
                                                                function(userContext) {
                                                                        header = Chain._buildHeader(userContext.getIdentity(), request.chainId, 'lccc', request.txId, request.nonce);
                                                                        proposal = self._buildProposal(lcccSpec, header);
                                                                        let signed_proposal = self._signProposal(userContext.getSigningIdentity(), proposal);

                                                                        return Chain._sendPeersProposal(self.getPeers(), signed_proposal);
                                                                }
                                                        ).then(

","Vlaunch VM running Ubuntu.

Network started using the  docker-compose file in fabric-sdk-node/test/fixtures.  

Attaching a shell script which clones directories and starts everything including the cop server.   
I cloned the three directories yesterday around 5 PM.   ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-161,,,,,"18/Jan/17 3:17 AM;jjjjibm;latest.sh;https://jira.hyperledger.org/secure/attachment/10381/latest.sh",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxibr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-client npm module v1.1.1 is unusable,FABN-270,30056,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,davidkel,davidkel,09/May/18 4:09 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/May/18 3:21 AM,v1.1.1,,,,,,v1.1.1,,,,0,,,,,"A similar issue to fabric-shim in the fact there are some files missing in the publushed npm module. In this case it is the files that are copied from the fabric-client (for example api.js)
rendering v1.1.1 completely unusable.
I have not checked fabric-client to see if that one is still working.",,davidkel,nagap,ShinsukeHasegawa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9cf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,nagap,ShinsukeHasegawa,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk doesn't load CryptoSuite_ECDSA_AES.js from the client/lib/impl directory,FABN-271,15159,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,davidkel,davidkel,02/Mar/17 6:39 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 12:14 AM,,,,,,,v1.0.0,,,,0,,,,,"I download the latest node sdk from git as the published npm modules are too old. I link fabric-client and fabric-ca-client in my node_modules directory to the fabric-client and fabric-ca-client in the downloaded sdk.

I found that the node-sdk doesn't load CryptoSuite_ECDSA_AES.js from the lib/impl directory in fabric-client and failed. I can get it to load but if actually finds it in the node_modules directory of the node sdk itself where a copy of fabric-client and fabric-ca-client are placed. 

This doesn't seem right to me as it is looking for dependencies outside of the fabric-client module and should actually find the dependencies inside the fabric-client code as it is there.

The problem appears to be in the config definition of the node-sdk.
{code}
	""crypto-suite-software"": {
		""EC"": ""fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js""
	},
	""crypto-suite-hsm"": {
		""EC"": ""fabric-client/lib/impl/bccsp_pkcs11.js""
	},
	""key-value-store"": ""fabric-client/lib/impl/FileKeyValueStore.js"",
{code}
The code in fabric-client will invoke a nodejs require on these paths to the files but because the code itself is in the fabric-client/lib directory it won't be able to find the modules in the impl directory so the require then goes to the parent directory (which is the root of the node sdk itself) node_modules directory where it will find the files because copies of the whole fabric-client and fabric-ca-client modules exist.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/17 12:14 AM;davidkel;The recently published node npm modules don't exhibit this problem. Closing issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Node SDK reports ""logger.warning is not a function""",FABN-272,15882,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,YingShi,YingShi,21/Apr/17 2:40 PM,19/Oct/18 7:20 PM,28/Oct/23 3:25 AM,03/May/17 9:21 PM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,,,,"When trying commit b00a5234891766111613a5235b21a3136cf7321d, doing instantiate-chaincode reports ""logger.warning is not a function"".

Caused by line 1972 of fabric-sdk-node/fabric-client/lib/Chain.js:
logger.warning('compareProposalResponseResults - read/writes result sets do not match index=%s',i);

which is merged in commit 9e92c637cb80a8ac838c3fa26815bfad0ef94d3e.

The same occurs in line 338 of fabric-sdk-node/fabric-client/lib/Block.js.

Guess it should be logger.warn().","os: win7
node: 6.9.1
log4js: 0.6.38
node-sdk: b00a5234891766111613a5235b21a3136cf7321d",YingShi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-533,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqpj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,YingShi,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/17 12:58 AM;jimthematrix;http://gerrit.hyperledger.org/r/8551;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk-node e2e tests are failing on latest commits - seems certs are expired,FABN-273,27894,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,rameshthoomu,rameshthoomu,21/Feb/18 3:23 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Feb/18 12:06 AM,,,,,,,v1.1.0,,,,0,,,,,"sdk-node e2e tests are failing as the ""Orderer container"" is exiting immediately.. Below is the log
{code:java}
00:11:37.484 63d35b6ea72b        hyperledger/fabric-orderer   ""orderer""                9 seconds ago       Exited (2) 8 seconds ago                                                    orderer.example.com{code}
Seems certificate is expired 
{code:java}
[33morderer.example.com       |[0m [35m2018-02-21 04:24:13.015 UTC [orderer/commmon/multichannel] newLedgerResources -> CRIT 06b[0m Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: CA Certificate is not valid, (SN: 1000): could not obtain certification chain: the supplied identity is not valid: x509: certificate has expired or is not yet valid
[34mpeer0.org1.example.com    |[0m [36m2018-02-21 04:24:13.917 UTC [shim] handleMessage -> DEBU 0d6[0m [1b9a85e0]Handling ChaincodeMessage of type: INIT(state:ready)
[33morderer.example.com       |[0m panic: Error creating channelconfig bundle: initializing channelconfig failed: could not create channel Orderer sub-group config: setting up the MSP manager failed: CA Certificate is not valid, (SN: 1000): could not obtain certification chain: the supplied identity is not valid: x509: certificate has expired or is not yet valid{code}
Jenkins log file:

[https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-x86_64/13/console]

docker log file:

[https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-x86_64/13/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/node_dockerlogfile.log]",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyybr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Feb/18 12:06 AM;denyeart;[~rameshthoomu] I believe this is a dup of FAB-8415.  Let's use that one for the discussion.  Closing this one.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"can only send 2 tx when using service discovery, node sdk err msg ""peer in use""",FABN-274,31184,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,dongming,dongming,20/Jun/18 3:59 AM,27/Aug/19 11:25 PM,28/Oct/23 3:25 AM,20/Jun/18 9:26 PM,,,,,,,v1.2.0,,,,0,,,,,"^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _modify_groups - updated chaincode_plan:\{""groups"":\{""G0"":\{""peers"":[\{""mspid"":""PeerOrg1"",""endpoint"":""peer1.org1.example.com:7062"",""ledger_height"":\{""low"":15,""high"":0,""unsigned"":true},""chaincodes"":[\{""name"":""sample_cc_ch1"",""version"":""v0""}],""name"":""peer1.org1.example.com:7062"",""in_use"":true},\{""mspid"":""PeerOrg1"",""endpoint"":""peer0.org1.example.com:7061"",""ledger_height"":\{""low"":15,""high"":0,""unsigned"":true},""chaincodes"":[\{""name"":""sample_cc_ch1"",""version"":""v0""}],""name"":""localhost:7061"",""in_use"":true}]}},""layouts"":[\{""G0"":1}],""endorsements"":\{}}

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse - starting layout plan 0

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse_group_member >> G0:0 - start

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse_group_member >> G0:0 - peer in use peer1.org1.example.com:7062

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse_group_member >> G0:0 - peer in use localhost:7061

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse_group_member >> G0:0 - not able to get a completed endorsement

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _execute_endorsements - endorsement failed: Error: Failed to have the endorsement complete successfully

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _endorse - layout plan 0 did not complete successfully, try another layout plan

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[31merror^[[39m: [Channel.js]: sendTransactionProposal - Failed Proposal. Error: Error: Failed to have the endorsement complete successfully

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[31merror^[[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_move_const_evtBlock] Failed to send transaction proposal due to error:

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [Client.js]: newTransactionID - no admin parameter, returning non admin TransactionID

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [Client.js]: _getSigningIdentity - admin parameter is boolean :false

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [TransactionID.js]: constructor - start",,bmos299,dongming,harrisob@us.ibm.com,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10190,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfdb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,dongming,harrisob@us.ibm.com,scottz,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/18 7:54 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23355/;;;","20/Jun/18 9:49 PM;bmos299;Fast turnaround! Thanks Bret. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk node tests failed in CI tests for fabric-sdk-node8 job.,FABN-275,29718,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,sambhavdutt,sambhavdutt,26/Apr/18 11:07 PM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,12/May/18 12:13 AM,,,,,,,v1.2.0,,,,0,ci-failure,,,,"The fabric-sdk-node8-merge failed in e2eUtils.tlsEnroll, 

{code:java}
15:19:02 not ok 1876 Error: All proposals were not good at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node8-merge-s390x/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:362:10) at <anonymous> at process._tickDomainCallback (internal/process/next_tick.js:228:7)
15:19:02   ---
15:19:02     operator: fail
15:19:02     at: e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node8-merge-s390x/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:410:5)
15:19:02     stack: |-
15:19:02       Error: Error: All proposals were not good
15:19:02           at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node8-merge-s390x/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:362:10)
{code}

*Build Log*
https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-s390x/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/acorn/yarn-error.log
",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7mf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/18 12:13 AM;sambhavdutt;The fabric-sdk-node8 merge CI tests have been passing from several builds without any e2e error. 

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-x86_64/263/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to get the latset config block using getChannelConfig,FABN-276,18543,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,varadatibm,varadatibm,22/Jun/17 7:10 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Jun/17 8:24 AM,,,,,,,v1.0.0-rc1,,,,0,,,,,"When I get the channel config using Node SDK, it is always showing the genesis block... I do not get the updated block.",,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy593:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jun/17 7:39 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/10969/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typescript type information is not up to date,FABN-277,27225,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,30/Jan/18 10:46 AM,25/Aug/18 6:23 AM,28/Oct/23 3:25 AM,03/Feb/18 5:15 PM,v1.1.0-alpha,,,,,,v1.1.0,,,,0,,,,,"Several methods and parameters, including ones added recently, are missing in the type information for fabric-sdk-node in TypeScript.

For example, cryptoContent in UserOptions does not allow ""privateKeyObj"", and EventHub does not have ""registerChaincodeEvent"" or ""unregisterChaincodeEvent"" methods etc.
",fabric-sdk-node 34731570af3645a235e50e4023212d35b1da1429,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5581,,,,,,FABN-373,FABN-868,FABN-891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyv13:",,,,,,,,,,,,,,,,,,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to enroll a user without key value store,FABN-278,17008,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,varadatibm,varadatibm,23/May/17 4:49 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/May/17 3:21 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"Unable to enroll a user without key value store. This used to work with SDK commit `40fae273dd974be14a2ee2b8081f988b9377d35e`

But fails with `8f148f3e3ceb77e3684ca0224a0dfd1c58456d60`

----------------------------

error: [Client.js]: Failed to load user ""admin"" from local key value store. Error: Error: importKey storeKey is true, which requires CryptoKeyStore to be set.
    at CryptoSuite_ECDSA_AES.importKey (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:181:10)
    at User.fromString (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/User.js:223:28)
    at /Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:1004:22
error: [Client.js]: Failed to load an instance of requested user ""admin"" from the state store on this Client instance. Error: Error: importKey storeKey is true, which requires CryptoKeyStore to be set.
    at CryptoSuite_ECDSA_AES.importKey (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:181:10)
    at User.fromString (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/User.js:223:28)
    at /Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:1004:22
not ok 2 Error: importKey storeKey is true, which requires CryptoKeyStore to be set. at CryptoSuite_ECDSA_AES.importKey (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:181:10) at User.fromString (/Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/User.js:223:28) at /Users/Varad/GitHub/helios_varad/server/libs/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:1004:22",,cdaughtr,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwiv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/17 5:05 AM;harrisob@us.ibm.com;failing call

 

{color:#444444}return Promise.resolve(client.createUser(\{{color}
{color:#444444}username: options.msp_id,{color}
{color:#444444}mspid: options.msp_id,{color}
{color:#444444}cryptoContent: \{{color}
{color:#444444}privateKeyPEM: common_misc.decodeb64(options.privateKeyPEM),{color}
{color:#444444}signedCertPEM: common_misc.decodeb64(options.signedCertPEM){color}
{color:#444444}}{color}
{color:#444444}}));{color};;;","24/May/17 5:59 AM;cdaughtr;In the older commit, if not specified, the key store was automatically constructed based on config settings.  In the newer commit, if the cryptoSuite is set by the app on the Client (assuming this is the case), the app will also need to set the keystore on the cryptoSuite, since createUser persists the user by doing a setUserContext.

See https://jira.hyperledger.org/browse/FAB-3881 for code snippets.;;;","25/May/17 1:13 AM;jimthematrix;[~cdaughtr] i think we could use this bug to enable ""state-store-less-ness"", in case an application handles user object persistence separately. we should allow that. please evaluate what this would entail and if the sizing is tolerable, we should give it a go for v1.0;;;","25/May/17 5:48 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/9771/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub construction should not check for a user context.,FABN-279,22465,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:36 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Oct/17 8:30 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,Currently when you construct an EventHub Object it checks then to see if there is a user context on the client. The check should be moved to the connect method as it seems reasonable to construct EventHub objects before you have a user context and the connect the event hubs once a user context has been established.,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/17 4:01 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14611/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/Client.html  -- HFC reference and typos,FABN-280,15117,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,01/Mar/17 5:28 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In the generated documentation for class Client, a few errors appear:

(1) 
These files will override the default settings and be{color:#d04437} overriden {color}by environment, 
===> 
These files will override the default settings and be {color:#d04437}overridden{color} by environment{color:#d04437} variables{color}, 

(2) settings programmatically set into configuration settings.
==>
programmatically configured values
===>
programmatically configured settings.

(3) hierarchy search order
==>
Hierarchy search order

(4) memory - all settings added with ...
===>
Memory - all settings added with sdkUtils.setConfigSetting(name,value)
===>
Storage - all settings added with sdkUtils.setConfigSetting(name,value)

(5) Environment variables (names will be change from AAA-BBB to aaa-bbb)
==>
Environment variables (names will be {color:#d04437}changed{color} from AAA-BBB to aaa-bbb)

Even with the suggested correction, the meaning is unclear.  At first I thought it mean the SDK will convert all environment variable names to lower case.  But why would an application programmer care how the SDK internally represents the environment variable *name*? Is it saying the values will be lower - cased?    What warning is this sentence trying to convey?

(6)  all files added with the addConfigFile(path) will
==>
 all files added with the addConfigFile(path) {color:#d04437}method{color} will
==>
 all files added with addConfigFile(path) will

(7) ordered by when added, were last one
==>
ordered by when added, {color:#d04437}where{color} last one

Even with this correction, it sounds as though the last file added causes the SDK to completely disregard any earlier file added.  If that is the case, all references to 'files' in this description need to be changed to 'file', and remove the reference to 'list'  as the SDK reads at most one custom file. 

Since the description refers to a list of configuration setting files, I presume what you really mean is if the last file sets value 'a', and the prior file sets values 'a' and 'b', the net is 'a' comes from the last file and 'b' comes from the earlier file.
===>
Custom files -- all files added with addConfigFile(path).  The values set in the last file added override values set in prior configuration files. 

(8) The file located at 'config/default.json' with default settings
Do you mean
==>
The file located at  fabric-sdk-node/config/default.json  ?
===>
The file located at fabric-sdk-node/fabric-client/config/default.json ?
 Edit 3/1/2016:  Removed lines from (8) because I think I answered my own question.

(9) The path to the file to be added to the top of list of configuration files
==>
The pathname of the file to be added to the top of list of configuration files
'pathname' has meaning to Linux users.
(10)  getConfigSetting
  Items (3) - (8) apply to this method also.

(11) setConfigSetting
Is now: 
Adds a setting to override all settings that are part of the hierarchical configuration.

hierarchy search order:

    memory - settings added with this call
    Command-line arguments
    Environment variables (names will be change from AAA-BBB to aaa-bbb)
    Custom Files - all files added with the addConfigFile(path) will be ordered by when added, were last one added will override previously added files
    The file located at 'config/default.json' with default settings

Should be: 
Adds a setting to override all settings that are part of the hierarchical configuration.
(We don't need to provide the search hierarchy because this method is telling the SDK to ignore it for the specified name). 

If you really want to include the search hierarchy, comments (3) - (8) apply to this section.

(12) setLogger(logger)
Configures a logger for the entire {color:#d04437}HFC{color} SDK to use and override the default logger. Unless this method is called, {color:#d04437}HFC{color} uses a default logger (based on winston). When using the built-in ""winston"" based logger, use the environment variable {color:#d04437}HFC_LOGGING {color}to pass in configurations in the following format:

HFC SDK ==> SDK
 I thought we were moving away from 'HFC'. 
HFC  uses ==> the SDK uses?
                 ==> the fabric-client uses ? 
(13) HFC_LOGGING  Should this envvar be renamed ?

(14) setLogger(logger)
Is now:
{ 'error': 'error.log', // 'error' logs are printed to file 'error.log' relative of the current working dir for node.js 'debug': '/tmp/myapp/debug.log', // 'debug' and anything more critical ('info', 'warn', 'error') can also be an absolute path 'info': 'console' // 'console' is a keyword for logging to console }
Should be:
{ 'error': 'error.log', // 'error' logs are printed to file 'error.log' relative of the current working dir for node.js 
'debug': '/tmp/myapp/debug.log', // 'debug' and anything more critical ('info', 'warn', 'error') can also be an absolute path 
'info': 'console' // 'console' is a keyword for logging to console }



","fabric-sdk-node commit d3fcbe2299c840dfd7886076b009b88eb25a7dd8
fabric commit a0d032bc5c4853b43972163f502a03ee7770c1d5
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmcv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Mar/17 5:45 AM;jjjjibm;I will edit (8) to include information about fabric-sdk-node/fabric-client/config/default.json;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
When eventhub connect() fails the application doesn't get notified,FABN-281,18104,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,16/Jun/17 4:53 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Jun/17 12:53 AM,v1.0.0-beta,,,,,,v1.0.0-rc1,,,,0,,,,,"If the EventHub.connect() call fails, maybe due to incorrect grpc settings (wrong certs, wrong url, etc.) the SDK logs the error but the application doesn't get notified because there is no error callback for the application to hook into the error path.

The registerXXXEvent() methods do provide error callbacks that will get called on error conditions like above, but that requires the listeners to be registered before the connect() gets call.

However, you can call registerXXXEvent() before connect() because right now these methods checks if the connection has been established.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy393:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jun/17 12:53 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/10661/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install/instantiate fails without ccenv image in fabric-sdk-node e2e tests,FABN-282,16726,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,rameshthoomu,rameshthoomu,15/May/17 1:42 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/May/17 1:58 AM,,,,,,,v1.0.0,,,,0,node-SDK,quality,,,"Issue Description: Install/instantiate fails without ccenv image in fabric-sdk-node e2e tests

Steps to reproduce: 
1) update x86_64-1.0.0-alpha2 tags for each image in the existing docker-compose file ([https://github.com/hyperledger/fabric-sdk-node/blob/master/test/fixtures/docker-compose.yaml)]

2) follow the steps mentioned in readme to execute e2e-tests

Expected Result:

e2e-test should work as expected

Actual Result:

Install/instantiate is failing with the below error log
{code:java}
 error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error starting container: Failed to generate platform-specific docker build: Error creating container: no such image at /w/workspace/fabric-sdk-node-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17 error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error starting container: Failed to generate platform-specific docker build: Error creating container: no such image at /w/workspace/fabric-sdk-node-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
{code}
Root Cause: observed ccenv image reference is not available in above mentioned docker-compose file. While install/instantiate, code is looking for ccenv image.

Workaround: pull ccenv image and re-run the tests. It's working as expected. execute below command

`docker pull hyperledge/fabric-ccenv:x86_64:1.0.0-alpha2`

 

 ",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] coucbdb-fabricca-tests.js  not ok 3 Error: Must provide the CouchDB database url to store membership data.,FABN-283,14931,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jjjjibm,jjjjibm,20/Feb/17 6:52 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Mar/17 12:25 AM,,,,,,,v1.0.0,,,,0,,,,,"New result from fabric-node-sdk/test/integration/coucb-fabricca-tests.js: 

not ok 3 Error: Must provide the CouchDB database url to store membership data.
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      [Error: Must provide the CouchDB database url to store membership data.]
    at: process.onetime (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/onetime/index.js:22:12)
    stack: |-
      Error: Must provide the CouchDB database url to store membership data.
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/CouchDBKeyValueStore.js:48:10
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoKeyStore.js:35:10
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoKeyStore.js:94:16
          at CryptoKeyStore (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoKeyStore.js:95:9)
          at Promise (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:245:5)
          at _getKeyStore (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:241:10)
          at Promise (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:149:10)
          at generateKey (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:148:11)
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:101:26
          at enroll (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:86:10)

I added a log statement to CoucbDBKeyValueStore.js since Node Inspector shows both options and url are provided:

constructor, options: [object Object]
{ _url: 'http://localhost:5984',   <<=== aha!!
  _name: 'member_db',
  _database:
   { info: [Function],
     replicate: [Function],
     compact: [Function],
     changes: [Function],
     follow: [Function],
     auth: [Function: auth],
     session: [Function: session],
     insert: [Function: insertDoc],
     get: [Function: getDoc],
     head: [Function: headDoc],
     copy: [Function: copyDoc],
     destroy: [Function: destroyDoc],
     bulk: [Function: bulksDoc],
     list: [Function: listDoc],
     fetch: [Function: fetchDocs],
     fetchRevs: [Function: fetchRevs],
     config: { url: 'http://localhost:5984', db: 'member_db' },
     multipart:
      { insert: [Function: insertMultipart],
        get: [Function: getMultipart] },
     attachment:
      { insert: [Function: insertAtt],
        get: [Function: getAtt],
        destroy: [Function: destroyAtt] },
     show: [Function: showDoc],
     atomic: [Function: updateWithHandler],
     updateWithHandler: [Function: updateWithHandler],
     search: [Function: viewSearch],
     spatial: [Function: viewSpatial],
     view: { [Function: viewDocs] compact: [Function] },
     viewWithList: [Function: viewWithList] } }

It looked like a simple case of changing options.url to options._url.   I tried this, but got this new result:

ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node$ node  test/integration/couchdb-fabricca-tests.js
info: Returning a new winston logger with default configurations
Key Value Store = fabric-client/lib/impl/CouchDBKeyValueStore.js
TAP version 13
# Use FabricCAServices with a CouchDB KeyValueStore
# Cleanup of existing member_db returned false
# Initilize the CouchDB KeyValueStore
constructor, options: [object Object]
{ name: 'member_db', url: 'http://localhost:5984' }
Error: Must provide the CouchDB database url to store membership data.
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/CouchDBKeyValueStore.js:48:10
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/utils.js:99:18
    at Object.module.exports.newKeyValueStore (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/utils.js:96:9)
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/integration/couchdb-fabricca-tests.js:60:9
    at process._tickCallback (internal/process/next_tick.js:103:7)
not ok 1 Error initializing CouchDB KeyValueStore. Exiting.
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...

So it seems sometimes the parameter 'options' has the field options.url and sometimes options._url .

I tried patching CoucbDBKeyValueStore like this:
myUrl = """"
if (options) {
   myUrl = options.url ? options.url : options._url;
}
and then referencing myUrl.  This gives this result:

ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node$ node  test/integration/couchdb-fabricca-tests.js
info: Returning a new winston logger with default configurations
Key Value Store = fabric-client/lib/impl/CouchDBKeyValueStore.js
TAP version 13
# Use FabricCAServices with a CouchDB KeyValueStore
# Cleanup of existing member_db returned false
# Initilize the CouchDB KeyValueStore
{ name: 'member_db', url: 'http://localhost:5984' }
info: [CouchDBKeyValueStore.js]: No member_db found, creating member_db
info: [CouchDBKeyValueStore.js]: Created member_db database
# Setting client keyValueStore to: [object Object]
ok 1 Successfully set CouchDB KeyValueStore for client
# Initialize the CA server connection and KeyValueStore
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":7054}
ADD: caService -  FabricCAServices : {hostname: localhost, port: 7054}
ok 2 Successfully initialized the Fabric CA service.
# Set cryptoSuite on client
# Begin caService.enroll
info: [crypto_ecdsa_aes]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""_url"":""http://localhost:5984"",""_name"":""member_db"",""_database"":{""config"":{""url"":""http://localhost:5984"",""db"":""member_db""},""multipart"":{},""attachment"":{}}}}
{ _url: 'http://localhost:5984',
  _name: 'member_db',
  _database:
   { info: [Function],
     replicate: [Function],
     compact: [Function],
     changes: [Function],
     follow: [Function],
     auth: [Function: auth],
     session: [Function: session],
     insert: [Function: insertDoc],
     get: [Function: getDoc],
     head: [Function: headDoc],
     copy: [Function: copyDoc],
     destroy: [Function: destroyDoc],
     bulk: [Function: bulksDoc],
     list: [Function: listDoc],
     fetch: [Function: fetchDocs],
     fetchRevs: [Function: fetchRevs],
     config: { url: 'http://localhost:5984', db: 'member_db' },
     multipart:
      { insert: [Function: insertMultipart],
        get: [Function: getMultipart] },
     attachment:
      { insert: [Function: insertAtt],
        get: [Function: getAtt],
        destroy: [Function: destroyAtt] },
     show: [Function: showDoc],
     atomic: [Function: updateWithHandler],
     updateWithHandler: [Function: updateWithHandler],
     search: [Function: viewSearch],
     spatial: [Function: viewSpatial],
     view: { [Function: viewDocs] compact: [Function] },
     viewWithList: [Function: viewWithList] } }
info: [CouchDBKeyValueStore.js]: member_db already exists
ok 3 Successfully enrolled admin2 with CA server
ok 4 Member isEnrolled successfully.
info: [Client.js]: Successfully loaded user ""admin2"" from local key value store
ok 5 Successfully loaded the user from key value store

1..5
# tests 5
# pass  5

# ok

Assigning to Caroline for evaluation. 

If you want that to be 'the fix'  you can assign it back to me with a comment.  You probably want a different solution. 




","fabric-node-sdk: commit 084d3b591532881d7cb3c4641f09a4d53609ce00
fabric-ca: commit 37b897b3cd723568b38026acdf85a1d168a4cbf1
fabric: commit e829d2ecfd9a2bfc378a08a9364215f241a0a09b

Running Ubuntu on vlaunch VM ",cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Feb/17 6:54 PM;jjjjibm;Hi Caroline,
I'm assigning this to you for evaluation.  You can assign it back to me if you like the patch I made.  I would think you probably want to look more deeply into it than I did.  ;;;","08/Mar/17 2:09 PM;jimthematrix;this is part of what Caroline has been working on;;;","10/Mar/17 12:25 AM;cdaughtr;This has been fixed and now runs successfully.  We've also added it to 'gulp test'.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js fails due to duplicated transaction,FABN-284,13895,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,inatatsu,inatatsu,29/Dec/16 9:11 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Jan/17 10:45 AM,v1.0.0,,,,,,v1.0.0,,,,0,quality,,,,"end-to-end.js fails at step2 with the following GRPC error:
{code:java}
[2016-12-29 11:44:46.672] [INFO] E2E - Executing step2
debug: [Chain.js]: Chain.sendTransactionProposal - start
debug: [Chain.js]: Chain.sendTransactionProposal - adding function arg:invoke
debug: [Chain.js]: Chain.sendTransactionProposal - adding arg:move
debug: [Chain.js]: Chain.sendTransactionProposal - adding arg:a
debug: [Chain.js]: Chain.sendTransactionProposal - adding arg:b
debug: [Chain.js]: Chain.sendTransactionProposal - adding arg:100
[2016-12-29 11:44:46.679] [DEBUG] E2E - [crypto_ecdsa_aes]: ecdsa signature:  Signature {
  r: <BN: f163b5aa4d91abd33a24a116b52610123624ee2b2a346c07b714556b6a6bec03>,
  s: <BN: e8ef01bf336b37e52bb32bf8becac1be7bee5e3e61a72557c6390297908201d7>,
   recoveryParam: 0 }
debug: [Chain.js]: _signProposal - signature::{""type"":""Buffer"",""data"":[48,70,2,33,0,241,99,181,170,77,145,171,211,58,36,161,22,181,38,16,18,54,36,238,43,42,52,108,7,183,20,85,107,106,107,236,3,2,33,0,232,239,1,191,51,107,55,229,43,179,43,248,190,202,193,190,123,238,94,62,97,167,37,87,198,57,2,151,144,130,1,215]}
debug: [Peer.js]: Peer.sendProposal - Start
debug: [Peer.js]: Peer.sendProposal - Start
debug: [Peer.js]: Peer.sendProposal - Start
debug: [Peer.js]: Peer.sendProposal - Start
error: [Peer.js]: GRPC client got an error response from the peer. Error: failed to obtain cds for mycc - Error executing chaincode: Failed to execute transaction (Error sending TRANSACTION: txid:%EF%BF%BD%EF%BF%BD%07%EF%BF%BD%1F8%EF%BF%BD%EF%BF%BD%EF%BF%BDx exists)
    at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:417:17
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Error: failed to obtain cds for mycc - Error executing chaincode: Failed to execute transaction (Error sending TRANSACTION: txid:%EF%BF%BD%EF%BF%BD%07%EF%BF%BD%1F8%EF%BF%BD%EF%BF%BD%EF%BF%BDx exists)
    at Object.callback (/fabric-sdk-node/node_modules/hfc/lib/Peer.js:191:13)
    at /fabric-sdk-node/node_modules/grpc/src/node/src/client.js:420:14
{code}

While the direct problem is a duplicated transaction, the root cause is that peer0 and peer1 are added to the chain multiple times since both step1 and step2 call chain.addPeer() for the validating peers.",,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Dec/16 1:41 AM;inatatsu;https://gerrit.hyperledger.org/r/#/c/3569/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - block number decode should be readable,FABN-285,21344,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,06/Oct/17 9:54 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Oct/17 4:02 AM,,,,,,,v1.0.4,,,,0,node-SDK,,,,"The current decode of block numbers and transaction numbers is just the string output from the Node object, as {color:#333333}\{{color}{color:#dd1144}""low""{color}{color:#333333}:{color}{color:#008080}51{color}{color:#333333},{color}{color:#dd1144}""high""{color}{color:#333333}:{color}{color:#008080}0{color}{color:#333333},{color}{color:#dd1144}""unsigned""{color}{color:#333333}:true}{color} , this should be a readable integer like {color:#008080}51{color}{color:#333333}.{color}",,balaji.viswanathan,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyijz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,balaji.viswanathan,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/17 4:02 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14553/;;;","24/Oct/17 6:37 PM;balaji.viswanathan;This was fixed in grpc (verified with 1.6) with an option longsAsStrings (defaults to true). So, even though the toString() in patch is still valid...it is not required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getRoles function from Peer class error,FABN-286,16639,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,Gerard9494,Gerard9494,12/May/17 12:46 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/May/17 11:16 PM,,,,,,,,,,,0,,,,,"There is an error at Peer code (hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Peer.js), concretely at getRoles function (line 144) function, where it tries to return a function when _roles is an attribute.",,cdaughtr,Gerard9494,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx38f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,Gerard9494,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 3:06 AM;cdaughtr;getRoles needs to be removed from Peer.  So with this issue, I will remove getRoles and several other functions that are no longer applicable to Peer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Crash on Windows as a from the hastable npm module's native code,FABN-287,16810,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,mbwhite,mbwhite,17/May/17 8:42 PM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,23/May/17 11:11 AM,,,,,,,,,,,0,,,,,"Within the EventHub.js there is use of the hashtable npm module. This is implemented using C++ code.

 

When running on Windows, this code causes an access violation. By swapping this model out to use the pure javascript version I'm able to successfully use the fabric-client.

I don't know exactly what triggers the failure here, but the event hubs use of the hashtable is minimal. ",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-148,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3br:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 12:05 PM;jimthematrix;[~mbwhite] please take a look http://gerrit.hyperledger.org/r/9681, not sure if you were working on fixing this already... feel free to comment in the CR if you have different ideas.;;;","23/May/17 5:05 PM;mbwhite;Thank you [~jimthematrix]  Locally I'd removed the native version of the hashtable and replaced with hashtable-js - I didn't want to disrupt the code. (I hadn't worked out how to deliver the code yet :))

However your solution looks better if the dependency on a hashtable can be removed.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] typo in log messages,FABN-288,28322,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,09/Mar/18 6:52 AM,19/Oct/18 7:19 PM,28/Oct/23 3:25 AM,10/Mar/18 2:24 AM,v1.0.0-rc1,,,,,,v1.1.0,,,,0,,,,,"fabric-sdk-node has typo in log messages.
Log message displays the name of function. However, it doesn't match the actual name.

The following lines have this problem:

- fabric-sdk-node/fabric-client/lib/Client.js
{noformat}
updateChannel(request) { 
                (snip)
                logger.debug('createChannel - have envelope');
}
{noformat}

- fabric-sdk-node/fabric-client/lib/Channel.js
{noformat}
queryBlock(blockNumber, target, useAdmin) {
                (snip)
                logger.debug('queryBlockByHash - looking at block :: %s',block.header.number);
}
{noformat}

Log messages should be modified correctly.
",commit: 000526de6fb55abcec42e28c575024ceba66033c,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0d3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Mar/18 8:18 AM;yuki-kon;CR is posted here: https://gerrit.hyperledger.org/r/#/c/18909/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Instantiate proposal fails when missing ""path"" field in ChaincodeSpec",FABN-289,15062,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,27/Feb/17 1:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Feb/17 11:14 PM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm33:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] Failed to invoke transaction chaincode,FABN-290,31249,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,Ratnakar,Ratnakar,21/Jun/18 4:49 AM,21/Sep/18 11:50 PM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,v1.2.0,,,,,,Future,,,,0,quality,,,,"For test description details , please refer the Case 4 of FAB-10161

test failed to invoke a transaction
_SDK Error Message:_
{code}
not ok 420 Failed to invoke transaction chaincode^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: fail
    at: invokeChaincode.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/invoke.js:70:6)
    stack: |-
      Error: Failed to invoke transaction chaincode
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.fail (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
          at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at invokeChaincode.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/invoke.js:70:6)
          at <anonymous>^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-294,,,FAB-10161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/18 11:37 PM;Ratnakar;I analyzed the peer/orderer logs and it is observed that the root cause for this issue is due to mutual TLS usage in tests.

V1.1 NodeJS Integration tests are not using the API setTlsClientCertAndKey causes this failures against NodeJS SDK V1.2*.*

 
I added the API  *setTlsClientCertAndKey* in _test/integration/invoke.js_ and the test has PASSED;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] query.js not ok 32 test exited without ending ,FABN-291,15019,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,24/Feb/17 8:37 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Feb/17 3:10 AM,v1.0.0,,,,,,,,,,0,node-SDK,,,,"Query.js works when invoked like this:  node query.js

However, it does not work when it is added to test.js like this:
gulp.task('test' ....
   gulp.task('test', ['lint', 'test-headless'], function() {
                'test/integration/chain-fabriccop-tests.js',
                'test/integration/endorser-tests.js',
                'test/integration/orderer-chain-tests.js'
{color:#14892c}+              * ,'test/integration/end-to-end.js'
+               ,'test/integration/query.js'
{color}*            
Here is the last part of  'gulp test' output:

{color:#59afe1}ok 33 checking query results are correct that user b has 300 now after the move
[2017-02-23 18:29:05.118] [INFO] E2E - Disconnecting the event hub
ok 34 checking query results are correct that user b has 300 now after the move
not ok 35 test exited without ending
  ---
    operator: fail
  ...

1..35
# tests 35
# pass  32
# fail  3
{color}
Query.js takes four optional parameters which are inspected by the second test() in query.js.  If no parameters are specified, all queries in the second test are attempted.  If parameters are specified, the query or queries corresponding to the parameters are attempted.

When called from gulp, parameters are passed to query.js, but not the parameters recognized by query.js.  The second test omits to attempt any queries because it checks querys.length == 0  or querys.indexOf(<supported parameter>) before attempting each query.  Querys.length is not zero, yet never a supported parameter.  Consequently, no queries are attempted, and the test ends without calling t.end(). 
","fabric-sdk-node: commit 425028f3f64b33d2ebaba57b276fca56c4b801ad
fabric: commit e829d2ecfd9a2bfc378a08a9364215f241a0a09b
fabric-ca: commit ec639409e248bc97bf5adc15dcb812d19dc93a88

vlaunch VM running Ubuntu",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Feb/17 8:54 AM;jjjjibm;commit 70fe8ad67d069bb159231f14e473767882fdd805
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Thu Feb 23 18:47:43 2017 -0500

    node-sdk FAB-2456 query.js exited without ending

    Fabric-sdk-node/test/integration/query.js test ends without calling
    t.end() when driven by gulp.  See FAB-2456 for a discussion of the
    problem. Query.js changed to distinguish gulp parameters from
    command line parameters.

    Change-Id: If445854d267c5f52d08a32ee050e769f3f7c7328
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","24/Feb/17 8:56 AM;jjjjibm;https://gerrit.hyperledger.org/r/#/c/6455/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - protobuf definition files are not current with fabric,FABN-292,16645,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/May/17 1:45 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,16/May/17 5:06 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,bring up NodeSDK to the latest protobuf definitions,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error in typings file,FABN-293,31527,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,caroline-church,caroline-church,02/Jul/18 5:34 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,,,,,,,,,,,0,,,,,"The typescript typings file has the error of ""Cannot find name 'ByteBuffer'.""",,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgu7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[Interoperability test ] Mutual TLS is not working and failed to create the channel, which causes several Integration test failures",FABN-294,31198,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,20/Jun/18 6:25 AM,16/Nov/18 3:22 AM,28/Oct/23 3:25 AM,14/Nov/18 10:49 PM,v1.2.0,,,,,,Future,,,,0,quality,,,,"Please Refer the Case 4 of FAB-10161 . 
Nodejs Integration Test Suite at 1.1 , but others at 1.2: Node.js SDK, Fabric, Fabric-CA
Gist of Orderer logs
{code:java}
2018-06-19 18:19:34.808 UTC [common/deliver] Handle -> DEBU 0d4 Attempting to read seek info message from 172.18.0.1:57450
2018-06-19 18:19:34.809 UTC [common/deliver] deliverBlocks -> WARN 0d5 Rejecting deliver for 172.18.0.1:57450 due to envelope validation error: client didn't include its TLS cert hash
{code}
Test failure
{code:java}
not ok 9 Error: Invalid results returned ::BAD_REQUEST at ClientDuplexStream.<anonymous> (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:231:23) at emitOne (events.js:116:13) at ClientDuplexStream.emit (events.js:211:7) at addChunk (_stream_readable.js:263:12) at readableAddChunk (_stream_readable.js:250:11) at ClientDuplexStream.Readable.push (_stream_readable.js:208:10) at readCallback (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/grpc/src/client.js:312:14)^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: fail
    at: e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/create-channel.js:196:5)
    stack: |-
      Error: Error: Invalid results returned ::BAD_REQUEST
          at ClientDuplexStream.<anonymous> (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:231:23)
          at emitOne (events.js:116:13)
          at ClientDuplexStream.emit (events.js:211:7)
          at addChunk (_stream_readable.js:263:12)
          at readableAddChunk (_stream_readable.js:250:11)
          at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)
          at readCallback (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/grpc/src/client.js:312:14)
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.fail (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
          at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/create-channel.js:196:5)
          at <anonymous>
          at process._tickCallback (internal/process/next_tick.js:188:7)^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}
complete test logs are enclosed, refer the file run4.txt

For Quick reference given the steps to reproduce the issue as following
 *Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.2, Fabric is at 1.2 & Fabric-CA is at 1.2*
{code:java}
Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install
make sure to use latest 1.2 node modules for the clients fabric-client and fabric-ca-client (As of this testing used the version: 1.2.0-snapshot.62)
rm -rf node_modules/fabric-c*
npm install fabric-client@1.2.0-snapshot.62
npm install fabric-ca-client@1.2.0-snapshot.62

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}",,andrew-coleman,harrisob@us.ibm.com,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-153,FABN-198,FABN-290,,,,FAB-10161,,,,,,,,,,,"20/Jun/18 6:24 AM;Ratnakar;run4.txt;https://jira.hyperledger.org/secure/attachment/15123/run4.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,harrisob@us.ibm.com,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 7:23 AM;Ratnakar;[~harrisob@us.ibm.com] and I are analyzing the failures, more details to follow.;;;","20/Jun/18 7:56 AM;harrisob@us.ibm.com;The thinking right now is to not fix this issue, just to release note it. Users will make the small change to code to load the cert and key into the client object before sending requests to the network.

I will work on a release note for this.;;;","21/Jun/18 4:05 AM;Ratnakar;As per [~bmos299] and [~denyeart] suggestion, since we have a work around to use the API *client.setTlsClientCertAndKey(clientCert, clientKey);* to avoid the failure, We are fine to have this published in release notes and follow the deprecation process.

 ;;;","21/Jun/18 11:12 PM;Ratnakar;Also [~scottz] and I were looking at the tutorials [https://fabric-sdk-node.github.io/tutorial-mutual-tls.html] 

and we see the instructions are still pointing to the old approach to pass clients *private key* and *certificate* as part of the options. opened another JIRA item FAB-10793 for the same;;;","14/Nov/18 10:49 PM;andrew-coleman;documented in release note - closing;;;","14/Nov/18 11:23 PM;scottz;Where exactly is this documented?

I thought we had a something to pull the text in the Release Notes field of all the Jira issues in the release, but that cannot work if the ""Release Note"" field in this issue is still empty.;;;","16/Nov/18 3:22 AM;harrisob@us.ibm.com;The tutorial was updated  to include how to set it up

https://fabric-sdk-node.github.io/release-1.3/tutorial-mutual-tls.html;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] headless-tests.js error: not ok 10 .end() called twice,FABN-295,13222,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jjjjibm,jjjjibm,28/Oct/16 4:23 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/Nov/16 11:11 PM,,,,,,,,,,,0,node-SDK,,,,"My kvsTest directory happened to be owned by root.  I tried running headless-tests.js as ibmadmin.   One of the tests failed like this: 

not ok 9 FileKeyValueStore read and write test: Failed to set value, reason: Error: EACCES: permission denied, open '/home/ibmadmin/kvsTemp/keyValFileStoreName'
  ---
    operator: fail

which exposes this test case error: 

not ok 10 .end() called twice
  ---
    operator: fail



Here is some context for you:

# Chain constructor test
info: [Chain.js]: Constructed Chain instance: name - testChain, securityEnabled: true, TCert download batch size: 200, network mode: true
ok 5 Chain constructor test: getName successful
error: [Chain.js]: No key value store was found on this Chain instance: name - ""testChain""
ok 6 Successfully rejected a ""getMember()"" call on a chain without keyvalue store
error: [Chain.js]: No member services was found on this Chain instance: name - ""testChain""
ok 7 Successfully rejected a ""getMember()"" call on a chain without member services
ok 8 FileKeyValueStore read and write test: Successfully created new directory for testValueStore
not ok 9 FileKeyValueStore read and write test: Failed to set value, reason: Error: EACCES: permission denied, open '/home/ibmadmin/kvsTemp/keyValFileStoreName'
  ---
    operator: fail
  ...
not ok 10 .end() called twice
  ---
    operator: fail
  ...
ok 11 FileKeyValueStore error check tests: Delete store & setValue test. Failed to set value: Error: ENOENT: no such file or directory, open 'tmp/keyValStore4/keyValFileStoreName'
",vlaunch VM running Ubuntu 14 ,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/16 3:36 AM;cdaughtr;http://gerrit.hyperledger.org/r/2151 is merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node sdk packager could package un-required js files and not include vital files,FABN-296,21014,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix@gmail.com,davidkel,davidkel,27/Sep/17 6:33 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/Oct/17 11:57 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"Currently the Node Packager includes only the following files
{noformat}
var keep = [
	'.js',
	'.json',
	'.proto',
	'.yaml',
	'.yml',
];
{noformat}
But this scans from a root directory and includes any subdirectories it might find which includes node_modules if it is present for example so could end up packaging a vast amount of unrequired content.
The other problem is that it doesn't include useful metadata files and other files that could be required by the chaincode which don't fall into the pattern above. 
As an example, consider the scenario where the chaincode isn't allowed to contact the external npm repository and may wish to have a mixture of locally stored npm modules in TGZ format and/or may want to contact a internally hosted npm repository. This could be achieved if it were possible to include in the package the TGZ files of the modules to reside on the filesystem and also the file .npmrc which would allow the ability to configure the actions of npm install such as redefine the registry to contact.
I don't think that a white-list solution is the best approach however (because in the future Hyperledger Composer may want to bundle in files with the extension .bna and that would not be a great extension to add into the white list). Given that this is chaincode to run in a node.js environment with npm it would be better to override this white-list mechanism and use a black-list approach if the file .npmignore exists.
",,davidkel,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyhbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/17 12:02 AM;davidkel;There is a bug in the fabric side. The command that copies the files from input to output doesn't copy hidden files
ie
{noformat}
	err := util.DockerBuild(util.DockerBuildOptions{
		Cmd:          fmt.Sprint(""cp -R /chaincode/input/src/* /chaincode/output && cd /chaincode/output && npm install -production""),
		InputStream:  codepackage,
		OutputStream: binpackage,
	})
{noformat}
It's present in the input/src but not present in output and it's due to the use of * as a wild card delimiter I think, and it is. It looks like this should work
{noformat}
	err := util.DockerBuild(util.DockerBuildOptions{
		Cmd:          fmt.Sprint(""cp -R /chaincode/input/src/. /chaincode/output && cd /chaincode/output && npm install -production""),
		InputStream:  codepackage,
		OutputStream: binpackage,
	})
{noformat};;;","02/Oct/17 11:55 PM;jimthematrix@gmail.com;https://gerrit.hyperledger.org/r/#/c/13945/;;;","02/Oct/17 11:57 PM;jimthematrix@gmail.com;opened FAB-6384 for the bug above about missing hidden files;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - queryBlock() does not return transaction status,FABN-297,19274,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,15/Jul/17 6:11 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Jul/17 12:59 AM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,The queryBlock() APIs do not return values for the transaction status.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8k7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jul/17 6:33 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/11661/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-ca-client package.json with missing package bn.js,FABN-298,14434,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,30/Jan/17 4:57 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:37 AM,,,,,,,,,,,0,,,,,Discovered when testing the example app in a standalone folder,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx787:",,,,,,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - intermittent errors in Event testing,FABN-299,17671,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,09/Jun/17 3:51 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Jun/17 11:42 PM,,,,,,,v1.0.0-beta,,,,0,,,,,"This failure never happens on our development environments and is only seen in the CI build.

Step one will be to clean up the promise handling and messages produced and add some more debug to the SDK. Then keep 'reverify' till we hit the error and hopefully see the cause.

The test case `test/integration/events.js` fails with the following logged messages
{color:#5f8787}*4:03:51* # {color}*14:03:51* *14:03:51* ** Test chaincode install using chaincodePackage[byte] ***14:03:51* *14:03:51* 
 *{color:#00cd00}14:03:51 ok 772 using chaincodePackage - Successfully enrolled user 'admin'{color}* *{color:#00cd00}14:03:51 ok 773 using chaincodePackage - success{color}* *{color:#00cd00}14:03:51 ok 774 using chaincodePackage0 - Successfully enrolled user 'admin'{color}* *{color:#00cd00}14:03:51 ok 775 passed check for exists same code again{color}*
{color:#5f8787}*14:03:51* # Test chaincode instantiate with event, transaction invocation with chaincode event, and query number of chaincode events{color}
 *{color:#00cd00}14:03:51 ok 776 Successfully enrolled user 'admin'{color}* *{color:#00cd00}14:03:56 ok 777 this error function should be called Error: Connect Failed{color}* *{color:#00cd00}14:03:56 ok 778 this error function should be called Error: EventHub has been shutdown due to new Peer address assignment{color}* *{color:#00cd00}14:04:26 ok 779 Successfully initialized the channel{color}* *{color:#ff0000}14:04:26 not ok 780 (unnamed assert){color}*
{color:#5f8787}*14:04:26*   ---{color}*14:04:26*     operator: fail*14:04:26*     at: Client.newDefaultKeyValueStore.then.then.then.then.then.then.then (/w/workspace/fabric-sdk-node-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/events.js:237:5){color:#5f8787}*14:04:26*   ...{color}
 *{color:#ff0000}14:04:26 not ok 781 Failed to receive chaincode event: TypeError: Cannot read property '0' of undefined{color}*
{color:#5f8787}*14:04:26*   ---{color}*14:04:26*     operator: fail*14:04:26*     at: Client.newDefaultKeyValueStore.then.then.then.then.then.then.then.then.then (/w/workspace/fabric-sdk-node-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/events.js:255:5){color:#5f8787}*14:04:26*   ...{color}
 *{color:#ff0000}14:04:26 not ok 782 Expecting a rejected promise from the 2nd transaction should be invalid{color}*
{color:#5f8787}*14:04:26*   ---{color}*14:04:26*     operator: equal*14:04:26*     expected: |-*14:04:26*       'invalid'*14:04:26*     actual: |-*14:04:26*       [TypeError: Cannot read property 'length' of undefined]*14:04:26*     at: Client.newDefaultKeyValueStore.then.then.then.then.then.then.then.then.then.then.then.then (/w/workspace/fabric-sdk-node-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/events.js:286:5){color:#5f8787}*14:04:26*   ...{color}",,ChristopherFerris,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzrb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 9:31 PM;ChristopherFerris;[~harrisob@us.ibm.com] this defect report is inadequate. What error(s)? Where is the stack trace? Which test(s) fail? [~bmos299];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] https://github.com/hyperledger/fabric-sdk-node -- two subordinate clauses in one sentence,FABN-300,15074,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 4:34 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Mar/17 3:23 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"A grammar error appears in the readme at https://github.com/hyperledger/fabric-sdk-node.  

Is now:
If the target blockchain network is configured with standard Certificate Authorities for trust anchors, {color:#d04437}then{color} the application does not need to use this package.

Should be: 
If the target blockchain network is configured with standard Certificate Authorities for trust anchors, the application does not need to use this package.


","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabcar] Failed at the pkcs11js@1.0.13 install script 'node-gyp rebuild',FABN-301,28028,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,thejibz,thejibz,26/Feb/18 10:58 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Feb/18 6:16 AM,v1.0.4,,,,,,,,,,0,centos,fabcar,node-gyp,npm,"Hello,

When following the FabCar tutorial here [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html] I got this stack when doing ""npm install"":
{code:java}
npm ERR! pkcs11js@1.0.13 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the pkcs11js@1.0.13 install script 'node-gyp rebuild'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the pkcs11js package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp rebuild
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs pkcs11js
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls pkcs11js
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /workspace/others/hl_fabric/fabric-samples/fabcar/npm-debug.log
npm ERR! code 1{code}
I had to manually follow this steps to make it works (maybe some are optionals):
 * npm install -g node-gyp
 * npm config set python /usr/bin/python
 * yum install gcc-c++

 ","{code:java}
VM: CentOS Linux release 7.4.1708 (Core)


Python: 2.7.5


NPM: 3.10.10


NodeJs: v6.12.3{code}",denyeart,harrisob@us.ibm.com,mariuslp,thejibz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,mariuslp,thejibz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Feb/18 5:17 AM;denyeart;[~harrisob@us.ibm.com] What's your opinion?;;;","27/Feb/18 6:04 AM;harrisob@us.ibm.com;We are using a much newer version of Node and NPM ... 6.9.5 / 3.10.10 or 8.9.4 / 5.6.0;;;","27/Feb/18 6:15 AM;denyeart;Ok, closing.;;;","02/Mar/18 3:57 AM;mariuslp;I have exactly the same problem.

I started with node 8.9.4/NPM 5.6.0, then downgraded to Node 6.13/NPM 3.10.10 to match the doc requirements ([http://hyperledger-fabric.readthedocs.io/en/release/prereqs.html#node-js-runtime-and-npm]), but I was not more successful. Manually downloading pkcs11js in `node_modules/` did not solve the issue either.

I'm on Windows 10, using Docker tools 18.02.0-ce. Here's the error message when using NPM 8.9
{noformat}
gyp ERR! build error
gyp ERR! stack Error: `C:\Program Files (x86)\MSBuild\14.0\bin\msbuild.exe` failed with exit code: 1
gyp ERR! stack     at ChildProcess.onExit (C:\Users\Marius\AppData\Roaming\npm\node_modules\npm\node_modules\node-gyp\lib\build.js:258:23)
gyp ERR! stack     at emitTwo (events.js:126:13)
gyp ERR! stack     at ChildProcess.emit (events.js:214:7)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:198:12)
gyp ERR! System Windows_NT 10.0.16299
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Users\\Marius\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""rebuild""
gyp ERR! cwd C:\Users\Marius\fabric-samples\fabcar\node_modules\pkcs11js
gyp ERR! node -v v8.9.4
gyp ERR! node-gyp -v v3.6.2
gyp ERR! not ok
npm WARN fabcar@1.0.0 No repository field.

npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! pkcs11js@1.0.13 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the pkcs11js@1.0.13 install script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\Marius\AppData\Roaming\npm-cache\_logs\2018-03-01T18_44_38_344Z-debug.log

{noformat}
During the install, error messages where saying that files where missing all looking like:
{noformat}
C:\Program Files (x86)\Windows Kits\10\Include\10.0.10240.0\ucrt\corecrt.h(10): fa
tal error C1083: Impossible d'ouvrir le fichier include : 'vcruntime.h' : No such
file or directory (..\src\const.cpp) [C:\Users\Marius\fabric-samples\fabcar\node_m
odules\pkcs11js\build\pkcs11.vcxproj]
{noformat}
I can't reproduce exactly the solution provided in the first post given I'm on windows, but the first part did not solve it for me.;;;","02/Mar/18 6:20 AM;thejibz;Marius, I think that in my case the most important action was the ""yum install gcc-c++ "" in order to compile the pkcs11 module, thanks to the gcc compiler. Your case seems very similar regarding the issue of compiling a C+ module.

In your place, I would double check my install of C++ compiler for Windows (Visual Studio C++ ?). If it still fail, maybe going as far as to install a tool like [mobaXterm|https://mobaxterm.mobatek.net/] and installing the [gcc plugin|https://mobaxterm.mobatek.net/plugins.html] ! (I like mobaxterm very much and there is a free version).;;;","05/Mar/18 8:13 AM;mariuslp;Thanks for you help Jean-Baptiste.

I think my compiler is up to date and working well (C/C++ version 19.12.25835).

However, I noticed that the build failed when I was using {{npm install}}, but when I clone {{pkcs11js}} in {{node_modules}}, remove the {{.git/}} subfolder and launch {{node-gyp configure}} (or rebuild) in pkcs11js folder, everything works fine. I have no problem when using yarn in place of npm also. So it's more of a node bug?

Now however I can't run {{node enrollAdmin.js}} for some reason ({{Error: Calling enrollment endpoint failed with error [Error: connect ECONNREFUSED 127.0.0.1:7054]}}), so I'm not sure everything is actually settled for this problem... Plus, I sometimes get the output {{npm WARN fabcar@1.0.0 No repository field.}} when running npm install. Don't really know what this means.

I think I'll just give up and start again in a Linux VM tomorrow.;;;","06/Mar/18 10:12 PM;mariuslp;I started again on Linux, and indeed I needed (even with node8/npm5) to install a compiler ({{apt-get install g++}} being on Debian). Thanks Jean-Baptiste!

I still have no idea about what was wrong with my Windows install though, but oh well.;;;","06/Mar/18 10:38 PM;thejibz;Great news ! Happy to help.

PS: In case you are french too, ""il faut se serrer les coudes ;)"";;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] chain.addPeer() invalid pem parameter accepted,FABN-302,12734,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,harrisob@us.ibm.com,jjjjibm,jjjjibm,24/Sep/16 3:49 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:25 AM,,,,,,,,,,,0,node-SDK,,,,"I added invalid pem parameters to chain-tests.js

if (chain.addPeer(""grpc://localhost:303030"", """")) {
			// This parameter is optional, so probably empty string should be allowed
			if (chain.addPeer(""grpc://localhost:303031"", bogusPem)) {
				// not a string, so why was it accepted?
				if (typeof bogusPem == 'string' || bogusPem instanceof String) {
					console.log(""BogusPem is a strong"");
				}
				else {
					console.log(""BogusPem is not a string"");
				}
				fail(t, ""peer pem: pem= "" + bogusPem + "" unexpectedly accepted"");
			}
			else {
				pass(t, ""peer pem"");
			}
		}
		else {
			fail(t, ""peer pem: null pem was rejected"");
		}

Here is the output:
# peer pem
BogusPem is not a string
not ok 32 Failure: [peer pem: pem= -12 unexpectedly accepted]: [undefined]

You can also hard code -12 into the test case for a similar result.

How to recreate:
Add the code fragment to one of the sdk/node/test/unit/*.js tests
Run make node-sdk-unit-tests as usual. ",vLaunch VM running master ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove ""header"" from the return value of various proposal calls",FABN-303,21330,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,jimthematrix@gmail.com,jimthematrix@gmail.com,06/Oct/17 12:07 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Oct/17 3:48 AM,,,,,,,v1.0.3,,,,0,,,,,"""header"" of the proposal used to be returned by some APIs that submit transaction proposals, so that the header field can be used in building the subsequent transaction object to send to the orderer. that has since been changed so that the header is built from the proposal object, so that it's not needed from the return object any longer. should remove that before more apps incidentally rely on that.

 

[https://github.com/hyperledger/fabric-sdk-node/blob/3d92b6178a060e0266934fd632e8f5ed5a76b14f/fabric-client/lib/Client.js#L876]",,harrisob@us.ibm.com,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyifz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/17 3:48 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14263/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Constantly see warning - The primary peer must be on this chain's peer list ,FABN-304,15572,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,dshuffma,dshuffma,05/Apr/17 5:45 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,27/May/17 3:01 PM,v1.0.0,,,,,,,,,,0,node-SDK,,,,"So I constantly get this message ""The primary peer must be on this chain\'s peer list"".  I don't think this check is right!  Here is the SDK code.

{code:javascript}
setPrimaryPeer(peer) {
		if(peer) {
			for (let i = 0; i < this._peers.length; i++) {
				if (this._peers[i] === peer) {               //<---- not what we want
					this._primary_peer = this._peers[i];
					return;
				}
			}
		}
		throw new Error('The primary peer must be on this chain\'s peer list');
	}
{code}

You are comparing 1 object to another... This isn't going to work out. You could change it to the peer's url and that would be enough for most things.  If we are super paranoid that the TLS settings have changed then the url check will miss that...  If this matters, you can JSON.stringify the objects and compare the strings, but order can be tricky. In practice order of the keys should be kept, but it may reshuffle in some bizarre scenario.  Therefore another idea would be to just concat all the fields that are important into 1 string and compare each string.

ie:

{code:javascript}
setPrimaryPeer(peer) {
		if(peer) {
			for (let i = 0; i < this._peers.length; i++) {
				if (buildStr(this._peers[i]) === buildStr(peer)) {
					this._primary_peer = this._peers[i];
					return;
				}
			}
		}
		throw new Error('The primary peer must be on this chain\'s peer list');
	}
function buildStr(obj){
     return obj.getUrl() + obj.mythicalGetPemAsStr();
}
{code}

I would think comparing URLs is good enough, but you guys might know better.

Currently its not a huge problem b/c it will throw the error and then default to peer[0] and that's the one I want anyway. But its in the logs. and not ideal.


",,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-633,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx47z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 8:29 AM;jimthematrix;[~cdaughtr] this should be resolved together with your work on FAB-2991;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk-node e2e tests are failing on latest sdk-node commits,FABN-305,16055,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,rameshthoomu,rameshthoomu,27/Apr/17 11:52 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,03/May/17 11:27 AM,,,,,,,,,,,0,node-SDK,quality,,,"observed sdk-node e2e tests are failing. orderer is exiting with the  below error message.

{code:java}

[36morderer0    |[0m [35m2017-04-27 13:03:26.783 UTC [orderer/multichain] newLedgerResources -> CRIT 053[0m Error creating configtx manager and handlers: Error deserializing key ChainCreationPolicyNames for group /Channel/Orderer: Unexpected key ChainCreationPolicyNames
[36morderer0 exited with code 1
{code}

dockerlog file:
https://jenkins.hyperledger.org/sandbox/job/e2e_FIT_x86_64/5/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/dockerlogfile.log

*Fabric Commits:*

{code:java}
=======> FABRIC PEER COMMIT NUMBER - 62aec85 
=======> FABRIC CA COMMIT NUMBER - b4ce73f 
=======> FABRIC SDK NODE COMMIT NUMBER - 52b8e67
{code}
",,rameshthoomu,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrhz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/17 10:28 PM;rameshthoomu;[~jimthematrix] observed below error in node sdk docker log file:

{code:java}

[33mca_peerOrg2 |[0m 2017/05/01 02:49:05 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
[36mca_peerOrg1 |[0m 2017/05/01 02:49:05 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
[36mca_peerOrg1 |[0m Error: Incorrect format in file '/etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml': 1 error(s) decoding:
[36mca_peerOrg1 |[0m 
[36mca_peerOrg1 |[0m * 'LDAP.TLS.CertFiles': source data must be an array or slice, got string
[36mca_peerOrg1 |[0m Usage:
[36mca_peerOrg1 |[0m   fabric-ca-server start [flags]
{code}

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/350/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/node_dockerlogfile.log;;;","03/May/17 11:27 AM;rameshthoomu;sdk-node e2e tests are working as expected after below patch merged https://gerrit.hyperledger.org/r/#/c/8823/ in fabric-sdk-node repository. Tested and verified e2e tests on fabric-sdk-node repository and observed it's working as expected. Below is the build reference https://jenkins.hyperledger.org/view/FIT/job/FIT-node-x86_64/451/

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Determining where to install chaincode to from a Common Connection Profile,FABN-306,22466,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:43 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Oct/17 8:30 PM,v1.1.0,,,,,,v1.1.0,,,,0,,,,,"A request to install chaincode looks like this
{code}
                const request = {
                    chaincodePath: chaincodePath,
                    chaincodeVersion: runtimePackageJSON.version,
                    chaincodeId: businessNetworkIdentifier,
                    txId: txId,
                    targets: array of peers
                };
{code}
I was expecting not to have to supply targets property and that the node sdk would do it for me. However that didn't work so I tried to implement my own version as follows
{code}
    static getInstallPeers(client) {
        let installPeers = [];
        let orgConfig = HLFConnection.getOrgConfig(client);
        if (orgConfig) {
            let peers = orgConfig.getPeers();
            peers.forEach((peer) => {
                //TODO: Need to be able to determine if it is a 'endorsingPeer' or a 'chaincodeQuery' peer
                // but can't at the moment, so will just all them all.
                installPeers.push(peer);
            });
        }
        return installPeers;
    }
{code}
The plan being was to look for peers within my client defined organisation that had the flags 'endorsingPeer' and 'chaincodeQuery' set to true or peers that didn't declare those optional entries (ie explicitly exclude ones set to false). These are defined in the CCP and are in my yaml definition but it looks like it isn't processed by the CCP processor of the node sdk. 
As a start it would be good to have those entries processed but ideally the node sdk should make perform the decision processing of which peers to install to based on information in the CCP. (Snippet of CCP I had defined)
{code}
channels:
  composerchannel:
    orderers:
      - orderer.example.com
    peers:
      peer0.org1.example.com:
        endorsingPeer: true
        chaincodeQuery: true
        ledgerQuery: true
        eventSource: true

organizations:
{code}",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/17 2:02 AM;harrisob@us.ibm.com;The install of chain code is not for a specific channel, just for a peer. The chain code could then be instantiated on any channel. The connection profile tags a peer by the role that peer will have within the channel. So at chain code install time we do not have a channel to look at to find a peers role.

I guess we could default to the first channel found ?;;;","19/Oct/17 5:46 AM;davidkel;Ahh, that's true. I only considered a single channel per CCP as this is what Composer currently does. 
That makes me think that an install should be able to select the channel as the installation of chaincode is usually specific to the channel it is going to be running on. It could also take an array as well if you want to install the chaincode onto multiple channels. If no channel is given, then it's debatable whether an error should be thrown or the first channel in the CCP is chosen.;;;","19/Oct/17 5:54 AM;harrisob@us.ibm.com;How about on install of chain code I build a list of all the peers in the current clients assigned organization ?

On instantiate, since this is on a channel, will build a list based on the channel's peers that are endorsers or chain code query and in the current organization?;;;","19/Oct/17 6:08 AM;davidkel;Another thought would be that if no channel(s) is/are provided, then the caller should explicitly provide the list of peers to install the chaincode on as part of the request targets property.;;;","19/Oct/17 6:14 AM;davidkel;Sorry Bret, I didn't see your comment until after I posted mine. For install it probably isn't too big a deal just to install the chaincode on every peer in your organisation. 
For instantiate in Fabric 1.0 you only need to send instantiate to 1 peer in the channel that is either an endorser or chaincode query. But I gather there may be some changes coming in 1.1 that might affect this ? ;;;","19/Oct/17 6:32 AM;harrisob@us.ibm.com;Oh right I forgot about those changes coming, the whole instantiate is going to change... I think it is going to be more like the create channel, with all the signatures. So for now I will not make any changes to the channel instantiate.

I guess I could look for channel id in the request object and if that is there get the peers from that or default to all peers in the org;;;","20/Oct/17 4:00 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14699/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node unit tests fails on V0.6 branch,FABN-307,12621,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,angrbrd,Ratnakar,Ratnakar,09/Sep/16 1:46 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Sep/16 4:32 AM,,,,,,,v0.6,,,,0,node-SDK,,,,"1. Downloaded the code from gerrit 
   
{code:java}
git clone http://gerrit.hyperledger.org/r/fabric
{code}

2. switched v0.6 branch
   
{code:java}
git checkout v0.6
{code}

3. vagrant up && vagrant ssh
4. *make all* passes (Unit and behave tests are passing)
5. *make node-sdk-unit-tests* fails with below error (logs: node_unit_test_failures.txt)
    
{code:java}

npm WARN locking Error: EACCES, open '/home/vagrant/.npm/_locks/debug-b66ad9a0837e9304.lock'
npm WARN locking     at Error (native)
npm WARN locking  /home/vagrant/.npm/_locks/debug-b66ad9a0837e9304.lock failed { [Error: EACCES, open '/home/vagrant/.npm/_locks/debug-b66ad9a0837e9304.lock']
npm WARN locking   errno: -13,
npm WARN locking   code: 'EACCES',
npm WARN locking   path: '/home/vagrant/.npm/_locks/debug-b66ad9a0837e9304.lock' }
{code}


6. Tried with sudo
   *sudo make node-sdk-unit-tests* and fails with below error (logs: node_unit_tests_with_sudo.txt )
   

{code:java}
tsc
make[1]: tsc: Command not found
make[1]: *** [hfc] Error 127
make[1]: Leaving directory `/opt/gopath/src/github.com/hyperledger/fabric/sdk/node'
make: *** [node-sdk-unit-tests] Error 2

{code}


After cherry picking the patch from https://gerrit.hyperledger.org/r/#/c/949/1/sdk/node/Makefile, I see some of the tests are passing.
However I see *chain-tests* are still failing (see logs : Failure_After_patch.txt)

{code:java}

BEGIN running chain-tests ...
/opt/gopath/src/github.com/chaincode_example02 already exists
$DEPLOY_MODE: net
TAP version 13
# Set Invalid security level and hash algorithm.
not ok 1 Setting an invalid security level should fail. Allowed security levels are '256' and '384'.
  ---
    operator: fail
    at: Test.<anonymous> (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:143:11)
  ...
ERROR running chain-tests!
finished chaincode_example02
END running chain-tests

{code}
",,bmos299,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/16 1:46 AM;Ratnakar;Failure_After_patch.txt;https://jira.hyperledger.org/secure/attachment/10066/Failure_After_patch.txt","09/Sep/16 1:45 AM;Ratnakar;node_unit_test_failures.txt;https://jira.hyperledger.org/secure/attachment/10067/node_unit_test_failures.txt","09/Sep/16 1:45 AM;Ratnakar;node_unit_tests_with_sudo.txt;https://jira.hyperledger.org/secure/attachment/10068/node_unit_tests_with_sudo.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx9zb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/16 3:48 AM;bmos299;Changed priority to highest. ;;;","09/Sep/16 5:36 AM;jimthematrix;already aware of this, [~angrbrd] and [~rennman] hit this issue yesterday and were looking into a fix. Anya submitted a patch but was told a change was needed. not sure where she's with that.;;;","21/Sep/16 4:37 AM;Ratnakar;Verified with latest code and donot see the issue any more.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer crashed when launched with docker-compose.yaml,FABN-308,15242,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,07/Mar/17 12:51 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 1:01 PM,,,,,,,,,,,0,,,,,test/fixtures/channel/docker-compose.yaml uses a genesis block generated from before a breaking change in the config block proto. as a result the orderer crashes on start up.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx73j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] test.js restore old coverage report for gulp test-headless,FABN-309,14819,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,16/Feb/17 6:15 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Feb/17 3:08 AM,,,,,,,v1.0.0,,,,0,,,,,"Jim Zhang has re-organized the fabric-sdk-node test directory.  See issue FAB-2164
 and https://gerrit.hyperledger.org/r/#/c/5943/ for the story of the re-organization.

He also switched the unit test coverage report to a Coberatura xml file.  Insofar as the Coberatura report doesn't render in a browser (missing xml style file), we miss the old coverage report. 

Solution: 
The solution is to generate both.   I changed the test-headless reporter configuration to  reporters: [ 'lcov', 'json', 'text', 'text-summary', 'coberatura'].  


Edit: In my testing, whether I enter 'gulp test' or 'gulp test-headless', I see the old HTML coverage report.  ","Vlaunch VM running Ubuntu.  Firefox browser for reading coverage reports.
node-SDK: commit 691af6351dcd7b19c90572fce546990c1ccc626d
fabric: commit 4cc8d04f900cd2b96e8204c67f257345c3612aad
fabric-ca: commit 70ae36d9204b174efb85c3376aab9bf830153d04


",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-73,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxl4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Feb/17 12:26 AM;jjjjibm;commit 59a96cef155d311d51f114e070f415a3f87e89e4
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Wed Feb 15 19:21:43 2017 -0500

    node-SDK FAB-2258 restore HTML coverage report

    This change sets the reporter configuration for gulp task
    test-headless to ['lcov', 'json', 'text', 'text-summary',
    'cobertura'], generating both HTML and XML coverage reports.

    Change-Id: Id08da35c54da51a97b50e36ad04989ccdd8b5f17
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move examples/balance-transfer sample web app to fabric-samples repo,FABN-310,18660,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,26/Jun/17 4:26 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Jun/17 7:48 PM,,,,,,,,,,,0,,,,,"The balance-transfer sample is a web application that demonstrates the bare minimum of implementing a web application using the node.js SDK:
- how to map between an authenticated user (using a browser-friendly JWT token) and a ""blockchain identity"" (represented by enrollment certificate)
- how to manage two types of blockchain identities: ""organization admins"" and ""organization members""
- how to dynamically enroll organization members with fabric-ca
- how to use various fabric APIs in the SDK to create/update channels, install/instantiate chaincodes, invoke transactions and make queries

Move the sample to the new repo for sample apps for more prominent exposure and avoid the situation where others in the community may think we don't have a sample web app and duplicate the work",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5q7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dev,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Jun/17 4:27 AM;jimthematrix;[~harrisob@us.ibm.com] [~Ratnakar];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] chaincode event support (aka custom events plug-in) test,FABN-311,12795,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,pmullaney,jjjjibm,jjjjibm,28/Sep/16 5:13 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/May/17 6:18 AM,,,,,,,,,,,0,node-SDK,,,,"Create and implement a test plan for the node-sdk -custom event plug-in- +chaincode event support.
+
'Custom events' is synonymous with chaincode events.  Using the term plug-in is misleading.   Here is a chat concerning nomenclature.


pmullaney [1:11 PM]  
right

[1:13]  
plug-in implies that you need a special piece of software loaded for something to work

jjjjibm [1:13 PM]  
yes, and I wasn't seeing that

[1:13]  
maybe it was a plug-in at one time :slightly_smiling_face:

new messages
pmullaney [1:13 PM]  
so thats not the case, chaincode events has support in the sdk and on the fabric side by default",,inatatsu,jjjjibm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8fb:",,,,,,Sprint 2,Sprint 5 - Consensus,,,,,,,,,,,,,,,,,,,,,inatatsu,jjjjibm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/16 2:18 AM;jjjjibm;'Custom events' is synonymous with chaincode events. Using the term plug-in is misleading. Here is a chat concerning nomenclature.

pmullaney [1:11 PM] 
 right

[1:13] 
 plug-in implies that you need a special piece of software loaded for something to work

jjjjibm [1:13 PM] 
 yes, and I wasn't seeing that

[1:13] 
 maybe it was a plug-in at one time :slightly_smiling_face:

new messages
 pmullaney [1:13 PM] 
 so thats not the case, chaincode events has support in the sdk and on the fabric side by default
;;;","04/May/17 6:18 AM;jimthematrix;this was already addressed by rest/integration/events.js that [~pmullaney] wrote;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - PKCS11 support needs to configure usertype and readwrite properly with HSMs,FABN-312,27812,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Feb/18 3:23 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Feb/18 3:25 AM,,,,,,,v1.0.3,v1.1.1,,,0,,,,,"Applications will required the ability to configure the usertype and readwrite settings when starting a session with an HSM card.

the following types of users are defined and should be allowed to be selectable by the application when loging into the service.

CKU_SO

CKU_USER

CKU_CONTEXT_SPECIFIC

Applications will also require the ability to set read/write or read-only on the session.

 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-359,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/18 3:56 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18013/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Timeouts not supported in Node SDK Common Connection Profile,FABN-313,22491,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,davidkel,davidkel,19/Oct/17 5:38 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Oct/17 10:47 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"The CCP Defines some timeouts in the client section as follows
{code}
client:
  # Which organization does this application instance belong to? The value must be the name of an org
  # defined under ""organizations""
  organization: Org1

  # set connection timeouts for the peer and orderer for the client
  connection:
    timeout:
     peer:
      endorser: 3s
      eventHub: 3s
      eventReg: 3s
     orderer: 3s
{code}
But it doesn't look like these are used in the node sdk implementation of the CCP. I have managed to get around this for now (as the 45 second default was not long enough for instantiation in our system test runs) by putting request-timeout as a grpcOption entry in the definitions in the CCP I use
{code}
'peers': {
                                'peer0.org1.example.com': {
                                    'url': 'grpcs://localhost:7051',
                                    'eventUrl': 'grpcs://localhost:7053',
                                    'grpcOptions': {
                                        'ssl-target-name-override': 'peer0.org1.example.com',
                                        'request-timeout': 300 * 1000
                                    },
                                    'tlsCACerts': {
                                        'path': './hlfv1/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt'
                                    }
                                },
                                'peer0.org2.example.com': {
                                    'url': 'grpcs://localhost:8051',
                                    'eventUrl': 'grpcs://localhost:8053',
                                    'grpcOptions': {
                                        'ssl-target-name-override': 'peer0.org2.example.com',
                                        'request-timeout': 300 * 1000
                                    },
                                    'tlsCACerts': {
                                        'path': './hlfv1/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt'
                                    }
                                }
{code}
Luckily although not a grpcOption setting the entry did allow me to alter the timeout. So I am wondering whether the option will still work or will it be removed when the other timeout capabilities are implemented ?",,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyk1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/17 10:27 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/14723/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete marbles.js from integration test suite,FABN-314,14003,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,11/Jan/17 3:05 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Jun/17 4:54 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,we have left the marbles.js behind so that we don't do dual maintenance with it and end-to-end.js. But at some point it should be updated to work with the latest fabric and SDK.,,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4b3:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/17 4:01 AM;ChristopherFerris;isn't this in progress? [~mastersingh24];;;","06/Jun/17 2:58 AM;jimthematrix;this one is referring to the fabric-sdk-node/test/integration/marbles.js, which at one point was used to demonstrate the JSON based chaincode state handling, based on the chaincode that [~denyeart] wrote. But the application code is not any different than using any other chaincodes. Nor does it really test anything additional that the rest of the integration test suite has not tested.

we should just delete the marbles.js and the chaincode.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getChannel does not implement `throwError` flag as specified in Docs,FABN-315,27357,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,aaroncolaco,aaroncolaco,aaroncolaco,02/Feb/18 5:56 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/Feb/18 6:12 PM,,,,,,,,,,,0,,,,,"Docs mention a `throwError` flag (default=true) to specify if an error is to be thrown if channel does not exist in memory. 

`getChannel` in `Client.js` does not accept such flag.",,aaroncolaco,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyvqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,aaroncolaco,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Feb/18 5:59 PM;aaroncolaco;I'd like to fix this if you assign it to me.

[~hl-admin] [~mastersingh24] ;;;","02/Feb/18 6:12 PM;aaroncolaco;Oh! I found that it has been fixed in `FAB-7787`

But it hasn't reflected in the [GitHub repo|https://github.com/hyperledger/fabric-sdk-node/blob/release/fabric-client/lib/Client.js#L133]  so I didn't know earlier.

 

Closing this issue now.

[~hl-admin] [~mastersingh24];;;","03/Feb/18 3:22 AM;ryjones;[~aaroncolaco] The default branch in github is the release branch - if you switch to master FAB-7787 should be reflected;;;","05/Feb/18 1:46 PM;aaroncolaco;[~ryjones] Thanks! :) ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk docs out of sync with fabric-docs,FABN-316,18270,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,ChristopherFerris,ChristopherFerris,18/Jun/17 11:59 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Jun/17 2:06 AM,v1.0.0-beta,,,,,,v1.0.0-rc1,,,,0,Documentation,,,,"The Node SDK documentation needs to have a complete review to fix any broken or incorrect references, and to re-align with the changes being made to support build-your-first-network and write-your-first-application. Specifically, there are references to Getting Started, which is now just a landing page for a pair of tutorials. The reference should be to building the network.

Further, we need to be sure that there is alignment in the prerequisites. It should be that the SDK docs defer completely to Fabric docs for any prerequisites and add only those that are unique to the Fabric SDK.",,ChristopherFerris,weeds,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,Not a security issue,,,,FAB-4518,,,,,,,FAB-4858,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3jr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,weeds,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/17 5:46 AM;Clayton Sims;CR [https://gerrit.hyperledger.org/r/#/c/10795/]

 ;;;","21/Jun/17 6:02 AM;weeds;gerrit 10795;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK rewrites user and public key files during getUserContext,FABN-317,20654,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,sstone1,sstone1,07/Sep/17 4:25 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Oct/17 7:23 PM,,,,,,,v1.0.4,,,,0,,,,,"In Composer, we use the getUserContext call to load a user from the state store.

If the user is already enrolled, and we already have certificates/keys for that user, I would not expect the Node.js SDK to write any files to disk.

However, it seems that getUserContext rewrites the user file (admin, PeerAdmin, WebAppAdmin, etc) and the public key file. The private key file does not get overwritten. As far as I can see the contents being written are always the same.

This is easy to recreate using chmod - just chmod 400 (read-only) the files in the keyValStore. When I use the following files and permissions:
{code:java}
$ ls -lart
total 24
drwxr-xr-x+ 115 sstone1  staff  3910  5 Sep 09:44 ..
-r--r--r--    1 sstone1  staff   246  7 Sep 08:07 114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457-priv
drwxr-xr-x    5 sstone1  staff   170  7 Sep 08:07 .
-r--r--r--    1 sstone1  staff  1024  7 Sep 08:13 PeerAdmin
-r--r--r--    1 sstone1  staff   182  7 Sep 08:13 114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457-pub{code}
I see the following error when calling getUserContext:
{code:java}
Error trying login and get user Context. Error: EACCES: permission denied, open '/Users/sstone1/.composer-credentials/114aab0e76bf0c78308f89efc4b8c9423e31568da0c340ca187a9b17aa9a4457-pub'
{code}
If I chmod 644 the public key file, I then see the following error when calling getUserContext:
{code:java}
Error trying login and get user Context. Error: EACCES: permission denied, open '/Users/sstone1/.composer-credentials/PeerAdmin'
{code}
I believe this is happening because getUserContext calls setUserContext, but does not set persistence to false, meaning setUserContext calls saveUserToStateStore.

We have experienced difficulties with sharing keyValStore directories across multiple machines using Docker, as you have to always chmod/chown the directories so that they can be written to - even if they contain enough information to submit transactions.

Another team has also seen sporadic errors around trying to call getUserContext, where one of the files seems to be missing, truncated, or contain invalid JSON. This scenario is a bit unusual, where they were calling getUserContext on a regular basis across multiple parallel requests. I suspect that it's possible that as the SDK rewrites the file there is a timing window where another request sees a deleted or truncated file and then fails.",,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/17 3:44 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14089/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode that was deployed using NodeSDK Becomes Unusable,FABN-318,12491,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,Ratnakar,Ratnakar,20/Aug/16 11:51 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,01/Oct/16 1:55 AM,v0.6,,,,,,v0.6,,,,0,node-SDK,,,,"*Description*

Chaincode that was deployed using NodeSDK becomes unusable. This occurs after you deploy/invoke/query the chaincode with the Node SDK. The next step is the user takes the chaincode id and does a query using the REST API with a different enrolled user. The query fails using the REST API. If you then go back to the Node SDK using this chaincode ID, it fails doing invokes and queries as well. 

*How to Reproduce*

#     setup a 4-peer network with pbft-batch, security and privacy enabled
#     Registered test_user0 and test_user1 and Deployed chaincode_example02, with values a=100 and b=200, using nodesdk apis (attached node program used to test this scenario)
#     Once deploy is successful through NodeSdk , Register test_user2 and use chaincodeID from previous deployment and make a REST call to Query on A , using PostMan (Or any REST Client)
It fails with below error:
{code:java}
'Error:Failed to execute transaction or query(Timeout expired while executing transaction)'
{code}
# Now this time, try to Query chaincode from the node program,it fails too with a different error
{code:java}
""Error:Failed to launch chaincode spec(Could not get deployment transaction for 9c5ceb563bbb5240450f4c0ae77bc6c4b6c069f976433dce6b78cc95651494ab - LedgerError - ResourceNotFound: ledger: resource not found)
{code}


*NOTE:*
*     Logs of all peers *logs.zip* attached for reference.
*     Node program *helloblockchain.js* used for testing.
*     Logs *node_logs.txt* from node program execution.
*     PostMan Rest client screenshots.",,jimthematrix,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Aug/16 11:51 AM;Ratnakar;539080d0-5e5c-11e6-90f3-c149e755525c.png;https://jira.hyperledger.org/secure/attachment/10012/539080d0-5e5c-11e6-90f3-c149e755525c.png","20/Aug/16 11:51 AM;Ratnakar;53a338d8-5e5c-11e6-9eab-0766329f2d6f.png;https://jira.hyperledger.org/secure/attachment/10013/53a338d8-5e5c-11e6-9eab-0766329f2d6f.png","20/Aug/16 11:51 AM;Ratnakar;helloblockchain.js;https://jira.hyperledger.org/secure/attachment/10011/helloblockchain.js","20/Aug/16 11:51 AM;Ratnakar;logs.zip;https://jira.hyperledger.org/secure/attachment/10010/logs.zip","20/Aug/16 11:51 AM;Ratnakar;node_logs.txt;https://jira.hyperledger.org/secure/attachment/10009/node_logs.txt",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 7:51 PM;mastersingh24;I think this was resolved by no longer generating a UUID for the deploy transaction?   [~angrbrd] can you verify this is correct and if so please close this and include the link to the pull request if possible?;;;","30/Sep/16 1:29 AM;Ratnakar;[~angrbrd]

I still observe the issue on *Fabric 0.6 branch* with *hfc@0.6.2*
I don't see any change in the logs as well


{code:java}
16:24:10.250 [rest] Register -> INFO 035 REST client login...
16:24:10.250 [rest] Register -> INFO 036 Local data store for client loginToken: /var/hyperledger/production/client/
16:24:10.250 [rest] Register -> INFO 037 Logging in user 'test_user0' on REST interface...
16:24:10.250 [crypto] RegisterClient -> INFO 038 Registering client [test_user0] with name [test_user0]...
16:24:10.791 [crypto] Info -> INFO 039 [client.test_user0]  Register crypto engine...
16:24:10.791 [crypto] Info -> INFO 03a [client.test_user0]  Register crypto engine...done.
16:24:10.791 [crypto] RegisterClient -> INFO 03b Registering client [test_user0] with name [test_user0]...done!
16:24:10.791 [rest] Register -> INFO 03c Storing login token for user 'test_user0'.
16:24:10.791 [rest] Register -> INFO 03d Login successful for user 'test_user0'.
16:24:18.720 [rest] ProcessChaincode -> INFO 03e REST processing chaincode request...
16:24:18.720 [rest] processChaincodeInvokeOrQuery -> INFO 03f REST query chaincode...
16:24:18.721 [rest] processChaincodeInvokeOrQuery -> INFO 040 Local user 'test_user0' is already logged in. Retrieving login token.
16:24:18.721 [devops] invokeOrQuery -> INFO 041 Transaction ID: 33156d15-4e5a-4eff-a03a-54fd7a8e4974
16:24:18.721 [crypto] InitClient -> INFO 042 Initializing client [test_user0]...
16:24:18.943 [crypto] InitClient -> INFO 043 Initializing client [test_user0]...done!
16:24:19.265 [chaincode] func1 -> ERRO 044 [33156d15]Got error (error getting crypto encryptor Confidentiality protocol versions are different.) while decrypting. Sending ERROR
16:24:19.265 [chaincode] processStream -> ERRO 045 Got error: [33156d15-4e5a-4eff-a03a-54fd7a8e4974]Chaincode handler FSM cannot handle message (ERROR) with payload size (79) while in state: ready
16:24:19.265 [chaincode] processStream -> ERRO 046 [33156d15]Error handling message, ending stream: [33156d15-4e5a-4eff-a03a-54fd7a8e4974]Chaincode handler validator FSM cannot handle message (ERROR) with payload size (134) while in state: ready
16:24:49.264 [crypto] closeClientInternal -> INFO 047 Closing client [test_user0]...
16:24:49.275 [rest] processChaincodeInvokeOrQuery -> ERRO 048 Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)
16:24:49.276 [rest] ProcessChaincode -> INFO 049 REST successfully query chaincode: {""jsonrpc"":""2.0"",""error"":{""code"":-32003,""message"":""Query failure"",""data"":""Error when querying chaincode: Error:Failed to execute transaction or query(Timeout expired while executing transaction)""},""id"":5}

{code}
;;;","01/Oct/16 1:36 AM;jimthematrix;I did the following test in trying to reproduce this error:
- with fabric v0.6, in vagrant, start a network using docker-compose-4-consensus-batch.yaml, mapping ports 7050, 7051, 7053 on vp0
- use the node.js program above, modifying the peer address to grpc://localhost:7051
- npm install hfc (which resulted in v0.6.2 to be installed)
- copy the chaincode_example02 from the fabric/examples folder to $GOPATH/src/github.com/
- unzip the vendor.zip from https://github.com/ratnakar-asara/NodeSdkSample/tree/master/events/src/eventsender to the $GOPATH/src/github.com/chaincode_example02/vendor
- run the program ""node app.js""
- after successful enrollment, chaincode deploy and transaction invocation by the app.js, use REST API to:
- login use ""lukas""
- use ""lukas"" to send transactions and query

All of the above succeeded without any problems. I did this with [~Ratnakar] sitting by my side. So it seems the original issue had been fixed already. As such, closing the bug.;;;","01/Oct/16 1:37 AM;jimthematrix;these are the commands I used:

curl -H ""ContentType: application/json"" -X POST -d '{""enrollId"":""lukas"",""enrollSecret"":""NPKYL39uKbkj""}' http://localhost:7050/registrar

curl -H ""ContentType: application/json"" -X POST -d '{""jsonrpc"":""2.0"",""method"":""query"",""params"":{""type"":1,""chaincodeID"":{""name"":""105080bcb2b2a529a1c1fec2d99767c84874fb3e20dbde9fedbea8b7e6b3897d""},""ctorMsg"":{""function"":""query"",""args"":[""a""]},""secureContext"":""lukas""},""id"":1}' http://localhost:7050/chaincode

curl -H ""ContentType: application/json"" -X POST -d '{""jsonrpc"":""2.0"",""method"":""invoke"",""params"":{""type"":1,""chaincodeID"":{""name"":""105080bcb2b2a529a1c1fec2d99767c84874fb3e20dbde9fedbea8b7e6b3897d""},""ctorMsg"":{""function"":""invoke"",""args"":[""a"",""b"",""20""]},""secureContext"":""lukas""},""id"":1}' http://localhost:7050/chaincode


;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Block.js decode should give a warning on using the ""MSP"" policy type",FABN-319,16306,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,04/May/17 5:56 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/May/17 3:34 AM,,,,,,,,,,,0,,,,,as of v1.0 this policy type is not supported even though it's defined in the protobuf. the SDK should print out a warning in the logger if this is discovered in a configuration input.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 6:01 AM;jimthematrix;https://gerrit.hyperledger.org/r/8921;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
member.isRegistered() API returned 'true' even for an invalid user,FABN-320,12452,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Nishi,Nishi,18/Aug/16 1:13 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Aug/16 2:22 AM,,,,,,,,,,,0,.6,node-SDK,,,"Following is a snippet of code which returned 'true' for a non-existing user neither in membersrvc.yaml  nor registered using API.

test('Is Registered NOT OK', function (t) {
  getUser('XYZ123', function (err, user) {
  if (user.isRegistered()) {
    console.log("" How can this user be registered??? "")
    fail(t, ""passed isReg how?"");
  }else {
      console.log(""from isReg failed, it is OK"")
      pass(t, ""Since 'XYZ123' is an invalid user. Test case fail OK"");
  }
  })
});",,2020Nishi,Nishi,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,2020Nishi,Nishi,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/16 10:32 PM;smithbk;This is a node SDK issue, not membersrvc.  So I changed the tag and assignee.;;;","24/Aug/16 2:22 AM;2020Nishi;isRegistered() API returns false for an invalid user.
This was a mistake in the test case.

Hence closing the issue

Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update hfc v0.6.2 in npm for the latest changes for FAB-392,FABN-321,12943,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,angrbrd,jimthematrix,jimthematrix,11/Oct/16 3:24 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Oct/16 12:46 AM,,,,,,,v0.6,,,,0,.6,node-SDK,,,fixes for this defect had changes in node.js SDK code. so need to update the npm package.,,angrbrd,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcuf:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,angrbrd,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/16 11:13 PM;jimthematrix;[~angrbrd] now that v0.6 branch was finalized, please start working on updating the npm. thanks!;;;","18/Oct/16 12:42 AM;angrbrd;This change needs to be merged into v0.6 to keep the package version in sync with npm.
https://gerrit.hyperledger.org/r/#/c/1815/1;;;","18/Oct/16 12:46 AM;angrbrd;hfc version 0.6.3 is now published. Closing this bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK a.ledger_height.compare is not a function,FABN-322,31214,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,dongming,dongming,20/Jun/18 10:42 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/Jun/18 7:53 AM,,,,,,,v1.2.0,,,,0,,,,,"All proposals PTE sent thru SDK and get back the error from SDK when using service discovery along with fabric-ca-client@1.2.0-snapshot.67 and fabric-client@1.2.0-snapshot.67, encounter this error from SDK

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[34mdebug^[[39m: [DiscoveryEndorsementHandler]: _modify_groups - chaincode_plan:\{""groups"":\{""G0"":\{""peers"":[\{""mspid"":""PeerOrg2"",""endpoint"":""peer1.org2.example.com:7064"",""ledger_height"":\{""low"":2,""high"":0,""unsigned"":true},""chaincodes"":[\\{""name"":""sample_cc_ch1"",""version"":""v0""}],""name"":""peer1.org2.example.com:7064""},\{""mspid"":""PeerOrg2"",""endpoint"":""peer0.org2.example.com:7063"",""ledger_height"":\{""low"":2,""high"":0,""unsigned"":true},""chaincodes"":[\\{""name"":""sample_cc_ch1"",""version"":""v0""}],""name"":""localhost:7063""}]}},""layouts"":[\\{""G0"":1}],""endorsements"":\{}}

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[31merror^[[39m: [Channel.js]: sendTransactionProposal - Failed Proposal. Error: TypeError: a.ledger_height.compare is not a function
 at un_sorted.sort (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/impl/DiscoveryEndorsementHandler.js:276:33)
 at Array.sort (native)
 at DiscoveryEndorsementHandler._modify_groups (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/impl/DiscoveryEndorsementHandler.js:275:29)
 at DiscoveryEndorsementHandler._endorse (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/impl/DiscoveryEndorsementHandler.js:130:9)
 at DiscoveryEndorsementHandler.endorse (/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/impl/DiscoveryEndorsementHandler.js:109:16)
 at <anonymous>
 at process._tickCallback (internal/process/next_tick.js:188:7)

^[[32minfo^[[39m: [PTE 0 main]: stderr: ^[[31merror^[[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_move_const_evtBlock] Failed to send transaction proposal due to error: TypeError: a.ledger_height.compare is not a function

 ",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 10:51 PM;dongming;67.log;https://jira.hyperledger.org/secure/attachment/15126/67.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Jun/18 1:37 AM;dongming;retest with fabric-ca-client@1.2.0-snapshot.72 and fabric-client@1.2.0-snapshot.72 successfully;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] chain.eventHubDisconnect() description is wrong ,FABN-323,12978,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,pmullaney,jjjjibm,jjjjibm,12/Oct/16 2:39 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:22 AM,,,,,,,,,,,0,node-SDK,,,,"The documentation for chain.eventHubDisconnect is incorrect: 

eventHub*Disconnec**t
*eventHub*Disconnect*(): void

Defined in src/hfc.ts:578



Set and* connect *to the peer to be used as the event source.

Returns void

Recreate:
1.Clone the fabric/sdk/node directory as usual
2.Make doc
3.Find eventHubDisconnect in the chain class documentation",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/CryptoSuite_ECDSA_AES.html  -- describe parameters and results,FABN-324,15163,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,02/Mar/17 11:18 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,,,,,0,node-SDK,,,,"The generated documentation for class CryptoSuite_ECDSA_AES has a couple issues.

Mostly I complain the parameters and results aren't described.  But 6a, 8a, and 10 are different issues.

(1)
Generated documentation:
_decrypt()   /* no parameters */
_Actual code:
_+_decrypt(key, cipherText, opts)   /* parameters that should be documented_+_

Documenting the inputs will also help this generated remark make sense:
_The opts argument should be appropriate for the algorithm used.
_D

(2) Here's another
Generated document:
deriveKey()   /* incidentally, I like the way the document says To be implemented.  This will help if this method is not implemented by our first release.

Actual code:
deriveKey(key, opts) 

(3) 
encrypt()  vs encrypt(key, plaintext, opts)
I like the way it throws an error so users won't be confused if they try this before it is implemented

(4) 
generateKey()  vs  generateKey(opts)
This one is implemented 

(5) 
getKey()       vs  getKey(ski)

(5a) Subject Key Identifier ski. --> Subject Key Identifier (ski).

(6)  hash()   vs   hash(msg, opts)

 (6a) Hashes {color:#205081}messages msg{color} using options opts.
===>{color:#205081} messages msg {color}needs to be cleaned up, but this may be moot once the parameters are documented.  

(7) importkey() vs  importKey(raw, opts)

(8) sign()  vs sign(key, digest, opts)

(8a) in sign() ""The opts argument is not needed"".   do you mean it is optional, or do you mean it is ignored by this implementation?    The code seems to be ignoring it.  
Suggestion:
===> The opts argument is not used by this implementation.
===> The opts argument is not used in this implementation.
===> This implementation ignores the opts argument.

(9) verify() vs verify(key, signature, digest)

(10 Key k is mentioned a lot in this class.  I searched the web to see if key k has a specific meaning.  I didn't find any  mention of it.  Will the meaning be clear to users of this class?

How to recreate:
1.Clone fabric-sdk-node
2.Gulp doc to generate doc
3.python -m SimpleHTTPServer &
4.Use a browser to navigate to <your ip>:8000
5.Navigate to docs/gen/
6.Select CryptoSuite_ECDSA_AES from the Classes pull down menu. ","fabric      commit 39da6d5f263913668567112399c1708e3f87efc3
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad
fabric      commit 817fa851931e2614646800bcdd6da75940f85dd8",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmlb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to determine the ca name of a FabricCAClientImpl object.,FABN-325,22468,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:49 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Oct/17 8:29 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"The node sdk creates and returns a FabricCAClientImpl object using the Client.getCertificateAuthority() call, handling the processing of the CCP (Common Connection Profile if I haven't mentioned this earlier). 
However I have a need to get the ca name of this CA Server and don't want to process the CCP to try to determine it, it should be something I can get from the returned instance of the client.getCertificateAuthority() call. 
Currently I have to do 
{code}
let caName = caClient._fabricCAClient._caName;
{code}
in order to determine the ca name from the returned object",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/17 3:41 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14609/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK]  not ok 3 Failed to enroll admin2 with CA server. Error: Error: Calling enrollment endpoint failed with error [Error: Parse Error],FABN-326,14523,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jjjjibm,jjjjibm,03/Feb/17 7:42 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:37 PM,,,,,,,,,,,0,,,,,"Running fabric-sdk-node/test/unit/coucb-fabriccoptest.js, two of four tests fail;

not ok 3 Failed to enroll admin2 with CA server. Error: Error: Calling enrollment endpoint failed with error [Error: Parse Error]
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...
info: [CouchDBKeyValueStore.js]: getValue: admin2, Entry does not exist
info: [Client.js]: Failed to load user ""admin2"" from local key value store
not ok 4 Failed to load the user from key value store
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...

1..4
# tests 4
# pass  2
# fail  2


",Vlaunch VM running Ubuntu,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/17 12:37 PM;jimthematrix;[~jjjjibm] this should be fixed now, please try again;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing grpc dependency in fabric-ca-client,FABN-327,21273,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jtonline,jtonline,04/Oct/17 4:12 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Oct/17 1:50 AM,,,,,,,,,,,0,,,,,"I've started seeing the following error in a node module which depends on fabric-ca-client

{{Error: Cannot find module 'grpc'}}

It looks like fabric-ca-client does a _`require('grpc');_ so I would expect to see grpc as a dependency in package.json but I don't see it there.",,davidkel,harrisob@us.ibm.com,jtonline,simsc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyia7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,jtonline,simsc,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Oct/17 6:36 PM;davidkel;I believe this hasn't changed for a while and the problem showing now could be related to changes in levels of node/npm.
From the fabric-ca-client point of view there should be no dependency on GPRC but because some of the code (Remote.js, BaseClient.js, api.js etc) is pulled from the fabric-client this problem occurs.
Looking at the fabric-ca-client package, the only module which requires Remote.js is api.js, but api.js has no need for Remote.
I think there needs to be a slight tidyup of shared code here to fix this (ie api.js) but also relook at what code is copied from fabric-client to fabric-ca-client (for example is Remote.js and BaseClient.js needed ? or should a relook at exactly what is common be split out from these into separate classes).;;;","10/Oct/17 3:47 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/14297/]

 ;;;","16/Oct/17 11:32 PM;simsc;Brett this is merged....can we mark this one done?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node-SDK test fails to handle Windows tempdir used for HFC_LOGGING,FABN-328,22022,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,lehors,lehors,lehors,14/Oct/17 12:38 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Oct/17 1:31 AM,v1.0.3,,,,,,v1.1.0,,,,0,node-SDK,,,," Running the tests on Windows generate the following error:
{code:java}
$ gulp test-headless

####################################################
# debug log: C:\Users\lehors\AppData\Local\Temp\hfc\test-log\debug.log
####################################################

[17:15:25] Using gulpfile ~\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\gulpfile.js
[17:15:25] Starting 'clean-up'...
...
[17:15:43] Starting 'test-headless'...
warn: Failed to parse environment variable ""HFC_LOGGING"". Returned a winston logger with default configurations. Error: SyntaxError: Unexpected token U in JSON at position 13
    at Object.parse (native)
    at Object.module.exports.getLogger (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\fabric-client\lib\utils.js:176:19)
    at Object.<anonymous> (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\test\unit\block.js:34:20)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Object.Module._extensions.(anonymous function) [as .js] (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\istanbul\lib\hook.js:109:37)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.require (module.js:497:17)
    at require (internal/module.js:20:19)
    at module.exports (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\require-uncached\index.js:28:9)
    at C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\gulp-tape\index.js:36:9
    at Array.forEach (native)
    at DestroyableTransform.flush [as _flush] (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\gulp-tape\index.js:35:13)
    at DestroyableTransform.<anonymous> (C:\Users\lehors\Projects\Go\src\github.com\hyperledger\fabric-sdk-node\node_modules\readable-stream\lib\_stream_transform.js:138:49)

...{code}
This leads to an empty debug log:

 
{code:java}
$ ll ~/AppData/Local/Temp/hfc/test-log/debug.log
-rwx------+ 1 lehors None 0 Oct 13 17:15 /home/lehors/AppData/Local/Temp/hfc/test-log/debug.log{code}
 

 

 

 ","Windows 7, node 6.9.5, npm 4.3.0

 ",lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
original end-to-end.js test should be kept to testing the default config,FABN-329,15186,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,03/Mar/17 10:21 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/Mar/17 1:11 PM,,,,,,,,,,,0,,,,,"some changes went in by accident that got the original test/integration/end-to-end.js to target the new ""mychannel"" with new msp ids. it should have been kept on the default config and left the new config to the new test/integration/e2e.js",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2621,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
endorser-tests.js needs to print out error response,FABN-330,13475,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,18/Nov/16 7:00 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/Nov/16 8:15 AM,,,,,,,,,,,0,node-SDK,,,,"it tried to print out ""status"" which is an invalid variable",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxez3:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - always return status info,FABN-331,28120,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,01/Mar/18 8:42 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/Mar/18 2:36 PM,,,,,,,v1.1.0,,,,0,,,,,When submitting a request to the orderer and the status was not 'SUCCESS' an error was thrown and the status info was not returned. The orderer should not be returning an error and should return the exact status and status info to the caller on a positive resolve of the submit promise. The NodeSDK should not be evaluating the response.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzcn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Mar/18 1:12 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18577/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability testing] error response changed in Fabric1.1 peer causes Node.js sdk integration test failures,FABN-332,27943,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,23/Feb/18 11:09 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Feb/18 11:44 PM,v1.1.0,,,,,,v1.1.0,,,,0,fabric-sdk-node,quality,,,"There are several integration tests of Node.js SDK release branch are failing due to the change in error response message in Fabric V1.1 peer component.
{code:java}
not ok 841  Failed to get error could not find chaincode with name
  ---
    operator: fail
    at: checkResults (/root/Go/src/github.com/hyperledger/fabric-sdk-node/test/integration/upgrade.js:229:7)
    stack: |-
      Error:  Failed to get error could not find chaincode with name
          at Test.assert [as _assert] (/root/Go/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:212:54)
          at Test.bound [as _assert] (/root/Go/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.fail (/root/Go/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:277:10)
          at Test.bound [as fail] (/root/Go/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at checkResults (/root/Go/src/github.com/hyperledger/fabric-sdk-node/test/integration/upgrade.js:229:7)
          at Client.newDefaultKeyValueStore.then.then.then.then.then.then (/root/Go/src/github.com/hyperledger/fabric-sdk-node/test/integration/upgrade.js:140:3)
          at <anonymous>
          at process._tickDomainCallback (internal/process/next_tick.js:228:7)
{code}
*ex*: when chaincode is not installed and tried to upgrade/instantiate, the peer error response message in v1.1 now is ""*no such file or directory"",* where as peer response in earlier versions V1.0 was
 - *could not find chaincode with name* (for upgrade)
 - *cannot get package for the chaincode to be instantiated* (for instantiate)

+Test files effected:+
 _test/integration/instantiate.js_
 _test/integration/upgrade.js_

 

This changes are causing tests to fail after upgrading fabric  to v1.1. So, application will see failures in live upgrade scenario, and should make adjustments in their expectations (response parsing). This should be documented in the upgrade section for v1.1.",,denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-518,FAB-8481,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyykv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Feb/18 2:48 AM;denyeart;Chaincode upgrade/instantiate handling, including error handling, has been refactored in 1.1.  It is not a simple case of changing a message.  The full message in 1.1 now is:
status: 500, message: cannot get package for chaincode (marblesx:1)-open /var/hyperledger/production/chaincodes/marblesx.1: no such file or directory

It is not as simple as changing back a message on peer side. Can we have the 1.0 client tests look for the error code (500) rather than parse the specific error message?  We would recommend client apps to do the same, as exact error messages are not guaranteed to be the same across releases.

I've also opened FAB-8481 to improve the error message such that server filepath information is not revealed to client.;;;","24/Feb/18 6:45 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18309/;;;","26/Feb/18 1:45 PM;denyeart;[~harrisob@us.ibm.com] [~Ratnakar] The ""*no such file or directory""* error was no good, both from a user perspective, and because it leaked server file system path information (security vulnerability).

It has been changed in -FAB-8481- as follows:

 

*Scenario:* instantiate/upgrade against a non-installed chaincode

*Client error message received in 1.1:* chaincode error (status: 500, message: cannot get package for chaincode (marbles:1))

 

[~mastersingh24] updated the tests in fabric-node-sdk master, but the change will likely need to be reflected in the release 1.0 tests against 1.1 peer.

 

Other related messages are:

 

*Scenario:* invoke against a non-instantiated chaincode

*Client error message received in 1.1:* make sure the chaincode marbles has been successfully instantiated and try again: could not find chaincode with name 'marbles' - <nil>

 

*Scenario:* instantiate/upgrade/invoke against a non-exist channel, or client not a member of channel:

*Client error message received in 1.1:* access denied: channel [myc] creator org [DEFAULT]

This message was made intentionally vague, so that clients could detect which channels a peer has joined.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node SDK CI job to add PKCS11_TESTS=true,FABN-333,17003,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,ryjones,jimthematrix,jimthematrix,23/May/17 3:34 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/May/17 2:52 AM,,,,,,,,,,,0,,,,,"hi, now that pkcs11 is officially part of the unit tests suite, we do want to make it disabled by default so users/contributors don't have to struggle with installing SoftHSM2 (not a trivial undertaking and the library documentation leaves a lot to desire) 

so https://gerrit.hyperledger.org/r/#/c/6825/ makes it disabled by default (skipped in the test bucket). For CI please set the environment variable PKCS11_TESTS to true to turn it on",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmtr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/17 11:50 PM;rameshthoomu;[~ryjones] updated PKCS11_TESTS =true in production CI. [~jimthematrix] Could you please verify this change and let us know the update pls..;;;","24/May/17 2:53 AM;jimthematrix;[~rameshthoomu] yes verified in build https://jenkins.hyperledger.org/job/fabric-sdk-node-verify-x86_64/1064/console. thanks [~ryjones];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK]  cloudant-fabricca-tests.js  not ok 1 AssertionError: url is not valid,FABN-334,14945,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,21/Feb/17 3:35 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 2:10 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Running fabric-sdk-node with the levels indicated in Environment, the test fails:

# Use FabricCAServices wih a Cloudant CouchDB KeyValueStore
{color:#59afe1}self = { getCloudantClient: [Function],
  destroy: [Function],
  _url:
   { config:
      { url: 'https://1421acc7-6faa-491a-8e10-951e2e190684-bluemix:7179ef7a72602189243deeabe207889bde1c2fada173ae1022b5592e5a79dacc@1421acc7-6faa-491a-8e10-951e2e190684-bluemix.cloudant.com',
        request: null,
        requestDefaults:
         { headers: { 'User-agent': 'nodejs-cloudant/1.7.1 (Node.js v6.3.1)' },
           gzip: true,
           agent:
            Agent {
              domain: null,
              _events: { free: [Function] },
              _eventsCount: 1,
              _maxListeners: undefined,
              defaultPort: 443,
              protocol: 'https:',
              options: { keepAlive: true, path: null },
              requests: {},
              sockets: {},
              freeSockets: {},
              keepAliveMsecs: 1000,
              keepAlive: true,
              maxSockets: Infinity,
              maxFreeSockets: 256,
              maxCachedSessions: 100,
              _sessionCache: { map: {}, list: [] } } },
        cookie: undefined,
        log: { [Function: disabled] enabled: false, namespace: 'nano' } },
     db:
      { create: [Function: createDb],
        get: [Function: getDb],
        destroy: [Function: destroyDb],
        list: [Function: listDbs],
        use: [Function],
        scope: [Function: docModule],
        compact: [Function: compactDb],
        replicate: [Function: replicateDb],
        changes: [Function: changesDb],
        follow: [Function: followDb],
        followUpdates: [Function: followUpdates],
        updates: [Function: updates] },
     use: [Function],
     scope: [Function: docModule],
     request: [Function: relax],
     relax: [Function: relax],
     dinosaur: [Function: relax],
     auth: [Function: auth],
     session: [Function: session],
     updates: [Function: updates],
     followUpdates: [Function: followUpdates],
     uuids: [Function: uuids],
     _use: [Function: docModule],
     ping: [Function: ping],
     get_cors: [Function],
     set_cors: [Function],
     set_permissions: [Function],
     generate_api_key: [Function],
     get_virtual_hosts: [Function],
     add_virtual_host: [Function],
     delete_virtual_host: [Function] },
  _name: 'member_db' }
{color}not ok 1 AssertionError: url is not valid
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      { actual: false, expected: true, generatedMessage: false, message: 'url is not valid', name: 'AssertionError', operator: '==' }
    at: process.onetime (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/onetime/index.js:22:12)
    stack: |-
      AssertionError: url is not valid
          at dbScope (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/nano/lib/nano.js:35:10)
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/integration/couchdb-util.js:39:18
          at Object.module.exports.destroy (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/integration/couchdb-util.js:37:9)
          at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/integration/cloudant-fabricca-tests.js:52:14
          at Test.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:66:32)
          at Test.run (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:85:10)
          at Test.bound [as run] (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:66:32)
          at Immediate.next (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:570:20)
  ...

1..1
# tests 1
# pass  0
# fail  1
The text in {color:#59afe1}blue font {color}is a trace I added to echo 'self' on entry to the failing function.

The point of failure is in couchdb-util.js, method destroy().   See attachment Node inspector  point Of failure.png for a display of local variables when the assertion fails. 


","├─┬ cloudant@1.7.1
│ ├── cloudant-nano@6.4.1

fabric-sdk-node: commit 084d3b591532881d7cb3c4641f09a4d53609ce00
fabric commit e829d2ecfd9a2bfc378a08a9364215f241a0a09b
fabric-ca : commit 37b897b3cd723568b38026acdf85a1d168a4cbf1

Vlaunch VM is running Ubuntu

",cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Feb/17 3:36 AM;jjjjibm;FAB-2382 Node Inspector - point of failure.png;https://jira.hyperledger.org/secure/attachment/10522/FAB-2382+Node+Inspector+-+point+of+failure.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Feb/17 8:03 AM;cdaughtr;I can see that the code added to CouchDBKeyValueStore to support cloudant is no longer there and needs to be restored.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to redeploy chaincode when eventhub is registered,FABN-335,13280,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,pmullaney,Ratnakar,Ratnakar,04/Nov/16 1:51 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/Jan/17 3:19 AM,,,,,,,,,,,0,node-SDK,,,,"Once the chaincode is deployed successfully, deploying the same chaincode again hungs the program from further execution. This is seen when evenHub is registered.

{code:javascript}
chain.eventHubConnect();
{code}

In general redeploy will use the existing transactionID and proceeds further however when eventHub is used client program hungs",,pmullaney,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,pmullaney,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Nov/16 2:02 AM;pmullaney;Can I get the exact test being used to reproduce this? Thanks.;;;","11/Nov/16 2:29 AM;Ratnakar;
I have written a sample program here
https://github.com/ratnakar-asara/NodeSdkSample/tree/master/events

If I rerun the program again I could see it is getting stuck after deploy.

So to avoid the problem I had to add a hack in the code , which checks if the chaincode is already deployed it will check for chaincodeID and proceeds further with Invoke and Query.

To reproduce the problem run the program with below sequence of commands:

Step1:
*node node event-sample.js*

Step2: 
Once chaincode deployment is successful, delete the chaincodeID file generated

*rm chaincodeID*

Step3 : 
Retry deploying the chaincode again
*node node event-sample.js*
It hangs at this step and wouldn't proceed further.;;;","11/Nov/16 2:46 AM;pmullaney;This is actually expected behavior. Without eventhub enables, the sdk times out on deploys and invokes and assumes that they are successful. In this case of a redeploy, its actually a failure. Currently you cannot reploy onto an active chaincode.

There is a secondary issue being reported of a hang in the test script. This is likely due to not calling ""chain.eventHubDisconnect();"". This is limitation having to do with grpc streams that must be closed prior to exit.
;;;","11/Nov/16 2:56 AM;Ratnakar;I don't see it comes in to *error* event , I don't see this log printed when last time I executed the program
https://github.com/ratnakar-asara/NodeSdkSample/blob/master/events/event-sample.js#L132;;;","11/Nov/16 3:09 AM;pmullaney;You need to add either a process.exit(1) or an explicit call to Disconnect the stream. The log may be unreliable at this point.;;;","24/Nov/16 12:27 AM;pmullaney;I'm inclined to close this as functions as designed unless there is further comment or issues.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] getNextTCert API in member class in Node SDK fetched tcert even when we pass a non-exiting attibute,FABN-336,12519,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Nishi,Nishi,22/Aug/16 10:32 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:31 AM,,,,,,,,,,,0,,,,,"Passed in a non-existing attribute for user alice to getNextTCert by calling
alice.getNextTCert(['fail'],function(err, tcert) in the test.

Expected Result:

Test to fail since 'fail' is not an attribute defined for alice in membersrvc.yaml

Actual Result:

Test passed and generated a TCert.

commit 346f9fb",,jimthematrix,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbfr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,Nishi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:31 AM;jimthematrix;closing off v0.6-only issues;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fails to check all proposal responses in balance-transfer,FABN-337,19001,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,07/Jul/17 12:06 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,18/Jul/17 4:46 AM,v1.0.0,,,,,,v1.0.1,,,,0,,,,,"""balance-transfer"" application doesn’t check all of the proposal responses.

An app sends a transaction proposal to multiple peers and get multiple responses.
However, the only first response ""proposalResponses[0]"" is checked repeatedly in the loop like the below.

{code:java}
for (var i in proposalResponses) {
	let one_good = false;
	if (proposalResponses && proposalResponses[0].response &&
		proposalResponses[0].response.status === 200) {
		one_good = true;
		logger.info('transaction proposal was good');
	} else {
		logger.error('transaction proposal was bad');
	}
	all_good = all_good & one_good;
}
{code}

We need to fix the code to check all of the array value of proposalResponses correctly.
The following codes have this problem.

fabric-samples/balance-transfer/app/install-chaincode.js
fabric-samples/balance-transfer/app/instantiate-chaincode.js
fabric-samples/balance-transfer/app/invoke-transaction.js",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy70v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jul/17 2:04 AM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/11415/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] npm test not npm test-headless ,FABN-338,15823,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,19/Apr/17 6:27 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/May/17 2:05 PM,,,,,,,v1.0.0,,,,0,,,,,"This web page: https://github.com/hyperledger/fabric-sdk-node
has this instruction:

+npm test-headless +to run the headless tests that do not require any additional set up

However, if you attempt npm test-headless from the <fabric-sdk-node> directory, you get this result:
_ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node$ npm test-headless

Usage: npm <command>

where <command> is one of:
    access, adduser, bin, bugs, c, cache, completion, config,
    ddp, dedupe, deprecate, dist-tag, docs, edit, explore, get,
    help, help-search, i, init, install, install-test, it, link,
    list, ln, logout, ls, outdated, owner, pack, ping, prefix,
    prune, publish, rb, rebuild, repo, restart, root, run,
    run-script, s, se, search, set, shrinkwrap, star, stars,
    start, stop, t, tag, team, test, tst, un, uninstall,
    unpublish, unstar, up, update, v, version, view, whoami

npm <cmd> -h     quick help on <cmd>
npm -l           display full usage info
npm help <term>  search for help on <term>
npm help npm     involved overview

Specify configs in the ini-formatted file:
    /home/ibmadmin/.npmrc
or on the command line via: npm <command> --key value
Config info can be viewed via: npm help config

npm@3.10.3 /usr/local/lib/node_modules/npm
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node$
_
You can enter 'npm test' and this will drive gulp test-headless.","Any browser will display the erroneous command. 
fabric-sdk-node: commit b00a5234891766111613a5235b21a3136cf7321d
",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-46,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update with latest protos,FABN-339,23729,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Nov/17 7:03 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,03/Nov/17 12:05 PM,,,,,,,v1.1.1,,,,0,node-SDK,,,,"Update with latest protos, does not require any code changes",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzymav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent end2end failure during chaincode upgrade,FABN-340,17063,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,25/May/17 1:26 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/May/17 11:16 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"the following happens once a while during fabric's end2end verify build:

12:45:08 ***** U P G R A D E flow: upgrade chaincode *****
12:45:08  >>>> getting the org admin
12:45:08  looking at file ::/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/keystore/9022d671ceedbb24af3ea69b5a8136cc64203df6b9920e26f48123fcfcb1d2e9_sk
12:45:08  looking at file ::/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/signcerts/Admin@org1.example.com-cert.pem
12:45:08 info: [Client.js]: loading user from files
12:45:08 info: [utils.CryptoKeyStore]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""path"":""/tmp/hfc/hfc-test-kvs_peerOrg1""}}
12:45:08 ok 57 Successfully enrolled user 'admin'
12:45:08 info: [E2E testing]:  create new peer grpcs://localhost:7051
12:45:08 info: [E2E testing]:  create new peer grpcs://localhost:8051
12:45:08 info: [E2E testing]:  create new eventhub grpcs://localhost:7053
12:45:33 not ok 58 Error: Failed to test for bad transient map. The chaincode should have rejected the upgrade proposal. at channel.sendUpgradeProposal.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:281:12)
12:45:33   ---
12:45:33     operator: fail
12:45:33     at: Client.newDefaultKeyValueStore.then.then.then.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:370:5)
12:45:33   ...
12:45:33 not ok 59 Error: Error: Failed to test for bad transient map. The chaincode should have rejected the upgrade proposal. at channel.sendUpgradeProposal.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:281:12) at Client.newDefaultKeyValueStore.then.then.then.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:371:9)
12:45:33   ---
12:45:33     operator: fail
12:45:33     at: Client.newDefaultKeyValueStore.then.then.then.then.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:384:5)
12:45:33   ...
12:45:33 not ok 60 Failed to upgrade chaincode 
12:45:33   ---
12:45:33     operator: fail
12:45:33     at: e2eUtils.instantiateChaincode.then (/w/workspace/fabric-verify-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/upgrade.js:57:6)
12:45:33   ...
12:45:33 info: [E2E testing]: Disconnecting the event hub",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 11:16 AM;jimthematrix;https://gerrit.hyperledger.org/r/9763
https://gerrit.hyperledger.org/r/9783
https://gerrit.hyperledger.org/r/9803

these added diagnosis helped discover the root cause which is addressed in https://gerrit.hyperledger.org/r/#/c/9645/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Merge CI should delete all entries in fabric-sdk-node.github.io first before copying,FABN-341,17033,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,rameshthoomu,jimthematrix,jimthematrix,24/May/17 12:14 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/May/17 10:52 PM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,build-system,,,,"right now the CI job that publishes the generated doc to fabric-sdk-node.github.io always copies the newly generated files into the existing repository. This makes it impossible to remove files and would leave out-of-date files in the remote repository.

it should instead first delete everything from the local repo after git clone, before copying the newly generated files into it.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/17 6:54 AM;rameshthoomu;Submitted patch set and it's in review https://gerrit.hyperledger.org/r/#/c/9737/;;;","25/May/17 10:52 PM;rameshthoomu;patch has been submitted and merged. Closing this issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK The JSDoc for several methods don't indicate they return a promise.,FABN-342,19358,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,ericmvaughn,ericmvaughn,ericmvaughn,20/Jul/17 12:31 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,26/Jul/17 3:55 AM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,"The JSDoc for the following methods should indicate that they return a promise.
 
BaseClient.js  --  newDefaultKeyValueStore()
 
Channel.js  -- queryBlock(), queryBlockByHash(), queryInfo(), queryTransaction(), and queryInstantiatedChaincodes() ",,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8yf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Jul/17 3:12 AM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/11755/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK loses errors returned from chaincode,FABN-343,15284,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,davidkel,davidkel,10/Mar/17 4:41 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Mar/17 8:58 AM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,v1.0,,,"I noticed this on the queryByChaincode call, the chaincode was returning a 500 and error but our code was only ever noticing that there was no returned payload (the array was empty).

I put a patch into the Chain.js code to detect the returned error and throw it as follows (although the implementation probably isn't right, it is what our code expects and so I assume that the v0.6 node sdk does something similar as we work with that). The problem shows up when we run our system tests against the v1 node sdk which works with the v0.6 sdk.

The code change is a follows
{code}
logger.debug('Chain-queryByChaincode - results received');
if(responses && Array.isArray(responses)) {
   var results = [];
   for(let i = 0; i < responses.length; i++) {
       // START 
       if (responses[i].error) {
            throw responses[i].error;
       }
       // END
       if(responses[i].response && responses[i].response.payload) {  
          results.push(responses[i].response.payload);
       }
   }
   return Promise.resolve(results);
}
{code}",,Clayton Sims,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Mar/17 10:28 PM;Clayton Sims;Assigning to Bret, per Jim.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Build] - Ignore license check on .txt files,FABN-344,31701,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,rameshthoomu,rameshthoomu,rameshthoomu,06/Jul/18 10:28 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,v1.2.0,,,,,,v1.2.0,,,,0,,,,,Ignore license check on .txt files in fabric-sdk-node,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-217,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzhzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/18 10:39 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/24161/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-sdk chaincode install doesn't restrict to installing only on client organisation,FABN-345,31486,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,29/Jun/18 4:39 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Jun/18 12:12 AM,v1.2.0,,,,,,v1.2.0,,,,0,node-SDK,,,,"Looking at the code for chaincodeInstall has the following :-

{code:java}
const channel = this.getChannel(channel_names[i]);
let org_name = null;
if (this._network_config.hasClient()) {
	const client = this._network_config.getClientConfig();
	org_name = client.organization;
}
const channel_peers = channel.getPeersForOrg();
	for (let j in channel_peers) {
	    const peer = channel_peers[j];
	    temp_peers[peer.getName()] = peer; // will remove duplicates
	}
}
{code}
The call to channel.getPeersForOrg is missing the org_name parameter

The proposal is to extract this back out into a utility method getPeersForOrgOnChannel which will restore an api which had been assumed to be public in the 1.1 release and to fix the issue. It's also noted that it is supposed to restrict to the EndorsingPeer and ChaincodeQuery roles but this cannot be implemented until 
https://gerrit.hyperledger.org/r/#/c/23853/
is merged. However being able to restrict to these roles is a very low issue compared to this one so a cr without the role checking will be sumitted first and the role checking retro-fitted later.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgof:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 8:51 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/23865/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"APIs to provide current discovery layouts from SDK, and to identify signers of TXs",FABN-346,31430,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,scottz,scottz,28/Jun/18 5:40 AM,30/Oct/19 1:35 AM,28/Oct/23 3:25 AM,30/Oct/19 1:35 AM,,,,,,,Future,,,,0,,,,,"This is really two requests, things which would make the Service Discovery feature behavior more easily monitored and understood. We think things like these should have been part of the feature deliverable, so I create this as a bug. However, I am open to changing it to an Improvement, and changing FixVersion as necessary, and also feel it may be applicable to a CLI tool implementation or to all SDK's besides node sdk.

 

1. As a tester, to aid my debugging efforts, I would like to use a tool to call a new API on the node SDK that returns the discovery layout that is currently in use, for a given channel and chaincode. And I would also like to have an API to indicate the exact row (i.e. selection of peer(s)) of the layout to be used by the SDK for the current and/or next transaction proposal. I looked here, but did not see anything of the sort. [https://fabric-sdk-node.github.io/Client.html#updateChannel__anchor]

It would be helpful to identify the peers being used, because it would save us time if we know where (which peers) to go look at logs - instead of searching through possibly 100 peers in our network.

 

2. The above is for realtime examinations. Here is another question, this being for ""after-the-fact"":  Knowing that we could register for events for the transactions we send, how simple would it be to examine an event to identify which peers actually endorsed and signed a transaction? People (including auditors) will need a way to do that. How can we identify the owner of each signature? Is there an API for that, or is it easy to read from the event? If not, can we provide a way for network operators to do that?",,davidkel,harrisob@us.ibm.com,heatherp,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,heatherp,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jun/18 1:20 AM;harrisob@us.ibm.com;I agree, both items are very useful.

For item one,  use `channel.getDiscoveryResults()`

For item two, this would should be an enhancement. We should add this to the design work that is in progress to a smarter layer above the NodeSDK API's that talk directly to fabric and work with the user's network and client side experience.;;;","30/Oct/19 1:35 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quick fix needed: incompatible with npm grpc@1.11.0 for release-1.0 branch.,FABN-347,29934,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,04/May/18 4:21 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,05/May/18 4:47 AM,v1.0.6,v1.1.0,,,,,v1.0.7,v1.1.1,,,0,ci-failure,,,,"Observed this error for sdk-node tests in the *fabric-end-2-end-daily-release-1.0* CI job,

{code:java}
14:28:23 
14:28:23 TypeError: Cannot read property 'getConnectivityState' of undefined
14:28:23     at ClientDuplexStream.<anonymous> (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/EventHub.js:9:9491)
{code}

*fabric Commit: 1575ea6*
*fabric-ca Commit: 0caaf28*
*fabric-sdk-node Commit: 7765f1b*

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-release-1.0-x86_64/49/
",,harrisob@us.ibm.com,sambhavdutt,VigneshkumarChinnachamy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-510,,,,,,FABN-454,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8ov:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,sambhavdutt,VigneshkumarChinnachamy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 4:46 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/21381/] - version fix

[https://gerrit.hyperledger.org/r/#/c/21439/] - npm publish;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using custom state store not working and to complicated,FABN-348,15502,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,kraemer,kraemer,30/Mar/17 3:22 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/May/17 2:01 PM,v1.0.0,,,,,,v1.0.0-alpha2,,,,0,alpha2,node-SDK,,,"Hi,

I'm trying to use our custom implementation of a key value store. The FileKeyValueStore is only for development and should not be used in production so we want to store the credentials in a secure store.
Unfortunately, at the moment (version 1.0.0-snapshot.6) this is not straightforward and also not working the way it is implemented at the moment.

*Issue 1:*

First I need to set the implementation at multiple places.
# {{client.setStateStore(storeInstance)}} on the Client instance
# {{new CAClient(url, null, null, StateStore, opts}} when I instantiate the CA client. Here the class and the opts are passed in
# {{user.setEnrollment(key, certificate, msp, {obj}}} here an object with the properties {{KVSImplClass}} and {{kvsOpts}} is passed in

This is very inconsistent, there should be an aligned way to pass a store to the different classes. Also for users of the API it is not very convenient to pass in the store so often.

*Issue 2:*

This is actually the bigger issue:
When a user is stored in the state store (called by Client.js saveUserToStateStore)  {{setValue}} is called with a string version of the user object. Within the {{toString}} {{JSON.stringify}} is executed on all properties +including+ the {{this._kvsCryptoOpts}} object. This leads to the {{KVSImplClass}} not being stored in the string (a function cannot be stringified).
When I restart my application I try to receive the user from the state store. The JSON object returned does not include the value {{KVSImplClass}} because it was not stored.
This results in an error, because the user information cannot be read. Because of the missing {{KVSImplClass}} a new FileKeyValueStore is instantiated from which nothing can be read. This is because of the fallback if no {{KVSImplClass}} is set.",,cdaughtr,dshuffma,kraemer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,FABN-155,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx39j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,dshuffma,kraemer,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/17 1:55 AM;cdaughtr;http://gerrit.hyperledger.org/r/8905;;;","05/May/17 1:20 AM;jimthematrix;thanks for taking the time to write this up [~kraemer]. Definitely agree with you this area needs to be fixed. so the problem with FabricCAClientImpl constructor and User.setEnrollment() both requiring that weird KVSImplClass and the corresponding opts parameters, is to construct a CryptoSuite instance needed to handle certs and keys. after thinking this over, I've concluded that the design should really be that we give the application more control on constructing the CryptoSuite instance and setting it to the objects that need it (ca client and user). in addition, we shouldn't try to serialize the settings related to the crypto suite as part of the user enrollment persistence, but instead leave that knowledge (what's the right key algo, security level, hashing algo etc.) to the application to manage.

Doing the above would eliminate the weird parameters from the APIs and make it easier for applications to keep track of where CryptoSuite instances are constructed and used.

Please let us know if you have more input on this latest thinking. thanks again for your contribution to making the SDKs better. And feel free to review 8905 that [~cdaughtr] just uploaded;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] Name of an Orderer is not properly set with network profile,FABN-349,27653,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,13/Feb/18 7:04 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,14/Feb/18 2:03 AM,v1.1.0-alpha,,,,,,v1.1.1,,,,0,,,,,"After loading configurations from network profile, the names of Orderers returned by Channel.getOrderer() are not properly set unlike peers.

With {{test/fixtures/network.yaml}} in the fabric-sdk-node repository, running the following script

{code:title=test.js}
'use strict';

const Client = require('fabric-client');

const client = Client.loadFromConfig('test/fixtures/network.yaml');
const channel = client.getChannel('mychannel2');

const orderers = channel.getOrderers();
for (let i in orderers) {
        console.log('Orderer #%d = %s', i, orderers[i].getName());
}

const peers = channel.getPeers();
for (let i in peers) {
        console.log('Peer #%d = %s', i, peers[i].getName());
}
{code}

… results in 

{noformat}
$ node test.js
Orderer #0 = undefined
Peer #0 = peer0.org1.example.com
Peer #1 = peer0.org2.example.com
{noformat}

The name of the orderer is expected to be “orderer0.example.com,” not undefined.
",fabric-sdk-node fcc3f65c5981780b69744b25bc677173adc18cac,harrisob@us.ibm.com,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyx73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,shimos,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Feb/18 2:03 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/17823/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND,FABN-350,16227,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,swangbj,swangbj,03/May/17 4:31 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,05/May/17 5:05 AM,,,,,,,,,,,0,,,,,"Hi，when i join channel , i met this problem . Following is my log.
error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
error: [Chain.js]: joinChannel - Failed Proposal. Error: Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.<anonymous> (/home/wsh/hsbn/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:197:22)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at ClientDuplexStream.Readable.push (_stream_readable.js:134:10)
    at readCallback (/home/wsh/hsbn/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:245:14)
Error: Invalid results returned ::NOT_FOUND
    at ClientDuplexStream.<anonymous> (/home/wsh/hsbn/fabric-sdk-node/node_modules/fabric-client/lib/Orderer.js:197:22)
    at emitOne (events.js:96:13)
    at ClientDuplexStream.emit (events.js:188:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at ClientDuplexStream.Readable.push (_stream_readable.js:134:10)
    at readCallback (/home/wsh/hsbn/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:245:14)",,swangbj,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxsnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,swangbj,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/17 5:07 AM;jimthematrix;need more details on how this was reproduced. note that there is no good indicator that the channel has been successfully created by the orderer. so you have to wait some length of time before calling join channel. that's what the e2e.js test does, waiting 5 seconds. it's not pretty but is the easiest solution. you could also keep polling until you get the expected block (within a set timeout);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- place start command closer to 'launch the following command' ,FABN-351,15077,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 5:32 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 2:18 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"For ease of reading, 

Is now:
* from the fabric-ca folder, launch the following command to start the fabric-ca server. The ec.pem and ec-key.pem {color:#d04437}certificates sets {color}up the fabric-ca server as the trusted root that the Peer nodes have been statically configured as a temporary measure. In other words, the Peers will be able to trust any user certificates that have been signed by the fabric-ca server. This is important because the endorser code inside the Peer will need to validate the user certificate issued by fabric-ca before using it to verify the signature of the transaction proposal.
* bin/fabric-ca server start -ca testdata/ec.pem -ca-key testdata/ec-key.pem -config testdata/testconfig.json

Should be:
from the fabric-ca folder, launch the following command to start the fabric-ca server.
* bin/fabric-ca server start -ca testdata/ec.pem -ca-key testdata/ec-key.pem -config testdata/testconfig.json

The ec.pem and ec-key.pem  {color:#d04437}certificates set{color} up the fabric-ca server as the trusted root that the Peer nodes have been statically configured as a temporary measure. In other words, the Peers will be able to trust any user certificates that have been signed by the fabric-ca server. This is important because the endorser code inside the Peer will need to validate the user certificate issued by fabric-ca before using it to verify the signature of the transaction proposal.
*  
Another thing:
that the Peer nodes have been statically configured as a temporary measure.

Something seems missing in that phrase?  configured {color:#654982}to use {color}as a temporary measure?","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK 1.0.0-alpha now installs newly released grpc 1.3.0 and it isn't compatible,FABN-352,16089,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,sstone1,davidkel,davidkel,28/Apr/17 10:45 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,29/Apr/17 3:50 AM,v1.0.0,v1.0.0-alpha1,,,,,,,,,0,node-SDK,,,,"It looks like a new release of grpc has been published (1.3.0) and now if you npm install the latest stable fabric-client (ie 1.0.0-alpha) it now pulls this level of grpc and node-sdk is not compatible with this level.

error seen by hyperledger-composer is

{code:java}
✖ Deploying business network definition. This may take a minute...

TypeError: identityProto.SerializedIdentity is not a constructor
Command failed
{code}
",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-465,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] class EventHub callbacks not documented ,FABN-353,12979,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,pmullaney,jjjjibm,jjjjibm,12/Oct/16 4:11 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:20 AM,,,,,,,,,,,0,,,,,"Class EventHub methods require callback functions as input.  Namely,
_registerBlockEvent(callback: Function): void
registerChaincodeEvent(ccid: string, eventname: string, callback: Function): ChainCodeCBE
registerTxEvent(txid: string, callback: Function)
unregisterBlockEvent(unregisterBlockEvent(callback: Function): void
_
However, the callback functions are not documented well enough to use.  There's no indication of whether the callbacks return values, or what those values may be.  Furthermore, the unit tests event-tests.js do not cover methods registerBlockEvent(callback), registerTxEventtxid, callback), unregisterBlockEvent(callback), so we have no examples to code to. 


In contrast, here's a properly coded callback parameter from class chain: 

_getMember(name: string, cb: GetMemberCallback): void
Defined in src/hfc.ts:700

Get the user member named 'name' or create a new member if the member does not exist.

Parameters

◾name: string

◾cb: GetMemberCallback

Callback of form ""function(err,Member)""
_
_
Returns void
_
In the generated documentation page, clicking on the token GetMemberCallback takes you to its definition: 


_Interface GetMemberCallback
Hierarchy
◾ GetMemberCallback 
Callable
__call(err: Error, member?: Member): void

Defined in src/hfc.ts:201

Parameters
◾err: Error
◾Optional member: Member

Returns void_

The end user see clearly what his callback function can expect by way of input.

Here's another example from class Member:


_register
register(registrationRequest: RegistrationRequest, cb: RegisterCallback): void

Defined in src/hfc.ts:971

Register the member.

Parameters

◾registrationRequest: RegistrationRequest

◾cb: RegisterCallback

Callback of the form: {function(err,enrollmentSecret)}_

_Returns void
_

In the generated documentation, clicking RegisterCallBack takes you to its definition:


_
Interface RegisterCallback

Hierarchy
◾ RegisterCallback 

Callable
__call(err: Error, enrollmentPassword?: string): void

Defined in src/hfc.ts:204

Parameters

◾err: Error
◾Optional enrollmentPassword: string

Returns void_

so we know how to code the callback function. 

",Vlaunch VM running Ubuntu 'Trusty'. ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"2017-05-31 14:48:43.317 UTC [eventhub_producer] Chat -> ERRO 1a8 Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""",FABN-354,17314,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,z21921,z21921,z21921,01/Jun/17 12:05 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Jun/17 11:17 PM,,,,,,,v1.0.0,,,,0,,,,,"When I use PTE tools(Based node-sdk) for performance testing

Fabric:4aa7cfb16089847b853e24c971aee7621021fe51

Fabric-ca:77dc0ce08853615e6876db81fb9384c4e9c31209

Fabric-sdk-node:45c2f389ef37f3eab64cfceace46b0157abb9d33

 

It report:

stderr: events.js:160
      throw er; // Unhandled 'error' event
      ^

Error: Failed parsing HTTP/2
    at ClientDuplexStream._emitStatusIfDone (/root/gopath/src/github.com/hyperledger/fabric-sdk-node-lpar/node_modules/grpc/src/node/src/client.js:201:19)
    at ClientDuplexStream._readsDone (/root/gopath/src/github.com/hyperledger/fabric-sdk-node-lpar/node_modules/grpc/src/node/src/client.js:169:8)
    at readCallback (/root/gopath/src/github.com/hyperledger/fabric-sdk-node-lpar/node_modules/grpc/src/node/src/client.js:242:12)

 

Then I checked peer log and find:

2017-05-31 14:48:43.317 UTC [eventhub_producer] Chat -> ERRO 1a8 Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled""

 

 

 ",,muralisr,z21921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,muralisr,z21921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/17 4:21 AM;muralisr;[~z21921] would need more information to figure out this problem ... logs, steps to recreate etc. Assigning back to you.;;;","07/Jun/17 11:18 PM;jimthematrix;[~z21921] 
Note that the error ""Chat -> ERRO 1a8 Error during Chat, stopping handler: stream error: code = 1 desc = ""context canceled"""" always happens when the event listener client process is terminated. So that's not the actual error that caused the node SDK to report the ""Unhandled 'error' event.

Please provide more information on reproducing the bug, or logs. Until then, we are going to to assume it's a user/application error.;;;","08/Jun/17 1:05 AM;muralisr;Thanks [~jimthematrix].

[~z21921] based on the above input, will assume its working for you on the latest master and close it by 9 Jun if there no further update.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] ERROR: yaml.parser.ParserError: while parsing a block mapping,FABN-355,14443,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,31/Jan/17 3:37 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:39 PM,,,,,,,,,,,0,,,,,"Starting fabric using <fabric-node-sdk>/test/fixtures docker-compose.yml yields this error:

ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node/test/fixtures$ docker-compose up --force-recreate
ERROR: yaml.parser.ParserError: while parsing a block mapping
  in ""./docker-compose.yml"", line 5, column 2
expected <block end>, but found '<block mapping start>'
  in ""./docker-compose.yml"", line 12, column 3
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node/test/fixtures$

Here are the first lines of docker-compose.yml:'

ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node/test/fixtures$ head docker-compose.yml
version: '2.0'

services:

 ca:
   image: hyperledger/fabric-ca
   ports:
     - ""7054:7054""
   command: sh -c 'fabric-ca server start -ca /.fabric-ca/ec.pem 

",vlaunch VM running Ubuntu.   The environment is probably not significant for this error.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.createUser does not support PKCS11 keys,FABN-356,27012,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,mastersingh24,mastersingh24,23/Jan/18 8:07 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Jan/18 6:42 PM,,,,,,,v1.0.3,v1.1.0,,,0,,,,,The Client.createUser() function is provided to allow the use of existing cryptographic material to specify the identity which the Client should use.  The function should support any of the crypto providers (software and HSM/PKCS11) but currently only supports software-based crypto.,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jan/18 7:54 PM;mastersingh24;https://gerrit.hyperledger.org/r/17129  (master)

https://gerrit.hyperledger.org/r/17131 (release);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[Interoperability testing] Invalid param passed to the API newTransactionID, causes integration test failure against 1.1 SDK",FABN-357,27946,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,Ratnakar,Ratnakar,23/Feb/18 11:34 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Feb/18 6:45 AM,v1.0.6,,,,,,v1.0.6,,,,0,quality,,,,"This is an integration test issue and test needs to be fixed in the release branch 

File : integration/invoke.js

*Client.newTransactionID* -> This api been changed in V1.1 to take admin as a boolean flag, where as in the old test they are passing a string causes the 1.0 integration test fails against 1.1 node SDK. 

This has to be fixed in the v1.0 node SDK integration test so it can pass in both 1.0 and 1.1.",,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyylj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Feb/18 4:02 AM;mastersingh24;https://gerrit.hyperledger.org/r/18295;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Difficult to get the first channel defined in the CCP,FABN-358,22726,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,21/Oct/17 1:43 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Nov/17 6:19 AM,v1.1.0,,,,,,,,,,0,node-SDK,,,,"For composer we are only interested in a single channel at the moment so want to work with the first channel definition in the CCP. However this doesn't appear possible to do and I had to access internal structures in order to do it. The code I have to do this is, but unsure of the order the channel names would be returned.
{code}
        let channelNames = Object.keys(client._network_config._network_config.channels);
        const channel = client.getChannel(channelNames[0]);
{code}
It would be handy to have an array of all the channel names defined in declaration order.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzykf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/17 7:33 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14825/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-client PKCS11 support does not work properly with HSMs,FABN-359,26793,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,mastersingh24,mastersingh24,13/Jan/18 11:10 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Feb/18 7:04 AM,,,,,,,v1.1.0,,,,0,,,,,"While support for PKCS11 has been in the SDK for a while, testing with real HSMs (as opposed to SoftHSM) has revealed issues with the implementation.",,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzytcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/18 7:08 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/16819/]

https://gerrit.hyperledger.org/r/#/c/16821/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""gulp test"" should rebuild containers",FABN-360,17594,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,07/Jun/17 6:26 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Jun/17 12:38 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"Some tests in test/integration fail when “gulp test” is executed twice.

For example, joining a channel and installing a chaincode fail (see below) because they are already done in the previous run of “gulp test.”
{noformat}
# Calling peers in organization ""org1"" to join the channel
ok 592 Successfully enrolled orderer 'admin'
ok 593 Successfully got the genesis block
ok 594 Successfully enrolled org:org1 'admin'
not ok 595 Failed to join peers in organization ""peerOrg1"" to the channel. TypeError: Cannot read property 'stack' of undefined at Client.newDefaultKeyValueStore.then.then.then.then.then (/opt/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-chann\
el.js:217:55)
  ---
    operator: fail
    at: joinChannel.then (/opt/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:67:5)
 ...
ok 596 Successfully joined peers in organization ""peerOrg2"" to the channel
#

***** End-to-end flow: chaincode install *****

ok 597 Successfully enrolled user 'admin'
not ok 598 Error: Failed to send install Proposal or receive valid response: Error: chaincode error (status: 500, message: Error installing chaincode code end2endnodesdk:v0(chaincode /var/hyperledger/production/chaincodes/end2endnodesdk.v0 exists)) at Client.newDefaultKeyValueStore.then.then.then (/opt/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:142:10) at process._tickDomainCallback (internal/process/next_tick.js:135:7)
  ---
    operator: fail
    at: e2eUtils.installChaincode.then (/opt/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/install-chaincode.js:39:5)
  ...
{noformat}

It seems to be because the “docker-clean” task, which is also called from “test” task, cleans up only chaincode images, but not the containers created by docker-compose (orderers, peers, etc.).
Since cleaning up these containers is required every time before we run the “test” task, it should be done automatically when “gulp task” is executed.
",fabric-sdk-node commit 4f03644dcee9eb8f80b9bfa4a5e3b760bab2d926,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,FABN-384,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/17 7:00 AM;shimos;Posted: https://gerrit.hyperledger.org/r/#/c/10241/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js should use new COP server's admin credentials,FABN-361,13542,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,29/Nov/16 6:07 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,01/Dec/16 12:51 PM,,,,,,,,,,,0,node-SDK,,,,"now that the SDK has been updated to talk to fabric COP server for user enroll, it needs to be updated to use the admin/adminpw credentials that the COP server default configuration uses.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf7r:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Getting a list of event hubs for an organisation,FABN-362,22464,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:33 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Oct/17 8:11 AM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"In composer when a transaction is submitted to a set of peers, composer will then listen for events from all the peers it is allowed to connect to waiting for transaction committed events. Once it receives those events it returns to the caller. A CCP can contain peers in a channel for peers in multiple organisations, but the likelyhood is that you can only listen for events of peers in your own organisation. I used the following code to be able to register event listeners for just those peers as follows
{code}
    static getEventHubs(client) {
        let eventHubs = [];
        let orgConfig = HLFConnection.getOrgConfig(client);
        if (orgConfig) {
            let peers = orgConfig.getPeers();
            peers.forEach((peer) => {
                eventHubs.push(client.getEventHub(peer.getName()));
            });
        }
        return eventHubs;
    }
{code}
This is another helper method that might be worth providing above having to get the ClientConfig then the organisation",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/17 7:29 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14633/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove unused import for 'fabric-ca-client',FABN-363,28210,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,zhaochy,zhaochy,05/Mar/18 4:40 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Mar/18 1:33 PM,,,,,,,v1.1.0,,,,0,,,,,"remove unused import for 'fabric-ca-client'

if user does not install fabric-ca-client,
codes like this:

{code:java}
const Client = require('fabric-client');
let client = Client.loadFromConfig('test/network/network.yaml');
{code}

may throw error:

Error: Cannot find module 'fabric-ca-client'",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzu7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Mar/18 4:42 PM;zhaochy;https://gerrit.hyperledger.org/r/18719;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- HFC objects and reference documentation,FABN-364,15083,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 7:36 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Mar/17 3:24 AM,,,,,,,,,,,0,node-SDK,,,,"In the readme at  https://github.com/hyperledger/fabric-sdk-node, in this section:

{color:#205081}HFC objects and reference documentation{color}

1) For a high-level design specificiation for Fabric SDKs of all languages, visit this google doc (Work-In-Progress).

The linked document is out of date.  Can we point to a more recent one?

2) HFC is written in CommonJS modules and is object-oriented. It's comprised of the following modules. (a bulleted list follows).

This is a little confusing because there's a Modules pull down  menu above this section which lists api, fabric-ca-client, and fabric-client.  This has no bearing on the bulleted list that follows, which includes a nodejs part, a couple classes, and an interface (that may or may 

2) The MemberServices interface provides ...
There's no identifiable  MemberServices interface in the pull down menus on this page. 
3) The Member class represents ...
There's no member class in the classes pull down on this page. 

4) The classes included this list seem a little arbitrary.  For example, Client, Peer, and User are omitted from this list.   What is this paragraph trying to accomplish? ","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM 
",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2837,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxklb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Submitting chain code - the packager doesn't account for non-unix file paths,FABN-365,16808,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,mbwhite,mbwhite,17/May/17 8:38 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,21/May/17 1:10 PM,,,,,,,v1.0.0-alpha1,,,,0,,,,,"If working from a Windows client (fabric-client node-sdk), when the Goland.js packager is find all the source code, it doesn't correct the path names. 

In node, the FS module will give back platform specific paths. 

{{var desc = \{}}
{{   name: path.relative(goPath, entry.path),}}
{{   fqp: entry.path}}
{{};}}

 

The name and fqp fields need to converted to uni style paths before they are used. The following code in the findSource method would be able to rectify this and I've checked that it does work.



var desc = \{
name: '',
fqp: ''
};

if (path.sep === '\\')\{
desc.name = path.relative(goPath, entry.path);
desc.fwp = entry.path;
} else \{
desc.name = path.relative(goPath, entry.path);
desc.fwp = entry.path;
}",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/May/17 1:10 PM;jimthematrix;was fixed by https://gerrit.hyperledger.org/r/#/c/9467/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - update with latest protos,FABN-366,29782,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,28/Apr/18 4:13 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/May/18 12:22 AM,,,,,,,v1.2.0,,,,0,,,,,Update with the latest proto files and update ChannelEventHub to handle new names.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7yv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not able to update systemchannel with a new org,FABN-367,28061,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,vu3mmg,vu3mmg,27/Feb/18 11:45 PM,12/Oct/19 4:29 PM,28/Oct/23 3:25 AM,03/May/18 11:11 PM,v1.1.0-preview,,,,,,,,,,0,,,,,"Facing issues to add a new organization at consortium level to the system channel, {{testchainid}}.

I am able to update fields such as max_message_count as given below:

{{updated_config_json.channel_group.groups.Orderer.values.BatchSize.value.max_message_count += 100}}

But not able to update the consortium with a new Org as given below:

{{channel_group.groups.Consortiums.groups.SampleConsortium.groups}}

{{[""Org2MSP""]=org2}}

Orderer log: https://hastebin.com/jitebutasa.go

New config JSON. Please look for Org2MSP: https://hastebin.com/uyiwudigad.json

Steps to reproduce the issue:
# Clone https://github.com/vu3mmg/fabric-samples
# Go to fabcar directory 
# {{npm install}}
# {{./startFabric.sh}}
# {{node configUpdate.js}}  - this should add a new org to the consortium, but is giving error

It should do config update for {{testchainid}} channel.

The script to update maxmessage count {{node configUpdateMaxMsgCount.js}} is working.

The script {{node pullconfig.js}}  will help you dispaly existing config.

Make sure that configtxlator: Version: 1.1.0-preview is running.

 ",,denyeart,kchristidis,knagware9,vu3mmg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyz2v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,knagware9,vu3mmg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Feb/18 11:59 PM;denyeart;Reduced to Low since it is likely a usage error.;;;","28/Feb/18 12:02 AM;vu3mmg;Thank you .

I am not able to understand the issue , why it is happening so .

Thanks in advance for any help ...

 ;;;","28/Feb/18 6:29 PM;denyeart;Not a 1.1 must-fix issue, moving to 1.2 for continued assessment...;;;","28/Feb/18 7:17 PM;vu3mmg;If you could provide me some guidance  , I could put efforts  from my side to fix it, if this is an issue. I have limited knowledge to debug orderer . This one of the reason , why I am not able to understand the root cause .

 

 ;;;","28/Feb/18 9:54 PM;kchristidis;Mahesh: Will do. Haven't looked into it yet.;;;","01/Mar/18 3:41 AM;kchristidis;Updated the description to make things more legible and removed excessive line breaks.

What version of Fabric did you observe this on?

What's the version of the Node.js SDK that you are using?;;;","01/Mar/18 11:36 AM;vu3mmg;* Node-SDK Fabric client -  ""version"": ""1.0.4""
 * Fabric -  version  docker image - 1.1.0-preview;;;","03/Mar/18 10:59 AM;kchristidis;[~harrisob@us.ibm.com] (whenever you have spare cycles): Is there an easy way for me to get the envelope that is sent by the Node.js SDK here? [https://github.com/vu3mmg/fabric-samples/blob/release/fabcar/configUpdate.js#L194]

How should [~vu3mmg] modify that script so that a serialized representation of that envelope is saved to disk?;;;","07/Mar/18 1:40 PM;vu3mmg;Any clue . Where shall I suspect ? Node SDK or orderer ;;;","07/Mar/18 11:50 PM;kchristidis;I understand the lack of updates is frustrating, but when I have an update, I will post here. Currently waiting to hear back from Bret.;;;","08/Mar/18 12:47 AM;kchristidis;Until we hear back from Bret, [~vu3mmg] there is a way to figure out if it's an orderer issue.

Attempt to add a new org to the consortium group using the {{peer}} CLI, using a process similar to the one described here: http://hyperledger-fabric.readthedocs.io/en/latest/channel_update_tutorial.html#bring-org3-into-the-channel-manually

If that process succeeds, then it's definitely not an orderer issue.;;;","11/Mar/18 2:44 AM;kchristidis;[~vu3mmg]: Are you able to reproduce this issue using the {{peer}} CLI?;;;","13/Mar/18 2:31 PM;vu3mmg;[~kchristidis] Trying . I failed . Will try again and post the logs;;;","25/Apr/18 8:25 PM;kchristidis;Update on this?;;;","03/May/18 10:55 PM;kchristidis;Returned due to lack of updates.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer Org shows up in the getOrganization call when they are not part of the channel,FABN-368,19458,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,varadatibm,varadatibm,25/Jul/17 6:21 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,28/Jul/17 4:11 AM,,,,,,,v1.0.1,,,,0,,,,,"Orderer Org shows up in the getOrganization call when they are not part of the channel

 

Create a channel with Org1MSP and Org2MSP as part of the channel

Call getOrganizations on channel returns OrdererMSP, Org1MSP, Org2MSP

 

It should not return OrdererMSP since it is not part of the channel definition",,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9k7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Jul/17 6:36 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/11899/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix channel creation in test/integration/new-chain.js,FABN-369,16406,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,07/May/17 3:40 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/May/17 12:40 AM,,,,,,,v1.0.0,,,,0,,,,,"Integration test script ""test/integration/new-chain.js"" is not updated after [FAB-3319] introduced new style protobuf configuration envelope.

 

""new-chain.js"" is a negative test case. SDK requests orderer to create the same channel which has been already created.

The expected outcome is failing to create channel because the same channel exists.

When executing ""gulp test"", ""new-chain.js"" passes this test after SDK gets an error message ""BAD_REQUEST"".

 

If we execute ""new-chain.js"" without existing channel, the expected outcome is to create a new channel successfully.

However, this test fails. Orderer produces the unexpected error. The detailed log is attached.

 

2017-05-06 04:19:01.292 UTC [cauthdsl] func2 -> ERRO 1b2 Principal deserialization failed: (Could not deserialize a SerializedIdentity, err unexpected EOF) for identity [99 101 114 116]

 

Since gulp test passes, it looks like there is no problem. But we don't check the correct test scenario.

We need to fix ""new-chain.js"" to create channel if the same channel doesn't exist.","fabric: commit 58f33ece8cea77c061b516224a7c9646423c748b

fabric-sdk-node: commit f2fdae3fa1e856b1a0b6ec8e118b3279377eabcf

fabri-ca: commit bb17e4e6ac23f9c1d528b85a75e60b28f25fe20e",CarlXK,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/May/17 3:39 PM;yuki-kon;orderer.log.txt;https://jira.hyperledger.org/secure/attachment/10800/orderer.log.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,CarlXK,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 1:41 AM;yuki-kon;Patch set is here. https://gerrit.hyperledger.org/r/#/c/9051/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eliminate required nonce from APIs,FABN-370,16165,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,03/May/17 3:39 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,23/May/17 1:18 AM,,,,,,,,,,,0,,,,,"the nonce should ideally be automatically generated instead of being required on the API. the reason this is required, from discussing with [~harrisob@us.ibm.com] is the nonce and txId must be coherent: txId = hash(nonce + creator.IdBytes)

a possible solution to this, so that we don't ask the application developer for having to generate the nonce and the txId while preserving the coherence b/w the txId and the nonce values on APIs, is to use a ""TransactionID"" class that gets instantiated with the creator IdBytes and generates the nonce internally as well as the txId.

so the application code would look like:
Client.newTransactionID() <<== this requires the Client to have a legit userContext already
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3av:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK doc issue : wrong keyValStore folder is referred in README,FABN-371,13358,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,Ratnakar,Ratnakar,08/Nov/16 10:25 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Mar/17 1:49 PM,,,,,,,,,,,0,,,,,"As per the README (https://github.com/hyperledger/fabric-sdk-node#build-and-test) Doc it says to delete the keyValStore folder

{code:java}
Clear out your previous keyvalue store if needed (rm -fr /tmp/KeyValStore*)
{code}

However in the code test/util/utils.js it is hard coded with a different folder

{code:java}

module.exports.KVS = '/tmp/hfc-test-kvs';
{code}
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK leaks file handles,FABN-372,20655,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,sstone1,sstone1,07/Sep/17 4:43 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Nov/17 1:34 PM,,,,,,,v1.0.5,,,,1,,,,,"We are seeing that as expected, the Node.js SDK creates file handles for communicating with the peer and ordering service. These can be seen using lsof:
{code:java}
node    83189 sstone1   15u    IPv6 0xed59cbca3b63aaf7       0t0      TCP localhost:64262->localhost:7053 (ESTABLISHED)
node    83189 sstone1   16u    IPv6 0xed59cbca43de85b7       0t0      TCP localhost:64263->localhost:7051 (ESTABLISHED)
{code}
There is no way to close these file handles using the Node.js SDK. The only ""close"" or ""disconnect"" method available is for the event hub, and it does not remove the underlying file handle.

This is causing a file handle leak in any program that creates/closes multiple Fabric connections during its life time.

A bit of experimentation with the event hub shows that adding the following code to EventHub._disconnect removes the file handle for the event hub:
{code:java}
this._event_client.close();
{code}
The Node.js SDK needs to offer ""close"" or ""disconnect"" methods that close all connections and remove all of the created file handles for the peers and orderers. Guessing the CA is OK as it uses HTTP instead of gRPC.",,chrisf,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrisf,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Oct/17 5:14 AM;harrisob@us.ibm.com;In running a test that loops continuously on invoking and querying, I do see that node based IPv6 handlers go up, however after about 2 minutes they are cleaned up and the number drops to just a few.;;;","04/Nov/17 4:34 AM;harrisob@us.ibm.com;Thanks for the pointer to the .close() method... seems that all services (clients) have this method

[https://github.com/grpc/grpc/issues/8881]

Will add to Peer and Orderer, however on the EventHub will just add it to the disconnect();;;","04/Nov/17 4:42 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/15185/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Type information is broken in fabric-client/fabric-ca-client,FABN-373,28623,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,shimos,shimos,17/Mar/18 9:15 AM,25/Aug/18 6:23 AM,28/Oct/23 3:25 AM,23/Mar/18 7:45 PM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"Type information in v.1.1.0 is broken and not compilable with tsc.

With the following test files,

*package.json:*
{code:java}
{
  ""dependencies"": {
    ""fabric-ca-client"": ""^1.1.0"",
    ""fabric-client"": ""^1.1.0""
  },
  ""devDependencies"": {
    ""@types/bytebuffer"": ""^5.0.36"",
    ""@types/node"": ""^9.4.7""
  }
}
{code}
*test.ts:*
{code:java}
import Client = require(""fabric-client"");

const client = Client.loadFromConfig(""profile.yaml"");
{code}
The following errors are produced:
{noformat}
$ tsc --version
Version 2.7.2

$ tsc test.ts
node_modules/fabric-ca-client/index.d.ts(17,10): error TS2305: Module '""/home/testuser/tstest/node_modules/fabric-client/index""' has no exported member 'BaseClient'.
node_modules/fabric-ca-client/index.d.ts(17,22): error TS2305: Module '""/home/testuser/tstest/node_modules/fabric-client/index""' has no exported member 'ICryptoSuite'.
node_modules/fabric-ca-client/index.d.ts(17,36): error TS2305: Module '""/home/testuser/tstest/node_modules/fabric-client/index""' has no exported member 'User'.
node_modules/fabric-ca-client/index.d.ts(17,48): error TS2497: Module '""/home/testuser/tstest/node_modules/fabric-client/index""' resolves to a non-module entity and cannot be imported using this construct.
node_modules/fabric-ca-client/index.d.ts(153,5): error TS2666: Exports and export assignments are not permitted in module augmentations.
node_modules/fabric-client/index.d.ts(17,10): error TS2305: Module '""/home/testuser/tstest/node_modules/fabric-ca-client/index""' has no exported member 'FabricCAServices'.
node_modules/fabric-client/index.d.ts(17,34): error TS2497: Module '""/home/testuser/tstest/node_modules/fabric-ca-client/index""' resolves to a non-module entity and cannot be imported using this construct.
node_modules/fabric-client/index.d.ts(461,3): error TS2666: Exports and export assignments are not permitted in module augmentations.
{noformat}
With the version of some days before v1.1.0 (using 1.1.0-snapshot.95), it worked:
{noformat}
$ tsc test.ts
$ cat test.js
""use strict"";
exports.__esModule = true;
var Client = require(""fabric-client"");
var client = Client.loadFromConfig(""profile.yaml"");
{noformat}
This may be due to the new type definition for fabric-ca-client in -FAB-8879-, and it seems that definitions in both fabric-client and fabric-ca-client should be fixed.",fabric-sdk-node v1.1.0,shimos,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-573,FABN-277,,,,,FABN-891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1tz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,shimos,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Mar/18 5:57 PM;zhaochy;https://gerrit.hyperledger.org/r/19377;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
proposal with 0 endorsers returns cryptic error,FABN-374,15105,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,harrisob@us.ibm.com,greg.haskins,greg.haskins,01/Mar/17 1:23 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,15/Jul/17 6:43 AM,,,,,,,v1.0.1,,,,0,help-wanted,,,,"passing a proposalResponse to chain.sendTransaction() with 0 endorsers will return a very cryptic error:

{noformat}
Error: Illegal value for [object Object] of type message: object (object expected)
{noformat}

While trying to commit a proposal with 0 endorsers is not a valid use case, the code should probably gracefully handle this scenario with a more appropriate error.
",,greg.haskins,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3dz:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,greg.haskins,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/17 6:42 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/11637/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update node.js SDK's sample docker-compose.yml,FABN-375,13908,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,jimthematrix,jimthematrix,03/Jan/17 10:19 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,04/Jan/17 12:04 AM,,,,,,,,,,,0,,,,,"it's broken due to a change in orderer.yaml, that changed ""general/batchsize"" from a simple integer property to an object with a sub-property ""maxmessagecount"". as a result, the docker-compose needs to have the following change:

-      - ORDERER_GENERAL_BATCHSIZE=10
+      - ORDERER_GENERAL_BATCHSIZE_MAXMESSAGECOUNT=10
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx88f:",,,,,,Sprint 8 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/17 12:04 AM;jimthematrix;[~yuki-kon] has already fixed this during the holiday break, thanks Yuki!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk fails to install on Windows,FABN-376,13549,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,kletkeman,kletkeman,29/Nov/16 7:49 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,01/Jan/17 5:24 AM,v1.0.0,,,,,,,,,,0,,,,,"I am using a Windows machine for v1 development (my Mac is otherwise occupied), and I need to test my contracts. Since REST is no longer supported, I am trying out the node sdk. Unfortunately, both ""npm install"" and ""npm install -g hfc"" fail, but with slightly different issues. See below for both listings.

Error encountered for ""npm install"":

``` bash
kletkeman@tp-letkemank  /c/blockchain/src/github.com/hyperledger/fabric-sdk-node (master)
$ npm install
npm WARN deprecated node-uuid@1.4.7: use uuid module instead
npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated graceful-fs@1.2.3: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.
npm WARN prefer global marked@0.3.6 should be installed with -g

> dtrace-provider@0.8.0 install C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\dtrace-provider
> node scripts/install.js


> grpc@1.0.1 install C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\grpc
> node-pre-gyp install --fallback-to-build

[grpc] Success: ""C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\grpc\src\node\extension_binary\grpc_node.node"" is installed via remote

> sleep@3.0.1 install C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\sleep
> node-gyp rebuild


C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\sleep>if not defined npm_config_node_gyp (node ""C:\Program Files\nodejs\node_modules\npm\bin\node-gyp-bin\\..\..\node_modules\node-gyp\bin\node-gyp.js"" rebuild )  else (node """" rebuild )
gyp ERR! configure error
gyp ERR! stack Error: Can't find Python executable ""python"", you can set the PYTHON env variable.
gyp ERR! stack     at failNoPython (C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:449:14)
gyp ERR! stack     at C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:404:11
gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:123:15)
gyp ERR! System Windows_NT 6.1.7601
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""rebuild""
gyp ERR! cwd C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\node_modules\sleep
gyp ERR! node -v v6.9.1
gyp ERR! node-gyp -v v3.4.0
gyp ERR! not ok
hfc@0.0.2 C:\blockchain\src\github.com\hyperledger\fabric-sdk-node
+-- aes-js@1.0.0
+-- asn1@0.2.3  (git+https://github.com/mcavage/node-asn1.git#2c2a19e285a609adfca36a0114bb5b86cf4ac61b)
+-- asn1js@1.2.12
+-- bn.js@4.11.6
+-- bunyan@1.8.5
| +-- dtrace-provider@0.8.0
| +-- moment@2.17.0
| +-- mv@2.1.1
| | +-- ncp@2.0.0
| | `-- rimraf@2.4.5
| |   `-- glob@6.0.4
| `-- safe-json-stringify@1.0.3
+-- crypto@0.0.3
+-- elliptic@6.3.2
| +-- brorand@1.0.6
| +-- hash.js@1.0.3
| `-- inherits@2.0.3
+-- events@1.1.1
+-- fs@0.0.2
+-- fs-extra@0.30.0
| +-- graceful-fs@4.1.11
| +-- jsonfile@2.4.0
| +-- klaw@1.3.1
| +-- path-is-absolute@1.0.1
| `-- rimraf@2.5.4
+-- grpc@1.0.1
| +-- arguejs@0.2.3
| +-- nan@2.4.0
| +-- node-pre-gyp@0.6.31
| | +-- mkdirp@0.5.1
| | | `-- minimist@0.0.8
| | +-- nopt@3.0.6
| | | `-- abbrev@1.0.9
| | +-- npmlog@4.0.0
| | | +-- are-we-there-yet@1.1.2
| | | | +-- delegates@1.0.0
| | | | `-- readable-stream@2.1.5
| | | |   +-- buffer-shims@1.0.0
| | | |   +-- core-util-is@1.0.2
| | | |   +-- inherits@2.0.3
| | | |   +-- isarray@1.0.0
| | | |   +-- process-nextick-args@1.0.7
| | | |   +-- string_decoder@0.10.31
| | | |   `-- util-deprecate@1.0.2
| | | +-- console-control-strings@1.1.0
| | | +-- gauge@2.6.0
| | | | +-- aproba@1.0.4
| | | | +-- has-color@0.1.7
| | | | +-- has-unicode@2.0.1
| | | | +-- object-assign@4.1.0
| | | | +-- signal-exit@3.0.1
| | | | +-- string-width@1.0.2
| | | | | +-- code-point-at@1.0.1
| | | | | | `-- number-is-nan@1.0.1
| | | | | `-- is-fullwidth-code-point@1.0.0
| | | | |   `-- number-is-nan@1.0.1
| | | | +-- strip-ansi@3.0.1
| | | | | `-- ansi-regex@2.0.0
| | | | `-- wide-align@1.1.0
| | | `-- set-blocking@2.0.0
| | +-- rc@1.1.6
| | | +-- deep-extend@0.4.1
| | | +-- ini@1.3.4
| | | +-- minimist@1.2.0
| | | `-- strip-json-comments@1.0.4
| | +-- request@2.76.0
| | | +-- aws-sign2@0.6.0
| | | +-- aws4@1.5.0
| | | +-- caseless@0.11.0
| | | +-- combined-stream@1.0.5
| | | | `-- delayed-stream@1.0.0
| | | +-- extend@3.0.0
| | | +-- forever-agent@0.6.1
| | | +-- form-data@2.1.1
| | | | `-- asynckit@0.4.0
| | | +-- har-validator@2.0.6
| | | | +-- chalk@1.1.3
| | | | | +-- ansi-styles@2.2.1
| | | | | +-- escape-string-regexp@1.0.5
| | | | | +-- has-ansi@2.0.0
| | | | | | `-- ansi-regex@2.0.0
| | | | | +-- strip-ansi@3.0.1
| | | | | | `-- ansi-regex@2.0.0
| | | | | `-- supports-color@2.0.0
| | | | +-- commander@2.9.0
| | | | | `-- graceful-readlink@1.0.1
| | | | +-- is-my-json-valid@2.15.0
| | | | | +-- generate-function@2.0.0
| | | | | +-- generate-object-property@1.2.0
| | | | | | `-- is-property@1.0.2
| | | | | +-- jsonpointer@4.0.0
| | | | | `-- xtend@4.0.1
| | | | `-- pinkie-promise@2.0.1
| | | |   `-- pinkie@2.0.4
| | | +-- hawk@3.1.3
| | | | +-- boom@2.10.1
| | | | +-- cryptiles@2.0.5
| | | | +-- hoek@2.16.3
| | | | `-- sntp@1.0.9
| | | +-- http-signature@1.1.1
| | | | +-- assert-plus@0.2.0
| | | | +-- jsprim@1.3.1
| | | | | +-- extsprintf@1.0.2
| | | | | +-- json-schema@0.2.3
| | | | | `-- verror@1.3.6
| | | | `-- sshpk@1.10.1
| | | |   +-- asn1@0.2.3
| | | |   +-- assert-plus@1.0.0
| | | |   +-- bcrypt-pbkdf@1.0.0
| | | |   +-- dashdash@1.14.0
| | | |   +-- ecc-jsbn@0.1.1
| | | |   +-- getpass@0.1.6
| | | |   +-- jodid25519@1.0.2
| | | |   +-- jsbn@0.1.0
| | | |   `-- tweetnacl@0.14.3
| | | +-- is-typedarray@1.0.0
| | | +-- isstream@0.1.2
| | | +-- json-stringify-safe@5.0.1
| | | +-- mime-types@2.1.12
| | | | `-- mime-db@1.24.0
| | | +-- node-uuid@1.4.7
| | | +-- oauth-sign@0.8.2
| | | +-- qs@6.3.0
| | | +-- stringstream@0.0.5
| | | +-- tough-cookie@2.3.2
| | | | `-- punycode@1.4.1
| | | `-- tunnel-agent@0.4.3
| | +-- rimraf@2.5.4
| | | `-- glob@7.1.1
| | |   +-- fs.realpath@1.0.0
| | |   +-- inflight@1.0.6
| | |   | `-- wrappy@1.0.2
| | |   +-- inherits@2.0.3
| | |   +-- minimatch@3.0.3
| | |   | `-- brace-expansion@1.1.6
| | |   |   +-- balanced-match@0.4.2
| | |   |   `-- concat-map@0.0.1
| | |   +-- once@1.4.0
| | |   | `-- wrappy@1.0.2
| | |   `-- path-is-absolute@1.0.1
| | +-- semver@5.3.0
| | +-- tar@2.2.1
| | | +-- block-stream@0.0.9
| | | +-- fstream@1.0.10
| | | | `-- graceful-fs@4.1.9
| | | `-- inherits@2.0.3
| | `-- tar-pack@3.3.0
| |   +-- debug@2.2.0
| |   | `-- ms@0.7.1
| |   +-- fstream@1.0.10
| |   | +-- graceful-fs@4.1.9
| |   | `-- inherits@2.0.3
| |   +-- fstream-ignore@1.0.5
| |   | +-- inherits@2.0.3
| |   | `-- minimatch@3.0.3
| |   |   `-- brace-expansion@1.1.6
| |   |     +-- balanced-match@0.4.2
| |   |     `-- concat-map@0.0.1
| |   +-- once@1.3.3
| |   | `-- wrappy@1.0.2
| |   +-- readable-stream@2.1.5
| |   | +-- buffer-shims@1.0.0
| |   | +-- core-util-is@1.0.2
| |   | +-- inherits@2.0.3
| |   | +-- isarray@1.0.0
| |   | +-- process-nextick-args@1.0.7
| |   | +-- string_decoder@0.10.31
| |   | `-- util-deprecate@1.0.2
| |   `-- uid-number@0.0.6
| `-- protobufjs@5.0.1
|   +-- ascli@1.0.1
|   | +-- colour@0.7.1
|   | `-- optjs@3.2.2
|   +-- bytebuffer@5.0.1
|   | `-- long@3.2.0
|   `-- glob@5.0.15
+-- gulp@3.9.1
| +-- archy@1.0.0
| +-- chalk@1.1.3
| | +-- ansi-styles@2.2.1
| | +-- escape-string-regexp@1.0.5
| | +-- has-ansi@2.0.0
| | | `-- ansi-regex@2.0.0
| | +-- strip-ansi@3.0.1
| | `-- supports-color@2.0.0
| +-- deprecated@0.0.1
| +-- gulp-util@3.0.7
| | +-- array-differ@1.0.0
| | +-- array-uniq@1.0.3
| | +-- beeper@1.1.1
| | +-- dateformat@1.0.12
| | | +-- get-stdin@4.0.1
| | | `-- meow@3.7.0
| | |   +-- camelcase-keys@2.1.0
| | |   +-- loud-rejection@1.6.0
| | |   | +-- currently-unhandled@0.4.1
| | |   | | `-- array-find-index@1.0.2
| | |   | `-- signal-exit@3.0.1
| | |   +-- map-obj@1.0.1
| | |   +-- minimist@1.2.0
| | |   +-- normalize-package-data@2.3.5
| | |   | +-- hosted-git-info@2.1.5
| | |   | +-- is-builtin-module@1.0.0
| | |   | | `-- builtin-modules@1.1.1
| | |   | `-- validate-npm-package-license@3.0.1
| | |   |   +-- spdx-correct@1.0.2
| | |   |   | `-- spdx-license-ids@1.2.2
| | |   |   `-- spdx-expression-parse@1.0.4
| | |   +-- object-assign@4.1.0
| | |   +-- read-pkg-up@1.0.1
| | |   | +-- find-up@1.1.2
| | |   | | `-- path-exists@2.1.0
| | |   | `-- read-pkg@1.1.0
| | |   |   +-- load-json-file@1.1.0
| | |   |   | +-- parse-json@2.2.0
| | |   |   | | `-- error-ex@1.3.0
| | |   |   | |   `-- is-arrayish@0.2.1
| | |   |   | `-- strip-bom@2.0.0
| | |   |   `-- path-type@1.1.0
| | |   +-- redent@1.0.0
| | |   | +-- indent-string@2.1.0
| | |   | | `-- repeating@2.0.1
| | |   | |   `-- is-finite@1.0.2
| | |   | `-- strip-indent@1.0.1
| | |   `-- trim-newlines@1.0.0
| | +-- fancy-log@1.2.0
| | | `-- time-stamp@1.0.1
| | +-- gulplog@1.0.0
| | | `-- glogg@1.0.0
| | +-- has-gulplog@0.1.0
| | | `-- sparkles@1.0.0
| | +-- lodash._reescape@3.0.0
| | +-- lodash._reevaluate@3.0.0
| | +-- lodash._reinterpolate@3.0.0
| | +-- lodash.template@3.6.2
| | | +-- lodash._basecopy@3.0.1
| | | +-- lodash._basetostring@3.0.1
| | | +-- lodash._isiterateecall@3.0.9
| | | +-- lodash.escape@3.2.0
| | | | `-- lodash._root@3.0.1
| | | +-- lodash.restparam@3.6.1
| | | `-- lodash.templatesettings@3.1.1
| | +-- minimist@1.2.0
| | +-- multipipe@0.1.2
| | | `-- duplexer2@0.0.2
| | |   `-- readable-stream@1.1.14
| | |     `-- isarray@0.0.1
| | +-- object-assign@3.0.0
| | +-- replace-ext@0.0.1
| | `-- vinyl@0.5.3
| |   +-- clone@1.0.2
| |   `-- clone-stats@0.0.1
| +-- interpret@1.0.1
| +-- liftoff@2.3.0
| | +-- extend@3.0.0
| | +-- findup-sync@0.4.3
| | | +-- detect-file@0.1.0
| | | | `-- fs-exists-sync@0.1.0
| | | +-- is-glob@2.0.1
| | | | `-- is-extglob@1.0.0
| | | +-- micromatch@2.3.11
| | | | +-- arr-diff@2.0.0
| | | | | `-- arr-flatten@1.0.1
| | | | +-- array-unique@0.2.1
| | | | +-- braces@1.8.5
| | | | | +-- expand-range@1.8.2
| | | | | | `-- fill-range@2.2.3
| | | | | |   +-- is-number@2.1.0
| | | | | |   +-- isobject@2.1.0
| | | | | |   +-- randomatic@1.1.6
| | | | | |   `-- repeat-string@1.6.1
| | | | | +-- preserve@0.2.0
| | | | | `-- repeat-element@1.1.2
| | | | +-- expand-brackets@0.1.5
| | | | | `-- is-posix-bracket@0.1.1
| | | | +-- extglob@0.3.2
| | | | +-- filename-regex@2.0.0
| | | | +-- kind-of@3.0.4
| | | | | `-- is-buffer@1.1.4
| | | | +-- normalize-path@2.0.1
| | | | +-- object.omit@2.0.1
| | | | | +-- for-own@0.1.4
| | | | | | `-- for-in@0.1.6
| | | | | `-- is-extendable@0.1.1
| | | | +-- parse-glob@3.0.4
| | | | | +-- glob-base@0.3.0
| | | | | | `-- glob-parent@2.0.0
| | | | | `-- is-dotfile@1.0.2
| | | | `-- regex-cache@0.4.3
| | | |   +-- is-equal-shallow@0.1.3
| | | |   `-- is-primitive@2.0.0
| | | `-- resolve-dir@0.1.1
| | |   `-- global-modules@0.2.3
| | |     +-- global-prefix@0.1.4
| | |     | `-- osenv@0.1.3
| | |     `-- is-windows@0.2.0
| | +-- fined@1.0.2
| | | +-- expand-tilde@1.2.2
| | | +-- lodash.assignwith@4.2.0
| | | +-- lodash.isempty@4.4.0
| | | +-- lodash.pick@4.4.0
| | | `-- parse-filepath@1.0.1
| | |   +-- is-absolute@0.2.6
| | |   | `-- is-relative@0.2.1
| | |   |   `-- is-unc-path@0.1.1
| | |   |     `-- unc-path-regex@0.1.2
| | |   +-- map-cache@0.2.2
| | |   `-- path-root@0.1.1
| | |     `-- path-root-regex@0.1.2
| | +-- flagged-respawn@0.3.2
| | +-- lodash.isplainobject@4.0.6
| | +-- lodash.isstring@4.0.1
| | +-- lodash.mapvalues@4.6.0
| | `-- rechoir@0.6.2
| +-- minimist@1.2.0
| +-- orchestrator@0.3.8
| | +-- end-of-stream@0.1.5
| | | `-- once@1.3.3
| | +-- sequencify@0.0.7
| | `-- stream-consume@0.1.0
| +-- pretty-hrtime@1.0.3
| +-- semver@4.3.6
| +-- tildify@1.2.0
| | `-- os-homedir@1.0.2
| +-- v8flags@2.0.11
| | `-- user-home@1.1.1
| `-- vinyl-fs@0.3.14
|   +-- defaults@1.0.3
|   +-- glob-stream@3.1.18
|   | +-- glob@4.5.3
|   | +-- glob2base@0.0.12
|   | | `-- find-index@0.1.1
|   | +-- minimatch@2.0.10
|   | +-- ordered-read-streams@0.1.0
|   | +-- through2@0.6.5
|   | | `-- readable-stream@1.0.34
|   | |   `-- isarray@0.0.1
|   | `-- unique-stream@1.0.0
|   +-- glob-watcher@0.0.6
|   | `-- gaze@0.5.2
|   |   `-- globule@0.1.0
|   |     +-- glob@3.1.21
|   |     | +-- graceful-fs@1.2.3
|   |     | `-- inherits@1.0.2
|   |     +-- lodash@1.0.2
|   |     `-- minimatch@0.2.14
|   |       +-- lru-cache@2.7.3
|   |       `-- sigmund@1.0.1
|   +-- graceful-fs@3.0.11
|   | `-- natives@1.1.0
|   +-- strip-bom@1.0.0
|   | +-- first-chunk-stream@1.0.0
|   | `-- is-utf8@0.2.1
|   +-- through2@0.6.5
|   | `-- readable-stream@1.0.34
|   |   `-- isarray@0.0.1
|   `-- vinyl@0.4.6
|     `-- clone@0.2.0
+-- gulp-eslint@3.0.1
| +-- bufferstreams@1.1.1
| | `-- readable-stream@2.2.2
| |   +-- buffer-shims@1.0.0
| |   +-- isarray@1.0.0
| |   +-- process-nextick-args@1.0.7
| |   `-- util-deprecate@1.0.2
| `-- eslint@3.11.1
|   +-- babel-code-frame@6.16.0
|   | `-- js-tokens@2.0.0
|   +-- concat-stream@1.5.2
|   | +-- readable-stream@2.0.6
|   | `-- typedarray@0.0.6
|   +-- doctrine@1.5.0
|   +-- escope@3.6.0
|   | +-- es6-map@0.1.4
|   | | +-- d@0.1.1
|   | | +-- es5-ext@0.10.12
|   | | +-- es6-iterator@2.0.0
|   | | +-- es6-set@0.1.4
|   | | +-- es6-symbol@3.1.0
|   | | `-- event-emitter@0.3.4
|   | +-- es6-weak-map@2.0.1
|   | `-- esrecurse@4.1.0
|   |   +-- estraverse@4.1.1
|   |   `-- object-assign@4.1.0
|   +-- espree@3.3.2
|   | +-- acorn@4.0.3
|   | `-- acorn-jsx@3.0.1
|   |   `-- acorn@3.3.0
|   +-- estraverse@4.2.0
|   +-- esutils@2.0.2
|   +-- file-entry-cache@2.0.0
|   | +-- flat-cache@1.2.1
|   | | +-- circular-json@0.3.1
|   | | +-- del@2.2.2
|   | | | +-- globby@5.0.0
|   | | | | +-- array-union@1.0.2
|   | | | | +-- arrify@1.0.1
|   | | | | `-- object-assign@4.1.0
|   | | | +-- is-path-cwd@1.0.0
|   | | | +-- is-path-in-cwd@1.0.0
|   | | | | `-- is-path-inside@1.0.0
|   | | | +-- object-assign@4.1.0
|   | | | +-- pify@2.3.0
|   | | | `-- pinkie-promise@2.0.1
|   | | |   `-- pinkie@2.0.4
|   | | `-- write@0.2.1
|   | `-- object-assign@4.1.0
|   +-- globals@9.14.0
|   +-- ignore@3.2.0
|   +-- imurmurhash@0.1.4
|   +-- inquirer@0.12.0
|   | +-- ansi-escapes@1.4.0
|   | +-- cli-cursor@1.0.2
|   | | `-- restore-cursor@1.0.1
|   | |   `-- exit-hook@1.1.1
|   | +-- cli-width@2.1.0
|   | +-- figures@1.7.0
|   | | `-- object-assign@4.1.0
|   | +-- readline2@1.0.1
|   | | `-- mute-stream@0.0.5
|   | +-- run-async@0.1.0
|   | `-- rx-lite@3.1.2
|   +-- is-my-json-valid@2.15.0
|   | +-- generate-function@2.0.0
|   | +-- generate-object-property@1.2.0
|   | | `-- is-property@1.0.2
|   | `-- jsonpointer@4.0.0
|   +-- is-resolvable@1.0.0
|   | `-- tryit@1.0.3
|   +-- js-yaml@3.7.0
|   | `-- argparse@1.0.9
|   |   `-- sprintf-js@1.0.3
|   +-- json-stable-stringify@1.0.1
|   | `-- jsonify@0.0.0
|   +-- levn@0.3.0
|   | +-- prelude-ls@1.1.2
|   | `-- type-check@0.3.2
|   +-- natural-compare@1.4.0
|   +-- optionator@0.8.2
|   | +-- deep-is@0.1.3
|   | `-- fast-levenshtein@2.0.5
|   +-- path-is-inside@1.0.2
|   +-- pluralize@1.2.1
|   +-- progress@1.1.8
|   +-- shelljs@0.7.5
|   +-- strip-bom@3.0.0
|   +-- strip-json-comments@1.0.4
|   +-- table@3.8.3
|   | +-- ajv@4.9.0
|   | | `-- co@4.6.0
|   | +-- ajv-keywords@1.1.1
|   | +-- slice-ansi@0.0.4
|   | `-- string-width@2.0.0
|   |   `-- is-fullwidth-code-point@2.0.0
|   +-- text-table@0.2.0
|   `-- user-home@2.0.0
+-- gulp-istanbul@1.1.1
| +-- istanbul@0.4.5
| | +-- abbrev@1.0.9
| | +-- escodegen@1.8.1
| | | +-- estraverse@1.9.3
| | | `-- source-map@0.2.0
| | |   `-- amdefine@1.0.1
| | +-- esprima@2.7.3
| | +-- glob@5.0.15
| | +-- handlebars@4.0.6
| | | +-- optimist@0.6.1
| | | | `-- wordwrap@0.0.3
| | | +-- source-map@0.4.4
| | | `-- uglify-js@2.7.4
| | |   +-- async@0.2.10
| | |   +-- source-map@0.5.6
| | |   +-- uglify-to-browserify@1.0.2
| | |   `-- yargs@3.10.0
| | |     +-- camelcase@1.2.1
| | |     +-- cliui@2.1.0
| | |     | +-- center-align@0.1.3
| | |     | | +-- align-text@0.1.4
| | |     | | | `-- longest@1.0.1
| | |     | | `-- lazy-cache@1.0.4
| | |     | +-- right-align@0.1.3
| | |     | `-- wordwrap@0.0.2
| | |     `-- window-size@0.1.0
| | +-- nopt@3.0.6
| | +-- once@1.4.0
| | | `-- wrappy@1.0.2
| | +-- supports-color@3.1.2
| | | `-- has-flag@1.0.0
| | +-- which@1.2.12
| | | `-- isexe@1.1.2
| | `-- wordwrap@1.0.0
| +-- istanbul-threshold-checker@0.1.0
| | +-- istanbul@0.3.22
| | | +-- escodegen@1.7.1
| | | | +-- esprima@1.2.5
| | | | +-- estraverse@1.9.3
| | | | `-- optionator@0.5.0
| | | |   +-- fast-levenshtein@1.0.7
| | | |   +-- levn@0.2.5
| | | |   `-- wordwrap@0.0.3
| | | +-- esprima@2.5.0
| | | +-- fileset@0.2.1
| | | | +-- glob@5.0.15
| | | | `-- minimatch@2.0.10
| | | `-- supports-color@3.1.2
| | `-- lodash@3.6.0
| +-- through2@2.0.2
| | `-- xtend@4.0.1
| `-- vinyl-sourcemaps-apply@0.2.1
|   `-- source-map@0.5.6
+-- gulp-jsdoc3@0.3.0
| +-- bluebird@3.4.6
| +-- debug@2.3.3
| | `-- ms@0.7.2
| +-- ink-docstrap@1.3.0
| | `-- sanitize-html@1.13.0
| |   +-- htmlparser2@3.9.2
| |   | +-- domelementtype@1.3.0
| |   | +-- domhandler@2.3.0
| |   | +-- domutils@1.5.1
| |   | | `-- dom-serializer@0.1.0
| |   | |   `-- domelementtype@1.1.3
| |   | `-- entities@1.1.1
| |   `-- regexp-quote@0.0.0
| +-- jsdoc@3.4.3
| | +-- catharsis@0.8.8
| | | `-- underscore-contrib@0.3.0
| | |   `-- underscore@1.6.0
| | +-- espree@3.1.7
| | | `-- acorn@3.3.0
| | +-- js2xmlparser@1.0.0
| | +-- marked@0.3.6
| | +-- requizzle@0.2.1
| | | `-- underscore@1.6.0
| | +-- strip-json-comments@2.0.1
| | +-- taffydb@2.6.2
| | `-- underscore@1.8.3
| +-- map-stream@0.0.6
| `-- tmp@0.0.28
|   `-- os-tmpdir@1.0.2
+-- gulp-tape@0.0.9
| `-- require-uncached@1.0.3
|   +-- caller-path@0.1.0
|   | `-- callsites@0.2.0
|   `-- resolve-from@1.0.1
+-- intercept-stdout@0.1.2
| `-- lodash.toarray@3.0.2
|   +-- lodash._arraycopy@3.0.0
|   +-- lodash._basevalues@3.0.0
|   `-- lodash.keys@3.1.2
|     +-- lodash._getnative@3.9.1
|     +-- lodash.isarguments@3.1.0
|     `-- lodash.isarray@3.0.4
+-- js-sha3@0.5.5
+-- json-stringify-safe@5.0.1
+-- jsrsasign@6.2.2
+-- jssha@2.2.0
+-- lodash@4.17.2
+-- log4js@0.6.38
| `-- readable-stream@1.0.34
|   +-- core-util-is@1.0.2
|   +-- isarray@0.0.1
|   `-- string_decoder@0.10.31
+-- nconf@0.8.4
| +-- async@1.5.2
| +-- ini@1.3.4
| +-- secure-keys@1.0.0
| `-- yargs@3.32.0
|   +-- camelcase@2.1.1
|   +-- cliui@3.2.0
|   | `-- wrap-ansi@2.0.0
|   +-- decamelize@1.2.0
|   +-- os-locale@1.4.0
|   | `-- lcid@1.0.0
|   |   `-- invert-kv@1.0.0
|   +-- string-width@1.0.2
|   | +-- code-point-at@1.1.0
|   | `-- is-fullwidth-code-point@1.0.0
|   |   `-- number-is-nan@1.0.1
|   +-- window-size@0.1.4
|   `-- y18n@3.2.1
+-- node-uuid@1.4.7
+-- node.extend@1.1.6
| `-- is@3.2.0
+-- path@0.12.7
| `-- process@0.11.9
+-- pkijs@1.3.33
+-- promise-settle@0.3.0
+-- require-dir@0.3.1
+-- sjcl@1.0.3
+-- sjcl-codec@0.1.1
+-- tap-colorize@1.2.0
| +-- colornames@0.0.2
| +-- minimist@0.2.0
| +-- quotemeta@0.0.0
| +-- split@0.3.3
| +-- stream-combiner@0.2.2
| | `-- duplexer@0.1.1
| +-- through2@1.0.0
| | +-- readable-stream@1.1.14
| | | `-- isarray@0.0.1
| | `-- xtend@2.1.2
| |   `-- object-keys@0.4.0
| `-- x256@0.0.2
+-- tape@4.6.3
| +-- deep-equal@1.0.1
| +-- defined@1.0.0
| +-- for-each@0.3.2
| | `-- is-function@1.0.1
| +-- function-bind@1.1.0
| +-- glob@7.1.1
| | +-- fs.realpath@1.0.0
| | +-- inflight@1.0.6
| | `-- minimatch@3.0.3
| |   `-- brace-expansion@1.1.6
| |     +-- balanced-match@0.4.2
| |     `-- concat-map@0.0.1
| +-- has@1.0.1
| +-- minimist@1.2.0
| +-- object-inspect@1.2.1
| +-- resolve@1.1.7
| +-- resumer@0.0.0
| +-- string.prototype.trim@1.1.2
| | +-- define-properties@1.1.2
| | | +-- foreach@2.0.5
| | | `-- object-keys@1.0.11
| | `-- es-abstract@1.6.1
| |   +-- es-to-primitive@1.1.1
| |   | +-- is-date-object@1.0.1
| |   | `-- is-symbol@1.0.1
| |   +-- is-callable@1.1.3
| |   `-- is-regex@1.0.3
| `-- through@2.3.8
+-- tape-promise@1.1.0
| `-- onetime@1.1.0
+-- tar-fs@1.14.0
| +-- mkdirp@0.5.1
| | `-- minimist@0.0.8
| +-- pump@1.0.1
| | `-- end-of-stream@1.1.0
| |   `-- once@1.3.3
| `-- tar-stream@1.5.2
|   `-- bl@1.1.2
|     `-- readable-stream@2.0.6
+-- url@0.11.0
| +-- punycode@1.3.2
| `-- querystring@0.2.0
+-- util@0.10.3
| `-- inherits@2.0.1
+-- uuidv4@0.3.1
`-- winston@2.3.0
  +-- async@1.0.0
  +-- colors@1.0.3
  +-- cycle@1.0.3
  +-- eyes@0.1.8
  +-- isstream@0.1.2
  `-- stack-trace@0.0.9

npm ERR! Windows_NT 6.1.7601
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install""
npm ERR! node v6.9.1
npm ERR! npm  v3.10.8
npm ERR! code ELIFECYCLE

npm ERR! sleep@3.0.1 install: `node-gyp rebuild`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the sleep@3.0.1 install script 'node-gyp rebuild'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the sleep package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp rebuild
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs sleep
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls sleep
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\npm-debug.log
```

Errors encountered for ""npm install -g hfc"":

``` bash
kletkeman@tp-letkemank  /c/blockchain/src/github.com/hyperledger/fabric-sdk-node (master)
$ npm install -g hfc
npm WARN deprecated node-uuid@1.4.7: use uuid module instead
C:\Users\IBM_ADMIN\AppData\Roaming\npm\hfc -> C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\bin\main.js

> grpc@1.0.0 install C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\node_modules\grpc
> node-pre-gyp install --fallback-to-build

[grpc] Success: ""C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\node_modules\grpc\src\node\extension_binary\grpc_node.node"" is installed via remote

> hashtable@2.0.2 install C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\node_modules\hashtable
> node-gyp configure build


C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\node_modules\hashtable>if not defined npm_config_node_gyp (node ""C:\Program Files\nodejs\node_modules\npm\bin\node-gyp-bin\\..\..\node_modules\node-gyp\bin\node-gyp.js"" configure build )  else (node """" configure build )
gyp ERR! configure error
gyp ERR! stack Error: Can't find Python executable ""python"", you can set the PYTHON env variable.
gyp ERR! stack     at failNoPython (C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:449:14)
gyp ERR! stack     at C:\Program Files\nodejs\node_modules\npm\node_modules\node-gyp\lib\configure.js:404:11
gyp ERR! stack     at FSReqWrap.oncomplete (fs.js:123:15)
gyp ERR! System Windows_NT 6.1.7601
gyp ERR! command ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js"" ""configure"" ""build""
gyp ERR! cwd C:\Users\IBM_ADMIN\AppData\Roaming\npm\node_modules\hfc\node_modules\hashtable
gyp ERR! node -v v6.9.1
gyp ERR! node-gyp -v v3.4.0
gyp ERR! not ok
C:\Users\IBM_ADMIN\AppData\Roaming\npm
`-- (empty)

npm ERR! Windows_NT 6.1.7601
npm ERR! argv ""C:\\Program Files\\nodejs\\node.exe"" ""C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js"" ""install"" ""-g"" ""hfc""
npm ERR! node v6.9.1
npm ERR! npm  v3.10.8
npm ERR! code ELIFECYCLE

npm ERR! hashtable@2.0.2 install: `node-gyp configure build`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the hashtable@2.0.2 install script 'node-gyp configure build'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the hashtable package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     node-gyp configure build
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs hashtable
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls hashtable
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     C:\blockchain\src\github.com\hyperledger\fabric-sdk-node\npm-debug.log
npm ERR! code 1
```",,isramos,kletkeman,mastersingh24,py,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,isramos,kletkeman,mastersingh24,py,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jan/17 5:24 AM;mastersingh24;[~kim@letkeman.net] Not sure if this has been resolved?   I believe the resolution for this is to make sure you have the Windows build tools installed:    https://github.com/felixrieseberg/windows-build-tools

I'm going to close this but feel free to re-open if there is still an issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A t.end is misplaced in test/integration/query.js,FABN-377,18415,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,fennelD7,fennelD7,fennelD7,20/Jun/17 5:26 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Jun/17 2:03 AM,,,,,,,,,,,0,,,,,"In test/integration/query.js, queryInstalledChaincodes test, a t.end is misplaced in for loop, forcing the loop end at its first execution.",,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy507:",,,,,,,,,,,,,,,,,,,,,,,,,,,,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jun/17 2:03 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/10823/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Block decode fails at proto_kv_rw_set` doesn't have a function `getNamespace()`,FABN-378,26773,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,13/Jan/18 1:24 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Feb/18 3:46 AM,,,,,,,v1.1.0,,,,0,,,,,"When using an event processing there is a case when the array of kv_rw is an empty array. The decode of the blocks needs to handle this case.

 ",,harrisob@us.ibm.com,mastersingh24,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-587,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyt8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jan/18 8:49 PM;sudheesh001;I was successfully able to replay this bug when you add a new method to the `Array.prototype`. For an empty `[]` object, the `for (i in [])` returns the `function` for the new method. However, adding new methods to array's is a fairly common practice and shouldn't result in the SDK from breaking.;;;","13/Jan/18 9:06 PM;mastersingh24;[~sudheesh001] - Do you have an example of a transaction you submitted which results in the event with no kv_rw_set ?;;;","14/Jan/18 5:10 PM;sudheesh001;[~mastersingh24] You can replicate the same issue with the sample code itself available on hyperledger by running this controller. The only change is add the following piece of code in the file

Array.prototype.mymethod = function(array) \{ // Do anything }

And then run this part of the controller.

https://github.com/hyperledger/education/blob/master/LFS171x/fabric-material/tuna-app/controller.js#L87-L245;;;","06/Feb/18 3:45 AM;harrisob@us.ibm.com;I was unable to fix this kind of issue by adding checks to the places where we are working with an Array object as it then failed in dependent packages. 

Is this a common thing in Javascript to change the base objects ? I do not see how we can be expected to protect the SDK code from applications that wish to change how the actual language works.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""gulp test"" fails with default fabric-ca docker image",FABN-379,14716,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,yuki-kon,yuki-kon,10/Feb/17 10:13 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,10/Mar/17 12:22 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"""gulp test"" with default fabri-ca Docker fails due to bug in test/unit/chain-fabriccop-tests.js.
The following error occurs when running ""chain-fabriccop-tests.js"".
The fabric-ca docker image uses server-config.json that has only one user: ""admin"".
""chain-fabriccop-tests.js"" must use that user in order to run successfully.

{noformat}
******************************************************************
$ cd fabric-sdk-node
$ HFC_LOGGING='{""debug"":""console""}' node test/unit/chain-fabriccop-tests.js

^[[32minfo^[[39m: Successfully constructed a winston logger with configurations debug=console
TAP version 13
# Attempt to use FabricCAServices
^[[34mdebug^[[39m: [FileKeyValueStore.js]: FileKeyValueStore.js - constructor
^[[34mdebug^[[39m: [crypto_ecdsa_aes]: Hash algorithm: SHA2, hash output size: 256
^[[32minfo^[[39m: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":7054}
^[[32minfo^[[39m: [crypto_ecdsa_aes]: This class requires a CryptoKeyStore to save keys, using the store at %s
^[[34mdebug^[[39m: [FileKeyValueStore.js]: FileKeyValueStore.js - constructor
^[[34mdebug^[[39m: [crypto_ecdsa_aes]: _getKeyStore returning ks
^[[34mdebug^[[39m: [crypto_ecdsa_aes]: generateKey, store.setValue
^[[34mdebug^[[39m: [ecdsa/key.js]: ECDSA curve param X: d50b1bbe5ceadaa69e84e74ab660fb53082b081c0cd142dddd6b9c7b3a58d683
^[[34mdebug^[[39m: [ecdsa/key.js]: ECDSA curve param Y: b3e066b40e712de5b4f3ead8d8ba4b3e61277fda497c85db47015b1102f8119d
^[[34mdebug^[[39m: [FileKeyValueStore.js]: FileKeyValueStore -- setValue
not ok 1 Failed to use returned private key and certificate to construct a user object. Error: Error: Enrollment failed with errors [[{""code"":0,""message"":""sql: no rows in result set""}]]
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...
^[[34mdebug^[[39m: [Client.js]: setUserContext, user: undefined, skipPersistence: undefined
^[[34mdebug^[[39m: [Client.js]: setUserContext, Cannot save null userContext
not ok 2 Failed to load the user testUser from key value store. Error: Error: Cannot save null userContext.
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...

1..2
# tests 2
# pass  0
# fail  2


******************************************************************
{noformat}",,cdaughtr,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Mar/17 12:22 AM;cdaughtr;We've cleaned up the tests and have removed chain-fabriccop-tests.  Now fabric-ca-services-tests is used to test enrollment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
channel initialize fails if the first peer in the list is unavailable,FABN-380,30204,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,15/May/18 10:12 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Jun/18 11:38 PM,v1.1.0,,,,,,v1.2.0,,,,0,node-SDK,,,,"channel initialize used to get the channel config from the orderer, however it was changed by FAB-8569 to retrieve the information from the peer. Unfortunately this change hardcoded it to the peer in the list of peers in the channel that are ledger query peers. If that peer is down but other peers are up, a client of the node-sdk is unable to initialize the channel object in order to interact with the channel and there is no way for the client to handle this scenario (for example tell initialize to try a different peer).

There are workarounds to being able to manage which peer the comms is with, neither are ideal
1. Each client will have to re-implement initialize as it really makes 2 calls to setup the channel object
- getChannelConfig
- loadConfigEnvelop
But this is not good as it is an internal requirement for the channel object setup
2. Alter the order of peers returned by the channel.getPeers call 

Node-sdk should allow for target selection on the initialize of a channel object.",,davidkel,harrisob@us.ibm.com,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 12:26 AM;kchristidis;/cc [~wenjian], [~harrisob@us.ibm.com] thoughts? Can we contain this in time for the 1.2 cut?;;;","18/May/18 1:11 AM;harrisob@us.ibm.com;Will work on this for 1.2;;;","07/Jun/18 11:39 PM;harrisob@us.ibm.com;initialize will take a 'target' parameter to indicate the peer to use, may be an actual peer object or a peer name.;;;","07/Jun/18 11:40 PM;harrisob@us.ibm.com;Change went in when doing the discovery work as it was needed for that also.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Possible issue where another org is unable to instantiate a chaincode container easily when using node.js chaincode ,FABN-381,31303,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Invalid: Works as Expected,,davidkel,davidkel,23/Jun/18 12:15 AM,08/Sep/18 7:33 PM,28/Oct/23 3:25 AM,08/Sep/18 7:33 PM,v1.1.0,,,,,,v1.4.0,,,,0,chaincode,,,,"The problem here is around the fact that different organisations could require slightly different chaincode packages when using node.js because they could have different network requirements in order to build the chaincode container image which is done running npm install --production.

For example org1 may have no requirements so do not need to include a '.npmrc' file in the chaincode package. org2 however are a using a proxy so need to set the proxy information in the .npmrc and include it in the chaincode package.

From experimentation, I found the following
 - If both orgs have the chaincode installed then instantiation or upgrade will build the chaincode containers for both without issue
 - If however, org2 did not have the chaincode installed at instantiation/upgrade time, and add the chaincode package later. The chaincode container image will not be built and the following error is received

{noformat}
Error: 2 UNKNOWN: error executing chaincode: could not get ChaincodeDeploymentSpec for basic-sample-network:0.2.4: get ChaincodeDeploymentSpec for basic-sample-network/mychannel from LSCC error: chaincode fingerprint mismatch data mismatch
{noformat}

Currently there is no way to ""pre-vendor"" the necessary node_modules that would make up a complete chaincode package client side due to 2 issues
1. The node-sdk packager explicitly ignores the node_modules directory
2. A solution to native modules would be required as the target platform may not match the client platform

This implies that it should be possible to include or be able to provide npm configuration information that is either not part of the package or not included in the fingerprint of the package to allow for this situation.
It looks like it might be possible to use the upgrade mechanism as a workaround

I am not familiar with the fingerprint mechanism and based this Jira on some simple experiments so I may also be missing other scenarios where problems could occur.
",,davidkel,denyeart,harrisob@us.ibm.com,mastersingh24,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,denyeart,harrisob@us.ibm.com,mastersingh24,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jul/18 11:04 PM;harrisob@us.ibm.com;This is really a new feature and needs to be included in the new Chaincode lifecycle.
[~jyellick] [~denyeart] [~mastersingh24] would it be possible to include something in the new metatdata package that could control the instantiate of the chaincode. What node.js chaincode needs is a way to use a `package.json` customized for organization. In the case of node.js this would allow the organization to control where the packages are being installed from, especially in the case where the peer does not have full access to the internet.;;;","06/Sep/18 8:05 PM;denyeart;[~jyellick] Could you comment on whether the new lifecycle could address this?  And if so, move it under the lifecycle epic as a Story (tip - you can do More–>Move to change issue type).;;;","07/Sep/18 3:28 AM;davidkel;This may be solveable as part of a new way to build chaincode images from a base image. See FAB-11555 for details.;;;","08/Sep/18 7:31 PM;mastersingh24;We cannot allow different packages to be installed.  People must install the same packages.

It is, however, possible to allow people to possibly configure different builder images;;;","08/Sep/18 7:33 PM;mastersingh24;This is not a bug and I think new feature work can be tracked under FAB-11555;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] gulp fails with 4 errors,FABN-382,13054,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jjjjibm,jjjjibm,19/Oct/16 4:16 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Oct/16 12:03 AM,,,,,,,,,,,0,node-SDK,Usability,,,"I cloned fabric-sdk-node today.  When I ran gulp, it produced this output:

 gulp
[15:08:11] Using gulpfile ~/work/src/github.com/hyperledger/fabric-sdk-node/gulpfile.js
[15:08:11] Starting 'lint'...
[15:08:15]
/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/unit/headless-tests.js
  378:21  error  Trailing spaces not allowed  no-trailing-spaces
  417:1   error  Trailing spaces not allowed  no-trailing-spaces
  476:76  error  Trailing spaces not allowed  no-trailing-spaces
  488:76  error  Trailing spaces not allowed  no-trailing-spaces

✖ 4 problems (4 errors, 0 warnings)

[15:08:15] 'lint' errored after 3.23 s
[15:08:15] ESLintError in plugin 'gulp-eslint'
Message:
    Failed with 4 errors
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node$

How to recreate:

How to recreate:
 1.cd $GOPATH/src/github.com/hyperledger
 2.git clone http://gerrit.hyperledger.org/r/fabric-sdk-node
 3.cd fabric-sdk-node
 4.npm install 
 5.gulp 
",Vlaunch vm running Ubuntu 14 (Trusty).  No vagrant is involved.  I did not try this in a vagrant session.,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 11:48 PM;cdaughtr;fixed by https://gerrit.hyperledger.org/r/#/c/1861/;;;","25/Oct/16 12:02 AM;cdaughtr;1861 is now merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node e2e (with TLS) tests are failing in s390x and power nodes,FABN-383,15362,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,rameshthoomu,rameshthoomu,16/Mar/17 12:05 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,17/Apr/17 1:47 PM,,,,,,,v1.0.0,,,,0,,,,,"Observed e2e (node with TLS) tests are failing in *s390x and power* nodes on below commit levels in CI  (Jenkins)

{code:java}
FABRIC # b096016   
FABRIC-CA# 8a9a227
FABRIC_SDK_NODE# 6f77cdf
{code}

*Error Log:*

{code:java}
21:49:29 ***** End-to-end flow: create channel *****
21:49:29 
21:49:29 [31merror[39m: [Client.js]: Failed to load user ""admin"" from local key value store. Error: Error: Failed to find ""mspid"" in the deserialized state object for the user. Likely due to an outdated state store.
21:49:29     at User.fromString (/data/w/workspace/fabric-sdk-node-verify-s390x/gopath/src/github.com/fabric-sdk-node/node_modules/fabric-client/lib/User.js:9:6763)
{code}
*Failed build log:* https://jenkins.hyperledger.org/sandbox/job/e2e_FIT_s390x/12/consoleText

didn't observe this error in x86_64 Jenkins CI nodes. Below is the build reference https://jenkins.hyperledger.org/sandbox/job/e2e_FIT_x86_64/15/console",Jenkins CI environment. S390x and power machines,dongming,ptippett,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo47:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,ptippett,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Mar/17 1:12 AM;dongming;I have seen the same error message on solftlayer non-vagrant environment with the latest fabric-sdk-node.

root@qa-peer05:~/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e# node create-channel.js
info: Returning a new winston logger with default configurations
TAP version 13
#

***** End-to-end flow: create channel *****


error: [Client.js]: Failed to load user ""admin"" from local key value store. Error: Error: Failed to find ""mspid"" in the deserialized state object for the user. Likely due to an outdated state store.
    at User.fromString (/root/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/User.js:225:10)
    at /root/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:299:22
error: [Client.js]: Failed to load an instance of requested user ""admin"" from the state store on this Client instance. Error: Error: Failed to find ""mspid"" in the deserialized state object for the user. Likely due to an outdated state store.
    at User.fromString (/root/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/User.js:225:10)
    at /root/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:299:22
not ok 1 Failed to enroll user 'admin'. Error: Failed to find ""mspid"" in the deserialized state object for the user. Likely due to an outdated state store.
  ---
    operator: fail
    at: hfc.newDefaultKeyValueStore.then.then (/root/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/create-channel.js:82:5)
  ...
not ok 2 Failed to create the channel.
  ---
    operator: fail
    at: hfc.newDefaultKeyValueStore.then.then.then (/root/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/create-channel.js:92:6)
  ...
ok 3 Successfully waited to make sure new channel was created.

1..3
# tests 3
# pass  1
# fail  2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix gulp test to remove chaincode's containers,FABN-384,17153,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,26/May/17 7:56 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,31/May/17 4:15 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,"When running ""gulp test"" twice, gulp script ""build/tasks/test.js"" doesn't remove chaincode's docker containers which were generated by previous test.

Steps to reproduce 
 --------------------------
 1. move to fabric-sdk-node root directly
 2. start blockchain network
 docker-compose -f test/fixtures/docker-compose.yaml up -d --force-recreate
 3. run gulp test
 gulp test
 4. restart blockchain network
 docker-compose -f test/fixtures/docker-compose.yaml up -d --force-recreate
 5. rerun gulp test
 gulp test

Expected Results
 --------------------------
 Docker containers which was generated previous test (step3) are killed and removed.

Actual Results
 --------------------------
 Docker containers are not killed and removed.
 The following is the log message.

{code:java}
   …(snip)…
""docker kill"" requires at least 1 argument(s).
See 'docker kill --help'.

Usage:  docker kill [OPTIONS] CONTAINER [CONTAINER...]

Kill one or more running containers
[20:58:37] docker rm $(docker ps -a|grep ""^dev-peer0.org[12].example.com-e"" |awk ""{print $1}"")
""docker rm"" requires at least 1 argument(s).
See 'docker rm --help'.

Usage:  docker rm [OPTIONS] CONTAINER [CONTAINER...]

Remove one or more containers
[20:58:37] docker rmi $(docker images | grep ""^dev-peer0.org[12].example.com-e"" | awk ""{print $3}"")
Error response from daemon: conflict: unable to remove repository reference ""dev-peer0.org1.example.com-events_unit_test1495745646899-v1495745646899"" (must force) - container 3e76dc0aa3b4 is using its referenced image 59e3bf897620
Error response from daemon: No such image: latest:latest
Error response from daemon: conflict: unable to delete 59e3bf897620 (must be forced) - image is being used by stopped container 3e76dc0aa3b4
Error response from daemon: No such image: 2:latest
Error response from daemon: No such image: minutes:latest
Error response from daemon: No such image: ago:latest
Error response from daemon: invalid reference format: repository name must be lowercase
Error response from daemon: conflict: unable to remove repository reference ""dev-peer0.org1.example.com-end2endnodesdk-v1"" (must force) - container e215e87c74ee is using its referenced image c5d7e5bba05d
Error response from daemon: No such image: latest:latest
Error response from daemon: conflict: unable to delete c5d7e5bba05d (must be forced) - image is being used by stopped container e215e87c74ee
Error response from daemon: No such image: 2:latest
Error response from daemon: No such image: minutes:latest
Error response from daemon: No such image: ago:latest
Error response from daemon: invalid reference format: repository name must be lowercase
Error response from daemon: conflict: unable to remove repository reference ""dev-peer0.org2.example.com-end2endnodesdk-v1"" (must force) - container 24528d6e9134 is using its referenced image 625cbbbd94f7
Error response from daemon: No such image: latest:latest
Error response from daemon: conflict: unable to delete 625cbbbd94f7 (must be forced) - image is being used by stopped container 24528d6e9134
Error response from daemon: No such image: 2:latest
Error response from daemon: No such image: minutes:latest
Error response from daemon: No such image: ago:latest
Error response from daemon: invalid reference format: repository name must be lowercase
Error response from daemon: conflict: unable to remove repository reference ""dev-peer0.org2.example.com-end2endnodesdk-v0"" (must force) - container 6f40ec4d0852 is using its referenced image 81be06d390fd
Error response from daemon: No such image: latest:latest
Error response from daemon: conflict: unable to delete 81be06d390fd (must be forced) - image is being used by stopped container 6f40ec4d0852
Error response from daemon: No such image: 3:latest
Error response from daemon: No such image: minutes:latest
Error response from daemon: No such image: ago:latest
Error response from daemon: invalid reference format: repository name must be lowercase
Error response from daemon: conflict: unable to remove repository reference ""dev-peer0.org1.example.com-end2endnodesdk-v0"" (must force) - container 76b64531a055 is using its referenced image b00cd325b536
Error response from daemon: No such image: latest:latest
Error response from daemon: conflict: unable to delete b00cd325b536 (must be forced) - image is being used by stopped container 76b64531a055
Error response from daemon: No such image: 3:latest
Error response from daemon: No such image: minutes:latest
Error response from daemon: No such image: ago:latest
Error response from daemon: invalid reference format: repository name must be lowercase
[20:58:38] Finished 'docker-clean' after 1.19 s
   …(snip)…
{code}",fabric-sdk-node: commit 183a619c6f22d8b3946ed6ccf54e28f309eb0ee0,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,FABN-360,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 11:17 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/9271/;;;","26/May/17 11:26 AM;yuki-kon;Hello Jim. This problem is happening after merging CR above. I'm writing patch to fix problem.

Could you change status to ""In Progress""? ;;;","26/May/17 11:38 AM;yuki-kon;The patch set is here. [https://gerrit.hyperledger.org/r/#/c/9855/];;;","26/May/17 10:37 PM;jimthematrix;thanks [~yuki-kon] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CI tests failing in fabric-sdk-node for daily due to TypeError, and in fabric-sdk-verify due to operator fail.",FABN-385,29892,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,02/May/18 11:53 PM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,05/May/18 4:44 AM,,,,,,,v1.0.7,v1.1.1,,,0,ci-failure,,,,"*fabric-end-2-end-daily-release-*


{code:java}
02:38:59 info: [EventHub.js]: _connect - options {""grpc.ssl_target_name_override"":""peer0.org1.example.com"",""grpc.default_authority"":""peer0.org1.example.com"",""grpc.max_receive_message_length"":-1,""grpc.max_send_message_length"":-1}
02:38:59 not ok 14 TypeError: Cannot read property 'getConnectivityState' of undefined at EventHub._checkConnection (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/EventHub.js:9:18795) at EventHub.registerBlockEvent (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/EventHub.js:9:25436) at Promise (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:171:8) at eventhubs.forEach (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:168:20) at Array.forEach (native) at Client.newDefaultKeyValueStore.then.then.then.then (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:167:13)
02:38:59   ---
02:38:59     operator: fail
02:38:59     at: Client.newDefaultKeyValueStore.then.then.then.then.then (/w/workspace/fabric-end-2-end-daily-release-1.0-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/join-channel.js:215:5)
02:38:59     stack: |-
02:38:59       Error: TypeError: Cannot read property 'getConnectivityState' of undefined
{code}

*fabric-sdk-node8-verify-*

{code:java}
11:23:58 not ok 1527 failed check for exists on install again
11:23:58   ---
11:23:58     operator: fail
11:23:58     at: installChaincode.then (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/install.js:84:9)
11:23:58     stack: |-
11:23:58       Error: failed check for exists on install again
11:23:58           at Test.assert [as _assert] (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
11:23:58           at Test.bound [as _assert] (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
11:23:58           at Test.fail (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)
11:23:58           at Test.bound [as fail] (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
11:23:58           at installChaincode.then (/w/workspace/fabric-sdk-node8-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/install.js:84:9)
11:23:58           at <anonymous>
11:23:58           at process._tickDomainCallback (internal/process/next_tick.js:228:7)
{code}

*Build Logs*

*fabric-end-2-end-daily-release*
https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-release-1.1-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/node_dockerlogfile.log

*fabric-sdk-node8-verify*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-x86_64/657/",,harrisob@us.ibm.com,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-454,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8jb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/18 12:14 AM;sambhavdutt;[~davidkhala] [~harrisob@us.ibm.com]

The CI tests for the master branch are working well after this patch but the fabric-sdk-node release-1.0 and release-1.1 are failing with the same errors. Can the same fix be applied to the release branches too for sdk-node;;;","05/May/18 4:43 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/21381/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/Client.html -- continued ,FABN-386,15120,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,01/Mar/17 7:02 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In the generated documentation for class Client, a few errors appear.

(1) getChain(name)
If an application is not able to look up the chain information from storage, it may call 
==> 
If an application cannot obtain chain information from storage, it can call 

(2) getUserContext(name)

    {color:#d04437}As explained above{color}, the client instance can have an optional state store. 

It's not really explained above, although there are references to a 'state store'.   The explanation of 'state store' is scattered throughout the methods in this class.  A good place to explain the state store and why you may or may not want one might be near this sentence : 

Each Client instance can maintain several Chain instances representing channels and the associated private ledgers.

Or, each method that interacts with the state store can repeat an explanation of the state store.

(3) getUserContext(name)
Is now:
{color:#205081}As explained above, the client instance can have an optional state store. The SDK saves enrolled users in the storage which can be accessed by authorized users of the application (authentication is done by the application outside of the SDK). {color}{color:#d04437}This function attempts to load the user by name from the local storage (via the KeyValueStore interface). The loaded user object must represent an enrolled user with a valid enrollment certificate signed by a trusted CA (such as the CA server).
{color}
Should be:
{color:#d04437}This function attempts to load the user by name from the local storage (via the KeyValueStore interface). The loaded user object must represent an enrolled user with a valid enrollment certificate signed by a trusted CA (such as the CA server). {color}
{color:#205081}The client instance can have an optional state store. The SDK saves enrolled users in the storage which can be accessed by authorized users of the application (authentication is done by the application outside of the SDK). {color}

because the explanation of what the call does is obscured by the explanation of the state store.  Reversing the explanations should clarify it.

(3) getUserContext(name) 
...the client instance can have an optional state store. 
   This somewhat  contradicts the setStateStore() explanation which implies the SDK should use a state store.  In what sense is it optional?  

(3) getUserContext()
... This function attempts to load the user by name from the local storage (via the KeyValueStore interface). 
vs
Optional. If not specified, will only return the in-memory user context object,  or null if not found in memory. If ""name"" is specified, will also attempt to load it from the state store if search in memory failed.
vs
Returns:

The user object corresponding to the name, or null if  ...

The three  explanations are mildly contradictory.   If the name parameter description is to be believed, getUserContext(<no parm>) retrieves the local user context object but getUserContext(name) returns a user object. 

(4) loadUserFromStateStore()
==> loadUserFromStateStore(name)   according to the code

(5) loadUserFromStateStore()
Restore the state of this member from the key value store
As described, 'this member' would seem to be the client that calls this method, which is confusing. 

(6) queryChainInfo(name, peers)
 .... if the target Peer(s) does not know anything about the chain.
===>
...if none of the peers queried returns information about the chain.

(7) setStateStore(keyValueStore)

(a)     The enrollment materials for Users that have appeared in the instances of the application.

This is a description, but not of what setStateStore() does.  Did you mean:
    Set the optional state store.  The state store contains enrollment materials ...

(b) appeared in the instances of the application.
What exactly are 'instances of the application'?  Do you  mean Users referenced by the application?  User objects instantiated by the application?  Is it the case that the state store does not contain user materials unless the application has called saveUserToStateStore()?  If there's another way to populate the state store, it should be explained somewhere on this page. 


(8) The SDK {color:#205081}should have {color}a built-in key value store file-based implementation to allow easy setup during development. 
 ==>
The SDK{color:#205081} has {color}a built-in key value store file-based implementation to allow easy setup during development.   (If I recall correctly, even though it is built in, your application needs to call setStateStore() to enable its use.  This would be a good time to mention that.   E.G., To enable the built-in state store, ....

(9) setUserContext(user, skipPersistence)
Sets an instance of the User class as the security context of *self* client instance.
==>
Sets an instance of the User class as the security context of *this* client instance.


How to recreate:
1.Clone fabric-sdk-node
2.Gulp doc to generate doc
3.python -m SimpleHTTPServer &
4.Use a browser to navigate to <your ip>:8000/docs/gen
5.Select Client from the Classes pull down menu. 

Find the errors on the displayed page. 

","fabric-sdk-node commit d3fcbe2299c840dfd7886076b009b88eb25a7dd8
fabric commit a0d032bc5c4853b43972163f502a03ee7770c1d5
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move key store out of CryptoSuite,FABN-387,16664,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,12/May/17 5:50 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/May/17 3:06 AM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,,,,"CryptoSuite does not need to include a store when used by Chain.js, so the store should be removed from CryptoSuite and when needed, the application will create a new CryptoKeyStore and set it on the CryptoSuite.

If you want to use the default key store, the app does not need to anything.

To use a special key store, the app will need to create a new CryptoKeyStore using the desired options, set it on the cryptoSuite and include it on the User and Fabric CA Client.  For example:
{code:java}
cryptoSuite = client.newCryptoSuite(setting);
cryptoSuite.setCryptoKeyStore(client.newCryptoKeyStore(KVSImplClass, opts));{code}
Set cryptoSuite on the user:
{code:java}
user.setCryptoSuite(cryptoSuite);{code}
 

Include cryptoSuite parameter on a new FabricCAServices:
{code:java}
return new FabricCAServices(fabricCAEndpoint, tlsOptions, userOrg.ca.name, cryptoSuite);{code}",,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-458,,FABN-633,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv0f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/17 3:06 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/9209;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] not ok 3 TypeError: Cannot read property 'toArray' of null at EC.sign ,FABN-388,14495,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,02/Feb/17 4:55 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,08/Feb/17 12:38 PM,,,,,,,,,,,0,,,,,"Running fabric-sdk-node/test/unit/end-to-end.js, test cases fail with this error:
not ok 3 TypeError: Cannot read property 'toArray' of null at EC.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/elliptic/lib/elliptic/ec/index.js:99:30) at CryptoSuite_ECDSA_AES.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:289:25) at Signer.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:168:28) at SigningIdentity.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:204:23) at Chain._signProposal (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:1288:29) at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:952:37
  ---
    operator: fail

not ok 4 Failed to get transaction notification within the timeout period
  ---
    operator: fail
  ...
error: [Chain.js]: Failed Proposal. Error: TypeError: Cannot read property 'toArray' of null
    at EC.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/elliptic/lib/elliptic/ec/index.js:99:30)
    at CryptoSuite_ECDSA_AES.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:289:25)
    at Signer.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:168:28)
    at SigningIdentity.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:204:23)
    at Chain._signProposal (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:1288:29)
    at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:1046:32

not ok 5 TypeError: Cannot read property 'toArray' of null at EC.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/elliptic/lib/elliptic/ec/index.js:99:30) at CryptoSuite_ECDSA_AES.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/impl/CryptoSuite_ECDSA_AES.js:289:25) at Signer.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:168:28) at SigningIdentity.sign (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/msp/identity.js:204:23) at Chain._signProposal (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:1288:29) at /home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/Chain.js:1046:32
  ---

and so on.  

",Vlaunch VM running Ubuntu,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjsv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK tutorial links to itself,FABN-389,18287,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,ChristopherFerris,19/Jun/17 11:02 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Jun/17 2:05 AM,v1.0.0-beta,,,,,,v1.0.0,,,,0,,,,,"[https://fabric-sdk-node.github.io/tutorial-app-dev-env-setup.html] links to itself at the bottom of the page. Ostensibly there is another tutorial that should be linked here.

 

""The above steps give you a development environment. Now before you can ask it to process any transactions, you must first create a channel. Next, we will create a channel in [this tutorial|https://fabric-sdk-node.github.io/tutorial-app-dev-env-setup.html].""",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3jz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jun/17 2:05 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/10795/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-client IdentityService did not specify caName ,FABN-390,28905,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,27/Mar/18 12:38 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,29/Mar/18 10:30 AM,,,,,,,v1.2.0,,,,0,,,,,fabric-ca-client IdentityService did not specify caName and therefore it fails in multi ca setup.,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3bz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 12:43 PM;zhaochy;https://gerrit.hyperledger.org/r/19791;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create CouchDB indexes using Node.js SDK,FABN-391,28045,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,27/Feb/18 11:46 AM,21/Jul/18 8:57 AM,28/Oct/23 3:25 AM,28/Feb/18 5:45 AM,,,,,,,v1.1.0,v1.1.1,,,0,fabric-sdk-node,quality,Usability,,"The fix provided in ----FAB-8345---- packages the metadata along with the chaincode while installing on a peer. However there is no provision for the end user (application developer) to provide metadata path from their applications. which makes fabric 1.1 CouchDB indexing feature not usable with Node.js SDK

A proposed approach to fix this issue:
 * Pass *metadataPath* parameter in installChaincode [request|https://fabric-sdk-node.github.io/global.html#ChaincodeInstallRequest] in application
 * pass this metadataPath from request object to the internal API __getChaincodePackageData(request, this.isDevMode(), request.*metadataPath*)_  __ and then pass to _Packager.package()_ api



 ",,AdnanChoudhury,denyeart,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-33,,,,,,FABN-827,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyz1b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Feb/18 11:54 AM;denyeart;[~harrisob@us.ibm.com] [~mastersingh24] Can you take a look?;;;","28/Feb/18 6:02 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/18481/;;;","28/Feb/18 6:47 AM;AdnanChoudhury;This fix solves the issue for me (sucessfully creates the CouchDB indexes);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getChannel() no longer returns first channel,FABN-392,31440,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,sstone1,sstone1,28/Jun/18 6:30 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Jun/18 3:02 AM,,,,,,,v1.2.0,,,,0,must-fix,,,,"Client.getChannel() in the latest published snapshot of fabric-sdk-node no longer returns the first channel in the connection profile document when you don't pass in a channel name.

This code:
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/fabric-client/lib/Client.js#L236

Seems to have been removed:
https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Client.js#L236

This is a breaking API change, and IMO needs to be fixed to avoid breaking applications built against Fabric v1.1.",,davidkel,denyeart,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-482,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgif:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,denyeart,harrisob@us.ibm.com,sstone1,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Jun/18 6:51 PM;denyeart;[~harrisob@us.ibm.com] Please provide your opinion - do you agree this would be a must-fix for v1.2?;;;","28/Jun/18 8:25 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/23789/;;;","29/Jun/18 12:22 AM;harrisob@us.ibm.com;This API has some of the fallout from adding in Discovery and making things work across the board when using connection profiles, discovery, or fully specified networks. 

This will be fixed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-client npm module appears to not have been transpiled back to ES5,FABN-393,16150,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,marlenac,marlenac,02/May/17 6:30 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,31/May/17 11:06 AM,v1.0.0-alpha1,,,,,,,,,,0,,,,,"1. Import the fabric-client into a node project with `npm i fabric-client --save`
2. Open node_modules/fabric-client/lib/Client.js

Expected: All of the code should be ES5. It's a best practice for npm modules to have already been transpiled. 

Actual:
This particular file contains the `class` keyword which is ES6.

The problem this is causing and the reason I'm logging this bug is that this creates challenges when running a project through mocha. 

Here is the mocha command I'm using for npm test:
node_modules/mocha/bin/mocha --require babel-polyfill --compilers js:babel-register --reporter progress 'test/**/*_spec.js'

Attaching the stack trace in a comment for reference of what it looks like when I run a project containing the fabric-client module through mocha.  

Here are some instructions for how to do this: https://booker.codes/how-to-build-and-publish-es6-npm-modules-today-with-babel/
and a popular stack overflow on this topic: http://stackoverflow.com/questions/29738381/how-to-publish-a-module-written-in-es6-to-npm

There is not much of a way around this for writing tests with mocha using this package so marking it as high.",,marlenac,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3dj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,marlenac,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 6:30 AM;marlenac;/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/fabric-client/lib/Client.js:45
var Client = class {
             ^^^^^
SyntaxError: Unexpected reserved word
    at Module._compile (module.js:439:25)
    at Module._extensions..js (module.js:474:10)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:152:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/fabric-client/index.js:24:18)
    at Module._compile (module.js:456:26)
    at Module._extensions..js (module.js:474:10)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:152:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/api/helpers/chaincodeHelper.js:25:11)
    at Module._compile (module.js:456:26)
    at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/api/routes/api_routes.js:4:23)
    at Module._compile (module.js:456:26)
    at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/index.js:10:17)
    at Module._compile (module.js:456:26)
    at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/test/api/api_routes_spec.js:4:11)
    at Module._compile (module.js:456:26)
    at loader (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:144:5)
    at Object.require.extensions.(anonymous function) [as .js] (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/babel-register/lib/node.js:154:7)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at /home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:230:27
    at Array.forEach (native)
    at Mocha.loadFiles (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:227:14)
    at Mocha.run (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/lib/mocha.js:495:10)
    at Object.<anonymous> (/home/pipeline/61102847-3b49-4ca3-81a7-616f808be75d/node_modules/mocha/bin/_mocha:460:18)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:935:3
npm ERR! Test failed.  See above for more details.

Finished: FAILED;;;","31/May/17 11:06 AM;jimthematrix;thanks for writing this up [~marlenac], i think what you are doing in mocha command is the best course of action: it keeps the fix scoped to using mocha, which is the source of the issue in the first place (other test frameworks like tape works fine with modules written in ES6 code)

I do not think doing the transpiling during npm publish is warranted because the SDK code is not intended to run in browsers and node.js has started supporting these ES6 features since 4.7.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to complete installation of client SDK,FABN-394,16944,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,kchristidis,kchristidis,20/May/17 9:36 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,21/May/17 1:02 AM,v1.0.0-alpha2,,,,,,,,,,0,setup,,,,"I am following the installations instructions in: [https://github.com/hyperledger/fabric-sdk-node]

When I execute the step ""in the project root folder: npm install to install dependencies"" I get the following error:

{{npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.0.0 (node_modules/chokidar/node_modules/fsevents):}}
 {{npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.1: wanted \{""os"":""darwin"",""arch"":""any""} (current: \{""os"":""linux"",""arch"":""x64""})}}
 {{npm ERR! Linux 4.4.0-78-generic}}
 {{npm ERR! argv ""/usr/local/bin/node"" ""/usr/local/bin/npm"" ""install""}}
 {{npm ERR! node v6.9.5}}
 {{npm ERR! npm v3.10.10}}
 {{npm ERR! path /opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node/node_modules/grpc/node_modules/node-pre-gyp/node_modules/mkdirp/bin/cmd.js}}
 {{npm ERR! code ENOENT}}
 {{npm ERR! errno -2}}
 {{npm ERR! syscall chmod}}{{npm ERR! enoent ENOENT: no such file or directory, chmod '/opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node/node_modules/grpc/node_modules/node-pre-gyp/node_modules/mkdirp/bin/cmd.js'}}
 {{npm ERR! enoent ENOENT: no such file or directory, chmod '/opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node/node_modules/grpc/node_modules/node-pre-gyp/node_modules/mkdirp/bin/cmd.js'}}
 {{npm ERR! enoent This is most likely not a problem with npm itself}}
 {{npm ERR! enoent and is related to npm not being able to find a file.}}
 {{npm ERR! enoent}}{{npm ERR! Please include the following file with any support request:}}
 {{npm ERR! /opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node/npm-debug.log}}
 {{npm ERR! code 1}}

I have attached the nmp-debug.log as suggested. I am running this on the Vagrant devenv VM.

{{(behave_venv) ubuntu@hyperledger-devenv:472d8bd:/opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node$ npm -v}}
 {{3.10.10}}
 {{(behave_venv) ubuntu@hyperledger-devenv:472d8bd:/opt/gopath/src/github.com/hyperledger/fabric/fabric-sdk-node$ node -v}}
 {{v6.9.5}}",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/May/17 9:31 PM;kchristidis;npm-debug.log;https://jira.hyperledger.org/secure/attachment/10849/npm-debug.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxwbb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/May/17 1:02 AM;kchristidis;According to [~jimthematrix] on Rocket Chat: Vagrant is not a supported platform. Closing this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] generated documentation does not show all classes and methods,FABN-395,14612,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,08/Feb/17 6:33 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Feb/17 12:23 AM,,,,,,,,,,,0,,,,,"Comparing fabric-sdk-node/coverage/lcov-report to fabric-sdk-node/docs/gen, it is clear fabric-sdk-node contains more classes and methods than are documented.

fabric-sdk-node/buld/tasks/doc.js has not been updated in awhile. 

Chat with Jim Zhang:
jjjjibm 3:35 PM
Looking at build/tasks/doc.js, I see files not included:
fabric-client/lib/msp/*
fabric-client/lib/config.fs,
.. EventHub.js
.. REmote.js
.. hash.js
.. utils-x509.js
.. utils.js 

fabric-client/lib/impl/ bccsp_pkcs11.js
fabric-client/lib/impl/ecdsa/*
fabric-client/lib/impl/aes/*
Any particular reason?
Maybe the ""utils"" don't need to be included?

jimthematrix 4:13 PM 
only these need to be added:

.. EventHub.js
.. REmote.js

fabric-client/lib/impl/ bccsp_pkcs11.js
fabric-client/lib/impl/ecdsa/*
fabric-client/lib/impl/aes/*

jjjjibm 4:24 PM
No MSP?

jimthematrix 4:25 PM
that's internal class

jjjjibm 4:25 PM
Cool, thanks

jimthematrix 4:25 PM
not ready as API for v1.0
yw

How to recreate:
1.Clone fabric-sdk-node
2.gulp doc to generate doc  fabric-sdk-node/docs
3.gulp test to generate test coverage report fabric-sdk-node/coverage
4.compare coverage report to generated documents","Ubuntu vlaunch VM (which has no bearing on this issue.; ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx72f:",,,,,,Sprint 11 - SDK node,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Feb/17 8:33 AM;jjjjibm;commit 5e43972eb9acf34be55848826a152ad8b07c2e2a
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Tue Feb 7 18:27:33 2017 -0500

    node-SDK Fix FAB-2109 doc.js

    Generated documentation for node SDK is controlled by file fabric-sdk-node/build/tasks/doc.js.
    This file had not been updated recently.
    The fix is to add pathnames to gulp.src in doc.js.
    See FAB-2109 for a discussion of which files to include.

    Change-Id: I84d381354026686996d7f6413dd13e77950677a5
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","09/Feb/17 12:25 AM;jjjjibm;commit 5e43972eb9acf34be55848826a152ad8b07c2e2a
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Tue Feb 7 18:27:33 2017 -0500

    node-SDK Fix FAB-2109 doc.js

    Generated documentation for node SDK is controlled by file fabric-sdk-node/build/tasks/doc.js.
    This file had not been updated recently.
    The fix is to add pathnames to gulp.src in doc.js.
    See FAB-2109 for a discussion of which files to include.

    Change-Id: I84d381354026686996d7f6413dd13e77950677a5
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Catching up updates in orderer/configuration.proto,FABN-396,17602,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,07/Jun/17 11:27 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,09/Jun/17 11:34 PM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,,,,,https://gerrit.hyperledger.org/r/#/c/10149/6/src/main/proto/orderer/configuration.proto,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzhz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
e2e.js test failure fabric-sdk-node/test/integration,FABN-397,15657,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,geminatea,geminatea,11/Apr/17 8:24 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,15/Apr/17 6:12 AM,v1.0.0,,,,,,v1.0.0,,,,0,,,,,"Running on OSX with with the latest docker images:
```
dev-peer0-events_unit_test1491865431130-v1491865431130   latest                          c94a05a30b3a        18 minutes ago      177 MB
dev-peer0-events_unit_test1491865217314-v1491865217314   latest                          816cb6013b9a        22 minutes ago      177 MB
hyperledger/fabric-couchdb                               latest                          231217971e2a        48 minutes ago      1.51 GB
hyperledger/fabric-couchdb                               x86_64-1.0.0-snapshot-a076bba   231217971e2a        48 minutes ago      1.51 GB
hyperledger/fabric-kafka                                 latest                          1dfe256e5e0d        54 minutes ago      1.3 GB
hyperledger/fabric-kafka                                 x86_64-1.0.0-snapshot-a076bba   1dfe256e5e0d        54 minutes ago      1.3 GB
hyperledger/fabric-zookeeper                             latest                          316dc5be7969        56 minutes ago      1.31 GB
hyperledger/fabric-zookeeper                             x86_64-1.0.0-snapshot-a076bba   316dc5be7969        56 minutes ago      1.31 GB
hyperledger/fabric-testenv                               latest                          a3e8976b76f5        57 minutes ago      1.4 GB
hyperledger/fabric-testenv                               x86_64-1.0.0-snapshot-a076bba   a3e8976b76f5        57 minutes ago      1.4 GB
hyperledger/fabric-buildenv                              latest                          e3ad35936468        58 minutes ago      1.31 GB
hyperledger/fabric-buildenv                              x86_64-1.0.0-snapshot-a076bba   e3ad35936468        58 minutes ago      1.31 GB
hyperledger/fabric-orderer                               latest                          8a44dedafe65        58 minutes ago      182 MB
hyperledger/fabric-orderer                               x86_64-1.0.0-snapshot-a076bba   8a44dedafe65        58 minutes ago      182 MB
hyperledger/fabric-peer                                  latest                          f3f75fc3d66c        59 minutes ago      185 MB
hyperledger/fabric-peer                                  x86_64-1.0.0-snapshot-a076bba   f3f75fc3d66c        59 minutes ago      185 MB
hyperledger/fabric-javaenv                               latest                          0d304aa50423        59 minutes ago      1.43 GB
hyperledger/fabric-javaenv                               x86_64-1.0.0-snapshot-a076bba   0d304aa50423        59 minutes ago      1.43 GB
hyperledger/openldap                                     latest                          54480bd341c0        About an hour ago   1.52 GB
hyperledger/openldap                                     x86_64-1.0.0-snapshot-ee34334   54480bd341c0        About an hour ago   1.52 GB
hyperledger/fabric-ccenv                                 latest                          07dc462377b7        About an hour ago   1.3 GB
hyperledger/fabric-ccenv                                 x86_64-1.0.0-snapshot-a076bba   07dc462377b7        About an hour ago   1.3 GB
hyperledger/fabric-ca                                    latest                          1be28941621c        About an hour ago   240 MB
hyperledger/fabric-ca                                    x86_64-1.0.0-snapshot-ee34334   1be28941621c        About an hour ago   240 MB
dev-peer0-events_unit_test1491860866388-v1491860866389   latest                          400665ca4411        About an hour ago   177 MB
<none>                                                   <none>                          cc57dba0a2e7        About an hour ago   1.31 GB
dev-peer0-events_unit_test1491859755568-v1491859755568   latest                          3857ed8621d7        About an hour ago   177 MB
dev-peer0-events_unit_test1491859512396-v1491859512396   latest                          2a42d67974f4        About an hour ago   177 MB
dev-peer0-events_unit_test1491858613219-v1491858613219   latest                          539911db22cb        2 hours ago         177 MB
dev-peer2-end2end-v1                                     latest                          50b2e2310576        2 hours ago         177 MB
dev-peer0-end2end-v1                                     latest                          1bc25da8a8f9        2 hours ago         177 MB
dev-peer2-end2end-v0                                     latest                          7f6aa79f2086        2 hours ago         177 MB
dev-peer0-end2end-v0                                     latest                          1f18819a0ce4        2 hours ago         177 MB
couchdb                                                  latest                          b15a0ea0ffc9        2 weeks ago         225 MB
nginx                                                    latest                          6b914bbcb89e        5 weeks ago         182 MB
hyperledger/fabric-baseimage                             x86_64-0.3.0                    f4751a503f02        2 months ago        1.27 GB
hyperledger/fabric-baseos                                x86_64-0.3.0                    c3a4cf3b3350        2 months ago        161 MB
yeasy/hyperledger                                        latest                          f015c74d82a9        5 months ago        837 MB
hyperledger/fabric-membersrvc                            latest                          b3654d32e4f9        5 months ago        1.42 GB
```

After removing all docker containers and running `/test/fixtures/docker-compose up --abort-on-container-exit` in different terminal, I get the following test failure from `node test/integration/e2e.js`
in the `instantiate chaincode` section:

```
...
[Peer.js]: Peer.sendProposal - Start
debug: [Orderer.js]: sendDeliver - on error
debug: [Orderer.js]: sendDeliver - on status:{""code"":11,""details"":""EOF"",""metadata"":{""_internal_repr"":{}}}
debug: [Peer.js]: Received proposal response from: grpcs://localhost:7051 status: Error: Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]
    at /Users/drams/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
debug: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Transaction returned with failure: Failed extracting proposal fields. [Could not extract the channel header from the proposal: UnmarshalChannelHeader failed, err proto: bad wiretype for field common.ChannelHeader.Type: got wiretype 2, want 0]
error: [E2E testing]: instantiate proposal was bad
not ok 27 Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
  ---
    operator: fail
    at: hfc.newDefaultKeyValueStore.then.then.then.then (/Users/drams/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:350:6)
  ...
not ok 28 Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting... at hfc.newDefaultKeyValueStore.then.then.then.then (/Users/drams/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:351:10) at process._tickCallback (internal/process/next_tick.js:103:7)
  ---
    operator: fail
    at: hfc.newDefaultKeyValueStore.then.then.then.then.then (/Users/drams/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:369:5)
  ...
not ok 29 Failed to instantiate chaincode 
  ---
    operator: fail
    at: e2eUtils.instantiateChaincode.then (/Users/drams/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/instantiate-chaincode.js:40:6)
  ...
info: [E2E testing]: Disconnecting the event hub
debug: [EventHub.js]: connect - unregister event received```

I have confirmed that Ubuntu 16.0.4 doesn't seem to have this problem.",OSX 10.12.14,geminatea,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxplz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,geminatea,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/17 6:12 AM;geminatea;This no longer seems to be present.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node8-merge CI tests failed as 'queryInstantiatedChaincodes' failed.,FABN-398,30281,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,16/May/18 11:39 PM,19/Mar/19 8:12 PM,28/Oct/23 3:25 AM,23/May/18 10:14 PM,,,,,,,v1.2.0,,,,0,ci-failure,,,,"fabric sdk node8 test failed in merge job, the errors obseved are copied below,

*fabric Commit: ce58047*
*fabric-ca Commit: f616de8*
*fabric-sdk-node Commit: e55f817*

{code:java}
18:48:13 not ok 1362 queryInstantiatedChaincodes - did not find match for e2e
18:48:13   ---
18:48:13     operator: fail
18:48:13     at: Client.newDefaultKeyValueStore.then.then.then (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/query.js:404:6)
18:48:13     stack: |-
18:48:13       Error: queryInstantiatedChaincodes - did not find match for e2e
18:48:13           at Test.assert [as _assert] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
18:48:13           at Test.bound [as _assert] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
18:48:13           at Test.fail (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)
18:48:13           at Test.bound [as fail] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
18:48:13           at Client.newDefaultKeyValueStore.then.then.then (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/query.js:404:6)
18:48:13           at <anonymous>
18:48:13           at process._tickDomainCallback (internal/process/next_tick.js:228:7)
{code}


{code:java}
18:48:15 not ok 1443 should have duration roughly equals 3000
18:48:15   ---
18:48:15     operator: equal
18:48:15     expected: 3
18:48:15     actual:   0
18:48:15     at: timeOutTest (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:441:7)
18:48:15     stack: |-
18:48:15       Error: should have duration roughly equals 3000
{code}

{code:java}
18:48:15 not ok 1444 should be equal
18:48:15   ---
18:48:15     operator: equal
18:48:15     expected: |-
18:48:15       'Calling /aMethod endpoint failed, CONNECTION Timeout'
18:48:15     actual: |-
18:48:15       'Calling /aMethod endpoint failed with error [Error: connect ENETUNREACH 10.255.255.1:3000]'
18:48:15     at: timeOutTest (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:442:5)
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-x86_64/264/",,kchristidis,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzamv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/18 10:43 PM;sambhavdutt;The latest build for fabric-sdk-node8-merge CI tests fail with this error,

```
21:12:00  ** FabricCAServices: Test enroll() With Dynamic CSR **
21:12:00 
21:12:00 
21:12:00 ok 1451 Successfully enrolled 'admin'.
21:12:00 ok 1452 Subject should be /CN=admin
21:12:00 ok 1453 Successfully imported public key from the resulting enrollment certificate
21:12:00 ok 1454 connection-timeout should have default value 3000
21:12:01 ok 1455 socket-operation-timeout should have default value undefined
21:12:01 not ok 1456 should have duration roughly equals 3000
21:12:01   ---
21:12:01     operator: equal
21:12:01     expected: 3
21:12:01     actual:   1
21:12:01     at: timeOutTest (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:441:7)
21:12:01     stack: |-
21:12:01       Error: should have duration roughly equals 3000
21:12:01           at Test.assert [as _assert] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
21:12:01           at Test.bound [as _assert] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
21:12:01           at Test.equal.Test.equals.Test.isEqual.Test.is.Test.strictEqual.Test.strictEquals (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:388:10)
21:12:01           at Test.bound [as equal] (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
21:12:01           at timeOutTest (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:441:7)
21:12:01           at <anonymous>
21:12:01           at process._tickDomainCallback (internal/process/next_tick.js:228:7)
21:12:01   ...
21:12:01 not ok 1457 should be equal
```
*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-x86_64/266/;;;","22/May/18 3:48 AM;kchristidis;[~harrisob@us.ibm.com]: Is this a flaky test? Or something else going on?;;;","23/May/18 10:14 PM;sambhavdutt;The fabric-sdk-node merge CI tests are successful now.

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/4/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to use HFC with PM2 and another gRPC call,FABN-399,15333,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Asara,Asara,14/Mar/17 3:40 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,17/Apr/17 1:49 PM,v1.0.0,,,,,,,,,,0,,,,,"We have created a repo on github to exhibit the issue.

https://github.com/jrosmith/hfc_test

When using hfc along with PM2 and making other gRPC calls, there seems to be a deadlock which causes the service to completely lock up. ",,Asara,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnyf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Asara,binhn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/17 5:15 AM;binhn;I am not sure what you are trying to do and which service locks up? ;;;","17/Apr/17 1:51 PM;jimthematrix;thanks for reporting the issue. At this point we are not touching HFC 0.6.x, all development efforts focused on v1.0 (fabric-client and fabric-ca-client in npm). if you want to contribute a fix we can consider reviewing and publishing it. in that case please re-open and assign to yourself.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub connections not being closed via node-sdk with fabric 1.0.5,FABN-400,26725,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Asara,Asara,11/Jan/18 5:39 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Feb/18 5:44 AM,,,,,,,v1.0.3,v1.1.0,,,0,,,,,"Quick Summary:

When running the the BalanceTransfer example, we are noticing a discrepancy between running against a peer in docker, and one that is running on a bare-metal host.  

When running against docker, EventHub connections are routienly closed ~30 seconds after the transaction has completed and the transaction event has been received by the event hub.

On the flip side, when running against the peer binary on a bare-metal host, the event hub connections are held as established indefinitely.  
At large volumes (1k+ tx), the peer crashes.

Process to reproduce:
Set up the BalanceTransfer example
Install and instantiate the chaincode
Send an invoke
After the invoke has successfully completed, the HFC logs will report that the stream has ended.  However, when looking at established connections (netstat/lsof), there is a connection that is still open.

A short term, pesudo-workaround is setting peer.events.keepalive.minInterval (suggested by [~jyellick]) to 5s (not set in my config originally). This allows for a small bump in successful transactions, but still eventually crashes.",,Asara,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyt0n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Asara,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jan/18 12:20 AM;harrisob@us.ibm.com;The balance transfer will be rewritten using the channel-based events which is using the same port as other peer services. The ""close has been added to the channel-based event NodeSDK ""disconnect"" call.;;;","26/Jan/18 4:00 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/17157/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk invokes chaincode event listener when no chaincode event has been emitted from the chaincode ,FABN-401,28265,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,07/Mar/18 11:03 PM,04/Jun/19 3:04 AM,28/Oct/23 3:25 AM,04/Jun/19 3:04 AM,v1.1.0,v1.1.0-alpha,v1.4.0,v1.4.1,v2.0.0,,,,,,0,,,,,"While testing the new ChannelEventHub implementation I have observed that when I register for chaincode events. The callback is always invoked when a block event occurs, even though there is no chaincode event. The node sdk should only invoke the callback when there is a chaincode event to return.
eg, if I use this code
{code:java}
            eventHub.registerChaincodeEvent(ccid, 'composer',
                (event, blockNum, txID, status) => {
                    console.log(`got an event: ${event}`);
                    console.log(event.payload);
                    if (status && status === 'VALID') {
                        let evt = event.payload.toString('utf8');
                         evt = JSON.parse(evt);
                        console.log(`emitting CC event ${evt}`);
                        this.emit('events', evt);
                        }
                    }
                },
{code}
I see that when there is no chaincode event, the payload is a buffer of 2 bytes
{code}
<Buffer 5b 5d>
{code}
Which parses to an empty array in javascript.
Although I observed this on the new channel event hub, I am pretty sure the same problem still occurs on the old eventhub implementation as well.
Note have not tried this with filtered blocks, only with full blocks.",,14gracel,asaningmaxchain123,davidkel,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz047:",,,,,,,,,,,,,,,,,,,,,,,,,,,,14gracel,asaningmaxchain123,davidkel,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Mar/18 11:24 PM;denyeart;[~harrisob@us.ibm.com] please assess.;;;","08/Mar/18 2:18 AM;harrisob@us.ibm.com;I am unable to recreate. Could I get a debug log ?;;;","05/Apr/19 6:47 PM;14gracel;Recreate by:
 # Submit a transaction that emits a chaincode event
 # Register a chaincode event listener for the event type emitted

This will trigger an event, despite the event having already happened;;;","09/Apr/19 3:48 AM;harrisob@us.ibm.com;The only way to avoid this is to be sure to connect the ChannelEventHub before the registration of the chaincode event listener or connect with the last block seen number plus one.

Keep in mind that the connect with out any options will get the last block on the ledger, this may contain transactions with the chaincode event being monitored.

Chaincode events listeners that are matching on none specific information and not part of a long running connection ChannelEventHub may fire again and again in an environment with very few transactions.;;;","09/Apr/19 3:50 AM;harrisob@us.ibm.com;I think we should update the event tutorial to explain how to use chaincode events;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GRPC_SSL_CIPHER_SUITES not being set properly in e2e tests,FABN-402,23923,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,13/Nov/17 7:41 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,13/Nov/17 12:20 PM,,,,,,,v1.1.1,,,,0,,,,,"FAB-5805 introduced a change in the way the SDK loads config files.

Due to the way multiple tests load the fabric-client and due to the fact that the config is somewhat global, this results in the GRPC_SSL_CIPHER_SUITES environment variable not being set properly.  This is most evident running test/integration/e2e.js and this is causing the e2e tests for Fabric to fail",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyn0f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/17 7:48 AM;mastersingh24;https://gerrit.hyperledger.org/r/15421;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-client/lib/Client.js getPeersForOrgOnChannel return peers having empty role information,FABN-403,31691,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,yunu_kim,yunu_kim,06/Jul/18 10:53 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,14/Jul/18 3:00 AM,,,,,,,,,,,0,,,,," [fabric-client/lib/Client.js|https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/fabric-client/lib/Client.js#L1826] getPeersForOrgOnChannel :line 1825~
{code:javascript}
if(org_peer.getName() === channel_peer.getName()) {
    found_peers[org_peer.getName()] = org_peer;//to avoid Duplicate Peers
    logger.debug('%s - adding peer to list:%s',method,org_peer.getName());
}
{code}
this accumulates org_peers to return, but org_peer doen't have role information.

 

[composer-connector-hlfv1/hlfconnection.js|https://github.com/hyperledger/composer/blob/master/packages/composer-connector-hlfv1/lib/hlfconnection.js#L1198] getChannelPeersInOrg
{code:javascript}
getChannelPeersInOrg(peerRoles) {
    let peers = this.client.getPeersForOrgOnChannel(this.channel.getName());
    return peers.filter((cPeer) => {
        return peerRoles.every((peerRole) => {
            return cPeer.isInRole(peerRole);
        });
    });
}
{code}
 this code expects that fabric-client's getPeersForOrgOnChannel will return peers having role information, but that expectation won't come true.

 

I suggest that getPeersForOrgOnChannel return channel_peer, not org_peer.
{code:javascript}
if(org_peer.getName() === channel_peer.getName()) {
    found_peers[org_peer.getName()] = channel_peer; //to avoid Duplicate Peers
    logger.debug('%s - adding peer to list:%s',method,org_peer.getName());
}
{code}
 channel_peer has role information and compatibility with org_peer.",,harrisob@us.ibm.com,yunu_kim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzhxb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,yunu_kim,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/18 2:59 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/24333/;;;","16/Jul/18 1:18 PM;yunu_kim;thank you;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub connections not being properly closed by the node sdk (1.0.5),FABN-404,26726,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Asara,Asara,11/Jan/18 5:43 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,19/Jan/18 12:16 AM,v1.0.0,v1.0.1,v1.0.2,v1.0.3,v1.0.4,v1.0.5,v1.1.0,,,,2,Release-planning-1.1,sdk,,,"Quick Summary:

When running the the BalanceTransfer example, we are noticing a discrepancy between running against a peer in docker, and one that is running on a bare-metal host.  

When running against docker, EventHub connections are routienly closed ~30 seconds after the transaction has completed and the transaction event has been received by the event hub.

On the flip side, when running against the peer binary on a bare-metal host, the event hub connections are held as established indefinitely.  
At large volumes (1k+ tx), the peer crashes.

Process to reproduce:
Set up the BalanceTransfer example
Install and instantiate the chaincode
Send an invoke
After the invoke has successfully completed, the HFC logs will report that the stream has ended.  However, when looking at established connections (netstat/lsof), there is a connection that is still open.

A short term, pesudo-workaround is setting peer.events.keepalive.minInterval (suggested by [~jyellick]) to 5s (not set in my config originally). This allows for a small bump in successful transactions, but still eventually crashes.",,5igm4,Asara,harrisob@us.ibm.com,jrosmith,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyt0v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,5igm4,Asara,harrisob@us.ibm.com,jrosmith,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jan/18 12:16 AM;harrisob@us.ibm.com;The GRPC close has been added to the disconnect call in v1.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"end-to-end tests are failing as ""ca"" reference has been removed from fabric-sdk node docker-compose file",FABN-405,14423,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,29/Jan/17 11:25 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,30/Jan/17 5:31 AM,,,,,,,,,,,0,,,,,"end-to-end tests are failing as ""ca"" reference has been removed from fabric-sdk node docker-compose file",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/17 11:25 AM;rameshthoomu;Jim given fix: https://gerrit.hyperledger.org/r/#/c/4979/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel configuration (add org) fails via node sdk ,FABN-406,26767,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,silentspark,silentspark,12/Jan/18 4:26 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Jan/18 5:30 AM,v1.0.5,v1.1.0-preview,,,,,v1.1.0,,,,0,node-SDK,,,,"I'm using node sdk to configure channel (refer to fabric-sdk-node/test/integration/configtxlator.js). It's ok to delete an org or update BatchSize, but failed to add an org. The error msg in Orderer log is below. I verified the updated json is correct and I can add an org via command line ""peer channel update"" successfully. 

***********************************************************************************************
_2018-01-10 10:51:09.201 UTC [orderer/common/broadcast] Handle -> DEBU dc1 Preprocessing CONFIG_UPDATE_
_2018-01-10 10:51:09.201 UTC [orderer/configupdate] Process -> DEBU dc2 Processing channel reconfiguration request for channel testchainid_
_2018-01-10 10:51:09.201 UTC [orderer/common/broadcast] Handle -> WARN dc3 Rejecting CONFIG_UPDATE because: {color:#ff0000}Error authorizing update: unexpected EOF{color}_
_2018-01-10 10:51:09.201 UTC [orderer/main] func1 -> DEBU dc4 Closing Broadcast stream_
_***********************************************************************************************_
Attached my node.js code and add org json file (org3MSP). I'm using Fabric 1.0.5 and fabric-sdk-node-1.1.0-preview.",,harrisob@us.ibm.com,jyellick,pmcosta1,silentspark,SwatiRaj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jan/18 4:26 PM;silentspark;configtxlator.js;https://jira.hyperledger.org/secure/attachment/14143/configtxlator.js","22/Jan/18 6:18 PM;silentspark;orderer.log;https://jira.hyperledger.org/secure/attachment/14358/orderer.log","12/Jan/18 4:26 PM;silentspark;org3content.json;https://jira.hyperledger.org/secure/attachment/14144/org3content.json","23/Jan/18 11:52 AM;silentspark;updated_config_json_add;https://jira.hyperledger.org/secure/attachment/14365/updated_config_json_add","23/Jan/18 11:52 AM;silentspark;updated_config_proto_add;https://jira.hyperledger.org/secure/attachment/14366/updated_config_proto_add",,,,,,,,,,,,,,,,,,,,,,,,"1|hzyt7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jyellick,pmcosta1,silentspark,SwatiRaj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jan/18 12:06 AM;jyellick;I would appreciate some eyes on this from [~harrisob@us.ibm.com], but I believe this is most likely a problem marshaling the org definition.

The configtxlator framework handles converting between JSON and protobuf in a custom way.  In particular, it turns fields which are specified as opaque bytes into unmarshaled representations of those bytes.  I believe the line:

{noformat}
updated_config.channel_group.groups.Application.groups[orgMSP]=JSON.parse(org_content);
{noformat}

is assigning the raw JSON into this map, and the proto marshaling is not capable of converting the nested JSON into the opaquely marshaled bytes.

Could you please include the output of the orderer log at debug level when this submission fails?;;;","22/Jan/18 6:18 PM;silentspark;Hi Jason,

     Thx for your feedback. Attached the orderer log with DEBUG level.[^orderer.log];;;","23/Jan/18 1:17 AM;jyellick;[~silentspark] as you can see in your log:

{noformat}
2018-01-22 09:15:45.840 UTC [orderer/main] Broadcast -> DEBU 8e5 Starting new Broadcast handler
2018-01-22 09:15:45.840 UTC [orderer/common/broadcast] Handle -> DEBU 8e6 Starting new broadcast loop
2018-01-22 09:15:45.840 UTC [orderer/common/broadcast] Handle -> DEBU 8e7 Preprocessing CONFIG_UPDATE
2018-01-22 09:15:45.840 UTC [orderer/configupdate] Process -> DEBU 8e8 Processing channel reconfiguration request for channel testchainid
2018-01-22 09:15:45.840 UTC [orderer/common/broadcast] Handle -> WARN 8e9 Rejecting CONFIG_UPDATE because: Error authorizing update: unexpected EOF
2018-01-22 09:15:45.840 UTC [orderer/main] func1 -> DEBU 8ea Closing Broadcast stream
{noformat}

 the reason the orderer is rejecting your request is because *Error authorizing update: unexpected EOF*.  This implies that the JSON has not been converted back into protobuf correctly and so the unmarshaling has failed.   [~harrisob@us.ibm.com] can you take a look?;;;","23/Jan/18 4:49 AM;jyellick;I discussed this with [~harrisob@us.ibm.com] directly, and it looks like your code is not properly checking the HTTP response codes.  My strong suspicion is that you are getting back an error on one of the calls to 'encode', which is then propagating all the way to the orderer.;;;","23/Jan/18 11:53 AM;silentspark;Hi [~jyellick] , [~harrisob@us.ibm.com].  I didn't get error back from configtxlator encode. I uploaded the update_config_json and update_config_proto. They look good. Could you take a look or test my nodejs code, let me know the problem in my code?;;;","24/Jan/18 5:07 AM;jyellick;[~silentspark] I am actively investigating this with [~harrisob@us.ibm.com], we have been able to reproduce this with the node SDK.  Surprisingly though, taking the same artifacts and using curl instead of the node POST request produces a valid config update.  We are trying to identify the reason for this discrepancy.;;;","25/Jan/18 5:30 AM;harrisob@us.ibm.com;please change to use the following in your request to compute the config update

        return new Promise((resolve, reject) =>\{
            requester.post(\{
                url: 'http://127.0.0.1:7059/configtxlator/compute/update-from-configs',
                encoding: null,
                headers: \{
                    accept: '*/*',
                    expect: '100-continue'
                },
                formData: formData
            }, function optionalCallback(err, res, body) \{
                if (err) \{
                    t.fail('Failed to get the updated configuration ::'+err);
                    reject(err);
                } else \{
                    var proto = Buffer.from(body, 'binary');
                    resolve(proto);
                }
            });
        });

 

notice the addition of  encoding and headers;;;","26/Jan/18 12:10 AM;silentspark;Hi Bret, it works, thx a lot!

Will the configtxlator be improved to handle the post request without null encoding and headers correctly?;;;","26/Jan/18 1:22 AM;jyellick;[~silentspark] I'm not in a position to easily test this, but I don't think all of the header fields are necessarily required, these are simply the header components which curl was setting.  I'd suggest that you try paring them down until you find the minimal set required.

{{configtxlator}} does nothing special, it uses standard golang HTTP libraries plus Gorilla Mux.  If I had to guess, the POST from Node is probably defaulting to request some encoding which changes the returned bytes, and the golang code is obliging.  

You can see the actual code from {{configtxlator}} here: https://github.com/hyperledger/fabric/blob/master/common/tools/configtxlator/rest/configtxlator_handlers.go#L32-L91

Note, there is no processing of the headers, nothing in this code which would change based on the specified headers, so it seems like the change is most likely happening inside of core golang code (and outside the scope of fabric).;;;","27/Jan/18 1:01 PM;silentspark;Hi Jason, Bret,

    Thx for your help on this issue!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing parameter description in docs,FABN-407,19432,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,vdods,vdods,23/Jul/17 6:41 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,27/Jul/17 10:38 PM,,,,,,,,,,,0,,,,,"The requirement to specify the ""targets"" key in the ChaincodeInstallRequest argument of client.installChaincode is not present in the documentation.",,ericmvaughn,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-501,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9g7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jul/17 12:02 AM;ericmvaughn;[~jimthematrix] this looks the same as one I submitted (FAB-5409) and I'd be happy to make the change if you'd like. ;;;","27/Jul/17 10:34 PM;ericmvaughn;Fixed by [https://gerrit.hyperledger.org/r/#/c/11919/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doesn’t register “REGISTER” events,FABN-408,17852,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,nnao,nnao,nnao,14/Jun/17 5:39 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,25/Oct/17 8:16 AM,v1.0.1,,,,,,v1.1.0,,,,0,v1.0,,,,"I tried to register “REGISTER” event, but I got error messages below.

2017-06-13 11:01:50.888 PDT [eventhub_producer] start -> INFO 001 Event processor started
2017-06-13 11:01:52.891 PDT [msp] DeserializeIdentity -> INFO 002 Obtaining identity
2017-06-13 11:01:52.892 PDT [eventhub_producer] register -> ERRO 003 could not register chaincode_reg_info:<chaincode_id:""0xffffffff"" event_name:""event1"" > : event type REGISTER does not exist
",,binhn,denyeart,harrisob@us.ibm.com,muralisr,nnao,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1pb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,denyeart,harrisob@us.ibm.com,muralisr,nnao,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jun/17 11:47 PM;muralisr;[~nnao] Any update for the JIRA ? 

There is code that might help you with this. E.g, events/producer/producer_test.go. Also examples/events/block-listener/block-listener.go does not directly send the event but might get you to do what you want.

;;;","16/Jun/17 1:32 AM;nnao;[~muralisr] Thank you for information. I had made the patch and is testing it now.
In events/producer dir test, there is some problem after patching.
I can pass the test by each function using ""go test -run XXX"". But I can't pass the test using ""go test"".
Now I'm trying to solve.;;;","16/Jun/17 12:00 PM;nnao;https://gerrit.hyperledger.org/r/#/c/10691/;;;","16/Jun/17 9:41 PM;muralisr;Hi [~nnao] After looking at your CR, realized a better fix might be to remove REGISTER altogether. It might be a left over from the original idea to use that for registration. The key to note is that, rest of the enums such as BLOCK are used in the handler chat _after_ registration (so registration is a special case that has to happen first before chat can be handled and hence is not handled with a REGISTER event).

[~pmullaney] what do you think ?

If everyone agrees with removing REGISTER, better to do this post 1.0 so we don't touch protos now.;;;","17/Jun/17 12:14 AM;binhn;I just saw this from the CR. I agreed with [~muralisr] since I don't know what a REGISTER event would do and provide.;;;","17/Jun/17 1:04 AM;nnao;I agreed with [~muralisr]. I would like to use chaincode and block events.;;;","17/Jun/17 10:54 PM;muralisr;[~nnao] I think we have agreed to remove REGISTER after 1.0. Moving this to 1.1.;;;","24/Aug/17 2:20 AM;nnao;https://gerrit.hyperledger.org/r/#/c/12709/;;;","25/Aug/17 9:09 PM;rickr;Can someone add some details why this is an sdk java/node issue please ?

[~muralisr] ?

Thanks.;;;","26/Aug/17 1:44 AM;nnao;[~rickr]  

I post a patch that deletes REGISTER event. Then I got some error in jenkins of end-2-end test.
https://jenkins.hyperledger.org/job/fabric-verify-end-2-end-x86_64/7557/console

fabric-sdk-jave uses REGISTER event to avoid correct failure(FAB-5577)
https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/EventHub.java#L208

I think REGISTER event defined in source code but it can't use now.
what do I need to do to solve this issue?
I will make a patch that deletes related REGISTER event at fabric-sdk-java?
or If the REGISTER event is needed, I will make a patch to use REGISTER events?;;;","06/Sep/17 12:50 AM;rickr;The SDK uses this as the final confirmation that event hub client is registered and receiving events.  Don't remove.;;;","06/Sep/17 9:56 PM;rickr;Talking to [~wlahti] this will not remove the registration event block that is sent when first connected.  Given that remove it as a todo for JSDK;;;","07/Sep/17 12:43 AM;denyeart;Bugs do not require a release planning tag.  Bugs are triaged for next release regardless. Removing label.;;;","25/Oct/17 8:17 AM;harrisob@us.ibm.com;This is working as designed ... if you feel that there is a problem here, please reopen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Client class should not hold MSP objects,FABN-409,16019,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,harrisob@us.ibm.com,harrisob@us.ibm.com,27/Apr/17 12:33 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,05/Jun/17 12:01 PM,v1.0.0-beta,,,,,,,,,,0,node-SDK,,,,Currently the 'Client' object allows users to addMSPs objects to create and itself. These objects are needed by the 'createChannel' and no where else. The 'Client' should help the user create MSPs but not manage them and change the 'createChannel' API to alllow for the passing of the MSPs required.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-556,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3cn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing dependencies in fabric-ca-client and fabric-client,FABN-410,27865,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jtonline,jtonline,20/Feb/18 11:47 PM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,24/Feb/18 5:40 AM,v1.1.0-alpha,,,,,,v1.1.1,,,,0,,,,,"I'm seeing the following error in a node module which depends on fabric-ca-client

{{Error: Cannot find module 'long'}}

It looks like fabric-ca-client should specify a dependency on 'long' due to lib/utils.js

Similarly for fabric-client, I'm seeing

{{Error: Cannot find module 'klaw'}}

due to lib/packager/Golang.js",,harrisob@us.ibm.com,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/18 3:57 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca registration affiliation checking,FABN-411,20618,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,06/Sep/17 5:05 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,07/Sep/17 11:30 PM,,,,,,,,,,,0,,,,,"{code}
19:53:53 not ok 773 Error: fabric-ca request register failed with errors [[{""code"":0,""message"":""Registration of 'auditor' failed in affiliation validation: Registrar does not have authority to request 'org2.department1' affiliation""}]] at IncomingMessage.<anonymous> (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:9:22050) at emitNone (events.js:91:20) at IncomingMessage.emit (events.js:185:7) at endReadableNT (_stream_readable.js:974:12) at _combinedTickCallback (internal/process/next_tick.js:74:11) at process._tickDomainCallback (internal/process/next_tick.js:122:9)
19:53:53   ---
19:53:53     operator: fail
19:53:53     at: caService.enroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:239:6)
19:53:53     stack: |-
19:53:53       Error: Error: fabric-ca request register failed with errors [[{""code"":0,""message"":""Registration of 'auditor' failed in affiliation validation: Registrar does not have authority to request 'org2.department1' affiliation""}]]
19:53:53           at IncomingMessage.<anonymous> (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:9:22050)
19:53:53           at emitNone (events.js:91:20)
19:53:53           at IncomingMessage.emit (events.js:185:7)
19:53:53           at endReadableNT (_stream_readable.js:974:12)
19:53:53           at _combinedTickCallback (internal/process/next_tick.js:74:11)
19:53:53           at process._tickDomainCallback (internal/process/next_tick.js:122:9)
19:53:53           at Test.assert [as _assert] (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:212:54)
19:53:53           at Test.bound [as _assert] (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
19:53:53           at Test.fail (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:277:10)
19:53:53           at Test.bound [as fail] (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
19:53:53           at caService.enroll.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node6-verify-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/fabric-ca-services-tests.js:239:6)
19:53:53           at process._tickDomainCallback (internal/process/next_tick.js:129:7)
19:53:53   ...
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/17 1:15 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/13169/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/Chain.html -- undocumented inputs and outputs,FABN-412,15088,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 9:31 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,06/Apr/17 3:38 AM,,,,,,,,,,,0,,,,,"In the generated documenation for class Chain, some of the methods do not document their parameters and results.

getOrderers()

    Get orderers of a chain.

getTCertBatchSize()

    Get the tcert batch size.

isDevMode()

    Determine if dev mode is enabled.

isPreFetchMode()

    Determine if pre-fetch mode is enabled to prefetch tcerts.

isSecurityEnabled()

    Determine if security is enabled.

setPreFetchMode()

    Set prefetch mode to true or false.

setTCertBatchSize()

    Set the tcert batch size.

Here are some examples of methods that document their inputs and outputs:
isReadonly()

    Get chain status to see if the underlying channel has been terminated, making it a read-only chain, where information (transactions and states) can be queried but no new transactions can be submitted.

    Returns:

    Is read-only, true or not.

    Type
        boolean 

getInitialAbsoluteMaxBytes()

    Get the initial absolute maximum bytes that will be used when this chain is created.

    Returns:

    initial absolute maximum bytes

    Type
        int 

getPeers()

    Get peers of a chain from local information.

    Returns:

    The peer list on the chain.

    Type
        Array.<Peer> 


For consistency and usability, all methods should describe their inputs and outputs.

",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Node SDK install, instantiate, invoke does not work with distinct TLS & E cert chains",FABN-413,19341,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mrkiouak,mrkiouak,mrkiouak,19/Jul/17 7:51 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,02/Sep/17 3:31 AM,v1.0.0,,,,,,,,,,0,node-SDK,tls,,,"[https://chat.hyperledger.org/channel/fabric-sdk-node?msg=v8prm7vr8gdJwFgq9]

log: [https://pastebin.com/m203005k] using TLS cert + key

log: [https://pastebin.com/88ehQQsu] using E cert + key

I am not able to find an example or location in the code where i can provide the node sdk both TLS crypto and enrollment crypto

Steps to reproduce:

cd $GOPATH/src/github.com/hyperledger/fabric

make docker

cd $GOPATH/src/github.com/hyperledger/fabric-ca

make docker

cd $GOPATH/src/github.com/hyperledger/fabric/examples/cluster

make  [clean required if previously run make compose-up] compose-up

cp build/client.config $GOPATH/src/github.com/hyperledger/fabric-chaintool/examples/example02/client/nodejs

cd $GOPATH/src/github.com/hyperledger/fabric-chaintool/examples/example02/app

chaintool package

cd ../client/nodejs

npm install

node client.js -p HFC_LOGGING='\{""debug"": ""console""}' node client.js install -p /opt/gopath/src/github.com/hyperledger/fabric-chaintool/examples/example02/app/build/org.hyperledger.chaincode.example02-0.1-SNAPSHOT.car

 

To easily swap tls vs msp cert & key:

fabric/examples/cluster/report-env.sh L101-104 fork available at [https://github.com/Rkiouak/fabric/tree/master] (branch master)

fabric-chaintool/examples/example02/client/nodejs/client.js L90-91 fork available at: [https://github.com/Rkiouak/fabric-chaintool]  can be modified to either:

privateKeyPEM: config.identity.tlsprivatekey,
 signedCertPEM: config.identity.tlscertificate

OR

privateKeyPEM: config.identity.privatekey,
signedCertPEM: config.identity.certificate

 

 ",,mrkiouak,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4626,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8vb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mrkiouak,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jul/17 12:42 AM;jimthematrix;[~mrkiouak] with the node sdk you set the tls certs in the constructors for orderers and peers (https://github.com/hyperledger/fabric-samples/blob/master/balance-transfer/app/helper.js#L63), and the enrollment certs when constructing the user (https://github.com/hyperledger/fabric-samples/blob/master/balance-transfer/app/helper.js#L316). these two sets of crypto materials are clearly separated in the APIs. I would agree with the diagnosis from @jeffgarratt so you should double check the ecerts

Removed the fabric-sdk-node from the components list;;;","21/Jul/17 5:27 AM;jimthematrix;based on conversations with Matt on RC, seems like there are further investigations needed to drill down to the bottom of the error;;;","30/Aug/17 12:46 PM;muralisr;[~jimthematrix] removing peer labels for now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getUserContext after setStateStore does not retrieve from current state store,FABN-414,15756,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,pmullaney,pmullaney,15/Apr/17 5:56 AM,19/Jul/18 9:53 AM,28/Oct/23 3:25 AM,22/Apr/17 6:01 AM,,,,,,,v1.0.0,,,,0,,,,,"sdk client: getUserContext after setStateStore does not retrieve from current state store

see attached test(use the most recent one), place in test/integration/e2e and:

node test/integration/e2e/user.js install -p foo -v 1.0

",,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/17 6:28 AM;pmullaney;user.js;https://jira.hyperledger.org/secure/attachment/10667/user.js","15/Apr/17 5:56 AM;pmullaney;user.js;https://jira.hyperledger.org/secure/attachment/10666/user.js","18/Apr/17 4:40 AM;pmullaney;user2.js;https://jira.hyperledger.org/secure/attachment/10670/user2.js",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4cf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/17 4:42 AM;pmullaney;Added user2.js which creates a new client during each peer loop iteration. Unfortunately this also fails to pull from the new state store.;;;","22/Apr/17 6:00 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/8129;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric SDK Node unit tests configured with HSM are failing on master branch,FABN-415,26663,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,antoniovassell,antoniovassell,09/Jan/18 5:31 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Feb/18 1:16 AM,v1.1.0-alpha,,,,,,v1.1.0,,,,0,node-SDK,,,,"This is to track the progress of fabric-sdk-node test cases to become green with hsm configured.

Currently running the test cases of fabric sdk node with HSM turned on is currently failing. The instructions were followed here: [https://github.com/hyperledger/fabric-sdk-node#special-tests-for-hardware-security-module-support-experimental-via-pkcs11-interface]

The unit tests for test/unit/pkcs11.js does pass (which includes generating and importing some keys). However configuring the sdk cryptosuite with hsm settings like below:
{code:java}
 
...
""crypto-hsm"": true,
""crypto-pkcs11-lib"": ""/usr/local/lib/softhsm/libsofthsm2.so"",
""crypto-pkcs11-slot"": ""0"",
""crypto-pkcs11-pin"": ""1234"", // My configured pin
...
{code}
 
 ... throws the following error multiple times:
{code:java}
not ok 19 TypeError: Cannot read property 'slot' of null
  ---
    operator: error
    expected: |-
      undefined
    actual: |-
      [TypeError: Cannot read property 'slot' of null]
    at: Test.onetime [as end] (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      TypeError: Cannot read property 'slot' of null
          at new CryptoSuite_PKCS11 (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/fabric-client/lib/impl/bccsp_pkcs11.js:91:25)
          at Object.module.exports.newCryptoSuite (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/fabric-client/lib/utils.js:94:9)
          at Function.newCryptoSuite (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/fabric-client/lib/BaseClient.js:41:19)
          at Object.queryChaincode (/home/antonio/development/blockchains/fabric-sdk-node/test/integration/e2e/e2eUtils.js:776:27)
          at test (/home/antonio/development/blockchains/fabric-sdk-node/test/integration/e2e/upgrade.js:91:11)
          at Test.<anonymous> (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.run (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape/lib/test.js:83:10)
          at Test.bound [as run] (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Immediate.next [as _onImmediate] (/home/antonio/development/blockchains/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
{code}
Just to note. The following change set was created that solves that 'slot' issue, [https://gerrit.hyperledger.org/r/#/c/16401/] (not merged as yet), but this also gives another issue ""CKR_CRYPTOKI_ALREADY_INITIALIZED"" and ""CKR_USER_ALREADY_LOGGED_IN"" that is fatal.

Again this task is to track the test cases passing on master.

Given an Admin user, I would like to be able to enroll a user using the fabric-sdk-node, and have the user keys generated stored successfully on a HSM and not in a local folder.",,aambati,antoniovassell,denyeart,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyspz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,antoniovassell,denyeart,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/18 7:07 AM;harrisob@us.ibm.com;With FAB-7726 now in .. is this still falling ?;;;","08/Feb/18 3:49 AM;antoniovassell;[~harrisob@us.ibm.com] [~mastersingh24] Hey even with -FAB-7726- the unit tests cases for fabric-sdk-node on master branch following these instructions ([Test Instructions |https://github.com/hyperledger/fabric-sdk-node/tree/master#special-tests-for-hardware-security-module-support-experimental-via-pkcs11-interface]) are still failing. Please see report attached. 


{code:java}
[00m[1m[38;5;196m
not ok 763 Error: _pkcs11OpenSession[9]: PKCS11 slot number non-exist[00m[00m[2m[38;5;66m
  ---[00m
    operator: error
    expected: |-
      undefined
    actual: |-
      [Error: _pkcs11OpenSession[9]: PKCS11 slot number non-exist]
    at: Test.onetime [as end] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      Error: _pkcs11OpenSession[9]: PKCS11 slot number non-exist
          at CryptoSuite_PKCS11._pkcs11OpenSession (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js:9:12377)
          at new CryptoSuite_PKCS11 (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js:9:9803)
          at Object.module.exports.newCryptoSuite (/home/devel/PeerLedger/3TG/fabric-sdk-node/fabric-client/lib/utils.js:9:3731)
          at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:89:23)
          at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10)
          at Test.bound [as run] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:800:20)
          at tryOnImmediate (timers.js:762:5)
          at processImmediate [as _immediateCallback] (timers.js:733:5)[00m[2m[38;5;66m
  ...[00m[00m[2m[38;5;66m
# [00m

**PKCS11 - generate a non-ephemeral key

[00m[1m[38;5;196m
not ok 764 TypeError: Cannot read property 'generateKey' of undefined[00m[00m[2m[38;5;66m
  ---[00m
    operator: error
    expected: |-
      undefined
    actual: |-
      [TypeError: Cannot read property 'generateKey' of undefined]
    at: Test.onetime [as end] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      TypeError: Cannot read property 'generateKey' of undefined
          at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:131:23)
          at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10)
          at Test.bound [as run] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:800:20)
          at tryOnImmediate (timers.js:762:5)
          at processImmediate [as _immediateCallback] (timers.js:733:5)[00m[2m[38;5;66m
  ...[00m[00m[2m[38;5;66m
# [00m


**PKCS11 - import an AES key into the crypto card

[00m[1m[38;5;196m
not ok 765 TypeError: Cannot read property 'importKey' of undefined[00m[00m[2m[38;5;66m
  ---[00m
    operator: error
    expected: |-
      undefined
    actual: |-
      [TypeError: Cannot read property 'importKey' of undefined]
    at: Test.onetime [as end] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      TypeError: Cannot read property 'importKey' of undefined
          at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:178:20)
          at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10)
          at Test.bound [as run] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:800:20)
          at tryOnImmediate (timers.js:762:5)
          at processImmediate [as _immediateCallback] (timers.js:733:5)[00m[2m[38;5;66m
  ...[00m[00m[2m[38;5;66m
# [00m

[00m[1m[38;5;196m
not ok 766 TypeError: Cannot read property 'generateKey' of undefined[00m[00m[2m[38;5;66m
  ---[00m
    operator: error
    expected: |-
      undefined
    actual: |-
      [TypeError: Cannot read property 'generateKey' of undefined]
    at: Test.onetime [as end] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      TypeError: Cannot read property 'generateKey' of undefined
          at test (/home/devel/PeerLedger/3TG/fabric-sdk-node/test/unit/pkcs11.js:211:20)
          at Test.<anonymous> (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Test.run (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:83:10)
          at Test.bound [as run] (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/test.js:64:32)
          at Immediate.next (/home/devel/PeerLedger/3TG/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:800:20)
          at tryOnImmediate (timers.js:762:5)
          at processImmediate [as _immediateCallback] (timers.js:733:5)[00m[2m[38;5;66m
  ...[00m[00m[2m[38;5;66m
# [00m



{code}

 ;;;","08/Feb/18 3:54 AM;antoniovassell;Do the instructions need to be updated?;;;","13/Feb/18 10:40 PM;aambati;[~antoniovassell] are you running into any runtime issues? I am wondering if this a test case or code issue?;;;","15/Feb/18 1:56 AM;denyeart;[~mastersingh24] I see you assigned yourself, what did you have in mind?;;;","17/Feb/18 9:28 PM;mastersingh24;hopefully just fixing the docs
I'm able to run the tests just fine (I never read the instructions tho);;;","17/Feb/18 9:35 PM;antoniovassell;[~mastersingh24] Okay, can you say what was the procedure that you used?;;;","17/Feb/18 10:10 PM;mastersingh24;The issue seems to be that by default you need to run as root for things to work;;;","17/Feb/18 10:46 PM;mastersingh24;I'll post a CR shortly for you to test [~antoniovassell];;;","17/Feb/18 11:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/18009;;;","18/Feb/18 4:27 AM;mastersingh24;[~antoniovassell] - Please have a look at the CR above and try it out;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodSDK - users have no way to save signatures,FABN-416,17383,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,02/Jun/17 7:10 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,03/Jun/17 5:53 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,NodeSDK users are not able to convert signatures to a savable format and return then to a protobuf without having access to the protobufs. We will add a conversion on the signatures if we find them in the wrong state.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk isn't always using the file keystore requested,FABN-417,15160,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,davidkel,davidkel,02/Mar/17 8:33 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Mar/17 5:48 PM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In our code we provide a directory to use for the filekeystore to use as follows

{code:javascript}
           LOG.debug(method, 'Using key value store', connectOptions.keyValStore);
            result = Client.newDefaultKeyValueStore({
                path: connectOptions.keyValStore
            })
            .then((store) => {
                client.setStateStore(store);
                return store;
            })
            .catch((error) => {
                LOG.error(method, error);
                throw error;
            });
        }

        return result.then((store) => {

            // Create a CA client.
            const caClient = HLFConnectionManager.createCAClient(connectOptions.ca, {
                path: connectOptions.keyValStore
            });
{code}
However it would appear that the default of .hfc-key-store is still being used as I see this being created and a public key has been ceated in the directory.

in our defined keystore
{quote}
-rw-rw-r--  1 vagrant vagrant  246 Mar  2 09:06 81c34cc4a7a2b034ab43d5c41a8738f02d1ebee40ca18bc8818c71db223d063b-priv
-rw-rw-r--  1 vagrant vagrant  968 Mar  2 09:06 admin
{quote}

in .hfc-key-store
{quote}
-rw-rw-r--  1 vagrant vagrant  182 Mar  2 09:06 81c34cc4a7a2b034ab43d5c41a8738f02d1ebee40ca18bc8818c71db223d063b-pub
{quote}",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5cn:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Mar/17 8:47 PM;davidkel;With the latest (downloaded today 2nd March) I get the following error if I try to define a keystore path other than ~/.hfc-key-store

{code}
2017-03-02T10:11:04.963Z ERROR   HLFConnection            :login()                   {""message"":""Private key missing from key store. Can not establish the signing identity for user admin"",""stack"":""Error: Private key missing from key store. Can not establish the signing identity for user admin\n    at cryptoPrimitives.importKey.then.then (/home/vagrant/src/fabric-sdk-node/fabric-client/lib/User.js:234:11)""}$
Error: Private key missing from key store. Can not establish the signing identity for user admin
{code}
The only solution is to define the keystore path to be .hfc-key-store.;;;","17/Mar/17 2:08 AM;davidkel;As of 16th March, using the fabric-client and fabric-ca-client 0.2.3 I still cannot define a keystore other than .hfc-key-store. To clarify our code does the following
{code}
result = Client.newDefaultKeyValueStore({
    path: connectOptions.keyValStore
})
{code}
and
{code}
static createCAClient(ca, keyValStore) {
    return new FabricCAClientImpl(ca, keyValStore);
}
const caClient = HLFConnectionManager.createCAClient(connectOptions.ca, {
    path: connectOptions.keyValStore
});
{code}
so I think I am setting everything up correctly, but things still fail. The error I get now is
{code}
2017-03-16T15:50:11.465Z ERROR   HLFConnection            :login()                   {""message"":""Invalid parameter. Must have a valid mspId."",""stack"":""Error: Invalid parameter. Must have a valid mspId.\n    at User.setEnrollment (/home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/fabric-client/lib/User.js:162:10)\n    at caClient.enroll.then (/home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/lib/hlfconnection.js:156:29)\n    at process._tickCallback (internal/process/next_tick.js:103:7)""}$
{code}

If I use .hfc-key-store as my connectOptions.keyValStore then everything works fine.
 ;;;","17/Mar/17 5:48 PM;davidkel;Ahh, I see the api has changed and that if you are the actual code to enroll then you must provide an MSPid. If already enrolled then you don't. made changes for that and now it's working as required. 
I've changed code to accomodate and now tests pass.
Many thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK docker-compose issue : there should be some delay before starting peer,FABN-418,13359,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,Ratnakar,Ratnakar,08/Nov/16 1:12 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Feb/17 12:12 AM,,,,,,,,,,,0,node-SDK,,,,"peer is crashing when used docker compose file provided herehere https://raw.githubusercontent.com/hyperledger/fabric-sdk-node/master/test/fixtures/docker-compose.yml.

seems memberservice is not started and peer is getting starter even before causes this issue
Gist of logs


{code}
vp0_1        | 04:02:35.190 [crypto] Errorf -> ERRO 01e [validator.test_vp0] Failed requesting read certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | 04:02:35.190 [crypto] Errorf -> ERRO 01f [validator.test_vp0] Failed requesting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | 2016/11/08 04:02:35 grpc: addrConn.resetTransport failed to create client transport: connection error: desc = ""transport: dial tcp 172.17.0.3:7054: getsockopt: connection refused""; Reconnecting to {""membersrvc:7054"" <nil>}
vp0_1        | 2016/11/08 04:02:35 Failed to dial membersrvc:7054: grpc: the connection is closing; please retry.
vp0_1        | 04:02:35.190 [crypto] Errorf -> ERRO 020 [validator.test_vp0] Failed getting ECA certificate [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | 04:02:35.191 [crypto] Errorf -> ERRO 021 [validator.test_vp0] Failed retrieving ECA certs chain [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | 04:02:35.191 [crypto] Errorf -> ERRO 022 [validator.test_vp0] Failed registering node crypto engine [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | 04:02:35.191 [crypto] Errorf -> ERRO 023 [validator.test_vp0] Failed registering peer [test_vp0]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]
vp0_1        | 04:02:35.191 [crypto] Errorf -> ERRO 024 [validator.test_vp0] Failed registering [test_vp0]: [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure]
vp0_1        | 04:02:35.191 [crypto] RegisterValidator -> ERRO 025 Failed registering validator [test_vp0] with name [test_vp0] [rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure].
vp0_1        | Error: rpc error: code = 14 desc = grpc: RPC failed fast due to transport failure

{code}

Complete logs attached.

Introducing a delay before launching the peer resolves the issue.

{panel}

  *command: sh -c ""sleep 10; peer node start""*

{panel}

Please refer the attached docker-compose file",,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/16 1:08 PM;Ratnakar;docker-compose-issue.txt;https://jira.hyperledger.org/secure/attachment/10222/docker-compose-issue.txt","08/Nov/16 1:11 PM;Ratnakar;docker-compose.yml;https://jira.hyperledger.org/secure/attachment/10221/docker-compose.yml",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeb3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:13 AM;jimthematrix;[~Ratnakar] currently using `depends-on` but if the problem can still be observed please re-open;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vulnerable node packages observed in fabric-sdk-node CI jobs.,FABN-419,30174,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,15/May/18 2:21 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,13/Jun/18 12:28 AM,v1.1.0,,,,,,v1.2.0,,,,0,ci-failure,,,,"These deprecated npm vulnerabilities are showing up in the verify and merge CI jobs, for fabric-sdk-node6 and fabric-sdk-node8 

*fabric Commit: c61c922*
*fabric-ca Commit: 43bc8b2*
*fabric-sdk-node Commit: e55f817*

{code:java}
00:08:55.624 npm WARN deprecated formatio@1.2.0: This package is unmaintained. Use @sinonjs/formatio instead
00:08:56.074 npm WARN deprecated graceful-fs@3.0.11: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js

00:08:56.721 npm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
00:08:56.724 npm WARN deprecated natives@1.1.3: This module relies on Node.js's internals and will break at some point. Do not use it, and update to graceful-fs@4.x.

00:08:57.496 npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
00:08:57.785 npm WARN deprecated graceful-fs@1.2.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js

00:09:08.448 npm WARN notice [SECURITY] protobufjs has and 1 moderate vulnerability. Go here for more details: https://nodesecurity.io/advisories?search=protobufjs&version=5.0.2 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.

00:09:10.722 npm WARN notice [SECURITY] minimatch has and 1 high vulnerability. Go here for more details: https://nodesecurity.io/advisories?search=minimatch&version=0.2.14 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.

00:09:13.063 npm WARN notice [SECURITY] lodash has and 1 low vulnerability. Go here for more details: https://nodesecurity.io/advisories?search=lodash&version=1.0.2 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
00:09:13.094 npm WARN notice [SECURITY] minimatch has and 1 high vulnerability. Go here for more details: https://nodesecurity.io/advisories?search=minimatch&version=2.0.10 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
{code}

*Build Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-x86_64/680/",,harrisob@us.ibm.com,sambhavdutt,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,sambhavdutt,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/18 5:10 AM;wenjian;[~sambhavdutt] This ticket is not duplicated by FAB-8373. It reports more vulnerabilities than FAB-8373 that only included heok@2.16.3 package (refer to release notes https://jira.hyperledger.org/browse/FAB-8456).;;;","01/Jun/18 12:34 AM;sambhavdutt;[~harrisob@us.ibm.com] 
Hello Bret, 

I noticed this vulnerability in the last  vulnerability tests,
*fabric-sdk-node Commit: a23064a*

{code:java}
08:55:17 npm WARN notice [SECURITY] lodash has 1 low vulnerability. Go here for more details: https://nodesecurity.io/advisories?search=lodash&version=3.10.1 - Run `npm i npm@latest -g` to upgrade your npm version, and then `npm audit` to get more info.
08:55:18 /home/jenkins/npm/bin/nsp -> /home/jenkins/npm/lib/node_modules/nsp/bin/nsp
08:55:18 + nsp@3.2.1
08:55:18 added 115 packages in 5.006s
08:55:19 (+) 1 vulnerability found
08:55:19 ┌────────────┬────────────────────────────────────────────────────────────────────┐
08:55:19 │            │ Denial of Service                                                  │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ Name       │ protobufjs                                                         │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ CVSS       │ 5 (Medium)                                                         │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ Installed  │ 5.0.3                                                              │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ Vulnerable │ <=6.8.5                                                            │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ Patched    │ >=6.8.6                                                            │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ Path       │ fabric-client@1.2.0-snapshot > grpc@1.10.1 > protobufjs@5.0.3      │
08:55:19 ├────────────┼────────────────────────────────────────────────────────────────────┤
08:55:19 │ More Info  │ https://nodesecurity.io/advisories/605                             │
08:55:19 └────────────┴────────────────────────────────────────────────────────────────────┘
{code}

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node-vulnerable-tests-x86_64/1/;;;","13/Jun/18 12:31 AM;harrisob@us.ibm.com;All packages have been upgraded. No issues are reported by the NSP.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - eventHub does not reconnect,FABN-420,21235,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Oct/17 3:16 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,05/Oct/17 7:24 PM,v1.0.2,,,,,,v1.1.0,,,,0,node-SDK,,,,When the event hub takes an error and the connection is shutdown it should be able to recover when a new registration comes in.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyi2v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/17 3:45 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14089/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk]  add initialAbsoluteMaxBytes initialPreferredMaxBytes to headless-tests.js,FABN-421,14711,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jjjjibm,jjjjibm,jjjjibm,10/Feb/17 3:57 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Feb/17 7:37 AM,,,,,,,,,,,0,,,,,"Add test cases to improve unit test coverage to headless-tests.js 

Start with *etInitialAbsoluteMaxBytes() and *etInitialPreferredMaxBytes()",Vlaunch VM running Ubuntu. ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GRPC 1.11.0 was released in the last day - caused failures with fabric-client,FABN-422,29855,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,mbwhite,mbwhite,02/May/18 12:24 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,03/May/18 10:49 PM,,,,,,,,,,,0,,,,,"It seems that the update to GRPC from 1.10.1 to 1.11.0 has broken the fabric-client.

 

```

{{/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/fabric-client/lib/ChannelEventHub.js:666 throw error; ^ Error: Connection is not in the READY state at ChannelEventHub._checkConnection (/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/fabric-client/lib/ChannelEventHub.js:664:17) at ChannelEventHub.registerChaincodeEvent (/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/fabric-client/lib/ChannelEventHub.js:825:8) at HLFConnection._registerForChaincodeEvents (/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/composer-connector-hlfv1/lib/hlfconnection.js:279:44) at HLFConnection._checkCCListener (/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/composer-connector-hlfv1/lib/hlfconnection.js:256:22) at Timeout.ccListenerHandle.setTimeout [as _onTimeout] (/home/su-ywi/.nvm/versions/node/v8.11.1/lib/node_modules/composer-cli/node_modules/composer-connector-hlfv1/lib/hlfconnection.js:381:35) at ontimeout (timers.js:482:11) at tryOnTimeout (timers.js:317:5) at Timer.listOnTimeout (timers.js:277:5)}}

{{}}{{```}}

 

{{This was reported in Hyperledger Composer  https://github.com/hyperledger/composer/issues/3944}}",,harrisob@us.ibm.com,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-454,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8bz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/18 10:49 PM;harrisob@us.ibm.com;fixed with https://gerrit.hyperledger.org/r/#/c/21021/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install Proposal fails with error Error: Received message larger than max (7633274 vs. 4194304),FABN-423,15893,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,davidkel,davidkel,21/Apr/17 10:28 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/May/17 12:49 PM,,,,,,,v1.0.0-alpha2,,,,0,alpha2,node-SDK,,,"Trying to deploy a fabric-composer business network and what used to work fine on the 1.0.0 alpha release of hyperledger fabric and the node-sdk now fails when I attempt to do an install proposal.

The message I get back is

{code:java}
    Error: Received message larger than max (7633274 vs. 4194304)
      at /home/vagrant/src/fabric-composer/packages/composer-connector-hlfv1/node_modules/grpc/src/node/src/client.js:434:17
{code}

I don't see anything in the peer logs to indicate anything different. I know that grpc has a default limit of 4Mb for messages (which is where 4194304) comes from. I don't know if this limit has been introduced somehow by the node sdk or if the message size has increased dramatically. I have got around it for now by changing the constructor in Remote.js to include the following line

{code:java}
this._options['grpc.max_receive_message_length'] = 20*1024*1024;
{code}
setting a limit to 20Mb (-1 is supposed to set it to infinite but there have been reported problems of this not being accepted so I chose a fixed amount for now).

This is using node-sdk 1.0.0.snapshot.17 with some changes taken directly from source to address events needed to be signed in order to work with the docker images released at version
===> FABRIC# - 7e0cff2 ===> FABRIC CA# - e583181 ===> FABRIC SDK JAVA - 981f70d


",,binhn,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx393:",,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/17 12:52 AM;binhn;cr https://gerrit.hyperledger.org/r/#/c/8995/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK Typos and broken links in documents,FABN-424,31518,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,30/Jun/18 7:13 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Jul/18 7:39 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"There are some typos and broken links in the documents below.
We need to update the documents correctly.

(Update wanted documents)
docs/tutorials/channel-create.md
docs/tutorials/channel-events.md
docs/tutorials/discovery.md
docs/tutorials/logging.md
docs/tutorials/network-config.md
fabric-ca-client/README.md
fabric-client/lib/Peer.js",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jun/18 7:35 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/23907/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] improve Documentation -- class Peer,FABN-425,12573,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,31/Aug/16 2:42 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/Oct/16 12:25 PM,,,,,,,,,,,0,Fabric05,node-SDK,,,"This issue is related to FAB-271.


From the generated documentation here: file:///C:/go/src/github.com/hyperledger/fabric/sdk/node/doc

I've copied the page for class Peer into an odt file and annotated it with document suggestions. 

General principles of API documentation: Documentation for each API should answer these questions:
◾Result: What's the result of issuing this API
◾Requirements: What's required to issue this API ?
◾Restrictions: List any restrictions
◾Tips: If you can ignore what the tip says, it's a valid tip. Otherwise, it must be a result, requirement, or restriction.

Some IBM documentation actually has headings: Results, Requirements, Restrictions (and optionally) Tips. 

I will attach the odt document. It is based on hfc 0.0.2 (just before moving from github to Gerrit). 
","Win7 laptop, vagrant running Ubuntu, hfc 0.0.2",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/16 3:08 AM;jjjjibm;node-sdk peer documentation.odt;https://jira.hyperledger.org/secure/attachment/10057/node-sdk+peer+documentation.odt","31/Aug/16 3:06 AM;jjjjibm;node-sdk peer documentation.odt;https://jira.hyperledger.org/secure/attachment/10055/node-sdk+peer+documentation.odt",,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbof:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] Broken link in README.md,FABN-426,27754,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,15/Feb/18 6:40 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,15/Feb/18 7:30 AM,v1.1.0-alpha,,,,,,v1.1.1,,,,0,,,,,"The link to fabric-ca is broken in README.md of fabric-sdk-node.
 
This is the current broken link.
http://hyperledger-fabric.readthedocs.io/en/latest/Setup/ca-setup.html
 
The link should be updated like the below.
http://hyperledger-fabric-ca.readthedocs.io/en/latest/users-guide.html
 
",fabric-sdk-node 35cde418724af4693e51a40cad15a07a14d313fb,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxlr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Feb/18 6:55 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/17927/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] Error: Enrollment failed with errors [[{""code"":0,""message"":""User 'admin' is in state 1""}]]",FABN-427,14109,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jjjjibm,jjjjibm,17/Jan/17 6:41 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Feb/17 9:58 PM,,,,,,,,,,,0,,,,,"I ran chain-fabriccop-tests.js with this result:

 node chain-fabriccop-tests.js
info: Returning a new winston logger with default configurations
TAP version 13
# Attempt to use FabricCOPServices
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store
info: [Chain.js]: Constructed Chain instance: name - copTest, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store
info: [FabricCOPImpl.js]: Successfully constructed Fabric COP service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":8888}
not ok 1 Failed to enroll admin with COP server. Error: Error: Enrollment failed with errors [[{""code"":0,""message"":""User 'admin' is in state 1""}]]
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)

The error comes from enroll:
var FabricCOPServices = require('hfc-cop/lib/FabricCOPImpl');
	var copService = new FabricCOPServices('http://localhost:8888');
copService.enroll({
		enrollmentID: 'admin',
		enrollmentSecret: 'adminpw'
	})

I checked these documents for the error message:
https://docs.google.com/document/d/1TO-sdHGpn8ifB9C_pH_y54H75Rx0RdXvZih7-lhsLII/edit#

https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit#

Neither describes the error, much less a solution. 

Either the error message needs to be revised, or the documentation needs improvement. 

A team member gave me this solution for sprint 7 commit levels: 
1. stop cop, 
2.rm $HOME/.cop/cop.db
3 rm -rf /tmp/hfc-*
","Vlaunch VM running Ubuntu and a local network on this VM.

git checkout $FABRIC ""sprint7""  ""d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091""
git	checkout $COP ""sprint7"" ""ffb4fc22b84775769c755c5c3db53f6911ba4835""
git checkout $FABRIC_SDK_NODE ""sprint7"" ""662135eedefd43e0d249362b991cf04e2b423783""",jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxi7r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/17 9:57 PM;jimthematrix;[~jjjjibm] the solution you listed at the end of the description test is the expected set up to run the test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK The JSDoc for queryByChaincode() should not include a txId,FABN-428,19389,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,ericmvaughn,ericmvaughn,ericmvaughn,21/Jul/17 3:15 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,26/Jul/17 3:56 AM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,Channel.js  -- queryByChaincode() does not require a txId so it can't share the same request definition (ChaincodeInvokeRequest) as the invoke.,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy99r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Jul/17 3:57 AM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/11853/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK error msg in instantiate marbles02 private chaincode,FABN-429,30797,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,dongming,dongming,01/Jun/18 5:04 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Jun/18 5:42 AM,,,,,,,,,,,0,,,,,"Running side DB with PTE with SDK Node:
├─┬ fabric-ca-client@1.2.0-snapshot.50
├─┬ fabric-client@1.2.0-snapshot.50

andFabric v1.2

in instantiation chaincode, see the error message of ""invalid number of argument to lscc 7"", see below for detail

 

info: [PTE 0 main]: request_instantiate: \{""chaincodePath"":""github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02_private/go"",""chaincodeId"":""marbles_cc_ch1"",""chaincodeVersion"":""v0"",""fcn"":""init"",""args"":[],""chaincodeType"":""golang"",""endorsement-policy"":\{""identities"":[\{""role"":\{""name"":""member"",""mspId"":""PeerOrg1""}},\{""role"":\{""name"":""member"",""mspId"":""PeerOrg2""}}],""policy"":\{""1-of"":[\{""signed-by"":0},\{""signed-by"":1}]}},""collections-config"":""/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/marblesccInputs/collections_config-chan1.json"",""txId"":\{""_nonce"":\{""type"":""Buffer"",""data"":[56,231,62,38,40,163,136,42,113,216,210,55,151,152,94,59,202,229,202,205,103,90,223,21]},""_transaction_id"":""db77e9b6ec3e616f5eece3b90993c637b7e54cde5f4ca38525c17ddcc732f3be"",""_admin"":false}}
error: [PTE 0 main]: [chaincodeInstantiate] channelName(testorgschannel1) chaincode instantiation was bad: results= [[\{""version"":0,""timestamp"":null,""response"":\{""status"":500,""message"":""invalid number of argument to lscc 7"",""payload"":\{""type"":""Buffer"",""data"":[]}},""payload"":\{""type"":""Buffer"",""data"":[10,32,233,57,55,149,163,98,239,93,198,213,197,220,80,5,166,68,173,236,95,8,61,179,97,71,39,214,8,231,94,145,59,113,18,51,26,41,8,244,3,18,36,105,110,118,97,108,105,100,32,110,117,109,98,101,114,32,111,102,32,97,114,103,117,109,101,110,116,32,116,111,32,108,115,99,99,32,55,34,6,18,4,108,115,99,99]},""

 ",,dongming,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzdjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,dongming,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/18 11:39 AM;zhaochy;[~dongming] it seems you are config your channel with  {color:#d04437}Capabilities.Application: V1_1: true{color}. Can you set this to {color:#d04437}V1_2: true{color} and {color:#d04437}V1_1: false{color} and try again?;;;","02/Jun/18 5:41 AM;dongming;[~zhaochy] after set V1.2 as true, the issue is not seen.  Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix build breaks,FABN-430,16149,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jimthematrix,jimthematrix,02/May/17 6:29 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,04/May/17 6:02 AM,,,,,,,,,,,0,,,,,"build is breaking due to multiple factors:
- last_update index in the orderer's system chain node pointing to the right block: https://jira.hyperledger.org/browse/FAB-3493
- fabric-ca APIs require ""caName"" in the requests if the CA is configured with a name
- grpc npm module update broke compatibility
- LDAP.TLS.CertFiles in fabric-ca-server-config.yaml is now an array
- also as a result of using the crypto materials generated by the latest cryptogen, the server names have been changed from ""orderer0"" to ""orderer.example.com"" and same for the peers, which requires the docker-compose.yaml services to change accordingly to keep TLS working",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx36n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- Pluggability,FABN-431,15085,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 7:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:38 AM,,,,,,,,,,,0,,,,,"In the readme at https://github.com/hyperledger/fabric-sdk-node in the section{color:#205081} Pluggability{color},  

.. For each abstract class, a built-in implementation is included with the ability to load alternative implementations via designated environment variables: (a numbered list follows)

Items 1 and 2 in the list correlate an abstract class to an environment variable, as we would expect from the sentence prefacing the list. 

a)  Item 3 does not mention an abstract class, or an environment variable.  Is something missing here about  how to plug in an alternate member service?  Or does this item belong outside the list?

b) The list is numbered, not bulleted.  For items that do not need to be in any particular order,  use a bulleted list.  

c) To replace FileKeyValueStore with a different implementation 
Should FileKeyValueStore be KeyStoreValue? 
Should it be 'replace FileKeyValueStore.js with a diffferent  keyValueStore implementation'? 

d) In the Modules pull down menu on this page, select api.  The description reads: 

This module defines the API for the{color:#205081} pluggable {color}components of the node.js SDK.

Seeing the word pluggable, a reader will want to correlate this with the Pluggability section.  These classes are listed in the menu:  CryptoSuite, Key, and KeyStoreValue. 
 CryptoSuite and KeyStoreValue are mentioned in the numbered list in this Pluggability section.   Should Key be mentioned as well?  Or have pluggable components nothing to do with Pluggability as described in this section?  Or does the description for 'api' need to change ?


",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] README.md does not say how to generate sdk/node documenation,FABN-432,13053,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jjjjibm,jjjjibm,19/Oct/16 3:43 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Oct/16 1:15 AM,,,,,,,,,,,0,Documentation,getting-started,node-SDK,Usability,"Today's clone of fabric-sdk-node deposits a README.md file in its fabric-sdk-node directory.  The readme has this to say about documentation:

_HFC objects and reference documentation
For a high-level design specificiation for Fabric SDKs of all languages, visit [this google doc](https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit?usp=sharing) (Work-In-Progress).

The referenced documentation is useful, but users want to see the generated documentation, too.   To see that, you need to issue this command from the fabric-sdk-node directory: 

*gulp doc 
*
To run gulp doc, you need to first issue this command: 

*npm install -g gulp   /* or maybe sudo npm install -g gulp */

*_

These steps ought to be described in the readme file. 

How to recreate:
1.cd $GOPATH/src/github.com/hyperledger
2.git clone http://gerrit.hyperledger.org/r/fabric-sdk-node
3.cd fabric-sdk-node
4.Inspect README.md",Vlaunch VM running Ubuntu.  No vagrant is involved.  I did not attempt this from vagrant.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd7j:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node sdk tests are failing in net mode on commit# 17f69bd,FABN-433,12568,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,angrbrd,rameshthoomu,rameshthoomu,30/Aug/16 4:08 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Sep/16 10:55 AM,,,,,,,,,,,0,node-SDK,,,,"Node sdk tests are failing in net mode on commit# 17f69bd. Observed same issue in Jenkins and vagrant environment.

Please check the attached log file:
Jenkins Build reference: https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/676/console",,angrbrd,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/16 4:19 AM;rameshthoomu;node-sdk-test-failes-.txt;https://jira.hyperledger.org/secure/attachment/10053/node-sdk-test-failes-.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbnr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/16 4:25 AM;angrbrd;I have reproduced this issue on the following commit:

commit d40a0040e1d79fa7908d9f1b4c41aa15ff7e70ba
Author: Caroline Daughtrey <cdaughtr@us.ibm.com>
Date:   Fri Aug 26 15:06:09 2016 -0400

    node-SDK: Change hfc Peer constructor description
    
    There are two incomplete descriptions.  ""config"" should be
    ""configuration"" and the url description is incomplete.
    Fix parameter chain and add parameter pem with description.
    https://jira.hyperledger.org/browse/FAB-233
    
    Change-Id: I82e678abcc26bacfb48b712dd35b47f9647f6b3a
    Signed-off-by: Caroline Daughtrey <cdaughtr@us.ibm.com>
;;;","30/Aug/16 4:29 AM;angrbrd;I believe the issue is caused by the following commit:

https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=commit;h=a98c59a15249d1da67ad162bb8fafe7ebbc70f92

This change removes the compiled protobuf files from the repository. This has an effect on the SDK unit tests as the unit tests clone into the fabric repo master branch to test deployment in network mode (packaging .tar.gz for Docker). Therefore, if the .pb.go files have been removed, the tests will likely fail.;;;","02/Sep/16 7:25 AM;angrbrd;Hi [~rameshthoomu]. As this issue has now been resolved, can this bug be closed?

Thanks!;;;","02/Sep/16 10:55 AM;rameshthoomu;Node-sdk-unit-tests are working as expected on latest gerrit code base. Closing this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability testing] grpc configuration parameter change in 1.1 node SDK causes failure in compatibility tests ,FABN-434,27948,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,23/Feb/18 11:57 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/Feb/18 5:50 AM,,,,,,,v1.1.0,,,,0,fabric-sdk-node,quality,,,"some of the grpc configuration parameters been changed in v1.1 SDK causes failures in compatibility tests.
||grpc configuration in V1.0||grpc configuration in V1.1||
|grpc-max-send-message-length|grpc.max_send_message_length|
|grpc-max-receive-message-length|grpc.max_receive_message_length|

Possible options could be :
 1. revert the grpc configurations changes in v1.1 node sdk
 2. OR, Add the new grpc configuration change in v1.0 node SDK to make the compatibility tests execute successfully, however existing users applications will fail due to this grpc configuration change. We should add to doc in v1.1 - maybe in upgrade section. Say something like:

{code:java}
applications that use these grpc configuration parameters in the node sdk config file will start seeing failures after upgrading node sdk and fabric, so users must change their application as specified
{code}
",,denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyylz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Feb/18 3:09 AM;denyeart;The update should be in the node sdk release notes rather than upgrade doc.;;;","25/Feb/18 12:25 AM;harrisob@us.ibm.com;I think the best thing to do is just support both names in both releases where the actual grpc setting name will be the first to look for and if not there then use the NodeSDK's name.

But also add a note to the V1.1 release notes that they may wish to use the grpc name to avoid confusion;;;","25/Feb/18 1:54 AM;harrisob@us.ibm.com;For v10 [https://gerrit.hyperledger.org/r/#/c/18335/]

For v11 https://gerrit.hyperledger.org/r/#/c/18337/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node e2e tests are failing on latest fabric and sdk-node commits,FABN-435,15775,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,rameshthoomu,rameshthoomu,17/Apr/17 8:50 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Apr/17 1:39 PM,,,,,,,v1.0.0,,,,0,build-system,node-SDK,,,"Observed FIT job in CI is failing consistently on latest fabric commits with the below errors.

fabric-ca container is crashing due to configuration mismatch in /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml file. Below is the log file.

=======> FABRIC PEER COMMIT NUMBER - 56b6d12 =======> FABRIC CA COMMIT NUMBER - de5f4bd =======> FABRIC SDK NODE COMMIT NUMBER - 3064deb

{code:java}
23:31:55 6b85f519ef88        hyperledger/fabric-ca        ""sh -c 'fabric-ca-...""   8 seconds ago       Exited (1) 6 seconds ago                                                    ca_peerOrg2
23:31:55 da6000c0d403        hyperledger/fabric-orderer   ""orderer""                8 seconds ago       Up 5 seconds               0.0.0.0:7050->7050/tcp                           orderer0
23:31:55 82d72761f5dd        hyperledger/fabric-ca        ""sh -c 'fabric-ca-...""   8 seconds ago       Exited (1) 6 seconds ago                                                    ca_peerOrg1

{code}

*Docker log-file: *

{code:java}
Attaching to ca_peerOrg2, ca_peerOrg1, couchdb, orderer0, peer2, peer0, peer1, peer3
[36mca_peerOrg2 |[0m 2017/04/16 23:31:49 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
[36mca_peerOrg2 |[0m Error: Incorrect format in file '/etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml': 1 error(s) decoding:
[36mca_peerOrg2 |[0m 
[36mca_peerOrg2 |[0m * 'DB.TLS.CertFiles': source data must be an array or slice, got string
[36mca_peerOrg2 |[0m Usage:
[36mca_peerOrg2 |[0m   fabric-ca-server start [flags]
[36mca_peerOrg2 |[0m
{code}
https://jenkins.hyperledger.org/view/FIT/job/FIT-node-x86_64/385/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/dockerlogfile.log
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-227,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4cn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""package.json"" of fabric-client does not include some necessary modules",FABN-436,18740,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,ishihara.shun,ishihara.shun,28/Jun/17 7:56 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,15/Jul/17 6:43 AM,v1.0.0,,,,,,v1.0.1,,,,0,,,,,"fabric-client do 'require' the following modules.
 * long
 * nano

 

These modules are not build-in module, so should be written in ""package.json"" file, but current file does not include them.",,binhn,harrisob@us.ibm.com,ishihara.shun,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy61z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,binhn,harrisob@us.ibm.com,ishihara.shun,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jun/17 3:33 AM;harrisob@us.ibm.com;This is not a runtime issue. The work around is well understood by node.js programmers, they will just issue the NPM command to install the missing packages. Many users will not even see this issue as the packages will be installed already. It is a low risk change.;;;","30/Jun/17 4:33 AM;binhn;I agreed that they (long and nano) should have been in the ""package.json"" file of the SDK since they are pre-req's, and which is a very easy fix, but the solution is also straight forward for node.js developers as [~harrisob@us.ibm.com] commented, so I don't think we should spin another RC for this.;;;","30/Jun/17 1:07 PM;ishihara.shun;I think this issue is not problem in most situation, especially in developement phaze.
I saw this issue when I transplanted my application which include fabric-client module from developing environment to Docker container.
Because ""npm install"" was executed in completely clean status, and all modules did not defined ""nano"" in package.json.;;;","30/Jun/17 7:37 PM;mastersingh24;So are we deferring this?;;;","30/Jun/17 9:34 PM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/11305/]

Fix available if needed;;;","01/Jul/17 3:10 AM;binhn;[~JonathanLevi] [~ChristopherFerris] your choice but my vote is to defer;;;","12/Jul/17 1:35 AM;jimthematrix;not sure how our CI could have passed if these are real dependencies and are missing. it's likely that they are transitive dependencies and are already installed as a result of other dependency modules.

in any case, deferring to v1.0.1 to further investigate and fix.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
self._chain.cryptoPrimitives.generateNonce is not a function,FABN-437,13211,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,kh2se2013,kh2se2013,27/Oct/16 1:13 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/Oct/16 9:16 PM,,,,,,,,,,,0,,,,," !image-2016-10-27-00-13-09-352.png|thumbnail! ",,kh2se2013,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/16 1:13 AM;kh2se2013;image-2016-10-27-00-13-09-352.png;https://jira.hyperledger.org/secure/attachment/10202/image-2016-10-27-00-13-09-352.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,kh2se2013,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gulp test does not return at the end of the execution,FABN-438,15869,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,21/Apr/17 3:00 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,26/Apr/17 10:37 PM,,,,,,,,,,,0,,,,,this causes CI jobs to hang for a long time after test executions are complete,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4bj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
win7 and win10 not ok 230 Should attempt to load the bccsp_pkcs11 module and fail because of the dummy library path,FABN-439,15845,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,20/Apr/17 12:57 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,26/May/17 8:29 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"While running gulp test-headless on Windows 7 without Vagrant, one of the tests fails with this information:

not ok 230 Should attempt to load the bccsp_pkcs11 module and fail because of the dummy library path
  ---
    operator: throws
    expected: |-
      '/Error:.*\\/usr\\/local\\/lib/'
    actual: |-
      { [Error: Win32 error 126
    at Error (native) PKCS11::Load:129] message: 'Win32 error 126\n    at Error (native) PKCS11::Load:129' }
    at: test (C:\go\src\github.com\hyperledger\fabric-sdk-node\test\unit\cryptosuite-ecdsa-aes.js:165:4)


Here is the section of cryptosuite-ecdsa-aes.js that failed:

// each app instance is expected to use either HSM or software-based key management, as such this question
	// is answered with a config setting rather than controlled on a case-by-case basis
	utils.setConfigSetting('crypto-hsm', true);
	t.throws(
		() => {
			cs = utils.newCryptoSuite({lib: '/usr/local/lib', slot: 0, pin: '1234' });
		},
		/Error:.*\/usr\/local\/lib/,
		'Should attempt to load the bccsp_pkcs11 module and fail because of the dummy library path'
	);","Windows 7 directly (no Vagrant VM)
fabric-node-sdk: commit af957109c87eb8c6fd3ba4ba74f007640f3b6ada
I have not started a network yet, but here are the other levels: 
fabric-ca: commit de5f4bdc49f63fd4f9f48acf99689fc131313ec6
fabric: commit a3efa2c09693b4e4d235194ccec735c700eecbcb

$ node -v
v6.10.2


| | | | +-- har-validator@4.2.1
| | | | | +-- ajv@4.11.6
| | | | | | +-- co@4.6.0
| | | | | | `-- json-stable-stringify@1.0.1
| | | | | |   `-- jsonify@0.0.0
| | | | | `-- har-schema@1.0.5
| | | | +-- hawk@3.1.3
| | | | | +-- boom@2.10.1
| | | | | | `-- hoek@2.16.3 deduped
| | | | | +-- cryptiles@2.0.5
| | | | | | `-- boom@2.10.1 deduped
| | | | | +-- hoek@2.16.3
| | | | | `-- sntp@1.0.9
| | | | |   `-- hoek@2.16.3 deduped
| | | | +-- http-signature@1.1.1
| | | | | +-- assert-plus@0.2.0
| | | | | +-- jsprim@1.4.0
| | | | | | +-- assert-plus@1.0.0
| | | | | | +-- extsprintf@1.0.2
| | | | | | +-- json-schema@0.2.3
| | | | | | `-- verror@1.3.6
| | | | | |   `-- extsprintf@1.0.2 deduped
| | | | | `-- sshpk@1.11.0
| | | | |   +-- asn1@0.2.3
| | | | |   +-- assert-plus@1.0.0
| | | | |   +-- bcrypt-pbkdf@1.0.1
| | | | |   | `-- tweetnacl@0.14.5 deduped
| | | | |   +-- dashdash@1.14.1
| | | | |   | `-- assert-plus@1.0.0 deduped
| | | | |   +-- ecc-jsbn@0.1.1
| | | | |   | `-- jsbn@0.1.1 deduped
| | | | |   +-- getpass@0.1.6
| | | | |   | `-- assert-plus@1.0.0 deduped
| | | | |   +-- jodid25519@1.0.2
| | | | |   | `-- jsbn@0.1.1 deduped
| | | | |   +-- jsbn@0.1.1
| | | | |   `-- tweetnacl@0.14.5
| | | | +-- is-typedarray@1.0.0
| | | | +-- isstream@0.1.2
| | | | +-- json-stringify-safe@5.0.1
| | | | +-- mime-types@2.1.15
| | | | | `-- mime-db@1.27.0
| | | | +-- oauth-sign@0.8.2
| | | | +-- performance-now@0.2.0
| | | | +-- qs@6.4.0
| | | | +-- safe-buffer@5.0.1
| | | | +-- stringstream@0.0.5
| | | | +-- tough-cookie@2.3.2
| | | | | `-- punycode@1.4.1
| | | | +-- tunnel-agent@0.6.0
| | | | | `-- safe-buffer@5.0.1 deduped
| | | | `-- uuid@3.0.1
| | | +-- rimraf@2.6.1
| | | | `-- glob@7.1.1
| | | |   +-- fs.realpath@1.0.0
| | | |   +-- inflight@1.0.6
| | | |   | +-- once@1.4.0 deduped
| | | |   | `-- wrappy@1.0.2
| | | |   +-- inherits@2.0.3
| | | |   +-- minimatch@3.0.3
| | | |   | `-- brace-expansion@1.1.7
| | | |   |   +-- balanced-match@0.4.2
| | | |   |   `-- concat-map@0.0.1
| | | |   +-- once@1.4.0
| | | |   | `-- wrappy@1.0.2
| | | |   `-- path-is-absolute@1.0.1
| | | +-- semver@5.3.0
| | | +-- tar@2.2.1
| | | | +-- block-stream@0.0.9
| | | | | `-- inherits@2.0.3 deduped
| | | | +-- fstream@1.0.11
| | | | | +-- graceful-fs@4.1.11
| | | | | +-- inherits@2.0.3 deduped
| | | | | +-- mkdirp@0.5.1 deduped
| | | | | `-- rimraf@2.6.1 deduped
| | | | `-- inherits@2.0.3
| | | `-- tar-pack@3.4.0
| | |   +-- debug@2.6.3
| | |   | `-- ms@0.7.2
| | |   +-- fstream@1.0.11
| | |   | +-- graceful-fs@4.1.11
| | |   | +-- inherits@2.0.3
| | |   | +-- mkdirp@0.5.1 deduped
| | |   | `-- rimraf@2.6.1 deduped
| | |   +-- fstream-ignore@1.0.5
| | |   | +-- fstream@1.0.11 deduped
| | |   | +-- inherits@2.0.3
| | |   | `-- minimatch@3.0.3
| | |   |   `-- brace-expansion@1.1.7
| | |   |     +-- balanced-match@0.4.2
| | |   |     `-- concat-map@0.0.1
| | |   +-- once@1.4.0
| | |   | `-- wrappy@1.0.2
| | |   +-- readable-stream@2.2.9
| | |   | +-- buffer-shims@1.0.0
| | |   | +-- core-util-is@1.0.2
| | |   | +-- inherits@2.0.3
| | |   | +-- isarray@1.0.0
| | |   | +-- process-nextick-args@1.0.7
| | |   | +-- string_decoder@1.0.0
| | |   | | `-- buffer-shims@1.0.0 deduped
| | |   | `-- util-deprecate@1.0.2
| | |   +-- rimraf@2.6.1 deduped
| | |   +-- tar@2.2.1 deduped
| | |   `-- uid-number@0.0.6
| | `-- protobufjs@5.0.2
| |   +-- ascli@1.0.1
| |   | +-- colour@0.7.1
| |   | `-- optjs@3.2.2
| |   +-- bytebuffer@5.0.1
| |   | `-- long@3.2.0
| |   +-- glob@7.1.1
| |   | +-- fs.realpath@1.0.0 deduped
| |   | +-- inflight@1.0.6 deduped
| |   | +-- inherits@2.0.3 deduped
| |   | +-- minimatch@3.0.3 deduped
| |   | +-- once@1.4.0 deduped
| |   | `-- path-is-absolute@1.0.1 deduped
| |   `-- yargs@3.32.0 deduped
| +-- hashtable@2.0.2
| | `-- nan@2.6.2
| +-- js-sha3@0.5.7 deduped
| +-- json-stringify-safe@5.0.1
| +-- jsrsasign@6.2.2 deduped
| +-- jssha@2.2.0 deduped
| +-- klaw@1.3.1
| | `-- graceful-fs@4.1.11 deduped
| +-- lodash@4.17.4
| +-- nconf@0.8.4 deduped
| +-- node-dir@0.1.16
| | `-- minimatch@3.0.3
| |   `-- brace-expansion@1.1.7
| |     +-- balanced-match@0.4.2
| |     `-- concat-map@0.0.1
| +-- node.extend@1.1.6
| | `-- is@3.2.1
| +-- path@0.12.7
| | +-- process@0.11.9
| | `-- util@0.10.3 deduped
| +-- pkcs11js@1.0.8
| | +-- @types/node@6.0.70
| | `-- nan@2.6.2 deduped
| +-- pkijs@1.3.33
| +-- promise-settle@0.3.0
| +-- sjcl@1.0.3 deduped
| +-- sjcl-codec@0.1.1 deduped
| +-- sleep@3.0.1
| | `-- nan@2.6.2 deduped
| +-- stream-buffers@3.0.1
| +-- tar-stream@1.5.2
| | +-- bl@1.2.0
| | | `-- readable-stream@2.2.9 deduped
| | +-- end-of-stream@1.4.0
| | | `-- once@1.4.0 deduped
| | +-- readable-stream@2.2.9
| | | +-- buffer-shims@1.0.0 deduped
| | | +-- core-util-is@1.0.2 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- isarray@1.0.0
| | | +-- process-nextick-args@1.0.7 deduped
| | | +-- string_decoder@1.0.0
| | | | `-- buffer-shims@1.0.0 deduped
| | | `-- util-deprecate@1.0.2 deduped
| | `-- xtend@4.0.1
| +-- url@0.11.0 deduped
| +-- util@0.10.3 deduped
| `-- winston@2.3.1 deduped
+-- fs-extra@2.1.2
| +-- graceful-fs@4.1.11
| `-- jsonfile@2.4.0
|   `-- graceful-fs@4.1.11 deduped
+-- gulp@3.9.1
| +-- archy@1.0.0
| +-- chalk@1.1.3
| | +-- ansi-styles@2.2.1
| | +-- escape-string-regexp@1.0.5
| | +-- has-ansi@2.0.0
| | | `-- ansi-regex@2.1.1
| | +-- strip-ansi@3.0.1
| | | `-- ansi-regex@2.1.1 deduped
| | `-- supports-color@2.0.0
| +-- deprecated@0.0.1
| +-- gulp-util@3.0.8
| | +-- array-differ@1.0.0
| | +-- array-uniq@1.0.3
| | +-- beeper@1.1.1
| | +-- chalk@1.1.3 deduped
| | +-- dateformat@2.0.0
| | +-- fancy-log@1.3.0
| | | +-- chalk@1.1.3 deduped
| | | `-- time-stamp@1.0.1
| | +-- gulplog@1.0.0
| | | `-- glogg@1.0.0
| | |   `-- sparkles@1.0.0 deduped
| | +-- has-gulplog@0.1.0
| | | `-- sparkles@1.0.0
| | +-- lodash._reescape@3.0.0
| | +-- lodash._reevaluate@3.0.0
| | +-- lodash._reinterpolate@3.0.0
| | +-- lodash.template@3.6.2
| | | +-- lodash._basecopy@3.0.1
| | | +-- lodash._basetostring@3.0.1
| | | +-- lodash._basevalues@3.0.0 deduped
| | | +-- lodash._isiterateecall@3.0.9
| | | +-- lodash._reinterpolate@3.0.0 deduped
| | | +-- lodash.escape@3.2.0
| | | | `-- lodash._root@3.0.1
| | | +-- lodash.keys@3.1.2 deduped
| | | +-- lodash.restparam@3.6.1
| | | `-- lodash.templatesettings@3.1.1
| | |   +-- lodash._reinterpolate@3.0.0 deduped
| | |   `-- lodash.escape@3.2.0 deduped
| | +-- minimist@1.2.0
| | +-- multipipe@0.1.2
| | | `-- duplexer2@0.0.2
| | |   `-- readable-stream@1.1.14
| | |     +-- core-util-is@1.0.2 deduped
| | |     +-- inherits@2.0.3 deduped
| | |     +-- isarray@0.0.1 deduped
| | |     `-- string_decoder@0.10.31 deduped
| | +-- object-assign@3.0.0
| | +-- replace-ext@0.0.1
| | +-- through2@2.0.3 deduped
| | `-- vinyl@0.5.3
| |   +-- clone@1.0.2 deduped
| |   +-- clone-stats@0.0.1 deduped
| |   `-- replace-ext@0.0.1 deduped
| +-- interpret@1.0.3
| +-- liftoff@2.3.0
| | +-- extend@3.0.0 deduped
| | +-- findup-sync@0.4.3
| | | +-- detect-file@0.1.0
| | | | `-- fs-exists-sync@0.1.0
| | | +-- is-glob@2.0.1 deduped
| | | +-- micromatch@2.3.11 deduped
| | | `-- resolve-dir@0.1.1
| | |   +-- expand-tilde@1.2.2 deduped
| | |   `-- global-modules@0.2.3
| | |     +-- global-prefix@0.1.5
| | |     | +-- homedir-polyfill@1.0.1
| | |     | | `-- parse-passwd@1.0.0
| | |     | +-- ini@1.3.4 deduped
| | |     | +-- is-windows@0.2.0 deduped
| | |     | `-- which@1.2.14 deduped
| | |     `-- is-windows@0.2.0
| | +-- fined@1.0.2
| | | +-- expand-tilde@1.2.2
| | | | `-- os-homedir@1.0.2 deduped
| | | +-- lodash.assignwith@4.2.0
| | | +-- lodash.isempty@4.4.0
| | | +-- lodash.isplainobject@4.0.6 deduped
| | | +-- lodash.isstring@4.0.1 deduped
| | | +-- lodash.pick@4.4.0
| | | `-- parse-filepath@1.0.1
| | |   +-- is-absolute@0.2.6
| | |   | +-- is-relative@0.2.1
| | |   | | `-- is-unc-path@0.1.2
| | |   | |   `-- unc-path-regex@0.1.2
| | |   | `-- is-windows@0.2.0 deduped
| | |   +-- map-cache@0.2.2
| | |   `-- path-root@0.1.1
| | |     `-- path-root-regex@0.1.2
| | +-- flagged-respawn@0.3.2
| | +-- lodash.isplainobject@4.0.6
| | +-- lodash.isstring@4.0.1
| | +-- lodash.mapvalues@4.6.0
| | +-- rechoir@0.6.2
| | | `-- resolve@1.3.2 deduped
| | `-- resolve@1.3.2
| |   `-- path-parse@1.0.5
| +-- minimist@1.2.0
| +-- orchestrator@0.3.8
| | +-- end-of-stream@0.1.5
| | | `-- once@1.3.3
| | |   `-- wrappy@1.0.2 deduped
| | +-- sequencify@0.0.7
| | `-- stream-consume@0.1.0
| +-- pretty-hrtime@1.0.3
| +-- semver@4.3.6
| +-- tildify@1.2.0
| | `-- os-homedir@1.0.2
| +-- v8flags@2.1.0
| | `-- user-home@1.1.1
| `-- vinyl-fs@0.3.14
|   +-- defaults@1.0.3
|   | `-- clone@1.0.2 deduped
|   +-- glob-stream@3.1.18
|   | +-- glob@4.5.3
|   | | +-- inflight@1.0.6 deduped
|   | | +-- inherits@2.0.3 deduped
|   | | +-- minimatch@2.0.10 deduped
|   | | `-- once@1.4.0 deduped
|   | +-- glob2base@0.0.12
|   | | `-- find-index@0.1.1
|   | +-- minimatch@2.0.10
|   | | `-- brace-expansion@1.1.7 deduped
|   | +-- ordered-read-streams@0.1.0
|   | +-- through2@0.6.5
|   | | +-- readable-stream@1.0.34 deduped
|   | | `-- xtend@4.0.1 deduped
|   | `-- unique-stream@1.0.0
|   +-- glob-watcher@0.0.6
|   | `-- gaze@0.5.2
|   |   `-- globule@0.1.0
|   |     +-- glob@3.1.21
|   |     | +-- graceful-fs@1.2.3
|   |     | +-- inherits@1.0.2
|   |     | `-- minimatch@0.2.14 deduped
|   |     +-- lodash@1.0.2
|   |     `-- minimatch@0.2.14
|   |       +-- lru-cache@2.7.3 deduped
|   |       `-- sigmund@1.0.1
|   +-- graceful-fs@3.0.11
|   | `-- natives@1.1.0
|   +-- mkdirp@0.5.1 deduped
|   +-- strip-bom@1.0.0
|   | +-- first-chunk-stream@1.0.0
|   | `-- is-utf8@0.2.1
|   +-- through2@0.6.5
|   | +-- readable-stream@1.0.34 deduped
|   | `-- xtend@4.0.1 deduped
|   `-- vinyl@0.4.6
|     +-- clone@0.2.0
|     `-- clone-stats@0.0.1 deduped
+-- gulp-debug@3.1.0
| +-- chalk@1.1.3 deduped
| +-- gulp-util@3.0.8 deduped
| +-- plur@2.1.2
| | `-- irregular-plurals@1.2.0
| +-- stringify-object@3.2.0
| | +-- get-own-enumerable-property-symbols@1.0.1
| | +-- is-obj@1.0.1
| | `-- is-regexp@1.0.0
| +-- through2@2.0.3
| | +-- readable-stream@2.2.9
| | | +-- buffer-shims@1.0.0 deduped
| | | +-- core-util-is@1.0.2 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- isarray@1.0.0
| | | +-- process-nextick-args@1.0.7 deduped
| | | +-- string_decoder@1.0.0
| | | | `-- buffer-shims@1.0.0 deduped
| | | `-- util-deprecate@1.0.2 deduped
| | `-- xtend@4.0.1 deduped
| `-- tildify@1.2.0 deduped
+-- gulp-eslint@3.0.1
| +-- bufferstreams@1.1.1
| | `-- readable-stream@2.2.9
| |   +-- buffer-shims@1.0.0 deduped
| |   +-- core-util-is@1.0.2 deduped
| |   +-- inherits@2.0.3 deduped
| |   +-- isarray@1.0.0
| |   +-- process-nextick-args@1.0.7 deduped
| |   +-- string_decoder@1.0.0
| |   | `-- buffer-shims@1.0.0 deduped
| |   `-- util-deprecate@1.0.2 deduped
| +-- eslint@3.19.0
| | +-- babel-code-frame@6.22.0
| | | +-- chalk@1.1.3 deduped
| | | +-- esutils@2.0.2 deduped
| | | `-- js-tokens@3.0.1
| | +-- chalk@1.1.3 deduped
| | +-- concat-stream@1.6.0
| | | +-- inherits@2.0.3 deduped
| | | +-- readable-stream@2.2.9
| | | | +-- buffer-shims@1.0.0 deduped
| | | | +-- core-util-is@1.0.2 deduped
| | | | +-- inherits@2.0.3 deduped
| | | | +-- isarray@1.0.0
| | | | +-- process-nextick-args@1.0.7 deduped
| | | | +-- string_decoder@1.0.0
| | | | | `-- buffer-shims@1.0.0 deduped
| | | | `-- util-deprecate@1.0.2 deduped
| | | `-- typedarray@0.0.6
| | +-- debug@2.2.0 deduped
| | +-- doctrine@2.0.0
| | | +-- esutils@2.0.2 deduped
| | | `-- isarray@1.0.0
| | +-- escope@3.6.0
| | | +-- es6-map@0.1.5
| | | | +-- d@1.0.0
| | | | | `-- es5-ext@0.10.15 deduped
| | | | +-- es5-ext@0.10.15
| | | | | +-- es6-iterator@2.0.1 deduped
| | | | | `-- es6-symbol@3.1.1 deduped
| | | | +-- es6-iterator@2.0.1
| | | | | +-- d@1.0.0 deduped
| | | | | +-- es5-ext@0.10.15 deduped
| | | | | `-- es6-symbol@3.1.1 deduped
| | | | +-- es6-set@0.1.5
| | | | | +-- d@1.0.0 deduped
| | | | | +-- es5-ext@0.10.15 deduped
| | | | | +-- es6-iterator@2.0.1 deduped
| | | | | +-- es6-symbol@3.1.1 deduped
| | | | | `-- event-emitter@0.3.5 deduped
| | | | +-- es6-symbol@3.1.1
| | | | | +-- d@1.0.0 deduped
| | | | | `-- es5-ext@0.10.15 deduped
| | | | `-- event-emitter@0.3.5
| | | |   +-- d@1.0.0 deduped
| | | |   `-- es5-ext@0.10.15 deduped
| | | +-- es6-weak-map@2.0.2
| | | | +-- d@1.0.0 deduped
| | | | +-- es5-ext@0.10.15 deduped
| | | | +-- es6-iterator@2.0.1 deduped
| | | | `-- es6-symbol@3.1.1 deduped
| | | +-- esrecurse@4.1.0
| | | | +-- estraverse@4.1.1
| | | | `-- object-assign@4.1.1
| | | `-- estraverse@4.2.0 deduped
| | +-- espree@3.4.1
| | | +-- acorn@5.0.3
| | | `-- acorn-jsx@3.0.1
| | |   `-- acorn@3.3.0
| | +-- esquery@1.0.0
| | | `-- estraverse@4.2.0 deduped
| | +-- estraverse@4.2.0
| | +-- esutils@2.0.2
| | +-- file-entry-cache@2.0.0
| | | +-- flat-cache@1.2.2
| | | | +-- circular-json@0.3.1
| | | | +-- del@2.2.2
| | | | | +-- globby@5.0.0
| | | | | | +-- array-union@1.0.2
| | | | | | | `-- array-uniq@1.0.3 deduped
| | | | | | +-- arrify@1.0.1 deduped
| | | | | | +-- glob@7.1.1
| | | | | | | +-- fs.realpath@1.0.0 deduped
| | | | | | | +-- inflight@1.0.6 deduped
| | | | | | | +-- inherits@2.0.3 deduped
| | | | | | | +-- minimatch@3.0.3 deduped
| | | | | | | +-- once@1.4.0 deduped
| | | | | | | `-- path-is-absolute@1.0.1 deduped
| | | | | | +-- object-assign@4.1.1
| | | | | | +-- pify@2.3.0 deduped
| | | | | | `-- pinkie-promise@2.0.1 deduped
| | | | | +-- is-path-cwd@1.0.0
| | | | | +-- is-path-in-cwd@1.0.0
| | | | | | `-- is-path-inside@1.0.0
| | | | | |   `-- path-is-inside@1.0.2 deduped
| | | | | +-- object-assign@4.1.1
| | | | | +-- pify@2.3.0 deduped
| | | | | +-- pinkie-promise@2.0.1 deduped
| | | | | `-- rimraf@2.4.5 deduped
| | | | +-- graceful-fs@4.1.11 deduped
| | | | `-- write@0.2.1
| | | |   `-- mkdirp@0.5.1 deduped
| | | `-- object-assign@4.1.1
| | +-- glob@7.1.1
| | | +-- fs.realpath@1.0.0 deduped
| | | +-- inflight@1.0.6 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- minimatch@3.0.3 deduped
| | | +-- once@1.4.0 deduped
| | | `-- path-is-absolute@1.0.1 deduped
| | +-- globals@9.17.0
| | +-- ignore@3.2.7
| | +-- imurmurhash@0.1.4
| | +-- inquirer@0.12.0
| | | +-- ansi-escapes@1.4.0
| | | +-- ansi-regex@2.1.1 deduped
| | | +-- chalk@1.1.3 deduped
| | | +-- cli-cursor@1.0.2
| | | | `-- restore-cursor@1.0.1
| | | |   +-- exit-hook@1.1.1
| | | |   `-- onetime@1.1.0 deduped
| | | +-- cli-width@2.1.0
| | | +-- figures@1.7.0
| | | | +-- escape-string-regexp@1.0.5 deduped
| | | | `-- object-assign@4.1.1
| | | +-- lodash@4.17.4 deduped
| | | +-- readline2@1.0.1
| | | | +-- code-point-at@1.1.0 deduped
| | | | +-- is-fullwidth-code-point@1.0.0 deduped
| | | | `-- mute-stream@0.0.5
| | | +-- run-async@0.1.0
| | | | `-- once@1.4.0 deduped
| | | +-- rx-lite@3.1.2
| | | +-- string-width@1.0.2 deduped
| | | +-- strip-ansi@3.0.1 deduped
| | | `-- through@2.3.8 deduped
| | +-- is-my-json-valid@2.16.0
| | | +-- generate-function@2.0.0
| | | +-- generate-object-property@1.2.0
| | | | `-- is-property@1.0.2
| | | +-- jsonpointer@4.0.1
| | | `-- xtend@4.0.1 deduped
| | +-- is-resolvable@1.0.0
| | | `-- tryit@1.0.3
| | +-- js-yaml@3.8.3
| | | +-- argparse@1.0.9
| | | | `-- sprintf-js@1.0.3
| | | `-- esprima@3.1.3
| | +-- json-stable-stringify@1.0.1
| | | `-- jsonify@0.0.0
| | +-- levn@0.3.0
| | | +-- prelude-ls@1.1.2
| | | `-- type-check@0.3.2
| | |   `-- prelude-ls@1.1.2 deduped
| | +-- lodash@4.17.4 deduped
| | +-- mkdirp@0.5.1 deduped
| | +-- natural-compare@1.4.0
| | +-- optionator@0.8.2
| | | +-- deep-is@0.1.3
| | | +-- fast-levenshtein@2.0.6
| | | +-- levn@0.3.0 deduped
| | | +-- prelude-ls@1.1.2 deduped
| | | +-- type-check@0.3.2 deduped
| | | `-- wordwrap@1.0.0 deduped
| | +-- path-is-inside@1.0.2
| | +-- pluralize@1.2.1
| | +-- progress@1.1.8
| | +-- require-uncached@1.0.3 deduped
| | +-- shelljs@0.7.7
| | | +-- glob@7.1.1
| | | | +-- fs.realpath@1.0.0 deduped
| | | | +-- inflight@1.0.6 deduped
| | | | +-- inherits@2.0.3 deduped
| | | | +-- minimatch@3.0.3 deduped
| | | | +-- once@1.4.0 deduped
| | | | `-- path-is-absolute@1.0.1 deduped
| | | +-- interpret@1.0.3 deduped
| | | `-- rechoir@0.6.2 deduped
| | +-- strip-bom@3.0.0
| | +-- strip-json-comments@2.0.1
| | +-- table@3.8.3
| | | +-- ajv@4.11.7
| | | | +-- co@4.6.0
| | | | `-- json-stable-stringify@1.0.1 deduped
| | | +-- ajv-keywords@1.5.1
| | | +-- chalk@1.1.3 deduped
| | | +-- lodash@4.17.4 deduped
| | | +-- slice-ansi@0.0.4
| | | `-- string-width@2.0.0
| | |   +-- is-fullwidth-code-point@2.0.0
| | |   `-- strip-ansi@3.0.1 deduped
| | +-- text-table@0.2.0
| | `-- user-home@2.0.0
| |   `-- os-homedir@1.0.2 deduped
| `-- gulp-util@3.0.8 deduped
+-- gulp-istanbul@1.1.1
| +-- gulp-util@3.0.8 deduped
| +-- istanbul@0.4.5
| | +-- abbrev@1.0.9
| | +-- async@1.5.2
| | +-- escodegen@1.8.1
| | | +-- esprima@2.7.3
| | | +-- estraverse@1.9.3
| | | +-- esutils@2.0.2 deduped
| | | +-- optionator@0.8.2 deduped
| | | `-- source-map@0.2.0
| | |   `-- amdefine@1.0.1
| | +-- esprima@2.7.3
| | +-- glob@5.0.15
| | | +-- inflight@1.0.6 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- minimatch@3.0.3 deduped
| | | +-- once@1.4.0 deduped
| | | `-- path-is-absolute@1.0.1 deduped
| | +-- handlebars@4.0.6
| | | +-- async@1.5.2
| | | +-- optimist@0.6.1
| | | | +-- minimist@0.0.8 deduped
| | | | `-- wordwrap@0.0.3
| | | +-- source-map@0.4.4
| | | | `-- amdefine@1.0.1 deduped
| | | `-- uglify-js@2.8.22
| | |   +-- source-map@0.5.6
| | |   +-- uglify-to-browserify@1.0.2
| | |   `-- yargs@3.10.0
| | |     +-- camelcase@1.2.1
| | |     +-- cliui@2.1.0
| | |     | +-- center-align@0.1.3
| | |     | | +-- align-text@0.1.4
| | |     | | | +-- kind-of@3.1.0 deduped
| | |     | | | +-- longest@1.0.1
| | |     | | | `-- repeat-string@1.6.1 deduped
| | |     | | `-- lazy-cache@1.0.4
| | |     | +-- right-align@0.1.3
| | |     | | `-- align-text@0.1.4 deduped
| | |     | `-- wordwrap@0.0.2
| | |     +-- decamelize@1.2.0 deduped
| | |     `-- window-size@0.1.0
| | +-- js-yaml@3.8.3 deduped
| | +-- mkdirp@0.5.1 deduped
| | +-- nopt@3.0.6
| | | `-- abbrev@1.0.9 deduped
| | +-- once@1.4.0
| | | `-- wrappy@1.0.2
| | +-- resolve@1.1.7
| | +-- supports-color@3.2.3
| | | `-- has-flag@1.0.0
| | +-- which@1.2.14
| | | `-- isexe@2.0.0
| | `-- wordwrap@1.0.0
| +-- istanbul-threshold-checker@0.1.0
| | +-- istanbul@0.3.22
| | | +-- abbrev@1.0.9 deduped
| | | +-- async@1.5.2
| | | +-- escodegen@1.7.1
| | | | +-- esprima@1.2.5
| | | | +-- estraverse@1.9.3
| | | | +-- esutils@2.0.2 deduped
| | | | +-- optionator@0.5.0
| | | | | +-- deep-is@0.1.3 deduped
| | | | | +-- fast-levenshtein@1.0.7
| | | | | +-- levn@0.2.5
| | | | | | +-- prelude-ls@1.1.2 deduped
| | | | | | `-- type-check@0.3.2 deduped
| | | | | +-- prelude-ls@1.1.2 deduped
| | | | | +-- type-check@0.3.2 deduped
| | | | | `-- wordwrap@0.0.3
| | | | `-- source-map@0.2.0 deduped
| | | +-- esprima@2.5.0
| | | +-- fileset@0.2.1
| | | | +-- glob@5.0.15
| | | | | +-- inflight@1.0.6 deduped
| | | | | +-- inherits@2.0.3 deduped
| | | | | +-- minimatch@2.0.10 deduped
| | | | | +-- once@1.4.0 deduped
| | | | | `-- path-is-absolute@1.0.1 deduped
| | | | `-- minimatch@2.0.10
| | | |   `-- brace-expansion@1.1.7 deduped
| | | +-- handlebars@4.0.6 deduped
| | | +-- js-yaml@3.8.3 deduped
| | | +-- mkdirp@0.5.1 deduped
| | | +-- nopt@3.0.6 deduped
| | | +-- once@1.4.0 deduped
| | | +-- resolve@1.1.7
| | | +-- supports-color@3.2.3
| | | | `-- has-flag@1.0.0 deduped
| | | +-- which@1.2.14 deduped
| | | `-- wordwrap@1.0.0 deduped
| | `-- lodash@3.6.0
| +-- lodash@4.17.4 deduped
| +-- through2@2.0.3 deduped
| `-- vinyl-sourcemaps-apply@0.2.1
|   `-- source-map@0.5.6
+-- gulp-jsdoc3@0.3.0
| +-- bluebird@3.5.0
| +-- debug@2.2.0 deduped
| +-- gulp-util@3.0.8 deduped
| +-- ink-docstrap@1.3.0
| | +-- moment@2.18.1 deduped
| | `-- sanitize-html@1.14.1
| |   +-- htmlparser2@3.9.2
| |   | +-- domelementtype@1.3.0
| |   | +-- domhandler@2.3.0
| |   | | `-- domelementtype@1.3.0 deduped
| |   | +-- domutils@1.5.1
| |   | | +-- dom-serializer@0.1.0
| |   | | | +-- domelementtype@1.1.3
| |   | | | `-- entities@1.1.1 deduped
| |   | | `-- domelementtype@1.3.0 deduped
| |   | +-- entities@1.1.1
| |   | +-- inherits@2.0.3 deduped
| |   | `-- readable-stream@2.2.9
| |   |   +-- buffer-shims@1.0.0 deduped
| |   |   +-- core-util-is@1.0.2 deduped
| |   |   +-- inherits@2.0.3 deduped
| |   |   +-- isarray@1.0.0
| |   |   +-- process-nextick-args@1.0.7 deduped
| |   |   +-- string_decoder@1.0.0
| |   |   | `-- buffer-shims@1.0.0 deduped
| |   |   `-- util-deprecate@1.0.2 deduped
| |   +-- regexp-quote@0.0.0
| |   `-- xtend@4.0.1 deduped
| +-- jsdoc@3.4.3
| | +-- bluebird@3.4.7
| | +-- catharsis@0.8.8
| | | `-- underscore-contrib@0.3.0
| | |   `-- underscore@1.6.0
| | +-- escape-string-regexp@1.0.5 deduped
| | +-- espree@3.1.7
| | | +-- acorn@3.3.0
| | | `-- acorn-jsx@3.0.1 deduped
| | +-- js2xmlparser@1.0.0
| | +-- klaw@1.3.1 deduped
| | +-- marked@0.3.6
| | +-- mkdirp@0.5.1 deduped
| | +-- requizzle@0.2.1
| | | `-- underscore@1.6.0
| | +-- strip-json-comments@2.0.1 deduped
| | +-- taffydb@2.6.2
| | `-- underscore@1.8.3 deduped
| +-- map-stream@0.0.6
| `-- tmp@0.0.28
|   `-- os-tmpdir@1.0.2
+-- gulp-tape@0.0.9
| +-- gulp-util@3.0.8 deduped
| +-- require-uncached@1.0.3
| | +-- caller-path@0.1.0
| | | `-- callsites@0.2.0
| | `-- resolve-from@1.0.1
| `-- through2@2.0.3 deduped
+-- gulp-watch@4.3.11
| +-- anymatch@1.3.0
| | +-- arrify@1.0.1
| | `-- micromatch@2.3.11
| |   +-- arr-diff@2.0.0
| |   | `-- arr-flatten@1.0.3
| |   +-- array-unique@0.2.1
| |   +-- braces@1.8.5
| |   | +-- expand-range@1.8.2
| |   | | `-- fill-range@2.2.3
| |   | |   +-- is-number@2.1.0
| |   | |   | `-- kind-of@3.1.0 deduped
| |   | |   +-- isobject@2.1.0
| |   | |   | `-- isarray@1.0.0
| |   | |   +-- randomatic@1.1.6
| |   | |   | +-- is-number@2.1.0 deduped
| |   | |   | `-- kind-of@3.1.0 deduped
| |   | |   +-- repeat-element@1.1.2 deduped
| |   | |   `-- repeat-string@1.6.1
| |   | +-- preserve@0.2.0
| |   | `-- repeat-element@1.1.2
| |   +-- expand-brackets@0.1.5
| |   | `-- is-posix-bracket@0.1.1
| |   +-- extglob@0.3.2
| |   | `-- is-extglob@1.0.0 deduped
| |   +-- filename-regex@2.0.0
| |   +-- is-extglob@1.0.0
| |   +-- is-glob@2.0.1 deduped
| |   +-- kind-of@3.1.0
| |   | `-- is-buffer@1.1.5
| |   +-- normalize-path@2.1.1
| |   | `-- remove-trailing-separator@1.0.1
| |   +-- object.omit@2.0.1
| |   | +-- for-own@0.1.5
| |   | | `-- for-in@1.0.2
| |   | `-- is-extendable@0.1.1
| |   +-- parse-glob@3.0.4
| |   | +-- glob-base@0.3.0
| |   | | +-- glob-parent@2.0.0 deduped
| |   | | `-- is-glob@2.0.1 deduped
| |   | +-- is-dotfile@1.0.2
| |   | +-- is-extglob@1.0.0 deduped
| |   | `-- is-glob@2.0.1 deduped
| |   `-- regex-cache@0.4.3
| |     +-- is-equal-shallow@0.1.3
| |     | `-- is-primitive@2.0.0 deduped
| |     `-- is-primitive@2.0.0
| +-- chokidar@1.6.1
| | +-- anymatch@1.3.0 deduped
| | +-- async-each@1.0.1
| | +-- UNMET OPTIONAL DEPENDENCY fsevents@^1.0.0
| | +-- glob-parent@2.0.0
| | | `-- is-glob@2.0.1 deduped
| | +-- inherits@2.0.3 deduped
| | +-- is-binary-path@1.0.1
| | | `-- binary-extensions@1.8.0
| | +-- is-glob@2.0.1
| | | `-- is-extglob@1.0.0 deduped
| | +-- path-is-absolute@1.0.1 deduped
| | `-- readdirp@2.1.0
| |   +-- graceful-fs@4.1.11 deduped
| |   +-- minimatch@3.0.3 deduped
| |   +-- readable-stream@2.2.9
| |   | +-- buffer-shims@1.0.0 deduped
| |   | +-- core-util-is@1.0.2 deduped
| |   | +-- inherits@2.0.3 deduped
| |   | +-- isarray@1.0.0
| |   | +-- process-nextick-args@1.0.7 deduped
| |   | +-- string_decoder@1.0.0
| |   | | `-- buffer-shims@1.0.0 deduped
| |   | `-- util-deprecate@1.0.2 deduped
| |   `-- set-immediate-shim@1.0.1
| +-- glob-parent@3.1.0
| | +-- is-glob@3.1.0
| | | `-- is-extglob@2.1.1
| | `-- path-dirname@1.0.2
| +-- gulp-util@3.0.8 deduped
| +-- object-assign@4.1.1
| +-- path-is-absolute@1.0.1
| +-- readable-stream@2.2.9
| | +-- buffer-shims@1.0.0
| | +-- core-util-is@1.0.2
| | +-- inherits@2.0.3 deduped
| | +-- isarray@1.0.0
| | +-- process-nextick-args@1.0.7
| | +-- string_decoder@1.0.0
| | | `-- buffer-shims@1.0.0 deduped
| | `-- util-deprecate@1.0.2
| +-- slash@1.0.0
| +-- vinyl@1.2.0
| | +-- clone@1.0.2
| | +-- clone-stats@0.0.1
| | `-- replace-ext@0.0.1 deduped
| `-- vinyl-file@2.0.0
|   +-- graceful-fs@4.1.11 deduped
|   +-- pify@2.3.0
|   +-- pinkie-promise@2.0.1
|   | `-- pinkie@2.0.4
|   +-- strip-bom@2.0.0
|   | `-- is-utf8@0.2.1 deduped
|   +-- strip-bom-stream@2.0.0
|   | +-- first-chunk-stream@2.0.0
|   | | `-- readable-stream@2.2.9
|   | |   +-- buffer-shims@1.0.0 deduped
|   | |   +-- core-util-is@1.0.2 deduped
|   | |   +-- inherits@2.0.3 deduped
|   | |   +-- isarray@1.0.0
|   | |   +-- process-nextick-args@1.0.7 deduped
|   | |   +-- string_decoder@1.0.0
|   | |   | `-- buffer-shims@1.0.0 deduped
|   | |   `-- util-deprecate@1.0.2 deduped
|   | `-- strip-bom@2.0.0
|   |   `-- is-utf8@0.2.1 deduped
|   `-- vinyl@1.2.0
|     +-- clone@1.0.2 deduped
|     +-- clone-stats@0.0.1 deduped
|     `-- replace-ext@0.0.1 deduped
+-- gunzip-maybe@1.4.0
| +-- browserify-zlib@0.1.4
| | `-- pako@0.2.9
| +-- is-deflate@1.0.0
| +-- is-gzip@1.0.0
| +-- peek-stream@1.1.2
| | +-- duplexify@3.5.0
| | | +-- end-of-stream@1.0.0
| | | | `-- once@1.3.3
| | | |   `-- wrappy@1.0.2 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- readable-stream@2.2.9
| | | | +-- buffer-shims@1.0.0 deduped
| | | | +-- core-util-is@1.0.2 deduped
| | | | +-- inherits@2.0.3 deduped
| | | | +-- isarray@1.0.0
| | | | +-- process-nextick-args@1.0.7 deduped
| | | | +-- string_decoder@1.0.0
| | | | | `-- buffer-shims@1.0.0 deduped
| | | | `-- util-deprecate@1.0.2 deduped
| | | `-- stream-shift@1.0.0
| | `-- through2@2.0.3 deduped
| +-- pumpify@1.3.5
| | +-- duplexify@3.5.0 deduped
| | +-- inherits@2.0.3 deduped
| | `-- pump@1.0.2 deduped
| `-- through2@2.0.3 deduped
+-- intercept-stdout@0.1.2
| `-- lodash.toarray@3.0.2
|   +-- lodash._arraycopy@3.0.0
|   +-- lodash._basevalues@3.0.0
|   `-- lodash.keys@3.1.2
|     +-- lodash._getnative@3.9.1
|     +-- lodash.isarguments@3.1.0
|     `-- lodash.isarray@3.0.4
+-- jsrsasign@6.2.2
+-- log4js@0.6.38
| +-- readable-stream@1.0.34
| | +-- core-util-is@1.0.2 deduped
| | +-- inherits@2.0.3 deduped
| | +-- isarray@0.0.1
| | `-- string_decoder@0.10.31
| `-- semver@4.3.6 deduped
+-- mock-couch@0.1.8 (git+https://github.com/jimthematrix/mock-couch.git#38c1b03ab80966e5fb88284e3c9cdef1ab04244f)
| +-- couch-viewkey-compare@1.0.1
| +-- ramda@0.8.0
| +-- restify@3.0.3 (git+https://github.com/jimthematrix/node-restify.git#c4adf56b1f51d790c87f3a381cce20bc3ef287d1)
| | +-- assert-plus@0.1.5
| | +-- backoff@2.5.0
| | | `-- precond@0.2.3
| | +-- bunyan@1.3.4
| | | +-- dtrace-provider@0.4.0 deduped
| | | +-- mv@2.1.1 deduped
| | | `-- safe-json-stringify@1.0.4 deduped
| | +-- csv@0.4.6
| | | +-- csv-generate@0.0.6
| | | +-- csv-parse@1.2.0
| | | +-- csv-stringify@0.0.8
| | | `-- stream-transform@0.1.2
| | +-- deep-equal@1.0.1 deduped
| | +-- dtrace-provider@0.4.0
| | | `-- nan@1.5.3
| | +-- escape-regexp-component@1.0.2
| | +-- formidable@1.1.1
| | +-- http-signature@0.10.1
| | | +-- asn1@0.1.11
| | | +-- assert-plus@0.1.5 deduped
| | | `-- ctype@0.5.3
| | +-- keep-alive-agent@0.0.1
| | +-- lru-cache@2.7.3
| | +-- mime@1.3.4
| | +-- negotiator@0.5.3
| | +-- node-uuid@1.4.8 deduped
| | +-- once@1.4.0 deduped
| | +-- qs@2.4.2
| | +-- semver@4.3.6 deduped
| | +-- spdy@2.1.0
| | | +-- debug@2.2.0 deduped
| | | +-- handle-thing@1.2.5
| | | +-- http-deceiver@1.2.7
| | | +-- select-hose@2.0.0
| | | `-- spdy-transport@1.2.1
| | |   +-- debug@2.2.0 deduped
| | |   +-- hpack.js@2.1.6
| | |   | +-- inherits@2.0.3 deduped
| | |   | +-- obuf@1.1.1 deduped
| | |   | +-- readable-stream@2.2.9
| | |   | | +-- buffer-shims@1.0.0 deduped
| | |   | | +-- core-util-is@1.0.2 deduped
| | |   | | +-- inherits@2.0.3 deduped
| | |   | | +-- isarray@1.0.0
| | |   | | +-- process-nextick-args@1.0.7 deduped
| | |   | | +-- string_decoder@1.0.0
| | |   | | | `-- buffer-shims@1.0.0 deduped
| | |   | | `-- util-deprecate@1.0.2 deduped
| | |   | `-- wbuf@1.7.2 deduped
| | |   +-- obuf@1.1.1
| | |   +-- readable-stream@2.2.9
| | |   | +-- buffer-shims@1.0.0 deduped
| | |   | +-- core-util-is@1.0.2 deduped
| | |   | +-- inherits@2.0.3 deduped
| | |   | +-- isarray@1.0.0
| | |   | +-- process-nextick-args@1.0.7 deduped
| | |   | +-- string_decoder@1.0.0
| | |   | | `-- buffer-shims@1.0.0 deduped
| | |   | `-- util-deprecate@1.0.2 deduped
| | |   `-- wbuf@1.7.2
| | |     `-- minimalistic-assert@1.0.0 deduped
| | +-- tunnel-agent@0.4.3 deduped
| | `-- verror@1.9.0
| |   +-- assert-plus@1.0.0
| |   +-- core-util-is@1.0.2 deduped
| |   `-- extsprintf@1.3.0
| `-- underscore@1.8.3
+-- nano@6.2.0
| +-- debug@2.2.0 deduped
| +-- errs@0.3.2
| +-- follow@0.12.1
| | +-- browser-request@0.3.3
| | +-- debug@2.2.0 deduped
| | `-- request@2.55.0
| |   +-- aws-sign2@0.5.0
| |   +-- bl@0.9.5
| |   | `-- readable-stream@1.0.34 deduped
| |   +-- caseless@0.9.0
| |   +-- combined-stream@0.0.7
| |   | `-- delayed-stream@0.0.5
| |   +-- forever-agent@0.6.1 deduped
| |   +-- form-data@0.2.0
| |   | +-- async@0.9.2
| |   | +-- combined-stream@0.0.7 deduped
| |   | `-- mime-types@2.0.14 deduped
| |   +-- har-validator@1.8.0
| |   | +-- bluebird@2.11.0
| |   | +-- chalk@1.1.3 deduped
| |   | +-- commander@2.9.0 deduped
| |   | `-- is-my-json-valid@2.16.0 deduped
| |   +-- hawk@2.3.1
| |   | +-- boom@2.10.1 deduped
| |   | +-- cryptiles@2.0.5 deduped
| |   | +-- hoek@2.16.3 deduped
| |   | `-- sntp@1.0.9 deduped
| |   +-- http-signature@0.10.1 deduped
| |   +-- isstream@0.1.2 deduped
| |   +-- json-stringify-safe@5.0.1 deduped
| |   +-- mime-types@2.0.14
| |   | `-- mime-db@1.12.0
| |   +-- node-uuid@1.4.8 deduped
| |   +-- oauth-sign@0.6.0
| |   +-- qs@2.4.2 deduped
| |   +-- stringstream@0.0.5 deduped
| |   +-- tough-cookie@2.3.2 deduped
| |   `-- tunnel-agent@0.4.3 deduped
| +-- request@2.76.0 deduped
| `-- underscore@1.8.3 deduped
+-- require-dir@0.3.1
+-- rewire@2.5.2
+-- tap-colorize@1.2.0
| +-- colornames@0.0.2
| +-- minimist@0.2.0
| +-- quotemeta@0.0.0
| +-- split@0.3.3
| | `-- through@2.3.8 deduped
| +-- stream-combiner@0.2.2
| | +-- duplexer@0.1.1
| | `-- through@2.3.8 deduped
| +-- through2@1.0.0
| | +-- readable-stream@1.1.14
| | | +-- core-util-is@1.0.2 deduped
| | | +-- inherits@2.0.3 deduped
| | | +-- isarray@0.0.1 deduped
| | | `-- string_decoder@0.10.31 deduped
| | `-- xtend@2.1.2
| |   `-- object-keys@0.4.0
| `-- x256@0.0.2
+-- tape@4.6.3",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-46,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqhb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/17 3:55 AM;jjjjibm;A little internet search shows that Win32 126 can mean 'Module could not be found' which makes sense in this context.   Should SDK surface the error as is?;;;","20/Apr/17 4:19 AM;jimthematrix;not going to support windows 7 so let's try to get a test on windows 10 and see what happens.;;;","28/Apr/17 4:59 AM;jjjjibm;I have recreated this problem on Windows 10 Pro.  Here is the error message from the win10pro run: 

not ok 267 Should attempt to load the bccsp_pkcs11 module and fail because of the dummy library path
  ---
    operator: throws
    expected: |-
      '/Error:.*\\/usr\\/local\\/lib/'
    actual: |-
      { [Error: Win32 error 126
    at Error (native) PKCS11::Load:129] message: 'Win32 error 126\n    at Error (native) PKCS11::Load:129' }
    at: test (C:\Users\ibmadmin\go\src\github.com\hyperledger\fabric-sdk-node\test\unit\cryptosuite-ecdsa-aes.js:165:4);;;","02/May/17 6:45 AM;jjjjibm;Please link to Gerrit patch before closing.  Thanks. ;;;","03/May/17 12:39 AM;jimthematrix;after discussing with [~ChristopherFerris] we'll address this as a unique problem for contributors or app developers windows support;;;","24/May/17 6:21 AM;jjjjibm;commit ef61a8bffb6f77f8a664d0760ed8004e32b6d308

Author: jjjjibm <jcwolf@us.ibm.com>

Date: Tue May 23 17:10:06 2017 -0400

　

[FAB-3253] Should attempt to load bccsp_pkcs11

　

Windows platforms (Win7, Win10) throw a different error message

for this case. The solution is to test process.platform for 'Win32'

and use the Windows error as the expected error.

　

Change-Id: I66e86a3e5284ee267ebd24c0a6b47514155979a9

Signed-off-by: jjjjibm <jcwolf@us.ibm.com>

 

The fix was easy once I had node-SDK running natively on Win7 and Win10.

 ;;;","24/May/17 6:22 AM;jjjjibm;https://gerrit.hyperledger.org/r/#/c/9731/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] fabric-sdk-node/.istanbul.yml still references 'hfc',FABN-440,14497,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,02/Feb/17 6:31 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Feb/17 12:37 PM,,,,,,,,,,,0,,,,,"Current content of .Istanbul.yml:


instrumentation:
    root: ./node_modules/hfc

This needs to reference fabric-client.",Not applicable.,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjtb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] pkcs11.js  assign PKCS libpath based on search ,FABN-441,15204,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,04/Mar/17 10:59 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/May/17 12:19 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Test fabric-sdk-node/test/unit/pkcs11.js identifies the PKCS11 libpath based on the value of process.platform.   The assumption was that when process.platform is equal to 'linux', the PKCS library provided will be /usr/local/lib/softhsm/libsofthsm2.so.

This is true when softHSM2 is installed by downloading the product from this link suggested in the test case: https://wiki.opendnssec.org/display/SoftHSMDOCS/SoftHSM+Documentation+v2

However, an alternate method to install softHSM2 is with apt-get install.  When installed with apt-get on a Vagrant Ubuntu VM, the PKCS11 library is located at /usr/lib/x86_64-linux-gnu/softhsm/libsofthsm2.so.  Thus setting the PKCS11 libpath based on process.platform is not reliable.

The solution is to port _findPKCS11Lib()_ in +fabric/bccsp/pkcs11/impl_test.g+o to Nodejs and use that method.   This function searches for the library in five directories.  I have added /usr/local/lib/softhsm/libsofthsm2.so to the search based on the installation on my vLaunch Ubuntu VM. 

Another goal of this fix is to enable fabric-sdk-node/test/unit/pkcs11.js to run in the CI.  A fabric  PKCS11 test case is already running successfully in CI.  I have changed the user pin coded in pkcs11.js to the one used by this other test case so both tests can run.  I also added some tracing to fabric-sdk-node/./fabric-client/lib/impl/bccsp_pkcs11.js to help debug issues in CI. 

One consequence of this fix is that all users of 'gulp test-headless' need to install softHSM version 2, or else accept that pkcs11.js fails.   I added a sample softhsm2-util command line configuration to test case comments for the convenience of testers. ","fabric-sdk-node commit d99495fe674dad5061860ffc9bd537962ce649b7
vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmtj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Mar/17 11:28 AM;jjjjibm;commit 4e53357584374bb8c34b797660087335bbd5bc19
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Fri Mar 3 21:26:00 2017 -0500

    node-SDK FAB-2337 assign PKCS11 libpath based on search

    1.Change  PKCS11 libpath assignment algorithm to
       search among common paths for the softHSM2 installation.
    2.Change hard coded user pin to be consistent with existing
       successful CI pkcs11 tests.
    2.Add tracing to fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js
    3.Change fabric-sdk-node/build/tasks/test.js to
       include pkcs11.js in test-headless task.

    This will cause CI to execute pkcs11.js.  The tracing will help us debug
    problems.  It can be removed later.

    Change-Id: I0fa094142a1aadb3315ff23f45ba70b3de2f36d5
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","04/Mar/17 11:29 AM;jjjjibm;https://gerrit.hyperledger.org/r/#/c/6825/;;;","05/Apr/17 3:54 AM;jjjjibm;$ git log -1
commit ee339f9eaa8db97636a26ebdbb3998e702210445
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Fri Mar 3 21:26:00 2017 -0500

    node-SDK FAB-2337 assign PKCS11 libpath based on search

    1.Change  PKCS11 libpath assignment algorithm to
       search among common paths for the softHSM2 installation.
    2.Change hard coded user pin to be consistent with existing
       successful CI pkcs11 tests.
    2.Add tracing to fabric-sdk-node/fabric-client/lib/impl/bccsp_pkcs11.js
    3.Change fabric-sdk-node/build/tasks/test.js to
       include pkcs11.js in test-headless task.

    This will cause CI to execute pkcs11.js.  The tracing will help us debug
    problems.  It can be removed later.

    Change-Id: I0fa094142a1aadb3315ff23f45ba70b3de2f36d5
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","05/Apr/17 3:55 AM;jjjjibm;The fix is not yet working in CI.  Ramesh requested FAB-2797 assigned to him so he can investigate solutions for CI. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - missing test case for using the configtxlator,FABN-442,17918,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,15/Jun/17 1:49 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Jun/17 1:33 AM,,,,,,,v1.0.0-beta,,,,0,,,,,Need to add a test case to show how to use the configtxlator tool and the NodeSDK. Need to show both the create and update flow.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3j3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- cop --> ca,FABN-443,15080,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 6:40 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Mar/17 3:23 AM,,,,,,,,,,,0,,,,,"In the readme at [node-sdk] https://github.com/hyperledger/fabric-sdk-node, the section

{color:#59afe1}Set Up CouchDB Database for couchdb-fabriccop-tests.js
{color}

refers to couchdb-fabriccop-tests.js, which does not exist.  However, we do have the
test case couchdb-fabricca-tests.js and the test case cloudant-fabricca-tests.js.   The title should perhaps be more generic:

Could be
Set up coucbDB Database for cloudant and coucbdb tests.

node test/{color:#59afe1}unit{color}/couchdb-fabric{color:#59afe1}cop{color}-test.js
==>
node test/{color:#59afe1}integration{color}/couchdb-fabric{color:#59afe1}ca{color}-test.js

Should we mention cloudant-fabricca-tests.js here also?  It has a prerequisite, but is not mentioned in this readme. ",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Query/Invoke fails on peer2 of organizations ""org1"" and ""org2""",FABN-444,15665,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,11/Apr/17 12:03 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Apr/17 12:30 AM,,,,,,,v1.0.0,,,,0,,,,,"When Query/Invoke is made on peer2 of organizations org1 and org2 the transaction fails with below error

{panel}
'Error: failed to obtain cds for end2end - transaction not found end2end/mychannel'
{panel}

*STEPs to reproduce:*
1. change +queryChaincode+  function to query on peer2
2. spin the network from test/fixtures using the below command
    _docker-compose up -d_
3. run the e2e tests 
    cd fabric-sdk-node
    _node test/integration/e2e.js_

This steps fails while querying


*Gist of error log:*

{code}
debug: [Peer.js]: Peer.sendProposal - Start
debug: [Peer.js]: Received proposal response from: grpcs://localhost:8056 status: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
    at /home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
debug: [Peer.js]: Received proposal response from: grpcs://localhost:7056 status: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
    at /home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
debug: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
debug: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: failed to obtain cds for end2end - transaction not found end2end/mychannel
debug: [Chain.js]: Chain-queryByChaincode - results received
not ok 78 checking query results are correct that user b has 410 now after the move
  ---
    operator: equal
    expected: |-
      '410'
    actual: |-
      'Error: failed to obtain cds for end2end - transaction not found end2end/mychannel'
    at: hfc.newDefaultKeyValueStore.then.then.then (/home/itpc/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:658:7)
  ...

{code}
",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/17 1:45 PM;Ratnakar;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/10656/docker-compose.yaml","11/Apr/17 11:59 AM;Ratnakar;e2eUtils.js;https://jira.hyperledger.org/secure/attachment/10655/e2eUtils.js","11/Apr/17 12:03 PM;Ratnakar;query_error_log.txt;https://jira.hyperledger.org/secure/attachment/10654/query_error_log.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Apr/17 1:45 PM;Ratnakar;fix for this is provided with patch https://gerrit.hyperledger.org/r/#/c/7919/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"when mutual TLS is enabled, balance-transfer sample fails at eventhub",FABN-445,31358,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,26/Jun/18 4:36 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,30/Jun/18 3:00 AM,v1.2.0,,,,,,v1.2.0,,,,0,quality,,,,"As per the node-sdk tutorial [https://fabric-sdk-node.github.io/tutorial-mutual-tls.html], enabled Mutual TLS on fabric-samples/balance-transfer sample. though transactions are successful, eventhub related errors are seen in e2e hence test is not successful. 

For reference I uploaded the change to this github [repo|https://github.com/asararatnakar/balance-transfer_1_2]
 [^logs.txt] are enclosed .
 * It is observed that Instantiation fails at evethub. find the following error gist
{code:java}
[2018-06-25 15:30:59.596] [ERROR] invoke-chaincode - { Error: 14 UNAVAILABLE: Connect Failed
    at createStatusError (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:64:15)
    at ClientDuplexStream._emitStatusIfDone (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:270:19)
    at ClientDuplexStream._readsDone (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:236:8)
    at readCallback (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:296:12)
  code: 14,
  metadata: Metadata { _internal_repr: {} },
  details: 'Connect Failed' }
debug: [ChannelEventHub.js]: _closeAllCallbacks -localhost:8051 - chaincodeRegistrants 0
debug: [ChannelEventHub.js]: _closeAllCallbacks -localhost:8051 - end
debug: [ChannelEventHub.js]: _shutdown - shutdown existing stream
debug: [ChannelEventHub.js]: _disconnect - end -- called due to:: 14 UNAVAILABLE: Connect Failed, peer:localhost:8051
debug: [ChannelEventHub.js]: on status - status received: {""code"":14,""details"":""Connect Failed"",""metadata"":{""_internal_repr"":{}}}  peer:localhost:8051
[2018-06-25 15:30:59.597] [ERROR] invoke-chaincode - Error: 14 UNAVAILABLE: Connect Failed
    at createStatusError (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:64:15)
    at ClientDuplexStream._emitStatusIfDone (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:270:19)
    at ClientDuplexStream._readsDone (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:236:8)
    at readCallback (/Users/ratnakar/workspace/myrepo/balance-transfer/node_modules/grpc/src/client.js:296:12)
[2018-06-25 15:30:59.597] [ERROR] invoke-chaincode - Failed to invoke chaincode. cause:Error: 14 UNAVAILABLE: Connect Failed
(node:38416) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 5): Error: Failed to invoke chaincode. cause:Error: 14 UNAVAILABLE: Connect Failed 
{code}

 * from the logs it is observed that target peers are not set properly, when connection profile is used. While we set one target peer with API (grpcs://localhost:7051) however we see other peers in the log info
{code:java}
debug: [Channel.js]: sendTransaction - start :: channel {""name"":""mychannel"",""orderers"":[""Orderer:{url:grpcs://localhost:7050}""],""peers"":[""Peer:{url:grpcs://localhost:7051}"",""Peer:{url:grpcs://localhost:7056}"",""Peer:{url:grpcs://localhost:8051}"",""Peer:{url:grpcs://localhost:8056}""]}
{code}",,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jun/18 4:36 AM;Ratnakar;logs.txt;https://jira.hyperledger.org/secure/attachment/15166/logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzg5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Jun/18 6:03 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23691/;;;","29/Jun/18 4:13 AM;Ratnakar;[~harrisob@us.ibm.com] Verified the above patch and balance-transfer sample works as expected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - blockToLive not included in collection config,FABN-446,30654,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,ericmvaughn,ericmvaughn,26/May/18 3:50 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/May/18 9:56 PM,v1.2.0,,,,,,v1.2.0,,,,0,,,,,"The SDK does not pass the blockToLive parameter through to collection config package that goes to the lscc.

It looks like blockToLive should be added to buildCollectionConfig in SideDB.js.  For example..
{code:javascript}
function buildCollectionConfig(collectionConfig) {
	try {
		checkCollectionConfig(collectionConfig);

		const {
			name,
			policy,
			maxPeerCount,
			requiredPeerCount,
	---->		blockToLive
		} = collectionConfig;

		let static_collection_config = {
			name,
			member_orgs_policy: {},
			required_peer_count: requiredPeerCount,
			maximum_peer_count: maxPeerCount,
	---->		block_to_live: blockToLive
		};

{code}
 

 ",,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzcrz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/18 10:13 PM;mastersingh24;[~harrisob@us.ibm.com] - I'll take this one;;;","28/May/18 7:47 PM;mastersingh24;https://gerrit.hyperledger.org/r/22427;;;","28/May/18 9:56 PM;mastersingh24;[~ericmvaughn] - this should be done now;;;","29/May/18 1:33 AM;ericmvaughn;[~mastersingh24] Strangely it doesn't seem to work when I use a value of 3 but works fine when I use 100.

error: [SideDB.js]: Error: CollectionConfig Requires Param ""blockToLive"" of type unsigned int64, found 3(type: number);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chainId should not be required in Chain's various methods,FABN-447,16760,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,16/May/17 12:08 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,18/May/17 1:58 AM,,,,,,,,,,,0,,,,,"the chain's name, which is a required parameter for the constructor, is already representing the chainId. should not require that to be passed in again in methods like sendTransactionProposal()",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvh3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] https://github.com/hyperledger/fabric-sdk-node --  Commands are missing,FABN-448,15073,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 4:23 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Mar/17 3:22 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"The readme at https://github.com/hyperledger/fabric-sdk-node tells the reader to launch commands, but no command are given.  Instead, we immediately see a description of the two npm packages. 

Here is some context: 

_Clone the project and {color:#d04437}launch the following commands {color}to install the dependencies and perform various tasks.

This project publishes two separate npm packages:

    fabric-client - main client for the Hyperledger Fabric. Applications can use this package to install and instantiate chaincodes, submit transactions and make queries against a Hyperledger Fabric-based blockchain_","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkkf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node sdk packages node chaincode from the request.chaincodePath field,FABN-449,22880,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,davidkel,davidkel,27/Oct/17 6:35 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,30/Oct/17 7:37 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"While investigating another problem, this JIRA came up
https://jira.hyperledger.org/browse/FAB-5476

which dictates that if 2 peers have the same chaincode installed then the path provided during install must be identical.
The Node SDK packager uses the request.chaincodePath to package the node.js chaincode and it needs to be an absolute path for it to work.
This means that if one person installs the chaincode on Peer 1 but a different person installs the chaincode on Peer 2, unless they are using identical directory structures for where the chaincode is stored, then we will hit the problem described in the above jira.

It should be possible to install the chaincode on different peers from different systems without restriction.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzylgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Oct/17 11:35 PM;harrisob@us.ibm.com;How is this problem different than 5476, seems it is the same issue;;;","28/Oct/17 2:04 AM;davidkel;The difference is that the problem can be avoided in the node sdk for Go because the Go packager uses the GOPATH. However the Node packager uses what is specified in the chaincode path directly so there is no way to ensure that composer can send the same chaincode path no matter where our chaincode is stored which we can do currently with Go. So composer doesn't have a problem now but when we move to the node.js runtime support then we will.
I don't know if the other one will be fixed or just handled in the tooling, but I don't mind how it get's fixed so long as it does get fixed and we could come up with a way for the node sdk to locate the chaincode to deploy allowing for the path to be fixed as it seems to me the chaincodePath is a special value relevant to chaincode descriptions rather than a way for the node sdk to locate what needs to be packaged.;;;","30/Oct/17 7:36 PM;davidkel;Jim checked the code and said that in 1.1 it doesn't look like the chaincode path is now used as part of the chaincode fingerprint. 
I've finally been able to set up a multi-org environment using the composer node.js implementation and tried to work with different chaincode paths and have not had a problem.
Thanks everyone in checking on this so quickly. I really appreciate it and will close the Jira.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getChannelConfig() doesn't fetch the newest config block after channel update,FABN-450,18579,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,sandp125,sandp125,23/Jun/17 4:09 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/Jun/17 6:28 AM,v1.0.0,,,,,,v1.0.0,,,,0,,,,,"I am testing a scenario to add an Org to an existing channel and remove the Org after doing some invokes. We were able to add an org successfully but when we fetch the updated config block using getChannelConfig() , we don't see the newly added Org in the config channel block.

As a result of this issue, you can only update the channel once.You cannot add an additional org, remove an existing org or do any kind of channel update.

Issue can be reproduced using following steps.
 # Create a network with 2 Org , 2 Peers per Org.
 # Add a new Org by updating the channel using configtxlator and  getChannelConfig() .
 # Join a Peer to the new Org.
 # Config block returned from getChannelConfig() doesn't contain the newly added Org.

Attached [^channel-config.js]contains the code for adding an Org and removing an Org.

 ",,harrisob@us.ibm.com,mastersingh24,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jun/17 4:08 AM;sandp125;channel-config.js;https://jira.hyperledger.org/secure/attachment/11320/channel-config.js",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5dr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,sandp125,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/17 4:58 AM;mastersingh24;So https://jira.hyperledger.org/browse/FAB-4918 did not fix this issue?   [~harrisob@us.ibm.com] ?;;;","24/Jun/17 5:16 AM;sandp125;It looks like this fix was not available in the latest node modules.  

 
{code:java}
sandy@sandy:~/Work/FabricNodeApp1.0$ npm ls fabric-client
balance-transfer@1.0.0-beta /home/sandy/Work/FabricNodeApp1.0
└── fabric-client@1.0.0-snapshot.87
sandy@sandy:~/Work/FabricNodeApp1.0$ npm ls fabric-ca-client
balance-transfer@1.0.0-beta /home/sandy/Work/FabricNodeApp1.0
└── fabric-ca-client@1.0.0-snapshot.87
{code}
 ;;;","24/Jun/17 6:05 AM;harrisob@us.ibm.com;I could really use the debug log, it will show which blocks are being fetched during the getChannelConfig(). This sure looks like https://jira.hyperledger.org/browse/FAB-4918, ;;;","24/Jun/17 6:27 AM;sandp125;[~rameshthoomu] pushed the latest node modules. I am getting the latest config block from getChannelConfig(). I am marking this issue as fixed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update README with instructions to setup v1.0 network with the latest fabric code,FABN-451,13258,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,02/Nov/16 11:26 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,04/Nov/16 6:01 AM,,,,,,,,,,,0,node-SDK,,,,"- add docker-compose content
- add steps to map ports in vagrant",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdun:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"EventHub ctor param ""clientContext"" is not documented",FABN-452,16774,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,cdaughtr,jtrayfield,jtrayfield,17/May/17 2:36 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,20/May/17 2:32 AM,,,,,,,,,,,0,,,,,"var EventHub = class \{

/**
 * Constructs an unconnected EventHub
 */

constructor(clientContext) \{

 

 ",,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,,600,600,,0%,600,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvkn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
KeyInfo decode calls wrong method for getKeyIndetifier,FABN-453,28211,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,05/Mar/18 5:28 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,05/Mar/18 6:19 PM,,,,,,,,,,,0,,,,,"Looks more like a typo issue, since the proto for KeyInfo has a value `key_identifier` the method via node to access it should be `getKeyIdentifier()` rather in the current SDK it's available at `getKeyIdentitier()`",,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzuf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
quick fix needed: incompatible with npm grpc@1.11.0,FABN-454,29873,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,davidkhala,davidkhala,davidkhala,02/May/18 12:18 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,03/May/18 10:49 PM,v1.1.0,,,,,,,,,,1,,,,,"found error with npm module grpc@1.11.0 when run
{code:java}
gulp test-headless
{code}
not ok 599 Check for The event hub has not been connected to the event source - tx test 1
  ---
    operator: throws
    expected: |-
      null
    actual: |-
      [TypeError: Cannot read property 'getConnectivityState' of undefined]
    at: crypto_suite.generateKey.then.then (/home/david/Documents/fabric-sdk-node/test/unit/event-hub.js:495:5)
    stack: |-
      TypeError: Cannot read property 'getConnectivityState' of undefined
          at EventHub._checkConnection (/home/david/Documents/fabric-sdk-node/fabric-client/lib/EventHub.js:9:19604)
          at EventHub.registerTxEvent (/home/david/Documents/fabric-sdk-node/fabric-client/lib/EventHub.js:9:27953)
          at t.doesNotThrow (/home/david/Documents/fabric-sdk-node/test/unit/event-hub.js:497:15)
          at Test.doesNotThrow (/home/david/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:522:9)
          at Test.bound [as doesNotThrow] (/home/david/Documents/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
          at crypto_suite.generateKey.then.then (/home/david/Documents/fabric-sdk-node/test/unit/event-hub.js:495:5)
          at <anonymous>

 

It seems there is a major change between grpc 1.10 and 1.11, But we constraint version loosely 
{code:java}
- /fabric-client/package.json



...
""grpc"": "">=1.3.5 <2.0.0"",
...{code}",,davidkhala,harrisob@us.ibm.com,holocron,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-422,FABN-385,,,,,,,,FABN-347,FABN-510,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8fb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,harrisob@us.ibm.com,holocron,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/18 12:20 PM;holocron;This is breaking flows all over the place.

Composer has pinned at 1.10.1

https://github.com/hyperledger/composer/pull/3946;;;","02/May/18 12:30 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/21281/;;;","02/May/18 12:31 PM;davidkhala;[~holocron] Strongly agree, I think for similar action should apply for node-sdk as quick fix;;;","02/May/18 12:37 PM;holocron;(y);;;","03/May/18 10:49 PM;harrisob@us.ibm.com;fixed with https://gerrit.hyperledger.org/r/#/c/21021/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-x509 dependency introduces problems for windows and others,FABN-455,18265,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,davidkel,davidkel,17/Jun/17 7:59 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Jul/17 5:33 AM,v1.0.0-beta,v1.0.1,v1.0.2,v1.0.3,v1.0.4,v1.1.0,v1.0.1,,,,1,node-SDK,,,,"Node SDK has introduced a dependency on node-x509. This will compile fine on linux/mac but unfortunately on windows it looks for openssl to be installed at c:\OpenSSL-Win64 as it requires both c headers and link libraries.

This makes it very awkward for windows users to make use of the node sdk without having to work out how to install the appropriate openssl package in a very specific place.

In addition, this results in ""sudo npm install"" failing in CentOS and RHEL: https://stackoverflow.com/questions/45193218/npm-fails-installing-fabric-ca-client",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3jb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/17 1:55 PM;jimthematrix;[~bmos299] this makes me wonder about our windows platform coverage for node.js and java SDKs;;;","21/Jul/17 12:21 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/11777/

[~davidkel], [~stanacton];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sendDeploymentProposal() in Member.js does not return the promised data properly,FABN-456,13200,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,26/Oct/16 2:03 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Oct/16 12:39 AM,,,,,,,,,,,0,node-SDK,,,,"The result is that the promise does not get resolved properly with the response data from the endorser, and the ""then()"" chaining doesn't get triggered properly.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdn3:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/16 2:04 PM;jimthematrix;fix included in https://gerrit.hyperledger.org/r/#/c/2017/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some sdk-test cases that receives a proposal response need to fix,FABN-457,30052,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,nnao,nnao,nnao,09/May/18 9:24 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,11/May/18 10:04 AM,v1.1.0,,,,,,v1.2.0,,,,0,ci-failure,,,,FAB-6387 fixes a proposal response from peer. Peer sends a proposal response with status 500 to SDK in case of chaincode error. Some sdk-test cases that receives a proposal response need to fix it.,,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6387,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9bj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/18 1:11 PM;nnao;https://gerrit.hyperledger.org/r/c/17553;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FabricCAClientImpl missing newCryptoKeyStore,FABN-458,16869,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,19/May/17 3:15 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,20/May/17 2:27 AM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,,,,FabricCAClientImpl should have the function newCryptoKeyStore since fabric-ca-client module needs to be able to be used independently of fabric-client.,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-387,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw13:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TypeError: Cannot read property 'verify' of undefined,FABN-459,22719,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,20/Oct/17 11:09 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Oct/17 10:48 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"In the getCertificateAuthority call of the client
{code}
 tls_options = {
	 trustedRoots: [ca.getTlsCACerts()], //TODO handle non existent
	 verify: ca.getConnectionOptions().verify //TODO handle non existent
 };
{code}
the line fails because I haven't specified the verify option. However verify is only required for tls connections and is also optional It shouldn't be mandatory.
",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6753,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyke7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/17 2:29 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14777/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Endorsement policy failure, even if the policy is fulfilled",FABN-460,26232,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,nharshita,nharshita,21/Dec/17 7:04 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/Jan/18 6:19 AM,,,,,,,,,,,1,,,,,"Based on [1][2] and below test scenario, we have found that only one (last proposal response) RWset is considered at VSCC side.

However, this seems to be a problem, if we consider the below scenario.

*Scenario:* Policy 3-of-4 in place and 4 endorsements are received. Out of which 1st three endorsers produce same RWset and the 4th produces a different one (simulated by tampering 4th endorser's file system.  But, this could be the case in other non-deterministic situations).

*Result:* Transaction *fails* with ENDORSEMENT_POLICY_FAILURE at VSCC. Which shouldn't be the case, as policy is fulfilled correctly. Being the last, 4th RWset is considered while verifying (may be a message integrity issue) and thus the transaction is failing.

_Just to ensure the testcase_, above scenario is simulated by tampering 3rd endorser's file system. Here, transaction *succeeds* as payload verified against is properly considered and the required policy is fulfilled.

 

We think that this would have been avoided, if all proposal responses are sent by SDK to VSCC for verification.

 

[1] [https://github.com/hyperledger/fabric-sdk-node/blob/v1.1.0-preview/fabric-client/lib/Channel.js#L1413]

[2] [https://github.com/hyperledger/fabric-sdk-node/blob/v1.1.0-preview/fabric-client/lib/Channel.js#L1439]",,denyeart,harrisob@us.ibm.com,MichaelWang,nharshita,n-horiguchi,vigneswaran.r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyrvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,MichaelWang,nharshita,n-horiguchi,vigneswaran.r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/18 12:49 PM;denyeart;I believe there are existing SDK functions to check that proposal responses are the same, so that the 'bad' response can be thrown out on client side before submitting the transaction.  I think this would be preferable to sending all proposal responses in the transaction, so as to not bloat the transactions/blocks.  [~harrisob@us.ibm.com] can you indicate SDK functions for this and whether any changes are planned?;;;","08/Jan/18 4:54 PM;vigneswaran.r;Wouldn't it be better if the platform handles this and not relying too much on client side (SDK) for throwing away bad responses? Because,
 # Client side checking is easy to by-pass.
 # It is difficult for the client to decide which response to throw away, when two different sets of responses (RW sets) are available, without evaluating the endorsement policy. (As the policy can be more specific/complex like (A OR (B AND C)), I think, it's really difficult).;;;","25/Jan/18 6:19 AM;harrisob@us.ibm.com;NodeSDK has a method on the 'Channel' object to check to be sure all endorsements are the same. The application may call this method to check endorsements before sending them to the orderer.

    /**
      * Utility method to examine a set of proposals to check they contain
      * the same endorsement result write sets.
      * This will validate that the endorsing peers all agree on the result
      * of the chaincode execution.
      *
      * @param \{ProposalResponse[]} The proposal responses from all endorsing peers
      * @returns \{boolean} True when all proposals compare equally, false otherwise.
       */
     compareProposalResponseResults(proposal_responses) \{;;;","13/Feb/18 4:31 PM;nharshita;I agree that client side verification would help, but JIRA item mainly goes with the spirit where client can disobey endorsement related stuff and fabric core code (VSCC) takes care of it based on the documentation at  [http://hyperledger-fabric.readthedocs.io/en/latest/txflow.html]

excerpts from the URL

""""""

The architecture is such that even if an application chooses not to inspect responses or otherwise forwards an unendorsed transaction, the endorsement policy will still be enforced by peers and upheld at the commit validation phase.

""""""

And as pointed by Vigneswaran R, there are issues in handling the situation at client side.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - common config missing timeout settings,FABN-461,21794,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Oct/17 5:54 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Oct/17 11:23 PM,,,,,,,v1.0.4,,,,0,node-SDK,,,,"The peer settings for timeouts have not been added to the NodeSDK, it is still using the configuration settings for these.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Oct/17 11:23 PM;harrisob@us.ibm.com;Will use FAB-6679 to track this work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - All transient data gets logged,FABN-462,27814,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ericmvaughn,ericmvaughn,ericmvaughn,18/Feb/18 9:02 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Feb/18 12:09 AM,v1.1.0,,,,,,,,,,0,node-SDK,,,,When the logger is configured to debug all of the transient data gets dumped to the log.  This becomes a problem with a large amount of transient data.,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxx3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Feb/18 11:24 AM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/18019/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ]  some negative tests of V1.1 Integration tests are failing when channel name has Captial letters,FABN-463,31243,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,harrisob@us.ibm.com,Ratnakar,Ratnakar,21/Jun/18 4:13 AM,14/Nov/18 10:51 PM,28/Oct/23 3:25 AM,14/Nov/18 10:51 PM,v1.2.0,,,,,,v1.1.0,,,,0,quality,,,,"A regular expression check has been introduced in NodeJS SDK V1.2 (https://gerrit.hyperledger.org/r/#/c/19803/) , that causes failures in V1.1 Integration Tests against v1.2 Fabric , Fabric-CA and NodeJS SDK.

For test description details , please refer the Case 4 of FAB-10161

Gist of error message:
{code}
** TEST ** orderer via member missing orderer^[[00m^[[1m^[[38;5;196m
not ok 268 Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member2""^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: error
    expected: |-
      undefined
    actual: |-
      [Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member2""]
    at: Test.onetime [as end] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
    stack: |-
      Error: Failed to create Channel. channel name should match Regex /^[a-z][a-z0-9.-]*$/, but got ""testChannel-orderer-member2""
          at new Channel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Channel.js:96:11)
          at Client.newChannel (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:203:19)
          at /Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/orderer-channel-tests.js:60:23
          at Test.<anonymous> (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
          at Test.bound [as _cb] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.run (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:95:10)
          at Test.bound [as run] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Immediate.next (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
          at runCallback (timers.js:789:20)
          at tryOnImmediate (timers.js:751:5)
          at processImmediate [as _immediateCallback] (timers.js:722:5)^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}

 all failures logs been enclosed  [^chname_regex_failures.txt] ",,andrew-coleman,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10161,,,,,,,,,,,"21/Jun/18 3:42 AM;Ratnakar;chname_regex_failures.txt;https://jira.hyperledger.org/secure/attachment/15132/chname_regex_failures.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfnz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/18 4:18 AM;Ratnakar;All the tests are passed when changed the channel names to lowercase

[~harrisob@us.ibm.com] Do we need to consider porting the changes to v1.1 as well ?;;;","14/Nov/18 10:51 PM;andrew-coleman;the test was changed - closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] orderer-chain-tests.js not ok 6 Test setting an empty orderer address ,FABN-464,14001,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,11/Jan/17 2:51 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Mar/17 1:55 PM,,,,,,,,,,,0,help-wanted,,,,"Having set up fabric, fabric-cop, and fabric-sdk-node per JIm Zhang's sprint 7 video, test 6 of orderer-chain-tests.js fails with this message:

not ok 6 Test setting an empty orderer address
  ---
    operator: throws
    expected: |-
      '/TypeError: Parameter \'url\' must be a string/'
    actual: |-
      { [TypeError: Parameter ""url"" must be a string, not undefined] message: 'Parameter ""url"" must be a string, not undefined' }
    at: Test.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
  ...
#
How to recreate:  
1.Set up fabric per Jim Zhang's sprint 7 video.  See 'Environment in this issue for commit levels'. 
2.cd fabric-sdk-node/test/unit
3.node headless-tests.js  /* not sure this matters, but I happened to run this test first. */
4.node orderer-chain-tests.js 
","Use commit levels specified in Jim Zhang's sprint 7 video:

Fabric:
git checkout -b sprint7 d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091
fabric-cop:
        git checkout -b sprint7 ffb4fc22b84775769c755c5c3db53f6911ba4835
fabric-sdk-node
        git checkout -b sprint7 662135eedefd43e0d249362b991cf04e2b423783

I am running a vlaunch VM running Ubuntu ""trusty"" .  
I am using the docker compose file in fabric-sdk-",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-540,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgtb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] grpc node module should be updated,FABN-465,20186,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,15/Aug/17 6:42 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,22/Aug/17 5:01 AM,v1.0.1,,,,,,,,,,0,,,,,"The current fabric-sdk-node uses grpc 1.2.4 (the latest version before 1.3.0), which is old and has several potential bugs.
One example of such bugs is https://github.com/grpc/grpc/issues/11015, which may crash long-running applications.

It seems that the connection issue reported in https://jira.hyperledger.org/browse/FAB-5464 is also fixed in the latest version.

Moreover, the compatibility issue in v1.3.0 addressed by https://jira.hyperledger.org/browse/FAB-3491 and https://jira.hyperledger.org/browse/FAB-3492 is fixed in v1.3.1 (see https://github.com/grpc/grpc/releases/tag/v1.3.1 ), and 'gulp test' works well with the latest version of grpc.

It seems that there is no showstopper to update grpc node module to the latest one (v1.4.1).
","fabric commit 303ee1f336df0cd78ded29241635120a71555a9c

fabric-sdk-node commit 9fe8114c46f8dcb7c3ff0348a4fca7fc16294ea5",shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-256,FABN-352,FAB-5464,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyd5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/17 6:52 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/12449/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer1.org1.example.com does not exist,FABN-466,28542,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,15/Mar/18 3:21 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Mar/18 9:04 AM,,,,,,,v1.2.0,,,,0,,,,,"peer1.org1.example.com in fabric-sdk-node test/fixtures/network.yaml
this peer does not exist, shoud be removed",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Mar/18 3:25 PM;zhaochy;https://gerrit.hyperledger.org/r/19207;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js needs to use SHA256 to match the peer,FABN-467,13515,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Nov/16 12:58 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Nov/16 9:57 PM,,,,,,,,,,,0,node-SDK,,,,without the change the signature in the Proposal will fail to verify due to different hashing output b/w the peer and SDK,,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf3j:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/16 9:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2713/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK JSDoc - TransactionRequest should have 'proposal' instead of 'chaincodeProposal',FABN-468,19396,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,ericmvaughn,ericmvaughn,ericmvaughn,21/Jul/17 5:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,26/Jul/17 3:58 AM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,Channel.js  -- The second property in TransactionRequest used by sendTransaction() should be 'proposal' instead of 'chaincodeProposal',,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Jul/17 9:57 PM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/11881/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid host header,FABN-469,18866,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,pvrbharg,pvrbharg,01/Jul/17 1:25 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Jul/17 6:55 AM,,,,,,,v1.0.0,v1.0.0-rc1,,,0,Composer,Hyperledger,,,"I am running a Hyperledger Composer developer sandbox with tutorial in IBM Skytap cloud instance. When I access the endpoint from inside hosting server URL all is well. The URL is:

[http://localhost:4200|http://localhost:4200/]

If I try to access the same end point from a public tier - I am seeing the error. What configuration should I be doing in order to access the end point from outside hosting server.

 

 ",,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jul/17 1:24 AM;pvrbharg;HLComposer-InvalidHostHeaderIssueDoc.docx;https://jira.hyperledger.org/secure/attachment/11529/HLComposer-InvalidHostHeaderIssueDoc.docx",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6kn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jul/17 6:56 AM;mastersingh24;Hi [~pvrbharg] -

Hyperledger Composer currently uses Github for tracking issues and not JIRA.  Please submit an issue following the instructions located here:  https://github.com/hyperledger/composer/blob/master/contrib-notes/raising-issues.md;;;","10/Jul/17 7:00 AM;pvrbharg;Dear Gari,

 

Thank you for your guidance and I did open an issue on Composer at Github. We can close this JIRA item and my apologies for opening this issue in this tool incorrectly.

 

Regards.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Need an ""extractChannelConfig()"" on the Client.js",FABN-470,16168,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,03/May/17 4:22 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/May/17 2:04 PM,,,,,,,,,,,0,,,,,"this method will take the raw data from reading the ""{{configtxgen -outputCreateChannelTx}}"" output file, extract the Config object so that the app can then call Client.signChannelConfig() to add signature, and then Client.createChannel()",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrzj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
It would be beneficial to have a helper method to get the MSPid of the client organisation,FABN-471,22463,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:27 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/Oct/17 8:25 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"Getting the MSPid directly may be a common requirement for clients. Worth considering a direct helper method on the client object.

 {code}
    static getMspId(client) {
        let orgConfig = HLFConnection.getOrgConfig(client);
        if (orgConfig) {
            return orgConfig.getMspid();
        }
        return null;
    }
{code}
The getOrgConfig get's the organisation from the ClientConfig definition as shown in https://jira.hyperledger.org/browse/FAB-6652",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/17 8:26 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14659/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Peer constructor url description is incomplete ,FABN-472,12534,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jjjjibm,jjjjibm,23/Aug/16 8:33 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,29/Aug/16 11:08 PM,,,,,,,,,,,1,node-SDK,,,,"
Description

The constructor description for the peer object has a couple problems:
 1.config --> did you mean 'configuration'?
 2.Parameter 'url' is described as 'the url of'. The url of what? Not very helpful!

Here is an excerpt from the generated documentation

_constructor
 new Peer(url: string, chain: Chain, pem: string): Peer

Defined in src/hfc.ts:2042

Constructor for a peer given the endpoint config for the peer.

Parameters

:black_medium_small_square:url: string

The URL of_

Describe How to Reproduce

1,From fabric directory, run make node-sdk-unit-tests
 2.In a web browser, navigate to file:///C:/go/src/github.com/hyperledger/fabric/sdk/node/doc/classes/src_hfc.peer.html which describes class peer.
 3.Scroll down to Constructor then inspect new Peer(...
",Win7 vagrant hfc 0.0.2,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbif:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/16 11:08 PM;cdaughtr;Patch set merged: https://gerrit.hyperledger.org/r/715;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric client requires fabric-ca-client but doesn't include it in package.json,FABN-473,31526,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,caroline-church,caroline-church,02/Jul/18 5:33 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Jul/18 9:27 AM,,,,,,,,,,,0,,,,,The Fabric client requires fabric-ca-client however it does not include it in package.json,,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgtz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
change coverage to work with node 8 instead of 6,FABN-474,21373,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix@gmail.com,jimthematrix@gmail.com,jimthematrix@gmail.com,07/Oct/17 2:51 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,07/Oct/17 6:05 PM,v1.1.0,,,,,,v1.1.0,,,,0,,,,,"npm 5 uses sym links for local dependencies (those that have a file:// path instead of a package name in the package.json dependency entry), as a result istanbul needs to instrument different set of files (those in the source folder instead of under ""node_modules"") in order to properly report coverage",,jimthematrix@gmail.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyipr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix@gmail.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Oct/17 6:04 PM;mastersingh24;I think this will only be for v1.1?  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer container is exiting after executing docker-compose,FABN-475,13368,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,rameshthoomu,rameshthoomu,09/Nov/16 3:09 AM,06/Dec/18 11:36 PM,28/Oct/23 3:25 AM,09/Feb/17 12:10 AM,,,,,,,,,,,1,node-SDK,,,,"Followed the instructions mentioned in fabric/sdk-node README document, observed peer container is exiting after executing docker-compose.yml file.

Branch: fabric/master
 Commit# 216ae65 (gossip discovery tests improvements)

Working as expected on this commit # 0edd927

Log file:

17:28:04.235 [nodeCmd] serve -> CRIT 0bc Failed creating new peer with handler Security helper not provided
 vagrant@ubuntu-1404:~$ docker ps
 CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
 cd586fad9d51 hyperledger/fabric-membersrvc ""membersrvc"" 36 seconds ago Up 36 seconds 0.0.0.0:7054->7054/tcp fabric_membersrvc_1
 a1bf25c275de hyperledger/fabric-orderer ""orderer"" 37 seconds ago Up 36 seconds 0.0.0.0:5151->5005/tcp fabric_orderer_1
 vagrant@ubuntu-1404:~$ docker ps -a
 CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES
 d635b29e76fb hyperledger/fabric-peer ""sh -c 'sleep 10; pee"" 39 seconds ago Exited (1) 27 seconds ago fabric_vp0_1
 cd586fad9d51 hyperledger/fabric-membersrvc ""membersrvc"" 39 seconds ago Up 38 seconds 0.0.0.0:7054->7054/tcp fabric_membersrvc_1
 a1bf25c275de hyperledger/fabric-orderer ""orderer"" 40 seconds ago Up 38 seconds 0.0.0.0:5151->5005/tcp fabric_orderer_1∑∑",,jimthematrix,rameshthoomu,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxecn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,rameshthoomu,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/16 8:21 AM;vdods;Is there any word on this?;;;","09/Feb/17 12:11 AM;jimthematrix;[~rameshthoomu] [~vdods] if you still can reproduce this please re-open;;;","09/Feb/17 1:08 AM;rameshthoomu;Issue is fixed and not seeing this on latest commits.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix fabric-sdk-node lint errors in fabric-ca,FABN-476,27783,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,rameshthoomu,rameshthoomu,16/Feb/18 4:13 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,23/Mar/18 4:56 PM,,,,,,,v1.2.0,,,,0,fabric-ca,,,,"observed below lint errors when running `make` on fabric-ca root directory
{code:java}
YOU MUST FIX THE FOLLOWING LINT PROBLEMS:
fabric-sdk-node/test/fixtures/src/github.com/events_cc/events_cc.go:43:1: exported method EventSender.Invoke should have comment or be unexported
fabric-sdk-node/test/fixtures/src/github.com/events_cc/events_cc.go:74:2: don't use underscores in Go names; var num_events should be numEvents
fabric-sdk-node/test/fixtures/src/github.com/events_cc/events_cc.go:111:2: don't use underscores in Go names; var num_events should be numEvents
fabric-sdk-node/test/fixtures/src/github.com/example_cc/example_cc.go:34:1: exported method SimpleChaincode.Init should have comment or be unexported
fabric-sdk-node/test/fixtures/src/github.com/example_cc/example_cc.go:73:1: comment on exported method SimpleChaincode.Invoke should be of the form ""Invoke ...""
fabric-sdk-node/test/fixtures/src/github.com/example_cc1/example_cc1.go:34:1: exported method SimpleChaincode.Init should have comment or be unexported
fabric-sdk-node/test/fixtures/src/github.com/example_cc1/example_cc1.go:42:1: comment on exported method SimpleChaincode.Invoke should be of the form ""Invoke ...""
fabric-sdk-node/test/fixtures/src/github.com/example_cc2/example_cc2.go:34:1: comment on exported method SimpleChaincode.Init should be of the form ""Init ...""
fabric-sdk-node/test/fixtures/src/github.com/example_cc2/example_cc2.go:61:1: comment on exported method SimpleChaincode.Invoke should be of the form ""Invoke ...""
END LINT PROBLEMS{code}",,aambati,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyxr3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,aambati,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/18 6:37 AM;aambati;[~rameshthoomu] why is this assigned to fabric-ca..did u mean to assign it to node sdk?;;;","09/Mar/18 6:53 AM;rameshthoomu;[~harrisob@us.ibm.com] ^^;;;","21/Mar/18 5:25 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/19505/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ESLint check not throw error for some problems,FABN-477,27523,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,08/Feb/18 11:41 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Feb/18 12:17 AM,,,,,,,v1.1.0,,,,0,,,,,"our eslint config have fix=true, this caused some error not recognized.

need to remove --fix from eslint config and fix the lint problem",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzywjr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Feb/18 11:47 AM;zhaochy;https://gerrit.hyperledger.org/r/17655;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot use fabric-client from npm without winston,FABN-478,14537,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,sstone1,sstone1,04/Feb/17 8:32 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,07/Feb/17 3:56 AM,,,,,,,,,,,0,,,,,"If I install the {{fabric-client}} module from npm and try to require it, it fails because {{winston}} is not available. Winston is listed in devDependencies and so won't get installed by default.

Reproduce:
{{npm install fabric-client && node -r fabric-client}}

I see that the sample code for the Hackfest installs {{winston}} as a dependency alongside {{fabric-client}}. If Winston is meant to be optional then the {{require}} needs to be moved.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjzj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node SDK tests leave behind some binaries in example dirs,FABN-479,12597,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,angrbrd,hgabre,ChristopherFerris,02/Sep/16 2:35 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Sep/16 7:29 AM,,,,,,,,,,,0,build-system,node-SDK,,,"node SDK tests leave behind some binaries in example dirs

see comment in https://gerrit.hyperledger.org/r/#/c/673/8/Makefile",,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbrj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Sep/16 7:29 AM;angrbrd;This issue is a duplicate of FAB-287. Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] chain.deployWaitTime() -- any value works ,FABN-480,12425,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jjjjibm,jjjjibm,17/Aug/16 6:19 AM,27/Sep/18 7:36 AM,28/Oct/23 3:25 AM,06/Sep/16 10:32 PM,,,,,,,,,,,0,Fabric05,node-SDK,,," called chain.setDeployWaitTime() to set the wait time to various values: 0, 6000, -1. The sdk accepted
these values. A value of 6000 (seconds) is acceptable I suppose but the meanings of 0 and -1
are not described in the documentation.

I then called chain.setDeployWaitTime(""as long as it takes"") in the test case
...sdk/node/test/unit/chain-test.js ""Deploy a chaincode by enrolled user"".

""as long as it takes"" is not a number as required in the documentation:
setDeployWaitTime(secs: number): void

and yet the call succeeded. Not only did the call succeed, the value did not impact
the deploy:
# Deploy a chaincode by enrolled user
setting bogus wait time prior to deploy
deploy results: {""uuid"":""mycc1"",""chaincodeID"":""mycc1"",""result"":""TODO: get actual results; waited as long as it takes seconds and assumed deploy was successful""}

Here it is again using -1 as the value:

# Deploy a chaincode by enrolled user
setting bogus wait time prior to deploy
deploy results: {""uuid"":""mycc1"",""chaincodeID"":""mycc1"",""result"":""T ODO: get actual results; waited -1 seconds and assumed deploy was successful""}
Describe How to Reproduce

In vagrant,
1.Edit fabric/sdk/node/test/unit/chain-tests.js
2.Add this call before a valid deploy: chain.setDeployWaitTime(""as long as it takes"")
3.Run 'make node-sdk-unit-tests'. ","Win 7,  hfc 0.0.2",cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/16 4:50 AM;cdaughtr;Without validation of the number of seconds entered, the code works as described in the Node.js doc:
https://nodejs.org/api/timers.html#timers_settimeout_callback_delay_arg
When delay is larger than 2147483647(ms) or less than 1, the delay will be set to 1.

I could not find any functions that validated input, except those with error callbacks.  So my assumption is that as long as an unexpected exception does not occur with any kind of input and the setTimeout function actually works, this function is working as designed.

Will check to see if we should add to the doc to indicate the Node.js defaults that are used when a value is entered outside of it's lower and upper limits.

;;;","01/Sep/16 5:51 AM;jimthematrix;i agree to follow the node.js setTime() design and solve this by adding documentation to make it clear how different kinds of input values will be handled.;;;","06/Sep/16 10:33 PM;cdaughtr;merged: https://gerrit.hyperledger.org/r/#/c/861/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client app timeout when the gRPC session is closed by network equipment (LB and/or Firewall),FABN-481,15359,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,ibmamnt,ibmamnt,15/Mar/17 1:09 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/Feb/18 3:20 AM,v1.0.0,v1.0.5,,,,,v1.1.0,,,,3,node-SDK,Usability,,,"Summary:
Client app using node SDK hangs when gRPC session is closed, hence it won't return expected result.

Details:
 Here is a setup:
 [App on Cloud (e.g. Bluemix) ->  [ Firewall ] -> [ Hyperledger VM ]

gRPC session becomes IDLE when 300 seconds has passed according to gRPC spec.
 https://github.com/grpc/grpc/blob/master/doc/connectivity-semantics-and-api.md

And it is very common to close IDLE session by network equipment so that tcp connection can be reused by another process. For example, AWS LB killed idle connection within 60 sec. LB does not  kill connection when ""keep alive"" is set. gRPC does not have that option. As a result, gRPC call  wait for reply from the closed connection. Typical sympton is as follows (when GRPC_VERBOSITY=DEBUG; GRPC_TRACE=all; DEBUG=hfc is set).

----
D0314 15:55:52.345432506   14837 tcp_posix.c:405]            WRITE 0x7f9470000cb0 (peer=ipv4:X.X.X.X:17054): 00 00 09 01 04 00 00 00 03 c6 c5 c4 c3 c2 c1 '...............'
D0314 15:55:52.345438187   14837 tcp_posix.c:405]            WRITE 0x7f9470000cb0 (peer=ipv4:X.X.X.X:17054): c0 bf be 00 00 04 08 00 00 00 00 03 00 00 ff '...............'
D0314 15:55:52.345443035   14837 tcp_posix.c:405]            WRITE 0x7f9470000cb0 (peer=ipv4:X.X.X.X:17054): ff 00 00 bf 00 01 00 00 00 03 00 00 00 00 ba '...............'
D0314 15:55:52.345455006   14837 tcp_posix.c:405]            WRITE 0x7f9470000cb0 (peer=ipv4:X.X.X.X:17054): 0a 06 08 f8 a7 9e c6 05 12 0d 0a 0b 57 65 62 41 70 70 41 64 6d 69 6e 18 01 2a 9e 01 12 4d 39 32 36 36 34 39 39 34 34 30 34 36 31 35 30 38 36 32 39 39 39 39 31 34 34 37 37 35 30 35 37 31 31 30 31 33 34 36 34 39 30 39 38 32 35 31 31 37 33 36 37 38 38 32 34 33 34 34 30 38 36 33 37 37 32 34 32 39 30 32 30 38 34 34 33 37 32 1a 4d 36 33 33 35 31 33 31 30 31 30 38 39 34 30 33 35 30 35 36 39 33 39 35 39 35 32 31 32 34 36 37 38 33 38 37 32 34 32 33 35 31 31 35 31 33 32 31 38 31 38 37 38 33 35 30 37 37 31 31 30 32 35 33 33 30 35 38 38 33 35 38 32 30 38 30 31 32 '............WebAppAdmin..*...M92664994404615086299991447750571101346490982511736788243440863772429020844372.M63351310108940350569395952124678387242351151321818783507711025330588358208012'
D0314 15:55:52.345492342   14837 chttp2_transport.c:675]     W:0x7f9470000e50 WRITING -> INACTIVE because terminate_writing
----

The app wait for reply from the channel. 

The attaches file ""session alive.txt"" is when the application runs on the same machine (VM). In this case, session is not closed. Hence peer process replies even after IDLE session. ""session down case.txt"" is when the session is closed by network equipment.

The return value of gRPC is code: 14 (Unavailable). gRPC specification states that it should re-try by fallback.

How-to-reproduce the problem
------------
  - setup Hyperledger in Cloud (e.g. Softlayer).
  - setup app in another Cloud (e.g. Bluemix CF runtime).

The app should look like this. Invoke chaincode, and then wait for 6 minutes, and then run query.

    invoke(webappadmin);
    admin = webappadmin;

    setInterval(loopQuery, 6*60*1000);

});

function loopQuery() {
  console.log(""looping query"");
  query(admin);
}


Suggested fix.
 SDK should check if the session is alive, if it is not unavailable it should re-try (or re-open) the connection. 

Potentially, this problem happen even in Hyperledger fabric v1.0. ",,AdnanChoudhury,DennisM330,denyeart,DrVadson,harrisob@us.ibm.com,ibmamnt,jimthematrix@gmail.com,JonathanLevi,MasaruHayakawa,mastersingh24,rickr,sachikoy,smartheye,xixuejia,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-4241,,,,,,,,,,,"28/Jun/17 4:09 PM;ibmamnt;nodejs-app-log.txt;https://jira.hyperledger.org/secure/attachment/11388/nodejs-app-log.txt","15/Mar/17 1:06 PM;ibmamnt;session alive case.txt;https://jira.hyperledger.org/secure/attachment/10583/session+alive+case.txt","15/Mar/17 1:06 PM;ibmamnt;session down case.txt;https://jira.hyperledger.org/secure/attachment/10584/session+down+case.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3a7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,DennisM330,denyeart,DrVadson,harrisob@us.ibm.com,ibmamnt,jimthematrix@gmail.com,JonathanLevi,MasaruHayakawa,mastersingh24,rickr,sachikoy,smartheye,xixuejia,yoheiueda,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/17 1:57 PM;jimthematrix;[~harrisob@us.ibm.com] this bug has information on reproducing the grpc errors caused by network devices terminating the session;;;","24/May/17 11:55 PM;jimthematrix;Assigning this one to [~harrisob@us.ibm.com] to investigate the impact of this network device behavior on the event stream b/w the app and peers;;;","31/May/17 7:07 AM;rickr;Java spec says  grpc will never go to idle mode once it has left that state
 [http://www.grpc.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#idleTimeout-long-java.util.concurrent.TimeUnit-]

 ;;;","06/Jun/17 12:02 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/10095/

using keepalive settings from grpc 1.2.4 and 1.3.7 to keep the channel chatty enough so as to avoid the network devices cutting the wire in the middle.

[~ibmamnt] we are trying to set up an environment in softlayer to validate the fix. in the meanwhile if you can help verify the fix that'd be great.;;;","28/Jun/17 4:12 PM;ibmamnt;[~jimthematrix] Sorry about the long delay, I was able to test the case. Unfortunately, the result was negative. I still get timeout. First of all, should I set CORE_CHAINCODE_KEEPALIVE ?  I just read this issue, and it seems there is still a problem.

 gRPC timeout b/w committer and orderer and SDK event listeners
 https://jira.hyperledger.org/browse/FAB-3310

Here is my test environment.



 Fabric : v1.0.0 beta (sorry this is team requested configuration for now)
 SDK: v1.0.0-rc1 ( note about the version in-consistency )



I used ""balance-transfer"" sample. I modified app/network_config.json , config.json and testAPIs.sh to point to VM which runs on Softlayer.  The application run locally (i.e. on my machine inside IBM intranet).  I also modified testAPIs.sh to sleep 320 ( 5minutes + 20 seconds) such that it invokes transaction (invoke/query) after the sleep.


Here is a output from testAPIs.sh

----

POST invoke chaincode on peers of Org1 and Org2
Transacton ID is 8580bfd63109b938f1713bd3da3688a7d0bf664bfd76fa8105d6350a088e827e 

GET query chaincode on peer1 of Org1
 a now has 80 after the move

 

Sleep 320 seconds 5minutes + 20 seconds
POST invoke chaincode on peers of Org1 and Org2

 

Transacton ID is Failed to order the transaction. Error code: undefined
GET query chaincode on peer1 of Org1

 a now has Error: REQUEST_TIMEOUT after the move

-- 

Snippet of log output is attached as ""nodejs-app-log.txt"". ;;;","28/Jun/17 4:33 PM;ibmamnt;I confirmed that setting ""CORE_CHAINCODE_KEEPALIVE=10"" did not resolve the problem. ;;;","03/Sep/17 3:47 AM;MasaruHayakawa;if GRPC option was used, I also confirmed the behaviors of ""keepalive"" using the following environment.

<Environment>
 * HFC: 1.0.0
 * Hyperledger facric: 1.0
 * Node.js for HFC: 6.10.0

<How to specify the ""keepalive"" setting>

    I specified GRPC options to ""opts"" parameter for the following methods in the HFC codes.
 * client.newOrderer(url, opts)
 * client.newPeer(url, opts)
 * eventhub.setPeerAddr(url, opts)

<Test result>
|GRPC option|Behaviors if the connection is dropped on a network component|
|No options|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time:  an int value
 grpc.http2.keepalive_timeout:  an int value|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 0|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 1|HFC executed ""ping"" 3 times and detected the closed connection. However, if HFC executed a transaction after 3 times ""ping"",  grpc error (Endopoint read failed) occurred. |
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 1
 grpc.http2.max_pings_without_data: an int value|HFC executed ""ping"" 3 times and detected the closed connection. However, even though the connection is normal (not dropped) ,  HFC closed the connection after 4 times ""ping"" regardless of the value of grpc.http2.max_pings_without_data.|

 

I could not understand why the behaviors became these results. II would like to know what causes these behaviors.

 

 ;;;","26/Sep/17 9:27 PM;jimthematrix@gmail.com;[~harrisob@us.ibm.com] can you take a look at the test results above from [~MasaruHayakawa]?;;;","28/Sep/17 9:17 PM;MasaruHayakawa;I confirmed the behavior using the other versions.

<Environment #1 (previous test)>
 * HFC: 1.0.0
 * Hyperledger facric: 1.0
 * Node.js for HFC: 6.10.0
 * GRPC: 1.24

<Environment #2)>
 * HFC: 1.0.2
 * Hyperledger facric: 1.01
 * Node.js for HFC: 6.10.0
 * GRPC: 1.6

<Test result>
|GRPC option|Behaviors if the connection is dropped on a network component|　|
|　|Environment #1 (previous test)|Environment #2|
|No options|HFC could not detect the closed connection and could not receive any responses.|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time:  an int value
 grpc.http2.keepalive_timeout:  an int value|HFC could not detect the closed connection and could not receive any responses.|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 0|HFC could not detect the closed connection and could not receive any responses.|HFC could not detect the closed connection and could not receive any responses.|
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 1|HFC executed ""ping"" 3 times and detected the closed connection. However, if HFC executed a transaction after 3 times ""ping"",  grpc error (Endopoint read failed) occurred. |HFC executed ""ping"" 3 times and detected the closed connection. However, even though the connection is normal (not dropped) ,  HFC closed the connection after 4 times ""ping"".|
|grpc.http2.keepalive_time: an int value
 grpc.http2.keepalive_timeout: an int value
 grpc.http2.keepalive_permit_without_calls: 1
 grpc.http2.max_pings_without_data: an int value|HFC executed ""ping"" 3 times and detected the closed connection. However, even though the connection is normal (not dropped) ,  HFC closed the connection after 4 times ""ping"" regardless of the value of grpc.http2.max_pings_without_data.|HFC executed ""ping"" 3 times and detected the closed connection. However, even though the connection is normal (not dropped) ,  HFC closed the connection after 4 times ""ping"" regardless of the value of grpc.http2.max_pings_without_data.|
|grpc.max_connection_idle_ms: int value
 grpc.max_connection_age_ms: int value
 grpc.max_connection_age_grace_ms: int value|These option can not be used at the version 1.24 of GRPC|The behavior was not changed.|
 
These options did not work as our expected behaviors as well.

 ;;;","03/Oct/17 1:50 AM;harrisob@us.ibm.com;In using:

```

Node: 8.4.0

grpc: 1.6.0

fabric-client: 1.1.0-snapshot

```

 

When the `grpc.keepalive_time_ms` is anything less than 6 minutes, there will be an error after 4 pings, 
GOAWAY with error code ENHANCE_YOUR_CALM and debug data equal to ""too_many_pings"".

Other settings do not seem to change the results during my testing.

If there is an error callback registered, then the application will see this and other errors. An interval time of 6 minutes or above will continue to ping.;;;","21/Oct/17 4:22 AM;denyeart;[~harrisob@us.ibm.com] Can you clarify your last comment?  Are you saying the the problem is not reproducible? Is there a change to investigate or are you saying you think it is ok as-is?;;;","25/Oct/17 6:53 AM;harrisob@us.ibm.com;[~denyeart] In a single box test environment (my laptop running both the client and docker compose) I was not able to maintain polling between the client and the peer unless the keep alive value was around 6 minutes. I do not have an environment with a network box that will quietly break the connection.

[~ibmamnt] are you still having an issue ?;;;","25/Oct/17 9:51 AM;ibmamnt;[~harrisob@us.ibm.com]  I no longer have the reproducible environment.  Our project has removed hardware firewall for now. We can not attach again since the project actually finished.  If someone inside IBM can order VM in Softlayer, and add me to the account space, I'll be able to re-create the reproducible environment (or test to see if latest code surely fixed the problem).  ;;;","26/Oct/17 12:00 AM;harrisob@us.ibm.com;We may wish to have this as part of some broader test bucket.;;;","06/Nov/17 5:32 AM;mastersingh24;[~harrisob@us.ibm.com]  - regarding https://jira.hyperledger.org/browse/FAB-2787?focusedCommentId=31527&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-31527 , I just ran this with grpc@1.7.1 with *grpc.keepalive_time_ms=60000 (1 min)* and did not have any issues (as I post this it's been running for over 10 min)

Now if I set *grpc.keepalive_time_ms=10000* , then I get the GOAWAY after 4 pings.  This makes sense since the client policy for the gRPC server in the peer is 1 min.

In my test, I never really sent any data over the event hub connection so I also have to set *grpc.http2.min_time_between_pings_ms : 0*;;;","06/Nov/17 7:39 PM;mastersingh24;[~harrisob@us.ibm.com] [~jimthematrix@gmail.com]

I'd suggest we do the following:

1) update to grpc@1.7.1

2) add setting *grpc.http2.min_time_between_pings_ms* in the code and docs;;;","27/Nov/17 10:21 AM;denyeart;[~harrisob@us.ibm.com] [~bmos299] Barry, what is the plan for this one? Do you agree with Gari's recommendation? If so should we go ahead and re-assign back to fabric-sdk node so that the update can be made?;;;","09/Jan/18 1:48 AM;JonathanLevi;What's the latest here, please?;;;","20/Jan/18 7:22 AM;Clayton Sims;[~harrisob@us.ibm.com] [~bmos299]  whats the latest ?;;;","18/Feb/18 11:36 PM;denyeart;[~harrisob@us.ibm.com] Do you agree to proceed with Gari's suggestion for 1.1?;;;","21/Feb/18 4:04 AM;harrisob@us.ibm.com;grpc will load 1.9.1 (latest)

[https://gerrit.hyperledger.org/r/#/c/18095/  
|https://gerrit.hyperledger.org/r/#/c/18095/]

adds the min ping time;;;","23/Feb/18 4:40 AM;harrisob@us.ibm.com;fixed the options issue

https://gerrit.hyperledger.org/r/#/c/18219/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Peer missing isInRole() and setRole(),FABN-482,31452,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,29/Jun/18 1:22 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,30/Jun/18 3:40 AM,,,,,,,v1.2.0,,,,0,must-fix,,,,"Peer is missing method

getRole()

isInRole()",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-392,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jun/18 3:41 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23853/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] end-to-end.js events.js:160  throw er; // Unhandled 'error' event",FABN-483,14635,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,jjjjibm,jjjjibm,09/Feb/17 3:01 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Feb/17 2:12 AM,,,,,,,v1.0.0,,,,0,,,,,"fabric-sdk-node: commit 5e43972eb9acf34be55848826a152ad8b07c2e2a

Executing node end-to-end.js 
or 
Gulp lint then gulp test, 

the code abends with an unhandled event: 

node/test/unit$ node end-to-end.js
info: Returning a new winston logger with default configurations
[2017-02-08 12:48:46.711] [DEBUG] E2E - [crypto_ecdsa_aes]: Hash algorithm: SHA2, hash output size: 256
info: [Chain.js]: Constructed Chain instance: name - testChain-e2e, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [Peer.js]: Peer.const - url: grpc://localhost:7051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:7056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
[2017-02-08 12:48:46.807] [INFO] E2E - Found steps:  useSteps: false
TAP version 13
# End-to-end flow of chaincode deploy, transaction invocation, and query
[2017-02-08 12:48:46.817] [DEBUG] E2E - [FileKeyValueStore.js]: FileKeyValueStore.js - constructor
[2017-02-08 12:48:46.821] [DEBUG] E2E - [FileKeyValueStore.js]: FileKeyValueStore -- getValue
[2017-02-08 12:48:46.831] [INFO] E2E - Executing step1
events.js:160
      throw er; // Unhandled 'error' event
      ^

*Error: Connect Failed
    at ClientDuplexStream._emitStatusIfDone *(/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:201:19)
    at ClientDuplexStream._readsDone (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:169:8)
    at readCallback (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:229:12)
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node/test/unit$ git 

End to end is up to date 
diff master: end-to-end.js
ibmadmin@jcwNodeSDK:~/work/src/github.com/hyperledger/fabric-sdk-node/test/unit$ 

I also cloned fabric and fabric-ca this morning.  I ran 'make clean' before building fabric and fabric-ca.  See Environment. 

","vlaunch VM running Ubuntu
fabric-node-sdk:  commit 5e43972eb9acf34be55848826a152ad8b07c2e2a
fabric: commit f7c19f88e824cbaea3c55bc218b3bbed37cc29ad
fabric-ca: commit 1ec55b2b49e9dfbfc2e28dccec0ced659ce1f246",bmos299,jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxken:",,,,,,,,,,,,,,,,,,,,,,,,,,,,bmos299,jjjjibm,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 4:33 AM;rameshthoomu;[~jjjjibm]: please make sure docker network is ready before run end-to-end.js, also remove keyval store;;;","12/Feb/17 3:02 AM;bmos299;Hi Janet, does this issue still exist?  There have been others.  Also, when opening, can we work with the node-sdk to make sure someone is assigned the bug.  Thanks.
;;;","12/Feb/17 5:43 AM;jjjjibm;Barry,
I was having this issue all morning yesterday.  I kept 'git pull' ing fabric because updates were contually merged.  Enentually it stopped happening, and I was able to work. 

I'm pretty sure I was removing the keyval store, because I use a shell script to clean up, and another one to start everything in correct sequence.  It's possible startup/takedown sequence has changed since I wrote the scripts and they need updating.  I have to say, though, the scripts seem to work most of the time. ;;;","17/Feb/17 2:12 AM;jjjjibm;I am not currently seeing this failure.  I will close this issue and re-open or open a new one if it occurs again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] headless-tests.js Possible EventEmitter memory leak detected ,FABN-484,13363,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,jjjjibm,jjjjibm,09/Nov/16 1:08 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,05/Dec/16 3:00 PM,,,,,,,,,,,0,node-SDK,,,,"I cloned fabric-sdk-node, master, v1.0, today and ran the headless tests as directed in README.md.   The headless tests ran successfully, but I noticed warnings generated by test case 57. 

Here is some context for you:
<lines of output omitted> 
ok 56 Member constructor get set tests 1: new Member cfg getAffiliation was successful
ok 57 Member constructor get set tests 2: getChain new Member cfg getName was successful
#

 ** Member sendDeploymentProposal() tests
error: [Member.js]: Invalid input parameter to ""sendDeploymentProposal"": must have ""target"" object
error: [Member.js]: Invalid input parameter to ""sendDeploymentProposal"": must have ""chaincodePath""
*(node:27391) Warning: Possible EventEmitter memory leak detected. 11 **unhandledRejection listeners added. Use emitter.setMaxListeners() to increase limit
*ok 58 Successfully caught missing peer error
ok 59 Successfully caught missing chaincodePath error
#
.....

How to recreate:
1.git clone http://gerrit.hyperledger.org/r/fabric-sdk-node
2.npm install 
3.gulp doc
4.npm test 

Inspect the output for warning messages.",vLaunch vm running Ubuntu 'Trusty'.  Clone fabric 1.0 and fabric-node-sdk from master. ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxebz:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
error: [Peer.js]: GRPC client failed to get a proper response from the peer.,FABN-485,15670,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Souvik.Dey,Souvik.Dey,11/Apr/17 6:46 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,15/Apr/17 10:42 PM,v1.0.0,v1.0.0-alpha1,,,,,,,,,0,,,,,"Hi,


1> I have created followning the stapes from http://hyperledger-fabric.readthedocs.io/en/latest/asset_setup.html.
2> I try to run the deploy.js using GOPATH=$PWD node deploy.js cmd
and deployment failed ..
error is: 
error: [Peer.js]: GRPC client failed to get a proper response from the peer.
error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: GRPC client failed to get a proper response from the peer.

Please help providing solution 


  


",,mastersingh24,Souvik.Dey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpon:",,,,,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,Souvik.Dey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Apr/17 10:40 PM;mastersingh24;The problem is that unfortunately asset sample and setup docs are outdated as they were created for the v1.0.0-preview (aka sfhackfest) images and not update to work with v1.0.0-alpha and later.

I'm going to close this for now as I've removed the docs in question with https://gerrit.hyperledger.org/r/#/c/8063/

;;;","15/Apr/17 10:42 PM;mastersingh24;We do need to work out the ""officially"" supported samples / examples we will take forward as part of every release;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] class EventHub documentation needs to clarify which methods are meant to be consumed by nodejs client,FABN-486,13013,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,pmullaney,jjjjibm,jjjjibm,14/Oct/16 3:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Feb/17 12:19 AM,,,,,,,,,,,0,Documentation,node-SDK,,,"I compared the unit-test coverage in event-tests.js to the EventHub methods,  as listed in the generated documentation.  Certain calls are not covered: connect(), disconnect(), isConnected(), setPeerAddr(), [un]registerTxEvent(), 

Upon study and discussion, it so happens certain methods such as [un]registerTxEventt() are not meant to be used by the nodejs client.   They support other event hub calls. 

None of this is mentioned in the generated documentation.   

(1) Could we have information  for certain methods in the generated documentation?  Here are some ideas to get started: 
-  Restriction:  Nodejs clients do not invoke this method directly.  The SDK invokes it as needed. 
-  Tip:  A nodejs client does not invoke this function directly.  It is used internally by the nodejs SDK. 
-  Tip:  Most Nodejs clients can use EventHub{Connect|Disconnect] instead of this method.  The advantage of calling EventHub{Connect|Disconnect] is <provide advantage>
-  Tip:  Most nodejs clients can ignore this function.  It is only needed when <provide reason>

","Vlaunch VM running Ubuntu 'Trusty'. 

How to recreate:
1.cd $FABRIC/sdk/node
2.make doc to create a subdirectory called doc with html in it
3.use browser to open globals.html.  
4.Click on src/hfc on the right side of the browser window
5.Inspect classes such as member, chain, and eventHub to compare.",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd1j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add missing CCBY license to all .md and .rst files,FABN-487,17385,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/Jun/17 7:51 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,02/Jun/17 10:04 AM,v1.0.0-alpha2,,,,,,v1.0.0-beta,,,,0,Quality,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,FAB-4212,FAB-4379,,,,,FABC-561,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/17 8:08 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10043/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - fabric message change breaks tests,FABN-488,25719,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,14/Dec/17 3:50 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Jan/18 8:06 AM,,,,,,,v1.1.1,,,,0,node-SDK,,,,"Message had ""cannot get package for the chaincode""

now has ""no such file or directory""",,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyqv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jan/18 10:07 PM;mastersingh24;[~harrisob@us.ibm.com] Can you please update the description with details on the actual issue?;;;","09/Jan/18 8:05 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/16185/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Could not parse enrollment response,FABN-489,19518,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,Yogendrasri,Yogendrasri,27/Jul/17 1:57 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Nov/17 6:14 AM,,,,,,,,,,,0,node-SDK,,,,"Caught Error Error: Could not parse enrollment response [404 page not found
 ] as JSON due to error [SyntaxError: Unexpected token p in JSON at position 4]
     at IncomingMessage.<anonymous> (/Users/yogendra/blockchain-first-example/fabric-samples/
 fabcar/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:704:14)
     at emitNone (events.js:91:20)
     at IncomingMessage.emit (events.js:185:7)

I am facing this error with ""fabric-ca-client"": "">=1.0.0-rc1 <1.0.0-rc1.10"", ""fabric-client"": "">=1.0.0-rc1 <1.0.0-rc1.10"".

with v1.0.0-alpha it is working fine.

Thanks,

Yogendra

 ",,harrisob@us.ibm.com,mastersingh24,Yogendrasri,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9uf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,Yogendrasri,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/17 5:06 PM;mastersingh24;[~Yogendrasri]

Is it possible that you don't have the latest fabric-ca Docker image?

Are you just running the sample or doing something else?;;;","07/Aug/17 5:25 PM;Yogendrasri;Thank you for your response!!

I was testing it on HSBN which is deployed on IBM cloud. I identified that fabric version on HSBN is different than Fabric client I was running in my local.

 

 

 ;;;","01/Nov/17 7:28 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to look at this one. Start with this one and if you feel comfortable working with the Fabric-ca-client there are few new features that are needed to be added to the client.;;;","01/Nov/17 11:15 AM;zhaochy;I tried the latest _fabric-samples/fabcar_, but can't replay this error.

[~Yogendrasri]

Can you provide more details on how you get this error? Are your just running the ""startFabric.sh"" ?;;;","10/Nov/17 6:15 AM;harrisob@us.ibm.com;Marking this done. If you feel this is still a problem please reopen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk e2e tests failed to enroll user admin in s390x build nodes,FABN-490,16538,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,rameshthoomu,rameshthoomu,rameshthoomu,10/May/17 10:00 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,11/May/17 11:34 AM,,,,,,,v1.0.0,,,,0,node-SDK,quality,,,"observed sdk e2e tests (latest sdk-node merge job failed) are failing consistently in s390x build nodes.. below is the error log observed from jenkins build output

 
{code:java}
FABRIC#  - 0fe5cb2
FABRIC CA# 92aec7f
FABRIC SDK NODE# b9da073{code}
 
*00:09:07.663* e{color:#cd0000}rror{color}: [Client.js]: Failed to load user ""admin"" from local key value store. Error: Error: Private key missing from key store. Can not establish the signing identity for user admin*00:09:07.663*     at _mspImpl.cryptoSuite.importKey.then.then.privateKey (/w/workspace/e2e_FIT_s390x/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/User.js:9:8805)*00:09:07.664* {color:#cd0000}error{color}: [Client.js]: Failed to load an instance of requested user ""admin"" from the state store on this Client instance. Error: Error: Private key missing from key store. Can not establish the signing identity for user admin*00:09:07.664*     at _mspImpl.cryptoSuite.importKey.then.then.privateKey (/w/workspace/e2e_FIT_s390x/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/lib/User.js:9:8805)*00:09:07.664* not ok 54 Failed to enroll user 'admin'. Error: Private key missing from key store. Can not establish the signing identity for user admin
e2e tests are working as expected in x86_64 machines.

Below is the failed build log output:

https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node-merge-s390x/121/consoleFull",Jenkins CI s390x node,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxufr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 11:04 PM;jimthematrix;my guess would be that as of https://gerrit.hyperledger.org/r/#/c/8905/ the tests are using a different Crypto Key Store that the CryptoSuite uses to save private keys. but the s390 environment from my understanding is not cleaning up the state store that saves the user objects. the existing user objects in the state store has the SKI pointing to the private keys in the old key store, but they don't exist in the new private key store.

the fix is to manually delete the state stores in the s390 environment: /tmp/hfc-test-*;;;","11/May/17 11:34 AM;rameshthoomu;Working as expected after remove the crypto key store.. We have cleanup script but it failed to delete in this instance.. I am submitting patch to include this cleanup script or command in CI to delete crypto material before kickoff the build. Closing this now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CreationPolicy and ChainCreationPolicyNames do not exist as orderer configuration protos,FABN-491,28291,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,sudheesh001,sudheesh001,08/Mar/18 6:44 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Mar/18 2:37 PM,,,,,,,v1.1.0,,,,0,node-SDK,,,,"The node SDK block decoder decodes config value and checks for the proto configuration key to be of `CreationPolicy` or `ChainCreationPolicyNames`

 

However, the orderer/configuration.proto does not contain any of the above two structures and seems to be undefined.",,denyeart,harrisob@us.ibm.com,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz09b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Mar/18 8:51 PM;denyeart;[~harrisob@us.ibm.com] Can you take a look?;;;","09/Mar/18 10:06 PM;denyeart;[~harrisob@us.ibm.com] I assume this is must-fix for 1.1?;;;","10/Mar/18 2:18 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/18907/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
jsdocs reference 1.0.0-beta links,FABN-492,19171,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,12/Jul/17 1:54 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Jul/17 4:46 AM,v1.0.0,,,,,,v1.0.1,,,,0,,,,,"for related definitions such as fabric protos, the jsdoc has references pointing to the 1.0.0-beta content. should be updated to 1.0.0 now that the fabric has been tagged with v1.0.0.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7wn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jul/17 10:14 PM;jimthematrix;https://gerrit.hyperledger.org/r/11587;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
npm test breaks on fabric-sdk-node,FABN-493,14997,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,harsha544,harsha544,23/Feb/17 4:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Mar/17 2:11 PM,,,,,,,,,,,0,,,,,"*npm test* is failing because of missing *test/unit/headless-tests.js*
Ref :- https://github.com/hyperledger/fabric-sdk-node/blob/master/package.json#L10 ",,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Feb/17 4:54 AM;harsha544;Error_Log;https://jira.hyperledger.org/secure/attachment/10529/Error_Log",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-to-end.js failed when running in a clean environment,FABN-494,13283,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,04/Nov/16 5:43 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,05/Nov/16 4:26 AM,,,,,,,,,,,0,node-SDK,,,,"reported by Eric Vaughn in slack. this is caused by end-to-end.js using a different key value store but running after ca-tests.js that has already enrolled the same user, causing the code to try to re-enroll the same user with the CA, which gets rejected.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdxz:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.getPeersForOrgOnChannel doesn't return the expected list of peers,FABN-495,26151,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,davidkel,davidkel,19/Dec/17 7:29 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/Jan/18 1:54 AM,v1.1.0-preview,,,,,,v1.1.0,v1.1.0-alpha,,,0,node-SDK,,,,"If you run the following code
{code:java}
const fc = require('fabric-client');

const client = fc.loadFromConfig('./test.json');

console.log('Peers in Org on Channel');
console.log(client.getPeersForOrgOnChannel('mychannel'));
{code}
against an example CCP (attached), then you will see only 1 peer is returned (while there clearly are 2).
 
It looks like the problem is here
 [https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Client.js#L1789]
 where
{code:java}
let org_peer = org_peers[i];
{code}
should be
{code:java}
let org_peer = org_peers[k];
{code}",,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/17 7:25 PM;davidkel;test.json;https://jira.hyperledger.org/secure/attachment/13923/test.json",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyr7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Jan/18 10:06 PM;mastersingh24;https://gerrit.hyperledger.org/r/16617;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update node dependency to official npm release,FABN-496,16319,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,chrisf,chrisf,04/May/17 4:29 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/May/17 2:01 PM,v1.0.0-alpha1,,,,,,v1.0.0-alpha2,,,,1,alpha2,,,,"The fabric-client/fabric-ca-client fetches the node module asn1 from a github link. The package wasn't updated in the past two years so it doesn't makes sense to fetch the ""latest"" release.
This is also creating issues in our central build puipeline that doesn't allow access to GitHub.

Could you release an alpha hotfix?

Change in package.json
-    ""asn1"": ""https://github.com/mcavage/node-asn1"",
+    ""asn1"": ""^0.2.3"",",,chrisf,manuh,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx39r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,chrisf,manuh,sstone1,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/17 5:14 PM;sstone1;Unassigning as I do not work on Fabric (I changed the package.json last to get Composer working).;;;","08/May/17 11:30 AM;jimthematrix;[~chrisf] considering alpha2 is right around the corner, are you OK waiting a few more days for the fix in alpha2?

https://gerrit.hyperledger.org/r/#/c/9075/;;;","08/May/17 4:51 PM;chrisf;Thank you very much [~jimthematrix] !

Alpha2 should be fast enough. Do you know when exactly alpha2 should be released?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/Remote.html,FABN-497,15108,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,01/Mar/17 1:40 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In the generated documentation, in the class Remote:

(1) typo
Is now:
The Remote class represents {color:#205081}a the {color}base class for all remote {color:#d04437}nodes,{color} Peer, {color:#d04437}Orderer , {color}and MemberServicespeer.

Should be: 
The Remote class represents {color:#d04437}the {color}base class for all remote {color:#d04437}nodes:{color} Peer, {color:#d04437}Orderer{color}, and MemberServicespeer.

(2) ambiguity in this description:

opts
Object that may contain options to override the global settings {color:#205081}pem{color} The certificate file, in PEM format, to use with the gRPC protocol (that is, with TransportCredentials).  Required when using the grpcs protocol.

(2a) It's not clear opts is an optional parameter.  The code remote.js is treating it as an optional parameter.
(2b) It's not clear if 'The certificate file ... TransportCredentials).' is an example of an opts object or a new definition of an opts object.  
(2c) the PEM option is described, but the code seems to recognize 'ssl-target-name-override', 'default-authority'.   Shouldn't these be described also? ","abric-sdk-node commit d3fcbe2299c840dfd7886076b009b88eb25a7dd8
fabric commit a0d032bc5c4853b43972163f502a03ee7770c1d5
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Windows style path is not acceptable by peer for chaincode install path,FABN-498,15294,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,dshuffma,dshuffma,10/Mar/17 11:54 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,23/May/17 1:21 AM,,,,,,,v1.0.0,,,,1,node-SDK,,,,"Due to this code in [platform.go|https://github.com/hyperledger/fabric/blob/aac444366cf66fb6dc449c28c0eb9b2c55a1d20b/core/chaincode/platforms/golang/platform.go#L117] it will not accept paths that have back slashes.

Need to change lib/packager/Golang.js in client sdk to format the `desc.name` to *not* use OS dependent pathing. 

Example:
{code}
var desc = {
		name: path.relative(goPath, entry.path).split('\\').join('/'),
		fqp: entry.path
};
{code}",,dshuffma,shanlusun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3bb:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,dshuffma,shanlusun,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"If chaincodePath doesnt exist, installChaincode does not throw error. Results in unhandled promise reject",FABN-499,21317,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,zhaochy,yedendra,yedendra,05/Oct/17 1:49 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/Oct/17 9:30 PM,,,,,,,v1.0.4,,,,0,,,,,"in fabric-client/lib/packager/Golang.js,

while using klaw lib in findSource function, klaw.on('error'.. is missing. So, if the chaincode path does not exist, the error arising due to that is not caught.  It results in unhandled promise rejection.

 

Please add the error handler: 
klaw(filePath)
      ...
      .on('error', (err, item) => \{
 
        reject(err);
      })
      ...
 ",,harrisob@us.ibm.com,yedendra,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyidb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,yedendra,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/17 6:31 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to have a look at this one;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] npm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.15,FABN-500,13582,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,jjjjibm,jjjjibm,02/Dec/16 8:02 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Feb/17 12:09 AM,,,,,,,,,,,0,node-SDK,,,,"npm WARN optional Skipping failed optional dependency /chokidar/fsevents:
npm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.15

The second warning is alarming.  I'm running Windows->virtualbox->vagrant->Ubuntu 

Since I'm using Ubuntu, we shouldn't be seeing these warnings. 


How to recreate:
1.vagrant up 
2.vagrant ssh 
3.cd $GOPATH/src/github.com/hyperledger
4.git clone http://gerrit.hyperledger.org/r/fabric-sdk-node
5.cd fabric-sdk-node 
6.npm install ",Windows ->Virtualbox->vagrant->Ubuntu ,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-748,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfdz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/17 12:09 AM;jimthematrix;[~jjjjibm] unless this causes a problem...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK JSDoc - installChaincode() request should include targets,FABN-501,19395,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,ericmvaughn,ericmvaughn,ericmvaughn,21/Jul/17 5:51 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Jul/17 10:31 PM,v1.0.0,,,,,,v1.0.1,,,,0,node-SDK,,,,Client.js  -- The installChaincode() request (ChaincodeInstallRequest) should include a targets parameter,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-407,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9av:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Jul/17 10:30 PM;ericmvaughn;https://gerrit.hyperledger.org/r/#/c/11919/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - test code is not calling API correcty,FABN-502,17615,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,08/Jun/17 12:12 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Jun/17 11:35 PM,,,,,,,v1.0.0-alpha2,,,,0,,,,,"Test code is calling newTransactionID(the_user) where is should be

newTransactionID().",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port/docs/gen/Chain.html buildTransactionID -- an unique --> a unique AND created --> initialized,FABN-503,15087,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 9:13 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:38 AM,,,,,,,v1.0.0,,,,0,,,,,"The generated documentation for class Chain  has a couple recurring errors: 
How to recreate:
1.Clone fabric-sdk-node
2.Gulp doc to generate doc
3.python -m SimpleHTTPServer & (the & is optional but leaves your terminal usable)
4.Use a browser to navigate to <your ip>:8000/docs/gen/Chain.html

Find these errors on the displayed page: 

(1) 
an unique --> a unique   (pronounced with a consonant sound even though it starts with a vowel letter) 
Occurs here : buildTransactionID(nonce, userContext)
an unique --> a unique 
An unique string --> A unique string  
and here:  getUserContext(nonce)
{color}an unique --> a unique 

(2) 
chain is created --> chain is initialzed with a call to initializeChain()
If you say 'created', it is confusing because you have to create the chain (new chain) before you can call this function, AND you can change this value with set* as many times as you like before chain.initializeChain() is called. 
occurs: 
    getConsensusType()
    getInitialAbsoluteMaxBytes()
    getInitialEpoch()
    getInitialMaxMessageCount()
    getInitialPreferredMaxBytes()
    getInitialTransactionId()
    setInitialAbsoluteMaxBytes(initial)
    setInitialEpoch(initial)
    setInitialMaxMessageCount(initial)
    setInitialPreferredMaxBytes(initial)
    setInitialTransactionId(initial)","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] setInitialPrefferedMaxBytes --> setInitialPreferredMaBytes,FABN-504,14314,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,nnao,jjjjibm,jjjjibm,24/Jan/17 9:11 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,01/Feb/17 1:45 AM,,,,,,,,,,,0,,,,,"Node SDK generated doc contains this method In class Chain:

setInitial*Preffered*MaxBytes(initial)

    Set the initial preferred maximum bytes that will be used when this chain is created. Default 0
    Parameters:
    Name 	Type 	Description
    initial 	int 	

    preferred maximum bytes

I'm wondering why the API is called Preffered and not Preferred?  It will be awkward for touch typists to enter. ",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can not set transient data in proposals,FABN-505,16028,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,27/Apr/17 4:47 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,12/May/17 12:58 PM,,,,,,,v1.0.0,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx38n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/17 10:36 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/9219/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typos reported by community members,FABN-506,19925,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,03/Aug/17 11:47 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,07/Sep/17 11:06 PM,,,,,,,v1.0.2,,,,0,,,,,"https://chat.hyperledger.org/channel/fabric-sdk-node?msg=hEqX5DZYZpAC5b79f
https://chat.hyperledger.org/channel/fabric-sdk-node?msg=9oaGieGZJr8Y7TXCq",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzybtb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/17 11:06 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/12127/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK Wrong test scenario for service discovery,FABN-507,31732,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,07/Jul/18 8:43 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,11/Jul/18 1:42 AM,v1.2.0,,,,,,v1.2.1,,,,0,,,,,"A test scenario for service discovery is wrong in fabric-sdk-node/test/integration/discovery.js.
This is a test case to check if service discovery works by using the parameter `discover` on the Channel.initialize() call.
https://github.com/hyperledger/fabric-sdk-node/blob/master/test/integration/discovery.js#L104-L113
 
This test case has two problems.
 
1. Wrong parameter in request message.
Current test code uses a wrong named parameter ""discovery"" in a request object.
Channel.initialize() requires a parameter named ""discover"". We need to update the parameter correctly.
 
2. 'initialize-with-discovery' is set to true.
We have two options to enable the use of the service discovery.
(a) Set the config setting; Client.setConfigSetting('initialize-with-discovery', true);
(b) Use the parameter `discover` on the Channel.initialize() call.
 
This test case is intended for the usage (b). To avoid the contamination with the usage (a), we should set 'initialize-with-discovery' to false.
However, the current test code sets 'initialize-with-discovery' to true at the beginning of a test function and the flag is not changed to false for this test case.
Despite that Channel.initialize() can’t enable to use service discovery due to the incorrect parameter, service discovery is activated because the config setting is still true. As a result, the test looks passed successfully.
We need to change the config setting flag to false before calling Channel.initialize().
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzi4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jul/18 1:42 AM;yuki-kon;CR: https://gerrit.hyperledger.org/r/#/c/24201/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] end-to-end.js not ok 5 TypeError: Cannot read property '0' of undefined at /home/ibmadmin/work                   /src/github.com/hyperledger/fabric-sdk-node/test/unit/end-to-end.js:202:36,FABN-508,14133,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jjjjibm,jjjjibm,jjjjibm,18/Jan/17 3:38 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Feb/17 9:55 PM,,,,,,,,,,,0,,,,,"Running
node end-to-end.js
the test case fails with this message: 

not ok 5 TypeError: Cannot read property '0' of undefined at /home/ibmadmin/work                   /src/github.com/hyperledger/fabric-sdk-node/test/unit/end-to-end.js:202:36

Here is line 202:  var proposalResponses = results[0];

and context:

.then(
			function(results) {
				var proposalResponses = results[0];  <== failure
				var proposal = results[1];                    
				var header   = results[2];

				var all_good = true;
				for(var i in proposalResponses) {   

This error results in an unhandled exception.  Unhandled exceptions break *gulp test *such that the pipe into Istanbul is broken.  Consequently the coverage report generated by Istanbul is nonsense.

We need a valid coverage report so Ramesh Thoomu can add end-to-end.js to the CI testing.   
",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxicf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Jan/17 1:58 AM;jjjjibm;commit 8829bbc65e90b13e5d56affc06e80352616c0420
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Fri Jan 20 08:50:34 2017 -0500

    NodeSDK

    Fix for FAB-1704

    This fix corrects an attempt to dereference a null pointer.

    Change-Id: I216019777454b7ec279054cdee8f9d2e81d9fabf
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>;;;","31/Jan/17 10:30 AM;jjjjibm;commit 6f748338187ef4f0f89a136b78c7002a35ec51c1
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Wed Jan 18 20:29:18 2017 -0500

    nodeSDK Fixes for FAB-1702 and FAB-1704

    FAB-1702 and FAB-1704 both report attempts to dereference null pointers.

    Edit: Indicate that FAB-1704 fix is added to this fix.  This resolves conflicts between FAB-1702 and FAB-1704.
    Edit2: Inspection rework
    Edit3: resolve merge conflicts

    Change-Id: I29f699ccf8804a6fec9036cbf1c31ef909927e02
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric SDK Node docs broken links,FABN-509,19928,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,ChristopherFerris,ChristopherFerris,04/Aug/17 12:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,31/Aug/17 11:49 PM,v1.0.0,,,,,,,,,,0,,,,,See [https://stackoverflow.com/questions/45484878/sample-application-of-hypeledger] for details.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzybtz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/17 11:50 PM;jimthematrix;this was taken care of by replacing the fabric's RTD link to fabric node SDK (this page: http://hyperledger-fabric.readthedocs.io/en/latest/fabric-sdks.html) with the official reference doc: https://fabric-sdk-node.github.io/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quick fix needed: incompatible with npm grpc@1.11.0 for release-1.1 branch.,FABN-510,29936,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,04/May/18 4:29 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,05/May/18 4:45 AM,,,,,,,v1.1.1,,,,0,ci-failure,,,,"Observed this error for sdk-node tests in the *fabric-end-2-end-daily-release-1.1* CI job,

{code:java}
14:28:46 TypeError: Cannot read property 'getConnectivityState' of undefined
14:28:46     at ClientDuplexStream.<anonymous> (/w/workspace/fabric-end-2-end-daily-release-1.1-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/fabric-client/lib/EventHub.js:9:9746)
{code}

*fabric Commit: 1575ea6*
*fabric-ca Commit: 0caaf28*
*fabric-sdk-node Commit: 7765f1b*

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-release-1.1-x86_64/51/",,harrisob@us.ibm.com,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-347,,,FABN-454,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8p3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 4:45 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/21379/ - version fix|https://gerrit.hyperledger.org/r/#/c/21379/]

[https://gerrit.hyperledger.org/r/#/c/21413/] - npm publish;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Lock down hashing algo in channel config during create/update,FABN-511,15895,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,21/Apr/17 11:12 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,26/May/17 8:25 AM,v1.0.0-alpha1,,,,,,,,,,0,,,,,"during sprint discussion today it was decided that crypto algos should be locked down in terms of key algo, key length, hash algo for v1.0. as a result we should not expose the hash algo setting in the create channel config JSON and update",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx487:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 8:26 AM;jimthematrix;not applicable any longer as the JSON input support for channel creation/update has been removed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - handle certificates without proper newlines,FABN-512,21327,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,05/Oct/17 11:39 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Nov/17 6:18 AM,v1.0.2,,,,,,v1.1.0,,,,0,node-SDK,,,,Certificates come in from many sources and are not always properly formed. To ease the user pain it would be easier for the SDK to fix the certs before using them.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyifb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/17 4:39 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/15151/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BaseClient.js missing 'use strict',FABN-513,18290,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,19/Jun/17 12:18 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Jun/17 1:46 PM,,,,,,,,,,,0,,,,,For older node.js versions (likely pre v6.9.4) the 'use strict' is required for ES5 features like 'class' and 'let'.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy4nz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/17 1:46 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/10763/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Incorrect npm hfc package version in package.json file ,FABN-514,12401,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,angrbrd,rameshthoomu,rameshthoomu,16/Aug/16 5:21 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,05/Oct/16 8:31 AM,,,,,,,,,,,0,help-wanted,node-SDK,,,"npm hfc package version mismatch in fabric/sdk/node/package.json. Observed 0.6.0 is the latest version in npm hfc repo (https://www.npmjs.com/package/hfc) but I could see 0.0.2 in fabric/sdk/node/package.json file.

verify latest version number in https://www.npmjs.com/package/hfc and sdk/node/package.json in gerrit.",,angrbrd,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxaxz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,angrbrd,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/16 4:49 AM;angrbrd;On master: https://gerrit.hyperledger.org/r/#/c/1107/
On v0.6: https://gerrit.hyperledger.org/r/#/c/1277/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
headless-tests.js when testing FileKeyValueStore needs to be updated w.r.t relative path conventinos,FABN-515,12987,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,13/Oct/16 2:30 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Oct/16 12:43 AM,,,,,,,,,,,0,node-SDK,,,,"The FileKeyValueStore implementation follows the convention that when a relative path is passed in, it's relative to where the node process is running (which is different than what ""__dirname"" points to). the headless-tests.js has a couple of test cases around this area that didn't follow this same convention. they should be updated.

as a side-effect, you should be able to run the headless-test.js from any directory. ",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcyn:",,,,,,Sprint 3,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/16 1:12 PM;jimthematrix;[~cdaughtr] I included the fix to this in https://gerrit.hyperledger.org/r/#/c/1821/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node.js SDK fails to parse ecerts for SubjectString during re-enroll,FABN-516,16507,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,10/May/17 2:19 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/May/17 2:02 PM,,,,,,,,,,,0,,,,,"17:03:46 error: [FabricCAClientImpl.js]: Failed to parse enrollment certificate 
-----BEGIN CERTIFICATE----- 
MIIB8DCCAZegAwIBAgIUSElV4G9Y+cC5q1MFtlgZvrnZQTswCgYIKoZIzj0EAwIw 17:03:46 cDELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh 17:03:46 biBGcmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xGTAXBgNVBAMT 17:03:46 EG9yZzEuZXhhbXBsZS5jb20wHhcNMTcwNTA5MTY1OTAwWhcNMTgwNDA4MDA1OTAw 17:03:46 WjATMREwDwYDVQQDEwh3ZWJBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IA 17:03:46 BCZn/gJZlBd1KeDMOX3bUgc//2hozCNLcJD4kCKqFGeEfNLC5yEZrGeAqTGh656r 17:03:46 0aSnnnhwQ8qepVyiX6AkVgOjbDBqMA4GA1UdDwEB/wQEAwICBDAMBgNVHRMBAf8E 17:03:46 AjAAMB0GA1UdDgQWBBS4zfKtEYkIrcDdm+C2nG6nQ9EHszArBgNVHSMEJDAigCCi 17:03:46 La81ayqrV5LqU+NfZvzO8dfxqis6K5Lb+/lqRI6iajAKBggqhkjOPQQDAgNHADBE 17:03:46 AiAPkN3HxYaQ7yLSkaLZmp7xRJZ13MODJXvrb8EVSzUPuwIgKPSw80O8lk4+jnyg 17:03:46 XAIN0t3VeHRj18TNaarRZhW6hKU= 17:03:46 
-----END CERTIFICATE----- 17:03:46 . 
17:03:46 Error: ReferenceError: alert is not defined",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxud3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk node e2e tests are getting stuck while querying chaincode in updatechannel tests,FABN-517,16136,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,rameshthoomu,rameshthoomu,01/May/17 10:50 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,03/May/17 11:20 AM,,,,,,,v1.0.0,,,,0,build-system,node-SDK,,,"node-sdk e2e tests are failing (FAB-3459) but tests are getting stuck while querying chaincode in update channel tests.

All end-2-end jobs are getting stuck in CI.  Below is the log for reference

https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-end-2-end-x86_64/2451/console",Jenkins CI,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxrv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/17 11:20 AM;rameshthoomu;Issue is resolved after fix https://gerrit.hyperledger.org/r/#/c/8823/ merged in fabric-sdk-node. Tested and verified node e2e tests are working as expected on above patch merge.

Closing this issue.. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability testing] Node.js SDK integration tests are failing,FABN-518,27930,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,Ratnakar,Ratnakar,23/Feb/18 4:09 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/Feb/18 8:02 AM,v1.0.6,v1.1.0,,,,,v1.0.6,v1.1.0,,,0,fabric-sdk-node,quality,tests,,"As part of compatibility / Interoperability testing , We see the following combinations are failing out of *984* tests.

 
||Integration test suite||Node SDK||Fabric||Fabric-CA|| Failed||
|1.0|1.0|1.1|1.0|42|
|1.0|1.0|1.0|1.1|21|
|1.0|1.0|1.1|1.1|26|
|1.0|1.1|1.1|1.1|317  (run from master branch)|
|1.0|1.1|1.1|1.1|281  (run from release branch)|

Please note that this may look worse that it actually is.  One failure can trigger several other downstream tests.  We are in the debug process and more details will follow. 

Enclosed SDK logs.

NOTE: We do see the following scenarios are captured in CI and all tests are passing
||Integration Tests||Node SDK||Fabric||Fabric-CA||
|1.0|1.0|1.0|1.0|
|1.1|1.1|1.1|1.1|

 ",,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-332,FABC-206,FABN-357,FABN-219,FABN-434,"23/Feb/18 3:52 AM;Ratnakar;1_0app_sdk_1_1_fabric_ca.txt;https://jira.hyperledger.org/secure/attachment/14674/1_0app_sdk_1_1_fabric_ca.txt","23/Feb/18 3:52 AM;Ratnakar;1_0sdk_1_1images_1_0ca.txt;https://jira.hyperledger.org/secure/attachment/14673/1_0sdk_1_1images_1_0ca.txt","23/Feb/18 3:52 AM;Ratnakar;1_0tests_1_1_sdk_images.txt;https://jira.hyperledger.org/secure/attachment/14672/1_0tests_1_1_sdk_images.txt",,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Feb/18 7:56 AM;Ratnakar;Design leads helped us to investigate the issues.

We found only a very few root causes for all of those issues.

More details to follow.;;;","24/Feb/18 12:05 AM;Ratnakar;||Test||Integration
 test
 suite||Node SDK||Fabric||Fabric-CA||Root cause||
|1|1.0|1.0|1.1|1.0|Peer error response message been changed in Fabric v1.1
 ex: when chaincode is not installed and tried to upgrade/instantiate
      *could not find chaincode with name* -> *_no such file or directory_*
      *cannot get package for the chaincode to be instantiated* --> *no such file or directory* * More details : https://jira.hyperledger.org/browse/FAB-8465|
|2|1.0|1.0|1.0|1.1|In Fabric-ca org1 registrar can register users with org2 affiliation (*ex*: *org2.department1*)
 this is fixed in 1.1 hence the tests on 1.0 are failing. changing the tests fix the issue
 Raised a bug to address this : https://jira.hyperledger.org/browse/FAB-8467|
|3|1.0|1.0|1.1|1.1|*Both 1 & 2 changes required*|
|4|1.0|1.1|1.1|1.1|*Both 1 & 2 changes required*
                         *+*
 1. Protobuf change in 1.1 SDK causes compatibility test failures
 ex: parsing a block information (failure in integration/query.js)
 block.data.data[0].payload.data.config.channel_group.groups.Application.policies.Writers.policy.policy.rule --->
 block.data.data[0].payload.data.config.channel_group.groups.Application.policies.Writers.policy.value.rule
 See details https://jira.hyperledger.org/browse/FAB-8469
 2. grpc param change in 1.1 SDK causes compatibility test failures
ex:: grpc-max-send-message-length ---> grpc.max_send_message_length
 More details : https://jira.hyperledger.org/browse/FAB-8470
 3. Invalid param passed for client.newTransactionID (invoke.js)
 testcases are not valid against 1.1 SDK
 raised a bug to correct the testcase: https://jira.hyperledger.org/browse/FAB-8468|;;;","24/Feb/18 3:26 AM;Clayton Sims;Bret working these and targeted to be done today.;;;","24/Feb/18 5:22 AM;harrisob@us.ibm.com;All issues have a separate issue, moving this to done;;;","24/Feb/18 5:28 AM;Clayton Sims;moving back.    Let keep it open so we don't lose track of the 4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decode for Signature Policy Envelope contains typos,FABN-519,28292,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,08/Mar/18 6:45 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Mar/18 12:37 AM,,,,,,,,,,,0,node-SDK,,,,The Node SDK Block Decoder has mispelt variable names for the proto_signature_policy_envelope and need to be changed.,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz09j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Mar/18 7:32 PM;sudheesh001;[https://gerrit.hyperledger.org/r/#/c/18867/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric ca node api register now cannot accept a value of zero for maxenrollments,FABN-520,21737,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,10/Oct/17 7:27 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Nov/17 6:18 AM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"The parameter check for register in FabricCAClientImpl was changed fairly recently and now looks like this
{code:java}
	register(enrollmentID, enrollmentSecret, role, affiliation, maxEnrollments, attrs, signingIdentity) {

		var self = this;
		var numArgs = arguments.length;
		//all arguments are required
		if (!enrollmentID || !affiliation || !maxEnrollments || !signingIdentity) {
			throw new Error('Missing required parameters.  \'enrollmentID\', \'affiliation\', \
				and \'signingIdentity\' are all required.');
		}
{code}
unfortunately this check is going to fail when a valid value of zero is passed as the maxEnrollments value because of the !maxEnrollments check.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyiyv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/17 6:25 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14793/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Headless test fails when not ran from the project root folder,FABN-521,13796,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,14/Dec/16 5:20 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Mar/17 1:51 PM,,,,,,,,,,,0,,,,,"I built fabric, fabric cop and node sdk at the commit levels described in Environment. One of the headless.js tests fails:

not ok 5 checking that able to test-2 value from an additional configuration file
  ---
    operator: equal
    expected: 'local'
    actual:   'notfound'
    at: Test.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape-promise/index.es5.js:21:13)
  ...

I have captured the output of export and attached it to this issue.

How to recreate: 
1.Build fabric, fabric-cop, and fabric-sdk-node, at the commit levels I specify
2. cd $GOPATH/src/github.com/hyperledger/fabric-sdk-node/test/unit
3.node headless.js ","Ubuntu vlaunch VM  
fabric commit level 
10:50:59 AM: fe6be016b671f5b3fdfe860eda3b54ac067f69aa 

http://stackoverflow.com/questions/3489173/how-to-clone-git-repository-with-specific-revision-changeset 

 cop commit level: 

 be0ffbb564e954c1d4aa8e28138e4e1146f58764 

fabric sdk node commit level 

a522e22d5d73ab8646cf4b566313aa1eda85df60 

Follow the readme's that are copied into your directories to build and start fabric, fabric cop, and nodejs tests.",jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/16 5:20 AM;jjjjibm;my.envvars;https://jira.hyperledger.org/secure/attachment/10312/my.envvars",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfwv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/17 10:25 PM;jimthematrix;This only happens when not running the test at the project root folder. help-wanted label added;;;","08/Mar/17 1:51 PM;jimthematrix;taken care of because we are using `gulp test-headless` to launch headless tests now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable debug log for deploy transaction,FABN-522,12811,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,Ratnakar,Ratnakar,29/Sep/16 7:47 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/Oct/16 12:51 PM,v0.6,,,,,,,,,,0,node-SDK,,,,"Deploy transaction content is too huge (about 13 MB) to display in debug logs.

Please avoid this for chaincode deploy

{code:java}

    /**
     * Execute a transaction
     * @param tx {Transaction} The transaction.
     */
    private execute(tx:Transaction):TransactionContext {
        debug('Executing transaction [%j]', tx);
        ...
    }

{code}

https://github.com/hyperledger/fabric/blob/master/sdk/node/src/hfc.ts#L1389


Below snippet should fix the problem


{code:java}
if (tx.pb.getType() != _fabricProto.Transaction.Type.CHAINCODE_DEPLOY) {
	debug('Executing transaction [%j]', tx);
}

{code}

NOTE : attached logs for reference.",,bmos299,Clayton Sims,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 7:45 AM;Ratnakar;nodeapp_logs.txt.zip;https://jira.hyperledger.org/secure/attachment/10097/nodeapp_logs.txt.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcdz:",,,,,,Sprint 4 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,bmos299,Clayton Sims,mastersingh24,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/16 9:47 PM;Clayton Sims;I took off fix version.  Gari should make this decision - run it by him to get agreement to fix in 0.6;;;","30/Sep/16 3:10 AM;bmos299;This is the node sdk log when DEBUG=hfc is set.;;;","30/Sep/16 6:38 PM;mastersingh24;[~jimthematrix] - what's your take on this?  not hard to ""fix"" but I wonder if there is value in printing out the bytes of the deploy transaction?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Message Size Incorrect,FABN-523,18843,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,latitiah,latitiah,30/Jun/17 7:26 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,25/Nov/17 5:07 AM,v1.0.0-rc1,,,,,,v1.1.0,,,,0,ci-failure,,,,"*commit:* RC1
*api:* sdk-node

*Steps:*
Scenario: FAB-3851: Message Payloads Greater than 1MB
1.    Given I have a bootstrapped fabric network of type kafka
2.    When a user deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/test"" with [""""] #Keystore chaincode
3.    And I wait ""30"" seconds
4.    And a user invokes on the chaincode named ""mycc"" with random args [""put"",""a"",""{random}""] of length 1048576
5.    And I wait ""30"" seconds
6.    And a user queries on the chaincode named ""mycc"" with args [""get"",""a""]
7.    Then a user receives response containing set length value
8.    And a user invokes on the chaincode named ""mycc"" with random args [""put"",""a"",""{random}""] of length 2097152
9.    And I wait ""30"" seconds
10.    And a user queries on the chaincode named ""mycc"" with args [""get"",""a""]
11.    Then a user receives response containing set length value

On Kafka (setting the KAFKA environment variables), 1MB, 1.5MB works fine.
Kafka environment variables set to:
- KAFKA_MESSAGE_MAX_BYTES=103809024
- KAFKA_REPLICA_FETCH_MAX_BYTES=103809024
- KAFKA_REPLICA_FETCH_RESPONSE_MAX_BYTES=103809024

2MB has problems on the query. When looking through the peer and orderer logs, there are no errors. The error comes from the sdk during a query.

{code}
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Received message larger than max (4195347 vs. 4194304)
    at /home/itpc/experims/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Received message larger than max (4195347 vs. 4194304)
    at /home/itpc/experims/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
Error: Received message larger than max (4195347 vs. 4194304)
Error: Received message larger than max (4195347 vs. 4194304)
{code}

What is strange is the message size reported is twice as much as the actual payload.",,blw,harrisob@us.ibm.com,jeffgarratt,latitiah,mastersingh24,muralisr,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5049,FAB-3851,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6hj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,blw,harrisob@us.ibm.com,jeffgarratt,latitiah,mastersingh24,muralisr,scottz,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,main,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dev,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"13/Jul/17 1:38 AM;jimthematrix;[~latitiah] I'm changing the target to fabric-peer because the error messages come directly from the peer. the SDK is simply displaying what the peer returns;;;","23/Jul/17 9:16 AM;blw;[~latitiah] I don't see a ""test"" chaincode in github.com/hyperledger/fabric/examples/chaincode/go/. Has the name been changed, or is there another chaincode that can be used to repro?;;;","25/Jul/17 4:01 AM;latitiah;I believe you can try the same test using the ""hyperledger/fabric/examples/chaincode/go/map"" chaincode.;;;","03/Aug/17 1:37 AM;blw;[~latitiah] Could you share the SDK client code you used to invoke large message payloads?;;;","09/Aug/17 4:15 AM;latitiah;Hi [~blw] Here is a link to the setup that I used when I ran into this issue. https://gerrit.hyperledger.org/r/12261
Thanks!;;;","08/Sep/17 3:03 AM;muralisr;[~blw] any update on the recreate please ?;;;","14/Sep/17 1:49 AM;blw;No updates right now, still trying to reproduce.;;;","27/Oct/17 4:12 AM;jeffgarratt;Hey [~blw], is this still an issue or can we close this? ;;;","27/Oct/17 5:26 AM;latitiah;There is a CR that contains a behave test that reproduces this problem. (Please see the readme in the fabric-test repo for setting up your environment for executing this test.)
https://gerrit.hyperledger.org/r/#/c/14157/ 
{code}
behave -n ""FAB-3851: Message Payloads More than 1MB"" -k
{code}

I'm going to abandon the CR which contains the previous test.;;;","02/Nov/17 12:12 AM;jeffgarratt;[~latitiah][~blw][~muralisr]  This appears to be a limit from the node GRPC client lib, not the peer.  The peer is defaulted per https://github.com/hyperledger/fabric/blob/master/core/comm/config.go#L23-L24

Going to reassign to fabric-sdk-node.;;;","02/Nov/17 6:08 AM;muralisr;[~jeffgarratt] One thing (should have caught this earlier)... I think the limits were changed post 1.0.0 (more recently, basically). Worth checking if the problem occurs in master ? Or has that been done already ?;;;","09/Nov/17 2:12 AM;harrisob@us.ibm.com;Setting the NodeSDK default grpc send and receive sizes to unlimited, thereby letting the size be controlled by the fabric size.

[~muralisr] [~jeffgarratt] Do you think we should be setting a limit on the send from the NodeSDK size to somewhat protect the fabric network. ;;;","09/Nov/17 2:21 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/15309/;;;","14/Nov/17 8:35 AM;scottz;The test still fails in the same place. Notice the returned length (4195328) is double+1024.

```

ubuntu@hyperledger-devenv:a454d61:/opt/gopath/src/github.com/hyperledger/fabric-test/feature$ behave -n FAB-3851

Feature: Orderer Service # orderer.feature:7
 As a user I want to be able to have my transactions ordered correctly
 @skip @daily
 Scenario Outline: FAB-3851: Message Payloads More than 1MB, for solo orderer -- @1.1

 ...

When a user invokes on the chaincode named ""mycc"" with random args [""put"",""i"",""\{random_value}""] of length 2097152
 And I wait ""7"" seconds 

And a user queries on the chaincode named ""mycc"" with args [""get"",""i""] 
 Then a user receives a response containing a value of length 2097152
 Assertion Failed: Expected response to be of length 2097152; received length 62; Result: Error: Received message larger than max (4195328 vs. 4194304)

```

And so I tried again with some other lengths, and got these results:

if I use length 2096000, the test passes

if I use length 2097150, the test fails with the following error message (and the returned length 4195320 is double+1016):

`Assertion Failed: Expected response to be of length 2097150; received length 62; Result: Error: Received message larger than max (4195320 vs. 4194304)`;;;","25/Nov/17 5:07 AM;mastersingh24;https://gerrit.hyperledger.org/r/15499;;;","17/Jan/18 1:21 AM;latitiah;Verified as passing. This test was added back into the CI test suite with the CR: https://gerrit.hyperledger.org/r/#/c/16853/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] setInitialAbsoluteMaxBytes() has no default value ,FABN-524,14585,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jjjjibm,jjjjibm,07/Feb/17 8:57 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,07/Mar/17 12:49 PM,,,,,,,,,,,0,,,,,"Generated documentation for chain.setInitialAbsoluteMaxBytes says this:

setInitialAbsoluteMaxBytes(initial)

    Set the initial absolute maximum bytes that will be used when this chain is created. *Default 0
*   
Saying the default is zero is confusing.  You must specify a non negative integer value when calling the method, so the parameter has no default value.  When the chain is first created, the field seems to be set to 0xA00000.  So initialAbsoluteMaxBytes  has a default value, but it's not zero.  

The same is probably true of other methods documented in this class, but I didn't write the test cases for these methods.  I'll update if I find more such methods in my testing. 

How to recreate:
1.Clone fabric-sdk-node
2.cd fabric-sdk-node
3.gulp doc
4.Start HTTP server
5.Use browser to inspect documentation for class Chain. 

",Vlaunch VM running Ubuntu.  Documentation is generated with gulp. ,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxk6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Mar/17 12:49 PM;jimthematrix;this method has been removed as it's not intended to be implemented;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] error response format changed in Fabric1.2 peer causes Node.js sdk integration test failures,FABN-525,31195,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,,Ratnakar,Ratnakar,20/Jun/18 5:54 AM,14/Nov/18 10:52 PM,28/Oct/23 3:25 AM,14/Nov/18 10:52 PM,v1.2.0,,,,,,Future,,,,0,quality,,,,"Steps to reproduce the issue: Refer Case2/Case3 of FAB-10161 or Given below for quick reference.

*Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.1, Fabric is at 1.2 & Fabric-CA is at 1.2*
{code:java}
Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
Test report with failure logs is enclosed run3-4.txt

Total Failures : *11 tests* 
 High level summary of the failures are as following , however the root cause is same for all the failures.
{code:java}
failed check for exists on install again
failed check for exists same code again
 Failed to get an error returned :: No Error returned , should have had an error with version already exists
Failed to get an error returned :: No Error returned , should have had an error with cannot get package for chaincode (6 tests failed with the same error)
Failed to get an error returned :: No Error returned , should have had an error with chaincode exists end2endnodesdk (2 tests failed with the same error)

{code}
 

 

 

 

 

 ",,andrew-coleman,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10161,,,,,,,,,,,"20/Jun/18 5:49 AM;Ratnakar;run2-3.txt;https://jira.hyperledger.org/secure/attachment/15121/run2-3.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzffr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 6:07 AM;Ratnakar;{code:java}
	modified:   test/integration/install.js
	modified:   test/integration/instantiate.js
	modified:   test/integration/upgrade.js
{code}
minor changes in the above Integration test files causes 9 tests pass out of the above 11 failures.

for example :
 change the following snippet
{code:java}
if(proposal_response.toString().indexOf(error_snip) > 0) {
   t.pass(' Successfully got the error '+ error_snip);
}else {
   t.fail(' Failed to get error '+ error_snip);
}
{code}
to the following, notice the way parsing has been changed now.
{code:java}
if(proposal_response.response.message.toString().indexOf(error_snip) >= 0) {
   t.pass(' Successfully got the error '+ error_snip);
}else {
   t.fail(' Failed to get error '+ error_snip);
}
{code};;;","14/Nov/18 10:52 PM;andrew-coleman;test was changed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parsing enrollment response mismatch,FABN-526,15364,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,latitiah,latitiah,16/Mar/17 1:12 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,18/May/17 2:01 AM,,,,,,,,,,,1,,,,,"Environment:
* *OS:* Ubuntu 14.04
* *node:* v6.9.5
* *npm:* 3.10.10
* *fabric-ca commit:* 73866b8a87939c489c11d346d9e78b436818dbde
* *fabric-sdk-node commit:* 6f77cdf9bbb1e683a601873a2c23cb2d5cdb6d3d
* *network composition:* test/fixtures/docker-compose.yml

When running the test/integration/e2e.js (using TLS) the following error was recieved:
{code:none}

Could not parse enrollment response [{""success"":true,""result"":""LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUIzekNDQVlTZ0F3SUJBZ0lVUVVKVVgvWkNpYWtaYkxZODdxdEVNck9ueUs4d0NnWUlLb1pJemowRUF3SXcKWURFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4RVRBUEJnTlZCQW9UQ0hCbFpYSlBjbWN5TVJFd0R3WURWUVFERXdod1pXVnlUM0puCk1qQWVGdzB4TnpBek1UVXhOVEEzTURCYUZ3MHhPREF5TVRFeU16QTNNREJhTUJBeERqQU1CZ05WQkFNVEJXRmsKYldsdU1Ga3dFd1lIS29aSXpqMENBUVlJS29aSXpqMERBUWNEUWdBRWVudmdnalN3OVNkSE1zVUUyOWRrM2VpaQpZOUtwTm1zZGhYTlV6elZ0UFIzR0s1djJmTmRHTlZsTVQ3dU5XYi83S3JubVhKR00yR0xpZXpjQzBJK1BTNk5zCk1Hb3dEZ1lEVlIwUEFRSC9CQVFEQWdJRU1Bd0dBMVVkRXdFQi93UUNNQUF3SFFZRFZSME9CQllFRkxKM0dTeUEKTW9XRWRSY005QW5KV3gveDQ5SGlNQ3NHQTFVZEl3UWtNQ0tBSUphOXRYOU8rOXp5QWFKcGlaNjBmaXB6KzdjbwpyaFRVZlExYSszWGQ2bkhlTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFDcEh2RnNud2Q0UmI4disxWHZmWXVpCjdMMlJPdW9adUdVTnNKS3Bra25TSndJaEFPK2JsWUZZS2hnN2VBakpoWHhJa3Rxd05RbWdEZ1lFdDFPL2x0V0EKTjNjUgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="",""errors"":[],""messages"":[]} ] as JSON due to error [TypeError: First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.] at IncomingMessage.<anonymous> (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:560:14) at emitNone (events.js:91:20) at IncomingMessage.emit (events.js:185:7) at endReadableNT (_stream_readable.js:974:12) at _combinedTickCallback (internal/process/next_tick.js:74:11) at process._tickCallback (internal/process/next_tick.js:98:9)
  ---
    operator: fail
    at: cop.enroll.then.then.then.catch (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/test/unit/util.js:119:8)
{code}

",,jackieliu,jjjjibm,latitiah,pranavkaushik,vdods,Yogendrasri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo4f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jackieliu,jjjjibm,latitiah,pranavkaushik,vdods,Yogendrasri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Mar/17 5:52 AM;latitiah;We're pretty sure this is an environment issue and are trying to figure out what's causing these failures. Thanks Jim for your help!;;;","17/Mar/17 8:57 AM;jimthematrix;hi [~latitiah] were you able to find out the cause of the failure?;;;","28/Mar/17 7:40 AM;jjjjibm;FYI Jim.  I am seeing a similar sort of error using today's build:

not ok 13 Failed to enroll 'testUser'. Error: Could not parse enrollment response [{""success"":false,""result"":null,""errors"":[{""code"":400,""message"":""Authorization failure""}],""messages"":[]} ] as JSON due to error [TypeError: Cannot read property 'errors' of undefined]
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)

fabric-sdk-node: commit be3cf0b35ebfde560a366ed7e3782b7ff5f69db9
fabric: commit 397f5de8a7787b4ce2a52a81448fd35258ab610e
commit e724a8951e5260f8129fc9d3ba578cb47dbf812f

It is easy to recreate.
1.Git checkout levels or just get the latest.
2.cd fabric-sdk-node/test/integration
3.node fabric-ca-services-tests.js
;;;","30/Mar/17 4:13 AM;jjjjibm;Update:  It's become harder to recreate, but this works:

fabric: commit 561443e60b3331354892e9716cc05eaa6ce1679f
fabric-ca: commit c9498646e67355227d46cb7d1b1c0f6c8b35cf02
fabric-sdk-node: commit 567644d5ec027bd639cf8e1f8a8a5fe2ad5bad9c

1.Checkout levels as indicated
2.Build images from scratch before starting local network
3. cd fabric-sdk-node/test/integration
4.node fabric-ca-services-tests.js (works)
5.(again) node fabric-ca-services-tests.js 
to see this result:
<lines omitted>
not ok 13 Failed to enroll 'testUser'. Error: Could not parse enrollment response [{""success"":false,""result"":null,""errors"":[{""code"":400,""message"":""Authorization failure""}],""messages"":[]} ] as JSON due to error [TypeError: Cannot read property 'errors' of undefined]
  ---
    operator: fail
    at: process._tickCallback (internal/process/next_tick.js:103:7)
  ...



;;;","06/Apr/17 6:21 AM;vdods;I'm still seeing this on the latest;

fabric: cacb292921553900ea808344599b9914632bf1d3
fabric-ca: 77dc0ce08853615e6876db81fb9384c4e9c31209
fabric-sdk-node: 45c2f389ef37f3eab64cfceace46b0157abb9d33

In particular, running the docker-compose in test/fixtures/docker-compose.yaml and then running from the project root `node test/integration/e2e.js` produces 100% failure.

I've determined that the error occurs in the lines (in fabric-ca-client/lib/FabricCAClientImpl.js)

							enrollResponse.enrollmentCert = Buffer.from(res.result.Cert, 'base64').toString();
							enrollResponse.caCertChain = Buffer.from(res.result.ServerInfo.CAChain, 'base64').toString();

because res.result is just a base64 encoded string, not a JSON object having attributes Cert and ServerInfo.  It looks like res.result is probably the Cert, but then it seems as though ServerInfo is missing.  I tried changing these lines to 

							enrollResponse.enrollmentCert = Buffer.from(res.result, 'base64').toString();

And it gets past the current error, but still times out during the ""***** U P G R A D E flow: invoke transaction to move money *****"" section.  Commenting out `require('./e2e/upgrade.js');` from e2e.js then allows all remaining tests (which would be the full non-upgrade path) to pass.

Note that the suggested change above leaves enrollResponse.caCertChain un-assigned, so it may cause another 'undefined attribute' bug down the line, in particular, in setting the rootCertificate attribute of the response to the FabricCAServices.enroll method.
;;;","06/Apr/17 5:56 PM;jackieliu;I have the same issue, is there any solution?

LiuXins-MBP:test liuxin$ node query.js
info: Returning a new winston logger with default configurations
info: [Chain.js]: Constructed Chain instance: name - fabric-client1, securityEnabled: true, TCert download batch size: 10, network mode: true
info: [Peer.js]: Peer.const - url: grpc://localhost:7051 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8055 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Peer.js]: Peer.const - url: grpc://localhost:8056 options  grpc.ssl_target_name_override=tlsca, grpc.default_authority=tlsca
info: [Client.js]: Failed to load user ""admin"" from local key value store
info: [FabricCAClientImpl.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""localhost"",""port"":7054}
info: [crypto_ecdsa_aes]: This class requires a KeyValueStore to save keys, no store was passed in, using the default store /Users/liuxin/.hfc-key-store
[2017-04-06 16:50:07.903] [ERROR] Helper - Error: Could not parse enrollment response [{""success"":true,""result"":{""Cert"":""LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUI4akNDQVplZ0F3SUJBZ0lVU1JjODd6eXBERlhhUit6MXR1RFg3NklLUk53d0NnWUlLb1pJemowRUF3SXcKZnpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4SHpBZEJnTlZCQW9URmtsdWRHVnlibVYwSUZkcFpHZGxkSE1zSUVsdVl5NHhEREFLCkJnTlZCQXNUQTFkWFZ6RVVNQklHQTFVRUF4TUxaWGhoYlhCc1pTNWpiMjB3SGhjTk1UY3dOREEyTURnME5UQXcKV2hjTk1UZ3dNekExTVRZME5UQXdXakFRTVE0d0RBWURWUVFERXdWaFpHMXBiakJaTUJNR0J5cUdTTTQ5QWdFRwpDQ3FHU000OUF3RUhBMElBQkgwb0RZblFRanBpSXIrMHhGSzExa3NFNVBhQUVOdy9TSVg1VjRYMXdRMksvVEJHClVkTENKLzZiU3VHWHdkMWEvMHcyOUZGeGRnbm53ZmlvOXdHcE5lV2pZREJlTUE0R0ExVWREd0VCL3dRRUF3SUMKQkRBTUJnTlZIUk1CQWY4RUFqQUFNQjBHQTFVZERnUVdCQlNGanZtSVBqOFdOdFJIU2VDZTIvVmxJYmRpVXpBZgpCZ05WSFNNRUdEQVdnQlFYWjBJOXFwNkNQOFRGSFo5Ync1blJ0WnhJRURBS0JnZ3Foa2pPUFFRREFnTkpBREJHCkFpRUFoNmNSRWh1VTBoMzN5UDdwblIyRHFCUkQzb2oyaVgwTE9sSGg4V056Wm80Q0lRQzJJMkRsRDlVbkRoQmQKMW1KQVN5cHR3cEt5aGh2em4rNTR6Ly9WdmhvNVlRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="",""ServerInfo"":{""CAName"":"""",""CAChain"":""LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNZakNDQWdtZ0F3SUJBZ0lVQjNDVERPVTQ3c1VDNUs0a24vQ2FxbmgxMTRZd0NnWUlLb1pJemowRUF3SXcKZnpFTE1Ba0dBMVVFQmhNQ1ZWTXhFekFSQmdOVkJBZ1RDa05oYkdsbWIzSnVhV0V4RmpBVUJnTlZCQWNURFZOaApiaUJHY21GdVkybHpZMjh4SHpBZEJnTlZCQW9URmtsdWRHVnlibVYwSUZkcFpHZGxkSE1zSUVsdVl5NHhEREFLCkJnTlZCQXNUQTFkWFZ6RVVNQklHQTFVRUF4TUxaWGhoYlhCc1pTNWpiMjB3SGhjTk1UWXhNREV5TVRrek1UQXcKV2hjTk1qRXhNREV4TVRrek1UQXdXakIvTVFzd0NRWURWUVFHRXdKVlV6RVRNQkVHQTFVRUNCTUtRMkZzYVdadgpjbTVwWVRFV01CUUdBMVVFQnhNTlUyRnVJRVp5WVc1amFYTmpiekVmTUIwR0ExVUVDaE1XU1c1MFpYSnVaWFFnClYybGtaMlYwY3l3Z1NXNWpMakVNTUFvR0ExVUVDeE1EVjFkWE1SUXdFZ1lEVlFRREV3dGxlR0Z0Y0d4bExtTnYKYlRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQktJSDViMkphU21xaVFYSHlxQytjbWtuSUNjRgppNUFkZFZqc1FpekRWNnVaNHY2cytQV2lKeXpmQS9yVHRNdllBUHEveWVFSHBCVUIxajA1M214bnBNdWpZekJoCk1BNEdBMVVkRHdFQi93UUVBd0lCQmpBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJRWFowSTkKcXA2Q1A4VEZIWjlidzVuUnRaeElFREFmQmdOVkhTTUVHREFXZ0JRWFowSTlxcDZDUDhURkhaOWJ3NW5SdFp4SQpFREFLQmdncWhrak9QUVFEQWdOSEFEQkVBaUFIcDVSYnA5RW0xRy9VbUtuOFdzQ2JxRGZXZWNWYlpQUWozUks0Cm9HNWtRUUlnUUFlNE9PS1loSmRoM2Y3VVJhS2ZHVGY0OTIvbm1SbXRLK3lTS2pwSFNyVT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=""}},""errors"":[],""messages"":[]}
] as JSON due to error [TypeError: First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.]
    at IncomingMessage.<anonymous> (/Users/liuxin/ProjectSource/new/hyperledger/hackfest/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:394:14)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)
    at endReadableNT (_stream_readable.js:974:12)
    at _combinedTickCallback (internal/process/next_tick.js:74:11)
    at process._tickCallback (internal/process/next_tick.js:98:9)
[2017-04-06 16:50:07.905] [ERROR] QUERY - Error: Failed to obtain an enrolled user
    at ca_client.enroll.then.then.then.catch (/Users/liuxin/ProjectSource/new/hyperledger/hackfest/helper.js:59:12)
    at process._tickCallback (internal/process/next_tick.js:103:7)
;;;","12/May/17 9:57 PM;pranavkaushik;Hi, I am facing same issue during enroll.

One thing I noticed and may be of help is:

res.result is not a nested object but just contains the enrollmentCert then why is line 550 & 551 of FabricCAClientImpl.js trying to extract res.cert and res.result.ServerInfo.CAChain

 

When i changed the code from 
{code:java}
enrollResponse.enrollmentCert = new Buffer.from(res.result.Cert, 'base64').toString();
 enrollResponse.caCertChain = new Buffer.from(res.result.ServerInfo.CAChain, 'base64').toString();{code}
 

to just this 
{code:java}
enrollResponse.enrollmentCert = new Buffer.from(res.result, 'base64').toString();{code}
 

the error vanished. However, this might result in other issues due to to not returning caCertChain which I am not sure of.

 

Please suggest.

 ;;;","15/May/17 2:53 PM;pranavkaushik;Any update on this? Please let me know if this is the right place to ask a question or discuss about this issue?

 

Thanks,

Pranav;;;","18/May/17 2:01 AM;jimthematrix;[~pranavkaushik] what level of SDK and fabric-ca are you using? we run this on every CI build and it has not turned up for a long time. closing the defect for now. if you are still seeing it on the latest, please re-open and let us know the levels.;;;","27/Jul/17 1:38 PM;Yogendrasri;Is there any solution of above issue, I am still facing this error with ""fabric-ca-client"": "">=1.0.0-rc1 <1.0.0-rc1.10"", ""fabric-client"": "">=1.0.0-rc1 <1.0.0-rc1.10"".

Below is the error:

Caught Error Error: Could not parse enrollment response [404 page not found
] as JSON due to error [SyntaxError: Unexpected token p in JSON at position 4]
    at IncomingMessage.<anonymous> (/Users/yogendra/blockchain-first-example/fabric-samples/
fabcar/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:704:14)
    at emitNone (events.js:91:20)
    at IncomingMessage.emit (events.js:185:7)

 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Join channel fails due to new Admins policy,FABN-527,15878,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,21/Apr/17 1:03 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/Apr/17 10:53 AM,,,,,,,,,,,0,,,,,https://gerrit.hyperledger.org/r/#/c/7651/ enhanced the Join Channel policy to require admin principals.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4br:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/17 10:53 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/8011;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Usability] Node.JS SDK documentation doesn't maintain the versioning,FABN-528,31269,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,harrisob@us.ibm.com,Ratnakar,Ratnakar,21/Jun/18 11:54 PM,07/Sep/18 3:29 AM,28/Oct/23 3:25 AM,07/Sep/18 3:29 AM,v1.2.0,,,,,,Future,,,,0,quality,,,,"It is observed that Node.JS SDK documentation always points to the master/latest.
 Here are some thoughts:
 * Maintain different version for the documentation *OR*
 * Mention from what version the API is available, from what version the API is deprecated else it would be really confusing for the developers",,davidkel,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-829,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/18 8:55 PM;davidkel;Duplicate of FABN-829;;;","07/Sep/18 3:29 AM;davidkel;have transferred the comment to this issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer proposal failed in nodesdk,FABN-529,15924,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,rameshthoomu,rameshthoomu,22/Apr/17 10:54 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Apr/17 12:48 AM,,,,,,,v1.0.0,,,,0,node-SDK,quality,,,"peer proposal failed in node-sdk with the below error and all end-2-end tests are failing consistently

{noformat}
00:23:47.177 error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Failed to deserialize creator identity, err MSP Org2MSP is unknown
00:23:47.177     at /w/workspace/FIT-node-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
00:23:47.179 error: [Chain.js]: Chain-sendPeersProposal - Promise is rejected: Error: Failed to deserialize creator identity, err MSP Org2MSP is unknown
00:23:47.180     at /w/workspace/FIT-node-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/src/node/src/client.js:434:17
00:23:47.182 not ok 24 transaction proposal was bad
{noformat}

commit levels: 


{code:java}
======> FABRIC PEER COMMIT NUMBER - d661d11 
=======> FABRIC CA COMMIT NUMBER - c93266f 
=======> FABRIC SDK NODE COMMIT NUMBER - caaf3c0
{code}

Build Reference & docker log file:

https://jenkins.hyperledger.org/view/FIT/job/FIT-node-x86_64/407/consoleFull

https://jenkins.hyperledger.org/view/FIT/job/FIT-node-x86_64/407/artifact/gopath/src/github.com/hyperledger/fabric-sdk-node/test/fixtures/dockerlogfile.log
",Jenkins CI,knagware9,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxqsn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,knagware9,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/17 12:48 AM;jimthematrix;likely because install-chaincode required Admins identity, which has since been addressed;;;","23/Sep/17 5:02 AM;knagware9;Hi Jim,,,I am also facing this issue,could you please what need to be change...;;;","23/Sep/17 5:04 AM;knagware9;hertzpoc@hertzpoc-VirtualBox:~/work/src/github.com/hyperledger/marbles/scripts$ sudo node install_chaincode.js
info: Using default config file marbles_local.json
info: Loaded config file /home/hertzpoc/work/src/github.com/hyperledger/marbles/config/marbles_local.json
info: Loaded creds file /home/hertzpoc/work/src/github.com/hyperledger/marbles/config/blockchain_creds_local.json
---------------------------------------
info: Lets install some chaincode - marbles v4
---------------------------------------
info: First we enroll
info: [fcw] Going to enroll with admin cert!  peer_urls=[grpc://localhost:7051], channel_id=mychannel, uuid=marbles-Docker Compose Network-mychannel-fabric-peer-org1, orderer_url=grpc://localhost:7050, msp_id=Org1MSP
debug: added peer grpc://localhost:7051
debug: [fcw] Successfully got enrollment marbles-Docker Compose Network-mychannel-fabric-peer-org1
---------------------------------------
info: Now we install
---------------------------------------
debug: [fcw] Installing Chaincode
debug: [fcw] Sending install req targets=[grpc.primary_user_agent=grpc-node/1.2.4, _url=grpc://localhost:7051, addr=localhost:7051, , _request_timeout=90000, , _name=null], chaincodePath=marbles, chaincodeId=marbles, chaincodeVersion=v4
info: [packager/Golang.js]: packaging GOLANG from marbles
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Connect Failed
    at /home/hertzpoc/work/src/github.com/hyperledger/marbles/node_modules/grpc/src/node/src/client.js:434:17
error: [fcw] Failed to obtain endorsement for transaction. code=14, 
error: [fcw] Error in install catch block object code=14, 
---------------------------------------
info: Install done. Errors: parsed=Blockchain network error - Connect Failed, raw=[code=14, ];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] couchcb-fabricca-tests.js fix README and fix logging,FABN-530,14934,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,20/Feb/17 7:03 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,08/Mar/17 2:10 PM,,,,,,,v1.0.0,,,,0,,,,,"1)   Readme contains an error. 

Is now: 
Run the associated unit test with the following command:

node test/*uni*t/couchdb-fabriccop-test.js

Should be:
Run the associated unit test with the following command:

node test/*integration*/couchdb-fabriccop-test.js


2. Can we change the way structures are logged for diagnosis:

Is now (for just one example):
logger.debug('constructor, options: ' + options);

which prints as: constructor, options: [object Object]

Could be:
logger.debug(util.inspect(options, {showHidden: false, depth: null}));

which prints as 
{ _url: 'http://localhost:5984',
  _name: 'member_db',
  _database:
   { info: [Function],
     replicate: [Function],
     compact: [Function],
     changes: [Function],
     follow: [Function],
     auth: [Function: auth],
     session: [Function: session],
     insert: [Function: insertDoc],
     get: [Function: getDoc],
     head: [Function: headDoc],
     copy: [Function: copyDoc],
     destroy: [Function: destroyDoc],
     bulk: [Function: bulksDoc],
     list: [Function: listDoc],
     fetch: [Function: fetchDocs],
     fetchRevs: [Function: fetchRevs],
     config: { url: 'http://localhost:5984', db: 'member_db' },
     multipart:
      { insert: [Function: insertMultipart],
        get: [Function: getMultipart] },
     attachment:
      { insert: [Function: insertAtt],
        get: [Function: getAtt],
        destroy: [Function: destroyAtt] },
     show: [Function: showDoc],
     atomic: [Function: updateWithHandler],
     updateWithHandler: [Function: updateWithHandler],
     search: [Function: viewSearch],
     spatial: [Function: viewSpatial],
     view: { [Function: viewDocs] compact: [Function] },
     viewWithList: [Function: viewWithList] } }
",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlin:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk] https://github.com/hyperledger/fabric-sdk-node -- unit and integration tests,FABN-531,15082,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 7:01 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,10/Mar/17 3:24 AM,,,,,,,,,,,0,,,,,"In the readme at [node-sdk] https://github.com/hyperledger/fabric-sdk-node, in the section 
{color:#205081}Contributor Check-list{color}, it says 

Your new code should be accompanied with unit tests and pass 80% lines coverage or above.

1) Now that we have re-organized the test bucket into unit and integration tests, we should suggest an integration test also.  

2) ... and pass 80% lines coverage or above.
Something odd about this sentence.  Pass 80%, or not?  What above?  



",,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"APIs should use the term ""Channel"" instead of ""Chain""",FABN-532,16962,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jimthematrix,jimthematrix,21/May/17 1:26 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/May/17 3:26 AM,,,,,,,,,,,0,,,,,"the term ""Chain"" is from early days, but the proper v1.0 term is ""Channel"".",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxupz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
logger.warning() does not exist in Chain.js,FABN-533,15986,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,jtrayfield,jtrayfield,26/Apr/17 1:21 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,27/Apr/17 12:47 AM,v1.0.0,,,,,,,,,,0,,,,,"jtrayfield 12:06 PM
2017-04-25T16:00:02.629Z - error: blockchain.js::invoke() Problem: TypeError: logger.warning is not a function
at Chain.compareProposalResponseResults (/Users/jtray/git/bales/node_modules/fabric-client/lib/Chain.js:1772:12)
possible bug in Chain.js

bretharrison 12:12 PM   
@jtrayfield Yes I think you are correct, that is an issue. For now you should change `logger.warning` to `logger.error",node 6.10,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,,600,600,,0%,600,600,,,,,,,,,,,,,FABN-272,,,,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jtrayfield,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/17 12:47 AM;jimthematrix;[~jtrayfield] thanks for reporting this: http://gerrit.hyperledger.org/r/8551;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode invoke timeout,FABN-534,20722,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,brantzh,brantzh,11/Sep/17 6:11 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/Oct/17 3:57 AM,,,,,,,,,,,0,,,,,"We instantiated a chaincode on one peer0 and try to invoke the chaincode.

 

We got following error from other peers

 

<dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1>), because of <no such image>...attempt to recreate image
2017-09-11 02:55:14.717 EDT [chaincode-platform] generateDockerfile -> DEBU 3b6
FROM hyperledger/fabric-baseos:s390x-0.3.1
ADD binpackage.tar /usr/local/bin
LABEL org.hyperledger.fabric.chaincode.id.name=""test8cc01"" \
 org.hyperledger.fabric.chaincode.id.version=""v1"" \
 org.hyperledger.fabric.chaincode.type=""GOLANG"" \
 org.hyperledger.fabric.version=""1.0.0"" \
 org.hyperledger.fabric.base.version=""0.3.1""
ENV CORE_CHAINCODE_BUILDLEVEL=1.0.0
ENV CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/peer.crt
COPY peer.crt /etc/hyperledger/fabric/peer.crt
2017-09-11 02:55:14.729 EDT [util] DockerBuild -> DEBU 3b7 Attempting build with image hyperledger/fabric-ccenv:s390x-1.0.0 

2017-09-11 03:04:02.581 EDT [dockercontroller] deployImage -> DEBU 3b8 Created image: dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1
2017-09-11 03:04:02.581 EDT [dockercontroller] Start -> DEBU 3b9 start-recreated image successfully
2017-09-11 03:04:02.582 EDT [dockercontroller] createContainer -> DEBU 3ba Create container: dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1
2017-09-11 03:04:02.906 EDT [dockercontroller] createContainer -> DEBU 3bb Created container: dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1
2017-09-11 03:04:03.813 EDT [dockercontroller] Start -> DEBU 3bc Started container dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1
2017-09-11 03:04:03.813 EDT [container] unlockContainer -> DEBU 3bd container lock deleted(dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1)
2017-09-11 03:09:03.814 EDT [chaincode] launchAndWaitForRegister -> DEBU 3be stopping due to error while launching Timeout expired while starting chaincode test8cc01:v1(networkid:dev,peerid:peer1-org2.1505112034187.svc.cibfintech.com,tx:7cf069d21c72b3759444c3d53ef28b3b65714aa41a769d4e00d72239bfd2d7f2)
2017-09-11 03:09:03.814 EDT [container] lockContainer -> DEBU 3bf waiting for container(dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1) lock
2017-09-11 03:09:03.814 EDT [container] lockContainer -> DEBU 3c0 got container (dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1) lock
2017-09-11 03:09:03.817 EDT [dockercontroller] stopInternal -> DEBU 3c1 Stop container dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1(Container not running: dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1)
2017-09-11 03:09:03.819 EDT [dockercontroller] stopInternal -> DEBU 3c2 Kill container dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1 (API error (500): \{""message"":""Cannot kill container dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1: Container 9f77735cf9492554a092bbc6ad37d57820b0a3f92ab7bd1734cda074e3737836 is not running""}
)
2017-09-11 03:09:03.938 EDT [dockercontroller] stopInternal -> DEBU 3c3 Removed container dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1
2017-09-11 03:09:03.938 EDT [container] unlockContainer -> DEBU 3c4 container lock deleted(dev-peer1-org2.1505112034187.svc.cibfintech.com-test8cc01-v1)
2017-09-11 03:09:03.938 EDT [chaincode] Launch -> ERRO 3c5 launchAndWaitForRegister failed Timeout expired while starting chaincode test8cc01:v1(networkid:dev,peerid:peer1-org2.1505112034187.svc.cibfintech.com,tx:7cf069d21c72b3759444c3d53ef28b3b65714aa41a769d4e00d72239bfd2d7f2)
2017-09-11 03:09:03.938 EDT [chaincode] ExecuteChaincode -> ERRO 3c6 Error executing chaincode: Timeout expired while starting chaincode test8cc01:v1(networkid:dev,peerid:peer1-org2.1505112034187.svc.cibfintech.com,tx:7cf069d21c72b3759444c3d53ef28b3b65714aa41a769d4e00d72239bfd2d7f2)
2017-09-11 03:09:03.938 EDT [endorser] callChaincode -> DEBU 3c7 Exit
2017-09-11 03:09:03.938 EDT [endorser] simulateProposal -> ERRO 3c8 failed to invoke chaincode name:""test8cc01"" on transaction 7cf069d21c72b3759444c3d53ef28b3b65714aa41a769d4e00d72239bfd2d7f2, error: Error executing chaincode: Timeout expired while starting chaincode test8cc01:v1(networkid:dev,peerid:peer1-org2.1505112034187.svc.cibfintech.com,tx:7cf069d21c72b3759444c3d53ef28b3b65714aa41a769d4e00d72239bfd2d7f2)
2017-09-11 03:09:03.938 EDT [endorser] simulateProposal -> DEBU 3c9 Exit
2017-09-11 03:09:03.939 EDT [lockbasedtxmgr] Done -> DEBU 3ca Done with transaction simulation / query execution [485ee8d9-bd45-44b3-8060-095549a2f873]
2017-09-11 03:09:03.939 EDT [endorser] ProcessProposal -> DEBU 3cb Exit

 

 

The chaincode container it built in exit status with following messages.

 

!image-2017-09-11-17-11-32-597.png!",,brantzh,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/17 6:11 PM;brantzh;image-2017-09-11-17-11-32-597.png;https://jira.hyperledger.org/secure/attachment/12053/image-2017-09-11-17-11-32-597.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyfy7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,brantzh,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/17 3:58 AM;harrisob@us.ibm.com;Chaincode must be installed on all peers that will endorse a proposal;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getSubmitter() fails after loading a user from COP,FABN-535,14303,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,inatatsu,inatatsu,23/Jan/17 2:28 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,25/Jan/17 11:02 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"After [https://jira.hyperledger.org/browse/FAB-1787] has been merged, getSubmitter() of util.js fails when a user is loaded remotely from COP. The end-to-end test fails at step 2:
{code:java}
e2e        | debug: [Client.js]: saveUserToStateStore, store.setValue, result = {""name"":""admin"",""roles"":null,""affiliation"":"""",""enrollmentSecret"":"""",""enrollment"":{""signingIdentity"":""59bac0ec04e7a146c15a923263aa442d3cf988f14adab47d968dafc6ceac9d80"",""identity"":{""id"":""testIdentity"",""certificate"":""-----BEGIN CERTIFICATE-----\nMIIB7zCCAZegAwIBAgIUcfqMVMGLZwDIx1psQTfhkari5bAwCgYIKoZIzj0EAwIw\nfzELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNh\nbiBGcmFuY2lzY28xHzAdBgNVBAoTFkludGVybmV0IFdpZGdldHMsIEluYy4xDDAK\nBgNVBAsTA1dXVzEUMBIGA1UEAxMLZXhhbXBsZS5jb20wHhcNMTcwMTIyMDkzMTAw\nWhcNMTcxMjIxMTczMTAwWjAQMQ4wDAYDVQQDEwVhZG1pbjBZMBMGByqGSM49AgEG\nCCqGSM49AwEHA0IABPk8xg47qKpt+to7EHmWxDtKiMwrU/Iy2rwCh8OLrSzMN69e\njHhdy04hRnGhslS/cx+lf95TbQLYYNhHtId3OESjYDBeMA4GA1UdDwEB/wQEAwIC\nBDAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBRPiMCJmyR/YLVVBtZA+e3EFqiXbDAf\nBgNVHSMEGDAWgBQXZ0I9qp6CP8TFHZ9bw5nRtZxIEDAKBggqhkjOPQQDAgNGADBD\nAiBMZ2kPAIW1a+UdwHldeP1mGPUDzGIFSCRE6KqQ0LUJvAIfF6FYULDU1v31J9Hn\nNJi4oNLSE7yCzVrrO28p1ytbnA==\n-----END CERTIFICATE-----\n""}}}
e2e        | not ok 2 test exited without ending
e2e        |   ---
e2e        |     operator: fail
e2e        |     at: processEmit [as emit] (/fabric-sdk-node/node_modules/grpc/node_modules/node-pre-gyp/node_modules/npmlog/node_modules/gauge/node_modules/signal-exit/index.js:140:35)
e2e        |   ...
e2e        |
e2e        | 1..2
e2e        | # tests 2
e2e        | # pass  1
e2e        | # fail  1
{code}",,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-754,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiv3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/17 2:43 PM;inatatsu;https://gerrit.hyperledger.org/r/#/c/4707/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK should not allow different hashing algo to be used other than SHA256 when communication with the orderer,FABN-536,14968,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,21/Feb/17 11:58 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,18/Mar/17 1:07 AM,,,,,,,,,,,0,,,,,SHA256 is statically configured on the orderer,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5cv:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Mar/17 3:26 AM;jimthematrix;[~jyellick], [~vpaprots@ca.ibm.com] I see that orderer.yaml now has a BCCSP section that specifies the hashing parameters among other things, that means it's configurable now right? ;;;","18/Mar/17 1:07 AM;jimthematrix;closing as WONT-FIX per comment above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChaincodeEvents not behaving as expected,FABN-537,28720,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,zonkedhazmat,zonkedhazmat,21/Mar/18 9:53 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,17/May/18 3:22 AM,,,,,,,v1.1.0,,,,0,node-SDK,,,,"When more than one event is created during a block only the first event is received by the node-sdk on block confirmation, and this same event is received n number of times where n is the number of events in the block. ",Ubuntu 16.04,harrisob@us.ibm.com,zonkedhazmat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2fr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,zonkedhazmat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 2:33 AM;harrisob@us.ibm.com;Is this with the new Channel Event Services using Filtered blocks or Full blocks, or is this with the legacy Event Hub ?;;;","05/Apr/18 2:14 PM;zonkedhazmat;is was on the legacy event hub. ;;;","06/Apr/18 2:57 PM;zonkedhazmat;Also with the channel event services using registerChaincodeEvents, I haven't been able to catch the events being emitted from the chaincode at all.;;;","13/Apr/18 4:38 AM;harrisob@us.ibm.com;I am not able to recreate this. I was able to confirm that if my chaincode tried to SetEvent() more then once, only the last one was seen, meaning that only one chaincode event is allowed. Would you provide the registrations and chaincode ?, maybe a debug trace of NodeSDK.;;;","13/Apr/18 8:46 AM;zonkedhazmat;Ill provide the appropriate summary pieces of code below

The chaincode implementation
{code:java}
objectType := ""product""
product := `{""objectType"":""` + objectType + `"",""id"":""` + args[0] + `"",""data"":` + args[1]  + `}`
err = APIstub.SetEvent(eventType, eventAsBytes)
if err != nil {
   shim.Error(""Could not set event for: "" + event)
}
{code}
The Node SDK Legacy eventhub Implementation 

 
{code:java}

const eventRegId = this.event_hub.registerChaincodeEvent(request.chaincodeId, ""product"", event => { 
    console.log(""Event received :"" + event.payload);
    em.emit(eventPayload);
    this.event_hub.unregisterChaincodeEvent(eventRegId);
});{code}
The channeleventhub Node SDK 
{code:java}
let event_hubs = channel.getChannelEventHubsForOrg();
     const profileRegId = this.channel_event_hub.registerChaincodeEvent(request.chaincodeId, ""product"", event => {
     em.emit(event.payload);
     this.channel_event_hub.unregisterChaincodeEvent(profileRegId);
});
{code}
I don't have access to my work pc at the moment so I am unable to get the trace. If I have time later I'll try grab it for you.

 ;;;","16/Apr/18 12:38 PM;zonkedhazmat;I have finally resolved this issue. 

As there are limited examples I was implementing register chaincode events within the invoke function, this lead to errors and bugs occuring where only the latest invoke in a block was registered. 

When bringing the the registration out of the invoke it is able to listen to events raised in the chaincode when not unregistering. This fixes the issues I was having with it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The javascript SDK errors are strings that must be parsed.,FABN-538,31008,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,MariWade,MariWade,13/Jun/18 12:49 AM,30/Oct/19 1:35 AM,28/Oct/23 3:25 AM,30/Oct/19 1:35 AM,,,,,,,Future,,,,0,,,,,"Related to https://jira.hyperledger.org/browse/FAB-6457.

Errors returned from the SDK are strings.   The applications that are using the sdk must parse the strings to understand the type of errors being returned. 

For example when the channel can not initialize due to an orderer down or unavailable, an error is thrown with a message 'SERVICE_UNAVAILABLE'.

When a peer is not available, an error is thrown with the message '14 UNAVAILABLE: Connect Failed'.

Some mechanism, such as custom errors with codes that can be used by applications to determine what type of error is being thrown by the SDKS is needed for applications to handle these errors.

 

Here is a sample code that is being used by the (similar coding to find chaincode error)
{quote}findIfErrorMessageIsDueToNodeUnavailable(msg:string):boolean \{
 let isNodeUnavailable:boolean=false;
 constn=msg.search('14 UNAVAILABLE: Connect Failed');
 if (n>0) \{
 logger.debug(`UserClient findIfErrorMessageIsDueToNodeUnavailable error message includes \""14 UNAVAILABLE: Connect Failed\"" at location $\{n}`);
 isNodeUnavailable=true;
 }
 constn2=msg.search('SERVICE_UNAVAILABLE');
 if (n2>0) \{
 logger.debug(`UserClient findIfErrorMessageIsDueToNodeUnavailable error message includes \""SERVICE_UNAVAILABLE\"" at location $\{n2}`);
 isNodeUnavailable=true;
 }
 return isNodeUnavailable;
 }
{quote}
 
Our application currently, based on the string parsing, then creates custom error types (ErrorChaincode, ErrorClientCommit, ErrorClientInvoke) with a code, message, type.",,davidkel,heatherp,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzelb:",,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,heatherp,MariWade,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jun/18 10:28 PM;MariWade;To be clear, I gave examples of the errors and not a finite list.  I think the node sdk should look at all errors.  In our app that uses the node sdk, I have about 10 custom errors not just the ones listed - chaincode errors, peers down, proposal errors, query errors, etc.;;;","07/Sep/18 3:33 AM;davidkel;I agree there are lots of problems with only getting error messages which may have to be parsed. Unfortunately we don't have control over all of them, for example the UNKNOWN 14: comes from grpc. 
We should have a better error reporting mechanism, but this is an enhancement as opposed to a bug. So changing this to a Story which can be looked at as part of improving the node-sdk API;;;","07/Sep/18 11:07 PM;MariWade;The worry is that at any point those error strings can be updated. 

There are automated unit tests but due to all the mocks, those will not catch any update error string a real Fabric network/sdk would throw.  The only way to catch is to do a manual test against a real system and validate the error string on any update
 ;;;","07/Sep/18 11:14 PM;davidkel;Absolutely agree, but it isn't a bug and some of the error messages we just cannot control (ie those that come from dependent libraries) so how to deal with those. It's going to be either an enhancement or breaking change to the api to do the right thing and do it everywhere so not a small feat.;;;","30/Oct/19 1:35 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] gulp test hangs when end-to-end.js included in test.js,FABN-539,14519,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,jjjjibm,jjjjibm,03/Feb/17 4:29 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,04/Feb/17 1:57 AM,,,,,,,,,,,0,,,,,"The unit tests executed by  fabric-sdk-node/gulp test are controlled by fabric-sdk-node/build/tasks/test.js, in the task called pre-test. 

When fabric-sdk-node/test/unit/end-to-end.js is included, gulp test hangs.

However, I have no trouble running end-to-end.js from the command line:  node end-to-end.js.

It's desirable to include end-to-end.js in gulp's pre-test task so we get a better unit test coverage map. 
",vlaunch VM,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Feb/17 4:37 AM;cdaughtr;http://gerrit.hyperledger.org/r/5479;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] gulp test fails ,FABN-540,14004,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,jjjjibm,jjjjibm,11/Jan/17 4:01 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:43 AM,,,,,,,,,,,0,,,,,"Having set up fabric, fabric-sdk-node, and fabric cop per Jim Zhang's sprint 7 video, gulp test fails, starting from test 27: 

not ok 27 test exited without ending
  ---
    operator: fail
    at: processEmit [as emit] (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/grpc/node_modules/node-pre-gyp/node_modules/npmlog/node_modules/gauge/node_modules/signal-exit/index.js:140:35)
  ...

The remaining test cases fail the same way.

1..52
# tests 52
# pass  25
# fail  27
Our public fabric-sdk-node readme, https://github.com/hyperledger/fabric-sdk-node/blob/master/README.md
has this instruction:

Run the full unit test bucket and make sure 100% are passing:

    gulp test

I have run each unit test individually.  Most of these fail, but in a different way. 

 How to recreate:
1.Set up fabric, fabric-cop,.and fabric-sdk-node per Jim Zhang's sprint 7 video.  See Environment for commit levels. 
2.cd fabric-sdk-node
3.gulp test
","Use commit levels specified in Jim Zhang's sprint 7 video:

Fabric:
git checkout -b sprint7 d26b8b4aa8e382555f3e6b518a3ef9d5bbfc8091
fabric-cop:
        git checkout -b sprint7 ffb4fc22b84775769c755c5c3db53f6911ba4835
fabric-sdk-node
        git checkout -b sprint7 662135eedefd43e0d249362b991cf04e2b423783

I am running a vlaunch VM running Ubuntu ""trusty"" .  
I am using the docker compose file in fabric-sdk-node/test/fixtures

",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-42,FABN-101,FABN-261,FABN-464,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxguf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Test code shows unsupported flow,FABN-541,17147,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,26/May/17 2:14 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,26/May/17 11:18 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,0,node-SDK,,,,"Test code shows the unsupported creating channel using the SDK, this should be converted to using the ConfigTX tool output so as to not cause confusion.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 11:18 AM;jimthematrix;https://gerrit.hyperledger.org/r/9815;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Merge setUserFromConfig() into setUserContext(),FABN-542,20529,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,30/Aug/17 11:59 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,03/Oct/17 2:25 AM,,,,,,,v1.1.0,,,,0,,,,,"this is based on the two review comments in https://gerrit.hyperledger.org/r/#/c/12577/, on the design of the method setUserFromConfig(name, password, clear_existing_user):

# is there ever a reason why the current user context should not be cleared?
# now I'm looking at how this is used, I feel this method should really be part of ""setUserContext()"". so setUserContext() should be enhanced to check if the first argument is a User object (User.isInstance()) or not. if an user, then assume it's been enrolled (the current behavior). if an object with ""username"" and ""enrollmentSecret"" properties, assume it's possibly an un-enrolled user and process it the way you are currently doing.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyeun:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/17 11:20 PM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/13187/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FabricMSPConfig decoder doesnot contain TLS Root/Intermediate certs,FABN-543,28293,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,sudheesh001,sudheesh001,08/Mar/18 7:32 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,12/Mar/18 4:57 PM,,,,,,,,,,,0,node-SDK,,,,"The decodeFabricMSPConfig() function in BlockDecoder in the Node SDK tries to deserialize tls_root_certs and tls_intermediate_certs from the mspConfigProto.FabricMSPConfig. This however is undefined since the tls_root_certs and tls_intermediate_certs are not an actual part of the FabricMSPConfig()

 

*Edit:* It looks like the protos are out of sync. The proto file on Node was the latest edited file. Nov 2017 and in py SDK it's Mar 2017",,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz09r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/18 10:18 PM;sudheesh001;https://gerrit.hyperledger.org/r/#/c/18871/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] FabricCAClientImpl.js -- test for 'undefined' fails,FABN-544,15426,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jjjjibm,jjjjibm,jjjjibm,23/Mar/17 1:18 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,31/Mar/17 5:02 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In fabric-sdk-node/fabric-ca-client/lib/FabricCAClientImpl.js, I was trying to drive the 'if' legs of this code with a unit test program:

var FabricCAClient = class {
{color:#654982}<lines skipped>{color}
constructor(connect_opts, cryptoPrimitives) {
{color:#654982}<lines skipped>
{color}
if (this._tlsOptions.verify==='undefined'){
				{color:#8eb021}this._tlsOptions.verify = true;
{color}		}
			if (this._tlsOptions.trustedRoots==='undefined'){
				{color:#8eb021}this._tlsOptions.trustedRoots = [];
{color}			}

In my source code, I passed connect_opts.tlsOptions = {} to the constructor, expecting to drive the legs with undefined 'verify' and 'trustedRoots' fields.  Instead, as confirmed in Node Inspector, the fields are indeed not defined but the tests for 'undefined' fail.

Locally, I was able to drive the code by changing the test like this:
if ({color:#d04437}typeof{color} this._tlsOptions.verify === 'undefined') {
				this._tlsOptions.verify = true;
			}
			if {color:#d04437}(typeof {color}this._tlsOptions.trustedRoots === 'undefined') {
				this._tlsOptions.trustedRoots = [];
			}

You can see other tests for undefined coded this way in the same part.

At first, after making the change, I saw errors of this nature:
_/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:477
                var cert = Buffer.from(signingI
                                       ^^^^^^^^
SyntaxError: missing ) after argument list
    at Object.exports.runInThisContext (vm.js:76:16)
    at Module._compile (module.js:513:28)
    at Object.Module._extensions..js (module.js:550:10)
    at Module.load (module.js:458:32)
    at tryModuleLoad (module.js:417:12)
    at Function.Module._load (module.js:409:3)
    at Module.require (module.js:468:17)
    at require (internal/module.js:20:19)
    at Object.<anonymous> (/home/ibmadmin/work/src/github.com/hyperledger/fabric-sdk-node/test/unit/util.js:25:18)
    at Module._compile (module.js:541:32)

_I was able to fix these by adding a semi-colon (';') between methods.  I'll attach my source code for your perusal.","fabric-sdk-node: commit cca72f8d3c5cbb7da5ee311f80200d36b1a67891
on Ubuntu 14 vlaunch VM",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/17 1:17 AM;jjjjibm;FabricCAClientImpl.js;https://jira.hyperledger.org/secure/attachment/10601/FabricCAClientImpl.js",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxodr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/17 4:34 AM;jjjjibm;Hi Jim.  If you agree with the attached part, and you're short on time, you can assign this back to me.  Cheers.;;;","30/Mar/17 12:48 AM;jjjjibm;commit 6c7345b64e892c08f901a92f7c9f5a69959bad3d
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Wed Mar 29 11:39:56 2017 -0400

    node-SDK FAB-2853 test for 'undefined' fails

    I changed some tests like this:
    if (<variable> === 'undefined)
    to
    if (typeof <variable> === 'undefined').
    I also needed to add semi-colons to FabricCAClientImpl.js.
    See FAB-2853 for more discussion.

    Change-Id: I8471ba6e8b3ed151ce35ea07732c09ff9a295a49
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;","30/Mar/17 5:44 AM;jjjjibm;Today, I was able to remove the magic semi-colons, and the job worked.   

commit d9c870b46471d084d7bd99227df1955b4e0c6915
Author: jjjjibm <jcwolf@us.ibm.com>
Date:   Wed Mar 29 11:39:56 2017 -0400

    node-SDK FAB-2853 test for 'undefined' fails

    I changed some tests like this:
    if (<variable> === 'undefined)
    to
    if (typeof <variable> === 'undefined').
    See FAB-2853 for more discussion.

    Change-Id: I8471ba6e8b3ed151ce35ea07732c09ff9a295a49
    Signed-off-by: jjjjibm <jcwolf@us.ibm.com>
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SSL errors occur when trying to communicate with multiple peers concurrently,FABN-545,20959,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,MichaelWang,davidkel,davidkel,22/Sep/17 7:29 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,29/Nov/17 2:51 AM,v1.0.2,,,,,,v1.0.5,,,,0,node-SDK,,,,"A composer user reported the following
{noformat}
Another problem after previous one, anyone hitting this randomly, when the Fabric network is
having more peers (now I have 4). The frequency of hitting this grpc subchannel creation
failure increases when the no. of peers increases (1 peer = no problem, 2 peers = no problems, 
3 peers = quite often, 4 peers = only able to dodge this error by luck). 
After some google-ing, it looks like concurrency issue when a lot of gRPCs
connections are made at the same time.
{noformat}
The command they tried was
{code}
$ composer network update --archiveFile build/abc-network.bna -p hlfv1-swarm -i admin -s adminpw
{code}
which is a submit transaction request and output shows
{noformat}
E0921 09:13:29.605557944 42762 ssl_transport_security.c:584] Could not load any root certificate.
E0921 09:13:29.605659748 42762 ssl_transport_security.c:1297] Cannot load server root certificates.
E0921 09:13:29.605696849 42762 security_connector.c:857] Handshaker factory creation failed with TSI_INVALID_ARGUMENT.
E0921 09:13:29.605724550 42762 secure_channel_create.c:112] Failed to create secure subchannel for secure name 'peer1.abc.com:7058'
E0921 09:13:29.605748251 42762 secure_channel_create.c:143] Failed to create subchannel arguments during subchannel creation.{noformat}
They are running the latest level of the node-sdk (1.0.2) and that has pulled in grpc 1.6.0. There is a possibility that the problem has been introduced by this level (or at least a level newer than 1.2.4) in grpc.
 see 
 [https://github.com/grpc/grpc/issues/12642]
 as the user says this describes almost exactly the issue they are seeing",,davidkel,harrisob@us.ibm.com,lmars,MichaelWang,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyh33:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,lmars,MichaelWang,shimos,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/17 3:08 AM;harrisob@us.ibm.com;I see that GRPC is now at 1.6.6 , have you done an install lately and are still seeing these errors.;;;","02/Nov/17 5:43 AM;shimos;Regarding at least the gRPC bug mentioned, I still hit the bug with gRPC 1.6.6. So the bug should affect fabric as well.;;;","17/Nov/17 4:42 PM;davidkel;This problem still occurs with grpc 1.7.1. Someone on the grpc issue seems to think that this is a boringssl issue. However it isn't getting much attention from the grpc folks. This could be a real problem for fabric for environments that require more than 2  peers using TLS and the node-sdk so somehow there needs to be push to get the grpc folks to up the priority of this problem.;;;","17/Nov/17 11:27 PM;Clayton Sims;Bret just confirming you are on track to include this in a 1.0.5
;;;","24/Nov/17 2:27 PM;MichaelWang;Hi, as we found that this problems may result from the unexpected content of memory of buffer.

When I print the content of the credential(ca root), there are so many random content following the ca root content, and sometimes part of the ca root. And when this part appears, ssl problem will arise. After I add the string terminator to the end of the credential string,

all the problems just disappears as I tested. So I think this the root cause. I also got a small patch to fix it. I am not so familiar

with grpc, so this patch may not so elegant. Well I think more investigation will be needed against this problem for a more elegant solution. ;;;","24/Nov/17 2:32 PM;MichaelWang;Well if more data is read from the memory, then this problem will also result in the security issue.;;;","28/Nov/17 3:40 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/15719/;;;","29/Nov/17 2:51 AM;harrisob@us.ibm.com;The workaround has been merged that will force an \0 to the end of the cert;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] hfc.getChain(<brand new name>, create=yes) fails with ReferenceError: name is not defined",FABN-546,12427,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jjjjibm,jjjjibm,17/Aug/16 6:35 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,01/Sep/16 10:23 PM,,,,,,,,,,,0,Fabric05,node-SDK,,,"
My program calls hfc.getChain with a new chain name and the create flag.

GetChain calls hfc.newChain() because the chain has not been allocated yet.

The call fails like this:
setChainFields: calling getChain() <--- message from my program

The rest is from node.js:
/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:2194
chain = newChain(name);
^
ReferenceError: name is not defined
at Object.getChain (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:2194:26)
at setChainFields (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/registrar2.js:88:18)
at Test. (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/registrar2.js:65:5)
at Test.bound as _cb
at Test.run (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:82:10)
at Test.bound as run
at Immediate.next as _onImmediate
at processImmediate as _immediateCallback

Looking at the getChain function in hfc.ts

export function getChain(chainName, create) {
let chain = _chains[chainName];
if (!chain && create) {
chain = newChain(name);
}
return chain;
}:

we notice getChain() takes the parameter chainName and looks up chainName, but when it creates a new chain, it passes a new variable, name. Could it be newChain should have been called like this?
chain = newChain(chainName)
Describe How to Reproduce

Add this to register.js or to a similar program:
var create = true;
var chain = hfc.getChain(""testChain3"", create);

where ""testChain3"" has not been allocated yet.
",win7 hfc 0.0.2,cdaughtr,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb3z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,cdaughtr,ChristopherFerris,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Sep/16 6:45 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/819
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - create and update channel should not be exposed,FABN-547,16641,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/May/17 12:51 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,12/May/17 2:43 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"Update the comment lines of Chain and Client to make the full SDK protobuf create and 

update of channels methods not appear on the API list. This will indicate these are internal methods at this time.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuw7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As per gettinstarted doc using hackfest images, deploy is not going though",FABN-548,14920,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,Ratnakar,Ratnakar,Ratnakar,19/Feb/17 4:41 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,19/Feb/17 6:34 AM,,,,,,,v1.0.0-alpha1,,,,0,node-SDK,,,,"As per the *gettingstarted* document from here http://hyperledger-fabric.readthedocs.io/en/latest/gettingstarted/
using hackgest images. 

Deploy chaincdoe through nodesdk fails.

",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Feb/17 4:44 AM;Ratnakar;Root cause of the issue:

the sfhackfest images uses the ports *805** , where as *config.json* from _*alpha-1.0 branch*_ uses ports *705**
Hence node program that trying to deploy on to that peer is unable to connect with those ports hence program fails to deploy chaincode.

No changes required for this patch https://gerrit.hyperledger.org/r/#/c/5847/ once fix is given;;;","19/Feb/17 4:51 AM;Ratnakar;Gerrit link https://gerrit.hyperledger.org/r/#/c/6217/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ca-tests.js failed in the last step,FABN-549,13469,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,17/Nov/16 2:04 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Nov/16 8:15 AM,,,,,,,,,,,0,node-SDK,,,,"not ok 10 Error: admin should not be allowed to re-enroll

This is because the intention is to call MemberService backend to enroll a user that's already been enrolled, but the code called Chain.enroll() which can succeed as long as the enrollment is loaded successfully from kvs",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxexz:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
registerBlockEvent() returns an incomplete Block object (read/write set missing),FABN-550,26950,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,jtracey,jtracey,19/Jan/18 8:22 PM,12/Oct/19 4:33 PM,28/Oct/23 3:25 AM,21/Jan/18 8:48 AM,v1.1.0-preview,,,,,,,,,,0,,,,,"Hyperledger Fabric SDK for node.js

Peer (or SDK) issue related to EventHub class usage:

Block objects that are returned to a callback function registered via registerBlockEvent() contain an empty read/write set (ns_rwset attribute) under the proposal_response_payload section. Conversely, the contents of this attribute can be observed via a call to the queryBlock() method of the Channel class. 

e.g. displaying the Block object data with:

console.log(JSON.stringify(block, null, 2));

produces the following output via registerBlockEvent()  - note the empty read/write set (ns_rwset):

""proposal_response_payload"": \{
          ""proposal_hash"":  ""d5864d3985d224a60c74954d30b4fe5bb13489625a1a19c679c3486ade4f1241"",
          ""extension"": \{
                ""results"": \{
                 ""data_model"": 0,
                 ""ns_rwset"": []
 }

versus the following output via queryBlock() method:

\{

                              ""namespace"": ""test-org1"",

                              ""rwset"": \{

                                ""reads"": [],

                                ""range_queries_info"": [],

                                ""writes"": [

                                  \{

                                    ""key"": ""demo_key"",

                                    ""is_delete"": false,

                                    ""value"": ""chit chat chit chat 1 on test channel""

                                  }

                                ]

                              }

                            }",Mac OSX 10.11.1,C0rWin,denyeart,harrisob@us.ibm.com,jtracey,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyu1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,C0rWin,denyeart,harrisob@us.ibm.com,jtracey,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jan/18 8:31 AM;C0rWin;Based on comments in the code described is the intended behavior, e.g. 

{code}
						// Drop read write set from transaction before sending block event
						// Performance issue with chaincode deploy txs and causes nodejs grpc
						// to hit max message size bug
						// Dropping the read write set may cause issues for security and
						// we will need to revist when event security is addressed
						caPayload.Results = nil
						chaincodeActionPayload.Action.ProposalResponsePayload, err = utils.GetBytesProposalResponsePayload(propRespPayload.ProposalHash, caPayload.Response, caPayload.Results, caPayload.Events, caPayload.ChaincodeId)
						if err != nil {
							return nil, nil, """", fmt.Errorf(""error marshalling tx proposal payload for block event: %s"", err)
						}
						action.Payload, err = utils.GetBytesChaincodeActionPayload(chaincodeActionPayload)
						if err != nil {
							return nil, nil, """", fmt.Errorf(""error marshalling tx action payload for block event: %s"", err)
						}
{code} 

See here: https://github.com/hyperledger/fabric/blob/release/events/producer/eventhelper.go#L73

I suggest to change it to improvement rather than bug, since works as expected.;;;","21/Jan/18 3:02 AM;denyeart;This is working as intended, I don't think changes will be made to the older EventHub.

Going forward, we recommend to use the new deliver service to get block events, which preserves the read/write set.  The new deliver service is available in master and will be part of the upcoming v1.1 alpha.

I believe this JIRA issue can be closed.;;;","22/Jan/18 9:02 PM;jtracey;Thanks.

Looking at eventhelper.go in the master branch the code still appears to be removing the read/write set. Is this the new deliver service or am I looking in the wrong place?

I'm trying to retrieve the args data posted via ChaincodeInvokeRequest() in the SDK. I believe this is available in the chaincode_proposal _payload section of the Block object but there's no deserializer available in the SDK.;;;","22/Jan/18 9:20 PM;C0rWin;You are looking in the wrong place, the eventhelper.go still available to preserve backward compatibility, while new delivery service for the peer side is now available in deliverevents.go. To be more specific the part which handles delivery of the block is:

{code}
// Deliver sends a stream of blocks to a client after commitment
func (s *server) Deliver(srv peer.Deliver_DeliverServer) error {
	logger.Debugf(""Starting new Deliver handler"")
	defer dumpStacktraceOnPanic()
	srvSupport := &deliverBlockSupport{
		Deliver_DeliverServer: srv,
	}
	// getting policy checker based on resources.BLOCKEVENT resource name
	return s.dh.Handle(deliver.NewDeliverServer(srvSupport, s.policyCheckerProvider(resources.BLOCKEVENT), s.sendProducer(srv)))
}
{code}

which basically utilize the implementation of the delivery handler of ordering service:

{code}
func (ds *deliverHandler) deliverBlocks(srv *DeliverServer, envelope *cb.Envelope) error {
	addr := util.ExtractRemoteAddress(srv.Context())
	payload, err := utils.UnmarshalPayload(envelope.Payload)
	if err != nil {
		logger.Warningf(""Received an envelope from %s with no payload: %s"", addr, err)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	if payload.Header == nil {
		logger.Warningf(""Malformed envelope received from %s with bad header"", addr)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	chdr, err := utils.UnmarshalChannelHeader(payload.Header.ChannelHeader)
	if err != nil {
		logger.Warningf(""Failed to unmarshal channel header from %s: %s"", addr, err)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	err = ds.validateChannelHeader(srv, chdr)
	if err != nil {
		logger.Warningf(""Rejecting deliver for %s due to envelope validation error: %s"", addr, err)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	chain, ok := ds.sm.GetChain(chdr.ChannelId)
	if !ok {
		// Note, we log this at DEBUG because SDKs will poll waiting for channels to be created
		// So we would expect our log to be somewhat flooded with these
		logger.Debugf(""Rejecting deliver for %s because channel %s not found"", addr, chdr.ChannelId)
		return sendStatusReply(srv, cb.Status_NOT_FOUND)
	}

	erroredChan := chain.Errored()
	select {
	case <-erroredChan:
		logger.Warningf(""[channel: %s] Rejecting deliver request for %s because of consenter error"", chdr.ChannelId, addr)
		return sendStatusReply(srv, cb.Status_SERVICE_UNAVAILABLE)
	default:

	}

	accessControl, err := newSessionAC(chain, envelope, srv.PolicyChecker, chdr.ChannelId, crypto.ExpiresAt)
	if err != nil {
		logger.Warningf(""[channel: %s] failed to create access control object due to %s"", chdr.ChannelId, err)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	if err := accessControl.evaluate(); err != nil {
		logger.Warningf(""[channel: %s] Client authorization revoked for deliver request from %s: %s"", chdr.ChannelId, addr, err)
		return sendStatusReply(srv, cb.Status_FORBIDDEN)
	}

	seekInfo := &ab.SeekInfo{}
	if err = proto.Unmarshal(payload.Data, seekInfo); err != nil {
		logger.Warningf(""[channel: %s] Received a signed deliver request from %s with malformed seekInfo payload: %s"", chdr.ChannelId, addr, err)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	if seekInfo.Start == nil || seekInfo.Stop == nil {
		logger.Warningf(""[channel: %s] Received seekInfo message from %s with missing start or stop %v, %v"", chdr.ChannelId, addr, seekInfo.Start, seekInfo.Stop)
		return sendStatusReply(srv, cb.Status_BAD_REQUEST)
	}

	logger.Debugf(""[channel: %s] Received seekInfo (%p) %v from %s"", chdr.ChannelId, seekInfo, seekInfo, addr)

	cursor, number := chain.Reader().Iterator(seekInfo.Start)
	defer cursor.Close()
	var stopNum uint64
	switch stop := seekInfo.Stop.Type.(type) {
	case *ab.SeekPosition_Oldest:
		stopNum = number
	case *ab.SeekPosition_Newest:
		stopNum = chain.Reader().Height() - 1
	case *ab.SeekPosition_Specified:
		stopNum = stop.Specified.Number
		if stopNum < number {
			logger.Warningf(""[channel: %s] Received invalid seekInfo message from %s: start number %d greater than stop number %d"", chdr.ChannelId, addr, number, stopNum)
			return sendStatusReply(srv, cb.Status_BAD_REQUEST)
		}
	}

	for {
		if seekInfo.Behavior == ab.SeekInfo_FAIL_IF_NOT_READY {
			if number > chain.Reader().Height()-1 {
				return sendStatusReply(srv, cb.Status_NOT_FOUND)
			}
		}

		block, status := nextBlock(cursor, erroredChan)
		if status != cb.Status_SUCCESS {
			cursor.Close()
			logger.Errorf(""[channel: %s] Error reading from channel, cause was: %v"", chdr.ChannelId, status)
			return sendStatusReply(srv, status)
		}

		// increment block number to support FAIL_IF_NOT_READY deliver behavior
		number++

		if err := accessControl.evaluate(); err != nil {
			logger.Warningf(""[channel: %s] Client authorization revoked for deliver request from %s: %s"", chdr.ChannelId, addr, err)
			return sendStatusReply(srv, cb.Status_FORBIDDEN)
		}

		logger.Debugf(""[channel: %s] Delivering block for (%p) for %s"", chdr.ChannelId, seekInfo, addr)

		if err := sendBlockReply(srv, block); err != nil {
			logger.Warningf(""[channel: %s] Error sending to %s: %s"", chdr.ChannelId, addr, err)
			return err
		}

		if stopNum == block.Header.Number {
			break
		}
	}

	if err := sendStatusReply(srv, cb.Status_SUCCESS); err != nil {
		logger.Warningf(""[channel: %s] Error sending to %s: %s"", chdr.ChannelId, addr, err)
		return err
	}

	logger.Debugf(""[channel: %s] Done delivering to %s for (%p)"", chdr.ChannelId, addr, seekInfo)

	return nil

}

{code}

as you can see preserves the original read write sets in the block.;;;","23/Jan/18 2:11 AM;jtracey;Using the current master distribution I'm still seeing an empty read/write set. Any thoughts? Thanks

 
""results"": \{
     ""data_model"": 0,
     ""ns_rwset"": []
 
 };;;","23/Jan/18 2:45 AM;C0rWin;Are you using new Events Delivery service or keep using the old approach of v1.0? Please consider to take a look on https://gerrit.hyperledger.org/r/#/c/16919/ to see how you can leverage new events APIs available on master branch now. With respect to the old events system no changes were made, so you [~jtracey] output is expected.;;;","23/Jan/18 4:02 AM;jtracey; 

I'm using the node SDK (with the old delivery service as that is the only one documented). The sample code is for go. Is the API available for node? Thanks.;;;","23/Jan/18 7:05 AM;C0rWin;[~jtracey] I'd refer the SDK related question to [~jimthematrix] or [~rickr]. I know there is work in progress and some CRs already available, while cannot confirm whenever you can base on them.;;;","23/Jan/18 10:40 AM;rickr;Both Node ([~harrisob@us.ibm.com]) and Java SDK have this merged.  I _assumed_ that the events for full blocks would still have rwsets missing.  The solution for that is to query for the block by it's block number which would return the rwsets.;;;","23/Jan/18 6:29 PM;C0rWin;The solution leverages delivery API which was available for AtomicBroadcast RPC on ordering service, there was no plan to handle block delivery any different, hence rwset are not nullified with new API. Here is the new APIs:

{code}
service Deliver {
    // deliver first requires an Envelope of type ab.DELIVER_SEEK_INFO with Payload data as a marshaled orderer.SeekInfo message,
    // then a stream of block replies is received.
    rpc Deliver (stream common.Envelope) returns (stream DeliverResponse) {
    }
    // deliver first requires an Envelope of type ab.DELIVER_SEEK_INFO with Payload data as a marshaled orderer.SeekInfo message,
    // then a stream of **filtered** block replies is received.
    rpc DeliverFiltered (stream common.Envelope) returns (stream DeliverResponse) {
    }
}
{code}

Where {{Deliver}} takes care to bring the block exactly as is, without doing any filtration or transformations to the block content, while {{DeliverFiltered}} is more lightweight as aims to bring transaction id with its status and in case of chaincode event the payload as well.;;;","23/Jan/18 11:08 PM;jtracey; 

The eventsclient.go sample code is connecting to the peer service listening port (usually on 7051) rather than the event service port (7053).

Is this the proposed mechanism for receiving 'full' blocks via events? As far as I'm aware there's no provision for this in the node SDK.

As mentioned by [~rickr] the current implementation (empty read/write set in blocks retrieved via registerBlockEvent()) forces the client app to use queryBlock() to retrieve the missing data, which seems somewhat cumbersome.;;;","24/Jan/18 1:36 AM;harrisob@us.ibm.com;NodeSDK has new API's for the channel-based event service, which is built on the `deliver` service. See NodeSDK master or `npm install fabric-client@unstable`

New API's to get a channel-based event hub are on the `Channel` object and there is a new class `ChannelEventHub`.;;;","24/Jan/18 5:32 PM;jtracey;Thanks Bret.

I pulled the node SDK master and have got the new event service working. The read/write set is now present in blocks so all is good.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http://<ip:port>/docs/gen/chain.html -- getPrimaryPeer(),FABN-551,15089,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,28/Feb/17 9:38 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"In the generated documentation for class chain, some minor errors appear in the description for getPrimaryPeer()

How to recreate:
1.Clone fabric-sdk-node
2.Gulp doc to generate doc
3.python -m SimpleHTTPServer &
4.Use a browser to navigate to <your ip>:8000
5.Navigate to docs/gen/
6.Select Chain from the Classes pull down menu. 

Find these errors on the displayed page:


getPrimaryPeer()

    Get the primary peer The peer to use for doing queries. Default: When no primary peer has been set the first peer on the list will be used.
(a) 
 peer The 
===>
 peer: the 
===>
 peer, the 
==>
 peer.  The primary peer is the peer 

(b)
set the 
==>
set, the 

(c) 
on the list 
===>
on the chain's list of peers","fabric-sdk-node : commit bc36ef5e6a70bf31adb852951f1b5a217f24a099
fabric commit 29d7fc035df697a68d271d628e693c556354486f
fabric-ca commit c3d00c32499232c484df57b68b6f2314f784179e

Ubuntu is running on a vlaunch VM ",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Test code's handling of the ""fcn"" parameter is confusing",FABN-552,18340,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/Jun/17 3:46 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,20/Jun/17 12:10 PM,,,,,,,v1.0.0-rc1,,,,0,,,,,"currently the chaincode samples used in the node SDK's e2e tests requires two function names, one is always required to be ""invoke"", and the 2nd being the first argument is the real function name:
{code}
function, args := stub.GetFunctionAndParameters()
	
	if function != ""invoke"" {
		return shim.Error(""Unknown function call"")
	}

	if args[0] == ""delete"" {
		// Deletes an entity from its state
		return t.delete(stub, args)
	}

	if args[0] == ""query"" {
		// queries an entity state
		return t.query(stub, args)
	}
	if args[0] == ""move"" {
		// Deletes an entity from its state
		return t.move(stub, args)
	}
{code}

This is very confusing to users. basically the first function name is completely useless. Should change it so that the real function name gets returned by stub.GetFunctionAndParameters(), and eliminate the ""invoke"".

https://chat.hyperledger.org/channel/fabric-sdk-node?msg=3AAP8hmp4PaDdQJgY
https://chat.hyperledger.org/channel/fabric-sdk-node?msg=vDHuYTdg4B5aWruYB",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3jj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - common config missing caname,FABN-553,21374,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,07/Oct/17 3:10 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,12/Oct/17 3:10 AM,,,,,,,v1.1.0,,,,0,node-SDK,,,,The common network configuration needs to include the caName field in the certificated authority section to properly build the request to the ca with a name that may be different what the CA is know as in the network.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyipz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/17 3:49 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14297/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-sdk]Fix tls_cacerts path in e2e test,FABN-554,19046,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,08/Jul/17 2:12 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,18/Jul/17 4:46 AM,v1.0.0,,,,,,v1.0.1,,,,0,,,,,"File path of ""tls_cacerts"" is wrong in test/integration/e2e/config.json.
 The valuable of ""tls_cacerts"" is pointing the path of ""cacerts"".
{code:java}
{
        ""test-network"": {
                ""orderer"": {
                        ""tls_cacerts"": ""../../fixtures/channel/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/cacerts/example.com-cert.pem""
                },
                ""org1"": {
                        ""peer1"": {
                                ""tls_cacerts"": ""../../fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/cacerts/org1.example.com-cert.pem""
                        }
                },
                ""org2"": {
                        },
                        ""peer1"": {
                                ""tls_cacerts"": ""../../fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/cacerts/org2.example.com-cert.pem""
                        }
                }
        }
}
{code}
We need to change the path to acctual tlscacerts directory.",fabric-sdk-node: commit a8651210bee69f64941164ab391a36efcd62f947,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7bb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jul/17 2:47 AM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/11439/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non-TLS setup crypto failure when using NodeSDK,FABN-555,31451,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,latitiah,latitiah,29/Jun/18 1:16 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,30/Jun/18 3:43 AM,,,,,,,v1.2.0,,,,0,must-fix,,,,"*Node SDK commit:* 6555757137cc9d3754ef04074d2ecaaf75bfc9af

*Test scenario:* 
Given a non-TLS fabric network.
When peers create and join a channel using the CLI
And chaincode is installed using the CLI
And a user queries the chaincode using NodeSDK

Fails: ""Error: A crypto suite has not been assigned to this client""

Note: If one uses the NodeSDK instead of the CLI when creating and joining the channel, the suspicion is that the failure would occur at that point in the test scenario. This is error is being seen when using the PTE test tool for test case FAB-10135.

This is causing failures in CI for over 50 regression test cases.",,harrisob@us.ibm.com,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzgjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 1:22 AM;latitiah;I suspect that the failure occurs in fabric-client/lib/impl/NetworkConfig_1_0.js where the TLS certificates are verified regardless of whether this is a TLS or mutual TLS enabled network.

I also suspect that this error would not be seen if certificates and key files are always supplied regardless of security setup. Please add a test scenario that covers the case when a network does not require crypto material.;;;","29/Jun/18 5:08 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/23825/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code cleanup,FABN-556,17337,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,01/Jun/17 3:59 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Jun/17 11:06 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,5,,,,,"General code clean up. Removing unused methods, properties. Moving internal static methods out of classes and make them module-scoped functions so they don't get exposed.

*Unused methods*
- Channel.js
   - buildChannelConfig(): _*already taken out of documented APIs*_, just remove the actual implementation. this is from the attempt to support channel creation from JSON input without relying on configtxgen. later on we changed direction to only support binary input from configtxgen (FAB-1678)
   - buildChannelConfigUpdate(): same as above
   - isReadonly(): meant to indicate if the channel has been terminated (no new blocks), never implemented
- Client.js
   - newMSP(): was used by the JSON-input based create channel and update channel
   - buildChannelConfigUpdate(): same as the one in Channel.js above
   - buildChannelConfig(): same as the one in Channel.js above

*Static methods to take out of the class and made module-scoped*
These are currently static with a ""_"" prefix which indicates they are not public API, but they are still exposed by the module because they are part of the class. Would like to move them out of the class and change to functions in the same module, so they would not pollute the API (because client can't call them any longer).
- Channel.js
   - static _sendPeersProposal(): 
   - static _signProposal()
   - static _checkProposalRequest()
   - static _checkInstallRequest()
   - static _buildChannelHeader()
   - static _buildHeader()
   - static _buildCurrentTimestamp()
   - static _translateCCType()

*Unused properties*
- Channel.js
   - _securityEnabled: hold-over from 0.6 concept (used to not require signatures on requests), never used and not applicable anymore

*Unused class*
- ChannelConfig.js: not needed any longer because this class is dedicated to JSON-based input for channel creation/update, which we are not doing anymore.
   ",,ChristopherFerris,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,FABN-409,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3d3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jun/17 5:29 AM;denyeart;[~jimthematrix] Can you provide your view on risk of making these changes in 1.0 vs risk of deferring these to 1.1.  For example if we leave in some of the Unused methods, does that mean that clients may try to call them, which could cause frustration for them in 1.0, and potentially break them if we remove later in 1.1?  If that is true, I would vote to remove them now.  But if these are more cosmetic changes that can easily be fixed up in 1.1 without much impact, I would vote to defer.;;;","03/Jun/17 2:50 PM;ChristopherFerris;I'm betting that Composer team won't be thrilled with more churn.;;;","05/Jun/17 6:47 AM;jimthematrix;[~denyeart], [~ChristopherFerris] these changes are all clean-up, they are in the following categories:
- once functional but have since been abandoned. those related to creating/updating channels with JSON input, which were already taken out of API documentation. I'd like to clean them up because users in the community keep asking about them, and I have to repeatedly tell them ""don't use them, they have been removed from the API"".
- static internal methods inside classes. they are not meant to be called by the application code, that's why they have been prefixed with ""_"". But they are still accessible to the application code through the module. I'd like to prevent accidental usage by moving them out of the classes but kept inside the modules they are in.
- unimplemented methods. never functional and should just go.

The only potential ""breaking"" change is the first category, which is a breaking change by design since these APIs are abandoned in favor of supporting binary input by the configtxlator tool only. they others are safe and would prevent apps building undesirable dependencies through accidental usage.

In short, we need to do all the above to save us the headache in the future after the release goes out. and no customers should complain since they are not supposed to use any of these in the first place.

Finally, the Composer team has been gracious w.r.t API churns, but in this case the good news is that they are not using any of these methods or properties.;;;","05/Jun/17 10:53 PM;denyeart;Thanks for the detailed explanation Jim.  I agree cleanup like this should be done before the release instead of after the release, to eliminate many future headaches. +1.;;;","06/Jun/17 1:32 AM;sstone1;The Composer team do not use any of these APIs, so we should be OK - thanks for checking though (y);;;","06/Jun/17 2:50 AM;ChristopherFerris;This now has the requisite number of votes and may be merged when ready;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Leading 0 no longer required for serial numbers in fabric-ca-client ,FABN-557,15625,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,08/Apr/17 9:11 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,13/Apr/17 7:28 PM,v1.0.0,v1.0.0-alpha1,,,,,v1.0.0,,,,0,,,,,"https://gerrit.hyperledger.org/r/#/c/6955/8/util/util.go@558 changed the fabric-ca implementation to no longer prepend a ""0"" to serial numbers.  Need to modify the fabric-ca-client to match this change",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,";13/Apr/17 7:28 PM;mastersingh24;600",600,0,600,100%,600,0,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx4c7:",,,,,,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
packageChaincode() in Member.js does not compute the 'correct' hash value,FABN-558,13213,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,kh2se2013,kh2se2013,27/Oct/16 1:47 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,18/Nov/16 6:10 AM,,,,,,,,,,,0,node-SDK,,,,"simply, we say 'github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02' with 2 code files as chaincodePath.

after first invoke, there are 3 files now, and Dockerfile in the path with hash 'xxx' inside

in second invoking, we got 3 file's hash now, and overwrite the Dockerfile with  hash 'yyy'

then we will always get new version image with code file unmodified

tar the Dockerfile outside may be more properly or delete it after packaged
",,jimthematrix,kh2se2013,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe53:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,kh2se2013,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/16 6:10 AM;jimthematrix;this is NOOP because after the chaincode custom name work, the SDK is not calculating the has any longer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] http.<ip:port> /docs/gen/EventHub.html,FABN-559,15166,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jjjjibm,jjjjibm,02/Mar/17 11:53 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,06/Apr/17 3:39 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"(0) json --> JSON

(1) from an event {color:#205081}source(peer) {color}--> from an event{color:#205081} source (peer)
{color}

(2) connect()
 This needs to document thows  Error('Must set peer address before connecting.');


(3) registerChaincodeEvent(ccid, eventname, callback)
The Type token appears twice in this table:

 ccid             string            {color:#205081}string{color} chaincode id
 eventname string            {color:#205081}string{color} The regex string used to filter events
 callback 	    function        {color:#205081}Function{color} Callback function for filter matches that takes a single parameter which is a json object representation of type ""message ChaincodeEvent"" from lib/proto/chaincodeevent.proto


(4) registerTxEvent(txid, callback)
used by the sdk ==> used by the SDK
instantiate and invoke ==> Instantiate and Invoke ?

(4a)
txid 	string 	string transaction id
==>
txid 	string 	transaction id

(4b) (very long sentence) 
Function that takes a parameter which is a json object representation of type ""message Transaction"" from lib/proto/fabric.proto and a parameter which is a boolean that indicates if the transaction is invalid (true=invalid)
==>
Function that takes a parameter which is a JSON object representation of type ""message Transaction"" from lib/proto/fabric.{color:#205081}proto, and {color}a parameter which is a Boolean that indicates if the transaction is invalid (true=invalid).

or
==>
Function that takes a parameter which is a JSON object, and a parameter which is a boolean. The JSON object represents type 'message transaction' from lib/proto/fabric.proto.  The boolean indicates whether the transaction is invalid (true = invalid) 

(4c)  lib/proto/fabric.proto.   
There's no fabric.proto in fabric-sdk-node/fabric-client/lib/protos, and there's no
fabric-sdk-node/fabric-client/lib/proto.  Please correct this pathname  (but it is great that the pathname of the prototype is mentioned here!)

(5) setPeerAddr(peeraddr, opts) vs setPeerAddr(peerUrl)
The generated document describes the opts parameter, but the code has no such parameter:
setPeerAddr(peerUrl)

(6) txCallback(block)
private internal callback for processing tx events
==>
Private internal callback for processing transaction events

(6a) If this is private in the sense that we don't want nodejs clients calling it, is it wise to document its parameters?
(6b) json object representing block of tx from the fabric
==>
JSON object representing block of transactions from the fabric

(7) unregisterTxEvent(txid)
In the Parameters table, for row txid, the Type column is empty but 'string' appears in the Description column.  

","fabric      commit 39da6d5f263913668567112399c1708e3f87efc3
fabric-ca commit c9fb04e0f795589485915883fcbca3ae2fc0aaad
fabric      commit 817fa851931e2614646800bcdd6da75940f85dd8",jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmlj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node builds are failing on latest commits,FABN-560,23984,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,17/Nov/17 4:49 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,28/Nov/17 3:48 AM,,,,,,,v1.1.0-alpha,,,,0,fabric-sdk-node,,,,"Observed below error while executing fabric-sdk-node e2e tests on latest fabric and fabric-ca commits
{code:java}
 00:14:14.092 not ok 1049 Error: fabric-ca request register failed with errors [[{""code"":43,""message"":""Registrar does not have attribute 'hf.Registrar.Attributes' thus can't register any attributes""}]] at IncomingMessage.<anonymous> (/w/workspace/fabric-sdk-node8-merge-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/fabric-ca-client/lib/FabricCAClientImpl.js:9:26662) at emitNone (events.js:111:20) at IncomingMessage.emit (events.js:208:7) at endReadableNT (_stream_readable.js:1056:12) at _combinedTickCallback (internal/process/next_tick.js:138:11) at process._tickDomainCallback (internal/process/next_tick.js:218:9)
{code}
 

*https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-x86_64/73/consoleFull*",,harrisob@us.ibm.com,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzync7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/17 7:40 AM;mastersingh24;[~rameshthoomu] - Is this still an issue?;;;","28/Nov/17 3:48 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/15541/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update default test_chainid to testchainid,FABN-561,14424,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,29/Jan/17 11:48 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,09/Feb/17 12:38 AM,,,,,,,,,,,0,,,,,due to https://gerrit.hyperledger.org/r/#/c/4931/,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-185,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx77z:",,,,,,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fcn name related chaincode changes resulted in invoke/query failures in balance-transfer sample,FABN-562,18373,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,20/Jun/17 12:42 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,21/Jun/17 2:03 AM,v1.0.0,,,,,,v1.0.0-rc1,,,,0,node-SDK,quality,,,"Node-SDK sample *balance-transfer* app uses chaincode from fixtures , recent changes with CR [10791|https://gerrit.hyperledger.org/r/#/c/10791] changes has to be incorporated in this sample app. Missing those changes resulted in chaincode invoke/query failures

 
{code:java}
[31m2017-06-20 03:29:14.664 UTC [endorser] ProcessProposal -> ERRO 455[0m simulateProposal() resulted in chaincode response status 500 for txid: 6afcee4193f7426c61c076ff490cdefff62852f2dec72472a20c02b923745d64
...

{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/17 12:42 PM;Ratnakar;2017_06_19_23_37_40-logs.tar.gz;https://jira.hyperledger.org/secure/attachment/11207/2017_06_19_23_37_40-logs.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy4tr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/17 2:21 PM;Ratnakar;https://gerrit.hyperledger.org/r/#/c/10815;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - allow full use of admin identity,FABN-563,28343,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,09/Mar/18 11:50 PM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,27/Mar/18 4:32 AM,,,,,,,v1.2.0,,,,0,,,,,All functions should be able to use the admin identity. The method getChannelConfigFromOrderer() should be able to use the admin identity if present. The channel event service should also be able to use the admin identity if assigned to the client instance. Have a test case that will show full use of the admin identity. Test case should show how the connection profile will set the admin identity and also show manually reading the key and cert and then setting the client instance with those to create an admin identity.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz0fz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 4:39 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/19181/] — v1.2

[https://gerrit.hyperledger.org/r/#/c/19481/] — v1.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update clodant npm package to 1.10.0,FABN-564,27908,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,rameshthoomu,rameshthoomu,22/Feb/18 1:19 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,22/Feb/18 12:55 PM,,,,,,,v1.1.1,,,,0,,,,,"Observed errors on *clodant package 1.9.0* while doing `npm install` on nodejs 6.9.5 (fabri-sdk-node release branch)
{code:java}
00:08:16.990 npm ERR! node v6.9.5
00:08:16.992 npm ERR! npm  v3.10.10
00:08:16.993 npm ERR! code EREADFILE
00:08:16.993 
00:08:16.994 npm ERR! Error extracting /home/jenkins/.npm/cloudant/1.9.0/package.tgz archive: ENOENT: no such file or directory, open '/home/jenkins/.npm/cloudant/1.9.0/package.tgz
{code}
 ",,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Feb/18 1:58 AM;harrisob@us.ibm.com;There is an issue with the Node v6.9.5 NPM v3.10.10 where it does not recognize versions correctly and was picking up a back level of cloundant. We have change the package to include the higher version.;;;","22/Feb/18 1:58 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/18013/];;;","22/Feb/18 6:59 AM;harrisob@us.ibm.com;will remove from 18013
fixing with https://gerrit.hyperledger.org/r/#/c/18177/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need access to the client configuration of a common connection profile,FABN-565,22462,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,18/Oct/17 12:23 AM,19/Jul/18 9:54 AM,28/Oct/23 3:25 AM,24/Oct/17 8:31 PM,v1.1.0,,,,,,v1.1.0,,,,0,node-SDK,,,,"I have needed to get access to the client configuration of the common connection profile. Specifically I need to get the organisation information but would also want to access the wallet field in the future. For now my code to get access to the organisation is as follows
{code}
    static getOrgConfig(client) {
        let networkConfig = client._network_config;
        let clientConfig = networkConfig.getClientConfig();
        let orgConfig;
        if (clientConfig && clientConfig.organization) {
            orgConfig = networkConfig.getOrganization(clientConfig.organization);
        }
        return orgConfig;
    }
{code}
The reason I need access to an organisation is because for the following (raised as separate JIRAs)
1. Access to the MSPid of the client organisation required to create a user instance 
2. Get the peers for an organisation so I can register the event hubs
3. try to determine the list of peers to install chaincode to 
But I still would need access to the wallet property (in the near future) of the ClientConfig so need the ability to get to the client config.
",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyjvz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/17 12:30 AM;harrisob@us.ibm.com;[https://gerrit.hyperledger.org/r/#/c/14641/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
privateKey.generateCSR enhance ,FABN-566,22477,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Invalid,,davidkhala,davidkhala,18/Oct/17 1:04 PM,30/Oct/19 1:34 AM,28/Oct/23 3:25 AM,30/Oct/19 1:34 AM,v1.0.1,,,,,,,,,,0,,,,,"
class 'FabricCAServices' in fabric-ca-client 
this class provide a function to enroll identity with Subject `CN={enrollmentID}`
to align with the certificates created by 'cryptogen' 
the Subject should be 'CN=${enrollmentID},L=San Francisco,ST=California,C=US'

{code:java}
privateKey.generateCSR(`CN=${enrollmentID},L=San Francisco,ST=California,C=US`)
{code}

Since FabricCAServices is just simple agent of FabricCAClient. This change will not impact advanced developer to using FabricCAClient for customized request",,davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyjzb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:34 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need a way to get the current config block for system channel,FABN-567,17659,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Won't Do,,varadatibm,varadatibm,09/Jun/17 1:07 AM,01/Sep/18 1:31 AM,28/Oct/23 3:25 AM,01/Sep/18 1:31 AM,,,,,,,,,,,0,,,,,"Need a way to get the current config block for system channel... this is needed to perform channel update operation such as ""Updating the channel creation policy""",,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzpr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/17 11:58 PM;harrisob@us.ibm.com;For v1.0 we should be able to use the existing support in the 'Channel' class to get the config. The application will have to know the system channel name.

Going forward it would be better to have this functionality as a new API on the 'Client' class and only require the Orderer and not the system channel name.;;;","31/Aug/18 7:07 AM;varadatibm;this can be closed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple Orderer Support in Node SDK,FABN-568,19644,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,davidkel,davidkel,01/Aug/17 4:56 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,29/Jun/18 8:57 PM,v1.0.0,,,,,,Future,,,,1,node-SDK,,,,"In the V1.0 release of the Node SDK although you can provide multiple orderers, it will only send to the first one added.

Is there a plan to support multiple orderers and what would be the effect of having multiple orderers defined to the channel object.",,BhaveshPatadiya,davidkel,denyeart,ibmamnt,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyabj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,BhaveshPatadiya,davidkel,denyeart,ibmamnt,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","24/May/18 11:30 AM;ibmamnt;I guess this is high priority in the real production system where multiple orderers are deployed. When the first orderer is down, all of the transactions will fail even though there are working orderers for high availability.  Application developers need to aware of orderer keep alive. Peers aliveness check was actually implemented in fabric v0.6.

[https://github.com/hyperledger-archives/fabric/blob/master/sdk/node/src/hfc.ts#L711]

let client = new net.Socket();
let tryNext = () => \{
 debug(""Skipping unresponsive peer ""+peers[pidx].getUrl());
 client.destroy();
 trySendTransaction(pidx+1);
}

I guess it should be possible to implement similar way for orderer.;;;","15/Jun/18 11:37 AM;zhaochy;[~davidkel] solved in FAB-10627, so can we close this now?;;;","15/Jun/18 12:01 PM;ibmamnt;I have no authority to decide ""close"".  But from my perspective, it can be closed by some authority (Dave Keysey ? ).

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a Developer I would like to set multiple events per block with the chaincode and catch all of them in multiple Decentralised Node Applications,FABN-569,29412,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Invalid,,zonkedhazmat,zonkedhazmat,16/Apr/18 8:07 AM,01/Nov/18 8:12 PM,28/Oct/23 3:25 AM,01/Nov/18 8:12 PM,,,,,,,,,,,0,node-SDK,,,,"Currently as mentioned in FAB-9018, when using chaincode events only one event per block is being catched within the Node SDK when using registerChaincodeEvent. This has to do with the event name, we currently in our POC work around this by creating unique event names for every event. Although this work around won't be suitable when moving to a node application for every organisation.

The issue is occuring within _processChainCodeOnEvents although I haven't been able to understand exactly why it will only process one event (of a particular name) per block.

I would like to see this changed to allow registerChaincodeEvent to catch all events being raised from the chaincode.

Alongside of this improvement I propose that there be implementation/improvement of being able to catch these events in more then one node application, as current fabric-samples only show events being captured by the invoking node application.

These seem to me as inherent requirements by any decentralised applications where multiple parties don't trust each other and host their own web application that consume events generated by chaincode.

This functionality serves two purposes, the first being javascript callbacks and the second being to notify the user of successful invokes.  

 ",,jmason900,sstone1,zhaochy,zonkedhazmat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz5zr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,jmason900,sstone1,zhaochy,zonkedhazmat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 12:38 PM;zonkedhazmat;I have finally resolved this issue. 

As there are limited examples I was implementing register chaincode events within the invoke function, this lead to errors and bugs occuring where only the latest invoke in a block was registered. 

When bringing the the registration out of the invoke it is able to listen to events raised in the chaincode when not unregistering. This should make it suitable for decentralised multiple node applications listening to events created by other organisations. ;;;","16/Apr/18 4:36 PM;zhaochy;[~zonkedhazmat] can I close this ticket?;;;","18/Apr/18 8:37 AM;zonkedhazmat;[~zhaochy] yeah go ahead.;;;","01/Nov/18 8:12 PM;sstone1;Closing as per comments above.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused proto being loaded in BlockDecoder,FABN-570,27634,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,12/Feb/18 9:42 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,13/Feb/18 1:30 PM,,,,,,,,,,,0,,,,,There are some proto which are not being used in BlockDecoder and can be safely removed.,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyx3r:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Feb/18 12:47 AM;sudheesh001;Patch in commit change: https://gerrit.hyperledger.org/r/17799;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Channel events should have event timeout built in,FABN-571,26713,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,10/Jan/18 11:53 PM,31/Jul/19 2:58 AM,28/Oct/23 3:25 AM,31/Jul/19 2:58 AM,,,,,,,Future,,,,0,,,,,"Build in the event timeout and post the timeout error back on the error callback. The default will be to have a transaction listener timeout, with the other listener types the default will be to not have a timer running. The timer will start when the listener is registered. The default amount of time will be based on a configuration option. The user will be allowed to pass in the amount of time requested in the `options` parameter of 'timeout'. When the timeout parameter is present in the listener registration this will imply that a timeout should be started with that amount of time.",,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-673,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzysyf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","31/Jul/19 2:58 AM;harrisob@us.ibm.com;Not Required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dynamically updated attributes for identity are not returned in Node SDK API call,FABN-572,30679,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,tboloo,tboloo,28/May/18 3:35 PM,30/Oct/19 1:34 AM,28/Oct/23 3:25 AM,30/Oct/19 1:34 AM,v1.1.0,,,,,,Future,,,,0,,,,,"I am working on Attribute-based Access Control for my Fabric based solution (v x86_64-1.1.0).

I have following chaincode to get the attribute from identity: 
{code:java}
func (t* SimpleChaincode) get_attribute(stub shim.ChaincodeStubInterface, args []string) pb.Response {
 var attribute_name string
 if len(args) != 1 {
     return shim.Error(""Incorrect number of arguments. Expecting only attribute name"")
 }
 attribute_name = args[0]
 val, ok, err := cid.GetAttributeValue(stub, attribute_name)
 if err != nil {
     return shim.Error(""Error retriving attribute "" + attribute_name + "", error: "" + err.Error())
 }
 if !ok {
     return shim.Error(""User does not have attribute "" + attribute_name)
 }
 return shim.Success([]byte(val))
}{code}
 and following code to query the chaincode: [getAttribute.js|https://gist.github.com/tboloo/e06e2a86f99fc8e7fca295daf4d3f34c]

 Now everything works fine for attributes set during registration, but if I update identity using fabric-ca-client, 

 
{code:java}
fabric-ca-client identity modify new.user --attrs attribute1=value1:ecert
{code}
which yields

 
{code:java}
2018/05/28 06:27:30 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-client-config.yamldentity modify -- new.user --attrs 'attrib
Successfully modified identity - Name: new.user, Type: client, Affiliation: org1, Max Enrollments: 1, Secret: , Attributes: [{Name:hf.EnrollmentID Value:new.user ECert:true} {Name:hf.Type Value:client ECert:true} {Name:hf.Affiliation Value:org1 ECert:true} {Name:attribute1 Value:value1 ECert:true} {Name:attr1 Value:fencer ECert:true}] {code}
 

I do not get the newly added attribute in response, that is I get
{code:java}
 details: 'chaincode error (status: 500, message: User new.user does not have attribute attribute1)'{code}
. response while executing
{code:java}
node getAttribute.js new.user attribute1{code}
 

 ",,aambati,heatherp,kchristidis,tboloo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzcxb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,aambati,heatherp,kchristidis,tboloo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/18 6:16 AM;kchristidis;/cc [~aambati];;;","06/Jun/18 7:55 AM;aambati;[~tboloo]After you give an attribute to a user, user should be asked to reenroll to get new certificate, which will have new attribute;;;","06/Jun/18 8:24 AM;kchristidis;[~aambati]:

{noformat}
After you give an attribute to a user, user should be asked to reenroll to get new certificate, which will have new attribute
{noformat}
Is it the app's responsibility to ask the user to re-enroll, or is this a message that the SDK should provide? (If it's the latter, I don't see it?);;;","06/Jun/18 4:21 PM;tboloo;[~aambati], [~kchristidis]

To clarify steps to reproduce:
 # docker exec -it ca.org1.example.com bash
 # root@2768af30a8e2:/# fabric-ca-client enroll -u [http://admin:adminpw@ca.org1.example.com:7054|http://admin:adminpw@ca.org1.example.com:7054/]
 # root@2768af30a8e2:/# fabric-ca-client identity list

{code:java}
Name: new.user, Type: client, Affiliation: org1, Max Enrollments: -1, Attributes: [{Name:attr1 Value:fencer ECert:true} {Name:hf.EnrollmentID Value:new.user ECert:true} {Name:hf.Type Value:client ECert:true} {Name:hf.Affiliation Value:org1 ECert:true} {Name:attribute1 Value:value1 ECert:true} {Name:attribute2 Value:value2 ECert:true}]{code}
 # root@2768af30a8e2:/# fabric-ca-client identity modify new.user --secret=q1w2e3r4 --maxenrollments=-1

{code:java}
2018/06/06 07:12:48 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-client-config.yaml
Successfully modified identity - Name: new.user, Type: client, Affiliation: org1, Max Enrollments: -1, Secret: q1w2e3r4, Attributes: [{Name:hf.Type Value:client ECert:true} {Name:hf.Affiliation Value:org1 ECert:true} {Name:attribute1 Value:value1 ECert:true} {Name:attribute2 Value:value2 ECert:true} {Name:attr1 Value:fencer ECert:true} {Name:hf.EnrollmentID Value:new.user ECert:true}]{code}
 # root@2768af30a8e2:/# fabric-ca-client identity modify new.user --attrs 'attribute3=value3:ecert'

{code:java}
2018/06/06 07:18:02 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-client-config.yaml
Successfully modified identity - Name: new.user, Type: client, Affiliation: org1, Max Enrollments: -1, Secret: , Attributes: [{Name:attribute1 Value:value1 ECert:true} {Name:attribute2 Value:value2 ECert:true} {Name:attribute3 Value:value3 ECert:true} {Name:attr1 Value:fencer ECert:true} {Name:hf.EnrollmentID Value:new.user ECert:true} {Name:hf.Type Value:client ECert:true} {Name:hf.Affiliation Value:org1 ECert:true}]{code}
 # root@2768af30a8e2:/# fabric-ca-client enroll -u http://new.user:q1w2e3r4@ca.org1.example.com:7054
|http://new.user:q1w2e3r4@ca.org1.example.com:7054/]{code:java}
2018/06/06 07:18:47 [INFO] generating key: &{A:ecdsa S:256}
2018/06/06 07:18:47 [INFO] encoded CSR
2018/06/06 07:18:47 [INFO] Stored client certificate at /etc/hyperledger/fabric-ca-server/msp/signcerts/cert.pem
2018/06/06 07:18:47 [INFO] Stored root CA certificate at /etc/hyperledger/fabric-ca-server/msp/cacerts/ca-org1-example-com-7054.pem
2018/06/06 07:18:47 [INFO] Stored intermediate CA certificates at /etc/hyperledger/fabric-ca-server/msp/intermediatecerts/ca-org1-example-com-7054.pem{code}|

 # docker exec -it web bash //node client container
 # root@1b4229f9aa1d:/var/app# node getAttribute.js new.user attribute4

{code:java}
Store path:/var/app/hfc-key-store
Successfully loaded new.user from persistence
error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: chaincode error (status: 500, message: User new.user does not have attribute attribute4)
 at new createStatusError (/var/app/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15)
 at /var/app/node_modules/fabric-client/node_modules/grpc/src/client.js:583:15
Query has completed, checking results
error from query = { Error: 2 UNKNOWN: chaincode error (status: 500, message: User new.user does not have attribute attribute4)
 at new createStatusError (/var/app/node_modules/fabric-client/node_modules/grpc/src/client.js:64:15)
 at /var/app/node_modules/fabric-client/node_modules/grpc/src/client.js:583:15
 code: 2,
 metadata: Metadata { _internal_repr: {} },
 details: 'chaincode error (status: 500, message: User new.user does not have attribute attribute4)' }{code};;;","06/Jun/18 10:40 PM;aambati;[~tboloo]It is responsibility of the application to ask the user to reenroll;;;","07/Jun/18 4:41 AM;tboloo;[~aambati]

I think I figured it out - the information about attributes is retrived from local storage. That means, if an app wants updated data about user, it needs to enroll him/her just to get the updated info. That holds true for the already enrolled user, which was updated after enrollment.

Still looks like a bug to me, or at last incomplete documentation.;;;","07/Jun/18 6:47 AM;aambati;[~tboloo]i don't think this is a bug. It is a feature. If it is not evident from the user doc that user needs to reenroll to get newly assigned attributes, then we can make it clear in the doc;;;","07/Jun/18 6:54 PM;tboloo;Further investigating the issue i stumbled upon a case which I believe is problematic, that is revoking user certificate does not stop user from interacting with ledger

Steps to reproduce:
 # On the CA machine (docker in this case) revoke user certificate using fabric-ca-client

{code:java}
root@2768af30a8e2:/# fabric-ca-client revoke -e new.user -r ""misbehaving""
2018/06/07 09:18:39 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-client-config.yaml
2018/06/07 09:18:39 [INFO] Sucessfully revoked certificates: [{Serial:4b10e7fe20947c9864fa8dfeb4cbb9a691b65a36 AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554} {Serial:c6c0aa2267c0b16bdd62c8fc8273128e2938b78 AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554} {Serial:d45ea964c327101e35259e6564e69e55c54343f AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554} {Serial:42367d9d17b83abacfe65473d7485f6d10eaa3e7 AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554} {Serial:28b6560fbf9211eecb8008a65735506672e89b9a AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554} {Serial:5435dec7d8f7355b6564d3a6595113cffa612117 AKI:2dfc7fb0e454ad8e67c2ce1dbf41f47b6ebae02d06ffa6974032263db384d554}]{code}
 #  Shortly after that interact with the ledger, let's say write user name to ledger, like so: [write.go|https://gist.github.com/tboloo/4195609c5786e4c4f82553d2b108bb61], using node sdk like so: [writeLedger.js|[https://gist.github.com/tboloo/6e25a258b291fa92bcdb4148242972b7]]
|https://gist.github.com/tboloo/6e25a258b291fa92bcdb4148242972b7] [root@1b4229f9aa1d:/var/app# node writeLedger.js new.user
 Store path:/var/app/hfc-key-store
 Successfully loaded new.user from persistence
 Query has completed, checking results
 Response is new.user wrote to ledger| |

 # So, a revoked user can still interact with the ledger, unless I am missing something fundamental;;;","08/Jun/18 12:02 AM;aambati;[~tboloo]Revoke request does not affect anything in the Fabric. After revoking a user or cert, a CRL needs to be generated (either by calling ""fabric-ca-client gencrl"" or by calling ""fabric-ca-client revoke --gencrl"")  and update the channel configuration with newly generated CRL. 

Remember, Fabric does not interact with CA. CA is used to populate the MSPs (local or channel);;;","08/Jun/18 9:36 PM;kchristidis;Labeling this as an improvement. The way I see it, the only actionable item here is:

{quote}If it is not evident from the user doc that user needs to reenroll to get newly assigned attributes, then we can make it clear in the doc.{quote}

(Anil, correct me if I'm wrong.);;;","08/Jun/18 11:03 PM;aambati;[~kchristidis]yes, i agree with you.;;;","12/Jun/18 5:28 AM;tboloo;[~aambati], [~kchristidis]

Thank you for your support.

Updating documentation would definitely help newcomers like myself getting through identity management.

One more thing though - could you please guide to the relevant documentation on a case I am trying to implement, that is actually revoking user from interacting with the ledger? Should I just re-populate local MSP? Or should I take another approach? I would be grateful for the guidance.
 ;;;","17/Jun/18 3:20 PM;tboloo;Venturing further into the depths of Hyperledger Fabric i discovered yet another thing.

If you use IdentityService everything works as expected. Simple code to illustrate the approach:

 
{code:java}
const identityService = fabricCAClient.newIdentityService('admin');
var request = {enrollmentID:'john.doe',affiliation:'org1',attrs:[]}
 attr1 = {name:'new_attribute',value:'new_value',ecert:true}
 request.attrs.push(attr1)
 let response = await identityService.update('john.doe',request,adminFromStore);
{code}
 

yields to updating user attribute, *without necessity to (re)enroll*, and everything gets reflected on the CA side
{code:java}
root@2768af30a8e2:/# fabric-ca-client identity list
Name: john.doe, Type: client, Affiliation: org1, Max Enrollments: 1, Attributes: [{Name:attr1 Value:fencer ECert:false} {Name:hf.EnrollmentID Value:john.doe ECert:true} {Name:hf.Type Value:client ECert:true} {Name:hf.Affiliation Value:org1 ECert:true} {Name:attr2 Value:host ECert:true} {Name:new_attribute Value:new_value ECert:true}]{code}
 ;;;","30/Oct/19 1:34 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add type definition for fabric-ca-client,FABN-573,28546,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,15/Mar/18 5:58 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,17/Mar/18 9:05 AM,,,,,,,,,,,0,,,,,add type definition for fabric-ca-client for people prefer using typescript,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-373,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz1db:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Mar/18 6:34 PM;zhaochy;https://gerrit.hyperledger.org/r/19211;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node: Remove node 6 test badge in readme,FABN-574,28669,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,davidkhala,davidkhala,davidkhala,20/Mar/18 10:49 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,20/Mar/18 10:05 PM,v1.1.0,,,,,,v1.2.0,,,,0,documentation,,,,"Since CI jobbuilder would not test on nodejs 6 anymore, so it is suggested to remove to badge.",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-29,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz23b:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Mar/18 11:22 AM;davidkhala;https://gerrit.hyperledger.org/r/#/c/19423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk should not package node_modules during chaincode install,FABN-575,28789,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,23/Mar/18 8:07 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,25/Mar/18 9:42 AM,v1.1.0,v1.2.0,,,,,v1.2.0,,,,0,node-SDK,,,,"node-sdk use ignore-walk to package node chaincode
and config walk to use '.npmignore' to filter the files in chaincodePath

however, if no '.npmignore' file found, node-sdk will package the node_modules during chaincode install, there should be a default filtering rule contains the node_modules folder.",,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz2rj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 8:09 PM;zhaochy;[~harrisob@us.ibm.com] what's your opinion?;;;","24/Mar/18 3:43 AM;harrisob@us.ibm.com;I agree we should not have the node_modules included.;;;","24/Mar/18 4:57 PM;zhaochy; https://gerrit.hyperledger.org/r/19715 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK provide reverse of Client.createUser functionality,FABN-576,19643,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,01/Aug/17 4:52 PM,14/May/19 3:22 PM,28/Oct/23 3:25 AM,14/May/19 3:22 PM,v1.0.0,,,,,,,,,,0,node-SDK,,,,"The node SDK provides the ability to take crypto-material and store it such that it is usable by the node SDK. I use the following code to export the information out into it's original form so that the createUser could be called on another machine

{code:java}
    exportIdentity(connectionProfile, connectionOptions, id) {
        const client = HLFConnectionManager.createClient();
        return this._setupWallet(client, connectionOptions.wallet, connectionOptions.keyValStore)
            .then(() => {
                return client.getUserContext(id, true);
            })
            .then((user) => {
                return {
                    publicCertPEM: user.getIdentity()._certificate,
                    privateKeyPEM: user.getSigningIdentity()._signer._key.toBytes()
                };
            });
    }
{code}

Would be good if the node SDK provided this functionality",,davidkel,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyabb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,harrisob@us.ibm.com,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/17 8:03 PM;mastersingh24;Not quite sure what you are asking for here?  Is this about using the client to actually enroll and then you want to export the key material from the store?  

 ;;;","01/Aug/17 8:48 PM;davidkel;That's correct. The idea is to be able to export an enrolled or imported user into a portable format so that it can be imported onto another system for example.;;;","27/Mar/18 4:09 AM;harrisob@us.ibm.com;Is this still required ? This will not work in all cases... like with an HSM.  If the applications is using a database as the stores then there would be no need to move.;;;","28/Mar/18 7:29 PM;davidkel;Yes, still required, In the case of HSM, because there is no private key you would return the privateKeyObj as required for createUser, or nothing at all. What I am looking for is exporting an existing user that can be directly accepted by createUser (but in the case of HSM it would be acceptable for the end user code to create the privateKeyObj).
;;;","14/May/19 3:22 PM;davidkel;Closing as Composer implemented a solution accessing internal properties (not ideal but it works) so not required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Helper Utilities to decode response payloads,FABN-577,19646,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,harrisob@us.ibm.com,davidkel,davidkel,01/Aug/17 5:30 PM,03/Nov/19 8:47 PM,28/Oct/23 3:25 AM,03/Nov/19 8:47 PM,v1.0.0,,,,,,Future,,,,0,node-SDK,sdk-triaged,,,"Proposal responses contain a payload but these are opaque to the client. If the client wanted to look at the content of the payload a client would have to work out how to decode the various protobufs that make up the payload.

I'm unsure of the content of the payload so not sure how a client could make use of a decoded payload. I was originally looking to perhaps being able to determine at least the identifier of the endorser for each of the returned payloads from a proposal, but there could be far more useful data in there that the client may wish to inspect.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyabz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/19 7:30 PM;harrisob@us.ibm.com;The new low level will return fully decoded responses;;;","25/Oct/19 2:58 AM;harrisob@us.ibm.com;The new low level will not return fully decoded responses. The response needs to stay in protobuf form or it can not be used in the commit.

This is really an added utility the user could perform on the response as suggested by Dave.;;;","03/Nov/19 8:47 PM;davidkel;Can't remember what this was exactly about, but as I can't remember it probably means there is no real need for it. So withdrawing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use built-in SHA256 implementation to improve performance,FABN-578,23908,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,10/Nov/17 8:22 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,11/Nov/17 7:59 PM,,,,,,,v1.0.3,v1.1.1,,,0,,,,,"The hash functions in the NodeSDK (fabric-client/lib/hash.js) currently use a combination of sjcl, native crypto and jsSHA3 for the various algorithms.  SHA256 (the default) currently use sjcl.  sjcl is fine for small payloads, but with large payloads it is much slower that using the built-in crypto module.

A simple test proves this:
{code:javascript}
var hash = require('fabric-client/lib/hash.js'); 
var crypto = require('crypto'); 
var sha256 = crypto.createHash('sha256'); 
var buf = Buffer.alloc(5000000,'A'); 
console.log('sjcl:'); 
console.log(Date.now()); 
h = hash.sha2_256(buf);
console.log(Date.now()); 
console.log(h) 
console.log('native:'); 
console.log(Date.now()); 
h2 = sha256.update(buf).digest('hex'); 
console.log(Date.now()); 
console.log(h2);
{code}
With a 5MB payload, the results:
{quote}
sjcl:
1510312343376
1510312430465
17489c179266203146568d71e1869805e11a78230f12b589f4624e4a5c67a385
native:
1510312430465
1510312430480
17489c179266203146568d71e1869805e11a78230f12b589f4624e4a5c67a385{quote}

 
  ",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,";11/Nov/17 8:00 PM;mastersingh24;900",900,0,900,100%,900,0,900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzymxj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Nov/17 2:34 AM;mastersingh24;https://gerrit.hyperledger.org/r/15383
https://gerrit.hyperledger.org/r/15385;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Block object - deserializer for chaincode_proposal_payload.input ,FABN-579,26994,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,jtracey,jtracey,23/Jan/18 4:21 AM,30/Oct/19 1:33 AM,28/Oct/23 3:25 AM,30/Oct/19 1:33 AM,,,,,,,,,,,0,,,,,"The chaincode_proposal_payload.input attribute of of Block objects returned via the node SDK is presented as an integer array, rendering the content (the arguments of ChaincodeInvokeRequest as used in sendTransactionProposal()) unreadable.

A deserializer for this data would be helpful for parsing the response to calls to queryBlock(), registerBlockEvent() etc.",,florianc,heatherp,jtracey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyu9z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,florianc,heatherp,jtracey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:33 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for Certificates API on Node SDK,FABN-581,29189,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,skarim,skarim,05/Apr/18 11:39 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,07/Jun/18 12:07 AM,,,,,,,v1.2.0,,,,0,,,,,"Add support for Certificates API on Node SDK

See swagger doc in https://gerrit.hyperledger.org/r/#/c/18951/",,denyeart,harrisob@us.ibm.com,skarim,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABC-587,,,,,,,,,"1|hzz4rb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,harrisob@us.ibm.com,skarim,zhaochy,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 1:14 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to work on this;;;","02/May/18 6:17 PM;zhaochy;[~harrisob@us.ibm.com] the /api/v1/certificates always return 404, from the git log, it seems this api does not ready at this moment. I built fabric-ca from master with commit id 910cfac1bd6b0679dce2f49284c670638e62e011. I'll try this next week again;;;","28/May/18 5:32 PM;zhaochy;https://gerrit.hyperledger.org/r/22425;;;","07/Jun/18 12:07 AM;harrisob@us.ibm.com;Is this complete ?;;;","07/Jun/18 12:09 AM;denyeart;[~zhaochy] [~harrisob@us.ibm.com] I've marked as Done based on the CR being merged.  But I suspect some doc is still required?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node]improve test coverage: fabric-ca-client/lib/AffiliationService.js,FABN-582,27889,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,21/Feb/18 8:19 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,23/Feb/18 2:16 AM,v1.1.0-alpha,,,,,,v1.1.0,,,,0,,,,,We need to improve the test coverage for fabric-ca-client/lib/AffiliationService.js as it has no unit test at all.,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyyav:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Feb/18 7:53 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/18181/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node-SDK: Doc should mention mechanism of including CouchDB index definitions ,FABN-583,28095,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,AdnanChoudhury,AdnanChoudhury,01/Mar/18 3:59 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,07/Mar/18 11:04 AM,,,,,,,v1.1.0,,,,0,node-SDK,quality,,,"Currently, when deploying chaincode via Node-sdk, the CouchDB index definition files can be anywhere as long as the `[metadataPath|https://fabric-sdk-node.github.io/global.html#ChaincodeInstallRequest]` is set properly. 
This behavior is different from the chaincode deployment via peer command, and it (node-sdk behavior) should be documented somewhere in the node-sdk documentation.",,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyz8n:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Mar/18 4:02 AM;AdnanChoudhury;[~denyeart] [~Ratnakar] [~harrisob@us.ibm.com];;;","01/Mar/18 4:18 AM;denyeart;Agreed, we need to do this, but it's an Improvement rather than a Bug, and is not bound by our RC1 timeframe.

[~harrisob@us.ibm.com] , can you take a look?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implementations of KeyValueStore for use by CryptoKeyStore requires constructor to return a Promise,FABN-584,17687,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Won't Do,,davidkel,davidkel,09/Jun/17 8:58 PM,14/May/19 3:17 PM,28/Oct/23 3:25 AM,14/May/19 3:17 PM,v1.0.0-beta,,,,,,Future,,,,0,node-SDK,,,,"In my code I have to code the following for my implementation of a KeyValueStore to use used for storing cryptokeys
{code:java}
(HLFWalletProxy.js)
constructor(wallet) {
   super();
   const method = 'constructor';
   LOG.entry(method, wallet);
   this.wallet = wallet;
   LOG.exit(method);
   return Promise.resolve(this);
}
{code}
I create a cyptokeystore as follows
{code:java}
let cryptostore = Client.newCryptoKeyStore(HLFWalletProxy, wallet);
{code}
Ideally we don't want to return anything from a constructor as this is not a good programming pattern.

I believe the cause is in the utils.js file
{code:java}
                CKS(self._storeConfig.superClass, self._storeConfig.opts)
                .then((ks) => {
{code}
Also it would be beneficial to be able to have a single implementation of a KeyValueStore that could be used for both the state store and the cryptostore. Currently I have to implement this as follows
{code:java}
return new HLFWalletProxy(wallet)
   .then((store) => {
      let cryptostore = Client.newCryptoKeyStore(HLFWalletProxy, wallet);
      client.setStateStore(store);
      let cryptoSuite = Client.newCryptoSuite();
      cryptoSuite.setCryptoKeyStore(cryptostore);
      client.setCryptoSuite(cryptoSuite);
{code}
I could I suppose extract the keyvaluestore from cryptostore as it looks like it is in this._store but that's internal and would be subject to change.

 





 ",,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzu7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jul/17 2:35 AM;jimthematrix;[~davidkel] so for the constructor returning a promise, it's implementation specific and not absolutely required. if your implementation of the KeyValueStore interface does not need the constructor to return a promise you don't have to.

not sure about your 2nd question. In your sample snippet above (the last one) you are already using the same impl (HLFWalletProxy) for both the KeyValueStore and CryptoKeyStore's super class. are you saying you want to use the same KeyValueStore instance object for both? that's currently not possible but not sure why it's a problem?;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","14/May/19 3:17 PM;davidkel;Closing as returning a promise in a constructor has been removed in 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DELETE,FABN-585,13034,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,smithbk,smithbk,18/Oct/16 2:36 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,08/Dec/16 7:02 AM,,,,,,,,,,,0,,,,,"COP is REST-based.  The node SDK must talk to COP for registration, enrollment, and getting tcert batches

- this work is already being tracked by other stories: FAB-1155, FAB-1084, FAB-1263",,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx9dj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent usage of var/let ,FABN-586,19515,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,ksachdeva,ksachdeva,27/Jul/17 10:40 AM,12/Dec/18 11:49 PM,28/Oct/23 3:25 AM,12/Dec/18 11:49 PM,,,,,,,,,,,0,eslint,,,,"Ideally an es6 based code base should use 'const', rarely 'let' and very rarely (almost never) 'var'. The fabric-sdk-node most of the time uses 'var', some times 'let' and almost never 'const'.

 See the similar suggestions made by this post - [https://medium.com/javascript-scene/javascript-es6-var-let-or-const-ba58b8dcde75]

 

 ",,davidkhala,ksachdeva,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-681,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy9tr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,ksachdeva,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Feb/18 12:40 PM;davidkhala;Strongly agree.
Linked with mine https://jira.hyperledger.org/browse/FAB-8232;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Add channel events to connection profile,FABN-587,26650,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,08/Jan/18 3:22 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,25/Jan/18 4:25 AM,,,,,,,v1.1.0-alpha,,,,0,,,,,"When using a connection profile, provide an API to get all channel event hubs for all peers on the channel in the current users organization.

 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-378,FABN-598,FABN-673,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzysnj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add attribute for peer  class so channel ""getPeers"" method can filter by these attributes",FABN-588,19946,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,kungyc,kungyc,04/Aug/17 7:32 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,29/Aug/17 3:42 AM,,,,,,,v1.1.0,,,,0,node-SDK,,,,"When I use Node SDK, I have to create peer object for each request, example: I want to send to endorse peer of org A of ""mychannel""  but I can't use channel's ""getPeer()"" method to get what I want.

I need to find my channel config and new serval peer object then pass to channel's method.

----------------------------------------------/////////////////code/////////////////////////---------------------------------------
Peer.js   
 constructor(url, opts) \{
        super(url, opts);

        logger.debug('Peer.const - url: %s timeout: %s', url, this._request_timeout);
        this._endorserClient = new _serviceProto.Endorser(this._endpoint.addr,             this._endpoint.creds, this._options);
        this._name = null;
{color:#ff0000}      this._orgName = opt.OrgName;{color}
{color:#ff0000}        this._peerType = opt.peerType;{color}
    }
 
Channel.js
 
getPeers({color:#ff0000}opt{color}) \{
        logger.debug('getPeers - list size: %s.', this._peers.length);
        peers= []
        this._peers.forEach(peer)\{
             if(peer.getOrgName() == opt.orgName..............................................
        }
        return peers;
}
 ",,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzybxz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/17 3:42 AM;jimthematrix;this was implemented as part of the ""network configuration"" support in https://gerrit.hyperledger.org/r/#/c/12039/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to enhance SDK message for ENDORSEMENT_POLICY_FAILURE ,FABN-589,20368,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,jkirke,jkirke,24/Aug/17 2:52 AM,30/Oct/19 1:33 AM,28/Oct/23 3:25 AM,30/Oct/19 1:33 AM,,,,,,,,,,,0,,,,,"Need to enhance SDK message for ENDORSEMENT_POLICY_FAILURE 

There is no information on specifically what is failing or why.

Executed on Fabric 1.0.1

Steps:
Create channel with org01 and org02
Join each org to channel
Add 2 peers per org
Attempt to join channel with org03 (fails appropriately)
Edit channel and add org03
Join org03 to channel
Add 2 peers for org03
Install cc on all 6 peers
Instantiate on org01 peer
Query on all 6 peers
Invoke on all 6 peers
Query on all 6 peers
Attempt to join channel with org04 (fails appropriately)
Edit channel and add org04
Join org04 to channel
Add 2 peers for org04
Install cc on all org04 peers
Query on all 8 peers
Invoke on all 8 peers (fails on org04 peers)

SDK output:

root@JasonHSBN1:/home/ibmadmin/quality/v1.0_sdk_tests# node app.js invoke -c lateadd -i lateadd -v 1 -m 1 -o b -p fabric-peer-org4-28780c info: Clearing Cached Key Value Stores TAP version 13 # ***** invoke transaction to move money ***** # getMember, name: admin, client.getUserContext(admin, true) ok 1 Successfully enrolled user 'admin' ok 2 Successfully enrolled org: PeerOrg4 info: [invoke-chaincode]: create new peer grpcs://tor-zbc06c.3.secure.blockchain.ibm.com:28780 info: [invoke-chaincode]: create new eventhub grpcs://tor-zbc06c.3.secure.blockchain.ibm.com:22572 info: [EventHub.js]: _connect - options \{} info: [invoke-chaincode]: setConfigSetting(""E2E_TX_ID"") = 4894d1a43cc538f47cfa9e6aac4c541e0ee8262a141a345bbe518d9c69c04782 # Sending transaction ""4894d1a43cc538f47cfa9e6aac4c541e0ee8262a141a345bbe518d9c69c04782"" # ***************************************************************************** # stop and start the peer event hub ---- N O W ----- you have 0 millis # ***************************************************************************** ok 3 transaction proposal has response status of good ok 4 transaction proposal signature and endorser are valid ok 5 compareProposalResponseResults execution did not throw an error ok 6 All proposals have a matching read/writes sets ok 7 Successfully sent Proposal and received ProposalResponse: Status - 200, message - ""OK"", metadata - """", endorsement signature: 0D ""▒▒r)d )?�""o8'��;f����� V˚��k7k����\{��T��&���P y��� not ok 8 The balance transfer transaction was invalid, code = ENDORSEMENT_POLICY_FAILURE — operator: fail at: EventHub._processTxOnEvents (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/fabric-client/lib/EventHub.js:775:5) stack: |- Error: The balance transfer transaction was invalid, code = ENDORSEMENT_POLICY_FAILURE at Test.assert [as _assert](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:212:54) at Test.bound [as _assert](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at Test.fail (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:277:10) at Test.bound [as fail](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:976:39 at EventHub._processTxOnEvents (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/fabric-client/lib/EventHub.js:775:5) at ClientDuplexStream. (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/fabric-client/lib/EventHub.js:310:10) at emitOne (events.js:96:13) at ClientDuplexStream.emit (events.js:188:7) at readableAddChunk (_stream_readable.js:176:18) ... not ok 9 Failed to send transaction and get notifications within the timeout period. — operator: fail at: process._tickCallback (internal/process/next_tick.js:109:7) stack: |- Error: Failed to send transaction and get notifications within the timeout period. at Test.assert [as _assert] (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:212:54) at Test.bound [as _assert] (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at Test.fail (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:277:10) at Test.bound [as fail](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1003:27 at process._tickCallback (internal/process/next_tick.js:109:7) ... not ok 10 Error: Failed to send transaction and get notifications within the timeout period. at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1004:31 at process._tickCallback (internal/process/next_tick.js:109:7) — operator: fail at: process._tickCallback (internal/process/next_tick.js:109:7) stack: |- Error: Error: Failed to send transaction and get notifications within the timeout period. at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1004:31 at process._tickCallback (internal/process/next_tick.js:109:7) at Test.assert [as _assert](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:212:54) at Test.bound [as _assert](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at Test.fail (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:277:10) at Test.bound [as fail](/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/tape/lib/test.js:64:32) at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1032:15 at process._tickCallback (internal/process/next_tick.js:109:7) ... info: [invoke-chaincode]: Disconnecting the event hub not ok 11 Error: Error: Failed to send transaction and get notifications within the timeout period. at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1004:31 at process._tickCallback (internal/process/next_tick.js:109:7) — operator: error expected: |- undefined actual: |- [Error: Error: Failed to send transaction and get notifications within the timeout period. at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1004:31 at process._tickCallback (internal/process/next_tick.js:109:7)] at: Test.onetime (/home/ibmadmin/quality/v1.0_sdk_tests/node_modules/onetime/index.js:22:12) stack: |- Error: Error: Failed to send transaction and get notifications within the timeout period. at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1004:31 at process._tickCallback (internal/process/next_tick.js:109:7) at /home/ibmadmin/quality/v1.0_sdk_tests/tests.js:1033:19 at process._tickCallback (internal/process/next_tick.js:109:7) ... 1..11 # tests 11 # pass 7 # fail 4",,heatherp,jkirke,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzye0v:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,jkirke,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:33 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[api][Documentation] Include comprehensive REST request/response examples,FABN-590,12422,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,angrbrd,angrbrd,angrbrd,17/Aug/16 5:37 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,03/Nov/16 1:05 AM,,,,,,,,,,,0,api,Documentation,,,"The CoreAPI.md document currently doesn't contain comprehensive REST request/response examples for all the endpoints. The required examples already exist within the fabric protocol-spec.md document in section ""6.2 REST API"".

https://github.com/hyperledger/fabric/blob/master/docs/protocol-spec.md

It would be beneficial to rework CoreAPI.md doc to make these examples more accessible for our users.

This issue was originally tracked in GitHub here: https://github.com/hyperledger/fabric/issues/1638",,angrbrd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxb2v:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,angrbrd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/16 1:00 AM;angrbrd;The REST interface is being removed from v1.0. This task is obsolete and no longer needed.

Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use delegate design and ES6 class on codebase,FABN-591,29254,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,07/Apr/18 11:33 AM,25/Oct/19 12:42 AM,28/Oct/23 3:25 AM,25/Oct/19 12:42 AM,v1.1.0,,,,,,,,,,0,cleanup,CryptoKeyStore,,,"Duplicated definition about CryptoKeyStore and related mixin class generator found in utils.js and CryptoKeyStore.js.

 

I am thinking of merge them into one and simplify the parameter checking, swapping in constructor.

For example: ({color:#808080}KVSImplClass, opts{color}) ==> (\{{color:#808080}KVSImplClass, opts{color}})

*  Beside, as documented, ECDSA_KEY extends api.key, but in class-style design we might declare it explicitly thus we could use 'instance of api.key' checking",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-835,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz593:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/May/18 1:06 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/22421/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need better default TLS 1.2 cipher suites,FABN-592,12675,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,angrbrd,mastersingh24,mastersingh24,13/Sep/16 9:02 PM,21/Jul/18 4:18 AM,28/Oct/23 3:25 AM,14/Sep/16 5:59 AM,,,,,,,v0.6,,,,0,node-SDK,,,,"The NodeSDK uses the grpc package which be default sets the accepted TLS 1.2 cipher list to [""ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-GCM-SHA384""|https://github.com/grpc/grpc/blob/9c9d577260f0da60f47ec638b163f286d56c736f/src/core/lib/security/transport/security_connector.c#L77]

The fabric is EC certificates by default (issued by member services) so without any changes connecting from the SDK to a peer via TLS fails.

Currently, the SDK provides the {{setECDSAModeForGRPC}} function in order to set the cipher list to EC ciphers (HIGH+ECDSA).

While this works, it puts the onus on the developer to know more than the average person does about TLS communication.

The recommendation is to include a default set of ciphers that will work for both RSA and EC certificates:

{{ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384}}

",,angrbrd,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxc0n:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,angrbrd,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/16 5:52 AM;angrbrd;This issue was addressed in the following commit:

4d97069a94c10ca460a57822a36b81b19d51ccf2
https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=commit;h=4d97069a94c10ca460a57822a36b81b19d51ccf2

Adding TLS changes to SDK

Merging in TLS related changes from previous work which
were mistakenly left out of this branch. These changes
were originally made and tested on the Fabric05 branch.

Fixes FAB-374

Change-Id: If5b482d00297d840924dab78f35824a4245e1f02
Signed-off-by: Anna D Derbakova <adderbak@us.ibm.com>
Signed-off-by: Allen Bailey <eabailey@us.ibm.com>;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK Chaincode Install needs to support Chaincode deployment spec,FABN-593,30511,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,varadatibm,varadatibm,23/May/18 6:38 AM,02/Oct/18 11:51 PM,28/Oct/23 3:25 AM,02/Oct/18 11:51 PM,,,,,,,,,,,0,,,,,"Unable to use Node SDK to install a package created from peer chaincode package

[http://hyperledger-fabric.readthedocs.io/en/release-1.1/commands/peerchaincode.html#peer-chaincode-package]

 

SDK doesn't seem to have any option to pass deployment package

https://fabric-sdk-node.github.io/global.html#ChaincodeInstallRequest",,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzbrb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/18 11:51 PM;sstone1;[~varadatibm] you can specify a package created by ""peer chaincode package"" using the ""chaincodePackage"" argument to Client.installChaincode. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New Feature: node-sdk: channel getOrdererOrganization,FABN-594,29623,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,davidkhala,davidkhala,davidkhala,24/Apr/18 2:50 PM,01/Jul/19 9:49 PM,28/Oct/23 3:25 AM,01/Jul/19 9:49 PM,v1.1.0,,,,,,,,,,1,NewFeature,,,,"As titled,

currently channel.getOrganizations() return mspid of peer organization only,

Considering whether we could visualize the orderer organization in channel object after parsing latest config block.",,davidkhala,oussmea,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz73z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,oussmea,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jun/19 1:22 PM;oussmea;hello Sir , what I see in the function channel.getOrganisations() that this function returns all the msp_id from the msp_manager. Here the msp_manager belong to this channel , so the msp_manager will return all the msp_id of all the organisations belong to this channel. As those organisations participate to this channel by a peer or an orderer , the channel.Organisations() will return the msp_ids of the peers and the orderers that the organisations of this channel participate with;;;","01/Jul/19 9:20 PM;davidkhala;Thanks, I see that, is there a way we could classify whether a msp is for peer org or orderer org?
This is a issue initialized In the old days before discovery service was introduced. Now it is much more easier to get this from channel._discovery_results;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not a very good (design) choice to return array containing different types (Channel::sendInstantiateProposal ),FABN-595,19516,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,ksachdeva,ksachdeva,27/Jul/17 10:46 AM,30/Oct/19 1:18 AM,28/Oct/23 3:25 AM,30/Oct/19 1:18 AM,,,,,,,,,,,0,,,,,"[https://github.com/hyperledger/fabric-sdk-node/blob/release/fabric-client/lib/Channel.js#L1235]

Channel::sendInstantiateProposal returns ProposalResponseObject which is nothing but an array of 3 different types of objects.

IMHO, this is not ideal approach even though javascript allows you to have an array with different types. You should have returned an object with required/optional fields.

It is inconsistent with respect to other APIs, hard to understand by the app developers and almost make it impossible to write types (Typescript) for your APIs.",,heatherp,ksachdeva,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy9tz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,ksachdeva,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:18 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing. The low level node sdk is being refactoring in v2.0 so we don't feel this issue is still relevant thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
please delete this,FABN-596,15689,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,pmullaney,pmullaney,12/Apr/17 5:31 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,12/Apr/17 6:17 AM,,,,,,,v1.0.0,,,,0,,,,,Its currently confusing for end users attempting to learn via the test scripts whats working and not.,,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxpq7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,pmullaney,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need visibility into gRPC connection status from client application,FABN-597,14999,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,ptippett,ptippett,23/Feb/17 5:26 AM,30/Jun/19 5:14 AM,28/Oct/23 3:25 AM,30/Jun/19 5:13 AM,,,,,,,,,,,1,HSBN,Serviceability,,,"Currently in 0.6, the client has no visibility into the health of the gRPC connection to the fabric.
This has resulted in several issues that required us to pull in fabric, network, and service teams to look at packet traces to try and determine if the issue was blockchain related or caused by an issue with a packet getting dropped or a connection closed in between the client app and fabric.

The request is to expose the APIs in the HFC client to allow an application to query the connection state so the app can not only provide more information when logging errors, but is also able to determine when to close and/or reopen a connection.

There would be a hit to the documentation as well to explain the various connection states and how to transition between the various connection states.",,binhn,DennisM330,mastersingh24,MichaelWang,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzu7w:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,DennisM330,mastersingh24,MichaelWang,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Apr/17 2:16 AM;binhn;There's an admin API GetStatus(). Look at fabric/protos/peer/admin.proto, and the usage in fabric/peer/node.go, which implements the CLI `peer node status`

If about keep alive, GRPC has other options https://godoc.org/google.golang.org/grpc.;;;","08/Jun/17 2:33 AM;ptippett;Gari may have done something here, we'll confirm.;;;","30/Jun/19 5:14 AM;mastersingh24;Various changes have been rolled out since 1.2.x;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - redesign the transactionID to user to use,FABN-598,26811,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,16/Jan/18 5:36 AM,31/Jul/19 2:58 AM,28/Oct/23 3:25 AM,31/Jul/19 2:58 AM,,,,,,,Future,,,,0,,,,,"Not require the transaction id to be fetched by the user prior to a proposal.
Return the transaction in the results of the endorsement and/or require the endorsement object on the transaction event registration and have the NodeSDK get it out of the protobufs.

 ",,davidkel,denyeart,harrisob@us.ibm.com,MichaelWang,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-587,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzytfb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,denyeart,harrisob@us.ibm.com,MichaelWang,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jan/18 12:24 AM;smithbk;This was opened as a result of my review of https://gerrit.hyperledger.org/r/#/c/16673.
I noticed the following code in which a constructor called ""newTransactionID""  returns an object which has a method ""getTransactionID"" to get the actual string ID.
This is weird.

{code}
let tx_object = client.newTransactionID();

// get the transaction ID string for later use
let tx_id = tx_object.getTransactionID();
{code};;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","10/Aug/18 1:42 AM;harrisob@us.ibm.com;We should move towards having a transaction context which includes not only transaction ID and NONCE, but also user identity and mspid. This new object would be used for signing throughout the life of the transaction (proposals and commit).;;;","31/Jul/19 2:58 AM;harrisob@us.ibm.com;Not required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Node SDK Unit Test Refactor,FABN-599,31674,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,nkl199,nkl199,05/Jul/18 10:15 PM,02/Oct/19 12:55 AM,28/Oct/23 3:25 AM,02/Oct/19 12:55 AM,,,,,,,Future,,,,0,,,,,"This proposal outlines the desire to refactor the existing unit tests for the fabric-sdk-node repository. It advocates moving the unit test file location, changes the test framework from `tape` to `mocha`, isolation of all unit tests to remove execution dependencies, and a review of the test cases themselves.

Details [here|https://docs.google.com/document/d/1Ag0e16FTOYA68x-pgJFGR6N_2utJ4IUVXErl-Pw2F4Q]",,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1390,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzhuv:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error message helpfulness is lacking,FABN-600,16745,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Won't Do,,greg.haskins,greg.haskins,16/May/17 4:36 AM,30/Oct/19 1:33 AM,28/Oct/23 3:25 AM,30/Oct/19 1:33 AM,v1.0.0-alpha2,,,,,,Future,,,,0,help-wanted,,,,"Errors in the node-sdk are notoriously difficult to decipher.  For example, most errors end up reporting a single line such as:
{noformat}
error: [Client.js]: TypeError: Cannot read property 'toString' of null
{noformat}
Line numbers in general, and stack traces in particular could go a long way here.",,ChristopherFerris,greg.haskins,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx49j:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,greg.haskins,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/May/17 3:12 PM;ChristopherFerris;This is not a bug, it is an enhancement. Yes, it could be improved, but we are past that.;;;","03/Jun/17 5:59 AM;ChristopherFerris;[~greg.haskins] can we please defer this to 1.1? While I don't disagree, there are a gazillion other more important things. Also, not a bug but improvement.;;;","03/Jun/17 2:26 PM;greg.haskins;Sorry, wasn't dictating classification or timeline.  I think at least in the case of Type, it was the default.;;;","30/Oct/19 1:33 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add npm package badge in fabric-client and fabric-ca-client,FABN-601,28458,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,13/Mar/18 10:23 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,13/Mar/18 11:30 AM,,,,,,,v1.0.5,,,,0,,,,,add npm package badge in fabric-client and fabric-ca-client to show the latest released package version in README.md of both fabric-client and fabric-ca-client,,rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz13z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Mar/18 11:30 AM;zhaochy;https://gerrit.hyperledger.org/r/#/c/19105/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
client.createUser:add option 'skipPersistence',FABN-602,21854,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,13/Oct/17 6:19 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,03/Nov/17 1:51 AM,v1.0.2,,,,,,v1.1.1,,,,0,Usability,,,,"Inside function 'createUser'
setUserContext is called (in Line 1119) with parameter 'member'
then skipPersistence is set to default 'undefined'

We could add an entry named 'skipPersistence' in opts of createUser to make it more flexible
",,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyjfj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/17 7:33 PM;mastersingh24;https://gerrit.hyperledger.org/r/14497;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
A letter is misspelled in Event.js readme,FABN-603,19376,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,fennelD7,fennelD7,fennelD7,20/Jul/17 6:18 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,26/Jul/17 4:57 PM,,,,,,,v1.0.1,,,,0,,,,,A letter is misspelled in Event.js readme.,,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy987:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,fennelD7,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jul/17 6:23 PM;fennelD7;https://gerrit.hyperledger.org/r/#/c/11767/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Methods related to signing operation (signChannelConfiguration, User, SigningIdentity etc) must be non blocking ",FABN-604,19629,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Won't Do,,ksachdeva,ksachdeva,01/Aug/17 2:03 AM,02/Dec/20 12:49 AM,28/Oct/23 3:25 AM,01/Dec/20 11:10 PM,v1.0.0,,,,,,,,,,0,external,sdk-triaged,,,"Based on what I have understood the purpose of the User interface and likewise many other interfaces such as CryptoSuite, SigningIdentity are that one could replace the implementation with ease for e.g. one could very well see that the signature is computed by a an external entity such as an HSM instead of built in software based implementation.

Since we are dealing with NodeJS which is single threaded it would be a good design choice that these interfaces return a Promise wherever relevant such as the calls to compute the signature. The current design is severely influenced by software based cryptography at present where the synchronous calls will work. 

The non blocking implementation of crypto related operations/functionality is required to implement a solution that relies on remote signing servers/HSMs.

 

 

 ",,ksachdeva,lesleyannj,mastersingh24,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzqs:p",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ksachdeva,lesleyannj,mastersingh24,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/17 4:46 AM;mastersingh24;Exactly what problem are you trying to solve here?  The SDK already supports using PKCS11 to communicate with local and remote HSMs (I've used it with network HSMs across the internet).  When we actually call sign to sign a transaction, it should be a blocking call as we can't proceed until we actually have the signature.   You are free to implement async / callback logic within your implementation, but from the caller's perspective, it makes sense for the call to be blocking IMHO.

I don't believe this is a bug. [~jimthematrix@gmail.com] what do you think?;;;","01/Oct/17 8:44 AM;ksachdeva;Hi Gari,

It depends on how the Fabirc SDK will be used. 

+Scenario 1:+

 

[Browser/Client] ---> [Express App (uses Fabric Node SDK)] ---> [HSM, Remote Signing Server]

The express app uses the fabric SDK for BlockChain related operations but it will/could also have many other features/apis relevant to the business logic of the app/solution. The moment the express app would make the fabric node SDK sign call then all the other (relevant or non relevant functionality) will block for all the other clients connected to it.

This is the scenario with the problem.

+Scenario 2:+

[Browser/Client] ---> [Express App] --> [Another Express App (uses Fabric Node SDK)] ---> [HSM, Remote Signing Server]

In this scenario ""Another Express App"" would essentially host all Fabric related logic and would expose another set of API to be consumed by Express App. This is essentially the fabric-sdk-rest project that you guys are working on.

This is the scenario in which the blocking problem can be prevented.

+Scenario 3:+

[Browser/Client] ---> [Express App] --> [Another Express App (uses Fabric Node SDK)] ---> [HSM, Remote Signing Server]

This is the same topology as Scenario 2 but imagine that in this case ""Another Express App"" or your fabric-rest-sdk is being used to service ""multiple"" blockchain networks. While the rest-server will be servicing request for one blockchain network the others will block.

 

##

Irrespective of the scenarios I have presented, it would always be a good design choice (for NodeJS specifically) to design the API (Interface) surface such that an asynchronous implementation can be done. IMHO, assuming that it would be synchronous for all the possible ways of usage of SDK is limiting. Even if the implementation is synchronous, the asynchronous API design does not come in the way and/or cause any performance issue rather it only enables other possibilities. 

 

 

 

 

 

 

 

 

 

 ;;;","24/Oct/18 5:34 PM;sstone1;This definitely looks like a bug; the Node.js SDK uses the blocking/sync APIs in the pkcs11js module, which means the event loop will be blocked from executing any other JavaScript code until the signing operations have completed. We need to move to using the non-blocking/async APIs in the pkcs11js module, but first we need to analyze the performance impact of this bug so we can verify the fix.;;;","02/Dec/18 5:47 AM;mastersingh24;I'm moving this to Feature;;;","01/Dec/20 11:10 PM;lesleyannj;Use of Async interfaces will be considered in Fabric Gateway feature.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to use SDK to update system channel,FABN-605,16269,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid,,varadatibm,varadatibm,04/May/17 4:07 AM,24/Oct/18 5:16 PM,28/Oct/23 3:25 AM,24/Oct/18 5:16 PM,,,,,,,Future,,,,0,HSBN,,,,"Currently when creating the network, the consortium and the (ALL) members need to be specified as part of configtx.yaml. After the initial setup, there is no way to use the SDK to add members dynamically. 

We need a way to update the system channel with additional consortium members. Without this capability we won't be able to add members to the Consortium or any other channels.",,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxsu7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/18 7:05 AM;varadatibm;This can be closed;;;","24/Oct/18 5:16 PM;sstone1;Closing as per above comment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - support unit/integration tests for async/await functions,FABN-606,30706,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,wenjian,wenjian,wenjian,29/May/18 10:52 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,30/May/18 12:50 AM,,,,,,,v1.2.0,,,,0,,,,,"NodeSDK currently uses gulp-istanbul to create code coverage report. However, gulp-istanbul depends on an older version of istanbul (0.4.5) that throws ""*Unexpected identifier""* error with a async function in a class.

Istanbul 1.1.0-alpha.1 supports asyc functions, but we cannot simply (manually) upgrade istanbul version for gulp-istanbul because istanbul API has changed a lot between {{0.4.5}} and {{1.1.0-alpha.1.}}

async/await is supported by default in the new version: [https://github.com/istanbuljs/istanbuljs.] In this ticket, we use istanbuljs/nyc package (instead of gulp-istanbul) to generate coverage report. ",,davidkhala,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzd5b:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/May/18 11:32 PM;wenjian;https://gerrit.hyperledger.org/r/#/c/22469/;;;","30/May/18 4:36 PM;davidkhala;Great, it is exactly what I need in simplify promise chain;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update to latest version of sjcl library,FABN-607,23910,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,10/Nov/17 10:25 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,11/Nov/17 8:00 PM,,,,,,,v1.0.3,v1.1.1,,,0,,,,,"The NodeSDK currently used sjcl@1.0.3 however the latest version is no sjcl@1.0.7.
1.0.7 has significant performance improvements over 1.0.3 for large file sizes",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzymxz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Nov/17 2:24 AM;mastersingh24;https://gerrit.hyperledger.org/r/15379
https://gerrit.hyperledger.org/r/15381;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HFC on Windows 10 - document build steps including external dependencies,FABN-608,13875,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,JonathanLevi,JonathanLevi,22/Dec/16 6:48 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,19/Apr/17 2:16 PM,,,,,,,,,,,0,Documentation,,,,"Allan Tomkinson (@atom on Slack) has kindly reported a set of issues encountered when trying to build HFC on Windows 10. From issues that seemingly stem from different Python versions (2.7 and no 3.0), some required the Windows 8.1 SDK, and some other suspected versioning conflict that made him use Visual Studio 2013, rather than the 2015 that he had previously configured.

Noting that Allan also tried doing these with windows-build-tools already installed (which was supposed to help with installing the pre-reqs).

Will also append the original exchange/report, for completeness.",,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-148,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxg8n:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Dec/16 6:50 AM;JonathanLevi;Here's the original exchange from Slack:


*#general*

atom [10:01 AM]  
Well, I just had a nice adventure getting hfc to build on Windows 10...  :disappointed:

jonathanlevi [11:24 AM]  
@atom: Can you share more details? (say in #fabric-dev or #fabric ?) How was it? :wink:


*#fabric-dev#


atom [12:30 PM]  
@jonathanlevi  It was kind of rough.  Seems most of the issues revolved around the hashtable package, and the native compiler setup it needs.  As I fought through the errors, *I had to install Python (2.7 version, as the 3.0 version didn't work)*, then I had to* install the Windows 8.1 SDK*, but that doesn't include the compiler that was needed, so I had to* install Visual Studio 2013 Express edition*.  *Previously I had set a npm config setting to try and use VS2015, so I had to reset that to be msvs_version=2015, so i had to reset that to 2013*.  Whew...  Figuring out what was needed at each step consisted of some luck and a lot of google'n.

[12:30]  
oh, btw...  for folks not in the general channel, that's related to installing the hfc package from npm for the SDK-Demo project.

garisingh [12:59 PM]  
@atom - I guess we need to add https://github.com/felixrieseberg/windows-build-tools  to the docs for hfc.  This makes it a snap to install the prereqs required on Windows for installing / compiling node packages with native code

atom [1:03 PM]  
I believe I installed those as well :slightly_smiling_face:

[1:03]  
thanks for reminding me so that I can update my notes. :slightly_smiling_face:

[1:06]  
bummer...  Now when I ry to run ""node helloblockchain.js"" I get the following error:  Error: Cannot find module 'C:\Users\....\...\SDK-Demo\node_modules\grpc\src\node\extension_binary\grpc_node.node'

atom [1:23 PM]  
Gave a shot at updating to grpc@1.0.1 (latest)..  seemed to get further on the 'node helloblockchain.js', but still threw an error:  Enrolled admin sucecssfully
events.js:160
     throw er; // Unhandled 'error' event
     ^

Error
   at ClientDuplexStream._emitStatusIfDone (C:\Users\...\...\SDK-Demo\node_modules\hfc\node_modules\grpc\src\node\src\client.js:189:19)

jonathanlevi [1:31 PM]  
@atom First of all, thanks for this. I haven’t used Windows in quite a while, but I agree, we should collect this and document. Shall we try to summarize these steps together? I can give it a shot and run it by you...

And then we’ll get someone else, who’s completely new to this (that would “the old you”, before going through this ;-))… and see if he/she can simply follow these steps.

atom [1:34 PM]  
@jonathanlevi  Sounds good to me, at least once I get it actually running. :slightly_smiling_face: I'm recording my steps, and I'd like to retry the steps on a fresh machine to make sure I've got it right.

jonathanlevi [1:35 PM]  
Not a problem. We can iterate on it. I’m just trying to use the “momentum”, while you are at it… and capture this.
It’s good feedback. Certainly.

atom [1:36 PM]  
I've set a reminder to circle back around on this next week (after the holiday and all)

jonathanlevi [1:37 PM]  
OK. If you don’t mind me Copying & Pasting this, I will quickly open a JIRA item…. (Not legally binding :-))

atom [1:38 PM]  
not a problem at all.;;;","14/Apr/17 8:55 PM;ChristopherFerris;[~jimthematrix] if this is no longer relevant, please mark WONTFIX and close. Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace use of deprecated Buffer constructors,FABN-609,23920,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,mastersingh24,mastersingh24,12/Nov/17 8:45 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,19/Nov/17 6:57 PM,,,,,,,v1.0.5,v1.1.0,,,0,,,,,"The ""new Buffer(...)"" constructor(s) have been deprecated in NodeJS since version 6.

Need to remove the use of this and replace with the appropriate constructor from the updated Buffer class.

In most cases, the replacement will be ""Buffer.from(..)""",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzymzr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/17 6:57 PM;mastersingh24;https://gerrit.hyperledger.org/r/15409;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client can't get transaction ReadWriteSet since SDK does not provide a utility function,FABN-610,15737,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,denyeart,denyeart,14/Apr/17 3:30 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,06/Jun/17 2:49 AM,v1.0.0-alpha2,,,,,,v1.0.0-alpha2,,,,0,,,,,"ProposalResponsePayload has a an 'extension' which is a serialized 'ChaincodeAction'.
ChaincodeAction has a 'results' which is a serialized 'TxReadWriteSet'.
TxReadWriteSet has N 'rwset' which is a serialized 'KVRWSet'.

SDK needs to provide a utility function that returns the TxReadWriteSet, or better yet, the N KVRWSets and corresponding namespaces (chaincodes), so that client doesn't have to deserialize them.",,denyeart,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3343,,,,,,,,,,,,,FABJ-77,,,,,,,,,FAB-2810,,,,,"18/Apr/17 1:49 AM;denyeart;BlockTranStructure.docx;https://jira.hyperledger.org/secure/attachment/10669/BlockTranStructure.docx",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7in:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 7:08 AM;rickr;For Java SDK created a link to where it shows up Removed component so it does not show up twice in our BOARD;;;","14/Apr/17 7:11 AM;rickr;[~denyeart] Is there not work on the Fabric side yet for this ?   Can you provide a link here to that task too ?;;;","14/Apr/17 7:41 AM;denyeart;[~rickr] 
Fabric side work to switch ReadWriteSet to protobuf structure was completed in FAB-2810. You can see the new protobuf structure in that changeset: https://gerrit.hyperledger.org/r/#/c/7303/;;;","06/Jun/17 2:49 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/8431/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK - Pass private data collection definitions during chaincode instantiation,FABN-611,29637,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,denyeart,denyeart,24/Apr/18 10:07 PM,12/Jun/20 12:31 AM,28/Oct/23 3:25 AM,17/May/18 3:38 PM,,,,,,,v1.2.0,,,,1,,,,,"Node.js SDK - Pass private data collection definitions during chaincode instantiation.

When using CLI, this is done by passing a JSON file which includes collection definition:

--collections-config collections.json

Where a sample JSON file content is:

[
  \{
      ""name"": ""collectionMarbles"",
      ""policy"": ""OR('Org1MSP.member', 'Org2MSP.member')"",
      ""requiredPeerCount"": 1,
      ""maxPeerCount"": 2,
      ""blockToLive"":1000000
 },
  \{
      ""name"": ""collectionMarblePrivateDetails"",
      ""policy"": ""OR('Org1MSP.member')"",
      ""requiredPeerCount"": 1,
      ""maxPeerCount"": 1,
      ""blockToLive"":3
  }
 ]

 
CLI passes collection config upon chaincode instantiate, see: [https://gerrit.hyperledger.org/r/#/c/14371/]
 
In CLI, collection JSON is converted to CollectionConfigPackage proto:
[https://github.com/hyperledger/fabric/blob/release-1.1/protos/common/collection.proto#L16-L50]
and then marshaled and passed to LSCC as an argument.
 
LSCC accepts collection config as an argument and stores it, see: [https://gerrit.hyperledger.org/r/#/c/14291/]
 ",,dainliff,denyeart,ericmvaughn,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-440,,,,,,FAB-12096,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8718,,,,,,,,,"1|hzwqfq:y",,,,Unset,,To Do,,,,,,,,,,,Unset,,,,,,,,,,,dainliff,denyeart,ericmvaughn,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 1:12 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to work on this;;;","27/Apr/18 2:32 PM;zhaochy;[~denyeart] what is ""blockToLive""? can't find this field at ""collection.proto"";;;","27/Apr/18 7:44 PM;denyeart;[~zhaochy] 

block to live is defined in this CR:

[https://gerrit.hyperledger.org/r/#/c/16971/7/protos/common/collection.proto]

It will be merged shortly.;;;","07/May/18 2:20 PM;zhaochy;[~denyeart] How can I enable private data on fabric-peer side? I build peer image with ""EXPERIMENTAL=true"", but lscc always return false for ""ac.Capabilities().PrivateChannelData()"". I'm not familiar with the fabric build system, seems somewhere should set Application config ""V1_1_PVTDATA_EXPERIMENTAL"" to true, can you give me some suggestion?;;;","07/May/18 9:47 PM;dainliff;[~zhaochy] I believe that you need to enable it when creating the channel configuration. See https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/configtx.yaml#L396;;;","08/May/18 2:53 PM;zhaochy;https://gerrit.hyperledger.org/r/21523;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Would be nice if Node SDK channel.getInfo could provide current block hash same as provided by queryInfo,FABN-612,30659,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,vchinoy,vchinoy,26/May/18 4:52 AM,30/Oct/19 1:32 AM,28/Oct/23 3:25 AM,30/Oct/19 1:32 AM,,,,,,,,,,,0,,,,,"One can get all block info from a call to geInfo except the block hash. Someone advised to simply calculate hash from block header but a querying application should not be computing anything, simply displaying data. And SDK provides it in in the queryInfo method call but that only returns for the current block, not any block.",,florianc,heatherp,vchinoy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzct3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,florianc,heatherp,vchinoy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:32 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
logging enhance on lib/impl/FileKeyValueStore.js and CouchDBKeyValueStore.js,FABN-613,27411,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,05/Feb/18 6:34 PM,19/Oct/18 7:19 PM,28/Oct/23 3:25 AM,08/Feb/18 1:45 PM,v1.1.0-alpha,,,,,,,,,,0,quality,,,,"As in summary, 
 When getValue and setValue, print the key at least.

try to avoid using <util.format> in logger as winston logger has done it for us

CouchDBKeyValueStore:
 * use <this._name> instead of harcode ""member_db""

Besides, a friend created a pull request in github daemon about typo fix, 

[https://github.com/hyperledger/fabric-sdk-node/pull/6]",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyvxr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Feb/18 8:37 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/17527/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
split eslint config from gulp task,FABN-614,30700,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,zhaochy,zhaochy,zhaochy,29/May/18 5:07 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,04/Jun/18 12:35 PM,,,,,,,v1.2.0,,,,0,node-SDK,quality,,,"currently the eslint config is write in gulp task, which made all IDEs and code editors can't aware the eslint config for fabric-sdk-node.

The eslint config should be split from the gulp task, and use a "".eslintrc.json"" at the project root folder to contain the eslint configs.",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-815,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzd47:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/May/18 5:13 PM;zhaochy;https://gerrit.hyperledger.org/r/22457;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove 1.1 experimental channel capabilities,FABN-615,31948,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,17/Jul/18 4:10 PM,25/Jul/18 2:29 PM,28/Oct/23 3:25 AM,25/Jul/18 2:29 PM,,,,,,,,,,,0,,,,,remove 1.1 experimental channel capabilities,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,Unset,Unset,,,,,No,,,No,,,"1|hzziuv:",,,,Unset,Unset,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jul/18 4:55 PM;zhaochy;https://gerrit.hyperledger.org/r/24473;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Misleading log statement in Node tests,FABN-616,19962,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jyellick,jyellick,05/Aug/17 2:46 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,23/Mar/18 4:55 PM,,,,,,,v1.2.0,,,,1,quality,,,,"There is a log statement emitted in the node tests:

{noformat}
Failed to send transaction and get notifications within the timeout period.`
{noformat}

Although this might make sense in the context of a test, it seems that users are picking up this test code as the basis for their apps, and ending up with an unhelpful error message.

Naively reading this error message, the user thinks that the call to {{Broadcast}} is failing, when in fact, it usually the case that the {{Broadcast}} is just fine, but the event is never received from the peer.

It would be great if the test were enhanced to differentiate between these types of errors, so that users basing their applications off these tests will be much easier to service.",,harrisob@us.ibm.com,jyellick,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyc0n:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,jyellick,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 5:47 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/19631/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"channel name pattern match to /^[a-z][a-z0-9.-]*$/",FABN-617,28261,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,07/Mar/18 4:50 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,04/Apr/18 2:23 AM,v1.1.0,,,,,,v1.2.0,,,,0,Channels,,,,"A lot of developers complain about encounter unexpected 'channel not found' problem when using uppercase character in channel name.

as [~jyellick] recommended,

??Maybe the SDK could check for illegal characters in the channel ID and return an error to the user indicating that the channel ID is illegal???

 

we could insert 'pattern match' verification on channel id input:
{code:java}
  channelAllowedChars = ""[a-z][a-z0-9.-]*""
{code}",,davidkhala,harrisob@us.ibm.com,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9198,,,,,,,,,,,,,,,,FAB-4621,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz03r:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,harrisob@us.ibm.com,jyellick,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Mar/18 7:25 AM;harrisob@us.ibm.com;[~jyellick] are channel names allowed to be mixed case, is there any changing of the channel names when it is created ?;;;","24/Mar/18 9:22 AM;jyellick;Channel names cannot be changed after they are created.  For the time being, we enforce that channel names match the following expression:

{noformat}
        channelAllowedChars = ""[a-z][a-z0-9.-]*""
{noformat}
;;;","24/Mar/18 11:22 PM;davidkhala;[~jyellick] is UpperCase char in channel name is allowed now?;;;","25/Mar/18 1:57 AM;jyellick;My apologies, I copy pasted the wrong line.  I've corrected the above comment to reflect the actual expression. (Which is ""Begins with a lower case letter, followed by lowercase letters, numbers, and dots or dashes.);;;","27/Mar/18 3:54 AM;harrisob@us.ibm.com;I do not think the NodeSDK should be changing the user's input. It will cause confusion with success or failure of requests.;;;","27/Mar/18 5:59 AM;jyellick;I'd agree, the SDK should not mangle the inputs of users.

Maybe the SDK could check for illegal characters in the channel ID and return an error to the user indicating that the channel ID is illegal?;;;","27/Mar/18 7:06 PM;davidkhala;[~jyellick] Also good idea that we could insert channel id pattern verification on rule
{code:java}
channelAllowedChars = ""[a-z][a-z0-9.-]*""
{code};;;","27/Mar/18 7:57 PM;davidkhala;[https://gerrit.hyperledger.org/r/#/c/19803/] gave a try to make that idea.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.1 capabilities are not enabled in fabric-sdk by default,FABN-618,27848,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,20/Feb/18 5:26 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,23/Feb/18 11:39 PM,,,,,,,v1.1.0,,,,0,fabric-sdk-node,quality,,, V1.1 capabilities are not enabled in test/fixtures/channel/configtx.yaml file in the repo even though we are running v1.1 docker images.,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyy4f:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Feb/18 11:39 AM;Ratnakar;This is to ensure the node-sdk tests are running against 1.1 docker images with 1.1 capabilities enabled

[https://gerrit.hyperledger.org/r/#/c/18071/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make HSM configurable via connection profile,FABN-619,26329,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Won't Do,,smithbk,smithbk,03/Jan/18 3:48 AM,30/Oct/19 1:31 AM,28/Oct/23 3:25 AM,30/Oct/19 1:31 AM,,,,,,,Future,,,,0,node-SDK,,,,"The client stuff like HSM crypto-suite should be configurable via the connection profile.
The connection profile should be implemented underneath the hierarchical config so that everything is configurable via the connection profile going forward without having to special case two ways of getting config throughout the code.",,antoniovassell,davidkel,denyeart,heatherp,huxd,smithbk,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzys7z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,antoniovassell,davidkel,denyeart,heatherp,huxd,smithbk,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/18 4:05 AM;troyronda;We should try to create a common hsm profile for go and node SDK (where possible).;;;","08/Jan/18 5:37 AM;davidkel;The Common Connection Profile already has a section that can be used to define HSM, however it would require a ""slot"" property unless the HSM implementation changes as it uses slot numbers rather than labels. I also think the priority of this should be targeted for 1.1 as the definition exists.
As a further consideration, the library property should support environment variable substitution to ensure the profile can remain portable.
It would be nice to support labels in the node-sdk, that would make it consistent with fabric and also get around the annoyance of softhsm 2.2 changing the slot number when you create the HSM to some random number which you have to then capture and use.
Will this change make it into the 1.1 release ?;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","30/Oct/19 1:31 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node]improve test coverage: fabric-ca-client/lib/IdentityService.js,FABN-620,27928,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,23/Feb/18 2:42 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,01/Mar/18 10:19 PM,v1.1.0-preview,,,,,,v1.1.0,,,,0,,,,,We need to improve the test coverage for fabric-ca-client/lib/IdentityService.js as it has no unit test at all.,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyyi7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Feb/18 3:19 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/18209/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK should support uninstall chaincode,FABN-621,15919,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Duplicate,,ptippett,ptippett,22/Apr/17 6:42 AM,24/Oct/18 5:13 PM,28/Oct/23 3:25 AM,24/Oct/18 5:13 PM,,,,,,,Future,,,,1,HSBN,Serviceability,,,"SDK supports chaincode install, but there is no uninstall to remove unneeded chaincode files from a peer node.",,akuma921,andrasfe,berryjam,MariWade,MichaelWang,ptippett,scottz,smartheye,sstone1,StevenXu,toddinpal,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5781,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzu8f:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,akuma921,andrasfe,berryjam,MariWade,MichaelWang,ptippett,scottz,smartheye,sstone1,StevenXu,toddinpal,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/17 1:37 AM;akuma921;What is the status on this? Anybody working on this?

And is it just a soft disablement of the chaincode or hard delete from the network (which we need to see if is making sense);;;","07/Feb/18 11:57 AM;berryjam;Again:
 # What is the status on this? Anybody working on this?
 # And is it just a soft disablement of the chaincode or hard delete from the network (which we need to see if is making sense)
 # Which sdk should support uninstall chaincode? Golang,Java,NodeJS or all the SDK?;;;","19/Feb/18 12:23 PM;scottz;[~ptippett] Please clarify: Is this request for removing old versions of chaincodes that have been up-versioned (i.e. remove chaincode that is not in use)? Or is this a request for the ability to discard one - ie. effectively uninstantiate and uninstall chaincodes throughout all the peers in a network? Or something else?

Is this related to FAB-3742?;;;","13/Aug/18 5:39 PM;MichaelWang;[~berryjam] [~scottz]When the new chain code is installed and instantiated, the older version will be unavailable any way. So I think it is a hardcode deletion operation, the image, container and binary package.;;;","24/Oct/18 5:13 PM;sstone1;This requires Fabric support for uninstalling chaincode; there's no peer API for doing this yet - please look at https://jira.hyperledger.org/browse/FAB-5781 seems to be a request for this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Make the bytes codec of SJCL available ""out of the box""",FABN-622,12522,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,angrbrd,JonathanLevi,JonathanLevi,23/Aug/16 1:50 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,24/Aug/16 7:03 AM,,,,,,,,,,,0,node-SDK,,,,"As mentioned in https://gerrit.hyperledger.org/r/#/c/455, we need to be able to use the *bytes codec* in the *Stanford Javascript Crypto Library (SJCL)* and so have it available for the node/sdk ""out of the box"".

While it is [""known""|https://github.com/bitwiseshiftleft/sjcl/issues/97] that SJCL has to be (pre-)configured with such codec, before calling 'make'... we have two options:

+Option1: Local/manual configuration/build+
The way we tested was to {{git clone}} the *sjcl* library into {{fabric/sdk/node/node_modules}}
and manually, from {{fabric/sdk/node/node_modules}} execute:

0. {{cd fabric/sdk/node/node_modules}} (Duh! ;-))
1. {{rm -rf sjcl}} & {{git clone https://github.com/bitwiseshiftleft/sjcl.git}}
2. {{cd sjcl}}
3. {{./configure --with-codecBytes}} or {{./configure --with-all}}
4. {{make}}

Then all the sdk/node tests pass (with the latest 'master', e.g., changes from commit-level c45a381782ce58368a9ee858a097896c901270c6)

+Option 2: (the preferable, ""npm-standard"" solution)+
Instead, what we should probably do is to have a pre-configured sjcl version (of 1.0.3 at the moment) which has been configured as above. There are a few such npm packages, and [sjcl-codec-bytes|https://github.com/zaach/sjcl-codec-bytes] is one, [sjcl-codec|https://www.npmjs.com/package/sjcl-codec] and [sjcl-all|https://www.npmjs.com/package/sjcl-all] are also there, etc.",,angrbrd,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-98,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/16 5:57 AM;rameshthoomu;node sdk tests .txt;https://jira.hyperledger.org/secure/attachment/10031/node+sdk+tests+.txt",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbg7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,angrbrd,JonathanLevi,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/16 1:50 AM;JonathanLevi;[~hgabre] [~angrbrd] [~rameshthoomu]: as discussed.

[~angrbrd] Do you think I can leave this in your (JavaScript, super-) capable hands?;;;","23/Aug/16 3:25 AM;angrbrd;[~JonathanLevi][~rameshthoomu] I am working on this issue presently. I'll have an update shortly. Thanks!;;;","23/Aug/16 5:37 AM;angrbrd;Change is now here: https://gerrit.hyperledger.org/r/#/c/619

[~rameshthoomu] is now verifying the change. Thanks!;;;","23/Aug/16 5:57 AM;rameshthoomu;Tested the patch submitted by [~angrbrd] in gerrit and observed all sdk/node unit tests are passed. Please find below the test result file.
 [^node sdk tests .txt] ;;;","23/Aug/16 9:24 AM;angrbrd;Updated patch: https://gerrit.hyperledger.org/r/#/c/619/2

[~rameshthoomu] Please re-verify. Thanks.;;;","24/Aug/16 1:31 AM;angrbrd;[~rameshthoomu][~jonathan] I did just re-verify that the UTs are passing locally on my machine on the latest commit on master. This is the commit level that I am on. Thanks!

commit 8e5e8ebf3a5cdc25ba29882184fa0bf18a93e940
Merge: 75cde5e 12ea1ce
Author: Christopher Ferris <chrisfer@us.ibm.com>
Date:   Tue Aug 23 15:49:21 2016 +0000

    Merge ""Remove unnessary broadcast target"";;;","24/Aug/16 7:00 AM;JonathanLevi;I can confirm that I have tried the same, at that commit level,

commit 8e5e8ebf3a5cdc25ba29882184fa0bf18a93e940
Merge: 75cde5e 12ea1ce
Author: Christopher Ferris <chrisfer@us.ibm.com>
Date:   Tue Aug 23 15:49:21 2016 +0000
  
      Merge ""Remove unnessary broadcast target""

... and all the [sdk/node] tests pass as well.;;;","24/Aug/16 7:06 AM;JonathanLevi;Closing this. [~rameshthoomu] Please reach out, if there are any issues with this (on the CI, or otherwise). Thanks guys!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client loading the networkconfig class at runtime,FABN-623,29379,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,Paperman,Paperman,13/Apr/18 9:57 PM,30/Oct/19 1:31 AM,28/Oct/23 3:25 AM,30/Oct/19 1:31 AM,,,,,,,,,,,0,1.1,sdk,,,"Hei there, i had several issues while loading the networkconfig class. The reason for that could be the building tool (meteor) which i use or the typescript compiler. The code in the class ""client"" that is relevant for loading the networkconfig is following:
{code:java}
//internal utility method to get a NetworkConfig
function _getNetworkConfig(config, client) {
    let network_config = null;
    let network_data = null;
    if(typeof config === 'string') {
        const config_loc = path.resolve(config);
        logger.debug('%s - looking at absolute path of ==>%s<==','_getNetworkConfig',config_loc);
        const file_data = fs.readFileSync(config_loc);
        const file_ext = path.extname(config_loc);
        // maybe the file is yaml else has to be JSON
        if(file_ext.indexOf('y') > -1) {
            network_data = yaml.safeLoad(file_data);
        } else {
            network_data = JSON.parse(file_data);
        }
    } else {
        network_data = config;
    }

    let error_msg = null;
    if(network_data) {
        if(network_data.version) {
            const parsing = Client.getConfigSetting('network-config-schema');
            if(parsing) {
                const pieces = network_data.version.toString().split('.');
                const version = pieces[0] + '.' + pieces[1];
                if(parsing[version]) {
                    const NetworkConfig = require(parsing[version]);
                    network_config = new NetworkConfig(network_data, client);
                } else {
                    error_msg = 'network configuration has an unknown ""version""';
                }
            } else {
                error_msg = 'missing ""network-config-schema"" configuration setting';
            }
        } else {
            error_msg = '""version"" is missing';
        }
    } else {
        error_msg = 'missing configuration data';
    }

    if(error_msg) {
        throw new Error(util.format('Invalid network configuration due to %s',error_msg));
    }

    return network_config;
}
{code}
I understand the concept behind this code but wouldn't it be better if it hasn't to load the class while runtime? My suggestion is a init-function where you can pass the class so you don't have to load it while runtime. If no class is passed through the function the client just use the default networkconfig class.

It would make it a lot easier.",,heatherp,Paperman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz5tb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,Paperman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 4:40 PM;zhaochy;[~Paperman] can you describe what issue you met?;;;","16/Apr/18 11:12 PM;Paperman;[~zhaochy] After building the project, the application couldn't find the js-file because the file structur wasn't the same in the build forder. We had to seperatly add the file to our build path and to change the settings in the default.json. Otherwise he hadn't found the file.

This is caused by the fact that the code which i posted above is requiring the file at runtime. So the building tool dosen't take care of this file. 

This is just a design issue.

Do you need more informations?;;;","30/Oct/19 1:31 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Change endorsement policy JSON syntax to use ""rule"" instead of ""policy""",FABN-624,17666,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,jimthematrix,jimthematrix,09/Jun/17 2:41 AM,07/Apr/20 10:10 PM,28/Oct/23 3:25 AM,07/Apr/20 10:10 PM,,,,,,,Future,,,,0,external,sdk-triaged,,,"node SDK uses the following JSON structure for endorsement policy:

{code}
endorsement-policy: {
   identities: [
      { role: { name: 'member', mspId: 'org1' }},
      { role: { name: 'member', mspId: 'org2' }},
      { role: { name: 'admin', mspId: 'masterOrg' }}],
   policy: {
      '2-of': [{
         '1-of': [{ 'signed-by': 0 }, { 'signed-by': 1 }]
      }, {
         'signed-by': 2
      }]
   }
}
{code}

The 'policy' property corresponds to the 'policy' field in the following proto message:

{code}
message SignaturePolicyEnvelope {
    int32 version = 1;
    SignaturePolicy policy = 2;
    repeated MSPPrincipal identities = 3;
}
{code}

The 'policy' field recently changed to 'rule'. https://gerrit.hyperledger.org/r/#/c/10215/

We should change our JSON syntax to use the 'rule' property name to be consistent with the fabric API",,binhn,ChristopherFerris,harrisob@us.ibm.com,heatherp,jyellick,n-horiguchi,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzqu:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,harrisob@us.ibm.com,heatherp,jyellick,n-horiguchi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/17 8:15 AM;ChristopherFerris;-1 on principle - the time for changes has passed;;;","09/Jun/17 10:09 PM;binhn;{quote}The 'policy' field recently changed to 'rule'. [https://gerrit.hyperledger.org/r/#/c/10215/]
{quote}
I don't remember discussing or voting on --FAB-4418-- [~jyellick] but it got in and changed the proto interface.  We've decided for weeks that no change on interface. ;;;","09/Jun/17 11:10 PM;jyellick;Sorry everyone, this one is definitely my fault, I made that proto change, believing that it was isolated entirely in the config, and that there were no consumers of that proto.  I should have tagged that as review needed.;;;","30/Oct/19 1:31 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;","30/Oct/19 1:54 AM;jyellick;I don't think this is related to the high vs. low level APIs.  This has to do with the syntax used to specify endorsement policies.  Since we've got a new lifecycle and a v2.0 release coming up, it seems like it would be a nice time to address.;;;","07/Apr/20 10:10 PM;harrisob@us.ibm.com;Policy parsing will be refactored to use fabric's CLI/YAML syntax which does not include ""rule"".;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - painfully slow installation of CC in go with vendor packages,FABN-625,22100,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,AngelMilanov,AngelMilanov,15/Oct/17 7:35 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,02/Nov/17 4:29 AM,v1.0.1,v1.0.2,,,,,,,,,0,,,,,"Installing Go chaincode with vendor packages (base Fabric Shim libraries) lasts for more that several hours for a single peer.

Chaincode written in Go may include vendor packages, to enhance functionality, apply proper versioning, and ensure consistent behavior. Compressing the Go source code with only the standard vendor packages for Fabric Shim results in tar archives of ~70mb, or tar.gz packages of ~17mb, which are then signed by the NodeSDK and sent over to the peer.

The Promise returned by the function *Client.installChaincode(request, timeout)* 
resolves successfully after several hours. During this time, the Nodejs main thread remains _completely blocked_.

A closer look into the Fabric Node SDK reveals that signing the installation proposal is the real bottleneck (installChaincode calls in turn the signProposal function). By digging deeper, it becomes clear that the underlying cryptographic library *sjcl,* which implemented entirely in JS, blocks the whole Node process to perform calculations and takes several hours instead of seconds, as would the native Fabric binaries do.

 

Is there a way to replace the library, to achieve speeds comparable to native Fabric toolkit, i.e. the ""peer"" command?

 

Testing Environment:

Node 6.11.4 & Node 8.7.0 x64

Win 10 x64 & CentOS 7
i7-4700MQ 2.4GHz
RAM 16GB

 ",,AngelMilanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyjkv:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,AngelMilanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/17 4:28 AM;jimthematrix;having a chaincode that only imports fabric shim should not result in a large code package. you must have other extraneous packages in the vendor folder. if still a problem please re-open and provide more information on the directory structure of the chaincode and dependencies;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Could pkcs11 dependency for node sdk be made an optional dependency ?,FABN-626,23719,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,03/Nov/17 12:59 AM,12/Oct/19 4:26 PM,28/Oct/23 3:25 AM,12/Oct/19 4:26 PM,v1.0.4,v1.1.0,,,,,v2.0.0,,,,1,node-SDK,,,,"pkcs11 is not going to be used by many users of the node-sdk. however for all users it is installed and given it is native code requires compilation, not so much of a problem for linux, a bit of a pain for Mac users having to have xcode but a big pain for windows users.

npm supports the concept of optionalDependencies but depending on how pkcs11 is required in the code base it may have to be changed to require it only when needed (specified).

This literally might be a simple change to package.json of moving it to an optionalDependencies property in the package.json",,davidkel,denyeart,huxd,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzym9b:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,denyeart,huxd,jtonline,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","09/Oct/19 10:11 PM;davidkel;release-1.4: https://gerrit.hyperledger.org/r/#/c/fabric-sdk-node/+/33915/
master: https://gerrit.hyperledger.org/r/#/c/fabric-sdk-node/+/33914/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tests in fabric-sdk-node still use unstable shim,FABN-627,28788,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,23/Mar/18 7:37 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,24/Mar/18 11:56 AM,v1.1.0,v1.2.0,,,,,v1.2.0,,,,0,node-SDK,,,,"update test node chaincode to use shim 1.1.0

FAB-8893 created a CR
https://gerrit.hyperledger.org/r/#/c/19279/
which make the test node chaincode still use 'unstable' shim",,davidkhala,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8434,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz2rb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 7:46 PM;zhaochy;https://gerrit.hyperledger.org/r/19667 for master
https://gerrit.hyperledger.org/r/19669 for release-1.1;;;","23/Mar/18 10:51 PM;davidkhala;Similar to https://gerrit.hyperledger.org/r/#/c/18717/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DRY use decodeBlockHeader in decodeBlock for BlockDecoder,FABN-628,28017,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,26/Feb/18 7:18 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,26/Feb/18 10:17 PM,,,,,,,,,,,0,,,,,"The current node SDK has a static method called `decodeBlock()` which reimplements `decodeBlockHeader()`. This should rather just be made to call the function instead as there is no different in the `block.header` value and the value returned from the `decodeBlockHeader()` method.

This is mostly a code cleanup.",,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyyxj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Feb/18 10:18 PM;sudheesh001;Seems like a false report. Sorry about that.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide a method in keyvaluestore impl to get all key values,FABN-629,26334,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,daijianw,daijianw,03/Jan/18 10:27 AM,30/Oct/19 1:30 AM,28/Oct/23 3:25 AM,30/Oct/19 1:30 AM,v1.0.0,v1.1.0-preview,,,,,,,,,0,node-SDK,,,,"In current keyvaluestore impl, like FileKeyValueStore.js and CouchDBKeyValueStore.js, one can only get one value key pair using getvalue(name) method, but there are some scenarios one may need to get all key value pairs. For example, if one wants to persistent channel info of the network to the keyvaluestore,  so that it can list the channels of the network.  From SDK user perspective, one may extend the keyvaluesotre impl to support that, but that will cause some inconvinience when upgrade to new version of sdk. ",,daijianw,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzys93:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,daijianw,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:30 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update fabric-sdk-node client.createUser for skipPersistence,FABN-630,31849,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,13/Jul/18 12:05 PM,19/Jul/18 5:00 PM,28/Oct/23 3:25 AM,19/Jul/18 5:00 PM,,,,,,,,,,,0,,,,,"with skipPersistence=true, sdk should not create kvs at client.createUser",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,No,,,No,,,"1|hzzijr:",,No,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jul/18 4:56 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/24383/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK need to be consistent in taking encoded string for channel operations,FABN-631,17658,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,varadatibm,varadatibm,09/Jun/17 1:05 AM,30/Oct/19 1:30 AM,28/Oct/23 3:25 AM,30/Oct/19 1:30 AM,,,,,,,,,,,0,,,,,"Currently SDK takes hex string of signature for creating channel. But it is inconsistent in the following two places...

* SDK needs proto for getting signatures

* SDK needs proto for configupdate for create channel

Since we need to store the config update, we should support taking encoded objects (in hex or base64) to be consistent.",,heatherp,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzpj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:30 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK API to wait until a transaction has been committed,FABN-632,13897,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,inatatsu,inatatsu,30/Dec/16 2:33 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,08/Feb/17 10:21 PM,,,,,,,v1.0.0,,,,0,node-SDK,quality,Usability,,"When we develop a deterministic blockchain application, we need a convenient mechanism that a client can wait until the results of a prior transaction had been committed into the ledger. This is because endorsement has dependency to the latest state of the ledger.

While the end-to-end demo mentions this requirement, it actually sleeps during a few seconds. This is convenient but dangerous programming practice since it can introduce intermittent behavior into the whole application.

In theory, this can be checked by polling with chaincode query, but in practice, SDK should provide a convenient API which allows a client to wait until transaction results have been committed into the ledger.",,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-896,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxgcf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/17 12:41 AM;jimthematrix;[~inatatsu] Inagaki-san, thanks for taking the time to write this requirement up. This work has been ongoing under FAB-896. I just marked this one to be duplicated by that.;;;","05/Jan/17 2:11 PM;inatatsu;[~jimthematrix] Thank you very much for your helpful information. Will FAB-896 add a separate event API? Or will it enhance the existing API to provide a synchronous option? For example, an extra synchronization flag in the request for Chain.sendTransaction().;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
inconsistent api interface in SDK,FABN-633,15571,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,dshuffma,dshuffma,05/Apr/17 5:29 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,01/Jun/17 3:32 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,5,,,,,"There are 3 different ways to ""add"" a peer to the SDK chain object. It depends on what call you are doing... That is kind of annoying and I'd like all the query/invoke interfaces to be the same. For example:

1. When querying/invoking chaincode || querying members on a channel you first add peers to the chain object and then call a query function.

{code:javascript}
chain.addPeer(new Peer(options.peer_urls[i], { pem: ev.CERTIFICATE }));
//then later
chain.queryByChaincode(request)....etc 
{code}

2. When querying instantiated chaincodes || blocks data || channel data you have to add peers AND set a primary peer

{code:javascript}
chain.addPeer(new Peer(options.peer_urls[i], { pem: ev.CERTIFICATE }));
chain.setPrimaryPeer(new Peer(options.peer_urls[0], { pem: ev.CERTIFICATE }));
//then later
chain.queryBlock(4)....etc 
{code}

3. When querying for the list of channels && installed chaincodes you have to do everything like #1 AND you pass a peer object. Such as:

{code:javascript}
var peer = new Peer(options.peer_urls[0], { pem: ev.CERTIFICATE })
chain.addPeer(peer);
//then later
chain.queryChannels(peer)....etc 
{code}


If i had to pick one, I like none of them haha. Personally I'd like to see an array of peers that I set every call.  Like: 

{code:javascript}
chain.queryChannels([new Peer(options.peer_urls[0], { pem: ev.CERTIFICATE })])....etc 
{code}",,binhn,ChristopherFerris,dshuffma,mastersingh24,MHBauer,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-387,,,FABN-304,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx48f:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,dshuffma,mastersingh24,MHBauer,troyronda,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 3:31 AM;jimthematrix;let's do this:
- all the queryXXX methods will by default target the first peer in the channel object's list of peers
- add an optional ""target"" parameter to the end of the arguments list, which always takes a singular peer object (need to check to make sure it's not an array)
- get rid of the primary peer concept and remove the getPrimaryPeer() method;;;","27/May/17 2:59 PM;ChristopherFerris;[~jimthematrix] this isn't  bug, it is an improvement.;;;","31/May/17 5:06 AM;jimthematrix;[~ChristopherFerris] agree, just changed the type to Improvement and added the ""review-needed"" tag;;;","31/May/17 5:59 AM;binhn;+1

I think this is important: our API should be so annoying to the developers. 

[~dshuffma] Thanks for reporting this issue.;;;","31/May/17 6:20 PM;mastersingh24;The current API(s) are very confusing and inconsistent.  This makes sense to me;;;","01/Jun/17 12:56 AM;ChristopherFerris;This has reached the needed votes, and may be merged when ready.;;;","01/Jun/17 2:59 AM;jimthematrix;thanks [~ChristopherFerris]

https://gerrit.hyperledger.org/r/#/c/9979;;;","01/Jun/17 3:08 AM;jimthematrix;[~dshuffma] can you take a look at this the CR above and see if it'll fit what you expected? we went with a singular request target instead of handling multiple targets mainly to simplify the response (so it can accurately resolve or reject instead of having to resolve to an array that has both success and failure responses, like we did for sendTransactionProposal()). if apps have a need to query multiple targets they can make separate calls.;;;","01/Jun/17 4:03 AM;dshuffma;looking better, now you are down to 2 different interfaces...

 

sendTransactionProposal() is taking the peers via a ""targets"" field inside the 1st parameter.
{code:java}
sendTransactionProposal({targets: [target], chaincodeId: 'asdf', txId: 'asdf', args: []});{code}
 

while all the channel stat like things are providing it as the 1st or 2nd argument

 
{code:java}
queryBlock(blockNumber, target);
queryInfo(target);
queryTransaction(tx_id, target);
etc...{code}
 

 

regardless, this is much better. Thanks!  Oh, and I'm not too concerned that we only get 1 target, that's okay.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub.js verification logic clarify,FABN-634,27561,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Invalid,davidkhala,davidkhala,davidkhala,09/Feb/18 2:55 PM,12/Dec/18 11:53 PM,28/Oct/23 3:25 AM,12/Dec/18 11:53 PM,v1.1.0-alpha,,,,,,,,,,0,,,,,"-Set Client context bound to this Channel object. It is useful when after new organization added to channel, channel is required to operate on newly created signing identity.-

 

a connection is created if onError callback is provided, which is not obvious in document. 

Developer would normally call connect() explicitly outside registerEvent(), which would make duplicated connections",,davidkhala,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzywqf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/18 7:30 AM;harrisob@us.ibm.com;The connection will be established to the fabric event service when the connect is called on the event hub regardless if there are any registered listeners or registered listeners with an error callback. If the connect is called again it will be just return if the connect is already running or has completed, another connection is not established.;;;","12/Dec/18 11:53 PM;davidkhala;The mechanism of old eventHub is deprecated not , close it;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
typo and deadcode in fabric-client/../FileKeyValueStore.js,FABN-635,20296,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,19/Aug/17 11:43 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,31/Aug/17 3:00 PM,v1.0.1,,,,,,,,,,0,,,,,"Dear Jim,

I tested and find some flaws in fabric-sdk-node/fabric-client/lib/impl/FileKeyValueStore.js from

line 54:

 

{color:#458383}fs{color}.mkdirs({color:#458383}self{color}.{color:#660e7a}_dir{color}, {color:#000080}function {color}(err) \{
 {color:#000080}if {color}(err) \{
 {color:#458383}logger{color}.{color:#7a7a43}debug{color}({color:#008000}'FileKeyValueStore.js - constructor, error creating directory, code: ' {color}+ err.{color:#660e7a}code{color});
 {color:#000080}if {color}(err.{color:#660e7a}code {color}== {color:#008000}'EEXIST'{color}) \{
 {color:#000080}return {color}resolve({color:#458383}self{color});
 } {color:#000080}else {color}\{
 {color:#000080}return {color}reject(err.{color:#660e7a}code{color});
 }
 }
 {color:#000080}return {color}resolve({color:#458383}self{color});
});

 

As my test case show, if directory DOES exist, there is no error and thus the checking of err.code=='EEXIST' is ""deadcode"" , making the typo of 'EEXIST' swallowed.

my suggestion is

{color:#458383}fs{color}.mkdirs({color:#458383}self{color}.{color:#660e7a}_dir{color}, {color:#000080}function {color}(err) \{
 {color:#000080}if {color}(err) \{
 {color:#458383}logger{color}.{color:#7a7a43}debug{color}({color:#008000}'constructor, error creating directory, code: ' {color}+ err.{color:#660e7a}code{color});
{color:#000080}return {color}reject(err);
}
 {color:#000080}return {color}resolve({color:#458383}self{color});
});

 ",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzydnr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK to retrieve channel configuration in JSON format,FABN-636,15867,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,varadatibm,varadatibm,21/Apr/17 1:58 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,06/Oct/17 5:37 AM,,,,,,,,,,,0,HSBN,node-SDK,,,"We will have the feature to create a channel using SDK
https://gerrit.hyperledger.org/r/#/c/7957/

We would need a way to get the channel configuration such as the following so that we can present the information when the user is updating the channel

Update channel Policy (who can update the channel)
Channel Settings (Batch size, etc)
Channel Roles (reader, writer, admin)",,ptippett,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-808,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxqkv:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ptippett,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jun/17 2:28 AM;ptippett;I believe this function is getting handled via the separate utility that Jason is doing.  Not sure if you ever want to do this via SDK, but I'll leave that to you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK Support for validating endorsement responses,FABN-637,19645,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,01/Aug/17 5:15 PM,13/Oct/18 1:39 AM,28/Oct/23 3:25 AM,13/Oct/18 1:39 AM,v1.0.0,,,,,,Future,,,,0,node-SDK,,,,"The node SDK provides 2 helper functions to look at endorsement responses
channel.verifyProposalResponse & channel.compareProposalResponseResults

I'm struggling to understand how a client could effectively use these. In our code all we do is log a warning if either return false but still send all the endorsements to the orderer.

The reason for only logging is that the client has no idea what the endorsement policy is so cannot make a decision about problems with these responses. Also the client shouldn't terminate or not pass the information to the orderer if an endorsement doesn't verify or the RW Sets don't match as this could be a malicious peer and by doing so the malicious peer could effectively stop a transaction from being committed. 

I was wondering if there was any guidance on this or have I misunderstood something ?
",,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyabr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/17 8:12 PM;mastersingh24;[channel.verifyProposalResponse|https://fabric-sdk-node.github.io/Channel.html#verifyProposalResponse__anchor]  - you can use this to make sure that the proposal response was signed by a legitimate member of an organization which is part of the channel.  If this returns false for any proposal response, it should not be included in the proposal set sent to the orderer(s).

[channel.compareProposalResponseResults|https://fabric-sdk-node.github.io/Channel.html#compareProposalResponseResults__anchor] - while you are correct that the client does not explicitly know the endorsement policy, it likely has some clue implicitly based on which endorsers it actually sends proposal to.  Of course when you build the client, you may actually have knowledge of the endorsement policy so you can use this to make sure you actually get enough correct endorsements in that case

 ;;;","01/Aug/17 8:52 PM;davidkel;That's useful to know about the verifyProposalResponse. I can look to removing it from the set, however wouldn't it also be handled by fabric as well ?

 

For the compare, Composer won't know the endorsement policy unfortunately. In that case it would have to be part of some meta-data in the connection profile. Even if it did the issue with the compare is that it tells you if they compare or don't compare but nothing else which doesn't really help. Again I assume the fabric would also perform checks anyway ?;;;","02/Aug/17 6:14 AM;mastersingh24;These are optional calls that the client can make to ""pre-filter"" what it send to the orderer but enforcement is indeed handled by peers anyway during validation and commit;;;","02/Aug/17 6:14 AM;mastersingh24;If there's no other action, please close whenever you get a chance;;;","10/Aug/17 10:13 PM;davidkel;Ok, closing but it seems to be that [channel.compareProposalResponseResults|https://fabric-sdk-node.github.io/Channel.html#compareProposalResponseResults__anchor]  has little value if you can't determine which ones differ so is it worth a JIRA to raise a requirement for this ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Channel.js's static function ""sendTransactionProposal"" add opt to pass proposal header and proposal",FABN-638,20157,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,kungyc,kungyc,14/Aug/17 12:07 PM,14/Aug/19 1:45 AM,28/Oct/23 3:25 AM,14/Aug/19 1:45 AM,,,,,,,v2.0.0,,,,0,node-SDK,,,,"Now, Channel object use ""sendTransactionProposal"" to propose a proposal to endorse peers, and the header and proposal will be made in the static function ""sendTransactionProposal"" like following
{quote}^{{header = clientUtils.buildHeader(userContext.getIdentity(), channelHeader, *{color:#d04437}request.txId.getNonce(){color}*);}}^
  
 ^{{proposal=clientUtils.buildProposal(invokeSpec, header, request.transientMap);}}^
{quote}
 
But if we check the response of endorsing, sometimes response will be invalid, caused by peers's crashing or some exceptional situations.
 
For example, my chaincode need to be endorsed by org1 and (org2 or org3), then I send the proposal to org1 and org2's endorsing peer. Org1 's response is good but org2's isn't, so I need to use the same parameter to send to Org3's peer.
 
Here is the problem, cause the header and proposal is build among the function and the {color:#d04437}nonce{color} is created in the procedure, it will cause invalid tx when committers try to verify the nonce of each endorsement. So I have to send a new proposal to org1 and org3 again even org1 has already endorsed the tx. 
 
So I recommend we can add a opt parameter for the function so we can pass the header and proposal in.
 
 ",,harrisob@us.ibm.com,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyczj:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,kungyc,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 4:25 AM;harrisob@us.ibm.com;Nonce and transaction ID are created apart from the sendTransactionProposal(), just use the same transactionid Object that was used for the original request. see https://fabric-sdk-node.github.io/Client.html#newTransactionID;;;","27/Mar/18 4:26 AM;harrisob@us.ibm.com;There was a typo in the doc ... updated with
https://gerrit.hyperledger.org/r/#/c/19775/;;;","14/Aug/19 1:45 AM;harrisob@us.ibm.com;The refactor of the low level NodeSDK  in the new package 'fabric-base' will handle the building and signing and sending of request to fabric differently.

https://gerrit.hyperledger.org/r/c/fabric-sdk-node/+/32889
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Handle proposal responses more transparently to applications,FABN-639,26682,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,n-horiguchi,n-horiguchi,n-horiguchi,09/Jan/18 2:15 PM,14/May/19 3:26 PM,28/Oct/23 3:25 AM,14/May/19 3:26 PM,v1.1.0-preview,,,,,,Future,,,,1,node-SDK,,,,"Currently SDK provides helper functions (like verifyProposalResponse and compareProposalResponseResults) to help applications to handle proposal responses from endorsers. But applications still have to do some work (which are not application specific logics in nature) to enforce endorsement policies on their own. So some more wrapper functions in SDK would be helpful to give an option especially for cases with simple/typical endorsement policies.

See also [link comment from Gali|https://lists.hyperledger.org/pipermail/hyperledger-fabric/2018-January/002545.html].
",,davidkel,MariWade,n-horiguchi,zhaochy,,,,,,,,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzystb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,MariWade,n-horiguchi,zhaochy,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 5:21 PM;n-horiguchi;uploaded a patch for this issue: https://gerrit.hyperledger.org/r/#/c/20233/;;;","08/Apr/18 5:33 PM;zhaochy;[~n-horiguchi] I made comments;;;","09/Apr/18 9:21 AM;n-horiguchi;[~zhaochy] thank you! I updated the gerrit.;;;","14/May/19 3:26 PM;davidkel;Closing as fabric-network now provides required capability;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support HA Capabilties,FABN-640,27790,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,16/Feb/18 5:42 PM,13/Oct/18 1:40 AM,28/Oct/23 3:25 AM,13/Oct/18 1:40 AM,v1.1.0-alpha,,,,,,Future,,,,0,node-SDK,,,,"The ability for the node-sdk to be resilient to unavailable nodes is something that would be common to all users of the sdk. For example
1. When listening for chaincode events, either listen on all eventSource peers and de-duplicate or ensure that before a submission to the orderer that connection to an eventSource exists for chaincode events

2. When querying ledgers or chaincode, you only need to send the query to a single peer (unless really want to do a peer response comparison), but if that peer is down, try another peer in the same organisation and if all the same org peers, fail start trying peers in other organisations.

3. The ability to define more than 1 CA in a connection profile for an organisation and then fallover to another if the first one responds with an error

4. https://jira.hyperledger.org/browse/FAB-5565 for the orderer

There are probably other scenarios to be considered, so would be good to get other ideas into this JIRA. I am not proposing that the node-sdk changes it's behaviour or current apis. I think a base capability in the node-sdk is vital but rather a new api that provides these more complex capabilities
",,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-281,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyxsf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Global chain query / broadcast from SDK,FABN-641,13486,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,markparz,markparz,19/Nov/16 10:01 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,24/Feb/17 11:53 PM,,,,,,,,,,,1,node-SDK,,,,Send a proposal to multiple chains to enable global query.,,markparz,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,288000,288000,,0%,288000,288000,,,,,,,,,,,,,,,,,,,FAB-1152,,,,,,FAB-2440,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxfzr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,markparz,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Feb/17 11:52 PM;markparz;Close as dup see https://jira.hyperledger.org/browse/FAB-2440 for more detailed description;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[sdk-node] Improve integration tests for ""invoke chaincode""",FABN-642,17801,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,13/Jun/17 7:46 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,18/Jul/17 4:48 AM,v1.0.0-beta,,,,,,v1.1.0,v1.1.1,,,0,,,,,"The current integration tests in sdk-node lack checks for the endorsement policy in invoking a chaincode.

In e2e/invoke-transaction.js, SDK sends a transaction proposal to two peers, and gets two endorsements from them, which is sufficient for the current chaincode policy that requires endorsements from two orgs (as in e2eUtils.buildChaincodeProposal).
To improve this test, we need to add some negative test cases to ensure that the policy works, such as one to check if it fails when only one endorsement is attached to the transaction request.",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy1gn:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jun/17 8:19 AM;shimos;Posted: https://gerrit.hyperledger.org/r/#/c/10505/;;;","13/Jul/17 2:17 AM;jimthematrix;[~shimos] thanks for adding this test, please see my comments in gerrit;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - simplify state and crypto store setup,FABN-643,20931,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,20/Sep/17 8:04 PM,31/Jul/19 2:58 AM,28/Oct/23 3:25 AM,31/Jul/19 2:58 AM,v1.0.2,,,,,,Future,,,,0,node-SDK,,,,"The community has tended to create just one key value store and use it for both the state store and the crypto store. We should make that usage pattern easier. We could do anyone or all of the following to assist the users.
 * We could set the state store and crypto store to the default when the client object is created. Both could be overridden later.
 * We could add a new 'Client' instance method 'setDefaultKeyValueStores' that would create the default key value store and set it as the state store and create a crypto suite and set it as the crypto store.
 * We could update the 'setStateStore' to also create the crypto suite and set the crypto store to the same store passed in if the crypto suite is null. The application could always set crypto suite later.
 * We should remove the creating of crypto suite in 'User' when one does not exist and required that the 'Client' object be properly initialized that is creating the user.",,denyeart,harrisob@us.ibm.com,mastersingh24,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzygxz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,harrisob@us.ibm.com,mastersingh24,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/17 2:28 AM;harrisob@us.ibm.com;[~jimthematrix] Please have a look;;;","25/Oct/17 1:12 AM;harrisob@us.ibm.com;[~jimthematrix@gmail.com] Please have a look;;;","23/Feb/18 6:26 AM;mastersingh24;Seems like something reasonable to do to improve usability.
I think we need to avoid doing any ""magic"" that is not clear the to SDK user
;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","31/Jul/19 2:58 AM;harrisob@us.ibm.com;Not required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
An option for QueryBlock/Transaction to skip decoding,FABN-644,31083,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,15/Jun/18 8:49 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,22/Jun/18 3:40 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"Channel.QueryBlock* and Channel.QueryTransaction returns a fully decoded block/transaction.
When a client wants to verify the contents, for example, hashes and signatures for the block, it needs binary representation (or encoded) of the block.
There is no API to encode it from the decoded data, and the decoded data might lose some details (like nanosec in timestamp). This might prevent us from restoring the binary of the block.

As a simple solution, I'd like to propose adding an option to these methods which skips decoding the block/transaction to leave it for clients.",,MHBauer,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzexr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,MHBauer,shimos,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jun/18 9:23 AM;shimos;CR: https://gerrit.hyperledger.org/r/c/23167/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Installing chaincode on a peer needs better validation of chaincodePath,FABN-645,19610,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,MartinC,MartinC,31/Jul/17 6:30 PM,30/Oct/19 1:30 AM,28/Oct/23 3:25 AM,30/Oct/19 1:30 AM,v1.0.0,v1.0.1,v1.0.2,v1.1.0,,,,,,,0,,,,,"When using the node SDK to install chaincode onto a Peer using a chaincodePackage I incorrectly interpreted the description of the chaincodePath field to be the path to the chaincode file rather than the directory the file was in. The problem is that the install appears to succeed and the chaincode can be queried but doing the follow on instantiate fails because it can't find the chaincode.

I would suggest fixing this in one of two ways.
 # If the chaincodePath specifies a file, use the directory it is in as the chaincodePath field.
 # *OR* If the chaincodePath specifies a file, fail the install and change part of the description of 'chaincodePath' from ""The path to the location of the source code of the chaincode"" to be ""The path to the directory containing the chaincode source file(s)""

 

 ",,florianc,heatherp,MartinC,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzya53:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,florianc,heatherp,MartinC,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/17 9:57 PM;mastersingh24;A nice to have so marking as improvement;;;","30/Oct/19 1:30 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add queryBlockByTxID api to fabric-sdk-node,FABN-646,24807,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,qiushaoxi,qiushaoxi,06/Dec/17 10:16 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,03/Mar/18 11:07 AM,,,,,,,,,,,0,,,,,add queryBlockByTxID api to fabric-sdk-node,,davidkhala,n-horiguchi,qiushaoxi,,,,,,,,,,,,,,,,,,,,,,,,7200,7200,,0%,7200,7200,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5087,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyppr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,n-horiguchi,qiushaoxi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK node error handling,FABN-647,16190,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,Clayton Sims,Clayton Sims,03/May/17 6:33 AM,30/Apr/19 11:38 PM,28/Oct/23 3:25 AM,30/Apr/19 11:38 PM,,,,,,,Future,,,,0,serviceability,,,,,,Clayton Sims,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzua7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/19 11:38 PM;sykesm;This story has no supporting details and is approaching its second birthday. It's time to call it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update fabric-sdk-node client for fabric-ca changes,FABN-648,30430,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,zhaochy,zhaochy,zhaochy,21/May/18 7:09 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,28/May/18 2:47 PM,,,,,,,v1.2.0,,,,0,node-SDK,,,,"fabric-ca changed the auth header format, fabric-sdk-node should change this correspondingly",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzbc7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/May/18 7:16 PM;zhaochy;https://gerrit.hyperledger.org/r/22053;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-sdk getters missing on some properties,FABN-649,19642,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,davidkel,davidkel,01/Aug/17 4:50 PM,14/May/19 3:21 PM,28/Oct/23 3:25 AM,14/May/19 3:21 PM,v1.0.0,,,,,,,,,,0,node-SDK,,,,"In order to implement the ability to export an identity from the statestore/cryptostore I used the following code

{code:java}
    exportIdentity(connectionProfile, connectionOptions, id) {
        const client = HLFConnectionManager.createClient();
        return this._setupWallet(client, connectionOptions.wallet, connectionOptions.keyValStore)
            .then(() => {
                return client.getUserContext(id, true);
            })
            .then((user) => {
                return {
                    publicCertPEM: user.getIdentity()._certificate,
                    privateKeyPEM: user.getSigningIdentity()._signer._key.toBytes()
                };
            });
    }
{code}
Here retrieving the certificate and the signer I have used the internal properties directly as no getters were available.
",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyab3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 4:06 AM;harrisob@us.ibm.com;When using some crypto suites, (like with an HSM) the private key will not be available ... why do you need to export ?;;;","28/Mar/18 7:31 PM;davidkel;Composer still uses this approach for non-hsm users, we should be using public methods not internal properties to do this.;;;","10/Aug/18 1:52 AM;harrisob@us.ibm.com;Do we still need this ?;;;","14/May/19 3:21 PM;davidkel;Closing as this won't ever get done and composer has already accesses the internal property.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update type definition for fabric-client,FABN-650,28544,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,15/Mar/18 5:22 PM,25/Aug/18 6:23 AM,28/Oct/23 3:25 AM,17/Mar/18 9:05 AM,,,,,,,v1.2.0,,,,0,,,,,"new APIs added for fabric-client, need update type definition too",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-868,FABN-891,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz1d3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Mar/18 5:27 PM;zhaochy;https://gerrit.hyperledger.org/r/19209;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
In balance-transfer sample app avoid using internal resources (ex utils.js),FABN-651,16138,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,02/May/17 12:29 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,05/May/17 4:18 AM,,,,,,,v1.0.0,,,,0,node-sdk,,,,"Balance-Transfer sample web app uses Internal resource util.js, avoid using the same by accessing the SDK config properties.",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxrvb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance of transaction payload encryption in HFC 0.6.x,FABN-652,14179,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,ryokawajp,ryokawajp,19/Jan/17 5:19 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,14/Apr/17 8:52 PM,,,,,,,v0.6,,,,0,help-wanted,node-SDK,,,"h2. Summary
We measured the time of transferring a large file (30MB) to a blockchain ledger.
It took approx. 50 seconds. Additional analysis of Node.js profile and peer logs
revealed that 60% of the transfer time is occupied by encryption-related functions,
while time for PBFT consensus is about 5 seconds.

I would like to know what is the practical limit of the data size which can be included in a transaction, to design the chaincode interface and data structure.
If this bottleneck is improved, then design will be easier.

h2. Background
- Our application has functions to upload and download a file to the ledger.
- Our application has a 3-tier structure. Client, Node.js app, and Fabric. All of them are deployed in different machines.
-- The file is sent from a web browser to a front-end Node.js application through http.
-- In the Node.js app, the file is converted to Base 64 encoding and sent as an invoke transaction to Fabric peer using HFC.
-- In Fabric, the chaincode receives the file as an argument of a function and store it to World State.
- First, we measured the duration between the Member.invoke() and tx.on('submitted', ...).
-- This duration does not include the time in Fabric such as the consensus or the chaincode execution.
-- The result was 51 seconds for 30MB file.
- So in this test we analyze the execution of HFC using Node.js profiler.

h2. Parameters and environments
- Fabric v0.6.0-preview
- Security and privacy are enabled.
- 4 peers and a membersrvc
- PBFT consensus
- PBFT batch size = 1
- Node.js runtime (version: )
-- 8GB memory on Bluemix
- hfc 0.6.5

h2. Test case
- Run our Node.js application with the profiling option: node --prof
- Upload a file whose size is 30MB from a web browser.

h2. Result
- node-prof-process-30mb.txt : this is a stats of the obtained profile data for upload of 30MB file.
-- Summary and Bottom up profile are shown in the bottom of this document.
- 2017-01-12 10_21_34-chrometracing2.png : a screen shot of Chrome chrome://tracing tool. A profiling log with node --prof --log_timer_events is visualized with 1MB file.
-- See this URL for the tool. https://github.com/thlorenz/v8-perf/issues/4
-- We could not obtain a profiling log for 30MB case because of the huge log size.
-- Major events are as follows:
--- From 0s to 6s: Initialization of Node.js and modules
--- From 93s to 110s: Enrollment and TCert retrieval
--- From 152s to 171s: File upload. (This part becomes longer as the file size increases)

h2. Interpretation of the result.
- The root function name of the call stack is not shown in the stats file but according to the call stack shown in chrome://tracing tool, it seems that ~ArraySlice and *Buffer.toJSON are called from ~Crypto.eciesEncryptECDSA.
- Except for UNKNOWN, it seems that all of the durations shown in the stats are related to the cryptography. The amount of the duration is approximately 64%.
- I do not understand why Buffer.toJSON appears in the cryptography. Since Buffer.toJSON is a simple data conversion, a large amount of memory is (or many memory chunks are) converted to JSON.
- We could not profile the memory usage. However, the memory usage is large. 1GB was not enough and we allocated 8GB for Node.js.


node-prof-process-30mb.txt
{noformat}
 [Summary]:
   ticks  total  nonlib   name
   6748   13.2%   56.8%  JavaScript
      0    0.0%    0.0%  C++
   1580    3.1%   13.3%  GC
  39159   76.7%          Shared libraries
   5122   10.0%          Unaccounted

 [C++ entry points]:
   ticks    cpp   total   name

 [Bottom up (heavy) profile]:
  Note: percentage shows a share of a particular caller in the total
  amount of its parent calls.
  Callers occupying less than 2.0% are not shown.

   ticks parent  name
  35917   70.4%  /home/vcap/app/vendor/node/bin/node
  34613   96.4%    /home/vcap/app/vendor/node/bin/node
  16890   48.8%      LazyCompile: *defineProperty native v8natives.js:573:30
  16885  100.0%        LazyCompile: *DefineIndexedProperty native array.js:48:31
  16884  100.0%          LazyCompile: *SimpleSlice native array.js:267:21
  16837   99.7%            LazyCompile: ~ArraySlice native array.js:570:20
   9601   27.7%      LazyCompile: *SimpleSlice native array.js:267:21
   9592   99.9%        LazyCompile: ~ArraySlice native array.js:570:20
   9592  100.0%          Stub: CEntryStub
   9592  100.0%            LazyCompile: *Buffer.toJSON buffer.js:783:35
   2412    7.0%      LazyCompile: ~stringify native json.js:176:23
   2391   99.1%        LazyCompile: ~Crypto.hmac /home/vcap/app/node_modules/hfc/lib/crypto.js:302:38
   2389   99.9%          LazyCompile: ~Crypto.eciesEncryptECDSA /home/vcap/app/node_modules/hfc/lib/crypto.js:170:51
   2389  100.0%            LazyCompile: ~Crypto.eciesEncrypt /home/vcap/app/node_modules/hfc/lib/crypto.js:202:46
   1347    3.9%      LazyCompile: *fromBits /home/vcap/app/node_modules/sjcl-codec/sjcl.js:490:22
   1347  100.0%        LazyCompile: *bitsToBytes /home/vcap/app/node_modules/hfc/lib/hash.js:151:24
   1347  100.0%          LazyCompile: ~update /home/vcap/app/node_modules/hfc/lib/hash.js:94:22
   1347  100.0%            LazyCompile: ~sjcl.misc.hmac.update /home/vcap/app/node_modules/sjcl/sjcl.js:32:315

   5122   10.0%  UNKNOWN

   2784    5.5%  /lib/x86_64-linux-gnu/libc-2.19.so
   1473   52.9%    /home/vcap/app/vendor/node/bin/node
    476   32.3%      LazyCompile: ~stringify native json.js:176:23
    474   99.6%        LazyCompile: ~Crypto.hmac /home/vcap/app/node_modules/hfc/lib/crypto.js:302:38
    474  100.0%          LazyCompile: ~Crypto.eciesEncryptECDSA /home/vcap/app/node_modules/hfc/lib/crypto.js:170:51
    474  100.0%            LazyCompile: ~Crypto.eciesEncrypt /home/vcap/app/node_modules/hfc/lib/crypto.js:202:46
    411   27.9%      LazyCompile: *SimpleSlice native array.js:267:21
    411  100.0%        LazyCompile: ~ArraySlice native array.js:570:20
    411  100.0%          Stub: CEntryStub
    411  100.0%            LazyCompile: *Buffer.toJSON buffer.js:783:35
     63    4.3%      LazyCompile: *parse native json.js:61:19
     61   96.8%        LazyCompile: ~parse /home/vcap/app/node_modules/body-parser/lib/types/json.js:71:18
     61  100.0%          LazyCompile: <anonymous> /home/vcap/app/node_modules/body-parser/lib/read.js:76:34
     61  100.0%            LazyCompile: ~invokeCallback /home/vcap/app/node_modules/raw-body/index.js:254:29
     51    3.5%      LazyCompile: *exec native regexp.js:116:30
     49   96.1%        LazyCompile: ~firstchar /home/vcap/app/node_modules/body-parser/lib/types/json.js:144:20
     49  100.0%          LazyCompile: ~parse /home/vcap/app/node_modules/body-parser/lib/types/json.js:71:18
     49  100.0%            LazyCompile: <anonymous> /home/vcap/app/node_modules/body-parser/lib/read.js:76:34

   1362    2.7%  LazyCompile: *f /home/vcap/app/node_modules/js-sha3/src/sha3.js:279:20
   1361   99.9%    LazyCompile: *Keccak.update /home/vcap/app/node_modules/js-sha3/src/sha3.js:107:38
    681   50.0%      LazyCompile: ~update /home/vcap/app/node_modules/hfc/lib/hash.js:94:22
    681  100.0%        LazyCompile: ~sjcl.misc.hmac.update /home/vcap/app/node_modules/sjcl/sjcl.js:32:315
    681  100.0%          LazyCompile: ~Crypto.hmac /home/vcap/app/node_modules/hfc/lib/crypto.js:302:38
    681  100.0%            LazyCompile: ~Crypto.eciesEncryptECDSA /home/vcap/app/node_modules/hfc/lib/crypto.js:170:51
    679   49.9%      LazyCompile: ~<anonymous> /home/vcap/app/node_modules/js-sha3/src/sha3.js:32:21
    679  100.0%        LazyCompile: ~Crypto.ecdsaSign /home/vcap/app/node_modules/hfc/lib/crypto.js:121:43
    679  100.0%          LazyCompile: ~<anonymous> /home/vcap/app/node_modules/hfc/lib/hfc.js:1080:34
    679  100.0%            LazyCompile: ~TransactionContext.getMyTCert /home/vcap/app/node_modules/hfc/lib/hfc.js:1168:56
{noformat}
",,ryokawajp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jan/17 6:19 PM;ryokawajp;2017-01-12 10_21_34-chrometracing2.png;https://jira.hyperledger.org/secure/attachment/10394/2017-01-12+10_21_34-chrometracing2.png","19/Jan/17 6:11 PM;ryokawajp;node-prof-process-30mb.txt;https://jira.hyperledger.org/secure/attachment/10393/node-prof-process-30mb.txt",,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxilb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ryokawajp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Browser compatible fabric-node-sdk,FABN-653,27524,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,mastersingh24,siddesh_sangodkar,siddesh_sangodkar,08/Feb/18 7:34 PM,13/Jan/21 12:06 AM,28/Oct/23 3:25 AM,13/Jan/21 12:06 AM,,,,,,,Future,,,,5,external,node-SDK,sdk-triaged,,"Issues for using fabric-node-sdk as a JavaScript library in a hybrid application.

 ** *Approach used*: Try to browserify the fabric-node-sdk.

 

*Problem  1*:

fabric-node-sdk library uses standard FS libraries(fs-extra [https://www.npmjs.com/package/fs-extra] ) which write directly to the system disk.

FS libraries are not supported for use in a browser.

This will require altering the fabric-node-sdk library to use browser’s local storage

 

*Problem  2* :

Fabric API uses GRPC for communication with Fabric. To get it to work in a browser requires the right GRPC package.

This will require altering the fabric-node-sdk library to use browser compatible GRPC package.

 [https://stackoverflow.com/questions/45284951/browser-side-client-for-hyperledger-fabric-1-0]

What Other approaches are possible?",,BrianMcKellar,davidkel,davidkhala,huxd,inatatsu,Koptan,lesleyannj,mastersingh24,NikhilKhedkar,nnao,siddesh_sangodkar,tsrb,vjuge,vladyslavmunin,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11019,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|i00zll:0i",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,BrianMcKellar,davidkel,davidkhala,huxd,inatatsu,Koptan,lesleyannj,mastersingh24,NikhilKhedkar,nnao,siddesh_sangodkar,tsrb,vjuge,vladyslavmunin,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Feb/18 2:27 PM;davidkhala;I thought it might not be the design idea of nodejs-sdk

It is just a nodejs sdk, which normally run for API, server application.

In architecture point of view, client side software should not directly manipulate some crypto material, as you can see which appear as plain-text in node-sdk.

 ;;;","14/Feb/18 6:06 PM;siddesh_sangodkar;Thanks [~davidkhala]. With secure storage available in Android and ios, I was curious if a wallet approach like metamask is on the feature roadmap of Hyperledger. This way key management and signing can occur on the client side.

 Otherwise the current option seems to be to go with a server side HSM module being made available to all clients to connect and manage crypto material and signing.;;;","25/Feb/18 6:28 PM;davidkhala;[~siddesh_sangodkar] Yes, I agree on that. 
Hoping there will be a fabric-android, fabric-objectC to do that. I knew some developers has done some trial and success in their scenario. But they are usually domain-specific solution.;;;","15/Mar/18 6:27 PM;mastersingh24;The fabric-node-sdk is just that ... and SDK to work within the context of Node.js

It's fair to ask for a pure JavaScript client ... although there are issues as you indicated in the description;;;","20/Mar/18 12:22 AM;vjuge;Sorry,

I don't understand why it is such an issue to manipulate crypto on client side ?

Since we are ""just"" signing transaction proposals with a certificate.... !?

 ;;;","20/Mar/18 3:30 PM;davidkhala;[~vjuge] Some use case would prefer keep users' certificate in mobile device, working like an security token to identify user. But it is not recommended for web application since it is hard to carry and import certificate to web browser;;;","15/Apr/18 6:21 AM;mastersingh24;The biggest issue is gRPC ... but it looks like grpc-web but be a good option to consider here.;;;","12/May/18 3:48 AM;nnao;I'm interested in this feature. 
Is there any plan to implemented until v1.3 or v1.4?;;;","25/Jun/18 6:01 PM;NikhilKhedkar;Is there any latest update on this issue / feature?;;;","04/Sep/18 11:19 PM;davidkel;A link to https://github.com/grpc/grpc-web but it describes as requiring a special proxy, so the node-sdk would have to either have 2 distinct versions or somehow have it be able to work with either based on some sort of configuration setting. As for file system access that is related to credential storage and would remain however it is possible to provide different key value stores that can store information in other locations such as remote servers or browser local storage
;;;","13/Jan/21 12:06 AM;lesleyannj;Backlog Review - Closing due to inactivity.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode platforms need to provide/enforce limits on maximum size of chaincode,FABN-654,14552,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,greg.haskins,greg.haskins,05/Feb/17 11:50 AM,30/Oct/19 1:28 AM,28/Oct/23 3:25 AM,30/Oct/19 1:28 AM,,,,,,,Future,,,,0,,,,,"For example, this logic impacts the ""peer chaincode"" CLI:

https://github.com/hyperledger/fabric/blob/923bf3a8e774249344b09c535b726799aec865bd/core/chaincode/platforms/car/package.go#L46",,baohua,greg.haskins,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx75z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,greg.haskins,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/17 2:20 PM;baohua;I don't think this is sdk's responsibility?;;;","30/Oct/19 1:28 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enforce NodeJS engine version for the SDK,FABN-655,13029,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,mastersingh24,mastersingh24,16/Oct/16 8:18 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,24/Oct/16 8:29 PM,,,,,,,,,,,0,node-SDK,,,,"I believe we decided to support NodeJS v6.x and higher only for the SDK and that we are actually taking advantage of specific features available in v6.x and higher.

We should set the {{engines}} and {{engine-strict}} config options in {{package.json}} to avoid users seeing odd errors when trying to run on unsupported versions",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxd47:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/16 12:20 AM;mastersingh24;I'll take this unless anyone else wants to do it? 
[~jimthematrix] - do you agree with doing this?;;;","24/Oct/16 8:30 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/1917/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK enhancements for Channel List,FABN-656,16075,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,varadatibm,varadatibm,28/Apr/17 10:27 AM,30/Oct/19 1:28 AM,28/Oct/23 3:25 AM,30/Oct/19 1:28 AM,,,,,,,Future,,,,0,,,,,"Currently the SDK call to get the list of channels returns an array of channel ids (only). 

We need to get the following info along with the channel id to optimize performance on the calling application

Block height
Creation time
Member list
",,heatherp,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxrkf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/17 1:21 AM;jimthematrix;[~varadatibm] note that this is currently slated for future. if this is a problem please let us know. this would be a new feature to add to the fabric first.;;;","30/Oct/19 1:28 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Connection profile restructuring to improve code structure/quality,FABN-657,31165,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,RobertDiebels,RobertDiebels,19/Jun/18 5:42 PM,30/Oct/19 1:27 AM,28/Oct/23 3:25 AM,30/Oct/19 1:27 AM,,,,,,,,,,,0,,,,,"*Problem*
The current connection profile decreases code quality by using a key-value maps instead of lists.

*Reasoning*
Consider the connection profile below. 
{code:yaml}
organizations:
  Org1:
    mspid: Org1MSP
    peers:
      - peer0.org1.example.com
    certificateAuthorities:
      - ca-org1
    adminPrivateKey:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/keystore/9022d671ceedbb24af3ea69b5a8136cc64203df6b9920e26f48123fcfcb1d2e9_sk
    signedCert:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/signcerts/Admin@org1.example.com-cert.pem

  Org2:
    mspid: Org2MSP
    peers:
      - peer0.org2.example.com
    certificateAuthorities:
      - ca-org2
    adminPrivateKey:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/keystore/5a983ddcbefe52a7f9b8ee5b85a590c3e3a43c4ccd70c7795bec504e7f74848d_sk
    signedCert:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/signcerts/Admin@org2.example.com-cert.pem

orderers:
  orderer.example.com:
    url: grpcs://localhost:7050
    grpcOptions:
      ssl-target-name-override: orderer.example.com
      grpc-max-send-message-length: 15
    tlsCACerts:
      path: test/fixtures/channel/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tlscacerts/example.com-cert.pem

peers:
  peer0.org1.example.com:
    url: grpcs://localhost:7051
    eventUrl: grpcs://localhost:7053
    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.keepalive_time_ms: 600000
    tlsCACerts:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem

  peer0.org2.example.com:
    url: grpcs://localhost:8051
    eventUrl: grpcs://localhost:8053
    grpcOptions:
      ssl-target-name-override: peer0.org2.example.com
    tlsCACerts:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem

certificateAuthorities:
  ca-org1:
    url: https://localhost:7054
    httpOptions:
      verify: false
    tlsCACerts:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem
    registrar:
      - enrollId: admin
        enrollSecret: adminpw
    caName: caorg1

  ca-org2:
    url: https://localhost:8054
    httpOptions:
      verify: false
    tlsCACerts:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/ca/org2.example.com-cert.pem
    registrar:
      - enrollId: admin
        enrollSecret: adminpw
    caName: caorg2
{code}

Now consider a bit of Javascript that loops over all organizations and read their mspid.

{code:javascript}
const mspIds = [];
for(let key in profileConfiguration.organizations){
    if(profileConfiguration.organizations.hasOwnProperty(key)){
        const organizationName = key;
        const organization = profileConfiguration.organizations[key];
        mspIds.push(organization.mspid);
    }
}
{code}

Now consider a change in the connection profile for Organizations as follows

{code:yaml}
organizations:
  - name: Org1
    mspid: Org1MSP
    peers:
      - peer0.org1.example.com
    certificateAuthorities:
      - ca-org1
    adminPrivateKey:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/keystore/9022d671ceedbb24af3ea69b5a8136cc64203df6b9920e26f48123fcfcb1d2e9_sk
    signedCert:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/signcerts/Admin@org1.example.com-cert.pem

  - name: Org2
    mspid: Org2MSP
    peers:
      - peer0.org2.example.com
    certificateAuthorities:
      - ca-org2
    adminPrivateKey:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/keystore/5a983ddcbefe52a7f9b8ee5b85a590c3e3a43c4ccd70c7795bec504e7f74848d_sk
    signedCert:
      path: test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/signcerts/Admin@org2.example.com-cert.pem
{code}

Now consider a bit of Javascript with the same purpose as the one above, but it uses the new connection profile.

{code:javascript}
const mspIds = connectionProfile.organization.map((organization)=>{ return organization.mspid});
{code}

*Benefits*
This bit of code is cleaner, easier to read, removes ambiguity and reduces complexity. Since it has no need for an if-statement to check if a key in the map exists before it add the mspId to the array.
Furthermore it no longer has the key of the organizations map as an organizations name. A user could expect the key to be an organizations name but somewhere in the code it could be taken as the organizations doman after applying a toLowercase() or something similar.
Adding the ""name"" property removes ambiguity and it is clear that this property is supposed to hold the organizations name and nothing else.

*Application*
This would also apply to orderers, peers and certificateAuthorities since they also use a Map instead of a List.",,heatherp,RobertDiebels,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzf9r:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,RobertDiebels,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:27 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node sdk emits events for failed transactions,FABN-658,20894,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,davidkel,davidkel,19/Sep/17 7:14 PM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,19/Jan/18 12:29 AM,v1.0.0,v1.0.1,v1.0.2,,,,v1.1.0,,,,0,,,,,"The node sdk emits events from chaincode even if that transaction fails to be committed. This in itself is probably not a problem, the problem is wrt to listeners who are not able to determine if the event resulted from a failed or successful transaction.

I know that it's possible to listen for transaction events as well as chaincode events but as the order in which these events arrive is not defined events may not always be emitted it isn't possible to tie the 2 together without causing a potential memory leak. (ie tracking which txns fail in order to tag the events with information about success or failure as you could only clear out tracking a txn when the event is received and if no event is received this txn tracking will grow)

 ",,davidkel,denyeart,harrisob@us.ibm.com,jeffgarratt,jimthematrix@gmail.com,lmars,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzygr3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,denyeart,harrisob@us.ibm.com,jeffgarratt,jimthematrix@gmail.com,lmars,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/17 12:02 AM;jimthematrix@gmail.com;Changed from a bug to an enhancement and targeting 1.1;;;","20/Oct/17 6:03 AM;davidkel;I don't think this is a bug in the node SDK anymore (as I saw the doc work for the new chaincode for node) according to the interfaces.go file in the shim, an event should only be emittted if the transaction is successfully committed which isn't the case, so it must be a bug in base fabric.;;;","21/Oct/17 4:43 AM;denyeart;I agree this sounds like a peer defect. Assigning to [~wlahti].;;;","24/Oct/17 7:03 AM;wlahti;[~davidkel] I think the comment for SetEvent() in interfaces.go is currently incorrect. The block will include the chaincode event for each transaction (if one has been set) whether the transaction is valid or not. The comment should be updated and the SDKs should filter out events if the transaction is invalid. Any thoughts/comments, [~binhn]?;;;","27/Oct/17 3:22 AM;wlahti;Discussed this bug with [~denyeart] for the ledger perspective, [~muralisr] for the chaincode perspective, and [~harrisob@us.ibm.com] for the SDK perspective.

The consensus is that:

1) chaincode events for invalid transactions should be filtered out on the SDK side. This is because the chaincode event is part of the block itself and cannot be removed at the time a transaction is deemed invalid due to a MVCC_READ_CONFLICT error, for example

2) the comment in interfaces.go is incorrect and should be updated (which I'll handle with a new JIRA item, FAB-6777);;;","27/Oct/17 3:41 AM;jeffgarratt;I assume this not a bug then [~wlahti]?;;;","27/Oct/17 3:46 AM;wlahti;Well, perhaps it's an enhancement as Jim mentioned earlier.

Forgot to switch the component for this item. I'll do that now.;;;","19/Jan/18 12:29 AM;harrisob@us.ibm.com;Chain code channel-based event listeners will now receive from the NodeSDK the transaction status, transaction number, and block number.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow sendTransaction to be called with just data,FABN-659,18928,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,MartinC,MartinC,04/Jul/17 5:16 PM,30/Oct/19 1:27 AM,28/Oct/23 3:25 AM,30/Oct/19 1:27 AM,v1.0.0,,,,,,,,,,0,,,,,"Currently the sendTransaction function requires that the input passed to it are the object instances that are returned by sendTransactionProposal. For most use cases this works fine however there is a use case where this requires an application to implement an overly complex solution.

The use case is where a node app, using the sdk, acts as an intermediary. An example is a REST API server that wrappers the sdk, where a REST client may send an endorsement request, then pass the output of that endorsement request over REST to send the transaction to an orderer. In this case the REST server will only have the data passed in for the proposal and proposalResponses which when passed to sendTransaction will result in an error when the sdk calls the functions it expects to be available on the input.

There are 2 ways I can think of for an app to code around it. The first is fragile and involves trying to recreate the objects the sdk expects by recreating what the sdk does during sendTransactionProposal, the second is to store the object instances and maintain session information for the REST clients which is not great as REST should be stateless.

Given the data should be enough to run sendTransaction successfully I have raised this requirement as it will remove complexity in any applications wanting to implement this style of use case.",,heatherp,ianj_mitchell@uk.ibm.com,MartinC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy6rz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,ianj_mitchell@uk.ibm.com,MartinC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jul/17 1:31 AM;jimthematrix;[~MartinC] not sure i understand the problem, the sendTransaction() method takes an object with two properties: proposalResposes and chaincodeProposal. are you proposing for the method to support different kind of input? if so, what kind?;;;","13/Jul/17 4:39 PM;MartinC;Not exactly a different kind of input, more have the SDK cast the input back to the objects it expects them to be.

In implementing a REST API on top of the SDK I want to allow a client of that API to do a proposal as one request followed by a second request to sendTransaction. This means that the proposalResponses and proposal that are sent in by the client have all the data needed but no functions because they have been converted to and from JSON, therefore when they are passed to the SDK the request fails. The first example of a failure I have seen is getTransactionID() being called but a quick look at the code looks like other functions are expected to be available on the input passed in.

Does that explain the problem I am experiencing and my suggested solution better?;;;","23/Aug/17 10:05 PM;ianj_mitchell@uk.ibm.com;[~jimthematrix] the scenario here is allowing the REST client to do the collection of proposalResponses and then use a REST form of sendTransaction giving our REST server the proposalResponses. We receive the information sent from the client as plain JSON and need it to be 'revived' as a fully instantiated object rather than plain JSON.

Perhaps something like the revive function suggested in [https://stackoverflow.com/questions/14027168/how-to-restore-original-object-type-from-json] which seems to describe the same scenario in a generic way.

We've not found a mechanism in Loopback which automagically revives objects in this way.

I guess each SDK class we serialise into a JSON response and then receive back from the client would need such a method.;;;","30/Oct/19 1:27 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: [https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html]  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - enable logging setting to be reset,FABN-660,27513,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,08/Feb/18 5:16 AM,31/Jul/19 2:57 AM,28/Oct/23 3:25 AM,31/Jul/19 2:57 AM,,,,,,,Future,,,,0,configuration,sdk,,,"*What happens*
 When setting 'hfc-logging' for `fabric-client` using Client.setConfigSetting() the value passed to `setConfigSetting()` is ignored.

*Reproduction example*
{code:java}
const FabricClient = require('fabric-client');
FabricClient.setConfigSetting('hfc-logging', {
    'debug': 'console',
    'info': 'console',
    'error': 'console'
});

const client = new FabricClient();
client.newTransactionID(true);
//Expected console output: 'newTransactionID - getting an admin TransactionID'
{code}
*What I'm expecting*

I'm expecting debug output in the console.

*Solution*

Call
{code:java}
FabricUtils.setConfigSetting(){code}
before requiring
{code:java}
require('fabric-client'){code}
like so:
{code:java}
const FabricUtils = require('fabric-client/lib/utils');
FabricUtils.setConfigSetting('hfc-logging', {
    'debug': 'console',
    'info': 'console',
    'error': 'console'
});

const FabricClient = require('fabric-client');
const client = new FabricClient();
client.newTransactionID(true);{code}
Because: 
{code:java}
require('fabric-client')
{code}
creates a default global logger. That cannot be updated.

 

*Reasoning*

I'm filing this as a bug because the documentation does not specify
{code:java}
setConfigSetting(){code}
only works on FabricUtils. As well as believing that the Reproduction example should just work.

EDIT: I removed the 'cause' section since it probably only caused confusion.","{color:#cc7832}{color:#333333}Fabric-client version: 1.0.0-preview^
NodeJS: v8.9.3{color}
{color}",denyeart,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-212,,,,,,,,,,,,,FABN-978,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzywif:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/18 10:57 AM;zhaochy;perhaps we should design a new logging config format.

sometime users may want to config like this:
{code:javascript}
 {
   'debug': 'console',
   'debug': '/var/debug.log',
}
{code}
 ;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","31/Jul/19 2:57 AM;harrisob@us.ibm.com;Not required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement support for SHA384 hash,FABN-661,14185,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,19/Jan/17 9:52 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,20/Jan/17 3:10 AM,,,,,,,v1.0.0,,,,0,,,,,"The Fabric bccsp includes the following hash algorithms:

SHA256
SHA384
SHA3_256
SHA3_384

The fabric-sdk-node supports all expect SHA384",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxilz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jan/17 2:01 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/4561/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-client to independently support user persistence,FABN-662,17047,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,24/May/17 11:58 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,05/Jun/17 11:45 AM,v1.0.0-alpha2,,,,,,v1.0.0,,,,5,,,,,"https://gerrit.hyperledger.org/r/#/c/9749/

*background* 
fabric-client and fabric-ca-client are two npm packages published from the node SDK project, they are independent packages that are meant to be self-sufficient in what they do.

*goal*
allow ""user admin"" applications to be written with fabric-ca-client package alone, without having to drag along fabric-client, to enroll users and persist them to storage (file or database).

*Problem*
newDefaultKeyValueStore() is missing from this package. as a result the application is not able to solely use fabric-ca-client to handle user object persistence (which requires a KeyValueStore instance). Also missing necessary classes to handle user objects: User.js and its dependencies.

*Detailed explanation of the CR*
- FabricCAClientImpl is the ""top class"" of the fabric-ca-client package (that gets installed from npm registry). Client is the top class of the fabric-client package. The two share a number of utility methods and instance properties, so a common base class, BaseClient.js, was created to host the common portion b/w the two.
- User.js is needed in the fabric-ca-client package so that applications can use code like https://gerrit.hyperledger.org/r/#/c/9749/6/test/integration/fabric-ca-services-tests.js to create user objects and persist them in a key value store.
- as a result of the change above, previous type checks using ""instanceof"" would not work any longer because the same class (like User and SigningIdentity) now exists in two separate packages. must implement ""isInstance()"" from the classes to make accurate type checks.
- all others are incidental changes like doc improvements, and test configuration adjustments to make the tests run more smoothly in the new context.

The key point is that the changes are actually *very safe*.

*Can this be done in a non-intrusive way after 1.0?*
Yes, but.
The result is as discussed above a client application that manages fabric user identities is not able to use fabric-ca-client alone but is forced to use fabric-client for the small number of classes required to complete the picture. It defeats the design goal of having two separate NPM packages in the first place.

*But why so many changes in the test code?*
There's only one real test code change directly impacted by the change in the production code, which is test/integration/fabric-ca-services-tests.js, and even there the changes are removing the ""bad"" dependencies to test the independence of the resulting ""fabric-ca-client"" package.

The rest of the test code changes are unfortunately necessary due to the nature of the ""tape"" testing framework. For good or bad, it's a ""primitive"" and ""simple-minded"" framework, where when tests are lumped together under ""gulp"", there are no clear boundaries or isolation b/w test modules, and as a result of the production code changes, the tests started running into each other as far as the configuration settings are concerned (some were testing with one setting, others testing with another). Most of the test code changes are moving the config settings setup from outside of the test function to inside

Lastly, along the way for easier debugging purposes, I went ahead and took [~ChristopherFerris]'s advice to remove all the noise in printout (logger.debug calls) to a file so the console printouts are simply ""OK #3 test succeeded"" which made my finding the failure much easier. It could have been broken out and I would be willing to do that if it'll make it easier to review and merge this.",,binhn,ChristopherFerris,mastersingh24,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx47j:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,binhn,ChristopherFerris,mastersingh24,muralisr,troyronda,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/17 8:28 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/9749/;;;","27/May/17 12:11 AM;binhn;+1, still a lot of code changes but isolated to 1 package. The key for me is that it makes it easier for developers.;;;","31/May/17 1:21 AM;ChristopherFerris;Wow, this is a huge change that touches all kinds of code. Not at all comfortable with this change at this late date. It could be added post 1.0 as an experimental feature very shortly afterwards. I don't see why this needs to be in 1.0.;;;","31/May/17 4:03 AM;jimthematrix;Despite repeated requests on the channel and detailed explanation above, looks like it's not gonna get more than one vote (thanks [~binhn] for that).

I moved it to v1.1.

This is sad because I was counting on this time period before the beta to adjust the API design of the SDKs so they ""totally make sense"". We couldn't do this before alpha2 because of the crazy daily churns imposed by the changes in fabric and fabric-ca. As a result we are going to ship with less than ideal API designs.;;;","31/May/17 5:04 AM;jimthematrix;moving it back to the review-needed list for now. maybe there's still a chance.;;;","31/May/17 6:03 AM;jimthematrix;[~ChristopherFerris] a lot of files seemed to have been touched but most of them are test files that needed adjustments in the configuration settings (crypto-suite, key-value-store, request-timeout etc.), to be more consistent with what the test suite needed.;;;","31/May/17 6:13 PM;mastersingh24;This one actually makes sense to me as there was never supposed to be a dependency between the fabric-client and fabric-ca-client packages.
The changes also fairly well concealed from end users as well;;;","31/May/17 9:15 PM;ChristopherFerris;[~jimthematrix] ~600 LOC changed in the production codebase is not trivial. Further, if it is so insulated from the user, then why are all those test cases modified? Further, the CR makes multiple changes (logging changes). Sure it makes sense, but seriously, why can't it wait?;;;","31/May/17 10:02 PM;jimthematrix;[~ChristopherFerris] there's only one real change directly impacted by the change in the production code, which is test/integration/fabric-ca-services-tests.js, and even there the main changes are removing the ""bad"" dependencies to test the independence of the resulting ""fabric-ca-client"" package.

in rest of the test code changes are unfortunately necessary due to the nature of the ""tape"" testing framework. For good or bad, it's a ""primitive"" and ""simple-minded"" framework, where when tests are lumped together under ""gulp"", there are no clear boundaries or isolation b/w test modules, and as a result of the production code changes, the tests started running into each other as far as the configuration settings are concerned (some were testing with one setting, others testing with another). Most of the test code changes are moving the config settings setup from outside of the test function to inside

lastly, along the way for easier debugging purposes, I went ahead and took your advice to remove all the noise in printout (logger.debug calls) to a file so the console printouts are simply ""OK #3 test succeeded"" which made my finding the failure much easier. I agree it would have been broken out and I would be willing to do that if it'll make it easier to review and merge this.;;;","31/May/17 10:18 PM;ChristopherFerris;[~jimthematrix] note that my comment on reducing the noise was intended for post 1.0;-) Just sayin';;;","31/May/17 10:41 PM;jimthematrix;[~ChristopherFerris] ;-) but it looks so good with that: https://jenkins.hyperledger.org/job/fabric-sdk-node-verify-x86_64/1093/console;;;","02/Jun/17 6:40 AM;muralisr;[~jimthematrix] can see the usability benefits...and the ""very safe"" is cherry on top. Thanks!;;;","02/Jun/17 7:04 AM;ChristopherFerris;Ok, this has received the requisite number of votes and can be merged when ready. Removing from review-needed.;;;","02/Jun/17 8:58 AM;jimthematrix;rebased and building...;;;","02/Jun/17 10:43 AM;jimthematrix;ready to be merged: [~ChristopherFerris] [~muralisr] [~mastersingh24] [~binhn] [~denyeart] [~yacovm];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Fix the required version of Node.js in tutorial,FABN-663,31454,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,29/Jun/18 1:34 AM,22/Nov/18 1:19 PM,28/Oct/23 3:25 AM,30/Jun/18 7:10 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"Prerequisites for Node.js is old in fabric-sdk-node/docs/tutorials/app-dev-env-setup.md.
The required version is still “Nodejs v6.2.0 - 6.10.0, 8.4.0+ ( Node v7+ is not supported )”.
We should update the required version to Node.js 8.9.0 or higher.",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1031,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzgkn:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 2:07 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/23811/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[sdk-node] Improve integration test for “instantiate Chaincode”,FABN-664,17678,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,09/Jun/17 7:33 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,12/Jun/17 10:20 PM,v1.0.0-alpha2,v1.0.0-beta,,,,,v1.0.0,,,,0,,,,,"To improve integration test of fabric-sdk-node, ""Instantiate Chaincode"" needs negative test cases.
""channel.sendInstantiateProposal(request)"" sends an instantiation proposal to Peers to instantiate Chaincode.
In detail, LSCC (Lifecycle System Chaincode) instantiates chaincode which is installed on Peers.
We need to add negative test cases to check if sdk gets error response from Peers in accordance with the check logic in LSCC.

The followings are negative test cases.
- instantiate call fails with non-existent Chaincode version
- instantiate call fails with non-existent Chaincode name
- instantiate call fails by instantiating the same Chaincode twice

 ",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzsf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jun/17 10:41 AM;yuki-kon;Posted here: https://gerrit.hyperledger.org/r/#/c/10381/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance BlockDecoder to decode chaincode input,FABN-665,30660,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,26/May/18 5:46 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,01/Jun/18 10:02 AM,v1.1.0,,,,,,v1.2.0,,,,0,,,,,"Currently, SDK-node Blockdecoder does not decode chaincode input (input of ChaincodeProposalPayload) but leaves it as a byte array as follows:

{noformat}
{""header"":{""number"":""2"", ....
,""payload"":{""chaincode_proposal_payload"":{""input"":{""type"":""Buffer"",""data"":[10,134,8,8, ...]}}}...} {noformat}

It will be preferable for an application to be able to access arguments for the chaincode in a transaction.",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzctb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/18 7:01 AM;shimos;CR: https://gerrit.hyperledger.org/r/c/22379/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BlockDecoder should also decode ChaincodeInvocationSpec,FABN-666,31707,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,RobertDiebels,RobertDiebels,07/Jul/18 12:05 AM,30/Oct/19 1:27 AM,28/Oct/23 3:25 AM,30/Oct/19 1:27 AM,,,,,,,,,,,0,,,,,"Currently the BlockDecoder that decodes blocks does not decode ChaincodeInvocationSpec's. It should be doing this however.

I've written some code that fits my own purposes which does most of the decoding. It is not complete though. The code is attached to this issue, it may be of use if someone picks this up.",,heatherp,RobertDiebels,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jul/18 12:03 AM;RobertDiebels;decode.ts;https://jira.hyperledger.org/secure/attachment/15273/decode.ts",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzi07:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,heatherp,RobertDiebels,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:27 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing.   The high-level node sdk APIs have been available for some time, and this issue may be covered by functionality provided there: https://hyperledger-fabric.readthedocs.io/en/latest/write_first_app.html  Please re-open if this issue is still affecting you, and the functionality is not available in the low-level or high-level node sdk APIs, thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Request for new fabric-sdk-rest repo,FABN-667,16811,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ianj_mitchell@uk.ibm.com,ianj_mitchell@uk.ibm.com,ianj_mitchell@uk.ibm.com,17/May/17 8:59 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,24/Aug/17 11:51 PM,,,,,,,Future,,,,6,,,,,"In support of https://jira.hyperledger.org/browse/FAB-156 I'd like to develop the REST API component in a new repo alongside the other fabric-sdk-xxxx ones.

I've create this request naming the fabric-sdk-node component as we're developing the REST API and endpoint based on that.

Our design doc can be found here - [https://docs.google.com/document/d/1Kafw06IwtBbKFrUm8Hnwk8XYW7SyuqVbWad5VrPmvb8/edit#heading=h.2grqrue] with the current embryonic swagger - [https://docs.google.com/document/d/1yO1IM-hb3BLooBGy0A7r07HKV4YGky3hg3rysRjoGCU/edit?usp=sharing]",,baohua,ChristopherFerris,ianj_mitchell@uk.ibm.com,ishihara.shun,jiangyaoguo,jmcnevin,kchristidis,MartinC,muralisr,nnao,qiang0723,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxvrb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,baohua,ChristopherFerris,ianj_mitchell@uk.ibm.com,ishihara.shun,jiangyaoguo,jmcnevin,kchristidis,MartinC,muralisr,nnao,qiang0723,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/May/17 1:05 AM;kchristidis;I skimmed the design doc and I may have missed this, so I've got one basic, and potentially naive question: What need does this REST API cover that the existing options fail to provide? What makes it necessary?;;;","24/May/17 10:12 AM;baohua;I support the idea as the restful API is useful for quick usage like testing.

The feature might be provided as an component in existing sdk-node sub-project. User can choose to use the naive one by gRPC or enable the RESTful support.;;;","04/Jun/17 4:33 PM;yacovm;{quote}I skimmed the design doc and I may have missed this, so I've got one basic, and potentially naive question: What need does this REST API cover that the existing options fail to provide? What makes it necessary?
{quote}
So, every developer that wants to build a simple web app that uses node SDK is going to need to do the following:
 # Write node-SDK specific code that connects to a peer/orderer and invokes gRPC against it
 # Write node.js code that exposes a REST endpoint, and translates the REST calls to *1.*
 # Write some html, javascript, css, etc. to make the REST calls to *2.*, thus enabling a user that browses the site to interact with the chaincode

I guess the idea here, is the build an extensive API that people would use, and then web developers that are focused on the front end aspect could just deploy the REST API component (or use an existing one hosted somewhere) and it'll do steps 1+2 above for them.

Now, I find the idea appealing but I'm concerned about the identity/authentication aspect - whoever has control of the REST API component can do whatever he/she wants on behalf of the actual user that uses the web app. 
 Having authentication from a web app to the REST API component is simply injecting an authentication layer that rides on the existing authentication layer, and without an ability to bind these 2 (which I currently do not see) - what is the purpose of using [passport|http://passportjs.org/]?
 I guess the reason for this design is to keep things simple, but I'd argue that this can be designed in a different way:
 * REST call to the API server to receive back a payload to sign
 * Sign the payload via a key that is saved only on the client side(*), and send another REST request that would make the REST API server to create a gRPC call with the signed data with the nodeSDK and then send it to the peer/orderer.

(*) for example- upon registration:
 * A user comes up with 2 passwords:
 ** A password that encrypts its signing identity (private key + fabric enrollment certificate)
 ** A password that authenticates the user with the API server and this is used to fetch the encrypted signing identity that was saved upon registration, which will be decrypted on the client side when the user uses its password.;;;","21/Jul/17 10:41 AM;baohua;I explore the code, and seems it was written in js.

So is it possible to be integrated into the existing fabric-sdk-node project?

There're discussions on whether we need some RESTful support, and personally i guess we can offer this as optional feature inside the sdk.;;;","21/Jul/17 8:32 PM;ianj_mitchell@uk.ibm.com;We have based this on the Node SDK, but there should be no dependency on that which bleeds through to the REST clients.

I don't really mind either way, but making it a distinct project not aligned with Node or Java or Python gives it the feel of being *the* REST API rather than merely *a* REST API.;;;","21/Jul/17 9:24 PM;ChristopherFerris;All, I think that the discussion of the HOW should be independent of whether we support this idea, generally. Devil is always in the details. The question at hand is whether we agree to create the repo for the work to begin. At that point, it is fair game to dicsuss the HOW and the merits of the design.

Can we please just vote? I have added review-needed tag.;;;","21/Jul/17 11:06 PM;ianj_mitchell@uk.ibm.com;In case anyone here's not noticed, [~MartinC] pushed some code to [https://github.com/MartinCocks/fabric-sdk-rest] - which would likely form the basis.;;;","25/Jul/17 1:14 AM;muralisr;I can't think of any reason why this exploration would be a bad thing (especially given its in its own repo outside of fabric). It is also based on the original requirement in https://jira.hyperledger.org/browse/FAB-156 which  says 
{noformat}
This feature will implement a REST API on top of the Node.js SDK.
{noformat}

+1;;;","02/Aug/17 2:35 AM;jimthematrix;[~ChristopherFerris] looks like this one has the requisite 5 votes from maintainers, shouldn't [~ianj_mitchell@uk.ibm.com]/[~MartinC] now be able to ask [~ryjones] and [~jwagantall] to create the repo?;;;","02/Aug/17 2:47 AM;jimthematrix;[~yacovm] very good question, the use of the passport.js module is to support various authentication mechanisms and give application developers (users of this capability) the flexibility to use OAuth/basic-auth/client-cert to authenticate the user. once a user is authenticated, the app developer can choose to use that user's identity or a fixed ""server"" identity to submit requests to the fabric. in either case the REST server will need to manage the blockchain identities on behalf of the user (server-side wallet).

This is going to be deployed as a trusted app and is likely going to be managed on a per-organization basis, so each participating org will deploy and manage their own instance of a REST API server. 

With the interaction you outlined above, we can have a ""multi-tenant"" REST API server that is not given a blockchain identity itself, nor will it be managing user identities, but has to use the user's signed payload (and the signing key stays with the user) to submit to fabric. That may be a very useful thing to have in the future but I don't believe is in scope for this work.;;;","03/Aug/17 11:28 PM;ChristopherFerris;this has the votes to proceed. ;;;","03/Aug/17 11:31 PM;ChristopherFerris;[~ianj_mitchell@uk.ibm.com] please engage [~ryjones] to get the repo established in Gerrit and mirrored to GH etc. Thanks. I would recommend that we have some of the Fabric maintainers listed as maintainers on this. Probably [~jimthematrix] and [~mastersingh24] and myself for starters in addition to whom you wish to have as initial maintainers. I added Gari and I so that we have ability to handle release stuff when the time comes.;;;","04/Aug/17 12:22 AM;ianj_mitchell@uk.ibm.com;Many thanks [~ChristopherFerris] and all who have engaged... we'll get going on this now.;;;","24/Aug/17 11:52 PM;MartinC;Marking this as Done as we now have:

[https://gerrit.hyperledger.org/r/#/admin/projects/fabric-sdk-rest]

[https://github.com/hyperledger/fabric-sdk-rest]

Thanks to all the people who helped make this happen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update fabric-client type definitions,FABN-668,31060,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,14/Jun/18 10:00 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,15/Jun/18 11:35 AM,v1.2.0,,,,,,v1.2.0,,,,0,node-SDK,,,,update fabric-client type definitions,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzet3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/18 10:02 PM;zhaochy;master: https://gerrit.hyperledger.org/r/23055
release-1.1: https://gerrit.hyperledger.org/r/23057;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK support for updated lifecycle,FABN-669,29179,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,05/Apr/18 9:01 PM,14/Aug/19 1:37 AM,28/Oct/23 3:25 AM,14/Aug/19 1:37 AM,,,,,,,v2.0.0,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13979,FAB-13980,FAB-13981,,,,,,,,,,,FABG-892,,,,,,,,,,,"13/Feb/19 5:45 AM;harrisob@us.ibm.com;Lifecycle 2.0.pptx;https://jira.hyperledger.org/secure/attachment/16797/Lifecycle+2.0.pptx",,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,"1|hzz4pb:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to get the list of consortiums and consortium members using SDK,FABN-670,16287,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid,,varadatibm,varadatibm,04/May/17 4:40 AM,24/Oct/18 5:16 PM,28/Oct/23 3:25 AM,24/Oct/18 5:16 PM,,,,,,,Future,,,,0,HSBN,,,,"When creating channels we need to show the list of consortiums to choose from (orderer) and once they select the consortium we need to be able to get the current members from the consortium. 

Without that the list of members need to be maintained in a outside source. Also if someone used SDK to add members to the consortium, the members maintained in the outside source would be out of sync with what's on Fabric.

List of APIs needed...
- Get Consortium List
- Get Members on Consortium",,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxt3r:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/17 10:39 PM;jimthematrix;[~varadatibm] moving this to future for now after discussion with [~mastersingh24], the current plan is to have a separate daemon to handle generation of channel configs and updates in the context of a participating organization. [~jyellick] is handling this work so the above list of requirements should be directed to the work that he's doing for v1.0.0. we can evaluate later whether the same is still needed in the SDKs.;;;","10/May/17 10:50 PM;varadatibm;[~jimthematrix] I thought the daemon was for adding a consortium member... But this is for getting the list of consortiums and the membership... Is there a way to get that?;;;","31/Aug/18 7:06 AM;varadatibm;this can be closed;;;","24/Oct/18 5:16 PM;sstone1;Closing as per above comment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node tests should always use specified thirdparty docker images ,FABN-671,27863,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,denyeart,denyeart,20/Feb/18 11:15 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,24/Feb/18 1:36 AM,,,,,,,v1.1.0,,,,0,,,,,"Note that ""thirdparty"": ""0.4.5"" was removed in:

[https://gerrit.hyperledger.org/r/#/c/17203/2/fabric-client/package.json]

Node SDK uses the thirdparty (couchdb) for tests.

Upon investigation it turns out that:

 if it is `snapshot` release :
- it pulls `latest` docker images
if it is `release`:
- it pulls `specific release version` docker images

I believe it should always use the specified thirdparty release (and automatically pull from dockerhub if needed), similar to fabric.
Therefore thirdparty release should always remain in package.json until the next thirdparty update.",,denyeart,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx05z:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,denyeart,harrisob@us.ibm.com,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Feb/18 11:16 PM;denyeart;[~harrisob@us.ibm.com] Do you agree with the Description?;;;","21/Feb/18 11:23 AM;harrisob@us.ibm.com;Yes I agree, this is the same concept as how we set the version numbers for packages we load, we need to be in control of the level we require and use;;;","22/Feb/18 7:48 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/18179/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
grpc should throw error if the server is unavailable rather than hang until timeout,FABN-672,29413,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,16/Apr/18 12:19 PM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,27/Apr/18 12:05 PM,v1.1.0,v1.2.0,,,,,v1.2.0,,,,0,node-SDK,,,,"currently, the gRPC library never considers a server to be unreachable. Either the client has connected to the server, or has not yet connected to the server. 

sdk-node set a timeout for any grpc call, this made grpc hang util timeout if the grpc server is unavailable. For instance, we usually set a super-long timeout for node chaincode instantiate (e.g. 15mins), but if we mis-config the peer url (server unavailable), grpc will hang for 15mins.

A better behavior is test if the grpc connection can be reached before send the instantiate request. grpc provides such method  [Client#waitForReady|https://grpc.io/grpc/node/grpc.Client.html#waitForReady__anchor], If the client connects, sdk will get a callback without an error, and if it doesn't connect before the deadline passes, sdk will get a callback with an error.",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz5zz:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Apr/18 7:18 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/20609/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK - Make the channel event service easier to use,FABN-673,26173,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,20/Dec/17 5:19 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,19/Jan/18 12:26 AM,,,,,,,v1.1.0,,,,0,,,,,"1) Make the default action to remove a transaction registration when the block with the transaction id has been seen. The default to remove for block registration and chaincode registration will not to remove the registration as those types of listeners would normally be long running. Add an option to allow user to configure this ability.

2) Make available the end block when specifying a start block to allow for a true range of blocks. We will not assume that if they ask for an end block that it exists, the peer side channel-based event service will validate the request. If the the user does not select a start block, the start block will default to the newest (current top of ledger), the peer side will post a bad status when end block is not greater than the starting block, which will be reflected back to the user with the error callback. The NodeSDK will check however if the user defines the start block greater than the end block. Start and end block options will be available on all three listener types. Since the peer side registration of the delivery service is different when using start and stop (replay / resume) the user will not be allowed to call the connect (which is when the connection is set up with the peer side) before the registration of the replay/resume. And since the replaying and stopping will confuse other listeners, the ChannelEventHub will only allow one replay / resume listener and not other listeners.

3) Include transaction status along with the chaincode events that fire.",,davidkel,harrisob@us.ibm.com,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-587,FABN-571,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyrdr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,harrisob@us.ibm.com,smithbk,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Dec/17 2:41 AM;smithbk;WRT #2, I can think of the following use cases:

a) Get blocks from point P into the future
    This use case is handled and is a blocking call

b) Get blocks over the last week stopping at the current block
    This would be a non-blocking call and require a timestamp.

c) Get blocks between two time stamps, both in the past or present
    Another non-blocking call which requires timestamps.

d) Get blocks between two time stamps with at least the end time stamp being in the future
    A blocking call which requires timestamps;;;","10/Jan/18 11:36 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/16673/;;;","11/Jan/18 12:03 AM;harrisob@us.ibm.com;Moved the builtin timeout part of this issue to

https://jira.hyperledger.org/browse/FAB-7681;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update docs to say V1.1 and give download instructions,FABN-674,29781,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,pandrejko,pandrejko,28/Apr/18 3:56 AM,14/May/19 3:31 PM,28/Oct/23 3:25 AM,14/May/19 3:31 PM,,,,,,,,,,,0,,,,,"[https://fabric-sdk-node.github.io/]

In first sentent change Hyperledger Fabric v1.0 to Hyperledger Fabric v1.1.

Also, provide instructions on how to download:

'if this is a new install of the fabric node sdk you can issue: npm i fabric-client. If not, go to xxx for more detailed information'",,davidkel,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzwtcf:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/19 3:31 PM;davidkel;Looks like this is not an issue anymore. Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Control logging level or at least ability to turn on/off console logging from SDK,FABN-675,15561,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,,dshuffma,dshuffma,04/Apr/17 6:31 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,06/Apr/17 3:57 AM,,,,,,,,,,,0,node-SDK,,,,Mainly I'd like the ability to only log errors.  I should be able to pass in my own winston logging module to you.  Then I'd gain the ability to control which logs get sent out and which ones die a painless death into the void.,,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxp5r:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/17 3:57 AM;jimthematrix;[~dshuffma] you can use the HFC_LOGGING={""error"":""console or a file""} to control that. you can also set the logger to any of winston, log4js and bunyan in Client.setLogger().;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Failed to find a peer matching the url localhost:8051 ,FABN-676,18700,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,davidkhala,davidkhala,27/Jun/17 11:10 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,18/Jul/17 4:47 AM,v1.0.0-beta,,,,,,v1.0.1,,,,0,,,,,"I have two terminal sessions. Terminal 1 is running fabric-sdk-node/examples/balance-transfer/runApp.sh. Terminal 2 is running ../testAPIs.sh after runApp.sh started

some error info in Terminal 1 feed back:
{code:java}
2017-06-26 17:25:50.975] [INFO] invoke-chaincode - transaction proposal was good 
[2017-06-26 17:25:50.975] [DEBUG] invoke-chaincode - Successfully sent Proposal and received ProposalResponse: Status - 200, message - ""OK"", metadata - """", endorsement signature: 0D #;�ON_���I�>}�P�z�S�����,�� q��xx��MG���?�OdZB{)-���zF 
[2017-06-26 17:25:50.975] [ERROR] Helper - Failed to find a peer matching the url localhost:8051 
info: [EventHub.js]: _connect - options {""grpc.ssl_target_name_override"":""peer0.org1.example.com"",""grpc.default_authority"":""peer0.org1.example.com""
{code}
Tracing the error, I noticed that the error occurred when trying to test invoke for both peer 'localhost:7051' under Org1 and peer 'localhost:8051' under Org2 with authentication token of Org1.

 

_I guess it is because with token of Org1, we cannot do operation on Org2 peer._

Thus I tried to modify codes to invoke for both localhost:7051 and localhost:7056, then this error did disappear.

 

Is there should be a fixing patch in latter version?",,davidkhala,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy5w7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/17 11:54 AM;yuki-kon;Hello David. It seems like that this is not authentication problem but a bug in Helper.js. Loop processing is not correct.

I submitted a patch to fix this problem with detailed comment : [https://gerrit.hyperledger.org/r/#/c/11405/] ;;;","20/Jul/17 7:16 PM;davidkhala;[~yuki-kon] saw it in git. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca self-generated tls-cert.pem cannot be used in node-sdk,FABN-677,30249,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Won't Do,,davidkhala,davidkhala,16/May/18 5:52 PM,30/Oct/19 3:25 PM,28/Oct/23 3:25 AM,30/Oct/19 1:17 AM,v1.1.0,,,,,,,,,,1,,,,,"I want to play fabric-ca with more state-less style,

So I run it as docker container with command

""{color:#6a8759}rm {color}$\{caKey}{color:#6a8759};rm {color}$\{caCert}{color:#6a8759};fabric-ca-server start -d“{color}

and with config like 

{color:#9876aa}csr{color}: \{

{color:#9876aa}    cn{color}: container_name{color:#cc7832},
{color}    {color:#9876aa}hosts{color}: [container_name]{color:#cc7832},
{color}}{color:#cc7832},
{color}{color:#9876aa}    tls{color}: \{
        {color:#9876aa}enabled{color}: true{color:#cc7832},
{color}}{color:#cc7832},{color}

{color:#cc7832}....{color}

the container started OK, but when I use fabric-node-sdk as client to access it, it prompted with 
Error: Calling enrollment endpoint failed with error [Error: write EPROTO 140384308950848:error:1411713E:SSL routines:ssl_check_srvr_ecc_cert_and_alg:ecc cert not for signing:../deps/openssl/openssl/ssl/ssl_lib.c:2520:
140384308950848:error:14082130:SSL routines:ssl3_check_cert_and_algorithm:bad ecc cert:../deps/openssl/openssl/ssl/s3_clnt.c:3550:

In using fabric-node-sdk, I imported the tls-cert.pem as trusted root already.

 

logs from ca container

2018/05/16 08:13:04 [INFO] Configuration file location: /etc/hyperledger/fabric-ca-server/fabric-ca-server-config.yaml
2018/05/16 08:13:04 [INFO] Starting server in home directory: /etc/hyperledger/fabric-ca-server
2018/05/16 08:13:04 [INFO] Server Version: 1.1.0
2018/05/16 08:13:04 [INFO] Server Levels: &\{Identity:1 Affiliation:1 Certificate:1}
2018/05/16 08:13:04 [DEBUG] Making server filenames absolute
2018/05/16 08:13:04 [DEBUG] Initializing default CA in directory /etc/hyperledger/fabric-ca-server
2018/05/16 08:13:04 [DEBUG] Init CA with home /etc/hyperledger/fabric-ca-server and config \{Version: Cfg:\{Identities:\{AllowRemove:false} Affiliations:\{AllowRemove:false}} CA:\{Name: Keyfile: Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:<nil> CSR:\{CN:ca.Delphi.com Names:[\{C:US ST:California L:San Francisco O: OU: SerialNumber:}] Hosts:[ca.Delphi.com] KeyRequest:<nil> CA:<nil> SerialNumber:} Registry:\{MaxEnrollments:-1 Identities:[\{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:peer,orderer,client,user hf.Registrar.DelegateRoles:peer,orderer,client,user]  }]} Affiliations:map[] LDAP:\{ Enabled:false URL: UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:\{[] [] map[]} TLS:\{false [] \{ }}  } DB:\{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:\{false [] \{ }}  } CSP:<nil> Client:<nil> Intermediate:\{ParentServer:\{ URL: CAName:  } TLS:\{Enabled:false CertFiles:[] Client:\{KeyFile: CertFile:}} Enrollment:\{ Name: Secret:**** Profile: Label: CSR:<nil> CAName: AttrReqs:[]  }} CRL:\{Expiry:24h0m0s}}
2018/05/16 08:13:04 [DEBUG] CA Home Directory: /etc/hyperledger/fabric-ca-server
2018/05/16 08:13:04 [DEBUG] Checking configuration file version '0' against server version: '1.1.0'
2018/05/16 08:13:04 [DEBUG] Initializing BCCSP: &\{ProviderName:SW SwOpts:0xc4202895c0 PluginOpts:<nil> Pkcs11Opts:<nil>}
2018/05/16 08:13:04 [DEBUG] Initializing BCCSP with software options &\{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202ba5f0 DummyKeystore:<nil>}
2018/05/16 08:13:04 [DEBUG] Initialize key material
2018/05/16 08:13:04 [DEBUG] Making CA filenames absolute
2018/05/16 08:13:04 [DEBUG] Root CA certificate request: \{CN:ca.Delphi.com Names:[\{C:US ST:California L:San Francisco O: OU: SerialNumber:}] Hosts:[ca.Delphi.com] KeyRequest:0xc4202aafa0 CA:0xc4202aae40 SerialNumber:}
2018/05/16 08:13:04 [INFO] generating key: &\{A:ecdsa S:256}
2018/05/16 08:13:04 [DEBUG] generate key from request: algo=ecdsa, size=256
2018/05/16 08:13:04 [INFO] encoded CSR
2018/05/16 08:13:04 [DEBUG] validating configuration
2018/05/16 08:13:04 [DEBUG] validate local profile
2018/05/16 08:13:04 [DEBUG] profile is valid
2018/05/16 08:13:04 [INFO] signed certificate with serial number 279827261986328058200621168663428610101244004258
2018/05/16 08:13:04 [INFO] The CA key and certificate were generated for CA 
2018/05/16 08:13:04 [INFO] The key was stored by BCCSP provider 'SW'
2018/05/16 08:13:04 [INFO] The certificate is at: /etc/hyperledger/fabric-ca-server/ca-cert.pem
2018/05/16 08:13:04 [DEBUG] Initializing DB
2018/05/16 08:13:04 [DEBUG] Initializing 'sqlite3' database at '/etc/hyperledger/fabric-ca-server/fabric-ca-server.db'
2018/05/16 08:13:04 [DEBUG] Using sqlite database, connect to database in home (/etc/hyperledger/fabric-ca-server/fabric-ca-server.db) directory
2018/05/16 08:13:04 [DEBUG] Creating SQLite database (/etc/hyperledger/fabric-ca-server/fabric-ca-server.db) if it does not exist...
2018/05/16 08:13:04 [DEBUG] Creating users table if it does not exist
2018/05/16 08:13:04 [DEBUG] Creating affiliations table if it does not exist
2018/05/16 08:13:04 [DEBUG] Creating certificates table if it does not exist
2018/05/16 08:13:04 [DEBUG] Creating properties table if it does not exist
2018/05/16 08:13:05 [DEBUG] Successfully opened sqlite3 DB
2018/05/16 08:13:05 [DEBUG] Checking database schema...
2018/05/16 08:13:05 [DEBUG] Update SQLite schema, if using outdated schema
2018/05/16 08:13:05 [DEBUG] Upgrade identities table
2018/05/16 08:13:05 [DEBUG] Creating users table if it does not exist
2018/05/16 08:13:05 [DEBUG] Upgrade affiliation table
2018/05/16 08:13:05 [DEBUG] Creating affiliations table if it does not exist
2018/05/16 08:13:05 [DEBUG] Upgrade certificates table
2018/05/16 08:13:05 [DEBUG] Creating certificates table if it does not exist
2018/05/16 08:13:06 [DEBUG] Initializing identity registry
2018/05/16 08:13:06 [DEBUG] Initialized DB identity registry
2018/05/16 08:13:06 [DEBUG] DB: Get properties [identity.level affiliation.level certificate.level]
2018/05/16 08:13:06 [DEBUG] Checking database levels 'map[affiliation.level:0 certificate.level:0 identity.level:0]' against server levels '&\{Identity:1 Affiliation:1 Certificate:1}'
2018/05/16 08:13:06 [DEBUG] Loading identity table
2018/05/16 08:13:06 [DEBUG] Loading identity 'Admin'
2018/05/16 08:13:06 [DEBUG] DB: Getting identity Admin
2018/05/16 08:13:06 [DEBUG] Max enrollment value verification - User specified max enrollment: 0, CA max enrollment: -1
2018/05/16 08:13:06 [DEBUG] DB: Add identity Admin
2018/05/16 08:13:06 [DEBUG] Successfully added identity Admin to the database
2018/05/16 08:13:06 [DEBUG] Registered identity: \{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:-1 Attrs:map[hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1 hf.Registrar.Roles:peer,orderer,client,user hf.Registrar.DelegateRoles:peer,orderer,client,user hf.Revoker:1 hf.IntermediateCA:1]  }
2018/05/16 08:13:06 [DEBUG] Successfully loaded identity table
2018/05/16 08:13:06 [DEBUG] Loading affiliations table
2018/05/16 08:13:06 [DEBUG] Successfully loaded affiliations table
2018/05/16 08:13:06 [DEBUG] Checking and performing migration, if needed
2018/05/16 08:13:06 [DEBUG] Migrating user 'Admin' to level 1
2018/05/16 08:13:06 [DEBUG] Updating database level to &\{Identity:1 Affiliation:1 Certificate:1}
2018/05/16 08:13:07 [INFO] Initialized sqlite3 database at /etc/hyperledger/fabric-ca-server/fabric-ca-server.db
2018/05/16 08:13:07 [DEBUG] Initializing enrollment signer
2018/05/16 08:13:07 [DEBUG] validating configuration
2018/05/16 08:13:07 [DEBUG] validate local profile
2018/05/16 08:13:07 [DEBUG] profile is valid
2018/05/16 08:13:07 [DEBUG] validate local profile
2018/05/16 08:13:07 [DEBUG] profile is valid
2018/05/16 08:13:07 [DEBUG] validate local profile
2018/05/16 08:13:07 [DEBUG] profile is valid
2018/05/16 08:13:07 [DEBUG] CA initialization successful
2018/05/16 08:13:07 [INFO] Home directory for default CA: /etc/hyperledger/fabric-ca-server
2018/05/16 08:13:07 [DEBUG] 1 CA instance(s) running on server
2018/05/16 08:13:07 [DEBUG] TLS is enabled
2018/05/16 08:13:07 [DEBUG] TLS enabled but no certificate or key provided, automatically generate TLS credentials
2018/05/16 08:13:07 [DEBUG] TLS CSR: \{CN:ca.Delphi.com Names:[\{C:US ST:California L:San Francisco O: OU: SerialNumber:}] Hosts:[ca.Delphi.com] KeyRequest:0xc4202aaf80 CA:<nil> SerialNumber:}
2018/05/16 08:13:07 [DEBUG] GenCSR &\{CN:ca.Delphi.com Names:[\{C:US ST:California L:San Francisco O: OU: SerialNumber:}] Hosts:[ca.Delphi.com] KeyRequest:0xc4202aaf80 CA:<nil> SerialNumber:}
2018/05/16 08:13:07 [DEBUG] Initializing client with config: &\{URL: MSPDir: TLS:\{Enabled:false CertFiles:[] Client:\{KeyFile: CertFile:}} Enrollment:\{ Name: Secret:**** Profile: Label: CSR:<nil> CAName: AttrReqs:[]  } CSR:\{CN: Names:[] Hosts:[] KeyRequest:<nil> CA:<nil> SerialNumber:} ID:\{Name: Type: Secret: MaxEnrollments:0 Affiliation: Attributes:[] CAName:} Revoke:\{Name: Serial: AKI: Reason: CAName: GenCRL:false} CAInfo:\{CAName:} CAName: CSP:0xc420289590}
2018/05/16 08:13:07 [DEBUG] Initializing BCCSP: &\{ProviderName:SW SwOpts:0xc4202895c0 PluginOpts:<nil> Pkcs11Opts:<nil>}
2018/05/16 08:13:07 [DEBUG] Initializing BCCSP with software options &\{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:0xc4202ba5f0 DummyKeystore:<nil>}
2018/05/16 08:13:07 [INFO] generating key: &\{A:ecdsa S:256}
2018/05/16 08:13:07 [DEBUG] generate key from request: algo=ecdsa, size=256
2018/05/16 08:13:07 [INFO] encoded CSR
2018/05/16 08:13:07 [INFO] signed certificate with serial number 611535347575979179731889007531367518825256331296
2018/05/16 08:13:07 [DEBUG] DB: Insert Certificate
2018/05/16 08:13:07 [DEBUG] Saved serial number as hex 6b1e3182025f73f39ae0777284a39d113f782820
2018/05/16 08:13:07 [DEBUG] saved certificate with serial number 611535347575979179731889007531367518825256331296
2018/05/16 08:13:07 [DEBUG] TLS Certificate: /etc/hyperledger/fabric-ca-server/tls-cert.pem, TLS Key: 
2018/05/16 08:13:07 [DEBUG] Client authentication type requested: noclientcert
2018/05/16 08:13:07 [INFO] Listening on https://0.0.0.0:7054
2018/05/16 08:13:14 http: TLS handshake error from 172.18.0.1:58540: EOF",,davidkhala,heatherp,narendranathreddy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 4:38 PM;davidkhala;[Hyperledger Fabric] how to generate ca-key.pem for fabric-ca.eml;https://jira.hyperledger.org/secure/attachment/15700/%5BHyperledger+Fabric%5D+how+to+generate+ca-key.pem+for+fabric-ca.eml",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzwrlr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,heatherp,narendranathreddy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 4:38 PM;davidkhala;I attached email from Chengwei Yang referring to the same issue
 [^[Hyperledger Fabric] how to generate ca-key.pem for fabric-ca.eml] ;;;","30/Oct/19 1:17 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and as this was raised some time ago, I'm closing. Please re-open if this issue is still affecting you, or you would like it remain on the backlog - thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] TypeError: Cannot read property '_caName' of undefined,FABN-678,31250,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,harrisob@us.ibm.com,Ratnakar,Ratnakar,21/Jun/18 5:16 AM,14/Nov/18 10:54 PM,28/Oct/23 3:25 AM,14/Nov/18 10:54 PM,v1.1.0,,,,,,v1.1.0,,,,0,quality,,,,"For test description details , please refer the Case 4 of FAB-10161

when loaded the CA with the connection profiles, Integration test failed with error
{panel}
TypeError: Cannot read property '_caName' of undefined
{panel}
 
 _SDK error message_
{code:java}
***** use the connection profile file  *****
not ok 436 Test failed with TypeError: Cannot read property '_caName' of undefined^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: fail
    at: client_org1.initCredentialStores.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/network-config.js:705:5)
    stack: |-
      Error: Test failed with TypeError: Cannot read property '_caName' of undefined
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.fail (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
          at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at client_org1.initCredentialStores.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/network-config.js:705:5)
          at <anonymous>^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}
 

Also the following errors are seen when tests executed without any modifications to the integration test suite
{code:java}
not ok 174 TypeError: Cannot read property 'EC' of undefined
---
operator: error
expected: |-
undefined
actual: |-
[TypeError: Cannot read property 'EC' of undefined]
at: Test.onetime [as end] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape-promise/node_modules/onetime/index.js:22:12)
stack: |-
TypeError: Cannot read property 'EC' of undefined
at Object.module.exports.newCryptoSuite (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/fabric-ca-client/lib/utils.js:80:17)
at new FabricCAServices (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:85:30)
at /Users/ratnakar/workspace/compatibility/sdk_tests/test/integration/fabric-ca-services-tests.js:78:18
at Test.<anonymous> (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape-promise/index.es5.js:21:13)
at Test.bound [as _cb] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:76:32)
at Test.run (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:95:10)
at Test.bound [as run] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:76:32)
at Immediate.next (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/results.js:71:15)
at runCallback (timers.js:789:20)
at tryOnImmediate (timers.js:751:5)
at processImmediate [as _immediateCallback] (timers.js:722:5)
...
#

** FabricCAClient: Test enroll With Static CSR **


not ok 175 Failed to enroll 'testUser'. Error: Enrollment failed with errors [[{""code"":20,""message"":""Authorization failure""}]]
---
operator: fail
at: <anonymous> (/Users/ratnakar/workspace/compatibility/sdk_tests/test/integration/fabric-ca-services-tests.js:405:6)
stack: |-
Error: Failed to enroll 'testUser'. Error: Enrollment failed with errors [[{""code"":20,""message"":""Authorization failure""}]]
at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:224:54)
at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:76:32)
at Test.fail (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:317:10)
at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/sdk_tests/node_modules/tape/lib/test.js:76:32)
at /Users/ratnakar/workspace/compatibility/sdk_tests/test/integration/fabric-ca-services-tests.js:405:6
at <anonymous>
at process._tickCallback (internal/process/next_tick.js:188:7){code}",,andrew-coleman,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jun/18 1:32 AM;harrisob@us.ibm.com;Internal objects have changed ... old test case is invalid with new code;;;","14/Nov/18 10:54 PM;andrew-coleman;resolved with test change;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Interoperability test ] Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052367 vs. 1048576),FABN-679,31247,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,harrisob@us.ibm.com,Ratnakar,Ratnakar,21/Jun/18 4:46 AM,14/Nov/18 10:55 PM,28/Oct/23 3:25 AM,14/Nov/18 10:55 PM,v1.1.0,,,,,,v1.1.0,,,,0,quality,,,,"For test description details , please refer the Case 4 of FAB-10161

Test failed with an error
{panel}
Error: Failed to send install Proposal or receive valid response: Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052367 vs. 1048576) at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/e2eUtils.js:166:10) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7)
{panel}

_SDK Error log_ :
{code}
not ok 312 Error: Failed to send install Proposal or receive valid response: Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052376 vs. 1048576) at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/e2eUtils.js:166:10) at <anonymous> at process._tickCallback (internal/process/next_tick.js:188:7)^[[00m^[[00m^[[2m^[[38;5;66m
  ---^[[00m
    operator: fail
    at: e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/grpc.js:215:5)
    stack: |-
      Error: Error: Failed to send install Proposal or receive valid response: Error: 8 RESOURCE_EXHAUSTED: Sent message larger than max (1052376 vs. 1048576)
          at e2eUtils.tlsEnroll.then.then.then.then (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/e2e/e2eUtils.js:166:10)
          at <anonymous>
          at process._tickCallback (internal/process/next_tick.js:188:7)
          at Test.assert [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
          at Test.bound [as _assert] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at Test.fail (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
          at Test.bound [as fail] (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
          at e2eUtils.tlsEnroll.then.then.then.then.then.then.then.then.then.catch (/Users/ratnakar/workspace/compatibility/fabric-sdk-node/test/integration/grpc.js:215:5)
          at <anonymous>
          at process._tickCallback (internal/process/next_tick.js:188:7)^[[00m^[[2m^[[38;5;66m
  ...^[[00m^[[00m^[[2m^[[38;5;66m
# ^[[00m
{code}",,andrew-coleman,harrisob@us.ibm.com,Ratnakar,userlinuxuser,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzfon:",,,,,,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,harrisob@us.ibm.com,Ratnakar,userlinuxuser,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jun/18 12:54 AM;Ratnakar;It is observed that using the following grpc options fails with Nodejs SDK v1.2 version 

GRPC SEND      -----> *grpc.max_send_message_length*
GRPC RECEIVE ---->  *grpc.max_receive_message_length*

Tests are passed when used the following grpc options

{code}
 grpc-max-send-message-length
 grpc-max-receive-message-length
{code}

[~harrisob@us.ibm.com] Did we deprecated these grpc flags *grpc.max_send_message_length* & *grpc.max_receive_message_length* from NodeJS SDK V1.2 ?


 

 ;;;","26/Jun/18 1:18 AM;harrisob@us.ibm.com;This is working as designed, the code has been restructured to make sure that the v10 names are used before the real grpc names. The old test case does not remove the v10 name, so the setting is still there when the real grpc name is set. The old test case is not correct.;;;","31/Jul/18 7:13 AM;userlinuxuser;Modify the file network-config.yaml, orderers -> grpcOptions: grpc-max-send-message-length: -1 and peers -> ...;;;","14/Nov/18 10:55 PM;andrew-coleman;resolved with test change;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NodeSDK parse instantiate transaction response not correctly,FABN-680,28644,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,zhangtailin,grapebaba,grapebaba,19/Mar/18 10:48 AM,24/Aug/18 12:39 PM,28/Oct/23 3:25 AM,24/Aug/18 12:39 PM,,,,,,,v1.1.1,,,,0,node-SDK,,,,NodeSDK parse instantiate transaction response not correctly,,grapebaba,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1yf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,grapebaba,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 2:36 AM;harrisob@us.ibm.com;Could I get more information on this issue, what is not being parsed. Would you provide a debug trace,  ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
use ES6 syntax as much as possible,FABN-681,27656,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Invalid,davidkhala,davidkhala,davidkhala,13/Feb/18 12:37 PM,22/Sep/19 11:07 AM,28/Oct/23 3:25 AM,19/Jul/18 11:15 PM,v1.1.0-alpha,,,,,,,,,,0,,,,,"As titled, gradually switch to use const/let instead of var since node8 is supported and tested only.
 # use existing eslint rules to regular syntax
 # change eslint config in build/tasks/eslint, add ""prefer-const"", “no-var”
 # use const/let instead of var as much as possible
 # use string literal syntax instead of widely used util.format and string concat
 # instead of create point to this as 'self', use arrow function to avoid this confusion",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1255,FABN-586,,,,,,FABN-835,FABN-1219,FABN-1372,FABN-1382,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyx7j:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Feb/18 1:04 PM;davidkhala;https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-verify-s390x/194/console-timestamp.log.gz

If I fix them all in one commit, it would be too huge for a patch.;;;","17/Jul/18 12:10 AM;davidkhala;https://gerrit.hyperledger.org/r/#/c/23437/;;;","27/Jul/18 3:56 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/24847/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK support for Pluggable escc/vscc,FABN-682,32052,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,19/Jul/18 4:35 PM,26/Feb/19 6:12 PM,28/Oct/23 3:25 AM,26/Feb/19 6:12 PM,,,,,,,,,,,0,,,,,"After FAB-8729 implements the new feature for pluggable escc/vscc, users who use this feature with node-sdk may want to specify the escc and vscc name.",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzj6n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jul/18 4:39 PM;zhaochy;https://gerrit.hyperledger.org/r/24551;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-sdk Client.js::createUser clean for less complexity,FABN-683,23730,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Invalid,asadhayat,davidkhala,davidkhala,03/Nov/17 1:22 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,19/Jul/18 11:16 PM,v1.1.0-preview,,,,,,,,,,0,,,,,"This patch aim for 
 - use less syntax 'var' in nodejs code and more 'const', 'let' as nodejs6 having support ES6
 - simplify empty checking logic 
 - less error translating",,davidkhala,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzymb3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 4:30 AM;harrisob@us.ibm.com;Clean up will done when ESlint cleanup that is on going;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
npm description update,FABN-684,30845,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,davidkhala,davidkhala,davidkhala,02/Jun/18 1:06 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,19/Jul/18 11:15 PM,v1.1.0,,,,,,,,,,0,,,,,"As in attached image, there is some problems:
 * the repository url  [https://gerrit.hyperledger.org/r/fabric-sdk-node] is not working
 * it show only the tag with 1.0.x, not latest 1.1.x
 * 
h3. missing people in 'collaborators' list ",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/18 1:03 PM;davidkhala;NPMfabric-ca-client.PNG;https://jira.hyperledger.org/secure/attachment/15043/NPMfabric-ca-client.PNG",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzdu7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jun/18 1:33 PM;davidkhala;* 1.0.8 is really the latest release newer then 1.1.2
* there is no auto-maaping from github contributors to npm collaborators
* there is no author section in fabric-sdk-node package.json
* `npm owner list` response `admin party!`
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SDK - ability to deploy, invoke, and query chain code on pre-existing channels",FABN-686,14470,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Clayton Sims,Clayton Sims,01/Feb/17 11:22 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,19/Apr/17 2:12 PM,,,,,,,,,,,0,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,"SDK - ability to deploy, invoke, and query chain code on pre-existing channels",To Do,,,Unset,,,,"1|hzxjov:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/17 2:12 PM;jimthematrix;Closed as we are not using EPICs and this is duplicate to existing stories (most are already complete);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event notification from peer on transaction commits ,FABN-687,14469,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,Clayton Sims,Clayton Sims,01/Feb/17 11:08 AM,12/Oct/19 4:28 PM,28/Oct/23 3:25 AM,19/Apr/17 2:10 PM,,,,,,,,,,,0,,,,,,,Clayton Sims,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-4,,Event notification from peer on transaction commits ,To Do,,,Unset,,,,"1|hzxjon:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,dinotone,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/17 2:11 PM;jimthematrix;Closed as we are not using EPICs and it's a duplicate to FAB-896;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide capabilities to allow developers maintaining existing SoR applications to easily access Fabric services,FABN-688,14389,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ianj_mitchell@uk.ibm.com,ianj_mitchell@uk.ibm.com,ianj_mitchell@uk.ibm.com,27/Jan/17 9:23 PM,21/Jul/18 4:13 AM,28/Oct/23 3:25 AM,14/Oct/17 3:39 AM,,,,,,,,,,,0,,,,,"h2. Phase One - submit

Support for simple means to invoke and query from existing application.

Based on a REST API - see Create a REST wrapper around SDK - FAB-156 (https://jira.hyperledger.org/browse/FAB-156)

h2. Phase Two - respond

Support for confirmation of outcome. Again a REST callback - depends on Events support for new nodejs sdk - FAB-896(https://jira.hyperledger.org/browse/FAB-896) plus other enhancements.

h2. Phase Three - endorse

Support calls to external services from endorsement chain code.

(See this comment - https://jira.hyperledger.org/browse/FAB-875?focusedCommentId=20167&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-20167 )",,ChristopherFerris,ianj_mitchell@uk.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,System of Record access,To Do,,,Unset,,,,"1|hzxj9z:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,ianj_mitchell@uk.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 3:39 AM;ChristopherFerris;closing this, reopen if still relevant - I assume that the REST SDK has replaced this intent.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix - Node SDK,FABN-689,23225,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Won't Do,,dubovitskaya,dubovitskaya,01/Nov/17 4:54 AM,12/Jan/21 11:43 PM,28/Oct/23 3:25 AM,12/Jan/21 11:43 PM,Future,,,,,,Future,,,,0,external,idemix,sdk,sdk-triaged,Provide Idemix crypto library in Node.js and integrate it with node-sdk for signing transactions.,,andrew-coleman,ashutosh_kumar,baohua,davidkhala,denyeart,dubovitskaya,generak,GuillaumeCisco,heatherp,huxd,lesleyannj,luckforzhang,mffrench,MichaelWang,mwest,siddjain,SjirNijssen,zhangtailin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-588,FAB-2005,,,,,FABC-592,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,Idemix - Node SDK,To Do,,,Unset,,,,"1|hzycuf:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,andrew-coleman,ashutosh_kumar,baohua,davidkhala,denyeart,dubovitskaya,generak,GuillaumeCisco,heatherp,huxd,lesleyannj,luckforzhang,mffrench,MichaelWang,mwest,siddjain,SjirNijssen,zhangtailin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Mar/19 4:35 PM;luckforzhang;java SDK has done the work and when shall this idemix for node sdk could be released?;;;","15/Apr/19 1:29 AM;mwest;Idemix for Nodejs  design document:

[https://docs.google.com/document/d/12iJUJ0GsSDCoMKnMalbvchFHJveWj5LxOTGrIYlk04g/edit?usp=sharing]

 

This is the initial draft of the design document.

 ;;;","09/Aug/19 10:47 PM;GuillaumeCisco;Any update on this?
Is there a gerrit branch implementing parts of idemix?;;;","09/Aug/19 11:48 PM;mwest;Last I heard about this we were waiting from feedback from the crypto team. This isn't a team that meets regularly so I'm unclear of the status of the approval of the design. If you have any updates from the crypto team, or an approval of the design that would help us get started. Thanks,;;;","30/Oct/19 1:16 AM;heatherp;Hi, I've been working through the node sdk backlog with the maintainers and I've reduced the severity of this one, as it doesn't look active right now;;;","12/Jul/20 1:36 AM;davidkhala;Any update on this issue?;;;","12/Jan/21 11:43 PM;lesleyannj;Backlog Review - Closing due to inactivity.  Can be re-opened if work starts again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Common API design specification for SDKs implemented on all languages,FABN-690,12350,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,Clayton Sims,Clayton Sims,13/Aug/16 3:14 AM,21/Jul/18 4:12 AM,28/Oct/23 3:25 AM,01/Jun/17 6:51 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,"As a blockchain app developer, I want a robust well understood set of interfaces that I can quickly and easily develop and deploy applications. ",,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,node.js SDK -- new function / enhancements,To Do,,,Unset,,,,"1|hzxapz:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improvements to the getting started experience to make building apps more intuititve,FABN-691,12566,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,cerveny,cerveny,cerveny,30/Aug/16 12:01 AM,21/Jul/18 4:13 AM,28/Oct/23 3:25 AM,14/Apr/17 9:58 AM,,,,,,,v0.6,,,,0,node-SDK,,,,"As a new blockchain App Developer,  I would like to read the SDK documentation and have a sample application working in 10 minutes. ",,cerveny,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-7,,Node.js SDK -- Getting Started Experience,To Do,,,Unset,,,,"1|hzxbn3:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,,,,cerveny,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Programming model - submitTransaction() API method for SDK,FABN-692,31208,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,20/Jun/18 5:14 PM,20/Apr/21 4:13 PM,28/Oct/23 3:25 AM,14/Nov/18 2:47 AM,,,,,,,v1.4.0,,,,2,,,,,"A new theme ‘programming model enhancements’ aims to introduce a set of higher level abstractions to the Fabric SDKs and chaincode interface.  The aim of this is to simplify the development experience and reduce the amount of boilerplate code that the developer has to write for many of the common use-cases when creating applications that access a Fabric network.  Much of this is driven by feedback from users and from experience with the Hyperledger Composer project which adds business level abstractions on top of the existing Fabric APIs.  Initially, these enhancements will be delivered to the Node.js versions of the SDK and chaincode.

This epic adds the ability to submit a transaction to the ledger using a single submit method that takes care of the usual multi-step process under the covers (submit proposal to all endorsing peers, collect and group responses, send responses to ordering service, await commit notification). It also adds the ability for transaction functions to return values to the client application (fabric supports this).  

This new function is exposed through a new package (fabric-network) which contains classes that represent the network and the contract with classes supporting identity management (wallets).

Functional delivery will include associated unit and e2e tests to support the feature.

Full details [here|https://docs.google.com/document/d/1LIzcuTMbnZgeahjX8-UBWajFVJMWiTK0SlLhSQVy574/edit?usp=sharing]",,andrew-coleman,aviralwal,awjh-ibm,gennadyl,isaacwch,joe-alewine,knagware9,lesleyannj,mbwhite,MichaelWang,n-horiguchi,odowdaibm,priya1234,sheetal-hlf,silliman,SjirNijssen,sstone1,troyronda,Vishal3152,yacovm,yoheiueda,zhaochy,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-307,,,,,"28/Sep/18 6:01 PM;andrew-coleman;programming-model-design.pdf;https://jira.hyperledger.org/secure/attachment/15890/programming-model-design.pdf",,,,,,,,,,,,,Done,,Reviewed,,Required,,,Programming model - submitTransaction() API method for SDK,,,,Required,,,,"1|hzzfif:",,,,Unset,Required,,,,,,,,,,,,,,,,,"[Andrew Coleman to add test plan details, including integration, interop, and system test plans.  Coordinate with Nick Lincoln as needed on system test plans.]

Systest Prime: Nick Lincoln",,,,,,andrew-coleman,aviralwal,awjh-ibm,gennadyl,isaacwch,joe-alewine,knagware9,lesleyannj,mbwhite,MichaelWang,n-horiguchi,odowdaibm,priya1234,sheetal-hlf,silliman,SjirNijssen,sstone1,troyronda,Vishal3152,yacovm,yoheiueda,zhaochy,zRich,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jun/18 5:22 PM;andrew-coleman;This API method will supercede the proposed executeTransaction() API method under consideration for 1.2 [FAB-7670|https://jira.hyperledger.org/browse/FAB-7670];;;","20/Jun/18 5:24 PM;odowdaibm;Hello [~SjirNijssen] - this is the first of 3 JIRAs that we discussed.  Will keep you posted on progress via this JIRA.  Note Google doc share as well.;;;","20/Jun/18 5:48 PM;odowdaibm;Hello [~bobbiejc] - here's the JIRA and referenced Google doc for a simpler API for submitting transactions;;;","28/Jun/18 2:33 PM;n-horiguchi;Hi.
I feel unhappy about this patch because my effort was just discarded silently.
Even if submitTransaction() will supercede executeTransaction(), that doesn't mean that executeTransaction() should be removed now because submitTransaction() is not implemented yet.
submitTransaction() is targeted for v1.3, so I think we should keep executeTransaction() at least until then.
;;;","28/Jun/18 7:45 PM;andrew-coleman;Hi [~n-horiguchi]

This wasn’t intended to be a permanent removal, but rather an alignment with a broader piece of work we are doing to provide a simplified higher level programming model across the SDKs and chaincode shim APIs.  In particular, we plan to lift this executeTransaction/submitTransaction function into a new package/class to make it clear to application developers that they are working with higher level constructs (other functions such as HA enabled query are planned for later).  The reason we (in discussion with maintainers) took the decision to remove executeTransaction from the Channel class at very short notice was because we would have to maintain two very similar functions in two places in the SDK - one in the high-level package and one in the low level part.  We felt this would cause confusion amongst developers in future releases, and removing one later would be a breaking change.  I apologise that you weren’t directly involved in that discussion - we had to make a quick decision before RC1 was released.  It would be great if we could collaborate on this function going forward.  Many thanks for your patience.;;;","29/Jun/18 2:28 PM;n-horiguchi;Hello [~andrew-coleman],
Thank you for detailing the situation. Integrating high-level API over submitting transaction and chaincode invocation seems right to me. I think that you are planning to publish a separate package for this purpose shortly, and I'm glad to join its development. I'll pay attention to the related JIRAs.
;;;","09/Aug/18 3:30 AM;troyronda;[~andrew-coleman] FYI: The Go SDK contains a similar function (Execute): 
https://godoc.org/github.com/hyperledger/fabric-sdk-go/pkg/client/channel#Client.Execute
(It automatically chooses endorsers, service discovery, requests endorsements, signature validation, submits to the ordering service, watches events for commit, configurable retries, etc).

and pluggable handler model (InvokeHandler):
https://godoc.org/github.com/hyperledger/fabric-sdk-go/pkg/client/channel#Client.InvokeHandler

;;;","28/Sep/18 6:46 PM;yacovm;From the PDF: 

{quote}Gateway connect will support an additional option
– useDiscovery (Boolean, default false){quote}

Why is the default false? That means the default mode requires more configuration because you need a mapping of chaincodes to peers... ;;;","28/Sep/18 9:58 PM;andrew-coleman;Yes, good point.  This should probably default to true.;;;","20/Apr/21 4:13 PM;priya1234;Hi.
Using submitTransaction() is taking more time by waiting for commit events.So,Is there is a way to improve the performance using fabric sdk?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] As an application developer, I would like the node.js SDK to work out-of-box after npm install",FABN-693,12446,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,Clayton Sims,Clayton Sims,17/Aug/16 11:31 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,28/Oct/16 1:51 AM,,,,,,,,,,,0,node-SDK,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8vb:",,,,Unset,,Sprint 1,Sprint 2,Sprint 4 - nodeSDK,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] Eliminate the need to first populate the ""vendor"" folder from a clone of the entire Fabric in order to use the node.js SDK to deploy",FABN-694,12309,12446,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,bmos299,bmos299,11/Aug/16 4:51 AM,19/Jul/18 11:26 PM,28/Oct/23 3:25 AM,27/Oct/16 12:39 AM,,,,,,,,,,,0,chaincode,node-SDK,Usability,,"When an application needs to deploy chaincode using the node.js SDK, a ""vendor"" folder must be created under the folder that contains the chaincode, and be populated with the entire Fabric source tree (which must be cloned from git or gerrit). 

The main problem with this required manual step is that many users are not aware of this or forgot to perform this step and a puzzled by the deployment failure. In the past week or so quite a few users have been bitten by this due to down-leveled fabric code in the vendor folder (that doesn't match the level running in the target Peer) or corrupted files.

Suggested solution:
- the peer should really be doing this packaging, so that the SDKs would only need to send the chaincode GO itself plus any external dependencies in the ""vendor"" folder. The peer (endorsers in the new architecture) would have a copy of the source for compile purposes, which gets built into the docker image for that chaincode deploy along with the chaincode GO files themselves

",,AshishkumarLakshmanan,bmos299,greg.haskins,hgabre,jimthematrix,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8vj:",,,,,,Sprint 1,Sprint 2,Sprint 4 - nodeSDK,,,,,,,,4.0,,,,,,,,,,,,AshishkumarLakshmanan,bmos299,greg.haskins,hgabre,jimthematrix,mastersingh24,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Sep/16 5:49 AM;jimthematrix;[~muralisr] can you comment on the above requirement? or recommend someone responsible for this part of the peer code to comment? Based on the node.js SDK user feedback, this has been elevated to ""Highest"" priority;;;","13/Sep/16 11:00 PM;mastersingh24;There was a Slack conversation on this, but I just realized that we might really be overthinking this one.

All we really need is for the fabric dependencies to be in the container.  There are a couple options here:

1) We actually create a new base Golang CC image
2) Modify the Dockerfile generated by the SDK to do {{go get github.com/hyperledger/fabric}} 

I actually prefer option 1 because then each version of the fabric would have its own proper image until we figure out versioning of the fabric dependencies;;;","13/Sep/16 11:18 PM;muralisr;[~mastersingh24] agree with (1). It is the simplest for SDKs that don't have inbuilt language support;;;","13/Sep/16 11:32 PM;hgabre;Okay, I can implement (1) if everybody agrees. ([Greg|https://jira.hyperledger.org/secure/ViewProfile.jspa?name=ghaskins] too);;;","14/Sep/16 12:12 AM;greg.haskins;Note that we already have ""fabric-ccenv' which was intended to fulfill the role of (1).  To date, we haven't fully adopted it, but I am working on this and expect to have a proposal within the next few days.  Stay tuned.;;;","14/Sep/16 8:23 PM;mastersingh24;So {{fabric-ccenv}} would be just what the doctor ordered for 1) but we don't currently publish it.  Perhaps we should publish this as part of the 0.6 release images?;;;","15/Sep/16 1:47 AM;greg.haskins;We will add fabric-ccenv and fabric-javaenv (properly versioned to correlate to the fabric-peer they were built along side of) to dockerhub asap.;;;","25/Oct/16 3:20 AM;jimthematrix;now that feature/convergence and master branches merge is complete, I'm going to revisit this from the SDK's point of view to make use of the new deploy implementation.

[~hgabre] [~greg.haskins] FYI;;;","26/Oct/16 12:58 AM;jimthematrix;re-assigning to [~hgabre] as he's been working on changesets 1047 and 1649 that collectively address this problem (using fabric-ccenv tagged with :latest during peer startup) for the short term. longer term we should adopt a design that doesn't require the docker file (for which I'm told the CAR deployment format supports).;;;","26/Oct/16 2:00 PM;jimthematrix;I included the required fix in https://gerrit.hyperledger.org/r/#/c/2017/ ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I need query capabilities on the ledger",FABN-695,12431,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,angrbrd,angrbrd,17/Aug/16 7:06 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,08/Mar/17 12:35 PM,,,,,,,,,,,0,node-SDK,,,,"This epic will track the required features to be implemented in the Node SDK that allows the applications to discover information on the ledger through a Peer.

chain.getBlock(blockNumber:number, cb)
chain.getInfo(cb)
chain.getPeers(cb)
chain.getTransaction(uuid:string, cb)",,angrbrd,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5xb:",,,,Unset,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,Unset,,,,,,,,,,,angrbrd,ChristopherFerris,Clayton Sims,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/16 10:42 PM;Clayton Sims;Changing this to user story under epic 51;;;","18/Aug/16 6:23 PM;mastersingh24;I don't think that the REST APIs themselves should be included in the SDK.  See my comment for FAB-156

We should have a separate project which creates a NodeJS-based REST server which exploits hfc for communicating with the fabric.  As mentioned in the other comment, we should also be using Strongloop for the REST/Swagger infrastructure;;;","12/Oct/16 11:52 PM;ChristopherFerris;what Gari said above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support v1.0 APIs - part III,FABN-696,13225,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,28/Oct/16 1:10 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,21/Nov/16 8:14 AM,,,,,,,,,,,0,node-SDK,,,,"channels/sub-ledgers
- re-purpose the ""Chain"" class to represent a channel/sub-ledger (as described in the SDK design doc)
- implement the ""Chain"" life cycle: obtain uninitialized object from Client -> set endorses and orderers -> initialize

chaincode deploy

transaction submissions
- target specific Chain, or when not specified target the system ledger
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-735,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8vz:",,,,Unset,,Sprint 5 - nodeSDK,,,,,,,,,,8.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose all REST endpoints via GRPC,FABN-697,12540,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,smithbk,smithbk,24/Aug/16 7:22 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,14/Feb/17 12:45 AM,,,,,,,,,,,0,node-SDK,,,,"We need a way to get the following info via GRPC.  Perhaps some/all are there but couldn't find them.  The same validation as is done for processTransaction should be performed.

– GET /chain/blocks/block_number
– GET /chain
– GET /network/peers
– GET /transactions/uuid_number

These are the REST endpoints for which we need GRPC now, but would be best to expose all of them.",,jeffgarratt,jimthematrix,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxbjr:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,jeffgarratt,jimthematrix,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/16 12:18 PM;jimthematrix;[~jeffgarratt] it's blocking 6 SDK tasks related to queries in FAB-132, just want to get a feel for when this is likely going to be implemented so I can plan accordingly. thanks;;;","01/Feb/17 12:06 AM;jeffgarratt;I believe this has changed from being GRPC based to invocation based on chaincode.  We can verify.;;;","14/Feb/17 12:45 AM;jimthematrix;confirmed, all queries are to be made to the QSCC (query system chain code);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Chain.getBlock(blockNumber),FABN-698,12432,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,angrbrd,angrbrd,17/Aug/16 7:09 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,14/Feb/17 4:31 AM,,,,,,,,,,,0,node-SDK,,,,This task is to create the equivalent of the REST GET /chain/blocks/block_number endpoint in the Node.js SDK.,,angrbrd,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8pb:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,angrbrd,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:40 AM;mgutala;AS per conversation with Jim Zhang. This defect should be moved to v1.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Chain.getInfo(),FABN-699,12433,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,angrbrd,angrbrd,17/Aug/16 7:14 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,14/Feb/17 4:31 AM,,,,,,,,,,,0,node-SDK,,,,This task is to create the equivalent of the REST GET /chain endpoint in the Node.js SDK.,,angrbrd,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8yn:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,angrbrd,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:42 AM;mgutala;As per conversation with Jim Zhang, moved this issue to v1.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
***Rejected***: Implement Client.getNetworkInfo(),FABN-700,12434,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,angrbrd,angrbrd,17/Aug/16 7:21 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,02/Mar/17 12:35 PM,,,,,,,,,,,0,node-SDK,,,,This task is to create the equivalent of the REST GET /network/peers endpoint in the Node.js SDK.,,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8p3:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:43 AM;mgutala;As per conversation with Jim Zhang, moved this issue to v1.0.;;;","02/Mar/17 12:38 PM;jimthematrix;not applicable in v1.0 architecture. due to gossip at any point in time the list of peers in a ""network"" can change. the orderer knows about participating orgs but does not track individual peers. a peer as par of a channel may know the anchor peers in that channel, but still not fully aware of the ""gossiping"" peers in other orgs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Chain.getTransaction(txid),FABN-701,12435,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,angrbrd,angrbrd,17/Aug/16 7:23 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,14/Feb/17 4:32 AM,,,,,,,,,,,0,node-SDK,,,,This task is to create the equivalent of the REST GET /transactions/uuid_number endpoint in the Node.js SDK.,,angrbrd,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8ov:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,angrbrd,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:43 AM;mgutala;As per conversation with Jim Zhang, moved this issue to v1.0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
***Rejected***: Implement MemberService.getEnrollmentCertificate(enrollmentID),FABN-702,12436,12431,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,angrbrd,angrbrd,17/Aug/16 7:24 AM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,14/Feb/17 12:48 AM,,,,,,,,,,,0,node-SDK,,,,This task is to create the equivalent of the REST GET /registrar/enrollmentID/ecert endpoint in the Node.js SDK.,,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8on:",,,,,,Sprint 1,Sprint 2,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,angrbrd,jimthematrix,mgutala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Oct/16 2:43 AM;mgutala;As per conversation with Jim Zhang, moved this issue to v1.0.;;;","14/Feb/17 12:48 AM;jimthematrix;ecerts are to be generated by signing a public key from a CSR. not sure what the use for a get ecert API is.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support concurrent endorsement proposal calls,FABN-703,12420,13225,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,cdaughtr,angrbrd,angrbrd,17/Aug/16 4:55 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,16/Nov/16 1:24 AM,,,,,,,,,,,0,node-SDK,,,,Design an API to allow multiple endorsers to be contacted at once for proposals and return a consolidated promise that only resolves when all have responded,,angrbrd,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb2f:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,angrbrd,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/16 12:23 AM;jimthematrix;Re-purposed (since it's not possible to reject issues right now in JIRA) from the original work item with the following description:

Currently, the HFC sdk member class has a the deploy/invoke/query method which would try all peers in its connection list to see which one can succeed on the transaction. It moves on to the next peer in the list, if the first peer it tries fails on the connection. It doesn't provide interface/method to appoint one specific peer to send the transaction to. While, testing on specific peer would be needed in some cases. For example, we want to test on sending query on all peers concurrently.

The original GitHub issue is here: https://github.com/hyperledger/fabric/issues/2176;;;","16/Nov/16 1:24 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/2411/ is merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sendTransaction() call should support array of ProposalReponse input,FABN-704,13323,13225,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,06/Nov/16 11:04 PM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,11/Nov/16 4:46 AM,,,,,,,,,,,0,node-SDK,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe5b:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,1.0,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/16 4:01 AM;harrisob@us.ibm.com;Change set submitted 
https://gerrit.hyperledger.org/r/#/c/2343/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Catch up the node SDK to the latest protobuf defs,FABN-705,13382,13225,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,10/Nov/16 12:21 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,18/Nov/16 6:01 AM,,,,,,,,,,,0,node-SDK,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeev:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support setting custom chaincode names instead of hash,FABN-706,13383,13225,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,10/Nov/16 12:27 AM,19/Jul/18 11:29 PM,28/Oct/23 3:25 AM,17/Nov/16 1:35 AM,,,,,,,,,,,0,node-SDK,,,,"- allow user to set the chaincode with a custom name during deploy
- should be able to remove the code that calculates hash for the ChaincodeID.name field during deploy
- allow user to use a chaincode name to invoke transaction and queryByChaincode()
- should be able to clean up the code that passes the hash in the proposal response object for use by the application",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxef3:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[node-SDK] As a new user, I want to be able to read the documentation and develop a simple application within 10 minutes",FABN-707,12445,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,Clayton Sims,Clayton Sims,17/Aug/16 10:29 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,21/Oct/16 9:11 PM,,,,,,,,,,,0,node-SDK,,,,,,Clayton Sims,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-104,FABN-121,FABN-115,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABN-690,,,,,,,,,"1|hzx8un:",,,,Unset,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Application state store backed by databases,FABN-708,13142,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,25/Oct/16 1:01 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,04/Feb/17 3:41 AM,,,,,,,,,,,0,node-SDK,,,,"The interaction model with the fabric determines that a number of application states need to be save in a storage area for access by the application:

- membership enrollment (which encapsulates private key, signing certificate, and chain/channel-wide encryption keys for confidentiality)
- fabric event listener information for crash recovery purposes (which events are being listened on)",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx72n:",,,,Unset,,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,8.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I want a command line tool to interact with the blockchain network for testing purposes",FABN-709,12542,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,smithbk,smithbk,24/Aug/16 11:04 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,03/Jun/17 6:44 PM,,,,,,,,,,,0,node-SDK,,,,"fabric/sdk/node/bin/main.js currently implements the following CLI
     hfc test <test.json>
We need to provide a complete CLI via hfc.
Recommend using typescript as is done for everything else, so create fabric/sdk/node/src/main.ts file.

The usage should be similar to following:

    hfc login <user> <pass>
          register <user> [<registrar-types> [<delegate-registrar-types]]
          deploy <URL-or-path> [<arg1> ... <argN>]
          invoke <chaincodeID> <fcnName> [<arg1> ... <argN>]
          query <chaincodeID> <fcnName> [<arg1> ... <argN>]
          config <config.json>
          set <name>=<value>
          get <name>

Several other commands are needed to match what is currently available via the REST API related to FAB-132.

Recognize HFC_HOME environment variable for where all persistent info is kept including the config file and KeyValStore directory.  The default value if HFC_HOME is not set is $HOME/.hfc
",,ChristopherFerris,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxbk7:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,ChristopherFerris,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/17 10:00 AM;ChristopherFerris;[~smithbk] [~jimthematrix] is this still relevant? If not, please mark WONTFIX and close it thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the official SDK API design - Part II,FABN-710,13318,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,05/Nov/16 4:52 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,27/Mar/18 4:01 AM,,,,,,,Future,,,,0,node-SDK,,,,"- queries
- cyptosuite
- separate library for member services",,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx74n:",,,,Unset,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 4:01 AM;harrisob@us.ibm.com;We will implement specific items as requested.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - create hyperledger/starter-kit Docker image,FABN-711,12460,12445,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 8:44 PM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,18/Oct/16 1:02 PM,,,,,,,,,,,0,getting-started,node-SDK,,,"Docker image will 
   -- be based on base hyperledger/fabric image
   -- will pull in Node SDK as a global node package
         --- will allow for Node SDK command line once included
",,ericmvaughn,harrisob@us.ibm.com,jimthematrix,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8uv:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,ericmvaughn,harrisob@us.ibm.com,jimthematrix,jimthematrix@gmail.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Aug/16 1:52 PM;jimthematrix@gmail.com;[~harrisob@us.ibm.com] I think it'd be a good idea to break this up into two phases, first to create the basic image that contains the SDK and the CLI, so users would be able to use the CLI to interact with the network (deploy chaincode, invoke transactions, etc.)

I'll submit a separate task for the sample express based app. it'll require some significant work since it should have a decent UI to allow users to do things with the network (which we should enlist some designers to help).

Opened FAB-247 for the 2nd part.;;;","29/Aug/16 1:27 PM;jimthematrix;[~harrisob@us.ibm.com] I did some digging regarding the error we discussed on Friday that happens when running the peer inside a docker instance created by docker native (for Mac or Windows), as opposed to inside an instance created by Docker Tools, it was because the docker remote API (which the docker client in core/container/dockercontroller/dockercontroller.go uses to manage instances and images) uses /var/run/docker.sock to send commands to the daemon and this file was not present inside the container instance.

One solution is to mount this file in the docker instance and map to the corresponding file on the host. 

Add the following lines to the docker-compose.yaml in the peer section:
volumes:
    - /var/run/docker.sock:/var/run/docker.sock

I did a quick test. I was able to get past the error and successfully deploy a chaincode and saw the new container instance created for that chaincode.

Obviously should also test this with instances created with Docker Tools.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - update build to include building sample Docker images and publish,FABN-712,12462,12445,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,18/Aug/16 8:55 PM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,18/Oct/16 1:01 PM,,,,,,,,,,,0,node-SDK,,,,"update build to include building sample Docker images and publish to Docker hub
will need to be tagged correctly to allow for ""latest"" pull by users of the readmenow doc",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-121,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8v3:",,,,,,Sprint 1,Sprint 2,Sprint 3,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Implement Key/Value Store Interface for CouchDB and Cloundant,FABN-713,12454,13142,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,cdaughtr,angrbrd,angrbrd,18/Aug/16 3:02 AM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,18/Jan/17 7:07 AM,,,,,,,,,,,0,node-SDK,,,,"This new feature will allow the SDK to connect to a CouchDB-based database storage in order to store the end user crypto materials (private key, certifcates) in one place. That way, the user would be able to register/enroll with the membership services once and then connect and interact with the peer network and chaincode from multiple instances of the app or from different clients.

Another important use case is when the client app is deployed via containers (Docker or CloudFoundry), crash recovery will wipe out changes to the file system. So a prevalent practice is for these apps to save configurations to a database (cloudant, redis, etc.) instead.",,angrbrd,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb7j:",,,,,,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,angrbrd,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/16 3:59 AM;angrbrd;This work is currently under review here:
https://gerrit.hyperledger.org/r/#/c/2485/4

I have addressed all existing comments.;;;","04/Jan/17 12:25 AM;jimthematrix;[~angrbrd] I talked to [~cdaughtr] this morning, since you are in the middle of a big chunk of work for the REST wrapper, she'll build on top of your changeset and make the following changes in order to finish this one off:
- change the ""Client.js/newDefaultKeyValueStore()"" and ""utils.js/getDefaultKeyValueStore()"" APIs to async (returning Promise)
- modify the tests to use the new promise-based APIs
- do the necessary merge with the latest master

If you can think of other changes that are needed, please let her know. thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add test against a cloudant database,FABN-714,14143,13142,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,18/Jan/17 7:24 AM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,25/Jan/17 12:39 AM,,,,,,,,,,,0,,,,,should have the test case enhanced to drive the store implementation against a remote cloudant instance. can use bluemix to provision an instance under a personal account (eventually should use an account owned by CI).,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxien:",,,,,,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDBKeyValueStore setValue should return value,FABN-715,14325,13142,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,25/Jan/17 2:39 AM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,01/Feb/17 11:46 PM,,,,,,,,,,,0,,,,,"Currently, CouchDBKeyValueStore setValue returns boolean.  This should be made consistent with FileKeyValueStore and return the value.",,cdaughtr,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiyn:",,,,,,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,,,,,,,,,cdaughtr,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy local chaincode from CLI,FABN-716,12467,12542,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,markparz,markparz,18/Aug/16 10:46 PM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,03/May/17 1:56 AM,,,,,,,,,,,0,node-SDK,questionable,,,Story: As a developer I would like the ability to deploy chaincode from a package on my local machine so that I don't have use a remote URL to get the chaincode. This will make it much faster when testing my chaincode deploys not having to use remote systems. ,,ChristopherFerris,Clayton Sims,jimthematrix@gmail.com,markparz,tanykj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxb8v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,jimthematrix@gmail.com,markparz,tanykj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Aug/16 10:53 PM;markparz;Migrated from Github issue: [2105 | https://github.com/hyperledger/fabric/issues/2105];;;","23/Aug/16 5:49 AM;Clayton Sims;Mark, this is possible today.  Can you close?;;;","23/Aug/16 5:53 AM;markparz;Excellent, have [~smithbk] or whoever puts the code in update this with the details on the code submission and close it. Wouldn't make sense for me to close without a history trail. Can probably link to the Gerritt submission. ;;;","25/Aug/16 1:38 PM;jimthematrix@gmail.com;This feature should belong to the CLI instead of the SDK. it's unlikely that for production anybody would want the application to grab the chaincode source from the local file system because then making updates to the chaincode would require re-deploying the app. I think it's more likely that the app gets the source from a remote storage (code repo, database, etc.)

But this is definitely a handy tool as part of the CLI during development and test. So changed the title from ""... from SDK"" to ""... from CLI"".

[~markparz] if you have concerns with the above assumption, please let us know. thanks.;;;","14/Apr/17 10:01 AM;ChristopherFerris;[~jimthematrix] I'm guessing this is no longer relevant, of so mark WONTFIX and close it thanks;;;","02/May/17 7:37 AM;ChristopherFerris;I suspect that this is a duplicate and can be closed.;;;","03/May/17 1:56 AM;markparz;Done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enforce channel/chain naming rules,FABN-717,14375,13318,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,jimthematrix,jimthematrix,27/Jan/17 6:36 AM,30/Oct/19 12:05 AM,28/Oct/23 3:25 AM,30/Oct/19 12:05 AM,,,,,,,,,,,0,,,,,"// ChannelNameRule rejects incoming chain-creation messages whose proposed
// chainID (i.e. channel name) does not comply with the following restrictions:
// 1. Contains only any of the following characters:
//      a-z (lowercase alphabetical)
//      A-Z (uppercase alphabetical)
//      0-9 (numerical)
//      . (dot)
//      - (dash)
// 2. Is shorter than 250 characters.
// 3. Is not ""."" or "".."".
//
// Our hand here is forced by:
// https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/common/Topic.scala#L29",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxj7r:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Chain class with transaction listener and notifications via EventHub,FABN-718,14378,13318,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,jimthematrix,jimthematrix,27/Jan/17 6:40 AM,10/Aug/18 1:51 AM,28/Oct/23 3:25 AM,10/Aug/18 1:51 AM,,,,,,,Future,,,,0,,,,,"This adds capabilities to register transaction listeners in the Chain class and designate Peer instances as event source. it manages an internal event hub instance and does not require the application code to deal with the EventHub class directly.

This is the API as designed in the SDK design spec, as the ""simple API for the simple use cases"".

To support more advanced configurations, like using multiple event hub instances for sharing the load on listening to different events, we will expose returning EventHub instances via a call in Chain class. this will be done in a separate task",,harrisob@us.ibm.com,jimthematrix,jtracey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxj87:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,2.0,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,jtracey,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/18 11:28 PM;jtracey;Does this enhancement populate the read/write set contained in blocks returned by registerBlockEvent()?

Apparently there's a new event service in 1.1 alpha .....;;;","24/Jan/18 12:59 AM;harrisob@us.ibm.com;This item is not in progress.

Yes there is a new channel-based event service in 1.1 alpha, some highlights:

  - uses the same port address as the other services on the Peer

  - allows for filtered blocks that do not contain sensitive data so that all users will be able to get events

 - allows for specifying start block / end block , one could resume or replay getting events at any point

 - The read/write sets of the transaction are included in the blocks returned when receiving the blocks after registering for block events. (however to receive full blocks the user must have read access to the blocks of the channel, which will likely be controlled in a production system);;;","10/Aug/18 1:51 AM;harrisob@us.ibm.com;This concept will be implemented with the SDK programming model, a higher layer over the chain (channel) class.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[node-SDK] Implement removing peer from chain,FABN-719,12551,13318,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,jjjjibm,jjjjibm,26/Aug/16 1:19 PM,30/Oct/19 12:05 AM,28/Oct/23 3:25 AM,30/Oct/19 12:05 AM,,,,,,,Future,,,,0,help-wanted,node-SDK,,,"Description:

# # Remove peer
/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:1764
        throw Error(""TODO: implement"");
              ^
Error: TODO: implement
    at Error (native)
    at Peer.remove (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/lib/hfc.js:1764:15)
    at Test.<anonymous> (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/test/unit/chain-tests.js:921:13)
    at Test.bound [as _cb] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:63:32)
    at Test.run (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:82:10)
    at Test.bound [as run] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/test.js:63:32)
    at Immediate.next [as _onImmediate] (/opt/gopath/src/github.com/hyperledger/fabric/sdk/node/node_modules/tape/lib/results.js:70:15)
    at processImmediate [as _immediateCallback] (timers.js:367:17)

How to recreate:
1.In chain-tests.js, add code like this to a test case: 
var peers = chain.getPeers(); 
for (var I = 0; peers[I]; I++) {
  peers[I].remove();
}
2.Run make node-sdk-unit-tests as usual ","Win7, vagrant, hfc 0.0.2",cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-264,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgu7:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,cdaughtr,jimthematrix,jjjjibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/16 1:31 AM;cdaughtr;I reproduced this issue on the current gerrit master.

Browsing through the repository code, I do not see any references to suggest how to remove a peer.  Need to find out if there are any specifications, for example, authorization or validation that must be done, prior to removing a peer.;;;","07/Sep/16 5:41 AM;jimthematrix;This API is to be implemented. As far as I know no solution team has told us they are blocked by this unimplemented API. So I changed it to a Task and prioritized as ""Medium"".;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create User and persistent in state store and crypto key store from non-fabric-ca,FABN-720,15570,13318,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,05/Apr/17 5:24 AM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,05/Apr/17 6:15 AM,,,,,,,,,,,0,,,,,"if the application is not using fabric-ca, the app must somehow get the private key and signed cert for the user's signing identity into the app's state store and crypto key store.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp6v:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
standalone-app.js has hardcoded values for peer/membersrvc,FABN-721,12708,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,18/Sep/16 8:09 AM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,24/Sep/16 9:06 AM,,,,,,,v0.6,,,,0,Documentation,node-SDK,,,standalone-app.js has hardcoded values for peer/membersrvc,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,28800,28800,,0%,32400,32400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/16 8:52 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1119/;;;","24/Sep/16 9:07 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1195/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need to patch v0.6 when 1119 is merged,FABN-722,12710,12708,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,18/Sep/16 11:51 PM,19/Jul/18 11:33 PM,28/Oct/23 3:25 AM,24/Sep/16 9:08 AM,,,,,,,v0.6,,,,0,Documentation,node-SDK,,,need to patch v0.6 branch with this,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,FABN-723,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/16 9:08 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/1195/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need to publish patched v0.6 images ,FABN-723,12711,12708,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,ChristopherFerris,ChristopherFerris,18/Sep/16 11:52 PM,12/Oct/19 4:34 PM,28/Oct/23 3:25 AM,14/Apr/17 8:58 PM,,,,,,,v0.6,,,,0,,,,,"once we have merged the patch to v0.6 and any other relevant patches, we need to publish new images for v0.6.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-722,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxc53:",,,,,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New unit tests infrastructure - part II,FABN-724,13322,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,06/Nov/16 11:00 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,06/Oct/17 5:35 AM,,,,,,,Future,,,,1,node-SDK,,,,"When i run any unit tests, including both the headless and those that require a target network, I should just be doing ""npm test"" or ""node <path to test JS>"", without relying on any external shell scripts.

The first step should be building a local target based on docker images.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-585,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx773:",,,,Unset,,Sprint 2,Sprint 3,Sprint 5 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,4.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop unit test utilities to set up docker based test target,FABN-725,13081,13322,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,20/Oct/16 11:44 PM,19/Jul/18 11:35 PM,28/Oct/23 3:25 AM,06/Oct/17 5:35 AM,,,,,,,,,,,1,node-SDK,,,,"we'd like to have the unit tests driven by node.js completely, instead of relying on native shell scripts which would be difficult to develop and maintain for the multiple environments: maxOS, windows, Ubuntu, etc.

most difficult part is using node.js program to manage the configuration, launching and tearing down of the docker-based target environment.

[~rennman] started this changeset https://gerrit.hyperledger.org/r/#/c/2423/, which needs to be cleaned up by removing all the old tests so that it becomes a narrowly focused utility to launch docker-compose based target environments with different parameters (SOLO vs. Kafka, LevelDB vs. couchdb, TLS vs. no TLS, COP vs. standard CA etc.)",,jimthematrix,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-805,,,,,,,,,,,,,,,,,,,,,,,,"18/Nov/16 9:23 AM;vdods;ca-tests.js;https://jira.hyperledger.org/secure/attachment/10239/ca-tests.js","18/Nov/16 6:58 AM;vdods;ca-tests.js;https://jira.hyperledger.org/secure/attachment/10230/ca-tests.js","18/Nov/16 9:22 AM;vdods;docker-compose.yml;https://jira.hyperledger.org/secure/attachment/10236/docker-compose.yml","18/Nov/16 6:58 AM;vdods;docker-compose.yml;https://jira.hyperledger.org/secure/attachment/10228/docker-compose.yml","18/Nov/16 9:22 AM;vdods;end-to-end.js;https://jira.hyperledger.org/secure/attachment/10238/end-to-end.js","18/Nov/16 6:58 AM;vdods;end-to-end.js;https://jira.hyperledger.org/secure/attachment/10231/end-to-end.js","18/Nov/16 6:58 AM;vdods;endorser-tests.js;https://jira.hyperledger.org/secure/attachment/10232/endorser-tests.js","18/Nov/16 6:58 AM;vdods;orderer-member-tests.js;https://jira.hyperledger.org/secure/attachment/10233/orderer-member-tests.js","18/Nov/16 6:58 AM;vdods;orderer-tests.js;https://jira.hyperledger.org/secure/attachment/10234/orderer-tests.js","18/Nov/16 6:58 AM;vdods;test-env.Dockerfile;https://jira.hyperledger.org/secure/attachment/10229/test-env.Dockerfile","18/Nov/16 9:22 AM;vdods;unittestenv.Dockerfile;https://jira.hyperledger.org/secure/attachment/10237/unittestenv.Dockerfile",,,,,,,,,,,,,,,,,,"1|hzxdcf:",,,,,,Sprint 2,Sprint 3,Sprint 5 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,2.0,,,,,,,,,,,,jimthematrix,vdods,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/16 3:41 AM;vdods;Hi there -- I've posted a docker-compose.yml (and supporting test-env.Dockerfile, along with some minor changes to the fabric-sdk-node unit tests) to #fabric-sdk-node-dev on hyperledger slack.  It takes care of setting up the services for orderer, membersrvc, and vp0, as well as running the unit tests in their own service.  This may accomplish most of this ticket.  I believe jzhang and pmullaney have seen these.;;;","18/Nov/16 6:07 AM;jimthematrix;[~rennman] has uploaded his work to https://gerrit.hyperledger.org/r/#/c/2423/, assigning this to [~harrisob@us.ibm.com] to continue since Allen has to help with the COP work;;;","18/Nov/16 6:09 AM;jimthematrix;[~vdods] can you re-post your work here? it has rolled off of the channel in slack unfortunately. plus JIRA is a better bookkeeping place anyway. thanks!;;;","18/Nov/16 6:55 AM;vdods;Sure, though the previously posted files may be out of date.  I'll probably attempt to make another update anyway, since I need to get a running example of user-authenticated chaincode deployment and invocation going.;;;","18/Nov/16 6:58 AM;vdods;These files patch a version of master whose last commit was ""FAB-49 update endorser API to latest protobuf"" on Nov 2, so these exact changes may cause a conflict.

NOTE: I uploaded updated files (see next comment), so use those instead.  Keeping these here for reference.

 [^docker-compose.yml]  [^test-env.Dockerfile]  [^ca-tests.js]  [^end-to-end.js]  [^endorser-tests.js]  [^orderer-member-tests.js]  [^orderer-tests.js] ;;;","18/Nov/16 9:23 AM;vdods;Here are updated files (I haven't updated all unit test js files -- these are only an example).  [^docker-compose.yml]  [^unittestenv.Dockerfile]  [^end-to-end.js]  [^ca-tests.js] 

Note that docker-compose.yml goes in the root dir fabric-sdk-node (I couldn't figure out how to munge the working dir and the local mount dir correctly), and unittestenv.Dockerfile goes in test/fixtures.;;;","20/Nov/16 4:54 AM;vdods;I did some more work on this, not changing any JS logic, but only adding the ability to configure the peer/membersrvc/orderer addresses/ports so that the unit tests could be entirely configured and run within a docker-compose service.  Once this was done, all tests passed except 2 out 4 within end-to-end.js, and it wasn't clear how to fix these.

Would it make sense for me to submit my changes?  The commits won't change the default behavior of the unit tests (the addresses/ports take a default value).  I'm not sure what the status of the possibly conflicting work on this is.;;;","09/Dec/16 4:47 AM;vdods;If this is useful, I've created a fork of hyperledger/fabric and in the v0.6 branch, I've created this dockerized test environment for the HFC tests, which all pass.  This is at https://github.com/vdods/fabric/tree/dockerize-unit-tests (note that the branch is dockerize-unit-tests, which is based on the v0.6 branch of fabric), and I've written a doc on how to run the tests in this environment: https://github.com/vdods/fabric/blob/dockerize-unit-tests/sdk/node/dockerized-unit-tests-readme.md;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop a common specification for fabric SDK - part I,FABN-726,12704,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,15/Sep/16 11:47 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,24/Oct/16 11:59 PM,,,,,,,,,,,0,node-SDK,,,,"https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit#heading=h.6vtm50v322o7

so far there are 4 languages to have a SDK of their own:
- node.js
- Java
- python
- GO",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,1440000,1152000,,0%,1440000,1152000,,,,,,,,,,FABN-729,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8nr:",,,,Unset,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Review designs for Chain, MemberService, Member",FABN-727,13083,12704,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/Oct/16 11:52 PM,19/Jul/18 11:37 PM,28/Oct/23 3:25 AM,24/Oct/16 11:24 PM,,,,,,,,,,,0,node-SDK,,,,"per discussions with the SDK working group, will review the above classes today and resolve outstanding comments.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdcv:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create model relationship diagram in UML,FABN-728,13084,12704,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/Oct/16 11:53 PM,14/Oct/18 9:34 PM,28/Oct/23 3:25 AM,24/Oct/16 11:24 PM,,,,,,,,,,,0,node-SDK,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdd3:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop a common specification for fabric SDK - part II,FABN-729,13139,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,jimthematrix,jimthematrix,jimthematrix,24/Oct/16 11:27 PM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,06/Nov/16 11:02 PM,,,,,,,,,,,0,node-SDK,,,,"https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit#heading=h.6vtm50v322o7

so far there are 4 languages to have a SDK of their own:
- node.js
- Java
- python
- GO",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,1440000,1440000,,0%,1440000,1440000,,,,,,,,,,,,FABN-726,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8o7:",,,,Unset,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a proposal for the Crypto_Suite API,FABN-730,13089,13139,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,21/Oct/16 1:21 AM,19/Jul/18 11:38 PM,28/Oct/23 3:25 AM,05/Nov/16 4:29 AM,,,,,,,,,,,0,node-SDK,,,,"current code in fabric-sdk-node already has the start of this common API intended to allow alternative implementations to be used for cryptography (digital signature, encryption, secure hashing). but so far it's only described the portion around digital signatures. need to generalize the methods related to encryption, MAC in order to finish drafting the entire API.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxddz:",,,,,,Sprint 2,Sprint 3,Sprint 4 - nodeSDK,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BCCSP primitives implementation - encrypt/decrypt,FABN-731,13492,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,20/Nov/16 3:31 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,27/Mar/18 2:15 AM,,,,,,,Future,,,,0,node-SDK,,,,"The first phase of BCCSP implementation was done in sprint 5 with interface definition, and a default implementation for software-based key generation with ECDSA, including sign() and verify() support.

this 2nd part is to complete the rest of the interface with encrypt/decrypt and key import.

key derivation is not needed until client-side TCert generation is supported.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,480,480,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxk87:",,,,Unset,,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,4.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement pluggable hashing primitives interface,FABN-732,13442,13492,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,15/Nov/16 12:57 AM,19/Jul/18 11:50 PM,28/Oct/23 3:25 AM,14/Oct/17 2:15 AM,,,,,,,,,,,0,node-SDK,,,,"the hash module should provide a single function ""getHashFunction()"" that returns a hash function based on 1) output length (224, 256, 384, 512, etc) and 2) algorithm (SHA2, SHA3, etc) ",,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeuf:",,,,,,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 2:15 AM;ChristopherFerris;closing, please reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement encrypt/decrypt of BCCSP with ECDSA and AES,FABN-733,13470,13492,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,jimthematrix,jimthematrix,17/Nov/16 2:12 PM,30/Oct/19 12:04 AM,28/Oct/23 3:25 AM,30/Oct/19 12:04 AM,,,,,,,Future,,,,0,node-SDK,,,,"since the confidentiality support on the transaction payload itself has been removed in v1.0, even though the BCCSP implementation is expected to provide the primitives for encrypt and decrypt, it's not of immediate priority. this will be done separate from sign/verify/keygen which were first priority",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxey7:",,,,,,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,4.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement BCCSP importKey(),FABN-734,13130,13492,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,elli-androulaki,elli-androulaki,24/Oct/16 8:54 PM,19/Jul/18 11:50 PM,28/Oct/23 3:25 AM,11/May/17 2:15 AM,,,,,,,v1.0.0,,,,0,node-SDK,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,480,480,,0%,480,480,,,,,,,,,,,,,,,,,,,FAB-354,FABN-739,FAB-824,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcov:",,,,,,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,,,,,,,,,2.0,,,,,,,,,,,,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support v1.0 APIs - part IV,FABN-735,13493,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,20/Nov/16 3:33 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,31/Mar/17 2:59 AM,,,,,,,,,,,0,node-SDK,,,,"channels/sub-ledgers
- re-purpose the ""Chain"" class to represent a channel/sub-ledger (as described in the SDK design doc)
- implement the ""Chain"" life cycle: obtain uninitialized object from Client -> set endorses and orderers -> initialize

chaincode deploy

transaction submissions
- target specific Chain, or when not specified target the system ledger
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-696,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx567:",,,,Unset,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,8.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support default endorsement policies during chaincode deploy,FABN-736,13313,13493,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Nov/16 4:38 AM,19/Jul/18 11:51 PM,28/Oct/23 3:25 AM,08/Mar/17 12:37 PM,,,,,,,,,,,0,node-sdk,,,,"as the initial step, add a default policy that seeks a single signature from any of the participating members of the chain.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxe47:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/16 12:54 PM;jimthematrix;[~muralisr], [~binhn] are ESCC and VSCC support ready in the Peers? will the SDK be able to identify them during deploy?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK must set unique transaction ID,FABN-737,13556,13493,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,30/Nov/16 2:19 AM,19/Jul/18 11:51 PM,28/Oct/23 3:25 AM,20/Feb/17 11:33 AM,,,,,,,,,,,0,node-SDK,,,,"based on discussions on slack with [~muralisr] [~mastersingh24] [~pmullaney], transactions IDs are best set by the SDK in order to make the transaction processing idempotent. With this design, the client app, in browsers or native app or mobile app, holds the complete state information needed in case of backend failure that puts the system in an unknown state. The client can choose to re-submit the transaction with the existing Tx ID.

For this to work the endorser and the committer must always check if the Tx ID has already been committed to the ledger previously.

the SDK API should be designed such that there's a separate call to obtain the Tx ID, then use it in the construction of proposals and transactions. The separate API to obtain just the Tx ID is important because it allows the client tier to possess that BEFORE the transaction is submitted, which is a key part of an idempotent transaction submission design.

To generation a unique txID, the Zurich crypto team recommended hashing ""creator"" concatenated with the ""nonce"" value for the proposal.",,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf1r:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,2.0,,,,,,,,,,,,harrisob@us.ibm.com,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Nov/16 11:48 PM;harrisob@us.ibm.com;Currently we are getting the 'nonce' when building of the proposal. Should we also have a utility for the application to get the 'nonce'. Maybe the TxID could be the 'nonce', is there a need for two unique values ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add endorsement policy support in instantiate chaincode call,FABN-738,15252,13493,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,08/Mar/17 12:39 PM,19/Jul/18 11:51 PM,28/Oct/23 3:25 AM,31/Mar/17 2:59 AM,,,,,,,,,,,0,,,,,allow applications to construct custom endorsement policies using the policy primitives,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxn1r:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As an infrastructure and application developer I want to implement a nodejs software crypto provider for FAB-354,FABN-739,13128,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,elli-androulaki,elli-androulaki,24/Oct/16 8:31 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,20/Nov/16 3:32 AM,,,,,,,,,,,0,node-SDK,,,,Implement a software provider for the interface described in FAB-354 in nodejs to be used by the nodejs client.,,elli-androulaki,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,480,480,,0%,480,480,,,,,,,,,,,,,,,,,,,FAB-354,,,,,,FABN-734,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-353,,,,,,,,,"1|hzx8vr:",,,,Unset,,Sprint 5 - nodeSDK,,,,,,,,,,8.0,Unset,,,,,,,,,,,elli-androulaki,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/16 2:55 AM;elli-androulaki;Hi, How can I change the reporter of this jira item?;;;","10/Nov/16 1:02 AM;jimthematrix;I'm starting to work on this now. first step is to refactor the current implementation ported from v0.6 that supports ECDSA, AES and SHA, inside the module fabric-sdk-node/lib/impl/CryptoSuite_ECDSA_SHA.js;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove generateNounce() from crypto suite API,FABN-740,13384,13128,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,10/Nov/16 2:01 AM,19/Jul/18 11:53 PM,28/Oct/23 3:25 AM,15/Nov/16 12:53 AM,,,,,,,,,,,0,node-SDK,,,,this is not part of the BCCSP API design and is internal to the encryption algorithm,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxefb:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the Key and CryptoSuite classes for ECDSA,FABN-741,13440,13128,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,15/Nov/16 12:55 AM,18/Jan/19 11:09 PM,28/Oct/23 3:25 AM,20/Nov/16 3:27 AM,,,,,,,,,,,0,node-SDK,,,,"these are the main classes of BCCSP. refactor the code to support the new interface and rename it as ECDSA_AES. the secure hashing part will be made pluggable and done in a separate task

In this first step, only implement the CryptoSuite (corresponding to BCCSP interface) APIs related to key gen, creating and verifying signatures. encrypt/decrypt to be filled in later.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxeu7:",,,,,,Sprint 5 - nodeSDK,,,,,,,,,,4.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
create client library for communicating with COP,FABN-742,13488,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,19/Nov/16 10:40 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,05/Dec/16 2:59 PM,,,,,,,,,,,0,node-SDK,,,,"Need to create a client library for communicating with the new fabric cop APIs.  This includes:

1) enroll
2) register
3) tcert generation",,inatatsu,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8en:",,,,Unset,,Sprint 6 - nodeSDK,,,,,,,,,,4.0,Unset,,,,,,,,,,,inatatsu,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add function for generating CSR to the ECDSA key class,FABN-743,13489,13488,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,19/Nov/16 10:42 PM,19/Jul/18 11:53 PM,28/Oct/23 3:25 AM,21/Nov/16 8:50 PM,,,,,,,,,,,0,node-SDK,,,,"The new COP APIs require a PKCS#10 certificate request to be sent as part of the enroll API.
This task will add a generateCSR function to the ECDSA key class",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf13:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/16 6:55 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2631/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
implement the enroll function,FABN-744,13490,13488,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,19/Nov/16 10:58 PM,19/Jul/18 11:53 PM,28/Oct/23 3:25 AM,23/Nov/16 12:35 AM,,,,,,,,,,,0,node-SDK,,,,"enroll is the most critical function in terms of obtaining the enrollment certificate for the user so we'll do that first.

will also create the base internal functions for calling the COP HTTP endpoints as well",,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf1b:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,inatatsu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/16 7:02 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2655/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change ECert persistence format from DER to PEM,FABN-745,13554,13488,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,30/Nov/16 12:28 AM,19/Jul/18 11:53 PM,28/Oct/23 3:25 AM,01/Dec/16 3:35 AM,,,,,,,,,,,0,node-SDK,,,,per discussion with [~mastersingh24] and [~ales] it's more common to persist certificates in PEM format rather than DER. Ale has agreed to update the endorser logic that checks certificates to unmarshall as PEM instead of DER. this change is https://gerrit.hyperledger.org/r/#/c/2701/1,,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf9j:",,,,,,Sprint 6 - nodeSDK,,,,,,,,,,,,,,,,,,,,,,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/16 3:35 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/2837/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Complete MSP client implementation,FABN-746,13597,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Dec/16 2:58 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,23/Mar/17 7:05 AM,,,,,,,,,,,0,node-SDK,,,,"Identity:
- verify()
- verifyAttributes()

SigningIdentity:
- sign()
- getAttributeProof()
- renew()

Application MSP:
- getMember()
- deleteMember()
- importMember()

Server-enabled MSP:
- register()
- unregister()
- enroll()
- revoke()
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5cf:",,,,Unset,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,4.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define the MSP client interface so applications can verify Peer signatures,FABN-747,13555,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,30/Nov/16 1:08 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,06/Jan/17 4:13 AM,,,,,,,,,,,0,node-SDK,,,,"the MSP interface design is attached to https://jira.hyperledger.org/browse/FAB-829. 
Also this design document: https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit#

The client API will be a subset, so that the SDK can:
- verify signatures by Peers in the endorsement
- register and enroll users with a live MSP-based server, such as COP",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf9r:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance ecdsa key class to support public keys,FABN-748,13817,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,15/Dec/16 6:56 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,20/Dec/16 2:41 PM,,,,,,,,,,,0,,,,,"as part of supporting signature verification, we need public keys extracted from certificates to be represented by the standard api.Key interface. as such we need the lib/impl/ecdsa/key.js to be enhanced so it can be seeded with a public key object",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg1b:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Identity and MSP classes for constructing identities from certs in config,FABN-749,13830,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,16/Dec/16 5:00 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,05/Jan/17 2:25 AM,,,,,,,,,,,0,,,,,"as an initial step, implementing the Identity and MSP classes so that the SDK can construct identity objects from PEM certs in configs, which would eventually come from the Configuration/Genesis Block.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxf9z:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use the Identity class in User to manage cert and serialization,FABN-750,13862,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,20/Dec/16 2:44 PM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,05/Jan/17 2:25 AM,,,,,,,,,,,0,,,,,"the new Identity class abstracts out the management of certificates and signature verification capabilities, as well as relationship to MSP implementations. The User class needs to use the Identity class to manage serialization (to send certificates to peers along with signatures) and signature verification",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg7b:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add shakehash support to hash.js,FABN-751,13926,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,jimthematrix,jimthematrix,jimthematrix,05/Jan/17 4:54 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,05/Jan/17 12:57 PM,,,,,,,,,,,0,,,,,"The orderer selected ShakeHash 256 in the place of SHA3-512 which would be a much slower algorithm for the same security strength (256 bits).

so the SDK must sent a shake hash of 256 bits strength (length of 512 bits or 64 bytes) in the configuration request to the orderer as part of constructing a channel.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxggn:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start using SigningIdentity in SDK for signing,FABN-752,13931,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Jan/17 1:00 PM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,06/Jan/17 4:13 AM,,,,,,,,,,,0,,,,,this class abstracts out the different signing algorithms (encapsulated in BCCSP implementations). using this instead of BCCSP implementations allows for a modular design.,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxghb:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ECDSA signature malleability resistance,FABN-753,14121,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,18/Jan/17 12:39 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,19/Jan/17 1:33 PM,,,,,,,,,,,0,,,,,"details see https://gerrit.hyperledger.org/r/#/c/2983

This is a corresponding implementation of the GO code in the changeset above",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxi9r:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Have SDK load pre-provisioned private key and ecerts via standard MSP config,FABN-754,14216,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,21/Jan/17 5:49 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,20/Feb/17 12:46 AM,,,,,,,,,,,0,,,,,"the SDK needs to support loading private keys and ecerts that have been provisioned outside of the SDK. the crypto materials should be saved in a ""standard"" format for sharing and communication purposes.

since the peers have already adopted the ""MSP configuration directory"" format, which allows for the private keys and signing certificates to be saved, that seems to be a good choice for this.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-535,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxis7:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jan/17 8:22 AM;jimthematrix;step 1: https://gerrit.hyperledger.org/r/#/c/4643/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance CryptoSuite_ECDSA_AES importKey() method,FABN-755,14312,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,24/Jan/17 6:41 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,07/Feb/17 12:15 PM,,,,,,,,,,,0,,,,,"it needs to support ECDSA private key import from a PEM file and saves it in the key store as well as session (memory). this is needed because the SDK only knows how to enroll with a particular CA server, fabric-ca. For networks that are set up with other CAs, they crypto materials need to be generated by whatever tools or processes that's existing outside of SDK and fabric-ca, and the SDK must be able to load them in.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiw7:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor crypto suite related code to use a common key store class,FABN-756,14587,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,07/Feb/17 12:18 PM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,09/Feb/17 5:24 AM,,,,,,,,,,,0,,,,,the keystore used by CryptoSuite_ECDSA_AES uses <SKI>-priv and <SKI>-pub key indices to store keys. this special persistence needs to be encapsulated in a keystore class instead of relying on special handling in the calling code that uses FileKeyValueStore.getValue() and setValue(),,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxk7b:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Detect and handle key store not having the private key for the given SKI,FABN-757,14596,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,08/Feb/17 1:42 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,09/Feb/17 1:11 AM,,,,,,,,,,,0,,,,,"Now that keyImport supports public keys and private keys, there could be a scenario that for a given SKI only the public key exists, so for the calls to getKey(ski) the caller must verify that the result is a private key or public key, and in some scenarios where a private key is required, like when constructing a signing identity, it must throw an Error",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxk8n:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove unnecessary ""keysize"" parameter from ecdsa/key.js constructor",FABN-758,14637,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,09/Feb/17 5:26 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,10/Feb/17 2:08 AM,,,,,,,,,,,0,,,,,"this implementation of the key class is based on the key objects generated by jsrsasign.KEYUTIL, which contains the key size in the key object itself (ecparams.keylen). so there's no need to require the keysize from the constructor",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkev:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-design how bccsp (aka CryptoSuite) instances are created,FABN-759,14705,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,10/Feb/17 2:20 AM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,10/Feb/17 7:38 AM,,,,,,,,,,,0,,,,,"Instances of BCCSP implementations, aka CryptoSuite, must be allowed to be created within the context of a single application instance to support different configurations:
- HSM or software-managed (should only be a per-app instance setting)
- key length (can be a per-chain setting)
- digital signature algorithm (can be a per-chain setting)",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkhb:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to use different underlying KeyValueStore impls for the CryptoKeyStore class,FABN-760,14775,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,14/Feb/17 6:32 AM,27/Jul/18 7:59 PM,28/Oct/23 3:25 AM,20/Feb/17 12:45 AM,,,,,,,,,,,0,,,,,"some applications would like to share the key pairs among the instances for load-balancing or crash recovery, without having to re-enroll the user.

CryptoKeyStore is currently built on the FileKeyValueStore class, should instead by made a mixin on top of any implementations of the KeyValueStore interface",,ibmamnt,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-835,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkwf:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,ibmamnt,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Feb/17 12:13 PM;ibmamnt;In the ephemeral environment such as Cloud Foundry container or newly build app on Docker/k8s clusters, having local file system ""$HOME/.hfc-key-store"" breaks the system since those files under $HOME/.hfc-key-store can not be restored by CF or k8s system.  I wonder if this change under review will address the need to store these keys onto external system such as Cloudant or not.  I'm aware that enrollment certificates can be stored in cloudant now implemented in :

 　https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/impl/CouchDBKeyValueStore.js

Appreciate if you could comment on it. Otherwise, we need to implement our own backup / restore for the project under development.
;;;","19/Feb/17 2:50 AM;jimthematrix;[~amnt] yes that's the goal, subsequent work is needed. this is only step 1.;;;","20/Feb/17 1:08 AM;jimthematrix;[~amnt], [~dshuffma] please see the sample code in https://github.com/hyperledger/fabric-sdk-node/blob/master/test/unit/cryptosuite-ecdsa-aes.js#L197 to see how to use a remote couchdb with the cryptosuite impl. i still need to add a test with cloudant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add msp id support to the User class,FABN-761,15281,13597,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,09/Mar/17 1:30 PM,19/Jul/18 11:55 PM,28/Oct/23 3:25 AM,23/Mar/17 12:55 AM,,,,,,,,,,,0,,,,,A User class instance is tied to a signing identity which requires a local MSP. as a result conceptually a User instance is bound to a specific MSP id. so the User class should be the appropriate place to capture and persist the mspid for the local MSP.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnon:",,,,,,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the official SDK API design - Part I,FABN-762,13316,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,05/Nov/16 4:44 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,04/Jan/17 12:07 AM,,,,,,,,,,,0,node-SDK,,,,"https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit#heading=h.z6ne0og04bp5

- Client
- Chain
- Member
- Peer",,cdaughtr,ishihara.shun,jimthematrix,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8xr:",,,,Unset,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,,Unset,,,,,,,,,,,cdaughtr,ishihara.shun,jimthematrix,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/16 7:09 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/3061/ is merged.

New change coming to set peers on chain rather than passing in peers as 'targets' in request object:
sendTransactionProposal
sendDeploymentProposal
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add setEnrollment() to Member class,FABN-763,13569,13316,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,01/Dec/16 6:47 AM,19/Jul/18 11:56 PM,28/Oct/23 3:25 AM,13/Dec/16 7:22 AM,,,,,,,,,,,0,node-SDK,,,,this is required now that the member service is severed from the Chain and Member classes and becomes a standalone package. The application must be able to construct and persist a user instance from the enrollment object returned by the member service.,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfbr:",,,,,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactoring to make endorser-tests.js work again,FABN-764,13782,13316,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,13/Dec/16 7:23 AM,19/Jul/18 11:56 PM,28/Oct/23 3:25 AM,04/Jan/17 12:07 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfun:",,,,,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,2.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactoring to make orderer-tests.js work again,FABN-765,13783,13316,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,13/Dec/16 7:23 AM,19/Jul/18 11:56 PM,28/Oct/23 3:25 AM,04/Jan/17 12:07 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfuv:",,,,,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactoring to make end-to-end.js work again,FABN-766,13787,13316,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,13/Dec/16 1:35 PM,19/Jul/18 11:56 PM,28/Oct/23 3:25 AM,04/Jan/17 12:07 AM,,,,,,,,,,,0,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfvb:",,,,,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,1.0,,,,,,,,,,,,inatatsu,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/16 4:14 PM;inatatsu;Is this because the latest peer expects a SignedProposal but the SDK still sends a plain Proposal?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move peers from request.targets to Chain peers,FABN-767,13826,13316,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,cdaughtr,cdaughtr,16/Dec/16 2:40 AM,19/Jul/18 11:56 PM,28/Oct/23 3:25 AM,04/Jan/17 12:07 AM,,,,,,,,,,,0,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg2v:",,,,,,Sprint 5 - Consensus,Sprint 7 - nodeSDK,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Dec/16 2:59 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/3339/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Complete client APIs for fabric-ca,FABN-768,14998,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,23/Feb/17 5:20 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,31/Mar/17 3:00 AM,,,,,,,,,,,0,,,,,"enroll()
register()
re-enroll()
revoke()
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx56f:",,,,Unset,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement register() function,FABN-769,13573,14998,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,01/Dec/16 1:44 PM,19/Jul/18 11:57 PM,28/Oct/23 3:25 AM,25/Feb/17 4:35 AM,,,,,,,,,,,0,node-SDK,,,,,,elisafla,jimthematrix,JonathanLevi,mastersingh24,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfcf:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,2.0,,,,,,,,,,,,elisafla,jimthematrix,JonathanLevi,mastersingh24,yoheiueda,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Dec/16 9:08 PM;mastersingh24;[~jimthematrix] I assume no one is working this so I'm going to assign it to myself;;;","29/Jan/17 8:54 PM;mastersingh24;initial CR:   https://gerrit.hyperledger.org/r/#/c/4987/

todo:  add authentication;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement revoke() function,FABN-770,15038,14998,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,25/Feb/17 4:36 AM,19/Jul/18 11:57 PM,28/Oct/23 3:25 AM,27/Feb/17 1:33 PM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm07:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow fabric-ca-client to have per-instance crypto settings,FABN-771,15064,14998,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,27/Feb/17 3:01 PM,19/Jul/18 11:57 PM,28/Oct/23 3:25 AM,01/Mar/17 4:55 AM,,,,,,,,,,,0,,,,,"used to be that in order to use a non-default crypto setting for fabric-ca-client, the app has to call setConfigSetting() to set various config setting values (crypto-keysize, crypto-hash-algo, etc.). this is clunky. it really should be a per-instance parameter on the constructor call.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm3j:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove special handling of base64 encode paddings,FABN-772,15116,14998,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,01/Mar/17 4:57 AM,19/Jul/18 11:57 PM,28/Oct/23 3:25 AM,02/Mar/17 12:29 PM,,,,,,,,,,,0,,,,,"the fabric-ca used to use raw base64 encoding which never had the padding of '=' characters at the end. as a result the sdk had to have this special handling to remove them before signing.

now fabric-ca has changed to standard base64 encoder that has the padding.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmcn:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement re-enroll() function,FABN-773,15153,14998,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,02/Mar/17 12:31 PM,19/Jul/18 11:57 PM,28/Oct/23 3:25 AM,31/Mar/17 2:59 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmjb:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make client for new COP service a separate npm package,FABN-774,13415,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,11/Nov/16 3:07 AM,21/Jul/18 4:15 AM,28/Oct/23 3:25 AM,01/Dec/16 12:45 PM,,,,,,,,,,,0,node-SDK,,,,"The idea came out of the discussions among the SDK workgroup. main goal is to align the SDK design with the fact that MSP is an optional part of fabric. if a network uses external CA instead of an MSP implementation, then the client application will only need to require() the ""hfc"" package, in which case ecerts provisioning is the application's responsibility. if the application wants to use COP, then add require() for ""hfc-cop"" to enroll users and provision ecerts.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-742,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8ef:",,,,Unset,,Sprint 5 - Consensus,Sprint 6 - nodeSDK,,,,,,,,,4.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/16 6:18 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/2725/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
move COP client tests that don't require target network into headless-tests.js,FABN-775,13579,13415,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,02/Dec/16 2:03 AM,19/Jul/18 11:59 PM,28/Oct/23 3:25 AM,06/Dec/16 2:46 AM,,,,,,,,,,,0,node-SDK,,,,"this way the CI job, which still only runs headless-tests.js right now, can have some decent coverage of the COP client code",,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfdb:",,,,,,Sprint 5 - Consensus,Sprint 6 - nodeSDK,,,,,,,,,1.0,,,,,,,,,,,,cdaughtr,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/16 2:46 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/2921/1 is merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance end to end tests to work with latest fabric and SDK,FABN-776,13605,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Dec/16 7:34 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,14/Dec/16 1:47 AM,,,,,,,,,,,0,node-SDK,,,,,,jimthematrix,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx8xz:",,,,Unset,,Sprint 6 - nodeSDK,Sprint 6 - Crypto,Sprint 7 - nodeSDK,,,,,,,,2.0,Unset,,,,,,,,,,,jimthematrix,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance end-to-end.js to run individual steps,FABN-777,13598,13605,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Dec/16 3:04 PM,20/Jul/18 12:11 AM,28/Oct/23 3:25 AM,14/Dec/16 1:47 AM,,,,,,,,,,,0,node-SDK,,,,"so that chaincode deploy, transaction invocation and chaincode queries can be done individually, in addition to running all steps sequentially altogether.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx8ev:",,,,,,Sprint 6 - nodeSDK,Sprint 6 - Crypto,Sprint 7 - nodeSDK,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance marbles.js to work with latest fabric and SDK,FABN-778,13606,13605,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,05/Dec/16 7:37 PM,20/Jul/18 12:11 AM,28/Oct/23 3:25 AM,14/Dec/16 1:47 AM,,,,,,,,,,,0,node-SDK,,,,"- add the support for performing individual steps with parameter ""step1/2/3/4""
- add new docker compose file for the couchdb configuration needed for the marbles.js test
- update README with instructions to launch the network with the new docker-compose in order to execute the marbles.js test",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfhz:",,,,,,Sprint 6 - nodeSDK,Sprint 6 - Crypto,Sprint 7 - nodeSDK,,,,,,,,1.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TCert Support,FABN-779,13170,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,bmos299,bmos299,26/Oct/16 1:21 AM,24/Oct/18 5:28 PM,28/Oct/23 3:25 AM,24/Oct/18 5:28 PM,,,,,,,Future,,,,2,node-SDK,,,,"The TCert's usage with attributes is a going to become a critical aspect for controlling roles and privileges in the chaincode.  The considerations are:
1.  As attributes are dynamically changed, how can the TCerts change and not become stale.
2.  How can I delete a batch of TCerts if they are stale.
3.  How can I get a batch of TCerts with different attributes tied to the certs.  It would be nice to do one call and specifiy which certs should have what attributes, e.g.  
alice.getUserCert([""role"", ""account"", 10], [""role"", ""account"", ""company"",""acme"", 20] function (err, aliceCert) 
This would mean I want a total of 30 TCerts. 10 with one attribute and 20 with two attributes.

There is a lot of good detail at this link: https://github.com/hyperledger/fabric/blob/master/docs/tech/attributes.md",,bmos299,Hangyu_FJH,inatatsu,rmohta,silentspark,sstone1,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx74v:",,,,Unset,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,Unset,,,,,,,,,,,bmos299,Hangyu_FJH,inatatsu,rmohta,silentspark,sstone1,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/17 1:20 PM;rmohta;The link mentioned in the description ([https://github.com/hyperledger/fabric/blob/master/docs/tech/attributes.md]) is not a valid link anymore. Can you please update the link?;;;","24/Oct/18 5:28 PM;sstone1;TCerts no longer exist!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Download TCerts from fabric-ca,FABN-780,14976,13170,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,22/Feb/17 6:39 AM,20/Jul/18 12:16 AM,28/Oct/23 3:25 AM,14/Oct/17 3:34 AM,,,,,,,,,,,0,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlpr:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 3:35 AM;ChristopherFerris;closing this, reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Derive private key from TCert in SDK,FABN-781,14977,13170,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,22/Feb/17 6:39 AM,20/Jul/18 12:16 AM,28/Oct/23 3:25 AM,14/Oct/17 3:35 AM,,,,,,,,,,,0,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlpz:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 3:35 AM;ChristopherFerris;closing this, reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support attributes in TCerts request,FABN-782,14978,13170,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,22/Feb/17 6:40 AM,20/Jul/18 12:16 AM,28/Oct/23 3:25 AM,14/Oct/17 3:35 AM,,,,,,,,,,,0,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlq7:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 3:35 AM;ChristopherFerris;closing this, reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send encryption key in transient field for TCert attributes,FABN-783,14979,13170,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,22/Feb/17 6:42 AM,20/Jul/18 12:16 AM,28/Oct/23 3:25 AM,14/Oct/17 3:41 AM,,,,,,,,,,,0,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlqf:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,ChristopherFerris,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/17 3:41 AM;ChristopherFerris;closing this, reopen if still relevant;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Download TCerts from COP server and generate corresponding private key,FABN-784,13710,13170,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,ashutosh_kumar,jimthematrix,jimthematrix,08/Dec/16 7:01 AM,24/Jul/18 2:31 AM,28/Oct/23 3:25 AM,24/Jul/18 2:31 AM,,,,,,,,,,,0,,,,,"from discussing with [~ashkumar] the GO part of the TCert generation, which derives a public key from a given ecert, will be part of the COP API. then the SDK will need to derive the private key corresponding to the public key using the algo parameters passed by the COP server along with the TCerts.

This is applicable to case where TCerts are being derived from ECerts , which is the existing method of TCert generation.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-36,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxflr:",,,,,,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,4.0,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chain creation,FABN-785,12989,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,binhn,binhn,13/Oct/16 3:09 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,08/Mar/17 7:06 AM,,,,,,,,,,,0,,,,,"As a developer, I need an API to create a chain (a chain = consensus channel and ledger) with a list of peer ecerts, which are automatically part of the chain (subscribe to the channel and create ledger) so that I can provide data isolation for these peers.  For more detail https://docs.google.com/document/d/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc/edit#",,binhn,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-787,,,,,,,,,,,,,,,,,,,,,,FAB-814,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx5wv:",,,,Unset,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,Unset,,,,,,,,,,,binhn,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - Chain create - phase 1 - submit to Orderer,FABN-786,13941,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,06/Jan/17 7:41 AM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,19/Jan/17 4:05 AM,,,,,,,,,,,0,node-SDK,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx7z3:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - Chain create - phase 2 - get genesis block from Orderer,FABN-787,13998,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,11/Jan/17 2:15 AM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,19/Jan/17 4:05 AM,,,,,,,,,,,0,node-SDK,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-785,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgsn:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK - Chain create - phase 3 - submit to peers,FABN-788,14163,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,19/Jan/17 4:06 AM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,01/Mar/17 3:25 AM,,,,,,,,,,,0,node-SDK,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxihr:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parse MSP config information from chain config block and initialize chain MSPs,FABN-789,15109,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,01/Mar/17 3:26 AM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,08/Mar/17 7:06 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmb3:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a self-contained test sandbox for creating channel and end-to-end,FABN-790,15125,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,01/Mar/17 2:27 PM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,02/Mar/17 12:28 PM,,,,,,,,,,,0,,,,,"in order to have an end-to-end test suite that:
- creates a channel
- joins peers to the new channel
- install chaincode to the peers
- instantiate chaincode on the new channel
- invoke transactions
- query

there must be a coherent set of crypto materials that:
- starts the fabric-ca with the right key and cert so the ecerts it signs can be properly validated by the peers and orderers
- starts the orderer with the orderer's org msp config
- starts the peers in each organization with the org's msp config

This task is for tracking the work to create a set of coherent crypto materials (like those produced by the bdd test's ""bootstrap.feature""), and docker-compose.yaml that starts each component with the right config.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxme7:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the end-to-end test to use multi-org network setup,FABN-791,15184,12989,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,03/Mar/17 2:57 PM,20/Jul/18 12:18 AM,28/Oct/23 3:25 AM,08/Mar/17 7:05 AM,,,,,,,,,,,0,,,,,"the end-to-end test has been running against either the default ""testchainid"" or even for a newly created chain it uses a network of orderers and peers that all share the same MSP config (in fabric/msp/sampleconfig).

this tasks is to create a target network using at least two organizations in order to test more realistic user scenarios.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmpb:",,,,,,Sprint 5 - Consensus,Sprint 8 - nodeSDK,Sprint 9 - nodeSDK,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Mar/17 3:04 AM;jimthematrix;initial changeset for a new end to end test that does the following against the two-org network set up using fabric-sdk-node/test/fixtures/channel/docker-compose.yaml:
- create channel
- join channel (sent separately to peers in each org, using the corresponding user identity for that org)
- install chaincode (sent separately to peers in each org, using the corresponding user identity for that org)
- instantiate chaincode

https://gerrit.hyperledger.org/r/#/c/6777/;;;","06/Mar/17 3:58 AM;jimthematrix;https://gerrit.hyperledger.org/r/#/c/6869/
https://gerrit.hyperledger.org/r/#/c/6881/
https://gerrit.hyperledger.org/r/#/c/6885/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK TLS support,FABN-792,15253,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,08/Mar/17 12:57 PM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,25/Mar/17 4:28 AM,,,,,,,,,,,0,,,,,"1. one-way TLS support (accepting server certs based on pre-configured ca roots)
2. TLS mutual auth",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5br:",,,,Unset,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,Unset,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK needs to test and document how to connect to fabric-ca over TLS,FABN-793,13962,15253,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mastersingh24,smithbk,smithbk,09/Jan/17 10:37 AM,20/Jul/18 12:20 AM,28/Oct/23 3:25 AM,15/Mar/17 11:19 PM,,,,,,,v1.0.0,v1.0.0-alpha1,,,0,,,,,COP now listens on TLS by default.  The node and java SDKs need to change automated tests and make any documentation changes to tell users how to configure TLS to the COP server.,,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-306,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5xz:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Mar/17 2:06 AM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/7207/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add TLS support to peer for requests and events,FABN-794,15290,15253,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,10/Mar/17 12:58 PM,20/Jul/18 12:20 AM,28/Oct/23 3:25 AM,23/Mar/17 7:07 AM,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnqf:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update e2e test to talk with fabric-ca over TLS,FABN-795,15429,15253,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,cdaughtr,jimthematrix,jimthematrix,23/Mar/17 7:09 AM,20/Jul/18 12:20 AM,28/Oct/23 3:25 AM,24/Mar/17 10:49 PM,,,,,,,,,,,0,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxoef:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Mar/17 8:25 AM;cdaughtr;https://gerrit.hyperledger.org/r/#/c/7371/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK to perform proposal response validations,FABN-796,14337,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,25/Jan/17 2:34 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,23/Mar/17 7:10 AM,,,,,,,,,,,0,,,,,"the responsibility of validating proposal responses falls under the application, so SDK should provide facilities to make it easy to do the following basic checks:
- are the certificate in the endorsor field valid (signed by trusted CAs)
- are the signatures in the endorsements valid (matches the payload hash)
- are the writesets in all the responses consistent",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5c7:",,,,Unset,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,4.0,Unset,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement verification logic with per-chain MSP,FABN-797,14199,14337,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,20/Jan/17 6:35 AM,20/Jul/18 12:20 AM,28/Oct/23 3:25 AM,23/Mar/17 7:10 AM,,,,,,,,,,,0,,,,,"in order for the application to verify signatures included in the endorsement responses, a per-chain crypto materials (list of trusted CA certs) must be in place first for the chain from which the endorsements were received.

Per-chain MSPs is the mechanism to encapsulate these crypto materials, plus the logic to validate the certs before using them to verify signatures.",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiof:",,,,,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,Sprint 12 - SDK node,Sprint 13 - SDK node,Sprint 14 - SDK node,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK alpha release activities,FABN-798,14397,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,28/Jan/17 1:54 AM,21/Jul/18 4:16 AM,28/Oct/23 3:25 AM,07/Feb/17 1:07 AM,,,,,,,,,,,0,,,,,"to release the Alpha, we need these following steps:

- finish the refactoring to rename the two packages from hfc, hfc-cop to fabric-client and fabric-ca-client
- create a branch in the git repo for alpha
- publish the alpha version to npm
- create CI jobs that tests the alpha branch",,jimthematrix,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx727:",,,,Unset,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,,,,,,,,,,Unset,,,,,,,,,,,jimthematrix,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code refactoring to rename the packages to fabric-client and fabric-ca-client,FABN-799,14398,14397,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,jimthematrix,jimthematrix,28/Jan/17 1:55 AM,20/Jul/18 12:21 AM,28/Oct/23 3:25 AM,29/Jan/17 11:49 AM,,,,,,,,,,,0,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjbj:",,,,,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken test cases,FABN-800,14452,14397,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,31/Jan/17 1:34 PM,20/Jul/18 12:21 AM,28/Oct/23 3:25 AM,07/Feb/17 1:06 AM,,,,,,,,,,,0,,,,,"when running cloudant-fabriccop-tests.js I got an error below:

not ok 4 TypeError: Cannot read property 'isEnrolled' of undefined at /Users/jimzhang/workspace/fabric-sdk-node/test/unit/cloudant-fabriccop-tests.js:111:15 at process._tickCallback (node.js:369:9)

when running couchdb-fabriccop-tests.js I got an error:

error: [Client.js]: Failed to load user ""admin2"" from local key value store. Error: TypeError: Cannot read property 'certificate' of undefined
    at fromString (/Users/jimzhang/workspace/fabric-sdk-node/node_modules/fabric-client/lib/User.js:213:67)
    at /Users/jimzhang/workspace/fabric-sdk-node/node_modules/fabric-client/lib/Client.js:297:22
    at process._tickCallback (node.js:369:9)
",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjkv:",,,,,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish to npm,FABN-801,14569,14397,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,jimthematrix,jimthematrix,jimthematrix,07/Feb/17 1:06 AM,20/Jul/18 12:21 AM,28/Oct/23 3:25 AM,07/Feb/17 1:07 AM,,,,,,,,,,,0,,,,,"fabric-client
fabric-ca-client",,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxk3z:",,,,,,Sprint 10 - nodeSDK,Sprint 11 - SDK node,,,,,,,,,,,,,,,,,,,,,jimthematrix,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add new queries for Blockchain App,FABN-802,14946,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,cdaughtr,cdaughtr,21/Feb/17 3:44 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,08/Mar/17 12:59 PM,,,,,,,,,,,0,node-SDK,,,,"We need to add queries to the query system chaincode to:
1. list the installed chaincodes on a peer
2. list the instantiated chaincodes on a channel
3. list all the channels for a given peer",,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5x3:",,,,Unset,,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,,Unset,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add query to get the installed chaincodes on a peer,FABN-803,14947,14946,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,cdaughtr,cdaughtr,21/Feb/17 3:47 AM,20/Jul/18 12:24 AM,28/Oct/23 3:25 AM,27/Feb/17 11:52 PM,,,,,,,,,,,0,node-SDK,,,,"This query should return the names of all the chaincodes installed on a peer and include all of the information (aka arguments passed to ""peer chaincode instantiate"") necessary to then instantiate that chaincode.",,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2235,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlkv:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,1.0,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add query to get the instantiated chaincodes on a channel,FABN-804,14949,14946,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,cdaughtr,cdaughtr,21/Feb/17 3:49 AM,20/Jul/18 12:24 AM,28/Oct/23 3:25 AM,27/Feb/17 11:50 PM,,,,,,,,,,,0,node-SDK,,,,The fabric change set:  https://gerrit.hyperledger.org/r/#/c/6289,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxll3:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,1.0,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add query to get all the channels for a given peer,FABN-805,14950,14946,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,cdaughtr,cdaughtr,cdaughtr,21/Feb/17 3:51 AM,20/Jul/18 12:24 AM,28/Oct/23 3:25 AM,27/Feb/17 11:51 PM,,,,,,,,,,,0,node-SDK,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2237,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxllb:",,,,,,Sprint 12 - SDK node,Sprint 13 - SDK node,,,,,,,,,1.0,,,,,,,,,,,,cdaughtr,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
queryBlock data is not fully decoded in fabric-client,FABN-806,15122,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,dshuffma,dshuffma,01/Mar/17 10:41 AM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,23/Apr/17 10:42 PM,v1.0.0,,,,,,v1.0.0,,,,0,node-SDK,,,,"The block data returned by queryBlock is not fully ""decoded"" due to the nature of how the protobuff was written. 

The code in `Chain.js`:
```
var block = _commonProto.Block.decode(response.response.payload);
```

Will return data like:

```js
{
    header:{
       number: <integer>,
       previous_hash: <array of bytes>,
       data_hash: <array of bytes>
    }
   data:{
         data: <array of bytes>
    }
   metadata:{
      metadata: <array of bytes>
   }
}
```

The *data.data field* has the data I'm mainly after. I would like this data field to be completely decoded, instead of any array of bytes!

This behavior can be easily explained if you look at `protos/common/common.proto` that was used.  The hierarchy of the structs stops... it goes `Block` -> `BlockData` and then stops, so that's all the gets ""decoded"".

*Solutions I've tried:*
I've tried manually re-decoding the remaining parts iteratively, but that doesn't seem to work since the decoded array of bytes have been modified to some degree. I'm not sure how but they aren't of the type `Uint8Array` anymore, and decoding further seems to fail.

I've built my own protobuff with a complete (well sort of complete) hierarchy . This works, but i'm not sure if the solution is optimal, since future protobuffs change will require a re-do. If you are interested I have a working fork, and this is the only change here: https://github.com/dshuffma-ibm/fabric-sdk-node/commit/457c05e8732ef7d65228a023f643ac8b68bf0355 . Even with this change, I still have some gnarly parsing to do to get to the tx payload arguments. I couldn't follow the protobuffs beyond the block/blockdata/envelope/payload/data.",,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx37j:",,,,Unset,,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,Sprint 16 - SDK node,,,,,,,,Unset,,,,,,,,,,,dshuffma,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/17 10:41 PM;jimthematrix;[~dshuffma] https://gerrit.hyperledger.org/r/7617 added block decoding. the only portion that remained to be handled is read/write set (FAB-3129). please let us know if the decoded parts work for you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance Block.js to support decoded read/write set,FABN-807,15716,15122,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,13/Apr/17 5:35 AM,20/Jul/18 12:27 AM,28/Oct/23 3:25 AM,04/May/17 6:04 AM,,,,,,,v1.0.0,,,,0,,,,,Recently the fabric has updated the read/write set serialization to use protobuf. so it's possible to decode that from the client side.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx37r:",,,,,,Sprint 13 - SDK node,Sprint 14 - SDK node,Sprint 15 - SDK node,Sprint 16 - SDK node,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Common ""connection profile"" definition for client applications",FABN-808,19331,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,jimthematrix,jimthematrix,19/Jul/17 12:41 AM,19/Nov/20 7:57 AM,28/Oct/23 3:25 AM,11/Jan/18 8:38 AM,,,,,,,v1.1.0,,,,1,Release-planning-1.1,review-needed,sdk,,"All applications have a need to capture information of the target fabric backend and associated materials (eg. MSP and TLS certificates).

The general idea is that a client/channel instance can be initialized directly from the connection profile, and have a code snippet like the following:
 # var client = Client.loadFromConfig(json)
 # var mychannel = client.getChannel('mychannel')
 # mychannel.sendTransactionProposal()
 # mychannel.sendTransaction()

note that the app then doesn't need to manually construct the channel, add peers, add orderers, get the org admin, etc.
h2. *The latest design resulted from the discussions*
{code:java}
---
#
# The network connection profile provides client applications the information about the target
# blockchain network that are necessary for the applications to interact with it. These are all 
# knowledge that must be acquired from out-of-band sources. This file provides such a source.
#
name: ""global-trade-network""

#
# Any properties with an ""x-"" prefix will be treated as application-specific, exactly like how naming
# in HTTP headers or swagger properties work. The SDK will simply ignore these fields and leave
# them for the applications to process. This is a mechanism for different components of an application
# to exchange information that are not part of the standard schema described below. In particular,
# the ""x-type"" property with the ""hlfv1"" value example below is used by Hyperledger Composer to
# determine the type of Fabric networks (v0.6 vs. v1.0) it needs to work with.
#
x-type: ""hlfv1""
x-loggingLevel: info

#
# Describe what the target network is/does.
#
description: ""The network to be in if you want to stay in the global trade business""

#
# Schema version of the content. Used by the SDK to apply the corresponding parsing rules.
#
version: 1.0.0

#
# The client section is SDK-specific. The sample below is for the node.js SDK
#
client:
  # Which organization does this application instance belong to? The value must be the name of an org
  # defined under ""organizations""
  organization: Org1

  # set connection timeouts for the peer and orderer for the client
  connection:
    timeout:
     peer:
      endorser: 3s
      eventHub: 3s
      eventReg: 3s
     orderer: 3s

  # Needed to load users crypto keys and certs.
  cryptoconfig:
    path: path/to/fixtures/channel/crypto-config

  # Some SDKs support pluggable KV stores, the properties under ""credentialStore"" 
  # are implementation specific
  credentialStore:
    # [Optional]. Specific to FileKeyValueStore.js or similar implementations in other SDKs. Can be others
    # if using an alternative impl. For instance, CouchDBKeyValueStore.js would require an object
    # here for properties like url, db name, etc.
    path: ""/tmp/hfc-kvs""

    # [Optional]. Specific to the CryptoSuite implementation. Software-based implementations like 
    # CryptoSuite_ECDSA_AES.js in node SDK requires a key store. PKCS#11 based implementations does 
    # not.
    cryptoStore:
      # Specific to the underlying KeyValueStore that backs the crypto key store. 
      path: ""/tmp/hfc-cvs""

    # [Optional]. Specific to Composer environment
    wallet: wallet-name

  # BCCSP config for the client.
  BCCSP:
   security:
    enabled: true
    default:
     provider: ""SW""
    hashAlgorithm: ""SHA2""
    softVerify: true
    ephemeral: false
    level: 256
    pin: ""12345678""
    label: ""ForFabric""
    library: /path/to/bccsp/libraries

#
# [Optional]. But most apps would have this section so that channel objects can be constructed 
# based on the content below. If an app is creating channels, then it likely will not need this 
# section.
#
channels:
  # name of the channel
  mychannel:
    # Required. list of orderers designated by the application to use for transactions on this 
    # channel. This list can be a result of access control (""org1"" can only access ""ordererA""), or 
    # operational decisions to share loads from applications among the orderers.  The values must 
    # be ""names"" of orgs defined under ""organizations/peers""
    orderers:
      - orderer.example.com

    # Required. list of peers from participating orgs
    peers:
      peer0.org1.example.com:
        # [Optional]. will this peer be sent transaction proposals for endorsement? The peer must 
        # have the chaincode installed. The app can also use this property to decide which peers 
        # to send the chaincode install request. Default: true
        endorsingPeer: true

        # [Optional]. will this peer be sent query proposals? The peer must have the chaincode
        # installed. The app can also use this property to decide which peers to send the 
        # chaincode install request. Default: true
        chaincodeQuery: true

        # [Optional]. will this peer be sent query proposals that do not require chaincodes, like 
        # queryBlock(), queryTransaction(), etc. Default: true
        ledgerQuery: true

        # [Optional]. will this peer be the target of the SDK's listener registration? All peers can 
        # produce events but the app typically only needs to connect to one to listen to events. 
        # Default: true
        eventSource: true

      peer0.org2.example.com:
        endorsingPeer: true
        chaincodeQuery: false
        ledgerQuery: true
        eventSource: false

    # [Optional]. what chaincodes are expected to exist on this channel? The application can use
    # this information to validate that the target peers are in the expected state by comparing
    # this list with the query results of getInstalledChaincodes() and getInstantiatedChaincodes()
    chaincodes:
      # the format follows the ""cannonical name"" of chaincodes by fabric code
      - example02:v1
      - marbles:1.0

#
# list of participating organizations in this network
#
organizations:
  Org1:
    mspid: Org1MSP

    peers:
      - peer0.org1.example.com
      - peer1.org1.example.com

    # [Optional]. Certificate Authorities issue certificates for identification purposes in a Fabric based
    # network. Typically certificates provisioning is done in a separate process outside of the 
    # runtime network. Fabric-CA is a special certificate authority that provides a REST APIs for 
    # dynamic certificate management (enroll, revoke, re-enroll). The following section is only for 
    # Fabric-CA servers.
    certificateAuthorities:
      - ca-org1

    # [Optional]. If the application is going to make requests that are reserved to organization 
    # administrators, including creating/updating channels, installing/instantiating chaincodes, it 
    # must have access to the admin identity represented by the private key and signing certificate. 
    # Both properties can be the PEM string or local path to the PEM file. Note that this is mainly for
    # convenience in development mode, production systems should not expose sensitive information
    # this way. The SDK should allow applications to set the org admin identity via APIs, and only use
    # this route as an alternative when it exists.
    adminPrivateKey: 
      pem: ""-----BEGIN PRIVATE KEY----- <etc>""
    signedCert:
      path: ""/tmp/somepath/signed-cert.pem""

  # the profile will contain public information about organizations other than the one it belongs to. 
  # These are necessary information to make transaction lifecycles work, including MSP IDs and 
  # peers with a public URL to send transaction proposals. The file will not contain private 
  # information reserved for members of the organization, such as admin key and certificate, 
  # fabric-ca registrar enroll ID and secret, etc.
  Org2:
    mspid: Org2MSP
    peers:
      - peer0.org2.example.com

#
# List of orderers to send transaction and channel create/update requests to. For the time
# being only one orderer is needed. If more than one is defined, which one get used by the
# SDK is implementation specific. Consult each SDK's documentation for its handling of orderers.
#
orderers:
  orderer.example.com:
    url: grpcs://localhost:7050

    # these are standard properties defined by the gRPC library
    # they will be passed in as-is to gRPC client constructor
    grpcOptions:
      ssl-target-name-override: orderer.example.com
      grpc-max-send-message-length: 15

    tlsCACerts:
      pem: ""-----BEGIN CERTIFICATE----- <etc> ""

#
# List of peers to send various requests to, including endorsement, query
# and event listener registration.
#
peers:
  peer0.org1.example.com:
    # this URL is used to send endorsement and query requests
    url: grpcs://localhost:7051

    # this URL is used to connect the EventHub and registering event listeners
    eventUrl: grpcs://localhost:7053

    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.http2.keepalive_time: 15

    tlsCACerts:
      # Comma-Separated list of paths
      path: peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem

  peer0.org2.example.com:
    url: grpcs://localhost:8051
    eventUrl: grpcs://localhost:8053
    grpcOptions:
      ssl-target-name-override: peer0.org2.example.com
    tlsCACerts:
      # Comma-Separated list of paths
      path: peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem

#
# Fabric-CA is a special kind of Certificate Authority provided by Hyperledger Fabric which allows 
# certificate management to be done via REST APIs. Application may choose to use a standard 
# Certificate Authority instead of Fabric-CA, in which case this section would not be specified.
#
certificateAuthorities:
  ca-org1:
    url: https://localhost:7054
    # the properties specified under this object are passed to the 'http' client verbatim when
    # making the request to the Fabric-CA server
    httpOptions:
      verify: true
    tlsCACerts:
      # Comma-Separated list of paths
      path: peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem
      # Client key and cert for TLS mutual auth with Fabric CA. If the target Fabric CA server
      # does not have TLS mutual auth turned on, then this section is not needed
      client:
        keyfile: path/to/tls/fabricca/certs/client/client_fabric_client-key.pem
        certfile: path/to/tls/fabricca/certs/client/client_fabric_client.pem


    # Fabric-CA supports dynamic user enrollment via REST APIs. A ""root"" user, a.k.a registrar, is 
    # needed to enroll and invoke new users.
    registrar:
       enrollId: admin
       enrollSecret: adminpw
    # [Optional] The optional name of the CA.
    caName: caNameHere
{code}
-FAB-3621-

 ",,aatkddny,aleksandar.likic,antoniovassell,Baha-sk,baohua,chrispoole,ChristopherFerris,davidkel,denyeart,dshuffma,elisafla,e-nikolov,harrisob@us.ibm.com,ianj_mitchell@uk.ibm.com,inatatsu,MartinC,odowdaibm,paul.sitoh,qiang0723,rickr,siddjain,sstone1,TiantianGao,troyronda,yoheiueda,,,,,,,,,,FAB-5556,,,FAB-6438,FAB-6753,,,,,,,,,FABN-636,,,FABJ-270,,,,,,FAB-6533,FABN-76,FABN-1669,,,"09/Aug/17 5:33 AM;dshuffma;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/11843/screenshot-1.png",,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy8tr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,aatkddny,aleksandar.likic,antoniovassell,Baha-sk,baohua,chrispoole,ChristopherFerris,davidkel,denyeart,dshuffma,elisafla,e-nikolov,harrisob@us.ibm.com,ianj_mitchell@uk.ibm.com,inatatsu,MartinC,odowdaibm,paul.sitoh,qiang0723,rickr,siddjain,sstone1,TiantianGao,troyronda,yoheiueda,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dev,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,master,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jul/17 12:45 AM;jimthematrix;[~rickr], [~baohua], [~grapebaba], [~troyronda] can you guys please comment on this proposal for your respective SDK?;;;","19/Jul/17 2:32 AM;jimthematrix;One area that warrants specific discussions is how to handle user identities, specifically the crypto materials. There are several questions:

# at what level of abstraction should we design this. 1) assuming the current MSP implementation based on PKI, namely using certificates to represent identities, or 2) assuming there will be other MSP implementations. Note that MSP is an abstract interface that can be implemented with other crypto technologies than certificates, although at the moment and in the foreseeable future there will not be an alternative implementation available.
# I like the concept of a ""user store"" or ""wallet"", which is keyed with some combination of the org name and the user name. the value is the materials necessary to build the user object (signing certificate, private signing key or reference of it, etc.) and can be SDK dependent. I think the Composer connection profile's ""keyValueStore"" setting is likely a better abstraction than balance-transfer's explicit [username] <-> [signcert, key] object. This way the application does not need to know any identities at bootstrap time. An added benefit is this will work with different MSP implementations (those that don't use certificates) in the future.;;;","19/Jul/17 5:24 AM;sstone1;[~jimthematrix] thanks for raising this!

From a Composer point of view, we need three fields. They are:
{code:java}
""name"": ""hlfabric"",
""description"": ""Hyperledger Fabric v1.0"",
""type"": ""hlfv1""
{code}
""name"" is a unique name for the connection profile

""description"" is self explanatory

""type"" indicates what Blockchain platform this for; e.g. for Fabric v0.6 we had ""hlf"" (should have been ""hlfv06"" and for Fabric v1.0 we had ""hlfv1"").

We have a Composer ""connector"" for each Blockchain platform, which is a plugin - a JavaScript module - for Composer that implements the actual interactions with the Blockchain and the deployed Composer smart contract. The ""type"" property in the connection profile selects which connector module to use.;;;","19/Jul/17 5:49 AM;dshuffma;updating marbles section for RC1.;;;","19/Jul/17 7:07 AM;davidkel;I would also like to think about how we want to support the different configurations required for different roles, ie
 * The connection profile for an organisations chaincode installer
 * The connection profile for the chaincode instantiator
 * The connection profile for the transactor

Do we want multiple definitions or some way to contain all this information in a single profile ?

Creating connection profiles by hand are not so easy. There is a lot of information required to be entered and it's easy to make a mistake and you need knowledge of the fabric topology as well as configuration information such as tls ca certs so the client can trust the servers to hand. I wonder if there could be some way to determine the fabric topology taking into account endorsement policies for example to auto-generate these profiles ?

I did see somewhere that although not a recommended thing to do, organisations could use more than one msp definition and that could also mean more connection profiles to accommodate and wondered if we should have a definition that is flexible enough for this scenario ?  (May not be common enough to warrant extra work or complexity of the solution though);;;","21/Jul/17 1:19 AM;harrisob@us.ibm.com;[~jimthematrix] [~davidkel] [~dshuffma] [~varadatibm]
How about the following for a common config, other fields can be
{code}
{
	""name"": ""hlfabric"",
	""description"": ""Hyperledger Fabric v1.0"",
	""type"": ""hlfv1"",
	""keyvalue-store"" : {
		""path"" : ""/tmp/hfc-kvs""
	},
	""crypto-store"" : {
		""path"" : ""/tmp/hfc-cvs""
	},
	""channels"" : [
		{
			""name"" : ""mychannel"",
			""orgs"" : [ ""peerOrg1"" , ""peerOrg2"" ],
			""orderers"" : [ ""orderer.example.com"" ]
		}
	],
	""organizations"" : [
		{
			""name"" : ""peerOrg1"",
			""mspid"" : ""Org1MSP"",
			""peers"" : [ ""peer0.org1.example.com"" ],
			""cas"": [ ""ca-org1"" ],
			""admin"": {
				""key"": {
					""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/keystore""
				},
				""cert"": {
					""raw"" : ""---begin cert--- with the 'raw' tag the actual cert will be here not in a file  ----end cert----""
				}
			}
		},
		{
			""name"" : ""peerOrg2"",
			""mspid"" : ""Org2MSP"",
			""peers"" : [ ""peer0.org2.example.com"" ],
			""cas"": [ ""ca-org2"" ],
			""admin"": {
				""key"": {
					""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/keystore""
				},
				""cert"": {
					""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/users/Admin@org2.example.com/signcerts""
				}
			}
		}
	],
	""orderers"": [
		{
			""name"" : ""orderer.example.com"",
			""url"" : ""grpcs://localhost:7050"",
			""connect-options"" : {
				""ssl-target-name-override"" : ""orderer.example.com""
			},
			""tls_cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tlscacerts/example.com-cert.pem""
			}]
		}
	],
	""peers"" : [
		{
			""name"" : ""peer0.org1.example.com"",
			""url"" : ""grpcs://localhost:7051"",
			""event-url"" : ""grpcs://localhost:7053"",
			""connect-options"" : {
				""ssl-target-name-override"" : ""peer0.org1.example.com""
			},
			""tls_cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem""
			}]
		},
		{
			""name"" : ""peer0.org2.example.com"",
			""url"" : ""grpcs://localhost:8051"",
			""event-url"" : ""grpcs://localhost:8053"",
			""connect-options"" : {
				""ssl-target-name-override"" : ""peer0.org2.example.com""
			},
			""tls_cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem""
			}]
		}
	],
	""certificate-authorities"" : [
		{
			""name"" : ""ca-org1"",
			""url"" : ""https://localhost:7054"",
			""connect-options"" : {
				""verify"" : true
			},
			""tls_cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem""
			}]
		},
		{
			""name"" : ""ca-org2"",
			""url"" : ""https://localhost:8054"",
			""connect-options"" : {
				""verify"" : true
			},
			""tls_cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/ca/org2.example.com-cert.pem""
			}]
		}
	]
}

{code};;;","21/Jul/17 10:51 AM;baohua;Thanks for raising this topic, i believe it will be useful for the sdk.

Here are some thoughts:

a. We may need to split the profile at top level into several folds including:
 # fabric-network part (e.g., the peer, order connection, topology...)
 # local part (e.g., the crypto/keyvalue-stores...)
 # metadata part (e.g., name, version...)

b. Whether we need to support multiple profile inside a single file? Or we restrict each file can only support one profile?

 

Thanks!;;;","21/Jul/17 11:11 PM;dshuffma;For the bluemix service I can only provide a single JSON. Having fields that relate to a file path won't work for them.  An easy fix to Bret's example would be that that we could provide the path OR the actual cert. like:

people that want to use a path use:
{code}
""key"": {
	""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/users/Admin@org1.example.com/keystore""
}
{code}

people that can't use:
{code}
""key"": {
		""pem"" : ""---begin cert--- etc...........""
}
{code}

also Brett's example does not include *chaincode* data.  some might argue that this is not a network _connection_ field, but since its been instantiated on a particular channel and is running with a specific peer, I feel it is relevant networking data. actually this brings up something else... should _channels_ be nested inside _peers_.  and then we can add a _chaincode_ field inside _channels_.  may have redundant data, but the hierarchy at least shows what is actually going on.

ugh though you may not have joined your peers to a channel yet, so where would that go... ;;;","25/Jul/17 4:12 AM;davidkel;Looking at the proposal I was trying to see how I might perform the various tasks w.r.t Peer selection
 * Chaincode install: I would want to install only on Endorsing Peers in my organisation, but I don't know from the above which peers are endorsing peers.
 * Chaincode instantiate: If I used this topology profile, Currently composer would send it to all peers
 * Chaincode invoke/query: If I used this topology profile, Currently composer would send it to all peers, but for invoke we would only want to send to endorsing peers.
 * Chaincode query: Composer would send to all peers, but for a query it would seem that you would trust your own peers more than another organisations so maybe only send the query to a single peer in your organisation

I think we need to update the above to declare which Peers are endorsing peers for invoke (if not specified then default to true ?) and I guess some sort of sensible selection of which peer to make a query request to.

Composer connection profiles only need a single channel definition, if the topology profile contains multiple channels then that would be an issue. Do we need to have multiple channel definitions in the document or could it be on a per channel configuration ? If multiple channel definitions are required, then we would really need to download a topology for a single channel and from a client point of view I only see a need for topology of a specific channel.
{code:java}
tls_cacerts{code}
isn't consistent with the other property names, so I think it should be changed to
{code:java}
tls-cacerts{code}
The following definition isn't relevant to fabric topology
{code:java}
     ""keyvalue-store"" : {
         ""path"" : ""/tmp/hfc-kvs""
     },
     ""crypto-store"" : {
         ""path"" : ""/tmp/hfc-cvs""
     },{code}
and is more specific to the client, so node-sdk examples could support the above whereas Composer would want to support an entry that could encapsulate both. So can I propose these examples as suggestions and leave it up to clients to decide
{code:java}
    ""credential-store"" : {
         ""path"" : ""/path/to/some/dir""
    }

    ""credential-store"" : {
         ""keyvalue-path"" : ""/path/to/some/dir"",
         ""crypto-path"": ""/path/to/some/dir""
    }  

    ""credential-store"" : {
         ""wallet"" : ""wallet-name""
    }{code}
 The wallet being something that describes a concept that can be interpreted by the client side such as a Composer client. We would use this to do non file based storing of crypto material eg object storage or database.

As mentioned above, certificates should be embeddable into the connection definition to make them portable. I liked the idea of storing the PEM as base64 encoded rather than as JSON string of ""-----Begin Certificate-----\r\n...."" as the \r\n has caused confusion.
 There is other client connection information we would want to specify, such as timeout, grpc message size limits (send/recv) but again these aren't part of the fabric topology but client side and users would need to add them to the profile by hand but would be good to use common definitions again (I don't see this as individual options on peers and orderers as they would apply to all of them in reality)
{code:java}
""timeout"": 300,
""max-send-size"": 10,
""max-recv-size"": 15,
""organisation"" : ""peerOrg1""{code}
 From a client point of view they need to declare which organisation they are part of, so for example they won't want to register for events from peers in a different organisation (they won't have credentials to do so) also when enrolling a user or importing crypto material they need to specify the associated msp id.;;;","27/Jul/17 5:14 AM;harrisob@us.ibm.com;The latest sample config
{code}
{
	""name"": ""hlfabric"",
	""description"": ""Hyperledger Fabric v1.0"",
	""version"": ""hlfv1"",
	""client"" : {
		""org"" : ""Org1"",
		""credential-store"" : {
			""path"" : ""/tmp/hfc-kvs"",
			""crypto-store"" : {
				""path"" : ""/tmp/hfc-cvs""
			},
			""wallet"" : ""wallet-name""
		}
	},
	""channels"" : [
		{
			""name"" : ""mychannel"",
			""orgs"" : [ ""Org1"" , ""Org2"" ],
			""orderers"" : [ ""orderer.example.com"" ]
		}
	],
	""organizations"" : [
		{
			""name"" : ""Org1"",
			""mspid"" : ""Org1MSP"",
			""peers"" : [ ""peer0.org1.example.com"" ],
			""cas"": [ ""ca-org1"" ]
		},
		{
			""name"" : ""Org2"",
			""mspid"" : ""Org2MSP"",
			""peers"" : [ ""peer0.org2.example.com"" ],
			""cas"": [ ""ca-org2"" ]
		}
	],
	""orderers"": [
		{
			""name"" : ""orderer.example.com"",
			""url"" : ""grpcs://localhost:7050"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""orderer.example.com""
			},
			""tls-cacerts"" : [{
				""pem"" : ""-----BEGIN CERTIFICATE-----\nMIICNDCCAdqgAwIBAgIRAIBOtq8vZiC0+uLSi2MIS4swCgYIKoZIzj0EAwIwZjEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xFDASBgNVBAoTC2V4YW1wbGUuY29tMRQwEgYDVQQDEwtleGFtcGxl\nLmNvbTAeFw0xNzA0MjIxMjAyNTZaFw0yNzA0MjAxMjAyNTZaMGYxCzAJBgNVBAYT\nAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2Nv\nMRQwEgYDVQQKEwtleGFtcGxlLmNvbTEUMBIGA1UEAxMLZXhhbXBsZS5jb20wWTAT\nBgcqhkjOPQIBBggqhkjOPQMBBwNCAARD2rvgyAmhn8hpu82kAjX3QUg2iqCUPEe1\nQ5CzD5MVv/dK5wrRgkcoMhJLe4HPxYbjV3rodm5Pwi5m3zMGkqNQo2kwZzAOBgNV\nHQ8BAf8EBAMCAaYwGQYDVR0lBBIwEAYEVR0lAAYIKwYBBQUHAwEwDwYDVR0TAQH/\nBAUwAwEB/zApBgNVHQ4EIgQg6q3lkIfG2X/PNQ6U83rZ8saSu2bxghSM5YlA3nCt\n6c4wCgYIKoZIzj0EAwIDSAAwRQIhAL5Lgy7jZ2W74L6i0B23a3JD0W8TSYlTcqXb\nRMSXlLIoAiB2glBl0wM/ITn5+tnHOnq2wrIGuYIiNbLK5oq2zf+gtA==\n-----END CERTIFICATE-----""
			}]
		}
	],
	""peers"" : [
		{
			""name"" : ""peer0.org1.example.com"",
			""url"" : ""grpcs://localhost:7051"",
			""event-url"" : ""grpcs://localhost:7053"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""peer0.org1.example.com""
			},
			""tls-cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem""
			}],
			""endorsing-peer""   : true,
			""chaincode-query"" : true,
			""ledger-query""    : true,
			""event-source""    : true
		},
		{
			""name"" : ""peer0.org2.example.com"",
			""url"" : ""grpcs://localhost:8051"",
			""event-url"" : ""grpcs://localhost:8053"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""peer0.org2.example.com""
			},
			""tls-cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem""
			}],
			""endorsing-peer""   : true,
			""chaincode-query"" : false,
			""ledger-query""    : true,
			""event-source""    : false
		}
	],
	""certificate-authorities"" : [
		{
			""name"" : ""ca-org1"",
			""url"" : ""https://localhost:7054"",
			""connection-options"" : {
				""verify"" : true
			},
			""tls-cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem""
			}]
		},
		{
			""name"" : ""ca-org2"",
			""url"" : ""https://localhost:8054"",
			""connection-options"" : {
				""verify"" : true
			},
			""tls-cacerts"" : [{
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/ca/org2.example.com-cert.pem""
			}]
		}
	]
}

{code};;;","27/Jul/17 5:29 AM;harrisob@us.ibm.com;We are thinking that 
{code}
""timeout"": 300,
""max-send-size"": 10,
""max-recv-size"": 15
{code}
are application type settings and should be handled by the NodeSDK's Config settings ;;;","27/Jul/17 9:39 PM;jimthematrix;[~davidkel], [~dshuffma] can you please take a look at the latest design and let us know if they would address all your needs?

Note that we didn't include chaincodes because that would not be very useful without actually describing their programming interface, which would start to introduce programmable schemas. That is not the intention of this connection profile. The goal is this common profile is to eliminate common boilerplate code that all applications have to cook up over and over again. Application specific aspects that either can easily be taken care of with the existing SDK capabilities (like app-wide config settings for timeouts or message sizes), or would require introducing programmable schemas, should be handled inside the app code.;;;","27/Jul/17 10:48 PM;MartinC;I am interested in this for the REST API proposal I am working on as it too needs to understand which peers etc to communicate with.

I've reviewed the sample config above and can see a potential problem with the channel definition. Currently the channel defines which orgs are involved and then a user would derive which peers are part of the channel from the org definition. However all the peers belonging to one org do not have to be members of the same channel and I do not see how that scenario can be configured with the current proposal.

To solve this I would recommend having an array, ""peers"": [""peer1"", ... ] in the channel definition. Optionally the ""orgs"" could be removed from the channel definition as the ""orgs"" could be derived from the participating peers.

Some other comments,
 * As ""endorsing-peer"" is within the definition of a peer the ""-peer"" on the end is redundant.
 * Consider putting the true/false fields into their own variable ""roles"" or ""capabilities"";;;","27/Jul/17 10:56 PM;MartinC;At the moment I am concerned that there seems to be a disjoint in the design between clients having static channel configuration and clients also having the ability to dynamically define channels and add new peers to them.

[~jimthematrix] from a conceptual point of view I would like to understand the long term goal here. Is there an intent that this configuration could be queried by a client from ""your own"" peer? If there is that intent, then I would suggest that the ""client"" section is moved into it's own file and how certificates are referenced is looked at so that the network configuration is portable between multiple clients.

 ;;;","27/Jul/17 11:16 PM;davidkel;{code:java}
""timeout"": 300,
""max-send-size"": 10,
""max-recv-size"": 15
{code}
regarding these, from a composer point of view they need to be in the connection profile as there is no other way currently for a composer application to control these values and apart from timeout which is a generic concept, the others refer to fabric specific connections.
So curious as to why they should go into a different configuration programmatically ? What is the advantage to doing that over maybe putting them in somewhere appropriate in the connection profile;;;","27/Jul/17 11:44 PM;davidkel;
{code:java}
""endorsing-peer""   : true,
""chaincode-query"" : true,
""ledger-query""    : true,
""event-source""    : true
{code}
I am assuming that if any of these are not specified then they default to true ?;;;","28/Jul/17 12:36 AM;ianj_mitchell@uk.ibm.com;[~davidkel] - I'm struggling with how we know this characteristic 'endorsing-peer' when just talking to the Fabric to establish the set of peers. Isn't that dependent on which peers are in which channels and how the endorsement policy has been defined? You mentioned you'd need to know which peers are endorsers so that chain code can be deployed/installed/instantiated... isn't it the other way around in that the ability to be an endorser is dependent on having the chain code and being in the endorsement policy?;;;","28/Jul/17 12:43 AM;davidkel;So from the above I was wondering if we could define what is mandatory and optional in this connection profile ? for example I don't expect the credential store to be mandatory as we might create some default for where it isn't specified and directly define it in the client object once instantiated.;;;","28/Jul/17 12:46 AM;rickr;I'm not keen on adding these properties even optionally endorsing-peer, chaincode-query, ledger-peer as they are not strictly needed for creating connections and channels.  This is more like meta data on how the application intends to use those peers.

 ;;;","28/Jul/17 12:49 AM;rickr;Think there should be added a top level *version* property so we can in the future bump it up for non compatible updates and the client reading it can better know how to deal with it.;;;","28/Jul/17 12:58 AM;rickr;In the client section I see *credential-store* I don't believe this is specific to constructing channels, peers etc.  Isn't this something specific to the clients configuration ?;;;","28/Jul/17 1:09 AM;davidkel;[~ianj_mitchell@uk.ibm.com] I am not totally familar with Peer configuration. I have seen in the past an environment variable dictating whether a Peer is an endorser or not but they not exist for 1.0 any more, but a peer with chaincode installed doesn't have to be an endorser, it could be just for queries. As far as I know endorsement is at an organisation level rather than a peer level ? I am taking the selfish view of mentioning the kind of metadata the connection profile might need in order for composer to try to make decisions on what a peer's role is, for example which peers should have chaincode installed, which peer to send the instantiate request to, which peers to send a transaction to and which peers to send a query request to.
;;;","28/Jul/17 1:25 AM;rickr;Conversation with [~jimthematrix] is that these documents would not be shareable between the SDKs.  The *client* section is specific to an SDK implementation.  A connection profile that is written for the Node SDK if given to Java, GO. etc _could_ fail because it does not recognize how to deal with *client* section properties. ;;;","28/Jul/17 1:32 AM;rickr;I think for a specific connection like a peer there is only one tls certificate to specify not sure why this is a collection [ ] ?

""tls-cacerts"" : [\{

 }];;;","28/Jul/17 1:41 AM;rickr;Nit pick: but *cas*  are like links to items in *certificate-authorities*   I think the should be *certificate-authority*. Same for orgs organizations. ;;;","28/Jul/17 3:56 AM;harrisob@us.ibm.com;Here is another try at the configuration
 -- renamed org to organization
 -- renamed orgs to organizations
 -- renamed cas to certificate-authorities
 -- tls-cacerts is no longer a collection
 -- expanded organizations under channel to have role settings, which aligns well with how fabric uses MSPs for access
 -- removed role settings from the peers since these really are channel specific
 -- version was in the previous sample so no change for that comment
 -- would like to address the timeout and max send/receive, where should they be kept, what level, are they set on per connection, overall application, per channel ?
{code}
{
	""name"": ""hlfabric"",
	""description"": ""Hyperledger Fabric v1.0"",
	""version"": ""hlfv1"",
	""client"" : {
		""organization"" : ""Org1"",
		""credential-store"" : {
			""path"" : ""/tmp/hfc-kvs"",
			""crypto-store"" : {
				""path"" : ""/tmp/hfc-cvs""
			},
			""wallet"" : ""wallet-name""
		}
	},
	""channels"" : [
		{
			""name"" : ""mychannel"",
			""orderers"" : [ ""orderer.example.com"" ],
			""organizations"" : [
				{ 
					""name"" : ""Org1"",
					""endorsing-peer""   : true,
					""chaincode-query"" : true,
					""ledger-query""    : true,
					""event-source""    : true 
				},
				{
					""name"" : ""Org2"",
					""endorsing-peer""   : true,
					""chaincode-query"" : false,
					""ledger-query""    : true,
					""event-source""    : false
				}
			]
		}
	],
	""organizations"" : [
		{
			""name"" : ""Org1"",
			""mspid"" : ""Org1MSP"",
			""peers"" : [ ""peer0.org1.example.com"" ],
			""certificate-authorities"": [ ""ca-org1"" ]
		},
		{
			""name"" : ""Org2"",
			""mspid"" : ""Org2MSP"",
			""peers"" : [ ""peer0.org2.example.com"" ],
			""certificate-authorities"": [ ""ca-org2"" ]
		}
	],
	""orderers"": [
		{
			""name"" : ""orderer.example.com"",
			""url"" : ""grpcs://localhost:7050"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""orderer.example.com""
			},
			""tls-cacerts"" : {
				""pem"" : ""-----BEGIN CERTIFICATE-----\nMIICNDCCAdqgAwIBAgIRAIBOtq8vZiC0+uLSi2MIS4swCgYIKoZIzj0EAwIwZjEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xFDASBgNVBAoTC2V4YW1wbGUuY29tMRQwEgYDVQQDEwtleGFtcGxl\nLmNvbTAeFw0xNzA0MjIxMjAyNTZaFw0yNzA0MjAxMjAyNTZaMGYxCzAJBgNVBAYT\nAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2Nv\nMRQwEgYDVQQKEwtleGFtcGxlLmNvbTEUMBIGA1UEAxMLZXhhbXBsZS5jb20wWTAT\nBgcqhkjOPQIBBggqhkjOPQMBBwNCAARD2rvgyAmhn8hpu82kAjX3QUg2iqCUPEe1\nQ5CzD5MVv/dK5wrRgkcoMhJLe4HPxYbjV3rodm5Pwi5m3zMGkqNQo2kwZzAOBgNV\nHQ8BAf8EBAMCAaYwGQYDVR0lBBIwEAYEVR0lAAYIKwYBBQUHAwEwDwYDVR0TAQH/\nBAUwAwEB/zApBgNVHQ4EIgQg6q3lkIfG2X/PNQ6U83rZ8saSu2bxghSM5YlA3nCt\n6c4wCgYIKoZIzj0EAwIDSAAwRQIhAL5Lgy7jZ2W74L6i0B23a3JD0W8TSYlTcqXb\nRMSXlLIoAiB2glBl0wM/ITn5+tnHOnq2wrIGuYIiNbLK5oq2zf+gtA==\n-----END CERTIFICATE-----""
			}
		}
	],
	""peers"" : [
		{
			""name"" : ""peer0.org1.example.com"",
			""url"" : ""grpcs://localhost:7051"",
			""event-url"" : ""grpcs://localhost:7053"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""peer0.org1.example.com""
			},
			""tls-cacerts"" : {
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem""
			}
		},
		{
			""name"" : ""peer0.org2.example.com"",
			""url"" : ""grpcs://localhost:8051"",
			""event-url"" : ""grpcs://localhost:8053"",
			""connection-options"" : {
				""ssl-target-name-override"" : ""peer0.org2.example.com""
			},
			""tls-cacerts"" : {
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem""
			}
		}
	],
	""certificate-authorities"" : [
		{
			""name"" : ""ca-org1"",
			""url"" : ""https://localhost:7054"",
			""connection-options"" : {
				""verify"" : true
			},
			""tls-cacerts"" : {
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem""
			}
		},
		{
			""name"" : ""ca-org2"",
			""url"" : ""https://localhost:8054"",
			""connection-options"" : {
				""verify"" : true
			},
			""tls-cacerts"" : {
				""path"" : ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/ca/org2.example.com-cert.pem""
			}
		}
	]
}

{code};;;","28/Jul/17 9:58 AM;sstone1;[~harrisob@us.ibm.com] I think we should be careful about combining the ""type"" : ""hlfv1"" property we had at the start and the ""version"" property.

The ""type"" property is information used by Composer to know which ""Blockchain connector module"" we need to load in order to handle the connection profile. In the current case this is ""hlfv1"" for Fabric v1.0, ""embedded"" for the embedded runtime, and ""web"" for the web runtime. However in the future we might end up with a wide range of these connector modules for other Blockchain platforms, for example ""hlsv1"" for Sawtooth or ""corda6"" for Corda.

Ideally we would only have a Blockchain connector module for each major version of the Blockchain client SDK (in this case, fabric-client). I want to avoid a ""hlfv11"" connector, a ""hlfv12"" connector, etc. That means the ""v1"" in ""hlfv1"" refers to fabric-client v1.x.

The version [~rickr] refers to sounds like the version of the connection profile format used by fabric-client. You might support connection profile versions ""1.0"", ""2.0"", ""3.0"" all in the life cycle of fabric-client v1.x.

TL; DR - we should keep the target Fabric version and the version of the connection profile format as separate properties.

So I would suggest that you have (a Fabric v1.x connection profile, using v4 of the connection profile format):
{code:java}
""type"": ""hlfv1""
""version"": ""4.0""{code}
The next question for me is what is going on with these properties:
{code:java}
    ""credential-store"" : {
         ""path"" : ""/path/to/some/dir""
    }

    ""credential-store"" : {
         ""keyvalue-path"" : ""/path/to/some/dir"",
         ""crypto-path"": ""/path/to/some/dir""
    }  

    ""credential-store"" : {
         ""wallet"" : ""wallet-name""
    }
{code}
What will the fabric-client actually do with the ""wallet"" property? It's not clear.

FYI - in Composer our keyValStore property sucks for two reasons. 1) nobody knows what a ""keyValStore"" is, and 2) you have to enter an absolute path. The problem with 2) is that it makes it impossible to move connection profiles between systems which is a common pain point for our users.

Our plan for the ""wallet"" property in the Composer connection profiles was for it to be optional and for the ""wallet"" property to default to the name of the connection profile, and for Composer to generate a file system path from the ""wallet"" property in the users home directory.

For example, ""wallet"": ""foo"" would resolve to ""wallet"": ""/Users/sstone1/.composer-wallets/foo"". I can then send my connection profile to Dave, and on his system it resolves to ""wallet"": ""C:\dave\.composer-wallets\foo"". Dave doesn't have to edit it.

Finally, I'm not sure what kind of validation code you guys are planning on adding, but I strongly recommend that we take a page out of the Swagger book and allow applications to add extra properties to the connection profile format. In Swagger , applications can add any properties they like to a Swagger document, as long as they start with ""x-"" and any standards compliant Swagger parser will just ignore the ""x-"" properties.

For example:
{code:java}
""peer1"": { ""requests"": ""grpcs://localhost:7051"", ""events"": ""grpcs://localhost:7053"", ""server-hostname"": ""peer0.org1.example.com"", ""tls_cacerts"": ""peer0.org1.example.com/tls/ca.crt"",
 ""x-composer-endorser"": true
 }{code}

 It will allow us (Composer) to enhance the connection profile format with additional Composer specific fields if we deem it useful and you guys don't - there is some debate about the ""roles"" properties above - and the fabric-client can just ignore those properties and move on.;;;","28/Jul/17 9:02 PM;dshuffma;I took a stab at it. building off of Bret's and including some of Simons suggestions.

{code}
{
	""name"": ""hlfabric"",
	""description"": ""Hyperledger Fabric v1.0"",
        ""type"": ""hlf"",
	""hlf"": ""^1.0.0"",
	""version"": ""v4.0"",
	""client"": {
		""organization"": ""Org1"",
		""credentialStore"": {
			""path"": ""/tmp/hfc-kvs"",
			""cryptoStore"": {
				""path"": ""/tmp/hfc-cvs""
			},
			""wallet"": ""wallet-name""
		}
	},
	""channels"": {
		""mychannel"": {
			""orderers"": [
				""orderer.example.com""
			],
			""organizations"": [
				{
					""name"": ""Org1"",
					""endorsingPeer"": true,
					""chaincodeQuery"": true,
					""ledgerQuery"": true,
					""eventSource"": true
				},
				{
					""name"": ""Org2"",
					""endorsingPeer"": true,
					""chaincodeQuery"": false,
					""ledgerQuery"": true,
					""eventSource"": false
				}
			],
			""chaincode"": {
				""id"": ""example02"",
				""version"": ""v1""
			},
			""block_delay"": 1000
		}
	},
	""organizations"": {
		""Org1"": {
			""mspid"": ""Org1MSP"",
			""peers"": [
				""peer0.org1.example.com""
			],
			""certificateAuthorities"": [
				""ca-org1""
			],
			""users"": [
				{
					""enrollId"": ""admin"",
					""enrollSecret"": ""adminpw""
				}
			],
			""adminPrivateKeyPEM"": ""-----BEGIN PRIVATE KEY----- <etc>"",
			""signedCertPEM"": ""-----BEGIN CERTIFICATE----- <etc>""
		},
		""Org2"": {
			""mspid"": ""Org2MSP"",
			""peers"": [
				""peer0.org2.example.com""
			],
			""certificateAuthorities"": [
				""ca-org2""
			],
			""users"": [
				{
					""enrollId"": ""admin2"",
					""enrollSecret"": ""admin2pw""
				}
			],
			""adminPrivateKeyPEM"": ""-----BEGIN PRIVATE KEY----- <etc>"",
			""signedCertPEM"": ""-----BEGIN CERTIFICATE----- <etc>""
		}
	},
	""orderers"": {
		""orderer.example.com"": {
			""url"": ""grpcs://localhost:7050"",
			""connectionOptions"": {
				""sslTargetNameOverride"": ""orderer.example.com""
			},
			""tlsCaCerts"": {
				""pem"": ""-----BEGIN CERTIFICATE----- <etc>""
			}
		}
	},
	""peers"": {
		""peer0.org1.example.com"": {
			""url"": ""grpcs://localhost:7051"",
			""eventUrl"": ""grpcs://localhost:7053"",
			""connectionOptions"": {
				""sslTargetNameOverride"": ""peer0.org1.example.com""
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem""
			},
			""channels"": [
				""mychannel""
			]
		},
		""peer0.org2.example.com"": {
			""url"": ""grpcs://localhost:8051"",
			""eventUrl"": ""grpcs://localhost:8053"",
			""connectionOptions"": {
				""sslTargetNameOverride"": ""peer0.org2.example.com""
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem""
			},
			""channels"": []
		}
	},
	""certificateAuthorities"": {
		""ca-org1"": {
			""url"": ""https://localhost:7054"",
			""connectionOptions"": {
				""verify"": true
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem""
			}
		}
	}
}
{code}

Changes:
- hf compatibility version uses npm syntax
- removed many array fields in favor of a dictionary. moved the ""name"" field to be the key. should be easier to look things up.
- added channels array in peers field to show that this peer has joined this channel
- camel case instead of dashes, b/c JS
- added chaincode filed to channel's instance to show what chaincode is available on the channel
- added block delay to channels field, should be used to set timeouts of when to expect a block to be cut.
- added enroll ids section called ""users"" to org instances
- added admin private key PEM and cert PEM fields to org instances (these are need to install/instantiate cc)

On this pass I didn't remove anything on purpose, so if a field is gone that was by accident.  ;;;","28/Jul/17 10:19 PM;sstone1;Composer needs to be able to look at the JSON document and read a generic property to see if it's a Hyperledger Fabric connection profile, or a connection profile for something else - hence the need for the ""type"" property. I know it may seem redundant to you guys, but please don't remove it!;;;","28/Jul/17 11:11 PM;dshuffma;[~sstone1] I did not remove the ""type"" but I'm suggesting to rename it to ""hf"" and to use npm like versioning.  so ""^1.0.0"" would be equal to your ""hfv1"" (unless i'm missing something).  I agree with your main concern that we should use a scheme that would allow us to NOT need to detect all the variations explicitly. ie hf v1.0.0 / hf v1.0.1.;;;","28/Jul/17 11:35 PM;sstone1;[~dshuffma] you removed the generic property (i.e. a non Hyperledger Fabric specific property) that Composer can use to determine what Blockchain framework the connection profile is targeting.

I would suggest:
{code:java}
""type"" : ""hlf""
""hlf""  : ""^1.0.1""{code};;;","29/Jul/17 12:07 AM;dshuffma;Oh, whoops. I see now. I edited my last json blob above.;;;","29/Jul/17 3:07 AM;harrisob@us.ibm.com;The connection options will be used as is , passed directly in, thus allowing any custom settings to be added. So they name will have to be the name used by the package doing the connection. With the peer and orderer connections over GRPCS we need the 'ssl-target-name-override' setting.;;;","29/Jul/17 3:10 AM;harrisob@us.ibm.com;For path settings do we want to have the ability to have environment or other variable values within the path ... something like {code} ${TEMPDIR}/certs/my.pem {code};;;","29/Jul/17 3:46 AM;dshuffma;[~harrisob@us.ibm.com] well I have a small issue with that logic. if the point of us is to make an easy to use format we shouldn't be constrained by minor technical under the cover impacts.  why should we break consistency b/c we don't want to map ""sslTargetNameOveride"" to ""ssl-target-name-override"" .  I get your point, that you are expecting to be able to dump ""connectionOptions"" straight into  your gRPC lib, but.... we can still dump the object and translate this key. I dunno, I guess its not a big deal if we want to keep the dashes too.  thoughts?

as for paths I don't have a need for variables, but not sure if others need it.  though if we set a relative path...are they relative to THIS connection profile file?;;;","29/Jul/17 4:57 AM;harrisob@us.ibm.com;I was hoping to use the Node 'path' package which builds absolute paths from where node is started. So if we make the relativity to somewhere else, we all will have to agree on it so the SDKs can manually calculate the absolute path.;;;","29/Jul/17 5:02 AM;jimthematrix;[~dshuffma] I agree with [~harrisob@us.ibm.com] on the naming rules for the ""connectionOptions"", the names are defined by gRPC so it'll be awkward and error-prone to ask developers to lookup a property in gRPC doc (say, grpc-max-send-message-length) and translate that to a camel case string in order to set properly in the JSON. the most straightforward approach is to keep this section ""special"" in the naming. Maybe change the name ""connectionOptions"" to ""grpcOptions"" to make it more explicit?;;;","29/Jul/17 5:11 AM;jimthematrix;[~sstone1], [~dshuffma] for the type and version, how about a more npm flavor, so instead of 
{code}
""type"": ""hlf"",
""hlf"": ""^1.0.0""
{code}
use a single property:
{code}
""type"": ""hlf@^1.0.0""
{code}
it's more compact and is easier to write and parse. version should be optional.;;;","29/Jul/17 5:42 AM;dshuffma;I disagree on the dash vs camel case, but I don't strongly care. why would someone lookup the RFC gRPC doc...?, did you guys look up the RFC for HTTP when you interfaced with an HTTP lib or did you just look at the documentation for the lib you are using... at any rate, I won't hold this up just for that, lets use ""grpcOptions"" and this object can keep its dashes.

{code}
{
	""name"": ""hlfabric"",
	""description"": ""Hyperledger Fabric v1.0"",
        ""type"": ""hlf@^1.0.0"",
	""version"": ""v4.0"",
	""client"": {
		""organization"": ""Org1"",
		""credentialStore"": {
			""path"": ""/tmp/hfc-kvs"",
			""cryptoStore"": {
				""path"": ""/tmp/hfc-cvs""
			},
			""wallet"": ""wallet-name""
		}
	},
	""channels"": {
		""mychannel"": {
			""orderers"": [
				""orderer.example.com""
			],
			""organizations"": [
				{
					""name"": ""Org1"",
					""endorsingPeer"": true,
					""chaincodeQuery"": true,
					""ledgerQuery"": true,
					""eventSource"": true
				},
				{
					""name"": ""Org2"",
					""endorsingPeer"": true,
					""chaincodeQuery"": false,
					""ledgerQuery"": true,
					""eventSource"": false
				}
			],
			""chaincode"": {
				""id"": ""example02"",
				""version"": ""v1""
			},
			""block_delay"": 1000
		}
	},
	""organizations"": {
		""Org1"": {
			""mspid"": ""Org1MSP"",
			""peers"": [
				""peer0.org1.example.com""
			],
			""certificateAuthorities"": [
				""ca-org1""
			],
			""users"": [
				{
					""enrollId"": ""admin"",
					""enrollSecret"": ""adminpw""
				}
			],
			""adminPrivateKeyPEM"": ""-----BEGIN PRIVATE KEY----- <etc>"",
			""signedCertPEM"": ""-----BEGIN CERTIFICATE----- <etc>""
		},
		""Org2"": {
			""mspid"": ""Org2MSP"",
			""peers"": [
				""peer0.org2.example.com""
			],
			""certificateAuthorities"": [
				""ca-org2""
			],
			""users"": [
				{
					""enrollId"": ""admin2"",
					""enrollSecret"": ""admin2pw""
				}
			],
			""adminPrivateKeyPEM"": ""-----BEGIN PRIVATE KEY----- <etc>"",
			""signedCertPEM"": ""-----BEGIN CERTIFICATE----- <etc>""
		}
	},
	""orderers"": {
		""orderer.example.com"": {
			""url"": ""grpcs://localhost:7050"",
			""grpcOptions"": {
				""ssl-target-name-override"": ""orderer.example.com""
			},
			""tlsCaCerts"": {
				""pem"": ""-----BEGIN CERTIFICATE----- <etc>""
			}
		}
	},
	""peers"": {
		""peer0.org1.example.com"": {
			""url"": ""grpcs://localhost:7051"",
			""eventUrl"": ""grpcs://localhost:7053"",
			""grpcOptions"": {
				""ssl-target-name-override"": ""peer0.org1.example.com""
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem""
			},
			""channels"": [
				""mychannel""
			]
		},
		""peer0.org2.example.com"": {
			""url"": ""grpcs://localhost:8051"",
			""eventUrl"": ""grpcs://localhost:8053"",
			""grpcOptions"": {
				""ssl-target-name-override"": ""peer0.org2.example.com""
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem""
			},
			""channels"": []
		}
	},
	""certificateAuthorities"": {
		""ca-org1"": {
			""url"": ""https://localhost:7054"",
			""grpcOptions"": {
				""verify"": true
			},
			""tlsCaCerts"": {
				""path"": ""test/fixtures/channel/crypto-config/peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem""
			}
		}
	}
}
{code};;;","29/Jul/17 12:42 PM;jimthematrix;I made another pass and made a few changes. Also I changed the sample to YAML format so that documentation can be included inline, which I feel can clarify a lot of questions. YAML and JSON are directly translatable, you can use an online converter to easily go back and forth. This can also be used as the basis for the API doc of this connection document.

I removed block-delay from the schema, it's readily query-able via SDK APIs for channel config.

{code}
---
#
# The network connection profile provides client applications the information about the target
# blockchain network that are necessary for the applications to interact with it. These are all 
# knowledge that must be acquired from out-of-band sources. This file provides such a source.
#
name: ""global-trade-network""

#
# Describes the type of the backend, ""hl-fabric"" for Hyperledger Fabric, ""hl-stl"" for Hyperledger 
# Sawtooth Lake, etc.
# 
# The version string after the @ is following semver rules, describing the 
# version range supported by this profile. eg. ""hl-fabric@0.6.x"" is for a network of HL Fabric 0.6 
# nodes, including all the patch versions. ""hl-fabric@^1.0.0"" is for HL Fabric 1.0 including all
# the minor versions (1.1.x, 1.2.x, etc.). The specific parsing rules can be SDK specific: node 
# SDK should follow the npm semver support by supporting short-hand strings like ""~0.6.0"" or 
# ""0.6.x"" for ""0.6 and all patch versions"", ""^1.0"" or ""1.x"" for ""1.0 and all minor versions""; gradle
# or maven for java have various plugins
#
type: ""hl-fabric@1.0.x""
description: ""The network to be in if you want to stay in the global trade business""
version: v4.0

#
# The client section is SDK-specific. The sample below is for the node.js SDK
#
client:
  # Which organization does this application instance belong to? The value is the name of an org
  # defined under ""organizations""
  organization: Org1

  # Since the node.js SDK supports pluggable KV stores, the properties under ""credentialStore"" 
  # are implementation specific
  credentialStore:
    # Specific to FileKeyValueStore.js. Can be others if using an alternative impl. For instance, 
    # CouchDBKeyValueStore.js would require an object here for properties like url, db name, etc.
    path: ""/tmp/hfc-kvs""

    # Specific to the CryptoSuite implementation. Software-based implementations like 
    # CryptoSuite_ECDSA_AES.js requires a key store. PKCS#11 based implementations does 
    # not.
    cryptoStore:
      # Specific to the underlying KeyValueStore that backs the crypto key store. 
      path: ""/tmp/hfc-cvs""

    # Specific to Composer environment
    wallet: wallet-name

#
# Optional but most apps would have this section so that channel objects can be constructed 
# based on the content below. If an app is creating channels, then it likely will not need this 
# section.
#
channels:
  # name of the channel
  mychannel:
    # Required. list of orderers designated by the application to use for transactions on this 
    # channel. This list can be a result of access control (""org1"" can only access ""ordererA""), or 
    # operational decisions to share loads from applications among the orderers.  The values must 
    # be ""names"" of orgs defined under ""organizations/peers""
    orderers:
      - orderer.example.com

    # Required. list of peers from participating orgs
    peers:
      peer0.org1.example.com:
        # Optional. will this peer be sent transaction proposals for endorsement? The peer must 
        # have the chaincode installed. The app can also use this property to decide which peers 
        # to send the chaincode install request. Default: true
        endorsingPeer: true

        # Optional. will this peer be sent query proposals? The peer must have the chaincode
        # installed. The app can also use this property to decide which peers to send the 
        # chaincode install request. Default: true
        chaincodeQuery: true

        # Optional. will this peer be sent query proposals that do not require chaincodes, like 
        # queryBlock(), queryTransaction(), etc. Default: true
        ledgerQuery: true

        # Optional. will this peer be the target of the SDK's listener registration? All peers can 
        # produce events but the app typically only needs to connect to one to listen to events. 
        # Default: true
        eventSource: true

      peer0.org2.example.com:
        endorsingPeer: true
        chaincodeQuery: false
        ledgerQuery: true
        eventSource: false

    # Optional. what chaincodes are expected to exist on this channel? The application can use
    # this information to validate that the target peers are in the expected state by comparing
    # this list with the query results of getInstalledChaincodes() and getInstantiatedChaincodes()
    chaincodes:
      # the format follows the ""cannonical name"" of chaincodes by fabric code
      - example02:v1
      - marbles:1.0

#
# list of participating organizations in this network
#
organizations:
  Org1:
    mspid: Org1MSP

    peers:
      - peer0.org1.example.com
      - peer1.org1.example.com

    # Optional. Certificate Authorities issue certificates for identification purposes in a Fabric based
    # network. Typically certificates provisioning is done in a separate process outside of the 
    # runtime network. Fabric-CA is a special certificate authority that provides a REST APIs for 
    # dynamic certificate management (enroll, revoke, re-enroll). The following section is only for 
    # Fabric-CA servers.
    certificateAuthorities:
      - ca-org1

    # Optional. If the application is going to make requests that are reserved to organization 
    # administrators, including creating/updating channels, installing/instantiating chaincodes, it 
    # must have access to the admin identity represented by the private key and signing certificate. 
    # Both properties can be the PEM string or local path to the PEM file
    adminPrivateKeyPEM: ""-----BEGIN PRIVATE KEY----- <etc>""
    signedCertPEM: ""-----BEGIN CERTIFICATE----- <etc>""

  # the profile will contain public information about organizations other than the one it belongs to. 
  # These are necessary information to make transaction lifecycles work. including MSP IDs and 
  # peers with a public URL to send transaction proposals. The file will not contain private 
  # information reserved for members of the organization, such as admin key and certificate, 
  # fabric-ca registrar enroll ID and secret, etc.
  Org2:
    mspid: Org2MSP
    peers:
      - peer0.org2.example.com

#
# List of orderers to send transaction and channel create/update requests to. For the time
# being only one orderer is needed. If more than one is defined, which one get used by the
# SDK is implementation specific. Consult each SDK's documentation for its handling of orderers.
#
orderers:
  orderer.example.com:
    url: grpcs://localhost:7050

    # these are standard properties defined by the gRPC library
    # they will be passed in as-is to gRPC client constructor
    grpcOptions:
      ssl-target-name-override: orderer.example.com
      grpc-max-send-message-length: 15

    tlsCACerts:
      pem: ""-----BEGIN CERTIFICATE----- <etc>""

#
# List of peers to send various requests to, including endorsement, query
# and event listener registration.
#
peers:
  peer0.org1.example.com:
    # this URL is used to send endorsement and query requests
    url: grpcs://localhost:7051

    # this URL is used to connect the EventHub and registering event listeners
    eventUrl: grpcs://localhost:7053

    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.http2.keepalive_time: 15

    tlsCACerts:
      path: peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem

  peer0.org2.example.com:
    url: grpcs://localhost:8051
    eventUrl: grpcs://localhost:8053
    grpcOptions:
      ssl-target-name-override: peer0.org2.example.com
    tlsCACerts:
      path: peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem

#
# Fabric-CA is a special kind of Certificate Authority provided by Hyperledger Fabric which allows 
# certificate management to be done via REST APIs. Application may choose to use a standard 
# Certificate Authority instead of Fabric-CA, in which case this section would not be specified.
#
certificateAuthorities:
  ca-org1:
    url: https://localhost:7054
    # the properties specified under this object are passed to the 'http' client verbatim when
    # making the request to the Fabric-CA server
    httpOptions:
      verify: true
    tlsCACerts:
      path: peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem

    # Fabric-CA supports dynamic user enrollment via REST APIs. A ""root"" user, a.k.a registrar, is 
    # needed to enroll and invoke new users.
    registrar:
      - enrollId: admin
        enrollSecret: adminpw
{code};;;","29/Jul/17 11:57 PM;harrisob@us.ibm.com;[~jimthematrix] line 78, missing ':';;;","31/Jul/17 7:11 AM;dshuffma;I see you shuffled some fields around, no complaints though. this looks good to me.;;;","31/Jul/17 11:29 AM;jimthematrix;[~harrisob@us.ibm.com] good catch. Edited the yaml to add the fix.;;;","31/Jul/17 6:08 PM;MartinC;I like the updates that have been made, I think they add more flexibility. I do have some further suggestions.

At the moment the document serves 2 roles, one is defining the network which is common across all clients, and the second is configuring a specific client instance. I propose splitting this file by having the client configuration in a file that references another file containing the network definition configuration.

The scenarios having this split would make better are:
 * Network changes (new peer, org etc) => only need to update one shared file.
 * Deploying multiple clients => should be faster and less error prone because network config is common.

The split would also reduce the risk of accidental exposure of private client configuration (such as a private key) when sharing the network definition with another team that is developing a new client for the same network.;;;","31/Jul/17 10:14 PM;davidkel;As iterated by Simon, we use the type to determine which connector to load, it's not related to the version of the connection profile syntax so we would not want it to be merged into 1 field.;;;","31/Jul/17 10:42 PM;rickr;Can we avoid npm versioning (Node).. This should be SDK independent.;;;","31/Jul/17 10:49 PM;rickr;The version as other have stated I thought should be the the specification of the document itself. In this case I would think all it should be is
*version: ""1.0.0""*;;;","31/Jul/17 10:53 PM;rickr;Under peers : endorsingPeer, chaincodeQuery, eventSource  should be optional.;;;","31/Jul/17 10:58 PM;rickr;Why are there grpcOptions under _certificateAuthorities_ entities?    Are these not http connections ?;;;","31/Jul/17 11:10 PM;rickr;I don't have a clear understanding what the SDK is to do with the _chaincodes_ section ?  If the chaincodes are not there on the channel throw an exception ?;;;","01/Aug/17 12:27 AM;jimthematrix;[~MartinC] I agree with your suggestion to support having the network vs. client portions in separate files. But I think the way to make that work is by allowing files that contain partial information (either with only the network portion, or only the client portion) to be loaded separately and have accumulative effect on the client instance configuration. Having a pointer from the client file to the network connection file can be difficult because we can't always assume these are saved in files (the SDKs should use a JSON (or yaml) object as the input to be flexible for different usage situations). 

So I would suggest it work like the following:
- have a JSON/yaml object or file for the network portion (orgs, orderers, peers, channels), let's call it ""networkConfig""
- have a separate object or file for the client portion (client), ""clientConfig""
{code}
var myclient = Client.loadFromConfig(networkConfig);
myclient.loadFromConfig(clientConfig);
{code}

the two separate loadFromConfig() calls are additive (that's why the 2nd call must be done from the instance object). The order to load from networkConfig and clientConfig should not matter, as long as the referenced objects as either described in the config itself or have been loaded into the instance.;;;","01/Aug/17 12:29 AM;jimthematrix;[~davidkel], [~rickr] I clarified the intention of the ""type"" property my modifying the YAML above. that should address both of your questions. basically the ""type"" field describes the backend only (for Dave's question) and it only requires following the semver rules and defers specific parsing rules to each SDK (for Rick's question).;;;","01/Aug/17 12:36 AM;jimthematrix;[~rickr] I modified the YAML above to address your other questions/comments. thanks.;;;","01/Aug/17 12:40 AM;dshuffma;[~davidkel] please propose what you want ""type"" to be. if this is truly composer specific. maybe we should omit it from the spec. in general how do we want to handle 3rd party specific fields? should they be identified with a prefix, but can exist anywhere?  sooo ""x-type""

[~rickr]
- its NPM _like_ versioning. we aren't dictating that people should use node.js. we are just copying a versioning system that seems to work.
- I agree that ""endorsingPeer, chaincodeQuery, eventSource  should be optional.""
- the chaincode section is there b/c we are defining a generic _connection profile_.  an application should know of what chaincode id/version to talk to when connecting to the blockchain network. this should be optional since certain applications will not care.

*edit* crap was too slow. I deleted the yaml i had, see jim's;;;","01/Aug/17 12:55 AM;jimthematrix;[~dshuffma] :) I moved the YAML content to the main description section so it's easier to see and review/edit.;;;","01/Aug/17 6:12 PM;davidkel;From a Composer point of view, this is the flow we want to support
{noformat}
Connection Profile Document (generated by fabric toplogy owner)
            |
            |
            V
         Composer----> retrieves the type of profile document (type=""hlfv1"")
                                     |
                                     |
                                     V
                       instantiates node module ""composer-connector-hlfv1""
                       (all modules are of the form composer-connector-{type})
                                     |
                                     |
                                     V
                       load npm modules fabric-client, fabric-ca-client (at specific level)
                                     |
                                     |
                                     V
                         pass connection profile to fabric-client, fabric-ca-client
                         (to create the client, channel etc objects)
                                     |
                                     |
                                     V
                     configure client to handle a wallet implementation (credential-store)
                         (If not provided by node sdk)
                                     |
                                     |
                                     V
                      invoke requests as required from Composer clients{noformat}
The important thing for us here is that type is defined by the fabric topology owner and that it currently matches the text ""hlfv1"" but to handle different connection modules that require different dependencies the type is changed to drive that. Version in this context doesn't have meaning and it may be that type is Composer specific but it needs to be mandatory in the profile document in order for Composer to be part of the above chain.

 

 

 ;;;","01/Aug/17 10:51 PM;dshuffma;well so someone just needs to decide is a _composer required field_ a _connection profile required field_ for Fabric?

if not:
- then I get that this is still a critical field for composer, therefore in HSBN vnext we will add this field in our service credentials (and anything else you need).
- I'm proposing we build off of Simon's idea of using the swagger like naming convention.  Third party fields could be prefixed with a *x-*.  Therefore `type=""hlfv1""` becomes `x-type=""hlfv1""`.

if so:
- then it stays as  `type=""hlfv1""`;;;","03/Aug/17 9:12 AM;harrisob@us.ibm.com;work in progress
https://gerrit.hyperledger.org/r/#/c/12039/;;;","03/Aug/17 10:39 PM;odowdaibm;I'd like to see this feature {color:#000000}concetputalize the idea of a *network* in the SDK. CPs help with this because they abstract away connection details of peers, orderers etc to make the application connection to a coherent  single entity - a network. ** {color}

 

{color:#000000}I very much like the discussion above in that it maps CPs to channels, though I'd like to see if we could raise the level and map CPs to networks. For this the CP would have to encapsulate the channel as well, and I think that's OK - it's what Composer does today.  We could also have an optional API where the client identified the appropriate channel in the CP.
{color}

 

{color:#000000}So, in (very!) pseudo-code, we could have something like{color}

 

{color:#000000}     networkConnection = new client.networkConnection(connectionProfileName); {color}

 

{color:#000000}It would then be a simple matter to get the channel from this object{color}

 

{color:#000000}   channel = networkConnection.getDefaultChannel(); // gets the default channel, however defined{color}

{color:#000000}   channel = networkConnection.getChannel(channelName); // gets the requested channel, error if not found{color}

{color:#000000}    {color}

{color:#000000}Does this make sense?{color}

 ;;;","04/Aug/17 12:34 AM;jimthematrix;[~davidkel], [~dshuffma] sounds like the value of the ""type"" field is being used in a special way by composer (suffix of target module to load for processing), which is pretty different than what I had thought. in that case we should treat this field as composer-specific and not a general-purpose one defined by the common schema which we are describing here.

as for naming, using an ""x-"" prefix makes sense to me. It makes it clear that this is an application-specific field and each application is free to use any name for their special property. The SDK will simply ignore them.

The other point I want to make is that, from discussing with Bret we believe the ""version"" field should be representing the schema version instead of the revisions of the content. It should work exactly like the ""version"" field in a docker-compose.yaml, instead of the ""version"" field of a package.json. The SDKs should use it to determine the expected structure of the document and parsing rules.

I'll update the YAML above to clarify this.;;;","09/Aug/17 5:42 AM;dshuffma;I've been trying this format out and came up with one issue:

 !screenshot-1.png|thumbnail! 

The ""caName"" which is needed by the SDK to identify which ca to use for the hierarchy CA setup will be the same for multiple CAs.  Since these dictionary keys would collide, I cannot use the ""caName"" as the key for the ""certificateAuthorities"" field.

Therefore in my screenshot I've added a new field named ""caName"" and I'm using a different id for the key field.  The {color:#14892c}Green boxes  {color}are the names i'm using to identify the different running CAS, and the {color:#205081}blue boxes show {color} the ""caName"" that is needed for each by the SDK.

for reference this is why we need the field at all: https://github.com/hyperledger/fabric-sdk-node/blob/release/fabric-ca-client/lib/FabricCAClientImpl.js#L49

tldr: we need to add a ""caName"" field, and we cannot simply use the ca's key as this field.;;;","15/Aug/17 2:11 AM;jimthematrix;yes makes sense, thanks for catching that [~dshuffma];;;","15/Aug/17 7:06 PM;harrisob@us.ibm.com;Updated the admin credentials of the organization to be the same as the other certs, using the pem or path to indicate the source of the key or cert;;;","23/Aug/17 3:48 AM;Baha-sk;Added logging level to the client in the standard network config above.;;;","23/Aug/17 6:08 AM;Baha-sk;I have two other suggestions to add, but I need feedback first.

 

1. A missing flag in the config is for the cert's CN name to override it with the host name of the peer/order, I suggest we add:

serverHostOverride

under every tlsCACerts entry to specify the server hostname correctly, an example:

serverHostOverride: ""peer0.org1.example.com""

2. we will need a crypto config path to specify the location of crypto keys and certs. example: 

cryptoconfig:
    path: ""$GOPATH/src/github.com/hyperledger/fabric-sdk-go/test/fixtures/channel/crypto-config"";;;","24/Aug/17 4:23 AM;Baha-sk;added fields mentioned in my previous comment and also the following:
{code:java}
client:
  keyfile
  certile{code}
The above is added under 
{code:java}
certificateAuthorities.ca-org1{code};;;","24/Aug/17 11:10 PM;dshuffma;@[~Baha-sk]

We don't need ""serverHostOverride"" because we already have ""grpcOptions['ssl-target-name-override']"".;;;","24/Aug/17 11:33 PM;Baha-sk;Thanks [~dshuffma]

I didn't realize this grpc option serves the same purpose. I've removed serverHostOverride fields from the suggested network config above.;;;","24/Aug/17 11:47 PM;Baha-sk;is the ""path"" field under the peers' tlsCACerts supposed to support multiple cert paths?



in our current sdk go config.yaml we had ""certfiles"" to get a list certs.;;;","25/Aug/17 12:17 AM;dshuffma;I think its just the one path.  What is the use for multiple tls certs? If you have a chain of certs, you can combine them into a single file. I believe you just concatenate them. (i'm guessing);;;","25/Aug/17 12:45 AM;Baha-sk;""certfiles"" is used by Fabric CA everywhere. It doesn't look like it takes multiple files, all the examples show only 1 path in there. So maybe using Path is fine and if we need to set multiple certs, we can concatenate them as you mentioned.;;;","25/Aug/17 2:14 AM;Baha-sk;I also believe we need the following ""client"" fields:
{code:java}
tls:
 enabled: true


connection:
  timeout:
   peer:
    endorser: 3s
    eventHub: 3s
    eventReg: 3s
   orderer: 3s


BCCSP:
 security:
  enabled: true
  default:
   provider: ""PKCS11""
  hashAlgorithm: ""SHA2""
  softVerify: true
  ephemeral: false
  level: 256
  pin: ""12345678""
  label: ""ForFabric""
  library: /path/to/bccsp/libraries
{code}
 ;;;","31/Aug/17 12:39 AM;jimthematrix;[~Baha-sk] note that the connection profile should be dedicated to settings related to the network: topology, identity, behaviors (like timeouts), etc. If we don't clearly define a boundary then all sorts of stuff could be thrown into it, which the design does accommodate with the ""x-"" prefix. so given that, I would argue that LOGGING does not belong to this document and I'm removing it from the design doc above.;;;","31/Aug/17 12:44 AM;jimthematrix;also, I noticed that you didn't add the ""tls/enabled"" section, and I agree that's the right decision because if that's meant for deciding how the client app itself should be deployed, it's really not a concern of the program itself, but a deployment configuration.;;;","31/Aug/17 12:54 AM;jimthematrix;[~Baha-sk] I don't understand the need for ""certificateAuthorities.ca-org1.client"" section, can you clarify?;;;","31/Aug/17 1:21 AM;aleksandar.likic;[~jimthematrix] So, things like ""tls/enabled"", which are dictated by the network configuration should also have ""x-"" prefix although they are not application specific? Also, should the client be able to handle mixed tls/enabled use case, that is, when some peers are configured with tls and some are not? Is it a realistic use case, or we should assume that all peers have the same tls/enabled property?;;;","31/Aug/17 1:37 AM;Baha-sk;[~jimthematrix], thanks for your comments.

 

for the first comment above, that's fine, we will use x-loggingLevel

for the second comment above, I believe [~aleksandar.likic] replied to you above

for the third comment, as the comment says, this is for the client key and cert used for the ssl handshake with fabric CA and each CertificationAuthorities instance can have it's own set of client cert and key. This is similar to our existing config today in the Go SDK.;;;","31/Aug/17 4:16 AM;jimthematrix;[~aleksandar.likic] ok so ""tls/enabled"" is meant for describing the target network (not for the client app itself). since we have the full url specified on each endpoint with grpc:// or grpcs://, which is simple and flexible, why would we need to a big-hammer approach like this global switch?

[~Baha-sk] so it's meant to be used for TLS mutual auth. thanks for clarifying that. I'll add a comment to reflect that.;;;","31/Aug/17 6:09 AM;Baha-sk;[~jimthematrix], no problem.

 

As for the your comment on Aleks's note, the SDK needs to know if the tls certs are needed or not, hence the tls/enabled flag. Not sure if grpcs is a valid url protocol.;;;","08/Sep/17 7:38 AM;harrisob@us.ibm.com;Work done in two parts for NodeSDK

[https://gerrit.hyperledger.org/r/#/c/12039/]

https://gerrit.hyperledger.org/r/#/c/12577/;;;","21/Sep/17 3:34 AM;troyronda;Go SDK:

[https://gerrit.hyperledger.org/r/#/c/13209/]

 ;;;","26/Sep/17 5:40 AM;Baha-sk;hi [Jim Zhang|https://jira.hyperledger.org/secure/ViewProfile.jspa?name=jimthematrix],

 

I think grpcs:// is not a valid GRPC protocol.

For enabling TLS over GRPC, this is the official page [https://grpc.io/docs/guides/auth.html#authentication-api]

There are examples for Node.js, Java, C#, etc. 

Actually GRPC expects no protocol in the URL. 

 

Currently SDK GO fails if this protocol is passed in the prefix of URLs. This is another reason why we need TLS/enabled under client. Can we add this field to make it clear that the client has TLS enabled? For Fabric SDK GO, this is a much cleaner solution than trimming the protocol in the code. Let me know what you think..

 

Thanks,

Baha;;;","27/Sep/17 2:02 AM;dshuffma;I'm with Jim. grpc:// vs grpcs:// is a good shorthand to indicate if TLS is to be used or not. Adding another flag is redundant and potentially confusing if the two methods are mismatched.
;;;","27/Sep/17 2:26 AM;Baha-sk;[~dshuffma] but grpcs:// does not exist. It is not recognized by grpc servers.

 

Not sure how the grpc server calls react in other languages, but in go calls to grpc, we always get an error. in my previous comment I pasted a link on how to get a secure channel over grpc for Node.js, the official grpc document does not mention grpcs:// anywhere;;;","27/Sep/17 4:13 AM;Baha-sk;also, I'd like to add that tls/enabled in the config entails tls certs must be set during connectivity, if the certs are missing in the config, then a valid error is thrown.

There should be no confusion when it's set to true in the config.

 

I think using a non existent protocol is more confusing, especially for the Go/GRPC community.;;;","28/Sep/17 6:37 AM;dshuffma;when I'm telling people where my resource exists, using a single string that includes the protocol like ""grpcs://localhost:7051"" seems handy.  though, you have a valid point.  but I think most people will get it.

Its also pretty typical in the evolution of other protocols names:
ftp -> ftps
http -> https
ws -> wss
smtp -> smtps

At any rate, I think we agree that we shouldn't do both things.  We can't specify the ""protocol"" AND have a tls flag.  Its one or the other.  We just need to come to a consensus on which one. How about rock, paper, scissors best of 3? Or we could vote!
;;;","28/Sep/17 6:52 AM;Baha-sk;[~dshuffma], agreed about not having both tls/enabled and protocol.. in SDK Go, we don't specify the protocol in our URLs, we only set IPaddress:port 

This is why I think tls/enabled makes more sense (at least for us). Not sure why GRPC authors don't mention grpcs:// protocol in their server URLs. Maybe to hide the fact the connection is secure?

 

but if the community thinks it's best to use grpcs:// instead of tls/enabled, I'm ok with it.. I just wanna bring up the fact that it's not an official protocol and the fact that in Go SDK and we will have to manually trim the protocol prefix from our URLs;;;","29/Sep/17 4:51 AM;rickr;Prefer to keep it succinct:  grpcs and grpc;;;","29/Sep/17 4:58 AM;Baha-sk;[~rickr], fyi, it is not succinct for SDK Go. I am currently parsing Peers and Orderers URLs from the config to verify if they're prefixed with https:// or grpcs:// in order to apply the certs.

 

tls.enabled was sweet and short in our current version. But that's fine, I'm currently refactoring the Go SDK ..;;;","05/Oct/17 5:03 AM;Baha-sk;GO SDK now supports grpc:// and grpcs:// URLs

[https://gerrit.hyperledger.org/r/#/c/14167/]

 ;;;","11/Oct/17 3:35 AM;dshuffma;so how do people feel about making the pub/private cert/key fields an array? this would allow 1 org to have multiple key/certs defined.  right now we have:

{code:java}
organizations['PeerOrg1'].signedCert.pem = '<pem here>';
and
organziations['PeerOrg1'].adminPrivateKey.pem: '<pem here>';
{code}

I'm proposing we change the ""signedCert"" and ""adminPrivateKey"" fields to an array.  Like:

{code:java}

organizations['PeerOrg1'].signedCerts[ { 
    pem : '<pem here>'
} ];

organziations['PeerOrg1'].adminPrivateKeys[ { 
     pem: '<pem here>'
} ];
{code}

or maybe combine the two (since the private key and cert are a pair) like:

{code:java}
organizations['PeerOrg1'].crypto = [ { 
    signedCert: {
        pem : '<pem here>'
     },
    adminPrivateKeys: {
       pem : '<pem here>'
     }
} ]
{code}


thoughts?

;;;","12/Oct/17 2:53 AM;Baha-sk;[~denyeart], not sure why you need crypto.signedCert under Organizations, but for SDK Go we look for the peer assigned to the Organization and look for their certs.

 

Under the peer, there's tlsCACerts.path that contains the path to it's TLS certificate. If you need multiple certs, you can append them to that path.  Example for a peer, the config is:
{code:java}
    tlsCACerts:
      # Comma-Separated list of paths
      path: peer0.org1.example.com/tlscacerts/org1.example.com-cert.pem
{code}
the value of path is comma separated, so you can add multiple certs if needed.

Are you looking for different cert values for the org?

 ;;;","12/Oct/17 3:24 AM;denyeart;[~Baha-sk] I think you intended to direct the last comment to [~dshuffma].

I'll suggest that [~harrisob@us.ibm.com] moderate the conversation here (owner of this work item), as we'll want consistency across the various SDKs.;;;","12/Oct/17 4:28 AM;Baha-sk;[~denyeart] that's right, my bad, I meant to ask [~dshuffma] about his last comment.

 

 ;;;","12/Oct/17 4:43 AM;dshuffma;[~Baha-sk] These certs are not for TLS handshaking, they are for validating the proposals. These are the so called ""admin certs"" for privileged operations like install/instantiate/etc..  Also i'm not suggesting to move them under ""organizations"" because they are already there!  

My suggestion is to leave them where they are, but convert the field from an object to an array.  I would like to support multiple admin certs per org;;;","12/Oct/17 5:33 AM;Baha-sk;[~dshuffma], understood you wanna use this for proposal validations, but there is no 'crypto' middle field under organization. This is why I thought you were suggesting to add a new field.

 

How about appending cert paths as a string to the 'signedCert' value instead of making them an array? It won't affect our GO SDK if the field has comma separated values.;;;","19/Oct/17 12:55 AM;rickr;The adminPrivateKey and signedCert is under an organization.  I think this is the peeradmin credentials that can install and instantiate chaincode.  Can there be as in this example Org1 peers different admins for peer0.org1.example.com and peer1.org1.example.com ?;;;","19/Oct/17 12:59 AM;rickr;name: ""global-trade-network""  

I don't think would be used directly by the SDKs across the board.  Should this not have a x-name ? as x-type, x-loggingLevel ?

Ditto for description;;;","19/Oct/17 1:05 AM;rickr;I really would have preferred to keep this document clean as possible what the SDKs required to define channels and credentials.  Composer, applications other SDKs should have defined in another JIRA their own extensions to this. :(;;;","19/Oct/17 1:10 AM;rickr;# [Optional]. what chaincodes are expected to exist on this channel? The application can use
    # this information to validate that the target peers are in the expected state by comparing
    # this list with the query results of getInstalledChaincodes() and getInstantiatedChaincodes()
    chaincodes:
      # the format follows the ""cannonical name"" of chaincodes by fabric code
      - example02:v1
      - marbles:1.0

 

I don't think the SDKs should inspect this by default.  If this is an application specific item as stated should it not be  *x-chaincodes*   The SDK have a means to query to find these out and the application can use this as a hint as what to expect.**********

But then again I reall think any ""application"" should define this in their own extension to this document.;;;","19/Oct/17 1:22 AM;rickr;tlsCACerts:
      # Comma-Separated list of paths
      path: peer0.org2.example.com/tlscacerts/org2.example.com-cert.pem

 

Is the comment here wrong ?  I think a server only would have a single certificate from what I know.  *tlsCACert?*

If not, should be changed to *paths*.;;;","19/Oct/17 1:26 AM;rickr;# BCCSP config for the client.
  BCCSP:
   security:
    enabled: true
    default:
     provider: ""SW""
    hashAlgorithm: ""SHA2""
    softVerify: true
    ephemeral: false
    level: 256
    pin: ""12345678""
    label: ""ForFabric""
    library: /path/to/bccsp/libraries

What is this ?  If this is HSM configuration it's really generic ?  Not sure I see anything like this in Java

 ;;;","19/Oct/17 4:01 AM;dshuffma;[~rickr] I disagree on your stance on making an application need a separate format than this connection profile.  What is an SDK for after all? Its for the *client* application to communicate and perform operations on the blockchain network.  Anything needed for the client to connect should be a first party thing defined in this so called ""connection profile"".  so I'd like to keep the ""chaincode"" field.

I'm not in love with the csv path thing, we are using JSON... why mix things up. but w/e not going to fight this one

the ""name"" field feels first party to me. its the go to identify of the network.  I will concede its not really useful, since its not needed in any technical way, but its probably useful for a logging message or two. 

yes there can be multiple ""admins"" per org.  therefore there can be multiple admin certs per orgs.  but our format above does not support this, yet.  [~Baha-sk] so comma separating the cert *paths* or *pems* would work... but I find it strange to not do the more JSON thing and make it an array.

;;;","19/Oct/17 6:03 AM;rickr;[~dshuffma] That's fundamentally where we differ or what this document is meant to be targeted for.  The SDK is NOT an application/client its an api. Applications use the SDK to work with hyperledger fabric.  Just like HTTP api/library is NOT an application.
 So if this is not strictly for the SDK what application/client is it for ? IBM's blockchain's application ? Is so, it should not be defined here at all.

chaincode - what exactly is the sdk todo with that ? Throw an exception if it's not present? Try to deploy it?  There's not enough information there to do that.  The SDKs do NOT need *chaincode*  to connect/communicate to hyperledger fabric.  The SDK care less what chaincode an application has deployed or installed and has nothing to do with communicating with the fabric.

So what application/client is this for exactly ? 

We have in the JSDK a balance / transfer example *application* built on the JSDK api it expects to have certain balances to start off with.  Can I add that here ? 

 

 ;;;","19/Oct/17 6:27 AM;dshuffma;hmmm well, we are pretty far apart. going to need other voices to weigh in.  I would argue that you are not building an HTTP library, nor a gRPC library. The sdk is not that low of a level, its a fabric connection/transaction library. 
 Including requirements of a transaction makes sense (like chaincode id/version).

I'm for making the ""connection profile"" be the single source of all required information needed for an application to connect and use the network. chaincode ids and all...

the inputs to your balance transfer chaincode are not _connection_ related, so that's where the line is.  they don't get to join the connection profile. knowing which chaincode container to talk to however, feels connection-y to me.
;;;","20/Oct/17 1:08 AM;MartinC;I am working on the fabric-sdk-rest project so I have been keeping an eye on this item as I intend to update it to use the connection profile work when a GA v1.1 SDK is available.

I see the connection profile document as a static definition of dynamic content and so liable to become outdated without a client knowing. In my opinion ideally it would be dynamically discovered but that is a separate issue.

I also expect that within an org the connection profile document will be shared by multiple applications that will be invoking different chaincode on the same ledgers/channels. Therefore I do not think the connection profile should contain configuration specific to a single client application.

Based upon the comment for the ""chaincodes"" field the usage is describing a single client application's dependencies, so in my opinion it is the wrong place for it, secondly if it does stay, the current format is not expressive enough as it needs to be able to express dependencies in a way that can allow multiple versions, such as at least version 1.1 but not 2.0, otherwise as soon as a piece of chaincode is updated a client application may incorrectly fail.;;;","20/Oct/17 1:18 AM;rickr;{color:#444444}We needed to have a generic language independent configuration document for the SDKs. It should have been kept to an absolute minimum for the SDK to construct channels, the channel artifacts connection properties, and connection credentials in a generic implementation independent means.{color}
{color:#444444}Each specific SDK in an independent document, {color}{color:#444444}_{color}_if at all necessary_{color:#444444}_{color}{color:#444444}, should  document  their extension on this document. The same goes for any specific application needs.{color};;;","20/Oct/17 5:47 AM;harrisob@us.ibm.com; 
  # Needed to load users crypto keys and certs.
  cryptoconfig:
    path: path/to/fixtures/channel/crypto-config
What is `cryptoconfig` , how are the SDK's to use this ?;;;","20/Oct/17 5:51 AM;harrisob@us.ibm.com;Can we have the timeouts just be a number and assume they are seconds so we do not have to get into parsing problems;;;","20/Oct/17 11:11 PM;dshuffma;[~rickr][~MartinC] I would urge you to read the title of this very Jira, as well as the description.  If we are planning to exclude application required details... then what are we doing here.

[~MartinC] if this connection profile was somehow discoverable, that would be great.  we can do that through any blockchain service, but if it was a native peer or orderer feature that would be an improvement.

[~MartinC] the chaincode version is actually not needed to create proposals.  however it is needed to install/instantiate, but for this operation it is a specific version, not a range. plus from the network's perspective we have no idea what chaincode versions are ""compatible"" .  remember the application doesn't generate the connection profile, he consumes it.

[~harrisob@us.ibm.com] if we assume a field to be seconds, can we add it to the field name. like  `timeout.peerSecs: 3`

using Jira in this way really sucks.  its hard to get to conclusions of one topic, b/c it gets buried under another question/input. I'm wondering if there is a better way?  what if we opened separate issues for each thing we want modified/added? we'd have to have a common tag or something...;;;","23/Oct/17 5:58 PM;MartinC;My interpretation of the title is that there would be one common document that defines how an org connects to a blockchain network shared by its multiple client applications. [~dshuffma] you appear to be proposing each client application would have their own version of the connection profile document, wouldn't that lead to an increased maintenance problem keeping multiple docs up to date as well as increase the risk of errors when a piece of chaincode is upgraded? Each time that happened a peer would not be in the expected state and so implies the client should not use the peer(s).

Quoting from the proposed doc:
 what chaincodes are expected to exist on this channel? The application can usethis information to validate that the target peers are in the expected state
 ""The expected state"" is the expected state of one or more peers from one client application's perspective to ensure that it can use the blockchain network correctly (aka its dependencies). That goal is a good one but I don't think putting the information in the common connection profile is the best way to achieve it because the values of the fields are not common, rather the values are specific to one client application's needs. Is there another use for this information that I have missed?

I think raising a new requirement against the SDKs for a Channel.checkDependencies(peers[],appDependencies) function which an application could call when it starts would be a better way to achieve that goal.

I agree that raising separate issues that could be related to this one would be a good thing to try to see if it improves discussion.;;;","31/Oct/17 11:16 PM;ChristopherFerris;[https://gerrit.hyperledger.org/r/c/14977/]

[https://gerrit.hyperledger.org/r/c/12039/]

https://gerrit.hyperledger.org/r/c/12577/;;;","15/Nov/17 3:01 AM;denyeart;Moving back to IN REVIEW since the Java SDK subtask is still going through reviews.;;;","06/Dec/17 2:39 AM;rickr;Just to be clear the peers in the organization is a list but the order that they are listed really has no significance.  Applications should use the actual name of the peer if there is any significance to a specific peer – which I don't know what that may be. Tooling which most like will generate this could with each invocation have that list in any order.;;;","11/Jan/18 8:38 AM;Clayton Sims;Bret marking done.   Please let me know if there is addition work to do;;;","06/Mar/18 4:17 AM;dshuffma;So is the chaincode format an oversight?  The spec above is suggesting an array like:

{code:java}
""chaincodes"": [
    ""example02:v1"",
    ""marbles:1.0""
  ],
{code}

but that seems dumb.  when an application needs the id or version independently it needs to parse it and split on the colon.  seems like a waste when we could just use: 
{code:java}
""chaincodes"": [
    {
      ""id"": ""example02"": 
      ""version"": ""v1"",
    }, {
      ""id"": ""marbles""
      ""version"": ""1.0""'
    }
 ],
{code}

also pretty sure `chaincode` is both singular and plural, but I suppose we have to live with that too?  what is the process to improve the spec???;;;","25/Mar/18 1:47 AM;paul.sitoh;To me the use of ""path"" properties is extremely confusing, won't it better to provide the PEM itself directly or at least follow the form of URL. For example:
{quote}\{\{ certificateAuthorities:}}
 \{\{ ca-org1:}}
 \{\{ url: [https://localhost:7054|https://localhost:7054/]}}
 # {{the properties specified under this object are passed to the 'http' client verbatim when}}

 # {{making the request to the Fabric-CA server httpOptions: verify: true tlsCACerts:}}

 # {{Comma-Separated list of paths path: peerOrganizations/org1.example.com/ca/org1.example.com-cert.pem}}

 # {{Client key and cert for TLS mutual auth with Fabric CA. If the target Fabric CA server}}

 # {{does not have TLS mutual auth turned on, then this section is not needed client: keyfile: path/to/tls/fabricca/certs/client/client_fabric_client-key.pem certfile: path/to/tls/fabricca/certs/client/client_fabric_client.pem}}{quote}
If you were to deploy your fabric in a cloud, what does path means?

If you have it specified as a URL: you will know that it originates from the server and that way app developer can easily consume the endpoint as a stream. If you are deploying locally in docker, you could just add another container and server this profile as a restful endpoint. And app just needs to consume it as a rest call or in other cloud implementation as environment variable fully compliant to 12-factor app.

As it is now, path suggest that the location of pem is only restricted to local volume and not very volume agnostic.

 ;;;","26/Mar/18 10:26 PM;dshuffma;[~paul.sitoh] It might be an oversight.  Notice that the `org.adminPrivateKey` allows the PEM contents directly or a path value to the pem file.  Originally I interrupted this as any `path` field could be exchanged with the `pem` directly.  But I see now that the spec does not explicitly say this. Though it is what the current IBM Blockchain Platform service does when building it's connection profile.

I agree that a single JSON with everything is very useful.

Blurb from the `org.adminPrivateKey` section: ""Both properties can be the PEM string or local path to the PEM file."";;;","27/Mar/18 12:36 AM;Baha-sk;fyi, in SDK GO, we now support both pem or path formats or load all users from crypto config path. The user gets to choose the right format for their org's users like so:
{code:java}
organizations:
  org1:
    mspid: Org1MSP

    # Needed to load users crypto keys and certs for this org (absolute path or relative to global crypto path, DEV mode)
    users:
      Admin:
        key:
          pem: |
            -----BEGIN PRIVATE KEY-----
            private key content here
            -----END PRIVATE KEY-----
         cert:
         pem: |
            -----BEGIN CERTIFICATE-----
            public cert content here            
            -----END CERTIFICATE-----
      User1:
        key:
          path: ""/path/to/user1/key/file""
        cert:
          path: ""/path/to/user1/cert/file""
{code}
...

'pem' key for the ADMIN user can be replaced with 'path' and one can add their path value instead of embedding their key/cert just like User1 and vice versa.

the last option is to use the cryptoPath key to load from a pre built cryptoconfig folder created by Fabric's crypto-gen tool (useful in dev mode):
{code:java}
organizations:
  org1:
    mspid: Org1MSP

    # This org's MSP store (absolute path or relative to client.cryptoconfig)
    cryptoPath:  peerOrganizations/org1.example.com/users/{username}@org1.example.com/msp
{code}
of course the above formats are in yaml, but they can be easily transformed in JSON for other SDKs.

We've done this for other parts of the config as well, for instance ""certificateAuthorities"" can now be configured with either tlsCACerts.pem or tlsCACerts.path or both(pem takes precedence) and its client.keyfile and certfile fields have been replaced with client.key.pem (or path) and client.cert.pem(or path) respectively.

hope this helps;;;","27/Mar/18 5:36 AM;paul.sitoh;[~Baha-sk] [~dshuffma] For my MVP, I can live with the option to send either path or pem for now. But in the long run the ""cloudy"" client, it makes more sense to be using URL instead as this will enable your client to transition from dev to production without the need to rewrite your code. Cloud apps would find such profile delivered from remote services (such as Redis, ObjectStorage, etc.).

In which case, you won't want sensitive information shown below to be part of your deployment – i.e. you could accidentally check in your configuration. 

    {quote}adminPrivateKey: 
      pem: ""-----BEGIN PRIVATE KEY----- <etc>""    signedCert:
      path: ""/tmp/somepath/signed-cert.pem""{quote};;;","27/Mar/18 6:00 AM;Baha-sk;[~paul.sitoh], since keys contain sensitive info, we use BCCSP to load them through HSM, we don't embed them in the config or even use path values in PROD. Check the BCCSP library that comes with Fabric. One can plug their own crypto suite into the GO SDK now.

For testing purposes, we embed keys/certs in the config. But for PROD, we use a custom crypto suite.

 ;;;","27/Mar/18 5:34 PM;paul.sitoh;[~Baha-sk] noted.

However, I was eluding to a wider point namely, just having the option of either volume based or content based properties: path or pem is somewhat limiting. It it was URL/URI based, then we can support multiple scheme: file, http, https, etc. This would give the client the option to store their keys in service of their choice.

Granted, it would present the SDK client complexity of having to deal with multitude of schemes. Maybe one option for the static method to provide for injection of specialised backing service. For example:

      const client = Client.loadFromConfig(process.env.NETWORK_CONFIG, mykeylocation) or

      const client = Client.loadFromConfig(<yaml file>, <locator plugin>)

Something along this line. If location plugin not provided, it will assumed file or http) and the client can extract those as is.

 ;;;","27/Mar/18 9:42 PM;harrisob@us.ibm.com;I have opened https://jira.hyperledger.org/browse/FAB-9186 to allow for the `path` attribute to be more than a local file.;;;","27/Mar/18 11:16 PM;Baha-sk;[~paul.sitoh], I think from an SDK config perspective, the value of path for a cert can be anything. It is up to the client application to interpret the value the way it makes sense. In other words, nothing stops the user to set path as a url and in their app's logic, check if the value has a url prefix then load the cert from that url into a temporary local path. 

Will it add value to add remote path field in the config? I think a path is a path regardless if it's local or remote, it is meaningless to the SDK but useful for the client.

Just my two cents.

 ;;;","03/Apr/18 10:19 PM;aatkddny;There's a small but important difference between the spec and the attachment.

Look at the CA ""registrar"" field. In the spec a single value is implied, yet in the attachment it's an array. Since at least one supporter of this venture is returning an array in their API, but the java SDK expects a single value, figuring out which it is supposed to be will help everyone long term. ;;;","09/Apr/18 5:38 PM;paul.sitoh;[~harrisob@us.ibm.com] is this project  https://jira.hyperledger.org/browse/FAB-9186 superseding this FAB-5363?;;;","10/May/19 8:56 AM;siddjain;is the client auth portion of this spec not been implemented? we are not able to connect to a ca server that has clientauth enabled. we are using the pattern below. 
# Client key and cert for TLS mutual auth with Fabric CA. If the target Fabric CA server
      # does not have TLS mutual auth turned on, then this section is not needed
      client:
        keyfile: path/to/tls/fabricca/certs/client/client_fabric_client-key.pem
        certfile: path/to/tls/fabricca/certs/client/client_fabric_client.pem;;;","10/May/19 5:15 PM;davidkel;[~siddjain]I assume you are referring to the node sdk here ? It doesn't look like it is implemented in the node sdk. ;;;","11/May/19 1:08 AM;siddjain;Thanks Dave. How will a node app connect to a fabric ca server then that has client auth enabled? ;;;","11/May/19 2:03 AM;davidkel;[~siddjain] If it is possible then you would have to use the node-sdk apis directly to build the certificate authority objects, however a quick look through the code suggests that the node-sdk may not support a ca server with client auth enabled. I suggest you raise a specific Jira on the node-sdk about this to get a definitive answer. The java-sdk may support it I haven't looked.;;;","11/May/19 2:18 AM;siddjain;Thanks Dave. Yes I have done exactly that 

https://jira.hyperledger.org/browse/FAB-15430;;;","11/May/19 2:27 AM;davidkel;[~siddjain]I've moved it to https://jira.hyperledger.org/browse/FABN-1234 so it's now under the node-sdk specific project.;;;"
"Implement ""Connection Profile"" for SDK-GO",FABN-809,20345,19331,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Baha-sk,Baha-sk,Baha-sk,23/Aug/17 1:41 AM,20/Jul/18 12:29 AM,28/Oct/23 3:25 AM,21/Sep/17 2:16 AM,,,,,,,,,,,0,,,,,Implement the connection profile (FAB-5363) for the GO SDK. Supporting only YAML format (other formats may come later).,,Baha-sk,guolidong,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-100,,,,,,FABG-215,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydwf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,Baha-sk,guolidong,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/net-0.7.0,main,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node JS SDK documentation for connection profiles,FABN-810,21782,19331,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,12/Oct/17 2:10 AM,20/Jul/18 12:29 AM,28/Oct/23 3:25 AM,01/Nov/17 6:20 AM,,,,,,,v1.1.1,,,,0,,,,,,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj67:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/17 2:39 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/14467/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Demonstrate Node JS SDK connection profile in a tuturial (balance transfer),FABN-811,21783,19331,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,12/Oct/17 2:12 AM,20/Jul/18 12:29 AM,28/Oct/23 3:25 AM,01/Nov/17 6:19 AM,,,,,,,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/17 12:25 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/14977/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Implement ""Connection Profile"" for Node JS SDK",FABN-812,21784,19331,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,12/Oct/17 2:14 AM,20/Jul/18 12:29 AM,28/Oct/23 3:25 AM,12/Oct/17 2:14 AM,,,,,,,v1.1.1,,,,0,,,,,Node JS SDK was delivered using FAB-5363 (not this subtask).,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node-sdk: refactor hash.js to be Class-object design.,FABN-813,28416,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,davidkhala,davidkhala,davidkhala,12/Mar/18 10:16 PM,21/Jul/18 4:17 AM,28/Oct/23 3:25 AM,18/Mar/18 6:38 PM,v1.1.0,,,,,,v1.2.0,,,,0,cleanup,ECMAScript,fabric-sdk-node,,"hash.js provide three class-like component:
 # hash_sha3_256
 # hash_sha3_384
 # hash_sha2_256

It would be better to use ES6 syntax 

[https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes]
And :
# to consider create a new super class for them all.
# to create test plan  for them 

beside, remove functions duplicated in utils.js 
# bitsToBytes
# bytesToBits

remove npm module ""sjcl-codec"" that only used for above 2 functions. 
 ",,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz0rr:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkhala,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Mar/18 2:12 AM;mastersingh24;will target this for v1.2;;;","14/Mar/18 2:15 AM;mastersingh24;[~davidkhala] - once you submit a CR for review, please make sure you update the status of the JIRA to ""In Review"" and add the CR link in a comment;;;","14/Mar/18 2:16 AM;mastersingh24;https://gerrit.hyperledger.org/r/19087;;;","14/Mar/18 9:54 AM;davidkhala;[~mastersingh24] gari, thanks for you reminds;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Hash and CryptoSuite integration,FABN-814,28723,28416,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,21/Mar/18 3:10 PM,20/Jul/18 12:45 AM,28/Oct/23 3:25 AM,30/May/18 5:19 PM,v1.1.0,,,,,,,,,,0,,,,,"* move base class of hash algo into api.js and typeScript definition.

Currently hash.js is used as appendix for api.
 * Align hash algo name:

in default.json, hash algorithm is separated into algo and size,

??""crypto-hash-algo"": ""SHA2"",??
 ??""crypto-keysize"": 256,??

 

but in api.js, they are present in combined way:

??CryptoAlgorithms:\{??

??SHA256: 'SHA256',??

??SHA384: 'SHA384',??

??SHA3_256: 'SHA3_256',??

??SHA3_384: 'SHA3_384',??

??}??

 

in two implement, pkcs11.js, and ECDSA_AES.js, they are present in another way:

??switch (this._hashAlgo.toLowerCase() + '-' + this._keySize) \{??
 ??case 'sha3-256??

 
 * move hash algorithm parameter from constructor of two implement of CryptoSuite to opts in hash(msg, opts)",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2gf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 12:05 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/20231/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix linting errors,FABN-815,28002,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Duplicate,davidkhala,davidkhala,davidkhala,25/Feb/18 6:46 PM,14/May/19 3:28 PM,28/Oct/23 3:25 AM,14/May/19 3:28 PM,v1.1.0-alpha,,,,,,Future,,,,0,,,,,"– /lib/impl/bccsp_pkcs11.js (redeclare variable)

line 592: var sig = pkcs11.C_Sign(pkcs11Session, digest,Buffer.alloc(this._keySize));

line 601: var sig = _preventMalleability(\{r: r, s: s}, this._ecdsaCurve);

fuction 'pemToDer': in regular expression pattern (for matching certificate) Unnecessary escape character: \- 
variable curve is not defined
 Unexpected duplicate 'super()' 
 pemToDER is defined but no-used (an exact static copy exists in fabric-ca-client/lib/FabricCAClientImpl.js)",,davidkel,davidkhala,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-614,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyyv3:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,davidkel,davidkhala,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Feb/18 9:01 PM;mastersingh24;[~davidkhala] - I'm not quite sure I understand the issue here?  Were you doing some type of linting here and then found this?;;;","26/Feb/18 12:22 PM;davidkhala;[~mastersingh24] Yes, Gari, I am doing eslint on existing codes and found that bad code.

 

Meanwhile I am trying to create a patch for that. https://gerrit.hyperledger.org/r/#/c/18393/

 ;;;","19/Mar/18 10:34 AM;davidkhala;Reopened it for continues work in sub tasks;;;","23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","14/May/19 3:28 PM;davidkel;I believe that node-sdk has had a big overhaul regarding linting so should now be resolved.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix eslint error in /fabric-client/* and fabric-ca-client/*,FABN-816,28642,28002,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,19/Mar/18 10:22 AM,20/Jul/18 12:47 AM,28/Oct/23 3:25 AM,21/Mar/18 1:02 PM,v1.1.0,,,,,,Future,,,,0,cleanup,,,,Continue work on fix 100+ eslint error in main code base,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1xz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Mar/18 1:56 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/19375/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
migrate lib/api.js to typeScript abstract class,FABN-817,28646,28002,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Invalid,davidkhala,davidkhala,davidkhala,19/Mar/18 12:26 PM,20/Jul/18 12:47 AM,28/Oct/23 3:25 AM,20/Jul/18 12:47 AM,v1.1.0,,,,,,,,,,0,,,,,"Error about 'is defined but never used ' prompt each time when run eslint for lib/api.js

I would like do discuss as titled whether we could migrate to use typeScript framework to replace api.js

 

Similar we also have:
 - lib/packager/BasePackager.js
 - {color:#ffcb6b}hashBaseClass{color} in lib/hash.js",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1yv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Mar/18 2:50 PM;davidkhala;I found it might be hard to use ES6 class and typeScript class in mixture.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Further backward compatible changes required for error handling,FABN-826,32091,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,davidkel,davidkel,davidkel,21/Jul/18 1:37 AM,24/Jul/18 5:33 PM,28/Oct/23 3:25 AM,24/Jul/18 5:33 PM,v1.2.0,,,,,,v1.2.0,,,,0,,,,,"various invokes also changed the way that errors are returned to the application, not returning an error object in the response array as was in previous releases of fabric, it should return error objects for responses that indicate an error.

It's actually not good to have different types of object returned in the responses however as applications will expect this for now we should maintain backward compatibility, but in the future this should be changed so applications don't have to do instance of tests.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjb3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jul/18 5:32 PM;davidkel;[https://gerrit.hyperledger.org/r/#/c/24617/]

https://gerrit.hyperledger.org/r/#/c/24651/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
metadataPath attribute missing in ChaincodeInstallRequest type definitition,FABN-827,32109,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Invalid: Works as Expected,,ruhkopf,ruhkopf,21/Jul/18 8:57 AM,11/Sep/18 4:15 AM,28/Oct/23 3:25 AM,11/Sep/18 4:15 AM,v1.1.0,,,,,,v1.3.0,,,,0,,,,,"The request object for installChaincode supports the attribute metadataPath (see FABN-391). However, it is missing in the TypeScript definitions (index.d.ts)",,harrisob@us.ibm.com,ruhkopf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-391,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjd3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,ruhkopf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 4:14 AM;harrisob@us.ibm.com;I see the `metadataPath` in 
```
export interface ChaincodeInstallRequest {
 targets?: Peer[] | string[];
 chaincodePath: string;
 metadataPath?: string;
 chaincodeId: string;
 chaincodeVersion: string;
 chaincodePackage?: Buffer;
 chaincodeType?: ChaincodeType;
 channelNames?: string[] | string;
 txId: TransactionId;
 }

```;;;","11/Sep/18 4:15 AM;harrisob@us.ibm.com;The path is defined;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
proposal responses returned to client applications contain differing objects,FABN-828,32112,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Won't Do,,davidkel,davidkel,21/Jul/18 7:54 PM,09/Oct/19 9:31 PM,28/Oct/23 3:25 AM,09/Oct/19 9:31 PM,,,,,,,,,,,0,,,,,"In 1.1 it looks like errors were automatically converted to Error objects in the responses received by the node sdk, this meant that responses back to client applications had an array consisting of 2 different types of object in different formats

In 1.2 this changed and as it breaks backward compatibility to existing applications and wasn't something that was announced, backward compatibility was provided within the node sdk itself

There are a couple of choices here on going forward
 # We could stop converting responses which aren't 200 status to error objects and just return the original responses back to the client application to handle. This would break backward compatibility
 # We could still convert to an Error object, but ensure that they have the same properties as the original response for now, announce the format as deprecated allowing applications to switch to checking the status field themselves.

 

 

 ",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjdr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
node sdk docs are based off of master,FABN-829,32133,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,14gracel,davidkel,davidkel,23/Jul/18 11:41 PM,31/Oct/18 1:08 AM,28/Oct/23 3:25 AM,31/Oct/18 1:08 AM,v1.1.0,v1.2.0,,,,,v1.4.0,,,,1,,,,,"Whenever a merge of master is done, the docs published at

https://fabric-sdk-node.github.io

are published. This is a problem as it will include information about unreleased capabilities. Ideally a user of this site should be able to get release specific information ie 1.1, 1.2 and as well as master, but it should default to the latest released level of fabric.

Suggestions from duplicate jira 
It is observed that Node.JS SDK documentation always points to the master/latest.
Here are some thoughts:

- Maintain different version for the documentation OR
- Mention from what version the API is available, from what version the API is deprecated else it would be really confusing for the developers

This Jira should also result in a new feature jira for the future of the reference docs for node-sdk",,davidkel,denyeart,harrisob@us.ibm.com,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-528,,,,,,FABCN-280,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjrz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,denyeart,harrisob@us.ibm.com,mbwhite,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/18 11:33 PM;davidkel;FABN-528 is a duplicate;;;","06/Sep/18 8:16 PM;denyeart;[~davidkel] [~andrew-coleman] Is there somebody from your team that could work on this? Same issue exists on node chaincode. Until there is versioned docs, in the short term for v1.3 perhaps we just need to be very clear in the docs about which releases functions got introduced in.;;;","07/Sep/18 3:29 AM;davidkel;Taken from FABN-528.
Here are some thoughts:

Maintain different version for the documentation OR
Mention from what version the API is available, from what version the API is deprecated else it would be really confusing for the developers;;;","11/Sep/18 4:17 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue is being worked. This not a code issue, it is a build process issue.;;;","11/Sep/18 6:24 PM;davidkel;This is waiting on a fix from [~mbwhite] who is addressing a very similar problem in the chaincode-node reference documentation. Once this fix is available it will be ported to the node-sdk;;;","02/Oct/18 2:39 AM;denyeart;[~davidkel] what's the plan for this one, now that the chaincode-node CR was merged?;;;","02/Oct/18 6:29 PM;mbwhite;Will start working on this again - as soon as the Chaincode repo is sorted - will move onto the SDK;;;","03/Oct/18 8:11 PM;mbwhite;We can do this without that change; but would make it so much easier!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using HSM results in error of toBytes call on undefined,FABN-830,32135,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,,davidkel,davidkel,24/Jul/18 12:58 AM,17/Aug/18 7:34 PM,28/Oct/23 3:25 AM,31/Jul/18 4:17 PM,v1.2.0,,,,,,v1.2.1,,,,0,,,,,"If HSM is being employed and a user context is set on a client before something like initializeChannel is called, then in addTlsClientCertAndKey, a call to get ephemeralKey goes to the PKCS implementation which throws an error and results in the key being `undefined`, of no cert info is provided.

If no cert info is provided then addTlsClientCertAndKey should create a self signed cert using the default cryptoSuite, not the HSM suite associated with the Clients current cryptosuite context",,davidkel,jpatchell,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjsf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,jpatchell,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jul/18 5:34 PM;davidkel;[https://gerrit.hyperledger.org/r/#/c/24685/]

https://gerrit.hyperledger.org/r/#/c/24663/;;;","15/Aug/18 4:12 AM;jpatchell;https://gerrit.hyperledger.org/r/#/c/25551/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Note Detail: Removal of EventHub,FABN-832,32159,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,latitiah,latitiah,24/Jul/18 10:36 PM,20/Sep/18 4:34 PM,28/Oct/23 3:25 AM,20/Sep/18 4:34 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,"*Commit:* f4793ec748a4857669c3d8865dcaac5577e48a10

Noticed that ""fabric-client/lib/EventHub.js"" was recently removed. It was noted that when updating from 1.2 to 1.3(master) any reference to EventHub should be removed as this file no longer exists. The error that is seen
{code}
 Cannot find module 'fabric-client/lib/EventHub.js'
{code}

",,harrisob@us.ibm.com,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11122,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjvz:",A release note will be required advising applications that use the old event hub that they must switch to the channel event service before upgrading peers or sdk. ,Yes,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/18 3:53 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26399/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode events are not received after a client has been idle for several days,FABN-834,32166,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,rolivieri,rolivieri,25/Jul/18 1:15 AM,07/Dec/18 5:10 PM,28/Oct/23 3:25 AM,07/Dec/18 5:09 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"Fabric version: v1.1.0

Node Fabric Client SDK: v1.1.2

Platform for Node Client: Ubuntu LTS 14.04

Platform for Fabric: IBP on IBM Cloud (starter plan)

From time to time, we have experienced issues with the processing of chaincode events on the client side: Though chaincode events had been fired, these were not received on the fabric client application.

This problem appears to be intermittent and related to the client application (in this case, a Node.js client) has been idle for more than 2-3 consecutive days. In other words, we have seen this issue occur after not firing off any chaincode events for a period of 2-3 days.

Here's a high level description of what we have seen:
 - Chaincode is successfully deployed and instantiated; Node.js Fabric client is then started and registers to receive events.

 - Expected chaincode events are fired from the chaincode and then received in the Node.js Fabric client application. Everything is working fine up to this point.

 - The application is not used for 2-3 days, meaning: 1) the Node.js fabric client is running and the Hyperledger Fabric network is up and running,; 2) no chaincode function invocations are made; and 3) consequently no chaincode events are fired for that period (i.e. 2-3 days).

 - After the 2-3 days period, we invoke the chaincode and events are fired. However, events are not received any more in the Node.js Fabric client application.

 - After restarting the Node.js Fabric client application, then it starts receiving the chaincode events again.

It seems odd that we have to restart the Node.js Fabric clients for events to be received again.",,andrew-coleman,davidkel,denyeart,harrisob@us.ibm.com,rolivieri,vandan101,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/18 10:18 PM;vandan101;event-service1.zip;https://jira.hyperledger.org/secure/attachment/15586/event-service1.zip",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzjx3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,davidkel,denyeart,harrisob@us.ibm.com,rolivieri,vandan101,zhaochy,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/18 7:39 PM;denyeart;[~zhaochy][~harrisob@us.ibm.com] Could you take a look?  Is there some debug that could be enabled on client and peer side that may point to the issue?;;;","14/Aug/18 11:00 AM;rolivieri;[~denyeart], [~zhaochy], [~harrisob@us.ibm.com] - We can share the client code if that would help. We are able to reproduce this problem easily; we just let the client app idle for at least a few days and events are not received after that. If we use the client app at least a couple of times a day, events are received as expected.;;;","14/Aug/18 7:14 PM;zhaochy;I would have a deeper look. [~rolivieri] If you can share the client code, that would be helpful.;;;","15/Aug/18 10:20 PM;vandan101;[~zhaochy] please see the attached file 'event-service1.zip' for the nodejs client code. ;;;","21/Aug/18 11:09 AM;rolivieri;Hello [~zhaochy], just wondering if there are any updates regarding this issue. Were you able to reproduce the problem? If it helps, we can also grant you access to our IBP instance and the Node.js instance (Cloud Foundry) that we have running on the IBM Cloud.;;;","22/Aug/18 10:34 AM;zhaochy;[~rolivieri]  We removed the EventHub from sdk after v1.2, and use ChannelEventHub now. Can you upgrade your client code to use 'fabric-client' v1.2.1 and try again (and please provide a peer log and sdk log if it still not work)? I tried with the latest fabric-peer and the latest sdk, it works after hanging about 50 hours.;;;","22/Aug/18 11:07 AM;rolivieri;[~zhaochy] Thanks for getting back to us. Just to confirm, are you asking us to upgrade the Node.js client SDK to v1.2 and run our tests one more time while using Fabric v1.1 on IBP on the IBM Cloud? Just double checking that what you are suggesting is supported: Node.js SDK v1.2 + Fabric v1.1.0 (IBP - Starter Plan on IBM Cloud). Look forward to hearing from you, thanks. ;;;","22/Aug/18 11:35 AM;denyeart;[~rolivieri] This Jira system is for Fabric open source only, not any vendor's cloud offering.
That being said, ChannelEventHub also existed in v1.1.x of Node.js client SDK and we recommend to use that variant of EventHub.  Could you see if you can reproduce the problem using the ChannelEventHub on v1.1.x?;;;","22/Aug/18 10:39 PM;rolivieri;Thanks [~denyeart] for the response. Point taken that this system is for Fabric open source only; I should have reworded my question. My question was more around verifying with you guys that upgrading to the Node.js client SDK v1.2 and using Fabric v1.1 was a supported configuration (just fyi, given our particular case, moving to Fabric 1.2 is not feasible just yet). Reading your last answer, your recommendation is instead to keep using Node.js client SDK v1.1.x but replace EventHub with ChannelEventHub as way to work around the issue of the client not receiving events after sitting idle. If I missed anything, please let us know, thanks.

 ;;;","23/Aug/18 12:19 AM;denyeart;[~rolivieri]
That's all correct.
Using a later SDK version than fabric should work, but it is not a fully tested scenario... we recommend to upgrade fabric first, and then upgrade client SDK.;;;","28/Aug/18 10:11 PM;rolivieri;[~denyeart] We updated the client code to use ChannelEventHub instead of EventHub. However, after doing so the same problem persists. How can this be addressed? Reading through the comments above, it sounds like [~zhaochy] only tested with Fabric client v1.2. Would the next step be to have the team reproduce our problem using Fabric Node.js client v1.1? Any other information we can provide?;;;","29/Aug/18 1:47 AM;denyeart;[~zhaochy] Could you do a trial on v1.1 and/or suggest any next steps for troubleshooting in Ricardo's environment?;;;","01/Sep/18 5:04 AM;rolivieri;[~zhaochy] Just following up on the above message from [~denyeart]. As I shared above, the problem persists even after moving from EventHub to ChannelEventHub. ;;;","05/Sep/18 2:23 AM;vandan101;[~zhaochy] [~denyeart] Hi Guys can we please get an update on this problem.;;;","05/Sep/18 10:37 AM;zhaochy;[~vandan101][~rolivieri]  still working on. since it takes a long time to do this test once, to speed up solving the problem, can u please provide a peer and sdk log?;;;","05/Sep/18 10:38 AM;zhaochy;[~rolivieri] If you can provide a test environment, it would be much helpful.;;;","07/Sep/18 3:54 AM;davidkel;[~rolivieri] This might be a problem with grpc. It doesn't do keepalive as expected for idle connections. Try ensuring you have the following grpc options set in your connection profile or when you create Peer/Orderer objects
{code}
""grpc.keepalive_time_ms"": 120000,
""grpc.http2.min_time_between_pings_ms"": 120000,
""grpc.keepalive_timeout_ms"": 20000,
""grpc.http2.max_pings_without_data"": 0,
""grpc.keepalive_permit_without_calls"": 1
{code}
This will ensure keep alive is maintained when a grpc is idle. ;;;","10/Sep/18 10:51 PM;vandan101;[~davidkel] We have the following values in the starter plan connection profile you mentioned above.  These are the same for 'orderer' and the 'org-peer' 

 
{code:java}
""grpcOptions"":
{ ""grpc.http2.keepalive_time"": 360, 
""grpc.keepalive_time_ms"": 360000, 
""grpc.http2.keepalive_timeout"": 180, 
""grpc.keepalive_timeout_ms"": 180000 }
{code}
 

How will these values ensure that the grpc conn is kept alive and running even though the system has been idle for a few days and that events are still received on the client side?;;;","10/Sep/18 11:02 PM;davidkel;grpc keepalive doesn't work as intuitively as you might think. For example keepalive by default on idle connections sends 2 keepalive pings then stops. To ensure continuous keep alive you must also have
{code}
""grpc.http2.max_pings_without_data"": 0
{code}

There appears to be another recommendation (although I haven't verified whether it helps)
{code}
""grpc.keepalive_permit_without_calls"": 1
{code}
You don't have these in the example you just posted;;;","11/Sep/18 12:28 AM;vandan101;[~davidkel] ,
 # We changed our code to use 'ChannelEventHub' and not 'EventHub' as the sample code that was attached to this issue earlier.  After changing the code and redeploying the NodeJS app we still see the same behavior.  Do you still think that we are using the 'EventHub'??
 # Changing the GRPC values do you think it will help address this problem even though we are using 'ChannelEventHub'?
 # Please note that we are using the IBP connection profile for all intents and purposes.;;;","11/Sep/18 12:52 AM;davidkel;As you are creating the Peer objects yourself though newPeer, you will need to build an options object with all the relevant grpc settings yourself and pass it into the client.newPeer() call. When you create your channel event hub instance from that peer it should take the grpc settings applied to the peer and apply them to your channel event hub instance.
;;;","11/Sep/18 6:33 PM;davidkel;[~zhaochy] if you don't mind, I will assign this one to me. I have been dealing with similar connectivity issues recently and was also in conversation with one of the reporters yesterday to help ensure they configure their peer objects correctly.;;;","14/Sep/18 11:16 PM;vandan101;[~davidkel] [~rolivieri] [~zhaochy]

Hi Dave, 

We made the changes to our nodejs sample app as suggested by you and left it running for more than 3 days.  The result is that the nodejs microservice is still able to receive events from blockchain which is what we wanted. 

My follow up question is that the ‘grpc’ settings that you suggested should they be set by the nodejs sdk for fabric on behalf of the developer or should the developer set those settings manually each time?;;;","15/Sep/18 12:06 AM;davidkel;Even though the node-sdk does define some grpc settings by default, it doesn't include the max_pings one because it only became necessary after a change to how grpc worked. It's debatable whether the node sdk should include any default grpc settings, firstly due to how grpc appears to be a moving target, plus the defaults may be suitable for one environment (in your case IBM cloud) but not for another environment and so different users of the node-sdk may very well raise issues about the default values.
It's also not so easy to just add a new setting currently to the set of defaults, which are stored in default.json inside the npm module downloaded but the code has to be updated to pull those new settings. There is a JIRA to look at that mechanism as well FABN-913 to make it easier to add/change settings, however the default settings again probably are not necessarily appropriate for everyone including yourself. 
If you want to be sure you are using the right settings for your environment you need to set them yourself, but maybe we can provide a set of options that aren't too controversial which can be done as part of another JIRA but it should then be documented somewhere to be clear.;;;","15/Sep/18 3:35 AM;rolivieri;Hi [~davidkel], thanks for your support on this issue/question. (y)

I understand your point about the possibility that default grpc config settings may be suitable for one environment but not for another environment. Having said that, would there be a minimum/common set of default grpc settings that can guarantee that chaincode events are received by the client (even after the client being idle for hours) regardless of the environment? I was hoping this could be the case so the Fabric Client SDK takes care of these settings on behalf of developers. But maybe you are letting us know that such grpc settings [for ensuring delivery of chaincode events] are not platform agnostic?;;;","15/Sep/18 5:43 AM;davidkel;[~rolivieri] I think it's difficult to come up with a standard set of  settings that would be applicable for everyone. Also that set may have been applicable to a specific platform originally but even that platform may find the settings now need to change based on changes to the platform or changes to current thinking. Also consider for example an environment where the fabric and application are hosted within a company intranet, then the generation of constant traffic to ensure the connection is kept alive could be completely superfluous and an unwanted overhead. Some providers may also require more aggressive or less aggressive values and may not work with less agressive approach or may not want the overagressive network traffic so which providers should the settings be defaulted to and which ones should have to document their requirements ? It could be that the only right way for a neutral solution is to not provide defaults at all but to document the knowledge for developers and architects to be able to make informed decisions about the solutions they deliver. ;;;","18/Sep/18 11:17 AM;rolivieri;Thanks [~davidkel] for the additional details. I like your suggestion for improving the documentation so that developers and architects can make informed decisions on how to configure the Fabric clients (grpc settings) in the solutions they deliver. Would such documentation be part of the Fabric docs site (https://hyperledger-fabric.readthedocs.io/)? If so, when do you think it could be available?;;;","22/Nov/18 1:15 PM;denyeart;[~davidkel] Where do you propose this be documented?;;;","22/Nov/18 5:29 PM;davidkel;[~denyeart] I haven't looked recently to see if there are any improvements to how the node-sdk documentation is presented. if it hasn't changed, then the only possible place will be in the connection profile tutorial. The other possibility is in the main fabric documentation. Connection profiles aren't node-sdk specific so maybe the main fabric documentation should have something about connection profiles. I am assuming that the GO-SDK and Java-SDK also work with connection profiles but I haven't looked into these SDK capabilities. I know the Peer command supports connection profiles. I don't know if the grpcOptions block are honoured by the other SDKs, Peer command or whether they have their own mechanism for setting these options. So the minimum is put something in the node-sdk connection profile tutorial, but ideally this should be something that covers all client side capabilities. Not sure the best way to handle that one though.;;;","01/Dec/18 8:07 PM;davidkel;The follow options should be documented plus we should provide these as sensible settings to try initially
{code}
""grpcOptions"": { 
   ""grpc.keepalive_time_ms"": 120000, 
  
 ""grpc.http2.min_time_between_pings_ms"": 120000, 
   ""grpc.keepalive_timeout_ms"": 20000, 
  
 ""grpc.http2.max_pings_without_data"": 0, 
  
 ""grpc.keepalive_permit_without_calls"": 1 
} 
{code}
These apply to a connection profile definition. We should also show how to create a peer/orderer object manually and provide these settings.

It should also be made clear that if using discovery you may have to go in and manually set these values after discovery has been done.

see FABN-912;;;","05/Dec/18 11:49 AM;harrisob@us.ibm.com;Planning to add some doc to this after FABN-912;;;","07/Dec/18 5:10 PM;andrew-coleman;resolved by https://gerrit.hyperledger.org/r/c/27999/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor CryptoKeyStore,FABN-835,32199,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,26/Jul/18 12:45 AM,24/Jul/20 11:13 AM,28/Oct/23 3:25 AM,24/Jul/20 11:13 AM,v1.0.0,v1.1.0,v1.2.0,,,,Future,,,,0,cleanup,ECMAScript,external,sdk-triaged,"There are several js files related to CryptoKeyStore model class. It will be better to merge them into one file and not to use confusing mixin class
 * CryptoKeyStore.js
 * utils.js

 ",,bestbeforetoday,davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-760,FABN-591,FABN-681,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzyc38:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Jul/18 8:01 PM;davidkhala;in progress https://gerrit.hyperledger.org/r/#/c/24749/;;;","27/Jul/18 8:17 PM;davidkhala;Understanding that KeyValueStore and CryptoKeyValueStore should be pluggable, my design is 
 * For any KeyValueStore, we use 'options' as constructor param. Not to return a confusing Promise in constructor.
 * For those actions operated in Promise in constructor, I suggest to move them out into `async init()`
 * For KeyValueStore.getValue and setValue,  implementor class should make sure init() is called before actually action. Use 'lazy loading' design just like ChannelEventHub
 * Not to use CryptoKeyStoreMixin, separate its logic to either utils.js or CryptoKeyStore itself.
 * CryptoKeyStore now accept an instance of KeyValueStore as constructor param `_store` as its physical storage interface, and use `proxy` design pattern to redirect `setValue`, `getValue` call to `_store` since CryptoKeyStore itself also extends KeyValueStore
 * utils.js take care of config 'key-valut-store', creating KeyValueStore instance, and other miscellanea. 
 * Consider adding an api `destroy()` to KeyValueStore,  it is inspired by CouchDButil in test source codes.

 

 ;;;","30/Oct/19 1:15 AM;heatherp;Hi [~davidkhala] I've been working through the node sdk backlog with the maintainers and came across this, are you still actively working on it?;;;","19/Feb/20 6:35 PM;davidkhala;[~heatherp] This is a long lasting code style issue I see year(s) ago. LOL, I had proposed a fierce breaking change PR for this. But at that time, maintainers think we'd better not to touch release-1.x first and let me wait till release-2.x. I could rebase (actually rewrite) my proposal to current head of master branch. 

Is it now a good time to accept this change?;;;","24/Feb/20 6:42 PM;heatherp;Hey [~davidkhala] so fabric-client has been removed in master (2.0.x) branch, as we've refactored it into fabric-common. So the implementation would be slightly different for the two branches. I reckon start with a PR in 2.0.x first. We're working hard to get a 2.0.0 release out in the next couple of weeks, so if your PR is going to contain breaking changes, getting it reviewed/in this week or next would be ideal. We're less keen on breaking changes going into the 1.4.x stream. Does this information help?;;;","26/Feb/20 4:07 PM;davidkhala;[~heatherp] Helpful indeed. I will try to hurry up a PR on master for review this week. 
https://github.com/hyperledger/fabric-sdk-node/pull/145;;;","26/Feb/20 6:32 PM;heatherp;[~davidkhala] let us know when you're ready for us to review :);;;","04/Mar/20 11:22 AM;davidkhala;https://github.com/hyperledger/fabric-sdk-node/pull/148
as step 2 here.;;;","29/Apr/20 8:22 PM;bestbeforetoday;Something to consider... one of the aims of the rework of the v2 implementation carried out by [~harrisob@us.ibm.com] was to remove persistent state from the lower-level APIs. I believe the intent was for this to include the crypto key store but it was too big a step to entirely remove it. Credentials associated with client identities are instead entirely managed at the _fabric-network_ level, stored in wallets and only passed down to _fabric-common_ at runtime as required.

To avoid runtime conflicts in the tests with both v1.4 _fabric-client_ and v2.x _fabric-common_ loaded, I changed the default crypto keystore implementation to an in-memory store with the implementation identified programmatically only and not obtained from configuration properties. I guess what I am wondering now is, given the aim to remove persistent storage in _fabric-common_, what is the use-case for a pluggable cypto keystore implementation at all? Should the default in-memory implementation be the only one possible in v2.x?;;;","30/Apr/20 1:02 PM;davidkhala;[~bestbeforetoday]
Good topic! There are several cases we could discuss
- As a stateless enthusiast, I definitely agree with Bret‘s decision to remove persistent state in lower-level sdk. I vote for your proposal that we keep only in-memory cryptoKeyStore in v2.
- At the very early days(so early that even Jim Zhang still work in IBM), there is no `fabric-network` on earth or wallet concept. CryptoKeystore worked as an alternative expression of wallet. Now from overview, indeed, for fabric-network user, they may only need a pluggable wallet design, such as couchdb/HSM-based wallet. 
- While for developers get used to low-level sdk and could not migrate to fabric-network(I was one of them since we have own implementation similar to fabric-network even before its birth), a pluggable cryptoKeyStore might be a `required legacy`. It is hard to predict and estimate user spectrum. I prefer guiding them to adapt change. Tell them that's what v2 stands for. 
-  pluggable via configuration properties is not always a good idea. Global status or variable can introduce chaos. If we insist on pluggable, a provided interface and accepting an instance of a class implementing interface as function parameter are good enough(as java usual design), instead of make sdk to r/w config



;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong file import in `fabric-ca-client/lib` files.,FABN-836,32219,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Works as Expected,davidkel,akarshagrawal792,akarshagrawal792,26/Jul/18 2:36 PM,06/Sep/18 9:05 PM,28/Oct/23 3:25 AM,06/Sep/18 9:05 PM,,,,,,,,,,,0,,,,,"It turns out that, when we try to run the command:

`node test/integration/e2e.js`

It fails with an error:

`./api.js` file not found on Line 19:11

In the file, `fabric-ca-client/lib/FabricCAClientImpl.js`

Upon careful examination I found that, it should have been:

var api = require('fabric-client/lib/api.js');
var utils = require('fabric-client/lib/utils.js');
var BaseClient = require('fabric-client/lib/BaseClient.js');

Also, for the `fabric-ca-client/IdentityService.js`:

Line 19 should be:
const logger = require('fabric-client/lib/utils.js').getLogger('IdentityService');

Similarly, for the `fabric-ca-client/AffiliationService.js`:

Line 19 should be:
const logger = require('fabric-client/lib/utils.js').getLogger('AffiliationService');
",,akarshagrawal792,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzk47:",,,,Unset,Unset,,,,,,,,,,"git clone https://github.com/hyperledger/fabric-sdk-node.git
cd fabric-sdk-node
npm install
node test/integration/e2e.js",,Unset,,,,,,Unset,,Unset,,(Please add usage information),akarshagrawal792,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/18 4:15 PM;davidkel;The fabric-ca-client shares files from fabric-client. ie the fabric-client is the single source point and fabric-ca-client must take a copy of these files. fabric-ca-client is meant to be standalone and so shouldn't reference the fabric-client versions. There is a gulp task `ca` which needs to be run first before working with the node-sdk source. This prepares the fabric-ca-client source appropriately for use.;;;","31/Jul/18 10:43 PM;akarshagrawal792;Oh Sure. Then it makes all the way more sense to have it that way. I think I didn't run the `gulp ca` task before running the SDK and hence the error. ;;;","06/Sep/18 9:05 PM;davidkel;Provided information back to reporter who was happy with the response.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDoc enhance and fix related to ChannelEventHub.js,FABN-837,32222,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,26/Jul/18 3:44 PM,31/Jul/18 1:05 PM,28/Oct/23 3:25 AM,31/Jul/18 1:05 PM,v1.2.0,,,,,,Unscheduled,,,,0,,,,,Since we have migrated from EventHub to ChannelEventHub. This is just a summary for all documents improvement and alignment.,,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11124,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzk4n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/18 1:05 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/24789/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
block channel hader timestamp inaccurate,FABN-838,32229,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,zhaochy,lovelyidiot,lovelyidiot,26/Jul/18 6:52 PM,08/Aug/18 10:54 PM,28/Oct/23 3:25 AM,08/Aug/18 10:54 PM,v1.2.0,,,,,,,,,,0,nodejs,sdk,,,"const now = new Date();

const buildFromISOString = new Date(now.toISOString());

const buildFromString = new Date(now.toString());

now => 2018-07-26T09:49:26.774Z
 buildFromISOString => 2018-07-26T09:49:26.774Z
 buildFromString => 2018-07-26T09:49:26.000Z

NODEJS SDK~~~fabric-client/lib/BlockDecoder.js:1089

using toString() lose the precision of data, we should use toISOString()",,davidkhala,lovelyidiot,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzk6n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,lovelyidiot,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 6:32 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/25255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
collections-config option not documented for instantiate/upgrade request,FABN-839,32303,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,zhaochy,davidkel,davidkel,27/Jul/18 5:59 PM,18/Aug/18 10:20 AM,28/Oct/23 3:25 AM,18/Aug/18 10:19 AM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"in channel.js, the documentation section starting
{code:java}
    /**
     * @typedef {Object} ChaincodeInstantiateUpgradeRequest
{code}
doesn't list the connections-config option",,davidkel,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzkb3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/18 10:20 AM;zhaochy;https://gerrit.hyperledger.org/r/#/c/25457/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cache signatures of service discovery queries (node sdk),FABN-840,31119,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,yacovm,yacovm,16/Jun/18 11:38 PM,25/Oct/19 3:17 AM,28/Oct/23 3:25 AM,25/Oct/19 3:17 AM,,,,,,,,,,,0,sdk-triaged,,,,"The discovery service caches signatures of queries and when TLS is employed - this allows a client to send the same query multiple times to the discovery service without the peer needing to verify signatures, given that the signature is reused, and it is in the cache of the peer and that no config update occurred that made the cache be wiped out.

 

The node SDK implementation doesn't cache the signatures, and thus even if it sends the same query to the peer over and over again - it [signs all over again|https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Channel.js#L898].

It can be nice if the node SDK caches the requests and their corresponding signatures sent to the peer(s) and this would reduce CPU cycles in the server side. ",,angelo.decaro,harrisob@us.ibm.com,MichaelWang,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1018,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,,FAB-11374,,,,,,,,,"1|hzzf2v:",,,,Unset,,,,,,,,,,,,,No,,,,,,,,,,,angelo.decaro,harrisob@us.ibm.com,MichaelWang,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Aug/18 3:22 AM;harrisob@us.ibm.com;If the client builds the same request and then signs it, why would the signatures be different ?;;;","17/Aug/18 4:48 AM;yacovm;{quote}If the client builds the same request and then signs it, why would the signatures be different ?{quote}

Because [ECDSA|https://en.wikipedia.org/wiki/Elliptic_Curve_Digital_Signature_Algorithm], the signature scheme that is used in fabric-  involves in generating a random value per signature which affects the output of the signature algorithm;;;","17/Aug/18 11:39 PM;harrisob@us.ibm.com;Then if the signatures are supposed to be different due to the random value, it seems that the fabric should think that having the same signature is a replay attack ?

 ;;;","17/Aug/18 11:58 PM;yacovm;Let me try to explain and elaborate.
 * When you sign different messages but use the same randomness to compute a signature, this is not secure and might reveal your private key ([~angelo.decaro] please correct me if I'm wrong)
 * Since all practical signature algorithms are stateless (they don't save data between their invocations), those that use random values always roll a new random value for the signature. You're going to hit the same random value only if you have a bad random number generator (bad hardware), or if god really hates you.
 * What the SDK needs to do, is- given a discovery request *M* , and a signature that the SDK signed on it - *S*, cache *(M, S)* and then if the SDK needs to send *M* again, it will just send *(M, S)* to the peer instead of signing again.
 The peer, also caches *(M, S)* and if it sees that the same client (identified by the TLS certificate) sent *(M, S)* - it would know that the client was authorized before for the channel, and thus not verify the signature again and waste CPU cycles.
 ** *Why is it safe for the peer?* Because the client is authenticated with mutual TLS, and the request M contains the client's TLS certificate hash, so the first time the peer authorized the request - it actually also can be sure that the client possesses the private key of the TLS certificate it used to connect to the peer, as well as the private key that signed the TLS certificate's hash.
 ** *Why is it safe for the client, to send again the same (M, S) and not sign M again every time?* Well - since the client repeats to the peer information that was sent to the peer in the past and nothing more - if there had been some attack, it could have been made without the client sending again the same request with the same signature.
 * *Why is this not a replay attack?* Assume that some malicious party (client or peer), obtains access to the pair *(M, S)* sent in the past by some other client (the original client) and wants to send it to some peer that would accept *(M, S)* from the real client, and return a discovery response.
 The discovery request *M*, contains the hash of the TLS certificate of the original client, and thus - assuming the malicious party doesn't possess the private key of the TLS certificate of the original client that creates *(M, S)*,it means it has a different TLS certificate (it has to use mutual TLS) and since the TLS certificate of the malicious party doesn't match the one in M, the peer would reject the query.;;;","25/Oct/19 3:17 AM;harrisob@us.ibm.com;The discovery request build by the NodeSDK is cached and may be reused. However the actual signature is not saved individually from the request. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-query the discovery service upon chaincode upgrade notification from events (node sdk),FABN-841,31117,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,yacovm,yacovm,16/Jun/18 11:01 PM,25/Oct/19 3:05 AM,28/Oct/23 3:25 AM,25/Oct/19 3:05 AM,v1.2.0,,,,,,Future,,,,0,sdk-triaged,,,,"FAB-9544 added a notification in the form of an event from the LSCC chaincode - when it is upgraded.

 

It can be nice if the SDKs trigger a discovery endorsement query whenever such an event is received, from obvious reasons.

 

[~troyronda] 

[~rickr]

[~harrisob@us.ibm.com]",,harrisob@us.ibm.com,MichaelWang,rickr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-689,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11374,,,,,,,,,"1|hzzf2f:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,MichaelWang,rickr,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jun/18 2:30 AM;rickr;The Java SDK will currently initiate a discovery when ever it detects an update block to ledger.  Won't this cover an endorsement change ? ;;;","17/Jun/18 2:46 AM;yacovm;It will cover but please don't do that... that's an overkill and would spam the peer with requests. Instead - just do it:
* Once in a while, say every 5 min or so
* Upon update to LSCC which is received from an event;;;","17/Jun/18 2:50 AM;rickr;The once every 5min is already been covered.
Update blocks are not that common are they?  And won't the that also cover cases where new organizations are added and thus new peers ?    [~jyellick] ?
 [~denyeart]
I think I've also added to not discover more than a certain number of times in a period;;;","17/Jun/18 2:57 AM;yacovm;{quote}The once every 5min is already been covered.{quote}

I know, I've reviewed the CR :) 
{quote}
Update blocks are not that common are they?{quote}
If by update blocks you mean config blocks then it's something else. I thought you meant on every update of a block.
You should re-query upon an update of a config block, but that's not sufficient, as chaincode endorsement changes arrive in non config blocks - Hence the LSCC update we introduced just for SDKs as a result of our kickstart discussion back then (I think it was in Mid April?);;;","18/Jun/18 11:23 PM;rickr;I removed the JSDK as I delivered updates to the existing gerrit CR to cover this now;;;","25/Oct/19 3:05 AM;harrisob@us.ibm.com;The SDK does not have a open event stream to monitor for events. The user controls the event stream. By default the SDK ages out the discovery results after 5 minutes which would catch any config changes or network changes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement cc2cc queries (node SDK),FABN-842,32362,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,yacovm,yacovm,28/Jul/18 7:47 AM,18/Oct/18 1:31 AM,28/Oct/23 3:25 AM,13/Sep/18 3:07 AM,,,,,,,v1.3.0,,,,0,,,,,"When the client sends a proposal to chaincode *foo*, upon reception of a proposal response from a peer:
 * Inspect the read-write sets, and see if there exists a RWSet for a namespace *bar* which is not *foo*.
 * If a cc2cc discovery query result for *foo*, *bar* had been received before and was cached, use the cached result and skip the next bullet.
 * Do a cc2cc discovery query with the namespaces: *foo, bar* and cache the result for future use.
 * Determine if the peers that were used for endorsing *foo*, also together satisfy the combination of endorsement policies of *foo* and *bar*. 
If not - re-select the peers based on the endorsement descriptor for *foo* and *bar*, and send the proposal again.

 

Note - *foo* and *bar* are brought here as examples of cc2cc invocations, but obviously the SDK should be able to handle any set of namespaces returned to it.",,davidkel,denyeart,harrisob@us.ibm.com,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11725,,,,,,,,,,,,,,,,,,,FABN-967,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzklj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,denyeart,harrisob@us.ibm.com,yacovm,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 12:49 AM;harrisob@us.ibm.com;This is the flow that I am planning to implement for 1.3 use of discovery
 * USER provided a single peer
 * USER initializes a channel object
 ** NodeSDK discovers peers and chaincodes
 ** NodeSDK discovers and caches endorsement plans for each chaincode
 * USER makes endorsement call
 ** USER includes only proposal chaincode name parameter
 ** <new for 1.3> USER includes new parameter to indicate chaincodes and collections for the proposal
 ** NodeSDK checks discovery cache based on call parameters and age and if not found or aged out
 ** NodeSDK will do a new discovery query with all new and known chaincodes and collections to refresh the cache <query and cache updated for 1.3 to include chaincode to chaincode and collections>         Note: this does assume that the discovery results are returned in the same order as the request 
 ** NodeSDK will send endorsements based on the latest endorsement plan <updated for 1.3 to allow for using chaincode to chaincode and collection based plans>.;;;","31/Aug/18 3:19 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/25870/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement collection aware discovery queries (node SDK),FABN-843,32374,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,yacovm,yacovm,28/Jul/18 10:18 PM,17/Oct/18 1:01 AM,28/Oct/23 3:25 AM,13/Sep/18 3:07 AM,,,,,,,v1.3.0,,,,0,,,,,"The discovery service query can receive names of collections of a chaincode namespace so that the returned endorsement descriptor would filter out peers not in the collection.

 
{code:java}
message ChaincodeCall {     
   string name = 1;
   repeated string collection_names = 2;
} {code}
 

This has 2 advantages:
 * Confidentiality - sometimes private data is populated with transient field, and thus we can't send the data to peers not in the collection, because they would receive the data we want to keep private.
 * A peer that endorses, might not have the private data, and as a result - the endorsement would fail....

 

Thus, the SDK needs to provide a means to a user to specify collection names which he/she predicts would be used in the chaincode invocation, and these names would be passed to the discovery service by the SDK.

 

 ",,davidkel,denyeart,harrisob@us.ibm.com,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11776,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzknz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,denyeart,harrisob@us.ibm.com,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/18 2:59 AM;harrisob@us.ibm.com;I will work on this as I do the cc2cc;;;","28/Aug/18 2:43 AM;scottz;What should happen if we join a new peer to a network, and the peer is in the collection (but has not received all the historical collection data yet), and if we send an endorsement request to that peer? Would it fail, or would it immediately retrieve the necessary data before trying to process/endorse the proposal?;;;","28/Aug/18 2:53 AM;yacovm;Retrieving data is independent of whether you endorse on the peer or not, therefore it'll fail.;;;","15/Sep/18 8:58 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26202/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement channel-less peer queries (node SDK),FABN-844,32376,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,yacovm,yacovm,28/Jul/18 10:26 PM,17/Oct/18 1:01 AM,28/Oct/23 3:25 AM,19/Sep/18 7:06 PM,,,,,,,v1.3.0,,,,0,,,,,"The discovery service can be used to query the peer membership in a non channel context.

 

This is done by issuing a [LocalQuery|https://github.com/hyperledger/fabric/blob/release-1.2/protos/discovery/protocol.proto#L86]. 

The motivation and justification for its existence is that an organizational administrator might want to have a dashboard application where it can see all the peers it has in its possession, and all the peers that the peers in its possession know about (i.e - peers from other organizations).

By default, the discovery service is configured to allow this query only to administrators of the peer itself, however [it can be configured|https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/core.yaml#L462] to disclose the information to any member of the peer's organization.

[~ptippett] - This one can be useful for you when/if you upgrade to v1.2 ;)",,davidkel,harrisob@us.ibm.com,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzkof:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,yacovm,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 5:45 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26372/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SideDB.js jsdoc enhance,FABN-845,32387,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,30/Jul/18 3:08 PM,31/Jul/18 1:04 PM,28/Oct/23 3:25 AM,31/Jul/18 1:04 PM,v1.2.0,,,,,,,,,,0,,,,,"Add typedef for 

{color:#629755}collectionConfig{color}

as param for static methods.",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzkqv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jul/18 3:15 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/24923/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for Node SK 1.2.1,FABN-846,32407,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,30/Jul/18 9:46 PM,13/Sep/18 2:23 AM,28/Oct/23 3:25 AM,31/Jul/18 4:07 PM,v1.2.0,,,,,,v1.2.0,,,,0,,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-918,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzktz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/18 9:56 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/24931/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
detach envelop builder from channel.sendTransaction,FABN-847,32425,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,31/Jul/18 1:15 PM,12/Dec/18 11:54 PM,28/Oct/23 3:25 AM,12/Dec/18 11:54 PM,,,,,,,,,,,0,,,,,"As I observed, the method `channel.sendTransaction` is highly not related to Channel itself, the only required property is channel._clientContext.

And since I also found detached design in `channel.sendTransactionProposal`, I proposed and created a static method `buildTransactionEnvelop` in Channel Class likewise.",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzkwn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/18 1:23 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/24973/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HSM Devices not working during enrollment,FABN-848,32430,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,davidkel,jyg,jyg,31/Jul/18 4:57 PM,11/Sep/18 9:29 PM,28/Oct/23 3:25 AM,11/Sep/18 9:29 PM,v1.2.0,,,,,,v1.2.0,v1.3.0,,,0,,,,,"While testing Gemalto Data Protection on Demond HSM PAAS, I happened to be unable to perform an enrollment of a user defined in my ca to submit a query on my channel.

I contacted Gemalto developer working on Fabric and he provided the following patch to have my application running successfully.  It modifies the Client.js file and  the _setUserFromConfig() call.  I attached this patch.

I would appreciate if this could be pushed to the master after review for 1.2+ and 1.1 releases.

 

I included the RegisterUser.js code as test case.  It uses a profile network.yaml.  I provided one as sample. 

 

 ",,davidkel,jyg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/18 4:54 PM;jyg;Client.diff;https://jira.hyperledger.org/secure/attachment/15425/Client.diff","01/Aug/18 1:49 AM;jyg;RegisterUser.js;https://jira.hyperledger.org/secure/attachment/15430/RegisterUser.js","01/Aug/18 1:49 AM;jyg;hlfconnection.js;https://jira.hyperledger.org/secure/attachment/15429/hlfconnection.js","01/Aug/18 1:50 AM;jyg;network.yaml;https://jira.hyperledger.org/secure/attachment/15431/network.yaml",,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzkxr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,jyg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/18 11:44 PM;davidkel;This has already been fixed in master and will be in the 1.3 release of the fabric-node-sdk ;;;","11/Sep/18 6:30 PM;davidkel;Backported to 1.2
https://gerrit.hyperledger.org/r/#/c/26217/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update with latest protos,FABN-849,32447,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,01/Aug/18 3:22 AM,06/Aug/18 11:25 PM,28/Oct/23 3:25 AM,06/Aug/18 11:25 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,update to the latest protos,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzl0f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-client/lib/Packager.js golang need '.s' file package,FABN-850,32478,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,Tecnalia,yunu_kim,yunu_kim,01/Aug/18 5:02 PM,02/Sep/18 11:45 PM,28/Oct/23 3:25 AM,02/Sep/18 11:45 PM,,,,,,,,,,,0,,,,,"golang libraries didn't work.
{code:javascript}
// fabric-client/lib/Packager.js : line 55~
// your code should be like
switch (type.toLowerCase()) {
case 'car':
	handler = new Car();
	break;
case 'node':
	handler = new Node();
	break;
default:
	let keep = [
	        '.go',
		'.c',
		'.h',
		'.s'  //miss this!
	];
        handler = new Golang(keep);
}
{code}

plz add '.s' files package to use other golang libraries",,davidkhala,Tecnalia,yunu_kim,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzl6n:",,,,Unset,Unset,,,,,,,,,,"use other golang libraries (ex: cib)
instanciate chain code

we get error code belows

'failed to execute transaction e724ef98e9fc9f60bf6c9bbc18df6641bd14446aed11a939eaa908c582868e26: error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 2 ""# rocket/vendor/golang.org/x/crypto/sha3\nchaincode/input/src/rocket/vendor/golang.org/x/crypto/sha3/keccakf_amd64.go:13:6: missing function body\n# rocket/vendor/golang.org/x/sys/unix\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_linux_amd64_gc.go:13:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_linux_gc.go:10:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_linux_gc.go:14:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:12:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:13:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:14:6: missing function body\nchaincode/input/src/rocket/vendor/golang.org/x/sys/unix/syscall_unix_gc.go:15:6: missing function body\n""'",,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,Tecnalia,yunu_kim,zhaochy,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/18 5:18 PM;Tecnalia;This bug is fixed with: [https://gerrit.hyperledger.org/r/#/c/25135/]

 ;;;","08/Aug/18 3:04 PM;yunu_kim;THANK YOU!!!;;;","08/Aug/18 10:23 PM;Tecnalia;It still needs to be Code reviewed and merged so it might not be inmediate change.;;;","13/Aug/18 12:12 PM;zhaochy;merged;;;","01/Sep/18 2:22 PM;davidkhala;[~zhaochy] I see it quite critical for chaincode developer using golang vendor mechanism, so I create a copy to make it fixed in release-1.2 also
https://gerrit.hyperledger.org/r/#/c/26035/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve request timeout message when system is busy,FABN-851,32517,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Aug/18 4:17 AM,08/Aug/18 6:52 AM,28/Oct/23 3:25 AM,08/Aug/18 6:52 AM,,,,,,,v1.3.0,,,,0,,,,,"If the system is extremely busy the .write() on the grpc stream may take longer than the request timeout. This give the wrong impression to the user that the problem is with the network not with the local system. 

Keep the timers as is, however modify the return message to indicate that the local system is busy and was unable to handle the outbound request. Once the .write completes, set the error message to be the original request timeout.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlbj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 6:52 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/25079/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow for monitoring all transaction,FABN-852,32518,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Aug/18 4:19 AM,08/Aug/18 11:02 PM,28/Oct/23 3:25 AM,08/Aug/18 11:02 PM,,,,,,,v1.3.0,,,,0,,,,,"Users should be able to set up an event listener that will monitor for all transactions, not just a single one.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlbr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 6:54 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/25229/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop event monitoring at current block,FABN-853,32519,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Aug/18 4:20 AM,10/Aug/18 1:36 AM,28/Oct/23 3:25 AM,10/Aug/18 1:36 AM,,,,,,,v1.3.0,,,,0,,,,,"Allow the endblock to be set to the newest, or current top.",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlbz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client Side Signing in Web Applications,FABN-854,32561,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Invalid: Works as Expected,,arman19940326,arman19940326,04/Aug/18 4:40 PM,22/Sep/18 4:47 PM,28/Oct/23 3:25 AM,07/Sep/18 2:53 AM,,,,,,,,,,,0,,,,,"I have developed a web application on top of balance transfer Fabric example. The default implementation stores all public and private keys for all users in the Node server. I want to be able to change the design in a way that user's private keys don't leave user's device. In other words, I want to implement client side signing. How can I do this?",,arman19940326,davidkel,vladyslavmunin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzljb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),arman19940326,davidkel,vladyslavmunin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/18 7:03 PM;vladyslavmunin;I did this. I build proposal on the server side.And then sign it on client. The same for payload. I implemented on top of SDK , if it's needed for community I can contribute with this. ;;;","08/Aug/18 4:15 PM;arman19940326;This is exactly what I needed. It will be a great help if you share your solution.;;;","08/Aug/18 5:07 PM;vladyslavmunin;Follow 
https://jira.hyperledger.org/browse/FABN-867;;;","08/Aug/18 9:22 PM;arman19940326;Thanks a lot.;;;","07/Sep/18 2:53 AM;davidkel;This isn't a bug and someone has provided an appropriate solution, closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK install from a package does not work,FABN-855,32586,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,mastersingh24,MariWade,MariWade,07/Aug/18 12:56 AM,18/Oct/18 5:47 PM,28/Oct/23 3:25 AM,07/Sep/18 3:56 AM,v1.0.0,,,,,,v1.1.3,v1.2.2,v1.3.0,,0,,,,,"Building a golang unsigned chaincode package using the command line ""
peer chaincode package"" command.   It is documented here: [http://hyperledger-fabric.readthedocs.io/en/latest/chaincode4noah.html#creating-the-package]
 
 
I'm then trying to install/instantiate that chaincode and getting errors.  The request has the same id and version as specified when building the chaincode package.  The install request is specifying type of 'car.
 
The error received is:
 
{{error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: Error starting container: Failed to generate platform-specific docker build: Error building CAR: Error returned from build: 1 ""Exception in thread ""main"" com.google.protobuf.InvalidProtocolBufferException$InvalidWireTypeException: Protocol message tag had invalid wire type.}}{{ at com.google.protobuf.InvalidProtocolBufferException.invalidWireType(InvalidProtocolBufferException.java:111)}}{{ at com.google.protobuf.UnknownFieldSet$Builder.mergeFieldFrom(UnknownFieldSet.java:551)}}{{ at com.google.protobuf.MessageReflection.mergeFieldFrom(MessageReflection.java:795)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeFrom(AbstractMessage.java:445)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeFrom(AbstractMessage.java:325)}}{{ at com.google.protobuf.AbstractMessageLite$Builder.mergeFrom(AbstractMessageLite.java:240)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeFrom(AbstractMessage.java:592)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeFrom(AbstractMessage.java:325)}}{{ at com.google.protobuf.AbstractMessageLite$Builder.mergeDelimitedFrom(AbstractMessageLite.java:309)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeDelimitedFrom(AbstractMessage.java:606)}}{{ at com.google.protobuf.AbstractMessageLite$Builder.mergeDelimitedFrom(AbstractMessageLite.java:315)}}{{ at com.google.protobuf.AbstractMessage$Builder.mergeDelimitedFrom(AbstractMessage.java:598)}}{{ at flatland.protobuf.PersistentProtocolBufferMap$Def.parseDelimitedFrom(PersistentProtocolBufferMap.java:178)}}{{ at flatland.protobuf.PersistentProtocolBufferMap.parseDelimitedFrom(PersistentProtocolBufferMap.java:310)}}{{ at flatland.protobuf.core$protobuf_seq$fn__3080.invoke(core.clj:84)}}{{ at clojure.lang.LazySeq.sval(LazySeq.java:40)}}{{ at clojure.lang.LazySeq.seq(LazySeq.java:49)}}{{ at clojure.lang.LazySeq.first(LazySeq.java:71)}}{{ at clojure.lang.RT.first(RT.java:667)}}{{ at clojure.core$first__4339.invokeStatic(core.clj:55)}}{{ at clojure.core$first__4339.invoke(core.clj:55)}}{{ at chaintool.car.read$read_protobuf.invokeStatic(read.clj:32)}}{{ at chaintool.car.read$read_protobuf.invoke(read.clj:32)}}{{ at chaintool.car.read$read_header.invokeStatic(read.clj:37)}}{{ at chaintool.car.read$read_header.invoke(read.clj:37)}}{{ at chaintool.car.read$import_header.invokeStatic(read.clj:56)}}{{ at chaintool.car.read$import_header.invoke(read.clj:55)}}{{ at chaintool.car.read$read.invokeStatic(read.clj:118)}}{{ at chaintool.car.read$read.invoke(read.clj:117)}}{{ at chaintool.subcommands.buildcar$run$fn__6529.invoke(buildcar.clj:32)}}{{ at chaintool.subcommands.buildcar$run.invokeStatic(buildcar.clj:32)}}{{ at chaintool.subcommands.buildcar$run.invoke(buildcar.clj:29)}}{{ at chaintool.core$_app.invokeStatic(core.clj:175)}}{{ at chaintool.core$_app.doInvoke(core.clj:143)}}{{ at clojure.lang.RestFn.applyTo(RestFn.java:137)}}{{ at clojure.core$apply.invokeStatic(core.clj:646)}}{{ at clojure.core$apply.invoke(core.clj:641)}}{{ at chaintool.core$_main.invokeStatic(core.clj:184)}}{{ at chaintool.core$_main.doInvoke(core.clj:183)}}{{ at clojure.lang.RestFn.applyTo(RestFn.java:137)}}{{ at chaintool.core.main(Unknown Source)}}{{""}}{{    at new createStatusError (/Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:64:15)}}{{    at /Users/mariwade/Developer/PBSA/sds-cc-client/node_modules/grpc/src/client.js:583:15}}
 
 ",,harrisob@us.ibm.com,KameshPalani,MariWade,mastersingh24,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12134,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlnr:",,,,Unset,Unset,,,,,,,,,,"1) package chaincode using the command (using the Fabric peer binary)
peer chaincode package ""package name"" -p ""chaincode src"" -n ""chaincode name"" -v 1

2) install using the node sdk client
(specify package and type of CAR)

3) instantiate ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,KameshPalani,MariWade,mastersingh24,MichaelWang,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/18 3:26 AM;harrisob@us.ibm.com;[~denyeart] The real problem here is that if you wish to have another peer on the channel execute chaincode it must be installed on that peer that after installing the chaincode on the peer it does not match the instantiated chaincode running on the other peers that was installed by a different client. Code is the same, however during packaging the bytes are just not the same.;;;","14/Aug/18 3:43 AM;MariWade;Verified Peer version:

peer:

 Version: 1.0.6

 Go version: go1.7.5

 OS/Arch: darwin/amd64

 Chaincode:

  Base Image Version: 0.3.2

  Base Docker Namespace: hyperledger

  Base Docker Label: org.hyperledger.fabric

  Docker Namespace: hyperledger;;;","14/Aug/18 4:49 AM;MariWade;We need to package the chaincode when a new version of the chaincode is created.  That way the same chaincode version can be installed across peers at any time without receiving a signature mis-match.

 

What I think is happening:

I am using the cli peer chaincode package command.  The package is being created just fine. 

 

Then attempting to install that package. To install the package, the type is either golang or car.

If it is golang - the sdk will attempt to package the package

If it is car - the sdk will not attempt to package the package just install it.

The type is stored by the fabric sdk in the ccSpec (Client.js, line 710).

'''
        let ccSpec = {
            type: clientUtils.translateCCType(request.chaincodeType),
            chaincode_id: {
                name: request.chaincodeId,
                path: request.chaincodePath,
                version: request.chaincodeVersion
            }
        };
'''
 
Then attempting to instantiate/upgrade the chaincode, is when I get the errors posted above.  The peer thinks the installed chaincode is a CAR file and can not decode it.
 ;;;","20/Aug/18 6:54 PM;mastersingh24;[~MariWade] -  I'm not sure why you are using the `CAR` type here.  You are definitely taking the right approach of sharing the ""package"" rather than the actual source (as that unfortunately often results in fingerprint mismatches).

When using [Client.installChaincode|https://fabric-sdk-node.github.io/Client.html#installChaincode__anchor], the `request` parameter is a [ChaincodeInstallRequest|https://fabric-sdk-node.github.io/global.html#ChaincodeInstallRequest] object.  If you want to install the `package` rather than src, then you need to set the `chaincodePackage` property of the `ChaincodeInstallRequest` and you set `chaincodeType` parameter to `node`;;;","28/Aug/18 10:50 PM;MariWade;[~mastersingh24] We tried the approach you listed.  The sdk only has to install type options 'golang' or 'car'.  When I used the approach listed here, the sdk then tried to package the package.  Basically the sdk does not support installing from a package.;;;","30/Aug/18 5:47 PM;mastersingh24;OK ... I actually figured out the problem here ... need to differentiate between code bytes and actually have the serialized package.  To the naked eye, the existing code seems to support installing existing packages, but it turns out that there's a bug where it actually wraps an existing package as code bytes as well.

I'd prefer not to backport this to 1.0, so will do 1.1.x, 1.2.x and master;;;","31/Aug/18 4:03 AM;mastersingh24;[https://gerrit.hyperledger.org/r/26004]   (release-1.1)

https://gerrit.hyperledger.org/r/26008   (release-1.2);;;","18/Oct/18 5:47 PM;KameshPalani;Hi Gari, 

 

I have the package placed under path '/home/abc/artifacts/src/pkg/signeddcc.out'. I'm not getting whether to pass this path as  chaincodePackage value or pass the below buffer? Can you please kindly assist?

 

var fs = require('fs');
 var chaincodePackageString = fs.readFileSync(chaincodePackagePath, ""utf8"");
 chaincodePackageBuffer = Buffer.from(chaincodePackageString);;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I want to submit a transaction to a fabric network using a single API method call",FABN-856,32611,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,07/Aug/18 5:07 PM,28/Aug/18 12:52 AM,28/Oct/23 3:25 AM,17/Aug/18 11:49 PM,,,,,,,v1.3.0,,,,0,,,,,"* create fabric-network package
 * unit test infrastructure; set coverage thresholds to 100%
 * network, channel, contract API classes
 * does +not+ wait for any commit notifications
 * implementation of in-memory wallet
 * logger
 * unit and integration tests
 * documentation",,andrew-coleman,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlrz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the submitTransaction API, I want to await notification of commit event",FABN-857,32612,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,andrew-coleman,andrew-coleman,07/Aug/18 5:09 PM,04/Sep/18 12:33 AM,28/Oct/23 3:25 AM,04/Sep/18 12:08 AM,,,,,,,v1.3.0,,,,0,,,,,Implementation of default event handler (MSPID_SCOPE_ALLFORTX strategy - Listen for all event hubs on your org),,andrew-coleman,bestbeforetoday,denyeart,MichaelWang,n-horiguchi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzls7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,denyeart,MichaelWang,n-horiguchi,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/18 12:54 AM;denyeart;[~andrew-coleman][~bestbeforetoday] As this is in progress I assume it is intended for v1.3.0?  I went ahead and set the Fix Version... feel free to update if I assumed incorrectly...;;;","04/Sep/18 12:33 AM;bestbeforetoday;Change Request: https://gerrit.hyperledger.org/r/#/c/26058/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the submitTransaction API, I want a choice of commit event notification strategies",FABN-858,32613,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,andrew-coleman,andrew-coleman,07/Aug/18 5:10 PM,06/Sep/18 8:29 PM,28/Oct/23 3:25 AM,04/Sep/18 12:08 AM,,,,,,,,,,,0,,,,,"* implement a pluggable mechanism
 * implement the four strategies 
 * MSPID_SCOPE_ALLFORTX Listen for all on your org
 * MSPID_SCOPE_ANYFORTX - Listen for any on your org
 * HANNEL_SCOPE_ALLFORTX - Listen for all peers in the channel
 * CHANNEL_SCOPE_ANYFORTX - Listen for any peers in the channel


 * unit and integration tests
 * documentation",,andrew-coleman,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlsf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/18 12:34 AM;bestbeforetoday;Change Request: https://gerrit.hyperledger.org/r/#/c/26058/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want to be able to choose to store the wallet on the file system",FABN-859,32614,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,davidkel,andrew-coleman,andrew-coleman,07/Aug/18 5:13 PM,29/Aug/18 11:46 PM,28/Oct/23 3:25 AM,29/Aug/18 11:46 PM,,,,,,,,,,,0,,,,,"* implement pluggable mechanism
 * implement filesystem wallet
 * unit and integration tests
 * documentation",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlsn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want clear samples for the fabric-network API",FABN-860,32615,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,07/Aug/18 5:14 PM,15/Oct/18 11:51 PM,28/Oct/23 3:25 AM,15/Oct/18 11:51 PM,,,,,,,v1.4.0,,,,0,,,,,new implementation of fabcar sample using the fabric-network API,,andrew-coleman,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlsv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Aug/18 11:05 PM;SjirNijssen;I propose to make an example that is considered practical by the decision makers of the investment in a possible Fabric blockchain system. According to the chat channels fabcar is not considered practical by some messages.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want Typescript definitions of the API to enable content assist in code editors",FABN-861,32616,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,andrew-coleman,andrew-coleman,07/Aug/18 5:15 PM,31/Aug/18 12:36 AM,28/Oct/23 3:25 AM,31/Aug/18 12:36 AM,,,,,,,,,,,0,,,,,create typescript definition of fabric-network package,,andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlt3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 9:49 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/25968/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want a choice of wallet storage mechanisms, including CouchDB persistence",FABN-862,32617,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,14gracel,andrew-coleman,andrew-coleman,07/Aug/18 5:16 PM,15/Oct/18 11:51 PM,28/Oct/23 3:25 AM,15/Oct/18 11:51 PM,,,,,,,v1.4.0,,,,0,,,,,implement couchDB wallet,,andrew-coleman,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzltb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want to use HSM to store credentials",FABN-863,32618,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,14gracel,andrew-coleman,andrew-coleman,07/Aug/18 5:16 PM,24/Oct/18 7:31 PM,28/Oct/23 3:25 AM,24/Oct/18 7:31 PM,,,,,,,v1.4.0,,,,0,,,,,implement HSM wallet mixin,,andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzltj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/18 11:27 PM;davidkel;this is dependent on FABN-885;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want to utilize 'service discovery' to discover endorsing peers",FABN-864,32619,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,07/Aug/18 5:17 PM,14/Nov/18 2:47 AM,28/Oct/23 3:25 AM,14/Nov/18 2:47 AM,,,,,,,v1.4.0,,,,0,,,,,"* allow for chaincode to chaincode
 * allow for collections",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzltr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want to use my own plug-in event handler",FABN-865,32620,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,andrew-coleman,andrew-coleman,07/Aug/18 5:17 PM,07/Nov/18 2:20 AM,28/Oct/23 3:25 AM,25/Oct/18 1:55 AM,,,,,,,v1.4.0,,,,0,,,,,"Enable support for pluggable event handlers in the gateway options

Create a sample event handler plugin",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzltz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer, I want to query a fabric network using a single API method call",FABN-866,32621,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkel,andrew-coleman,andrew-coleman,07/Aug/18 5:18 PM,30/Aug/18 3:38 AM,28/Oct/23 3:25 AM,30/Aug/18 3:38 AM,,,,,,,,,,,0,,,,,"* implement query() method
 * implement a pluggable query handler mechanism
 * implement a default query handler ",,andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzlu7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 1:23 AM;davidkel;https://gerrit.hyperledger.org/r/#/c/25953/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add possibility to sign proposal / payload on client side and send them already signed ,FABN-867,32627,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Duplicate,vladyslavmunin,vladyslavmunin,vladyslavmunin,07/Aug/18 7:16 PM,21/Dec/18 11:21 AM,28/Oct/23 3:25 AM,21/Dec/18 11:21 AM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"There is no possibility to sign proposal / payload expect of using UserContext and SigningIdentity functionality .
It would be good to have functionality to send signed proposal / payload and it doesn't matter how it was signed.( on mobile device or in browser ) Important that user has to be registered and enrolled and algorithms which are used should be the same. (it can be enrolled directly from the fabric-ca).It will make SDK more flexible.

I've already did this locally and would be glad to contribute.",,arman19940326,davidkhala,MichaelWang,vladyslavmunin,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-895,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlvj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),arman19940326,davidkhala,MichaelWang,vladyslavmunin,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/18 11:20 AM;zhaochy;hello [~vladyslavmunin], can u submit a CR for your enhancement?;;;","21/Dec/18 11:21 AM;davidkhala;The work is now finished by [~zhaochy], close;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Type definition is missing for ChannelPeer and service discovery,FABN-868,32655,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,08/Aug/18 8:39 AM,25/Aug/18 6:23 AM,28/Oct/23 3:25 AM,09/Aug/18 6:25 PM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"The current type definition for fabric-client does not include some features and updates introduced in v1.2 such as ChannelPeer and Service discovery.
For example, as channel.initialize() does not accept an object as the argument and getDiscoveryResult() is not defined in the Channel class, the Typescript below cannot be complied.

{code}
import Client from 'fabric-client';

const client = Client.loadFromConfig('network.yaml');
// initialize user here (omitted)
const channel = client.getChannel('mychannel'); channel.initialize({ discover:true, asLocalhost: true })
	.then(() => {
		return channel.getDiscoveryResults();
	})
	.then((discoveryResults) => {
		console.log(JSON.stringify(discoveryResults, null, 4));
	});
{code}

Error:
{noformat}
$ npx tsc
test.ts:6:22 - error TS2345: Argument of type '{ discover: boolean; asLocalhost: boolean; }' is not assignable to parameter of type 'Buffer'.
  Object literal may only specify known properties, and 'discover' does not exist in type 'Buffer'.

6 channel.initialize({ discover:true, asLocalhost: true })
                       ~~~~~~~~~~~~~

test.ts:8:18 - error TS2339: Property 'getDiscoveryResults' does not exist on type 'Channel'.

8       return channel.getDiscoveryResults();
                       ~~~~~~~~~~~~~~~~~~~

test.ts:10:9 - error TS7006: Parameter 'discoveryResults' implicitly has an 'any' type.

10  .then((discoveryResults) => {
           ~~~~~~~~~~~~~~~~
{noformat}
",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-650,FABN-277,,,,,FABN-891,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,249eaa2370a6cf462629937db5ca2e56b72d6e5e,Unset,No,,,"1|hzzlzz:",,,,Unset,Unset,,,,,,,,,,"- Install typescript and fabric-client by npm
- Save the Typescript code as test.ts
- Run 'npx tsc --init' and 'npx tsc'
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 3:49 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/25241/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typescript test has errors and some missing files,FABN-869,32656,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,08/Aug/18 8:41 AM,13/Aug/18 12:11 PM,28/Oct/23 3:25 AM,13/Aug/18 12:11 PM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"The only Typescript test (test/typescript/test.ts) has some errors and fails when executed as following:
{noformat}
$ node test/typescript/test.js
TAP version 13
# test Peer
ok 1 should be equal
ok 2 should be equal
ok 3 should be equal
ok 4 should be equal
ok 5 should be equal
ok 6 should be equal
ok 7 should be equal
ok 8 should be equal
ok 9 Pass all Class check
# test-crypto-key-store
# use the connection profile file
fs.js:646
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);
                 ^

Error: ENOENT: no such file or directory, open '/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/test/typescript/test/fixtures/network.yaml'
    at Object.fs.openSync (fs.js:646:18)
    at Object.fs.readFileSync (fs.js:551:33)
    at _getNetworkConfig (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/fabric-client/lib/Client.js:1716:24)
    at Client.loadFromConfig (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/fabric-client/lib/Client.js:124:37)
    at Function.loadFromConfig (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/fabric-client/lib/Client.js:113:10)
    at Test.test (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/test/typescript/test.js:47:27)
    at Test.bound [as _cb] (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
    at Test.run (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:95:10)
    at Test.bound [as run] (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
    at Immediate.next [as _onImmediate] (/opt/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/results.js:71:15)
{noformat}

In addition, this test is not called from 'gulp test', so is not executed in CI.",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5581,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,249eaa2370a6cf462629937db5ca2e56b72d6e5e,Unset,No,,,"1|hzzm07:",,,,Unset,Unset,,,,,,,,,,"- Clone the fabric-client repository
- Run npm install and gulp ca
- Run gulp docker-ready
- Run gulp compile
- Run node test/typescript/test.js",,Unset,,,,,,Unset,,Unset,,(Please add usage information),shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/18 3:50 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/25239/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update jsdoc for service discovery,FABN-870,32657,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,zhaochy,zhaochy,08/Aug/18 10:15 AM,25/Oct/19 12:43 AM,28/Oct/23 3:25 AM,25/Oct/19 12:43 AM,,,,,,,,,,,0,,,,,jsdoc errors found at Channel.js,,davidkhala,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm0f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 4:54 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/25249/;;;","02/Jan/19 8:02 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/28446/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update build process to improve flexibility,FABN-871,32661,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,08/Aug/18 5:44 PM,17/Aug/18 7:54 PM,28/Oct/23 3:25 AM,17/Aug/18 7:54 PM,Unscheduled,,,,,,Unscheduled,,,,0,,,,,"The build in master currently looks at the fabric-client package.json version to try to determine what version of fabric to test against. This is changed so that it looks in the top level package for specific properties rather than version to make control more flexible

Also the changelog script failed now the Jira issue ids have changed. The change is not perfect so may still require some sort of manual intervention but better than it was as it was broken.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm13:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/18 5:49 PM;davidkel;https://gerrit.hyperledger.org/r/25253;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove references to v1.0 from node.js docs,FABN-872,32708,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,denyeart,denyeart,denyeart,10/Aug/18 4:53 AM,10/Aug/18 11:19 PM,28/Oct/23 3:25 AM,10/Aug/18 11:19 PM,,,,,,,,,,,0,,,,,Remove references to v1.0 from node.js docs,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtnb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/18 11:19 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/25377/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decode the hashed rwset for private data in BlockDecoder,FABN-873,32709,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,10/Aug/18 7:31 AM,10/Aug/18 9:50 PM,28/Oct/23 3:25 AM,10/Aug/18 9:50 PM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"BlockDecoder does not decode hashed rwset when a transaction accesses private data at present.

The result below shows a JSON for the decode result for setPrivateData transaction by test/integration/private-data.js,
 and it lacks collection_hashed_rwset in ns_rwset.
{noformat}
{
  ""header"": {
    ""number"": ""8"",
    ""previous_hash"": ""b55e8b10ebdaed730feeeaf8a74cf7b6bd3e7f38a58a100b29ab314dc52f24df"",
    ""data_hash"": ""4d47d33e716324ca844b359d958082bd71d82c1929dc37db2ecde3a6fb7f2d1b""
  },
  ""data"": {
    ""data"": [
      {
...
          ""data"": {
            ""actions"": [
              {
...
                ""payload"": {
...
          ""data"": {
            ""actions"": [
              {
...
                ""payload"": {
...
                   ""action"": {
                    ""proposal_response_payload"": {
                      ""proposal_hash"": ""88cd15b8b4154637c2980ba946b6adef778833b4bf215d3f2c312f20427bcd86"",
                      ""extension"": {
                        ""results"": {
                          ""data_model"": 0,
                          ""ns_rwset"": [
                            {
                              ""namespace"": ""end2endnodesdk_privatedata"",
                              ""rwset"": {
                                ""reads"": [],
                                ""range_queries_info"": [],
                                ""writes"": []
                              }
                            },
                            {
                              ""namespace"": ""lscc"",
                              ""rwset"": {
                                ""reads"": [
                                  {
                                    ""key"": ""end2endnodesdk_privatedata"",
                                    ""version"": {
                                      ""block_num"": ""7"",
                                      ""tx_num"": ""0""
                                    }
                                  },
                                  {
                                    ""key"": ""end2endnodesdk_privatedata~collection"",
                                    ""version"": {
                                      ""block_num"": ""7"",
                                      ""tx_num"": ""0""
                                    }
                                  }
                                ],
                                ""range_queries_info"": [],
                                ""writes"": []
                              }
                            }
                          ]
                        },
...
{noformat}",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm7b:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/18 7:41 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/25387/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a node sdk client, I want access to key-level metadata in BlockDecode",FABN-876,32894,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,17/Aug/18 2:59 AM,26/Aug/18 2:29 AM,28/Oct/23 3:25 AM,17/Aug/18 4:30 AM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"To introduce state-based endorsement, key-level metadata is implemented in the read-write set in the ledger.
 BlockDecoder should also support for this, decoding metadata write in addition to read and write sets.

Current example output for an Action:
{noformat}
...
                  ""action"": {
                    ""proposal_response_payload"": {
                      ""proposal_hash"": ""d7e39a3827c4957df76df55253758c7d23b8c29a4e7f6f097bc12205d898357e"",
                      ""extension"": {
                        ""results"": {
                          ""data_model"": 0,
                          ""ns_rwset"": [
                            {
                              ""namespace"": ""e2enodecc"",
                              ""rwset"": {
                                ""reads"": [],
                                ""range_queries_info"": [],
                                ""writes"": [
                                  {
                                    ""key"": ""a"",
                                    ""is_delete"": false,
                                    ""value"": ""100""
                                  },
                                  {
                                    ""key"": ""b"",
                                    ""is_delete"": false,
                                    ""value"": ""200""
                                  }
                                ]
                           },
                           ""collection_hashed_rwset"": []
                         },
...
{noformat}",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9645,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|hzzn2n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Aug/18 3:53 AM;shimos;https://gerrit.hyperledger.org/r/25609;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
network config tutorial gives too small value for message limits,FABN-877,33006,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,14gracel,davidkel,davidkel,17/Aug/18 8:01 PM,04/Dec/18 7:29 PM,28/Oct/23 3:25 AM,04/Dec/18 7:29 PM,v1.2.0,,,,,,v1.4.0,,,,0,,,,,"the network config tutorial has this block in it
orderers:
orderer.example.com:
url: grpcs://localhost:7050
grpcOptions:
ssl-target-name-override: orderer.example.com
grpc-max-send-message-length: 15
tlsCACerts:
path: test/fixtures/channel/crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tlscacerts/example.com-cert.pem
 
 
We see grpc-max-send-message-length is set to 15. This means 15 bytes which is far too small. Unfortunately people tend to copy this example so we should put something in here that is more practical",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzn67:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 8:25 PM;davidkel;Moved to bug as this is really a bug rather than a task;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a node SDK client, I want to query for a chaincode's collection configuration",FABN-878,33023,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,18/Aug/18 10:16 AM,12/Oct/18 4:21 AM,28/Oct/23 3:25 AM,22/Aug/18 10:11 AM,,,,,,,v1.3.0,,,,0,,,,,add SDK api to retrieve the collections config after a channel's chaincode instantiate.,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-357,FABG-769,,,,,,,,,,,,,,FAB-10650,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzn9r:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/18 9:02 PM;zhaochy;https://gerrit.hyperledger.org/r/25753;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Adopt stateless design for helper, tool methods",FABN-879,33029,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,18/Aug/18 7:33 PM,30/Oct/19 1:10 AM,28/Oct/23 3:25 AM,30/Oct/19 1:10 AM,v1.2.0,,,,,,,,,,0,,,,,"Client, Channel is a good sample to store state data, which has been used for service discovery, CryptoStore and signing identity. 
But for others tool set or helper like `utils.js`, we should keep it stateless ",,davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1245,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznb3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:10 AM;heatherp;The associated commit was merged, so closing this old issue off;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the simple mspManagers object in utils,FABN-880,33030,33029,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,davidkhala,davidkhala,davidkhala,18/Aug/18 7:37 PM,20/Aug/18 5:49 PM,28/Oct/23 3:25 AM,20/Aug/18 5:49 PM,v1.2.0,,,,,,,,,,0,,,,,"The object is only a simple object mapping channelID to MSP manager instance. 
It should be in nodejs application level to implement this, instead of in sdk.",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznbb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/18 11:09 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/25661/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use of the node SDK integration code with Gemalto HSM on we.trade project,FABN-881,26110,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Invalid,,SarithaArun,SarithaArun,16/Dec/17 4:55 AM,19/Aug/18 10:02 PM,28/Oct/23 3:25 AM,19/Aug/18 10:02 PM,,,,,,,v1.1.0,,,,0,node-SDK,,,,"This issue is mainly to see how the new code that has been developed by Gemalto HSM team can be integrated into Hyperledger Fabric code base and used for we.trade project. 

A bit of background on this : 

The  Europe Gemalto team have demoed us some key code changes to Fabric SDK connecting to Gemalto HSM. The video of the demo is in the link below. [https://ibm.box.com/s/hqdecqu7tzvx421wtiwqha20gmkjme32]

I had a call with Emmanuel Bout, Gemalto Director for Business Dev in Europe and there are some key points that he conveyed to me which I would like to share with all of you and also plan the next steps.

1) The changes made to the code as shown to us in the demo will be put into the Hyperledger Fabric opensource code, but the timeframes for this are still unknown as it depends on the release cycle. But Emmanuel mentioned that Jonathan P ( who demoed and developed the code) can make the code available to us for the we.trade project and help us integrate it. They are also happy to work with the IBM Fabric team closely in order to achieve this. The team is having a meeting with Jon's manager to understand his bandwidth and to make him available to help us. Hence the immediate step from Gemalto is to make the code available to us while trying to get it in the open source code base in parallel.

 

2) In the meantime, Emmanuel also highlighted that if we are keen to get that code integrated to Hyperledger Fabric opensource code base, we should push it from our end too. He suggested that I mention this specially to you *Nitin*. I am not sure what the options are for us to push the new changes into the code base at the earliest so we can then use it for we.trade project. 

 

We have to get started with developing the code and integrating it with Fabric composer and build any additional custom code that would be needed to connect our Bank's client application to Gemalto HSM in order to initiate/sign/encrypt the transaction. The deadline for this is Jan 15th and hence worrying. 

The support from the Gemalto team in helping us understand about HSM and giving us demo/answering our queries  has been much more than any help that we have received from Faleel Mohideen(who is our IBM contact on Cloud HSM). 

 

The Fabric Client and composer teams are both waiting for this new code so they can start using it on we.trade project. Who do I need to talk to in order to make progress here. Do we continue to work directly with the local Gemalto team here in Europe and make progress or do we have someone else I should be working with ? 

 ",,mastersingh24,nitingaur,SarithaArun,simsc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyr2f:",,,,Unset,,,,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,nitingaur,SarithaArun,simsc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Dec/17 5:40 AM;simsc;[~SarithaArun] can you get the Gemalto team to submit a CR so the team can evaluate their modifications.;;;","16/Dec/17 6:19 AM;SarithaArun;I will check with Emmanuel and get back at the earliest which I think will be Monday now. 

 ;;;","31/Dec/17 7:03 AM;nitingaur;we have a established engagement model with Gemalto. I can send that via mail.

 ;;;","19/Aug/18 10:00 PM;mastersingh24;I believe this can be closed.  I'm also moving it to the Node SDK project;;;","19/Aug/18 10:02 PM;mastersingh24;This is no longer a valid issue.  PKCS11 changes were integrated with the Node SDK in v1.1.x;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI script to publish fabric-network,FABN-882,33045,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,21/Aug/18 12:46 AM,29/Aug/18 11:46 PM,28/Oct/23 3:25 AM,29/Aug/18 11:46 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,New network fabric module needs to be published. ,,davidkel,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzndz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing Connection Profile documentation ,FABN-883,33069,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,21/Aug/18 9:11 PM,18/Sep/18 5:11 PM,28/Oct/23 3:25 AM,18/Sep/18 5:11 PM,v1.3.0,,,,,,v1.3.0,,,,0,Documentation,,,,There should be a single doc page that describes all the fields used by the NodeSDK and how to use them for the Connection Profile files.,,harrisob@us.ibm.com,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzni7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 4:19 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue will be worked on after code freeze. This is not a code issue, this is a doc issue that will update the NodeSDK tutorials.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing timeout parameter on queryByChaincode,FABN-884,33070,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,21/Aug/18 9:16 PM,13/Sep/18 4:28 PM,28/Oct/23 3:25 AM,13/Sep/18 4:28 PM,,,,,,,v1.3.0,,,,0,,,,,There is no way to set a custom timeout setting on the queryByChaincode call. There should be a timeout parameter or a way to pass in 'request=timeout' as part of the request object that is used on the call.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznif:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 4:23 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue will be worked on shortly, this is a code/API issue that is a missing optional parameter that the other API's have.;;;","13/Sep/18 1:31 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26255/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Have a test suite that utilises HSM backed by softhsm as the HSM provider,FABN-885,33129,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,14gracel,davidkel,davidkel,22/Aug/18 11:26 PM,24/Oct/18 10:07 PM,28/Oct/23 3:25 AM,24/Oct/18 10:07 PM,v1.2.0,v1.3.0,,,,,v1.4.0,,,,0,,,,,"The node-sdk doc says that there is experimental HSM support and how to enable it for testing. This task is to go back and change the doc to say HSM is not experimental now, and to have proper unit and integration tests of the HSM support which run as part of the build verify process.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznnz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/18 1:01 AM;davidkel;Need to add this to the verify build process of node-sdk to ensure softhsm is present.
{code:java}
# install softhsm
mkdir softhsm
cd softhsm
curl -O https://dist.opendnssec.org/source/softhsm-2.0.0.tar.gz
tar -xvf softhsm-2.2.0.tar.gz
cd softhsm-2.2.0
./configure --disable-non-paged-memory --disable-gost
make
sudo make install

# now configure slot 0 with pin
sudo mkdir -p /var/lib/softhsm/tokens
sudo chmod 777 /var/lib/softhsm/tokens
softhsm2-util --init-token --slot 0 --label ""ForComposer"" --so-pin 1234 --pin 98765432
{code}
 ;;;","31/Aug/18 5:31 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/26017/;;;","13/Oct/18 1:41 AM;davidkel;assigning this to you liam as you are already doing it has part of fabric-network HSM work;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix gulp test to remove Chaincode's docker containers and images of network-e2enodecc,FABN-886,33168,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,24/Aug/18 1:52 AM,24/Aug/18 11:29 PM,28/Oct/23 3:25 AM,24/Aug/18 11:29 PM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"`gulp test` doesn’t remove Chaincode's docker containers and images of network-e2enodecc.

After running `gulp test`, I executed `gulp docker-clean` to remove containers and images related to Chaincode.
However, some containers and images created for the end-to-end test of fabric-network were not removed.

{noformat}
$ gulp test
$ gulp docker-clean
$ docker ps -a
CONTAINER ID        IMAGE                                                                                                              COMMAND                  CREATED             STATUS                      PORTS               NAMES
6175cf17e84a        dev-peer0.org2.example.com-network-e2enodecc-v0-4455dbec9c22dd92f91f6edf98f990c4b9207d94ae03c70899e485e5b616afd9   ""/bin/sh -c 'cd /u...""   32 minutes ago      Exited (0) 15 seconds ago                       dev-peer0.org2.example.com-network-e2enodecc-v0
db73a03d03f1        dev-peer0.org1.example.com-network-e2enodecc-v0-f0ea899496760854d411765e3885a78e2a00d1e8419edb4a5a730033933b1f35   ""/bin/sh -c 'cd /u...""   32 minutes ago      Exited (0) 15 seconds ago                       dev-peer0.org1.example.com-network-e2enodecc-v0
$ docker images
REPOSITORY                                                                                                         TAG                            IMAGE ID            CREATED             SIZE
dev-peer0.org1.example.com-network-e2enodecc-v0-f0ea899496760854d411765e3885a78e2a00d1e8419edb4a5a730033933b1f35   latest                         483da48298e1        9 hours ago         1.45GB
dev-peer0.org2.example.com-network-e2enodecc-v0-4455dbec9c22dd92f91f6edf98f990c4b9207d94ae03c70899e485e5b616afd9   latest                         c2c4d5860f7d        9 hours ago         1.45GB
{noformat}

The script (fabric-sdk-node/build/task/test.js) runs `grep` command to search docker containers and images containing Chaincode’s name.
The current `grep` command below can’t find Chaincode named `network-e2enodecc`, which is used for the end-to-end test of fabric-network.
We need to update the regular expression to search and remove the remaining containers and images.

{noformat}
// stop and remove chaincode docker instances
'docker kill $(docker ps | grep ""dev-peer0.org[12].example.com-e"" | awk \'{print $1}\')',
'docker rm $(docker ps -a | grep ""dev-peer0.org[12].example.com-e"" | awk \'{print $1}\')',

// remove chaincode images so that they get rebuilt during test
'docker rmi $(docker images | grep ""^dev-peer0.org[12].example.com-e"" | awk \'{print $3}\')',
{noformat}
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznvj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/18 2:12 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/25829/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a node SDK user, I would like to deploy a java chaincode",FABN-887,33174,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,24/Aug/18 3:50 AM,13/Sep/18 3:06 AM,28/Oct/23 3:25 AM,13/Sep/18 3:06 AM,,,,,,,v1.3.0,,,,0,,,,,"As a node SDK user, I would like to deploy a java chaincode",,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-889,,,,,,,FABJ-353,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzznwn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 6:27 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/25936/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add java chaincode to install chaincode options,FABN-889,33177,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,24/Aug/18 3:54 AM,13/Sep/18 3:07 AM,28/Oct/23 3:25 AM,13/Sep/18 3:07 AM,,,,,,,v1.3.0,,,,0,,,,,Add the java chaincode type to the chaincode types supported.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-887,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznxb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistency between documentation and types,FABN-891,33217,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,25/Aug/18 6:23 AM,05/Sep/18 8:40 AM,28/Oct/23 3:25 AM,05/Sep/18 8:40 AM,v1.2.1,,,,,,v1.3.0,,,,0,,,,,"There is still inconsistency between API documentation and type definition in fabric-sdk-node.
For example, it is not possible for a Typescript client to specify private collection setting when it instantiates a chaincode
because the type definition ({{fabric-client/types/index.d.ts}}) for {{ChaincodeInstantiateUpgradeRequest}} lacks {{collections-config}} as following:

{code}
  export interface ChaincodeInstantiateUpgradeRequest {
    targets?: Peer[] | string[];
    chaincodeType?: ChaincodeType;
    chaincodeId: string;
    chaincodeVersion: string;
    txId: TransactionId;
    transientMap?: any;
    fcn?: string;
    args?: string[];
    'endorsement-policy'?: any;
  }
{code}

Another example is `targets` field found in several objects such as {{JoinRequest}}.
The field accepts both an array of Peer objects and an array of strings (names of peers) in implementation.
The type definition allows both but the documentation only specifies {{Peer[]}} as in {{fabric-client/lib/Channel.js}}:

{code}
       /**
         * @typedef {Object} JoinChannelRequest
         * @property {Peer[]} targets - Optional. An array of Peer objects or Peer names that will
{code}
",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-650,FABN-373,FABN-277,FABN-868,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ebdde06f476fd1784d9bef63606dbd2e8ed86693,Unset,No,,,"1|hzzo8n:",,,,Unset,Unset,,,,,,,,,,"- Write a Typescript code that adds 'collections-config' field in a ChaincodeInstantiateUpgradeRequest object (such as request['collections-config'] = 'collections-config.yaml'; )
- Compile it
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),shimos,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Aug/18 6:55 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/25881/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node8-merge job is failing in FabricCAClient operations.,FABN-892,33234,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,sambhavdutt,sambhavdutt,27/Aug/18 1:14 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,01/Sep/18 12:40 AM,v1.3.0,,,,,,v1.3.0,,,,0,ci-failure,,,,"The fabric-sdk-node8-merge is failing due to error in FabricCAClient funtions, Posting the errors observed,


{code:java}
10:51:48 error: [FabricCAClientService.js]: enroll() missing required argument ""request""
10:51:48 debug: [FabricCAClient.js]: Successfully constructed Fabric CA client from options - {""caname"":""ca_name"",""protocol"":""http"",""hostname"":""hyperledger"",""port"":4000,""tlsOptions"":null}
10:51:48 debug: [FabricCAClientService.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""hyperledger"",""port"":4000}
10:51:48 error: [FabricCAClientService.js]: enroll() missing required argument ""request""
10:51:48 debug: [FabricCAClient.js]: Successfully constructed Fabric CA client from options - {""caname"":""ca_name"",""protocol"":""http"",""hostname"":""hyperledger"",""port"":4000,""tlsOptions"":null}
10:51:48 debug: [FabricCAClientService.js]: Successfully constructed Fabric CA service client: endpoint - {""protocol"":""http"",""hostname"":""hyperledger"",""port"":4000}
10:51:48 error: [FabricCAClientService.js]: Invalid enroll request, missing enrollmentID
10:51:48 debug: [FabricCAClient.js]: Successfully constructed Fabric CA client from options - {""caname"":""ca_name"",""protocol"":""http"",""hostname"":""hyperledger"",""port"":4000,""tlsOptions"":null}
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/birds-eye/job/fabric-sdk-node8-merge-master-x86_64/105/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/105/",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ebdde06f476fd1784d9bef63606dbd2e8ed86693,Unset,No,,,"1|hzzoc7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Sep/18 12:32 AM;sambhavdutt;This error is no longer happening from several builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can not getUserContext for fabric node sdk version 1.2,FABN-893,33240,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Invalid: Environment Issue,davidkel,hightall,hightall,27/Aug/18 5:32 PM,14/Nov/18 11:00 PM,28/Oct/23 3:25 AM,14/Nov/18 11:00 PM,,,,,,,,,,,0,,,,,"I have enrolled new user successfully, and got the priv, pub files in keyvalue store path, but when I getUserContext for this username, got the exception.
error: [Client.js]: Failed to load user ""hightall@me.com"" from local key value store. Error: TypeError: l.indexOf is not a function
    at Object.KEYUTIL.getKey (/packages/fabric-1.2/node_modules/jsrsasign/lib/jsrsasign.js:247:13081)
    at CryptoSuite_ECDSA_AES.getKey (/packages/fabric-1.2/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:204:27)
    at <anonymous>
error: [Client.js]: Failed to load an instance of requested user ""hightall@me.com"" from the state store on this Client instance. Error: TypeError: l.indexOf is not a function
    at Object.KEYUTIL.getKey (/packages/fabric-1.2/node_modules/jsrsasign/lib/jsrsasign.js:247:13081)
    at CryptoSuite_ECDSA_AES.getKey (/packages/fabric-1.2/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:204:27)
    at <anonymous>
2018-08-27 08:02:00,060 ERROR 57 TypeError: l.indexOf is not a function
    at Object.KEYUTIL.getKey (/packages/fabric-1.2/node_modules/jsrsasign/lib/jsrsasign.js:247:13081)
    at CryptoSuite_ECDSA_AES.getKey (/packages/fabric-1.2/node_modules/fabric-ca-client/lib/impl/CryptoSuite_ECDSA_AES.js:204:27)
    at <anonymous>
2018-08-27 08:02:00,061 ERROR 57 Failed to join all peers to channel. cause:TypeError: l.indexOf is not a function
2018-08-27 08:02:00,062 ERROR 57 nodejs.unhandledRejectionError: Failed to join all peers to channel. cause:TypeError: l.indexOf is not a function",,andrew-coleman,davidkel,hightall,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzodj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,davidkel,hightall,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/18 11:09 PM;davidkel;[~hightall]
Could you provide sample code that shows how you first obtained the identity, set up and stored it in the keystore and finally the getUserContext call that fails ? 
It's not possible to determine what the problem is just from that stack trace
;;;","14/Nov/18 11:00 PM;andrew-coleman;closing as no response from originator;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node.js SDK - keep user private key offline,FABN-895,33331,,Epic,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,30/Aug/18 10:24 AM,22/Nov/19 9:23 PM,28/Oct/23 3:25 AM,06/Dec/18 10:36 AM,,,,,,,v1.4.0,,,,0,,,,,"As a (node) sdk user, I want to keep my private key safe, and use my private key offline.

In most use case, fabric-sdk-node will be used at the server side. However, the current design of node sdk requires the user's private key to sign transaction. SDK should provide possibility so that user can keep their private key somewhere else, and no private key is needed at SDK side.",,arman19940326,davidkhala,knagware9,latitiah,MichaelWang,nnao,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-867,,,,,,,,,,,,,,,,,,,,,,,,,,,Done,https://docs.google.com/document/d/1gj5XB7yS-pfjpvZEUQh5lBGSIE6aQemu8A69tAYQtTc/edit#heading=h.blytbnfrd23h,Available,Unset,Required,ghx-label-5,,Node.js SDK - keep user private key offline,To Do,No,,Required,No,,,"1|hzzorb:",,,,Unset,Required,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,Included in Design Doc,Unset,,Unset,,(Please add usage information),arman19940326,davidkhala,knagware9,latitiah,MichaelWang,nnao,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/18 4:28 PM;arman19940326;I've also been looking for a solution to client side signing so that the node server doesn't need to store users' private key. Did you find anything to solve this issue?;;;","25/Sep/18 12:33 AM;zhaochy;[~arman19940326] There are several solutions for the client signing, which one is better depends on your business scenarios.
# Thinking about the banking system，usually there are some hardware USB devices to do the signing. And some drivers for the device is required at client side.
# Another common way is using a software wallet to do this. There are a lot of software wallets for the crypto currency. We may benefits from these implementations.
# Using a cloud based private key management system is also a good choice. However extra work should be made to ensure a safe communication (https, mutual TLS, etc) between the client (browser, cellphone, PAD, etc) and cloud crypto suite.;;;","19/Oct/18 4:42 PM;davidkhala;Agree with the idea . I  think it require more stateless design of some function in `Channel.js` and `Client.js`, a good example is static function `Channel.sendTransactionProposal`;;;","26/Oct/18 7:53 AM;latitiah;Hi [~zhaochy], I wanted to contact you over rocketchat, but I was not clear on your handle. I figured this would be good enough. :)

This epic needs a test plan added to the epic. The test plan should include functional and system test cases that you expect to be executed for this epic. The functional test case ideas should include negative test cases as well as happy path cases. Any system test (performance, concurrency, load...) expectations that should be executed with this epic should also be noted. Thanks!;;;","31/Oct/18 3:54 PM;zhaochy;[~latitiah] Thanks. My rocket chat id is zhaochy. I will add a test plan after the design is reviewed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (node) sdk user, I want keep my private key offline, and sign my transaction offline",FABN-896,33332,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,30/Aug/18 10:28 AM,18/Oct/18 1:31 AM,28/Oct/23 3:25 AM,03/Sep/18 12:05 PM,,,,,,,,,,,0,,,,,"As a (node) sdk user, I don't want to keey my private key at SDK side (server side). SDK should provide a possibility to 
* build the transaction proposal
* verify a transaction proposal
* send a signed transaction proposal",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-967,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzorj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/18 9:59 PM;zhaochy;https://gerrit.hyperledger.org/r/25976;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (node) sdk user, I want enroll with a CSR from client side",FABN-897,33333,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,30/Aug/18 10:35 AM,27/Nov/18 1:57 PM,28/Oct/23 3:25 AM,27/Nov/18 1:55 PM,,,,,,,,,,,0,,,,,"As a (node) sdk user, I want to keey my private key safe, and user my private key offline.

Current SDK will generate a key pairs when a user try to enroll himself at fabric-ca. However, generate privateKey at SDK side seems not secure sometimes. SDK should provide the capability so that a user can generate a key pairs (or use existing key pairs) at local and call enroll() with a CSR.",,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzorr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/18 4:38 AM;harrisob@us.ibm.com;Are you going to be able to work on this for 1.4 ?

Do you think it is important to have for 1.4 ?

 ;;;","14/Nov/18 12:06 PM;zhaochy;sure I can do this for 1.4
In fact, I'm not doing this right now just because I'm waiting for the review of the design.
;;;","27/Nov/18 1:57 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/27636/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
document on how to use private key offline to sign a transaction,FABN-898,33334,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,30/Aug/18 10:37 AM,26/Sep/18 5:28 PM,28/Oct/23 3:25 AM,26/Sep/18 5:28 PM,,,,,,,,,,,0,,,,,"After FABN-896 was done, some doc is needed for the new interfaces",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzorz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Sep/18 4:45 PM;zhaochy;https://gerrit.hyperledger.org/r/26053;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
documents on how to enroll with a csr,FABN-899,33335,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,30/Aug/18 10:38 AM,06/Dec/18 10:36 AM,28/Oct/23 3:25 AM,06/Dec/18 10:36 AM,,,,,,,,,,,0,,,,,"After FABN-897 was done, the document for enroll() should be updated to cover the recent changes.",,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzos7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 3:18 PM;zhaochy;https://gerrit.hyperledger.org/r/27799;;;","04/Dec/18 4:26 AM;harrisob@us.ibm.com;I think we should a section to the following tutorial on how to get the user's certificate, we may also wish to rename this to something like ""Working with an offline private key""
{color:#d4d4d4}        {color}{color:#9cdcfe}""title""{color}{color:#d4d4d4}: {color}{color:#ce9178}""fabric-client: How to sign a transaction with an offline private key""{color}
 ;;;","05/Dec/18 4:29 PM;zhaochy;updated tutorials
https://gerrit.hyperledger.org/r/27951;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error: Failed to connect before the deadline It will be retried for the next request. Is not a helpful error message,FABN-900,33348,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,davidkel,davidkel,30/Aug/18 6:46 PM,12/Sep/18 5:23 PM,28/Oct/23 3:25 AM,12/Sep/18 5:23 PM,v1.2.0,,,,,,v1.3.0,,,,0,,,,,"This error comes from this call prior to trying to interact through a protobuf in calls such as sendProposal in the Peer
{code:java}
client.waitForReady(timeout, (err) => {
{code}
End applications have no idea which end point is the problem as this information is now lost. This call needs to be enhanced or the error captured by the caller so that the end point can be determined. Ideally it would also be really useful to know the reason it could not connect, eg ECONNREFUSED etc. This information used to come back before the waitForReady call was introduced.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzoun:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 4:25 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue will be worked on shortly. The message that is returned in this situation will be enhanced, no code function is impacted by this change.;;;","12/Sep/18 2:06 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26233/;;;","12/Sep/18 2:07 AM;harrisob@us.ibm.com;I was only able to update the error message with the URL, I could not get a hold of the why it failed to connect.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
type definitions for new Channel apis,FABN-901,33389,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,31/Aug/18 11:38 AM,18/Oct/18 3:26 PM,28/Oct/23 3:25 AM,18/Oct/18 3:26 PM,,,,,,,,,,,0,,,,,"After FABN-896 was done, the type definition for Channel should be updated",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-967,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzp0n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
type definition for API changes at fabric-ca-client,FABN-902,33390,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,31/Aug/18 11:39 AM,28/Nov/18 10:52 AM,28/Oct/23 3:25 AM,28/Nov/18 10:52 AM,,,,,,,,,,,0,,,,,"After FABN-897 was done, type definitions for fabric-ca-client should should be updated",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzp0v:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 2:13 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/27751/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename Network/Channel classes to Gateway/Network,FABN-903,33461,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,andrew-coleman,andrew-coleman,andrew-coleman,04/Sep/18 9:54 PM,04/Sep/18 11:25 PM,28/Oct/23 3:25 AM,04/Sep/18 11:25 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,"Based on feedback from the design review and subsequent discussion it was decided that the naming of the proposed Network class did not reflect the fabric architecture, and that it more correctly represents a connection to a peer or, in the case of HA, a set of peers.  It was decided that the name 'Gateway' was better for that class.  It was also decided that the concept (and name) of Network was best applied to the fabric-network/Channel class.",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzpcv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide validation strategy to fix performance hot spot in Channel.js,FABN-904,33472,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,nkl199,nkl199,05/Sep/18 12:56 AM,30/Oct/19 1:04 AM,28/Oct/23 3:25 AM,30/Oct/19 1:04 AM,,,,,,,,,,,0,,,,,"Following AppMetrics performance testing of fabric-client, there has been a hotspot identified in Channel.js `verifyProposalResponse`.

Inside the method, a validation stage is made against the proposal signatures via the `identity.verify()` method that results in a chain of elliptic cryptography invocations ... which are expensive.  This is done client side in order to prevent an error path in the orderer when this is discovered at a later time.

Removing the check provides *significant* performance improvements. Within local testing with Caliper, the following reproducible change was observed:

Based on:
 - 1k transactions
 - Driven at 75tps

Pre change
 - Achievable TPS = 45
 - Maximum client invocation latency = 20.4s
 - Average invocation latency = 9.9s

Post change:
 - Achievable TPS: 74
 - Maximum client invocation latency = 2s
 - Average invocation latency = 0.37s

Above is not a typo, there was an observed doubling in TPS and drop in latency to 10% of the original (pre-change) values.

It would be nice if the signature check could be made optional (default false) using a validation strategy that can be applied.",,heatherp,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpev:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 1:04 AM;heatherp;Maintainers are not tackling right now, we're not sure how relevant it is anymore, so closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event handling support did not include typescript definition updates,FABN-905,33513,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,05/Sep/18 11:00 PM,06/Sep/18 8:49 PM,28/Oct/23 3:25 AM,06/Sep/18 8:49 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,Need to add appropriate information and test to the typescript definitions,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzpmn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/18 11:07 PM;davidkel;https://gerrit.hyperledger.org/r/#/c/26017/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update baseimage release version in fabric-sdk-node master branch,FABN-906,33526,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,06/Sep/18 4:40 AM,11/Sep/18 4:36 AM,28/Oct/23 3:25 AM,11/Sep/18 4:36 AM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,Update Couchdb release version in fabric-sdk-node master branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpo7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel Events Documentation in code is Wrong,FABN-907,33537,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,jyellick,jyellick,06/Sep/18 11:43 AM,24/Sep/18 6:30 PM,28/Oct/23 3:25 AM,24/Sep/18 6:30 PM,v1.2.0,v1.3.0,,,,,v1.1.3,v1.2.1,v1.3.0,,0,,,,,"The channel events documentation seems to be largely copied from the standard eventhub documentation.  The whole thing could use some review, but one notable piece that jumps out is:

https://github.com/hyperledger/fabric-sdk-node/blob/767598e3c7490305dd60c634543f0bbcd7f1fd25/fabric-client/lib/ChannelEventHub.js#L90-L91

{noformat}
 * The events are ephemeral, such that if a registered listener
 * crashed when the event is published, the listener will miss the event.
{noformat}

This is patently wrong, and one of the biggest shortcomings of the old eventhub that led to its deprecation.  More correctly, events are tied to block number.  If the client tracks the last block number processed for a channel, they may simply resume event processing from this block at startup to ensure no events are missed.

Although this is a doc defect, there seems to be considerable confusion around how to appropriately receive and consume events from Fabric so I see this as rather important for us to get right.",,harrisob@us.ibm.com,joe-alewine,jyellick,MichaelWang,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpq7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,joe-alewine,jyellick,MichaelWang,pandrejko,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/18 1:04 AM;pandrejko;[~jyellick] Is the text which follows those statements still correct or does that need to be addressed as well. ?
```
|There are several techniques to compensate for missed events due to client crashes:|

| 1) register block event listeners and record the block numbers received, such that|

| * when the next block arrives and its number is not the next in sequence, then|

| * the application knows exactly which block events have been missed. It can then use|

| * [queryBlock]{@link Channel#queryBlock} to get those missed blocks from the target peer or|

| * register for events using the startBlock option to resume or replay the events. You may|

| * also include an endBlock number if you wish to stop listening.|

| 2) use a message queue to catch all the block events. With many robust message queue|

| * implementations available today, you will be guaranteed to not miss an event. A|

| * fabric event listener can be written in any programming language. The following|

| * implementations can be used as reference to write the necessary glue code between|

 * the fabric event stream and a message queue:```;;;","07/Sep/18 3:05 AM;jyellick;IMO, yes, those blocks of text should be deleted.  The text should also be updated to discuss the options for beginning (and ending) event delivery.  By default, the most recently committed block is the start point, but if the user knows the last block processed, it may specify it.  There are also options to explicitly start from the oldest or newest block.  I believe in v1.3 there may additionally be options for what block to end at (the underlying service API supports this, I do not know if the node SDK does).;;;","11/Sep/18 4:28 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue will be worked on after code freeze. This is not a code issue, this is a doc issue that will update the NodeSDK tutorials and API docs.;;;","20/Sep/18 3:19 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26396/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a (node) sdk user, I want sign the registration of channel eventhub offline",FABN-908,33566,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,07/Sep/18 5:03 PM,13/Sep/18 12:03 PM,28/Oct/23 3:25 AM,13/Sep/18 12:03 PM,,,,,,,,,,,0,,,,,"similar to the transaction flow.

the event flow is updated to:
1. generate unsigned event
2. sign this event offline using this identity's private key
3. send the signed event to peer",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzpv3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/18 5:27 PM;zhaochy; https://gerrit.hyperledger.org/r/26160;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create common package for shared code,FABN-909,33569,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,nkl199,nkl199,nkl199,07/Sep/18 7:33 PM,17/Jun/20 5:51 PM,28/Oct/23 3:25 AM,11/Oct/19 9:21 PM,,,,,,,,,,,1,,,,,"At the moment files are copied from fabric-client in fabric-ca-client as part of a gulp task, because both packages require the (common) files.

This is a bit of a maintenance nightmare, not least from a test code coverage perspective.

It would be far more sensible to have a common package that both the fabric-client, and fabric-ca-client, have a dependency on. ",,davidkhala,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1309,FABN-1579,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpvj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Oct/18 7:19 PM;davidkhala;Thanks Nick, strongly agree with the idea. ;;;","31/Oct/18 11:48 PM;nkl199;fabric-common now exists and is available for use :D;;;","02/Nov/18 8:16 PM;davidkhala;[~nkl199]Furthermore, we should rewrite fabric-ca-client and fabric-client, let them all depending on fabric-common. Right? And modify the ""source copy“ gulp task;;;","02/Nov/18 8:22 PM;nkl199;Correct, there is a secondary and non-trivial thought about repository structure with this change, and this will need some discussion. For instance, it might be that this is now heading into a mono-repository structure that could possibly use rush (https://rushjs.io/) to manage it. I suspect (and would hope) that this discussion is given some thought before progress made, and certainly engage as many people from the community as possible, as it has far reaching consequences. [~andrew-coleman] - is there a particular forum where this could/should be discussed?;;;","27/Mar/19 3:40 PM;davidkhala;[https://gerrit.hyperledger.org/r/#/c/30450/]

reboot this task;;;","27/Mar/19 6:37 PM;davidkhala;meanwhile I see, CertificateAuthority.js is something used in connection profile, but existing in fabric-client instead of fabric-ca-client,  I think it is a legacy;;;","07/Apr/19 1:27 PM;davidkhala;[TO Move]: crypto implement tests are still  under fabric-client/test/impl, we should also move them to fabric-common

MSP.js looks not relevant too much with fabric-ca-client, we can move them back to fabric-client;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] eventhub connections are not done up front and not disconnected when gateway is disconnected,FABN-910,33571,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,andrew-coleman,davidkel,davidkel,07/Sep/18 11:07 PM,12/Sep/18 4:36 PM,28/Oct/23 3:25 AM,12/Sep/18 4:36 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,"eventhub connections are requested asynchronously on the first submitTransaction, the implementation should be moved to a connect up front model to avoid any timing issues that could occur.

When a gateway is disconnected, the event hubs are not disconnected which means that if multiple gateways are connected/disconnected, these eventhub connections will build up using network resources.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzpvz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/18 4:29 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue is being worked.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChannelEventHub Objects should use the same config options as Peer objects,FABN-911,33594,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,davidkel,davidkel,09/Sep/18 5:09 PM,11/Sep/18 12:41 AM,28/Oct/23 3:25 AM,11/Sep/18 12:41 AM,v1.1.3,v1.2.2,v1.3.0,,,,v1.4.0,,,,0,,,,,"Looking at the ChannelEventHub creation I see
{code}
		// check on the keep alive options
		// the keep alive interval
		let options = utils.checkAndAddConfigSetting('grpc.keepalive_time_ms', 360000, this._peer._options);
		// how long should we wait for the keep alive response
		const request_timeout_ms = utils.getConfigSetting('request-timeout', 3000);
		options = utils.checkAndAddConfigSetting('grpc.keepalive_timeout_ms', request_timeout_ms, options);
		options = utils.checkAndAddConfigSetting('grpc.http2.min_time_between_pings_ms', five_minutes_ms, options);

		logger.debug('_connect - options %j', options);
		this._event_client = new _eventsProto.Deliver(this._peer._endpoint.addr, this._peer._endpoint.creds, options);
{code}
Which looks like the grpc options are defined in code and take the information from the config.json shipped by the node-sdk
however as this is another stream to the Peer, it should use the options defined in the peer it's associated with for grpc options",,davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq0f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 12:41 AM;davidkel;Looking at the code more, seems that it does take the peer settings as default.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using discovery doesn't allow for grpc options to be set on Peers/Orderers,FABN-912,33595,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,09/Sep/18 5:12 PM,06/Dec/18 3:43 AM,28/Oct/23 3:25 AM,06/Dec/18 3:43 AM,v1.2.2,v1.3.0,,,,,v1.4.0,,,,0,,,,,"Looking at the current discovery code, it will create Peer and Orderer objects, however it looks like it's not possible to define grpc options for these objects. There needs to be a way to allow a user to provide appropriate grpcOptions for these discovered objects.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq0n:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 8:18 PM;davidkel;Moved this from task to bug as it hasn't been looked at and either needs a solution or needs good docs (see FABN-834) otherwise it's likely long running client applications using discovery will get timeout issues.;;;","05/Dec/18 11:43 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/27945/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Better way to handle grpc options in config.json,FABN-913,33596,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,09/Sep/18 5:37 PM,25/Oct/19 3:06 AM,28/Oct/23 3:25 AM,25/Oct/19 3:06 AM,v1.3.0,,,,,,Future,,,,0,sdk-triaged,,,,At the moment if we want to add further grpc options with a default you need to add the entry to config.json then change the code in multiple places to pick up this new option. We should have a single entry called grpcOptions in config.json which is an object of grpc options so that we can add or remove entries as necessary without having to change code.,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq0v:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/19 7:47 PM;harrisob@us.ibm.com;with the new low level all connection options are centralized in an ""Endpoint"" object. This object originates from the ""Client"" object by combining the default settings from the SDK configuration and any unique settings for that endpoint.

const options = {
    url: grpcs://myhost:80,
    pem: 'PEM...'
};
const endpoint = client.newEndpoint( options );

later the endpoint may be used to connect to all services at that endpoint

peer.connect(endpoint);
discoverer.connect(endpoint);
eventer.connect(endpoint);;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] reference doc not being published,FABN-914,33599,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid: Works as Expected,,davidkel,davidkel,09/Sep/18 7:01 PM,16/Oct/18 3:48 PM,28/Oct/23 3:25 AM,16/Oct/18 3:48 PM,v1.3.0,,,,,,v1.4.0,,,,0,,,,,"We need to review and improve the reference documentation (eg ensure we are publishing the various event strategies)
We should also include a tutorial on the new programming api ",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzq1j:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 4:30 AM;harrisob@us.ibm.com;Triage comment Sept 10: This issue is being worked;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChannelEventHub check for ready state,FABN-916,33669,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Sep/18 4:10 AM,21/Sep/18 10:46 PM,28/Oct/23 3:25 AM,13/Sep/18 12:25 AM,,,,,,,v1.3.0,,,,0,,,,,The ChannelEventHub should be able to determine the state of the connection when the GRPC level is updated to 1.14.2.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-930,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqgv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/18 5:22 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26238/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[Fabric-Network] If a commit timeout fires, it should log and include in the error the peers that have not responded.",FABN-917,33697,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,bestbeforetoday,davidkel,davidkel,13/Sep/18 12:27 AM,14/Sep/18 10:43 PM,28/Oct/23 3:25 AM,14/Sep/18 10:43 PM,v1.3.0,,,,,,,,,,0,,,,,"Is part of a diagnosis scenario, if a commitTimeout fires because the request is still waiting for a transaction committed event, then it should be possible to quickly determine which peers did not respond in time. This is necessary for problem diagnosis if you have say 10 peers to receive notification from and only 9 respond, you would have to search through 10 peers' logs to find the one that caused the problem",,bestbeforetoday,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqlb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/18 10:06 PM;bestbeforetoday;Change request: 

https://gerrit.hyperledger.org/r/26307;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for Node SDK 1.2.2,FABN-918,33701,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,13/Sep/18 2:23 AM,13/Sep/18 4:32 PM,28/Oct/23 3:25 AM,13/Sep/18 4:32 PM,,,,,,,v1.2.2,,,,0,,,,,,,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-846,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqm7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/18 2:25 AM;harrisob@us.ibm.com;modified: CHANGELOG.md
 modified: fabric-ca-client/package.json
 modified: fabric-client/package.json
 modified: package.json
 new file: release_notes/v1.2.2.txt;;;","13/Sep/18 3:02 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26259/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Event strategy failures don't include an error message,FABN-919,33721,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,13/Sep/18 6:25 PM,14/Sep/18 9:04 PM,28/Oct/23 3:25 AM,14/Sep/18 9:04 PM,,,,,,,v1.3.0,,,,0,,,,,Event strategy implementation for the submitTransaction() API should pass an Error parameter to the fail callback. Currently no parameter (i.e. undefined) is passed.,,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzqpz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/18 6:28 PM;bestbeforetoday;Change request: 

https://gerrit.hyperledger.org/r/26278;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typescript definitions for Gateway connect/disconnect,FABN-920,33767,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,14/Sep/18 7:08 PM,18/Sep/18 9:26 PM,28/Oct/23 3:25 AM,18/Sep/18 9:26 PM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,"In class Gateway, the method names initialize / dispose were changed to connect / disconnect.  The typescript definitions were missed as part of this change.  These need to be changed for this release.",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzqxr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document node.js SDK service discovery collection and chaincode-to-chaincode support,FABN-921,33799,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,15/Sep/18 8:54 PM,17/Oct/18 1:01 AM,28/Oct/23 3:25 AM,18/Sep/18 5:13 PM,,,,,,,v1.3.0,,,,0,,,,," Document the service discovery collection and chaincode-to-chaincode support implemented in FABN-842 and FABN-843.

Some API reference doc was added as part of the dev tasks, but we could use some more text around how applications use the hint (especially for cc2cc scenarios the reference doc could be clarified about ""called"" chaincodes), and a brief mention of these scenarios in the existing service discovery tutorial.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzr13:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Uncouple fabric-network from specific version of fabric-client,FABN-922,33821,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkel,davidkel,davidkel,17/Sep/18 9:24 PM,21/Sep/18 8:13 PM,28/Oct/23 3:25 AM,21/Sep/18 8:13 PM,,,,,,,,,,,0,,,,,,,davidkel,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr5r:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/18 11:08 PM;rameshthoomu;pipeline script is not yet enable in jenkins production.. You want us to modify the same change in CI scripts.. https://github.com/hyperledger/ci-management/blob/master/jjb/fabric-sdk-node/shell/include-raw-npm-publish.sh#L42-L45;;;","17/Sep/18 11:24 PM;davidkel;[~rameshthoomu] Yes please. The intention here as well is to ensure that we can still build snapshot releases. There should be another JIRA to ensure no official NPM modules for fabric-network will be released when 1.3 is tagged for the node-sdk;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
generateUnsignedTransaction should be sync method,FABN-923,33840,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,18/Sep/18 11:55 AM,19/Sep/18 5:40 PM,28/Oct/23 3:25 AM,19/Sep/18 5:40 PM,,,,,,,,,,,0,,,,,should remove async for Channel.generateUnsignedTransaction,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzr9j:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/18 5:40 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/26363/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-sdk-node build to use base image 0.4.12,FABN-924,33890,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,19/Sep/18 6:13 AM,20/Sep/18 1:34 AM,28/Oct/23 3:25 AM,19/Sep/18 6:57 AM,,,,,,,v1.3.0,,,,0,,,,,Update fabric-sdk-node build to use base image 0.4.12,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrhj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Node SDK error message ""No discovery results to return""",FABN-925,33699,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,dongming,dongming,13/Sep/18 1:31 AM,21/Sep/18 10:14 PM,28/Oct/23 3:25 AM,21/Sep/18 10:14 PM,,,,,,,v1.3.0,,,,0,,,,,"With fabric-ca-client@1.3.0-snapshot.47 and fabric-client@1.3.0-snapshot.46, PTE instantiates chaincode without using service discovery and Node SDK displays an error message ""error: [Channel.js]: No discovery results to return"".  The chaincode instantiation is successful.

info: [PTE 0 main]: [chaincodeInstantiate] Successfully sent chaincode instantiation Proposal and received ProposalResponse: Status - 200
error: [Channel.js]: No discovery results to return
info: [PTE 0 main]: [chaincodeInstantiate] register eventhub localhost:7069 with tx=3f9b0b6ba672de3c4dde04bb8f7af2e854fed311ae67b558fa967adcd48ee100
info: [PTE 0 main]: [chaincodeInstantiate] Promise.all tCurr=1536769539393
info: [PTE 0 main]: [chaincodeInstantiate:Nid=0] channel(testorgschannel1) chaincode instantiation was good",,dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/18 1:46 AM;dongming;error.log;https://jira.hyperledger.org/secure/attachment/15809/error.log",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqlr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/18 2:42 AM;harrisob@us.ibm.com;Be sure to have the Anchor peers defined and the channel MUST be updated to have them defined.

 

see https://github.com/hyperledger/fabric-sdk-node/blob/dfb88eb4ced8e92d96d23cbb00775c2fce3f38c7/test/integration/discovery.js#L37;;;","13/Sep/18 10:11 PM;dongming;I do not use service discovery for instantiation.  Why SDK invokes service discovery?;;;","14/Sep/18 1:22 AM;harrisob@us.ibm.com;Could I get a NodeSDK trace;;;","14/Sep/18 1:47 AM;dongming;trace attached, serach for ""No discovery results to return"";;;","20/Sep/18 4:48 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26404/;;;","21/Sep/18 10:14 PM;dongming;no longer see the error message with

fabric-ca-client@1.3.0-snapshot.60
fabric-client@1.3.0-snapshot.59

Close the issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] Error messages from chaincode not completely returned via Network.submitTx,FABN-926,33938,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,bestbeforetoday,mbwhite,mbwhite,20/Sep/18 5:57 PM,21/Nov/18 10:28 PM,28/Oct/23 3:25 AM,21/Nov/18 10:28 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"When using the `fabric-network:unstable` invoking a transaction if an error is returned (via shim.error) then the full message is not returned. 

e.g. within the chaincode logs.

{{018-09-20T08:33:06.211Z ERROR [lib/handler.js] [mychannel-f0345847]Calling chaincode Invoke() returned error response [ReferenceError: makeKey is not defined]. Sending ERROR message back to peer }}

 

This is returned to the client applications as

{{{{Response from attempted peer comms was an error: {""status"":500,""payload"":}}{{

{""type"":""Buffer"",""data"":[]}}}{{,""isProposalResponse"":true}}}}}

 

Tracked down to contract.js
 {{const warning = util.format('Response from attempted peer comms was an error: %j', responseContent);}}

{{responseContent is a Error instance, and util.format not pulling out enough from the error (specifically the message)}}",,bestbeforetoday,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrpb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/18 4:43 AM;bestbeforetoday;There is passing integration test covering this scenario. Looking more closely at the output, it might be possible to make the error output and logging clearer and more robust. I'll take a look.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
submitTransaction hanging on multiple transactions,FABN-927,33939,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,andrew-coleman,nkl199,nkl199,20/Sep/18 6:14 PM,27/Sep/18 5:29 PM,28/Oct/23 3:25 AM,27/Sep/18 5:29 PM,,,,,,,v1.4.0,,,,0,,,,,"It would appear that if the `contract.submitTransaction()` method is used, whilst the first transaction issued is successful, subsequent transactions do not complete. 

My suspicion is that something is occurring in the event handling side, such that no completion notifications are being received after the first successful passage.

This was found when running caliper tests that drive multiple transaction using the same gateway connection

Last successful snapshot: 1.3.0-snapshot.15

First failing snapshot: 1.3.0-snapshot.16

 

 ",,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrpj:",,,,Unset,Unset,,,,,,,,,,Invoke more than one transaction on the same gateway connection,,Unset,,,,,,Unset,,Unset,,(Please add usage information),nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Common Connection Profile Improvements and other Observations,FABN-928,33943,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,davidkel,davidkel,20/Sep/18 8:28 PM,09/Oct/19 5:49 PM,28/Oct/23 3:25 AM,09/Oct/19 5:49 PM,,,,,,,,,,,1,,,,,"The Common Connection Profile defines the section BCCSP. This would be used to provide details of PKCS11 connection to an HSM. The node-sdk doesn't support this section so support for this section should be added.

I am also wondering if there is a requirement to have a single CA definition that describes all the different names that it hosts (which partition the CA).",,davidkel,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrpz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/19 5:49 PM;davidkel;not relevant now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an application developer using the fabric-network API, I want to be able to pass in transient data to the transaction",FABN-929,33944,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,andrew-coleman,andrew-coleman,20/Sep/18 8:55 PM,05/Mar/19 6:23 PM,28/Oct/23 3:25 AM,07/Nov/18 6:44 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"Support private data collections by adding the ability to pass transient data via the submitTransaction function

Proposal:
 * Add a *setTransient**()* method to the *Contract* class
 ** Single argument of type Map, which contains the name/value pairs of transient data
 * If set, all subsequent invocations of *submitTransaction**()* will use this map in the *transient* property of the transaction proposal structure
 * The data can be 'unset', if necessary, by invoking *setTransient**(null)*

 

Rationale

This method mirrors the *getTransient()* method in the shim API (smart contract), so there is consistency in the programming model between the setting and getting of transient data across these two components.",,andrew-coleman,bestbeforetoday,isaacwch,rohitkhatri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzrq7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,isaacwch,rohitkhatri,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 8:12 PM;bestbeforetoday;Having *setTransient()* on *Contract* might potentially cause some issues for the user, since the contract is analogous to the chaincode whereas the transient data is associated with a specific transaction invocation; it is effectively additional arguments to the transaction invocation. A specific case where this would be problematic is if the client is driving the API in response to receiving REST requests or other incoming messages that might arrive in parallel. Setting transient data on the contract would make a it non-threadsafe and the client would be forced to create a new Contract instance for every transaction invocation. This would be both cumbersome and does not seem to fit the abstraction the API is designed to provide.

There are any number of practical alternative designs that could be employed. To get a feel for how these would look from a client perspective, here are code snippets demonstrating client usage of some approaches that immediately sprang to mind:
{quote}*// Using Contract.setTransient(). NOTE: only safe to use single-threaded*
 {{contract.setTransient(new Map([}}
 {{   ['socialSecurityNumber', '1234567890'],}}
 {{   ['dateOfBirth', '1970-01-01']}}
 {{]));}}
 {{const response = await contract.submitTransaction('move', 'a', 'b', '100');}}
 {{contract.setTransient(null);}}
{quote}
 
{quote}*// Safe use of Contract.setTransient() for every transaction invocation*
 {{const contract = network.getContract(chaincodeId);}}
 {{contract.setTransient(new Map([}}
 {{    ['socialSecurityNumber', '1234567890'],}}
 {{    ['dateOfBirth', '1970-01-01']}}
 {{]));}}
 {{const response = await contract.submitTransaction('move', 'a', 'b', '100');}}
{quote}
 
{quote}{{*// Overload first parameter of submitTransaction()*}}
{{const context = {}}
 {{    name: 'move',}}
 {{    transient: new Map([}}
 {{        ['socialSecurityNumber', '1234567890'],}}
 {{        ['dateOfBirth', '1970-01-01']}}
 {{    ])}}
{{};}}
{{const response = await contract.subitTransactionContext(context, 'a', 'b', '100');}}
{quote}
 
{quote}{{*// Variant of submitTransaction() but with everything in the ""context""*}}
 {{const context = {}}
 {{    name: 'move',}}
 {{    transient: new Map([ }}
 {{        ['socialSecurityNumber', '1234567890'],}}
 {{        ['dateOfBirth', '1970-01-01']}}
 {{    ]),}}
 {{    arguments: [ 'a', 'b', '100' ]}}
 {{};}}
 {{const response = await contract.subitTransactionContext(context);}}
{quote}
 
{quote}{{*// Additional Transaction abstraction for advanced case alongside existing Contract.submitTransaction()*}}
 {{const transaction = contract.createTransaction('move');}}
 {{transaction.setTransient(new Map([}}
  {{   ['socialSecurityNumber', '1234567890'],}}
 {{     ['dateOfBirth', '1970-01-01']}}
 {{]));}}
 {{const response = await transaction.submit('a', 'b', '100');}}
{quote}
 
{quote}{{*// Variant of Transaction abstraction with everything as setters*}}
 {{const transaction = contract.createTransaction('move');}}
 {{transaction.setTransient(new Map([}}
 {{    ['socialSecurityNumber', '1234567890'],}}
  {{    ['dateOfBirth', '1970-01-01']}}
 {{]));}}
 {{transaction.setArguments('a', 'b', '100');}}
 {{const response = await transaction.submit();}}
{quote}
 ;;;","05/Mar/19 2:58 PM;rohitkhatri;Hey [~bestbeforetoday],

I'm trying to pass transient data in `submitTransaction` function of contract class, is there a way to do that or It's not part of the high level node sdk yet?

Thanks.;;;","05/Mar/19 5:57 PM;bestbeforetoday;[~rohitkhatri] It is implemented in the high-level API from 1.4 onwards:
 * [https://fabric-sdk-node.github.io/release-1.4/tutorial-private-data.html]
 * [https://fabric-sdk-node.github.io/release-1.4/module-fabric-network.Transaction.html#setTransient__anchor]


You want something like:
{code:javascript}
const transientMap = {
    price: Buffer.from('42');
};
const result = contract.createTransaction()
    .setTransient(transientMap)
    .evaluate(...);{code};;;","05/Mar/19 6:23 PM;rohitkhatri;It worked, Thank you so much for your help [~bestbeforetoday];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update grpc node module to version with prebuilt electron 2.0 binaries,FABN-930,33978,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,jtonline,jtonline,21/Sep/18 7:16 PM,21/Sep/18 10:46 PM,28/Oct/23 3:25 AM,21/Sep/18 10:46 PM,,,,,,,,,,,0,,,,,"Using node modules with native binaries in an electron app is problematic. While there is not yet a suitable pure JavaScript alternative (it's currently experimental) it would be useful if the fabric sdk node depended on a more recent version of the node grpc module, which has prebuilt electron binaries that work with vscode.

The current dependency is defined as,

{{""grpc"": "">=1.3.5 <1.11.0""}}

Whereas the first version with electron 2.0 prebuilt binaries is 1.14.0.

 ",,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-916,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrxb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/18 7:44 PM;jtonline;Doh, according to Simon, the latest 1.3.0 snapshots of the client should hopefully already pull in 1.14.2, which does have prebuilt electron 2.0 binaries. I'll check that works but looks like this is going to be a short-lived issue!;;;","21/Sep/18 10:45 PM;jtonline;Hooray, it looks like this was fixed in FABN-916! https://github.com/hyperledger/fabric-sdk-node/commit/6366fac6e184e4c35fc875acd4b557080245d26d;;;","21/Sep/18 10:46 PM;jtonline;Fixed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to execute compatibility test due to Type scripts compilation errors ,FABN-931,33984,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid: Works as Expected,,Ratnakar,Ratnakar,22/Sep/18 12:02 AM,22/Sep/18 12:33 AM,28/Oct/23 3:25 AM,22/Sep/18 12:17 AM,v1.3.0,,,,,,v1.3.0,,,,0,,,,,"Please Refer the Case 4 of [FAB-12001|https://jira.hyperledger.org/browse/FAB-12001] 
NodeJs Integration Test Suite is at 1.2 and rest of the components  Node.js SDK , Fabric and  Fabric-CA are at V1.3

Test failure
{code}
test/typescript/test.ts(42,2): error TS2305: Module '""/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/node_modules/fabric-client/types/index""' has no exported member 'EventHub'.
test/typescript/test.ts(392,5): error TS2322: Type '{ proposalResponses: ProposalResponse[]; proposal: Proposal; admin: boolean; }' is not assignable to type 'TransactionRequest'.
  Object literal may only specify known properties, and 'admin' does not exist in type 'TransactionRequest'.
[19:09:45] gulp-debug: fabric-client/lib/User.js
[19:09:45] 'compile' errored after 5.32 s
[19:09:45] ^[[31mError^[[39m in plugin ""^[[36mgulp-shell^[[39m""
Message:
    Command `npm run compile` failed with exit code 2

....
.....

[19:09:50] 'test' errored after 13 s
[19:09:50] ^[[31mError^[[39m in plugin ""^[[36mgulp-shell^[[39m""
Message:
    Command `./node_modules/nyc/bin/nyc.js gulp run-test` failed with exit code 1
{code}",,denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzryn:",,,,Unset,Unset,,,,,,,,,,Please refer the description (also refer Case 4 of  issue FAB-12001  ) ,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/18 12:17 AM;harrisob@us.ibm.com;The EventHub has been removed from 1.3, so this should fail.;;;","22/Sep/18 12:33 AM;denyeart;[~Ratnakar] [~scottz] Please reach out to Bret if need any help deactivating this specific test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
design for the privacy enhancement for fabric-sdk-node,FABN-932,34038,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,25/Sep/18 12:37 AM,20/Nov/18 4:46 PM,28/Oct/23 3:25 AM,20/Nov/18 4:46 PM,,,,,,,,,,,0,,,,,"the design doc for client signing:
https://docs.google.com/document/d/1gj5XB7yS-pfjpvZEUQh5lBGSIE6aQemu8A69tAYQtTc/edit#heading=h.blytbnfrd23h",,harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-895,,,No,,Unset,No,,,"1|hzzs9j:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 4:39 AM;harrisob@us.ibm.com;Is the design complete ?;;;","14/Nov/18 11:11 AM;zhaochy;I'm waiting for comments from the community. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Filename typo,FABN-933,34071,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,n-horiguchi,n-horiguchi,n-horiguchi,25/Sep/18 5:46 PM,02/Oct/18 12:37 AM,28/Oct/23 3:25 AM,02/Oct/18 12:37 AM,,,,,,,v1.3.0,,,,0,,,,,"The filename fabric-client/test/Contants.js seems to have a typo, probably expected to be fabric-client/test/Constants.js. So let's fix it to improve code quality.",,n-horiguchi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzshr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),n-horiguchi,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/18 6:15 PM;n-horiguchi;Submitted CR: https://gerrit.hyperledger.org/r/#/c/26544/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDOC incorrect for channel.getOrganization(),FABN-934,34084,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,26/Sep/18 4:01 AM,26/Sep/18 4:40 PM,28/Oct/23 3:25 AM,26/Sep/18 4:40 PM,,,,,,,v1.3.0,,,,0,,,,,"Doc says that the return type is an array of strings, actually it is an array of objects that has the organizational ID within",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzskf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 6:48 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26566/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix dependency check in node sdk's java chaincode test,FABN-935,34095,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,denyeart,denyeart,denyeart,26/Sep/18 1:51 PM,26/Sep/18 8:18 PM,28/Oct/23 3:25 AM,26/Sep/18 8:18 PM,,,,,,,v1.3.0,,,,0,,,,,"Currently the test java chaincode can only work with version 1.3.0-SNAPSHOT of the shim.

Allow test java chaincode to work with any v1.x java shim.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-368,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzslz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 1:58 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26590/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test enhance: transientMap value,FABN-937,34098,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,davidkhala,davidkhala,davidkhala,26/Sep/18 3:26 PM,22/Oct/18 12:25 PM,28/Oct/23 3:25 AM,22/Oct/18 12:25 PM,v1.2.0,,,,,,,,,,0,,,,,"transientMap example in FABN is in form of \{ 'test':'testValue'}

but the value parsing mechanism would prefer byte[]

We could provide a better sample for developer",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsmn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 4:27 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/26592/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add .gitreview file,FABN-938,34103,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkhala,davidkhala,26/Sep/18 8:26 PM,16/Oct/18 6:15 PM,28/Oct/23 3:25 AM,16/Oct/18 6:15 PM,,,,,,,,,,,0,,,,,"It has been a legacy problem for long

a missing .gitreview file would make source contributor have to rename remote `origin` to `gerrit` each time after he clone from gerrit.",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsnr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/18 8:40 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/26594/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support contract namespaces in the fabric-network api,FABN-940,34140,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,mbwhite,andrew-coleman,andrew-coleman,27/Sep/18 6:06 PM,04/Oct/18 12:03 AM,28/Oct/23 3:25 AM,04/Oct/18 12:03 AM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"The new 'contract' class in structured chaincode allows you to specify a namespace (required if you want multiple contract classes in a single chaincode container). 

Each function in the contract is identified by a mangled name

<namespace>:<functionName>

This mangled name would need to be specified as the first param of submitTransaction.

This Jira adds the ability to hide this mangling by adding a second optional namespace parameter to the Network.getContract() function.  If specified, the Contract instance will hold the namespace and automatically prepend it to the transaction name when submitTransaction() and executeTransaction() are invoked. 

This aligns the SDK Contract class with the chaincode Contract class.

 ",,andrew-coleman,mbwhite,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzstr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,mbwhite,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/18 10:41 PM;mbwhite;Chaincode Change in https://jira.hyperledger.org/browse/FAB-12227;;;","01/Oct/18 7:22 PM;mbwhite;Gerrit build = https://gerrit.hyperledger.org/r/26691;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Comms with Peers, the responses should include the Peer URL",FABN-941,34142,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,davidkel,davidkel,27/Sep/18 7:03 PM,05/Dec/18 1:41 AM,28/Oct/23 3:25 AM,05/Dec/18 1:41 AM,v1.1.0,v1.2.0,v1.3.0,,,,v1.4.0,,,,0,,,,,"As an example, but not limited to. In the case of response proposals, both valid responses and invalid responses are returned as an array collected from the peer in this code
{code}
if (proposalResponse) {
						logger.debug('%s - Received proposal response from peer ""%s"": status - %s', method, self._url, (proposalResponse.response &&  proposalResponse.response.status) ? proposalResponse.response.status : 'undefined');
						// 400 is the error threshold level, anything below that the endorser will endorse it.
						if (proposalResponse.response && proposalResponse.response.status < 400) {
							resolve(proposalResponse);
						} else if (proposalResponse.response && proposalResponse.response.message) {
							const error = Object.assign(new Error(proposalResponse.response.message), proposalResponse.response);
							error.isProposalResponse = true;
							reject(error);
						} else {
							logger.error('GRPC client failed to get a proper response from the peer ""%s"".', self._url);
							reject(new Error(util.format('GRPC client failed to get a proper response from the peer ""%s"".', self._url)));
						}
					} else {
						logger.error('GRPC client got a null or undefined response from the peer ""%s"".', self._url);
						reject(new Error(util.format('GRPC client got a null or undefined response from the peer ""%s"".', self._url)));
{code}

We need to ensure the following can be done
1. determine a valid response and the peer that response came from
2. determine an invalid response and know the following
a) which peer that it was from
b) was the response from the peer or the sdk (isProposalResponse)

The proposal would be to add the peer to the proposalResponse, and to ensure error messages from the node-sdk are not just blanket Error objects with a single string but also have useful properties applications can determine

It's debatable whether this is a bug or enhancement but at the moment all an application can do is say if got some invalid responses but it doesn't know where from.

",,bestbeforetoday,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsu7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 12:53 AM;bestbeforetoday;In addition to changes to fabric-client, it may also be useful to include this additional information in the error messages produced in fabric-network/lib/transaction#
_validatePeerResponses;;;","04/Dec/18 1:49 AM;harrisob@us.ibm.com;Good idea, will add there also;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
grpc.load now deprecated,FABN-942,34143,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,sstone1,nkl199,nkl199,27/Sep/18 7:17 PM,01/Nov/18 12:46 AM,28/Oct/23 3:25 AM,01/Nov/18 12:46 AM,Future,,,,,,,,,,0,,,,,"Multiple files in the Fabric SDK are now showing the 

`DeprecationWarning: grpc.load: Use the @grpc/proto-loader module with grpc.loadPackageDefinition instead`

warnings, it would be nice if these could be tidied up.",,nkl199,sstone1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsuf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nkl199,sstone1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 12:45 AM;sstone1;https://gerrit.hyperledger.org/r/c/27166/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update payload to be signed in auth token,FABN-943,34156,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,skarim,skarim,27/Sep/18 11:55 PM,09/Mar/21 3:05 AM,28/Oct/23 3:25 AM,09/Mar/21 3:05 AM,,,,,,,v1.4.1,v2.0.0,,,0,community-help-wanted,external,sdk-triaged,,"Currently, the OAuth token is in the form: <base64 encoded user's cert>.<base64 encoding of the signature> The signature is on the payload of the form: <base64 encoding of request body>.<base64 encoding of user's cert> This payload needs to be changed to include the request method and URI to make it more secure. So, the payload is form the form: <request method>.<url path>.<base64 encoding of request body>.<base64 encoding of user's cert>",,denyeart,harrisob@us.ibm.com,skarim,vardan10,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-174,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:i006",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,skarim,vardan10,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 5:00 AM;skarim;[~harrisob@us.ibm.com] Hey Brett, is this something you could look in to?;;;","11/Dec/18 5:51 AM;harrisob@us.ibm.com;sure, I will need some help, what code are we talking about, do you have an example of what is not working and how it should work;;;","11/Dec/18 6:09 AM;skarim;There must be a place in the SDK that creates a token that is sent to the Fabric CA server. The payload that is signed must now include request method and url path. You could look at what was done for the Java SDK here: https://gerrit.hyperledger.org/r/c/26694/8/src/main/java/org/hyperledger/fabric_ca/sdk/HFCAClient.java#1550;;;","11/Dec/18 6:14 AM;harrisob@us.ibm.com;Is this a must do for 1.4 ?;;;","11/Dec/18 6:27 AM;skarim;Not a must do, won't break anything if we can't get it in as the CA currently supports both token forms. However, the plan for 2.0 is to only support the new token. If not 1.4 then we should aim for 2.0.;;;","11/Dec/18 6:31 AM;harrisob@us.ibm.com;I think too late for 1.4.0, will try to get in for 1.4.1 and 2.0;;;","02/Mar/19 12:45 AM;harrisob@us.ibm.com;I am not adding the ca parameter to the URL before getting that part of the token, so I only have the ""/api/v1/<function>""  When I tried putting in the ""?ca=name"" I got authentication token errors. So the question is the ca parameter required ?;;;","02/Mar/19 1:39 AM;skarim;[~harrisob@us.ibm.com] The URL that needs to be part of the token should be the exact URL that you use to contact the CA server. For example, if the URL to reach the server contains the 'ca' query parameter then you must include the 'ca' query parameter in the URL in payload that is to be signed. However, if you don't use that query parameter when contacting the server then you don't need to include it.;;;","09/Mar/21 3:05 AM;denyeart;Looks like this was done two years ago:

[https://github.com/hyperledger/fabric-sdk-node/commit/602f557cc9fa07d444bb707aeef4eb3b94757779]

Marking as done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add JSDoc to fabric-network classes,FABN-944,34186,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,28/Sep/18 5:36 PM,04/Oct/18 12:04 AM,28/Oct/23 3:25 AM,04/Oct/18 12:04 AM,,,,,,,v1.4.0,,,,0,,,,,"Create JSDoc comments for the fabric-network API classes

Generate the doc pages as part of the 'gulp doc' task",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABN-692,,,No,,Unset,No,,,"1|hzzt27:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Compatibility tests are failing with case 2 of FAB-12001 ,FABN-945,34208,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid: Test Error,harrisob@us.ibm.com,Ratnakar,Ratnakar,28/Sep/18 11:13 PM,15/Nov/18 6:26 AM,28/Oct/23 3:25 AM,15/Nov/18 6:26 AM,v1.3.0,,,,,,v1.4.0,,,,0,,,,,"Please Refer the Case 2 of [FAB-12001|https://jira.hyperledger.org/browse/FAB-12001] 
NodeJs Integration Test Suite /SDK and Fabric-Ca are all at *V1.2.0* , where as Fabric Images are at *1.3.0-rc1*

Refer the case 2 test steps given in *Steps to Reproduce the issue* section.

High level overview of the failures :

{code}
not ok 728 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 729 Failed to invoke transaction chaincode
not ok 740 Failed transaction ::undefined
not ok 741 Error: Failed transaction ::undefined at Promise.all.then.catch (/Users/ratnakar/workspace/go/src/github.com/hyperledger/fabric-sdk-node/test/integration/invoke.js:293:11) at <anonymous>
not ok 836 Problem setting up the event hub :Error: Received status message on the event stream. status:NOT_FOUND
not ok 837 Problem setting up the event hub :Error: ChannelEventHub has been shutdown
not ok 838 Test failed with Error: Problem setting up the event hub :Error: ChannelEventHub has been shutdown
not ok 839 transaction proposal was bad
not ok 840 transaction proposal was bad
not ok 841 Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 842 Test failed with Error: Failed to send invoke Proposal or receive valid response. Response null or status is not 200. exiting...
not ok 844 Test failed with Error: 2 UNKNOWN: access denied: channel [adminconfig] creator org [Org1MSP]
not ok 846 Failed to find our channel in the result list
not ok 860 TypeError: Cannot read property 'name' of undefined
{code}

 ",,harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12001,,,,,,,,,,,"28/Sep/18 11:07 PM;Ratnakar;case2_logs.txt;https://jira.hyperledger.org/secure/attachment/15893/case2_logs.txt","28/Sep/18 11:07 PM;Ratnakar;changes.txt;https://jira.hyperledger.org/secure/attachment/15894/changes.txt",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt5r:",,,,Unset,Unset,,,,,,,,,,"Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.3 & Fabric-CA is at 1.2

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:1.3.0-rc1
export THIRDPARTY_IMG_TAG=:0.4.12
export DOCKER_IMG_CA_TAG=:1.2.0

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""",,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/18 11:15 PM;Ratnakar;Complete set of run logs [^case2_logs.txt]

^Also enclosed the extra changes made to disable the events , please refer the changes [^changes.txt]^;;;","28/Sep/18 11:17 PM;Ratnakar;[~harrisob@us.ibm.com] We could reduce few more failures by adding more tweaks to the testcases. and we would need your help for the same.;;;","09/Oct/18 3:19 AM;harrisob@us.ibm.com;Need to modify the 'test/unit/util.js' function buildJoinEventMonitor

Change it to do a sleep for 10 seconds, should be long enough for the join to finish.

return new Promise(resolve => setTimeout(resolve, '10000));

 ;;;","15/Nov/18 6:26 AM;harrisob@us.ibm.com;Test needs to be changed to wait for the channel to be created;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SSL error when client loaded from network config file (connection profile),FABN-946,34214,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,eymorale,eymorale,29/Sep/18 5:40 AM,15/Nov/18 5:50 PM,28/Oct/23 3:25 AM,15/Nov/18 5:50 PM,v1.2.0,,,,,,,,,,0,,,,,"My fabric network does not have mtls enabled. When I create a fabric-client Client object from the network config file using the `loadFromConfig()` function, I notice that the _tls_mutual object is populated with some auto generated material from the addTlsClientCertAndKey() method. When this is the case, I see the following error:

 

```

E0928 16:29:07.400800000 140735755232128 ssl_transport_security.cc:1227] Handshake failed with fatal error SSL_ERROR_SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca

error: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://nff69909753c4402fb02df6b51be53cf2-org1-peer1.stage.blockchain.ibm.com:31002

error: [Network]: _initializeInternalChannel: Unable to initialize channel. Attempted to contact 1 Peers. Last error was Error: Failed to connect before the deadline URL:grpcs://nff69909753c4402fb02df6b51be53cf2-org1-peer1.stage.blockchain.ibm.com:31002

```

 

If the _tls_mutual object material is not set (empty object), everything works fine.",,eymorale,harrisob@us.ibm.com,MichaelWang,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzt6v:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),eymorale,harrisob@us.ibm.com,MichaelWang,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/18 10:39 PM;Ratnakar;[~harrisob@us.ibm.com] Also just to make sure I would like to mention this point.

couldn't make the Admin operations (Channel creation/join/install/instantiate etc.,) work, if we just git rid off the *_tls_mutual* object. 
Also you can't  reproduce this issue on Local networks but with the networks having proxies.;;;","02/Oct/18 11:42 PM;MichaelWang;[~eymorale] I knew someone got this issue before. Almost  the same issue. I don't think it is a bug or defects of node sdk. When using the loadFromConfig(), you have to populate the channel object with info from profile file. This function just load the config, but it is your duty to populate the proper object.

ex, populating the specific channel with channel peer. As I know this is a fix. This may be  the miss. Please try that.;;;","04/Oct/18 6:59 AM;harrisob@us.ibm.com;The code added for discovery to generate a self signed cert is adding a client key and cert to the 'Client' object. Then when a new peer or orderer NodeSDK object is created, the client key and cert are used for the GRPC mutual TLS parameters. When talking directly to a Peer or Orderer, these do not cause a problem with a Peer or Orderer that is not using mutual TLS, however it does seem to cause an issue with a proxy sitting in front of the fabric network.

[~mastersingh24] should we not be setting up GRPC to use mutual TLS on the client side (NodeSDK) and just generate the certificate for use with Discovery when we do not have one and only setup the GRPC mutual TLS client settings if the user directs ( when the user setting the key/cert ).;;;","15/Nov/18 4:48 AM;harrisob@us.ibm.com;Change will be to only provide the client cert/key to GRPC if and only if user has done the setTLSClientCertAndKey(cert, key). The client cert hash will be calculated when needed based on the user provided cert or a self signed cert automatically generated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow users of the SDK to create chaincode packages,FABN-948,34270,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sstone1,sstone1,sstone1,02/Oct/18 11:58 PM,04/Oct/18 12:03 AM,28/Oct/23 3:25 AM,04/Oct/18 12:03 AM,,,,,,,,,,,0,,,,,"Chaincode packages are in the ChaincodeDeploymentSpec format.

Today, a chaincode package can be created by a user using the ""peer chaincode package"" command.

In the SDK, a chaincode package is created internally when a user calls Client.installChaincode(), if an existing chaincode package has not been specified.

However, there is no way for an SDK user to create a chaincode package themselves and save it somewhere, if they wish to programatically perform the same packaging task as the ""peer chaincode package"" command.

This story will expose the existing packaging code via a new ""Package"" class that allows a user of the SDK to:
 * Load a chaincode package from an existing buffer/file and get information about it
 * Create a new chaincode package from a directory
 * Save a chaincode package to a buffer/file",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztgn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/18 12:07 AM;sstone1;Proposal is to add a new top level class called Package, with the following interface:
{code:javascript}
class Package {
    static fromBuffer(buffer: Buffer): Promise<Package>;
    static fromDirectory(options: { name: string, version: string, path: string, type: ChaincodeType, metadataPath?: string }): Promise<Package>;
    getName(): string;
    getVersion(): string;
    getType(): ChaincodeType;
    getFileNames(): string[];
    toBuffer(): Promise<Buffer>;
  }
{code}
The class can used as follows:
{code:javascript}
const { Package } = require('fabric-client');

const packageBuffer = fs.readFileSync('my-chaincode.cds');
const package = await Package.fromBuffer(packageBuffer);
console.log(package.getName()); // outputs ""my-chaincode""
console.log(package.getVersion()); // outputs ""1.2.3""

const package = await Package.fromDirectory({
	name: 'my-contract',
	version: '1.2.3',
	path: '/path/to/my-contract',
	type: 'node'
});
console.log(package.getName()); // outputs ""my-chaincode""
console.log(package.getVersion()); // outputs ""1.2.3""
const packageBuffer = await Package.toBuffer();

const package = await Package.fromDirectory({
	name: 'my-contract',
	version: '1.2.3',
	path: '/path/to/my-contract',
	type: 'node',
	metadataPath: '/path/to/META-INF'
});
console.log(package.getName()); // outputs ""my-chaincode""
console.log(package.getVersion()); // outputs ""1.2.3""
const packageBuffer = await Package.toBuffer();
{code};;;","03/Oct/18 7:26 PM;sstone1;https://gerrit.hyperledger.org/r/c/26744/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CouchDB index installation not working via node SDK due to path issues,FABN-949,34252,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,AdnanChoudhury,AdnanChoudhury,02/Oct/18 4:11 AM,04/Oct/18 1:33 AM,28/Oct/23 3:25 AM,04/Oct/18 1:32 AM,v1.3.0,,,,,,v1.3.0,v1.4.0,,,0,must-fix,,,,"test: FAB-8692

Expected: As specified in the testcase, the chaincode installation should also install the index, and index can be visible in the Fauxton interface and mentioned in peer log.

Actual result : index is not installed, not visible in Fauxton and not mentioned in the peer log.

More details: It looks like the node SDK is  not consuming the metaDataPath properly---The PTE test tool sends it but Node SDK finds it undefined (see last line of code below):

{code:java}
^[[32minfo^[[39m: [PTE 0 main]: request_install: {""targets"":[{""_options"":{""clientCert"":""-----BEGIN CERTIFICATE-----\r\nMIIBVDCB+6ADAgECAgEEMAoGCCqGSM49BAMCMBgxFjAUBgNVBAMMDXBlZXJvcmcx\r\nQWRtaW4wIhgPMjAxODEwMDIxMzE2NTBaGA8yMDE4MTAwMzA3MjAxMFowGDEWMBQG\r\nA1UEAwwNcGVlcm9yZzFBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFtd\r\nfMNpebmrnPTBqw6yGdKai8DzdVfsuXnDkWN+M6T1H/QPXzVfpO8JpoGAGh6qspwd\r\nmp8huOdvfu4MrHC5rwajMjAwMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMBMG\r\nA1UdJQQMMAoGCCsGAQUFBwMCMAoGCCqGSM49BAMCA0gAMEUCIQCRVhk4WZdKD1Xu\r\nOg3Mqn8iHtbsalLmbbjax5ERgCbT8AIgWhXzhYlI12sVFWxplMA3yfC5wGl2nI1u\r\nz8fseH8y3iM=\r\n-----END CERTIFICATE-----\r\n"",""clientKey"":""-----BEGIN PRIVATE KEY-----\r\nMIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgZqL4v6NjCDJ6xKT3\r\nQbJdgk0/uyQQkal0NFxjLnR44AihRANCAARbXXzDaXm5q5z0wasOshnSmovA83VX\r\n7Ll5w5FjfjOk9R/0D181X6TvCaaBgBoeqrKcHZqfIbjnb37uDKxwua8G\r\n-----END PRIVATE KEY-----\r\n"",""grpc.ssl_target_name_override"":""peer0.org1.example.com"",""grpc.default_authority"":""peer0.org1.example.com"",""grpc.max_receive_message_length"":-1,""grpc.max_send_message_length"":-1},""clientCert"":""-----BEGIN CERTIFICATE-----\r\nMIIBVDCB+6ADAgECAgEEMAoGCCqGSM49BAMCMBgxFjAUBgNVBAMMDXBlZXJvcmcx\r\nQWRtaW4wIhgPMjAxODEwMDIxMzE2NTBaGA8yMDE4MTAwMzA3MjAxMFowGDEWMBQG\r\nA1UEAwwNcGVlcm9yZzFBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFtd\r\nfMNpebmrnPTBqw6yGdKai8DzdVfsuXnDkWN+M6T1H/QPXzVfpO8JpoGAGh6qspwd\r\nmp8huOdvfu4MrHC5rwajMjAwMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMBMG\r\nA1UdJQQMMAoGCCsGAQUFBwMCMAoGCCqGSM49BAMCA0gAMEUCIQCRVhk4WZdKD1Xu\r\nOg3Mqn8iHtbsalLmbbjax5ERgCbT8AIgWhXzhYlI12sVFWxplMA3yfC5wGl2nI1u\r\nz8fseH8y3iM=\r\n-----END CERTIFICATE-----\r\n"",""_url"":""grpcs://localhost:7061"",""_endpoint"":{""creds"":{},""addr"":""localhost:7061""},""_name"":""localhost:7061"",""_request_timeout"":200000,""_grpc_wait_for_ready_timeout"":3000,""_endorserClient"":{""$interceptors"":[],""$interceptor_providers"":[],""$channel"":{}},""_discoveryClient"":{""$interceptors"":[],""$interceptor_providers"":[],""$channel"":{}}},{""_options"":{""clientCert"":""-----BEGIN CERTIFICATE-----\r\nMIIBVDCB+6ADAgECAgEEMAoGCCqGSM49BAMCMBgxFjAUBgNVBAMMDXBlZXJvcmcx\r\nQWRtaW4wIhgPMjAxODEwMDIxMzE2NTBaGA8yMDE4MTAwMzA3MjAxMFowGDEWMBQG\r\nA1UEAwwNcGVlcm9yZzFBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFtd\r\nfMNpebmrnPTBqw6yGdKai8DzdVfsuXnDkWN+M6T1H/QPXzVfpO8JpoGAGh6qspwd\r\nmp8huOdvfu4MrHC5rwajMjAwMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMBMG\r\nA1UdJQQMMAoGCCsGAQUFBwMCMAoGCCqGSM49BAMCA0gAMEUCIQCRVhk4WZdKD1Xu\r\nOg3Mqn8iHtbsalLmbbjax5ERgCbT8AIgWhXzhYlI12sVFWxplMA3yfC5wGl2nI1u\r\nz8fseH8y3iM=\r\n-----END CERTIFICATE-----\r\n"",""clientKey"":""-----BEGIN PRIVATE KEY-----\r\nMIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgZqL4v6NjCDJ6xKT3\r\nQbJdgk0/uyQQkal0NFxjLnR44AihRANCAARbXXzDaXm5q5z0wasOshnSmovA83VX\r\n7Ll5w5FjfjOk9R/0D181X6TvCaaBgBoeqrKcHZqfIbjnb37uDKxwua8G\r\n-----END PRIVATE KEY-----\r\n"",""grpc.ssl_target_name_override"":""peer1.org1.example.com"",""grpc.default_authority"":""peer1.org1.example.com"",""grpc.max_receive_message_length"":-1,""grpc.max_send_message_length"":-1},""clientCert"":""-----BEGIN CERTIFICATE-----\r\nMIIBVDCB+6ADAgECAgEEMAoGCCqGSM49BAMCMBgxFjAUBgNVBAMMDXBlZXJvcmcx\r\nQWRtaW4wIhgPMjAxODEwMDIxMzE2NTBaGA8yMDE4MTAwMzA3MjAxMFowGDEWMBQG\r\nA1UEAwwNcGVlcm9yZzFBZG1pbjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABFtd\r\nfMNpebmrnPTBqw6yGdKai8DzdVfsuXnDkWN+M6T1H/QPXzVfpO8JpoGAGh6qspwd\r\nmp8huOdvfu4MrHC5rwajMjAwMAwGA1UdEwEB/wQCMAAwCwYDVR0PBAQDAgbAMBMG\r\nA1UdJQQMMAoGCCsGAQUFBwMCMAoGCCqGSM49BAMCA0gAMEUCIQCRVhk4WZdKD1Xu\r\nOg3Mqn8iHtbsalLmbbjax5ERgCbT8AIgWhXzhYlI12sVFWxplMA3yfC5wGl2nI1u\r\nz8fseH8y3iM=\r\n-----END CERTIFICATE-----\r\n"",""_url"":""grpcs://localhost:7062"",""_endpoint"":{""creds"":{},""addr"":""localhost:7062""},""_name"":""localhost:7062"",""_request_timeout"":200000,""_grpc_wait_for_ready_timeout"":3000,""_endorserClient"":{""$interceptors"":[],""$interceptor_providers"":[],""$channel"":{}},""_discoveryClient"":{""$interceptors"":[],""$interceptor_providers"":[],""$channel"":{}}}],""chaincodePath"":""github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02"",""metadataPath"":""/home/ibmadmin/gopath/src/github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02/META-INF"",""chaincodeId"":""marbles_cc_ch1"",""chaincodeType"":""golang"",""chaincodeVersion"":""v0""}
^[[34mdebug^[[39m: [Client.js]: installChaincode - start
^[[34mdebug^[[39m: [Client.js]: getTargetPeers - start
^[[34mdebug^[[39m: [Client.js]: installChaincode - found peers ::2
^[[34mdebug^[[39m: [packager]: packager: chaincodePath: github.com/hyperledger/fabric-test/fabric/examples/chaincode/go/marbles02, chaincodeType: golang, devmode: false, metadataPath: undefined{code}



 ",,AdnanChoudhury,denyeart,harrisob@us.ibm.com,sstone1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8251,FAB-8252,FAB-11715,FAB-11716,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztdj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,denyeart,harrisob@us.ibm.com,sstone1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/18 12:05 AM;denyeart;[~harrisob@us.ibm.com] Please take a look...;;;","03/Oct/18 12:22 AM;sstone1;This appears to have been broken by https://jira.hyperledger.org/browse/FABN-855.

metadataPath is no longer being passed into Packager.package in _getChaincodeDeploymentSpec().

[~mastersingh24] was that intentional?;;;","03/Oct/18 3:56 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/26725/;;;","04/Oct/18 1:33 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/26726/] - merged in release-1.3;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDOC discovery setting should be false,FABN-950,34283,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,03/Oct/18 6:49 AM,05/Oct/18 7:49 AM,28/Oct/23 3:25 AM,04/Oct/18 9:45 AM,,,,,,,v1.3.0,,,,0,,,,,"The default for using discovery is false, the jsdoc should be fixed.",,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztiv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 6:45 AM;harrisob@us.ibm.com;master - [https://gerrit.hyperledger.org/r/#/c/26730/]
release-1.3 - https://gerrit.hyperledger.org/r/#/c/26731/;;;","04/Oct/18 9:46 AM;denyeart;[~harrisob@us.ibm.com] I merged them both. Question - did you want to cherry pick to release-1.2 as well?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] transaction handlers share the same counters,FABN-951,34300,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,davidkel,davidkel,03/Oct/18 7:31 AM,09/Oct/18 9:45 PM,28/Oct/23 3:25 AM,09/Oct/18 9:45 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"I have a concern regarding transaction handlers not managing their own counters for event strategies. It forces the requirement that submitTransaction must be a synchronous activity and code such as 
{code}
const p1 = contract.submitTransaction(...);
const p2 = contract.submitTransaction(...);

await Promise.all([p1, p2]);
{code}
is not a supported programming paradigm.

I think it would be better that each TxEventHandler manages it's own counters and doesn't share them with other TxEventHandlers through the strategy object associated with the gateway.

Also it would not be usable from say a rest server without the rest server having to create a gateway for each request.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztj3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
readme updates required,FABN-952,34309,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Done,nkl199,nkl199,nkl199,03/Oct/18 8:28 PM,04/Oct/18 5:51 PM,28/Oct/23 3:25 AM,04/Oct/18 5:51 PM,,,,,,,v1.4.0,,,,0,,,,,"The following items in the repository need updating:
- pacakge.json information for each package should include a description and keywords
- the Readme.md should include information on the fabric-network existence
- the contributing guide should describe testing expectations from contributions",,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztl3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java chaincode has broken node build,FABN-953,34421,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,nkl199,nkl199,nkl199,04/Oct/18 5:43 PM,09/Oct/18 3:30 PM,28/Oct/23 3:25 AM,09/Oct/18 3:30 PM,v1.4.0,,,,,,,,,,0,,,,,"A regression somewhere within java chaincode has broken the e2e tests within fabric-sdk-node, which is breaking all merge builds.

Temporarily disable java chaincode e2e tests until fix is made in java chaincode repository",,denyeart,gennadyl,nkl199,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztqn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,gennadyl,nkl199,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/18 8:05 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26783/;;;","04/Oct/18 8:08 PM;denyeart;[~nkl199] Please provide details of the break...I'd suggest open another bug with all the details for java chaincode developers (e.g. link to specific examples).

[~rameshthoomu] [~gennadyl] [~C0rWin] Please take note.;;;","05/Oct/18 6:00 AM;gennadyl;[~nkl199] Can you provide any details? I understand this happens in master branch.;;;","05/Oct/18 5:29 PM;nkl199;hi, yes - this occurs on master. The java chaincode tests are now temporarily disabled to enable merge builds to continue whilst this is investigated locally ... if there is a breaking change that we need to account for then we can do so under this Jira, otherwise we can raise a separate Jira in the relevant location;;;","05/Oct/18 10:07 PM;nkl199;So the error is due to not being able to get the corresponding docker image from dockerhub when trying to build from master ... with the error 

GenerateDockerBuild -> ERRO 223 Can't build java chaincode Failed to pull hyperledger/fabric-javaenv:amd64-1.3.0: API error (404) and that corresponds to an image not being there (manual check verifies this). There is of course the 1.3.0-rc1 image available and when we modify the test suite to target that particular build instead of `master, all the tests pass.

The issue is in chaincode instantiation not being able to retrieve the required image to build from.

Further investigation (on local machines) would point the finger at the fabric images being cached inside the jenkins build, since merely clearing all images resulted in correct operation of the tests - this was confirmed across multiple machines;;;","07/Oct/18 5:11 PM;gennadyl;Can you ask [~rameshthoomu] to make his magic with build scripts, to make sure that correct images pulled from nexus before build? Like removing all fabric-javaenv images and re-pull them from nexus once again.;;;","08/Oct/18 11:38 AM;rameshthoomu;[~nkl199] Other than baseimage and thirdparty images (Kafka, zookeeper and couchdb) we don't cache any other images. Remaining images CI builds dynamically. If you are using master then the javaenv tag we use like below

 
{code:java}
javaenv:amd64-1.4.0 ( on Master)

javaenv:amd64-1.3.0 ( on release-1.3)
{code}
{code:java}
if [ ""$GERRIT_BRANCH"" = ""master"" ]; then
 export STABLE_VERSION=1.4.0-stable
 export JAVA_ENV_TAG=1.4.0
else
 export STABLE_VERSION=1.3.0-stable
 export JAVA_ENV_TAG=1.3.0
fi
 docker pull $NEXUS_URL/$ORG_NAME-$IMAGE:amd64-$STABLE_VERSION
 docker tag $NEXUS_URL/$ORG_NAME-$IMAGE:amd64-$STABLE_VERSION $ORG_NAME-$IMAGE
 docker tag $NEXUS_URL/$ORG_NAME-$IMAGE:amd64-$STABLE_VERSION $ORG_NAME-$IMAGE:amd64-$JAVA_ENV_TAG
 docker tag $NEXUS_URL/$ORG_NAME-$IMAGE:amd64-$STABLE_VERSION $ORG_NAME-$IMAGE:amd64-latest{code}
Let me know what tag master is expecting and also, please post the build log of merge job.;;;","08/Oct/18 11:40 PM;nkl199;I ran a build with the java chaincode tests reinstated and they are now passing, my suspicion is that there was a missing node module at the time when the tests were being run ... which now exists. The tests are now failing at the 'network model tests' during the instantiate process, which might be due to the same problem (fabric-network modules are no longer being published iirc). Once the sandbox tests are run, the logs should help further diagnosis ;;;","09/Oct/18 3:30 PM;nkl199;sandbox tests and subsequent merge builds indicate that all tests are now passing, the only possible explanation is that the required modules to build the chaincode during instantiation are now available.

Based on the above, i'm going to close this Jira ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] Event handler sometimes doesn't unblock,FABN-954,34427,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid: Not Supported,,caroline-church,caroline-church,04/Oct/18 10:17 PM,14/Nov/18 11:04 PM,28/Oct/23 3:25 AM,14/Nov/18 11:04 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,"When trying to do an upgrade proposal the event handler doesn't always unblock. This only happens intermittently but the upgrade is always successful. Here is the code i am using: 
 
let proposalResponseObject:Client.ProposalResponseObject;
 
proposalResponseObject=await channel.sendUpgradeProposal(instantiateRequest);
 
 
const contract:Contract=network.getContract(name);
 
const responses:any=contract['_validatePeerResponses'](proposalResponseObject[0]);
 
const eventHandler:any=contract['eventHandlerFactory'].createTxEventHandler(transactionId.getTransactionID());
 
if (!eventHandler) {
throw newError('Failed to create an event handler');
}
 
await eventHandler.startListening();
 
const transactionRequest:Client.TransactionRequest= {
proposalResponses:proposalResponseObject[0],
proposal:proposalResponseObject[1],
txId:transactionId
};
 
// Submit the endorsed transaction to the primary orderers.
const response:Client.BroadcastResponse=await network.getChannel().sendTransaction(transactionRequest);
 
if (response.status!=='SUCCESS') {
const msg=`Failed to send peer responses for transaction ${transactionId.getTransactionID()} to orderer. Response status: ${response.status}`;
eventHandler.cancelListening();
throw newError(msg);
}
 

// GETS STUCK ON THIS LINE
await eventHandler.waitForEvents();
// return the payload from the invoked chaincode
let result:any=null;",,andrew-coleman,bestbeforetoday,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztrr:",,,,Unset,Unset,,,,,,,,,,Use code above,,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/18 6:56 PM;bestbeforetoday;I suspect this is caused by [FABN-955|https://jira.hyperledger.org/browse/FABN-955]. I am worried by the way this code is directly accessing internal event handling implementation of the new Network.submitTransaction() API and using this for calls made through the low-level API. Its almost certainly going to change and break you. If this is a client use case that we want to support, perhaps we need a story to expose some of the event handling helper capability.;;;","14/Nov/18 11:04 PM;andrew-coleman;This is using the internals - and the internals have changed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[fabric-network] Impossible to debug event handler strategies from logs,FABN-955,34428,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,davidkel,davidkel,04/Oct/18 10:26 PM,05/Oct/18 3:41 PM,28/Oct/23 3:25 AM,05/Oct/18 3:41 PM,v1.4.0,,,,,,v1.4.0,,,,0,,,,,Trying to investigate an intermittent problem where sometimes the waitForEvents would not unblock even though we can clearly see that a tx committed event was sent to a registered listener using the node-sdk logging. But there was no log information to trace the behaviour of the strategy so impossible to debug.,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztrz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Logging output could benefit from re-ordering,FABN-956,34431,34787,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,davidkhala,davidkel,davidkel,04/Oct/18 11:32 PM,02/Nov/18 7:05 PM,28/Oct/23 3:25 AM,02/Nov/18 7:05 PM,v1.3.0,,,,,,v1.4.0,,,,0,,,,,"Currently node-sdk log output looks like this
{code}
{""level"":""debug"",""message"":""[Remote.js]: Successfully connected to remote gRPC server"",""timestamp"":""2018-10-04T12:21:14.704Z""}
{""level"":""debug"",""message"":""[Orderer.js]: sendBroadcast - sent message"",""timestamp"":""2018-10-04T12:21:14.705Z""}
{""level"":""debug"",""message"":""[Orderer.js]: sendBroadcast - on data response: {\""status\"":\""SUCCESS\"",\""info\"":\""\""}"",""timestamp"":""2018-10-04T12:21:14.710Z""}
{""level"":""debug"",""message"":""[Orderer.js]: sendBroadcast - response status SUCCESS"",""timestamp"":""2018-10-04T12:21:14.711Z""}
{""level"":""debug"",""message"":""[BasicCommitHandler]: _commit - Successfully sent transaction to the orderer orderer.example.com"",""timestamp"":""2018-10-04T12:21:14.711Z""}
{""level"":""debug"",""message"":""[Orderer.js]: sendBroadcast - on end:"",""timestamp"":""2018-10-04T12:21:14.712Z""}
{""level"":""debug"",""message"":""[ChannelEventHub.js]: on.data - event stream:1 _current_stream:1  peer:localhost:7051"",""timestamp"":""2018-10-04T12:21:16.784Z""}
{""level"":""debug"",""message"":""[ChannelEventHub.js]: isStreamReady - stream.readable true :: localhost:7051"",""timestamp"":""2018-10-04T12:21:16.784Z""}
{code}
Which would be ok if this was to be passed to some tools to process, but for human readability it's not great. In the first instance I think we need a log output that is more useful for initial readability which means that it puts data into fixed column width such as log level, timestamp, class, but more importantly timestamp is the first column, not the last.",,davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztsn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/18 12:22 PM;davidkhala;Does this log appear in https://jenkins.hyperledger.org/job/fabric-sdk-node8-verify-master-x86_64/599/artifact/debug.log
;;;","22/Oct/18 12:38 PM;davidkhala;CR for this: https://gerrit.hyperledger.org/r/#/c/27144/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to generate performance metrics for lowlevel sdk calls and fabric-network calls,FABN-957,34432,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,04/Oct/18 11:37 PM,09/Oct/19 9:37 PM,28/Oct/23 3:25 AM,09/Oct/19 9:37 PM,v1.4.0,,,,,,Future,,,,0,,,,,"The metrics I think could be useful are
- time from sending proposal response to receiving all responses
- time taken to send to orderer and get response from orderer
- time taken to get a response from a query request
- time taken for event hub to connect

Some of the other types of metrics may have to be implemented by the users of the node-sdk low level api.
",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzztsv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 5:58 AM;davidkel;In order to be able to perhaps track these requests through the peer and chaincode as well they should log useful info such as 
- transaction id
- channel
- function name
- arguments
Note that the node-sdk queryByChaincode overwrites a callers txid, so if some of these metrics were to be done by fabric-network implementation then either the queryByChaincode needs enhancing or the fabric-network should not call queryByChaincode but should send directly using sendTransactionProposal;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabric-Network] Support for Offline Transaction Signing,FABN-958,34472,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,davidkel,davidkel,08/Oct/18 4:33 PM,09/Nov/19 9:53 PM,28/Oct/23 3:25 AM,09/Nov/19 9:53 PM,,,,,,,Future,,,,0,sdk-triaged,,,,"Fabric node-sdk has added support for offline transaction signing, the fabric-network implementation should support this capability",,davidkel,harrisob@us.ibm.com,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu0f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Aug/19 7:48 PM;harrisob@us.ibm.com;All actions will have offline signing with the new low level;;;","25/Oct/19 2:53 AM;harrisob@us.ibm.com;[~simonstone1] [~heatherp] [~andrew-coleman] Do we want to do this;;;","30/Oct/19 1:12 AM;heatherp;Not sure when we'd tackle it, but it sounds like from speaking to Dave, it would be beneficial for the high level API to do this;;;","09/Nov/19 9:53 PM;davidkel;Doesn't appear to have any interest yet for the high level. It's available in the low level api.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-sdk-node to baseimage 0.4.13,FABN-960,34494,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,denyeart,denyeart,denyeart,09/Oct/18 12:52 PM,09/Oct/18 1:48 PM,28/Oct/23 3:25 AM,09/Oct/18 1:48 PM,,,,,,,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-93,,FABC-730,,,,FABN-962,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu3r:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-sdk-node to baseimage 0.4.13,FABN-962,34496,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,denyeart,rameshthoomu,rameshthoomu,09/Oct/18 1:42 PM,10/Oct/18 10:31 AM,28/Oct/23 3:25 AM,10/Oct/18 10:31 AM,,,,,,,,,,,0,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12343,FABN-960,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu47:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabric-Network] Check for initial Strategy Satisfaction and perform recovery,FABN-963,34507,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,09/Oct/18 11:20 PM,09/Oct/19 12:19 AM,28/Oct/23 3:25 AM,09/Oct/19 12:19 AM,,,,,,,Future,,,,0,,,,,"Before submit transaction is made, the event strategy should be checked to see if it can be satisfied, if it can't then it should throw away the event hubs and create them and wait for them to connect.
If after connection or connection failure, if the strategy still can't be satisfied then an error should be thrown.
",,bestbeforetoday,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu67:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/18 9:51 PM;bestbeforetoday;Since we already try to reconnect disconnected event hubs for each transaction where we want to listen to commit events, I think this is a proposed solution/workaround to something underlying the ChannelEventHub (e.g. grpc) failing. Some detail on the actual problem would help.

It might be worth trying to address this at a level in the code closer to where the issue is occurring, so perhaps within the ChannelEventHub itself.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabric-Network] Recovery of Gateway if connection to fabric is lost,FABN-964,34508,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Invalid,,davidkel,davidkel,09/Oct/18 11:22 PM,09/Oct/19 5:49 PM,28/Oct/23 3:25 AM,09/Oct/19 5:49 PM,,,,,,,Future,,,,0,,,,,If connection to a fabric is lost eg the peers/orderers go down. Can a gateway object recover or must it be thrown away and re-created ? How would an application know to do this ? Ideally the Gateway should attempt recovery itself and not leave this to the application.,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu6f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create API to get the actual source code of the chaincode from fabric network,FABN-965,34510,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,nfrunza,nfrunza,10/Oct/18 12:00 AM,13/Jan/21 12:03 AM,28/Oct/23 3:25 AM,13/Jan/21 12:03 AM,,,,,,,,,,,0,external,sdk-triaged,,,"HLExplorer project needs to display the source code of the chaincode, for this we need an API to retrieve it form the fabirc network",,denyeart,heatherp,JaccobSmith,lesleyannj,mastersingh24,nfrunza,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zll:4",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,heatherp,JaccobSmith,lesleyannj,mastersingh24,nfrunza,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/18 10:58 PM;nfrunza;[~andrew-coleman], I'm not sure to whom to assign, so i followed commits in https://github.com/hyperledger/fabric-sdk-node to your name.
Please reassign to someone.

nik
;;;","29/Jan/19 1:32 AM;denyeart;[~nfrunza] If such an API were added it would need to be added on both sdk side and peer side.  And I don't think you could get the chaincode source from 'the network' since only a hash of the chaincode is stored on the channel. But maybe you could get it from individual peers that have installed it.

Let's get opinion from [~jyellick] and [~sykesm]  since they are working on future of lifecycle and chaincode deployment.;;;","29/Jan/19 1:38 AM;nfrunza;How i would ""get it from individual peers that have installed it."", means i have to use CLI or invoke a .sh script to get it?
;;;","29/Jan/19 1:44 AM;sykesm;In the near future, there is no guarantee source will be available in any form. There are already proposals to extract the build process out of the peers in favor of opaque deployments. One instance of this will be execution of signed docker images.;;;","29/Jan/19 2:06 AM;nfrunza;Thank you for the update.;;;","06/Mar/19 5:21 PM;JaccobSmith;I have changed the lscc system chaincode and the go-sdk for implementing this，but I don't know how to contribute my codes;;;","06/Mar/19 10:25 PM;nfrunza;[~JaccobSmith] you mean how to commit the changes to this fix? take a lookk at, https://hyperledger-fabric.readthedocs.io/en/release-1.4/CONTRIBUTING.html

 [~denyeart] Can you help Jaccob to commit the fix for lscc system chaincode ?;;;","06/Mar/19 10:55 PM;sykesm;I'd like to repeat my earlier comment: 

> In the near future, there is no guarantee source will be available in any form

Therefore, extending lscc (which is also being heavily modified) and SDKs does not seem to make sense.;;;","06/Mar/19 11:01 PM;mastersingh24;If HLExplorer wants to add a repository to store chaincode packages, that's fine and then you would just create code to actually parse packages.   We are not going to add an API to the peer which will retrieve chaincode packages.  These packages are made available out of band in the first place.

And as [~sykesm] stated, chaincode source will not always be available on the peer.;;;","06/Mar/19 11:07 PM;nfrunza;[~mastersingh24] We are not adding repo, we are retiring the""View chaincode source""  from explorer.;;;","07/Mar/19 7:17 PM;mastersingh24;[~nfrunza]  - sorry - what I meant is that HL Explorer could add a feature to store chaincode packages (I did not actually mean a Git repo);;;","08/Mar/19 12:19 AM;nfrunza;[~mastersingh24] I can't visualize how explorer will get the source code from the already created fabric network, or this could be additional functionality to let the users to upload or provide the chaincode source location, and explorer may need to store it, and how about the versions of the chaincode?;;;","30/Oct/19 1:07 AM;heatherp;[~denyeart] [~sykesm] - is this tackled in the new chaincode lifecycle updates in fabric v2.0?;;;","13/Jan/21 12:03 AM;lesleyannj;Backlog Review - Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for Node SDK 1.3.0,FABN-966,34526,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,10/Oct/18 3:52 AM,01/Nov/18 3:15 AM,28/Oct/23 3:25 AM,11/Oct/18 2:29 AM,,,,,,,v1.3.0,,,,0,,,,,"CHANGELOG.md - add entries using the command  `/scripts/changelog..sh 2b862d7 1.3.0`

     - will have to find the hash value by looking at release-1.2 to see where it was tagged with 1.2 so the script will know the range
 fabric-ca-client/package.json  - update the version to be 1.3.0, tag to be latest
 fabric-client/package.json- update the version to be 1.3.0, tag to be latest
 fabric-network/package.json- update the version to be 1.3.0, tag to be skip
 package.json - - update the version to be 1.3.0, testFabricVersion to be 1.3.0
 release_notes/v1.3.0.txt - create (copied from 1.2.0.txt) and add notes for 1.3.0",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12408,,,,FABN-990,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzucf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the type definition for fabric-client v1.3,FABN-967,34579,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,shimos,shimos,shimos,11/Oct/18 1:35 AM,18/Oct/18 3:25 PM,28/Oct/23 3:25 AM,18/Oct/18 3:12 PM,v1.2.2,,,,,,v1.3.1,v1.4.0,,,0,,,,,"The TypeScript type definition for fabric-client is not up to date.
It does not include recent API updates, such as Channel.generateUnsignedProposal, or service discovery changes (DiscoveryChaincodeInterest).
It should be updated before the v1.3 release.
",,denyeart,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-901,,,FABN-842,FABN-896,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,ddf9c6190dd3443b823aaf85c9429f967550767e,Unset,No,,,"1|hzzulz:",,,,Unset,Unset,,,,,,,,,,Compile a TypeScript program which calls Channel.generateUnsignedProposal().,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,shimos,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/18 5:26 AM;shimos;CR: https://gerrit.hyperledger.org/r/#/c/26908/;;;","15/Oct/18 12:22 PM;denyeart;Since v1.3.0 is already released, I've tagged as v1.3.1 and v1.4.0.

[~andrew-coleman] I assume the existing master CR should be cherry picked to release-1.3 so that this can get into v1.3.1?  Do we need to add something to the release process document to ensure these are not missed in future releases?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabric-Network] Logging should include a transaction id for submit/execute,FABN-968,34599,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,11/Oct/18 7:40 PM,10/Oct/19 12:41 AM,28/Oct/23 3:25 AM,10/Oct/19 12:41 AM,,,,,,,v1.4.1,,,,0,,,,,"We need to be able to track a request end to end and the transaction id is the way to do this. We should also look at the lower level node-sdk logging methods as well to include a transaction id.

I don't believe we need to include the full transaction id, probably the first 8 characters are enough but we should be consistent with how core fabric logs things. We should also ensure that as part of the hardening and serviceability work going into 1.4 that we help drive better logging at the correct level in core fabric and chaincode as well.",,davidkel,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzupz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Oct/18 5:12 PM;davidkel;In fact, from experience I think we need to include not only the txid, but also the channel id and the function being invoked. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot override grpc-wait-for-ready-timeout,FABN-969,34629,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,14gracel,davidkel,davidkel,12/Oct/18 10:18 PM,30/Jun/21 6:18 PM,28/Oct/23 3:25 AM,28/Nov/18 10:58 PM,v1.2.0,v1.3.0,,,,,v1.2.3,v1.3.1,v1.4.0,,0,,,,,"This timeout is not included in the common connection profile. It should be configurable there. I tried to override it using an environment variable
`export GRPC_WAIT_FOR_READY_TIMEOUT=6000` but this fails because the value is treated as a string not a number.",,14gracel,calanais,davidkel,guolidong,MichaelWang,RahulSans,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-992,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuuf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),14gracel,calanais,davidkel,guolidong,MichaelWang,RahulSans,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Mar/19 8:12 PM;guolidong;[~14gracel] could you write down the solution ?

 ;;;","04/Mar/19 11:36 PM;14gracel;[~guolidong] The change is in this CR https://gerrit.hyperledger.org/r/c/27839/;;;","30/Jun/21 5:43 PM;RahulSans;Liam Grace this link doesn't have any details 404 not found.

Can You please help as we are stuck with this issue.

https://gerrit.hyperledger.org/r/c/27839/;;;","30/Jun/21 6:18 PM;calanais;[~RahulSans] the code is now in Github rather than gerrit - so the fix should in the latest SDKs.

 

If you still have a failure on the latest SDKs, please raise a new Jira issue.. thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add how to work with the block when returned by event service,FABN-970,34631,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Oct/18 11:12 PM,31/Jul/19 2:54 AM,28/Oct/23 3:25 AM,31/Jul/19 2:54 AM,,,,,,,Future,,,,0,,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuuv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 2:54 AM;harrisob@us.ibm.com;not required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up Fabric-CA client doc and tutorial on how to use,FABN-971,34630,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Oct/18 10:21 PM,16/Apr/20 12:36 AM,28/Oct/23 3:25 AM,16/Apr/20 12:36 AM,,,,,,,Future,,,,0,sdk-triaged,,,,,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuun:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 12:36 AM;harrisob@us.ibm.com;Fabric doc is adding fabric ca tutorials;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add queryCollectionsConfig to JSdoc and private data tutorial ,FABN-972,34627,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,12/Oct/18 9:42 PM,22/Nov/18 3:28 PM,28/Oct/23 3:25 AM,16/Nov/18 1:53 AM,v1.3.0,,,,,,v1.3.0,v1.4.0,,,0,,,,,The channel method doc is missing. The tutorial should also be updated to include information about the use of this method.,,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuu7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 3:28 PM;denyeart;release-1.3: https://gerrit.hyperledger.org/r/#/c/27701/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve channel-based event service doc for node.js sdk,FABN-973,34644,,Documentation,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,denyeart,denyeart,denyeart,13/Oct/18 3:04 AM,25/Oct/19 12:45 AM,28/Oct/23 3:25 AM,25/Oct/19 12:45 AM,,,,,,,Future,,,,0,,,,,Clarify usage scenarios for channel-based event service.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzuxj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node8-merge-master job is failing during instantiate chaincode in End-to-end flow. ,FABN-974,34691,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,sambhavdutt,sambhavdutt,16/Oct/18 6:18 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,05/Nov/18 11:25 PM,v1.4.0,,,,,,v1.4.0,,,,0,ci-failure,,,,"Noticed the below errors in the node8 merge jobs in the master branch, 

{code:java}
15:32:24 ***** Node-Chaincode End-to-end flow: instantiate chaincode *****
15:32:24 
15:32:24 
15:32:24 ok 682 Successfully retrieved TLS certificate
15:32:24 ok 683 Successfully enrolled user 'admin' (e2eUtil 2)
15:37:25 ok 684 Successfully initialized Channel
15:37:25 not ok 685 Error: All proposals were not good at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node8-merge-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:358:11) at <anonymous> at process._tickDomainCallback (internal/process/next_tick.js:228:7)
15:37:25   ---
15:37:25     operator: fail
15:37:25     at: e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-sdk-node8-merge-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:406:6)
15:37:25     stack: |-
15:37:25       Error: Error: All proposals were not good
15:37:25           at e2eUtils.tlsEnroll.then.then.then.then.then (/w/workspace/fabric-sdk-node8-merge-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:358:11)
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-master-x86_64/186/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/186/",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,792d86f0c4464d2e51cf576674cf3617dafad4eb,Unset,No,,,"1|hzzv7r:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/18 10:46 PM;sambhavdutt;The node end-2-end is failing in the daily and the fabric-e2e tests too.;;;","23/Oct/18 10:09 AM;sambhavdutt;The *fabric-sdk-node8-merge-master job* has been failing intermittently, this test has been successful in multiple builds starting 17th October. 

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-master-x86_64/195/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-node8-merge-master-x86_64/195/;;;","05/Nov/18 11:26 PM;sambhavdutt;The sdk-node tests do not fail now with the error detailed above.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No scenario test framework for fabric-sdk-node,FABN-975,34705,,Test Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,nkl199,nkl199,nkl199,16/Oct/18 9:32 PM,13/Feb/19 6:17 PM,28/Oct/23 3:25 AM,13/Feb/19 6:17 PM,v1.4.0,,,,,,,,,,0,,,,,"At present the test effort for fabric-sdk-node is located within:
- unit tests (mocha, at package level)
- unit tests (legacy tape tests)
- e2e functional tests (tape)

There is no high level ""user-centric"" testing completed that can ensure the continued operation of core user scenarios. Such tests represent the ""top of the test pyramid"" flexing a large amount of code via large scale actions.

Cucumber.js represents the most elegant and appropriate solution for this missing test section and should be added as a complimentary test framework to the existing unit and fv tests.",,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvb3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/18 11:36 PM;nkl199;Core required features:
 - install/instantiate chaincode based on common connection profile
 - submit/execute transaction with optional ""check response"" using gateways
 - node/goLang/java chaincode used in different scenarios
 - HSM feature (run only on ubuntu) used in wallet mixin
 - event handler strategies

Failure mode features:
 - peer failure (kill peer for org, should continue to operate)
 - cc errors being thrown (dealing with shim.error being thrown)
 - crypto errors (or other) during install/instantiate/gateway connect

Future features
- Private data
- Discovery;;;","31/Oct/18 11:47 PM;nkl199;main framework delivery: https://gerrit.hyperledger.org/r/#/c/27028/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client.installChaincode requires a chaincode ID/version with chaincode package,FABN-976,34719,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sstone1,sstone1,sstone1,17/Oct/18 3:10 AM,24/Oct/18 5:20 PM,28/Oct/23 3:25 AM,24/Oct/18 5:20 PM,v1.3.0,,,,,,,,,,0,,,,,"Client.installChaincode requires a chaincode ID/version with chaincode package. This is wrong, as the chaincode ID/version are not actually used when you specify a chaincode package.

The combo of required options should be:

chaincodeId, chaincodeVersion, and chaincodePath
-or-
chaincodePackage",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvdr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Oct/18 4:02 PM;sstone1;https://gerrit.hyperledger.org/r/c/27037/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Instantiate Chain code fails via Node SDK,FABN-977,34744,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid: Test Error,,KameshPalani,KameshPalani,17/Oct/18 10:16 PM,02/Nov/18 12:06 PM,28/Oct/23 3:25 AM,02/Nov/18 12:06 PM,v1.2.0,,,,,,,,,,0,,,,,"Hi,

I'm using balance transfer sample and trying to instantiate chaincode via balance transfer API. I'm getting below error. However, installation of chaincode with each org and with their corresponding user identities went fine. Can someone please help me resolve the same?

For more details of API inputs refer snapshots,

Error: 

 error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: failed to execute transaction e7fa6bffb8e7642b2811e66c60e5e0d9ad8c91906f5dd4d305e942d1e0e8813d: error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""stat cc6.go: no such file or directory
""
 at ../client/balance-transfer/node_modules/fabric-client/lib/Peer.js:114:16
 at ../client/balance-transfer/node_modules/grpc/src/client.js:586:7

 ",,denyeart,KameshPalani,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 10:16 PM;KameshPalani;installcc.JPG;https://jira.hyperledger.org/secure/attachment/16144/installcc.JPG","17/Oct/18 10:16 PM;KameshPalani;instantiate.JPG;https://jira.hyperledger.org/secure/attachment/16145/instantiate.JPG",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvj3:",,,,Unset,Unset,,,,,,,,,,"1) Download Fabric sample-1.2 
2) RunApp.sh script from balance transfer
3) TestAPI.sh script (Instantiate ChainCode fails)",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,KameshPalani,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 11:10 PM;KameshPalani;I've resolved the issue by removing the cc6.go file name in the ChainCodePath. However while invoking a method from the chaincode ( shim library PUT_STATE, PUT_PRIVATE DATA), I'm getting below ERROR,

 

error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: PUT_STATE failed: transaction ID: 6845b7e887caa2846139e428c5f83273ee2bdeb5f3f83e3ce3b87daf148f2ef5: collection config not define for namespace [cc7]. 

 

Can someone let me know how to pass endorsement-Policy, collection-config details as part of API param ?;;;","02/Nov/18 12:06 PM;denyeart;[~KameshPalani] See doc here: 

[https://fabric-sdk-node.github.io/release-1.3/tutorial-private-data.html]

Note that to work with private data, you'll need to configure gossip anchor peers and configure the channel for ApplicationCapability V1_2.  The first-network sample network is configured for this, but I don't think the balance transfer network is.

Closing the issue since it is not a Fabric bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
logging enhance,FABN-978,34787,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,,davidkhala,davidkhala,19/Oct/18 7:19 PM,29/Oct/19 11:56 PM,28/Oct/23 3:25 AM,29/Oct/19 11:56 PM,,,,,,,,,,,0,,,,,"This is a summary point for all logging message, logger enhancement/refactor issues",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-288,FABN-613,FABN-533,FABN-272,FABN-110,FABN-660,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvs7:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enable timeStamp for default winston logger,FABN-979,34788,34787,Sub-task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Lowest,Done,davidkhala,davidkhala,davidkhala,19/Oct/18 7:24 PM,29/Oct/18 2:54 PM,28/Oct/23 3:25 AM,29/Oct/18 2:54 PM,v1.0.0,,,,,,,,,,0,,,,,"a easy patch for lazy developer that using default winston logger, ",,davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvsf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/18 8:32 PM;davidkel;[~davidkhala] does this help FABN-956 ?;;;","19/Oct/18 11:19 PM;davidkhala;https://gerrit.hyperledger.org/r/#/c/27105/
And ...
[~davidkel] the logs in FABN-956 is not generated by the default logger, but I am helping to your issue also. 

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Fabric-Network] Detect if peers disagree at commit time if a transaction is valid or not,FABN-980,34820,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,davidkel,davidkel,22/Oct/18 10:31 PM,09/Oct/19 9:28 PM,28/Oct/23 3:25 AM,09/Oct/19 9:28 PM,,,,,,,,,,,0,,,,,"In theory this should never happen, however real live feedback is showing that peers can get into different states and as some peers can reject transactions while others will mark them as valid. Client applications may want to know what the majority of peers think, not just react to a single peer that has rejected the transaction.

So consider this sitation
4 Peers, but 1 peer is rejecting transactions by making them invalid, but the other 3 are accepting the transaction. The peer rejecting the transaction rejects it with MVCC_READ_CONFLICT. 
This could be a malicious peer, or a peer that now has a different ledger and world state due to somehow getting out of sync maybe. 
The application may want to go with the majority of peers rather than have a single peer return MVCC_READ_CONFLICT because the typical application response to that would be to retry the same request. But then that 1 peer will always reject it.

There is another scenario seen where a peer running at a different version of chaincode will reject with EXPIRED_CHAINCODE but the others won't, however this is a more complex situation as you could have either the 1 peer reject or the other 3 peers reject depending on which proposal is chosen to be sent to the orderer. 

So the proposal could be that it's possible to go with the majority but log as a warning any discrepencies noticed.",,davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvyv:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 8:21 PM;davidkel;This kind of detection should be environment variable togglable as it would add unnecessary overhead and would be used as a way to determine problems in the field.;;;","30/Aug/19 7:52 PM;harrisob@us.ibm.com;This is not a SDK issue. The applications may check as many peers as they wish after submitting a transaction to be committed. The issues discussed must be handled by the backend.;;;","04/Sep/19 7:26 PM;davidkel;[~harrisob@us.ibm.com] transaction commit handling is managed by fabric-network and isn't designed to go down to the peer level. This is something fabric-network would have to do, not the lower level api.;;;","04/Sep/19 8:55 PM;harrisob@us.ibm.com;I do not understand this request then, the only thing an application can do is check the endorsements it has before sending to be committed, which may or may not be from a peer that would have a commit issue. I just do not see what an application can do with the commit request to the orderer ? ;;;","04/Sep/19 9:57 PM;davidkel;This suggestion was to detect where there was a possible state fork between peers. A commit event from the peer can come back as valid or invalid and invalid for a number of reasons. What if, when listening for commit events from these peers for the same transaction, they don't agree ? ie 1 peer says the tx is valid, 1 peer says the tx is not valid. What if all peers say the tx is not valid but the reasons they give differ ? In the past there has been the implied assumption that the peers will always agree when they validate and commit a block, but this has been proven to not be the case in practice and a fork in either the blockchain or state has occurred.;;;","05/Sep/19 2:08 AM;harrisob@us.ibm.com;Thanks, now I see what you mean. So this would take setting up and getting events from peers in different organizations, possible in all organizations on the channel. This seems to be an application in itself.;;;","09/Oct/19 9:28 PM;davidkel;withdrawing. If there is an interest then a new jira can be opened.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts in fabric-sdk-node master branch,FABN-981,34856,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,24/Oct/18 10:41 PM,12/Nov/18 3:15 PM,28/Oct/23 3:25 AM,12/Nov/18 3:15 PM,,,,,,,,,,,0,,,,,Update pipeline scripts in fabric-sdk-node master branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzw6f:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/18 12:10 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27167/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow Node.js SDK to require organizations and be to pick endorsing peers from Service Discovery randomly,FABN-982,34887,,Story,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,denyeart,denyeart,26/Oct/18 12:14 AM,07/Dec/18 6:31 AM,28/Oct/23 3:25 AM,07/Dec/18 6:31 AM,,,,,,,v1.4.0,,,,0,,,,,"Currently for chaincode invokes, SDK picks the first peers from the Service Discovery results.  There should be an option for SDK to pick a random set of endorsing peers based on the Service Discovery layouts.

SDK also allows for configuring preferred peers, but also should allow for preferred and required organizations. I think it would be typical to prefer your own org’s peer… so if endorsement policy calls for 2 orgs, you may want to pick your own org plus a random other org.  Therefore the preferred peers configuration should work hand-in-hand with the random option.",,denyeart,harrisob@us.ibm.com,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11374,,,No,,Unset,No,,,"1|hzzwbb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrisob@us.ibm.com,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/18 12:22 AM;harrisob@us.ibm.com;I think a ""preferredOrgs"" option would help, then the actual peer names would not have to be known

 ;;;","27/Nov/18 11:16 PM;harrisob@us.ibm.com;How about these options for peer selection within a group, layouts will always be chosen randomly.

The application is able to have specific peers or peers in a specified organization chosen before other peers or not be chosen at all for endorsements.

*required*: An array of strings that represent the names of peers. Peers named in this list will be the only peers to be sent a proposal request.

*preferred*: An array of strings that represent the names of peers that should be given priority by the endorsement handler if their block height is up to date
 ignored: An array of strings that represent the names of peers that should be ignored by the endorsement handler.

*requiredOrgs*: An array of strings that represent the MSP ids of organizations. Peers in the organizations named in this list will be the only peers to be sent a proposal request.

*preferredOrgs*: An array of strings that represent the MSP ids of organizations that should be given priority by the endorsement handler if their block height is up to date.

*ignoredOrgs*: An array of strings that represent the MSP ids of organizations that should be ignored by the endorsement handler.

*preferredHeightGap*: An integer representing the maximum difference in the block height of a preferred peer and the highest block height found in a group of peers within an endorsement plan allowed to be a priority peer. A peer will not be given priority if it's block height is less than the highest block height by an amount greater than this value. There is no default, if this value is not provided the block height of the peer will not be considered when being added to the preferred list.

*sort*: A string value that indicates how the peers within groups should be chosen. ""{color:#FF0000}ledgerHeight{color}"", sort the peers descending by the number of blocks on the channel ledger. ""{color:#FF0000}random{color}"", pull the peers randomly from the list, the preferred will be pulled first. The default is to sort by ledger height.;;;","29/Nov/18 12:33 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/27795/;;;","03/Dec/18 3:49 PM;denyeart;[~harrisob@us.ibm.com] Looks like this one was merged... anything remaining or can it be closed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery handler - Don't re-try upon application level errors,FABN-984,34965,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Won't Do,,yacovm,yacovm,30/Oct/18 6:37 AM,30/Oct/19 1:05 AM,28/Oct/23 3:25 AM,30/Oct/19 1:05 AM,,,,,,,,,,,0,,,,,"The node SDK should only retry and pick a different peer to request endorsement from if:

* It was not able to connect to the peer
* The peer returned a gRPC related error, such as- ""the service isn't implemented""

Any other errors - such as Fabric protobuf messages, should be handled by the application. 
The application should decide, whether to retry the endorsement, or do something else. 

[~harrisob@us.ibm.com] [~denyeart] [~sykesm] ",,denyeart,heatherp,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwpb:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,heatherp,muralisr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/18 6:03 PM;denyeart;I agree connection and gRPC errors should result in a retry to another peer.

My original point was that peer will respond with a 500 for many types of errors:
 * If you can't get a simulator, peer returns 500.
 * If the chaincode isn't installed, peer returns 500.
 * If there is a chaincode application error, peer's chaincode returns 500.

In the first two cases, you probably want to retry a different peer.

In the last case, you probably don't want to retry.

I was suggesting that we could document that chaincode application errors should return  something besides 500 (but still 400 or above) if they want client app to distinguish chaincode errors from other peer 500 errors. Otherwise app has to fall back to parsing the error message.

Even within the category of chaincode application errors, the application may or may not want to retry a different peer. So potentially we allow app to list the error codes that they want to retry, rather than hardcoding some logic in SDK.

 ;;;","02/Nov/18 11:12 PM;muralisr;[~denyeart] I'm not sure how easy it would be for applications to specify which error codes should be retried (for example, lagging commits, etc would be hard to predict / codify). That would be quite error prone and hard to get right IMO. I can see application developers specifying to retry everything anyway.

Let's say the endorsement policy is majority. Is there any logical difference between the 3 cases as far as retrying is concerned ?  The whole point is that different peers might return different responses and we want to collect the majority. I'd suggest *by default* SDK retries for the last case as well - given that users can override the behavior with their own hook.

The only time retry should stop is when the computation reaches the stage the EP cannot be satisfied.;;;","30/Oct/19 1:05 AM;heatherp;I've been working through the node sdk backlog with the maintainers - we believe this issue has been tackled in refactoring in v2.0 - please re-open if you think this isn't the case;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
channel.queryByChaincode needs to allow app to provide txid,FABN-985,34987,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,bestbeforetoday,davidkel,davidkel,31/Oct/18 3:00 AM,29/Nov/18 3:14 AM,28/Oct/23 3:25 AM,29/Nov/18 3:10 AM,v1.1.0,v1.2.0,v1.3.0,,,,v1.4.0,,,,0,,,,,"{code}
        queryByChaincode(request, useAdmin) {
                logger.debug('queryByChaincode - start');
                if (!request) {
                        throw new Error('Missing request object for this queryByChaincode call.');
                }

                var targets = this._getTargets(request.targets, Constants.NetworkConfig.CHAINCODE_QUERY_ROLE);
                var signer = this._clientContext._getSigningIdentity(useAdmin);
                var txId = new TransactionID(signer, useAdmin);

                // make a new request object so we can add in the txId and not change the user's
                var trans_request = {
                        targets: targets,
                        chaincodeId: request.chaincodeId,
                        fcn: request.fcn,
                        args: request.args,
                        transientMap: request.transientMap,
                        txId: txId,
                        signer: signer
                };
{code}
This makes it impossible to correlate client requests that use this api using the transaction id, through the peer and chaincode when debugging is turned on and the chaincode outputs the txid

the queryByChaincode method could easily support a user provided txId.",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1035,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwtz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Node 10 is now LTS, determine the appropriate node versions that should be supported for 1.4",FABN-986,34994,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Duplicate,,davidkel,davidkel,31/Oct/18 8:30 PM,04/Sep/19 7:55 PM,28/Oct/23 3:25 AM,04/Sep/19 7:55 PM,,,,,,,v1.4.1,,,,0,,,,,,,davidkel,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwvj:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,MichaelWang,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/19 7:55 PM;davidkel;This has already been done somewhere, can't make it as Already Done because jira is limited on this so marked as duplicate;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install Proposal response is inconsistent,FABN-987,34995,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,bestbeforetoday,caroline-church,caroline-church,31/Oct/18 9:18 PM,05/Dec/18 3:37 AM,28/Oct/23 3:25 AM,27/Nov/18 6:43 PM,v1.3.0,,,,,,,,,,0,,,,,"If i install some node chaincode and an error occurs i get back a proposal response object that looks like this: 

 
{code:java}
{
  isProposalResponse:true,
  message:""invalid chaincode version 'vscode-debug@0.0.1'. Versions can only      consist of alphanumerics, '_', '-', '+', and '.'"",
  payload:Buffer(0) [],
  stack:""Error: invalid chaincode version 'vscode-debug@0.0.1'. Versions can   only consist of alphanumerics, '_', '-', '+',  (removed rest of stack as not important),
  status:500,
}


{code}
 

 
 
However if i successfully install the chaincode i get a proposal response that looks like this:
 
{code:java}
{
  endorsement:null,
  payload:Buffer(0) []
  response: {
    status: 200, 
    message: """", 
    payload: Buffer(2)
  }
}
{code}
 
This inconsistency means that i also get typescript errors if i try and work around the problem",,bestbeforetoday,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwvr:",,,,Unset,Unset,,,,,,,,,,Install an invalid chaincode and then install a valid chaincode,,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,caroline-church,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 1:16 AM;bestbeforetoday;Looking at the TypeScript definitions, Channel.sendTransaction() returns a ProposalResponseObject, which itself is defined as:
 
type ProposalResponseObject = [Client.ProposalResponse[], Client.Proposal];
 
Looking at the implementation code (client-utils.sendPeersProposal), each of the items in the Client.ProposalResponse[] may be either a Client.ProposalResponse or an Error. Perhaps the ProposalResponseObject type definition should be:
 
type ProposalResponseObject = [Array<Client.ProposalResponse | Error>, Client.Proposal];
 
[~caroline-church] Am I understanding your problem correctly, and would this solve it?
[~harrisob@us.ibm.com]  [~zhaochy] What do you think?;;;","22/Nov/18 2:35 AM;caroline-church;The implementation is wrong it should send back a ProposalResponse in both success and error cases. The only difference should be in the status code and the status message. This is how http responses work. You don't get a completely different object structure when you get an error to when you get success;;;","22/Nov/18 7:09 PM;bestbeforetoday;I am not keen on this behaviour either. Since it's already out in the field in release 1.3 I'm not sure how much scope we have for changing it in a 1.x release.;;;","22/Nov/18 7:30 PM;caroline-church;I thought you might say that, can we at least fix it properly in 2.x even if we can only fix the typescript for 1.x;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Shouldn't package if version is invalid,FABN-988,34996,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sstone1,caroline-church,caroline-church,31/Oct/18 9:38 PM,01/Nov/18 12:44 AM,28/Oct/23 3:25 AM,01/Nov/18 12:44 AM,v1.4.0,,,,,,,,,,0,,,,,If i try and use the new packaging api to create a cds package and give an invalid version it shouldn't let me package as i will never be able to install it,,caroline-church,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwvz:",,,,Unset,Unset,,,,,,,,,,"package some chaincode with a version that includes an '@' character
no error happens",,Unset,,,,,,Unset,,Unset,,(Please add usage information),caroline-church,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 11:19 PM;sstone1;https://gerrit.hyperledger.org/r/c/27285/;;;","01/Nov/18 12:44 AM;sstone1;[~caroline-church] CR has been merged, and should be in a snapshot build soon.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove redundant packaging code,FABN-989,35005,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sstone1,sstone1,sstone1,01/Nov/18 1:49 AM,01/Nov/18 8:10 PM,28/Oct/23 3:25 AM,01/Nov/18 8:10 PM,,,,,,,,,,,0,,,,,"installChaincode still uses the ""old"" packaging code (_getChaincodeDeploymentSpec) instead of the ""new"" packaging code (Package.fromDirectory); we should clean this up.

",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwxr:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 2:20 AM;sstone1;https://gerrit.hyperledger.org/r/c/27290/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare for Node SDK 1.40-beta,FABN-990,35010,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,01/Nov/18 3:15 AM,07/Nov/18 1:48 AM,28/Oct/23 3:25 AM,07/Nov/18 1:48 AM,,,,,,,v1.4.0,,,,0,,,,,"Make the follow file changes
{quote}CHANGELOG.md - add entries using the command  `/scripts/changelog..sh 55f8ccc 1.4.0-beta` (add entries from 1.3.0)
 fabric-ca-client/package.json  - update the *version* : 1.4.0-beta, *tag : beta*
 fabric-client/package.json- update the *version* : 1.4.0-beta, *tag : beta*
 fabric-network/package.json- update the *version* : 1.4.0-beta, *tag : beta*
 package.json - - update the *version* : 1.4.0-beta, *testFabricVersion* : master
 release_notes/v1.4.0-beta.txt - create (copied from 1.3.0.txt) and add notes for 1.4.0-beta
{quote}
Once the above changes are merged

from the root of fabric-sdk-node project directory

 
{code:java}
git checkout master
git pull
git tag -a v1.4.0-beta `git log -n 1 --pretty=oneline | head -c7` -F release_notes/v1.4.0-beta.txt
git push origin v1.4.0-beta HEAD:refs/heads/master{code}
 ",,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-966,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwyn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/18 2:59 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/27313/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add grpc and protobufjs to the dependency of fabric-ca-client,FABN-991,35034,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,zhaochy,zhaochy,zhaochy,01/Nov/18 11:00 AM,14/Nov/18 11:06 PM,28/Oct/23 3:25 AM,14/Nov/18 11:06 PM,v1.3.0,,,,,,,,,,0,,,,,"fabric-ca-client re-use the lib/msp/identity.js from fabric-client, which requires the package grpc and protobufjs.",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx3r:",,,,Unset,Unset,,,,,,,,,,"with fabric-ca-client v1.3.0 when we call user.setEnrollment(), an exception will throw by can not found module 'grpc'",,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 11:05 AM;zhaochy;This is a bug at version 1.3.0, however the master branch seems already fixed this.;;;","01/Nov/18 4:29 PM;zhaochy;fix for release-1.3 branch: https://gerrit.hyperledger.org/r/#/c/27298/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to connect before the deadline,FABN-992,34739,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Duplicate,,GLeurquin,GLeurquin,17/Oct/18 9:02 PM,14/Nov/18 11:10 PM,28/Oct/23 3:25 AM,14/Nov/18 11:10 PM,v1.1.0,,,,,,,,,,0,,,,,"When using fabric-client library for nodejs v1.3.0 and grpc v1.14.2, I get the following error when making a query or invoke on a peer:

```Failed to connect before the deadline URL:grpcs://peer:7051```

I looked at packets on the peers/chaincode containers, and nothing is received.

The +exact+ same setup (I just override the node_modules/grpc and node_modules/fabric-client with v1.10.1 and v1.2.1 respectively) works with fabric-client library for nodejs v1.2.1 and grpc v1.10.1. So the blockchain is not the issue, but the node library seems to be. I don't know where the problem might be in the nodejs library however.

 

I am using this library to perform the query or invoke: [https://github.com/Kunstmaan/hyperledger-fabric-client-utils]",,andrew-coleman,baohua,GLeurquin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-969,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvhz:",,,,Unset,Unset,,,,,,,,,,Use nodejs fabric-client sdk v1.3.0 and grpc v1.14.2. Attempt to make a query or invoke on a blockchain.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,baohua,GLeurquin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 11:10 PM;andrew-coleman;duplicate of FABN-969;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Empty string return values not passed back correctly,FABN-993,35060,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,02/Nov/18 6:42 PM,07/Nov/18 12:01 AM,28/Oct/23 3:25 AM,07/Nov/18 12:01 AM,,,,,,,,,,,0,,,,,"When using the submitTransaction() API, an empty string return value from a chaincode function is returned to the client code as a null. It should return an empty Buffer.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx9r:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in Tutorial Document,FABN-994,35079,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,ynamiki,ynamiki,ynamiki,05/Nov/18 8:59 AM,11/Nov/18 8:53 PM,28/Oct/23 3:25 AM,11/Nov/18 8:53 PM,v1.3.0,,,,,,,,,,0,,,,,"https://fabric-sdk-node.github.io/release-1.3/tutorial-app-dev-env-setup.html

> Follow the instructions here to use the congigtxgen tool to generate a genesis.block.

""congigtxgen"" should be ""configtxgen"".",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxd3:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/18 9:04 AM;ynamiki;https://gerrit.hyperledger.org/r/27351;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fabric client 1.2, 1.3 and mutual TLS problem",FABN-995,35084,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Done,harrisob@us.ibm.com,LazarLukic,LazarLukic,05/Nov/18 6:28 PM,07/Nov/18 11:37 PM,28/Oct/23 3:25 AM,07/Nov/18 11:37 PM,,,,,,,,,,,0,,,,,"My fabric network version is 1.3 (dockerfiles attached). I think there is a problem with ChannelEventHub on 1.2 and 1.3 fabric client. I have no problems with fabric client 1.1.2 version and ChannelEventHub, everything works fine. ",,harrisob@us.ibm.com,LazarLukic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/18 6:20 PM;LazarLukic;fabric-ca-orderer.dockerfile;https://jira.hyperledger.org/secure/attachment/16215/fabric-ca-orderer.dockerfile","05/Nov/18 6:20 PM;LazarLukic;fabric-ca-peer.dockerfile;https://jira.hyperledger.org/secure/attachment/16216/fabric-ca-peer.dockerfile","05/Nov/18 6:20 PM;LazarLukic;fabric-ca-tools.dockerfile;https://jira.hyperledger.org/secure/attachment/16217/fabric-ca-tools.dockerfile","05/Nov/18 6:21 PM;LazarLukic;node-client.crt;https://jira.hyperledger.org/secure/attachment/16214/node-client.crt",,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxe7:",,,,Unset,Unset,,,,,,,,,,"Configured mutual tls on both orderer (ORDERER_GENERAL_TLS_CLIENTAUTHREQUIRED) and peer (CORE_PEER_TLS_CLIENTAUTHREQUIRED). 

When i invoke chaincode i am getting the following error:
Received status message on the block stream. status:BAD_REQUEST
    at ClientDuplexStream._stream.on (/root/go/src/github.com/nodejs-server/node_modules/fabric-client/lib/ChannelEventHub.js:430:23)
    at emitOne (events.js:116:13)
    at ClientDuplexStream.emit (events.js:211:7)
    at addChunk (_stream_readable.js:263:12)
    at readableAddChunk (_stream_readable.js:250:11)
    at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)
    at Object.onReceiveMessage (/root/go/src/github.com/nodejs-server/node_modules/fabric-client/node_modules/grpc/src/client_interceptors.js:1276:19)
    at InterceptingListener.recvMessageWithContext (/root/go/src/github.com/nodejs-server/node_modules/fabric-client/node_modules/grpc/src/client_interceptors.js:603:19)
    at /root/go/src/github.com/nodejs-server/node_modules/fabric-client/node_modules/grpc/src/client_interceptors.js:702:14

Note, that transaction is being committed. When i switch to fabric client 1.1.2 it works fine.

When i set mutual TLS to false on both peers and orderer. Fabric client 1.3 then works how it should.



",,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,LazarLukic,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/18 6:29 PM;LazarLukic;[~harrisob@us.ibm.com];;;","05/Nov/18 8:43 PM;harrisob@us.ibm.com;{color:#444444}Are you setting the mutual TLS settings on the {color}{color:#444444}`{color}{color:#444444}{{Client}}{color}{color:#444444}`{color}{color:#444444} object instance with the {color}{color:#444444}`{color}{color:#444444}{{setTlsClientCertAndKey()}}{color}{color:#444444}`{color}{color:#444444} method. This will be required to make the Channel EventHub work in a Mutual TLS environment.{color};;;","05/Nov/18 8:55 PM;LazarLukic;[~harrisob@us.ibm.com] Yep, now it works. I was setting clientCert, clientKey in peer instance (client.addPeer). Thanks;;;","06/Nov/18 1:49 AM;harrisob@us.ibm.com;I will use this bug to improve the doc to indicate how to setup a 'ChannelEventHub' when using mutual TLS;;;","06/Nov/18 7:48 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/27371/;;;","06/Nov/18 7:57 PM;harrisob@us.ibm.com;for release-1.3 [https://gerrit.hyperledger.org/r/#/c/27383/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The fabric-end-2-end-daily jobs for the master branch are failing consistently,FABN-996,35095,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Highest,Done,,sambhavdutt,sambhavdutt,06/Nov/18 12:41 AM,19/Mar/19 8:13 PM,28/Oct/23 3:25 AM,12/Nov/18 9:24 PM,v1.4.0,,,,,,v1.4.0,,,,0,ci-failure,,,,"The sdk-node is failing in the daily end to end tests starting from the *SDK_NODE commit: 49637c6*

*Branch: Master*

*Failing consistently on both x86_64 and s390x platforms.*
{code:java}
22:17:25 1..207
22:17:25 # tests 207
22:17:25 # pass 201
22:17:25 # fail 6{code}
Failed build log:
{code:java}
22:16:55 ok 176 Successfully initialized Channel
22:17:22 not ok 177 TypeError: Cannot read property 'txId' of null at channel.sendUpgradeProposal.then (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:309:25) at <anonymous>
22:17:22   ---
22:17:22     operator: fail
22:17:22     at: e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:408:6)
22:17:22     stack: |-
22:17:22       Error: TypeError: Cannot read property 'txId' of null
22:17:22           at channel.sendUpgradeProposal.then (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:309:25)
22:17:22           at <anonymous>
22:17:22           at Test.assert [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:224:54)
22:17:22           at Test.bound [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
22:17:22           at Test.fail (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:317:10)
22:17:22           at Test.bound [as fail] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:76:32)
22:17:22           at e2eUtils.tlsEnroll.then.then.then.then.then.then.catch (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/e2eUtils.js:408:6)
22:17:22           at <anonymous>
22:17:22   ...
22:17:22 not ok 178 Failed to upgrade chaincode 
22:17:22   ---
22:17:22     operator: fail
22:17:22     at: e2eUtils.instantiateChaincode.then (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/e2e/upgrade.js:47:7)
22:17:22     stack: |-
22:17:22       Error: Failed to upgrade chaincode 

{code}
 

*This*

 

*Build Logs*
 [https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-x86_64/273/consoleFull]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/273/]",,andrew-coleman,denyeart,harrisob@us.ibm.com,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,49637c6,Unset,No,,,"1|hzzxgn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,denyeart,harrisob@us.ibm.com,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 11:36 AM;denyeart;Are you saying that this commit from [~rameshthoomu] broke it? 

[https://gerrit.hyperledger.org/r/#/c/27264/]

 

Or some commit around *49637c6* broke it?

FYI [~andrew-coleman];;;","12/Nov/18 9:23 PM;sambhavdutt;The *sdk-node* tests are working as expected in the end-2-end tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add credentials in Jenkins pipeline,FABN-997,35114,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,,rameshthoomu,rameshthoomu,06/Nov/18 12:03 PM,25/Apr/19 12:10 AM,28/Oct/23 3:25 AM,25/Apr/19 12:10 AM,,,,,,,,,,,0,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxkf:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/19 12:10 AM;rameshthoomu;Credentials for publish npm token and fabric-sdk-node api docs are added in Jenkins.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
newChannelEventHub does not use peer argument ,FABN-998,35124,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,High,Invalid: Environment Issue,harrisob@us.ibm.com,harrisob@us.ibm.com,harrisob@us.ibm.com,06/Nov/18 6:08 PM,07/Nov/18 7:39 AM,28/Oct/23 3:25 AM,07/Nov/18 7:39 AM,v1.2.0,v1.3.0,,,,,,,,,0,,,,,The method always uses the first peer as the target peer and does not use the peer being passed in.,,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxmn:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 7:44 PM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/27384/;;;","07/Nov/18 7:39 AM;harrisob@us.ibm.com;The code is working as designed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Permit install/instantiate with target chaincode versions,FABN-999,35126,,Task,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Low,Won't Do,,nkl199,nkl199,06/Nov/18 6:29 PM,13/Jan/21 12:25 AM,28/Oct/23 3:25 AM,13/Jan/21 12:25 AM,,,,,,,,,,,0,sdk-triaged,,,,"This relates to the output of a conversation with [~harrisob@us.ibm.com] and [~andrew-coleman] regarding the ability to target a specific chaincode version during install/instantiate.

Example:
- At the moment when an install/instantiate is performed it is (assumed) not possible to control the version of chaincode that is used. For instance, if deploying java chaincode there is no (currently known) way to specify the version of the javaenv that is used; in the 1.4.0 builds, the 1.4.0 javaenv is pulled and used.
- It would be desirable to be able to directly specify this level as an optional parameter (maybe metadata?) during the install, that is respected at the point of instantiation
- This would give users greater control over the chaincode lifecycle
",,lesleyannj,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zll:04",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lesleyannj,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jan/21 12:25 AM;lesleyannj;Backlog Review - Closing.  Focus going forward doesn't include admin.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expected event hubs to be a Promise but was object,FABN-1000,35131,,Bug,Closed,FABN,Fabric SDK Node,software,andrew-coleman,,,Medium,Done,sstone1,sstone1,sstone1,06/Nov/18 9:58 PM,12/Nov/18 11:39 PM,28/Oct/23 3:25 AM,12/Nov/18 11:39 PM,,,,,,,,,,,0,,,,,"When using the fabric-network module within VSCode, I get an error saying:

{noformat}
Expected event hubs to be a Promise but was object
{noformat}

This error comes from the constructor for AbstractEventStrategy.

On debugging, what gets passed in is actually a Promise, but not the exact same class of Promise that seems to be available to AbstractEventStrategy - the instanceof check fails.

We should use the is-promise module instead, which does a check that the object is ""thenable"" - it has a .then() method.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxnz:",,,,Unset,Unset,,,,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/18 10:18 PM;sstone1;https://gerrit.hyperledger.org/r/#/c/27386/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
