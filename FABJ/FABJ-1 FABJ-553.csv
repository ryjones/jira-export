Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Sprint,Sprint,Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
V1.0 Remove Java.Docker,FABJ-1,14948,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,rickr,rickr,21/Feb/17 3:49 AM,21/Jul/18 4:15 AM,28/Oct/23 2:21 AM,10/Mar/17 5:41 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Go.Docker is no longer needed and I think there were some security concerns.  We should follow suit with Java unless there's a good reason not to.
Two places
src/main/resources/Java.Docker
src/Java.Docker
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5wf:",,,,Unset,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Support protobuf asyc sending,FABJ-2,13812,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,choojoyq,rickr,rickr,15/Dec/16 5:14 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,14/Feb/17 6:19 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Send requests to multiple endorsers/orderers simultaneously, now it's done consecutively.
This api should be exposed to the user but could wait post v1.0 ",,choojoyq,rickr,satheeshk,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6av:",,,,Unset,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,Unset,,,,,,,,,,,choojoyq,rickr,satheeshk,tuand,,,,,,,,dev,main,,,,,,true,"18/Jan/17 6:14 PM;satheeshk;Please update the description, the current description does not make sense.;;;","10/Feb/17 3:25 AM;tuand;Note that a client app ( via SDK ) sends a transaction to only one orderer. The orderers will replicate the request among themselves as needed by the consensus algorithm. SDK does not have to participate in this.

The channel configuration  may list multiple orderers but SDK should use them as backup in case the send to orderer1 has a communications problem ( or you can round-robin, transaction 1 to orderer1, transaction 2 to orderer2 and so on ) ;;;","10/Feb/17 4:12 AM;choojoyq;Thanks, sounds reasonable. [~rickr] said me almost the same and we decided to update only endorsers in the scope of the story what is in coherence with your comment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Eventing listener,FABJ-3,13809,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,15/Dec/16 4:54 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,16/Feb/17 5:06 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"SDK needs to provide register an event  listener.  Once  a proposal is sent to the orderer it the event listener should be able to pick up the results from the transaction.

Provides EventHub that listens to Fabric block events.
Allows end user to register block listener on Chain.
Modifies transactions to Orderer to return CompletableFuture and completion when transaction is done. 
   Eliminates need for waits.
Updates to End2end test to match interface.
",,isramos,kelvinzhong,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx6an:",,,,Unset,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,Unset,,,,,,,,,,,isramos,kelvinzhong,rickr,,,,,,,,,,,,,,,,,"01/Feb/17 4:06 AM;rickr;The bulk of this has been done.  But I'm keeping it open as I think there are still some minor things that will need doing.  ;;;","01/Mar/17 7:26 PM;kelvinzhong;i'm confuse that as the end2end test shows how to register the eventhub, but where to set the callback function of this listener？;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create simple Broadcast throughput testing example,FABJ-4,19214,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,jyellick,jyellick,12/Jul/17 10:32 PM,11/Sep/18 11:52 PM,28/Oct/23 2:21 AM,11/Sep/18 11:52 PM,,,,,Future,,,,,0,,,,,,"Throughput testing of the orderer {{Broadcast}} interface using code which generates non-ENDORSER transactions (just messages with an arbitrary payload) shows throughput of ~900-1000 tps on my local laptop with v1.0.0 code.

Using a sample client from [~jimthematrix], similar results are achieved using the node SDK.

I have heard some reports of tps rates as low as 50-60 when invoking {{Broadcast}} via the java SDK.  I strongly suspect this that is user error or poor network configuration, however, there is no obvious way to refute these claims.

It would be nice, to have a simple java-sdk test client which constructs messages similarly to https://gerrit.hyperledger.org/r/#/c/11267/ which can be used to test throughput of the {{Broadcast}} API for the Java SDK independent of the rest of the fabric stack.",,jyellick,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy85j:",,,,Unset,,,,,,,,,2.0,Unset,,,,,,,,,,,jyellick,rickr,,,,,,,,,,,,,,,,,,"11/Sep/18 11:52 PM;rickr;Java SDK has a mulithreaded stress test that we routinely run to validate it can handle load as we would expect in Java application. The SDKs purpose is not for stress testing the Fabric;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Non-Validating peer registration at run time ,FABJ-5,13574,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,ankitkamra,ankitkamra,01/Dec/16 2:35 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,19/Jan/17 2:51 AM,,,,,,,,,,0,,,,,,"I want to create credentials of non-validating peer at run time using fabric-java-sdk and want to enroll the same at run time. Can we do that without restarting whole blockchain network ? If yes, how we can do that ?",,ankitkamra,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxg0v:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,ankitkamra,jimthematrix,mastersingh24,,,,,,,,,,,,,,,,,"04/Dec/16 7:03 AM;mastersingh24;Not sure about the Java SDK, but with the NodeJS SDK you can create (aka register) new users with membership services and then start up a new non-validating peer using the values (enrollID and enrollSecret) returned from the register command.

I will say that I'm not sure doing any of this is worthwhile at this point.  Non-validating peers don't really serve much purpose in the v0.6 architecture and we've remove the concept entirely in the new architecture which is under development in the master branch;;;","19/Jan/17 2:52 AM;jimthematrix;can't really set this to ""No Plan to Implement"", so just setting it to ""Done"". but basically what [~mastersingh24]said above. this doesn't apply any longer to v1.0. non VP responsibilities have been subsumed into the SDK to reside in the applications themselves.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Latest google protobuf library,FABJ-6,13815,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,15/Dec/16 5:26 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,01/Feb/17 3:16 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,The current version of proto bufs we user is old.  We should move up to the latest.  This is fairly simple change in pom.xml  but we need to test it to.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxfyv:",,,,Unset,,Sprint 5 - Consensus,Sprint 10 - Java SDK,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,"01/Feb/17 3:17 AM;rickr;Was handled in FAB 1400 Event Listener;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable CI for fabric-sdk-java,FABJ-7,13007,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,Pardha,Pardha,14/Oct/16 12:35 AM,21/Jul/18 4:15 AM,28/Oct/23 2:21 AM,19/Jan/17 2:15 AM,,,,,,,,,,0,,,,,,Enable CI for fabric-sdk-java,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7rj:",,,,Unset,,Sprint 10 - Java SDK,,,,,,,,Unset,,,,,,,,,,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Join Channel,FABJ-8,14710,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,tuand,tuand,10/Feb/17 3:45 AM,21/Jul/18 4:15 AM,28/Oct/23 2:21 AM,10/Mar/17 11:23 PM,,,,,v1.0.0,,,,,0,,,,,,"... using Chain and Channel interchangeably. I think the ""official"" term will be Channel at some point before V1.0 ships.

create API to command a peer to join a new Channel. This will need to forward the channel genesis block returned by the new Chain call.

More info on Channel creation/Join at https://docs.google.com/document/d/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc/edit#

Fabric has code for a CLI join command at hyperledger/fabric/peer/channel/join.go",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxkif:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"01/Mar/17 10:25 PM;rickr;Testing doesn't work .. server just panics
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Block testing for end2end and api wrapper,FABJ-9,14958,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,21/Feb/17 8:48 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,02/Mar/17 8:11 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Currently in End2end tests both GO and Java we don't test the block that is returned on transactions.   I understand that it's difficult to determine from this block whether the transaction actually succeeded.   We should investigate returning  a wrappered class on this  block that simplifies the testing if the transaction actually completed.  Both End2end for GO and Java should then be fixed up to take this into account.
",,rickr,tuand,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5wn:",,,,Unset,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,Unset,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"23/Feb/17 8:02 AM;tuand;The transaction results flags are in Block.metadata in a bit string. The data structure is described in protos/common/common.proto.

Fabric has an example on how to read the metadata struct in this [file|https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=examples/events/block-listener/block-listener.go;h=d8d697ca7866955bbc34737f5ff9dcf156c82de0;hb=HEAD]

The Node.js SDK code to do the same is in this [changeset|https://gerrit.hyperledger.org/r/#/c/6191/];;;","23/Feb/17 8:04 AM;tuand;We do need to check when this [changeset|https://gerrit.hyperledger.org/r/#/c/5995] as it will change the format of the metadata struct;;;","02/Mar/17 8:11 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6677/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Java SDK Crypto interface should use standard JCA/JCE provider abstraction,FABJ-10,17706,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,MikeGardiner,MikeGardiner,10/Jun/17 3:20 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,19/Oct/17 11:33 PM,v1.1.0,,,,v1.1.0,,,,,0,HSM,,,,," The CryptoSuite interface as well as CryptoPrimitives is needlessly complex containing dead code from previous implementations and doesn't take advantage of native java crypto abstraction provided via the Java Crypto Architecture/Extension Service Provider Interfaces.

Here are a number of suggestions to improve the interface based on years of experience creating JCA/JCE implementations. 

 

1.      Consider eliminating the CryptoSuite interface
 I don’t really see a specific need to have multiple implementations of the interface.  We should be thinking of the JCA/JCE interface as the abstraction

2.      The new CryptoSuite/PrimitiveCrypto class should inspect the configured provider to ensure it has implementations for the required algorithms.
 This may mean we want to configure providers per operation type.. Could be for asymmetric/symmetric.  Or more likely to do verification (low assurance) operations in software and signature / key agreement/generation (high assurance) operations in hardware.  If the provider cannot do the operations then throw an exception, never fall back to a different crypto implementation. 

3.      Management of keys (load KeyStore or PEM files) should be up to the application since the CryptoSuite is only concerned with keys/certs directly.  KeyStore implementations as a more Java native approach, so I would suggest that the SDK and samples use that approach rather than PEM files.  It would be beneficial to have separate trust and key stores.  

4.      CryptoPrimitives.verify : what’s going on here?
 Is it really true that you try to verify the data with the algorithm of the cert?  The algorithm of the cert shouldn’t have any bearing on the algorithm that was used to sign the data.  The algorithm in the cert lets you know that the cert was signed with, that’s all. 
 For now it would be safe to assume that the DEFAULT_SIGNATURE_ALGORITHM is the one to use.. but as a general comment to the wider fabric community, a homogeneous crypto system is something you shouldn’t assume.  I would recommend having it as a parameter.  

5.      The identifier P-256 isn’t a standard name for the prime256 curve.  You should use “prime256v1” or “secp256r1”

6.      Rather than a “security level” with a bit value it would be better to explicitly name the curve.. but I understand this is a wider ‘fabric’ issue

7.      In general.. I really hate seeing functions that only call another function.  Eg:  keyGen() just calls ecdsaKeyGen which just fills some values and calls generateKey.  There isn't any reason why keyGen() couldn't do the work in generateKey or take parameters which can alter the defaults and generate with those parameters.

8.      EciesDecrypt
 Is this used anywhere?  It feels like CryptoPrimitives may have a bunch of dead code that should be removed?
 Some providers support ECIES.. but the challenge is that there are a few standards calling themselves ecies so they are often not compatible.   It’s probably fine to leave this function here if it’s actually used

9.      CalculateMac
 This function should use javax.crypto.Mac rather than the bouncy castle HMac class. 

10.  aesDecrypt
 this method doesn’t use the specified provider and instead uses the first one on the java.security list which can do the symmetric operation.  It should specify a provider

11.   ECNamedCurveParameterSpec… replace this with the java named curve classes rather than BC

12.  ecdsaSign method… why is this here, not part of the interface or used in the project.  Dead Code?

{color:#004080}13.{color}{color:#004080}  {color}sign->ecdsaSignToBytes.. again, why call another function needlessly?
 It should be using standard Java Signature class rather than bouncy castle.  All of the Malleability portions (enforce low s value) should be applicable to any provider after you decode the signature to get the R and S value.  We have code to do this that can be provided.  The code we have is using Bouncy Castle ASN1 Primitives.  We could continue with that or build something bespoke.

14.  creating CSRs, haven’t looked at this code yet.. should work with the private key in another provider but I believe you also had to specify the signer provider for the JcaContentSignerBuilder to be the one used for key generation since that’s where the keys is.  In the case of our provider you would call csBuilder.setProvider(“LunaProvider”).  This call is commented out in the code right now.  So I would leave BouncyCastle as a dependency on this SDK.  Chiefly because every provider which does include certificate generation support does it in a different way and the BC Cert classes have always been friendly to using a private key in another provider. 

15.  hash / Digest methods
 This should use MessageDigest classes, not Digest from BouncyCastle.  It is true that not all providers will support all hashes (SHA3 for example) but you probably can just leave the provider selection blank and get any provider that supports the hash since it isn't a security issue.",,jpatchell,MikeGardiner,rickr,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzwv:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,jpatchell,MikeGardiner,rickr,,,,,,,,,,,,,,,,,"19/Oct/17 11:31 PM;rickr;I think this is done under -FAB-6603-.  Please reopen if anyone feels different with _specifics_ on what needs to be done yet.

If anything here also needs doing for v1.1 it will need to come with some resources committed to delivering changes for that release. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Submit Transaction,FABJ-11,13806,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,15/Dec/16 4:13 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,19/Jan/17 1:52 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Java SDK can send a Transaction, after having collected successful endorsements from a proposal response, to the order and get a successful submission.",,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7sf:",,,,Unset,,Sprint 10 - Java SDK,,,,,,,,Unset,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"19/Jan/17 1:52 AM;jimthematrix;this works in branch fabric_v1 against the latest fabric (as of today);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need to persist chain data ,FABJ-12,14567,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,06/Feb/17 11:57 PM,21/Jul/18 4:15 AM,28/Oct/23 2:21 AM,29/Jun/17 9:57 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Need to persist Chain info including chainID, members, trust store and other info so that apps can stop and restart without having to re-register users and rejoin channels.

Proposing something like a Properties class , say
Class ChainPersistence {
   loadFromDisk();
   saveToDisk();
   setTrustStore();
   getTrustStore();
   setChainID();
   ... and so on ...
}

We can allow for different ways of actually persisting the info by overriding the saveToDisk() and loadFromDisk() methods.  Would think we can start off by just serializing the entire object to file.",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxk3r:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"13/Mar/17 4:25 AM;rickr;Not where the SDK is going!  The embedding application needs to do this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rejected Application state store backed by databases,FABJ-13,14160,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,jimthematrix,jimthematrix,19/Jan/17 3:14 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,29/Mar/17 2:30 AM,,,,,,,,,,0,,,,,,"The interaction model with the fabric determines that a number of application states need to be save in a storage area for access by the application:

- membership enrollment (which encapsulates private key, signing certificate, and chain/channel-wide encryption keys for confidentiality)
- fabric event listener information for crash recovery purposes (which events are being listened on)",,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,FABN-708,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5sf:",,,,Unset,,Sprint 4 - nodeSDK,Sprint 5 - nodeSDK,Sprint 7 - nodeSDK,Sprint 8 - nodeSDK,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,8.0,Unset,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"13/Mar/17 5:09 AM;rickr;I think  the SDK should being stateless.   I see the embedding application of the SDK should provide state.  This is the most flexible solution for the application.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Submit proposal,FABJ-14,13805,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,15/Dec/16 3:13 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,13/Mar/17 6:07 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Proposal should be submitted successfully and valid proposal response received.,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7s7:",,,,Unset,,Sprint 10 - Java SDK,,,,,,,,Unset,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"19/Jan/17 2:00 AM;jimthematrix;this works in fabric_v1 branch against the latest fabric as of today;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK support for privacy-preserving ownable state,FABJ-15,28447,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,ales,ales,13/Mar/18 5:02 AM,22/Oct/19 7:32 PM,28/Oct/23 2:21 AM,22/Oct/19 7:32 PM,,,,,Future,,,,,0,,,,,,An application developer requires high-level functions to create and modify ownable state without having to handle individual KVS pairs,,ales,denyeart,rickr,,,,,,,,,,,,,,,,,,,,,,,FABN-15,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8820,,,,,,,,,"1|hzz13b:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,ales,denyeart,rickr,,,,,,,,,,,,,,,,,"27/Apr/18 10:38 PM;denyeart;[~ales] With latest design I don't think there is any SDK impact for the normal (public) ownable state, right?;;;","24/Aug/18 2:25 AM;rickr;Well even if there is it's not happening in 1.3;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Provide Config file fabric_v1,FABJ-16,14305,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,23/Jan/17 10:17 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,01/Feb/17 5:17 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Provide Configuration file ,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxivj:",,,,Unset,,Sprint 5 - Consensus,Sprint 10 - consensus,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,"23/Jan/17 11:24 PM;rickr;https://gerrit.hyperledger.org/r/#/c/4711/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Protobuf update Jan 20 signature Malleability fix,FABJ-17,14215,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,21/Jan/17 5:48 AM,02/May/19 2:51 AM,28/Oct/23 2:21 AM,30/Jan/17 11:26 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,Bring protbufs to Fabric level Feb 20th and fix signature malleability,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-24,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzxirz:",,,,Unset,,Sprint 5 - Consensus,Sprint 10 - consensus,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"23/Jan/17 11:25 PM;rickr;https://gerrit.hyperledger.org/r/#/c/4711/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unit test for the e2e_cli by using the java sdk ,FABJ-18,26258,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,asaningmaxchain,asaningmaxchain,asaningmaxchain,22/Dec/17 12:01 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,24/Dec/17 2:00 AM,,,,,,,,,,0,,,,,,"in the e2e_cli example,it tell me how to communicate with the fabric network,but i want to use the java sdk to operate it,i know the java sdk which provide the some example,but i want to split it,like the e2e_cli operation,you can follow the step to recurrence it,

1) please download the attachment,it contains the e2e_cli and java maven project,

2) you extract e2e_cli.tar and test.tar

3) you can start up the e2e_cli in the e2e_cli folder

4) you can import the test in the idea/eclipse dev tool ,in the  src/test/java/com/maxchain/AppTest.java file,you will see it contains many junit test,please follow the orderer to start the unit test

5) when i test the chaincodeInvoke i got the followe error

it's the java sdk log

org.hyperledger.fabric.sdk.exception.TransactionEventException: Received invalid transaction event. Transaction ID 6d8e858fd79c52ea84c9edbbc3bf5816a16d80510ed109442641b08719ae284a status 10

 ",,asaningmaxchain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Dec/17 11:57 AM;asaningmaxchain;e2e_cli.tar;https://jira.hyperledger.org/secure/attachment/13939/e2e_cli.tar","22/Dec/17 11:57 AM;asaningmaxchain;test.tar;https://jira.hyperledger.org/secure/attachment/13940/test.tar",,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyryf:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,asaningmaxchain,,,,,,,,,,,,,,,,,,,"24/Dec/17 2:01 AM;asaningmaxchain;the chaincode policy invoke wrong method;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support multiple actions per sendTransaction() call,FABJ-19,17783,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,jimthematrix,jimthematrix,13/Jun/17 3:45 AM,22/Oct/19 7:31 PM,28/Oct/23 2:21 AM,22/Oct/19 7:31 PM,,,,,Future,,,,,0,,,,,,"If a business contract requires multiple ""actions"" to succeed or fail atomically (all or none), then the best way to write the application code is by packaging up all the pairs of proposal:proposalResponses, one pair per action, into a single sendTransaction() call. The fabric will guarantee through the transaction processing that all the actions included are processed atomically.

As of v1.0, node and java SDK only support a single ""action"" per transaction.

Similarly, as of v1.0 peer/ledger only supports a single action per transaction.  The associated peer/ledger work item is FAB-445.",,rickr,SjirNijssen,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,FAB-445,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxzpz:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,SjirNijssen,,,,,,,,,,,,,,,,,,"05/Aug/17 2:16 AM;rickr;[~binhn] [~jimthematrix]  Talking to bin this is a 1.1 so changing to future;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Fabric update Feb 19 22:52:40 2017 +0000,FABJ-20,14817,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,16/Feb/17 5:16 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,08/Mar/17 5:49 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Bring java sdk up to date with latest fabric,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-686,,,,,,,,,"1|hzx5vr:",,,,Unset,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"20/Feb/17 10:31 PM;rickr;Addressed: 
Fabric Protobuf level to: 9a0aedb1055184631170d400b854e8225607e1a7 Sun Feb 19 22:52:40 2017 +0000
 Docker file not needed for GO chain code.
 Go code tgz needs full GO path
 Fixed transaction id to follow required patten hex hash of nononce and Identity 
Changed deployment pattern to break up Deployment to Install and Instantiate chaincode.
 ChaincodeID needs version and path;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Endorser proposal update to V1.0,FABJ-21,13259,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,02/Nov/16 10:26 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,19/Jan/17 2:49 AM,,,,,,,,,,0,,,,,,Update to V 1.0.  Need endorser flow and update to new proposal changes,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx7rr:",,,,Unset,,Sprint 10 - Java SDK,,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support custom instantiation policy,FABJ-22,19115,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Duplicate,,jimthematrix,jimthematrix,10/Jul/17 11:25 PM,12/Sep/18 1:47 AM,28/Oct/23 2:21 AM,12/Sep/18 1:47 AM,,,,,Future,,,,,2,,,,,,"Current during chaincode install, the SDKs (at least node and java, not sure about python and go) simply sends a ChaincodeDeploymentSpec payload to the peer, which then wraps it into a SignedChaincodeDeploymentSpec with a default instantiation policy (requires one org admin signature).

Should add support for custom instantiation policy in the chaincode install APIs, allowing the custom policy to be specified in the same syntax as the endorsement policy (because instantiation policy syntax is the same as the endorsement policy).",,lmars,Mihir2.0,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-288,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzwsfr:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,lmars,Mihir2.0,rickr,,,,,,,,,,,,,,,,,"12/Sep/18 1:47 AM;rickr;This will be addressed with new Life cycle;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Implement support for Fabric CA,FABJ-23,13538,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,28/Nov/16 11:04 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,24/Mar/17 8:35 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Implement COP in Java SDK 1.0
Needs to do:
* Enroll to get signed certificate of user
* Register register another user by an admin so they can enroll too.
* Get Tcerts from 

",,Name63,rickr,smithbk,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,FABJ-136,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5nr:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,Name63,rickr,smithbk,,,,,,,,,dev,main,,,,,,true,"15/Dec/16 8:08 PM;rickr;enroll has been done 
;;;","28/Feb/17 3:59 AM;smithbk;http://gerrit.hyperledger.org/r/6581 Support register to fabric-ca;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protobuf change: ChaincodeSpec ctorMsg to input,FABJ-24,14155,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,jimthematrix,jimthematrix,18/Jan/17 9:43 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,23/Jan/17 12:37 AM,,,,,,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/4111/1/protos/peer/chaincode.proto,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,FABN-97,,,FABJ-17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfz3:",,,,,,Sprint 10 - Java SDK,,,,,,,,,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"23/Jan/17 12:36 AM;rickr;Duplicate of this;;;","23/Jan/17 12:38 AM;rickr;Done as duplicate ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
REJECTED V1.0  need to provide/enforce limits on maximum size of chaincode,FABJ-25,14561,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,06/Feb/17 2:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 3:55 AM,,,,,v1.0.0,,,,,0,java-SDK,,,,,"For example, this logic impacts the ""peer chaincode"" CLI:

https://github.com/hyperledger/fabric/blob/923bf3a8e774249344b09c535b726799aec865bd/core/chaincode/platforms/car/package.go#L46",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-654,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxk3b:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,"29/Mar/17 3:55 AM;rickr;Needs to be enforced on server and protocol level;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Customize transaction event handling.,FABJ-26,28565,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,16/Mar/18 1:29 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Mar/18 10:35 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Currently the only way the completion of the transaction future is when all eventhubs and peer eventing services has reported seeing the block with the transaction. 
 This behavior is definitely not applicable to all usages. 
 With this change applications can on each transaction sent to the orderer specify which eventhubs or peereventing services by a group of NoF and how many in that group need to satisfy the condition for the future to be completed. 
 There is also an option to allow no events to be waited for only the successful or failure on all orderers to receive the transaction.

Current behavior is also that all eventhubs and peer eventing services would need to have seen the transaction before completion even for failed ones.  The default behavior is now to fail fast with an option to allow the old behavior.

 

Gerrit: https://gerrit.hyperledger.org/r/#/c/19123/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1hj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename chain to channel,FABJ-27,16875,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,19/May/17 5:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,22/May/17 3:17 AM,,,,,v1.0.0,,,,,0,,,,,,"This has NO functional code changes.. 
Rename chain to channel to conform closer to Fabric terminology.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw27:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java Utilize TLS binding information and timestamp in eventhub registration messages,FABJ-28,27205,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,wlahti,wlahti,30/Jan/18 1:39 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Feb/18 9:41 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"For the eventhub, the SDK must ensure that the following fields are set, depending on the TLS settings for the network:
 * non-TLS or server-side TLS: timestamp should be set in event registration message (not required in order to allow compatibility with v1.0)
 * mutual TLS: the TLSCertHash must be set in the event registration message. The TLS certificate hash to set is the SHA256 hash of the DER representation of the client's TLS certificate

 

Gerrit https://gerrit.hyperledger.org/r/#/c/17597/",,rickr,wlahti,,,,,,,,,,,,,,,,,,FABJ-103,,,FAB-4824,,,,FABJ-113,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuxj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,wlahti,,,,,,,,,,dev,main,,,,,,true,"06/Feb/18 10:45 AM;rickr;Need a client TLS first;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java serialize channels.,FABJ-29,20885,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,19/Sep/17 4:06 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Sep/17 10:48 PM,v1.0.1,,,,v1.1.0,,,,,0,,,,,,Allow channels in the context of a client to be serialized to Java serialized bytes.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygov:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"19/Sep/17 4:16 AM;rickr;https://gerrit.hyperledger.org/r/#/c/13591/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
get current block hash utility,FABJ-30,16802,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,liuwenliang0632,liuwenliang0632,liuwenliang0632,17/May/17 4:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,23/May/17 2:30 AM,,,,,,,,,,0,,,,,," 

add new class ChainUtils with method calculateBlockHash

for example：

queryBlockByNumber returned correct block with blockNumber 0 
 previous_hash ,currentHash {color:#59afe1}*24202f1d6740f5123a639691ac161b159a14bf3ee6297901f84b591f8c26502d*{color}

queryBlockByNumber returned correct block with blockNumber 1 
 previous_hash {color:#59afe1}*24202f1d6740f5123a639691ac161b159a14bf3ee6297901f84b591f8c26502d*{color},currentHash {color:#654982}*7833b7f796b06912b2ea1153104ff143d50172e2ab008a66b27e89c719e306a8*{color}

queryBlockByNumber returned correct block with blockNumber 2 
 previous_hash {color:#654982}*7833b7f796b06912b2ea1153104ff143d50172e2ab008a66b27e89c719e306a8*{color},currentHash 89ea1bd2d6100dfd9b0d0b02c71c01d07cc8ee749362975a71d90eead459d513",,liuwenliang0632,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvpj:",,,,,,,,,,,,,,,,,,,,,,,,,liuwenliang0632,rickr,,,,,,,,,,dev,main,,,,,,true,"17/May/17 11:01 PM;rickr;Thanks for looking into to this. I don't want to interpret what is being returned by the fabric server.  I also want to make sure we start moving all BouncyCastle code into CryptoPrimitivies 

Maybe move this code to a new Class ChainUtils.java  where the user supplies blockNumber previousHash and DataHash 
This makes it more obvious that what's being done is a calculation on what the Fabric is returning.;;;","18/May/17 12:19 PM;liuwenliang0632;ok,i had fixed as u said;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish v1.0.0-rc1 JSDK to Maven,FABJ-31,18667,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rameshthoomu,rickr,rickr,26/Jun/17 9:03 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Jun/17 12:24 AM,v1.0.0-rc1,,,,v1.0.0-rc1,,,,,0,,,,,,"Release commit that needs publishing is tagged with v1.0.0-rc1

Commit level is f918ecc2237587ba0c0c5b8f820657def36a8835

 

[~rameshthoomu] assigning to you since you've been the only one in the past to get it done. Please reassign if someone else can do it.",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,FAB-4531,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5rb:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"26/Jun/17 10:34 PM;rameshthoomu;[~jwagantall] from LF is working on this. I have shared ""hyperledgerci"" user credentials.;;;","27/Jun/17 10:38 PM;rameshthoomu;[~jwagantall] tried to publish java jar to maven repository but she is unable to publish due to the key mismatch. She has requested for an OSSRH account and will use this account for next release onwards.

I have published 1.0.0-rc1 release to maven repository. Testing is in-progress. http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/;;;","29/Jun/17 12:24 AM;rameshthoomu;Maven central repository is synced up now with 1.0.0-rc1 release version.. Reference https://mvnrepository.com/artifact/org.hyperledger.fabric-sdk-java/fabric-sdk-java;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to complete TLS handshake,FABJ-32,19494,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,inaki,inaki,26/Jul/17 8:51 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,26/Jul/17 10:43 PM,,,,,WON'T FIX,,,,,0,,,,,,"I am trying to do an invoke from fabric java sdk to my own local network (orderer.tec.com@grpc://localhost:7050) but i have next tls connection error at the orderer logs:
 * grpc: Server.Serve failed to complete security handshake from ""172.18.0.1:41678"": tls: first record does not look like a TLS handshake

Then I have tried to change to orderer.tec.com@grpcs://localhost:7050, and the error goes on but in this case was:
 * grpc: Server.Serve failed to complete security handshake from ""172.18.0.1:42136"": EOF

 ",,inaki,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9pz:",,,,,,,,,,,,,,,,,,,,,,,,,inaki,rickr,,,,,,,,,,,,,,,,,,"26/Jul/17 10:43 PM;rickr;TLS is working. All verify test run with TLS enabled.

sdkintegration End2endxxxIt.java test set  Fabric docker-compose  .env file to enable TLS

Run integration tests with env var  ORG_HYPERLEDGER_FABRIC_SDKTEST_INTEGRATIONTESTS_TLS=true

Follow these examples.

 ;;;","27/Jul/17 8:58 PM;inaki;Thank you [~rickr], but I do not understand you, what examples do you refer to?;;;","27/Jul/17 10:03 PM;rickr;The integration examples in org/hyperledger/fabric/sdkintegration  directory.  See the README.md;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
removePeer of fabric-sdk-java,FABJ-33,15518,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,zerppen,zerppen,zerppen,30/Mar/17 3:39 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Mar/18 2:15 AM,,,,,Future,,,,,0,java-SDK,,,,," On the basis of  _Fabric SDK Design Spec_ ,chain module need a method removePeer to remove peer endpoint from a chain object.",,rickr,zerppen,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp1r:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,zerppen,,,,,,,,,,,,,,,,,,"17/Apr/17 11:54 PM;rickr;Really removing a Peer requires a configuration change on the chain;;;","19/Apr/17 4:06 PM;zerppen;[~rickr] u mean set a mark for Peers u wanner remove? ;;;","18/Mar/18 2:15 AM;rickr;Peer can be removed but not unjoined;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate import check-style plugin.,FABJ-34,17701,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,chrism28,rickr,rickr,10/Jun/17 2:32 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/Jun/17 9:09 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,"[http://checkstyle.sourceforge.net/config_imports.html]  to stop imports with: .*

 

imports should be in order of java, javax, others alphabetical, statics alphabetical 

Lax check of line breaks in between groups if possible.

 

This is to insure that merges, rebases and reviews are easier.

 ",,chrism28,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzvr:",,,,,,,,,,,,,,,,,,,,,,,,,chrism28,rickr,,,,,,,,,,dev,main,,,,,,true,"10/Jun/17 11:02 PM;rickr;Please change  pom.xml :  consoleOutput from false to true  so we can see errors when maven builds are done.

 

<configuration>
                    <consoleOutput>true</consoleOutput>   <<<<<<<<<
                    <logViolationsToConsole>true</logViolationsToConsole>
                    <failOnViolation>true</failOnViolation>
                    <failsOnError>true</failsOnError>
                    <sourceDirectory>$\{project.build.sourceDirectory}</sourceDirectory>
                    <configLocation>checkstyle-config.xml</configLocation>
                </configuration>;;;","11/Jun/17 7:02 AM;chrism28;Will do...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FABJ-35,27635,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Feb/18 11:11 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Feb/18 9:41 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Update fabric protos and maven dependencies.

gerrit https://gerrit.hyperledger.org/r/#/c/17793/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyx3z:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use dynamically registered and enrolled user in transaction,FABJ-36,15102,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,smithbk,smithbk,01/Mar/17 12:32 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:45 AM,,,,,,,,,,0,,,,,,"In End2EndIT.java, the following lines register and enroll user1.
             User user1 = chain.register(new RegistrationRequest(""user1"", ""org1.department1""));
            user1.enroll(user1.getEnrollmentSecret());
This user's identity should be used to perform transactions.",,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm9r:",,,,,,,,,,,,,,,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clean up RegistrationRequest,FABJ-37,15101,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,suganuma,smithbk,smithbk,01/Mar/17 12:20 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Apr/17 12:37 AM,,,,,,,,,,0,,,,,,"Remove line 118 of RegistrationRequest.java
ob.add(""group"",  this.affiliation);  // TODO: REMOVE THIS WHEN API IS CHANGED

This can be safely removed once this change set is merged for fabric-ca
https://gerrit.hyperledger.org/r/#/c/6567/",,inatatsu,rickr,smithbk,suganuma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5tj:",,,,,,Sprint 11 - Java SDK,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,inatatsu,rickr,smithbk,suganuma,,,,,,,,dev,main,,,,,,true,"11/Apr/17 9:19 PM;rickr;We need to make sure the all the packages in use of fabric_ca are from the ""org.hyperledger.fabric_ca.sdk""  package an not ""org.hyperledger.fabric.sdk"".
One exception can be the CryptoSuite for now that's ok to use from the sdk
There are other parameters missing from the various command we need to support.  If you look in the fabric_ca project  the swagger file  fabric-ca/swagger/swagger-fabric-ca.json 
If you look at sdk Node you can see hints there on how these are invoked fabric-ca-client/lib/FabricCAClientImpl.js
;;;","12/Apr/17 12:12 AM;suganuma;Do you mean you want to not only clean up RegistrationRequest but also refactor other classes in ""org.hyperledger.fabric_ca.sdk"" package as well? For example, HFCAClient uses lots of classes/interfaces from ""org.hyperledger.fabric.sdk"", such as Enrollment, GetTCertBatchRequest, and MemberServices. Do you want to move them to ""org.hyperledger.fabric_ca.sdk""?

;;;","12/Apr/17 11:37 PM;rickr;Just got this on rocket chat .. and it affects the HFCAClient so can you clean this up too.

in the SDK User interface.
User.getRoles  Should be changed from ArrayList<String> getRoles();  to >> Set<String> getRoles();


public interface User {

    /**
     * Name - what identifies the user.
     * @return - User's name.
     */

    String getName();

    /**
     * The roles
     * @return
     */
    ArrayList<String> getRoles();;;;","13/Apr/17 12:13 AM;suganuma;Pushed the additional changes for review.;;;","13/Apr/17 1:03 AM;rickr;When a user enrolls the code today will always generate private/public key pairs.  But we should allow the user to provide those to us as an option and use those keys on the request.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Make CryptoPrimitives implementation pluggable,FABJ-38,15130,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,01/Mar/17 10:33 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/Mar/17 1:05 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,V1.0 Make CryptoPrimitives implementation pluggable on the SDK client.,,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-65,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmf3:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"03/Mar/17 6:40 AM;tuand;http://gerrit.hyperledger.org/r/6763;;;","04/Mar/17 12:20 AM;tuand;I cannot find a standard Java way of generating certification requests. The CryptoPrimitives code the SDK has now uses BouncyCastle. All documentation I've found either uses BouncyCastle or use keytool.

Since this is only used for sdk <-> fabric-ca interactions,  I'm going to force MemberServicesFabricCAImpl to use the sdk specific implementation of the crypto interface.
The pluggable Crypto interface will not have a method for genning cert requests. It's up to the implementer to get the signed cert out-of-band, either via calls to fabric-ca or some other CA.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rejected **** Modify chaincode packaging to match Node SDK,FABJ-39,15118,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,01/Mar/17 6:45 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Mar/17 4:56 AM,,,,,v1.0.0,WON'T FIX,,,,0,,,,,,Following [FAB-2494],,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-70,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmd3:",,,,,,,,,,,,,2.0,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"01/Mar/17 7:23 AM;tuand; http://gerrit.hyperledger.org/r/6657;;;","13/Mar/17 6:14 AM;rickr;Can we close this ? Did we say it was not really desired /;;;","13/Mar/17 10:26 PM;tuand;I don't have a JIRA ""close"" button ? Can you close, [~rickr] ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Management Clients Need to Initiate Config Updates to Chains ,FABJ-40,15690,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Duplicate,,timpii,timpii,12/Apr/17 5:47 AM,12/Sep/18 12:43 AM,28/Oct/23 2:21 AM,12/Sep/18 12:43 AM,,,,,Future,,,,,0,,,,,,"As a developer of a java client application managing the Security around an installed Application within the Fabric I want to be able to programmatically manage and update CRLs for specific chains.  

This is a critical requirement for our application.",,Hangyu_FJH,jyellick,rhegde,rickr,timpii,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-203,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpqf:",,,,,,,,,,,,,,,,,,,,,,,,,Hangyu_FJH,jyellick,rhegde,rickr,timpii,,,,,,,,,,,,,,,"26/May/17 10:57 PM;jyellick;It's not clear to me whether this is a subset of FAB-1678 or, whether this requires additional work for the java SDK.

FAB-1678 will provide a way to translate a config into a more readable/editable format (plain JSON with no nested marshaling), and provide a way to compute updates based on edits to this friendly format.

If this issue is requiring the the Java SDK to provide an interface for this, then this issue is capturing work not covered by FAB-1678. 

If on the other hand, the idea is that the Java SDK does not provide an interface for this, and that the application directly interfaces with the APIs provided by FAB-1678 it on its own, then I see this as duplicating FAB-1678 (and it is inappropriately filed against the fabric-sdk-java component).;;;","30/May/17 9:03 PM;timpii;In theory, after reviewing the FAB-1678 information, the JIRA functionality could provide the necessary functionality that was being requested here via a different service context.

I would like to wait in closing this item until we understand better (play with) the functionality delivered by FAB-1678. As it is a separate service and service interface I need to understand the ramifications of this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric generated artifacts to v1.1 level,FABJ-41,28010,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,26/Feb/18 7:21 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/18 9:08 PM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,"Update fabric generated artifacts to v1.1 level.
 Enable v1.1 capabilities.

90% generated code.

7% Test code framework refactor.

 

[https://gerrit.hyperledger.org/r/#/c/18137/]",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyyvz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix JavaDoc comments,FABJ-42,13001,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,malik-altaf,malik-altaf,13/Oct/16 8:51 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 3:48 AM,,,,,,,,,,0,doc,javadoc,,,,"Currently, the JavaDoc comments are not formatted correctly and are not consistence. The parameters and return values should be linked to the types of classes they take or return. For example:
{noformat}
        /**
	 * Query the chaincode
	 * 
	 * @param request {@link QueryRequest}
         * @return 
	 * @return {@link Response} query response
	 * 
	 * @throws QueryException
	 */
{noformat}",,malik-altaf,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg0f:",,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,rickr,,,,,,,,,,,,,,,,,,"29/Mar/17 3:40 AM;rickr;Open defects on javadoc once we go beta .. in the meantime this is work in progress;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review the design of Chain class,FABJ-43,14728,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,choojoyq,choojoyq,10/Feb/17 11:21 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,06/Apr/17 8:56 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Review the design of Chain class.
Muhammad Altaf
Since we didn't add this parameter in this change, I am happy for this patch to go with it. However, I would like to revisit this design at some point when this patch has been merged. My take is that, the list of peers user adds to the chain object in SDK does not have to be all the peers in the chain. They can only add two peers and send them the proposal. Otherwise, what is the point of addPeer() method other than if user wants to initialize a new chain, in which case we can parameterize that method as well by sending a list of peers to the initialize.

Rick Rine
We may want all the Peers in the Chain to be the default. But we need to allow them the option to override. There are other changes coming and this is not part of the work item for this change set.",,choojoyq,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-130,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxknj:",,,,,,,,,,,,,,,,,,,,,,,,,choojoyq,rickr,,,,,,,,,,,,,,,,,,"01/Apr/17 10:58 PM;rickr;Chain class has convenient method for operation to send proposal to all peers ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer reconnect on errors,FABJ-44,18268,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,18/Jun/17 5:53 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Jun/17 11:22 PM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,When errors occurs have the Orderer make new connection. Clean up resources   ,,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy4lz:",,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rickr,,,,,,,,,,dev,main,,,,,,true,"19/Jun/17 10:38 AM;ChristopherFerris;Shouldn't this be deferred to post 1.0?;;;","20/Jun/17 11:42 PM;rickr;This fixes a memory leak which should be plugged. It does not affect user API;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document Eclipse IDE development setup.,FABJ-45,23878,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,rickr,rickr,09/Nov/17 11:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,06/Dec/17 6:00 AM,,,,,,,,,,0,,,,,,"A step by step instructions on setting up the Eclipse IDE for development.

Should be imported as a maven project and after installing should be able to build and debug code.

Should be able to run Junit testcases with Eclipse.

Eclipse should also have settings that match and catch CheckStyle issues.

 

Instructions should be in a markdown file docs/EclipseSetup.md  with a link to that in the README.md",,rickr,SandySun2000,sgdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzymsv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,SandySun2000,sgdev,,,,,,,,,dev,main,,,,,,true,"28/Nov/17 10:15 AM;SandySun2000;Already Checked in files for reviewing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.0.1 release,FABJ-46,19552,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,28/Jul/17 10:38 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,15/Aug/17 3:28 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9zb:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"05/Aug/17 3:27 AM;rickr;https://gerrit.hyperledger.org/r/#/c/12013/;;;","08/Aug/17 10:26 PM;rickr;[https://gerrit.hyperledger.org/r/#/c/12013/]  Currently BLOCKED on Fabric v1.0.1 publish to Docker Hub;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dump diagnostic files for logging.,FABJ-47,19259,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,14/Jul/17 9:50 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jul/17 6:08 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,"Provide a means to dump data to files for diagnostic purposes.

First use is to capture Protobuf sent to and received by Peer and Orderer.

Tools should be able to read these protobuf files to determine exactly what is being sent and received and maybe to even allow replay.

 

Logging should provide the context that produced the file.

 

https://gerrit.hyperledger.org/r/#/c/10851/",,jyellick,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8if:",,,,,,,,,,,,,,,,,,,,,,,,,jyellick,rickr,,,,,,,,,,dev,main,,,,,,true,"14/Jul/17 10:52 PM;rickr;[~jyellick] Hope we can fix up some Fabric utilities to parse these.;;;","17/Jul/17 2:59 PM;jyellick;The {{configtxlator}} tool already handles this for configtx related items.  There is a story out there FAB-4370 to extend this framework to endorser transactions.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize error codes,FABJ-48,12947,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,Pardha,Pardha,11/Oct/16 10:48 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 3:37 AM,,,,,,,,,,0,,,,,,Java SDK needs to use standardized error codes and possibly share the errors with fabric.,,Pardha,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfzz:",,,,,,,,,,,,,,,,,,,,,,,,,Pardha,rickr,,,,,,,,,,,,,,,,,,"29/Mar/17 3:37 AM;rickr;return execeptions ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide default for SSL neg/provider,FABJ-49,29270,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,09/Apr/18 9:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Apr/18 7:45 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Provide defaults for these values. These are the most likely used values for SSL and avoid making them have to be set every time on peer, orderers and eventhubs for SSL connections. 

 

gerrit https://gerrit.hyperledger.org/r/#/c/20329/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-329,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5c7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BLOCKED V1.0 Tcert creation and management,FABJ-50,13810,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Won't Do,,rickr,rickr,15/Dec/16 5:06 AM,22/Sep/20 10:40 PM,28/Oct/23 2:21 AM,22/Oct/19 7:30 PM,,,,,Future,,,,,0,java-SDK,v1.0,,,,"Tcerts need be down loaded from fabric_ca in batch converted so they can be used for transactions instead of Ecerts 

Users will need to create a TCertSpecification which will have all the attributes wanted for the TCerts that will be created for it.  Users can create different TCertSpecification instances for each TCert type they wish.  There will be a specific TCertSpecification for just using ECerts .. this is to make sure the user really wants this and has not just forgotten to just set the TCertSpecification on the proposal.  It will be an error to not have a TCertSpecification on the proposal creations.  

Each TCertSpecification instance  will have a separate prefetch queue that will have TCerts that match the specification.  TCertSpecification instance will have a batch size and low water mark that will trigger fetching  new TCerts from the Fabric CA asynchronously.   User can change batch size and low water mark but rest of the TCertSpecification will be immutable.  The TCertSpecification will have a discard method that will clean up all resources for that instance.  

Other than creating a TCertSpecification instace and setting it's attributes, calling destroy the end user of the API will not do much with interacting with TCerts themselves.  TCerts should be handle by SDK as transparently as possible.",,awattez,Hangyu_FJH,heatherp,inatatsu,indefire,JonathanLevi,rickr,ruslankryukov,,,,144000,144000,,0%,144000,144000,,,FABC-112,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxplb:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,awattez,Hangyu_FJH,heatherp,inatatsu,indefire,JonathanLevi,rickr,ruslankryukov,,,,dev,,,,,,,true,"16/Feb/17 5:09 AM;rickr;Blocked by https://gerrit.hyperledger.org/r/#/c/5601/;;;","08/Nov/17 12:10 AM;awattez;Hi,

Do you have any update of this feature ?

Is it possible to use ECDSA vs RSA to avoid blocking problem ?

Regards,;;;","08/Nov/17 12:32 AM;rickr;Support for this is needed by Fabric-ca and I'm not aware of any plans to do this immediately. However something similar to this is being done in FAB-2005;;;","22/Oct/19 7:30 PM;heatherp;Raised over a year ago, so closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorporate Java chaincode example into the Java SDK,FABJ-51,16499,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,rickr,rickr,09/May/17 11:30 PM,11/Sep/18 11:57 PM,28/Oct/23 2:21 AM,11/Sep/18 11:57 PM,,,,,Future,,,,,0,,,,,,"Currently the End2endIt.java and End2endandBackagainIT  samples only run GO code.
There are two channels being run for each of the above examples foo and bar.

One of these should run java chain code which does functionally the same as the GO.
It should be done so it's easily changed to switch back and forth.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-355,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxubz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
1.0.0-alpha2 release,FABJ-52,16711,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,13/May/17 6:55 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/May/17 10:16 AM,,,,,v1.0.0,,,,,0,,,,,,Alpha2 release settings.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv73:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 retrieve MSPIDS from channel config.,FABJ-53,15223,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,06/Mar/17 11:43 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Mar/17 3:37 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,V1.0 Support multiple MSPIDs,,rickr,,,,,,,,,,,,,,,,,,,,,,FABJ-305,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmxj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Cleanup remove code, cleanup script",FABJ-54,16618,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,11/May/17 9:54 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/May/17 7:47 PM,,,,,v1.0.0,,,,,0,,,,,,"Remove files not needed.

Provide a script that cleans up chaincode containers before start.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxusf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove duplicate proto files,FABJ-55,12948,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,satheeshk,Pardha,Pardha,11/Oct/16 10:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:38 AM,,,,,,,,,,0,,,,,,Proto files are now currently checked into java sdk codebase. These should be removed eventually and java sdk project should depend on fabric-proto project when it is created.,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg0n:",,,,,,,,,,,,,,,,,,,,,,,,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update server level,FABJ-56,15536,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,01/Apr/17 3:32 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,22/Jun/17 8:42 AM,,,,,Future,,,,,0,java-SDK,v1.0,,,,update readme.md and protobufs,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp13:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java chain code deploy functionality not working,FABJ-57,12951,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,Pardha,Pardha,11/Oct/16 10:56 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Nov/16 12:43 AM,,,,,,,,,,0,,,,,,Java chain code deploy functionality not working,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcuv:",,,,,,,,,,,,,,,,,,,,,,,,,Pardha,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.0 Investigate why install chaincode and Join peer proposal responses don't appear to be signed.,FABJ-58,15129,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,01/Mar/17 10:29 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,04/Mar/17 12:06 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,v1.0 Investigate why install chaincode and Join peer proposal responses don't appear to be signed.,,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmev:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"03/Mar/17 11:04 PM;tuand;Install proposal response and join channel response  messages are not signed by design.

Install and join proposals are not endorsement requests so the responses do not need to be signed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a fabric-sdk-java CI job to test E2E Flow with the Java SDK,FABJ-59,14736,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rameshthoomu,bmos299,bmos299,11/Feb/17 3:24 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Feb/17 5:59 AM,,,,,v1.0.0-alpha1,,,,15/Feb/17 12:00 AM,0,quality,,,,,We need to add support for those using the java sdk to run the v1 developers version. ,,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,FABJ-292,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxkpb:",,,,,,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,,bmos299,rameshthoomu,,,,,,,,,,,,,,,,,,"16/Feb/17 1:47 AM;rameshthoomu;Submitted commit in gerrit https://gerrit.hyperledger.org/r/#/c/6055/ - in-review;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Keep continuous orderer connection,FABJ-60,16439,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,08/May/17 9:15 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 9:04 PM,,,,,v1.0.0,,,,,0,,,,,,"Keep continuous orderer connection



https://gerrit.hyperledger.org/r/#/c/9067/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu2n:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies pom.xml,FABJ-61,29352,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Apr/18 10:51 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,24/Apr/18 11:18 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,gerrit: https://gerrit.hyperledger.org/r/#/c/20491/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5nz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include Support of OWSP Dependency Check,FABJ-62,30452,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ashutosh_kumar,ashutosh_kumar,ashutosh_kumar,22/May/18 3:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jun/18 7:13 AM,v1.2.0,,,,v1.2.0,,,,,0,,,,,,Jar files that Java SDK uses should be checked for possible vulnerabilities.,,ashutosh_kumar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzbfr:",,,,,,,,,,,,,,,,,,,,,,,,,ashutosh_kumar,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Update Eventhub to sign register request.,FABJ-63,15691,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,12/Apr/17 5:57 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Apr/17 3:35 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5u7:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move install chaincode client.,FABJ-64,16073,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,28/Apr/17 8:04 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 9:05 PM,,,,,v1.0.0,,,,,0,,,,,,"Move install chaincode client.
 Also allow flexibility of SDK users to invoke any method in grpc's ManagedChannelBuilder
 to customise grpc connections.

 

 

https://gerrit.hyperledger.org/r/#/c/8695/",,rickr,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxssf:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"09/May/17 10:05 PM;rickr;https://gerrit.hyperledger.org/r/#/c/8695/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add generation of certification requests to CryptoSuite interface,FABJ-65,15195,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,04/Mar/17 6:13 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,17/Apr/17 11:52 PM,,,,,v1.0.0,,,,,0,,,,,,"MemberServicesFabricCAImpl generates certificate requests to fabric-ca so that it can get back signed certificates.
This is done using classes and methods from the BouncyCastle library.

We do not want to propagate use of BouncyCastle throughout the SDK. Rather, we want to put all the crypto functionality into the CryptoSuite interface and let implementers handle which security provider they want to use.

If we add methods for certificate request generation to CryptoSuite, we are forced to declare methods using BouncyCastle classes as Java does not have a standard API for cert requests.

Possible course of actions:
 1. Investigate again if Java has a standard API for certificate requests and use it
 2. separate fabric-ca integration out of the SDK so that CryptoSuite only deals with keygen/signing/verification",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmqv:",,,,,,,,,,,,,3.0,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"17/Apr/17 11:52 PM;rickr;We moved fabric-ca out of the fabric package ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CI integration,FABJ-66,12949,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,Pardha,Pardha,Pardha,11/Oct/16 10:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Dec/16 12:12 AM,,,,,,,,,,0,,,,,,Java SDK should be built as part of fabric CI,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxg07:",,,,,,,,,,,,,,,,,,,,,,,,,Pardha,,,,,,,,,,,,,,,,,,,"21/Dec/16 12:13 AM;Pardha;Completed setting up CI for fabric-sdk-java;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update protos check on duplicate channel.,FABJ-67,20471,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,29/Aug/17 3:55 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Sep/17 11:25 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyemf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix compile and Javadoc warnings,FABJ-68,17262,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,31/May/17 12:40 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Jun/17 10:52 PM,,,,,v1.0.0,,,,,0,java-SDK,,,,,"Fix the following:
 * Compile warnings due to code issues.
 * Issues in existing Javadoc.
 * Actual bugs flagged by checkstyle.

 

Compile warnings due to redundant code will be addressed elsewhere.",,bestbeforetoday,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxjj:",,,,,,,,,,,,,,,,,,,,,,,,,bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDK v1.2 readme release notes,FABJ-69,31005,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Jun/18 10:19 PM,27/Jul/18 8:36 PM,28/Oct/23 2:21 AM,27/Jul/18 8:36 PM,v1.2.0,,,,Future,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/22985/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzekv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK - Ensure chaincode META-INF subdirectories passed upon install,FABJ-70,30362,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denyeart,denyeart,18/May/18 1:31 AM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,23/May/18 9:53 PM,,,,,v1.2.0,,,,,0,sdk,,,,,"Node.js SDK - Ensure chaincode META-INF subdirectories passed upon install.

In v1.1 SDKs added support to pass couchdb indexes during chaincode install using directory:

META-INF/statedb/couchdb/indexes

In v1.2, need to ensure other subdirectories are also passed, as there can now be collection specific couchdb indexes defined in directory:

META-INF/statedb/couchdb/collections/<collection_name>/indexes

 ",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-23,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,"1|hzwqfq:i",,,,,,To Do,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,"23/May/18 9:53 PM;denyeart;Rick confirmed that all subdirectories are passed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement serialization of IdemixSigningIdentity to pass to the application to store it,FABJ-71,28608,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,dubovitskaya,dubovitskaya,16/Mar/18 10:48 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/May/18 10:06 PM,,,,,v1.3.0,,,,,0,idemix,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzx2iv:",,,,,,May2018 - Security,,,,,,,,,,,,,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,"21/May/18 10:06 PM;dubovitskaya;not needed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Utility to determine which proposals are consistent,FABJ-72,16977,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,22/May/17 11:06 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,26/May/17 4:19 AM,,,,,v1.0.0,,,,,0,,,,,,Utility to determine which proposals are consistent,,angelhb,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5pr:",,,,,,,,,,,,,,,,,,,,,,,,,angelhb,rickr,,,,,,,,,,dev,main,,,,,,true,"24/May/17 5:44 PM;angelhb;We  have  an  important  pilot  being  building  on java chaincodes ,  now  suddently  stopped.   Is possible  to activate  this?;;;","24/May/17 7:17 PM;rickr;I don't understand your question. You're code is stopped ? The pilot is stopped ?  Do want this feature ?  You think there is an issue with code?;;;","24/May/17 8:10 PM;rickr;This is not specific to the java sdk.  Java chaincode and the SDK are really two different components.

Ask this on fabric-java-chaincode channel on rocketchat. 

I have a JIRA  open to enable it. FAB-4072;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Submit chaincode based query ,FABJ-73,13807,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,rickr,rickr,15/Dec/16 4:19 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jan/17 2:54 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Submit a query targeting a deployed chaincode and get back the expected results.,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx7sn:",,,,,,Sprint 10 - Java SDK,,,,,,,,,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"19/Jan/17 2:54 AM;jimthematrix;this works in fabric_v1 branch against the latest fabric as of today;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Easy debug enablement through config.,FABJ-74,15520,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,30/Mar/17 7:59 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/May/17 9:06 PM,,,,,Future,,,,,0,,,,,,"Current  debug is enabled via properties files. This is not the most convenient.  I would like to have a property 
org.hyperledger.fabric.sdk.log_level 
Added to the Config.java
It should support all the log level settings : OFF, ALL, TRACE, DEBUG, INFO, WARNING, ERROR.  
and should set log level to that ",,rickr,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxoy7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,zerppen,,,,,,,,,,,,,,,,,,"18/Apr/17 12:12 AM;rickr;We also need to update to latest log4j level;;;","19/Apr/17 3:59 PM;zerppen;[~rickr]I tested log4j 2.0.1.
U can use different properties set level setting for different classes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDK v1.2 commencement,FABJ-75,30084,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,10/May/18 9:57 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/May/18 6:40 PM,v1.2.0,,,,v1.2.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/21657/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9in:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support channel configuration update,FABJ-76,15651,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,jimthematrix,jimthematrix,11/Apr/17 2:29 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Feb/18 12:42 AM,,,,,Future,,,,,0,java-SDK,,,,,"Done here 
https://github.com/hyperledger/fabric-sdk-java/blob/09776f0610193982cdee6ec8e00d5244bb82e65d/src/test/java/org/hyperledger/fabric/sdkintegration/UpdateChannelIT.java",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpkv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"V1.0 Block queries return proposal, read write set and result",FABJ-77,15248,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,08/Mar/17 5:18 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 9:04 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Return proposal read write set and result in BlockEvent

Parsing to READ/WRITE set started here https://gerrit.hyperledger.org/r/#/c/6969/",,rickr,,,,,,,,,,,,,,,,,,,,,,FAB-3040,,,,,FABN-610,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5uf:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"12/Apr/17 11:40 PM;rickr;Blocked by 2679 that won't be fixed till V1.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish java sdk snapshot and release jar files from vluanch machine,FABJ-78,20740,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,12/Sep/17 1:27 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Sep/17 11:56 PM,,,,,,,,,,0,,,,,,"Setup vlaunch machine to publish snapshot and release jar versions.

Setup fabric-sdk-java repository and create gpg keys.. Once gpg keys are setup, export OSSRH keys and publish releases from vlaunch machines.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyg1j:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"12/Sep/17 1:28 AM;rameshthoomu;vlaunch machine is ready with all the per-requisites to publish java sdk jar files to maven central repository.;;;","13/Sep/17 11:56 PM;rameshthoomu;Setup has been made in one of the vlaunch machine provided by [~rickr] and it's ready to publish snapshots/releases from it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Marbles demo needs to be tested on Java SDK,FABJ-79,14989,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,rickr,rickr,22/Feb/17 11:18 PM,22/Oct/19 7:30 PM,28/Oct/23 2:21 AM,22/Oct/19 7:30 PM,,,,,Future,,,,,0,java-SDK,,,,,The same marbles demo that runs on Node SDK needs testing and provided in the Java SDK,,heatherp,inatatsu,medhak19,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxoyf:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,heatherp,inatatsu,medhak19,rickr,,,,,,,,,,,,,,,,"22/Oct/19 7:30 PM;heatherp;Raised over a year ago, so closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign proposals and bring protobuffs up to Dec 03 Fab services level,FABJ-80,13607,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,05/Dec/16 11:18 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jan/17 2:53 AM,,,,,,,,,,0,java-SDK,,,,,Sign proposals and bring protobuffs up to Dec 03 Fab services level,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx7rz:",,,,,,Sprint 10 - Java SDK,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,"23/Jan/17 12:40 AM;rickr;commented wrong issue;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java-merge-x86_64 failed as failed to synchronize to peer1 on multiple channels.,FABJ-81,27200,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,sambhavdutt,sambhavdutt,30/Jan/18 12:14 AM,19/Mar/19 8:13 PM,28/Oct/23 2:21 AM,30/Jan/18 12:34 AM,DUPLICATE,,,,DUPLICATE,,,,,0,ci-failure,,,,,"The fabric-sdk-java-merge-x86_64 failed as 'Sending proposal to peer1 failed' in many channels. The following errors are coming up in this order

DEBUG Peer:189 - peer.sendProposalAsync name: peer1, url: grpc://localhost:22
03:42:13 2018-01-27 03:42:13,386 main ERROR Channel:2396 - Sending proposal to peer1 failed because of Error bad bad bad
03:42:13 java.lang.Exception: java.lang.Error: Error bad bad bad

03:42:13 2018-01-27 03:42:13,427 main ERROR HFClient:546 - queryChannels for peer peer1 failed.Failed exception message is Sending proposal to peer1 failed because of: You interrupting me?, status is 500
03:42:13 org.hyperledger.fabric.sdk.exception.ProposalException: Failed exception message is Sending proposal to peer1 failed because of: You interrupting me?, status is 500

03:42:13 2018-01-27 03:42:13,447 main DEBUG Peer:189 - peer.sendProposalAsync name: peer1, url: grpc://localhost:22
03:42:13 2018-01-27 03:42:13,448 main ERROR Channel:2405 - Sending proposal to peer1 failed.


*Build Log*

https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/221/console",,rickr,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-146,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuwn:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,sambhavdutt,,,,,,,,,,,,,,,,,,"30/Jan/18 12:32 AM;rickr;Not a bug – Fabric CA changed broke sdk

Being addressed FAB-7383;;;","30/Jan/18 12:34 AM;rickr;Fabric change broke sdk;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JavaSDK v1.0.0 release,FABJ-82,19162,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,12/Jul/17 12:20 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jul/17 4:52 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7vj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add optional secret to registration request,FABJ-83,15750,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,suganuma,smithbk,smithbk,15/Apr/17 1:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Apr/17 9:49 PM,,,,,v1.0.0,,,,,0,,,,,,"The REST API supports this via the additional ""Secret"" field in the RegistrationRequest as shown in fabric-ca/api/client.go:
{code}
        // Secret is an optional password.  If not specified,
        // a random secret is generated.  In both cases, the secret
        // is returned in the RegistrationResponse.
        Secret string `json:""secret,omitempty"" help:""The enrollment secret for the identity being registered""`
{code}",,rickr,smithbk,suganuma,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-536,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxq07:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,smithbk,suganuma,,,,,,,,,dev,main,,,,,,true,"15/Apr/17 2:51 AM;rickr;[~keithsmith] [~suganuma]  Can you find out if this is supported currently (merged in)   If yes, add this support.  If no, leave at V1.1 and feel free to unassigne yourself if you don't want to work on it.

[~keithsmith]  When will this be merged into the fabric-ca main stream ?;;;","15/Apr/17 4:18 AM;smithbk;Yes, it is already supported / merged into fabric-ca-server.;;;","17/Apr/17 3:46 PM;suganuma;We already have this support in RegistrationRequest in sdk-java. That is, if a user specifies a secret when constructing a RegistrationRequest, it is included in a JSON request object to send to fabric_ca.;;;","19/Apr/17 12:14 PM;rickr;Is there some way to test that the secret we sent is really been used ?
Can we close this then ?;;;","19/Apr/17 12:15 PM;rickr;[~keithsmith] is there a way we can test this ?;;;","19/Apr/17 11:36 PM;smithbk;You can test this by trying to enroll using the secret that you specified.  If it passes, then it was used.
You can also check to make sure that the secret in the request body equals the secret in the response body, but that only validates part of it.  You should try to use the secret to enroll.;;;","20/Apr/17 3:27 PM;suganuma;Added test cases in HFCAClientEnrollIT that use a secret in registration request, check the secret in response body to match the specified one, and use the secret in the following enrollment. All worked fine.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review compliance with fabric ca swagger.,FABJ-84,24505,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,skarim,rickr,rickr,29/Nov/17 12:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Feb/18 5:12 AM,v1.0.0,,,,v1.1.0,,,,,0,,,,,,Need to review and make sure HFCAClient is conforming to Fabric CA swagger and that unit and integration testing is covered.,,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyoan:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,skarim,,,,,,,,,,dev,main,,,,,,true,"08/Feb/18 6:32 AM;skarim;https://gerrit.hyperledger.org/r/#/c/17643/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove public key from enrollment,FABJ-85,16440,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,08/May/17 9:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 9:05 PM,,,,,v1.0.0,,,,,0,,,,,,"Remove public key from enrollment




https://gerrit.hyperledger.org/r/#/c/9071/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu2v:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow more liberal version checking for testGetInfo,FABJ-86,28618,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,17/Mar/18 4:44 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,17/Mar/18 9:36 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz1sv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BLOCKED Client Obtaining Authorized Chains and associated Peers,FABJ-87,15703,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,timpii,timpii,12/Apr/17 8:34 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Jul/17 12:40 AM,,,,,Future,,,,,0,,,,,,"As a developer of a Client Application using the Java Fabric SDK to the Fabric Peer the application needs to be able to obtain the chain / channel information to which the organization has been authorized to. This information would include the list of chains / channels, and for each chain the associated Peers and Orderers which are authorized to the Chain.

This is necessary for initiating proposal and transaction requests within a multi chain environment.",,binhn,rickr,timpii,,,,,,,,,,,,,,,,,FAB-3140,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpsv:",,,,,,,,,,,,,,,,,,,,,,,,,binhn,rickr,timpii,,,,,,,,,,,,,,,,,"13/Apr/17 3:43 AM;rickr;Blocked needs a query added to Fabric peer to do this efficiently ;;;","14/Apr/17 11:02 PM;binhn;A channel configuration only  contains the members or orgs (MSPs) of the channel. Each member decides the nodes on the network, and due to privacy, only the member's peers know about each other. Each member includes a set of anchor peers (who have external endpoints) on the channel configuration to communicate (gossip) with other members' peers.

The current implementation leaves this task to the application to manage until we can support the concept of ""submitting"" peer as discussed in the [architecture document|https://github.com/hyperledger/fabric/blob/master/proposals/r1/Next-Consensus-Architecture-Proposal.md].;;;","18/Apr/17 12:45 AM;jimthematrix;I'm pretty sure the current implementation already supports both: getting a list of channels from a peer, and download the channel config that has the org MSPs and anchor peers (which allows you to get a list of endpoints to submit endorsement proposals). [~timpii] can you verify this based on your requirements?;;;","20/Jul/17 12:40 AM;timpii;This Jira item can be closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mirror fabric-sdk-java to GitHub,FABJ-88,12977,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,Pardha,ChristopherFerris,ChristopherFerris,12/Oct/16 1:13 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Oct/16 5:20 AM,,,,,,,,,,0,build-system,,,,,mirror fabric-sdk-java to GitHub,,ChristopherFerris,Pardha,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxcpz:",,,,,,Sprint 3,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,Pardha,,,,,,,,,,,,,,,,,,"12/Oct/16 5:20 AM;Pardha;fabric-sdk-java is now mirrored to github;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish Artifacts to Central Repository (aka Maven Central),FABJ-89,12950,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rameshthoomu,Pardha,Pardha,11/Oct/16 10:52 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,09/Jun/17 9:22 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Stable release versions of the Java SDK should be published to Maven Central ( https://oss.sonatype.org/ ).  This is the core / central hosted repository for Maven artifacts (there are many browser front ends for this).

Stable release versions should include beta, release candidates and most importantly generally available release versions.

This [guide|http://central.sonatype.org/pages/ossrh-guide.html#deployment] provides detailed instructions on how to do this.",,ChristopherFerris,Clayton Sims,jwagantall,mastersingh24,Pardha,rameshthoomu,rickr,ryjones,troyronda,venu.vemula,,,,,,,,,,,,,FAB-3040,FABJ-287,,,,,,,,,FAB-3041,,,"05/Jun/17 10:16 AM;rickr;image-2017-06-04-21-16-16-545.png;https://jira.hyperledger.org/secure/attachment/10922/image-2017-06-04-21-16-16-545.png",,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5tb:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,ChristopherFerris,Clayton Sims,jwagantall,mastersingh24,Pardha,rameshthoomu,rickr,ryjones,troyronda,venu.vemula,,dev,main,,,,,,true,"17/Mar/17 10:54 AM;rameshthoomu;Create SDK job to trigger ""mvn release"".. Observed issues while pushing Artifact to maven repository. Will check with [~rickr] or [~satheeshk]


{code:java}
00:56:59 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:2.3.2:prepare (default-cli) on project fabric-sdk-java: Unable to tag SCM
00:56:59 [ERROR] Provider message:
00:56:59 [ERROR] The git-push command failed.
00:56:59 [ERROR] Command output:
00:56:59 [ERROR] Host key verification failed.
00:56:59 [ERROR] fatal: Could not read from remote repository.
00:56:59 [ERROR] 
{code}
;;;","18/Mar/17 1:29 PM;rickr;Hi Ramesh
Any progress here ?
[~satheeshk] Can you help ?;;;","01/Apr/17 11:02 PM;rickr;We should try as goal to get this done for sprint 15 April 7th;;;","08/Apr/17 6:35 AM;rameshthoomu;Below is the progress made so far on this issue:

1) Created CI job to publish Java jar files to maven and Nexus repository 
2) Created & configured ""hyperledgerci"" user to publish java artifacts https://issues.sonatype.org/browse/OSSRH-30331
3) Created JIRA ticket to generate & configure gpg keys in Jenkins https://jira.hyperledger.org/browse/FAB-3041
4) Updated mvn command with additional parameters to consider settings.xml in correct path. It has to be in maven root path.
We can manually publish Java Artifacts till we FAB-3041 is resolved. Document these steps for future reference. ;;;","08/Apr/17 10:07 PM;rickr;Were you able to publish it with your own generated keys ?
https://search.maven.org/#search%7Cga%7C1%7Chyperledger%20
not seeing any updates
;;;","13/Apr/17 10:35 AM;rameshthoomu;[~rickr] Below is the progress made so far.. 

* Published java jar artifact 1.0-SNAPSHOT manually to nexus repository. 
* Modified settings.xml with policy to download SNAPSHOT from maven repository.
* Used custom pom.xml to download published SNAPSHOT and observed it worked as expected. Below is the log file.

http://www.heypasteit.com/clip/03WZXZ;;;","13/Apr/17 11:40 PM;rameshthoomu;[~rickr] could you please check and let me know the update. It worked for me as mentioned here http://www.heypasteit.com/clip/03WZXZ.. I have used pom.xml from here http://www.heypasteit.com/clip/01WE84 and executed *mvn clean package*;;;","02/May/17 8:47 AM;rameshthoomu;[~jwagantall] is working on this.  Could you please give us the update. thanks;;;","02/May/17 9:21 AM;jwagantall;Sure..
To be able to test my script for bulk signing, I need the link to the binaries that Ramesh was able to push manually.

Also, as far as I understand, this push was successfully executed manually by Ramesh, but can we please have the changes needed reflected in ci-management to the correct nexus repo where these will be pushed? (Not sandbox) 

In the meantime, once I have the nexus link from Ramesh on the binaries he pushed in the sandbox, I can test my changes in the sandbox too. ;;;","02/May/17 9:24 AM;jwagantall;Got a reply from Ramesh on the links for now...

Will test my change

Thanks !!;;;","02/May/17 10:34 PM;rickr;Status update please ?
We need have two items in place:

We should be able to automatically publish snapshot images after each successful end2end test completing successfully.
   A test should be run that this SNAPSHOT is consumable as a dependency in another applications pom.xml 

We should be able to manually/submit a build that publishes to maven a production GA version of the java sdk.
   Once again we should do the test as above but referencing the production version.
   Once validating it worked remove that production version.  
   ;;;","03/May/17 12:26 AM;Clayton Sims;The goal here is that we have to publish the java artifacts- this is only for the Java SDK for utilizing the fabric.
We published manually to NEXUS- so we have 1,0 artifact that we push manually. 
So we are planning to implement this in CI, but we are stuck.
We have to add GPG to sign the artifact... this is crypto signing that is required. Needs to happen with every merge to publish the snapshot.
I asked Ry Jones to add the GPG items, but Ry indicated we don't follow that process.
They are following a different mechanism.  Jessica from Linux Foundation is working on it at the moment.
We need a target from Jessica as to when this will be completed. 

;;;","03/May/17 3:43 AM;jwagantall;Still working with Ramesh on this task, we need to work on adding the job to push the unsigned fabric binaries to nexus.hyperledger.org and still continue to be able to push to maven central. 
For the signing process, we are using detached signatures for the moment rather than adding new GPG keys in the server. This means that Ry or I will be able to do this signing process. 

I am at the moment trying my adjustments in the sandbox. 

Hopefully I can finish this task this week or earlier. 

;;;","05/May/17 6:34 AM;rameshthoomu;Below is the progress made so far on this.. Working with [~jwagantall]

{code:java}
* modified ""pom.xml"" and ""settings.xml""  with nexus references. See first two commits here https://github.com/rameshthoomu/fabric-sdk-java
* removed gpg reference from settings.xml ([~jwagantall]'s will update gpg sign process script in post build action)
* update java-verify job in sandbox CI. Build failed.. Looking for nexus credentials. Jessica has to provide nexus credentials in sandbox job to publish artifacts to nexus. (Assuming nexus further syncup with maven repository) [~jwagantall] can you please confirm
{code}

https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/8/console
once the snapshot process is done.. Will test release process by removing ""snapshot"" from pom.xml.;;;","06/May/17 2:29 AM;jwagantall;Adding to Ramesh's status above:

- GPG signing script:
  - this script has been tested manually and will not be added as a builder to the templates since it needs to sign manually
  - This script will work with both jarfiles and binaries
- The credentials and maven settings files have been updated in the sandbox.
  - We are no longer seeing connections issues in the test jobs that Ramesh was triggering.;;;","06/May/17 2:38 AM;rameshthoomu;[~jwagantall] I am referring this job https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/12/console.. This job includes build and publish java jar artifact to nexus repository..

I see below error while pushing jar artifact to nexus repository from sandbox job (
 
{code:java}
00:20:36.932 [ERROR] Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.7:deploy (injected-nexus-deploy) on project fabric-sdk-java: Failed to deploy artifacts: Could not transfer artifact org.hyperledger.fabric-sdk-java:fabric-sdk-java:jar:1.0.0-20170505.172910-1 from/to ossrh (https://nexus.hyperledger.org/content/repositories/snapshots): Failed to transfer file: https://nexus.hyperledger.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java/1.0.0-SNAPSHOT/fabric-sdk-java-1.0.0-20170505.172910-1.jar. Return code is: 401, ReasonPhrase: Unauthorized. -> [Help 1]
{code}

I think you have to store these credentials for the below mentioned two variables in Jenkins.
https://github.com/rameshthoomu/fabric-sdk-java/blob/master/settings.xml#L5-L6;;;","10/May/17 10:52 PM;rameshthoomu;observed same credentials issue when trying to publish java jar artifacts.. working with [~jwagantall].

Suspecting settings.xml is not copied in maven root path or the maven is not picking the correct credentials. Will work on this today with Jessica.. If this is not possible to publish from CI, will publish this from local machine and try to resolve CI issue soon.;;;","11/May/17 12:26 AM;jwagantall;Hi Ramesh, 

Sorry I forgot to tell you this yesterday since I was very busy with other tasks. 

I was able to fix the java issue after checking the way other projects make this push. 

[https://jenkins.hyperledger.org/sandbox/job/jar_test-Jess-1/] is my latest changes, and basically the idea is that we cannot be using the shell box for maven goals if we need to parse Jenkins maven settings files that contains the credentials and we will not be adding these credentials as part of Global Variables due to security reasons.

So, the idea is to use an actual maven step like i did in the job I linked you. We need to use the maven step for maven goals and not the shell box.

I will clean this up today and will update to your gerrit. I still need to move all the maven actions to that maven step 

Thanks!

Jess.  ;;;","11/May/17 3:08 AM;ChristopherFerris;question, are we likely to have this operational by tomorrow? If not, we may need to manually publish. [~rameshthoomu] [~jwagantall];;;","11/May/17 11:15 AM;rameshthoomu;Chris, we have published snapshot artifacts to nexus from sandbox ([https://nexus.hyperledger.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java)|https://nexus.hyperledger.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java/]. Observed certificate error (not sure what it is) when we try to download SNAPSHOT using custom pom.xml. [~jwagantall] is checking this issue. Will give you an update by tomorrow.;;;","16/May/17 7:45 PM;rickr;[~jwagantall] [~rameshthoomu]  What is the status in publishing alpha2 to maven repository  ?
This needs to be validated with  FAB-3746 being done by [~venu.vemula];;;","16/May/17 9:10 PM;rameshthoomu;[~rickr] We successfully published java artifacts to nexus repository and [~venu.vemula] able to download using custom pom.xml in his app. We are able to publish both snapshots and releases to nexus repository from CI but [~jwagantall] mentioned that we should not publish to ""releases"" and ""snapshots"" repositories in nexus repo and she suggested to publish to staging repository.

We are working on this.. [~jwagantall] submitted patch on pom.xml [https://gerrit.hyperledger.org/r/#/c/9373/.] ETA is today.

Current status: We are unable to publish using maven staging plugin. [~jwagantall] please add if I miss any!

 ;;;","16/May/17 9:24 PM;rickr;[~rameshthoomu] Thanks for that update.  I'm not getting the point on the staging. [~jwagantall] can you give a little more explanation why staging and not releases ?      If we go to staging I would expect we can run with FAB-3746 with the alfpha2 version with no need of any references to snapshot repositories.  I see gerrit CR 9373 and looks to be WIP which it should be marked as and using maybe this JIRA ?  Also commented it needs now rebasing.

 

Thanks for all the hard work I know this was not easy.;;;","17/May/17 12:23 AM;ryjones;[~rickr] the point of staging is all RC bits go there for potential promotion to the releases repo. that way the staged bits that are approved are the actual released bits from the exact same job;;;","17/May/17 12:57 AM;rickr;Ok thx [~ryjones].  So from there java sdk would still need to be pushed from staging to Maven release once *""approved""*;;;","17/May/17 12:15 PM;rameshthoomu;We have made some progress on this request and below is the update. Thanks [~jwagantall] for all the help..

1) we have updated pom.xml to publish java jar to nexus staging repository

2) Able to download java jar files from nexus staging repository using a custom pom.xml

3) [~venu.vemula] tested this using his e2e app (pulling java jar file from nexus staging repository)

We are supposed to publish release to maven repository but we are unable to do this now. [~jwagantall] will provide more information on this.

With the above approach (pulling java jar file from nexus staging repository), users of this jar has to keep `repository` section along with dependency in his applications pom.xml. As we are not publishing to maven central, dependency only won't work.

[~ChristopherFerris] [~rickr] if you agree to the above approach, will submit patch to update pom.xml to publish alpha2 jar file to nexus staging.;;;","17/May/17 6:58 PM;rickr;We have then not published to Maven. I'd like to know the details why we can't do this.  ;;;","17/May/17 8:38 PM;rickr;[~ryjones] [~jwagantall]  Please some details on what's actually blocking this. ;;;","18/May/17 12:13 AM;jwagantall;Thanks for the update Ramesh, 

To add to your comments:

Basically, before we started adding this ""push to nexus.hyperledger.org"" feature, the pom.xml had instructions to push to nexus central:

[https://oss.sonatype.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java/]

These push seem to have happened few times (maybe on demand) before I started helping in the team. My concern was, how were these binaries being pushed? Where they signed? Do we still want to continue making pushed to nexus central?

Checking with my lead, there is no other project making pushes to central due to the fact that the binaries don't meet the requirements to be added to the public. These binaries would need to be signed in order to be pushed to central, a big concern was how were these being signed and if the key was kept internal and secret still. 

For now, I asked Ramesh to raise this concern and to ask to the leads if we need to continue doing these pushes. 

Thanks!;;;","01/Jun/17 2:05 AM;jwagantall;Dear Ramesh, 

My concerns remind the same as my previous comments, 

This change was created a long time ago in Feb: [https://gerrit.hyperledger.org/r/#/c/6007/]

This change adds all the support for publishing into Maven Central. 

 

Due to previous requests to publish into Nexus2, the pom file has reverted that support in the pom file:

[https://gerrit.hyperledger.org/r/#/c/9259/]

 

Can you please help me bringing this up with Rick? (since I see his approval to overwrite the distribution from central to nexus2)

 

If we decide to bring back the changes from [https://gerrit.hyperledger.org/r/#/c/6007/], then it will be just a matter of syncing with Satheesh and make sure his changes are applicable along with ours or if we should just revert ours. 

 

Thanks!

Jess. ;;;","01/Jun/17 2:13 AM;mastersingh24;[~jwagantall] We do want to publish to http://central.sonatype.org/  (or Maven Central);;;","01/Jun/17 2:19 AM;jwagantall;Thanks [~mastersingh24], 

 

That is what the gerrit I am referencing used to do [https://gerrit.hyperledger.org/r/#/c/6007/]

As per the instructions here: [http://central.sonatype.org/pages/ossrh-guide.html#releasing-to-central]

 

Let me know if I might be missing anything else. 

 

Thanks!

Jess. ;;;","01/Jun/17 2:52 AM;mastersingh24;[~jwagantall] So I guess the only issue is how to deal with the GPG/PGP key(s).   Is this the only issue we currently have - which key(s) to use and storing them in Jenkins?;;;","01/Jun/17 2:54 AM;ryjones;[~mastersingh24] we will be hand-signing artifacts. we aren't storing GPG keys in Jenkins.;;;","01/Jun/17 4:00 AM;mastersingh24;Updated description with what we want to do - including the repository to use.

Please note that [this step|http://central.sonatype.org/pages/ossrh-guide.html#create-a-ticket-with-sonatype] to create an account and open a [JIRA ticket|https://issues.sonatype.org/browse/OSSRH-30331] has already been taken and the account is all set up. I assume that [~rameshthoomu] likely did this?;;;","01/Jun/17 4:55 PM;rameshthoomu;@jwagantall @rickr Submitted patch to publish java jar to nexus/maven repository using oss.sonatype approach.. https://gerrit.hyperledger.org/r/#/c/10011
please review and approve..

also using the above patch I have pushed snapshot release to nexus snapshot repository https://oss.sonatype.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java/1.0.0-SNAPSHOT

now I am trying to publish release to maven as per the steps mentioned here.. https://github.com/rameshthoomu/sonatypejar/blob/master/mavencommands.md

I am unable to generate gpg keys in my machine.. could be system issue.. Getting below message

```
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.

Not enough random bytes available.  Please do some other work to give
the OS a chance to collect more entropy! (Need 294 more bytes)
```;;;","01/Jun/17 8:33 PM;rickr;Hi [~rameshthoomu] can we try to publish alpha2 instead of the .9 ?  Would need to publish the the git version tagged with alpha2.;;;","02/Jun/17 8:39 AM;rameshthoomu;Successfully created gpg keys and tried to publish java jar to maven with version 1.0.0-alpha2.. Observed below error 

{code:java}
You need a passphrase to unlock the secret key for
user: ""hyperledgerci (testing1) <rameshbabu.thoomu@gmail.com>""
2048-bit RSA key, ID 50FE853F, created 2017-06-01
Enter passphrase: gpg: gpg-agent is not available in this session
{code}

not sure how to resolve this issue.. [~satheeshk] Could you please help me.. am I missing any steps?
;;;","05/Jun/17 5:47 AM;rickr;Last I heard we got past that issue and had a permission issue with sonatype that we opened a JIRA for.  Any updates ?;;;","05/Jun/17 6:53 AM;rameshthoomu;[~rickr] [~mastersingh24] I have successfully pushed 1.0.0-alpha2 to oss.sonatype staging area and made a release from oss.sonatype to maven. https://oss.sonatype.org/#stagingProfiles;251f553a01e5e8

But I don't see 1.0.0-alpha2 is not pushed to maven repository. Updated JIRA item created in sonatype https://issues.sonatype.org/browse/OSSRH-30331?focusedCommentId=412492&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-412492;;;","05/Jun/17 10:13 AM;rickr;Thanks [~rameshthoomu].  So maybe it needs time?   
Can we get [~venu.vemula] to test with FAB-3746 If it's really published that code should be able to reference 1.0.0-alpha2 without any need of specifying a repository in pom.xml or settings.xml This is really what matters.;;;","05/Jun/17 10:16 AM;rickr;!image-2017-06-04-21-16-16-545.png!;;;","05/Jun/17 11:21 AM;venu.vemula;Hi @rickr @rameshthoomu , I changed pom.xml(https://github.com/venugopv/FabricJavaSDKSample/blob/master/pom.xml) so that it does not specify any repository  and could successfully down load SDK jar (i.e fabric-sdk-java-1.0.0-alpha2.jar) from maven and run end to end tests.;;;","06/Jun/17 12:23 AM;rickr;[~venu.vemula] Thanks

[~rameshthoomu] is this _automated_ ? Trigger a job for releases;;;","06/Jun/17 1:50 AM;rameshthoomu;No.. This is a manual process and have to start the release process after the release tag/update the version in pom.xml. We can automate this process but have to generate and keep gpg keys in Jenkins CI.. As per [~ryjones] it is not possible. [~jwagantall] could you please take up this process. Will submit release process document in some time today for review. You can see the draft version here. https://github.com/rameshthoomu/sonatypejar/blob/master/Java%20Release.md;;;","06/Jun/17 2:32 AM;rickr;Ok NP have to start somewhere.;;;","09/Jun/17 9:22 AM;rameshthoomu;This is fixed and we are able to publish java jar to maven central. Created java release process document and you can find this in docs/ folder under fabric-sdk-java repository. With this approach we have publish 1.0.0-alpha2 and 1.0.0-beta release to maven central repository. 

http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/

Will automate this process in Jenkins before we publish next release. Will create a new task for this item.. Closing this.;;;"
Publish v1.0.0 to maven,FABJ-90,19172,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,jwagantall,rickr,rickr,12/Jul/17 2:16 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jul/17 11:54 PM,v1.0.0,,,,v1.0.0,,,,,1,,,,,,"Java SDK release 1.0.0  has been tagged and now needs to be published to Maven

[https://github.com/hyperledger/fabric-sdk-java/releases/tag/v1.0.0]

 ",,JonathanLevi,jwagantall,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7wv:",,,,,,,,,,,,,,,,,,,,,,,,,JonathanLevi,jwagantall,rickr,,,,,,,,,,,,,,,,,"12/Jul/17 2:24 AM;jwagantall;started on this... 

 

From Ramesh:
  @jwagantall java sdk is released 1.0.0 version.. Could you please publish java 1.0.0 version to maven on this commit # e976abdc658f212d0c3a80ace4499a5cff4279c6;;;","12/Jul/17 4:59 AM;JonathanLevi;What's the official status of this, please? ;;;","12/Jul/17 5:03 AM;jwagantall;This is now published:

[https://oss.sonatype.org/content/repositories/releases/org/hyperledger/fabric-sdk-java/fabric-sdk-java/1.0.0/]

 

Ramesh commented it will take about a day to sync in maven ;;;","12/Jul/17 5:07 AM;JonathanLevi;Thank you for the timely response Jessica. Noted. Thank you.;;;","13/Jul/17 11:54 PM;JonathanLevi;I'm closing this, following the confirmation of [~rameshthoomu] here [https://chat.hyperledger.org/channel/ci-pipeline?msg=HAhbZZGQ9kw8vBRLB]

Thank you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation updates,FABJ-91,17899,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,14/Jun/17 11:33 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jul/17 4:53 AM,v1.0.0,,,,v1.0.0,,,,,0,Documentation,quality,,,,,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy2bj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Chain creation - Java,FABJ-92,13802,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,binhn,Clayton Sims,15/Dec/16 12:31 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,08/Mar/17 5:49 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"As a developer, I need an API to create a chain (a chain = consensus channel and ledger) with a list of peer ecerts, which are automatically part of the chain (subscribe to the channel and create ledger) so that I can provide data isolation for these peers.  For more detail https://docs.google.com/document/d/1eRNxxQ0P8yp4Wh__Vi6ddaN_vhN2RQHP-IruHNUwyhc/edit#",,Clayton Sims,kchristidis,rickr,tuand,,,,,,,,,,,,,,,,FAB-1875,FAB-1880,FAB-2536,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-686,,,,,,,,,"1|hzx5nj:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,Sprint 13 - SDK Java,,,,,,,,,,,,,,,,Clayton Sims,kchristidis,rickr,tuand,,,,,,,,dev,main,,,,,,true,"10/Feb/17 3:46 AM;tuand;Fabric has code for a CLI create channel command at hyperledger/fabric/peer/channel/create.go;;;","01/Mar/17 10:21 PM;rickr;Code is there for Chain creation.  And peer joining.  Has not been submitted yet. 
Testing using this chain is blocked.;;;","17/Apr/17 11:28 PM;kchristidis;[~rickr]: It's not clear to me how FAB-1875 is blocking you. Can you clarify?;;;","17/Apr/17 11:36 PM;rickr;ahh that was an over month ago comment;;;","17/Apr/17 11:39 PM;kchristidis;Does that mean that (a) you know now that it's not blocking you, or (b) that you cannot recall how it's blocking you?;;;","17/Apr/17 11:40 PM;kchristidis;(The second option is, of course, a valid answer.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Remove docker file  from chain code.,FABJ-93,14560,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,06/Feb/17 12:42 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Mar/17 4:45 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Remove dockerfile from chain code.  Validate End2end tests work.

*Make sure Fabric change below has been delivered. And End2endIT.java works with the level BEFORE starting.*
Fabric no longer requires a Dockerfile to accompany chaincode deployment: https://gerrit.hyperledger.org/r/#/c/4943
 CR outstanding for the node-sdk to correct this: https://gerrit.hyperledger.org/r/#/c/5427
",,rickr,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5vb:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update log4j to latest - enhence confg to enable logging.,FABJ-94,15799,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,18/Apr/17 3:21 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/May/17 9:05 PM,,,,,Future,,,,,0,,,,,,"Update log4j to the latest in the pom.xml.
Make sure it works and logging can be enabled via the property files.

To make enable logging more convenient to enable allow setting log levels for the sdk via direct property on the SDK itself or via environment variables 
Work should be done in Config.java follow examples there.

Should be able to set logging via a property 
org.hyperledger.fabric.sdk.configuration.logging.level=DEBUG
Or with an env variable 
ORG_HYPERLEDGER_FABRIC_SDK_CONFIGURATION_LOGGING=TRACE

https://gerrit.hyperledger.org/r/#/c/8195/",,rickr,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxq87:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,zerppen,,,,,,,,,,,,,,,,,,"19/Apr/17 8:51 AM;zerppen;[~rickr] well..I think here using slf4j is better.We can choose log4j logger object or JDK built-in logger.
About the env variable,you meaned we can set it in Config.java?;;;","19/Apr/17 9:23 AM;rickr;I don't want to move to slf4j in v 1.0.0 we'll take a look at that for v1.1.
org/hyperledger/fabric/sdk/helper/Config.java  call the api logging to enable logging as I suggested above.
;;;","19/Apr/17 11:39 AM;jimthematrix;[~rickr] i think we should consider switching to slf4j from apache common logging due to its potential classloader problems. the SDK is going to be dropped into an application with any kind of classloading policies and hierarchies and the JCL way of discovering implementations is pretty susceptible to problems. I did a brief research online to see if slf4j is still favored over JCL and it does still seem to be the case.

[~zerppen];;;","19/Apr/17 12:06 PM;rickr;I know of certain groups that have been using our logging with no issues. I don't want to change what's not broken for v1.0.0 
Look at switching it out in v1.1
;;;","19/Apr/17 3:13 PM;zerppen;[~rickr] I don't understand if we need log4j or slf4j for v1.0.0.If it's not necessary for current development,maybe u can assign me a necessary task.To the logging, I have tested log4j2 and slf4j,then choosed slf4j. 






;;;","19/Apr/17 7:47 PM;rickr;Let's leave the logging as is. Can you do the part about making it possible to just enable logging through env variables?;;;","20/Apr/17 11:56 AM;zerppen;[~rickr]well..  of course I can do that.But I should make you know that it's not so good,because slf4j or log4j using property file setting log levels,while if we want to enable logging through env variables that just  putting env variables into property file by FileReader.
I will push code to gerrit then.

;;;","20/Apr/17 11:04 PM;rickr;There's now need to write any property file.  It can all be done via api.;;;","21/Apr/17 12:47 PM;zerppen;Old version of log4j really can.But since version 2.0.1,it is no longer available.
To every class you need log, the old version of log4j uses method setLevel to set logging level.
I don't think it's  convenient,because I don't want to change all the code when I need change logging level.
So,old version of log4j or both via env variables and property file setting logging levels?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JaCoCo for test coverage,FABJ-95,17266,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,31/May/17 1:19 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Jun/17 12:57 AM,,,,,v1.0.0,,,,,0,,,,,,Start of adding coverage tools to build,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5pz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven dependencies should be listed in README.md,FABJ-96,12997,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,malik-altaf,malik-altaf,13/Oct/16 8:33 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Oct/16 11:34 AM,,,,,,,,,,0,getting-started,,,,,"If we take the Java SDK jar file to a new product and try to use it, it complains about the missing dependencies. The reason is, external dependencies are used for building the jar file but they are not distributed. Users should have a way to know which dependencies they need to include in their project in order to successfully use the jar file",,malik-altaf,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd07:",,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric level,FABJ-97,15398,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,19/Mar/17 1:26 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,28/Mar/17 11:43 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo9j:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK - Endorsement Policy validation not supported in V1,FABJ-98,15702,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,timpii,timpii,12/Apr/17 8:15 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,25/Jun/18 8:25 PM,,,,,Future,,,,,0,,,,,,Within the Java SDK the validation of the Endorsement Policy is not being supported within V1. Support for Endorsement Policy validation needs to be included soon after that.,,peoplehlj,rickr,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpsn:",,,,,,,,,,,,,,,,,,,,,,,,,peoplehlj,rickr,timpii,,,,,,,,,,,,,,,,,"25/Jun/18 8:25 PM;rickr;The SDK itself was not able to even know what the endorsement policy was.  With the service discovery feature it can and does select which peers do the endorsing. So with that I consider this to be closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update protos,FABJ-99,24644,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,01/Dec/17 2:02 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Dec/17 11:38 PM,,,,,v1.1.0,,,,,0,,,,,,"Include timestamp in event.

 

https://gerrit.hyperledger.org/r/#/c/15841/

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyoz3:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the client side of the credential issuance functionality with fabric-ca,FABJ-100,28607,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,smithbk,dubovitskaya,dubovitskaya,16/Mar/18 10:47 PM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,24/Jul/18 9:31 PM,Future,,,,v1.3.0,,,,,0,idemix,,,,,"Implement enrollment request generation, credential request generation, new credential verification and storage",,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzwqfq:k",,,,,,To Do,,,,,,,,,,,,,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,"22/May/18 9:43 AM;dubovitskaya;Hi Keith,

I am assigning this one to you based on our slack conversation.

Feel free to reassign accordingly if I am mistaken.

Many thanks!

Maria;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 no longer use channel testchainId  configtxgen match docker,FABJ-101,15206,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,05/Mar/17 4:51 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,08/Mar/17 5:48 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"V1.0 no longer use channel testchainId  configtxgen match docker
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmu7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jenkins report Java SDK code coverage,FABJ-102,17342,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rameshthoomu,rickr,rickr,01/Jun/17 5:26 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,03/Jun/17 5:36 PM,,,,,v1.0.0,,,,,0,,,,,,"Once the following CR is merged JaCoCo html output should be in 
target/site/jacoco-aggregate/index.html

JaCoCo also produces a binary file that is in 
target/jacoco-merged/merged.exec

https://gerrit.hyperledger.org/r/#/c/10005/",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxzz:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"03/Jun/17 2:48 AM;rameshthoomu;Submitted patch and it's in review.. https://gerrit.hyperledger.org/r/#/c/10055/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create client TLS artifacts from Fabric CA,FABJ-103,27438,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,06/Feb/18 10:43 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Feb/18 8:30 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/17549/,,rickr,,,,,,,,,,,,,,,,,,,,,,FABJ-28,,,,,FAB-6935,,,FAB-6715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyw13:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java doc generated.,FABJ-104,15652,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,rickr,rickr,11/Apr/17 2:31 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Jun/17 10:20 PM,,,,,Future,,,,,0,java-SDK,v1.0,,,,Have java doc generated for public interfacing APIs,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5r3:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK v1.1 commencement,FABJ-105,19965,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,05/Aug/17 3:29 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,23/Aug/17 9:39 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,Content to go in master branch,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyc1b:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0  Discover anchor peers from config block.,FABJ-106,15495,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,29/Mar/17 9:43 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,31/Mar/17 9:15 AM,,,,,,,,,,0,java-SDK,v1.0,,,,V1.0  Discover anchor peers from config block.,,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxotz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"30/Mar/17 5:47 AM;tuand;http://gerrit.hyperledger.org/r/7557;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update format of CA token in java SDK,FABJ-107,30410,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,,smithbk,smithbk,20/May/18 12:11 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,25/Jun/18 8:35 PM,,,,,v1.2.0,,,,,0,Security,,,,,"The format of the authorization header is changing.

The current format is <base64 encoding of X509 certificate>.<base64 encoding of payload> where payload is the signature over hash of the string: <base64 encoding of request body>.<base64 encoding of X509 cert>

The new format is <base64 encoding of X509 certificate>.<base64 encoding of payload> where payload is the signature over hash of the string: <request method>.<base64 encoding of request URI including query parameters>.<base64 encoding of request body>.<base64 encoding of X509 cert>

This change should be made after https://gerrit.hyperledger.org/r/#/c/22025/ is merged
",,smithbk,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzb9b:",,,,,,,,,,,,,,,,,,,,,,,,,smithbk,,,,,,,,,,,,,,,,,,,"22/May/18 2:45 AM;smithbk;The token format is not being changed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Jar manifest add attrib identifying build.,FABJ-108,19498,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,26/Jul/17 11:25 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,27/Jul/17 3:01 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9qv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding member 'certificateAuthorities' to NetworkConfig class,FABJ-109,31985,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,Vishal3152,Vishal3152,Vishal3152,18/Jul/18 3:42 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jul/18 9:29 PM,,,,,Future,,,,25/Jul/18 12:00 AM,0,,,,,,NetworkConfig.fromJsonFile() does read 'certificateAuthorities' from network-config file but does not return 'certificateAuthorities',,rickr,Vishal3152,,,,,,,,,,43200,43200,,0%,43200,43200,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzizb:",,,,Unset,Unset,,,,,,,,,Unset,,,,,,,,,,,rickr,Vishal3152,,,,,,,,,,,,,,,,,,"18/Jul/18 9:29 PM;rickr;You can get the organizations  https://github.com/hyperledger/fabric-sdk-java/blob/4cf7f820bd2c9f5fcfe5a5f1927ec5dbc2aa285f/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java#L414

From the organizations you can get CAInfo which is the wrapper for certificateAuthorities
https://github.com/hyperledger/fabric-sdk-java/blob/4cf7f820bd2c9f5fcfe5a5f1927ec5dbc2aa285f/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java#L1235

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove hardcode orderer wait,FABJ-110,18339,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,20/Jun/17 3:15 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,22/Jun/17 8:41 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3ef:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Clean up members services,FABJ-111,15717,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,13/Apr/17 5:44 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,17/Apr/17 11:49 PM,,,,,v1.0.0,,,,,0,java-SDK,,,,,Memberservices  interface  is not needed.  When we implement Tcerts there will be a new interface specific to that.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5tz:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to new configtx ,FABJ-112,19306,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,18/Jul/17 3:37 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jul/17 6:07 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,"Fix configtx blocks changes introduced with FAB-5309

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5309,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8pb:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"18/Jul/17 4:32 AM;rickr;https://gerrit.hyperledger.org/r/#/c/11703/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java Utilize TLS binding information and timestamp in deliver service registration messages,FABJ-113,24642,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,jeffgarratt,jeffgarratt,01/Dec/17 1:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Feb/18 10:20 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"For the deliver service, the SDK must ensure that the following fields are set, depending on the TLS settings for the network:
 * non-TLS or server-side TLS: timestamp must be set in the envelope's channel header
 * mutual TLS: the TLSCertHash must be set in the envelope's channel header. The TLS certificate hash to set is the SHA256 hash of the DER representation of the client's TLS certificate

gerrit https://gerrit.hyperledger.org/r/#/c/17597/",,jeffgarratt,rickr,,,,,,,,,,,,,,,,,,,,,FAB-4824,,,FABJ-28,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyoyv:",,,,,,,,,,,,,,,,,,,,,,,,,jeffgarratt,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Minor code cleanup,FABJ-114,17769,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,12/Jun/17 9:14 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jun/17 2:15 AM,v1.0.0,,,,v1.0.0,,,,,0,quality,,,,,"Minor code cleanup unused imports, extra spaces, extra lines.

No function changes",,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3t3:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Threading issues usercontext on client.,FABJ-115,17575,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,07/Jun/17 2:41 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,09/Jun/17 1:54 AM,,,,,v1.0.0,,,,,0,,,,,,Currently user context is set on the client and later requests are created and sent on the client.  This means the client may not switch user context between that time or the request would be done on that user. To be thread safe the client would need to be dedicated to just one Java thread. This is too heavyweight.  By allowing users to set the user context on the requests themselves there is no need to switch at the client level but can fall back to that if not explicitly set on the request.,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzdb:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK support of Deliver service from peer,FABJ-116,24035,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,wlahti,wlahti,21/Nov/17 12:24 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Mar/18 2:12 AM,,,,,,,,,,0,A&D,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7022,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzynlj:",,,,,,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide Identity Mixer crypto library in Java ,FABJ-117,22494,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,mdr,elli-androulaki,elli-androulaki,19/Oct/17 4:07 PM,12/Sep/18 12:55 AM,28/Oct/23 2:21 AM,12/Sep/18 12:55 AM,,,,,v1.3.0,,,,09/Nov/17 12:00 AM,0,idemix,,,,,"The Idemix crypto library in Java provides the same functionality as the corresponding library in Go (CA key generation, certificate issuance, unlinkable transaction signing, selective disclosure of attributes)

 

 ",,dubovitskaya,elli-androulaki,mdr,,,,,,,,,86400,86400,,0%,86400,86400,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzx2j3:",,,,,,May2018 - Security,,,,,,,,,,,,,,,,,,,dubovitskaya,elli-androulaki,mdr,,,,,,,,,dev,main,,,,,,true,"01/Nov/17 4:22 AM;dubovitskaya;The code is mostly ready, therefore such a short estimate.;;;","10/Nov/17 10:39 PM;mdr;https://gerrit.hyperledger.org/r/#/c/15369/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish v1.0.1 to maven,FABJ-118,20170,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rameshthoomu,rickr,rickr,14/Aug/17 11:29 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,15/Aug/17 3:21 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,"Java SDK v101 has been released.

[https://github.com/hyperledger/fabric-sdk-java/releases/tag/v1.0.1]

commit level 11bd160a95fa8529d93582ec68556bb1c4652c21",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyd27:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"15/Aug/17 3:20 AM;rameshthoomu;[~rickr] published v1.0.1 release to maven and it's been published here http://repo1.maven.org/maven2/org/hyperledger/fabric-sdk-java/fabric-sdk-java/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode examples and test cases ,FABJ-119,12946,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,satheeshk,Pardha,Pardha,11/Oct/16 10:47 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:31 AM,,,,,,,,,,0,,,,,,Add java chain code examples and required test cases for shim layer.,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5rz:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,Pardha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DeployRequest to allow chaincode zip compressed tar tag InputStream,FABJ-120,15454,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,icordoba,icordoba,25/Mar/17 7:48 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/May/17 8:17 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"DeployRequest could allow not only a local path for the chaincode source but also a InputStream in the correct archive supported format so a java application can read the code to deploy from anywhere and deploy it without having to save it ti a local path and .setChaincodePath() to it.
 Method could be DeployRequest.setChaincodeInputStream(InputStream is)

 

 

https://gerrit.hyperledger.org/r/#/c/9289/",,icordoba,rickr,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjw7:",,,,,,,,,,,,,,,,,,,,,,,,,icordoba,rickr,zerppen,,,,,,,,,,,,,,,,,"19/Apr/17 3:31 PM;zerppen;[~rickr] It needs done in v1.0.0? 
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code clean up,FABJ-121,17140,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,26/May/17 12:03 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/May/17 8:42 PM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,"Remove devmode and prefetch 
Fix checks on chaincode path where not needed.",,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx2f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow for no eventHubs,FABJ-122,21787,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Oct/17 3:15 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,27/Oct/17 11:46 PM,v1.0.0,v1.1.0,,,v1.1.1,,,,,0,,,,,,"Instead of waiting for timeout when no eventhubs are present complete the future immediately which gives indication that the orderer successfully took the request but report null for the Transaction Event since none can be expected in this case.

https://gerrit.hyperledger.org/r/#/c/14429/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyj73:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add coding style checks to maven so it runs during every build,FABJ-123,14311,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,YuryAndreev,jimthematrix,jimthematrix,24/Jan/17 5:52 AM,17/Dec/19 10:44 AM,28/Oct/23 2:21 AM,21/Apr/17 9:21 PM,,,,,Future,,,,,0,,,,,,,,jimthematrix,YuryAndreev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5v3:",,,,,,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,,jimthematrix,YuryAndreev,,,,,,,,,,dev,main,,,,,,true,"27/Mar/17 10:06 PM;YuryAndreev;please, check;;;","06/Apr/17 5:23 PM;YuryAndreev;Merged
https://gerrit.hyperledger.org/r/#/c/7363/;;;","06/Apr/17 5:23 PM;YuryAndreev;Rick Rine:
FileLength: File length is 2,161 lines (max allowed is 2,000) eliminate 
Allow line length up to 160 most screens have no problem with this.
Allow underscores in var names .. somtimes this can make it more readable.
Class Pair should be declared as final. remove ... I'd like to have the final say in this.
OperatorWrap: '?' should be on a new line  remove see no issue with that.


Change [ERROR] to [WARNING] I want to scan builds for error don't think this should be caught.


Finally I don't want to see all this till we have it cleaned up to some degree:
[done]

Two plans:
Submit small gerrit CC of 3 to 4 files each day to be reviewed that have ONLY fixes for style and don't impact highest JIRA work items under review.
This should be quickly merged then.

Wait till V1.0 Highest Jira are done.;;;","06/Apr/17 5:26 PM;YuryAndreev;New Changes:
http://gerrit.hyperledger.org/r/7777 FAB-1810 - Checkstyle. Optimise imports;;;","21/Apr/17 9:23 PM;YuryAndreev;if need to fix style need to create batches of changes. Need to make other issues or fix style in work process.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add event support for fabric Java SDK,FABJ-124,13934,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dianfu,dianfu,dianfu,05/Jan/17 5:06 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/Jan/17 10:04 AM,,,,,,,,,,0,,,,,,Add event support for fabric Java SDK,,dianfu,kelvinzhong,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxghz:",,,,,,,,,,,,,,,,,,,,,,,,,dianfu,kelvinzhong,rickr,,,,,,,,,dev,main,,,,,,true,"01/Mar/17 7:09 PM;kelvinzhong;is the eventhub functional? but there have no example shows how to get a callback from the event in the end2end test;;;","01/Mar/17 10:10 PM;rickr;Transactions send to the orderer are handled by a JavaFuture  it's done when the event is detected. There is a general purpose registerBlockListener on the Chain if an application wants to listen to Blocks;;;","02/Mar/17 3:28 PM;kelvinzhong;Thx for reply! But still, I don't understand the code {color:red}""EVENTHUB_LOCATIONS = Arrays.asList(""grpc://localhost:7053"");{color}"" as I haven't found any document says there has a kind of node named ""EVENTHUB"", and what is the usage of the ""EVENTHUB""? what types of the event is here targetting for?
Besides, I found that it would set a block listener when the chain initialized, is there an interface to set the callback function for the listener? hope there would have more test case to indicate the usage about the ""event""!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
increase proposal wait time for tests,FABJ-125,17274,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,31/May/17 3:51 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,31/May/17 6:00 AM,,,,,,,,,,0,,,,,,Sometimes test are timing out on proposals this should see if helps.,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5qf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Post v1.1.0-alpha,FABJ-126,27201,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,30/Jan/18 12:20 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Feb/18 2:55 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/17293/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyuwv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use DiagnosticFileDumper clean up trace,FABJ-127,21802,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Oct/17 11:13 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,08/Nov/17 12:29 AM,v1.0.0,,,,v1.1.0,,,,,0,,,,,,"Trace puts out many lines at certain points that can be moved to a file dump by DiagnosticFileDumper

https://gerrit.hyperledger.org/r/#/c/14463/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyja7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide to the response wrapper a method for returning the CC Status,FABJ-128,16739,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,timpii,rickr,rickr,16/May/17 12:07 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/May/17 9:02 PM,,,,,v1.0.0,,,,,0,,,,,,Provide to the response wrapper a method for returning the CC Status,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvd3:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Signing Identity with Idemix Crypto library in Java,FABJ-129,23224,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dubovitskaya,dubovitskaya,dubovitskaya,01/Nov/17 4:27 AM,12/Sep/18 12:54 AM,28/Oct/23 2:21 AM,12/Sep/18 12:54 AM,,,,,v1.3.0,,,,14/Nov/17 12:00 AM,0,idemix,,,,,"Implement generating a fresh Idemix SigningIdentity, serializing it, and signing messages with Idemix crypto library in java.

 

similar to the SigningIdentity in fabric/msp/idemixmsp.go

https://gerrit.hyperledger.org/r/#/c/12439/7/msp/idemixmsp.go

https://gerrit.hyperledger.org/r/#/c/13671/5/msp/idemixmsp.go",,dubovitskaya,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,FABJ-340,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzx2jb:",,,,,,May2018 - Security,,,,,,,,,,,,,,,,,,,dubovitskaya,,,,,,,,,,,dev,main,,,,,,true,"23/May/18 12:45 AM;dubovitskaya;CR: https://gerrit.hyperledger.org/r/#/c/16481/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"V1.0 Query Channels, instantiated chaincodes, and installed chaincodes",FABJ-130,15322,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,13/Mar/17 7:13 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,06/Apr/17 8:57 AM,,,,,v1.0.0,,,,,0,,,,,,"Query to get all the channels for a given peer.
Query to get the instantiated chaincodes on a channel
Query to get the installed chaincodes on a peer",,rickr,,,,,,,,,,,,,,,,,,,,,,FABJ-320,,,,,,,,FABJ-43,FABJ-216,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx35z:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"30/Mar/17 8:43 AM;rickr;https://gerrit.hyperledger.org/r/#/c/7469/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Provide policies on chain code install,FABJ-131,14939,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,21/Feb/17 1:06 AM,22/Sep/20 10:40 PM,28/Oct/23 2:21 AM,26/Feb/17 11:57 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"When we install chain code we need to provide policies option.    For now this will be input will simply be a byte array that the application generated via some tooling. 

",,king3000,rickr,rmohta,tuand,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-319,FABJ-150,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxljj:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,king3000,rickr,rmohta,tuand,wutongtree,,,,,,,dev,main,,,,,,true,"21/Feb/17 5:47 AM;tuand;Design doc is for chaincode install/deploy/etc ... is at 
https://docs.google.com/document/d/1WF7eGwqnQmCXFefUoRdjHlk_X_T3RWp7ok2jVdLVREY/edit?ts=58ab4ecc#heading=h.50odblmnuq75;;;","22/Feb/17 6:13 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6295/3

supports adding policy to CC deploy/instantiate.

To fully test, need to find some way to get sample policy byte array;;;","23/Feb/17 7:51 AM;tuand;endorsements policies are documented in this [file|https://gerrit.hyperledger.org/r/gitweb?p=fabric.git;a=blob;f=docs/endorsement-policies.md;h=1eecf359c12c3f7c1ddc63759a0b5f3141b07f13;hb=HEAD];;;","23/Feb/17 7:54 AM;tuand;While waiting for the ""official"" policy creation tool,  manufacture serialized policies with this go code:

{code:title=PolicyFile.go |borderStyle=solid}
package main

import (
	""fmt""
	""io/ioutil""

	""github.com/hyperledger/fabric/common/cauthdsl""
	putils ""github.com/hyperledger/fabric/protos/utils""
)

const policyString = ""AND('DEFAULT.member')""

func main() {
	p, err := cauthdsl.FromString(policyString)
	if err != nil {
		fmt.Printf(""Invalid policy %s\n"", policyString)
	} else {
		policyMarshalled := putils.MarshalOrPanic(p)
		err = ioutil.WriteFile(""./policyBits"", policyMarshalled, 0777)
		if err != nil {
			fmt.Printf(""Error writing to file: %s"", err)
		}
	}
}
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support custom channel config during channel creation,FABJ-132,15650,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,jimthematrix,jimthematrix,11/Apr/17 2:26 AM,12/Sep/18 12:53 AM,28/Oct/23 2:21 AM,12/Sep/18 12:53 AM,,,,,Future,,,,,1,java-SDK,,,,,"At the moment the Java SDK takes a binary input for the channel configuration during creation. For this to work the configuration must first be generated somehow.

This work is to enable Java SDK to enable the application to specify the channel configuration using a text format (json or yaml), just like in the case of chaincode endorsement policy, and generates the corresponding configuration to send to the create channel API on the orderer.",,remmeier,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-203,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpl3:",,,,,,,,,,,,,,,,,,,,,,,,,remmeier,rickr,,,,,,,,,,,,,,,,,,"12/Sep/18 12:53 AM;rickr;The settled means to do this now is via UpdateChannelIT.java;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDK v1.1.0 release,FABJ-133,30083,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,10/May/18 9:19 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/May/18 5:05 PM,v1.1.0,,,,v1.1.0,v1.1.1,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/21655/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9if:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric CA revoke missing gencrl ,FABJ-134,24504,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,skarim,rickr,rickr,29/Nov/17 12:05 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,04/Jan/18 12:12 AM,v1.0.0,,,,v1.1.0,,,,,0,,,,,,"The Fabric CA supports on revoke an option for gencrl to be returned, but is missing in JSDK api.  Need to include this and provide the gencrl back in the response.

Also some parameters are not being handled correctly like *reason* which can be missing  (aka null) but the HFCAClientIT will throw an npe if not there.  
Need to have unit testcase for this also fixed up.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyoaf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Transaction validation code to match Fabric's [FAB-2243],FABJ-135,15133,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,02/Mar/17 12:52 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Mar/17 6:13 AM,,,,,v1.0.0,,,,,0,,,,,,"Fabric changed Block.Metadata[TRANSACTIONS_FILTER] from a bit string to a byte array and added a new set of validation codes.

Need to update BlockEvent/TransactionEvent to get the correct values from the Block.",,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2243,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmfj:",,,,,,,,,,,,,1.0,,,,,,,,,,,,tuand,,,,,,,,,,,dev,main,,,,,,true,"02/Mar/17 6:13 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6677/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Complete Fabric CA apis re enroll revoke,FABJ-136,15321,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,Honglei,rickr,rickr,13/Mar/17 6:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 11:01 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,Complete Fabric CA apis re enroll revoke,,Honglei,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-23,,,,,"28/Mar/17 8:24 PM;rickr;HFCAClientEnrollIT.java;https://jira.hyperledger.org/secure/attachment/10623/HFCAClientEnrollIT.java","28/Mar/17 8:22 PM;rickr;HFCAClientEnrollIT.java;https://jira.hyperledger.org/secure/attachment/10621/HFCAClientEnrollIT.java","28/Mar/17 8:24 PM;rickr;cirun.sh;https://jira.hyperledger.org/secure/attachment/10622/cirun.sh",,,,,,,,,,,,,,,,,,,,,,"1|hzxnvr:",,,,,,,,,,,,,,,,,,,,,,,,,Honglei,rickr,,,,,,,,,,dev,main,,,,,,true,"24/Mar/17 10:42 PM;rickr;Hi Cong 
When you submit a patch in gerrit you need to add reviewers.  Look at Reviewers  than click Add.. button
Type *c* in the box 
select cr-fabric-sdk-java

Thanks for your help!;;;","24/Mar/17 11:36 PM;Honglei;OK.  Thanks.;;;","28/Mar/17 8:24 PM;rickr; [^HFCAClientEnrollIT.java] 

Fixed up test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ALG_NO_REVOCATION support to the Java crypto library (for compatibility with v1.3),FABJ-137,28599,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,mdr,dubovitskaya,dubovitskaya,16/Mar/18 10:05 PM,12/Sep/18 1:43 AM,28/Oct/23 2:21 AM,12/Sep/18 1:43 AM,v1.2.0,,,,v1.3.0,,,,,0,idemix,,,,,idemix.Signature will take credential revocation information CRI_j (specific to that user) as an additional parameter and will generate a non-revocation proof as a part of the signature,,dubovitskaya,mdr,,,,,,,,,,,,,,,,,,,,,FABJ-331,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzx2lz:",,,,,,May2018 - Security,,,,,,,,,,,,,,,,,,,dubovitskaya,mdr,,,,,,,,,,dev,main,,,,,,true,"24/May/18 8:41 PM;dubovitskaya;https://gerrit.hyperledger.org/r/#/c/22245/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update proto. snapshot fix,FABJ-138,20753,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Sep/17 4:46 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Sep/17 12:38 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyg4f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"12/Sep/17 11:20 PM;rickr;Minor fixes:

 

Orderer wait time overall configurable. Remove dead code CACERTS dir.

 

[https://gerrit.hyperledger.org/r/#/c/13363/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FABJ-139,23966,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,16/Nov/17 4:21 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/Jan/18 12:31 AM,v1.1.0,,,,v1.1.0,v1.1.1,,,,0,,,,,,"Update to latest dependencies

 

https://gerrit.hyperledger.org/r/#/c/15497/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyn8n:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Check style for test code,FABJ-140,17739,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,chrism28,rickr,rickr,11/Jun/17 9:07 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Jun/17 8:33 PM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,"Just discovered check-style is not covering test code.

Adjust pom.xml so its being covered

config section needs

{color:#444444}<includeTestSourceDirectory>true</includeTestSourceDirectory>{color}

{color:#444444}Fix up remaining issues in the test files.{color}

 ",,chrism28,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy03b:",,,,,,,,,,,,,,,,,,,,,,,,,chrism28,rickr,,,,,,,,,,dev,main,,,,,,true,"12/Jun/17 11:11 AM;chrism28;I chose not to fix SimpleChaincode.java as it would have required lots of changes, plus the example source code is not currently being built (by maven or by eclipse) - and so any accidentally introduced compilation errors would not be picked up!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multithreaded test.,FABJ-141,31926,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,16/Jul/18 11:57 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,17/Jul/18 3:04 AM,v1.2.0,,,,v1.2.0,,,,,0,,,,,,"Provide a test that uses multiple threads to execute endorsements, sending to Orderer and doing various queries.

https://gerrit.hyperledger.org/r/#/c/24249/",,mastersingh24,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Not Required,Unset,Not Required,,,,,No,,,No,,,"1|hzzirj:",,,,Unset,Not Required,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,rickr,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename Member to User as per the API specification,FABJ-142,14178,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,malik-altaf,malik-altaf,19/Jan/17 3:11 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:42 AM,,,,,,,,,,0,,,,,,"In v0.6, we have a Member class that represents a user that can be enrolled with MembershipServices (now COP). As per the SDK Design Specification, we renamed it to User. The code still uses the old terminology (Member) which should be now renamed to User",,malik-altaf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxil3:",,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,,,,,,,,,,,,,,,,,,,"19/Jan/17 3:17 PM;malik-altaf;Committed to WIP_fabric_v1 at https://gerrit.hyperledger.org/r/#/c/4551/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.1 release notes updates. ,FABJ-143,28653,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,20/Mar/18 12:18 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,04/Apr/18 9:51 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Release notes update.

Config enhance on reconnect rate of error messages.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz207:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Implement the official SDK API design,FABJ-144,13813,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,15/Dec/16 5:20 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Apr/17 12:10 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Need to implement the SDK Specification
https://docs.google.com/document/d/1R5RtIBMW9fZpli37E5Li5_Q9ve3BnQ4q3gWmGZj6Sv4/edit#heading=h.z6ne0og04bp5

This will need many subtasks once we decided what's needed.

As a design goal we should not expose protobuf generated code to the user of the sdk to provide a layer of insulation against changes to the protobufs
",,Name63,rickr,wutongtree,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5rr:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,Name63,rickr,wutongtree,zerppen,,,,,,,,,,,,,,,,"18/Apr/17 12:10 AM;rickr;We've completed this as close as we feel the SDK design document taking into account design changes and what make sense from the SDK apis goals;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DEAD JSDK Lifecycle chaincode deployment,FABJ-145,23898,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,10/Nov/17 6:05 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,24/Jan/18 7:55 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/15493/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzymvj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the Fabric-CA identities and affiliations API,FABJ-146,24871,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,skarim,skarim,08/Dec/17 1:30 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/Jan/18 8:03 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,Implement the Fabric-CA identities and affiliations API,,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-81,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyqef:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,skarim,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send orderer provide full stack,FABJ-147,23981,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,17/Nov/17 2:45 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,07/Dec/17 11:15 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Have the full stack and original exception of last failed send to orderer log others.

 

https://gerrit.hyperledger.org/r/#/c/15539/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzynbz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add changelog.sh to fabric-sdk-java,FABJ-148,16697,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,13/May/17 12:50 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/May/17 9:12 PM,v1.0.0-alpha1,,,,v1.0.0-alpha2,,,,,0,build-system,,,,,add changeling.sh to fabric-sdk-java,,ChristopherFerris,rickr,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv4n:",,,,,,,,,,,,,1.0,,,,,,,,,,,,ChristopherFerris,rickr,,,,,,,,,,dev,main,,,,,,true,"13/May/17 12:54 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/9295/;;;","15/May/17 5:53 AM;rickr;[~ChristopherFerris] Can you mark this as done ?;;;","16/May/17 9:12 PM;ChristopherFerris;[~rickr] you couldn't? ;;;","16/May/17 9:34 PM;rickr;What's the procedure for this ?  I thought it was the  reporter of the JIRA that they were satisfied/verified that the work was done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Javadoc cleanup,FABJ-149,16706,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,13/May/17 5:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Jul/17 10:12 PM,,,,,v1.0.0,,,,,0,,,,,,"Make docker-compose.yaml tags configurable, make javadoc gen only reference public classes. minor fixes",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5qn:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Agree on naming conventions for policy files,FABJ-150,15055,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,26/Feb/17 11:41 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Apr/17 12:47 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"User is to create policies using a Fabric tool that outputs serialized Policy objects as a file or byte array.

SDK is to read these files/byte arrays for use in creating chaincode instantiation requests or other configuration requests.

We need to agree on a naming convention for these files amongst node sdk, java sdk and Fabric teams.

Current conditions: Fabric has not written this tool but has the policy generation code as part of the CLI code.  Node SDK does not plan on reading in Policy files, only byte arrays.",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm2n:",,,,,,,,,,,,,1.0,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"13/Mar/17 4:44 AM;rickr;If can't find any convention lets come up with our own and close this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mutual auth for integration tests,FABJ-151,28730,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,21/Mar/18 10:49 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/May/18 5:50 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Provide test environment to have mutual auth (client) for integration tests.

https://gerrit.hyperledger.org/r/#/c/21653/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2gv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update to latest grpc,FABJ-152,17277,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,31/May/17 4:32 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Jun/17 12:57 AM,,,,,v1.0.0,,,,,0,,,,,,"Updates from 1.2 to 1.3 seems to work ok.

Gives us 3+ weeks to bang on it at this level.",,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5q7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Post beta update,FABJ-153,17662,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,09/Jun/17 2:10 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Jun/17 5:28 PM,,,,,,,,,,0,,,,,,Post beta update fix pom.xml readme.md and docker-compose tags.,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp1b:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for disclosing attributes in a commitment (in java) for client-sdk-java,FABJ-154,28604,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,dubovitskaya,dubovitskaya,16/Mar/18 10:41 PM,22/Oct/19 7:30 PM,28/Oct/23 2:21 AM,22/Oct/19 7:30 PM,,,,,Future,,,,,0,idemix,,,,,Add support for diclosing attributes via a commitment with the opening and the attribute values provided in the transient data filed of the transaction (available only to the chaincode and not added to the ledger),,dubovitskaya,heatherp,raidinesh80,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12759,,,,,,,,,"1|hzz1nr:",,,,,,,,,,,,,,,,,,,,,,,,,dubovitskaya,heatherp,raidinesh80,,,,,,,,,,,,,,,,,"22/Oct/19 7:30 PM;heatherp;Raised over a year ago - more detail required, so closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
upgrade dependencies,FABJ-155,31528,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,osesov,osesov,02/Jul/18 8:27 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/Jul/18 3:42 AM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,"gerrit patch https://gerrit.hyperledger.org/r/#/c/24285/

fabric-java-sdk refers to grpc 1.11.0, which depends on netty 4.1.23, with infinite loop bug described [here|https://github.com/netty/netty/issues/7877]. Corresponding GRPC bug is [here|https://github.com/grpc/grpc-java/issues/4495].
 That bug was fixed in netty 4.1.24 (grpc v1.13.1)

Bug appears during long runs, with ObjectCleaner consuming 100% CPU. Replacing grpc with 1.10.1 works fine for me. Did not try v1.13.1 yet due to other reasons",,osesov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzguf:",,,,,,,,,,,,,,,,,,,,,,,,,osesov,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.0.1 release start.,FABJ-156,19230,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,13/Jul/17 10:10 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jul/17 4:34 AM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy88n:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
custom endorsement policy support,FABJ-157,15528,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,rickr,rickr,31/Mar/17 5:28 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,06/Apr/17 8:57 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"

https://gerrit.hyperledger.org/r/#/c/7683/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx36f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix remaining compile warnings,FABJ-158,17306,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,31/May/17 7:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/Jun/17 3:01 AM,,,,,v1.0.0,,,,,0,,,,,,Fix remaining compile warnings in src/main/java.,,bestbeforetoday,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxv3:",,,,,,,,,,,,,,,,,,,,,,,,,bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for the fabric-sdk-java code base,FABJ-159,17818,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,13/Jun/17 8:58 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Jun/17 11:17 PM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy1in:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include META-INF in chaincode packaging.,FABJ-160,27856,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,denyeart,denyeart,20/Feb/18 10:00 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Mar/18 1:05 AM,,,,,v1.1.1,,,,,0,java-SDK,must-fix,Release-planning-1.1,Release-planning-1.1-PostAlpha,sdk,"When installing chaincode, need to package CouchDB indexes in chaincode tar.  For details, see the Node SDK work item: FAB-8345.

 

https://gerrit.hyperledger.org/r/#/c/18171/",,denyeart,rickr,,,,,,,,,,,,,,,,,,,,,,,,,FABN-33,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy5z:",,,,,,,,,,,,,,,,,,,,,,,,,denyeart,rickr,,,,,,,,,,dev,main,,,,,,true,"20/Feb/18 10:06 PM;rickr;Java sdk just packages up the files to tgz. I see no reason if this is just  file it does not work.

[~denyeart] Please provide testcase and Java SDK logs;;;","20/Feb/18 10:46 PM;denyeart;[~rickr] See FAB-8345 for details and examples.  The META-INF needs to be at the top level of the packaged tar (similar to a java archive), not within the ""src"" directory.;;;","21/Feb/18 12:46 AM;rickr;There were no requirements given to do this till now.  If there were AND it didn't work I'd agree it was a bug.

 ;;;","28/Feb/18 12:36 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/18171/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Add extra debug log level,FABJ-161,15272,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,09/Mar/17 5:34 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Apr/17 12:07 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"In some cases, we do logger.debug() on protobuf fields that turn out to be long strings of hex characters, e.g. response signature.

These make debug logs hard to read.  

Investigate creating another debug log level so that we don't print out these long hex blocks as a matter of cource.",,rickr,tuand,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnnb:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,zerppen,,,,,,,,,,,,,,,,,"13/Mar/17 4:58 AM;rickr;How about something simple for now.  Suggestion we add to Config  a logLevel that returns an integer.   0 is NONE.  Which is the default.
We wrapper those statements with: 
if(config.getLogLevel() > 10){
logger.debug(""blah blah blah "") 
}

This won't break when and if we go to another logger .. which we may do.;;;","18/Apr/17 12:06 AM;rickr;This for now has been achieved by moving big logging items to  a trace level. ;;;","19/Apr/17 3:47 PM;zerppen;[~tuand] Can we consider switching to slf4j from apache common logging.It's convenient.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use cryptogen tls,FABJ-162,16438,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,08/May/17 9:10 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 9:04 PM,,,,,v1.0.0,,,,,0,,,,,,"Use cryptogen tls artifacts

 

https://gerrit.hyperledger.org/r/#/c/9063/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxu2f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Link to ChaincodeEndorsementPolicy.java in README.md is incorrect,FABJ-163,18258,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,rickr,sqwerrels,sqwerrels,17/Jun/17 5:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jul/17 4:43 AM,,,,,v1.0.0,,,,,0,Documentation,,,,,"If you go to [https://github.com/hyperledger/fabric-sdk-java] and go to the Chaincode Endorsement Policy section, it says ""To input a policy to the SDK, use the [ChaincodeEndorsementPolicy class|https://gerrit.hyperledger.org/r/gitweb?p=fabric-sdk-java.git;a=blob;f=src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java;h=b67b5514b1e26ffac71210a33d788b83ee7cf288;hb=HEAD]."" but the hyperlink sends the user to the Certificate class instead, even though the page says ChaincodeEndorsementPolicy. Clicking on the chaincodeEndorsementPolicy on that page does return the right raw file though somehow.",,ChristopherFerris,rickr,sqwerrels,,,,,,,,,300,300,,0%,300,300,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy4kn:",,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rickr,sqwerrels,,,,,,,,,,,,,,,,,"02/Jul/17 1:54 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10925/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JAVA SDK not able to deploy Java Chaincode,FABJ-164,19444,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,netfox5,netfox5,24/Jul/17 10:46 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,26/Jul/17 10:45 PM,v1.0.0,,,,WON'T FIX,,,,,0,java-SDK,,,,,"Method createNetModeTransaction of class org.hyperledger.fabric.sdk.transaction.InstallProposalBuilder has the following line:

{{            case JAVA:}}

{{                // chaincodePath is not applicable and must be null}}
{{                // chaincodeSource may be a File or InputStream}}

{{                //   Verify that chaincodePath is null}}
{{                if (null != chaincodePath) \{}}
{{                    throw new IllegalArgumentException(""chaincodePath must be null for Java chaincode"");}}
{{                }}}

However, {{chaincodePath}} can never be null because getChaincodePath of org.hyperledger.fabric.sdk.TransactionRequest always returns an empty String and not null:

{{    public String getChaincodePath() \{}}
{{        return null == chaincodePath ? """" : chaincodePath;}}
{{    }}}",,netfox5,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-220,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9i7:",,,,,,,,,,,,,,,,,,,,,,,,,netfox5,rickr,,,,,,,,,,,,,,,,,,"24/Jul/17 11:00 PM;rickr;Java chain code is not supported by fabric and thus not the SDK;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add missing CCBY license to all .md and .rst files,FABJ-165,17386,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/Jun/17 7:59 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Jun/17 10:17 PM,v1.0.0-alpha2,,,,v1.0.0-beta,,,,,0,Quality,,,,,,,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,FAB-4212,FAB-4379,,,FABC-561,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxy93:",,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rickr,,,,,,,,,,dev,main,,,,,,true,"02/Jun/17 8:02 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/#/c/10045/;;;","02/Jun/17 10:17 PM;rickr;Merged in I'll go with the assumption that concludes this JIRA's work.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK fixes for Connection profile and verify certs,FABJ-166,29466,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,mrshah-ibm,mrshah-ibm,18/Apr/18 11:17 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,27/Apr/18 12:23 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Currently the connection profile uses the following format for TLS CA Certs:
{quote}""tlsCACerts"": \{
 ""pem"": ""-----BEGIN CERTIFICATE-----....""
 },
{quote}
We tried providing concatenated root certificates for all our peers/orderers in the pem string. But Java SDK fails to load all of those and uses the first one in the concatenated certificate. Thus, the connection fails to some of the components.

We would like to propose an array of TLS CA Certs in the connection profile which would help load each cert in the Java SDK:

 
{quote}""tlsCACerts"":[ \{
 ""pem"": ""-----BEGIN CERTIFICATE-----....""
 },\{
""pem"": ""-----BEGIN CERTIFICATE-----....""
},\{
""pem"": ""-----BEGIN CERTIFICATE-----....""
}],
{quote}
 

This will require a change in Java SDK and as the connection profile will change, it will need a change in Node SDK.

 

Please note this issue is when the SDK connects to the CA (http) and to the peer/orderer (grpc) as well.

gerrit CR https://gerrit.hyperledger.org/r/#/c/20917/",,huy.tranibm,mrshah-ibm,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6an:",,,,,,,,,,,,,,,,,,,,,,,,,huy.tranibm,mrshah-ibm,rickr,,,,,,,,,dev,main,,,,,,true,"18/Apr/18 9:39 PM;rickr;I found a library call that parses a stream of certficates .. given that I'd hold of making the change above;;;","24/Apr/18 10:15 PM;rickr;Provided fix  so when an eventhub url is provided and a eventhub is created we don't also produce an eventing peer.
   Should be enough to work with 1.0.x networks.
Provided a means to discover which channel names are available to load from the configuation.
Fixed issue where failed to verify certficates produce by CA with extra attributies.
Pembytes and Pemfiles with multiple certs should be working.
Fixed several streams not being closed properly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parse non-PKCS8 encoded TLS private keys,FABJ-167,28146,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,01/Mar/18 9:50 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,03/Mar/18 3:17 AM,,,,,v1.1.0,,,,,0,,,,,,CryptoPrimitives.bytesToPrivateKey fails to parse private keys which have a *BEGIN PRIVATE KEY* header. Plaintext PKCS8-encoded keys with a *BEGIN EC PRIVATE KEY* work fine.,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzi7:",,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,dev,main,,,,,,true,"01/Mar/18 9:53 PM;mastersingh24;https://gerrit.hyperledger.org/r/18587;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
getEventHubs() and getPeers() return empty set,FABJ-168,20808,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sajeevkhan,ChristopherFerris,ChristopherFerris,14/Sep/17 12:22 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Sep/17 6:59 PM,,,,,,,,,,0,,,,,,"Hi,

I am trying to fetch the complete details of a channel using JAVA SDK. The channel is already created successfully with multiple peers joined already on it. There are a couple of eventHubs added to the channel.

Later, I am trying to fetch the channels on the peer as follows

Set<String> channels = client.queryChannels(peer); And then I get the details of the Channel as follows:

Channel channel = client.newChannel(channelName);

 And then I try to get the Peers and Eventhubs as follows:

Collection<EventHub> eventHubs = channel.getEventHubs();

Collection<Peer> peers = channel.getPeers();

 However, the eventHubs and peers are always returned empty. Am I missing something here? 

Regards

Sajeev",,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygd3:",,,,,,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,,"14/Sep/17 12:40 AM;rickr;The client does not persist anything of the channel.  
 See examples

End2endIT  constructs an initial channel, joins peers executes chaincode etc.

End2endAndBackAgainIT recreates from an existing channel to execute chaincode etc.

 

Directly from the READM.md

Note, the SDK does ***not*** provide a means of persistence
  for the application defined channels and user artifacts on the client. This is left for the embedding application to best manage.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The server failed to respond with a valid HTTP response,FABJ-169,14988,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,smithbk,sodiaan,sodiaan,22/Feb/17 10:24 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Mar/17 12:53 AM,,,,,v1.0.0,,,,,0,,,,,,"Exception in thread ""main"" org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user admin 
        at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:312)
        at org.hyperledger.fabric.sdk.User.enroll(User.java:238)
        at org.hyperledger.fabric.sdk.Chain.enroll(Chain.java:560)
        at App.main(App.java:144)
Caused by: org.apache.http.client.ClientProtocolException
        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)
        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)
        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:55)
        at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.httpPost(MemberServicesFabricCAImpl.java:352)
        at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:283)
        ... 3 more
Caused by: org.apache.http.ProtocolException: The server failed to respond with a valid HTTP response
        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:151)
        at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)
        at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:261)
        at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:165)
        at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)
        at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:272)
        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:124)
        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)
        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)
        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)
        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)

for code https://gist.github.com/anonymous/a744c24d82cc761f897355c146fdaffe

membersrvc_1 | 2017/02/22 13:21:25 transport: http2Server.HandleStreams received bogus greeting from client: ""POST /api/v1/cfssl/enrol""",,rickr,smithbk,sodiaan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlrr:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,smithbk,sodiaan,,,,,,,,,,,,,,,,,"22/Feb/17 10:42 PM;rickr;More than likely your fabric_ca is set up for TLS.
Check the testconfig.json make sure tls is disabled.
{
 ""tls_disable"":true,;;;","22/Feb/17 10:46 PM;sodiaan;Where I can find testconfig.json ?
I'm using docker.;;;","22/Feb/17 10:50 PM;rickr;Keith could you please update the README.md   with some instructions on disabling TLS if this is the issue.;;;","22/Feb/17 11:37 PM;smithbk;Rick, I would need some help in reproducing this, but first I have a recommendation for Di.

fabric-ca is in transition and we are breaking the server and client into 2 separate executables.
See https://jira.hyperledger.org/browse/FAB-2012
We are almost complete and I'll update the docs when done and the fabric-ca executable will
actually be going away.

So my recommendation is to use the fabric-ca-server command and see if this is still a problem.
It is very easy to use.

To install both the client and server: go get github.com/hyperledger/fabric-ca/cmd/...

To start the server:
    fabric-ca-server start -u admin:adminpw

Arg, there is a change set which is about to be merged which changes the ""-u"" option to ""-b"" for the bootstrap user,
so if ""-u"" doesn't work, try ""-b"" which is what it will eventually be.  This will create a default configuration fie for you
with the ""admin"" user and password ""adminpw"" as the bootstrap user.  It listens with TLS disabled by default.;;;","13/Mar/17 5:39 AM;rickr;Can we close this I think it was user error .. I've not see any such issues.;;;","19/Mar/17 12:53 AM;rickr;Closing as I asked 5 days ago on a response if we recreated.  I've not seen this reported [~sodiaan]  Please get the latest HLJSDK and Fabric Fabric_ca and see if you can reproduce and reopen this with detailed logs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide common handling for Seek,FABJ-170,19302,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,18/Jul/17 1:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Jul/17 9:27 PM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,"Make sure all Orderer block seeks handle 404 and 503 with some retry capability.

Code cleanup put common code in one place.",,mastersingh24,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-242,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8on:",,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rickr,,,,,,,,,,dev,main,,,,,,true,"18/Jul/17 4:42 AM;mastersingh24;Is this a bug or is this fixing the current design?;;;","18/Jul/17 4:45 AM;rickr;Both – wasn't handling 503 response for all request. Instead of duplicating code cleaned it up to have a common method.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK unnecessarily creating tgz file .,FABJ-171,16885,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,19/May/17 7:11 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/May/17 10:26 PM,,,,,v1.0.0,,,,,0,,,,,,SDK unnecessarily creating tgz file .,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxw3z:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
can not set property 'ordererWaitTimeMilliSecs' for OrdererClient,FABJ-172,19313,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,hongquan.zhang,hongquan.zhang,hongquan.zhang,18/Jul/17 6:07 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jul/17 7:05 PM,,,,,,,,,,0,java-SDK,,,,,"can not set property 'ordererWaitTimeMilliSecs' for OrderClient

'","ubuntu 14.04

fabric-sdk-java",gangmax,hongquan.zhang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8pr:",,,,,,,,,,,,,,,,,,,,,,,,,gangmax,hongquan.zhang,,,,,,,,,,,,,,,,,,"27/Jul/17 9:53 PM;gangmax;h3. Hi, I'm facing this issue. When will this fix be released? Thanks!

 

 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bad handling of failed responses,FABJ-173,20110,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,11/Aug/17 5:01 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,15/Aug/17 3:27 AM,v1.0.0,,,,v1.0.1,,,,,0,,,,,,Bad handling of failed responses resulted in NPE instead of better handling or better exceptions,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzycpr:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"11/Aug/17 5:09 AM;rickr;https://gerrit.hyperledger.org/r/#/c/12331/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple orgs always failed!,FABJ-174,28144,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,,zerppen,zerppen,01/Mar/18 8:34 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,02/Mar/18 5:30 PM,,,,,v1.1.0,,,,,0,,,,,,"My intention is to create a channel for multiple orgs by javaSDK.

I tested goSDK is good for multiple orgs using this tx file:

`[https://github.com/hyperledger/fabric-sdk-go/blob/master/test/fixtures/fabric/v1.1.0-alpha/channel/orgchannel.tx]`

Cause there is no example for multiple orgs channel by javaSDK,I did this test.

Firstly,I constructed a channel by this tx file and joined peers of org1 successfully,but joined peers org2 failed because signature.

Then,I reconstructed this channel ,and joined peers org2 successfully by MSP org2 's admin user.

Lasted,when excuted channel.initialize(),it got error message :

""Handler dispatch failed; nested exception is java.lang.AssertionError: org.hyperledger.fabric.sdk.exception.EventHubException: UNKNOWN: event message must be properly signed by an identity from the same organization as the peer: [failed deserializing event creator: [Expected MSP ID Org1MSP, received Org2MSP]]""

 

For org1,Channel addEventHub by client of org1's  admin user.

 

If this is not a BUG,given a example for multiple orgs please!",,rickr,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzhr:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,zerppen,,,,,,,,,,,,,,,,,,"01/Mar/18 8:56 PM;rickr;Here's the example of how two organization work to gether on a channel 
 [https://github.com/cr22rc/fabricSDKJavaMultiDomainSample

 
|[https://github.com/cr22rc/fabricSDKJavaMultiDomainSample]]
 
Make sure you're running latest V1.1.0-SNAPSHOT 
 Not   V1.1.0-alpha|;;;","02/Mar/18 5:31 PM;zerppen;thx,it works. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EventHub error thrown in channel creation with multi-organization,FABJ-175,20729,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,suganuma,suganuma,suganuma,11/Sep/17 11:49 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Sep/17 10:56 PM,WON'T FIX,,,,WON'T FIX,,,,,0,java-SDK,,,,,"When creating a channel that have peers and event hubs from two organizations (peerOrgs), we have to set the user context of the client instance to peerAdmin of the corresponding organization.

However, this causes an event hub error as shown below]:

2017-09-08 02:08:10,800 ERROR EventHub:208 - EventHub:peer0.org1.example.com terminated is false shutdown is false has error UNKNOWN: event message must be properly signed by an identity from the same organization as the peer: [failed deserializing event creator: [Expected MSP ID Org1MSP, received Org2MSP]]

This is because Channel.initialize() method simply tries to connect all event hubs with the same (current) user context. So the last setting of user context (Org2MSP in this case) was used for the connection to the event hub peer0.org1.example.com, causing an incorrect MSP ID error. To fix this problem, each EventHub instance should have its own user context to be used in the connection.",,peoplehlj,rickr,ryokawajp,suganuma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/17 4:51 PM;peoplehlj;eventhub-connect-own-usercontext.patch;https://jira.hyperledger.org/secure/attachment/12087/eventhub-connect-own-usercontext.patch","13/Sep/17 4:54 PM;peoplehlj;image-2017-09-13-15-53-59-635.png;https://jira.hyperledger.org/secure/attachment/12088/image-2017-09-13-15-53-59-635.png",,,,,,,,,,,,,,,,,,,,,,,"1|hzyfzj:",,,,,,,,,,,,,,,,,,,,,,,,,peoplehlj,rickr,ryokawajp,suganuma,,,,,,,,,,,,,,,,"12/Sep/17 1:47 AM;rickr;Not a bug.  Not a valid use case.  One organization will not have another organizations credentials to listen to their eventhub.  There is a future change coming by the fabric with acl policies that allows another organization to listen to its evenhub. When that's in place and the acl have been done you should be able to do this with a single user context;;;","12/Sep/17 3:01 PM;suganuma;I think you don't mean that we have to create a separate channel for each organization, right? Otherwise, the endorsement policy from multiple organizations doesn't make sense.

I guess what you mean is that we have to use a separate client instance to add peers and event hubs from different organizations into a channel. Is this correct? If we look at node-sdk e2e example (fabric-sdk-node/test/integration/e2e/join-channel.js), it assumes multiple organizations, but uses a new instance of client and channel to add peers and event hubs for each organization.

In node-sdk, the event hub class has its own client context, which is used in connection (_sendRegistration(register)). My fixed code in java-sdk was just to do the same.;;;","13/Sep/17 4:51 PM;peoplehlj;Hi [~suganuma] thank you for raising this issue, I encountered the same issue and also I asked in the chat as below. And then I fixed this issue like you mentioned: the event hub connect its own user context, and the code change is easy: [^eventhub-connect-own-usercontext.patch] .

!image-2017-09-13-15-53-59-635.png!;;;","13/Sep/17 4:57 PM;peoplehlj;By the way [~suganuma], could you invoke chaincode in the channel of AND policy, I always met below error. If you could invoke successfully, could you give me some sample code, thanks in advance.
{code:java}
2017-09-11 08:34:29.936 UTC [txvalidator] VSCCValidateTxForCC -> ERRO 7c1 VSCC check failed for transaction txid=241cc77c3ecb0f988be4244ecfb5630f3b58bf582a39d6e1f9ac41d0f707dd45, error VSCC error: policy evaluation failed, err Failed to authenticate policy
2017-09-11 08:34:29.936 UTC [lockbasedtxmgr] Done -> DEBU 7c2 Done with transaction simulation / query execution [c613a69b-6f5c-48f1-8f38-09d323ca4da4]
2017-09-11 08:34:29.936 UTC [txvalidator] Validate -> ERRO 7c3 VSCCValidateTx for transaction txId = 241cc77c3ecb0f988be4244ecfb5630f3b58bf582a39d6e1f9ac41d0f707dd45 returned error VSCCValidateTxForCC failed for cc trace, error VSCC error: policy evaluation failed, err Failed to authenticate policy
{code};;;","13/Sep/17 10:12 PM;rickr;Saying it's not a valid use case. If your FORD and GM work on BC.  Ford WON'T have GM's credentials (user context credentials) and visa versa.  FORD can send to it's PEER's and GM's PEERs for endorsement.  But today only FORD can listen to it's own eventhub.  There's work in progress that will allow for example GM through access control policies allow FORD to listen to it's eventhub using it's OWN (FORD's) credentials (user context).  Set up that way when it's available WOULD allow you to add FORD and GM""S eventhub to the channel and initialize.;;;","14/Sep/17 1:37 AM;rickr;https://jira.hyperledger.org/browse/FAB-5695  ACL eventhub;;;","14/Sep/17 4:05 PM;peoplehlj;Thank you [~rickr] for clarifying, I will watch the FAB-5695.;;;","16/Oct/17 12:04 PM;ryokawajp;Hi [~rickr]  and [~suganuma], I had the same issue when sending usual Invoke transactions. And thank you for the patch, [~peoplehlj].

I agree that the event hub connection should be restricted the users of the same org, thus the peers to be listened are limited to one peer.

However, since I followed the guidance in the following document, I set the user's organization and the peer's organization to have different MSPIDs.
 * Sub-section 3) of Best Practice section [https://hyperledger-fabric.readthedocs.io/en/latest/msp.html#best-practices]

In the business level, the users and the peer are in the same organization (enterprise) but they could use different MSPIDs because of some administration purpose (So I assumed that it is ok to manage the user keys/certs of both orgs within a client).

Anyway, I will also be watching FAB-5695. Thank you.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java e2e tests are failing intermittently in CI,FABJ-176,18969,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rameshthoomu,rameshthoomu,05/Jul/17 10:44 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jul/17 1:54 AM,v1.0.0-rc1,,,,WON'T FIX,,,,,0,java-SDK,,,,,"Observed java e2e tests are failing intermittently with timeout error.  Below are the failures
*00:19:03.611* Tests run: 17, Failures: 2, Errors: 0, Skipped: 2, Time elapsed: 25.396 sec <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite*00:19:03.613* setup(org.hyperledger.fabric.sdkintegration.End2endIT)  Time elapsed: 11.951 sec  <<< FAILURE!*00:19:03.613* java.lang.AssertionError: Send transactions failed. Reason:  timeout*00:19:03.613* 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:209)*00:19:03.614* *00:19:03.614* setup(org.hyperledger.fabric.sdkintegration.End2endAndBackAgainIT)  Time elapsed: 0.956 sec  <<< FAILURE!*00:19:03.614* java.lang.AssertionError: Peer peer0.org1.example.com does not appear to belong to channel foo*00:19:03.614* 	at org.hyperledger.fabric.sdkintegration.End2endAndBackAgainIT.reconstructChannel(End2endAndBackAgainIT.java:503)*00:19:03.614* 	at org.hyperledger.fabric.sdkintegration.End2endAndBackAgainIT.setup(End2endAndBackAgainIT.java:163)
 
*00:19:03.932* Failed tests: *00:19:03.932*   End2endAndBackAgainIT.setup:163->reconstructChannel:503 Peer peer0.org1.example.com does not appear to belong to channel foo*00:19:03.932*   End2endIT.setup:209 Send transactions failed. Reason:  timeout*00:19:03.932* *00:19:03.932* Tests run: 17, Failures: 2, Errors: 0, Skipped: 2
 ",,harsha544,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6wv:",,,,,,,,,,,,,,,,,,,,,,,,,harsha544,rameshthoomu,rickr,,,,,,,,,,,,,,,,,"18/Jul/17 1:53 AM;rickr;Not seeing this happen - so closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create join channel fail. e2e tests,FABJ-177,15971,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rameshthoomu,rameshthoomu,25/Apr/17 12:58 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/May/17 8:43 PM,,,,,v1.0.0,,,,,0,java-SDK,quality,,,,"While running fabric-sdk-java e2e tests, observed proposal is failed while joining channel. Below is the error log, commit levels and build reference

{code:java}
00:17:44.196 Created chain foo

00:43:29.162 2017-04-23 15:23:23 ERROR Chain:2105 - Sending proposal to peer1 failed because of gRPC failure=Status{code=UNKNOWN, description=""JoinChain"" request failed authorization check for channel [foo]: [Failed verifying that proposal's creator satisfies local MSP principal during channelless check policy with policy [Admins}: [This identity is not an admin]], cause=null}

00:43:29.162 java.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: ""JoinChain"" request failed authorization check for channel [foo]: [Failed verifying that proposal's creator satisfies local MSP principal during channelless check policy with policy [Admins}: [This identity is not an admin]]
{code}

https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/4/consoleFull

{code:java}

fabric_commit=8ce1073
ca_commit=09107e7
fabric_sdk-Java=e2e823d
{code}
",Jenkins CI,kchristidis,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5pb:",,,,,,,,,,,,,,,,,,,,,,,,,kchristidis,rameshthoomu,rickr,,,,,,,,,dev,main,,,,,,true,"25/Apr/17 1:03 AM;rickr;Was broken by fabric: 
```
commit 5e42d41f1297fa4e3e3d24304ed3350a24aea5f7 PS12 FAILED 
Merge: bac1fad e63c915 Author: Yacov Manevich <yacovm@il.ibm.com>
Date:   Thu Apr 20 16:12:51 2017 +0000

    Merge ""[FAB-2969] Access control at CSCC"";;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java e2e tests are getting stuck after successfuly sent channel to orderer,FABJ-178,17230,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rameshthoomu,rameshthoomu,30/May/17 4:19 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jun/17 6:07 AM,v1.0.0-alpha2,,,,v1.0.0,,,,,0,java-SDK,,,,,"Observed java e2e tests are getting stuck after successfully create foo channel sent to orderer. As the tests are getting stuck, builds failing after 50 mins build timeout. Below is the log before getting stuck

{code:java}
00:11:51.945* 2017-05-29 18:27:19,865 DEBUG Channel:2289 - Channel foo successful sent to Orderer transaction id: 6c16b9d592087983e8af253a92cf7d42bf50f9fbb7a9956d1bb5ca8167de249f*00:50:16.816* Build timed out (after 50 minutes). Marking the build as failed.
{code}

Observed same error message from this fabric sdk java commit level **033d05b**

https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/103/console

 ",,andrasfe,pvrbharg,rameshthoomu,rickr,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,FAB-4588,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxdr:",,,,,,,,,,,,,,,,,,,,,,,,,andrasfe,pvrbharg,rameshthoomu,rickr,,,,,,,,,,,,,,,,"07/Jun/17 3:07 AM;pvrbharg;Hi - this is an IBMer working with one of our customer and this is a blocking issue for us at this point. Customer can not progress unless this issue is resolved and customer can consistently reproduce this issue on multiple test machines. Customer developer posted this issue yesterday in our Chat channel under name rohit bordia.

 

WE NEED RESOLUTION or work-around guidance please and let us know what needs to be done to get help on this. Thanks.;;;","07/Jun/17 1:00 PM;andrasfe;same issue here. HJanging in 

public CompletableFuture<TransactionEvent> sendTransaction(Collection<ProposalResponse> proposalResponses, Collection<Orderer> orderers)

 

sdk example log (End2endIT):

2017-06-06 16:27:39,967 DEBUG Channel:2230 - Channel foo sending transaction to orderer(s) with TxID 092921bf964cc731827ceeff053eda4fee81c96ce9fc784e080085e8692db56a

2017-06-06 16:27:39,968 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050

2017-06-06 16:27:57,381 DEBUG OrdererClient:100 - resp status value: 200, resp: SUCCESS

2017-06-06 16:28:04,532 DEBUG OrdererClient:136 - Done waiting for reply! Got:status: SUCCESS

 

2017-06-06 16:28:04,533 DEBUG Channel:2254 - Channel foo successful sent to Orderer transaction id: 092921bf964cc731827ceeff053eda4fee81c96ce9fc784e080085e8692db56a

 

The following error is from

docker logs peer0.org1.example.com:

 

2017-06-07 03:58:55.405 UTC [ConnProducer] NewConnection -> ERRO 5b6 Failed connecting to orderer:7050 , error: grpc: timed out when dialing

2017-06-07 03:58:55.405 UTC [deliveryClient] connect -> ERRO 5b7 Failed obtaining connection: Could not connect to any of the endpoints: [orderer:7050]

2017-06-07 03:58:56.193 UTC [gossip/gossip] Gossip -> WARN 5b8 Failed obtaining gossipChannel of [116 101 115 116 99 104 97 105 110 105 100] aborting

2017-06-07 03:58:59.408 UTC [ConnProducer] NewConnection -> ERRO 5b9 Failed connecting to orderer:7050 , error: grpc: timed out when dialing

2017-06-07 03:58:59.408 UTC [deliveryClient] connect -> ERRO 5ba Failed obtaining connection: Could not connect to any of the endpoints: [orderer:7050]

 

 ;;;","13/Jun/17 5:11 AM;andrasfe;just pulled the latest version (1.0.0-beta), ran the End2endIT.java unit test, and got the same hanging scenario as before:

 +*Unit test logs:*+

2017-06-12 20:02:30,433 DEBUG Channel:2253 - Channel foo sending transaction to orderer(s) with TxID 62cb3da27b197b5b78f86181b583da52e3442d6330265dd976f7e9ca3b594632

2017-06-12 20:02:30,433 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050

2017-06-12 20:02:30,441 DEBUG OrdererClient:107 - resp status value: 200, resp: SUCCESS

2017-06-12 20:02:30,441 DEBUG OrdererClient:147 - Done waiting for reply! Got:status: SUCCESS

 

2017-06-12 20:02:30,442 DEBUG Channel:2281 - Channel foo successful sent to Orderer transaction id: 62cb3da27b197b5b78f86181b583da52e3442d6330265dd976f7e9ca3b594632

 

*docker logs peer0.org1.example.com*

2017-06-12 20:02:36.214 UTC [ConnProducer] NewConnection -> ERRO 3a0 Failed connecting to orderer.example.com:7050 , error: context deadline exceeded

2017-06-12 20:02:36.214 UTC [deliveryClient] connect -> ERRO 3a1 Failed obtaining connection: Could not connect to any of the endpoints: [orderer.example.com:7050];;;","13/Jun/17 5:21 AM;pvrbharg;This is Bhargav Perepa - an IBMer onsite and I can see the issue unresolved and still be present in the Beta release code. Please advise on next steps and expected resolution time frames.;;;","13/Jun/17 6:07 AM;rickr;[~andrasfe]  [~pvrbharg] I'm closing this JIRA as it was resolved and working 29 May and verified.  Each of you please open a *new* JIRA  so they can be tracked separately.   Provide full logs of client and peer/orderer and describe the scenario about how if's being run.

Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chain cleanup,FABJ-179,15354,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denisgaebler,denisgaebler,15/Mar/17 12:26 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Apr/17 6:51 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"JVM never terminates due to Executors Thread Pool - expose interface to cancel or access completablefutures in Chain.java

Hi,

when running the fabric sdk in a single main with no threading from the callers end, the JVM never terminates after any successful query or invoke calls with the hyperledger SDK.
When looking at the JVM threads the threads from the executor threadpool can be seen.
While this is ok for a server or long running jvm to keep the threadpool, when just running a java main, it is expected that the JVM terminates, but it does not.

Exposing the Executors es did not help, because the shutdown or shutdownnow methods just cause the threads to interrupt, they do not terminate.
I would like to have the completablefutures to be exposed on the chain object with a public method to be able to explicitly terminate it. Maybe a chain.terminate() or chain.close() method would be great.

I saw the comments on timeout, but thats not what is needed, the JVM should not continue to run for x seconds (=timeout value) until the timeout hits after the replys.

I have also noticed that some of the threads disappear after 60 seconds (the grpc channels) but there are threads that remain active.

Thanks, Denis.",,denisgaebler,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5tr:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,denisgaebler,rickr,,,,,,,,,,dev,main,,,,,,true,"10/Apr/17 4:50 AM;rickr;Have a fix for this locally. ;;;","11/Apr/17 7:05 AM;rickr;I don't think that was the main cause.  But this high lighted the need for a cleanup aka shutdown chain that will clean up resources. 
Even without calling the shutdown I think you'll see the process come to an end.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Infinite wait on slow channel update,FABJ-180,20295,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,19/Aug/17 6:21 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,23/Aug/17 9:39 PM,v1.0.1,,,,v1.1.0,,,,,0,,,,,,Infinite wait on slow channel update,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzydnj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When a block contains multiple transactions with events assigned to the same handler, only one event would fire",FABJ-181,22715,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,osesov,osesov,osesov,20/Oct/17 8:21 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,20/Oct/17 11:51 PM,,,,,v1.1.0,,,,,0,,,,,,"In the recently committed code,  due to using hash map (event handler->event), only a single event would be kept to fire

 

Channel.java:
{code:java}
HashMap<ChaincodeEventListenerEntry, ChaincodeEvent> matches = new HashMap<>();{code}

https://gerrit.hyperledger.org/r/#/c/14731/",,osesov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzykdj:",,,,,,,,,,,,,,,,,,,,,,,,,osesov,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install and instantiate requests need to be made public,FABJ-182,15187,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,03/Mar/17 10:24 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,04/Mar/17 2:14 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Install and instantiate requests need to be made public. 
Fix tests to catch this issue.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmpj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
requires 'bundle org.apache.commons.lang 2.6.0' but it could not be found,FABJ-183,26824,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,gbohra,gbohra,16/Jan/18 7:49 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,31/Jan/18 7:40 AM,Not a Bug,,,,Not a Bug,,,,,0,,,,,,"Hi 

During setup of eclipse I followed  step by step process written into Eclipsesetup.md however during step 6 I found following dependence error : How to resolve it ?

Cannot complete the install because one or more required items could not be found.
 Software being installed: Checkstyle configuration plugin for M2Eclipse 1.0.0.201705301746 (com.basistech.m2e.code.quality.checkstyle.feature.feature.group 1.0.0.201705301746)
 Missing requirement: M2Eclipse Project Configurator for Eclipse Checkstyle 1.0.0.201705301746 (com.basistech.m2e.code.quality.checkstyle 1.0.0.201705301746) requires 'bundle org.apache.commons.lang 2.6.0' but it could not be found
 Cannot satisfy dependency:
 From: Checkstyle configuration plugin for M2Eclipse 1.0.0.201705301746 (com.basistech.m2e.code.quality.checkstyle.feature.feature.group 1.0.0.201705301746)
 To: com.basistech.m2e.code.quality.checkstyle [1.0.0.201705301746]",,gbohra,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzythb:",,,,,,,,,,,,,,,,,,,,,,,,,gbohra,rickr,skarim,,,,,,,,,,,,,,,,,"17/Jan/18 12:54 AM;skarim;[~gbohra] What version of eclipse are you using?;;;","18/Jan/18 9:46 PM;gbohra;Hi 

I am using following version of myeclipse 

MyEclipse Enterprise Workbench

Version: 10.1
Build id: 10.1-20120316

(c) Copyright Genuitec, L.L.C. 2000-2012. All rights reserved.
Visit http://www.myeclipseide.com/

This product includes software developed by the following
Eclipse Foundation http://www.eclipse.org/
Apache Software Foundation http://www.apache.org/;;;","19/Jan/18 2:49 AM;rickr;I don't see this as an SDK issue.  I think this should be worked with eclipse foundation.  I know of other eclipse users of the SDK and this issue is the first report of it.  [~gbohra] Can you please close this and work with Eclipse Foundation on resolving this ? 
Once identified the issue and you feel there is error or lacking in the Eclipse set up we'd welcome that feedback.;;;","31/Jan/18 7:40 AM;rickr;No activity on this and really not an SDK issue. - markng done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincodeInput deserializer ,FABJ-184,17159,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,liuwenliang0632,liuwenliang0632,liuwenliang0632,26/May/17 11:40 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/May/17 4:10 AM,v1.0.0-alpha2,,,,v1.0.0,,,,,0,java-SDK,,,,,"the parameter ""input"" of ChaincodeProposalPayload should be parsed by ChaincodeInvocationSpec.

and then the parameter ""input"" of ChaincodeInvocationSpec should be parsed by ChaincodeInput.

 the log will show:

Transaction action 1 has 5 chaincode input arguments

Transaction action 1 has chaincode input argument 0 is: *invoke*

Transaction action 1 has chaincode input argument 1 is: *move*

Transaction action 1 has chaincode input argument 2 is: *a*

Transaction action 1 has chaincode input argument 3 is: *b*

Transaction action 1 has chaincode input argument 4 is: *100*",,liuwenliang0632,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxx5r:",,,,,,,,,,,,,,,,,,,,,,,,,liuwenliang0632,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Update default test_chainid to testchainid,FABJ-185,14425,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,jimthematrix,jimthematrix,29/Jan/17 11:51 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Feb/17 4:08 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,due to https://gerrit.hyperledger.org/r/#/c/4931/,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,,,,,,,,FABN-561,,,,,,FAB-1839,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjgn:",,,,,,Sprint 10 - Java SDK,,,,,,,,,,,,,,,,,,,jimthematrix,rickr,,,,,,,,,,,,,,,,,,"01/Feb/17 4:09 AM;rickr;Done with FAB-1839;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New channel creation error,FABJ-186,18551,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,NancyRavi,NancyRavi,22/Jun/17 6:27 PM,19/Nov/20 7:28 PM,28/Oct/23 2:21 AM,19/Nov/20 7:28 PM,v1.0.0-alpha2,v1.0.0-beta,v1.4.0,,Not a Bug,,,,,0,external,java-SDK,sdk-triaged,v1.0,,"I am using fabric java sdk to access blockchain network. I want to know channel handling when we are restarting application without restarting fabric network. When i am creating channel without restarting fabric network, i am getting the following error.

***************End to End Flow****************

 

RUNNING: End2endIT.

Constructing channel <channelName>
 org.hyperledger.fabric.sdk.exception.TransactionException: New channel solar error. StatusValue 400. Status BAD_REQUEST
 at org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:234)
 at org.hyperledger.fabric.sdk.Channel.createNewInstance(Channel.java:1185)
 at org.hyperledger.fabric.sdk.HFClient.newChannel(HFClient.java:127)
 at com.cognizant.gto.digital.blockchain.JoinChannel.constructChannel(JoinChannel.java:748)
 at com.cognizant.gto.digital.blockchain.JoinChannel.setup(JoinChannel.java:187)
 at com.cognizant.gto.digital.blockchain.JoinChannel.main(JoinChannel.java:88)
 New channel solar error. StatusValue 400. Status BAD_REQUEST",,fedyiv,heatherp,mastersingh24,muralisr,NancyRavi,Ratnakar,rickr,scottz,,,,43200,43200,,0%,43200,43200,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy5an:",,,,,,,,,,,,,,,,,,,,,,,,,fedyiv,heatherp,mastersingh24,muralisr,NancyRavi,Ratnakar,rickr,scottz,,,,,,,,,,,,"22/Jun/17 9:09 PM;muralisr;[~NancyRavi] what level of fabric and sdk are you on ? And can  you provide exact steps and orderer logs as well please ? 

[~rickr];;;","22/Jun/17 9:16 PM;rickr;Please provide all the information in the README.md when opening a JIRA

[https://github.com/hyperledger/fabric-sdk-java] bottom;;;","22/Jun/17 9:21 PM;rickr;Reconstructing an existing channel is done in org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java

 ;;;","22/Jun/17 11:04 PM;Clayton Sims;Here is must gather information from README.md referenced above. 

 

TypeBug _or_ New FeatureComponentfabric-sdk-javaFix Versionsv1.0.0

Pleases provide as much information that you can with the issue you're experiencing: stack traces logs. Logging for the SDK can be enabled with setting environment variables:

ORG_HYPERLEDGER_FABRIC_SDK_LOGLEVEL=TRACE

ORG_HYPERLEDGER_FABRIC_CA_SDK_LOGLEVEL=TRACE

Fabric debug is by default enabled in the SDK docker-compose.yaml file with

On Orderer:

ORDERER_GENERAL_LOGLEVEL=debug

On peers: CORE_LOGGING_LEVEL=DEBUG

Fabric CA by starting command have the -d parameter.

Upload full logs to the JIRA not just where the issue occurred if possible;;;","23/Jun/17 10:52 PM;rickr;No other reports of this and appears to be a user error. For now moving down to medium priority since there's been no response from the submitter.;;;","23/Jun/17 11:35 PM;Ratnakar;[~bmos299] , [~scottz] and I discussed this, This can happen while trying to (re)create the channel that already exists on the blockchain network. When you rerun your unit tests (i.e. restart the application), but do not restart the blockchain network, you should not reexecute admin actions such as create channel. If those are part of the unit tests and cannot be separated, then you should restart the network every time you run the tests.

Consider: In a real production environment, *channel creation , Join channel, config update* etc., such operations will be taken care by the admin and hence that should be separated out from the application logic. Those things are saved in the blockchain network, even if you restart your application.


[~rickr]
Could we use this bug to enhance error message? Would we need to change the fabric or the SDK? We could provide more intuitive message like

        'cannot create; _*channel <channel-name> already exists'*_ 

instead of the current error message

        '_*StatusValue 400. Status BAD_REQUEST*_' ?

 ;;;","27/Jun/17 2:06 AM;mastersingh24;[~Ratnakar]  - unfortunately that is the message which comes back from the ordering service itself and there is actually no place to add any addtional message in the current structure.

I'd suggest we close this as not a bug and open a new improvement JIRA;;;","27/Jun/17 2:09 AM;rickr;Waiting for submitter response .. three workdays then close is my rule. :);;;","27/Jun/17 3:20 AM;scottz;We can agree to closure as suggested, and will open an Improvement jira.

I can think of two things that might be done, which are tightly coupled. Can I get agreement that we should create two Improvement tasks (one for fabric, and one for fabric-sdk-java)?  Here are the workitems. Let me know if anyone thinks otherwise:
 # I thnk an error response typically includes a status and a response-text field. When printing the status ( '_*StatusValue 400. Status BAD_REQUEST')*_, java sdk should also print the additional response text. Then it would not be up to the java sdk to interpret the response details, but just pass it along.
 # The orderer may or may not be providing a detailed response text already, to go along with status 400; someone could ensure that it does provide more detail for specific errors encountered such as this one, adding some text in the orderer response if necessary.;;;","27/Jun/17 2:49 PM;NancyRavi;Sorry for the delay. I went for the holiday. I have integrated fabric SDK Java with our application and deploying in Apache Tomcat. When I am restarting tomcat without restarting blockchain network, I got this error. *How to separate channel creation, join channel from the application? How is it persisted in blockchain network? _We are doing the transaction in particular channel while restarting the application, can we get already performed a transaction using transaction ID?_*;;;","27/Jun/17 8:22 PM;rickr;Look at End2endIT.java that does the channel creation, peer joins.   Look at End2endAndBackAgianIT.java to see how it recreates the chain to interact with it again.   Persistence *on the client side* (SDK) is left  to the application.  Look at  End2endAndBackAgianIT to see what it need to reconstruct the channel to interact with it.

Look at End2endIT for an example of queryBlockByTransactionID on the channel.;;;","28/Jun/17 1:38 PM;NancyRavi;I referred End2endIT and End2endAndBackAgianIT classes only. The following steps i tried now. 
 * Created java application and ran class which is similar to End2endIT. This step created channel and joined peers.
 * Created another java application and ran class which is similar to End2endAndBackAgianIT. I got the following error. Without restarting blockchain network, i have tried these steps.
 * RUNNING: End2endAndBackAgainIT

org.hyperledger.fabric.sdk.exception.InvalidArgumentException: setUserContext for user peerOrg1Admin has no Enrollment set
 at org.hyperledger.fabric.sdk.HFClient.setUserContext(HFClient.java:253)
 at com.cognizant.gto.digital.blockchain.End2endAndBackAgainIT.reconstructChannel(End2endAndBackAgainIT.java:419)
 at com.cognizant.gto.digital.blockchain.End2endAndBackAgainIT.setup(End2endAndBackAgainIT.java:147)
 at com.cognizant.gto.digital.blockchain.End2endAndBackAgainIT.main(End2endAndBackAgainIT.java:74)
setUserContext for user peerOrg1Admin has no Enrollment set
 ;;;","28/Jun/17 8:26 PM;rickr;Please use Rocket Chat for questions.

Your User interface need and Enrollment interface and you need to preserver that.

End2endAndBackAgainIT  depends on running End2endIT first

Please READ through the whole README.md it will tell you how to run the integration suite;;;","08/Jul/19 10:38 PM;fedyiv;Hi All,

this is an issue even in Fabric 1.4.

I understand that there are two methods in java sdk  - one for creation of new channel on real network

 
{code:java}
/**
 * Create a new channel
 *
 * @param name                           The channel's name
 * @param orderer                        Orderer to create the channel with.
 * @param channelConfiguration           Channel configuration data.
 * @param channelConfigurationSignatures byte arrays containing ConfigSignature's proto serialized.
 *                                       See {@link Channel#getChannelConfigurationSignature} on how to create
 * @return a new channel.
 * @throws TransactionException
 * @throws InvalidArgumentException
 */

public Channel newChannel(String name, Orderer orderer, ChannelConfiguration channelConfiguration,
                          byte[]... channelConfigurationSignatures) throws TransactionException, InvalidArgumentException {
{code}
{{and the other is just locally creating object of channel which was already configured in the network}}
{code:java}
/**
 * newChannel - already configured channel.
 *
 * @param name
 * @return a new channel.
 * @throws InvalidArgumentException
 */

public Channel newChannel(String name) throws InvalidArgumentException {{code}
 

{{But the issue is that there is no way to find out in advance if the channel is created or not(In case when there are no peers joined the channel). Solution where we try creating channel using first method and in case of exception using second method is ugly, because }}
 # {{it pollutes logs with exceptions}}
 # {{ The exception is too general and when we swallow it we might miss some real issue}}

{{Can you please either return some meaningful message or provide away to query orderer to find out if the required channel exists or not}};;;","22/Oct/19 7:29 PM;heatherp;Raised over a year ago, so closing;;;","22/Oct/19 7:35 PM;fedyiv;Hello [~heatherp]. Why is it closed? There is an issue which exists. Please see the last made just several month ago.;;;","22/Oct/19 7:43 PM;heatherp;Hi [~fedyiv] - Are you fixing it? it's not being actively worked by anyone in our team.;;;","22/Oct/19 7:47 PM;fedyiv;[~heatherp] I do not work on it. But I thought that if there is a confirmed  bug in application, it can be in the backlog (possibly with very low priority) but not closed.

If this is not the case for hyperledger jira and there is some special policy to close bugs without fixing them I apologize for reopening it.;;;","22/Oct/19 9:40 PM;heatherp;You're right, I should have provided a better description when I closed it, apologies [~fedyiv]. It can absolutely keep it on the backlog, but please be aware, that as far as I know none of the maintainers are actively fixing it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deploy/Invoke/Query do not return anything,FABJ-187,13002,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,malik-altaf,malik-altaf,13/Oct/16 9:17 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,31/Oct/16 1:23 PM,,,,,,,,,,0,,,,,,Current implementation of deploy/invoke/query print the result but do not return anything which is of no use to the caller. They should transmit the outcome of the deploy/invoke/query so that caller application can get the results and make decision based on these results,,malik-altaf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxd0n:",,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Moving to getting config block from peers does not work with peers in other organizations,FABJ-188,27284,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,01/Feb/18 5:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Feb/18 8:29 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"In -FAB-7702- we changed getting the channels config block from the orderer to the peer.

However this has issues that peers from other organizations which we want to get endorsements from don't seem to allow this.  The getConfigBlock will work for peer's in the same organization.  We either need to revert this for now or provide a means for applications to identify peers that are not part of it's organization.

 

Gerrit: https://gerrit.hyperledger.org/r/#/c/17705/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-231,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyvbj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
end-2-end java tests are failing fabric-ca-merge-end-2-end CI tests due to Authentication error.,FABJ-189,30406,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,aambati,sambhavdutt,sambhavdutt,19/May/18 6:47 AM,19/Mar/19 8:12 PM,28/Oct/23 2:21 AM,22/May/18 5:36 AM,v1.1.0,,,,v1.2.0,,,,,0,ci-failure,,,,,"The sdk-java end-2-end-tests fail due to user Authentication error, this error is observed in multiple instances in the sdk-java e2e tests

*fabric Commit: c6d0e6c*
*fabric-ca Commit: c583d33*
*fabric-sdk-java Commit: 2294b0a*

{code:java}
20:17:52 2018-05-18 20:17:52,002 main TRACE HFCAClient:1225 - response status 401, HttpEntity ResponseEntityProxy{[Content-Type: application/json,Chunked: true]} 
20:17:52 2018-05-18 20:17:52,003 main TRACE HFCAClient:1227 - responseBody: {""result"":"""",""errors"":[{""code"":20,""message"":""Authorization failure""}
20:17:52 ],""messages"":[],""success"":false} 
20:17:52 2018-05-18 20:17:52,003 main ERROR HFCAClient:1234 - POST request to https://localhost:7054 failed request body {""id"":""user1526674666_13"",""type"":""client"",""secret"":""testUserRevoke"",""affiliation"":""org1.department1"",""attrs"":[{""name"":""user.role"",""value"":""department lead""},{""name"":""hf.Revoker"",""value"":""true""}]}. Response: {""result"":"""",""errors"":[{""code"":20,""message"":""Authorization failure""}
20:17:52 ],""messages"":[],""success"":false}
20:17:52 2018-05-18 20:17:52,003 main ERROR HFCAClient:381 - org.hyperledger.fabric.sdkintegration.SampleUser@4b477121
20:17:52 Tests run: 44, Failures: 17, Errors: 20, Skipped: 2, Time elapsed: 7.981 sec <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
20:17:52 setup(org.hyperledger.fabric.sdkintegration.End2endIT)  Time elapsed: 1.394 sec  <<< ERROR!
20:17:52 org.hyperledger.fabric_ca.sdk.exception.RegistrationException: 
20:17:52 Error while registering the user org.hyperledger.fabric.sdkintegration.SampleUser@1cb929a9 url: https://localhost:7054  POST request to https://localhost:7054 failed request body {""id"":""user1"",""type"":""client"",""affiliation"":""org1.department1"",""attrs"":[]}. Response: {""result"":"""",""errors"":[{""code"":20,""message"":""Authorization failure""}
20:17:52 ],""messages"":[],""success"":false} 
20:17:52 	at org.hyperledger.fabric.sdkintegration.End2endIT.enrollUsersSetup(End2endIT.java:297)
20:17:52 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:186)
20:17:52 Caused by: org.hyperledger.fabric_ca.sdk.exception.HTTPException: 
20:17:52 POST request to https://localhost:7054 failed request body {""id"":""user1"",""type"":""client"",""affiliation"":""org1.department1"",""attrs"":[]}. Response: {""result"":"""",""errors"":[{""code"":20,""message"":""Authorization failure""}
20:17:52 ],""messages"":[],""success"":false}
20:17:52 	at org.hyperledger.fabric.sdkintegration.End2endIT.enrollUsersSetup(End2endIT.java:297)
20:17:52 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:186)
20:17:52 
20:17:52 setup(org.hyperledger.fabric.sdkintegration.End2endAndBackAgainIT)  Time elapsed: 0.024 sec  <<< FAILURE!
20:17:52 java.lang.AssertionError: UserContext for user user1 has no enrollment set.
20:17:52 	at org.hyperledger.fabric.sdkintegration.End2endAndBackAgainIT.setup(End2endAndBackAgainIT.java:225)
20:17:52 
20:17:52 setup(org.hyperledger.fabric.sdkintegration.UpdateChannelIT)  Time elapsed: 0.022 sec  <<< FAILURE!
20:17:52 java.lang.AssertionError: UserContext for user peerOrg1Admin has no enrollment set.
20:17:52 	at org.hyperledger.fabric.sdkintegration.UpdateChannelIT.setup(UpdateChannelIT.java:232)
20:17:52 
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-merge-end-2-end-x86_64/60/",,aambati,kchristidis,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzb8n:",,,,,,,,,,,,,,,,,,,,,,,,,aambati,kchristidis,sambhavdutt,,,,,,,,,,,,,,,,,"22/May/18 3:49 AM;kchristidis;[~aambati]: Is this a flake, or something else going on here?;;;","22/May/18 5:37 AM;aambati;https://gerrit.hyperledger.org/r/c/22067/ should fix this problem;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
test certificates are expired,FABJ-190,23924,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,13/Nov/17 1:15 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Nov/17 11:04 PM,,,,,v1.1.0,,,,,0,,,,,,,,mastersingh24,,,,,,,,,,";13/Nov/17 9:19 PM;mastersingh24;3600",,0,3600,,,0,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyn0n:",,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,dev,main,,,,,,true,"13/Nov/17 9:23 PM;mastersingh24;https://gerrit.hyperledger.org/r/15429;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
End2endJavaChaincodeIT constructChain bug,FABJ-191,16610,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,mcdulltan,mcdulltan,mcdulltan,11/May/17 2:28 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,11/May/17 8:07 PM,,,,,WON'T FIX,,,,,0,java-SDK,,,,,"when I run the the junit test  of  the End2endJavaChaincodeIT.java,I met the  error below:

org.hyperledger.fabric.sdk.exception.InvalidArgumentException: CryptoPrimitives value in chain testchainid can not be null
Caught an exception
 at org.hyperledger.fabric.sdk.Chain.<init>(Chain.java:317)
 at org.hyperledger.fabric.sdk.Chain.<init>(Chain.java:286)
 at org.hyperledger.fabric.sdk.Chain.createNewInstance(Chain.java:1189)
 at org.hyperledger.fabric.sdk.HFClient.newChain(HFClient.java:105)",,mcdulltan,rickr,,,,,,,,,,57600,57600,,0%,57600,57600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxuqv:",,,,,,,,,,,,,,,,,,,,,,,,,mcdulltan,rickr,,,,,,,,,,,,,,,,,,"11/May/17 8:06 PM;rickr;End2endJavaChaincodeIT.java,  is not running at the moment. Please see the README.md on how to run the integration tests.

I plan on removing that shortly;;;","11/May/17 8:12 PM;mcdulltan;[~rickr] Thanks a lot！I will try again:D;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vulnerable dependencies observed in fabric-sdk-java-verify-x86_64,FABJ-192,28236,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ashutosh_kumar,sambhavdutt,sambhavdutt,06/Mar/18 9:52 AM,19/Mar/19 8:13 PM,28/Oct/23 2:21 AM,06/Mar/18 10:40 AM,,,,,,,,,,0,ci-failure,,,,,"There are some vulnerable dependencies in the code coverage report for fabric-sdk-java-verify-x86_64,

 !vul.png|thumbnail! 

*Build Log*
https://jenkins.hyperledger.org/sandbox/job/fabric-sdk-java-verify-x86_64/1/OWSP_Dependency_Check_Results/",,rameshthoomu,rickr,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Mar/18 9:52 AM;sambhavdutt;vul.png;https://jira.hyperledger.org/secure/attachment/14723/vul.png",,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzyn:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,sambhavdutt,scottz,,,,,,,,,,,,,,,,"06/Mar/18 10:38 AM;rickr;So what exactly does that mean?;;;","06/Mar/18 10:39 AM;rickr;That exe is not shipped.;;;","06/Mar/18 11:22 PM;rameshthoomu;[~rickr] We have tested [this patch|[https://gerrit.hyperledger.org/r/#/c/15551/|https://gerrit.hyperledger.org/r/#/c/15551/[this]] in sandbox job and observed above errors. [~ashutosh_kumar] requested me to add vulnerable checks on SDK's. Will ship this job to production Jenkins once you confirm the results.;;;","07/Mar/18 12:17 AM;rickr;This adds no value the result show me nothing  that needs changing. 
 -1 disapprove. No point in running something an maintaing that adds no value.;;;","07/Mar/18 9:09 AM;rickr;Show me something this report effectively shows and provide an actual fix to a real issue and maybe I'll reconsider.

[~ashkumar] .

 ;;;","29/Mar/18 2:01 AM;scottz;As Rick requested, [~ashutosh_kumar] please explain the vulnerabilities report findings, identify the expectations and exactly what needs to be fixed, and recommend how to address the problem and clean it up.

Perhaps [~denyeart] could also provide justification and driving force behind addressin issues like this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adding the fabric-sdk when using Ivy/Ant?,FABJ-193,19215,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,jordan.k.miles,jordan.k.miles,12/Jul/17 11:53 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jul/17 5:33 AM,,,,,WON'T FIX,,,,,0,,,,,,"I'm wanting to add the sdk to my Ant build (using Ivy). Is this possible? I add the entry
{code:java}
<dependency org=""org.hyperledger.fabric-sdk-java"" name=""fabric-sdk-java"" rev=""1.0.0"" />
{code}
 but get the following errors on resolve:


{code:java}
Some projects fail to be resolved
Impossible to resolve dependencies of io.idvc#cooperative;working@Jordans-MacBook-Pro.local
unresolved dependency: org.apache.maven#maven-plugin-api;${project.prerequisites.maven}: not found
unresolved dependency: org.apache.maven.reporting#maven-reporting-api;${project.prerequisites.maven}: not found
unresolved dependency: org.apache.maven#maven-project;${project.prerequisites.maven}: not found
{code}
I added those dependencies manually and everything seemed to build, but it requires a ton of dependencies. I notice the maven pom appears to go through several configuration steps during the build. Is there a way around this in Ivy?",,jordan.k.miles,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy85r:",,,,,,,,,,,,,,,,,,,,,,,,,jordan.k.miles,rickr,,,,,,,,,,,,,,,,,,"13/Jul/17 5:20 AM;rickr;Not familar with Ivy we only support Maven pom.xml  But given this does resolve all the dependencies are in Maven so this must be an issue with your Ivy set up.;;;","13/Jul/17 5:33 AM;rickr;Maybe ask this question on the rockchat fabric-sdk-java channel there may be other user that have experience with Ivy.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Misc fixes see description,FABJ-194,27434,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,06/Feb/18 3:45 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,07/Feb/18 4:53 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Check that proposal requests fcn and chaincode ID are set when sending a proposal.
 Peer event registration set wait time.
 Peer event service registration check for bad status on registration 
 Orderclient check status on connection.
 Provide checks on Integration test on state of channel after running chaincode.

 

https://gerrit.hyperledger.org/r/#/c/17545/ 

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyw0f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CompletableFuture can leak in Channel.sendTransaction(),FABJ-195,20935,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sgdev,clempo,clempo,21/Sep/17 1:02 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Oct/17 5:03 AM,v1.0.1,,,,v1.1.0,,,,,0,,,,,,"In this method of the class Channel
public CompletableFuture<TransactionEvent> sendTransaction(Collection<ProposalResponse> proposalResponses, Collection<Orderer> orderers, User userContext)
I believe the future sret leaks if communication with all the orderers fails, that's because sret is registered but no partner knows about it and therefore nothing can fire it.
The cleanup based on timeouts was removed a while ago so txListener will keep sret forever.

It might be interesting to take this opportunity to factor out this duplicated code into a separate private method.
                        Status status = resp.getStatus();
                        if (null != status) {
                            respdata.append(status.name());
                            respdata.append(""-"");
                            respdata.append(status.getNumber());
                        }

                        String info = resp.getInfo();
                        if (null != info && !info.isEmpty()) {
                            if (respdata.length() > 0) {
                                respdata.append("", "");
                            }

                            respdata.append(""Additional information: "").append(info);
",,clempo,rickr,sgdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygyn:",,,,,,,,,,,,,,,,,,,,,,,,,clempo,rickr,sgdev,,,,,,,,,dev,main,,,,,,true,"04/Oct/17 11:30 PM;rickr;Hi [~sharad.develop] Are you actively working on this ?  I ETA for a patch ?

If not, please unassign;;;","06/Oct/17 3:08 AM;rickr;[~sharad.develop] I may take this over if I've not heard any word on progress.;;;","08/Oct/17 7:21 AM;sgdev;Yes working on it;;;","09/Oct/17 4:40 AM;sgdev;https://gerrit.hyperledger.org/r/#/c/14317/;;;","09/Oct/17 10:37 PM;rickr;[~sgdev] You need to have reviewers added to gerrit patches.

Changes MUST pass the build +1 Verify.  If it fails once you can put a comment *reverify* and post it and it will run again.

Do you have a rocket chat ID ?

 ;;;","10/Oct/17 12:54 AM;sgdev;[~rickr] Thanks. I have added you as the reviewer. My rocket chat id is sgdev;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer Creation: Inconsistent Naming,FABJ-196,14835,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,Honglei,pschnap,pschnap,17/Feb/17 4:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,17/Mar/17 5:11 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"The naming of parameters in Peer for constructing a new instance is inconsistent/wrong:

    public Peer(String url, String pem) throws InvalidArgumentException {
        ...
    }

vs

    public static Peer createNewInstance(String name, String pem) throws InvalidArgumentException {
        return new Peer(name, pem);
    }

i.e. {{name}} vs {{url}} for the first parameter.

There _is_ a name field in the class, but that's not what's being set with the call to the constructor in the static function.",,pschnap,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxl7r:",,,,,,,,,,,,,,,,,,,,,,,,,pschnap,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric java sdk throws a transaction exception if it creates channel on a kafka orderer,FABJ-197,19349,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,chelsea.chen,chelsea.chen,chelsea.chen,19/Jul/17 3:27 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Aug/17 12:43 AM,,,,,Future,,,,,0,java-SDK,,,,,"The fabric java sdk and the peer cli behave differently on channel creation. The peer cli does not check the create channel response status value as what the java sdk does. It continues to get genesis block. However, it is very likely the status value of the create channel response of a kafka orderer is 503. As a result, the fabric java sdk will throw a transaction exception and the whole channel creation will fail.",,chelsea.chen,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8wv:",,,,,,,,,,,,,,,,,,,,,,,,,chelsea.chen,rickr,,,,,,,,,,,,,,,,,,"19/Jul/17 6:51 PM;liuwenliang0632; FAB-5178 and FAB-5344;;;","19/Jul/17 8:35 PM;rickr;The operation needs to throw an exception as 503 is an indicator of a failure. The user will need to retry the operation.;;;","16/Aug/17 12:44 AM;rickr;I think this has been addressed in v1.0.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SDKUtils.getProposalConsistencySets() uses RWsets to compare ProposalResponses, which is not sufficient to detect tampering of DB or non-determinism",FABJ-198,26731,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,ryokawajp,ryokawajp,11/Jan/18 12:26 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,23/Jan/18 11:05 PM,v1.0.0,v1.0.1,,,v1.1.0,,,,,0,java-SDK,v1.0,,,,"*Background:*

As far as I know, a Byzantine failure in a query transaction must be handled in the client-side. This is because in the case of an invoke transaction, an endorsement policy is checked in committing peer, while in the case of a query transaction, there is no such check in a peer.

So we used SDKUtils.getProposalConsistencySets() to implement this checking of consistency among the ProposalResponse objects returned from different peers.

To verify this implementation, we did some tampering tests. That is, we changed the values of some keys in Couch DB using Couch DB's REST API directly in one or two peers and tried to query the keys through a query transaction sent to 4 peers including the tampered peer.

Then we got 4 Proposal Responses, which were passed to SDKUtils.getProposalConsistencySets(). Additionally, I implemented the client to chose the largest consistency set as the ""consensus"".

*Expected behavior:*

Let PR = \{p1, p2, p3, p4} be a set of queried values in a Proposal Responses from peer 1, 2, 3, and 4. Let A be the correct value of a key and B be a tampered value of the key. Then, getProposalConsistencySets() is expected to convert PR as follows:
 * input: PR -> output: Consistency Sets (please ignore the order of elements)
 * \{A, A, A, A} -> \{ \{A, A, A, A} }
 * \{A, A, B, A} -> \{ \{A, A, A}, \{B} }
 * \{A, B, B, A} -> \{ \{A, A}, \{B, B} }

*Observed behavior:*
 * \{A, A, A, A} -> \{ \{A, A, A, A} }
 * \{A, A, B, A} -> \{ \{A, A, A, B} }
 * \{A, B, B, A} -> \{ \{A, A, B, B} }

*Cause of this result:*

[https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/SDKUtils.java#L124]

According to the source code, getProposalConsistencySets() uses the read-write set in the Proposal Response object as a key of a hash map in order to group the collection of  Proposal Response objects. 

[https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/proto/ledger/rwset/kvrwset/kv_rwset.proto#L67]

In the case of a query transaction, Proposal Responses contain read sets only. According to the comment in kv_rwset.proto, a read set does not contain the value of a key. It only contains a key and its version number. The version number is determined from the block height and the TX number. Therefore, if a key in a World State DB is tampered by an external tool, a read set does not contain enough information to detect the change of the value.

*Proposed fix:*

In general, not only a tampering of World State DB but also non-determinism of a chaincode could cause a Byzantine failure. So it seems better to use the return value of a chaincode in addition to the RW set as a key of the hash map.

(I have not evaluated side-effects or performance changes by this modification yet.)

 ","* Hyperledger Fabric v1.0.1
 * fabric-sdk-java v1.0.1
 * 2 Orderer nodes, 4 Kafka brokers, 3 Zookeeper nodes
 * 4 peers (3-out-of-4 endorsement policy)
 * Couch DB
 * Docker v17.06.0-ce
 * Ubuntu Linux 16.04 (x86_64)
 * WebSphere Application Server v9.0.0.4
 * IBM Java v1.8.0",denyeart,rickr,ryokawajp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyt1r:",,,,,,,,,,,,,,,,,,,,,,,,,denyeart,rickr,ryokawajp,,,,,,,,,dev,main,,,,,,true,"13/Jan/18 2:43 AM;rickr;Hi - 
 Thanks for looking into this.  The consistence sets were not meant to solve the problem Byzantine failure tampering directly.
 The purpose was to fail fast if the proposals results are inconsistent  This will happen in the fabric when responses are sent to the orderer and then to committer peers.  They make sure the signatures are consistent.   The signatures are across the whole payload response so the SDK should probably group by that.  Today the SDK is then only catching a subset of the possible failures.  I'll probably use this JIRA to investigate changing that.  

The SDK never chooses the largest grouping.  By default the only thing the SDK does is throw an exception when trying to send to the orderer proposals that are inconsistent which can be turned off.

I decided to make it also a utility that applications can call so they if they want could chose which consistence set.   Maybe certain peers are more trusted than others;;;","13/Jan/18 5:29 AM;rickr;Consistency set should be based off  of

[https://github.com/hyperledger/fabric-chaincode-java/blob/308eb634db3054bc75a5c944946bf3458ca1f478/shim/src/main/proto/peer/proposal_response.proto#L49]

 

 ;;;","15/Jan/18 5:27 AM;denyeart;I agree with this.  The consistency check should compare the ProposalResponse payloads, rather than just the RWSet.  The ProposalResponse payload is what gets signed upon endorsement, and therefore this will match the validation checking that committing peers do.  The ProposalResponse payload also includes the chaincode response (over and above the results RWSet), which is what should be checked for consistency for client queries across N peers.

 

[~harrisob@us.ibm.com] I'm tagging you so that you can check whether node js SDK is correctly comparing the ProposalResponse payloads.;;;","15/Jan/18 11:36 AM;ryokawajp;[~rickr] [~denyeart], thank you for the comments. I understood that getProposalResponseConsistencySets() was developed for another reason so it is not a bug. Our team just tried to implement BFT for query TXes by ourselves and found that getProposalResponseConsistencySets() is useful and reused it.

According to the link in Rick's comment, ProposalResponse.payload (type is ProposalResponsePayload) contains both proposal hash and serialized ChaincodeAction. So this object looks perfect for our purpose. I also agree to use this.;;;","19/Jan/18 2:41 AM;rickr;In review https://gerrit.hyperledger.org/r/#/c/16807/;;;","23/Mar/18 11:35 PM;ryokawajp;Thank you [~rickr] and [~denyeart] for the modification, and sorry for this late reply.
It is in the master branch and in v1.1.0-alpha tag!
;;;","23/Mar/18 11:40 PM;rickr;Only in master branch which is still v1.1.0 and in SNAPSHOT-1.1.0 in Maven.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 invoke chaincode in multithread env will cause exception.,FABJ-199,31207,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,gsqtds,gsqtds,20/Jun/18 4:20 PM,22/Feb/19 2:14 PM,28/Oct/23 2:21 AM,18/Jul/18 9:40 PM,v1.1.0,,,,,,,,,0,,,,,,"when i test the fabric performance with java-sdk,i run multithread to start at the same time to invoke the chaincode,it will possable cause the follow execption:

 

2018-06-19 17:35:39 610 [ pool-1-thread-7:1 ] - [ ERROR ] org.hyperledger.fabric.sdk.Channel.sendProposalToPeers(Channel.java:2764) Sending proposal to peer1.orgbj.test.com failed because of: gRPC failure=Status\{code=UNAVAILABLE, description=Channel shutdownNow invoked, cause=null}
 java.lang.Exception: io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
 at org.hyperledger.fabric.sdk.Channel.sendProposalToPeers(Channel.java:2764)
 at org.hyperledger.fabric.sdk.Channel.sendProposal(Channel.java:2670)
 at org.hyperledger.fabric.sdk.Channel.sendTransactionProposal(Channel.java:2555)
 at com.bj58.arch.blockchain.client.BlockchainClient.invoke(BlockchainClient.java:157)
 at com.bj58.arch.blockchain.client.EasyBlockchainClient.invoke(EasyBlockchainClient.java:120)
 at com.bj58.arch.blockchain.Test1.lambda$main$1(Test1.java:145)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
 at java.lang.Thread.run(Thread.java:745)
 Caused by: io.grpc.StatusRuntimeException: UNAVAILABLE: Channel shutdownNow invoked
 at io.grpc.Status.asRuntimeException(Status.java:526)
 at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:467)
 at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:37)
 at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
 at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
 at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:684)
 at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:37)
 at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
 at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
 at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:391) 

at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:471)
 at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63)
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:553)
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:474)
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:591)
 at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
 at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
 ... 3 more

 

 

the fabric-java-sdk version is: 1.1.0 

the fabric-peer    version is 1.1.0 

 

 ",,denyeart,gsqtds,rickr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jul/18 6:46 PM;gsqtds;End2endAndBackAgainIT.java;https://jira.hyperledger.org/secure/attachment/15206/End2endAndBackAgainIT.java","27/Jun/18 1:21 AM;rickr;End2endAndBackAgainIT.java;https://jira.hyperledger.org/secure/attachment/15181/End2endAndBackAgainIT.java","26/Jun/18 4:10 PM;gsqtds;test_exception.patch;https://jira.hyperledger.org/secure/attachment/15168/test_exception.patch",,,,,,,,,,,,,,,,,,,,,,"1|hzzfi7:",,,,,,,,,,,,,,,,,,,,,,,,,denyeart,gsqtds,rickr,wlahti,,,,,,,,,,,,,,,,"20/Jun/18 9:16 PM;denyeart;[~rickr] Could you assess?;;;","20/Jun/18 11:14 PM;rickr;Needs at least a trace from the client side. Can we start out removing anything with mulithreads and see if it connects ?;;;","21/Jun/18 11:36 AM;gsqtds;I know this bug! In org.hyperledger.fabric.sdk.Peer, line 207-217:

if (null == localEndorserClient || !localEndorserClient.isChannelActive()) \{
    endorserClent = new EndorserClient(new Endpoint(url, properties).getChannelBuilder());
    localEndorserClient = endorserClent;
}

 

try \{

    return localEndorserClient.sendProposalAsync(proposal);
} catch (Throwable t) \{
    endorserClent = null;
    throw t;
}

 

there is two errors:

one:

 

because there has localEndorserClient

if endorserClent is execption , at the same time  many thread  run sendProposalAsync,there will be

throw many exception.

two:

if(!localEndorserClient.isChannelActive()) 

boolean isChannelActive() \{
    ManagedChannel lchannel = managedChannel;
    return lchannel != null && !lchannel.isShutdown() && !lchannel.isTerminated() &&              ConnectivityState.READY.equals(lchannel.getState(true));
}

if lchannel.getState(true) is ConnectivityState.CONNECTING ,!localEndorserClient.isChannelActive() will be true.

many thread will create EndorserClient, and then it will be remove reference, and it will be gc,so the exception happend.

 

I suppose modify this code  with the following：

if (null == endorserClient ) \{
    synchronized (this) \{
       if (null == endorserClient) \{
         endorserClient = new EndorserClient(new Endpoint(url, properties).getChannelBuilder());
       }
  }
}

try \{
    return endorserClient.sendProposalAsync(proposal);
} catch (Throwable t) \{
    endorserClient = null;
    throw t;
}

 

 

 

 ;;;","26/Jun/18 1:33 AM;rickr;I created the below patch to the end2endAndBackagainIT  to create 10 threads and do nothing but endorsing. I seen all the threads doing the endorsing just fine.  I then while it was running shutdown a peer.  While the peer was down as expected I seen a lot of errors.  I then restarted the peer.  While it's not instance cause all threads need to make new connections it got to the point where it was when it started that all threads were seeing all peers successfully endorsing.




Index: src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java	(revision edd54f832351452ef6aea3d9cb505b2f38b12711)
+++ src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java	(date 1529944045000)
@@ -529,58 +529,93 @@
 
     }
 
+    static boolean goOn = true;
+
     CompletableFuture<BlockEvent.TransactionEvent> moveAmount(HFClient client, Channel channel, ChaincodeID chaincodeID, String moveAmount, User user) {
 
-        try {
-            Collection<ProposalResponse> successful = new LinkedList<>();
-            Collection<ProposalResponse> failed = new LinkedList<>();
+        List<Thread> threads = new LinkedList<>();
+
+        for (int i = 100; i > 0; --i) {
+            final int ii = i;
+            Thread thread = new Thread(new Runnable() {
+                @Override
+                public void run() {
+
+                    do {
+                        try {
+
+                            out(""running thread %d"", ii);
+                            Collection<ProposalResponse> successful = new LinkedList<>();
+                            Collection<ProposalResponse> failed = new LinkedList<>();
 
-            ///////////////
-            /// Send transaction proposal to all peers
-            TransactionProposalRequest transactionProposalRequest = client.newTransactionProposalRequest();
-            transactionProposalRequest.setChaincodeID(chaincodeID);
-            transactionProposalRequest.setFcn(""move"");
-            transactionProposalRequest.setArgs(new byte[][] {//test using bytes .. end2end uses Strings.
-                    ""a"".getBytes(UTF_8), ""b"".getBytes(UTF_8), moveAmount.getBytes(UTF_8)});
-            transactionProposalRequest.setProposalWaitTime(testConfig.getProposalWaitTime());
-            if (user != null) { // specific user use that
-                transactionProposalRequest.setUserContext(user);
-            }
-            out(""sending transaction proposal to all peers with arguments: move(a,b,%s)"", moveAmount);
+                            ///////////////
+                            /// Send transaction proposal to all peers
+                            TransactionProposalRequest transactionProposalRequest = client.newTransactionProposalRequest();
+                            transactionProposalRequest.setChaincodeID(chaincodeID);
+                            transactionProposalRequest.setFcn(""move"");
+                            transactionProposalRequest.setArgs(new byte[][] {//test using bytes .. end2end uses Strings.
+                                    ""a"".getBytes(UTF_8), ""b"".getBytes(UTF_8), moveAmount.getBytes(UTF_8)});
+                            transactionProposalRequest.setProposalWaitTime(testConfig.getProposalWaitTime());
+                            if (user != null) { // specific user use that
+                                transactionProposalRequest.setUserContext(user);
+                            }
+                            out(""thread %d sending transaction proposal to all peers with arguments: move(a,b,%s)"", ii, moveAmount);
 
-            Collection<ProposalResponse> invokePropResp = channel.sendTransactionProposal(transactionProposalRequest);
-            for (ProposalResponse response : invokePropResp) {
-                if (response.getStatus() == Status.SUCCESS) {
-                    out(""Successful transaction proposal response Txid: %s from peer %s"", response.getTransactionID(), response.getPeer().getName());
-                    successful.add(response);
-                } else {
-                    failed.add(response);
-                }
-            }
+                            Collection<ProposalResponse> invokePropResp = channel.sendTransactionProposal(transactionProposalRequest);
+                            for (ProposalResponse response : invokePropResp) {
+                                if (response.getStatus() == Status.SUCCESS) {
+                                    out(""Successful transaction proposal response Txid: %s from peer %s"", response.getTransactionID(), response.getPeer().getName());
+                                    successful.add(response);
+                                } else {
+                                    failed.add(response);
+                                }
+                            }
 
-            out(""Received %d transaction proposal responses. Successful+verified: %d . Failed: %d"",
-                    invokePropResp.size(), successful.size(), failed.size());
-            if (failed.size() > 0) {
-                ProposalResponse firstTransactionProposalResponse = failed.iterator().next();
+                            out(""Received %d transaction proposal responses. Successful+verified: %d . Failed: %d"",
+                                    invokePropResp.size(), successful.size(), failed.size());
+                            if (failed.size() > 0) {
+                                ProposalResponse firstTransactionProposalResponse = failed.iterator().next();
 
-                throw new ProposalException(format(""Not enough endorsers for invoke(move a,b,%s):%d endorser error:%s. Was verified:%b"",
-                        moveAmount, firstTransactionProposalResponse.getStatus().getStatus(), firstTransactionProposalResponse.getMessage(), firstTransactionProposalResponse.isVerified()));
+                                final ProposalException proposalException = new ProposalException(format(""Not enough endorsers for invoke(move a,b,%s):%d endorser error:%s. Was verified:%b"",
+                                        moveAmount, firstTransactionProposalResponse.getStatus().getStatus(), firstTransactionProposalResponse.getMessage(), firstTransactionProposalResponse.isVerified()));
+                                out(""%s"", proposalException.getMessage());
 
-            }
-            out(""Successfully received transaction proposal responses."");
+                            }
+                            out(""Successfully received transaction proposal responses."");
 
-            ////////////////////////////
-            // Send transaction to orderer
-            out(""Sending chaincode transaction(move a,b,%s) to orderer."", moveAmount);
-            if (user != null) {
-                return channel.sendTransaction(successful, user);
-            }
-            return channel.sendTransaction(successful);
-        } catch (Exception e) {
+                        } catch (Exception e) {
 
-            throw new CompletionException(e);
+                            e.printStackTrace();
+
+                        }
+                    } while (goOn);
+
+                }
+            });
+
+            threads.add(thread);
+        }
+
+        threads.forEach(thread -> thread.start());
+
+        try {
+            threads.forEach(thread ->
+            {
+                try {
+                    thread.join();
+                } catch (InterruptedException e) {
+                    e.printStackTrace();
+
+                }
+            });
 
+        } catch (Exception e) {
+            e.printStackTrace();
         }
+
+        System.exit(0);
+
+        return null;
 
     };;;","26/Jun/18 1:34 AM;rickr;I see no link to FAB-10604 ;;;","26/Jun/18 1:36 AM;rickr;Can you please provide a patch like I did above that reproduces this issue ? ;;;","26/Jun/18 1:41 AM;rickr;I also just tried putting a breakpoint at the begining of the move routine brought the peer down.  Then started up the threads. As expected nothing but errors.  Then started the peer and all threads started reporting successuflly endorsing.;;;","26/Jun/18 3:00 AM;rickr;I have noticed this :
https://ctrlv.it/id/129163/1743181400

The Peer is accepting connections when it's really not ready to handle requestes.
When not connecting this is sent :

```
Thread Thread-757 Received 2 transaction proposal responses. Successful+verified: 1 . Failed: 1
Thread Thread-757 Not enough endorsers for invoke(move a,b,25):500 endorser error:Sending proposal to peer0.org1.example.com failed because of: gRPC failure=Status{code=UNAVAILABLE, description=io exception, cause=java.io.IOException: Connection reset by peer
	at sun.nio.ch.FileDispatcherImpl.read0(Native Method)
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)
	at sun.nio.ch.IOUtil.read(IOUtil.java:192)
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380)
	at io.netty.buffer.PooledUnsafeDirectByteBuf.setBytes(PooledUnsafeDirectByteBuf.java:288)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1108)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:345)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:131)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
	at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:886)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.lang.Thread.run(Thread.java:745)
}. Was verified:false
Thread Thread-747 Successful transaction proposal response Txid: 04048dc9e0b32db18654c69f4529d6ddb6a8a2f366ff7293c783a370405cad9b from peer peer1.org1.example.com
Thread Thread-747 Received 2 transaction proposal responses. Successful+verified: 1 . Failed: 1
T
```
but then  changes to :

```
Thread Thread-747 Received 2 transaction proposal responses. Successful+verified: 1 . Failed: 1
Thread Thread-747 Not enough endorsers for invoke(move a,b,25):500 endorser error:failed to execute transaction 04048dc9e0b32db18654c69f4529d6ddb6a8a2f366ff7293c783a370405cad9b: failed to register example_cc_go:1 as launching: chaincode example_cc_go:1 has already been launched. Was verified:false
Thread Thread-869 Successful transaction proposal response Txid: 5c188b5120278f8f0787c014c6898698cee58a6ca08bac5fe04092fa4d45d530 from peer peer1.org1.example.com
T
```
After a while it will then fully be up and you get : 
```
Thread Thread-357 Not enough endorsers for invoke(move a,b,25):500 endorser error:failed to execute transaction b06e3df8d23b2330e8b90229c5fcf213ecf50fc0b9df0f61aa8ec46455ff2546: failed to register example_cc_go:1 as launching: chaincode example_cc_go:1 has already been launched. Was verified:false
Thread Thread-676 Successful transaction proposal response Txid: ac27f86f6120278958eb075e56a36b50bc187fd12eb883ab33aebb01ee6bcbd2 from peer peer1.org1.example.com
Thread Thread-676 Received 2 transaction proposal responses. Successful+verified: 1 . Failed: 1
Thread Thread-676 Not enough endorsers for invoke(move a,b,25):500 endorser error:failed to execute transaction ac27f86f6120278958eb075e56a36b50bc187fd12eb883ab33aebb01ee6bcbd2: failed to register example_cc_go:1 as launching: chaincode example_cc_go:1 has already been launched. Was verified:false
Thread Thread-686 Successful transaction proposal response Txid: a29f9a539ad3fe19e378fa5e5cb07e1b55c748bc87d8bffbe32a8c559d14f7c5 from peer peer0.org1.example.com
Thread Thread-686 Successful transaction proposal response Txid: a29f9a539ad3fe19e378fa5e5cb07e1b55c748bc87d8bffbe32a8c559d14f7c5 from peer peer1.org1.example.com
Thread Thread-686 Received 2 transaction proposal responses. Successful+verified: 2 . Failed: 0
```

IMO Peer shouldn't accept connections till it's fullly operational 
[~denyeart] [~wlahti] 
;;;","26/Jun/18 3:15 AM;wlahti;Agreed with that last part, [~rickr] (""IMO Peer shouldn't accept connections till it's fullly operational). Jason already created FAB-10804 to fix that. ;;;","26/Jun/18 3:53 PM;gsqtds;Index: src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java	(revision d186e02f3f7de0a058166bb0925464c0e71f3e57)
+++ src/test/java/org/hyperledger/fabric/sdkintegration/End2endAndBackAgainIT.java	(revision )
@@ -29,6 +29,10 @@
 import java.util.Set;
 import java.util.concurrent.CompletableFuture;
 import java.util.concurrent.CompletionException;
+import java.util.concurrent.ExecutorService;
+import java.util.concurrent.Executors;
+import java.util.concurrent.LinkedBlockingQueue;
+import java.util.concurrent.ThreadPoolExecutor;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicLong;
 
@@ -696,12 +700,56 @@
         //Begin tests with de-serialized channel.
 
         //Query the actual peer for which channels it belongs to and check it belongs to this channel
+
+
+
+        int index = 0;
         for (Peer peer : newChannel.getPeers()) {
-            Set<String> channels = client.queryChannels(peer);
-            if (!channels.contains(name)) {
+            //Set<String> channels = client.queryChannels(peer);
+            /*if (!channels.contains(name)) {
                 throw new AssertionError(format(""Peer %s does not appear to belong to channel %s"", peer.getName(), name));
+            }*/
+            index++;
+            if (index == 2) {
+                ThreadPoolExecutor executorService = new ThreadPoolExecutor(100, 100,
+                        0L, TimeUnit.MILLISECONDS,
+                        new LinkedBlockingQueue<Runnable>());
+                executorService.prestartAllCoreThreads();
+                for (int i = 0 ; i < 100 ; i++) {
+                    executorService.execute(() -> {
+                        try {
+                            QueryByChaincodeRequest queryByChaincodeRequest1 = client.newQueryProposalRequest();
+                            queryByChaincodeRequest1.setArgs(""b"".getBytes(UTF_8)); // test using bytes as args. End2end uses Strings.
+                            queryByChaincodeRequest1.setFcn(""query"");
+                            queryByChaincodeRequest1.setChaincodeID(chaincodeID);
+                            //System.out.println(""haha"");
+                            client.queryChannels(peer);
+                        } catch (ProposalException e) {
+                            e.printStackTrace();
+                        } catch (InvalidArgumentException e) {
+                            e.printStackTrace();
+                        }
+                    });
+                }
+
             }
         }
+
+        try {
+            System.out.println(""wait....."");
+            List<Object> l = new ArrayList<Object>();
+            for (int i =0; i< 1000;i++)
+            {
+                l.add(new byte[1024*1024 ]);
+                if (i % 10 ==0)
+                {
+                    System.gc();
+                }
+            }
+            Thread.sleep(10000);
+        } catch (InterruptedException e) {
+            e.printStackTrace();
+        }
 
         //Just see if we can get channelConfiguration. Not required for the rest of scenario but should work.
         final byte[] channelConfigurationBytes = newChannel.getChannelConfigurationBytes();
;;;","26/Jun/18 3:57 PM;gsqtds;[~rickr] you can try this , it will also invoke sendProposalAsync method  . because peer1 in channel.initialize() do this method. so i invoke sendProposalAsync in peer2;;;","26/Jun/18 4:10 PM;gsqtds; [^test_exception.patch] ;;;","27/Jun/18 1:25 AM;rickr;I attached what I tested which basically your patch But I added some output for the queryChannels request in the threads. I think this is still representative of the test. Here's the output I got >

RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:
RICK channels foo:

This is what I think I'd expect.


With out the output I get ---

RUNNING: End2endAndBackAgainIT.

Reconstructing foo channel
wait.....

Process finished with exit code 0;;;","02/Jul/18 6:46 PM;gsqtds;
Hi,[~rickr],i was travel these days。 I saw your code，there is a little different。
you should Commented out below code 
{code:java}
            Set<String> channels = client.queryChannels(peer);
            if (!channels.contains(name)) {
                throw new AssertionError(format(""Peer %s does not appear to belong to channel %s"", peer.getName(), name));
            }
{code}
because of this code will execute connect operate.
this is my test case. [^End2endAndBackAgainIT.java] ;;;","11/Jul/18 1:51 AM;rickr;Made no difference in the result that I get.  I'm also running on a change FAB-10966  There was a grpc infinite loop that they fixed. Can't say for sure if that had anything to do with this or not.;;;","11/Jul/18 1:23 PM;gsqtds;I try this with grpc 1.13.1 , it sometimes run well，and sometimes run exception 。I guess the reason is the network connect is very good。So if the sdkintegration network run other machine，the anomaly probability will became bigger;;;","18/Jul/18 9:40 PM;rickr;I have never been able to reproduce this behavior. Unless I get something that does it regularly and repeatedly I'm closing this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The method ""sendDeploymentProposal"" of class Chain will throw NPE when in dev mode",FABJ-200,14888,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,Eagel,Eagel,17/Feb/17 6:14 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 3:52 AM,v1.0.0,,,,,,,,,0,,,,,,"when ""chain.setDevMode(true);""

It will throw following exception

Caused by: java.lang.NullPointerException
	at com.google.protobuf.ByteString.copyFrom(ByteString.java:310)
	at org.hyperledger.fabric.sdk.transaction.DeploymentProposalBuilder.createDeploymentSpec(DeploymentProposalBuilder.java:243)
	at org.hyperledger.fabric.sdk.transaction.DeploymentProposalBuilder.createDevModeTransaction(DeploymentProposalBuilder.java:194)
	at org.hyperledger.fabric.sdk.transaction.DeploymentProposalBuilder.constructDeploymentProposal(DeploymentProposalBuilder.java:92)
	... 8 more",,Eagel,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlbr:",,,,,,,,,,,,,,,,,,,,,,,,,Eagel,rickr,,,,,,,,,,,,,,,,,,"29/Mar/17 3:51 AM;rickr;Dev mode is not supported.
at this point;;;","29/Mar/17 3:52 AM;rickr;reopen once we support devmode and it still fails;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer wait time not being set properly,FABJ-201,19213,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Jul/17 10:29 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jul/17 6:09 AM,v1.1.0,,,,v1.0.1,,,,,0,,,,,,The property ordererWaitTimeMilliSecs instead of defining the wait time is defining a system property for the wait time. ,,andrasfe,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy85b:",,,,,,,,,,,,,,,,,,,,,,,,,andrasfe,rickr,,,,,,,,,,dev,main,,,,,,true,"13/Jul/17 7:39 AM;andrasfe;could this be the cause for timeout while waiting for orderer? Following the upgrade of java sdk to the GA, I am getting intermittent timeout errors such as the one below:

 
{code:java}
2017-07-12 22:30:10,694 DEBUG Orderer:122 - Order.sendTransaction name: orderer.example.com, url: grpc://localhost:7050
2017-07-12 22:30:14,339 ERROR OrdererClient:164 - sendTransaction error Send transactions failed. Reason:  timeout
org.hyperledger.fabric.sdk.exception.TransactionException: Send transactions failed. Reason:  timeout
at org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:163)
at org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:133)
at org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:222)
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
unregister misspelled unRegister in method names,FABJ-202,21021,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,sgdev,clempo,clempo,27/Sep/17 10:55 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Oct/17 5:22 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"The methods Channel.unRegisterBlockListener() and Channel.unRegisterChaincodeEventListener() should be renamed to Channel.unregisterBlockListener() and Channel.unregisterChaincodeEventListener() with a small r for register since the prefix un is not a complete word.
These methods are new in v1.1-SNAPSHOT so we can still rename them freely.

The only callers are in Channel and End2endIT.
I don't think there is a need to upload a patch, since it is trivial to rename with refactor in eclipse. I looked and there are no comments that need to be updated except this javadoc which should be also be updated by eclipse
     * @return Handle to be used to unregister the event listener {@link #unRegisterChaincodeEventListener(String)}
",,clempo,rickr,sgdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyhev:",,,,,,,,,,,,,,,,,,,,,,,,,clempo,rickr,sgdev,,,,,,,,,dev,main,,,,,,true,"04/Oct/17 11:31 PM;rickr;Hi [~sharad.develop] Are you actively working on this ?   ETA for a patch ?

If not, please unassign;;;","08/Oct/17 7:22 AM;sgdev;Yes working on it.;;;","08/Oct/17 9:37 AM;sgdev;Code is committed. This is my first commit . Let me know if there is anything I missed in the processes.;;;","09/Oct/17 4:30 AM;sgdev;https://gerrit.hyperledger.org/r/#/c/14303/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing channel upgrade method.,FABJ-203,19394,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,21/Jul/17 4:56 AM,12/Sep/18 12:53 AM,28/Oct/23 2:21 AM,26/Jul/17 8:23 PM,v1.0.0,,,,v1.0.1,,,,,0,,,,,,Missing channel upgrade method.,,mastersingh24,rickr,smita0709,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-40,FABJ-132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9an:",,,,,,,,,,,,,,,,,,,,,,,,,mastersingh24,rickr,smita0709,,,,,,,,,dev,main,,,,,,true,"22/Jul/17 8:39 PM;mastersingh24;I assume you mean channel update?  And why is this a bug?  Isn't this a new feature?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot change the Org name in fabric-sdk-java sample code,FABJ-204,16850,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,zhangchao,zhangchao,18/May/17 4:40 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Jun/17 9:40 PM,,,,,WON'T FIX,,,,,0,,,,,,"* I am running the sample application in sdkintegration. Everything works well when I run End2EndIT first and then End2endAndBackAgainIT. But after I change the org name in End2endAndBackAgainIT from peerOrg1 to peerOrg2 like below:
h6. _SampleOrg sampleOrg = testConfig.getIntegrationTestsSampleOrg(""peerOrg2"");_
h6. _Chain fooChain = reconstructChain(FOO_CHAIN_NAME, client, sampleOrg);_
h6. _runChain(client, fooChain, sampleOrg, 0);_

 * it encounters error:Failed to deserialize creator identity, err MSP Org2MSP is unknown
 * I am wondering peerOrg1 and peerOrg2 are in the same Consortium chain and why peerOrg2 cannot invoke the chaincode 
 * I am trying use newChain.joinPeer(peer) instead of newChain.addPeer(peer) in reconstructChain(), it works",,rickr,zhangchao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxvxj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,zhangchao,,,,,,,,,,,,,,,,,,"19/May/17 7:22 AM;rickr;They are not in the same Consortium.  Even if the were Consortium only applies to channel policies and not joining peers or installing chaincode ;;;","19/May/17 9:29 PM;rickr;I don't see any bugs here;;;","26/May/17 3:43 PM;zhangchao;I checked configtx.yaml, they are in same consortium(SampleConsortium), and where is the policy indicating the peers permission?;;;","31/May/17 6:35 AM;rickr;Only the peer admin for the peer can create, join channels and install/instantiate chaincode.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java has memory leak problem,FABJ-205,18941,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,hongquan.zhang,hongquan.zhang,hongquan.zhang,04/Jul/17 7:21 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Jul/17 5:52 PM,,,,,v1.0.0,,,,,0,java-SDK,,,,,"java app built on top of fabric-sdk-java will get memory leak after a long run.

class Channel has a member txListeners which is a string to LinkedList HashMap instance.

txListeners will add a item if a new event listener of a txID is added, but forget to remove the item if the all listeners of that txID has been removed. This lead to memory leak","centos7 x86_64

fabric-sdk-java",hongquan.zhang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6tb:",,,,,,,,,,,,,,,,,,,,,,,,,hongquan.zhang,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric peer crash because transaction.proto is not matching fabric proto,FABJ-206,15353,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,denisgaebler,denisgaebler,15/Mar/17 12:16 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,15/Mar/17 4:39 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Hi,

after changing peer/transaction.proto to the following code, it worked:



{code:java}
message Transaction {

        // Version indicates message protocol version.
        int32 version = 1;

        // Timestamp is the local time that the
        // message was created by the sender
        google.protobuf.Timestamp timestamp = 2;

        // The payload is an array of TransactionAction. An array is necessary to
        // accommodate multiple actions per transaction
        repeated TransactionAction actions = 3;

}
{code}

On the other hand, not matching message format should not cause the fabric peer/orderer to crash.

Thanks, Denis.",,denisgaebler,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo33:",,,,,,,,,,,,,,,,,,,,,,,,,denisgaebler,rickr,,,,,,,,,,,,,,,,,,"15/Mar/17 7:52 AM;rickr;Most likely you got a miss match with the server client in the READ.me .. I just check the recent that they're in sync.

Please get the the version of Fabric in the README.md and confirm.;;;","15/Mar/17 4:39 PM;denisgaebler;Hi Rick,

I have used the https://github.com/hyperledger/fabric/blob/v1.0.0-preview/protos/peer/transaction.proto with the java SDK which has the additional fields.
The master branch was broken, so I have used the preview.

I think the problem can be closed then.

Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify misspell function name in test class.,FABJ-207,19427,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,xiejunxi,xiejunxi,xiejunxi,22/Jul/17 8:12 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,22/Jul/17 8:13 AM,,,,,,,,,,0,,,,,,"there are some misspell function name in test class. for example getTestChannlePath should write getTestChannelPath.

 ",,xiejunxi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9fb:",,,,,,,,,,,,,,,,,,,,,,,,,xiejunxi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invoking getRows can't get table information when  column is empty,FABJ-208,15345,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,zerppen,zerppen,zerppen,14/Mar/17 6:07 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 3:38 AM,,,,,v0.6,,,,,0,chaincode,,,,,"Following two methods invoked by query method I tested, results show in attachment.

After reading the results,and comparing to go-chaincode.We can find getRows generating a bug,because invoking go-chaincode's GetRows when the column is null I can get all the table information .  

private String queryCurrencyByID(ChaincodeStub stub,String[] args){

        log.debug(""queryCurrencyByID..."");
        if(args.length!=1){
            return ""Incorrect number of arguments. Expecting 1"";
        }
        String id = args[0];
        TableProto.Row cuRow = getCurrencyByID(stub,id);
        if(cuRow==null){
            log.error(""queryCurrencyByID error1"");
            return ""queryCurrencyByID error1"";
        }
        if(cuRow.getColumnsCount()==0){
            return ""no data can be queryed"";
        }
        JSONObject cuJson = new JSONObject();
        cuJson.put(""id"",cuRow.getColumns(0).getString());
        cuJson.put(""count"",cuRow.getColumns(1).getInt64());
        cuJson.put(""leftCount"",cuRow.getColumns(2).getInt64());
        cuJson.put(""creator"",cuRow.getColumns(3).getString());
        cuJson.put(""createTime"",cuRow.getColumns(4).getInt64());

        return cuJson.toString();
    }
TableProto.Row getCurrencyByID(ChaincodeStub stub,String id){

        TableProto.Column queryCol =
                TableProto.Column.newBuilder()
                        .setString(id).build();
        List<TableProto.Column> key = new ArrayList<TableProto.Column>();
        key.add(queryCol);
        TableProto.Row row = null;

        try {
            row = stub.getRow(TableCurrency,key);

        }catch(Exception e){
            return null;

        }
        return row;


    }

private String queryAllCurrency(ChaincodeStub stub,String[] args){

        log.debug(""queryAllCurrency..."");
        if(args.length!=0){
            log.error(""incorrect number of arguments"");
            return ""incorrect number of arguments"";
        }
        ArrayList<TableProto.Row> rows = null;
        try {

            
            rows = stub.getRows(TableCurrency,null);
        }catch(Exception e){
            return ""getRows operation failed"";
        }
        if(rows.size()==0){
            log.info(""rows.size = 0"");
            return ""no data can be queryed"";
        }
        JSONArray jArray = new JSONArray();
        for(int i= 0;i<rows.size();i++){
            JSONObject jObject = new JSONObject();
            jObject.put(""id"",rows.get(i).getColumns(0).getString());
            jObject.put(""count"",rows.get(i).getColumns(1).getInt64());
            jObject.put(""leftCount"",rows.get(i).getColumns(2).getInt64());
            jObject.put(""creator"",rows.get(i).getColumns(3).getString());
            jObject.put(""createTime"",rows.get(i).getColumns(4).getInt64());
            jArray.add(jObject);
        }
        return jArray.toString();
    }",ubuntu 14.04 LTS,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/17 6:03 PM;zerppen;Screen Shot 2017-03-14 at 16.40.13.png;https://jira.hyperledger.org/secure/attachment/10582/Screen+Shot+2017-03-14+at+16.40.13.png","14/Mar/17 6:03 PM;zerppen;Screen Shot 2017-03-14 at 16.40.44.png;https://jira.hyperledger.org/secure/attachment/10581/Screen+Shot+2017-03-14+at+16.40.44.png",,,,,,,,,,,,,,,,,,,,,,,"1|hzxo1j:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,"29/Mar/17 3:38 AM;rickr;reopen with 1.0.0 if applicable;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use transactions to deploy/build/invoke chain code,FABJ-209,13201,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,malik-altaf,malik-altaf,malik-altaf,26/Oct/16 3:51 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,31/Oct/16 9:36 AM,,,,,,,,,,0,,,,,,"Currently, deploy/invoke/query functions are using DevOpsClient instead of peer.sendTransaction. SDKs should not use this approach as DevOpsClient is deprecated",,malik-altaf,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxdnb:",,,,,,,,,,,,,,,,,,,,,,,,,malik-altaf,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NetworkConfig doesn't support TLS for CertificateAuthority ,FABJ-210,29070,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,aatkddny,aatkddny,02/Apr/18 1:13 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,07/Apr/18 6:05 PM,,,,,v1.1.0,,,,,1,java-SDK,,,,,"The NetworkConfig code doesn't support adding the certificate to the CAInfo object.

The code (at least in 1.1.0-alpha) is commented as a TODO. 

Without this it isn't possible to use the CAInfo object to build the connection to an HFCAClient and have it work when the CA server is using TLS.

Unfortunately there's no internal visibility to the JsonObject that is used to create the CAInfo object so one has to parse it externally to pull out the pem and build the properties, either by duplicating the logic in the createAllCertificateAuthorities() method or by mapping a json response outside the NetworkConfig object.

===

As an aside - and outside the original report - changing the HFCAClient to self-create with some form of loadFromNetworkConfig (in the same vein that the HFClient creates a channel) either by CA name or by doing a random select from the list of CAs available would be a tremendous improvement.  

 

 

gerrit https://gerrit.hyperledger.org/r/#/c/20227/

 ",,aatkddny,huy.tranibm,ZhangKejie,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz46v:",,,,,,,,,,,,,,,,,,,,,,,,,aatkddny,huy.tranibm,ZhangKejie,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
failing at parsing network-config.json,FABJ-211,28124,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,rickr,huy.tranibm,huy.tranibm,01/Mar/18 10:11 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,09/Apr/18 6:32 AM,,,,,,,,,,0,,,,,,"Java SDK 1.1.0alpha is failing to parse network-config.json at 2 points.

For CertificateAuthority objects, the specific registrar object value is an Array that holds the registrar objects of enrollmentID and enrollmentSecret. This causes the enrollId and enrollSecret to be null when created inside the NetworkConfig.java createCA method specifically at the getJsonValueAsObject line 792 because jsonCA.get(""registrar"") returns null. I resolved this issue on my end by removing the brackets [ ]from the registrar property in the json file as this makes more sense because there can't be multiple registrars. I have noticed this registrar property as an array in the network-config.json and also in the IBM Blockchain Service servicecredentials.json

gerrit https://gerrit.hyperledger.org/r/#/c/20295/",,huy.tranibm,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyzdb:",,,,,,,,,,,,,,,,,,,,,,,,,huy.tranibm,rickr,,,,,,,,,,dev,main,,,,,,true,"08/Apr/18 8:12 AM;rickr;Registrar was defined as a single value but it is possible to have many. 
Fixed it by being flexible to support the defnition either way.

Returned now registars that are defined on the CAs. They shouldn't have Peer admin certs/keys either.

Delayed creation of CAs in context of the organization they are defined in so registars are created with a valid mspID 

Allowed UserIno to be used directly by API by implementing User ,  Registars can also now be used.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fails to compile with IBM JDK in HFCAClient,FABJ-212,15970,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,suganuma,rickr,rickr,25/Apr/17 12:34 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,27/Apr/17 1:43 AM,,,,,v1.0.0,,,,,0,,,,,,"Failes to complie due to use of 
import sun.security.util.DerValue;
import sun.security.x509.AuthorityKeyIdentifierExtension;
import sun.security.x509.KeyIdentifier

Compile with IBM JDK to make sure it then compiles

Look into using bouncycastle to do this.


Then we need a test that enrolls a user or use an already enrolled user to revoke them and try to reenroll that user and see that it fails

",,rickr,suganuma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5pj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,suganuma,,,,,,,,,,dev,main,,,,,,true,"26/Apr/17 1:35 AM;suganuma;I removed the three import statements and instead used some bouncy castle library classes.
We can now compile the code successfully with IBM Java (I'm using the version 1.8.0 SR4 FP2)
However, when running the integration test, we get the following problem:

RUNNING: End2endIT.

Constructing chain foo
2017-04-26 01:13:55 ERROR CryptoPrimitives:170 - Unable to converts byte array to certificate. error : Unable to initialize, java.io.IOException: insufficient data
2017-04-26 01:13:55 ERROR Endpoint:100 - Error getting Subject CN from certificate. Try setting it specifically with hostnameOverride property. Unable to converts byte array to certificate. error : Unable to initialize, java.io.IOException: insufficient data
2017-04-26 01:13:57 WARN  MacAddressUtil:139 - Failed to find a usable hardware address from the network interfaces; using random bytes: 00:37:5c:06:8f:6b:c5:dd
2017-04-26 01:13:57 ERROR OrdererClient:129 - sendTransaction error Send transactions failed. Reason: UNAVAILABLE: Channel closed while performing protocol negotiation
org.hyperledger.fabric.sdk.exception.TransactionException: Send transactions failed. Reason: UNAVAILABLE: Channel closed while performing protocol negotiation
        at org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:128)
        at org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:127)
        at org.hyperledger.fabric.sdk.Chain.<init>(Chain.java:175)
        at org.hyperledger.fabric.sdk.Chain.createNewInstance(Chain.java:1098)
        at org.hyperledger.fabric.sdk.HFClient.newChain(HFClient.java:124)
        at org.hyperledger.fabric.sdkintegration.End2endIT.constructChain(End2endIT.java:474)
        at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:167)

The same code compiled with Open JDK runs fine.;;;","26/Apr/17 2:20 AM;suganuma;If we disable TLS, the End2endIT test runs successfully even with IBM Java
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unneeded runtime jars and update to latest.,FABJ-213,19264,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,15/Jul/17 12:16 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Jul/17 9:27 PM,v1.0.1,,,,v1.0.1,,,,,0,,,,,,There are dependencies being include which are not needed during runtime  namely one is Java coco.  Also many dependencies are out of date.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy8iv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change examples using SDK,FABJ-214,14966,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,sodiaan,sodiaan,21/Feb/17 11:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,22/Feb/17 10:31 PM,,,,,v1.0.0,,,,,0,,,,,,"Change examples using SDK in README.md

To use the SDK in your code, simply add the generated JAR file in your classpath. Once the JAR file is in your classpath, create a chain instance to interact with the network.
 Chain testChain = new Chain(""chain1""); 

This is wrong, Chain don't have public constructor.",,rickr,sodiaan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlof:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,sodiaan,,,,,,,,,,,,,,,,,,"22/Feb/17 10:30 PM;rickr;I updated the README.md to address this. Thank you for your input.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eventhub reconnect failure.,FABJ-215,19891,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,02/Aug/17 9:50 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,03/Aug/17 11:48 PM,v1.0.0,,,,v1.0.1,,,,,0,,,,,,Due to a small timing window bug the eventhub could show as connected when it really hasn't and thus resulting in it not retrying.  Using the REGISTER block send back from the Eventhub to determine that the Eventhub client has really connected and to not report back till it actually has or throw a timeout error,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzybnj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java e2e tests are failing on latest commits,FABJ-216,15553,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rameshthoomu,rameshthoomu,03/Apr/17 11:36 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Apr/17 8:45 PM,,,,,,,,,,0,,,,,,"Observed java e2e tests are failing on latest fabric, fabric-ca and fabric-sdk-java. 

{code:java}
12:44:50 2017-04-03 12:44:50 ERROR Chain:1664 - Sending proposal to peer0 failed because of gRPC failure=Status{code=UNKNOWN, description=invalid chaincode name example_cc.go, cause=null}
12:44:50 java.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: invalid chaincode name example_cc.go
{code}

{code:java}
CA_COMMIT=77dc0ce
FABRIC_COMMIT=fb7727d
JAVA_SDK_COMMIT_LEVEL=315420e

{code}

Build Reference: 
https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/4/consoleFull

Docker Log File: https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/4/artifact/gopath/src/github.com/hyperledger/fabric-sdk-java/src/test/fixture/sdkintegration/dockerlogfile.log",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-130,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp3z:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"03/Apr/17 11:45 PM;rickr;Has a fix for this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot validate certificate.Error is:the trustAnchors parameter must be non-empty,FABJ-217,21768,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,guo,guo,11/Oct/17 4:10 PM,14/Sep/18 5:48 PM,28/Oct/23 2:21 AM,19/Oct/17 12:04 AM,WON'T FIX,,,,WON'T FIX,,,,,0,,,,,,"when use sdk query or invoke the chaincode, it can get result correctly ,but it always have an Errors say:  sdk.security.CryptoPrimitives - Cannot validate certificate. Error is: the trustAnchors parameter must be non-empty.

 

i am running the sdk on centos 6 with openjdk 1.8",,guo,Kuro1,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/17 11:33 PM;rickr;image-2017-10-11-10-33-03-853.png;https://jira.hyperledger.org/secure/attachment/12412/image-2017-10-11-10-33-03-853.png","11/Oct/17 4:10 PM;guo;sdk.PNG;https://jira.hyperledger.org/secure/attachment/12409/sdk.PNG",,,,,,,,,,,,,,,,,,,,,,,"1|hzyj3j:",,,,,,,,,,,,,,,,,,,,,,,,,guo,Kuro1,rickr,,,,,,,,,,,,,,,,,"11/Oct/17 11:33 PM;rickr;What is o.h.f.sdk.security.CryptoPrimitives ?

 

!image-2017-10-11-10-33-03-853.png!;;;","19/Oct/17 12:05 AM;rickr;Does not appear error is being generated by a package that is provided by the SDK.;;;","26/Oct/17 7:13 PM;guo;org.hyperledger.fabric.sdk.security.CryptoPrimitives [~rickr]

use no SSL;;;","14/Sep/18 5:48 PM;Kuro1;same error in release-1.2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
grpc Netty throws exception when has too many connections to Orderer,FABJ-218,15217,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ruslankryukov,ruslankryukov,ruslankryukov,06/Mar/17 7:42 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,07/Mar/17 6:17 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"When we create connection to orderer in OrdererClient, we expect that this connection will be closed in finalize-method. But when we have a lot of connections (which were created by sending a many invokeProposals), JVM just doesn't have time to close OrdererClient by calling finalize-method where channel will be shut down.

Finally, we have got a NullPointer exception like this: 
https://github.com/grpc/grpc-java/issues/2296",,rickr,ruslankryukov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxmwf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,ruslankryukov,,,,,,,,,,dev,main,,,,,,true,"07/Mar/17 12:24 AM;rickr;Just want to say thanks much for working on this !;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Java example_cc for fabric 82ecbeaf,FABJ-219,15796,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,sanchezl,sanchezl,18/Apr/17 10:52 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Apr/17 10:45 PM,,,,,v1.0.0,,,,,0,chaincode,,,,,"Update Java chain code example_cc to sync with:
* FAB-3066
* FAB-3101",,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3066,FAB-3101,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxq7r:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"InstallProposalBuilder always throw exception ""chaincodePath must be null for Java chaincode""",FABJ-220,19945,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,guo,guo,04/Aug/17 6:41 PM,14/Feb/19 10:36 PM,28/Oct/23 2:21 AM,08/Aug/17 10:59 PM,v1.0.0,,,,WON'T FIX,,,,,0,,,,,,"also 1.0.0 not support java chaincode, but it will be later, there is one bug for java sdk 

in org.hyperledger.fabric.sdk.transaction.InstallProposalBuilder.java 

line 144-146:

{code}
// Verify that chaincodePath is null
 if (null != chaincodePath) {
 throw new IllegalArgumentException(""chaincodePath must be null for Java chaincode"");
 }
{code}

if chaincodePath not null it will throw exception, but when we set it as null like this way :

{code}
installProposalRequest.setChaincodePath(null);
{code}

it still not work,

because in Channel.java

{code}
line 1234 : installProposalbuilder.chaincodePath(installProposalRequest.getChaincodePath()); 
{code}

it will call TransactionRequest's getChaincodePath,

let's see org.hyperledger.fabric.sdk.TransactionRequest.java

line: 113-115

{code}
public String getChaincodePath() {
 return null == chaincodePath ? """" : chaincodePath;
 }
{code}

so chaincodePath will be always """"  if set it as null 

need change in org.hyperledger.fabric.sdk.transaction.InstallProposalBuilder.java 

line 144-146 like :

{code}
// Verify that chaincodePath is null
  if (null !=StringUtils.trimToNull(chaincodePath)) {
 throw new IllegalArgumentException(""chaincodePath must be null for Java chaincode"");
 }
{code}
 

 ",,guo,marcello_romani_ocyan,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-164,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzybxr:",,,,,,,,,,,,,,,,,,,,,,,,,guo,marcello_romani_ocyan,rickr,,,,,,,,,,,,,,,,,"08/Aug/17 10:59 PM;rickr;Not fixing till Java Chaincode is offically supported in the Fabric.;;;","14/Feb/19 10:36 PM;marcello_romani_ocyan;I was able to deploy (install and instantiate) a Java chaincode by setting {{chaincodePath}} to {{null}}

 

Is there any update on official support for Java chaincode in Fabric?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer rejects broadcast mesasge sent by HFC (fabric-sdk-java) ,FABJ-221,18144,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rhegde,rhegde,16/Jun/17 10:51 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/Jun/17 8:53 AM,v1.0.0-beta,,,,WON'T FIX,,,,,0,,,,,,"[~jyellick] 

Environment

Our setup contains organization been part of public and a private channel. This organization's client has its own CA and has enrolment performed successfully.

The same crypto is used by the client now to perform transaction on public and private channel.

Transaction is successfully updated on the Public Channel however on Private channel the transaction is rejected.

Orderer logs message 
{quote}2017-06-15 00:09:47.735 UTC [orderer/common/broadcast] Handle -> WARN 45c2 Rejecting broadcast message because of filter error: Rejected by rule: *sigfilter.sigFilter
{quote}

HFC (fabric-sdk-java)
{quote}OrdererClient - resp status value: 400, resp: BAD_REQUEST{quote}
 
This was discussed in detail by sharing failure-success logs seen on the orderer, configtx.yaml and channel configuration block of public and private channel. Can you use this material available [~jyellick] for analysis which i cannot upload here.

This is the analysis reported so far on RC by [~jyellick] 

{quote}
The CA cert for the org is the same in both channels
2. The signing cert used for both transactions is the same
3. The signature is not validating on the private channel, but does on the public one 
So, at this point, it seems to me like this is likely an SDK problem. If I had access to the transaction bytes which were submitted on each channel, I could verify (3) manually, but I'm guessing we need to drag [~rickr] into this.

The certificate sent to the orderer is correct, it is the signature that seems incorrect   
{quote}

Observation
1. This setup was working fine on Fabric Alpha Images (19th May Build) however and has started failing on Fabric Beta v1.0.0.
2. We can run Peer CLI end-2-end with our chaincode without any issues.





 ",,jyellick,kchristidis,rhegde,rickr,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,FAB-4830,,,"20/Jun/17 10:04 AM;rhegde;EclipseDebugPoint-EnrollmentInformation-Failure.png;https://jira.hyperledger.org/secure/attachment/11205/EclipseDebugPoint-EnrollmentInformation-Failure.png","20/Jun/17 10:04 AM;rhegde;EclipseDebugPoint-EnrollmentInformation-Success.png;https://jira.hyperledger.org/secure/attachment/11206/EclipseDebugPoint-EnrollmentInformation-Success.png","17/Jun/17 12:55 AM;rickr;image-2017-06-16-11-55-36-212.png;https://jira.hyperledger.org/secure/attachment/11183/image-2017-06-16-11-55-36-212.png","17/Jun/17 1:38 AM;rickr;image-2017-06-16-12-38-05-728.png;https://jira.hyperledger.org/secure/attachment/11184/image-2017-06-16-12-38-05-728.png",,,,,,,,,,,,,,,,,,,,,"1|hzy3fz:",,,,,,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,rhegde,rickr,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,true,"16/Jun/17 11:38 PM;rickr;Can we get a full log of this both with peers and orderers at debug and SDK with debug.

SDK debug can be enabled with env variable being set.

ORG_HYPERLEDGER_FABRIC_SDK_LOGLEVEL=TRACE

 

If possible please upload this as attachments  thanks.;;;","17/Jun/17 12:12 AM;kchristidis;(Resetting to default priority – whoever ends up handling this should assess priority and update the field accordingly.);;;","17/Jun/17 12:18 AM;rickr;In channel.java can you update the code 

private Envelope createTransactionEnvelope(Payload transactionPayload, User user) throws CryptoException \{

*{color:#d04437}String mykey = user.getEnrollment().getKey().toString();{color}*
 *{color:#d04437}logger.error(format(""user %s, mspid %s and my key is: %s"", user.getName(), user.getMspId(), mykey));{color}*

return Envelope.newBuilder()
 .setPayload(transactionPayload.toByteString())
 .setSignature(ByteString.copyFrom(client.getCryptoSuite().sign(user.getEnrollment().getKey(), transactionPayload.toByteArray())))
 .build();

}

 

 

Compare the keys being used between the successful orderer transaction and the failed one ? 
Or do this in a debugger?

 

Can I also assume in both channels being used the same crypto hash algorithm/strength is being used ? ;;;","17/Jun/17 12:53 AM;Clayton Sims;I am on with CLS.   They want to confirm this is all the logs you need,  if you require others they want to collect them all at once. 

 ;;;","17/Jun/17 12:55 AM;rickr;Better than that S value that may not really identify the key is in a debugger look at the *{color:#d04437}d{color}* value of the key.

Comparing these when it's succesfull and when it's not we'll know if the sdk is using the samekey in both cases.

 

 

!image-2017-06-16-11-55-36-212.png!

 

C;;;","17/Jun/17 12:59 AM;rhegde;We will do as suggested, do let us know if we need to set any other docker-environment-variable (orderer) so we can run single test.
;;;","17/Jun/17 1:24 AM;rickr;If you're using the beta docker-compose of the SDK it should be set. It's also now it the latest readme.md documented 

 

What's really important is see the d value between the two.;;;","17/Jun/17 1:38 AM;rickr;Having the ecSpec between the too which is below the d value is helpful too if you can get that

!image-2017-06-16-12-38-05-728.png!;;;","19/Jun/17 10:53 PM;Clayton Sims;[~rhegde]   any update on getting the info back to Rick?;;;","19/Jun/17 11:25 PM;rhegde;[~rickr] [~Clayton Sims]

Public and Private channel were using different users (admin and user1) as per our setup. It is successful upon using Admin however fails for user1, we will share logs in next 4-6hours as we are blocked with our own internal issue as of now.;;;","20/Jun/17 12:05 AM;rickr;This last comment  is different then what was first stated.  It's now not even clear can the Admin access both channels and the user1 can only do public and not private ?  Can user1 access anything ?

 ;;;","20/Jun/17 12:10 AM;jyellick;[~rhegde] The scenario I worked through with you on rocketchat had the same user submitting on both channels.  We observed in the log that the identity provided (certificate) was identical for both broadcast requests in both channels, but the signature validated in the public channel and failed to validate in the private channel.

Based on your most recent comment:

> Public and Private channel were using different users (admin and user1) as per our setup. It is successful upon using Admin however fails for user1, we will share logs in next 4-6hours as we are blocked with our own internal issue as of now.

It sounds to me like you are discussing a different scenario?;;;","20/Jun/17 4:48 AM;kchristidis;Who is assigned to this?;;;","20/Jun/17 11:18 AM;jyellick;Based on the two debugging screen shot values just uploaded, I see two different 'D' values. As indicated by [~rickr]'s comment, this would indicate two different keys are being used for signing.;;;","20/Jun/17 11:28 AM;rhegde;[~rickr]
As my understanding - user1 and admin both should be allowed to perform operation on the channel (public or private). This is using the default orderer.genesis and channel configuration block generated using configtxgen and cryptogen tool.

I am attaching 2 screenshots as requested on this scenario
 * EclipseDebugPoint-EnrollmentInformation-Failure.png

!EclipseDebugPoint-EnrollmentInformation-Failure.png|thumbnail! 

* EclipseDebugPoint-EnrollmentInformation-Success.png

!EclipseDebugPoint-EnrollmentInformation-Success.png|thumbnail!


[~jyellick] Above screenshot is now replicated on same channel (failure and success) with admin performing transaction successfully and user1 getting the error. The only thing after understanding, in both the cases, fetching channel configuration in both the case is done using admin.;;;","20/Jun/17 12:20 PM;jyellick;[~rhegde] could you confirm what the bug behavior is? My impression was this this was the same user across two channels.  Based on your most recent comment, this is two users within one channel?;;;","20/Jun/17 9:31 PM;rickr;I'm confused about the situation here.   The picture you have above does seem to have the same private key but both have the name *admin ?* I thought there was an issue with *user1* ?  So what's different between the two above ?  The Channel  ? 

The above can't be the same user if the private key' values are the same.

Where both channels private/public created with the *same* configtx configuration?

Admin should be able to do any operation on each channel is that true ?  _(doesn't seem so from above but asking)_

User1  what channels can that account invoke operations on ?   Public ?  Private? 

What is exactly different in the above cases ?

Where are the logs requested ?;;;","20/Jun/17 11:52 PM;rhegde;I will request if we can have a screen-share/webex on this and show what we are trying to do. I will put our HFC team member. Is that ok [~rickr], [~jyellick]?  If yes - I can check offline on RC for convenient time.

I cannot share logs as I have to mask content at lot places. ;;;","22/Jun/17 7:42 PM;rhegde;We had a WebEx with [~rickr], [~jyellick] [~muralisr]and reproduced the issue where user1 is not allowed to perform transaction whereas admin is allowed.;;;","22/Jun/17 9:54 PM;rickr;I can't reproduce this locally as was described by your scenario.  The org/hyperledger/fabric/sdkintegration/End2endIT.java code I think does the exact same scenario.
if you look in construct channel  *client.setUserContext(sampleOrg.getPeerAdmin())*;  is set to admin.

After that runChannel method is executed and there is also an unneeded *client.setUserContext(sampleOrg.getPeerAdmin());*  at the beginning there when installing and instantiating chaincode.   All of this must be done with and admin identity.   If you then follow the flow  after the *Send instantiate transaction to Orderer* comment  there is a *client.setUserContext(sampleOrg.getUser(TESTUSER_1_NAME));*  This is the start of the invoking chaincode that is done by the non-admin user. This non admin user creates the proposal submits it and later invokes the chaincode yet again to validate it has been updated.

 

I have followed this in the debugger and have not found a case where usercontext is not what is to be expected unlike what we saw running your scenario.

Since logs nor code can be provided for the actual scenario I need someone to modify the end2end code  to reproduce this error.  Or possible try modify your code to reflect any difference there might be between to two to see if you that fixes the issue.

 

 

 

 

 ;;;","30/Jun/17 7:12 AM;rhegde;As per suggestion from Rick, Manjeet did the refactoring of code and this issue is not getting reproduced. This issue can be marked as not-a-defect.

Thanks for the support.;;;","30/Jun/17 7:39 AM;rickr;Glad you've made progress.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java-verify/merge-x86_64 is failing as there is a user authentication error,FABJ-222,26989,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,sambhavdutt,sambhavdutt,23/Jan/18 1:42 AM,19/Mar/19 8:12 PM,28/Oct/23 2:21 AM,23/Jan/18 1:51 AM,,,,,,,,,,0,ci-failure,,,,,"The following error was observed in the verify,merge-x86_64 tests which are failing the builds ,

15:50:32 Expected: (an instance of org.hyperledger.fabric_ca.sdk.exception.EnrollmentException and exception with message a string containing ""Failed to re-enroll user"") 

*Build Log*

https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/215/consoleFull",,rickr,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyu8v:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,sambhavdutt,,,,,,,,,,,,,,,,,,"23/Jan/18 1:50 AM;rickr;Latest merge is working [https://gerrit.hyperledger.org/r/#/c/16115/]
this was cause by a change in fabric Ca;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update blocks need to trigger certificate loading,FABJ-223,32039,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,19/Jul/18 3:55 AM,25/Jul/18 4:36 AM,28/Oct/23 2:21 AM,25/Jul/18 4:36 AM,v1.2.0,,,,v1.2.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,Unset,Unset,,,,,No,(Please edit issue to document commit found in),Unset,No,,,"1|hzzj5b:",,,,Unset,Unset,,,,,,,(Please edit issue to document steps to reproduce),,Unset,,,,,(Please edit the issue to enter your test plan),,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MalformedURLException: unknown protocol: grpc,FABJ-224,14965,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,sodiaan,sodiaan,21/Feb/17 10:55 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Feb/17 11:06 PM,,,,,v1.0.0,,,,,0,,,,,,"I got an MalformedURLException when running the code

HFClient hfclient = HFClient.createNewInstance();
Chain testChain = hfclient.newChain(""chain1"");
testChain.setMemberServicesUrl(""grpc://localhost:7054"", null);

MalformedURLException: unknown protocol: grpc

dependencies:
compile group: 'io.grpc', name: 'grpc-all', version: '1.1.2'
compile group: 'org.hyperledger.fabric-sdk-java', name: 'fabric-sdk-java', version: '1.0-SNAPSHOT'",,rickr,sodiaan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlo7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,sodiaan,,,,,,,,,,,,,,,,,,"21/Feb/17 11:06 PM;rickr;Members services does not use grpc . It uses https.
See the fabric-sdk-java/src/test/java/org/hyperledger/fabric/sdk/End2endIT.java  for a full example of deploying, invoking and installing chain code.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
License header comment missing from test code files,FABJ-225,14812,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,,pschnap,pschnap,16/Feb/17 1:48 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Feb/17 3:52 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Some of the code files in the SDK tests, e.g. End2endIT.java, are missing the licensing header comment.",,pschnap,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxl3r:",,,,,,,,,,,,,,,,,,,,,,,,,pschnap,rickr,tuand,,,,,,,,,dev,main,,,,,,true,"16/Feb/17 2:20 AM;rickr;trying to get this addressed with https://gerrit.hyperledger.org/r/#/c/6007/https://gerrit.hyperledger.org/r/#/c/6007/ yet;;;","16/Feb/17 3:51 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6065/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sdk java e2e tests failed to enroll user admin,FABJ-226,16393,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rameshthoomu,rameshthoomu,07/May/17 2:07 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,07/May/17 9:18 PM,,,,,v1.0.0,,,,,0,java-SDK,quality,,,,"sdk-java e2e tests are failing consistently in CI.. Below is the error observed

rg.hyperledger.fabric_ca.sdk.exception.EnrollmentException: Url:http://localhost:7054, Failed to enroll user admin 

{code:java}
00:26:46.246 Failed tests: 
00:26:46.246   End2endAndBackAgainIT.setup:177 setUserContext for user peerOrg1Admin has no Enrollment set
00:26:46.246   End2endIT.setup:195 Url:http://localhost:7054, Failed to enroll user admin 
00:26:46.246 Tests in error: 
00:26:46.246   HFCAClientEnrollIT.setup:102 » Enrollment Url:http://localhost:7054, Failed to...
00:26:46.246   HFCAClientEnrollIT.setup:102 » Enrollment Url:http://localhost:7054, Failed to...
00:26:46.246 
{code}

below is the build log:
https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/430/console",Jenkins CI (x86_64),rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxtq7:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"07/May/17 9:18 PM;rickr;Doesn't reproduce;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ConfigTest fails on Jenkins and some other machines,FABJ-227,14882,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,17/Feb/17 10:54 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Feb/17 12:49 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"The problem is that Config is a singleton and the other test suites are interfering with the setup of ConfigTest.

JUnit runs the test suites in random order so if it happens that ConfigTest runs first then everything runs. If not, like in the Jenkins case, then the test case fails",,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlaf:",,,,,,,,,,,,,,,,,,,,,,,,,tuand,,,,,,,,,,,dev,main,,,,,,true,"21/Feb/17 12:49 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6123/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unexpected chaincode language: JAVA when deploying java chaincode,FABJ-228,15405,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,sanchezl,sanchezl,20/Mar/17 10:42 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Mar/17 5:25 AM,,,,,,,,,,0,,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2660,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxob3:",,,,,,,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.0 pom compile error due to grpc.io wrong version,FABJ-229,15257,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,denisgaebler,denisgaebler,08/Mar/17 7:41 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,09/Mar/17 12:49 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Hi,

I got compile errors when creating the 1.0 snapshot jar. The reason is, that in the pom there is v1.0.3 as requirement. After changing grpc.version to 1.1.2 the compile worked fine.

Thanks, Denis.",,denisgaebler,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxn2n:",,,,,,,,,,,,,,,,,,,,,,,,,denisgaebler,rickr,,,,,,,,,,dev,main,,,,,,true,"08/Mar/17 8:44 PM;rickr;Thanks we'll look into this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not running latest fabric commit level,FABJ-230,16537,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,10/May/17 9:57 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/May/17 10:55 PM,,,,,v1.0.0,,,,,0,,,,,,"Not running latest fabric commit level

 

https://gerrit.hyperledger.org/r/#/c/9183/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxufj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK failed to get configuration block sometimes,FABJ-231,27657,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,kiattchaip,kiattchaip,13/Feb/18 1:07 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,14/Feb/18 9:48 AM,,,,,v1.1.1,,,,,0,,,,,,"I create a hyperledger fabric network that has 2 organizations, Org1 and Org2. Each organization has 2 peers and has its own MSP. Then, I use fabric-ca to create a User1 that is a member of Org1 and I get the exception below sometimes when I try to initialize the channel having 4 peers from both organizations with User1.

 

org.hyperledger.fabric.sdk.exception.TransactionException: org.hyperledger.fabric.sdk.exception.ProposalException: getConfigBlock for channel mychannel failed with peer peer1.org2.example.com.  Status FAILURE, details: Sending proposal to peer1.org2.example.com failed because of: gRPC failure=Status\{code=UNKNOWN, description=Failed to deserialize creator identity, err expected MSP ID Org2MSP, received Org1MSP, cause=null}
     at org.hyperledger.fabric.sdk.Channel.parseConfigBlock(Channel.java:1168)
     at org.hyperledger.fabric.sdk.Channel.initialize(Channel.java:948)

 

I will get the exception if SDK try to get the configuration block from Org2 peers. I look into the Channel.parseConfigBlock() and find that the method randomly selects the peer from all peers added to the channel in order to get the configuration block. Is it possible to filter the peer list with the user MSP before selecting or provide some way to choose the peer for getting the configuration block?

 I need to add peers from both organizations to the channel because a proposal need to be signed by both organizations.",,kiattchaip,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-188,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyx7r:",,,,,,,,,,,,,,,,,,,,,,,,,kiattchaip,rickr,,,,,,,,,,,,,,,,,,"13/Feb/18 8:55 PM;rickr;what version of the sdk are you using ?  v1.1.0-alpha ?  SNAPSHOT ?   git commit level ?

This cross organization demo works for me 
[https://github.com/cr22rc/fabricSDKJavaMultiDomainSample]

There was a bug v1.1.0-alpha that would cause that it was fixed with
https://jira.hyperledger.org/browse/FAB-7994

gerrit commit  https://gerrit.hyperledger.org/r/#/c/17705/

 ;;;","14/Feb/18 9:48 AM;rickr;Has same symptoms.;;;","14/Feb/18 12:13 PM;kiattchaip;Hi Rick, I am using SDK 1.1.0-alpha downloaded from maven central repository. Yes, I think it is similar to https://jira.hyperledger.org/browse/FAB-7994 that was fixed. I have tried SDK 1.1.0-SNAPSHOT and not found this issue. Thank you for the information.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Return type of BlockInfo.getTransactionActionInfos() does not match the method name,FABJ-232,20936,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,clempo,clempo,21/Sep/17 1:18 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Oct/17 5:22 AM,v1.0.1,,,,v1.1.0,,,,,0,,,,,,"The method BlockInfo.getTransactionActionInfos() returns Iterable<EnvelopeInfo>, it does not return Iterable<TransactionActionInfo>. This is very confusing. I doubt it was ever meant to return Iterable<TransactionActionInfo>, so this is probably an error in the method name.
To fix this properly, we would also have to rename BlockInfo.TransactionInfoIterator 

Compare this to Iterable<TransactionActionInfo> TransactionEnvelopeInfo.getTransactionActionInfos() which makes a lot more sense.",,clempo,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzygyv:",,,,,,,,,,,,,,,,,,,,,,,,,clempo,rickr,,,,,,,,,,dev,main,,,,,,true,"26/Sep/17 1:48 AM;rickr;What does blockWalker in End2endIT do?
for (BlockInfo.TransactionEnvelopeInfo.TransactionActionInfo transactionActionInfo : transactionEnvelopeInfo.getTransactionActionInfos())

 

Seems to me its returning a TransactionActionInfo ;;;","26/Sep/17 2:38 AM;clempo;Exactly, I said Iterable<TransactionActionInfo> TransactionEnvelopeInfo.getTransactionActionInfos() makes sense. The one that is broken is BlockInfo.getTransactionActionInfos();;;","05/Oct/17 1:58 AM;rickr;getTransactionActionInfos is just a duplicate of getEnvelopeInfos probably a forgotten cut paste.;;;","05/Oct/17 2:02 AM;clempo;Indeed, so let's remove BlockInfo.getTransactionActionInfos() and its support classes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
proposal consistency validation reported error when successful >1,FABJ-233,30572,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,fireflyc,fireflyc,24/May/18 12:24 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,25/Jun/18 8:34 PM,,,,,Not a Bug,,,,,0,,,,,,"The proposal consistency can be verified in the Java SDK。

 

[https://github.com/hyperledger/fabric-sdk-java/blob/8f6944a54e192e9700a6b000a3d7c6d53bf57e5f/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L3203-L3215]

 

An error will be reported when successful proposal > 1。

 

stack traces logs：

Caused by: java.lang.IllegalArgumentException: {color:#ff0000}The proposal responses have 2 inconsistent groups with 0 that are invalid. Expected all to be consistent and none to be invalid.{color}
 at org.hyperledger.fabric.sdk.Channel.sendTransaction(Channel.java:3208)
 at org.hyperledger.fabric.sdk.Channel.sendTransaction(Channel.java:3079)
 at org.hyperledger.fabric.sdk.Channel.sendTransaction(Channel.java:2819)
 at org.hyperledger.fabric.sdk.Channel.sendTransaction(Channel.java:2805)
 at im.fireflyc.fabric.openlibrary.service.fabric.ChainCodeService.invokeWrite(ChainCodeService.java:88)",,fireflyc,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzc1z:",,,,,,,,,,,,,,,,,,,,,,,,,fireflyc,rickr,,,,,,,,,,,,,,,,,,"24/May/18 8:58 PM;rickr;Try turning it off 
https://github.com/hyperledger/fabric-sdk-java/blob/8f6944a54e192e9700a6b000a3d7c6d53bf57e5f/src/main/java/org/hyperledger/fabric/sdk/helper/Config.java#L90;;;","24/May/18 9:00 PM;rickr;I don't think this is a bug ... Just because the they're successful does not mean they're consistent and will later get rejected.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Block events duplicated,FABJ-234,31038,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,osesov,osesov,14/Jun/18 2:15 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jun/18 10:25 PM,v1.1.0,,,,,,,,,0,,,,,,"Block events duplicate when come to client side.
{quote}2018-06-13 15:03:23,534 grpc-default-executor-2 DEBUG EventHub:206 - EventHub peer0.luxoft.com got event type: BLOCK
 2018-06-13 15:03:23,537 pool-9-thread-1 DEBUG Channel:3776 - Channel z-channel got event for transaction _*a4d31ffe54e191772babbba99977c1d0dcf8a41a606fe274d28207bdd2887f59*_ 
 2018-06-13 15:03:23,540 pool-8-thread-1 DEBUG Channel:3776 - Channel z-channel got event for transaction _*a4d31ffe54e191772babbba99977c1d0dcf8a41a606fe274d28207bdd2887f59*_
{quote}
Issue happens due to using two ways of delivering events:
 EventHub class listens to EventsGrpc events:
{code:java}
synchronized boolean connect() {
   ...
   if (event.getEventCase() == EventCase.BLOCK) {
      ...
      EventHub.this.eventQue.addBEvent(blockEvent);
   }
 }
{code}
 
 another in PeerEventServiceClient, while listening for deliverFiltered or deliver streams:
{code:java}
void connectEnvelope() {
   ...
   if (typeCase == FILTERED_BLOCK || typeCase == BLOCK) {
      ...
      channelEventQue.addBEvent(blockEvent);
   }
}
{code}","maven release: group: 'org.hyperledger.fabric-sdk-java', name: 'fabric-sdk-java', version: '1.1.0'",denyeart,osesov,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzepj:",,,,,,,,,,,,,,,,,,,,,,,,,denyeart,osesov,rickr,,,,,,,,,,,,,,,,,"18/Jun/18 8:50 PM;denyeart;[~rickr] Could you assess?;;;","18/Jun/18 10:24 PM;rickr;Working as designed. You should no long create Eventhubs if you are working with a Fabric server v1.1 or later. The prefered method is to use just the Peer eventing service.  Be advised that you can still see duplicate blocks if there are more than one Peer with Peer eventing services created.  You'll get one each and each has a means to distinguish which peer was the source.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bad null check channelConfiguration,FABJ-235,17695,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,10/Jun/17 1:10 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,10/Jun/17 3:17 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,Bad null check channelConfiguration in Channel.jva,,rickr,weeds,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp1j:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,weeds,,,,,,,,,,dev,main,,,,,,true,"10/Jun/17 2:39 AM;weeds;gerrit 10405;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel initialize and retry recovery.,FABJ-236,28492,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,14/Mar/18 1:02 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Mar/18 5:39 AM,v1.0.0,,,,v1.1.0,,,,,0,,,,,,"Allow channel to initialize when peers and event hubs are failing.

Use peer eventing service start block on re connection.

Keep peer eventing service and eventhubs reconnecting.

Provide thread safe version of Channel query apis.

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz15r:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-Java e2e tests are failing on latest fabric commit (599a7fa),FABJ-237,15808,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rameshthoomu,rameshthoomu,18/Apr/17 11:10 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Apr/17 2:34 AM,,,,,v1.0.0,,,,,0,chaincode,quality,,,,"fabric-sdk-java e2e tests are failing on latest fabric commit (599a7fa). Below is the error log:

{code:java}
3:01:52 Sending install proposal
13:01:52 2017-04-18 13:01:52 ERROR Chain:2041 - Sending proposal to peer1 failed because of gRPC failure=Status{code=UNKNOWN, description=failed to obtain cds for lccc - could not find chaincode with name 'lccc', cause=null}
13:01:52 java.lang.Exception: io.grpc.StatusRuntimeException: UNKNOWN: failed to obtain cds for lccc - could not find chaincode with name 'lccc'
{code}

after fabric (599a7fa) commit merge, chaincode name has been changed to lscc from lccc. Build log file:

https://jenkins.hyperledger.org/sandbox/job/e2e_java_x86_64/3/console
",Jenkins CI on x86_64,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxq93:",,,,,,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,"19/Apr/17 3:34 AM;rameshthoomu;[~rickr] Is this fixed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unnecessary code,FABJ-238,19544,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,liuwenliang0632,liuwenliang0632,liuwenliang0632,28/Jul/17 1:28 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,28/Jul/17 9:20 PM,,,,,v1.0.1,,,,,0,java-SDK,,,,,"i want to delete this line in UpdateChannelIT.java

{code:java}
//HttpClients.createDefault();
HttpClient httpclient = HttpClients.createDefault();
{code}
",,liuwenliang0632,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy9yf:",,,,,,,,,,,,,,,,,,,,,,,,,liuwenliang0632,rickr,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dev,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,true,"28/Jul/17 9:20 PM;rickr;Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure to get last config block,FABJ-239,15385,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,17/Mar/17 11:20 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Mar/17 4:42 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,Failure to get last config block,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo7j:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,"18/Mar/17 12:11 AM;rickr;Should be fixed with https://gerrit.hyperledger.org/r/#/c/7311/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing chaincodeID info in BlockInfo,FABJ-240,30217,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,16/May/18 2:59 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Jun/18 7:44 AM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,gerrit CR: https://gerrit.hyperledger.org/r/#/c/21831/,,jtrayfield,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza9r:",,,,,,,,,,,,,,,,,,,,,,,,,jtrayfield,rickr,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Signature algorithm wrong for endorsers,FABJ-241,17733,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,11/Jun/17 2:31 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Jun/17 3:23 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,"Signature algorithm wrong for endorsers

provide minor cleanup too.",,rickr,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx3sv:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deliver envelope get 503 error,FABJ-242,18959,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,liuwenliang0632,liuwenliang0632,liuwenliang0632,05/Jul/17 12:17 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,18/Jul/17 1:47 AM,,,,,v1.0.1,,,,,0,,,,,,when i create channel and deliver envelope from orderer. i got 503 error .,,chenxuan,liuwenliang0632,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-170,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy6vr:",,,,,,,,,,,,,,,,,,,,,,,,,chenxuan,liuwenliang0632,rickr,,,,,,,,,dev,main,,,,,,true,"14/Jul/17 2:00 AM;liuwenliang0632;i see your comment for my Patch Set 9 ""If the resp.getStatusValue is not 200 don't we want to throw an exception by adding an exception to throwable ?""

----------------------------------------------

i start one  docker-compose file which contains  peer*4+  ca*2 + orderer*2 + kafka*3 + zookeeper*3. 

before using my patchset i got 503 and throw a excetion .

and then using my patchset .the log will show.

DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 503, resp: SERVICE_UNAVAILABLE, type case: STATUS
..........................................some times .......................................

DEBUG OrdererClient:233 - resp status value: 0, resp: UNKNOWN, type case: BLOCK
DEBUG OrdererClient:233 - resp status value: 200, resp: SUCCESS, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 0, resp: UNKNOWN, type case: BLOCK
DEBUG OrdererClient:233 - resp status value: 200, resp: SUCCESS, type case: STATUS
DEBUG OrdererClient:233 - resp status value: 0, resp: UNKNOWN, type case: BLOCK
DEBUG OrdererClient:233 - resp status value: 200, resp: SUCCESS, type case: STATUS

 i can work well.

so that is why i cannot add an exception to the throwlist  to throwable. ;;;","14/Jul/17 2:08 AM;liuwenliang0632;when i got 503 the type case is also equals STATUS :(;;;","14/Jul/17 2:15 AM;rickr;I need to investigate some.

How does this happen .. I've not seen this ?

 ;;;","14/Jul/17 2:23 AM;liuwenliang0632;it can show every time;;;","14/Jul/17 3:05 AM;rickr;I don't think we want this fix to OrdererClient it's too low in the stack.

Look at Channel.java  getGenesisBlock method.

see:
if (status.getStatusValue() == 404) \{
                            logger.warn(format(""Bad deliver expected status 200  got  %d, Channel %s"", status.getStatusValue(), name));
                            // keep trying...

 

try changing to :

 

if (status.getStatusValue() == 404 _|| status.getStatusValue() == 503_) \{
                            logger.warn(format(""Bad deliver expected status 200  got  %d, Channel %s"", status.getStatusValue(), name));
                            // keep trying...

 

 

 

Can you try that instead;;;","14/Jul/17 12:40 PM;liuwenliang0632;yes  , i will follow .she works well;;;","14/Jul/17 5:32 PM;chenxuan;yes i meet the same error about the create the channel;;;","14/Jul/17 5:34 PM;liuwenliang0632;vote please :);;;","14/Jul/17 8:45 PM;rickr;Do the change in Channel.java;;;","14/Jul/17 8:54 PM;liuwenliang0632;yes ,i had fixed it in Channel.java . https//gerrit.hyperledger.org/r/#/c/11375/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java Fabric SDK needs to support Ranges of Response Statuses,FABJ-243,16139,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,jimthematrix,timpii,timpii,02/May/17 1:21 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Jun/17 10:22 PM,,,,,v1.0.0,,,,,0,,,,,,"The Java Fabric SDK defines an enum within the ChainCodeResponse which only has 3 items (see below).
	public enum Status {
        UNDEFINED(0),
        SUCCESS(200),
        FAILURE(500);

The Fabric Peer chaincode supports a range of values for both Success and Failure. As such the Java Fabric SDK ChaincodeResponse should be an Integer value which supports the ranges instead of an enum. ",,binhn,muralisr,rickr,timpii,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/17 10:14 PM;timpii;Chain.java;https://jira.hyperledger.org/secure/attachment/10693/Chain.java","02/May/17 10:14 PM;timpii;ChainCodeResponse.java;https://jira.hyperledger.org/secure/attachment/10694/ChainCodeResponse.java",,,,,,,,,,,,,,,,,,,,,,,"1|hzxrvj:",,,,,,,,,,,,,,,,,,,,,,,,,binhn,muralisr,rickr,timpii,,,,,,,,,,,,,,,,"02/May/17 5:27 AM;jimthematrix;I agree, the chaincode response status code follows HTTP response code design, which can be a range of values. the shim provides Success() and Error() as convenient methods but the chaincode developer can easily use the Response proto to construct a custom status code.;;;","02/May/17 10:16 PM;timpii;Attached 2 files - ChaincodeResponse.java and Chain.java with the temp fixes I am using to keep moving forward. It should be noted that while the code still compiles and supports the ranges of status codes, I did not update the test classes. I just don't compile them.;;;","11/May/17 11:37 PM;rickr;This is not the response from the chaincode.  It's from Fabric – talking to Jim again on this having an abstraction ( the enum ) helps insulate the application from possible future changes

 ;;;","12/May/17 12:36 AM;timpii;I do not understand the comment on the response code not being from the chaincode but from the Fabric. The issue with the enum is that the response codes are application specific within the ranges and thus do not lend themselves to the enum.;;;","12/May/17 1:36 AM;rickr;The only values that will be returned for this is 200 := success and 500 := failure 
The fabric Peer is the application;;;","15/May/17 9:13 PM;rickr;The return being check there is from the endorsement which will be 200 or 500.  Nothing from the chaincode itself.;;;","16/May/17 1:22 AM;timpii;Note that CR 9213 and CR 9253 are incorporating the range responses from the Peer. Once this is in place the SUCCESS responses will be 200-499 and the Failure responses 500+. Thus having user defined user chaincode response codes mapped within an enum is not going to work.;;;","16/May/17 2:25 AM;muralisr;[~timpii] There are two responses. One from the chaincode (inner response) and another from the peer (outer response). Currently the outer returns 200 & 500 but this could become a proper range to drill into the type of error (and we can then have enums). The inner response should be preserved unmodified  (if the chaincode did execute).  CR 9213 and CR 9253 should make sure the above rules are met. Its up to the SDKs to use the actual responses appropriately. ;;;","18/May/17 3:56 AM;jimthematrix;the wrapper class will be enhanced to support the CC return code, under FAB-3930;;;","01/Jun/17 10:22 PM;binhn;Done per [~jimthematrix] ref -FAB-3930-;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure connect orderer peer via TLS ,FABJ-244,15400,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,,rickr,rickr,19/Mar/17 7:18 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Mar/17 2:49 AM,,,,,v1.0.0,,,,,0,,,,,,Blocking HLJSDK from running to TLS,,rickr,suganuma,,,,,,,,,,,,,,,,,,,,,FABJ-306,,,,,,,,,,,,,"19/Mar/17 7:21 AM;rickr;client.out;https://jira.hyperledger.org/secure/attachment/10598/client.out","19/Mar/17 7:23 AM;rickr;docker-compose.yml;https://jira.hyperledger.org/secure/attachment/10599/docker-compose.yml","19/Mar/17 7:17 AM;rickr;run.out;https://jira.hyperledger.org/secure/attachment/10597/run.out","19/Mar/17 7:41 AM;rickr;tls.tgz;https://jira.hyperledger.org/secure/attachment/10600/tls.tgz",,,,,,,,,,,,,,,,,,,,,"1|hzxo9z:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,suganuma,,,,,,,,,,,,,,,,,,"19/Mar/17 7:25 AM;rickr;Blocking issue for TLS HLJSDK [~Clayton Sims] [~mastersingh24] [~bmos299] [~jimthematrix];;;","19/Mar/17 7:27 AM;rickr;```
vagrant@hyperledger-devenv:v0.3.0-96b1b90:/opt/gopath/src/github.com/hyperledger/fabric$ docker ps -a 
CONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS              PORTS                                            NAMES
084e85aeeccd        hyperledger/fabric-peer      ""peer node start""        26 minutes ago      Up 26 minutes       0.0.0.0:7051->7051/tcp, 0.0.0.0:7053->7053/tcp   fabric_vp0_1
d65d9823a8be        hyperledger/fabric-orderer   ""orderer""                26 minutes ago      Up 26 minutes       0.0.0.0:7050->7050/tcp                           fabric_orderer_1
1c9fff5cad8f        hyperledger/fabric-ca        ""sh -c 'fabric-ca-...""   26 minutes ago      Up 26 minutes       0.0.0.0:7054->7054/tcp                           ca
```

```
vagrant@hyperledger-devenv:v0.3.0-96b1b90:/opt/gopath/src/github.com/hyperledger/fabric$ docker images 
REPOSITORY                     TAG                             IMAGE ID            CREATED             SIZE
dev-vp0-example_cc.go-1.0      latest                          df0e39f48947        27 minutes ago      176 MB```

```
vagrant@hyperledger-devenv:v0.3.0-96b1b90:/opt/gopath/src/github.com/hyperledger/fabric$ docker network ls
NETWORK ID          NAME                DRIVER              SCOPE
a087656e241c        bridge              bridge              local
4c5f051f8f03        fabric_default      bridge              local
438577696a3a        host                host                local
aa99b349427d        none                null                local
```

```
vagrant@hyperledger-devenv:v0.3.0-96b1b90:/opt/gopath/src/github.com/hyperledger/fabric/tls/orderer$ openssl x509 -in ca.pem -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            23:39:96:13:d4:1f:4f:45:4f:9c:5f:90:e5:fa:51:ae:5a:6f:3d:df
    Signature Algorithm: ecdsa-with-SHA256
        Issuer: C=US, ST=North Carolina, L=Raleigh, O=Hyperledger Fabric, OU=CA, CN=orderer
        Validity
            Not Before: Mar 18 20:42:00 2017 GMT
            Not After : Mar 17 20:42:00 2022 GMT
        Subject: C=US, ST=North Carolina, L=Raleigh, O=Hyperledger Fabric, OU=CA, CN=orderer
        Subject Public Key Info:
            Public Key Algorithm: id-ecPublicKey
                Public-Key: (256 bit)
                pub: 
                    04:a2:05:63:c4:e0:6d:50:2a:a6:0f:34:a5:52:e5:
                    86:f3:43:bb:b0:18:07:fd:8d:34:3b:6f:9a:4c:c4:
                    3f:bc:fd:22:bb:1f:91:66:90:49:e5:38:bb:70:79:
                    af:3f:94:0b:2e:48:ef:1b:68:6a:dd:aa:1f:fb:0a:
                    e1:bd:c7:0a:df
                ASN1 OID: prime256v1
                NIST CURVE: P-256
        X509v3 extensions:
            X509v3 Key Usage: critical
                Certificate Sign, CRL Sign
            X509v3 Basic Constraints: critical
                CA:TRUE
            X509v3 Subject Key Identifier: 
                37:FB:D0:E6:39:0E:FA:CA:7D:33:F3:76:7C:25:52:13:F8:5D:C7:97
    Signature Algorithm: ecdsa-with-SHA256
         30:45:02:21:00:bf:1a:8a:6e:e6:9b:86:2a:25:d5:72:79:8e:
         e7:aa:3c:cd:e7:81:8a:c7:14:03:80:58:88:ae:75:1f:50:b3:
         8a:02:20:19:46:e8:1f:25:85:de:18:94:36:af:90:bb:10:a0:
         05:a0:f6:a7:71:1e:c0:6a:ef:01:e9:07:2c:39:75:c7:6e
```
```
vagrant@hyperledger-devenv:v0.3.0-96b1b90:/opt/gopath/src/github.com/hyperledger/fabric/tls/peers/vp0$ openssl x509 -in ca.pem -text -noout
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            6c:3e:12:fb:b2:f4:40:f3:45:e9:15:05:e9:b9:a6:93:d0:99:41:12
    Signature Algorithm: ecdsa-with-SHA256
        Issuer: C=US, ST=North Carolina, L=Raleigh, O=Hyperledger Fabric, OU=CA, CN=vp0
        Validity
            Not Before: Mar 18 20:47:00 2017 GMT
            Not After : Mar 17 20:47:00 2022 GMT
        Subject: C=US, ST=North Carolina, L=Raleigh, O=Hyperledger Fabric, OU=CA, CN=vp0
        Subject Public Key Info:
            Public Key Algorithm: id-ecPublicKey
                Public-Key: (256 bit)
                pub: 
                    04:8d:c0:30:8e:3e:99:bc:b7:13:c0:81:b7:b8:83:
                    3d:9a:44:98:bd:35:a5:47:f0:0f:9b:d1:13:a6:f1:
                    8c:bb:4c:ab:3d:b4:4d:c0:07:6b:41:d5:af:8d:24:
                    50:e7:2e:da:1a:b5:fb:94:5b:f7:65:d1:8d:b1:2d:
                    5a:44:2b:9c:ed
                ASN1 OID: prime256v1
                NIST CURVE: P-256
        X509v3 extensions:
            X509v3 Key Usage: critical
                Certificate Sign, CRL Sign
            X509v3 Basic Constraints: critical
                CA:TRUE
            X509v3 Subject Key Identifier: 
                A0:FA:59:CB:CD:B2:EE:48:FE:37:F5:F9:24:95:0E:21:96:2F:40:D9
    Signature Algorithm: ecdsa-with-SHA256
         30:45:02:21:00:b1:c9:4a:2e:83:0b:c6:cc:25:b1:92:e7:10:
         f2:38:b0:15:4a:c5:7a:5e:4d:e7:1e:1d:23:19:54:e3:d7:e7:
         e2:02:20:3a:fb:e3:3f:50:f3:5c:4b:2b:f6:c8:86:47:97:2c:
         df:39:57:44:56:b5:2a:f7:3f:57:16:2d:71:18:63:c7:29
```


;;;","19/Mar/17 8:30 AM;rickr;seems like the container is not starting either ?

```
vp0        | 2017-03-18 23:19:50.951 UTC [dockercontroller] Start -> DEBU 34e Cleanup container fabric_default-vp0-example_cc.go-1.0
vp0        | 2017-03-18 23:19:50.953 UTC [dockercontroller] stopInternal -> DEBU 34f Stop container fabric_default-vp0-example_cc.go-1.0(No such container: fabric_default-vp0-example_cc.go-1.0)
vp0        | 2017-03-18 23:19:50.954 UTC [dockercontroller] stopInternal -> DEBU 350 Kill container fabric_default-vp0-example_cc.go-1.0 (No such container: fabric_default-vp0-example_cc.go-1.0)
vp0        | 2017-03-18 23:19:50.955 UTC [dockercontroller] stopInternal -> DEBU 351 Remove container fabric_default-vp0-example_cc.go-1.0 (No such container: fabric_default-vp0-example_cc.go-1.0)
vp0        | 2017-03-18 23:19:50.955 UTC [dockercontroller] Start -> DEBU 352 Start container fabric_default-vp0-example_cc.go-1.0
vp0        | 2017-03-18 23:19:50.955 UTC [dockercontroller] getDockerHostConfig -> DEBU 353 docker container hostconfig NetworkMode: fabric_default
vp0        | 2017-03-18 23:19:50.956 UTC [dockercontroller] createContainer -> DEBU 354 Create container: fabric_default-vp0-example_cc.go-1.0
vp0        | 2017-03-18 23:19:50.986 UTC [dockercontroller] createContainer -> DEBU 355 Created container: fabric_default-vp0-example_cc.go-1.0
vp0        | 2017-03-18 23:19:51.174 UTC [dockercontroller] Start -> DEBU 356 Started container fabric_default-vp0-example_cc.go-1.0
vp0        | 2017-03-18 23:19:51.174 UTC [container] unlockContainer -> DEBU 357 container lock deleted(fabric_default-vp0-example_cc.go-1.0)
vp0        | 2017-03-18 23:24:51.175 UTC [chaincode] launchAndWaitForRegister -> DEBU 3be stopping due to error while launching Timeout expired while starting chaincode example_cc.go:1.0(networkid:fabric_default,peerid:vp0,tx:6f4d412462825dce714d4a282f01cbe2dd695a12d0cb53a69007e7473b3b921f)
vp0        | 2017-03-18 23:24:51.175 UTC [container] lockContainer -> DEBU 3bf waiting for container(fabric_default-vp0-example_cc.go-1.0) lock
vp0        | 2017-03-18 23:24:51.175 UTC [container] lockContainer -> DEBU 3c0 got container (fabric_default-vp0-example_cc.go-1.0) lock
vp0        | 2017-03-18 23:24:51.177 UTC [dockercontroller] stopInternal -> DEBU 3c1 Stop container fabric_default-vp0-example_cc.go-1.0(Container not running: fabric_default-vp0-example_cc.go-1.0)
vp0        | 2017-03-18 23:24:51.177 UTC [dockercontroller] stopInternal -> DEBU 3c2 Kill container fabric_default-vp0-example_cc.go-1.0 (API error (500): {""message"":""Cannot kill container fabric_default-vp0-e```
;;;","20/Mar/17 8:59 PM;rickr;[~mastersingh24] run.out has the logs  it shows peer and orderer are not communicating ;;;","21/Mar/17 2:48 AM;rickr;Found issue was with which CA_ROOT certs were used and needed to have a common signing certificate. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
clean up .protos files to match Fabric versions,FABJ-245,15039,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,25/Feb/17 4:59 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:40 AM,,,,,,,,,,0,v1.0,,,,,"Some of the .protos files have `option java_option` and `import` statements that are not in the versions in hyperledger/fabric/protos.

Also `identities.proto` is in hyperledger/fabric/msp and not in hyperledger/fabric/protos 

Clean up so that we have one official version of the files in one location (probably hyperledger/fabric/protos) and have the SDK builds automatically copy from there as needed.",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2678,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxm0f:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"29/Mar/17 2:40 AM;rickr;Protos are being kept up to date;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"[java-chaincode] In Chaincode-to-Chaincode invocation, main transaction become successful even if second chaincode invocation fails.",FABJ-246,13790,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,satheeshk,abhi201191,abhi201191,13/Dec/16 10:27 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:34 AM,,,,,,,,,,0,,,,,,"

Lets take a reference to example chaincodes: LinkExample and MapExample.

In LinkExample, we are invoking MapExample chaincode and in put function of MapExample chaincode we are doing some check on number of arguments i.e if the number of arguments is odd then we are throwing an RuntimeException.

Now, when we invoke LinkExample chaincode with odd number of arguments and it internally invokes MapExample chaincode with same number of arguments then MapExample chaincode throw an RuntimeException and shim layer catch this exception which results in the failure of invoke transaction to MapExample. But the whole transaction (invoke transaction to LinkExample) is getting successful even if when part of the transaction fails.

In this senario, MapExample is not sending any message regarding its failure to LinkExample which results in success of transaction to LinkExample.
",,abhi201191,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxfzj:",,,,,,,,,,,,,,,,,,,,,,,,,abhi201191,rickr,,,,,,,,,,,,,,,,,,"29/Mar/17 2:34 AM;rickr;Closing this as it's not marked 1.0.0  reopen label as v6;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EnrollmentException: Failed to enroll user admin on non ASCII/UTF platform,FABJ-247,15347,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denisgaebler,denisgaebler,14/Mar/17 10:08 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Mar/17 12:16 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Hi,

when running the java sdk as client on a non ASCII/UTF platform I get the following exception:
org.hyperledger.fabric.sdk.exception.EnrollmentException: Failed to enroll user admin                                                                           
        at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:272)                                                    
        at org.hyperledger.fabric.sdk.User.enroll(User.java:248)                
        at org.hyperledger.fabric.sdk.HFClient.enroll(HFClient.java:301)        
        at com.ibm.blockchain.BlockchainWrapper.getText(BlockchainWrapper.java:58)                                                                              
        at com.ibm.blockchain.RunBlockChainWrapper.main(RunBlockChainWrapper.java:10)                                                                           
Caused by: java.lang.IllegalArgumentException: Illegal base64 character -2d     
        at java.util.Base64$Decoder.decode0(Base64.java:725)                    
        at java.util.Base64$Decoder.decode(Base64.java:537)                     
        at org.hyperledger.fabric.sdk.MemberServicesFabricCAImpl.enroll(MemberServicesFabricCAImpl.java:261)                                                    
        ... 4 more  

The reason is, that the following line in MemberServicesFabricCAImpl.enroll:

{code:java}
261 String signedPem = new String(b64dec.decode(result.getBytes()));
{code}

Uses getBytes with default encoding.

So I changed it to:

{code:java}
            String signedPem = new String(b64dec.decode(result.getBytes(StandardCharsets.UTF_8)));
{code}


and it worked on both x86 and the other platform.",,denisgaebler,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo1r:",,,,,,,,,,,,,,,,,,,,,,,,,denisgaebler,rickr,,,,,,,,,,dev,main,,,,,,true,"18/Mar/17 10:26 PM;rickr;https://gerrit.hyperledger.org/r/#/c/7329/

Thanks for pointing this out;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The TLS configuration not work for peer/orderer,FABJ-248,19131,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,Eagel,Eagel,11/Jul/17 12:08 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Jul/17 6:08 AM,v1.0.0-rc1,,,,v1.0.1,,,,,0,,,,,,"the class org.hyperledger.fabric.sdk.Endpoint line 120

<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

if (!nt.equals(""TLS"") && {color:#d04437}!sslp.equals(""plainText""){color}) \{
 throw new RuntimeException(""Property of negotiationType has to be either TLS or plainText"");
}

_>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>_

 

_It should be_

_<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<_

_if (!nt.equals(""TLS"") &&{color:#d04437} !nt.equals(""plainText""){color}) \{_
_throw new RuntimeException(""Property of negotiationType has to be either TLS or plainText"");_
_}_

_>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>_",,Eagel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy7rb:",,,,,,,,,,,,,,,,,,,,,,,,,Eagel,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance eventhub to avoid waits,FABJ-249,15613,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,07/Apr/17 12:29 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Apr/17 11:11 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Track block event to identify which eventhubs are reporting them. Don't clear transactions futures till all eventhub have reported. Remove waits in End2endIt scenarios.

https://gerrit.hyperledger.org/r/#/c/7811/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5t3:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 need to create a chaincodeId for query,FABJ-250,14800,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,rickr,rickr,15/Feb/17 5:42 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,29/Mar/17 2:32 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,org.hyperledger.fabric.protos.peer.Chaincode  Needs a constructor for name and path.,,isramos,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-686,,,,,,,,,"1|hzx5vj:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,isramos,rickr,,,,,,,,,,,,,,,,,,"19/Mar/17 12:05 AM;rickr;I think this has been addressed .. feel free to close;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing saveState in setAffiliation method,FABJ-251,18413,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,grapebaba,grapebaba,grapebaba,20/Jun/17 4:56 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Jun/17 10:04 PM,,,,,v1.0.0,,,,,0,,,,,,Missing saveState in setAffiliation method,,grapebaba,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzy4zz:",,,,,,,,,,,,,,,,,,,,,,,,,grapebaba,rickr,,,,,,,,,,dev,main,,,,,,true,"21/Jun/17 9:08 PM;rickr;Change in sample code not part of SDK core contained in published maven jar;;;","21/Jun/17 9:27 PM;grapebaba;Why don't we provide a default user implementation, but only a sample? ;;;","21/Jun/17 9:49 PM;rickr;When you download the SDK jar there is no user implementation.  Each application has the freedom to define their own.  What's important is they implement the User and Enrollment interfaces.  The sample shows how that can be done and applications are of course free to borrow from that code.;;;","21/Jun/17 10:00 PM;grapebaba;That's my point, right now user must implement their own user and enrollment. If the sample implementation is good, make it as a default implementation and publish it. It seems make more sense for me. Maybe many users just copy the sample code in their application. And it not impact who want to implement their own.;;;","21/Jun/17 10:09 PM;rickr;The sample code is of course available with the SDK   In a user's own application they may not want that.  I know of several user's of the SDK that already have a User type object that they just add and implement that interface.  They don't want in the SDK jar the Sample code. Just bloat in their perspective.   This keeps the SDK light weight and offers applications a starting point for their own applications if the choose to use it. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
channel.sendTransaction().get() hangs forever,FABJ-252,20883,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,PetrVlasek,PetrVlasek,19/Sep/17 2:40 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,19/Sep/17 3:12 AM,v1.0.1,,,,WON'T FIX,,,,,0,java-sdk,transaction,,,,"I am using Hyperledger Fabric 1.0.1. Right now, I am playing with basic Java SDK capabilities against Fabric networks from ""first-network"" and ""fabCars"" samples.

I am able to connect to the channel or query the data but there is an issue when I want to send transaction in order to write some data. In fact, the data are written, however my code hangs in channel.sendTransaction().get() call - seems like some event is not properly fired or captured.

CompletableFuture<BlockEvent.TransactionEvent> txFuture = channel.sendTransaction(addCarProposals, client.getUserContext());
BlockEvent.TransactionEvent event = txFuture.get(600, TimeUnit.SECONDS);

If txFuture.get() call is commented out, the application proceeds further.

Just to note - query and invoke ran via Node.js SDK proceed without any issue. All Docker containers seem running fine, there are no networking issues... Any event handler needs to be initialized first for a channel? I have no clue.
 
Attached is the example source code I am using and part of the log from the peer showing that the data are written fine and new blocks created.
 
Regards
Petr","MacOS Sierra

Java 1.8.0_60-b27",johncaboose,PetrVlasek,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/17 2:33 AM;PetrVlasek;peer_log.txt;https://jira.hyperledger.org/secure/attachment/12123/peer_log.txt","19/Sep/17 2:33 AM;PetrVlasek;source_code.txt;https://jira.hyperledger.org/secure/attachment/12122/source_code.txt",,,,,,,,,,,,,,,,,,,,,,,"1|hzygof:",,,,,,,,,,,,,,,,,,,,,,,,,johncaboose,PetrVlasek,rickr,,,,,,,,,,,,,,,,,"19/Sep/17 3:11 AM;rickr;No EventHub nothing to process incoming events Future will not resolve.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer event service cannot reconnect NPE ,FABJ-253,29143,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,aatkddny,aatkddny,04/Apr/18 11:19 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Apr/18 12:59 AM,,,,,,,,,,0,java-sdk,,,,,"When the peer calls to try to reconnect to the event service in the method: 

??reconnectPeerEventServiceClient??

It's calling to construct a PeerEventServicClient thus:

??PeerEventServiceClient lpeerEventingClient = *new* PeerEventServiceClient(*this*, *new* Endpoint(url, properties).getChannelBuilder(), properties, *null*);??

If you look at the top of the constructor here:

??    PeerEventServiceClient(Peer peer, ManagedChannelBuilder<?> channelBuilder, Properties properties, PeerOptions peerOptions) \{??

?? ??

??        *this*.channelBuilder = channelBuilder;??

??        *this*.filterBlock = peerOptions.isRegisterEventsForFilteredBlocks();??

 peerOptions is null. This is throwing an NPE. Clearly this isn't what was intended.

 ",1.1.0-alpha SDK,aatkddny,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4hz:",,,,,,,,,,,,,,,,,,,,,,,,,aatkddny,rickr,,,,,,,,,,,,,,,,,,"04/Apr/18 11:38 PM;rickr;Please try on 1.1.0-SNAPSHOT level. Reopen if that produces and must have logs a trace level.
Description is need on exactly how and why the  peer is disconnected.

Thanks.;;;","04/Apr/18 11:40 PM;aatkddny;The peer isn't disconnected. It's running the SDK against bluemix, but you surely can't be justifying calling a constructor with a null and then referencing it in the constructor.

 ;;;","04/Apr/18 11:44 PM;rickr;No I'm saying I'm not supporting 1.1.0-alpha;;;","04/Apr/18 11:48 PM;aatkddny;so what's the supported version? snapshot? the latest version in maven is 1.1.0-alpha.

if you don't want to support it push another version. 

 ;;;","04/Apr/18 11:54 PM;aatkddny;And it dumps in snapshot throwing this:

Received Rst Stream

io.grpc.StatusRuntimeException: UNAVAILABLE: HTTP/2 error code: NO_ERROR
 Received Rst Stream
 at io.grpc.Status.asRuntimeException(Status.java:526) ~[grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:419) [grpc-stub-1.9.0.jar:1.9.0]
 at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:41) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:684) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:41) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:392) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:475) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:63) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:557) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$600(ClientCallImpl.java:478) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:590) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) [grpc-core-1.9.0.jar:1.9.0]
 at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) [grpc-core-1.9.0.jar:1.9.0]
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_162]
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_162]
 at java.lang.Thread.run(Thread.java:748) [na:1.8.0_162]

 

Exception in thread ""pool-5-thread-1"" java.lang.NullPointerException
 at org.hyperledger.fabric.sdk.PeerEventServiceClient.<init>(PeerEventServiceClient.java:78)
 at org.hyperledger.fabric.sdk.Peer.lambda$reconnectPeerEventServiceClient$0(Peer.java:306)
 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 at java.lang.Thread.run(Thread.java:748)

which is the same error output string as the reported one

 ;;;","05/Apr/18 12:07 AM;rickr;Nothing is _supported_ till 1.1.0 is released.  Right now the latest 1.1.0-SNAPSHOT is available.   ;;;","05/Apr/18 12:09 AM;aatkddny;And broken. In the same place as alpha.;;;","05/Apr/18 12:48 AM;rickr;Probably the same because I don't think your  application is really referencing 1.1.0-SNAPSHOT 

From your .m2/repository/org/hyperledger



find | grep -i alpha 

remove any reference to it 

 

Make sure your application's pom.xml refrence 1.1.0-SNAPSHOT

And do a full rebuild.

 

 ;;;","05/Apr/18 12:55 AM;rickr;When you do full rebuild you should see maven pulling it down 
and in your 
.m2/repository/org/hyperledger directory you should see a 1.1.0-SNAPSHOT 
find | grep -i snapshot;;;","05/Apr/18 12:59 AM;aatkddny;Well that was embarrassing.

I actually built it from the latest source.

What I forgot however was that the second defendant project in this POC code ALSO needed it's pom updating from -alpha. A 50% solution didn't cut it in this instance. 

Mea culpa. Apologies. Pls close - I can see the fix in the Peer code.;;;","05/Apr/18 1:06 AM;rickr;Latest published snapshot should be [fabric-sdk-java-1.1.0-20180321.204354-35.jar|https://oss.sonatype.org/content/repositories/snapshots/org/hyperledger/fabric-sdk-java/fabric-sdk-java/1.1.0-SNAPSHOT/fabric-sdk-java-1.1.0-20180321.204354-35.jar]
should see that in the .m2 repo;;;","05/Apr/18 1:30 AM;rickr;Glad it's working for you.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bad merge by reviewer causes build break :),FABJ-254,15586,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,06/Apr/17 5:32 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,06/Apr/17 7:17 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxpa7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer cannot be added to multiple channels using NetworkConfig,FABJ-255,28289,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,,huy.tranibm,huy.tranibm,08/Mar/18 11:58 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,08/Mar/18 1:39 PM,,,,,Not a Bug,,,,,0,,,,,,"Hi, I am using the network-config.json configuration that comes with the 1.1.0alpha. It ready has the channel object foo in it. I am trying to use the NetworkConfig as a way to quickly access my network information.

The error I am getting is:

Caused by: org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Can not add orderer orderer.example.com to channel bar because it already belongs to channel foo.

 

I made some functions based off of the End2endIT.java to create and join peers to a channel. I used the NetworkConfig that uses the profile from network-config.json only to access the peers/orderers endpoints and get the admin certificates.

 

I tried to comment out the fooChannel.shutdown in the End2endIT.java test to see if it throws the same error but it doesnt and goes on to creating channel bar also.",,huy.tranibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz08v:",,,,,,,,,,,,,,,,,,,,,,,,,huy.tranibm,,,,,,,,,,,,,,,,,,,"08/Mar/18 12:06 PM;huy.tranibm;Im sorry now i know what i did wrong, networkconfig created the Orderer/Peer object to be in a certain channel. If i want to them to be in another channel then i need to create another instance with a different channel name but same url, properties and name.  Please close this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Example Java CC in SDK out of sync with shim,FABJ-256,17311,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,sanchezl,sanchezl,31/May/17 10:57 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,01/Jun/17 10:50 AM,,,,,v1.0.0-alpha2,,,,,0,chaincode,,,,,Java CC in Java SDK is out of sync with the changes introduced in FAB-3235.,,sanchezl,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,FAB-3235,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxxvr:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel#initialize need a peer admin identity as user context,FABJ-257,27492,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,schwinnez,schwinnez,07/Feb/18 11:22 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,12/Feb/18 3:31 AM,,,,,,,,,,0,help-wanted,node-SDK,,,,"As far as I can see, the Channel#inititlize method forces me to have a peer admin identity.
To query a channel or invoke functions, the channel also has to be initialized. So far, I can not see an analogon for this need in the Node.js SDK. 
For Node.js, invoking chaincode functions or querying the ledger can be done with a user identity obtained from the CA. 

I have not succeed to use the same user identity to query or invoke functions from java sdk.
Is there a reason for this difference or am I missing some point?",,rickr,schwinnez,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Feb/18 9:09 AM;rickr;MultiDomainSampleV10.java;https://jira.hyperledger.org/secure/attachment/14563/MultiDomainSampleV10.java",,,,,,,,,,,,,,,,,,,,,,,,"1|hzywe7:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,schwinnez,,,,,,,,,,,,,,,,,,"08/Feb/18 12:51 AM;rickr;Initialize the channel with peerAdmin is need as the user can't get the genesis block need. to the MSP.

Also ONLY the peerAdmin can install chaincode on the peers and instantiate them.  Once done member can invoke chaincode.

 End2endIt does switch over to CA member created user once that is done.

[https://github.com/hyperledger/fabric-sdk-java/blob/2adcdbca9e2e81bd5966386e4e3f012c03c7b976/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L457];;;","08/Feb/18 3:32 AM;schwinnez;But what to do, if i want to join an already created and joined channel with an already installed and instantiated chaincode? There is a method newChannel(String channelName) for an already existing channel. 
So, I would assume that everything is setup correctly and the only thing my application has to do is invoking chaincode functions.

Isn't this a reasonable use case?

 ;;;","09/Feb/18 2:46 AM;rickr;I don't see that issue .. ran the sample I attached on v1.0.1 java sdk level

starting at line 201 after both organizations have created the channel and instantiated chaincode    It start again now setting up running as a regular user;;;","12/Feb/18 3:30 AM;schwinnez;The example looks good. I'll try to reproduce this in my setting but this is how I would expect it to work.
Maybe I got some of my settings wrong.

 

Thanks=);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven WARNING: build is platform dependent,FABJ-258,15406,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,sanchezl,sanchezl,sanchezl,20/Mar/17 11:40 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,21/Mar/17 5:25 AM,,,,,,,,,,0,build-system,,,,,,,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxobb:",,,,,,,,,,,,,,,,,,,,,,,,,sanchezl,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Build verifiation timout and false positives,FABJ-259,14890,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,rickr,rickr,17/Feb/17 10:44 PM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,13/Mar/17 10:20 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"https://jenkins.hyperledger.org/job/fabric-sdk-java-verify-x86_64/105/consoleFull
1 Figure a way for just the buildverification we can increase timeout .. maybe as long as two minutes 
2) Why is this reporting success when end2end failed.

13:27:38 -------------------------------------------------------
13:27:38  T E S T S
13:27:38 -------------------------------------------------------
13:27:38 Running org.hyperledger.fabric.sdk.End2endIT
13:27:38 log4j:WARN No appenders could be found for logger (io.netty.util.internal.logging.InternalLoggerFactory).
13:27:38 log4j:WARN Please initialize the log4j system properly.
13:27:38 log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
13:27:39 Feb 17, 2017 1:27:39 PM io.grpc.internal.ManagedChannelImpl <init>
13:27:39 INFO: [ManagedChannelImpl@687080dc] Created with target localhost:7051
13:27:41 Feb 17, 2017 1:27:41 PM io.grpc.internal.ManagedChannelImpl <init>
13:27:41 INFO: [ManagedChannelImpl@7b50df34] Created with target localhost:7053
13:27:41 Creating deployment proposal
13:27:41 Deploying chain code with a and b set to 100 and 200 respectively
13:27:53 Received 1 deployment proposal responses. Successful+verified: 0 . Failed: 1
13:27:53 Caught an exception
13:27:53 java.lang.Exception: Not enough endorsers :0.  Sending proposal to peer failed because of timeout(12000 milliseconds) expiration
13:27:53 	at org.hyperledger.fabric.sdk.End2endIT.setup(End2endIT.java:124)
13:27:53 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
13:27:53 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
13:27:53 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)


at the bottom

694085174 -DGERRIT_VERSION=2.12.2 ""-DGERRIT_EVENT_COMMENT_TEXT=Patch Set 2:
13:27:56 
13:27:56 reverify"" -DGERRIT_EVENT_ACCOUNT_EMAIL=cr22rc@gmail.com -DGERRIT_PATCHSET_NUMBER=2 ""-DGERRIT_CHANGE_OWNER_NAME=Tuan Dang"" clean deploy -V -B -q -Dmaven.repo.local=/tmp/r
13:27:56 Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T16:41:47+00:00)
13:27:56 Maven home: /w/tools/hudson.tasks.Maven_MavenInstallation/apache-maven-3.3.9
13:27:56 Java version: 1.8.0_121, vendor: Oracle Corporation
13:27:56 Java home: /usr/lib/jvm/java-8-openjdk-amd64/jre
13:27:56 Default locale: en_US, platform encoding: UTF-8
13:27:56 OS name: ""linux"", version: ""4.4.0-47-generic"", arch: ""amd64"", family: ""unix""
13:28:04 [description-setter] Description set: Build logs: <a href=""https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-2/fabric-sdk-java-verify-x86_64/105"">https://logs.hyperledger.org/jobbuilder/vex-yul-hyp-jenkins-2/fabric-sdk-java-verify-x86_64/105</a>
13:28:04 Finished: SUCCESS",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-686,,,,,,,,,"1|hzx5vz:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"21/Feb/17 12:43 AM;tuand;for jenkins to recognize that a test has failed, need to:
1. call maven with -Dmaven.test.failure.ignore=false . This makes the surefire plugin indicate errors during unit-test
1. set failsafe goal  <goal>verify</goal> . This makes the failsafe plugin indicate errors during IT tests;;;","21/Feb/17 12:48 AM;tuand;To clear the timeout error, we need to increase org.hyperledger.fabric.sdk.proposal.wait.time  .  To make it easier for the jenkins script,  End2EndIT before executing the test case checks for environment variable FABRICSDKOVERRIDES which lists config values to be changed.

FABRICSDKOVEERIDES has format {quote}property1=value1,property2=value2 and so on ...{quote};;;","21/Feb/17 12:48 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6155/;;;","13/Mar/17 5:01 AM;rickr;Done ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction ID should be generated randomly,FABJ-260,13899,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dianfu,dianfu,dianfu,30/Dec/16 10:10 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,05/Jan/17 9:46 AM,,,,,,,,,,0,,,,,,Transaction ID should be generated randomly.,,dianfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxgcn:",,,,,,,,,,,,,,,,,,,,,,,,,dianfu,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transactions not handled correctly in non transaction blocks,FABJ-261,29797,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,29/Apr/18 9:22 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,30/Apr/18 9:08 PM,v1.1.0,,,,v1.1.1,,,,,0,,,,,,"Blocks that are not endorser transaction can get 
java.lang.ClassCastException: org.hyperledger.fabric.sdk.BlockInfo$EnvelopeInfo cannot be cast to org.hyperledger.fabric.sdk.BlockInfo$TransactionEnvelopeInfo

gerrit : https://gerrit.hyperledger.org/r/#/c/21179/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz81b:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing Blockinfo information,FABJ-262,28521,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,15/Mar/18 1:15 AM,19/Jul/18 9:20 AM,28/Oct/23 2:21 AM,16/Mar/18 5:39 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Missing creator from Transaction events.

https://gerrit.hyperledger.org/r/#/c/19171/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz19z:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
update example_cc to latest shim api,FABJ-263,16262,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sanchezl,sanchezl,sanchezl,04/May/17 2:07 AM,21/Jul/18 4:15 AM,28/Oct/23 2:21 AM,05/May/17 2:34 AM,,,,,v1.0.0,,,,,0,java-SDK,,,,,"Remove getChaincodeId() method.
Used renamed get/put state methods.",,sanchezl,,,,,,,,,,,,,,,,,,,FAB-3263,FAB-3223,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxss7:",,,,Unset,,Sprint 16 - SDK Java,,,,,,,,Unset,,,,,,,,,,,sanchezl,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Increase timeouts on CI test,FABJ-264,28097,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,skarim,skarim,01/Mar/18 4:26 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,01/Mar/18 6:39 AM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,Increase timeouts on the CI test to prevent failures due to processes taking a long time to finish.,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyz8v:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,skarim,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HFCAClient needs timeout settings,FABJ-265,30538,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,23/May/18 11:28 PM,12/Oct/18 5:11 AM,28/Oct/23 2:21 AM,25/May/18 5:43 PM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/22191/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-274,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzbuv:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce logging for downloading from Maven repos,FABJ-266,23808,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,04/Nov/17 8:34 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,07/Nov/17 11:41 PM,,,,,v1.1.0,v1.1.1,,,,0,,,,,,"All of the various CI runs call cirun.sh and unfortunately downloading from the Maven repository is slow and results in a lot of noise in the logs, e.g. 
{quote}Downloaded: 
 [https://repo.maven.apache.org/maven2/kr/motd/maven/os-maven-plugin/1.4.1.Final/os-maven-plugin-1.4.1.Final.jar]
 (29 KB at 394.9 KB/sec)*10:39:55* Downloading: 
 [https://repo.maven.apache.org/maven2/javax/enterprise/cdi-api/1.0/cdi-api-1.0.jar]
 *10:39:55* 29/157 KB 22/53 KB 8/192 KB 19/45 KB 
 29/157 KB 22/53 KB 11/192 KB 19/45 KB 
 29/157 KB 22/53 KB 13/192 KB 19/45 KB 
 29/157 KB 22/53 KB 3/44 KB 13/192 KB 19/45 KB 
 29/29 KB 29/157 KB 22/53 KB 11/192 KB 19/45 KB 
 29/157 KB 22/53 KB 5/44 KB 13/192 KB 19/45 KB 
 29/29 KB 27/157 KB 22/53 KB 13/192 KB 19/45 KB 
 29/157 KB 22/53 KB 8/44 KB 13/192 KB 19/45 KB 
 32/157 KB 22/53 KB 8/44 KB 13/192 KB 19/45 KB 
 32/157 KB 25/53 KB 11/44 KB 13/192 KB 19/45 KB 
 32/157 KB 22/53 KB 11/44 KB 13/192 KB 19/45 KB 
 32/157 KB 25/53 KB 13/44 KB 13/192 KB 19/45 KB 
 32/157 KB 25/53 KB 13/44 KB 16/192 KB 19/45 KB 
 32/157 KB 27/53 KB 13/44 KB 19/192 KB 19/45 KB 
 32/157 KB 27/53 KB 13/44 KB 21/192 KB 19/45 KB 
 32/157 KB 27/53 KB 13/44 KB 21/192 KB 22/45 KB 
 32/157 KB 27/53 KB 13/44 KB 16/192 KB 19/45 KB 
 32/157 KB 30/53 KB 13/44 KB 21/192 KB 22/45 KB 
 32/157 KB 32/53 KB 13/44 KB 21/192 KB 22/45 KB
{quote}
This makes it harder to scan the logs when errors occur.

This can easily be fixed by running Maven in batch mode (-B) and we can even eliminate the download messages by setting 
{code:java}
org.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn{code}",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzymcf:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,dev,main,,,,,,true,"04/Nov/17 8:46 PM;mastersingh24;https://gerrit.hyperledger.org/r/15193;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK - Pass private data collection definitions during chaincode instantiation,FABJ-267,29638,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denyeart,denyeart,24/Apr/18 10:08 PM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,31/May/18 9:41 PM,,,,,v1.2.0,,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/22091/

Java SDK - Pass private data collection definitions during chaincode instantiation.

When using CLI, this is done by passing a JSON file which includes collection definition:

--collections-config collections.json

Where a sample JSON file content is:

[
  \{
      ""name"": ""collectionMarbles"",
      ""policy"": ""OR('Org1MSP.member', 'Org2MSP.member')"",
      ""requiredPeerCount"": 1,
      ""maxPeerCount"": 2,
      ""blockToLive"":1000000
 },
  \{
      ""name"": ""collectionMarblePrivateDetails"",
      ""policy"": ""OR('Org1MSP.member')"",
      ""requiredPeerCount"": 1,
      ""maxPeerCount"": 1,
      ""blockToLive"":3
  }
 ]

 
CLI passes collection config upon chaincode instantiate, see: [https://gerrit.hyperledger.org/r/#/c/14371/]
 
In CLI, collection JSON is converted to CollectionConfigPackage proto:
[https://github.com/hyperledger/fabric/blob/release-1.1/protos/common/collection.proto#L16-L50]
and then marshaled and passed to LSCC as an argument.
 
LSCC accepts collection config as an argument and stores it, see: [https://gerrit.hyperledger.org/r/#/c/14291/]
 ",,denyeart,rickr,SjirNijssen,ssaddem,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-440,,FAB-8718,FABJ-473,,,,,,,,,,,,,,Unset,,,FAB-8718,,,,,,,,,"1|hzwqfq:m",,,,Unset,,To Do,,,,,,,,Unset,,,,,,,,,,,denyeart,rickr,SjirNijssen,ssaddem,,,,,,,,dev,main,,,,,,true,"25/Apr/18 1:26 AM;rickr;get a JIRA link to the Fabric epic or task ?
;;;","26/Apr/18 3:51 AM;denyeart;I've added links to the CLI CRs in the Description as an example of how this is done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable signature and encryption during submitting transaction,FABJ-268,13619,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dianfu,dianfu,dianfu,06/Dec/16 5:30 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,27/Dec/16 3:48 PM,,,,,,,,,,0,java-SDK,,,,,"Currently, the transaction created by the Java SDK isn't signed and the transaction content isn't encrypted. ",,dianfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxg13:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,dianfu,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
How to use cert to implement ACL,FABJ-269,14982,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,zhangyijie,zhangyijie,22/Feb/17 4:04 PM,22/Oct/19 7:28 PM,28/Oct/23 2:21 AM,22/Oct/19 7:28 PM,v1.0.0,,,,Future,,,,,0,,,,,,"Using Fabric-sdk-java, implements  ACL.
step 1:
deploy chaincode, set deployer cert into [metadata] field, and call init method to store the cert in state

step2:
the same user(deployer), call invoke method, and sign the payload 

{code:java}
        List<String> args = request.getArgs();
		List<ByteString> argList = new ArrayList<>(args.size());		
		for (String arg : args) {
			argList.add(ByteString.copyFrom(arg.getBytes()));
		}
		Chaincode.ChaincodeInput chaincodeInput = Chaincode.ChaincodeInput.newBuilder().addAllArgs(argList).build();

		
        PrivateKey pk = this.chain.getCryptoPrimitives().ecdsaKeyFromPrivate(Hex.decode(request.getCaller().getEnrollment().getKey()));
        BigInteger[] mdsig = this.chain.getCryptoPrimitives().ecdsaSign(pk, chaincodeInput.toByteArray());
        byte[] sigma = this.chain.getCryptoPrimitives().toDER(new byte[][]{mdsig[0].toByteArray(), mdsig[1].toByteArray()});
        tx.getTxBuilder().setMetadata(ByteString.copyFrom(sigma));
        //System.out.println(Hex.toHexString(sigma));
        System.out.println(""Hex : --- "" + Hex.toHexString(chaincodeInput.toByteArray()));
        System.out.println(""sgima : --- "" + Hex.toHexString(sigma));
{code}

step 3
in the chaincode end,  verify the 'sigma', but failed.    
SDK is Java,  chaincode is GO

Could you support example ?  and  where is the binding parameter?  how to set binding? ",,heatherp,rickr,zhangyijie,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxpw7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,heatherp,rickr,zhangyijie,,,,,,,,,,,,,,,,,"17/Apr/17 11:59 PM;rickr;I'm not sure where this code you're referencing is in the SDK can you include a file an line number.  ;;;","18/Apr/17 12:00 AM;rickr;I changed this to an improvement as it doesn't seem to me it's a bug;;;","22/Oct/19 7:28 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Implement ""Connection Profile"" for java-sdk",FABJ-270,19977,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,chrism28,chrism28,chrism28,06/Aug/17 8:07 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,09/Feb/18 1:10 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Implement the connection profile (FAB-5363) for java SDK. Both yaml and json formats need to be supported

 

https://gerrit.hyperledger.org/r/#/c/12783/",,chrism28,denyeart,MariWade,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-808,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyc3r:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,chrism28,denyeart,MariWade,rickr,,,,,,,,dev,main,,,,,,true,"30/Aug/17 3:20 AM;rickr; 

HFClient client = HFClient.createNewInstance();
         client.setCryptoSuite(cyprtoSuite);
         Channel mynewchannel = client.loadFromConfig(""mynewChannel"", configFile);

     Channel mynewchannelX = client.loadFromConfig(""mynewChannelX"", configFile);

   Channel mynewchannel2 = client.loadFromConfig(""mynewChannel2"", configFile2); // same client different config other channel.

 

I really don't want a 1 to 1 with NetworkConfig and Client.   Can we do something like this ?

 

 

 

 ;;;","30/Aug/17 4:50 AM;rickr;Maybe

NetworkConfig networkconfig =  NeworkConfig.fromJsonStream( someInputStream)

  User peerAdmin = hfcaClient.loadFromConfigPeerAdmin(networkconfig);

  RegistrationRequest registrar = hfcaClient.loadFromConfigRegistrarRegistrationRequest(networkconfig);

HFClient client = HFClient.createNewInstance();
         client.setCryptoSuite(cyprtoSuite);

       client.setUserContext(peerAdmin);

 

 

        Channel mynewchannel = client.loadFromConfig(""mynewChannel"", networkconfig); // help from parsing it again ?

     Channel mynewchannelX = client.loadFromConfig(""mynewChannelX"", networkconfig);

 

 

 ;;;","10/Oct/17 1:17 AM;denyeart;[~chrism28] Is there an expected date for java sdk support of connection profile?  It would be nice to make available as part of a 1.1 alpha release, alongside the node js sdk and go sdk support.;;;","10/Oct/17 10:21 PM;chrism28;Hi [~denyeart]. Unfortunately the required functionality is not clearly defined - and so this is all still WIP. It concerns me that the Java-SDK API (and possibly the config file itself) does not align with the Node-SDK API. I'll provide an update tomorrow after fixing a couple of loose ends. What is the deadline for the 1.1 alpha release?;;;","10/Oct/17 10:45 PM;denyeart;[~chrism28] 1.1 alpha is targeted for end of October.

It concerns me as well if there is no clear definition across the SDKs, please reach out to [~jimthematrix@gmail.com] [~harrisob@us.ibm.com] [~rickr] to discuss.  Probably will be quickest to discuss on rocket chat, you can use the #fabric-sdk channel and mention them (jimthematrix, bretharrison, rickr).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
I want to be able to get info on the channels object of my NetworkConfig,FABJ-271,29503,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,,huy.tranibm,huy.tranibm,19/Apr/18 1:57 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,25/Jun/18 8:39 PM,v1.1.0,,,,,,,,,0,java-SDK,,,,,"I need to get the channels object of my network-config.json. ATM there's no way to get this info but to loadChannel using a channel's name.

I should be able to get back a list of ChannelInfo containing members(the same as List<CAInfo>):
List<Orderers>, List<Peers>, chaincodes[]. For example the object below:

""channels"":{
    ""foo"":{
      ""orderers"":[
        ""orderer.example.com""
      ],
      ""peers"":{
        ""peer0.org1.example.com"":{
          ""endorsingPeer"":true,
          ""chaincodeQuery"":true,
          ""ledgerQuery"":true,
          ""eventSource"":true
        },
        ""peer1.org1.example.com"":{
          ""endorsingPeer"":true,
          ""chaincodeQuery"":true,
          ""ledgerQuery"":true,
          ""eventSource"":false
        }
      },
      ""chaincodes"":[
        ""example02:v1"",
        ""marbles:1.0""
      ]
    }
  }",,huy.tranibm,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz6gv:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,huy.tranibm,rickr,,,,,,,,,,,,,,,,,,"27/Apr/18 12:23 AM;rickr;I have to think about if the SDK really wan't s to provide all this.  There was an obvious missing the ability to find which channels could be loaded. 
There is now a new method getChannelNames.  That was added with FAB-9565;;;","25/Jun/18 8:39 PM;rickr;the SDk is not a Network config editor.  In provides means to get orderers and peers now. Given the direction is to use service discovery there will also be less need to populate this document with that information.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Facilitate Integration with configuration,FABJ-272,20366,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,24/Aug/17 2:10 AM,21/Jul/18 4:18 AM,28/Oct/23 2:21 AM,25/Aug/17 9:05 PM,v1.0.1,,,,v1.1.0,,,,,0,,,,,,"Facilitate Integration with configuration file. 
 Allow specifying certificate bytes for TLS.

Support Certificate authority client info method.

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzye0f:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose setting the transient variables in Proposal,FABJ-273,14622,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,malik-altaf,malik-altaf,08/Feb/17 1:42 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,29/Mar/17 3:49 AM,,,,,,,,,,0,,,,,,"User should be able to specify transient field while creating the proposal when deploying/invoking the chaincode. For more details, see https://gerrit.hyperledger.org/r/#/c/5091/

We need to add this in the SDK Design Spec as well so that other SDKs can implement this as well.",,malik-altaf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxkc7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,malik-altaf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HFCAClient needs timeout settings in config.properties ,FABJ-274,29145,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,zhaochy,huy.tranibm,huy.tranibm,05/Apr/18 12:55 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,27/Apr/18 12:05 PM,v1.1.0,,,,v1.2.0,,,,,0,,,,,,"Need to be able to set CONNECTION_TIMEOUT and SO_TIMEOUT for HFCAClient httpPost

Perhaps in the config.properties file",,harrisob@us.ibm.com,huy.tranibm,sanchezl,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-265,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz4if:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,harrisob@us.ibm.com,huy.tranibm,sanchezl,zhaochy,,,,,,,,dev,main,,,,,,true,"12/Apr/18 2:54 AM;harrisob@us.ibm.com;[~zhaochy] would you be able to have a look at this ?;;;","12/Apr/18 2:56 AM;harrisob@us.ibm.com;Whoops sorry ... click on the wrong thing;;;","16/Apr/18 7:17 PM;zhaochy;https://gerrit.hyperledger.org/r/20615;;;","19/May/18 4:44 AM;sanchezl;This issue has a component labeled {{fabric-sdk-java}}, but the fix was made in {{fabric-sdk-node}}.

[~huy.tranibm], do you need this fix for the Java SDK? ;;;","19/May/18 7:02 AM;huy.tranibm;this would be ideal, while testing with IBP networks, the http execute were getting hanged and the app became unresponsive;;;","01/Jun/18 2:25 AM;huy.tranibm;[~sanchezl] is this being implemented into java sdk?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
provide failure reason when fail to create channel,FABJ-275,18728,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,scottz,scottz,28/Jun/17 3:40 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,23/Aug/17 9:40 PM,v1.0.0,v1.0.0-beta,v1.0.0-rc1,,v1.1.0,,,,,0,quality,Usability,,,,"As described in FAB-4924 , when using java sdk to run End2endIT, and while attempting to create a channel, the user receives a ""BAD_REQUEST"" status response which is printed. _In that particular test failure scenario, the tester rebooted the application without restarting the network - so the request was not malformed, but rather simply a request that could not be satisfied because the same exact channel was already created previously._ The error message would be much more helpful if it would print a detail response text string in addition to the status response value. This text could differentiate between various reasons for failure/rejection of the request to create a channel.

This request is to enhance the error message. In addition to the current error message
        'StatusValue 400. Status BAD_REQUEST'

the orderer should provide more information, and the end result should be to provide the user with a more helpful message containing a reason for failure, such as
        'cannot create; channel <channel-name> already exists' 

Designers can confirm if we need to change the fabric as well as the fabric-sdk-java (and other sdk APIs as well), but it seems that when printing the status ( 'StatusValue 400. Status BAD_REQUEST'), the java sdk should also print some additional response text (which could be provided by the orderer).

Once the interface is enhanced to do so, it could be leveraged to provide more specific reasons for failure of this command - and other admin commands as well - for all SDKs and CLI. This would greatly reduce the number of questions arriving in rocket.chat or to the level 2 SRE team.",,rickr,scottz,,,,,,,,,,,,,,,,,Not a security issue,FAB-4767,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy607:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,scottz,,,,,,,,,,dev,main,,,,,,true,"08/Aug/17 10:24 PM;rickr;https://gerrit.hyperledger.org/r/#/c/12211/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK Java error handling,FABJ-276,16191,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,Clayton Sims,Clayton Sims,03/May/17 6:34 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,25/Feb/18 9:43 AM,,,,,Future,,,,,0,Serviceability,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxsg7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,Clayton Sims,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow specifying a User when sending sendTransactionProposal to a channel,FABJ-277,29183,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,aatkddny,aatkddny,05/Apr/18 10:39 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,06/Apr/18 9:21 PM,,,,,,,,,,0,java-sdk,,,,,"In a multithreaded environment it is desirable to be able to dispatch multiple synchronous TransactionProposalRequests to a predefined channel with different User(s), without having to synchronize at the method level.

Adding a method to the Channel.sendTransactionProposal(..) set that supports one doing this would enhance the support for multithreading already seen in the Channel.sendTransaction(..) methods.",,aatkddny,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz4q7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,aatkddny,rickr,,,,,,,,,,,,,,,,,,"06/Apr/18 12:35 AM;rickr;Supported already by TransactionRequest.setUserContext;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[docs] - update fabric-sdk-java release process document,FABJ-278,20807,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rameshthoomu,rameshthoomu,13/Sep/17 11:54 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,05/Oct/17 10:43 PM,,,,,,,,,,0,Documentation,,,,,"Add instructions on downloading snapshots releases from nexus repository in release process document. This shows to the user that, take the code snippet from release process document and add in his custom pom.xml to download snapshot repositories.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzygcv:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IdemixIdentity in Java to support Enrollment ID and Revocation ID as attributes in Idemix Enrollment Certificate,FABJ-279,29349,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dubovitskaya,dubovitskaya,dubovitskaya,12/Apr/18 10:34 PM,12/Sep/18 1:42 AM,28/Oct/23 2:21 AM,12/Sep/18 1:42 AM,,,,,v1.3.0,,,,17/Apr/18 12:00 AM,0,idemix,,,,,Duplicate the change that was already pushed in the Go package,,dubovitskaya,,,,,,,,,,,14400,14400,,0%,14400,14400,,,,,,FAB-8810,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABJ-327,,,,,,,,,"1|hzx2lj:",,,,Unset,,May2018 - Security,,,,,,,,Unset,,,,,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,"18/May/18 2:06 AM;dubovitskaya;CR: [https://gerrit.hyperledger.org/r/#/c/16481/] ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for Certificates API on Java SDK,FABJ-280,29188,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,skarim,skarim,05/Apr/18 11:39 PM,21/Jul/18 5:29 AM,28/Oct/23 2:21 AM,09/Jul/18 10:53 PM,,,,,v1.2.0,,,,,0,,,,,,"Add support for Certificates API on Java SDK

See swagger doc in https://gerrit.hyperledger.org/r/#/c/18951/",,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABC-587,,,,,,,,,"1|hzz4r3:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,skarim,,,,,,,,,,dev,main,,,,,,true,"15/Jun/18 11:57 PM;skarim;https://gerrit.hyperledger.org/r/c/23153/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric SDK should use connection profiles to provide application HA support,FABJ-281,27953,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid,,ptippett,ptippett,24/Feb/18 12:31 AM,11/Sep/18 11:46 PM,28/Oct/23 2:21 AM,11/Sep/18 11:46 PM,,,,,Future,,,,,2,java-SDK,node-SDK,,,,"Currently, application owners are responsible for handling high availability in their applications.  Meaning that it is their responsibility to retry operations against multiple peers and orderers.

There's an open but often deferred issue to provide examples on how to best do this.

https://jira.hyperledger.org/browse/FAB-5295

 

What I propose is that instead of leaving this up to application owners to handle, we put some capability in the SDKs to do this.

My understanding is that the SDKs now support connection profiles allowing me to specify multiple peers, the tags for those peers (endorser, committer, query, etc) as well as multiple orderers.

Unfortunately, the SDK does not fully make use of this information.  Meaning that if the connection profile specifies multiple peers or orderers, the SDK will try one and if that one doesn't respond, the SDK will not try others in the list.

It seems to me that at minimum, the SDK should have some basic retry logic such that if the operation fails to one peer, the SDK should try the other peer in the list before giving up.  Same for orderers.

What if a customer doesn't want this capability?  My understanding is that the application can tell the SDK to send operations to specific orderers or peers which could be used to override the default behavior.  The user could also be allowed to specify the number of retries and/or timeouts.

This is a new feature, so I've put 1.2 as the fix version, although if this could go into a 1.1.x release I wouldn't argue.  Perhaps the HA capability could be off by default until 1.2 to prevent side effects in a fix release?",,denyeart,MariWade,ptippett,rickr,sstone1,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-640,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyymf:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,denyeart,MariWade,ptippett,rickr,sstone1,TiantianGao,,,,,,,,,,,,,,"23/Mar/18 2:07 PM;denyeart;Many issues were bulk moved from v1.0 or v1.1 to v1.2 as part of a cleanup effort, and many of these issues are not high priority or actually intended to be worked for v1.2.  This issue is being bulk moved to Future.  If the issue is indeed high priority for v1.2 and/or very low effort, please move back to v1.2 and add a comment to indicate rationale.;;;","11/Sep/18 11:46 PM;rickr;The JSDK has done most of this already;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK CryptoPrimitives should perform Signature operations using standard JCA/JCE,FABJ-282,21818,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,jpatchell,jpatchell,jpatchell,13/Oct/17 1:39 AM,02/Aug/19 2:56 AM,28/Oct/23 2:21 AM,19/Oct/17 1:51 AM,,,,,,,,,,0,,,,,,Currently the Java SDK CryptoPrimitives class uses BouncyCastle APIs to perform the ECDSA signature operations.  The code should be changed to use the standard JCA/JCE Signature class so that other providers can be configured/used.,,jpatchell,rickr,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-318,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzyjd3:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,jpatchell,rickr,Vishal3152,,,,,,,,,dev,main,,,,,,true,"13/Oct/17 4:18 AM;jpatchell;[https://gerrit.hyperledger.org/r/#/c/14471/]

 ;;;","16/Oct/17 10:36 PM;rickr;Hi like to ask with 14471 does the SDK run in Gemalto's environment without any further changes ?;;;","16/Oct/17 10:39 PM;rickr;Wondering if we can close this for now?;;;","16/Oct/17 11:18 PM;jpatchell;I have been able to successfully run the End2endIT integration test using private keys in the SafeNet Luna Network HSM with the 14471 changes and some additional changes on the tests side of things.  I had to modify End2endIT.java to calculate the SKI from the certificate public key and use that to obtain a LunaPrivateKey using the KeyStore.getKey method using the SKI as the alias.  I changed the getMember method in SampleStore.java to accept a PrivateKey rather than a File.

As well, the private keys for the Admin user for org1 and org2 had to be generated on the HSM.  I accomplished this using the fabric-ca-client gencsr command including the changes in [https://gerrit.hyperledger.org/r/#/c/14527/] so that the CKA_LABEL of the key is set to the SKI (The SafeNet LunaProvider uses the alias to search for keys by the CKA_LABEL attribute).  I then used openssl to generate the certificates from the CSRs and copied the certificates to all of the necessary locations.;;;","16/Oct/17 11:53 PM;rickr;It sounds like the changes you're making are reasonable for an application using the SDK in the Luna environment. 
I don't have experience on how widely Luna is used but maybe it's worth consideration documenting this in the SDK in a Luna_Readme.md ?  ;;;","18/Oct/17 11:47 PM;rickr;[~jpatchell] is there more coming for this JIRA ?  If no, seems reasonable to mark it done?;;;","19/Oct/17 1:26 AM;jpatchell;I think it can be marked as done.  I will look into providing a Luna_Readme.md of some sorts in the future but will open a new JIRA ticket for that. ;;;","02/Aug/19 2:56 AM;Vishal3152;Hi [~jpatchell], Did you manage to write Luna_Readme.md?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistencies in Java SDK APIs,FABJ-283,19334,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Duplicate,,clempo,clempo,19/Jul/17 2:44 AM,04/May/19 10:03 PM,28/Oct/23 2:21 AM,04/May/19 10:03 PM,,,,,Future,,,,,0,,,,,,"double a in nsRwsetInfo.getNaamespace()

missing e in block.getEnvelopCount(); other Java SDK APIs spell it Envelope

Inconsistent iteration idioms in BlockInfo and its contents:

     missing implementation of transactionActionInfo.getEndorsementInfos();

     missing getChaincodeInputArgs() with no input arguments;

     missing an equivalent of transactionActionInfo.getTxReadWriteSet() that would return an Iterable.

 

The method name and return type do not match in this method. I think the method name is better than the return type

     BlockInfo.EndorserInfo endorserInfo = transactionActionInfo.getEndorsementInfo(n);",,clempo,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy8uf:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,clempo,rickr,,,,,,,,,,,,,,,,,,"19/Jul/17 2:55 AM;rickr;Naamespace  and Envelop corrections are in https://gerrit.hyperledger.org/r/#/c/11695/;;;","04/May/19 10:03 PM;rickr;I think these have been addressed in past JIRAs;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide listener for custom chaincode events.,FABJ-284,19363,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,20/Jul/17 1:41 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,23/Aug/17 9:40 PM,v1.0.0,,,,v1.1.0,,,,,0,Release-planning-1.1,,,,,Chaincode can set an event.  The event is recorded in the block and when receiving  the block with an event provide a means to notify registered listeners for that event.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzy8z3:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid CC update on none supported vers.,FABJ-285,20112,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rameshthoomu,rameshthoomu,11/Aug/17 5:41 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,23/Aug/17 9:40 PM,v1.0.0,,,,v1.1.0,,,,,0,java-SDK,,,,,"Observed below error while testing e2e tests on fabric-sdk-java (master) on v1.0.0 docker images
{code:java}
00:02:42.846 ERROR: for configtxlator  Cannot start service configtxlator: oci runtime error: container_linux.go:247: starting container process caused ""exec: \""/usr/local/bin/configtxlator\"": stat /usr/local/bin/configtxlator: no such file or directory""{code}
configtxlator is not configured in v1.0.0 tools docker image hence the above tests are failing.

 

Define the below env var before running v1.0.0 verify/merge jobs:

 

export ORG_HYPERLEDGER_FABRIC_SDKTEST_VERSION=""1.0.0"" 

[https://gerrit.hyperledger.org/r/#/c/12441/]",Jenkins,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzycq7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,dev,main,,,,,,true,"11/Aug/17 5:46 AM;rameshthoomu;[~rickr] as discussed, either you have skip this test (upgrade chaincode using configtxlator)  using *1.0.0 docker images* or enable CI script to test v1.0.1 docker images on fabric-sdk-java master (branch) code.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Running hyperledger sdk example in docker swarm,FABJ-286,16820,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rohitbordia,rohitbordia,rohitbordia,18/May/17 2:39 AM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,10/Jul/18 2:13 AM,,,,,Future,,,,,1,Documentation,,,,,Running hyperledger network within a docker swarm cluster. Created vagrant and update docker-compose file to run on multiple nodes.,,ranjan78,rmohta,rohitbordia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxvsf:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,ranjan78,rmohta,rohitbordia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
End to End sample for Java SDK from maven,FABJ-287,16497,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,venu.vemula,venu.vemula,venu.vemula,09/May/17 11:27 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,05/Jun/17 11:23 AM,,,,,Future,,,,,0,,,,,,This issue is created to come up with end to end application for Java SDK for Hyperledger Fabric 1.0 .. using maven JAVA SDK libraries.,,rickr,venu.vemula,,,,,,,,,,,,,,,,,,FABJ-89,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxubj:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rickr,venu.vemula,,,,,,,,,,,,,,,,,,"12/May/17 10:21 PM;venu.vemula;Progress so far: Wrote a skeleton maven project which would download JAVA SDK jar from Nexus repository and uses it . Can see fabric-sdk-java-1.0.0-SNAPSHOT.jar successfully getting downloaded from https://nexus.hyperledger.org/content/repositories/snapshots.. and the sample app can successfully use Fabric Java SDK classes. Currently working on expanding the application to have end to end scenarios.;;;","16/May/17 5:38 AM;venu.vemula;Could successfully run test case from end2EndIT.java(https://github.com/hyperledger/fabric-sdk-java/blob/master/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java) from maven project ( which would download JAVA SDK jar from Nexus repository and uses it for Fabric related dependency). Will further work on improving sample.. and publishing it.;;;","16/May/17 7:47 PM;rickr;Needs to validate FAB-648  Remove all reference to snapshot repositories and reference alpha2

Clean out any dependencies in .m2 directory

Docker images of Fabric should be pulled from alpah2 images and not built locally.

Run this application and make sure all dependencies are pulled down including HLF JSDK jar and this application successfully runs.;;;","24/May/17 1:08 AM;venu.vemula;came up with initial version of end of end sample .. and uploaded to public git [https://github.com/venugopv/FabricJavaSDKSample/blob/master/README.md].

However the sample as of now uses Fabric Java SDK jar downloaded from nexus.

Next steps
 ========
Once FAB-648 dependency gets resolved (i.e Fabric SDK jar successfully uploaded to maven repository), will change app so that it uses SDK Jar from maven repository and puts in daily test bucket.  ;;;","05/Jun/17 11:23 AM;venu.vemula;https://github.com/venugopv/FabricJavaSDKSample is modified to so that it uses Fabric SDK jar from maven repository.  pom.xml does not contain reference to any repository. 

This JIRA task can be closed. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK support for updated lifecycle,FABJ-288,29180,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denyeart,denyeart,05/Apr/18 9:02 PM,10/Aug/19 1:49 AM,28/Oct/23 2:21 AM,04/May/19 9:56 PM,,,,,v2.0.0,,,,,0,,,,,,Gerrit CS https://gerrit.hyperledger.org/r/#/c/28856/,,denyeart,rickr,,,,,,,,,,,,,,,,,,FAB-15108,,,FAB-13979,FAB-13980,FAB-13981,,,FABJ-22,,,FABG-892,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,"1|hzz4pj:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,denyeart,rickr,,,,,,,,,,dev,main,,,,,,true,"27/Sep/18 7:50 PM;rickr;move to v2.0 ?;;;","02/Oct/18 12:15 PM;denyeart;yes, done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Possibility of getting an error status number of executed chaincode,FABJ-289,29274,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,edhel,edhel,09/Apr/18 2:44 PM,27/Jun/20 2:31 AM,28/Oct/23 2:21 AM,11/Apr/18 4:55 AM,v1.0.1,,,,WON'T FIX,,,,,0,,,,,,"Now on invoking channel.queryByChaincode/sendTransactionProposal it's impossible to get real error status code by ProposalResponse.getStatus().getStatus(), it always returns 500 on error in chaincode. But my chaincode returns 404 on some methods (e.g. getObject(id) sometimes return pb.Response\{Status: 404, Message: ""Not found""})). And now I can't check this code and make some processing of this situation.

Now I'm forced to write such a terrible code:  if (response.getMessage().contains(""status: 404""))....

I suppose it can be fixed near line:

[https://github.com/hyperledger/fabric-sdk-java/blob/b8aa183e2842b0a008a57edd724e64bcb04fb122/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L2759]

by adding line: 

status = ((StatusRuntimeException) cause).getStatus().getStatus();",,edhel,muralisr,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-974,,,"11/Apr/18 4:07 AM;rickr;image-2018-04-10-15-07-15-554.png;https://jira.hyperledger.org/secure/attachment/14876/image-2018-04-10-15-07-15-554.png",,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz5cn:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,edhel,muralisr,rickr,,,,,,,,,,,,,,,,,"11/Apr/18 1:42 AM;rickr; If your CC is returning pb.Response\{Status: 404, Message: ""Not found""})). 

[See....
https://github.com/hyperledger/fabric-sdk-java/blob/8b976c725f719a21a1a45f2c0102fb7d6ca8f16d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L609|https://github.com/hyperledger/fabric-sdk-java/blob/8b976c725f719a21a1a45f2c0102fb7d6ca8f16d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L609]

should return that.

 ;;;","11/Apr/18 2:53 AM;rickr;Ok think I see what's happening .. for  >399 it grpc throwing exception

 ;;;","11/Apr/18 4:23 AM;rickr;!image-2018-04-10-15-07-15-554.png!


When the CC returns >399  the Fabric server returns 500.  GRPC on the client side then throws an exception. The grpc call is a future so the real reason is in that cause which is a io.grpc.Status.  
I pasted a picture of that above.  The 400 which is what my CC set 

return pb.Response{ Status: 400, Message: ""move it"", Payload: nil}

Is only in the description which is a string.  detailMessage.  
The SDK will not parse that string.

I suggest That if you are designing CC you should if successful limit  Status to using Status < 400.


----


;;;","11/Apr/18 4:25 AM;rickr;[~muralisr];;;","11/Apr/18 4:54 AM;rickr;I tried to set that Payload in that case but it seems it gets lost entirely.  I was thinking it might be some way to communicate more detail on the error to the application.;;;","11/Apr/18 4:57 AM;rickr;Unless I can get the exact value that user set _without parsing_ closing as invalid

I do agree it would be nice to get the value so the application would have means to act on different return codes.;;;","13/Apr/18 7:47 AM;muralisr;[~edhel] [~rickr] 

[https://gerrit.hyperledger.org/r/#/c/15737/] targetted for 1.2 release will make the chaincode error handling cleaner - chaincode error codes are presented as is as a Response with chaincode error set appropriately for the SDK developer to check as opposed to having to parse the error string returned via gRPC. The details are in the associated JIRA. Agree with [~rickr] that it is not a Java SDK bug.

Please let me know if that address (or not) the issue or if I misunderstood the problem. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release document on publishing java-sdk jar to maven central,FABJ-290,17479,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/Jun/17 10:34 PM,21/Jul/18 4:17 AM,28/Oct/23 2:21 AM,09/Jun/17 8:57 AM,v1.0.0-alpha2,,,,v1.0.0,,,,,0,,,,,,"Prepare release document on publishing java-sdk jar to maven central repository. This document should explain the process on publishing

a) update pom.xml and settings.xml
b) development version to ossrh sonatype nexus repository staging repository
c) promote release to maven central repository
",,rameshthoomu,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzxys7:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,dev,main,,,,,,true,"09/Jun/17 8:57 AM;rameshthoomu;Patch has been submit and merged. Please see the release document here.. https://github.com/hyperledger/fabric-sdk-java/blob/master/docs/java_sdk_release.md;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add access to the channel definition map in the NetworkConfiguration object,FABJ-291,30589,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,aatkddny,aatkddny,24/May/18 10:55 PM,19/Nov/20 7:53 PM,28/Oct/23 2:21 AM,19/Nov/20 7:53 PM,,,,,,,,,,0,external,sdk-triaged,,,,"When attaching to a channel using a generated network configuration access to the channel and peer attributes - preferably by name but I'd take the map and parse - is required. This is a typical channel response:
 ""some-channel"": \{
 ""x-status"": ""membership_valid"",
 ""orderers"": [
 ""orderer""
 ],
 ""peers"": \{
 ""org2-peer1"": \{
 ""x-chaincode"": \{
 ""sacc"": \{
 ""version"": ""1.0"",
 ""path"": ""ibm-bcs-<obscured>""
 }
 }
 }
 },
 ""chaincodes"": [
 ""cc:1.0""
 ],
 ""x-members"": [
 ""org1"",
 ""org11"",
 ""org2""
 ]
 },
  

Two concrete examples to aid understanding.
 # I need to handle events thrown by a channel under certain circumstances. These require the application to post to a different channel inside the event listener. The easiest way to make sure everything works as I would like it to is to connect to all the channels as part of the application initialization.
 Knowing if a channel is valid to connect to (so access to the x-status) is useful.
 # Per 1 - I need to add different event handlers to deal with different chaincodes. Knowing what's on this channel is necessary to allow this to be automated. 

I get I can parse the nodes manually, but there are getters/setters for pretty much everything else in there so this would be a nice to have.",,aatkddny,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzzc3b:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,aatkddny,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 7:27 PM;heatherp;Hey [~aatkddny] - we noticed this was raised last year - is this still relevant?;;;","22/Oct/19 10:10 PM;aatkddny;No - I can do what I need to with a gateway with SD instead. 
FABJ-468 is the one that's (still) problematic for me. ;;;","22/Oct/19 11:35 PM;heatherp;Understood - can we close this one off?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0  Publish fabric and fabric_ca to private docker hub for faster build verify,FABJ-292,14891,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rameshthoomu,rickr,rickr,17/Feb/17 10:56 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,11/Mar/17 9:16 AM,,,,,v1.0.0,,,,15/Feb/17 12:00 AM,0,quality,,,,,"It would be a great enhancement if we could only build the fabric and fabric_ca once at any particular commit level.  Check if the commit level could be pulled from a private docker hub.  If not, only then build it and publish it for the next build to use.",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-59,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5w7:",,,,Unset,,Sprint 11 - Java SDK,,,,,,,,Unset,,,,,,,,,,,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"04/Mar/17 10:40 PM;rameshthoomu;[~rickr] As part of CI process, Daily we are publishing stable images to a test public docker hub repository if e2e (cli) and e2e (node) executes successfully. Recently we have also included e2e (java) to this process.. But will take a decision whether to publish images based on all above 3 tests or cli and node is fine.. 

Updating Build result and Images references to #fabric-ci rocket chat channel.

Please let me know the commit numbers to update in docker-compose file to pick only those commits from test dockerhub repository.. Note: Image building is not taking much time now a days.. 
;;;","11/Mar/17 9:16 AM;rameshthoomu;We have integrated end-to-end job in CI and testing for every commit. Also, we have sandbox job which tests e2e (java) and publish images to docker hub after they are successful. Closing this now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Eventhub reconnect,FABJ-293,15643,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,10/Apr/17 10:47 PM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,14/Apr/17 1:07 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,Provide a means for the Eventhub to try and reconnect.  Allow user's to override this behaviour. ,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx5sv:",,,,Unset,,Sprint 16 - SDK Java,,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Java SDK,FABJ-300,13064,,Epic,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,binhn,binhn,20/Oct/16 6:23 AM,12/Feb/21 7:44 PM,28/Oct/23 2:21 AM,17/Jun/17 8:49 PM,,,,,v1.0.0,,,,,0,,,,,,Using GRPC API to implement Java SDK for Java app development,,binhn,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,Java SDK,To Do,,,Unset,,,,"1|hzxd9z:",,,,Unset,Unset,,,,,,,,,,,,,,,,,,,,binhn,ChristopherFerris,rickr,,,,,,,,,,,,,,,,,"13/Apr/17 1:41 AM;ChristopherFerris;[~jimthematrix] this needs to be either closed or populated with relevant stories. ;;;","01/Jun/17 6:52 AM;ChristopherFerris;I'm marking this as done.;;;","17/Jun/17 8:49 PM;rickr;I just did;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Verify proposal response signature,FABJ-301,13808,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,tuand,rickr,rickr,15/Dec/16 4:37 AM,21/Jul/18 4:16 AM,28/Oct/23 2:21 AM,10/Feb/17 3:12 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Verify proposal response signature 
Must follow:
https://docs.google.com/document/d/1Qg7ZEccOIsrShSHSNl4kBHOFvLYRhQ3903srJ6c_AZE/edit#heading=h.2rmho7iqstbu",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzx6af:",,,,Unset,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,Unset,,,,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Verify certificate chain of trust when receiving proposal responses,FABJ-302,14327,13808,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,25/Jan/17 4:11 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,10/Feb/17 3:11 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Proposal response contains the peer's certificate.  Need to verify that this certificate has been signed by a trusted member CA,,tuand,,,,,,,,,,,,,,,,,,,FABJ-304,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxiz3:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,tuand,,,,,,,,,,,dev,main,,,,,,true,"01/Feb/17 3:47 AM;tuand;https://gerrit.hyperledger.org/r/#/c/5097/;;;","10/Feb/17 3:11 AM;tuand;commit a28b0db055ae4d64b5aea7df9cd75ce494d89536;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify Proposal Response signature,FABJ-303,14328,13808,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,25/Jan/17 4:13 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,27/Jan/17 1:06 AM,,,,,v1.0.0,,,,,0,,,,,,Verify that the signature included in the ProposalResponse  matches the ProposalResponsePayload and endorser .,,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxizb:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,tuand,,,,,,,,,,,,,,,,,,,"27/Jan/17 1:06 AM;tuand;https://gerrit.hyperledger.org/r/#/c/4789/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add chain of trust verification methods to CryptoPrimitives,FABJ-304,14367,13808,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,27/Jan/17 1:09 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,31/Jan/17 8:29 AM,,,,,v1.0.0,,,,,0,,,,,,Add methods that use JCA calls to validate certificates. Do not use BouncyCastle methods directly.,,tuand,,,,,,,,,,,,,,,,,,,,,,FABJ-302,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxj6f:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,,tuand,,,,,,,,,,,,,,,,,,,"27/Jan/17 1:17 AM;tuand;http://gerrit.hyperledger.org/r/4875;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Multi-org and Testing,FABJ-305,15319,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,tuand,rickr,rickr,13/Mar/17 5:45 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,25/Mar/17 10:59 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,Need to add MSPID to crypto store.  Configure current foo and bar chains in end2endIT with multi org Peers and test,,rickr,,,,,,,,,,,,,,,,,,,FABJ-53,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxnvj:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 need to test and document how to connect to Fabric and Fabric_ca over TLS protocol,FABJ-306,14161,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,suganuma,jimthematrix,jimthematrix,19/Jan/17 3:26 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,10/Apr/17 11:16 PM,,,,,v1.0.0,,,,,0,java-SDK,,,,, The Java SDK needs to run the End2endIt.java test over TLS for both Fabric and Fabric_ca.  The README.md needs to be updated how to configure the SDK for TLS.,,inatatsu,jimthematrix,rickr,suganuma,,,,,,,,,,,,,,,,FABJ-244,,,,,,,FABN-793,,,,FABJ-315,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5sn:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,inatatsu,jimthematrix,rickr,suganuma,,,,,,,,dev,main,,,,,,true,"10/Mar/17 1:06 AM;suganuma;Enabled TLS for Fabric-ca using testdata/tls_server-cert.pem for tls cert file and testdata/tls_server-key.pem for tls key file.
We can now successfully run Java SDK to enroll Memberservice (Fabric-ca) over TLS.;;;","14/Mar/17 5:14 PM;suganuma;Confirmed that Java SDK can enroll with Fabric-CA (docker container) over TLS protocol.;;;","20/Mar/17 10:14 PM;rickr;[~suganuma] Hi Toshio.   Just want to emphasis that I like to see TLS via boringssl   for  connection to fabric;;;","23/Mar/17 2:14 AM;rickr;HI Toshio
Any updates using boringssl ?
;;;","29/Mar/17 2:27 AM;rickr;Hi any updates on using boringssl ?;;;","29/Mar/17 6:17 PM;suganuma;I set up my own CA and created a server certificate signed by the CA today. 
Using the server certificate for starting Orderer, I succeeded TLS connection from sdk-java.

2017-03-29 17:57:36 DEBUG SslHandler:1327 - [id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------INBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] SETTINGS: ack=false, settings={}
------------------------------------
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------OUTBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] SETTINGS: ack=true
------------------------------------
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------INBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] WINDOW_UPDATE: streamId=0, windowSizeIncrement=983025
------------------------------------
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------INBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] SETTINGS: ack=true
------------------------------------
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------OUTBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] HEADERS: streamId=3, headers=GrpcHttp2OutboundHeaders[:authority: trl.ibm.com, :path: /orderer.AtomicBroadcast/Broadcast, :method: POST, :scheme: https, content-type: application/grpc, te: trailers, user-agent: grpc-java-netty/1.2.0, grpc-accept-encoding: gzip, grpc-census-bin: ], streamDependency=0, weight=16, exclusive=false, padding=0, endStream=false
------------------------------------
2017-03-29 17:57:36 DEBUG NettyClientHandler:147 -
----------------OUTBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] DATA: streamId=3, padding=0, endStream=false, length=5041, bytes=00000013ac0a9e270a750a5108021a0608b68482c6052203666f6f2a403537643833356639353763646137343565386335623466643733336639353335326361...
------------------------------------
2017-03-29 17:57:37 DEBUG NettyClientHandler:147 -
----------------INBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] HEADERS: streamId=3, headers=GrpcHttp2ResponseHeaders[:status: 200, content-type: application/grpc], padding=0, endStream=false
------------------------------------
2017-03-29 17:57:37 DEBUG NettyClientHandler:147 -
----------------INBOUND--------------------
[id: 0x4c57b703, L:/127.0.0.1:44168 - R:localhost/127.0.0.1:7050] DATA: streamId=3, padding=0, endStream=false, length=8, bytes=000000000308c801
....;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow for different crypto strengths Fabric CA,FABJ-307,15131,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,01/Mar/17 10:37 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,04/Oct/17 11:22 PM,,,,,v1.1.0,,,,,0,java-SDK,v1.0,,,,"Allow for different crypto strengths for Peer Orderer and Fabric CA and client..

Allow for Factory override and configurable options.

https://gerrit.hyperledger.org/r/#/c/13467/",,Clayton Sims,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5qv:",,,,,,,,,,,,,,,,,,,,,,,,,Clayton Sims,rickr,,,,,,,,,,dev,main,,,,,,true,"22/Apr/17 2:56 AM;Clayton Sims;agreed to defer on scrum call;;;","18/Sep/17 10:59 PM;rickr;https://gerrit.hyperledger.org/r/#/c/13467/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK Support for PKCS11 HSM crypto interaction,FABJ-308,15724,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,,timpii,timpii,13/Apr/17 8:16 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,19/Oct/17 11:27 PM,,,,,v1.1.0,,,,,0,Release-planning-1.1,,,,,When applications use HSM hardware for crypto private keys a PKCS11 interface from the SDK is required for signing proposal payloads. This is a critical functionality.,,AshishkumarLakshmanan,Hangyu_FJH,ranjan78,rhegde,rickr,timpii,Vishal3152,weeds,,,,,,,,,,,,FABC-195,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxp1z:",,,,,,,,,,,,,,,,,,,,,,,,,AshishkumarLakshmanan,Hangyu_FJH,ranjan78,rhegde,rickr,timpii,Vishal3152,weeds,,,,,,,,,,,,"12/Sep/17 11:35 PM;weeds;Hi Tim- do you know when you guys are going to submit this code?  We obviously would like to get it in if appropriate.;;;","19/Oct/17 11:27 PM;rickr;[~timpii] I think this is really a dup of FAB-6603 .   In there  with the patch submitted by the Gemalto team they have the JSDK client working with a Luna HSM environment.  Tim please reopen if you feel something here is still not done.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Upgrade chain code.,FABJ-309,15320,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,13/Mar/17 5:48 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,01/Apr/17 3:20 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,Provide upgrade chaincode to SDK.  Create an integration tests that demos this.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-319,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx35r:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transient data support,FABJ-310,15825,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,19/Apr/17 9:00 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,06/May/17 11:50 PM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"Support sending transient data in the proposal.

https://gerrit.hyperledger.org/r/#/c/8199/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5un:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Block query APIs,FABJ-311,13846,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,tuand,rickr,rickr,17/Dec/16 2:00 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,16/Mar/17 1:58 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,Expose API to query the ledger ,,choojoyq,Name63,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-686,,,,,,,,,"1|hzx5s7:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,choojoyq,Name63,rickr,tuand,,,,,,,,dev,main,,,,,,true,"20/Feb/17 6:44 PM;choojoyq;There are my thoughts regarding this apis:

I guess we shouldn't expose fabric protos to end user, so it makes sense
to add an additional layer of abstraction to wrap them in.
The same way it's done for ProposalResponse.

As all peers have the same state it makes sense to query only the single one.
Node js sdk uses concept of ""primary peer"" for querying it with requests like this one.
I think it's fine to use similar approach in java sdk.

node js implementation for this feature could be found here : https://gerrit.hyperledger.org/r/#/c/5855/
common.proto contains Block related messages.;;;","21/Feb/17 9:50 PM;choojoyq;A good point to start is GetChainInfo method which returns the next proto:
{code:java}
message BlockchainInfo {
    uint64 height = 1;
    bytes currentBlockHash = 2;
    bytes previousBlockHash = 3;
}
{code}
So i suggest to create BlockchainInfo class with the same fields to expose it to end users :
{code:java}
class BlockchainInfo {
   final long height;
   final byte[] currentBlockHash;
   final byte[] previousBlockHash;
}
{code};;;","11/Mar/17 1:04 AM;tuand;https://gerrit.hyperledger.org/r/#/c/7027/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
load CryptoSuite trust store from genesis block,FABJ-312,15357,15319,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,15/Mar/17 4:30 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,15/Mar/17 10:53 PM,,,,,v1.0.0,,,,,0,,,,,,"on channel creation, we get back the channe's genesis block which contains the MSPs of the participating peer orgs. Each MSP in turn contains the CA certs for that peer org.

Load the CA certs into the channel's cryptoSuite so we can verify the signatures in the
peer response messages",,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo3j:",,,,,,,,,,,,,1.0,,,,,,,,,,,,tuand,,,,,,,,,,,dev,main,,,,,,true,"15/Mar/17 4:33 AM;tuand;http://gerrit.hyperledger.org/r/7213;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
set up docker-compose/configtx/cryptogen for 2 orgs end to end scenario,FABJ-313,15365,15319,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,tuand,tuand,16/Mar/17 1:36 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,27/Mar/17 9:07 AM,,,,,v1.0.0,,,,,0,,,,,,Copy the fabric and fabric-sdk-node artifacts for running the end2end example,,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxo4n:",,,,,,,,,,,,,1.0,,,,,,,,,,,,tuand,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Establish TLS connection with fabric-ca,FABJ-314,14483,14161,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,suganuma,tuand,tuand,01/Feb/17 11:29 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,29/Mar/17 9:38 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Now that fabric-ca has TLS enabled,   need to configure TLS on the sdk side.

Will need to set key/cert for sdk and read in trusted cert for fabric-ca as we're doing mutual tls.",,inatatsu,rickr,suganuma,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjrb:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,inatatsu,rickr,suganuma,tuand,,,,,,,,dev,main,,,,,,true,"15/Mar/17 12:29 AM;suganuma;I completed the work and now Java SDK can enroll with Fabric-CA over TLS protocol.
I will ask code review some time soon.;;;","16/Mar/17 11:38 PM;suganuma;Here is my code for TLS connection support for Fabric CA. 
1) Add  the following code in the two methods named httpPost in HFCAClient.java (to be non-static method).
        // <-- added
        SSLContext sslContext = SSLContexts.custom()
                .loadTrustMaterial(getCryptoSuite().getTrustStore(), null)
                .build();

        SSLConnectionSocketFactory sslConnectionFactory = new SSLConnectionSocketFactory(sslContext);

        Registry<ConnectionSocketFactory> registry = RegistryBuilder.<ConnectionSocketFactory> create()
                .register(""https"", sslConnectionFactory)
                .register(""http"", new PlainConnectionSocketFactory())
                .build();
        // added -->

        HttpClient client = HttpClientBuilder.create()
        		.setConnectionManager(new PoolingHttpClientConnectionManager(registry))        // added
        		.setDefaultCredentialsProvider(provider).build();

        HttpPost httpPost = new HttpPost(url);

        AuthCache authCache = new BasicAuthCache();

        HttpHost targetHost = new HttpHost(httpPost.getURI().getHost(), httpPost.getURI().getPort());

        authCache.put(targetHost, new BasicScheme());

        final HttpClientContext context = HttpClientContext.create();
        context.setCredentialsProvider(provider);
        context.setAuthCache(authCache);

        httpPost.setEntity(new StringEntity(body));
        httpPost.addHeader(new BasicScheme().authenticate(credentials, httpPost, context));    // added

        HttpResponse response = client.execute(httpPost, context);
        ...
2) Add the method declaration of getTrustStore() in CryptoSuite.java
3) Add some statements in TestConfig.java for switching between http and https (e.g. depending on env variable)
3) Add the following for the fabric-ca command in docker-compose.yml
        --tls.enabled 
        --tls.certfile /etc/hyperledger/tls/ca/tls_server-cert.pem 
        --tls.keyfile /etc/hyperledger/tls/ca/tls_server-key.pem, and
    volumes:
      - ./tls/ca:/etc/hyperledger/tls/ca
    The tls_server-*.pem files are from testdata directory in fabric-ca;;;","17/Mar/17 2:58 AM;tuand;Suganama-san,  
is the sdk-java <-> fabric-ca connection mutual tls ?  How does the SDK load the certs from fabric-ca and how does fabric-ca load the cert from sdk-java ?

the CryptoSuite trust store may not necessarily have the fabric-ca tls cert  You might have to deal with tls separately from MSP/BCCSP ;;;","17/Mar/17 5:24 PM;suganuma;This is not mutual TLS. We do not provide client cert and key, which I'm not sure what to be used. Also how can we start fabric-ca-server with mutual TLS? Read.md describes something about mutual_tls_ca, but I'm not sure how we can specify the pem files in the command line argument to request client to send its certificate.

The trust store in CryptoPrimitive is currently initialized with cert files stored in cacerts dir which I assume the fabric-ca tls certs. Do you mean this assumption may not hold in the future and we have to set up a separate trust store? ;;;","17/Mar/17 10:17 PM;tuand;Suganuma-san,
I do not understand how fabric-ca does tls well enough.  You should talk to the fabric-ca folks to make sure how both sides need to be configured.

The CryptoPrimitives trust store does not contain the fabric-ca certs.  CryptoPrimitives is for signing and verifying signatures between the sdk and fabric peer/orderer.  Very soon now,  the sdk will populate the trust store with certs from a channel's genesis block.  Fabric-ca authentication/authorization is separate from this.;;;","20/Mar/17 9:51 PM;suganuma;I checked this with the fabric-ca community and they do not use mutual TLS at this point.
I also confirmed Gari Singh that sdk-node supports just one-way TLS for fabric-ca.;;;","20/Mar/17 10:04 PM;rickr;It's not mutual auth both for Fabric and Fabric_ca.  The server does not require the clients certificates.   Only the client requires the server's certificates.  Trust of the fabric_ca client is done via basic auth.   Trust of the fabric client is done via the signed payloads 

TLS besides the encryption of the payload ensures that server you are initially communicating with is the one intended and not some rogue system.;;;","23/Mar/17 11:59 PM;rickr;I missing where did you load the fabric_ca certs into the trust store ?;;;","24/Mar/17 12:57 AM;suganuma;The certs in the cacerts directory in the fabric-sdk-java root are loaded into the trust store by the method loadCACerts() called by cryptoSuite.init().;;;","24/Mar/17 3:30 AM;rickr;How did you for http get past for development the hostname certifificate check ?


Caused by: javax.net.ssl.SSLPeerUnverifiedException: Host name 'localhost' does not match the certificate subject provided by the peer (CN=ca0, OU=CA, O=Hyperledger Fabric, L=Raleigh, ST=NC, C=US)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.verifyHostname(SSLConnectionSocketFactory.java:465)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:395)
	at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:353)
	at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:141)
	at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:353)
	at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:380)
	at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)
;;;","24/Mar/17 10:05 AM;suganuma;Which cert and key files did you use for fabric_ca TLS?
Please try tls_server-*.pem under the fabric-ca/testdata directory.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Establish TLS connection with peer and orderer,FABJ-315,14484,14161,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,suganuma,tuand,tuand,01/Feb/17 11:31 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,03/Apr/17 6:21 PM,,,,,v1.0.0,,,,,0,v1.0,,,,,"When peer is ready with TLS, sdk side will have to configure TLS for gRPC.

Need to get key/cert for sdk side and read in CA cert for peer then configure sdk gRPC end.",,rickr,suganuma,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-306,,,"03/Apr/17 6:07 PM;suganuma;pom.xml;https://jira.hyperledger.org/secure/attachment/10644/pom.xml",,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjrj:",,,,,,Sprint 10 - Java SDK,Sprint 11 - Java SDK,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,rickr,suganuma,tuand,,,,,,,,,dev,main,,,,,,true,"29/Mar/17 9:39 PM;rickr;Hi Toshio 
Any updates on doing this with boring ssl ?
;;;","30/Mar/17 12:50 AM;suganuma;As I mentioned in FAB-1732, I got TLS connection with Orderer by using my own certificate (somehow, cert and key files from Rick didn't work for me). Since my code base was quite old and I encountered ""getGenesisBlock null"" error (which is irrelevant to TLS), I will move to the latest code for checking TLS connection with Peer.;;;","30/Mar/17 11:00 PM;suganuma;Using our own cert/key files for each of orderer and peers, the TLS communication between sdk-java and orderer0/peer0 seems to work ok. However, there seems a problem between orderer0 and peer0 and this causes a timeout error after sending instantiateProposalRequest to all peers.

2017-03-30 13:17:01.179 UTC [deliveryClient] NewDeliverService -> ERRO 2a6 Cannot dial to orderer0:7050, because of grpc: timed out when dialing
...
2017-03-30 13:22:01.807 UTC [chaincode] Launch -> ERRO 3f9 launchAndWaitForRegister failed Timeout expired while starting chaincode example_cc.go:1.0(networkid:dev,peerid:peer0,tx:65fba64e9ff5a19321735a7b322916995bbce2e46e1562579c8b1239ad21e97a);;;","31/Mar/17 4:11 PM;suganuma;I can reproduce the same 'Timeout' error with the fabric/examples/e2e_cli code when TLS is enabled. The problem seems to occur when trying to instantiate the chaincode on peer2. All the test works fine when TLS is disabled.
I will check this with the latest fabric code.;;;","03/Apr/17 6:20 PM;suganuma;I got success for running End2endIT test with TLS enabled. Attached above is the pom.xml I used for using netty-tcnative-boringssl-static. I added a couple of lines in Endpoint.java as follows, but this may not be mandatory.

                    SslContext sslContext = GrpcSslContexts.forClient()
                            .trustManager(new java.io.File(pem))
                            .sslProvider(SslProvider.OPENSSL)                 // added
                            .build();
                    this.channelBuilder = NettyChannelBuilder.forAddress(addr, port)
                            .sslContext(sslContext)
                            .negotiationType(NegotiationType.TLS);          // added
                    if (cn != null) {
                        channelBuilder.overrideAuthority(cn);
                    }

Also I created my own cert/key files for each of orderer and peers and updated those files under the directories such as e2e-2Orgs/tls/peers/peer0.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Determine how and where crypto options are set,FABJ-316,14331,15131,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,tuand,tuand,25/Jan/17 5:46 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,05/Oct/17 10:48 PM,,,,,Future,,,,,0,v1.0,,,,,"Need to agree with MSP folks on where things like security provider, certificate format, signature algorithm should be set.  

Currently hardcoded. There's discussion about how MSP configuration is in the genesis block or is given to the client out-of-band",,ranjan78,rickr,tuand,zerppen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5rb:",,,,,,,,,,,,,,,,,,,,,,,,,ranjan78,rickr,tuand,zerppen,,,,,,,,,,,,,,,,"17/Apr/17 5:56 PM;zerppen;[~tuand] 
To define a KV file under this project.Then applications read this file,it's ok?
 ;;;","17/Apr/17 10:10 PM;tuand;[~zerppen], please consult with [~rickr] and [~jimthematrix]

Note that this data needs to be shared with client app, peer and orderer ( and possibly HSM ) . ;;;","18/Apr/17 1:58 PM;zerppen;Thx Tuan [~tuand] I am starting this task.
[~rik] [~jimthematrix] Because we are in different time zones,my facebook account is zerppen@outlook.com . Since today,i work as an volunteer fulltime.Maybe there are some taks more suitable to me.
I am waiting for ur advice about detais.;;;","21/Apr/17 8:36 PM;zerppen;[~rickr] I think there should be a  configuration file instead of hardcode in
 fabric-sdk-java/src/test/java/org/hyperledger/fabric/sdk/testutils/TestConfig.java .
About how MSP configuration is in the genesis block or is given to the client out-of-band we can output property file too,but there maybe a better way to do this,right? [~jimthematrix]
 ;;;","05/Oct/17 10:48 PM;rickr;Been addressed in FAB-2564.  Added support on client level which is comparable to Node SDK;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Refactor CryptoUtilities to match follow MSP/BCCSP/Identities design in fabric and fabric-sdk-node,FABJ-317,14516,15131,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,03/Feb/17 1:50 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,12/Apr/18 10:25 PM,,,,,WON'T FIX,,,,,0,Release-planning-1.2,v1.0,,,,"Currently, Java SDK keeps all crypto functions in one class CryptoUtilities .

To better integrate with fabric-ca and fabric , we should follow what fabric is doing with its MSP component. In particular, this will help Java SDK when configuring crypto and identity functions from the config items in the genesis blocks.",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxjvz:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,,,,,,,,,"03/Feb/17 1:53 AM;tuand;as a first step, see if we have a common interface for signing and verifying. This matches with the fabric's BCCSP interface.

{noformat}
/**
 *
 * BCCSP is the blockchain cryptographic service provider that offers the
 * implementation of cryptographic standards and algorithms
 *
 * This follows the definition of BCCSP in hyperledger/fabric/bccsp/bccsp.go
 *
 */

public interface Bccsp {

	/**
	 * hash() hashes the given message according to the options set in hashOpts.
	 * if hashOpts is null, the default hash function is used.
	 * 
	 * @param message
	 *            the text to be hashed
	 * @param hashOpts
	 *            options for the hash function
	 * @return
	 * @throws CryptoException
	 */
	public byte[] hash(byte[] message, Properties hashOpts) throws CryptoException;

	/**
	 * sign() signs the message according to the signerOpts. The signerOpts
	 * should be appropriate for the algorithm used.
	 * 
	 * @param privateKey
	 *            the key used to sign the message
	 * @param message
	 *            the message to be signed.
	 * @param signerOpts
	 *            options to be passed to the signer
	 * @return
	 * @throws CryptoException
	 */
	public byte[] sign(PrivateKey privateKey, byte[] message, Properties signerOpts) throws CryptoException;

	/**
	 * verify() verifies the given signature against the given clear text.
	 * 
	 * @param plainText
	 *            The original text
	 * @param signature
	 *            The signature blob
	 * @param pemCert
	 *            The certificate of the signer. Contents of the .PEM file.
	 * @param verifierOpts
	 * @return
	 */
	public boolean verify(byte[] plainText, byte[] signature, byte[] pemCert, Properties verifierOpts);

	// TODO see if these methods are needed for sdk-java
	// keyGen(), KeyDeriv(), keyImport(), getKey(), getHash(), encrypt(),
	// decrypt()

}
{noformat};;;","06/Feb/17 2:38 AM;rickr;I don't like introducing new terms that many who just want to write chain code and use the SDK are unfamiliar with.  Please stick to CryptoUtils.java and CryptoUitlsImpl.java.  User of the SDK will immediately have an understand what this interface and implementation is for. ;;;","07/Feb/17 1:40 AM;tuand;My view is that SDK users will never see these interfaces,  rather we should have sign, verify, etc ... methods for the Chain or User classes.

Developers that will be extending the SDK are familiar with MSP/BCCSP/Identities objects as that's what coming from the peer and the orderer. Also, any configuration we receive from fabric will follow these conventions.

It's still somewhat early since we don't have a clear picture of what fabric is generating so I'm sure this will change very soon.

Also, need to see what sdk-node is doing and see that we don't diverge too much  ;;;","13/Mar/17 4:30 AM;rickr;Is this really necessary? I'm not seeing a huge payback on this. .. Post V1 maybe ?;;;","13/Mar/17 10:23 PM;tuand;Low priority unless some requirement comes out of the genesis block/config update work.  
Can label post V1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 refactor Sign() to use JCA methods,FABJ-318,14369,15724,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,27/Jan/17 1:40 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,24/Oct/17 10:35 PM,,,,,Future,,,,,0,,,,,,Change CryptoPrimitives sign() method to use JCA calls instead of BouncyCastle/ECDSA specific calls ,,rhegde,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-282,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx5uv:",,,,,,,,,,,,,,,,,,,,,,,,,rhegde,rickr,tuand,,,,,,,,,,,,,,,,,"13/Mar/17 4:27 AM;rickr;Are we done with this ?;;;","13/Mar/17 10:18 PM;tuand;have not looked at this. Low priority since CryptoPrimitives.signecdsa() is working with preventMalleability(). 

I see this as low priority.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
V1.0 Provide policies when upgrading chaincode. (install as well ?),FABJ-319,15012,15320,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,tuand,tuand,24/Feb/17 4:09 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,09/Apr/17 9:10 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,"Follow the design for CC requests packaging as described in this [document|https://docs.google.com/document/d/1WF7eGwqnQmCXFefUoRdjHlk_X_T3RWp7ok2jVdLVREY/edit#heading=h.50odblmnuq75]

CC instantiate request was done in FAB-2376.  Need to see if we have to do other CC requests.",,rickr,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-131,,FABJ-309,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx35j:",,,,,,,,,,,,,2.0,,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"13/Mar/17 4:41 AM;rickr;Done ? When we add other CC requests we can an address it;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.0 validate go vendor package,FABJ-320,15460,15320,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,tuand,rickr,rickr,27/Mar/17 8:55 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,31/Mar/17 9:16 AM,,,,,v1.0.0,,,,,0,java-SDK,v1.0,,,,"sample11 code doubles the move result directly in 
/fabric-sdk-java/src/test/fixture/sdkintegration/gocc/sample_11/src/github.com/example_cc/example_cc.go 

Create a Vendor package that does this doubling.
Purpose to validate packaging of vendor code and ability to execute it.",,rickr,tuand,,,,,,,,,,,,,,,,,,FABJ-130,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx367:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,tuand,,,,,,,,,,dev,main,,,,,,true,"29/Mar/17 4:18 AM;tuand;https://gerrit.hyperledger.org/r/#/c/7513/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance example_cc.go return transient data.,FABJ-321,15969,15825,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,sanchezl,rickr,rickr,25/Apr/17 12:30 AM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,25/Apr/17 7:48 AM,,,,,v1.0.0,,,,,0,,,,,,"src/test/fixture/sdkintegration/gocc/sample1/src/github.com/example_cc/example_cc.go

From both init and move change so the transient map is retrieved and if there retrieve the ""result"".  If present return this in the shim.Success()",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxr1j:",,,,,,Sprint 16 - SDK Java,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add API to query block by number,FABJ-322,14932,13846,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,choojoyq,choojoyq,20/Feb/17 6:53 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,16/Mar/17 1:58 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxli7:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,"15/Mar/17 5:43 AM;tuand;https://gerrit.hyperledger.org/r/#/c/7027/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add API to query block by hash,FABJ-323,14933,13846,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,choojoyq,choojoyq,choojoyq,20/Feb/17 6:57 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,16/Mar/17 1:58 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxlif:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,"11/Mar/17 1:04 AM;tuand;https://gerrit.hyperledger.org/r/#/c/7027/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add API to query blockchain info,FABJ-324,14935,13846,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,tuand,choojoyq,choojoyq,20/Feb/17 7:09 PM,19/Jul/18 10:47 PM,28/Oct/23 2:21 AM,16/Mar/17 1:58 AM,,,,,v1.0.0,,,,,0,v1.0,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxliv:",,,,,,Sprint 5 - Consensus,Sprint 10 - Java SDK,Sprint 11 - Java SDK,,,,,,,,,,,,,,,,,choojoyq,tuand,,,,,,,,,,,,,,,,,,"08/Mar/17 6:51 AM;tuand;https://gerrit.hyperledger.org/r/#/c/6325/;;;","11/Mar/17 1:05 AM;tuand;https://gerrit.hyperledger.org/r/#/c/7027/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for the fabric-sdk-java code base,FABJ-325,17475,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,harrijk,harrijk,05/Jun/17 9:15 PM,19/Jul/18 10:48 PM,28/Oct/23 2:21 AM,21/Jun/17 11:16 PM,,,,,v1.0.0,,,,,0,java-SDK,quality,,,,"This task covers the ongoing work of improving the code coverage of the fabric-sdk-java code base.

Gerrit CR URLs relating to the code coverage work will be posted as they are submitted.

06/05/2017

[https://gerrit.hyperledger.org/r/#/c/10147/]

[https://gerrit.hyperledger.org/r/#/c/10167/]

 

06/06/2017

[http://gerrit.hyperledger.org/r/10221]

 

06/08/2017

[https://gerrit.hyperledger.org/r/#/c/10371/]

 

06/12/2017

[http://gerrit.hyperledger.org/r/10499]

 

06/13/2017

[http://gerrit.hyperledger.org/r/10581]

 ",,harrijk,rickr,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxyrr:",,,,,,,,,,,,,,,,,,,,,,,,,harrijk,rickr,,,,,,,,,,dev,main,,,,,,true,"06/Jun/17 1:01 AM;jimthematrix;[~harrijk] this one doesn't need to go through review and voting, as it doesn't touch production code paths in a ""risky"" way. it can be merged once ready.;;;","06/Jun/17 1:33 AM;harrijk;[~jimthematrix] Thanks for the update.  I've just submitted a second CR that includes additional tests.  As soon as that verifies, hopefully we can get both merged in.;;;","21/Jun/17 11:16 PM;rickr;Thanks John  I think we're in a good enough shape - closing!  Thanks for all the contributions to make it happen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve code coverage for fabric-sdk-java - chrism,FABJ-326,17629,17475,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,chrism28,chrism28,chrism28,08/Jun/17 10:11 AM,19/Jul/18 10:48 PM,28/Oct/23 2:21 AM,20/Jun/17 6:47 AM,v1.0.0,,,,v1.0.0,,,,,0,,,,,,"This task is for any junit code coverage and related work carried out by chrism28

06/13/2017
https://gerrit.hyperledger.org/r/#/c/10515/",,chrism28,,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxzkv:",,,,,,,,,,,,,,,,,,,,,,,,,chrism28,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix - Java SDK MVP,FABJ-327,23223,,Epic,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,dubovitskaya,dubovitskaya,dubovitskaya,01/Nov/17 4:17 AM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,10/Oct/18 2:18 PM,v1.3.0,,,,v1.3.0,,,,,0,idemix,sdk,,,,"Provide Idemix crypto library in Java and integrate it with java-sdk for signing transactions.

*Idemix background:* From the client side the flow is the following. 

A user gets an Idemix enrollment certificate, which is a signature (not ECDSA) on a set of attributes and a commitment to the user's private key. A commitment to the user's private key is called a pseudonym and can be seen as a public key. The only difference here is that the user can generate many public keys (pseudonyms) from the same secret key and prove that the corresponding secret key is signed inside a certificate by the CA (CA signs in a blind fashion, by singing a pseudonym). Using this single certificate a user can sign messages unlinkably, selectively revealing the attributes. The reason that this signatures are unlinkable is that instead of showing the certificate in clear, the user generates a zero-knowledge proof of possession of the certificate that hides all the (linkable) info and still can be verified with the public key of the CA who issued the certificate. 

Therefore, a signing identity in the case of Idemix is not the original certificate, not something long-term, but rather a fresh unlinkable zero-knowledge proof of the certificate (so-called pseudonymous identity).

So the Idemix integration on the peer side (in Go) implements the SigningIdentity interface with the Idemix algorithms, since the MSP interface in Go supports different types of MSPs with different underlying crypto providers.

*Idemix & java-sdk:* The Enrollment.java interface of the java-sdk is tailored to X.509 enrollment certificates (something long term) that are also used to sign transactions. User.java only provides GetEnrollment() method to sign a transaction.

To support different crypto underlying the User.java interface and unlinkable transaction signing and also to stay in line with Node.js sdk and Go implementation, we propose to extend the User.java interface with the getSigningIdentity() method that would return a Signing Identity (a term from the Go MSP) to be used for that particular transaction.

A Signing Identity in the case of Idemix is a user private key, a pseudonym, and a zero-knowledge proof of possession of the (enrollment) certificate that only selectively discloses attributes. (In case of X.509 and no TCerts: Signing Identity = Enrollment). This can be used to sign a transaction. 

GetEnrollment() in the case of Idemix would return the original certificate, attributes, user's private key and the original pseudonym that was signed inside the enrollment certificate. Since this is linkable it will not be used for signing transactions if privacy is required.

*Our contribution:*

(1) Provide the Idemix crypto library in java that supports all the crypto operations.

(2) Implement Signing Identity interface, like we did for Go. SigningIdentity will sign transactions and proper serialize Idemix Identity to be verified by the peers.

(3) We would extend the User interface with getSigningIdentity() to allow the generation of fresh unlinkable Signing Identites or retrieving the existing one.

(4) Integrate with transaction signing. We can add another TransactionContext constructor for the tech preview to support unlinkable signing and avoid breaking the interfaces. It will invoke Idemix User with SigningIdentity to sign a transaction.

(5) SampleStore implementation that supports Idemix certificates. The certificates will be generated and serialised using an existing tool. 

(6) Integration with fabric-ca for credential issuance.",,ashutosh_kumar,denyeart,dubovitskaya,Hangyu_FJH,latitiah,mdr,mffrench,rickr,SjirNijssen,,,,,,,576000,576000,,,,,,,,,,,,,,FABC-588,FAB-10120,FAB-2005,FABC-592,,"18/Nov/17 1:05 AM;dubovitskaya;java-sdk.pptx;https://jira.hyperledger.org/secure/attachment/13362/java-sdk.pptx",,,,,,,,,Done - could still use a sample.,,Reviewed,,Done,ghx-label-1,,Idemix - Java SDK MVP,To Do,,,Done,,,,"1|hzwqfq:o",,,,Yes,Required,To Do,,,,,,,,,,,,,See FABJ-342 for test plan. Partner with Latitia Haskins on interop test.,,,,,,ashutosh_kumar,denyeart,dubovitskaya,Hangyu_FJH,latitiah,mdr,mffrench,rickr,SjirNijssen,,,,,,,,,,,"01/Nov/17 5:09 AM;dubovitskaya;Copy-pasting here an earlier comment from Jim about Idemix integration into the sdks: 
[~jimthematrix] added a comment - 11/Aug/17 3:21 PM - edited
 

Overall flow is actually very similar to how TCert was done before, except that the client are not issued x.509 certificates, but instead idmixer credentials.
 - client and server are configured to have the same CA root (same as before, although the CA root may not be represented as certificates)
 - client enrolls with fabric-ca (to be enhanced to issue idmixer creds in lieu of ECerts) [Maria: will not be supported for MVP - will use a tool to issue certificates]
 - with the idmixer creds, client signs transactions in a zero-knowledge proof style so as to not reveal its identity
 - the peer/orderer verifies the creator identity (using the same SerializedIdentity proto), and signature

Note that the peer and orderer will continue to sign with x.509 certificates. only the client's signatures are produced with idmixer.

What the SDKs need to do:
 - support enrollment with fabric-ca to get idmixer creds [Maria: post-MVP]
 - implement MSPs for idmixer identities, so as to properly serialize identity bytes and sign
 - support multiple MSP IDs for the same organization. It's currently the case, at least with node.js and Java SDK, that MSP IDs are equated to organizations. Now you may have ""org1MSP-x509"" and ""org1MSP-idmixer"" both belonging to the same organization;;;","16/Dec/17 12:01 AM;ashutosh_kumar;Looks like unlinakability and ZKP is achieved by Blind Signature implementation. Based on available literature , Blind Signature are being implemented via RSA mechanism. Is crypto implementation of Blind signature based on Elliptic Curve ? Please confirm . Per my understanding , we are not supporting RSA scheme in Fabric.;;;","18/Dec/17 10:52 PM;dubovitskaya;[~ashutosh_kumar], yes, you are right, it is based on blind signatures and ZK proofs and we use elliptic curves. This particular Identity Mixer implementation uses a pairing-based signature scheme that was briefly proposed by [Camenisch and Lysyanskaya |http://link.springer.com/chapter/10.1007/978-3-540-28628-8_4]and described in detail by [Au et al.|http://link.springer.com/chapter/10.1007/11832072_8] We use the zero-knowledge proof by [Camenisch et al.|http://eprint.iacr.org/2016/663.pdf] to prove knowledge of a signature. We use [amcl|https://github.com/milagro-crypto/amcl/tree/master/version3/java] crypto library for elliptic curves. ;;;","18/Dec/17 11:40 PM;ashutosh_kumar;Thanks [~dubovitskaya]. I'll have a look.

 ;;;","28/Jul/18 1:04 AM;denyeart;Setting as design Reviewed as part of the general Idemix review July 24th.;;;","12/Sep/18 2:02 AM;rickr;So what's the status here ?  I don't see any more gerrit items to commit ?  Who or what will it take to close this for v1.3 ?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Vendor amcl Java library as the only dependency ,FABJ-328,21785,23223,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,mdr,dubovitskaya,dubovitskaya,12/Oct/17 2:35 AM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,21/May/18 7:21 AM,,,,,,,,,07/Nov/17 12:00 AM,0,java-sdk,,,,,"amcl Java library is the Java version of the crypto library in Go that is vendored in fabric for the Idemix MSP implementation

https://github.com/milagro-crypto/amcl

 ",,dubovitskaya,mdr,rickr,,,,,,,,,576000,576000,,0%,576000,576000,,,,,,,,,,,,,,,,FAB-3166,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfq:q",,,,,,To Do,,,,,,,,,,,,,,,,,,,dubovitskaya,mdr,rickr,,,,,,,,,dev,main,,,,,,true,"12/Oct/17 2:52 AM;rickr;I would like to have an *Executive Summary* overview of how this will affect the SDKs.;;;","10/Nov/17 10:38 PM;mdr;For now, we add the library in compiled form, as it is not available in some maven repository. The original library (*[https://github.com/milagro-crypto/amcl]*) must first be configured using a python script, which is what we did and the result is available at *[https://github.com/manudrijvers/amcl/tree/master/java]*. This code we compiled to obtain the jar we are including here. 
There are plans to move the core idemix functionality into a separate repository containing the go, java, and node versions of the idemix core crypto, and then the amcl dependency would no longer needed in fabric-sdk, so we see this as a temporary solution. ;;;","10/Nov/17 10:39 PM;mdr;CR: https://gerrit.hyperledger.org/r/#/c/15367/;;;","10/Nov/17 10:42 PM;dubovitskaya;This subtask was originally the whole task for java-sdk integration. To add more modularity for the tasks, I converted it to a subtask for adding a dependency. The main issue for the java-sdk integration is Epic https://jira.hyperledger.org/browse/FAB-6835;;;","20/Mar/18 1:59 AM;mdr;The crypto library is finally available in maven so the CR now only modifies the pom (the jar is removed). ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
java-sdk - allow NetworkConfiguration to be updated,FABJ-329,29055,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,rickr,aatkddny,aatkddny,31/Mar/18 10:24 PM,12/Sep/18 2:12 AM,28/Oct/23 2:21 AM,12/Sep/18 2:12 AM,,,,,,,,,,0,,,,,,"When pulling the NetworkConfig JsonObject from a third party service it doesn't always have everything one needs to then use the new HFClient methods. The ability to add them to the NetworkConfig is necessary here to have this all work as intended.

======

Exact sample to reproduce:

Use the IBM blockchain apis (the new ones in Beta). The connection_profile you can hit through their API has everything you need except two properties required on the orderer and the peer.

This causes the 

client.loadChannelFromConfig (client = HFClient) to fail.

The missing properties are the same in all cases:

""sslProvider"", ""openSSL""

""negotiationType"", ""TLS""

Without wishing to design the application, simply providing visibility to these in NetworkConfig with getters and allowing access to the Node object would suffice. :

    *private* Map<String, Node> orderers;

    *private* Map<String, Node> peers;

=====

 Without this there one is forced to manually walk the Json and put them in the grpcOptions fields before creating the NetworkConfig, which surely isn't what was intended.

As other third party infrastructure suppliers pile on, I'm sure it won't just be this particular vendor that exposes this issue, this is just where I found it.

To save time - you can't set them after you do the loadChannelFromConfig and before you do the channel.initialize either. The Properties objects returned in both Peer and Orderer are cloned.

Allowing a setter there too would suffice, but it seems (to me at least) that having the NetworkConfig correct before starting is the more elegant solution. 

 ",,aatkddny,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-49,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz43b:",,,,Unset,,,,,,,,,,Unset,,,,,,,,,,,aatkddny,rickr,,,,,,,,,,,,,,,,,,"06/Apr/18 1:46 AM;rickr;The only case I think where this is most likely to occur is with  grpcOptions. 
How about a properties when doing the NetworkConfig.load

orderers.\{.*}.grpcOptions.negotiationType.default=TLS  # default if not supplied  \{<>} means <> is a regex expression

orderers.*name*.grpcOptions.sslProvider.override=openSSL   # name= exact name ... override it 
 ;;;","09/Apr/18 9:44 AM;rickr;Not liking any of the solutions I've thought of yet I'm taking a different tack on this. If the protocol is SSL (grpc) the most likel cases are  negotiationType TLS and  sslProvider is openSSL.  So if they are not provided in the specific properties for the endpoint instead of throwing an exception use a global configuration default for them. ;;;","09/Apr/18 9:59 AM;aatkddny;You don't want to throw it back on the caller to have a chance - or the responsibility - to modify the properties appropriately?

Delegate pattern perhaps?

At least that way it's extensible down the line if something else comes down the pipe. ;;;","09/Apr/18 10:58 AM;rickr;I didn't close this. I just don't want to do it now. The fix provided in FAB-9418 will work around this specific issue and something I think should have been in place irregardless of this.;;;","12/Sep/18 2:12 AM;rickr;The user can change the channel before initialize. Also apis were added to allow changing of peer, orderer properties the most likely change needed to fine tune for a specific network ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Network Config property overrides,FABJ-330,29361,29055,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,13/Apr/18 3:09 AM,19/Jul/18 10:50 PM,28/Oct/23 2:21 AM,13/Apr/18 3:57 AM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"Eventhub, Peer and orderer's connections properties are probably most likely need to be adjusted. ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5qf:",,,,,,,,,,,,,,,,,,,,,,,,,rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make idemix work end-to-end from java SDK,FABJ-331,30570,,Test Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,smithbk,smithbk,smithbk,24/May/18 9:36 AM,12/Sep/18 1:56 AM,28/Oct/23 2:21 AM,12/Sep/18 1:56 AM,,,,,v1.3.0,,,,,0,idemix,,,,,"Add support for the java SDK to get an idemix credential from fabric CA and
use that credential to submit a proposal and transaction for the end-to-end flow.",,dubovitskaya,mdr,smithbk,,,,,,,,,,,,,,,,,FABJ-137,,,,,,,,,,,,,FABJ-342,,,,,,,,,,,,,,,,,,FAB-10120,,,Manual,,,,,,"1|hzzc1j:",,,,,,,,,,,,,,,,,,,,Executing,FABJ-358,Integration Test,,,dubovitskaya,mdr,smithbk,,,,,,,,,dev,main,,,,,,true,"24/May/18 9:45 AM;smithbk;https://gerrit.hyperledger.org/r/22189;;;","24/May/18 9:52 AM;smithbk;Fixed some java idemix serialization issues, but am now the peer is failing to verify the proof with the following error ...

^[[34mpeer0.org1.example.com    |^[[0m ^[[36m2018-05-24 00:02:53.321 UTC [protoutils] checkSignatureFromCreator -> DEBU 2f6^[[0m creator is &{idemixMSP x: ""\017\301\317\330\211\345\347z\024\001@(v\251w>y\232\261]\034\212\020T\330\352\304\305\247\213\235\303""
^[[34mpeer0.org1.example.com    |^[[0m y: ""zl%\322\371\006O\321\366K\210U%{N\315XJ]3\247\352\357\303\315\213!\336m\000\311\232""
^[[34mpeer0.org1.example.com    |^[[0m }
^[[34mpeer0.org1.example.com    |^[[0m ^[[36m2018-05-24 00:02:53.321 UTC [endorser] call32 -> DEBU 2f7^[[0m Exit: request from 172.21.0.1:40276
^[[33;1mpeer1.org1.example.com    |^[[0m panic: runtime error: invalid memory address or nil pointer dereference
^[[33;1mpeer1.org1.example.com    |^[[0m [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x80f25a]
^[[33;1mpeer1.org1.example.com    |^[[0m
^[[33;1mpeer1.org1.example.com    |^[[0m goroutine 322 [running]:
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/idemix.(*Signature).Ver(0xc422d90c80, 0x18a3e7c, 0x4, 0x4, 0xc42247cfa0, 0x0, 0x0, 0x0, 0xc422d9f3a0, 0x2, ...)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/idemix/signature.go:208 +0xda
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/msp.(*idemixidentity).verifyProof(0xc4223e2cf0, 0xc4224ae8d0, 0x9)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/msp/idemixmsp.go:311 +0x15b
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/msp.(*idemixmsp).Validate(0xc4224ac0c0, 0x1143480, 0xc4223e2cf0, 0x1, 0x1)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/msp/idemixmsp.go:304 +0x17c
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/msp.(*idemixidentity).Validate(0xc4223e2cf0, 0x1055b77, 0xd)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/msp/idemixmsp.go:509 +0x40
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/common/validation.checkSignatureFromCreator(0xc422b32000, 0x30e, 0x30e, 0xc422443830, 0x88, 0x88, 0xc422da0000, 0x479, 0x479, 0xc42243f168, ...)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/msgvalidation.go:175 +0x2ae
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/common/validation.ValidateProposalMessage(0xc4223e29c0, 0xc4221bcfc0, 0x730b18, 0xc420342450, 0x5, 0x4)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/common/validation/msgvalidation.go:102 +0x1dd
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/endorser.(*Endorser).preProcess(0xc4202c45d0, 0xc4223e29c0, 0xc42017fec0, 0xc4221a2dc0, 0x2)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:368 +0x5d
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal(0xc4202c45d0, 0x113dd00, 0xc4223e2990, 0xc4223e29c0, 0x0, 0x0, 0x0)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:436 +0x245
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal(0xc4202bf6c0, 0x113dd00, 0xc4223e2990, 0xc4223e29c0, 0x7ff5bf621040, 0xed6701, 0xc4223e29c0)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61 +0x8f
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal(0xc4202bf660, 0x113dd00, 0xc4223e2990, 0xc4223e29c0, 0xc4202bf660, 0xc4223e28d0, 0xed67e0)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31 +0x51
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler(0xee2560, 0xc4202bf660, 0x113dd00, 0xc4223e2990, 0xc422d96000, 0x0, 0x0, 0x0, 0x8a0b9a, 0xc4221f6758)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112 +0x241
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC(0xc4200d6420, 0x11415c0, 0xc422df2180, 0xc422d90140, 0xc4202c4660, 0x1876550, 0xc4223e2960, 0x0, 0x0)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:923 +0x889
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4200d6420, 0x11415c0, 0xc422df2180, 0xc422d90140, 0xc4223e2960)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1148 +0x1318
^[[33;1mpeer1.org1.example.com    |^[[0m github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc420495bf0, 0xc4200d6420, 0x11415c0, 0xc422df2180, 0xc422d90140)
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637 +0x9f
^[[33;1mpeer1.org1.example.com    |^[[0m created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
^[[33;1mpeer1.org1.example.com    |^[[0m        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:635 +0xa1
^[[34mpeer0.org1.example.com    |^[[0m panic: runtime error: invalid memory address or nil pointer dereference
^[[34mpeer0.org1.example.com    |^[[0m [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x80f25a]
;;;","24/May/18 4:52 PM;mdr;Great to see you're working on this and making progress. You're unfortunately blocked by FAB-8924, for which I'll push the code out today. If you rebase on that things should work out. ;;;","26/May/18 5:48 AM;smithbk;The current status is that the verification of the proof is failing in the peer, so Zurich is going to take over debugging since this is in ZKP code. 

The following is info on reproducing the error per discussion with Maria ...

For both fabric and fabric-ca repos:
# make docker-clean docker

To run fabric:
# cd fabric-sdk-java/src/test/fixture/sdkintegration
# fabric.sh up 2>&1 | tee t

In intellij, open End2endIT.java and run or debug it

To stop fabric:
# fabric.sh down 

Find peer and orderer logs in the ""t"" file

The current error is as follows in the peer ...

^[[34mpeer0.org1.example.com    |^[[0m ^[[36m2018-05-25 20:47:12.415 UTC [protoutils] checkSignatureFromCreator -> DEBU 32f^[[0m creator is &{idemixMSP x: ""~\334_\334A\263\364\203\214\330\337\347\013m\225\033C\303\265\022\350cGu\234\317\277\205>\361\322\373""
^[[34mpeer0.org1.example.com    |^[[0m y: ""\376\265kt\222\203\244\206\372\270\307o\335\334J\241\357\352\3237\341TP\224q\231\304\331%\217\233`""
^[[34mpeer0.org1.example.com    |^[[0m }
^[[33;1mpeer1.org1.example.com    |^[[0m ^[[33m2018-05-25 20:47:12.524 UTC [protoutils] ValidateProposalMessage -> WARN 330^[[0m channel [foo]: creator certificate is not valid: signature invalid: zero-knowledge proof is invalid
;;;","24/Jul/18 9:53 PM;dubovitskaya;The E2EIT test works now;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Get Idemix Credential using Fabric CA,FABJ-332,30757,30570,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,skarim,skarim,31/May/18 4:39 AM,12/Sep/18 1:23 AM,28/Oct/23 2:21 AM,12/Sep/18 1:23 AM,v1.2.0,,,,v1.3.0,,,,,0,,,,,,The HFCAClient in the SDK should be enhanced so that it has the ability to get an Idemix Credential from the Fabric CA server.,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzddb:",,,,,,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,dev,main,,,,,,true,"31/May/18 4:45 AM;skarim;https://gerrit.hyperledger.org/r/c/22567/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document HSM Integration with JAVA SDK,FABJ-333,32246,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Won't Do,ashutosh_kumar,ashutosh_kumar,ashutosh_kumar,27/Jul/18 4:28 AM,22/Oct/19 7:25 PM,28/Oct/23 2:21 AM,22/Oct/19 7:25 PM,Future,,,,Future,,,,,0,Documentation,,,,,Java provides Pkcs11 integration with JCA JCE. The configuration steps should be documented.,,ashutosh_kumar,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzk9j:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 7:25 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extend Java SDK test suite to support HSM,FABJ-334,32247,,Test Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,ashutosh_kumar,ashutosh_kumar,ashutosh_kumar,27/Jul/18 4:33 AM,22/Oct/19 7:25 PM,28/Oct/23 2:21 AM,22/Oct/19 7:25 PM,Future,,,,Future,,,,,1,quality,,,,,"Java SDK End-to-End should have HSM Integration tests. The test will be using SoftHSM as PKCS11 provider.

 

[~rickr] , please chime in if needed.",,ashutosh_kumar,heatherp,rickr,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzk9r:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unit Test,,(Please add usage information),ashutosh_kumar,heatherp,rickr,Vishal3152,,,,,,,,,,,,,,,,"22/Oct/19 7:25 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cache signatures of discovery queries (java sdk),FABJ-335,32361,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,yacovm,yacovm,28/Jul/18 6:59 AM,22/Oct/19 7:25 PM,28/Oct/23 2:21 AM,22/Oct/19 7:25 PM,,,,,Future,,,,,0,,,,,,"The discovery service caches signatures of queries and when TLS is employed - this allows a client to send the same query multiple times to the discovery service without the peer needing to verify signatures, given that the signature is reused, and it is in the cache of the peer and that no config update occurred that made the cache be wiped out.

 

The java SDK implementation doesn't cache the signatures, and thus even if it sends the same query to the peer over and over again - it signs all over again.

It can be nice if the node SDK caches the requests and their corresponding signatures sent to the peer(s) and this would reduce CPU cycles in the server side.

 

[~rickr] please correct me if something is wrong about the java SDK.",,heatherp,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11374,,,No,,Unset,No,,,"1|hzzklb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,yacovm,,,,,,,,,,,,,,,,,,"22/Oct/19 7:25 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement cc2cc queries (java SDK),FABJ-336,32363,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,yacovm,yacovm,28/Jul/18 7:48 AM,22/Oct/19 7:24 PM,28/Oct/23 2:21 AM,22/Oct/19 7:24 PM,,,,,Future,,,,,0,,,,,,"When the client sends a proposal to chaincode *foo*, upon reception of a proposal response from a peer:
 * Inspect the read-write sets, and see if there exists a RWSet for a namespace *bar* which is not *foo*.
 * If a cc2cc discovery query result for *foo*, *bar* had been received before and was cached, use the cached result and skip the next bullet.
 * Do a cc2cc discovery query with the namespaces: *foo, bar* and cache the result for future use.
 * Determine if the peers that were used for endorsing *foo*, also together satisfy the combination of endorsement policies of *foo* and *bar*. 
If not - re-select the peers based on the endorsement descriptor for *foo* and *bar*, and send the proposal again.

 

Note - *foo* and *bar* are brought here as examples of cc2cc invocations, but obviously the SDK should be able to handle any set of namespaces returned to it.",,heatherp,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11374,,,No,,Unset,No,,,"1|hzzklr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,yacovm,,,,,,,,,,,,,,,,,,"22/Oct/19 7:24 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement collection aware discovery queries (java SDK),FABJ-337,32375,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,yacovm,yacovm,28/Jul/18 10:19 PM,17/Oct/18 1:00 AM,28/Oct/23 2:21 AM,24/Aug/18 1:56 AM,,,,,v1.3.0,,,,,0,,,,,,"The discovery service query can receive names of collections of a chaincode namespace so that the returned endorsement descriptor would filter out peers not in the collection.

 
{code:java}
message ChaincodeCall {     
   string name = 1;
   repeated string collection_names = 2;
} {code}
 

This has 2 advantages:
 * Confidentiality - sometimes private data is populated with transient field, and thus we can't send the data to peers not in the collection, because they would receive the data we want to keep private.
 * A peer that endorses, might not have the private data, and as a result - the endorsement would fail....

 

Thus, the SDK needs to provide a means to a user to specify collection names which he/she predicts would be used in the chaincode invocation, and these names would be passed to the discovery service by the SDK.

 

 ",,rickr,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzko7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,yacovm,,,,,,,,,,,,,,,,,,"24/Aug/18 2:00 AM;rickr;https://github.com/hyperledger/fabric-sdk-java/blob/6738ebaba3c49776b63f3508c24eb7800bee2dfb/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L4024-L4085;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement channel-less peer queries (java SDK),FABJ-338,32377,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,yacovm,yacovm,28/Jul/18 10:27 PM,22/Oct/19 7:24 PM,28/Oct/23 2:21 AM,22/Oct/19 7:24 PM,,,,,Future,,,,,0,,,,,,"The discovery service can be used to query the peer membership in a non channel context.

 

This is done by issuing a [LocalQuery|https://github.com/hyperledger/fabric/blob/release-1.2/protos/discovery/protocol.proto#L86]. 

The motivation and justification for its existence is that an organizational administrator might want to have a dashboard application where it can see all the peers it has in its possession, and all the peers that the peers in its possession know about (i.e - peers from other organizations).

By default, the discovery service is configured to allow this query only to administrators of the peer itself, however [it can be configured|https://github.com/hyperledger/fabric/blob/release-1.2/sampleconfig/core.yaml#L462] to disclose the information to any member of the peer's organization.

[~ptippett] - This one can be useful for you when/if you upgrade to v1.2 ;)",,heatherp,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11374,,,No,,Unset,No,,,"1|hzzkon:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,yacovm,,,,,,,,,,,,,,,,,,"22/Oct/19 7:24 PM;heatherp;Raised over a year ago - please reopen if still required;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Access peer/orderer by advanced URL format,FABJ-339,32390,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Invalid: Not Supported,,LordGoodman,LordGoodman,30/Jul/18 3:36 PM,30/Jul/18 10:59 PM,28/Oct/23 2:21 AM,30/Jul/18 10:59 PM,,,,,,,,,,0,,,,,,"The address format of peer/orderer is defined as ""protocol://host:port"" in Java SDK, which is leading inconvenience when deploying Fabric cluster on Kubernetes cluster and hosting SDK service outside of the Kubernetes cluster, in our scene, an Ingress service will be used to route outside traffic to specified peer/orderer, the rules is format in ""protocol://IngressIP/path/to/peer"", which mismatch the ""protocol://host:port"" pattern,  do you think it is necessary to support the format I mentioned? Thanks",,LordGoodman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzkrb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),LordGoodman,rickr,,,,,,,,,,,,,,,,,,"30/Jul/18 10:59 PM;rickr;I don't think grpc supports this as https://groups.google.com/forum/#!topic/grpc-io/e1041Rw2mQI

If you find out differently please open as feature with some confirmation that it's actually supported.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integrate Idemix Signing Identity in Java with User.java and transaction signing in java-sdk ,FABJ-340,23231,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,angelo.decaro,dubovitskaya,dubovitskaya,01/Nov/17 5:25 AM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,12/Sep/18 1:44 AM,,,,,v1.3.0,,,,,0,idemix,,,,,We can add another TransactionContext constructor for the tech preview to support unlinkable signing and avoid breaking the interfaces. It will invoke Idemix User with SigningIdentity to sign a transaction.,,dubovitskaya,elli-androulaki,rickr,smithbk,,,,,,,,,,,,,,,,FABJ-129,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-327,,,,,,,,,"1|hzwqfq:s",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,,,,,dubovitskaya,elli-androulaki,rickr,smithbk,,,,,,,,dev,main,,,,,,true,"01/Nov/17 11:28 PM;rickr;If idemix is optional and even the fabric CA is optional it can not break the existing interface. 
There is NO details here on why or how this is to be implemented. ;;;","18/May/18 9:14 PM;smithbk;The current design defines a User interface with two implementations: one for x509 ecerts and one for idemix.
There is then nothing that relates the two user objects to one another, even though they are the same person.

I think a better design is to define a Credential interface with two implementations: one for x509 ecerts and one for the idemix credential.
The User object has multiple Credential objects just as a single user can have both a drivers license and a passport.




;;;","22/May/18 1:21 AM;smithbk;Angelo, my apologies.  I agree with you that an IdemixUser object is needed.  I thought the User object corresponded to a real user, but it is really a user's context.  I think it should have been called UserContext instead of User, but too late for that.;;;","22/May/18 4:44 PM;elli-androulaki;https://gerrit.hyperledger.org/r/#/c/20755/;;;","29/May/18 9:47 PM;elli-androulaki;Two CRs related to this JIRA:

https://gerrit.hyperledger.org/r/#/c/22117/

[https://gerrit.hyperledger.org/r/#/c/20755/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add implementation that supports bootstrapping of Idemix certificates (similar to SampleStore.java),FABJ-341,23232,23231,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,dubovitskaya,dubovitskaya,01/Nov/17 5:29 AM,12/Jun/20 12:31 AM,28/Oct/23 2:21 AM,12/Sep/18 1:44 AM,,,,,,,,,,0,,,,,,The certificates will be generated and serialised using an existing tool. ,,dubovitskaya,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfq:u",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,,,,,dubovitskaya,rickr,,,,,,,,,,,,,,,,,,"01/Nov/17 11:30 PM;rickr;Idemix as far as I know is optional and SampleStore should not  be made dependent on it for the existing integration testcases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TEST PLAN: Idemix for Java SDK,FABJ-342,30308,,Test Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,dubovitskaya,elli-androulaki,elli-androulaki,17/May/18 2:48 AM,10/Oct/18 2:17 PM,28/Oct/23 2:21 AM,10/Oct/18 2:17 PM,,,,,v1.3.0,,,,,0,test-plan,,,,,"Orchestrate the tests associated to the code the CRs of this epic include.

Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) :

 

+*Unit Test (UT) leader*+: [~dubovitskaya]

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/] 

Unit Test Coverage is 92% on average.

+*Function Test (FVT) leader*+: [~dubovitskaya]
In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:

 

E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these) :

End2endIdemixIT.java ( FAB-10351) End2endIT that is modified for Idemix to do the following:
 # E2E Test (Manual): IdentityMixer Client(SDK) attempts to get an Idemix enrolment certificate from Fabric CA, create an IdemixSigningIdentity.
 # E2E Test (Manual): IdentityMixer Client (SDK) attempt to invoke a chaincode by submitting a proposal and then transaction to the network.

 

+*System Verification Test (SVT) leader*+: 

SVT: run End2endIdemixIT.java in MT (FABJ-363 )",,dubovitskaya,elli-androulaki,latitiah,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-331,,FABJ-363,,,,,,,,,,,,,,,,,,FABJ-327,,,Manual,,,,,,"1|hzzaqv:",,,,,,,,,,,,,,,,,,,,Pass,,Unset,,,dubovitskaya,elli-androulaki,latitiah,rickr,,,,,,,,,,,,,,,,"12/Sep/18 2:04 AM;rickr;No longer any commits for Java SDK for Idemix in v1.3.  Some details on who, when and what needs to be done to close for v1.3.  ;;;","20/Sep/18 11:45 PM;dubovitskaya;[~latitiah] Do we need to test anything else before we close this?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prevent peer reconnecting on shutdown,FABJ-343,32636,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,07/Aug/18 10:50 PM,21/Aug/18 6:13 AM,28/Oct/23 2:21 AM,14/Aug/18 7:01 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"Stop earlier in the processes in reconnection attempts when the peer is shutting down.

Gerrit: https://gerrit.hyperledger.org/r/#/c/25201/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzlwv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java dependencies update,FABJ-344,32706,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,10/Aug/18 3:34 AM,11/Aug/18 3:56 AM,28/Oct/23 2:21 AM,11/Aug/18 3:56 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"https://gerrit.hyperledger.org/r/#/c/25373/
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm6v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Network Config add service discovery role.,FABJ-345,32739,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,11/Aug/18 12:43 AM,17/Oct/18 1:00 AM,28/Oct/23 2:21 AM,14/Aug/18 7:01 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"Add support for defining service discovery role in a network config.

Gerrit CS https://gerrit.hyperledger.org/r/#/c/25427/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|hzzmbr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Don't verify invalid endorsements.,FABJ-346,32746,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,11/Aug/18 3:57 AM,27/Sep/18 7:45 PM,28/Oct/23 2:21 AM,13/Aug/18 9:50 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,gerrit CS https://gerrit.hyperledger.org/r/#/c/25439/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-367,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmdb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NPE for auto clientcerts when no properties set,FABJ-347,32819,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,14/Aug/18 11:51 PM,15/Aug/18 11:15 AM,28/Oct/23 2:21 AM,15/Aug/18 2:44 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/25537/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-348,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmov:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer properties NPE,FABJ-348,32835,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,rickr,kelvinzhong,kelvinzhong,15/Aug/18 10:53 AM,15/Aug/18 11:15 AM,28/Oct/23 2:21 AM,15/Aug/18 11:15 AM,,,,,,,,,,0,,,,,,"while using discovery service, if the discovery peer did not set properties, which is a null properties, would cause a NPE while adding the peer when try to set the TLS certificates to the peer properties.

!image.png!",,kelvinzhong,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-347,,,,,"15/Aug/18 10:50 AM;kelvinzhong;image.png;https://jira.hyperledger.org/secure/attachment/15582/image.png",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzmsf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kelvinzhong,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK v.1.2.1,FABJ-350,33054,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,21/Aug/18 5:17 AM,18/Sep/18 10:24 AM,28/Oct/23 2:21 AM,18/Sep/18 10:24 AM,,,,,,,,,,0,,,,,,Gerrit CR: https://gerrit.hyperledger.org/r/#/c/26321/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznfr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update maintainers list,FABJ-351,33068,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,21/Aug/18 8:51 PM,12/Sep/18 1:24 AM,28/Oct/23 2:21 AM,12/Sep/18 1:24 AM,,,,,,,,,,0,,,,,,"Gari has answered question on the java sdk rocket chat channel. Has been reviewing and merging changes as a fabric release maintainer. His knowledge of the hyperledger blockchain is very extensive so adding him to the JSDK maintainer list seems appropriate.

https://gerrit.hyperledger.org/r/#/c/25751/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznhz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide a means for SDK to make peer an anchor peer.,FABJ-352,33071,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,21/Aug/18 9:51 PM,08/Oct/18 10:51 PM,28/Oct/23 2:21 AM,08/Oct/18 10:51 PM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"When channel or peers are joined there are no anchor peers.  This task is to provide a means to allow via the sdk to set the peers as anchor peers.
https://gerrit.hyperledger.org/r/#/c/26613/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzznin:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a java SDK user, I would like to deploy a java chaincode",FABJ-353,33175,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,rickr,denyeart,denyeart,24/Aug/18 3:52 AM,28/Aug/18 12:44 AM,28/Oct/23 2:21 AM,24/Aug/18 10:23 PM,,,,,,,,,,0,,,,,,"As a node SDK user, I would like to deploy a java chaincode",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,FABG-736,FABN-887,,,FABJ-355,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzznwv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a java SDK user, I would like to deploy a java chaincode",FABJ-355,33185,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,24/Aug/18 6:02 AM,11/Sep/18 11:57 PM,28/Oct/23 2:21 AM,11/Sep/18 11:57 PM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/25825/,,C0rWin,maheswarachari.k,rickr,,,,,,,,,,,,,,,,,FABCJ-7,,,,,,,,FABJ-353,FABJ-51,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-7,,,No,,Unset,No,,,"1|hzznz3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,maheswarachari.k,rickr,,,,,,,,,dev,main,,,,,,true,"24/Aug/18 9:18 PM;rickr;Java chaincode image not availabe to run when Fabric is built;;;","28/Aug/18 7:28 AM;C0rWin;Why does this store in CR review status?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer eventing services too many reconnects,FABJ-356,33252,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,28/Aug/18 12:40 AM,12/Sep/18 1:22 AM,28/Oct/23 2:21 AM,12/Sep/18 1:22 AM,v1.2.0,,,,v1.3.0,,,,,0,,,,,,When peer eventing service returns an error and just not connects a flood of connections can occur. This  could overwhelm server and causes many threads on the client trying to reconnect.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzofj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a java SDK client, I want to query for a chaincode's collection configuration",FABJ-357,33253,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,zhaochy,denyeart,28/Aug/18 12:49 AM,12/Sep/18 12:54 AM,28/Oct/23 2:21 AM,12/Sep/18 12:54 AM,,,,,v1.3.0,,,,,0,,,,,,"add SDK api to retrieve the collections config after a channel's chaincode instantiate.

https://gerrit.hyperledger.org/r/#/c/25913/",,denyeart,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,FABN-878,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzofr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,zhaochy,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance MultiThread End2end for Idemix,FABJ-358,33364,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,30/Aug/18 11:24 PM,27/Oct/18 2:18 AM,28/Oct/23 2:21 AM,10/Oct/18 10:27 PM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,WIP https://gerrit.hyperledger.org/r/#/c/25959/,,JonathanLevi,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzovz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JonathanLevi,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies pom.xml,FABJ-359,33412,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,01/Sep/18 5:29 AM,02/Sep/18 2:34 AM,28/Oct/23 2:21 AM,02/Sep/18 2:34 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,gerrit patch https://gerrit.hyperledger.org/r/#/c/26033/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzp4v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Two similar instantiation failures observed in end-2-end java tests due to endorsers.,FABJ-360,33589,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Environment Issue,,sambhavdutt,sambhavdutt,08/Sep/18 11:59 PM,19/Mar/19 8:12 PM,28/Oct/23 2:21 AM,10/Sep/18 10:20 PM,v1.3.0,,,,v1.3.0,,,,,0,ci-failure,,,,,"Observed these errors in e2e Java tests in *fabric-merge-end-2-end-x86_64* job, twice in a row for different CRs/Patchsets.

{code:java}
03:22:55 Tests run: 47, Failures: 2, Errors: 0, Skipped: 2, Time elapsed: 302.339 sec <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
03:22:55 setup(org.hyperledger.fabric.sdkintegration.End2endNodeIT)  Time elapsed: 64.783 sec  <<< FAILURE!
03:22:55 java.lang.AssertionError: 
03:22:55 Not enough endorsers for instantiate :1endorser failed with error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.

.
.
03:22:55 Results :
03:22:55 
03:22:55 Failed tests: 
03:22:55   End2endAndBackAgainNodeIT.setup:35->End2endAndBackAgainIT.runFabricTest:269->End2endAndBackAgainIT.reconstructChannel:733 Peer peer0.org2.example.com is missing instantiated chaincode name: example_cc_node, path:null, version: null
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3152/

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/3152/consoleFull
",,rameshthoomu,rickr,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b649868,Unset,No,,,"1|hzzpzb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,rickr,sambhavdutt,,,,,,,,,,,,,,,,,"10/Sep/18 10:18 PM;rickr;Works for me both locally and remerg/reverify builds pass ...
https://gerrit.hyperledger.org/r/#/c/26033/
https://gerrit.hyperledger.org/r/#/c/25701/
https://gerrit.hyperledger.org/r/#/c/25913/
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDK v1.3.0 release,FABJ-361,33667,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Sep/18 3:07 AM,05/Dec/18 4:21 AM,28/Oct/23 2:21 AM,05/Dec/18 4:21 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqgf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Idemix E2E in Multithread,FABJ-362,33683,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,dubovitskaya,dubovitskaya,12/Sep/18 7:27 PM,12/Sep/18 7:44 PM,28/Oct/23 2:21 AM,12/Sep/18 7:44 PM,,,,,v1.3.0,,,,,0,,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqjj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dubovitskaya,,,,,,,,,,,,,,,,,,,"12/Sep/18 7:28 PM;dubovitskaya;https://gerrit.hyperledger.org/r/#/c/25959/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test Idemix E2E in Multithread,FABJ-363,33684,,Test Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,,dubovitskaya,dubovitskaya,12/Sep/18 7:45 PM,10/Oct/18 2:17 PM,28/Oct/23 2:21 AM,10/Oct/18 2:17 PM,,,,,v1.4.0,,,,,0,idemix,,,,,,,dubovitskaya,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-342,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABJ-327,,,Manual,,Unset,No,,,"1|hzzqjr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),dubovitskaya,latitiah,,,,,,,,,,,,,,,,,,"12/Sep/18 7:46 PM;dubovitskaya;https://gerrit.hyperledger.org/r/#/c/25959/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dependencies update and misc changes.,FABJ-364,33729,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,13/Sep/18 11:07 PM,24/Sep/18 8:48 PM,28/Oct/23 2:21 AM,24/Sep/18 8:48 PM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"Update Java dependencies to latest.
Remove anchor peer references in idemix org in configtx.yaml
Change event services clean log to warn 
Provide parameter checks on ChannelConfiguration and better logging.
Don't run IdemixTest by default .. takes too long.

In CR review https://gerrit.hyperledger.org/r/#/c/26281/
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzqrb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK test End2endJavaIT requires javaenv image,FABJ-365,33832,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,denyeart,denyeart,18/Sep/18 2:33 AM,18/Sep/18 8:14 PM,28/Oct/23 2:21 AM,18/Sep/18 3:33 AM,,,,,v1.3.0,,,,,0,,,,,,"Developers running Java SDK tests End2endJavaIT require local javaenv image for java chaincode.

This needs to be pulled automatically, or documented in Java SDK README.

In the interim, people can pull it the same way CI pulls it:

[https://github.com/hyperledger/ci-management/blob/8a2dcd2be2c7781e6afe5220f39fe85b6e53225a/jjb/fabric-sdk-java/shell/include-raw-fabric-sdk-java-end-to-end-tests.sh#L54-L55]

 
{code:java}
docker pull nexus3.hyperledger.org:10001/hyperledger/fabric-javaenv:amd64-latest
docker tag nexus3.hyperledger.org:10001/hyperledger/fabric-javaenv:amd64-latest hyperledger/fabric-javaenv:amd64-1.3.0{code}
 ",,denyeart,dubovitskaya,gennadyl,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzr7z:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dubovitskaya,gennadyl,rickr,,,,,,,,,,,,,,,,"18/Sep/18 3:32 AM;rickr;WASD 
https://chat.hyperledger.org/channel/fabric-release?msg=hqSGPsrkLnfjbhZwc;;;","18/Sep/18 3:45 AM;dubovitskaya;I think this will be solved once this is merged: https://gerrit.hyperledger.org/r/#/c/26254/;;;","18/Sep/18 12:14 PM;denyeart;[~gennadyl] for go chaincode, if ccenv is not available locally when go chaincode gets instantiated, peer will try to pull `latest` ccenv from dockerhub, like this:
{code:java}
2018-09-17 17:03:18.458 EDT [util] DockerBuild -> DEBU 208 Image hyperledger/fabric-ccenv:latest does not exist locally, attempt pull{code}
Question - if javaenv is not available locally when java chaincode gets instantiated, does peer attempt a similar pull?

Of course, for now there is no javaenv image on dockerhub so it would fail.  But I'm wondering if it would attempt to pull and succeed for customers, once javaenv gets published to dockerhub.;;;","18/Sep/18 2:54 PM;gennadyl;[~denyeart] Yes, this is exactly what happens.;;;","18/Sep/18 8:09 PM;denyeart;Ah ok, so I finally understand the whole picture.

It works on ccenv because the peer chaincode instantiation automatically pulls the 'latest' released version from dockerhub, if it is not already local.  At this moment, that happens to be the v1.2 version of ccenv.

It works on javaenv consistently (which is what [~rickr] has been asking for), except at this moment in time there is not yet a 'latest' version published to dockerhub since this is the initial release. So in the interim (for the next week) developers will have to pull javaenv manually (based on the instructions above or the upcoming script [https://gerrit.hyperledger.org/r/#/c/26254/ ).|https://gerrit.hyperledger.org/r/#/c/26254/]

Since this is just a moment in time problem, I will close.;;;","18/Sep/18 8:14 PM;rickr;No that can't be as said I just *imagined* it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Network Config allow writing of configuration.,FABJ-366,33844,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,nrohith,rickr,rickr,18/Sep/18 9:31 PM,22/Oct/19 9:57 PM,28/Oct/23 2:21 AM,22/Oct/19 7:22 PM,v1.4.0,,,,v1.4.0,,,,,1,,,,,,,,heatherp,nrohith,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzraf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,nrohith,rickr,,,,,,,,,,,,,,,,,"18/Sep/18 10:05 PM;rickr;Users have requested the writing of a Network Configuration given a fabric and fabric ca.  

NetworkConfig should have : 

public static NetworkConfig fromNetwork(Channel channel, HFCAClient hfcaClient) throws InvalidArgumentException, IOException, NetworkConfigurationException {
        
    }

Round trip  loading and writing is not required to preserve structure or comments.

Network network = Network.fromNetwork(channel, hfcaClient);

Additional libraries (dependencies) should only be used as a last resort. 

void Network.toJsonFile(File jsonFIle){
}

void Network.toYamlFile(File jsonFIle){
}

Ideally internally it should produce the Json object then on yaml write convert to yaml formatl
;;;","26/Oct/18 12:44 AM;nrohith; It seems that loading a config with NetworkConfig(jsonConfig) discards information like the name of the network and the version, but they are required for a well-formed config. Should they be set to arbitrary values when writing a new config in fromNetwork() ?;;;","22/Oct/19 9:57 PM;heatherp;Apologies, I should have commented before closing this. I'm working through the java-sdk backlog with the maintainers, and we've been closing things that have lacked activity for a year, hence why we closed this. Can you re-open it if you are still actively working on this please? Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"chaincode shim.Error causes IT test ""CertificateException: X.509 not found""",FABJ-367,33973,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Duplicate,,pelli-chen,pelli-chen,21/Sep/18 6:37 PM,27/Sep/18 7:45 PM,28/Oct/23 2:21 AM,27/Sep/18 7:45 PM,v1.2.0,,,,v1.4.0,,,,,0,,,,,,"When running java End2endIT test, if the chaincode returns error (by shim.Error method), there will be error logs:

ERROR ProposalResponse:137 - verify: Cannot retrieve peer identity from ProposalResponse. Error is: X.509 not found

......

Caused by: java.security.NoSuchAlgorithmException: no such algorithm: X.509 for provider SunMSCAPI

 

It seems when shim.Error, the ProposalResponse object returned to java sdk contains no CA identity.",,pelli-chen,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-346,,,,,,"21/Sep/18 6:35 PM;pelli-chen;fail-dockercomposelog.txt;https://jira.hyperledger.org/secure/attachment/15851/fail-dockercomposelog.txt","21/Sep/18 6:35 PM;pelli-chen;fail-javalog.txt;https://jira.hyperledger.org/secure/attachment/15852/fail-javalog.txt","21/Sep/18 6:36 PM;pelli-chen;java-setting.txt;https://jira.hyperledger.org/secure/attachment/15850/java-setting.txt","21/Sep/18 6:34 PM;pelli-chen;pass-javalog.txt;https://jira.hyperledger.org/secure/attachment/15853/pass-javalog.txt",,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzrw7:",,,,Unset,Unset,,,,,,,"1.  ./byfn.sh restart
2.  run End2endIT.java, passed
3.   ./byfn.sh restart
4.  edit End2endIT.java:

queryByChaincodeRequest.setFcn(""query"");
change to=>
queryByChaincodeRequest.setFcn(""query-X"");  // causes shim.Error return

will fail.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),pelli-chen,rickr,,,,,,,,,,,,,,,,,,"27/Sep/18 7:41 PM;rickr;The sdk used to try and verify proposals even though they were invalid. This has been addressed. The underlying issue here is the propsoal is probably invalid.;;;","27/Sep/18 7:45 PM;rickr;https://jira.hyperledger.org/browse/FABJ-346;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix dependency check in java sdk's java chaincode test,FABJ-368,34096,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,denyeart,denyeart,denyeart,26/Sep/18 1:58 PM,26/Sep/18 8:41 PM,28/Oct/23 2:21 AM,26/Sep/18 8:41 PM,,,,,v1.3.0,,,,,0,,,,,,"Currently the test java chaincode can only work with version 1.3.0-SNAPSHOT of the shim.

Allow test java chaincode to work with any v1.x java shim.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-935,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsm7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,dev,main,,,,,,true,"26/Sep/18 2:04 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/26591/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Could not get the current block hash from BlockInfo,FABJ-370,34136,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Not Supported,,huangliping,huangliping,27/Sep/18 1:52 PM,28/Sep/18 9:45 AM,28/Oct/23 2:21 AM,27/Sep/18 7:18 PM,,,,,,,,,,0,,,,,,"In fabric java sdk, the ""BlockInfo"" only contains the data hash and the previous block hash, but no current block hash there.

I know there is a approach to get the  BlockchainInfo by using channel.queryBlockchainInfo() method, then I can call getCurrentBlockHash() & getPreviousBlockHash() to get there two values, but with this approach, I need to store there values to DB after invoke the chaincode success.",,huangliping,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzssv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),huangliping,rickr,,,,,,,,,,,,,,,,,,"27/Sep/18 7:21 PM;rickr;The block does no have it's hash so the SDK can't expose it

https://github.com/hyperledger/fabric-sdk-java/blob/8e631c1a70bd2e336aa76dfaf33fff7a29c08918/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L918;;;","28/Sep/18 9:45 AM;huangliping;[~rickr] thanks, the link really made me a big favor. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update payload to be signed in auth token,FABJ-371,34153,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,skarim,skarim,skarim,27/Sep/18 11:54 PM,04/Dec/18 6:34 AM,28/Oct/23 2:21 AM,04/Dec/18 6:34 AM,,,,,v1.4.0,,,,,0,,,,,,"Currently, the OAuth token is in the form: <base64 encoded user's cert>.<base64 encoding of the signature> The signature is on the payload of the form: <base64 encoding of request body>.<base64 encoding of user's cert> This payload needs to be changed to include the request method and URI to make it more secure. So, the payload is form the form: <request method>.<url path>.<base64 encoding of request body>.<base64 encoding of user's cert>",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-174,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzsw7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,dev,main,,,,,,true,"01/Oct/18 11:56 PM;skarim;https://gerrit.hyperledger.org/r/c/26694/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK  Codes  for  Tls  not working  ,FABJ-372,34228,,Epic,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Invalid,,anilbs,anilbs,01/Oct/18 2:25 PM,05/Oct/18 3:57 AM,28/Oct/23 2:21 AM,01/Oct/18 8:35 PM,v1.1.0,,,,v1.1.0,,,,,0,,,,,,"HI,

We  have  a  Fabric  topology  that  is on   a Google  VPC   with  tls  enabled  and  all orderers  and two peers  on its own VM   ...   Our  chaincode  is  in Golang  and  we  are  using java sdk  for   creating  a java based   web app  ...  

The chaincode is  invoked  and  queried  using  CLI  succesfully  but the   Java  code   fails  with a  Internal TLS   error  

 ",,anilbs,rickr,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Oct/18 2:24 PM;anilbs;ordrererhandshake.odt;https://jira.hyperledger.org/secure/attachment/15895/ordrererhandshake.odt",,,,,,,,,,"public  static  Channel   initializechannel(Channel  emulyachannel,FabricClient fabClient, String eventhubname)   throws  Exception 
	{
		
	 	
         String  clientPrivatekeypath=""path to sk  file "" ;
         
	     //String  ordererpemFile =""path to ca  file"";
	     // String  ordererpemFile =""/path/tlsca.ordererorg0-cert.pem"";
	     //String  ordererpemFile =""/path/tlsca.ordererorg0-cert.pem"";
	     
         String  ordererpemFile=""/path/orderers/orderer0.ordererorg0/msp/tlscacerts/tlsca.ordererorg0-cert.pem"";
         
         
         
         String  peer0pemFile =""/path/org0/peers/peer0.org0/tls/ca.crt"";
	     String  peer1pemFile =""/path/peerOrganizations/org0/peers/peer1.org0/tls/ca.crt"";
	     
	     String  ordererClientKey =""/path/ordererOrganizations/ordererorg0/orderers/orderer0.ordererorg0/tls/server.key"";
	     
	     String ordererClientCertFile=""/path/ordererOrganizations/ordererorg0/orderers/orderer0.ordererorg0/tls/server.crt"";
	     
	     String  peer0ClientKey =""/path/crypto-config/peerOrganizations/org0/peers/peer0.org0/tls/server.key"";
	   
	     String  peer0ClientCert =""/path/crypto-config/peerOrganizations/org0/peers/peer0.org0/tls/server.crt"";
	 

	     String  peer1ClientKey =""/path/crypto-config/peerOrganizations/org0/peers/peer1.org0/tls/server.key"";
	   
	     String  peer1ClientCert =""/path/crypto-config/peerOrganizations/org0/peers/peer1.org0/tls/server.crt"";
	 
	    
	    		 
	   //just to make our log file nicer :)
	     
	     try
	     {
	        
	       Util.initializeLoggingFile(); 
	        //  use  logger   to check if you get the  data  
   
         Properties ordererProperties = new Properties();
         
         ordererProperties.setProperty(""pemFile"",ordererpemFile);
		
         ordererProperties
        .setProperty(""hostnameOverride"", ""ordererorg0"");
		//ordererProperties.setProperty(""sslProvider"", ""openSSL"");
		ordererProperties.setProperty(""negotiationType"", ""TLS"");
		ordererProperties.put(""grpc.NettyChannelBuilderOption.keepAliveTime"",
        new Object[] { 5L, TimeUnit.MINUTES });
		ordererProperties.put(
        ""grpc.NettyChannelBuilderOption.keepAliveTimeout"",
        new Object[] { 8L, TimeUnit.SECONDS });
		ordererProperties.put(""clientKeyFile"",ordererClientKey);
		ordererProperties.put(""clientCertFile"",ordererClientCertFile);
		
		logger.info(""before adding orderer  proprties"");
		
		
		emulyachannel.addOrderer(fabClient.getInstance().newOrderer(""ordererorg0"",
	               ""grpcs://orderer0:7050"", ordererProperties));

Properties peer0Properties = new Properties();
peer0Properties.setProperty(""pemFile"",peer0pemFile);
//peer0Properties.setProperty(""trustServerCertificate"", ""true""); // testing                                                                //                                                              // PRODUCTION!
 peer0Properties.setProperty(""hostnameOverride"",
 ""peer0"");
//peer0Properties.setProperty(""sslProvider"", ""openSSL"");
peer0Properties.setProperty(""negotiationType"", ""TLS"");
peer0Properties
        .put(""grpc.NettyChannelBuilderOption.maxInboundMessageSize"",
                9000000);
peer0Properties.put(""clientKeyFile"",peer0ClientKey);
peer0Properties.put(""clientCertFile"",peer0ClientCert);
logger.info(""before adding peer  proprties"");
emulyachannel.addPeer(fabClient.getInstance().newPeer(""peer0"",
        ""grpcs://peer0:7051"",peer0Properties)); 

Properties peer1Properties = new Properties();
peer1Properties.setProperty(""pemFile"",peer1pemFile);
//peer1Properties.setProperty(""trustServerCertificate"", ""true""); // testing                                                                //                                                              // PRODUCTION!
 peer1Properties.setProperty(""hostnameOverride"",
 ""peer1"");
//peer1Properties.setProperty(""sslProvider"", ""openSSL"");
peer1Properties.setProperty(""negotiationType"", ""TLS"");
peer1Properties
        .put(""grpc.NettyChannelBuilderOption.maxInboundMessageSize"",
                9000000);
peer1Properties.put(""clientKeyFile"",peer1ClientKey);
peer1Properties.put(""clientCertFile"",peer1ClientCert);




// use the network peer container URL       
logger.info(""before adding peer1 proprties"");

emulyachannel.addPeer(fabClient.getInstance().newPeer(""peer1"",
        ""grpcs://peer1:7051"",peer1Properties)); 

final Properties eventHubProperties = new Properties();
eventHubProperties.put(""grpc.NettyChannelBuilderOption.keepAliveTime"", new Object[] {5L, TimeUnit.MINUTES});
eventHubProperties.put(""grpc.NettyChannelBuilderOption.keepAliveTimeout"", new Object[] {8L, TimeUnit.SECONDS});
//eventHubProperties.setProperty(""pemFile"",peerpemFile);
eventHubProperties.put(""clientKeyFile"",peer0ClientKey);
eventHubProperties.put(""clientCertFile"",peer0ClientCert);

EventHub eventHub = fabClient.getInstance().newEventHub(eventhubname,ABSConfig.ORGO_PEER_0_EVENTHUB,eventHubProperties);
emulyachannel.addEventHub(eventHub);
		
logger.info(""entered poolinvoke before initialize"");
		
		try
		{
		
		emulyachannel.initialize();
		}catch(InvalidArgumentException e)
		{
			logger.info(""invalid argument  error""+e.getMessage());
		}
		catch(TransactionException e)
		{
			
			logger.info(""transactions exception   error""+e.getCause().getMessage());
		}
		logger.info(""entered poolinvoke after initialize""+emulyachannel.isInitialized());
	     }catch(Exception e )
	     {
	    	 logger.info(""initialize error""+e.getMessage()); 
	     }
	     finally
	     {
	    	 try
	    	 {
	    	 Util.closeLoggingHandler();
	    	 }catch(Exception e)
	    	 {
	    		 System.out.println(""error   in finally ""+e.getMessage());
	    	 }
	     }
  return  emulyachannel;
	}
",Unset,Unset,Unset,ghx-label-10,,TLS based  invoke and  query of  chaincodes,To Do,No,,Unset,No,,,"1|hzzt9j:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,"we  want  to create  rest  services  on top of the  invoke  or  query  functions  in HFC  java  code  ...
I also   know that  we  need  to send  more certificate  properties   to   the orderer  so that  a  handshake  happens  as  its  happens  with the cli  where the  environment  variables  are  all set  ....",anilbs,rickr,tkuhrt,,,,,,,,,,,,,,,,,"01/Oct/18 8:35 PM;rickr;TLS is provided by GRPC that the SDK uses. The integrtion test are run with TLS enabled and have always been passing. No one else is reporting this in the community that I know have been using TLS.  Please look and follow the integration test examples in getting TLS to work. ;;;","02/Oct/18 11:26 PM;anilbs;My TLS issues is on VPC with orderer and peers on different Virtual Machines ....;;;","03/Oct/18 12:03 AM;rickr;I would try looking at the end2end integration tests and see first of all can you get a connection using that code to the orderer _out side of the webapp_ environment.  Then go from there.;;;","05/Oct/18 3:52 AM;tkuhrt;[~rickr]: Can you provide a pointer to these end2end tests?;;;","05/Oct/18 3:57 AM;rickr;https://github.com/hyperledger/fabric-sdk-java/tree/8e631c1a70bd2e336aa76dfaf33fff7a29c08918/src/test/java/org/hyperledger/fabric/sdkintegration;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Proposal Success needs to be now less than 400 ,FABJ-374,34612,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Oct/18 5:06 AM,27/Jun/20 2:31 AM,28/Oct/23 2:21 AM,13/Oct/18 5:38 AM,v1.2.0,,,,v1.3.0,,,,,0,,,,,,"The Fabric Peer used to return to the SDKs just two values for Payload Status 200 for succes or 500 for failure.  This was irregardless of what the Java chaincode returned. A change in 1.2 changed this to return to the SDK the Status  set by the chaincode. 
Any Status 400 or greater returned by the chaincode to the Peer causes the Peer to not endorse the transactions.

The SDK need to take this into account to setting the Success to any value less than 400


Gerrit PC https://gerrit.hyperledger.org/r/#/c/26942/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6387,FAB-12340,FABG-974,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzurz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enrollment interface not dependent on Fabric x509,FABJ-375,34718,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,17/Oct/18 3:05 AM,17/Oct/18 4:06 AM,28/Oct/23 2:21 AM,17/Oct/18 4:06 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvdj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,"17/Oct/18 3:42 AM;rickr;Gerrit https://gerrit.hyperledger.org/r/#/c/27035/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JSDK v1.2.2 release,FABJ-376,34741,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,17/Oct/18 9:16 PM,05/Dec/18 4:21 AM,28/Oct/23 2:21 AM,05/Dec/18 4:21 AM,v1.2.0,,,,,,,,,0,,,,,,gerrit CR https://gerrit.hyperledger.org/r/#/c/27056/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvif:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Possible NPE in SDKUtils.calculateBlockHash() ,FABJ-377,34808,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,ivohuisjes,ivohuisjes,ivohuisjes,21/Oct/18 6:45 PM,22/Oct/18 11:11 PM,28/Oct/23 2:21 AM,22/Oct/18 11:11 PM,v1.3.0,,,,,,,,,0,,,,,,"There is a null reference check for ""client"" in SDKUtils.calculateBlockHash()

It should be on ""cryptoSuite"" instead of ""client""",,ivohuisjes,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvwn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ivohuisjes,,,,,,,,,,,dev,main,,,,,,true,"21/Oct/18 7:06 PM;ivohuisjes;Here is my commit: [https://gerrit.hyperledger.org/r/27137];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make executor service configurable,FABJ-378,34825,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,23/Oct/18 4:53 AM,24/Oct/18 10:33 PM,28/Oct/23 2:21 AM,24/Oct/18 10:33 PM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/27148/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzvzz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update private data GoLang chaincode in Java's SDK's chaincode to accept data via transient field,FABJ-379,34982,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Duplicate,amolpednekar,amolpednekar,amolpednekar,31/Oct/18 12:58 AM,31/Oct/18 11:04 PM,28/Oct/23 2:21 AM,31/Oct/18 11:04 PM,v1.2.0,,,,,,,,,0,,,,,,"Currently, the GoLang chaincode for private data in the Java SDK (private_data_cc.go - [https://github.com/hyperledger/fabric-sdk-java/blob/release-1.2/src/test/fixture/sdkintegration/gocc/samplePrivateData/src/github.com/private_data_cc/private_data_cc.go] ) accepts arguments through chaincode args which are also sent to the orderer and other peers. This presents a data leak for args that should be private.

Instead, the arguments should be sent as transient.",,amolpednekar,rickr,,,,,,,,,,,,,,,,,,,,,FABJ-380,,,,,,,,FABJ-380,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwsv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),amolpednekar,rickr,,,,,,,,,,,,,,,,,,"31/Oct/18 1:24 AM;rickr;The Examples integration test are working just fine for exercising the APIs.  User should read fabric documention that explains how to bet use private data. As stated here : https://github.com/hyperledger/fabric-sdk-java/blob/57870235171105e5367fd619e1aa3c7fa7a1f7e6/docs/release_v1.2.0_notes.md#fab-9680-private-data-collection-support;;;","31/Oct/18 1:32 AM;amolpednekar;Again, many devs often use these integration test samples as example of the ""right way"" to do things, so wouldnt that be reason enough to update to the ""proper"" example. 
 (I can volunteer to submit these changes);;;","31/Oct/18 2:24 AM;amolpednekar;Updated issue to TASK, changed assigner to myself.;;;","31/Oct/18 11:04 PM;rickr;Needs updating together.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Java SDK's integration tests for private data to send data via transient map & private data GoLang chaincode in Java's SDK's chaincode to accept data via transient field,FABJ-380,34983,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,amolpednekar,amolpednekar,31/Oct/18 1:02 AM,08/Nov/18 5:01 AM,28/Oct/23 2:21 AM,08/Nov/18 5:01 AM,v1.2.0,,,,,,,,,0,,,,,,"SDK Integration Test:
 The Java SDK's integration tests for private data sends arguments to the chaincode as normal arguments instead of a transientMap, which are sent to the orderer as part of the transaction proposal. ([https://github.com/hyperledger/fabric-sdk-java/blob/release-1.2/src/test/java/org/hyperledger/fabric/sdkintegration/PrivateDataIT.java] )

Update the IT to send the data via transientMap

GoLang Chaincode:

Also update the corresponding private data GoLang chaincode to accepts fields via the GetTransient() shim API ( private_data_cc.go - [https://github.com/hyperledger/fabric-sdk-java/blob/release-1.2/src/test/fixture/sdkintegration/gocc/samplePrivateData/src/github.com/private_data_cc/private_data_cc.go] ) 

[https://gerrit.hyperledger.org/r/#/c/27328/] ",,amolpednekar,rickr,,,,,,,,,,,,,,,,,,FABJ-379,,,,,,,,,,,,,FABJ-379,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwt3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),amolpednekar,rickr,,,,,,,,,,dev,main,,,,,,true,"31/Oct/18 1:23 AM;rickr;The Examples integration test are working just fine for exercising the APIs.  User should read fabric documention that explains how to bet use private data. As stated here : https://github.com/hyperledger/fabric-sdk-java/blob/57870235171105e5367fd619e1aa3c7fa7a1f7e6/docs/release_v1.2.0_notes.md#fab-9680-private-data-collection-support;;;","31/Oct/18 1:30 AM;amolpednekar;Agreed, but many devs often use these integration test samples as example of the ""right way"" to do things, so wouldnt that be reason enough to update to the ""proper"" example. 
 (I can volunteer to submit these changes );;;","31/Oct/18 1:34 AM;rickr;If you feel strongly it needs changing and willing to provide patches either reopen or change as a *task* and assign to yourself.
Thanks.;;;","31/Oct/18 1:43 AM;amolpednekar;Sounds good, updated accordingly.;;;","05/Nov/18 8:58 PM;amolpednekar;Relevant patches pushed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All end-2-end tests on x platform are failing consistently as maven plugin failed to install,FABJ-382,35039,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Duplicate,,vijaypunugubati,vijaypunugubati,01/Nov/18 10:06 PM,19/Mar/19 8:12 PM,28/Oct/23 2:21 AM,01/Nov/18 10:34 PM,v1.1.0,v1.2.0,v1.3.0,v1.4.0,v1.1.0,v1.2.0,v1.3.0,v1.4.0,,0,ci-failure,,,,,"*Error observed:* org.apache.maven.plugins:maven-jar-plugin is missing in building fabric-java-sdk 1.3.0-SNAPSHOT fails all e-2-e tests on x86_64 consistently.

No recent commit was observed in fabric-sdk-java related to maven plugin.
{code:java}
/19:07:10 [WARNING] Some problems were encountered while building the effective model for org.hyperledger.fabric-sdk-java:fabric-sdk-java:jar:1.3.0-SNAPSHOT
19:07:10 [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 515, column 21
19:07:10 [WARNING] 
19:07:10 [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
19:07:10 [WARNING] 
19:07:10 [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
19:07:10 [WARNING] 
19:07:10 [INFO] ------------------------------------------------------------------------
19:07:10 [INFO] Detecting the operating system and CPU architecture
19:07:10 [INFO] ------------------------------------------------------------------------
19:07:10 [INFO] os.detected.name: linux
19:07:10 [INFO] os.detected.arch: x86_64
19:07:10 [INFO] os.detected.release: ubuntu
19:07:10 [INFO] os.detected.release.version: 16.04
19:07:10 [INFO] os.detected.release.like.ubuntu: true
19:07:10 [INFO] os.detected.release.like.debian: true
19:07:10 [INFO] os.detected.classifier: linux-x86_64
19:07:10 [INFO]                                                                         
19:07:10 [INFO] ------------------------------------------------------------------------
19:07:10 [INFO] Building fabric-java-sdk 1.3.0-SNAPSHOT
19:07:10 [INFO] ------------------------------------------------------------------------
19:07:12 [INFO] 
19:07:12 [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ fabric-sdk-java ---
19:07:12 [INFO] 
19:07:12 [INFO] --- git-commit-id-plugin:2.2.2:revision (get-the-git-infos) @ fabric-sdk-java ---
19:07:14 [INFO] 
19:07:14 [INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default-prepare-agent) @ fabric-sdk-java ---
19:07:16 [INFO] argLine set to -javaagent:/home/jenkins/.m2/repository/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/w/workspace/fabric-merge-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-java/target/jacoco.exec,excludes=**/org/hyperledger/fabric/protos/**/ code placeholder
{code}
*Build log:*

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/3579/console]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3579/]

 ",,rameshthoomu,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx4n:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Garbage collection for orderer peer connection.,FABJ-383,35046,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,01/Nov/18 11:46 PM,05/Dec/18 4:22 AM,28/Oct/23 2:21 AM,05/Dec/18 4:22 AM,v1.3.0,,,,v1.3.0,,,,,0,,,,,,"gerrit: https://gerrit.hyperledger.org/r/#/c/27308/

Improvements :
# Provide unique ids for objects to easily track in logging.
# Fix for NPE when quick shutdown right after channel creation 
#  Allow just setting single environment var. for  which version of fabric is being tested.
# Force shutdow of Orderer and endorser connections .. garbage collection was too slow.
# Some logging enhancements on state of channel.
# Fix testcase for running against a 1.2.x version of the Fabric.  ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx7b:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
set forkCount to 0 in maven tests,FABJ-384,35172,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,07/Nov/18 11:39 PM,08/Nov/18 8:38 AM,28/Oct/23 2:21 AM,08/Nov/18 8:38 AM,,,,,,,,,,0,,,,,,set forkCount to 0 in maven tests to fix the IN-39 issue causing all e2e java build failures.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxv3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dev,main,,,,,,true,"07/Nov/18 11:41 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27423/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maven-jar-plugin is missing while building the fabric-sdk-java,FABJ-385,35194,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Environment Issue,,vijaypunugubati,vijaypunugubati,08/Nov/18 7:25 AM,19/Mar/19 8:13 PM,28/Oct/23 2:21 AM,08/Nov/18 8:33 AM,v1.1.0,v1.2.0,v1.3.0,v1.4.0,v1.1.0,v1.2.0,v1.3.0,v1.4.0,,0,ci-failure,,,,,"Maven-jar-plugin is missing while building the fabric-sdk-java:jar:1.3.0-SNAPSHOT
{code:java}
/15:10:41 [WARNING] Some problems were encountered while building the effective model for org.hyperledger.fabric-sdk-java:fabric-sdk-java:jar:1.3.0-SNAPSHOT
15:10:41 [WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 515, column 21
15:10:41 [WARNING] 
15:10:41 [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
15:10:41 [WARNING] 
15:10:41 [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
15:10:41 [WARNING] /
{code}
*Build log:*

[https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-merge-x86_64/331/consoleFull]

 

 ",,harrisob@us.ibm.com,rameshthoomu,rickr,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxzz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,rameshthoomu,rickr,vijaypunugubati,,,,,,,,,,,,,,,,"08/Nov/18 8:33 AM;rickr;Known CI issue which is being addressed. ;;;","08/Nov/18 8:37 AM;rickr;https://jira.hyperledger.org/browse/IN-39;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChaincodeCollectionConfiguration uses interface function not implemented by some providers.,FABJ-386,35242,,Story,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Low,,,ivanovv,ivanovv,09/Nov/18 5:36 PM,19/Nov/20 7:53 PM,28/Oct/23 2:21 AM,,v1.2.0,v1.3.0,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"Hi,

The class: ChaincodeCollectionConfiguration uses the javax.json.JsonValue's function asJsonObject (https://javaee.github.io/javaee-spec/javadocs/javax/json/JsonValue.html#asJsonObject-) that is available from specification version 1.1.

The problem is that not all providers support it. For example Apache Johnzon provider (shipped with TomEE docker image) does not support it.

I consider it as a small impact change that could make the life of the application builders/system integrator easier.

 

Best regards,

Venko Ivanov

 

PS. the exact line in the class (maybe not the only one) is: JsonObject jsonObject = j.asJsonObject();",,heatherp,ivanovv,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy7r:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,ivanovv,,,,,,,,,,,,,,,,,,"22/Oct/19 6:53 PM;heatherp;We're not clear whether this is still an issue - can you re-open/open a new issue if this is still a problem? Thanks;;;","22/Oct/19 9:35 PM;ivanovv;of course it is still an issue... The code is the same.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
enable -DforkCount=0 in sdk-java (release-1.2) branch,FABJ-387,35278,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,rameshthoomu,rameshthoomu,rameshthoomu,12/Nov/18 10:30 PM,30/Nov/18 1:37 PM,28/Oct/23 2:21 AM,30/Nov/18 1:37 PM,,,,,,,,,,0,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyfb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,"12/Nov/18 10:35 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27506/;;;","30/Nov/18 1:36 PM;rameshthoomu;So far no update on IN-39 from LF team. [~rickr] rejected the above patch and he is looking for resolution on IN-39. I am closing this bug as this is invalid or rejected by sdk-java maintainer.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel.shutdown() does not terminate SingleThreadScheduledExecutor,FABJ-389,35328,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,connect2b,connect2b,14/Nov/18 3:16 PM,18/Dec/18 5:30 AM,28/Oct/23 2:21 AM,18/Dec/18 5:30 AM,,,,,v2.0.0,,,,,0,,,,,,"Gerrit CS https://gerrit.hyperledger.org/r/#/c/28133/

Channel.shutdown() does only cancel the sweeping job.
{code:java}
ScheduledFuture<?> lsweeper = sweeper;
sweeper = null;

if (null != lsweeper) {
    lsweeper.cancel(true);
}{code}
At first glance, it doesn't matter but it could be reason memory leaking occurs.

When sweeper has been created, Channel.sweeper only refers to sweeping job

and created SingleThreadScheduledExecutor thread is running as daemon.
{code:java}
sweeper = Executors.newSingleThreadScheduledExecutor(r -> {
    Thread t = Executors.defaultThreadFactory().newThread(r);
    t.setDaemon(true);
    return t;
}).scheduleAtFixedRate(() -> {
    try {

...{code}
So, there is no way to control the created thread.

If Channel.shutdown() and Client.newChannel() is repeatedly invoked, 

all created channel will produce orphan thread until main thread is terminated.

I think it's not complete shutdown expected.",,connect2b,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzypj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),connect2b,rickr,,,,,,,,,,dev,main,,,,,,true,"05/Dec/18 2:29 AM;rickr;I have reproduced and have a fix.  Should be in the next SDK release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Vulnerability] Update grpc version to 1.16.1,FABJ-390,35513,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Works as Expected,,ivohuisjes,ivohuisjes,21/Nov/18 9:18 PM,04/Dec/18 1:13 PM,28/Oct/23 2:21 AM,04/Dec/18 1:13 PM,v1.3.0,,,,v2.0.0,,,,,0,,,,,,"In the pom.xml of latest version of Fabric Java SDK1.3.0-SNAPSHOT, the version of grpc is: v1.15.0 which uses the dependency: com.google.guava:guava:jar:20.0

This Google Guava version has a (MEDIUM) vulnerability, according to the [OWASP Dependency checker|https://www.owasp.org/index.php/OWASP_Dependency_Check]. See below:
h4. Published Vulnerabilities
*[CVE-2018-10237|http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2018-10237]*  

Severity:Medium
CVSS Score: 4.3 (AV:N/AC:M/Au:N/C:N/I:N/A:P)
CWE: CWE-502 Deserialization of Untrusted Data

 

Unbounded memory allocation in Google Guava 11.0 through 24.x before 24.1.1 allows remote attackers to conduct denial of service attacks against servers that depend on this library and deserialize attacker-provided data, because the AtomicDoubleArray class (when serialized with Java serialization) and the CompoundOrdering class (when serialized with GWT serialization) perform eager allocation without appropriate checks on what a client has sent and whether the data size is reasonable.
 * CONFIRM - [https://groups.google.com/d/topic/guava-announce/xqWALw4W1vs/discussion]
 * REDHAT - [RHSA-2018:2423|https://access.redhat.com/errata/RHSA-2018:2423]
 * REDHAT - [RHSA-2018:2424|https://access.redhat.com/errata/RHSA-2018:2424]
 * REDHAT - [RHSA-2018:2425|https://access.redhat.com/errata/RHSA-2018:2425]
 * REDHAT - [RHSA-2018:2428|https://access.redhat.com/errata/RHSA-2018:2428]
 * REDHAT - [RHSA-2018:2598|https://access.redhat.com/errata/RHSA-2018:2598]
 * REDHAT - [RHSA-2018:2643|https://access.redhat.com/errata/RHSA-2018:2643]
 * REDHAT - [RHSA-2018:2740|https://access.redhat.com/errata/RHSA-2018:2740]
 * REDHAT - [RHSA-2018:2741|https://access.redhat.com/errata/RHSA-2018:2741]
 * REDHAT - [RHSA-2018:2742|https://access.redhat.com/errata/RHSA-2018:2742]
 * REDHAT - [RHSA-2018:2743|https://access.redhat.com/errata/RHSA-2018:2743]
 * REDHAT - [RHSA-2018:2927|https://access.redhat.com/errata/RHSA-2018:2927]
 * SECTRACK - [1041707|http://www.securitytracker.com/id/1041707]

The solution is to use grpc version 1.16.1, which uses guava v26.0",,ivohuisjes,mastersingh24,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzqv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ivohuisjes,mastersingh24,rickr,,,,,,,,,,,,,,,,,"02/Dec/18 5:49 AM;mastersingh24;The Java SDK only acts as a gRPC client and not a server so the vulnerability is not applicable;;;","04/Dec/18 1:13 PM;rickr;As noted this vulnerable is related to servers. The SDK only uses grpc as a client. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create fabric-sdk-java release notes for v1.4.0,FABJ-391,35822,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,denyeart,denyeart,03/Dec/18 10:52 PM,29/Jan/19 10:18 PM,28/Oct/23 2:21 AM,29/Jan/19 10:18 PM,,,,,v1.4.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/28145,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1045,,,,FAB-13111,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001g7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK reconstruction for strict private key protection using TEE or HSM,FABJ-393,35909,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,silentspark,silentspark,06/Dec/18 5:47 PM,06/Dec/18 10:26 PM,28/Oct/23 2:21 AM,06/Dec/18 10:26 PM,,,,,Future,,,,,0,,,,,,"{color:#191f25}Currently Java SDK uses sw based private key generation and signature by default. Although the JCA/JCE class can support HSM based signature, the private key is still exposed in memory during parameter passing. The sdk api needs reconstruction to implement ""private key always in secure modules""
{color}",,rickr,silentspark,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001wn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,silentspark,,,,,,,,,,,,,,,,,,"06/Dec/18 10:25 PM;rickr;With HSM the JSE private key is just token to the hardware private key. The token is new with each opening of the private key store (done by the application, not the SDK).  I think the SDK will work with HSM but we don't routinely test so it's not something we claim works.  I know of one group that got it working with Luna encryption cards.   I don't see any further requirements from the SDK.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Signature-based whitelisting,FABJ-394,36061,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,11/Dec/18 4:34 PM,03/Dec/19 3:17 AM,28/Oct/23 2:21 AM,22/Oct/19 6:51 PM,,,,,,,,,,0,idemix,,,,,Add support for signature-based whitelisting revocation in the idemix package. ,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13105,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-13103,,,No,,Unset,No,,,"1|i002kf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,dev,main,,,,,,true,"11/Dec/18 6:58 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28067/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FABJ-395,36114,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,13/Dec/18 3:46 AM,18/Dec/18 5:30 AM,28/Oct/23 2:21 AM,18/Dec/18 5:30 AM,v1.4.0,,,,v1.4.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002vz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,"13/Dec/18 6:26 AM;rickr;https://gerrit.hyperledger.org/r/#/c/28140/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-sdk-java tests on ""daily e2e master"" branch job are fetching ""1.3.0"" images",FABJ-397,36452,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Invalid: Environment Issue,rickr,rameshthoomu,rameshthoomu,03/Jan/19 2:39 AM,10/Apr/19 4:02 AM,28/Oct/23 2:21 AM,10/Apr/19 4:02 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,"fabric-sdk-java tests on daily e2e master branch job are fetching 1.3.0 images instead of 2.0.0. The same case with release-1.4 branch daily e2e job.

The value to this variable is setting in ci-run.sh to 1.3.0 [https://github.com/hyperledger/fabric-sdk-java/blob/master/src/test/cirun.sh#L50]

which further refers in fabric.sh [https://github.com/hyperledger/fabric-sdk-java/blob/master/src/test/fixture/sdkintegration/fabric.sh#L14]

All the daily e2e jobs or merge e2e jobs should work with their branch based versions not with the previous images. If the sdk-java repo is not compaitable with the latest fabric changes then remove these tests from e2e daily jobs.

[~rickr] thoughts?",,rameshthoomu,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004rj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,rickr,,,,,,,,,,,,,,,,,,"10/Apr/19 4:02 AM;rickr;I think this was because the SDK hadn't published 2.0 to master branch which is no longer the case.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Version 2.0.0 start,FABJ-398,36698,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Jan/19 1:05 AM,19/Jan/19 12:06 AM,28/Oct/23 2:21 AM,19/Jan/19 12:06 AM,,,,,v2.0.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/28665/,,rickr,seyday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006e7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,seyday,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove eventhub code,FABJ-399,36759,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,15/Jan/19 5:43 AM,19/Feb/19 8:03 AM,28/Oct/23 2:21 AM,19/Feb/19 8:03 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/#/c/28749/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006q7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FABJ-401,36887,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,18/Jan/19 2:25 AM,19/Feb/19 8:03 AM,28/Oct/23 2:21 AM,19/Feb/19 8:03 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i007gv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-java-sdk logs a error message for premature execution flow thus creating false alert,FABJ-402,36788,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Works as Expected,,rhegde,rhegde,15/Jan/19 11:40 PM,02/Feb/19 2:25 AM,28/Oct/23 2:21 AM,19/Jan/19 3:26 AM,,,,,,,,,,0,,,,,,"There is instance where the fabric-java-sdk logs
{code:java}
Sending proposal to peer01xxxx.xxx.clsnet failed because of: gRPC failure=Status{code=UNKNOWN, description=Error executing chaincode: Transaction returned with failure: premature execution - chaincode (public:1.0.1.1) launched and waiting for registration, cause=null}{code}
Since this is logged with a log level ERROR by fabric-java-sdk this is captured by our monitoring utility and thus creating a alert for support group. We are checking how this can be fixed.

This topic was discussed on Rocket Chat some time back and getting a Premature Execution is an expected behavior from Fabric PEER v1.0.x. This happens when PEER receives multiple chaincode container invoke request from HFC at around the same time.

Our first thought indicates PEER does not send the response code and hence fabric-java-sdk gets an execution exception (https://github.com/hyperledger/fabric-sdk-java/blob/v1.0.1/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L2241)

Can you please check and reassign the component if this is not a fabric-peer issue.",,altharp,rhegde,rickr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006x3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),altharp,rhegde,rickr,sykesm,,,,,,,,,,,,,,,,"17/Jan/19 1:39 AM;altharp;The following ""premature execution"" message for chaincode is normal under certain circumstances.

{{Sending proposal to peer01xxxx.xxx.clsnet failed because of: gRPC failure=Status\{code=UNKNOWN, description=Error executing chaincode: Transaction returned with failure: premature execution - chaincode (public:1.0.1.1) launched and waiting for registration, cause=null}}}

This message usually means that chaincode has not started yet. We understand that in this case the peer docker container has been recreated. When this happens, the chaincode would stop running. Sending a query or invoke to the chaincode will cause the chaincode to start, but this will take some time.

It is also good to consider how many transactions are sent to the chaincode when it is first starting. It would be ideal to send one query or invoke to cause the chaincode to start and then initiate other invokes or queries after waiting for the chaincode to start.

We would suggest waiting at least 300 seconds for the chaincode to start before client applications try to use the chaincode. The peer configuration has a property named CORE_CHAINCODE_EXECUTETIMEOUT which controls how long the peer waits for chaincode to start. If the chaincode is not starting within this time frame, then the property can be given a higher value to determine if that helps.

If a client application receives the ""premature execution"" response for a chaincode operation, then we would suggest that the client application be constructed to include retry logic.;;;","19/Jan/19 1:40 AM;sykesm;I'm moving this to the Java SDK because of the error reporting.

Current versions of Fabric do not respond with an error while ChaincodeStubInterface is starting.;;;","19/Jan/19 3:24 AM;rickr;The SDK logs errors It needs to.  The specific issue at hand seems to be fixed in later versions of the Peer according to [~sykesm] .
The sdk  error level logging can also be turned off and I think it's even possible for an application to register their own logging log4j handler that I think should be able to filter this specific error out or others if need be. 
;;;","02/Feb/19 2:25 AM;Clayton Sims;You are moving up to v1.2.x  this will not occur in v1.2.x

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
miss '<' in maven repository config in README.md,FABJ-403,37025,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,luotuo818,luotuo818,luotuo818,22/Jan/19 11:01 AM,23/Jan/19 12:17 AM,28/Oct/23 2:21 AM,23/Jan/19 12:17 AM,,,,,,,,,,0,,,,,,""" {{/version>"" in README.md should be ""</version>""}}

https://gerrit.hyperledger.org/r/#/c/28884/",,luotuo818,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008bb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),luotuo818,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Application set Executor Service,FABJ-404,34263,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,C0rWin,C0rWin,02/Oct/18 8:38 PM,24/Mar/19 12:23 AM,28/Oct/23 2:21 AM,24/Mar/19 12:23 AM,,,,,v2.0.0,,,,,0,hygiene,serviceability,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/30228/
Currently Java SDK {{HFClient}} creates thread pool during object instantiation, i.e.:

{code}
    private final ExecutorService executorService = Executors.newCachedThreadPool(r -> {
        Thread t = Executors.defaultThreadFactory().newThread(r);
        t.setDaemon(true);
        return t;
    });
{code}

which might be a problem if SDK user going to use it within managed container environments such as J2EE or Spring, where threads managed by the container itself. Therefore need to add an API which will allow to accept and leverage external thread pools provided by managed environment. ",,C0rWin,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzu8o:",,,,No,Unset,,,,,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,rickr,,,,,,,,,,dev,main,,,,,,true,"27/Feb/19 5:51 AM;rickr;Not seen any movement here so I'm setting unassigned.

[~C0rWin] Would it be sufficient to provide the application the opportunity to set the thread factory or is it necessary to set the ExecutorService? 
In both cases, I have an issue if it's created the threads need to be daemon threads or app will hang on ending, but  I guess that will then be the application's responsibility ;;;","14/Mar/19 10:08 PM;C0rWin;[~rickr] can you elaborate the requirement for thread to be a daemon? I think that setting ExecutorService will suffice, it will allow application to inject its own factory if needed.;;;","14/Mar/19 10:16 PM;rickr;The vm (aka application) won't end till all non-daemon threads are gone.  The SDK explicitly changes in the executor service treads to daemon so it doesn't cause the hanging of an application (not exiting)  on its threads even if the application doesn't properly shutdown the channels before ending.
;;;","14/Mar/19 10:18 PM;rickr;So I will address this JIRA by allowing the application to override the executor service on the client  It will be on time set that needs to be done *before* anything else.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
got 2 error - proposal responses from 3 endorsers are not identical to each others.,FABJ-405,37520,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Works as Expected,rickr,sae imSon,sae imSon,08/Feb/19 10:58 AM,14/Feb/19 12:36 AM,28/Oct/23 2:21 AM,14/Feb/19 12:36 AM,,,,,,,,,,0,,,,,,"Fabric java sdk version is 1.2.1/ fabric version is 1.2.

Test system is composed of 3 endorsers, 7 committers(no chaincode),  4 orderers(kafka) on cloud.

batch block is configured as 1tx/1block.

private data  is used. collection file is attached. [^collections_config.json]

Proposal was sent to 3 endorsers(AND policy) and didn't pass below validation. 

only 2 out of 3 endorsers returned same responses so ""Expected only one set of consistent proposal responses but got 2"" message returned and this error appeared randomly during stress test.   !got2err.png!

===========================================================

Collection<Set<ProposalResponse>> proposalConsistencySets = SDKUtils.getProposalConsistencySets(transactionPropResp);

                    if (proposalConsistencySets.size() != 1)

{                         fail(format(""Expected only one set of consistent proposal responses but got %d"", proposalConsistencySets.size()));                     }

 

 ===========================================================      

 

 

 ",,rickr,sae imSon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Feb/19 10:56 AM;sae imSon;collections_config.json;https://jira.hyperledger.org/secure/attachment/16742/collections_config.json","08/Feb/19 10:57 AM;sae imSon;got2err.png;https://jira.hyperledger.org/secure/attachment/16741/got2err.png",,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00b1r:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,sae imSon,,,,,,,,,,,,,,,,,,"09/Feb/19 12:17 AM;rickr;This test is done on the SDK to pre-check if there are consistency issues and also the utility in the SDK to give applications even the possibility to pick a consistent set.
The sdk will by default verify this when the endorsements are sent to the orderer.  This can be turned off with the environment variable set to false.
ORG_HYPERLEDGER_FABRIC_SDK_PROPOSAL_CONSISTENCY_VALIDATION
export ORG_HYPERLEDGER_FABRIC_SDK_PROPOSAL_CONSISTENCY_VALIDATION=false.

To date I have not seen where the sdk has reported false positives.
If they are inconsistent then the committers (peers) should fail the transactions.  So I would test with this off.  Most likely your chaincode is producing transactions on endorsers that are inconsistent as I have not also heard of any cases where there are issues in this area. 

Run your stress test with this turned off and not doing the checking on the client side and see if then it occurs -- make sure you check that the transactions are marked valid.;;;","09/Feb/19 12:45 AM;sae imSon;{color:#FF0000}stress test without validation check is already done. orderer rejected transaction and returned error message was almost similar with got 2 error.   {color};;;","11/Feb/19 11:19 PM;rickr;Ok, so there's no issue with the SDK.  Your chaincode is producing inconsistent results or the shim/peers endorsers are wrong.  I can't believe the peers or shim have issues because no one else is reporting this.   Also you need to make sure that any peer you are endorsing on has seen any previous transactions if they are dependent on each other. 
;;;","14/Feb/19 12:35 AM;rickr;I'm closing this as I don't see from the conversations that it is an SDK issue the transactions are also marked bad by the committers.  So if you feel the transaction really isn't inconsistent then you need to open this up with the Fabric project.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Discovery TLS Handshake Error Using Cert Bytes,FABJ-406,37548,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,jdfigure,jdfigure,09/Feb/19 2:02 AM,07/Mar/19 1:37 AM,28/Oct/23 2:21 AM,02/Mar/19 5:13 AM,,,,,v1.4.1,v2.0.0,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/29237/


Service Discovery not working when using clientCertBytes properties. Peer reporting TLS handshake failed with error tls: client didn't provide a certificate.

The org.hyperledger.fabric.sdk.Channel#addPeer(org.hyperledger.fabric.sdk.Peer, org.hyperledger.fabric.sdk.Channel.PeerOptions) method, when using the `clientCertBytes` property instead of `clientCertFile`, fails to find the `clientCertBytes` property:

`if ((properties == null) || (isNullOrEmpty(properties.getProperty(""clientCertFile"")) &&
 isNullOrEmpty(properties.getProperty(""clientCertBytes""))))`


Calling `properties.getProperty(""clientCertBytes"")` returns null because the property value is not a string. Instead, it should be using `properties.containsKey(""clientCertBytes"")`.",,jdfigure,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00b6v:",,,,Unset,Unset,,,,,,,"This Java code will fail to initialize the channel because it uses `certBytes`:
final Properties peerTlsProperties = new Properties();
peerTlsProperties.put(""negotiationType"", ""TLS"");
peerTlsProperties.put(""sslProvider"", ""openSSL"");
peerTlsProperties.put(""pemFile"", pemPath);
peerTlsProperties.put(""clientKeyBytes"", userKeyPem.getBytes());
peerTlsProperties.put(""clientCertBytes"", userCertPem.getBytes());

Peer discoveryPeer = client.newPeer(peerName, peerUrl, peerTlsProperties);
Channel channel = client.newChannel(channelName);
channel.addPeer(discoveryPeer, Channel.PeerOptions.createPeerOptions().setPeerRoles(EnumSet.of(Peer.PeerRole.SERVICE_DISCOVERY, Peer.PeerRole.LEDGER_QUERY, Peer.PeerRole.EVENT_SOURCE, Peer.PeerRole.CHAINCODE_QUERY)));

Properties sdprops = new Properties();
sdprops.put(""org.hyperledger.fabric.sdk.discovery.default.clientCertBytes"", tlsCertPem.getBytes());
sdprops.put(""org.hyperledger.fabric.sdk.discovery.default.clientKeyBytes"", tlsKeyPem.getBytes());
channel.setServiceDiscoveryProperties(sdprops);
channel.initialize();
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),jdfigure,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Programming model - Spring integration,FABJ-407,37586,,Epic,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,gennadyl,gennadyl,12/Feb/19 12:05 AM,05/Sep/21 1:03 PM,28/Oct/23 2:21 AM,22/Oct/19 7:14 PM,,,,,,,,,,0,,,,,,"I wrote while ago Spring Data style SDK for Fabric. It eliminates submit/evaluateTransaction calls and made client side API and CC side API almost identical

I think it worth to check is it possible to merge both SDKs

https://github.com/IBM-Blockchain/fabric-spring-sdk/

 ",,gennadyl,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,FabricJavaSpring,To Do,No,,Unset,No,,,"1|i00bdz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),gennadyl,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 7:14 PM;heatherp;Hi [~gennadyl] - we're not actioning this but we welcome CRs so let us know if you plan on doing it! Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Maintain test code coverage,FABJ-409,37664,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,bestbeforetoday,bestbeforetoday,bestbeforetoday,14/Feb/19 1:35 AM,28/Feb/19 6:59 PM,28/Oct/23 2:21 AM,28/Feb/19 6:59 PM,,,,,,,,,,0,,,,,,"_As a_ contributor
_I want_ to ensure test code coverage does not drop
_So that_ test and code quality is maintained as new code is delivered",,bestbeforetoday,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00brb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow application to specify function to invoke on instantiate,FABJ-410,37686,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,bestbeforetoday,bestbeforetoday,bestbeforetoday,15/Feb/19 12:12 AM,28/Feb/19 6:59 PM,28/Oct/23 2:21 AM,28/Feb/19 6:59 PM,,,,,,,,,,0,,,,,,"Currently the SDK is hard-coded to invoke a transaction function called *init* on instantiate. This story uses the function name supplied by the application code, and allows no transaction to be invoked if no transaction name is specified explicitly. This brings the Java SDK behaviour in-line with both the command line and the Node SDK (see [FABN-1130|https://jira.hyperledger.org/browse/FABN-1130]).",,bestbeforetoday,jyellick,rickr,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00buf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,jyellick,rickr,sstone1,,,,,,,,,,,,,,,,"15/Feb/19 12:31 AM;rickr;This is deprecated and not used in the new lifecycle.  Will not fix.;;;","18/Feb/19 11:16 PM;jyellick;[~bestbeforetoday] Presumably, there is a bigger picture you're driving at here.  The way we're handling Init in the new lifecycle is different, and I suspect fits more naturally into what you're trying to accomplish here.  Particularly, you may entirely disable the Fabric enforced 'Init' semantics, and allow the application to decide whether the chaincode has been initialized.  This means that an application may spread Init across 0 to many calls.  I'd be happy to discuss this in more detail with you.;;;","19/Feb/19 11:01 PM;bestbeforetoday;[~jyellick] Thanks for the response. In Fabric 1.4, chaincode written using the Contract API may have either no init function or use a different function name for set up during instantiate. The Java SDK allows client code to specify the function name to be called on instantiate but then ignores the user-supplied value and is hard-coded to call 'init'. This story addresses the problem by honoring the user-supplied function name (including no function name) used for instantiate.

If Lifecycle is going to be delivered for the 2.0 release, it sounds like 2.0 is covered. My understanding is that Lifecycle will not be going into 1.4.1, so I think this change is required at least in the release-1.4 stream. If you have better information, please let me know.;;;","19/Feb/19 11:27 PM;jyellick;[~bestbeforetoday] Thanks for the additional details.  My concern is about making changes for v1.4.1 which will be immediately reverted in v2.0.0.  Let me provide some additional details.

In the old lifecycle, chaincode 'instantiation' is done as a side effect of an invocation of LSCC.  This has a myriad of problems associated with it, which have been outlined in the design doc for the new lifecycle.  Therefore, in the new lifecycle we've split the lifecycle invocation and the initialization invocation into two separate invocations.  So, in the new lifecycle, we _must_ enforce either:

1) That the init function's name is 'init', and it is called exactly once each time the chaincode version is changed
2) That the notion of 'init' goes away, and chaincodes decide for themselves whether they have been appropriately initialized.

I am far and away convinced that (2) is the better option.  It's more flexible, and trivial to implement application side.  However, we've received pushback when suggesting disabling of init entirely.  Therefore, in the new lifecycle, you may either select the behavior of (1) or of (2).

So, back to the point at hand and my concern over encouraging the use of function names other than 'init' for initialization.

In the old lifecycle we could differentiate 'init' transactions from regular invocations because init transactions targeted lscc.  In the new lifecycle the only way we have to differentiate init invocations from standard invocations is via the function name.  I'm concerned that we are taking an existing limitation of the Java SDK (that the init function invocation will always ues 'init' as the first parameter / function name), relaxing it for a minor point release, and then immediately requiring that the constraint be put back in place for v2.0.

For the 'Contract API', what is the plan for compatibility with the new lifecycle? How today do you ensure that the function passed to 'Init' is actually a function which initializes the contract rather than performing some other undesirable action?  Perhaps if I understood better how we see this API evolving it would be easier to understand the path forward.;;;","20/Feb/19 12:41 AM;bestbeforetoday;[~jyellick] Thanks for the detailed response. To make sure I'm explaining clearly, I'm talking here about the arguments passed as part of the deployment spec, where the first argument is treated as initialization function name and additional arguments as the arguments to that named function; not the capital ""I"" Init function. In Fabric 1.4 using the Node chaincode APIs and SDK, we allow client code to specify the initialization function name that will be included in the deployment spec arguments. No arguments are also allowed, in which case no initialization function gets called on instantiate. So there is a mismatch between how chaincode (regardless of its implementation language) can be instantiated using the Node and Java SDKs in Fabric 1.4. Surely the bahavior should be consistent. I'm happy to take guidance on what that consistent behavior should be.

In whether the function name specified is really the right one... this invocation is being done by an administrator who has privilege to instantiate chaincode and likely invoke any other transaction functions they like, right? I'm not sure why having them specify arguments to the instantiate is an additional risk.;;;","20/Feb/19 4:17 AM;jyellick;[~bestbeforetoday]
{quote}To make sure I'm explaining clearly, I'm talking here about the arguments passed as part of the deployment spec, where the first argument is treated as initialization function name and additional arguments as the arguments to that named function; not the capital ""I"" Init function.
{quote}
Yes, I did understand that. In Fabric v1.x, the invocation included in the deployment spec, is passed to the chaincode handler as a message type of {{ChaincodeMessage_INIT}}. In the golang case, this triggers the handler to invoke the {{Init}} function of the golang chaincode.

In the test chaincodes used in the integration tests, when the 'Init' function is called (as a result of a ChaincodeMessage_INIT, as a result of an lscc deploy/upgrade), they either:
 1) Simply ignore the 'function name', as it is known to be 'init' – [https://github.com/hyperledger/fabric/blob/e91c57c5fcb338b05fff6ac413ba5895dcebd06b/integration/chaincode/simple/chaincode.go#L23]
 2) Simply ignore everything (including the function name), as init is not particularly useful – [https://github.com/hyperledger/fabric/blob/e91c57c5fcb338b05fff6ac413ba5895dcebd06b/integration/chaincode/marbles_private/chaincode.go#L40]
 3) Ignore all of the arguments passed to 'Init' – [https://github.com/hyperledger/fabric/blob/e91c57c5fcb338b05fff6ac413ba5895dcebd06b/integration/chaincode/keylevelep/chaincode.go#L35]

In short, as far as golang chaincodes go, I've never seen anyone actually depend on that first parameter.
{quote}In Fabric 1.4 using the Node chaincode APIs and SDK, we allow client code to specify the initialization function name that will be included in the deployment spec arguments. No arguments are also allowed, in which case no initialization function gets called on instantiate.
{quote}
Based on the revision history of the code, this looks like the logic was changed in v1.4? It looks like the user was always free to overwrite the chaincode input arguments, but that if they were omitted, then 'init' was automatically filled in?
{quote}So there is a mismatch between how chaincode (regardless of its implementation language) can be instantiated using the Node and Java SDKs in Fabric 1.4. Surely the bahavior should be consistent. I'm happy to take guidance on what that consistent behavior should be.
{quote}
Yes, I'd agree, we should probably homogenize this behavior.
{quote}In whether the function name specified is really the right one... this invocation is being done by an administrator who has privilege to instantiate chaincode and likely invoke any other transaction functions they like, right? I'm not sure why having them specify arguments to the instantiate is an additional risk.
{quote}
To me, this is a very dangerous assumption, and points out one of the fundamental failures of the first iteration of lifecycle. No single user should have superpowers, nor be allowed to escape the checks of conventional invocation.

The only value in 'init' is that chaincode authors are guaranteed that it is invoked (and committed) before any other invocation occurs. If this value proposition is gone (as any function can be invoked) then why even allow it? I hope that you'll agree that the answer is ""You should not allow it.""

In conclusion (and what I was slowly driving at with all of the above), I would much rather see the contract API evolve in a direction where init is strictly not allowed period, which will significantly simplify life for users moving to the new lifecycle. If we continue to use init in the contract API, then starting in lifecycle v2.0 _only_ the function name ""init"" will be allowed as the first parameter. So, moving to allow all SDKs to specify a function other than ""init"" is a move in the wrong direction to me. IMO we should be pushing to get rid of init, rather than generalizing it to look more like an invoke.;;;","20/Feb/19 7:50 PM;sstone1;[~jyellick] the v1.4 changes to the SDK you reference allow a user to not specify an instantiate time function (by explicitly passing null/undefined as the function name), in which case nothing in the user's contract is called during instantiate. In the v2.0 SDK, no instantiate time function is called by default, unless explicitly specified.

I'm okay with banning ""instantiate time functions"" altogether if that's what gets decided, I can't disagree with any of your arguments for banning them ;-)

What we do need to get away from is having two things called ""init"" because it causes so much confusion:
# The ""Init"" (capital I) function in the chaincode interface that chaincode developers have to specify
# The ""init"" (lowercase i) string conventionally passed as the first argument to the above function

The second one is the one that causes most confusion, as I've spoken to a lot of people who incorrectly believe you *have* to specify it as ""init"" (as they mix it up with the first one), where instead as you point out no chaincode developers ever bothers to read the value of this argument, and you could really pass in whatever you like.

I'd also argue that ""init"" (whatever case it may be in) is a bad name for something that currently gets called during the instantiate or upgrade operations. The Fabric operator does not currently perform an ""init"" operation, so why do we have this chaincode method called ""init""? Because the name is vague, it sounds like it could be called during any of these chaincode events: build, startup, instantiate, or upgrade. I appreciate the naming might have changed with lifecycle though?

If we do decide not to ban ""instantiate time functions"" then I would be more in favour of allowing contract developers to specify any function name, but explicitly annotate them as the function to be called during ""instantiate time"" or ""upgrade time"" (or insert new lifecycle phase time), e.g:

{code}
@Instantiate
public setupWorldState() {

} 

@Upgrade
public migrateWorldState() {

} 
{code}
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable service disc IT  build verify,FABJ-411,37796,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,19/Feb/19 11:19 PM,21/Feb/19 9:31 PM,28/Oct/23 2:21 AM,21/Feb/19 9:31 PM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,gerrit CR https://gerrit.hyperledger.org/r/#/c/29365/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00cfj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
How to tell the diff between Idemix and x509?,FABJ-418,38205,,Documentation,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Invalid,,luckforzhang,luckforzhang,05/Mar/19 7:18 PM,22/Oct/19 6:50 PM,28/Oct/23 2:21 AM,22/Oct/19 6:50 PM,v1.3.0,,,,,,,,,0,idemix,java-SDK,,,,"I will try to ask on workflow, sorry...",,luckforzhang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00elz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),luckforzhang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Docker cleanup,FABJ-419,38280,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,08/Mar/19 12:13 AM,15/Mar/19 7:19 PM,28/Oct/23 2:21 AM,15/Mar/19 7:19 PM,,,,,,,,,,0,,,,,,"Cleanup some docker-compose entries.

https://gerrit.hyperledger.org/r/#/c/29930/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00f1r:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch to CompletableFutures,FABJ-420,38367,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,12/Mar/19 5:34 AM,16/Mar/19 4:36 AM,28/Oct/23 2:21 AM,16/Mar/19 4:36 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,"CompleteableFutures are mostly used in Java over ListenableFuture that grpc uses. 
Switch to CompletableFutures 


https://gerrit.hyperledger.org/r/#/c/30012/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00fjz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HCAIdentity create not setting data,FABJ-421,38447,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,rickr,AlaricChan,AlaricChan,14/Mar/19 12:55 PM,16/Mar/19 4:35 AM,28/Oct/23 2:21 AM,15/Mar/19 7:19 PM,,,,,v1.4.1,v2.0.0,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/30095/



Recently, I tried to register a user instance with _create_ function provided by HFCAIdentity.

I expected that if register process is going well, I could get the secret returned from Fabric CA server. But actually, I could not.

I dug into the source code, and debugged the _create_ function, and found that seems to have unreasonable logic, which will lead to lose secret generated from Fabric CA server.

[https://github.com/hyperledger/fabric-sdk-java/blob/release-1.4/src/main/java/org/hyperledger/fabric_ca/sdk/HFCAIdentity.java#L267-L270]

The issue is that if Fabric CA server normally returns register result, the status code of HTTP POST would be smaller than 400. Then identity could assemble itself. But current logic is just opposite.

 

I am not sure if I missed anything and misunderstood it. And I am just a new-bee in Jira, not sure whether this is a duplicate case or not.

(If the issue is raised in a wrong Jira component (project?), please help correct it. Thanks a lot.)",,AlaricChan,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Mar/19 9:14 PM;AlaricChan;Create Identity -1.png;https://jira.hyperledger.org/secure/attachment/16929/Create+Identity+-1.png","14/Mar/19 9:14 PM;AlaricChan;Create Identity -2.png;https://jira.hyperledger.org/secure/attachment/16930/Create+Identity+-2.png",,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00g07:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AlaricChan,rickr,,,,,,,,,,dev,main,,,,,,true,"14/Mar/19 8:12 PM;rickr;Hi - how is what you doing different from the what is shown as an example of registering users: 

https://github.com/hyperledger/fabric-sdk-java/blob/dbc41c1a119f9567ec7b39d972663813c45e0d04/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L283-L307

Please try following that.;;;","14/Mar/19 9:29 PM;AlaricChan;Thank you Rick for your quick response. I uploaded two screenshots for easy understanding of my issue.

(Though Fabric CA server returned a secret after successfully registered a user, but Fabric Java SDK used for client lose the secret.)

So far, I assume there has two ways to register user at least, a) invoke register function from HFCAClient, b) invoke create function from HFCAIdentity.

I have tried #a, and everything goes well. However, I got stuck into #b, and that is my question.

 

And if this is confirmed to be a issue, I guess the root cause is the following line:

[https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric_ca/sdk/HFCAIdentity.java#L267];;;","14/Mar/19 11:21 PM;rickr;Ok the change to fix this needs some other work besides just changing that line.  
thx for catching this.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow test to change node cc version used.,FABJ-422,38470,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,15/Mar/19 2:50 AM,15/Mar/19 4:59 AM,28/Oct/23 2:21 AM,15/Mar/19 4:59 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00g4v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK-JAVA end-to-end tests are failing consistently as peer1 certificate expired,FABJ-423,38550,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,sambhavdutt,sambhavdutt,18/Mar/19 10:34 PM,19/Mar/19 8:34 PM,28/Oct/23 2:21 AM,19/Mar/19 8:34 PM,v1.4.0,v2.0.0,,,,,,,,0,ci-blocker,fabric-peer,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/30191/
https://gerrit.hyperledger.org/r/#/c/30186/



The SDK-JAVA tests have been failing consistently as the peer1 certificate has expired/timed out on 16 March

*Branch:* master, release-1.4
*Platform:* x86_64
*Error Snippet:*


{code:java}
[ERROR] Failures: 
[ERROR]   CryptoPrimitivesTest.testValidationOfCertWithFabicCAattributes:688
[INFO] 
[ERROR] Tests run: 419, Failures: 1, Errors: 0, Skipped: 5
{code}


{code:java}
08:19:56 2019-03-18 12:19:56,899 main ERROR CryptoPrimitives:584 - Cannot validate certificate. Error is: validity check failed
08:19:56 Certificate[
08:19:56 [
08:19:56   Version: V3
08:19:56   Subject: CN=peer1, OU=client + OU=org1, O=Hyperledger, ST=North Carolina, C=US
08:19:56   Signature Algorithm: SHA256withECDSA, OID = 1.2.840.10045.4.3.2
08:19:56 
08:19:56   Key:  Sun EC public key, 256 bits
08:19:56   public x coord: 75457294748262032135278169432727723144441234825624637237367897656652257473015
08:19:56   public y coord: 4645455364278591344247768321852769448364214415859780033690418528917420658726
08:19:56   parameters: secp256r1 [NIST P-256, X9.62 prime256v1] (1.2.840.10045.3.1.7)
08:19:56   Validity: [From: Mon Apr 16 20:40:00 UTC 2018,
08:19:56                To: Sat Mar 16 04:45:00 UTC 2019]
08:19:56   Issuer: CN=fabric-ca-server-org1CA, OU=Fabric, O=Hyperledger, ST=North Carolina, C=US
08:19:56   SerialNumber: [    29ec3e0f 52084bce 47683927 4ab8088d 70f81654]
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-merge-x86_64/357/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/4809/",,denyeart,rickr,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,768e22ab7e9369f1eba086aabf61cca5474710da,Unset,No,,,"1|i00gl3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rickr,sambhavdutt,vijaypunugubati,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IdemixUserStore load files from weird paths,FABJ-424,38557,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,magpie73,magpie73,magpie73,19/Mar/19 3:45 PM,19/Mar/19 10:07 PM,28/Oct/23 2:21 AM,19/Mar/19 10:07 PM,v1.4.0,v2.0.0,,,,,,,,0,idemix,,,,,"The [IdemixUserStore |[https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/user/IdemixUserStore.java] []|http://example.com]/] class requires key files to execute, and it searchs that files from paths like below.
 * Issuer Public Key : <storePath><mspId>/mspIssuerPublicKey
 * Revocation Public Key : <mspId>/msp<mspId>
 * Idemix Credential : <storePath><mspId>/user<userId>

If 'storePath' is 'test', 'mspID' is 'MSP1OU1' and 'userID' is 'johndoe' then real paths would be like below.
 * Issuer Public Key : testMSP1OU1/mspIssuerPublicKey
 * Revocation Public Key : MSP1OU1/mspMSP1OU1
 * Idemix Credential: testMSP1OU1/userjohndoe

In my thought - and refer to idemixgen and other cases - the paths should be like below.
 * Issuer Public Key : test */* MSP1OU1/msp */* IssuerPublicKey
 * Revocation Public Key : *test/*  MSP1OU1/msp */RevocationPublicKey*
 * Idemix Credential : test */* MSP1OU1/user */* johndoe

( Default name of Idemix Credential file generated by idemixgen is 'SignerConfig'.

But there can be multiple users, using 'userId' as the file name is not a bad idea. )",,davidkhala,magpie73,rickr,,,,,,,,,,,,,,,,,,,,FABJ-425,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00gmn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,magpie73,rickr,,,,,,,,,,,,,,,,,"19/Mar/19 10:07 PM;rickr;This class will be removed in the future.  It's not the intent for the SDK to provide a means for persistence ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IdemixUserStore throws exception with key file generated by idemixgen tool,FABJ-425,38558,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,magpie73,magpie73,magpie73,19/Mar/19 3:47 PM,19/Mar/19 10:08 PM,28/Oct/23 2:21 AM,19/Mar/19 10:08 PM,v1.4.0,v2.0.0,,,,,,,,0,idemix,,,,," 

IdemixUserStore throws exception with key file generated by idemixgen tool

When I execute fabric SDK Java with  key files generated by idemixgen tool, InvalidKeySpecException is occured.
{panel:title=Stacktrace}
java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format at sun.security.ec.ECKeyFactory.engineGeneratePublic(ECKeyFactory.java:157) at java.security.KeyFactory.generatePublic(KeyFactory.java:334) at org.hyperledger.fabric.sdk.user.IdemixUserStore.readIdemixRevocationPublicKey(IdemixUserStore.java:101) at org.hyperledger.fabric.sdk.user.IdemixUserStoreTest.testReadIdemixRevocationPublicKey(IdemixUserStoreTest.java:129) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78) at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57) at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) at org.junit.runners.ParentRunner.run(ParentRunner.java:363) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)Caused by: java.security.InvalidKeyException: invalid key format at sun.security.x509.X509Key.decode(X509Key.java:393) at sun.security.x509.X509Key.decode(X509Key.java:409) at sun.security.ec.ECPublicKeyImpl.<init>(ECPublicKeyImpl.java:69) at sun.security.ec.ECKeyFactory.implGeneratePublic(ECKeyFactory.java:219) at sun.security.ec.ECKeyFactory.engineGeneratePublic(ECKeyFactory.java:153) ... 27 more
{panel}
The reason is that The Revocation Public Key(RPK) file generated by fabric CA or idemixgen tool is PEM file but [IdemixUserStore |https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/user/IdemixUserStore.java] class needs DER file.( If I supply DER file as RPK or change IdemixUserStore class to use PEM file everything works fine. )
IdemixUserStore should load PEM file instead of DER format.( or both )",,magpie73,rickr,,,,,,,,,,,,,,,,,,FABJ-424,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00gmv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),magpie73,rickr,,,,,,,,,,,,,,,,,,"19/Mar/19 10:08 PM;rickr;This class is being removed in the future. The sdk does not provide persistence for credentials.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move Idemix code to it's own library.,FABJ-426,38568,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,rickr,rickr,19/Mar/19 10:37 PM,22/Oct/19 6:49 PM,28/Oct/23 2:21 AM,22/Oct/19 6:49 PM,,,,,,,,,,0,,,,,,The SDK has many Idemix Classes utilities which should be in its own library (maven) that the SDK depends on.,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00gp3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove not used Idmemix classes.,FABJ-427,38570,38568,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,19/Mar/19 10:43 PM,21/Mar/19 8:59 PM,28/Oct/23 2:21 AM,21/Mar/19 8:59 PM,,,,,,,,,,0,,,,,,"Geritt CR https://gerrit.hyperledger.org/r/#/c/30220/
These classes should not be in the SDK.  Eventually, they belong in a separate  Idemix library.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00gpj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,"21/Mar/19 8:59 PM;rickr;Classes should be available in git commit aaee816369cf8a5639fef7bd4dd223f355260dd1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide queued block event listener.,FABJ-428,38615,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,rickr,rickr,21/Mar/19 2:58 AM,10/Apr/19 12:13 AM,28/Oct/23 2:21 AM,10/Apr/19 12:13 AM,,,,,,,,,,0,,,,,,"CR https://gerrit.hyperledger.org/r/#/c/30257/
Current block listener creates a thread to process the event. Many users just want to it on a queue to guarantee order stays same and simpler to process.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00gzb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide current disconnect handler on peer,FABJ-429,38648,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,21/Mar/19 11:09 PM,21/May/19 11:44 PM,28/Oct/23 2:21 AM,22/Mar/19 3:06 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,CR https://gerrit.hyperledger.org/r/#/c/30284/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00h67:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NetworkConfig does not allow to specify custom PeerOptions,FABJ-430,38708,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,rickr,fedyiv,fedyiv,25/Mar/19 5:11 PM,10/Apr/19 12:12 AM,28/Oct/23 2:21 AM,10/Apr/19 12:12 AM,,,,,,,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/30416/

Hi All,

 {code:java}
public class NetworkConfig {
...

private Channel reconstructChannel(HFClient client, String channelName, JsonObject jsonChannel) throws NetworkConfigurationException {
...
  // Set the various roles
                    PeerOptions peerOptions = PeerOptions.createPeerOptions();

                    for (PeerRole peerRole : PeerRole.values()) {
                        setPeerRole(channelName, peerOptions, jsonPeer, peerRole);
                    }

                    foundPeer = true;

                    // Add the event hub associated with this peer
                    EventHub eventHub = getEventHub(client, peerName);
                    if (eventHub != null) {
                        channel.addEventHub(eventHub);
                        if (peerOptions.peerRoles == null) { // means no roles were found but there is an event hub so define all roles but eventing.
                            peerOptions.setPeerRoles(EnumSet.of(PeerRole.ENDORSING_PEER, PeerRole.CHAINCODE_QUERY, PeerRole.LEDGER_QUERY));
                        }
                    }
                    channel.addPeer(peer, peerOptions);

{code}


In the code above, there is missing logic to set *PeerOptions.registerEventsForFilteredBlocks* and  *PeerOptions.startEvents(long start)*
so if one wants to use this functionality he or she must reimplement channel creation from scratch, making Network config useless in this case.

Please add this functionality to NetworkConfig.
 ",,fedyiv,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00hi7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),fedyiv,rickr,,,,,,,,,,dev,main,,,,,,true,"25/Mar/19 9:30 PM;rickr;The specification: Connection profile did not include a means to set these.   There is a way applications can adjust these. The channel returned by loading the channel is not initialized.  The application can before initialize query the peers on the channel, what properties it has and what options (getPeersOptions).  
The application can then remove the peer and add it back with whatever properties or options it wants.;;;","25/Mar/19 9:31 PM;rickr;The spec should have a way to do this.  And there is a means right now to do this;;;","25/Mar/19 9:51 PM;fedyiv;Hi Rick,

Thank you for the advise, but it seems like a workaround to me. Is it not the purpose of NetworkConfig class to handle the configuration automatically?

If we remove peers after channel is returned and then re-add them manually it looks like duplication of some logic which is built in into NetworkConfig.  And this duplication must be done by every developer. Who wants to use this functionality.

Can this at least be reopened with very low priority?;;;","26/Mar/19 11:22 PM;rickr;There is no way to handle *automatically*  There are no settings in the connection profile for this. I have now created an option when loading the networkconfig that an application can override and change properties/options;;;","27/Mar/19 8:31 PM;fedyiv;Thank you Rick for your code change.

I tried the workaround you had suggested, and it did not work, because if I remove peer from channel, it executes shutdown peer

{code:java}
 public void removePeer(Peer peer) throws InvalidArgumentException {
        if (shutdown) {
            throw new InvalidArgumentException(format(""Can not remove peer from channel %s already shutdown."", name));
        }
        logger.debug(format(""removePeer %s from channel %s"", peer, toString()));

        checkPeer(peer);
        removePeerInternal(peer);
----> peer.shutdown(true);

    }
{code}

And there are no methods that would allow to switch on this peer. The only option I see is to create peer form scratch, and re-parse yaml/json config and to reimplement all logic from NetworkConfig used for peer creation. This does not look like a plausible workaround.

Please let me know if there is any easier way;;;","27/Mar/19 10:27 PM;rickr;There's no real other way today.  And you can remove the peer, it shuts down.  Then create a new peer from that one (name, url, properites et al) then add that one. 
I'll admit it's ugly but only way I know without this code change.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FABJ-431,39144,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,08/Apr/19 11:38 PM,10/Apr/19 12:13 AM,28/Oct/23 2:21 AM,10/Apr/19 12:13 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,Gerrit CR https://gerrit.hyperledger.org/r/#/c/30813/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00k0v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update README.MD for v2.0,FABJ-432,39419,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,20/Apr/19 6:06 AM,21/Apr/19 4:38 AM,28/Oct/23 2:21 AM,21/Apr/19 4:38 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,Gerrit CR https://gerrit.hyperledger.org/r/#/c/31030/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00llj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Return default implementation for SD peer orderer additions.,FABJ-433,39581,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,02/May/19 3:58 AM,04/May/19 5:10 AM,28/Oct/23 2:21 AM,02/May/19 7:20 AM,v2.0.0,,,,v1.4.2,v2.0.0,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/#/c/31183/
Return so they can be delegated the default implementations for Peer and Orderer service discover additions before initialize 

Also, allow for users to overrided the default implementation.
",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00men:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Expose organization information for peers,FABJ-434,39584,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,bestbeforetoday,bestbeforetoday,02/May/19 6:41 PM,04/Jun/19 11:27 PM,28/Oct/23 2:21 AM,04/Jun/19 3:58 AM,,,,,v1.4.4,v2.0.0,,,,0,,,,,,"_Gerrit CR [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31532]_


_As a_ user of the Java SDK
 _I want to_ identify the organization (MSP ID) to which peers belong
 _So that_ I can obtain query results and receive events from peers within specific organizations

The SDK implementation already has access to organization information for peers through both the connection profile and through discovery. This information should be made directly accessible to client code through the SDK. This capability is already offered by other language SDKs.

Trying to obtain this information through the existing API is currently:
 # Cumbersome.
 # Does not guarantee consistency as the network topology evolves over time (particularly in the case of removal of peers).

Examples of use cases are:
 * Wait for commit events and send queries only to peers within my organization, for performance, consistency, and because I trust my organization peers not to be malicious participants in the network.
 * Direct queries to specific organization peers, such as a regulator, which can not reasonably be otherwise determined in a real-world network where member peers change over time and discovery is used to propagate network information.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,FGJ-3,FGJ-7,,,,,,,,,FGJ-23,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mfb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Needed dependency missing,FABJ-435,39585,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,rickr,rickr,rickr,02/May/19 8:56 PM,02/May/19 9:54 PM,28/Oct/23 2:21 AM,02/May/19 9:54 PM,,,,,,,,,,0,,,,,,"The dependency is actually missing in a third party library. 

https://gerrit.hyperledger.org/r/#/c/31193/",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mfj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Access Denied (invalid cryptographic credentials) while issuing transaction proposal through Idemix User,FABJ-436,39589,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Invalid: Environment Issue,adc,sejalpawar,sejalpawar,02/May/19 11:07 PM,09/May/19 9:22 PM,28/Oct/23 2:21 AM,09/May/19 9:22 PM,,,,,,,,,,0,,,,,,"- Transaction proposal works when issued through x509 certificate of same user.

Error through Fabric Java SDK:
Sending proposal with transaction: to Peer{ id: 11, name: peer0.org2.example.com, channelName: mychannel, url: grpcs://localhost:9051} failed because of: gRPC failure=Status {code=UNKNOWN, description=access denied: channel [mychannel] creator org [Org1IdemixMSP], cause=null}

Logs: 
1. docker peer: https://hastebin.com/delonepeju.makefile
2. fabric Java SDK: https://hastebin.com/fezeqibora.makefile

Docker logs of peer0.org1.example.com:
 ValidateProposalMessage -> WARN 196 channel [mychannel]: creator certificate is not valid: Failed verifing with opts [&{<nil> <nil> [] [{1 [111 114 103 49 46 100 101 112 97 114 116 109 101 110 116 49]} {2 1} {0 <nil>} {0 <nil>}] 3 [] 0 0xc00000f6f8 0}]: signature invalid: APrime and ABar don't have the expected structure

Note: If used Fabric CA instead of idemixgen or Fabric SDK sample certificates from git repo, it goes into transacttion time expired.",,rickr,sejalpawar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mgf:",,,,Unset,Unset,,,,,,,"Steps taken to generate idemix credentials:
    
    1. generate IssuerPublicKey using idemixgen 
         cd org1.idemix.example.com
         idemixgen ca-keygen
    
    2. Include in channel config block through configtx.yaml:
     - &Org1Idemix
           
            name: Org1IdemixMSP
    
            id: Org1IdemixMSP
    
            msptype: idemix
            mspdir: crypto-config/peerOrganizations/org1.idemix.example.com/idemix-config
    
    3. Mount IssuerPublicKey in docker container:
    
      ca.org1.example.com:
        container_name: ca_org1
        image: hyperledger/fabric-ca:$IMAGE_TAG
        environment:
          - FABRIC_CA_HOME=/etc/hyperledger/fabric-ca-server
          - FABRIC_CA_SERVER_CA_NAME=ca_org1
          - FABRIC_CA_SERVER_CA_CERTFILE=/etc/hyperledger/fabric-ca-server/ca.org1.example.com-cert.pem
          - FABRIC_CA_SERVER_CA_KEYFILE=/etc/hyperledger/fabric-ca-server/CA1_PRIVATE_KEY
        command: sh -c 'cp -R /tmp/msp /etc/hyperledger/fabric-ca-server; mv /etc/hyperledger/fabric-ca-server/msp/*PublicKey /etc/hyperledger/fabric-ca-server; fabric-ca-server start -b admin:adminpw -d'
        #command: 'fabric-ca-server start -b admin:adminpw -d'
        volumes:
          - ../crypto-config/peerOrganizations/org1.example.com/ca/:/etc/hyperledger/fabric-ca-server
          - ../crypto-config/peerOrganizations/org1.idemix.example.com/idemix-config/msp/:/tmp/msp
        ports:
          - 7054:7054
   
    
    In Fabric java SDK code:
  
        UserContext idemixUser = new UserContext();
        idemixUser.setName(""idemixTestUser1"");
        RegistrationRequest rr = new RegistrationRequest(idemixUser.getName(), ""org1.department1"");
        String enrollmentSecret = ca_client.register(rr, caAdmin);
        String mspID = ""Org1IdemixMSP"";
        Enrollment x509Enrollment = ca_client.enroll(idemixUser.getName(), enrollmentSecret);
        Enrollment idemixEnrollment = ca_client.idemixEnroll(x509Enrollment, mspID);
        idemixUser.setEnrollment(idemixEnrollment);
        idemixUser.setMspId(mspID);
        client.setUserContext(idemixUser);
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,sejalpawar,,,,,,,,,,,,,,,,,,"03/May/19 5:12 AM;rickr;Need at least full sdk logs and peer logs at least ;;;","03/May/19 9:21 PM;rickr;The logs for fabric don't appear to be at debug level.  The SDK logs also need to be at trace level.  The SDK readme.md has some mention on setting trace.  The SDK's docker-compose.yaml also has by default the full logging on the fabric side- if that does not work see fabric documentation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix ca URL parameter for dups and missing,FABJ-437,39602,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,03/May/19 11:46 PM,04/May/19 5:10 AM,28/Oct/23 2:21 AM,04/May/19 5:10 AM,v2.0.0,,,,v1.4.2,v2.0.0,,,,0,,,,,,"Gerrit CR: https://gerrit.hyperledger.org/r/#/c/31206/
The HFCAClient was duplicating the ca parameter and at sometimes not including it.",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mj3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release 1.4.2 Fixes,FABJ-438,39605,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,04/May/19 1:49 AM,04/May/19 5:11 AM,28/Oct/23 2:21 AM,04/May/19 5:11 AM,v1.4.1,,,,v1.4.2,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mjr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Choice to reuse Idemix Pseudonyms to sign transactions inorder to establish Proof of Ownership,FABJ-439,39738,,Task,Backlog,FABJ,Fabric SDK Java,software,calanais,,,High,,sejalpawar,sejalpawar,sejalpawar,09/May/19 10:16 PM,19/Nov/20 8:19 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"I wanted to propose a new scenario and discuss the merits and shortcomings of the same:

Current Scenario:

1. Every transaction that is proposed by an Idemix User is signed with a fresh Idemix Pseudonym making all the transactions not only anonymous but completely, unlinkable. The only fields available on the chaincode side in terms of user identity are: X and Y points of Elliptic curve which together form the Public key equivalent. Different key is generated for every transaction.

2. Access control, proof of ownership and identity in transactions signed by x509 certificates is established using fields such as subject name, RDN sequence and other miscellaneous fields embedded in the certificate itself.

Proposed Scenario:

Choice or ability to reuse Pseudonyms if desired thereby, making *some* transactions linkable.

The advantage of this can be understood with the following sample use case: A fabcoin purchased using an Idemix credential will be associated with that particular Pseudonym. To be able to sell the same fabcoin a new transaction needs to be invoked with the *same Idemix Pseudonym* so that ownership can be established and verified on the chaincode side.

The user can thereafter, generate and use a new Pseudonym to purchase another fabcoin thereby, establishing overall, unlinkability. Anonymity is guaranteed always in any case since pseudonyms are not associated with the user's concrete x509 identity.

Example Scenario:
 1. User X purchases coin A using pseudonym P1. 
 Mapping on chain: <P1, A>
 2. User X purchases another coin B using pseudonym P2. 
 Mapping on chain: <P1, A>, <P2, B>
 3. To sell coin A, user needs to sign transaction using pseudonym P1.
 3A. User tries to sell coin A by signing transaction using pseudonym P2. Transaction rejected since ownership of coin A is linked to P1.
 3B. User tries to sell coin A by signing transaction using P1. Transaction successful.

To conclude, we need ability to reuse Pseudonyms to establish that a user owns a particular asset and is therefore, capable of selling or trading it.

From an implementation point of view, this affects only Fabric SDK and can be implemented without affecting current scenarios in any way.",,ales,angelo.decaro,heatherp,mastersingh24,rickr,sejalpawar,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10120,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00nan:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,angelo.decaro,heatherp,mastersingh24,rickr,sejalpawar,,,,,,,,,,,,,,"14/May/19 5:31 PM;mastersingh24;[~adc] [~ales]  -  See any issues with this? ;;;","15/May/19 6:31 PM;angelo.decaro;So, the anonymity guarantees achieved by the described protocol are essentially those obtained by Bitcoin, pseudonymity. Full anonymity can be achieved only if you are able to hide also which coin is spent.

Anyway, it seems reasonable to allow the reuse of a pseudonym in certain contexts, as long as the developer knows what she is doing.;;;","15/May/19 7:37 PM;ales;I see a couple of issues though:
 # the nym is a commitment to the (secret) user keypair, and so the only way to produce the same commitment twice is to keep the randomness; this requires some persistent secret storage management facility which isn't provided today and would have to be built ad hoc. If you lose this randomness you won't be able to spend your coin again!
 # selective disclosure of attributes is already supported by idemix and so we may try to leverage this native capability first;;;","15/May/19 7:49 PM;sejalpawar;What if we sign using the same pseudonym and generate different commitments both times? The NymX and NymY elliptic curve keypair points produced on chaincode side remain same which is enough for ownership verification. I tried a quick and dirty PoC in which instead of producing a new Pseudonym I just passed a previous one and returned NymX and NymY from chaincode to the client SDK to check if they stayed constant.

Replaced line in IdemixSigningIdentity.java:

// generate a fresh pseudonym

this.pseudonym = new IdemixPseudonym(this.sk, this.ipk);

What is accessed from Chaincode side:

NymX byte[], NymY byte[] from msp.SerializedIdemixIdentity;;;","15/May/19 8:23 PM;angelo.decaro;So, speaking the java-sdk language, you need to enhance the IdemixSigningIdentity to be able serialise it, therefore storing all the associated secrets (Notice that the most relevant secret is contained in IdemixPseudonym. It is RandNym, that is used as the randomness in the commitment to achieve the hiding property). Then, you need to modify the TransactionContext to get in input a SigningIdentity. You need also to enhance the Channel class to have a new getTransactionContext that takes in input a SigningIdentity. This should be enough.

 ;;;","15/May/19 8:37 PM;sejalpawar;Okay got it! I will get back to you with the changes.;;;","16/May/19 10:08 PM;sejalpawar;[~rickr] What would be the best way to do the following things:
 # Serialize IdemixSigningIdentity
 # Send an object of signing Identity via 1) sendTransactionProposal(), 2) sendProposal() to 3) getSignedProposal() ;;;","17/May/19 7:50 PM;rickr;The only mean to serialize I know of is java serialization and grpc serialization.  I think [~angelo.decaro] laid out the rest.
;;;","22/Oct/19 7:18 PM;heatherp;Hi [~sejalpawar] - I'm taking a look at the fabric-java-sdk backlog - are you still planning on putting in a fix for this?;;;","22/Oct/19 7:23 PM;sejalpawar;Hey Heather, I lost track of this a while ago but I will fix it in the next two weeks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Proto updates.,FABJ-441,39833,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,16/May/19 2:22 AM,18/May/19 6:48 AM,28/Oct/23 2:21 AM,18/May/19 6:48 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,Gerrit CR https://gerrit.hyperledger.org/r/#/c/31386/,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00nuf:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Servicediscovery logging enhancements.,FABJ-442,39895,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,17/May/19 9:23 PM,12/Sep/19 12:31 PM,28/Oct/23 2:21 AM,18/May/19 6:47 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,"Minor logging enhancements while doing service discovery.
Gerrit CR: https://gerrit.hyperledger.org/r/#/c/31415/",,lmars,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00o3z:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lmars,rickr,,,,,,,,,,dev,main,,,,,,true,"06/Sep/19 8:49 PM;lmars;[~rickr] Are you sure the fix version  is correct? I have this logging in fabric-sdk-java v1.4.4

And second question: are you sure error level is appropriate level for this? We use global orderer endpoints configuration and we have a lot of errors on client side: ""Service discovery in channel: general, ... found Orderer endpoint: orderer:7050 with two mspids: 'node3', 'node1'"". We think this isn't an error at all :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release v1.4.3,FABJ-443,40025,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,22/May/19 12:20 AM,22/May/19 2:12 AM,28/Oct/23 2:21 AM,22/May/19 2:12 AM,v1.4.0,,,,v1.4.0,,,,,0,,,,,,https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31466,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00omk:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sign transaction offline with fabric-sdk-java,FABJ-445,40279,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,FinJmy,FinJmy,03/Jun/19 7:47 PM,20/Nov/20 1:00 AM,28/Oct/23 2:21 AM,20/Nov/20 1:00 AM,,,,,,,,,,2,external,sdk-triaged,,,,"With node sdk, I can sign transaction offline ([https://github.com/hyperledger/fabric-sdk-node/blob/0d24cec10f7a3e0153fcf3f0158a89c5eaa0cfab/docs/tutorials/sign-transaction-offline.md) |https://github.com/hyperledger/fabric-sdk-node/blob/0d24cec10f7a3e0153fcf3f0158a89c5eaa0cfab/docs/tutorials/sign-transaction-offline.md]with my own sign entity.

 

However, when I switched to java sdk, there is no way to do this.

 

Since java is widly used, can ""sign transaction offline"" be added to fabric-sdk-java?",,bestbeforetoday,br0x,FinJmy,ivanovv,KyoungsunPark,lesleyannj,nitishbhardwaj19,,,,,,,,,,,,,,,,,,,,,FABJ-517,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00pyc:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,br0x,FinJmy,ivanovv,KyoungsunPark,lesleyannj,nitishbhardwaj19,,,,,,,,,,,,,"19/Aug/19 3:32 PM;br0x;+1 for that

 

I could start working for a patch on this..

 

Seems that the channel already has necessary functions.

 

Plan:
 # ProposalBuilder can be used (in the same manner as in Channel.sendProposal function) to build an unsigned Proposal.
 # Further the offline client can use Proposal to create SignedProposal (thus the getSingedProposal function /or similar/ should be made public).
 # sendProposalToPeers should be made public so that online client could finally send it.

 

 

 

 ;;;","28/Jan/20 5:08 PM;nitishbhardwaj19;Is there any plan for this feature?;;;","04/Jun/20 11:33 PM;bestbeforetoday;During the Channel.sendProposal() flow, the signing is done by calling CryptoSuite.sign() on whatever CryptoSuite implementation you have set on the HFClient. Would a workable approach be to supply your own CryptoSuite implementation where CryptoSuite.sign() does the offline signing?

If it isn't workable to have the offline signing done by some user code like this that can be plugged into the flow of submitting a transaction, it would really help me if you could describe the scenarios that require a different approach and why.;;;","20/Nov/20 1:00 AM;lesleyannj;Closing - intended to be addressed under new Fabric Gateway work - see https://github.com/hyperledger/fabric-rfcs/pull/32;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start  of 1.4.4,FABJ-446,40340,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,04/Jun/19 5:04 AM,04/Jun/19 5:47 PM,28/Oct/23 2:21 AM,04/Jun/19 5:47 PM,v1.4.0,,,,v1.4.4,,,,,0,,,,,,,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00q8c:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update chaincode to not use Shim logger,FABJ-447,40441,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,rickr,rickr,rickr,06/Jun/19 8:08 PM,20/Jun/19 2:11 AM,28/Oct/23 2:21 AM,20/Jun/19 2:11 AM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,Gerrit CR https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31744,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00qpw:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide access to system channel configuartion,FABJ-448,40479,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,08/Jun/19 5:45 AM,12/Jun/19 1:03 AM,28/Oct/23 2:21 AM,12/Jun/19 1:03 AM,v1.4.0,v2.0.0,,,v1.4.0,v2.0.0,,,,0,,,,,,"Gerrit CR [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31775]

Gerrit CR [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31827]   v1.4.4",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00qxg:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release v1.4.4,FABJ-449,40516,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,11/Jun/19 9:33 PM,12/Jun/19 1:59 AM,28/Oct/23 2:21 AM,12/Jun/19 1:59 AM,v1.4.4,,,,v1.4.4,,,,,0,,,,,,"Gerrit CR https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31833

 ",,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00r5g:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Access to Peer URL from NetworkConfig object,FABJ-450,40559,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,andrew-coleman,andrew-coleman,andrew-coleman,13/Jun/19 9:25 PM,27/Jun/19 8:52 PM,28/Oct/23 2:21 AM,15/Jun/19 6:37 PM,,,,,v2.0.0,,,,,0,,,,,,"The Fabric Gateway Java SDK implementation needs to get a Peer object instance from the NetworkConfig (CCP).  The NetworkConfig class does not have a public getter for this.  A Peer object can be instantiated using:

HFClient.newPeer(name, url, properties)

The name and properties are currently accessible from a NetworkConfig object, but the url is not.  Please could we add a getPeerUrl(name) for this?",,andrew-coleman,lesleyannj,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00rcc:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,lesleyannj,rickr,,,,,,,,,dev,main,,,,,,true,"13/Jun/19 10:22 PM;rickr;I'd like to understand the use case here.  You can load whole channel from the NetworkConfig.    As a *work around* right now you can do exactly that then get the peers from the channel created and get it's URL.  If for now,  you don't want that channel you shouldn't even need to shut it down because when i't s loaded it's not intialized.  Just dereference it and it should be GC;;;","14/Jun/19 6:17 PM;andrew-coleman;In this scenario, there is no channel information in the CCP. I need to be able to instantiate a Peer object for each peer listed in the client organisation.  The following shows a snippet of the CCP - I need to create a Peer object representing 'mypeer'.  

 
{code:java}
{
   ""client"": {
      ""organization"": ""myorg""
   },
   ""organizations"": { 
      ""myorg"": { 
         ""mspid"": ""myorgMSP"", 
         ""peers"": [ ""mypeer"" ]
      } 
   },
   ""peers"": { 
      ""mypeer"": { 
         ""url"": ""grpcs://..."", 
         ""grpcOptions"": { ... } 
      } 
   }
}
{code}
 ;;;","14/Jun/19 6:19 PM;andrew-coleman;Proposed fix: [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31893];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TransactionRequest can only be sent once,FABJ-451,40585,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,14/Jun/19 5:39 PM,20/Jun/19 10:04 PM,28/Oct/23 2:21 AM,20/Jun/19 10:04 PM,,,,,,,,,,0,,,,,,"When a proposal request is sent to a peer (for example by calling Channel.queryByChaincode()), the request object is marked as ""sent"" and an error is thrown if the same object is used again. An example of where it is desirable to re-send the same proposal request is obtaining query results from peers:
 # Request is sent to a peer.
 # A good response is not obtained; perhaps the peer is down.
 # Request is sent to another peer, continuing until a good response is obtained or candidate peers are exhausted.

 

The current behaviour causes an error to be thrown at step 3.

It should be noted that the Channel code itself has to work around this behaviour in the sendProposalSerially() method, where it modifies the private internals of the request to unset its ""sent"" flag. This looks like an additional indicator that this behaviour is undesirable.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00rh8:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Calling Channel.shutdown() can cause spurious NullPointerExceptions,FABJ-452,40685,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,bestbeforetoday,bestbeforetoday,19/Jun/19 9:52 PM,20/Jun/19 5:51 AM,28/Oct/23 2:21 AM,20/Jun/19 5:51 AM,v1.4.4,,,,v1.4.4,v2.0.0,,,,0,,,,,,"Gerrit CR [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31985 n   |https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31985]v1.4 [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31986]


Running a suite of unit tests, some of which create and then shutdown channel objects, the following spurious NullPointerException occurs on a different thread to the test execution thread:
{code:java}
Exception in thread ""pool-45-thread-1"" java.lang.NullPointerException
	at org.hyperledger.fabric.sdk.PeerEventServiceClient.<init>(PeerEventServiceClient.java:84)
	at org.hyperledger.fabric.sdk.Peer$1.reconnect(Peer.java:431)
	at org.hyperledger.fabric.sdk.Peer$2.disconnected(Peer.java:559)
	at org.hyperledger.fabric.sdk.Peer.lambda$reconnectPeerEventServiceClient$0(Peer.java:398)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{code}
 I narrowed the cause down to the case where we have created a channel from a connection profile that contains the definition of the channel and also a peer, which in the case of our unit tests is not actually running.

Looking at the fabric-sdk-java code where the error is occurring, it looks to be this line in the PeerEventServiceClient constructor:
{code:java}
this.channelName = peer.getChannel().getName();
{code}
Running the tests in the debugger I can see the peer instance has its channelName member set correctly, but the channel member is null. The Peer shutdown() looks to null the channel before calling removeEndorserClient().

Since the error occurs on a different thread, I suspect the fact that the test suite continues to run for some time (so the JVM doesn't immediately exit) after the call that causes this issue is a factor in observing the NullPointerException.

Sample client code, representative of what my tests are doing:
{code:java}
HFClient client = HFClient.createNewInstance();
CryptoSuite cryptoSuite = CryptoSuiteFactory.getDefault().getCryptoSuite();
client.setCryptoSuite(cryptoSuite);
client.setUserContext(user);
Channel channel = client.loadChannelFromConfig(""mychannel"", networkConfig);
channel.initialize();
channel.registerBlockListener(event -> {}); // Not sure this is relevant
channel.shutdown(false);
{code}
Connection profile (i.e. NetworkConfig) file: [https://raw.githubusercontent.com/hyperledger/fabric-gateway-java/master/src/test/java/org/hyperledger/fabric/gateway/connection.json]

 

 ",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00rzg:",,,,Unset,Unset,,,,,,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start 1.4.5-SNAPSHOT,FABJ-453,40707,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,rickr,rickr,rickr,20/Jun/19 6:22 AM,20/Jun/19 10:04 PM,28/Oct/23 2:21 AM,20/Jun/19 10:04 PM,v1.4.4,,,,v1.4.4,,,,,0,,,,,,Gerrit CR https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/31995,,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00s4c:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in Service Discovery Exception Msg,FABJ-454,40896,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,chill37,chill37,chill37,03/Jul/19 11:07 AM,24/Jul/19 12:21 AM,28/Oct/23 2:21 AM,18/Jul/19 5:49 PM,,,,,,,,,,0,,,,,,"The Exception Msg when there is no SDChaincode has typo which could lead to misunderstanding the message itself.

 

Original Msg:
 ""Channel %s failed to find and endorsers for chaincode %s""

Suggestion:
 ""Channel %s failed to find endorsers for chaincode %s""
 (There should be no 'and'. it got me confused few times)
  ",,bestbeforetoday,chill37,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8779,,,No,,Unset,No,,,"1|i00t4s:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,chill37,,,,,,,,,,dev,main,,,,,,true,"18/Jul/19 5:27 PM;bestbeforetoday;I'm guessing that the message was intended to read:

""Channel %s failed to find _any_ endorsers for chaincode %s"".;;;","18/Jul/19 11:01 PM;chill37;[~bestbeforetoday] you are correct. The commit that I made does include 'any' in the exception message.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update maintainers list,FABJ-455,40898,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,andrew-coleman,andrew-coleman,03/Jul/19 5:39 PM,22/Oct/19 6:47 PM,28/Oct/23 2:21 AM,22/Oct/19 6:47 PM,,,,,,,,,,0,,,,,,"Proposal to add the following maintainers to fabric-sdk-java:
 * Andrew Coleman (currently also maintainer of fabric-sdk-node, fabric-gateway-java)
 * Mark Lewis (currently also maintainer of fabric-gateway-java)",,andrew-coleman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00t58:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to reconfigure Raft using Java SDK,FABJ-456,40930,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,maksimfedin,maksimfedin,05/Jul/19 6:46 PM,22/Oct/19 9:55 PM,28/Oct/23 2:21 AM,22/Oct/19 9:55 PM,v1.4.2,,,,,,,,,0,java-sdk,Orderer,Raft,,,"As Java SDK user I should be able to perform reconfiguration for Raft [as described here|https://hyperledger-fabric.readthedocs.io/en/release-1.4/raft_configuration.html#reconfiguration]

Proposed fix (based on 1.4.3):
 - File needs to be added: +src/main/proto/orderer/etcdraft/configuration.proto+
 - File needs to be updated: +src/main/proto/orderer/configuration.proto+

Patch file attached.",,heatherp,maksimfedin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jul/19 6:25 PM;maksimfedin;etcdraft.patch;https://jira.hyperledger.org/secure/attachment/17381/etcdraft.patch",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00tcc:",,,,Unset,Unset,,,,,,,N/A,,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,maksimfedin,,,,,,,,,,,,,,,,,,"22/Oct/19 9:55 PM;heatherp;Hi [~maksimfedin] - I'm working through the java-sdk backlog with the maintainers, I think the files you've specified have since been added: [https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/proto/orderer/configuration.proto]

So I'm going to close this - can you re-open it if you find this issue is still a problem? Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support paths in the URL for contacting Peers and Orderers in the java SDK,FABJ-457,40917,,Story,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,aatkddny,aatkddny,04/Jul/19 5:41 AM,21/May/21 6:37 PM,28/Oct/23 2:21 AM,,v1.4.0,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"Raft ordering requires TLS. Everything is moving to K8S. We've been on it for a long time - but have exposed services using NodePorts inside our data center without any encryption.
 
There's a chunk of code inside org.hyperledger.fabric.sdk.helper.Utils#parseGrpcUrl(String url) that looks like this.

{code:java}
		Properties props = new Properties();
		Pattern p = Pattern.compile(""([^:]+)[:]//([^:]+)[:]([0-9]+)"", Pattern.CASE_INSENSITIVE);
		Matcher m = p.matcher(url);
		if (m.matches()) {
			props.setProperty(""protocol"", m.group(1));
			props.setProperty(""host"", m.group(2));
			props.setProperty(""port"", m.group(3));


			String protocol = props.getProperty(""protocol"");
			if (!""grpc"".equals(protocol) && !""grpcs"".equals(protocol)) {
				throw new RuntimeException(format(""Invalid protocol expected grpc or grpcs and found %s."", protocol));
			}
		}
		else {
			throw new RuntimeException(""URL must be of the format protocol://host:port. Found: '"" + url + ""'"");
		}


		// TODO: allow all possible formats of the URL
{code}

You'll note the TODO.

When deploying a fabric into a kubernetes cluster to use GRPCS requires the use of an ingress. That in turn requires supporting a path in the URL. This precludes the use of same.
There are a number of places downstream of this where the url is rebuilt or rechecked, so it isn't as simple as just changing the regex and adding a path property. 
 
Without it though it will be difficult to use the SDK and K8S and Raft. 

HLF appears to be moving to either supporting or requiring K8S, so this will not be going away. ",,aatkddny,bestbeforetoday,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00t9g:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aatkddny,bestbeforetoday,yacovm,,,,,,,,,,,,,,,,,"13/Jul/19 5:55 AM;yacovm;[~rickr];;;","21/May/21 6:37 PM;bestbeforetoday;This has been untouched for quite a while now. Have you found a workaround or is this still an issue?

For reference, SDK development effort is currently focused on a new cross-language [Fabric Gateway|https://github.com/hyperledger/fabric-gateway] client API, to provide a more consistent and easier application development experience across Java, Node and Go programming languages. Although this is certainly not yet ready for production use, this API gives the [application control over how the client gRPC connection is created|https://hyperledger.github.io/fabric-gateway/main/api/java/] and so should neatly solve this issue by allowing you to use [{{ManagedChannelBuilder.forTarget()}}|https://grpc.github.io/grpc-java/javadoc/io/grpc/ManagedChannelBuilder.html#forTarget-java.lang.String-] directly.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric SDK is not very useable if a connection profile with no channel definition is used,FABJ-458,41250,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,davidkel,davidkel,17/Jul/19 5:30 PM,03/Nov/19 8:52 PM,28/Oct/23 2:21 AM,03/Nov/19 8:52 PM,v1.4.4,,,,v1.4.4,v2.0.0,,,,0,sdk-triaged,,,,,"The fabric-sdk looks as though it can take a connection profile with no channel definitions but the apis focus around starting with a channel. Fabric-Gateway-Java gets around this by building the required internal objects from the NetworkConfig instance created from the CCP however Fabric-Gateway-Java only provides a subset of capability of the fabric-sdk-java so users could still have a need to use the fabric-sdk-java in order to complete their requirements. 

I know that it would be possible to use fabric-gateway-java getChannel method on the network instance to get around this but would be good to allow users the choice of just using the java-sdk standalone ",,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u6s:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,"03/Nov/19 8:52 PM;davidkel;As there is a work around to this in the form of using fabric-gateway-java, plus the code changes required to a client application is minimal as shown here, so withdrawing
{code:java}
// old way to get a channel
Channel channel = client.loadChannelFromConfig(""mychannel"", conf);

// example of how to do it using a helper method
Channel channel = createChannel(client, conf, ""mychannel"");
...

/*
 * create the named channel for use with a connection profile
 */
private static Channel createChannel(HFClient client, NetworkConfig networkConfig, String channelName) throws InvalidArgumentException {
    // create a Channel instance
    Channel channel = client.newChannel(channelName);

    // get a list of all the peers in the client organization
    List<String> peerNames = networkConfig.getClientOrganization().getPeerNames();

    // build a Peer instance of each of these peers with appropriate
    // properties and add it to the channel instance
    for (String name: peerNames) {
        String url = networkConfig.getPeerUrl(name);

        // retrieve any explicit properties defined for that peer
        Properties props = networkConfig.getPeerProperties(name);
        Peer peer = client.newPeer(name, url, props);

        // ensure the peer has all roles including service discovery
        PeerOptions peerOptions = PeerOptions.createPeerOptions()
            .setPeerRoles(EnumSet.allOf(PeerRole.class));
        channel.addPeer(peer, peerOptions);
    }
    return channel;
}
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java sdk should mimic node asLocalHost functionality,FABJ-459,41254,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,heatherp,heatherp,17/Jul/19 8:15 PM,17/Jul/19 8:18 PM,28/Oct/23 2:21 AM,17/Jul/19 8:16 PM,,,,,,,,,,0,,,,,,"When attempting to submit a transaction through a client app using the java sdk, I see:
{noformat}
Caused by: org.hyperledger.fabric.sdk.exception.TransactionException: Channel mychannel, send transaction failed on orderer OrdererClient{id: 14, channel: mychannel, name: orderer.example.com:17053, url: grpcs://orderer.example.com:17053}. Reason: UNAVAILABLE: Unable to resolve host orderer.example.com{noformat}
Because I don't have `order.example.com` specified in `/etc/hosts`, nor orderer specified in my connection profile, and there's no option to set `asLocalHost` as there is with node. 

I think this needs some thought/discussion if we don't want to provide the same `asLocalHost` functionality available in node. i.e. some docs to explain the setup needed, or a better explained error message?

If the answer is to have orderer specified in the connection profile, then this shouldn't be closed until I've raised an issue with the vscode extension, to ensure they specify the orderer in the local_fabric connection profile, as and when they properly support the new programming model in java

 ",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u7o:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,"17/Jul/19 8:16 PM;heatherp;meant to raise in fabric-gateway-java!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery returning anchor peer twice in peer list.,FABJ-460,41291,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,yeousunn,yeousunn,18/Jul/19 5:07 PM,19/Nov/20 7:32 PM,28/Oct/23 2:21 AM,19/Nov/20 7:32 PM,,,,,,,,,,0,external,sdk-triaged,,,,"When using discovery to find out the number of peer nodes, I am getting count of 5 peers instead of 4. On checking the list of peers returned, I can see that the anchor peer is returned twice. I am using fabric version 1.4.2 and first-network sample. Following is the configuration:
{code:java}
channels:
  mychannel:
    orderers:
      - orderer.example.com

    peers:
      peer0.org1.example.com:
        endorsingPeer: true
        chaincodeQuery: true
        ledgerQuery: true
        eventSource: true
        discover: true

....
....

peers:
  peer0.org1.example.com:
    url: grpcs://192.168.14.245:7051
    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.http2.keepalive_time: 15
      hostnameOverride: peer0.org1.example.com
    tlsCACerts:
      path: /home/hyperledger/fabric-samples/first-network/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt

{code}
Java code:
{code:java}
Collection<Peer> peers = mychannel.getPeers();
int noOfPeers = peers.size();
{code}
Output:
{noformat}
Number of peers: 5
List: 
[
Peer{ id: 11, name: peer0.org2.example.com:9051, channelName: mychannel, url: grpcs://peer0.org2.example.com:9051}, 
Peer{ id: 13, name: peer1.org2.example.com:10051, channelName: mychannel, url: grpcs://peer1.org2.example.com:10051}, 
Peer{ id: 6, name: peer0.org1.example.com, channelName: mychannel, url: grpcs://192.168.14.245:7051}, 
Peer{ id: 10, name: peer0.org1.example.com:7051, channelName: mychannel, url: grpcs://peer0.org1.example.com:7051}, 
Peer{ id: 12, name: peer1.org1.example.com:8051, channelName: mychannel, url: grpcs://peer1.org1.example.com:8051}
]{noformat}
In the above result the Peer id: 6 and id: 10 are the same peer node.

By updating /etc/hosts file and updating the config I am currently able to get correct value.
{code:java}
192.186.14.245 peer0.org1.example.com
{code}
{code:java}
peers:
  peer0.org1.example.com:
    url: grpcs://peer0.org1.example.com:7051
    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.http2.keepalive_time: 15
      hostnameOverride: peer0.org1.example.com
    tlsCACerts:
      path: /home/thgy/work/hyperledger/fabric-samples/first-network/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt{code}
 ",,yeousunn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uf0:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yeousunn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fetching the latest configuration block of the system channel is not supported.,FABJ-461,41363,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,liurain,liurain,liurain,23/Jul/19 1:02 PM,19/Nov/20 8:34 PM,28/Oct/23 2:21 AM,19/Nov/20 8:34 PM,,,,,,,,,,0,external,sdk-triaged,,,,"I want to use the fabric-sdk-java to get the latest configuration block of the system channel. But I found that only one private method, Channel.getConfigurationBlock(), can get this block.",,bestbeforetoday,Coada,liurain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i00us4:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,Coada,liurain,,,,,,,,,,,,,,,,,"19/Nov/20 8:34 PM;bestbeforetoday;It is possible to call the {{GetConfigBlock}} transaction function on the {{cscc}} system chaincode to obtain the config block, passing the channel name as the only parameter. The implementation of this transaction function is here:


 [https://github.com/hyperledger/fabric/blob/47ac796cd668c4bf4c903882dd5986cb2a28b356/core/scc/cscc/configure.go#L294]

You may need to use the compiled protobuf definitions in the SDK to unmarshall the block response.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: sdk-java tests fail consistent on org.hyperledger.fabric.sdkintegration.IntegrationSuite,FABJ-462,41489,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,bestbeforetoday,vijaypunugubati,vijaypunugubati,30/Jul/19 3:17 AM,14/Aug/19 10:15 PM,28/Oct/23 2:21 AM,03/Aug/19 12:05 AM,v2.0.0,,,,v2.0.0,,,,,0,ci-blocker,,,,,"4 tests on sdk-java(org.hyperledger.fabric.sdkintegration.IntegrationSuite) failed to start with trouble in starting container peer0.org1.example.com.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:37:09.710 [ERROR] Tests run: 50, Failures: 4, Errors: 0, Skipped: 0, Time elapsed: 419.508 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
00:37:09.710 [ERROR] test01UserChannel(org.hyperledger.fabric.sdkintegration.UpdateChannelIT)  Time elapsed: 12.181 s  <<< FAILURE!
00:37:09.710 org.junit.ComparisonFailure: expected:<...rpcs://localhost:705[6]> but was:<...rpcs://localhost:705[1]>
00:37:09.710 	at org.hyperledger.fabric.sdkintegration.UpdateChannelIT.test01UserChannel(UpdateChannelIT.java:314)
00:37:09.710 
00:37:09.710 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endNodeIT)  Time elapsed: 29.636 s  <<< FAILURE!
00:37:09.710 java.lang.AssertionError: 
00:37:09.710 Not enough endorsers for instantiate :1endorser failed with error starting container: error building image: docker image build failed: docker build failed: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.
00:37:09.710 npm ERR! Unexpected end of JSON input while parsing near '...3w6WeBk3jqRzafNOpMV\n'
00:37:09.710 
00:37:09.710 npm ERR! A complete log of this run can be found in:
00:37:09.710 npm ERR!     /root/.npm/_logs/2019-07-29T10_09_25_482Z-debug.log
00:37:09.710 "". Was verified:false
00:37:09.710 	at org.hyperledger.fabric.sdkintegration.End2endNodeIT.setup(End2endNodeIT.java:51)
00:37:09.710 
00:37:09.710 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endAndBackAgainNodeIT)  Time elapsed: 0.486 s  <<< FAILURE!
00:37:09.710 java.lang.AssertionError: Peer peer0.org1.example.com is missing instantiated chaincode name: example_cc_node, path:null, version: 1
00:37:09.710 	at org.hyperledger.fabric.sdkintegration.End2endAndBackAgainNodeIT.setup(End2endAndBackAgainNodeIT.java:36)
00:37:09.710 
00:37:09.710 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endLifecycleIT)  Time elapsed: 18.496 s  <<< FAILURE!
00:37:09.710 java.lang.AssertionError: expected:<SUCCESS> but was:<FAILURE>
00:37:09.710 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.verifyByQueryNamespaceDefinitions(End2endLifecycleIT.java:654)
00:37:09.710 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.runChannel(End2endLifecycleIT.java:453)
00:37:09.711 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.runFabricTest(End2endLifecycleIT.java:239)
00:37:09.711 	at org.hyperledger.fabric.sdkintegration.End2endLifecycleIT.setup(End2endLifecycleIT.java:174)
00:37:09.711 
00:37:10.227 [INFO] 
00:37:10.227 [INFO] Results:
00:37:10.229 [INFO] 
00:37:10.229 [ERROR] Failures: 
00:37:10.229 [ERROR]   End2endAndBackAgainNodeIT.setup:36->End2endAndBackAgainIT.runFabricTest:253->End2endAndBackAgainIT.reconstructChannel:741 Peer peer0.org1.example.com is missing instantiated chaincode name: example_cc_node, path:null, version: 1
00:37:10.229 [ERROR]   End2endLifecycleIT.setup:174->runFabricTest:239->runChannel:453->verifyByQueryNamespaceDefinitions:654 expected:<SUCCESS> but was:<FAILURE>
00:37:10.229 [ERROR]   End2endNodeIT.setup:51->End2endIT.runFabricTest:209->End2endIT.runChannel:541 Not enough endorsers for instantiate :1endorser failed with error starting container: error building image: docker image build failed: docker build failed: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.
00:37:10.229 npm ERR! Unexpected end of JSON input while parsing near '...3w6WeBk3jqRzafNOpMV\n'
00:37:10.229 
00:37:10.229 npm ERR! A complete log of this run can be found in:
00:37:10.229 npm ERR!     /root/.npm/_logs/2019-07-29T10_09_25_482Z-debug.log
00:37:10.229 "". Was verified:false
00:37:10.230 [ERROR]   UpdateChannelIT.test01UserChannel:314 expected:<...rpcs://localhost:705[6]> but was:<...rpcs://localhost:705[1]>
00:37:10.230 [INFO] 
00:37:10.230 [ERROR] Tests run: 50, Failures: 4, Errors: 0, Skipped: 0/ code placeholder
{code}
 ** [https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/5912/consoleFull]

[*{color:#172b4d}+Build Logs:+{color}* https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/lastFailedBuild/|https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/lastFailedBuild/]",,andrew-coleman,bestbeforetoday,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15820,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ve3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,denyeart,vijaypunugubati,,,,,,,,dev,main,,,,,,true,"30/Jul/19 10:43 PM;vijaypunugubati;[~andrew-coleman] [~bestbeforetoday] Need help on this bug, builds are consistently failing with the above error.;;;","31/Jul/19 12:42 AM;denyeart;The more recent failures are due to:


{code:java}
02:59:40 [ERROR] Failures: 
02:59:40 [ERROR]   End2endLifecycleIT.setup:174->runFabricTest:239->runChannel:392->verifyBySimulateCommitChaincodeDefinitionStatus:639 expected:<SUCCESS> but was:<FAILURE>
02:59:40 [INFO] 
02:59:40 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0
{code}


This was caused by renaming of SimulateCommitChaincodeDefinition to CheckCommitReadiness in FAB-16092;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-end-2-end-daily-master-x86_64 job: Failed with error ""No endorsement plan available between chaincodes"" on ",FABJ-463,41615,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,vijaypunugubati,vijaypunugubati,03/Aug/19 1:34 AM,11/Sep/19 2:01 AM,28/Oct/23 2:21 AM,11/Sep/19 2:01 AM,v2.0.0,,,,v2.0.0,,,,,0,ci-failure,,,,,"**fabric-end-2-end-daily-master-x86_64 job: Failed with error ""No endorsement plan available between first and second chaincode on *fabric-sdk-node/test/integration/discovery test.*

This error was observed from ** the day 31st July 2019.

*Branch :* Master

*Platform :* x86_64
{code:java}
/00:58:12.665 ok 1165 ***** Invokes and Queries complete *****
00:58:12.686 ok 1166 Successfully got an error when the hint was not found Error: No endorsement plan available for {""chaincodes"":[{""name"":""shouldNotFindMe""}]}
00:58:12.705 ok 1167 Able to install chaincode second on the peer
00:58:40.099 ok 1168 Able to install chaincode second on the peer
00:58:43.180 ok 1169 ***** Second chaincode has been installed and started *****
00:58:43.181 not ok 1170 Failed to have received a good chaincode to chaincode endorsement ::Error: No endorsement plan available for {""chaincodes"":[{""name"":""first""},{""name"":""second""}]}
00:58:43.181   ---
00:58:43.181     operator: fail
00:58:43.181     at: test (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/discovery.js:338:5)
00:58:43.181     stack: |-
00:58:43.181       Error: Failed to have received a good chaincode to chaincode endorsement ::Error: No endorsement plan available for {""chaincodes"":[{""name"":""first""},{""name"":""second""}]}
00:58:43.181           at Test.assert [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
00:58:43.181           at Test.bound [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
00:58:43.181           at Test.fail (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)
00:58:43.181           at Test.bound [as fail] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
00:58:43.181           at test (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/discovery.js:338:5)
00:58:43.181           at process._tickCallback (internal/process/next_tick.js:68:7)
00:58:46.253   ...
00:58:46.253 not ok 1171 Failed to have received a good chaincode to chaincode endorsement with collections::Error: No endorsement plan available for {""chaincodes"":[{""name"":""first"",""collection_names"":[""detailCol"",""sensitiveCol""]},{""name"":""second"",""collection_names"":[""detailCol"",""sensitiveCol""]}]}
00:58:46.253   ---
00:58:46.253     operator: fail
00:58:46.253     at: test (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/discovery.js:362:5)
00:58:46.253     stack: |-
00:58:46.254       Error: Failed to have received a good chaincode to chaincode endorsement with collections::Error: No endorsement plan available for {""chaincodes"":[{""name"":""first"",""collection_names"":[""detailCol"",""sensitiveCol""]},{""name"":""second"",""collection_names"":[""detailCol"",""sensitiveCol""]}]}
00:58:46.254           at Test.assert [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:225:54)
00:58:46.254           at Test.bound [as _assert] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
00:58:46.254           at Test.fail (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:318:10)
00:58:46.254           at Test.bound [as fail] (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/node_modules/tape/lib/test.js:77:32)
00:58:46.254           at test (/w/workspace/fabric-end-2-end-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric-sdk-node/test/integration/discovery.js:362:5)
00:58:46.254           at process._tickCallback (internal/process/next_tick.js:68:7)
00:58:46.254   ...
00:58:46.255 ok 1172 End discovery testing/ code placeholder
{code}
*Build:* [https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-x86_64/181/console]

 

 ",,andrew-coleman,btl5037,denyeart,harrisob@us.ibm.com,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w3n:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,btl5037,denyeart,harrisob@us.ibm.com,vijaypunugubati,,,,,,,,,,,,,,,"11/Sep/19 2:01 AM;vijaypunugubati;Not observed in the recent builds;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tolerate Java 11,FABJ-464,41666,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,07/Aug/19 1:16 AM,20/Sep/19 12:57 AM,28/Oct/23 2:21 AM,14/Aug/19 7:09 PM,,,,,,,,,,0,,,,,,"*As a* client application developer
*I want* to use Java 11
*So that* I can take advantage of newer language features and JVM performance

Running with Java 11 fails since certain libraries (such as javax.xml.bind) are used internally by fabric-sdk-java and have been removed from the core Java libraries and packaged as separate modules. Suggest adding such libraries to the fabric-sdk-java module as explicit dependencies so that client application developers using Java 11 can build and run projects successfully with only a dependency on fabric-sdk-java.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wcz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer Roles don't appear to be processed when defined in a connection profile,FABJ-465,41760,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Won't Do,,davidkel,davidkel,13/Aug/19 9:32 PM,01/Nov/19 7:03 PM,28/Oct/23 2:21 AM,01/Nov/19 7:03 PM,v1.4.4,,,,v1.4.4,,,,,0,sdk-triaged,,,,,"Given a channel definition such as
{noformat}
""channels"": {
    ""mychannel"": {
        ""peers"": {
            ""peer0.org1.example.com"": {
                ""endorsingPeer"": false
            }
        }
    }
}
{noformat}
I defined the peer to be non-endorsing yet the following call
{code}
Collection<Peer> cpsd = c.getPeers(EnumSet.of(PeerRole.ENDORSING_PEER));
{code}
Still returns me the peer in mychannel which implies that this peer is still considered an endorsing peer even though the role definition in the ccp explicitly says it isn't",,davidkel,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wuj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 9:51 PM;heatherp;Hey, similar to my comment on FABJ-466, we're removing roles in v2.0.0 so removing that as an affected version;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When using a Connection Profile to define my network, I am unable to use discovery to determine the channel nodes",FABJ-466,41761,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,davidkel,davidkel,13/Aug/19 9:41 PM,01/Nov/19 7:03 PM,28/Oct/23 2:21 AM,01/Nov/19 7:03 PM,v1.4.4,,,,v1.4.4,,,,,0,sdk-triaged,,,,,"I have a Connection profile where I have defined a single peer and I want to use discovery to discover the channel information.

I create the NetworkConfig instance from this config and then call
{code}
Channel c = client.loadChannelFromConfig(""mychannel"", conf);
{code}
to create the channel configuration.
However I cannot find a way to initialise this channel and use discovery. It looks like the only way I can define a peer to be used in discovery is to programmatically add the peer to the channel definition, which defeats the object of using the connection profile to bootstrap the in memory representation of the network in the application.

I thought a way round it would be to add the peer role to the connection profile as follows
{noformat}
""channels"": {
    ""mychannel"": {
        ""peers"": {
            ""peer0.org1.example.com"": {
                ""serviceDiscovery"": true
            }
        }
    }
}
{noformat}
as the code looks like it might accept that as a role for a peer, however it looks like the sdk doesn't actually recognise any of the peer roles in the connection profile, see https://jira.hyperledger.org/browse/FABJ-465",,davidkel,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 9:48 PM;heatherp;Hey Dave, sorry this is a bit of a pain. We're removing roles in v2.0.0, so it shouldn't be a problem there. We think this is fixed by using ""service"" in replace of ""serviceDiscovery"" - can you give that a go? We've got an issue here for updating docs in v1.4.x for that here: https://jira.hyperledger.org/browse/FGJ-42;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK: Add DeliverWithPrivateData support for channel event,FABJ-467,41702,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Won't Do,,wenjian,wenjian,08/Aug/19 10:30 PM,19/Nov/20 8:03 PM,28/Oct/23 2:21 AM,19/Nov/20 8:03 PM,v2.0.0,,,,,,,,,0,external,sdk-triaged,,,,,,heatherp,lesleyannj,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12043,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i00wj7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,lesleyannj,wenjian,,,,,,,,,,,,,,,,,"22/Oct/19 7:19 PM;heatherp;Hi [~wenjian]- can we have some more detail with what is required from the java sdk please? We're not clear on what is required.;;;","19/Nov/20 8:03 PM;lesleyannj;More detail required.  Closing as no response in 12 months;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As a java SDK user I should not be required to edit NetworkConfig after creation to support TLS,FABJ-468,41780,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,aatkddny,aatkddny,14/Aug/19 4:14 AM,20/Nov/20 1:00 AM,28/Oct/23 2:21 AM,20/Nov/20 1:00 AM,,,,,,,,,,0,external,sdk-triaged,,,,"When an SDK user creates a network configuration using an external source requiring TLS it should be possible to set the configuration inside the json rather than having to edit the NetworkConfig after it has been loaded (created) without requiring the use of persistent storage to access certificates.

When defining orderers and peers in the NetworkConfig files - which are defined out of band - one must set properties ""pemBytes"", ""clientKeyBytes"" and ""clientCertBytes"" as byte[]. 

JsonObject doesn't support this, so the options are to edit the networkconfig after performing the .loadFrom... to add these properties, or to load them from files. 

The latter requires the certificates to be available as files, which may not always be the case to a client application. 

This differs from the behavior exhibited when loading the tlsCACerts.pem fields in the config, which accept a certificate string inline and converts it internally to the byte array.

See: NetworkConfigIT
See: NetworkConfig#getTLSCerts

Consistency here would be helpful for the SDK user. The ability to express these property byte arrays as a string in the same manner as tlsCACerts.pem would simplify integration.",,aatkddny,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wyj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aatkddny,lesleyannj,,,,,,,,,,,,,,,,,,"20/Nov/20 1:00 AM;lesleyannj;Closing - intended to be addressed under new Fabric Gateway work - see https://github.com/hyperledger/fabric-rfcs/pull/32;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: sdkintegration.End2endIT test failure ,FABJ-469,41790,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,bestbeforetoday,vijaypunugubati,vijaypunugubati,14/Aug/19 7:19 PM,10/Sep/19 2:25 AM,28/Oct/23 2:21 AM,10/Sep/19 2:25 AM,v2.0.0,,,,v2.0.0,,,,,0,ci-blocker,,,,,"sdkintegration.End2endIT tets failure in blockwalker:1011 expected github.com/example_cc but got null value.

We don't know when which commit introduced the first failure, but the first observed failure was 13th August.

Prior to this there was a problem with sdk-node which stopped end-to-end builds before executing the sdk-java test. As such, this failure was hidden.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:37:43.667 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 795.294 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
00:37:43.667 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endIT)  Time elapsed: 46.07 s  <<< FAILURE!
00:37:43.667 org.junit.ComparisonFailure: expected:<[github.com/example_cc]> but was:<[]>
00:37:43.667 	at org.hyperledger.fabric.sdkintegration.End2endIT.blockWalker(End2endIT.java:1011)
00:37:43.667 	at org.hyperledger.fabric.sdkintegration.End2endIT.runFabricTest(End2endIT.java:231)
00:37:43.667 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:190)
00:37:43.667 
00:37:44.082 [INFO] 
00:37:44.082 [INFO] Results:
00:37:44.082 [INFO] 
00:37:44.083 [ERROR] Failures: 
00:37:44.083 [ERROR]   End2endIT.setup:190->runFabricTest:231->blockWalker:1011 expected:<[github.com/example_cc]> but was:<[]>
00:37:44.083 [INFO] / code placeholder
{code}
*Build:* [https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/6111/consoleFull] ** 

 ",,andrew-coleman,bestbeforetoday,btl5037,denyeart,jyellick,vijaypunugubati,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x0j:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,btl5037,denyeart,jyellick,vijaypunugubati,wlahti,,,,,dev,main,,,,,,true,"14/Aug/19 11:12 PM;wlahti;[~bestbeforetoday] Can you take a look at this? ;;;","16/Aug/19 11:31 PM;wlahti;Chatted with Mark. A CR was recently merged to revert another CR that he believes was the root cause of this failure: [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/32959];;;","20/Aug/19 10:34 PM;vijaypunugubati;I see the above CR was merged, but still, this error is observed every day builds and it is consistent.
{code:java}
/00:39:24.942 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 850.785 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
00:39:24.943 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endIT)  Time elapsed: 48.793 s  <<< FAILURE!
00:39:24.943 org.junit.ComparisonFailure: expected:<[github.com/example_cc]> but was:<[]>
00:39:24.943 	at org.hyperledger.fabric.sdkintegration.End2endIT.blockWalker(End2endIT.java:1011)
00:39:24.943 	at org.hyperledger.fabric.sdkintegration.End2endIT.runFabricTest(End2endIT.java:231)
00:39:24.943 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:190)
00:39:24.943 
00:39:25.408 [INFO] 
00:39:25.408 [INFO] Results:
00:39:25.408 [INFO] 
00:39:25.408 [ERROR] Failures: 
00:39:25.408 [ERROR]   End2endIT.setup:190->runFabricTest:231->blockWalker:1011 expected:<[github.com/example_cc]> but was:<[]>
00:39:25.408 [INFO] 
00:39:25.408 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0/ code placeholder
{code};;;","27/Aug/19 3:22 AM;vijaypunugubati;It hit's on *fabric-ca*-merge-end-2-end-x86_64
{code:java}
/00:40:46.522 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 986.997 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
00:40:46.522 [ERROR] setup(org.hyperledger.fabric.sdkintegration.End2endIT)  Time elapsed: 78.127 s  <<< FAILURE!
00:40:46.522 org.junit.ComparisonFailure: expected:<[github.com/example_cc]> but was:<[]>
00:40:46.523 	at org.hyperledger.fabric.sdkintegration.End2endIT.blockWalker(End2endIT.java:1011)
00:40:46.523 	at org.hyperledger.fabric.sdkintegration.End2endIT.runFabricTest(End2endIT.java:231)
00:40:46.523 	at org.hyperledger.fabric.sdkintegration.End2endIT.setup(End2endIT.java:190)
00:40:46.523 
00:40:47.046 [INFO] 
00:40:47.046 [INFO] Results:
00:40:47.046 [INFO] 
00:40:47.046 [ERROR] Failures: 
00:40:47.046 [ERROR]   End2endIT.setup:190->runFabricTest:231->blockWalker:1011 expected:<[github.com/example_cc]> but was:<[]>
00:40:47.046 [INFO] 
00:40:47.048 [ERROR] Tests run: 50, Failures: 1, Errors: 0, Skipped: 0/ code placeholder
{code}
 ;;;","05/Sep/19 9:57 PM;wlahti;I've identified the root cause here. Working to identify the correct fix.;;;","06/Sep/19 12:42 AM;wlahti;After discussions with [~jyellick], the correct fix here is actually to update the End2endIT test to not check the chaincode path. The chaincode path only comes into play during the package/install portion of the LSCC chaincode flow. After Jason's recent endorser refactoring work, the proposal response now accurately reflects this and no longer sets the chaincode path in the chaincode id returned by instantiate/upgrade. The test can still check the name/version but the chaincode path check should be removed. ;;;","06/Sep/19 1:09 AM;bestbeforetoday;If this value is never going to be set, I'm wondering if we will avoid confusion for users by removing access to it from the Java API rather than just not testing for it. What do you think?;;;","06/Sep/19 2:17 AM;jyellick;The {{ChaincodeID}} is a message that is re-used in too many places, and often, most of the fields are ignored.  This was one of the reasons for creating the new lifecycle.  Allow me to summarize:

The {{ChaincodeID}} is used as part of the {{ChaincodeHeaderExtension}}, as well as part of the {{ChaincodeSpec}}.

The {{ChaincodeHeaderExtension}} only uses the {{ChaincodeID.name}} field.  In this case, because of happenstance in the code, the parameters passed for the {{version}} and {{path}} fields were being sent back to the user, but Fabric always ignored them.

The {{ChaincodeSpec}} is part of the {{ChaincodeDeploymentSpec}}, as well as the {{ChaincodeInvocationSpec}}.  
* The {{ChaincodeInvocationSpec}}'s {{ChaincodeSpec}} field as set by clients is always ignored.  The {{ChaincodeSpec}} is only referenced when this message is used for chaincode to chaincode calls in the chaincode protocol API.
* The {{ChaincodeDeploymentSpec}} is used both for packaging/install, and for instantation.  During packaging/install, all three fields of the {{ChaincodeSpec}} (name, version, path) are considered.  During instantiation, only the name and version are considered.

I don't defend it, in fact, I'd argue that it's a unnecessarily convoluted, but, hopefully this sheds a little bit of light on how these messages are used.

{quote}
If this value is never going to be set, I'm wondering if we will avoid confusion for users by removing access to it from the Java API rather than just not testing for it. What do you think?
{quote}

Agreed, any parameters which may be set, but which are ignored, seem like good candidates for removal.  If these protos were not re-used in so many different ways (notably, needing all three fields in the packaging case) I'd simply deprecate them in the messages.;;;","10/Sep/19 2:25 AM;denyeart;CR merged, closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java-master-merge job: java test failed on PeerEventServiceClient,FABJ-470,41793,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,vijaypunugubati,vijaypunugubati,14/Aug/19 8:17 PM,27/Aug/19 3:37 AM,28/Oct/23 2:21 AM,27/Aug/19 3:37 AM,v2.0.0,,,,v2.0.0,,,,,0,ci-failure,,,,,"fabric-sdk-java-master-merge job: java test failed on PeerEventServiceClient

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:23:21.408 2019-08-09 03:36:42,468 main DEBUG Channel:5695 - Channel foo successful sent to Orderer transaction id: 41b3ffc3dedb2b3170b16b28ba482a8b82157ddf08c3d85825d1eb5c620849c1
00:23:21.411 2019-08-09 03:36:42,470 grpc-default-executor-2 TRACE OrdererClient:212 - OrdererClient{id: 229, channel: foo, name: orderer.example.com, url: grpcs://localhost:7050} onComplete received.
00:23:26.511 2019-08-09 03:36:47,568 grpc-default-executor-4 TRACE PeerEventServiceClient:225 - DeliverResponse PeerEventServiceClient{id: 169, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} resp status value:0  status UNKNOWN, typecase BLOCK 
00:23:26.511 2019-08-09 03:36:47,568 grpc-default-executor-2 TRACE PeerEventServiceClient:225 - DeliverResponse PeerEventServiceClient{id: 154, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} resp status value:0  status UNKNOWN, typecase BLOCK 
00:23:26.511 2019-08-09 03:36:47,569 grpc-default-executor-4 TRACE PeerEventServiceClient:254 - PeerEventServiceClient{id: 169, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} got event block hex hashcode: 00000000fc8ed398, block number: 14
00:23:26.511 2019-08-09 03:36:47,570 grpc-default-executor-2 TRACE PeerEventServiceClient:254 - PeerEventServiceClient{id: 154, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} got event block hex hashcode: 00000000fc8ed398, block number: 14
00:23:26.512 2019-08-09 03:36:47,570 grpc-default-executor-4 TRACE Peer:610 - Peer{ id: 166, name: peer1.org1.example.com, channelName: foo, url: grpcs://localhost:7056, mspid: Org1MSP} last block seen: 14
00:23:26.512 2019-08-09 03:36:47,571 grpc-default-executor-2 TRACE Peer:610 - Peer{ id: 150, name: peer1.org1.example.com, channelName: foo, url: grpcs://localhost:7056} last block seen: 14
00:23:26.516 2019-08-09 03:36:47,572 grpc-default-executor-5 TRACE PeerEventServiceClient:225 - DeliverResponse PeerEventServiceClient{id: 224, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} resp status value:0  status UNKNOWN, typecase BLOCK 
00:23:26.516 2019-08-09 03:36:47,573 grpc-default-executor-5 TRACE PeerEventServiceClient:254 - PeerEventServiceClient{id: 224, channel: foo, peerName: peer1.org1.example.com, url: grpcs://localhost:7056} got event block hex hashcode: 00000000fc8ed398, block number: 14/ code placeholder
{code}
*Build:* [https://jenkins.hyperledger.org/view/Merge/job/fabric-sdk-java-master-merge-x86_64/40/consoleFull]",,andrew-coleman,bestbeforetoday,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,376837e90dfa5c7cfab3c1b48fe846c633dda84d,Unset,No,,,"1|i00x17:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-merge-end-2-end, fabric-sdk-java-master-merge jobs: org.hyperledger.fabric.sdk.NetworkConfigTest failed with overrides",FABJ-471,41940,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,vijaypunugubati,vijaypunugubati,21/Aug/19 11:02 PM,11/Sep/19 1:55 AM,28/Oct/23 2:21 AM,11/Sep/19 1:55 AM,v2.0.0,,,,,,,,,0,ci-failure,,,,,"org.hyperledger.fabric.sdk.NetworkConfigTest failed with testLoadFromConfigFileYamlNOOverrides

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:24:24.993 2019-08-21 13:30:42,445 main DEBUG Channel:704 - Channel foo mapping peer Peer{ id: 31, name: peer1.org1.example.com, channelName: foo, url: grpc://localhost:7056, mspid: Org1MSP} to mspid Org1MSP
00:24:25.007 [ERROR] Tests run: 20, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 0.885 s <<< FAILURE! - in org.hyperledger.fabric.sdk.NetworkConfigTest
00:24:25.008 [ERROR] testLoadFromConfigFileYamlNOOverrides(org.hyperledger.fabric.sdk.NetworkConfigTest)  Time elapsed: 0.213 s  <<< FAILURE!
00:24:25.008 java.lang.AssertionError: expected:<2> but was:<120000>
00:24:25.008 	at org.hyperledger.fabric.sdk.NetworkConfigTest.testLoadFromConfigFileYamlNOOverrides(NetworkConfigTest.java:304)/ code placeholder
{code}
{code:java}
/00:25:07.396 [INFO] Results:
00:25:07.396 [INFO] 
00:25:07.396 [ERROR] Failures: 
00:25:07.396 [ERROR]   NetworkConfigTest.testLoadFromConfigFileYamlNOOverrides:304 expected:<2> but was:<120000>
00:25:07.397 [INFO] 
00:25:07.397 [ERROR] Tests run: 436, Failures: 1, Errors: 0, Skipped: 5/ code placeholder
{code}
*Builds:*

*_[https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/6165/consoleFull]_*

**[https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-master-merge-x86_64/49/consoleFull]* * 

 ",,andrew-coleman,btl5037,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,eef82e29ed11b2028201a3f5576ae3e4a99b22f9,Unset,No,,,"1|i00xrn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,btl5037,vijaypunugubati,,,,,,,,,,,,,,,,,"21/Aug/19 11:05 PM;btl5037;[~andrew-coleman] [~bestbeforetoday] It looks like this bug was introduced by:

[https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33039]

Backing this change out removes the error, I've tested locally;;;","11/Sep/19 1:55 AM;vijaypunugubati;The above error was not observed in the recent builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Same orderer can be added multiple times to channel,FABJ-472,41966,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,Coada,Coada,22/Aug/19 7:04 PM,22/Oct/19 9:43 PM,28/Oct/23 2:21 AM,22/Oct/19 7:10 PM,v1.4.1,,,,,,,,,0,,,,,,"I have detected an issue where I am able to add the same orderer to a channel several times. The problem originates from Channel.java storing orderers as a {{LinkedList}} collection (see code [here|https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L172]). A list in Java allows duplicates, however it does not make sense to allow duplicate orderers in a channel. Peers are stored as a {{HashSet}}, which does not allow duplicates.

Having duplicate orderers in a channel leads to longer delays to perform transactions if the orderer is unreachable, as the channel will pick another orderer in the list that might be the same unreachable orderer.

*Edit*: I would recommend using a key/value collection where the key is the URL of the object. I managed to add two peer objects to the channel, where the peers have same URL but different names - this scenario also does not make sense.",,Coada,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xwr:",,,,Unset,Unset,,,,,,,"List<Orderer> orderers = ...;

Channel channel = hfClient.newChannel(""mychannel"", orderers.get(0), channelConfiguration, sign(channelConfiguration));

for (Orderer orderer : (Iterable<Orderer>) orderers::iterator) {
         channel.addOrderer(orderer);
}",,Unset,,,,,,Unset,,Unset,,(Please add usage information),Coada,heatherp,,,,,,,,,,,,,,,,,,"22/Oct/19 7:10 PM;heatherp;Hey [~Coada] this isn't how we intend for the low-level sdk to be used, and we won't be actioning a fix for this. We welcome PRs (when we move over to Github - hopefully this week!) so feel free to re-open with a commit if/when it suits you, thanks;;;","22/Oct/19 8:43 PM;Coada;Hi [~heatherp], thanks for bringing the Fabric SDK Java backlog back to life. I welcome the ability to submit PRs and perhaps I will start contributing to the project. Who knows, an action to this might be my first one :)

Keep up the good work!;;;","22/Oct/19 9:43 PM;heatherp;Thanks [~Coada] :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove StaticCollectionConfig,FABJ-473,42137,,Task,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,Coada,Coada,30/Aug/19 11:39 PM,19/Nov/20 8:21 PM,28/Oct/23 2:21 AM,,v1.4.1,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"Hello,

I've been trying to create a Private Data collection using the Fabric Java SDK. Creating a {{ChaincodeCollectionConfiguration}} however _requires_ me to add the property {{StaticCollectionConfig}}, or a {{ChaincodeCollectionConfigurationException}} is thrown. There is no documentation whatsoever about this property in [https://hyperledger-fabric.readthedocs.io/en/release-1.4/private-data-arch.html].

It seems that this property was removed in FAB-9202, so I would ask that this is removed in the Java SDK too or made clear why it is even needed.",,Coada,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-267,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z0b:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Coada,,,,,,,,,,,,,,,,,,,"31/Aug/19 3:39 AM;Coada;If you see description in FABJ-267, it has no notion of a ""StaticCollectionConfig"";;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in NetworkConfig Exception Message,FABJ-474,42154,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,SteveKIM,SteveKIM,SteveKIM,02/Sep/19 1:37 PM,07/Oct/19 9:44 AM,28/Oct/23 2:21 AM,07/Oct/19 9:44 AM,,,,,v1.4.4,v2.0.0,,,,0,,,,,,"I found a typo in the singular and plural form in an exception message

 

Original Message: 

""INTERNAL ERROR: orderers has already been initialized!""

""INTERNAL ERROR: peers has already been initialized!""

Suggestion:

""INTERNAL ERROR: orderers have already been initialized!""

""INTERNAL ERROR: peers have already been initialized!""",,SteveKIM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2306,,,No,,Unset,No,,,"1|i00z3v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),SteveKIM,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Removed unnecessary exclusion of fabric and protos jars in pom.xml,FABJ-475,42172,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,paranjan,paranjan,03/Sep/19 10:34 PM,12/Nov/19 11:05 PM,28/Oct/23 2:21 AM,12/Nov/19 11:05 PM,,,,,,,,,,0,sdk-triaged,,,,,"maven-javadoc-plugin and jacoco-maven-plugin does not contain fabric and protos jars. The exclusions are unnecessary in pom.xml.

 

CR provided.",,bestbeforetoday,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z7n:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,paranjan,,,,,,,,,,dev,main,,,,,,true,"03/Sep/19 10:41 PM;paranjan;Link to CR: https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33348;;;","04/Oct/19 10:01 PM;bestbeforetoday;I don't understand why we want to include tooling-generated internals in javadoc and code coverage. Please could you clarify?;;;","05/Oct/19 1:57 AM;paranjan;The CR is not trying to include any jar by removing exclusion declaration.

Its removing unnecessary exclusion from pom.xml, as the protos and fabric jars are not present in the javadoc and code coverage jars in the first place. So, the exclusion code is not doing anything.

In other words, the jars which are being excluded from parent jars are not even present in the parent jar. The exclusion code is not doing anything.

 ;;;","12/Nov/19 11:05 PM;bestbeforetoday;The submitted PR broke some build targets. Closing as no follow-up changes have been submitted for some time to address this. Please reopen if you want to progress this change.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improved language of javadoc - TransactionProposalRequest,FABJ-476,42166,,Documentation,Closed,FABJ,Fabric SDK Java,software,calanais,,,Lowest,Invalid,,paranjan,paranjan,03/Sep/19 2:35 AM,22/Oct/19 6:34 PM,28/Oct/23 2:21 AM,22/Oct/19 6:34 PM,,,,,,,,,,0,,,,,,"Transient map -may- can not be null.

 

CR Provided.",,heatherp,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z6j:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,paranjan,,,,,,,,,,,,,,,,,,"22/Oct/19 6:34 PM;heatherp;See comment in CR;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deleted and Ignored eclipse files,FABJ-477,42156,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,paranjan,paranjan,02/Sep/19 4:19 PM,17/Sep/19 5:54 PM,28/Oct/23 2:21 AM,17/Sep/19 5:54 PM,,,,,v2.0.0,,,,,0,,,,,,".settings, classpath, .project are eclipse and machine specific files. These would be different for everyone, and its presence creates error for others who import the project in their eclipse workspace. So, deleted these files, and also added these in .gitignore so that these are not committed by mistake again.

 

CR provided.",,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z4b:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,,,,,,,,,,,dev,main,,,,,,true,"02/Sep/19 9:09 PM;paranjan;Here is the link to the CR: [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33333]

Its very interesting to see CI build failing on removing eclipse configuration file.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-gateway-java + VSCode IBM Blockchain extention - Implementation of methods is unavailable,FABJ-478,42214,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Won't Do,,lquintai,lquintai,06/Sep/19 11:07 PM,22/Oct/19 7:15 PM,28/Oct/23 2:21 AM,22/Oct/19 7:15 PM,,,,,,,,,,0,,,,,,"Unable to find the source code, perhaps something missing to upload source as artefact.

When trying to follow the interfaces, instead of source code I get to :
Wallet.class
 // Failed to get sources. Instead, stub sources have been generated by the disassembler.
 // Implementation of methods is unavailable.
package org.hyperledger.fabric.gateway;
public abstract interface Wallet {
 
 public static org.hyperledger.fabric.gateway.Wallet createFileSystemWallet(java.nio.file.Path basePath) throws java.io.IOException {
 return null;
 }
 
 public static org.hyperledger.fabric.gateway.Wallet createInMemoryWallet() {
 return null;
 }
 
 public abstract void put(java.lang.String arg0, org.hyperledger.fabric.gateway.Wallet.Identity arg1) throws java.io.IOException;
 
 public abstract org.hyperledger.fabric.gateway.Wallet.Identity get(java.lang.String arg0) throws java.io.IOException;
 
 public abstract java.util.Set<java.lang.String> getAllLabels() throws java.io.IOException;
 
 public abstract void remove(java.lang.String arg0) throws java.io.IOException;
 
 public abstract boolean exists(java.lang.String arg0) throws java.io.IOException;
}",,heatherp,lquintai,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zer:",,,,Unset,Unset,,,,,,,"== relevant fields in build.gradle (Same results with testImplementation/implementation)
repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url 'https://jitpack.io'
    }
    maven {
        url 'https://oss.sonatype.org/content/repositories/snapshots/'
    }
    maven {
        url ""https://nexus.hyperledger.org/content/repositories/snapshots/""
    }
}

dependencies {
    compile group: 'org.hyperledger.fabric-chaincode-java', name: 'fabric-chaincode-shim', version: '1.4.2'
    compile group: 'org.json', name: 'json', version: '20180813'
    testImplementation 'org.junit.jupiter:junit-jupiter:5.4.2'
    testImplementation 'org.assertj:assertj-core:3.11.1'
    testImplementation 'org.mockito:mockito-core:2.+'
    testImplementation 'org.hyperledger.fabric-gateway-java:fabric-gateway-java:1.4.0-SNAPSHOT'
}

== In MyClassTest.java test file:
import org.hyperledger.fabric.gateway.*;
import java.nio.file.Path;
import java.nio.file.Paths;

public final class MyClassTest {
    Path walletPath = Paths.get(""some"", ""path"");
    Wallet fabricWallet = Wallet.createFileSystemWallet(walletPath);
    ...
}",,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,lquintai,,,,,,,,,,,,,,,,,,"22/Oct/19 7:15 PM;heatherp;As discussed with Leonor - we're not actioning this but we welcome people re-opening issues if they feel strongly otherwise;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for Go Modules,FABJ-479,42230,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,btl5037,btl5037,09/Sep/19 11:59 AM,21/May/21 6:24 PM,28/Oct/23 2:21 AM,21/May/21 6:24 PM,v2.0.0,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,Fabric recently removed the shim from CCENV and added support for modules. CI is now blocked by this change and needs to add support for Go Modules,,bestbeforetoday,btl5037,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zib:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,btl5037,MHBauer,,,,,,,,,dev,main,,,,,,true,"10/Sep/19 2:13 AM;btl5037;[https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33405/2]

[https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33406/3]

https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33407/3;;;","10/Sep/19 2:14 AM;btl5037;The changes above, add the explicit vendoring of chaincode dependencies. This fixes the known issues in the SDK with regards to CI. The SDK still needs to adopt an appropriate chaincode packaging model. The simple tarballing of the chaincode directory does not follow the Fabric model for managing Go chaincode. Please reach out to Matt Sykes to get an idea of the work he is doing to fix the same issue in the Node SDK;;;","17/Apr/20 2:57 PM;MHBauer;Is this issue still relevant? I do not understand how go modules interact with the Java SDK.;;;","21/May/21 6:24 PM;bestbeforetoday;Strategic direction is to use CLI commands for admin operations so won't invest resources in SDK support for chaincode deployment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
config NettyChannelBuilderOption in connection-profile failed,FABJ-480,42235,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,jbazil,ymlbright,ymlbright,09/Sep/19 9:51 PM,26/Aug/21 11:40 PM,28/Oct/23 2:21 AM,26/Aug/21 11:40 PM,v1.4.2,,,,,,,,,2,community-help-wanted,external,sdk-triaged,,,"In connection-profile.yaml, I can define some grpc option in it, for example hostname override:
{code:java}
version: 1.0.0
peers:
  peer0.org1.example.com:7050:
    url: grpcs://127.0.0.1:7050
    tlsCACerts:
      pem: |
        [Certificate]
    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
{code}
When I try to define NettyChannelBuilderOption in connection-profile.yaml, an error occured.

The network config is:
{code:java}
version: 1.0.0 
peers: 
  peer0.org1.example.com:7050:
    url: grpcs://127.0.0.1:7050
    tlsCACerts:
      pem: |
        [Certificate]
    grpcOptions:
      ssl-target-name-override: peer0.org1.example.com
      grpc.NettyChannelBuilderOption.maxInboundMessageSize: !!int 104857600
{code}
and the error log is:
{code:java}
20:33:38,857 ERROR - org.hyperledger.fabric.sdk.Endpoint - java.lang.NoSuchMethodException: io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(java.lang.String)20:33:38,857 ERROR - org.hyperledger.fabric.sdk.Endpoint - java.lang.NoSuchMethodException: io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(java.lang.String)20:33:38,857 ERROR - com.hyperledger.fabric.sdk.WriteHandler - exceptionjava.lang.RuntimeException: java.lang.NoSuchMethodException: io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(java.lang.String) at org.hyperledger.fabric.sdk.Endpoint.<init>(Endpoint.java:289) at org.hyperledger.fabric.sdk.Endpoint.createEndpoint(Endpoint.java:487) at org.hyperledger.fabric.sdk.Peer.setTLSCertificateKeyPair(Peer.java:458) at org.hyperledger.fabric.sdk.Channel.addPeer(Channel.java:661) at org.hyperledger.fabric.sdk.NetworkConfig.reconstructChannel(NetworkConfig.java:701) at org.hyperledger.fabric.sdk.NetworkConfig.loadChannel(NetworkConfig.java:478)
{code}
 

The reason is that the value of `Properties` is String always, so it failed when reflect methods of NettyChannelBuilder.

 

I have read the document of sdk, and found that I can define it in [the code like this](https://github.com/hyperledger/fabric-sdk-java/blob/8044bac1bfe9baf9d6360b067e0d6b5445cc953d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L836), but is there some(another correct) way to define NettyChannelBuilderOption in config file?

 ",,alextop,bestbeforetoday,jbazil,lesleyannj,ymlbright,,,,,,,,,,,,,,,,,,,,,,,FABJ-490,FABJ-507,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zjf:",,,,Unset,Unset,,,,,,,"1. Add option 'grpc.NettyChannelBuilderOption.maxInboundMessageSize' in connection-profile.yaml
2. Load network config use NetworkConfig.fromYamlFile(file)
3. Load `Channel` from config and initialize it",,Unset,,,,,,Unset,,Unset,,(Please add usage information),alextop,bestbeforetoday,jbazil,lesleyannj,ymlbright,,,,,,,dev,main,,,,,,true,"20/Nov/20 12:59 AM;lesleyannj;Intended to be addressed under new Fabric Gateway work - see https://github.com/hyperledger/fabric-rfcs/pull/32;;;","30/Jul/21 10:08 AM;jbazil;Still actual for 2.2, created pull requet [https://github.com/hyperledger/fabric-sdk-java/pull/140,] please take a look;;;","23/Aug/21 7:27 PM;jbazil;[~bestbeforetoday], [~denyeart] Hello guys, excuse my disturbing you. Could you please take a look at merge request? This issue is real blocker for our team.;;;","26/Aug/21 11:40 PM;bestbeforetoday;Released in [v2.2.8|https://github.com/hyperledger/fabric-sdk-java/releases/tag/v2.2.8];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
memberOnly* ignored for StaticCollectionConfig,FABJ-481,42281,,Story,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Low,,,Coada,Coada,10/Sep/19 5:06 PM,19/Nov/20 8:07 PM,28/Oct/23 2:21 AM,,,,,,v2.0.0,,,,,0,community-help-wanted,external,sdk-triaged,,,"Currently creating a private data collection using the Java SDK ignores any {{memberOnlyRead}} or {{memberOnlyWrite}} attributes that can be added to the {{StaticCollectionConfig}} (see proto code [here|https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/proto/common/collection.proto]).

The implication of this is that only private data collections can be created that allow the data to be accessed by non-org members.

The simplest scenario for this is a channel with one peer, however two organizations are part of the channel. A private data collection is then created on the peer which only allows one of the organizations to be part of, however the second organization is able to query this peer for collection data.

The fix needs to be done in the builder for the {{ChaincodeCollectionConfiguration}} (see code [here|https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/ChaincodeCollectionConfiguration.java#L242]).",,Coada,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11409,FAB-13581,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zsz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Coada,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update grade dependency in test chaincode,FABJ-483,42443,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,21/Sep/19 12:10 AM,25/Sep/19 8:11 PM,28/Oct/23 2:21 AM,25/Sep/19 8:11 PM,,,,,,,,,,0,,,,,,The version of *com.github.johnrengelman.shadow* in _src/test/fixture/sdkintegration/javacc/sample1/build.gradle_ needs to be updated to *5.1.0* to match a gradle upgrade in the chaincode container.,,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010kr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
keepAliveWithoutCalls grpcOptions enhancement in NetworkConfig.java,FABJ-484,42487,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,KyoungsunPark,KyoungsunPark,KyoungsunPark,25/Sep/19 4:06 PM,04/Oct/19 10:26 PM,28/Oct/23 2:21 AM,30/Sep/19 5:25 PM,,,,,v2.0.0,,,,,0,,,,,,"When trying to load the channel, keepalive_time_ms and keepalive_timeout_ms under grpcOptions of orderers and peer in network-config.yaml can be set like below.
    grpcOptions:
       grpc.keepalive_time_ms: 360000
       grpc.keepalive_timeout_ms: 180000
  
 In NetworkConfig.java, these options are converted to grpc.NettyChannelBuilderOption.keepAliveTime and grpc.NettyChannelBuilderOption.keepAliveTimeout.
  
 But in order to set keepAliveWithoutCalls option,
 grpc.NettyChannelBuilderOption.keepAliveWithoutCalls option should be set.
  
 For the consistency, I suggest that grpc.keepalive_without_calls option is better than grpc.NettyChannelBuilderOption.keepAliveWithoutCalls.
  ",,KyoungsunPark,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-489,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2306,,,No,,Unset,No,,,"1|i010sz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KyoungsunPark,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run the builds on Windows,FABJ-485,42511,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,davidkel,davidkel,26/Sep/19 10:17 PM,09/Oct/19 9:30 PM,28/Oct/23 2:21 AM,09/Oct/19 9:30 PM,,,,,,,,,,0,,,,,,With the imminent move to azure pipelines there is an opportunity to run the builds against more than just ubuntu/linux on intel. The first thought would be to run the builds on native windows,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010x7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric-sdk-java to azure pipelines/github,FABJ-486,42522,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,andrew-coleman,heatherp,heatherp,27/Sep/19 7:33 PM,27/Nov/19 8:51 PM,28/Oct/23 2:21 AM,27/Nov/19 8:51 PM,,,,,v1.4.4,v2.0.0,,,,0,sdk-triaged,,,,,"* Migrate from jenkins to azure pipelines for CI
 * Move to Github pull requests for code changes
 * Ensure this move is circulated with maintainers where relevant
 * Move both release-1.4 and master
 * Update any contributing guidelines to explain how to contribute using these tools",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FGJ-52,,,No,,Unset,No,,,"1|i010zn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,dev,main,,,,,,true,"27/Nov/19 8:51 PM;heatherp;I'm closing this, because we've done everything in the list above.
What we haven't done is enabled publishing via azure, which I've raised here: https://jira.hyperledger.org/browse/FABJ-501
That should include removing the Jenkinsfile completely, then jenkins/gerrit references can be truly dead;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java sdk master tests using incompatible java chaincode version,FABJ-487,42591,,Test Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,heatherp,heatherp,02/Oct/19 10:16 PM,04/Oct/19 10:03 PM,28/Oct/23 2:21 AM,04/Oct/19 10:03 PM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,"The Java sdk merge tests on the master branch are running against both master and 1.4 release versions of fabric. The tests run against release-1.4 fabric are failing due to using an incompatible java chaincode version, causing them to fail - we don't need to be testing java chaincode in this way, so this needs fixing",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FGJ-52,,,No,,Unset,No,,,"1|i011bv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Acceptance Test,,(Please add usage information),heatherp,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure coverage / checkstyle is set up correctly,FABJ-488,42593,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,heatherp,heatherp,02/Oct/19 10:23 PM,19/Nov/20 8:21 PM,28/Oct/23 2:21 AM,19/Nov/20 8:21 PM,,,,,,,,,,0,sdk-triaged,,,,,,,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011cb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java-master-merge job: maven checkstyle fail.,FABJ-489,42597,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Duplicate,,vijaypunugubati,vijaypunugubati,03/Oct/19 2:20 AM,04/Oct/19 10:26 PM,28/Oct/23 2:21 AM,04/Oct/19 10:26 PM,v2.0.0,,,,v2.0.0,,,,,0,ci-failure,,,,,"Maven checkstyle fail in violation of code style leads to build failure in the master branch.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/00:15:59.440 [INFO] 
00:15:59.440 [INFO] --- maven-checkstyle-plugin:3.0.0:check (compile) @ fabric-sdk-java ---
00:16:06.687 [INFO] Starting audit...
00:16:06.688 [ERROR] /w/workspace/fabric-sdk-java-master-merge-x86_64/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java:857:97: '{' is followed by whitespace. [NoWhitespaceAfter]
00:16:06.688 Audit done.
00:16:06.692 [INFO] ------------------------------------------------------------------------
00:16:06.692 [INFO] BUILD FAILURE
00:16:06.692 [INFO] ------------------------------------------------------------------------
00:16:06.693 [INFO] Total time: 36.368 s
00:16:06.693 [INFO] Finished at: 2019-10-01T13:59:04Z
00:16:06.961 [INFO] Final Memory: 52M/1048M
00:16:06.961 [INFO] ------------------------------------------------------------------------
00:16:06.961 [ERROR] Failed to execute goal org.apache.maven.plugins:maven-checkstyle-plugin:3.0.0:check (compile) on project fabric-sdk-java: Failed during checkstyle execution: There is 1 error reported by Checkstyle 6.18 with checkstyle-config.xml ruleset. -> [Help 1]/ code placeholder
{code}
*Build Logs:* 

*[https://jenkins.hyperledger.org/view/fabric-sdk-java/job/fabric-sdk-java-master-merge-x86_64/72/console]*",,andrew-coleman,bestbeforetoday,KyoungsunPark,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-484,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FGJ-52,,,No,a3576cd80ce3fea898100da00feb9e3bf1b44b42,Unset,No,,,"1|i011d7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,KyoungsunPark,vijaypunugubati,,,,,,,,,,,,,,,,"04/Oct/19 10:26 PM;bestbeforetoday;Resolved by CR [https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/33847];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Netty Option Type Mismatch When Using Network Config,FABJ-490,42689,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,jdfigure,jdfigure,09/Oct/19 11:41 PM,09/Oct/19 11:43 PM,28/Oct/23 2:21 AM,09/Oct/19 11:43 PM,v1.4.4,,,,,,,,,0,java-sdk,java-SDK,,,,"When setting Netty options using a network config file and setting an integer Netty config via `{{peers.grpcOptions}}` like `{{""grpc.NettyChannelBuilderOption.maxInboundMessageSize"": 123456}}` causes `{{java.lang.NoSuchMethodException: io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(java.lang.String)}}` . The `{{org.hyperledger.fabric.sdk.NetworkConfig#getJsonValue}}` is converting the integer to its string value. This causes `{{org.hyperledger.fabric.sdk.Endpoint#addNettyBuilderProps}}` to fail because it can't find the appropriate method.",,jdfigure,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-480,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011u3:",,,,Unset,Unset,,,,,,,"Using a network config file add the Netty grpc max inbound message size option to a peer:

```
""peers"" : {
    ""peer-0"" : {
      ""url"" : ""grpcs://peer-0:7051"",
      ""grpcOptions"" : {
        ""clientKeyFile"" : ""/blah.pem"",
        ""clientCertFile"" : ""/blahblah.pem"",
        ""grpc.NettyChannelBuilderOption.maxInboundMessageSize"" : 123456
      }
   }
}
```",,Unset,,,,,,Unset,,Unset,,(Please add usage information),jdfigure,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK should match Node SDK behaviour when doing discovery with localHost,FABJ-491,42711,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sstone1,lquintai,lquintai,10/Oct/19 10:43 PM,21/Oct/19 6:09 PM,28/Oct/23 2:21 AM,21/Oct/19 6:09 PM,,,,,,,,,,0,,,,,,"Currently in Node, on *a non TLS network* (like local fabric used by VSCode), we connect to the gateway like this:

const options: fabricNetwork.GatewayOptions = {
 discovery:

{ asLocalhost: true, <--- only true if there are some localhost URLs in the connection profile enabled: true, <--- always true }

,
 identity: identityName,
 wallet: fabricWallet,
 };

await gateway.connect(connectionProfile, options);

Ie., discovery is *enabled*, and if there are localhost URLs in the connection profile an extra flag is set to true - asLocalhost.
 In this non TLS network there is no need to add orderer/peer/CA information to /etc/hosts, and there is no need to add the orderer URL to the connection profile.

In Java however, there is currently no equivalent for the 'asLocalhost' flag. Therefore, when orderer URL not present in the connection profile, it defaults to *grpcs*, resulting the in following error:

.org.hyperledger.fabric.gateway.ContractException: Failed to send transaction to the orderer
 ... org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38).
 ....junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
 ...
 .junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)
 ...
 org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)
 ...
 Caused by: java.util.concurrent.ExecutionException: java.lang.Exception: Channel mychannel failed to place transaction 7fb11f77303d000c4496e7f8bb5f6da339ba347fe64b01bb9adc754ca8e71f25 on Orderer. Cause: UNSUCCESSFUL. 
 ...
 Caused by: java.lang.Exception: Channel mychannel failed to place transaction 7fb11f77303d000c4496e7f8bb5f6da339ba347fe64b01bb9adc754ca8e71f25 on Orderer. Cause: UNSUCCESSFUL. 
 ...
 Caused by: java.lang.Exception: Channel mychannel unsuccessful sendTransaction to orderer localhost:17053 (*grpcs://localhost:17053*).
 ...
 Caused by: org.hyperledger.fabric.sdk.exception.TransactionException: Channel mychannel, send transaction failed on orderer OrdererClient\{id: 6, channel: mychannel, name: localhost:17053, url: grpcs://localhost:17053}. Reason: UNAVAILABLE: io exception
 ...
 Caused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
 ...
 .Caused by: io.netty.handler.ssl.NotSslRecordException: *not an SSL/TLS record*: 000000040000000000 <----
 at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1137)
 at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1193)
 at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489)
 at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428)
 at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)
 at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
 at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
 at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)
 at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359)
 at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)
 at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)
 at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935)
 at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:138).
 at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)
 at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:580)
 at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:497)
 at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)
 at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)
 at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:138)
 ... 1 more",,lquintai,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011yb:",,,,Unset,Unset,,,,,,,"- Instantiate Java smart contract on a non TLS network
- Create a submit transaction test that connects to the network using org.hyperledger.fabric:fabric-gateway-java:1.4.1-SNAPSHOT or higher (currently only available from https://oss.sonatype.org/content/repositories/snapshots/)
- Set System.setProperty(Config.SERVICE_DISCOVER_AS_LOCALHOST, ""true""); (from org.hyperledger.fabric.sdk.helper.Config)
- Run the test.

",,Unset,,,,,,Unset,,Unset,,(Please add usage information),lquintai,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade log4j dependency to log4j 2.x,FABJ-492,42743,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,Vishal3152,Vishal3152,14/Oct/19 4:33 PM,19/Nov/20 8:21 PM,28/Oct/23 2:21 AM,19/Nov/20 8:21 PM,,,,,,,,,,1,external,sdk-triaged,,,,"Log4j 1.x had reached end of life.

Fabric-sdk-java dependency on the log4j 1.x prevents parent project from using log4j2.",,dcrough13,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0124r:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dcrough13,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Having different values for Org Name and (MSP) ID causes SDK to fail with ""Expected to find organization matching user context's mspid: ...""",FABJ-493,42745,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,denyeart,ivanovv,ivanovv,14/Oct/19 9:35 PM,20/Nov/20 12:57 AM,28/Oct/23 2:21 AM,20/Nov/20 12:57 AM,v1.4.4,,,,,,,,,0,external,sdk-triaged,,,,"The function:

Channel::getConfigUpdateAnchorPeers

contains the code:

_ConfigGroup.Builder channelGroupBuild = configBuilderUpdate.getChannelGroup().toBuilder();_
 _Map<String, ConfigGroup> groupsMap = channelGroupBuild.getGroupsMap();_
 _ConfigGroup.Builder application = *groupsMap.get(""Application"")*.toBuilder();_
 _final String mspid = userContext.*getMspId*();_
 _ConfigGroup peerOrgConfigGroup = application.getGroupsMap().get(mspid);_

that actually checks *MspId* of the Org of the Current user against the (Application) *Name* of the Org.

The last config block Application group looks like:

groups {
  key: ""*Application*""
  value {
    version: 1
    groups {
      key: ""*Orderer*""
      value {
        values {
        key: ""MSP""
        value {
          value: ""\022\317)\n\n*OrdererMSP*\022\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\nB\016\n\004SHA2\022\006SHA256J\357\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\nZ\324\033\b\001\022\362\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\006client\032\360\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\004peer\""\361\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\005admin*\363\006\n\347\006-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\n\022\aorderer""
          mod_policy: ""Admins""
        }
     }
...
    }
  }
  groups {
    key: ""*Org1*""
    value {
      values {
        key: ""MSP""
        value {
          value: ""\022\243,\n\f*Org1MSP*\022\240\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----...""
          mod_policy: ""Admins""
        }
      }
...
    }
  }
 groups {
 key: ""*Org2*""
 value {
 values {
 key: ""MSP""
 value {
 value: ""\022\335+\n\n*Org2MSP*\022\224\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----...""
 mod_policy: ""Admins""
 }
 }
...
 }
 }
 groups {
 key: ""*Org3*""
 value {
 values {
 key: ""MSP""
 value {
 value: ""\022\335+\n\n*Org3MSP*\022\224\a-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----...""
 mod_policy: ""Admins""
 }
 }
...
 }
 }
...
 }
 }

 

 ",,ivanovv,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01257:",,,,Unset,Unset,,,,,,,"1. Using configtx.yaml with the following:
Organizations:
    - &OrdererOrg
...
    - &org1
        Name: Org1
        ID: Org1MSP
..

2. Bootstrap the network and create channel.
3. Join Peer X (from org1)
4. Trying to make Peer X an Anchor peer for org1:
Channel.AnchorPeersConfigUpdateResult configUpdateAnchorPeers =
  myChannel.getConfigUpdateAnchorPeers(
    org1peer, 
    org1user,						 
    org1peerurl), 
 null);
5. Get:
Expected to find organization matching user context's mspid: Org1MSP, but only found Org1, Org2, Org3.
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ivanovv,lesleyannj,,,,,,,,,,,,,,,,,,"18/Oct/19 9:20 PM;ivanovv;Hi David,

I'm curious about your opinion on this (for me) bug.

Best regards,

Venko;;;","20/Nov/20 12:57 AM;lesleyannj;Closing - intended to be addressed under new Fabric Gateway work - see https://github.com/hyperledger/fabric-rfcs/pull/32;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Javadoc build fails using Java 11,FABJ-494,42811,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,18/Oct/19 7:55 PM,18/Oct/19 10:02 PM,28/Oct/23 2:21 AM,18/Oct/19 10:02 PM,,,,,,,,,,0,,,,,,,,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012fv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
channel information is not update correctly,FABJ-495,42914,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,nnao,nnao,nnao,22/Oct/19 12:15 AM,19/Nov/20 7:36 PM,28/Oct/23 2:21 AM,19/Nov/20 7:36 PM,v1.4.4,v2.0.0,,,v2.0.0,,,,,0,external,sdk-triaged,,,,"I got an error like below when a peer down.
 
{code:java}
 Exception in thread ""main"" java.util.concurrent.ExecutionException: java.lang.Exception: Channel mychannel failed to place transaction 333103e3d479ca740de755f1a831c94b2584714b9e11f0a0e60c674a2294040f on Orderer. Cause: UNSUCCESSFUL.
         at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)
         at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1895)
 {code}
 
I supposed fullNetworkDiscovery() didn't update channel information correctly.
 When discoverEndorserEndpoints() occur an exception, channel.sdUpdate() is skipped and
 didn't update channel object. As a result, we got the above error.
 
Also, discoverEndorserEndpoints() try to discover all peers randomly.
 But an exception happens when the last peer down only. because discoverEndorserEndpoints()
 clear serviceDiscoveryException variable which store error every loop.",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012k3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,"22/Oct/19 1:06 AM;nnao;[https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/34038];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
discoverEndorserEndpoints() not keep errors,FABJ-496,42915,42914,Sub-task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,nnao,nnao,nnao,22/Oct/19 12:33 AM,23/Oct/19 9:22 PM,28/Oct/23 2:21 AM,23/Oct/19 9:22 PM,v1.4.4,v2.0.0,,,v1.4.4,v2.0.0,,,,0,sdk-triaged,,,,,"discoverEndorserEndpoints() try to discover all peers randomly.
But an exception happens when the last peer down only. because discoverEndorserEndpoints()
clear serviceDiscoveryException variable which stores error every loop.",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012kb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,"22/Oct/19 1:06 AM;nnao;[https://gerrit.hyperledger.org/r/c/fabric-sdk-java/+/34039];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release Fabric SDK Java v1.4.6,FABJ-497,43209,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,andrew-coleman,heatherp,heatherp,07/Nov/19 7:06 PM,14/Nov/19 8:35 PM,28/Oct/23 2:21 AM,14/Nov/19 8:35 PM,,,,,,,,,,0,sdk-triaged,,,,,,,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0142b:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ApplicationPolicy references,FABJ-498,43239,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Invalid,,caod,caod,09/Nov/19 12:49 AM,22/Nov/19 1:39 AM,28/Oct/23 2:21 AM,22/Nov/19 1:39 AM,v2.0.0,,,,,,,,,0,sdk-triaged,,,,,"As part of FAB-15066, the proto for {{peer.ApplicationPolicy}} will move from {{peer}} package to {{common}} to prevent future import cycles. The peer type has been left alone but marked as deprecated and new/existing references will need to use the new {{common.ApplicationPolicy}} type.

 

[https://github.com/hyperledger/fabric-protos/pull/15]",,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0148b:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,,,,,,,,,"22/Nov/19 1:39 AM;caod;Withdrawing this since we'll be updating the protos by instead moving {{common/collection.proto}} to {{peer/collection.proto}} rather than moving ApplicationPolicy from peer to common. Opening up FABJ-500 instead and closing this. See FAB-17120 and associated fabric-protos PR [https://github.com/hyperledger/fabric-protos/pull/17|https://github.com/hyperledger/fabric-protos/pull/17/files];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ServiceDiscovery.run() does not terminate thread executor.,FABJ-499,43362,,Bug,In CR Review,FABJ,Fabric SDK Java,software,calanais,,,Medium,,tommy-park,tommy-park,tommy-park,18/Nov/19 3:45 PM,27/Jan/21 11:34 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,external,sdk-triaged,,,,"ServiceDiscovery.run() has same memory leak problem with FABJ-389.
  
 The codes which have the problem are:
  
{code:java}
void run() {
...
       if (seviceDiscovery == null) {
            seviceDiscovery = Executors.newSingleThreadScheduledExecutor(r -> {
               Thread t = Executors.defaultThreadFactory().newThread(r);
               t.setDaemon(true);
               return t;
           }).scheduleAtFixedRate(() -> {
                logger.debug(format(“Channel %s starting service rediscovery after %d seconds.“, channelName, SERVICE_DISCOVER_FREQ_SECONDS));
               fullNetworkDiscovery(true);
            }, SERVICE_DISCOVER_FREQ_SECONDS, SERVICE_DISCOVER_FREQ_SECONDS, TimeUnit.SECONDS);
       }
    }{code}
 
  
 which can be:
{code:java}
...
   private transient ScheduledExecutorService serviceDiscoveryExecutorService;
...
   void run() {
...
       if (seviceDiscovery == null) {
           serviceDiscoveryExecutorService = Executors.newSingleThreadScheduledExecutor(r -> {
               Thread t = Executors.defaultThreadFactory().newThread(r);
               t.setDaemon(true);
               return t;
           });
           seviceDiscovery = serviceDiscoveryExecutorService.scheduleAtFixedRate(() -> {
               logger.debug(format(“Channel %s starting service rediscovery after %d seconds.“, channelName, SERVICE_DISCOVER_FREQ_SECONDS));
               fullNetworkDiscovery(true);
           }, SERVICE_DISCOVER_FREQ_SECONDS, SERVICE_DISCOVER_FREQ_SECONDS, TimeUnit.SECONDS);
       }
   }
...
   void shutdown() {
       logger.trace(“Service discovery shutdown.“);
       try {
           final ScheduledFuture<?> lseviceDiscovery = seviceDiscovery;
           seviceDiscovery = null;
           if (null != lseviceDiscovery) {
               lseviceDiscovery.cancel(true);
           }
           ScheduledExecutorService lsde = serviceDiscoveryExecutorService;
           serviceDiscoveryExecutorService = null;
           if (null != lsde) {
               lsde.shutdownNow();
           }
       } catch (Exception e) {
           logger.error(e);
           //best effort.
       }
   }       {code}
 
  
  
  ",,bestbeforetoday,lesleyannj,tommy-park,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:if",,,,Unset,Unset,,,,,,,"1. Configure fabric-sdk-java to use service discovery.
2. Use Channel and call Channel.shutdown()
3. jstack reports some threads as TIMED_WAITING, becoming WAITING soon and does not disappear.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,lesleyannj,tommy-park,ymlbright,,,,,,,,,,,,,,,,"27/Nov/19 10:56 PM;bestbeforetoday;Thank you for the issue report. Your solution looks reasonable, although I would prefer the use of an AtomicReference rather than a transient variable. You could submit a pull request with your fix against the GitHub repository (master branch) here: [https://github.com/hyperledger/fabric-sdk-java];;;","28/Nov/19 12:30 PM;tommy-park;[~bestbeforetoday] Thanks for the answer. The suggested code are just a copy of the commit [https://github.com/hyperledger/fabric-sdk-java/commit/c30a34e9ad639d763701aa4ef1f970437b490bd9], and I didn`t write any patch or test yet. Could you make a patch that makes sense more?;;;","20/Dec/19 3:48 PM;tommy-park;I just submitted the pull request to the master branch. And I am wondering if I have to make same separate request on the branch release-1.4, since I am using version 1.4.0 on the production so upgrading to upcoming 2.0 would be a big change. I’d like to know the release plan of 2.0, or 1.4.7(might be better for me), if you have any.;;;","20/Dec/19 7:06 PM;bestbeforetoday;Thank you for the contribution! We like to get fixes into the _master_ branch first but then the changes that should also go into _release-1.4_ need to be cherry-picked to the _release-1.4_ branch and submitted as a separate pull request.;;;","20/Dec/19 8:53 PM;bestbeforetoday;I think v2.0 is currently targeted for release around February 2020, but date not yet confirmed. There is no particular schedule for 1.4.x releases; just whenever we have enough fixes that we want to get out into a release.;;;","27/Jan/21 11:34 PM;lesleyannj;[~tommy-park] Reviewing backlog - what is the latest status of this jira?  Can it be closed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update collection.proto message references,FABJ-500,43415,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,caod,caod,22/Nov/19 1:33 AM,25/Nov/19 8:28 PM,28/Oct/23 2:21 AM,25/Nov/19 8:28 PM,v2.0.0,,,,v2.0.0,,,,,0,,,,,,"As part of FAB-17120 the collection.proto was moved from {{common}} to {{peer}} to prevent future import cycles. All messages in the old {{common/collection.proto}} have been marked as deprecated and the following type references will need to be updated:

{{common.CollectionConfigPackage -> peer.CollectionConfigPackage}}

{{common.CollectionConfig -> peer.CollectionConfig}}

{{common.StaticCollectionConfig -> peer.StaticCollectionConfig}}

{{common.CollectionPolicyConfig -> peer.CollectionPolicyConfig}}

 

The {{common.ApplicationPolicy}} type that was introduced in FAB-15066 has also been deprecated so will need to be reverted back to {{peer.ApplicationPolicy}} if they aren't already:

common.ApplicationPolicy -> peer.ApplicationPolicy

 

See PR for reference

[https://github.com/hyperledger/fabric-protos/pull/17|https://github.com/hyperledger/fabric-protos/pull/15]",,bestbeforetoday,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0152z:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,caod,,,,,,,,,,dev,main,,,,,,true,"23/Nov/19 1:03 AM;bestbeforetoday;PR: [https://github.com/hyperledger/fabric-sdk-java/pull/26];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable publishing using azure,FABJ-501,43481,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,heatherp,heatherp,27/Nov/19 8:50 PM,19/Nov/20 8:22 PM,28/Oct/23 2:21 AM,19/Nov/20 8:22 PM,v1.4.4,v2.0.0,,,v1.4.4,v2.0.0,,,,0,sdk-triaged,,,,,"We're not yet publishing using azure, and we should be.
This work should also include removing the Jenkinsfile completely, so it's clear our CI is run using azure",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i015gb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Exception not logged,FABJ-502,43666,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,lesleyannj,lesleyannj,lesleyannj,10/Dec/19 11:47 PM,20/Dec/19 11:12 PM,28/Oct/23 2:21 AM,20/Dec/19 11:12 PM,,,,,,,,,,0,sdk-triaged,,,,,"Channel.sendTransaction has a few threads that can result than a completeExceptionally being returned but the error never being logged within the SDK code.

If the client application does not log the received completeExceptionally contents then the error can be lost rendering support activities difficult.

Suggest adding logger.error before the two  completeExceptionally returns.",,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0163v:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lesleyannj,,,,,,,,,,,dev,main,,,,,,true,"13/Dec/19 9:38 PM;lesleyannj;Decision taken to wrap the sendTransaction function so we can be sure to log any exception returned.

This change is being into master and release-1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ReadMe needs improving,FABJ-503,43748,,Documentation,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,bestbeforetoday,heatherp,heatherp,17/Dec/19 11:55 PM,10/Jan/20 1:06 AM,28/Oct/23 2:21 AM,10/Jan/20 1:06 AM,v1.4.0,v2.0.0,,,v1.4.0,v2.0.0,,,,0,sdk-triaged,,,,,Agreed with the current maintainers that the current ReadME needs a rework,,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i016jn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,dev,main,,,,,,true,"08/Jan/20 12:09 AM;heatherp;We'd like to encourage people to use the programming model gateway-java. Rather than re-write the entire readMe to be good, Mark has agreed to add a banner encouraging people to use gateway-java so assigning this to him.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add java SDK support for collection-level endorsement policies,FABJ-504,43750,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,denyeart,denyeart,18/Dec/19 12:35 AM,15/Jul/20 2:08 AM,28/Oct/23 2:21 AM,15/Jul/20 2:08 AM,,,,,v2.0.0,,,,,0,sdk-triaged,,,,,"As of Fabric v2.0, when defining a private data collection, it is now possible to include a collection-level endorsement policy, and include the collection name in the service discovery request. SDK needs to add support for specifying collection name in the service discovery endorsement request.",,denyeart,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1437,,,,,,FAB-15066,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzy5ak:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,heatherp,,,,,,,,,,,,,,,,,,"08/Jan/20 12:24 AM;heatherp;I think this is dependent on FAB-17279;;;","15/Jul/20 2:08 AM;denyeart;Looks like this already works since SDK can pass collection names to service discovery already, and the new collection EP support is automatically honored in Fabric v2.1 and above.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Dependency with known vulnerabilities,FABJ-505,43756,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,bestbeforetoday,dhuseby,dhuseby,18/Dec/19 3:37 AM,20/Dec/19 11:28 PM,28/Oct/23 2:21 AM,20/Dec/19 11:28 PM,,,,,,,,,,0,,,,,,"I received a report that the Java SDK has a dependency on: 

com.fasterxml.jackson.core:jackson-databind:jar:2.9.9.3:compile

Which has several CVE's describing known vulnerabilities:
|CVE-2019-17267|
|CVE-2019-16335|
|CVE-2019-14540|

This needs to be updated or removed.",,andrew-coleman,bestbeforetoday,ChristopherFerris,denyeart,dhuseby,mastersingh24,ryjones,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,andrew-coleman,bestbeforetoday,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i016kz:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),andrew-coleman,bestbeforetoday,ChristopherFerris,denyeart,dhuseby,mastersingh24,ryjones,,,,,,,,,,,,,"18/Dec/19 5:00 AM;mastersingh24;Where did this report come from?;;;","18/Dec/19 5:11 AM;ryjones;This is orthogonal to this report, but LGTM reports two:
https://lgtm.com/projects/g/hyperledger/fabric-sdk-java/?mode=list&tag=security;;;","18/Dec/19 5:23 AM;mastersingh24;I'm no maven expert, but here's the output of *maven clean install* on a simple app with a dependency on 1.4.6:

 
{noformat}
[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ my-app ---
[INFO] com.mycompany.app:my-app:jar:1.0-SNAPSHOT
[INFO] +- junit:junit:jar:4.11:test
[INFO] |  \- org.hamcrest:hamcrest-core:jar:1.3:test
[INFO] \- org.hyperledger.fabric-sdk-java:fabric-sdk-java:jar:1.4.6:compile
[INFO]    +- io.grpc:grpc-netty:jar:1.23.0:compile
[INFO]    |  +- io.grpc:grpc-core:jar:1.23.0:compile (version selected from constraint [1.23.0,1.23.0])
[INFO]    |  |  +- com.google.android:annotations:jar:4.1.1.4:compile
[INFO]    |  |  +- io.perfmark:perfmark-api:jar:0.17.0:compile
[INFO]    |  |  +- io.opencensus:opencensus-api:jar:0.21.0:compile
[INFO]    |  |  \- io.opencensus:opencensus-contrib-grpc-metrics:jar:0.21.0:compile
[INFO]    |  +- io.netty:netty-codec-http2:jar:4.1.38.Final:compile (version selected from constraint [4.1.38.Final,4.1.38.Final])
[INFO]    |  |  +- io.netty:netty-common:jar:4.1.38.Final:compile
[INFO]    |  |  +- io.netty:netty-buffer:jar:4.1.38.Final:compile
[INFO]    |  |  +- io.netty:netty-transport:jar:4.1.38.Final:compile
[INFO]    |  |  |  \- io.netty:netty-resolver:jar:4.1.38.Final:compile
[INFO]    |  |  +- io.netty:netty-codec:jar:4.1.38.Final:compile
[INFO]    |  |  +- io.netty:netty-handler:jar:4.1.38.Final:compile
[INFO]    |  |  \- io.netty:netty-codec-http:jar:4.1.38.Final:compile
[INFO]    |  \- io.netty:netty-handler-proxy:jar:4.1.38.Final:compile
[INFO]    |     \- io.netty:netty-codec-socks:jar:4.1.38.Final:compile
[INFO]    +- io.grpc:grpc-protobuf:jar:1.23.0:compile
[INFO]    |  +- io.grpc:grpc-api:jar:1.23.0:compile
[INFO]    |  |  +- io.grpc:grpc-context:jar:1.23.0:compile
[INFO]    |  |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile
[INFO]    |  |  \- org.codehaus.mojo:animal-sniffer-annotations:jar:1.17:compile
[INFO]    |  +- com.google.guava:guava:jar:26.0-android:compile
[INFO]    |  |  +- org.checkerframework:checker-compat-qual:jar:2.5.2:compile
[INFO]    |  |  \- com.google.j2objc:j2objc-annotations:jar:1.1:compile
[INFO]    |  +- com.google.api.grpc:proto-google-common-protos:jar:1.12.0:compile
[INFO]    |  \- io.grpc:grpc-protobuf-lite:jar:1.23.0:compile
[INFO]    +- io.grpc:grpc-stub:jar:1.23.0:compile
[INFO]    +- io.netty:netty-tcnative-boringssl-static:jar:2.0.26.Final:compile
[INFO]    +- com.google.protobuf:protobuf-java:jar:3.10.0:compile
[INFO]    +- com.google.protobuf:protobuf-java-util:jar:3.10.0:compile
[INFO]    |  +- com.google.errorprone:error_prone_annotations:jar:2.3.2:compile
[INFO]    |  \- com.google.code.gson:gson:jar:2.8.5:compile
[INFO]    +- org.bouncycastle:bcpkix-jdk15on:jar:1.63:compile
[INFO]    |  \- org.bouncycastle:bcprov-jdk15on:jar:1.63:compile
[INFO]    +- commons-logging:commons-logging:jar:1.2:compile
[INFO]    +- commons-cli:commons-cli:jar:1.4:compile
[INFO]    +- org.apache.commons:commons-compress:jar:1.19:compile
[INFO]    +- commons-io:commons-io:jar:2.6:compile
[INFO]    +- log4j:log4j:jar:1.2.17:compile
[INFO]    +- log4j:apache-log4j-extras:jar:1.2.17:compile
[INFO]    +- org.apache.httpcomponents:httpclient:jar:4.5.10:compile
[INFO]    |  +- org.apache.httpcomponents:httpcore:jar:4.4.12:compile
[INFO]    |  \- commons-codec:commons-codec:jar:1.11:compile
[INFO]    +- org.glassfish:javax.json:jar:1.1.4:compile
[INFO]    +- org.yaml:snakeyaml:jar:1.25:compile
[INFO]    +- org.miracl.milagro.amcl:milagro-crypto-java:jar:0.4.0:compile
[INFO]    |  \- org.apache.commons:commons-math3:jar:3.6.1:compile
[INFO]    +- javax.xml.bind:jaxb-api:jar:2.3.1:compile
[INFO]    |  \- javax.activation:javax.activation-api:jar:1.2.0:compile
[INFO]    \- javax.annotation:javax.annotation-api:jar:1.3.2:compile
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
{noformat};;;","18/Dec/19 8:48 PM;mastersingh24;[~bestbeforetoday] [~andrew-coleman]  can you have a look?;;;","19/Dec/19 2:31 AM;bestbeforetoday;*com.fasterxml.jackson.core:jackson-databind* does not appear in the dependency tree for either _release-1.4_ or _master_ branch. Please can you provide more information.;;;","20/Dec/19 4:19 AM;mastersingh24;[~dhuseby]  - can you provide more detail on where this came from?  We don't see this dependency in our tree;;;","20/Dec/19 11:10 PM;ryjones;I just searched all Hyperledger repos on GitHub (current head of default branch). The only projects using this are

# Quilt (heavily)
# Besu (somewhat)
# Composer
# Iroha

I don't see any reference otherwise. I think this report is spurious.;;;","20/Dec/19 11:28 PM;bestbeforetoday;OK, I'll close this for now. Please go ahead and reopen if there is new information.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SDK Java load grpc.NettyChannelBuilderOption.maxInboundMessageSize from yaml error,FABJ-507,43771,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,FinJmy,FinJmy,19/Dec/19 10:29 AM,19/Nov/20 7:41 PM,28/Oct/23 2:21 AM,19/Nov/20 7:41 PM,,,,,,,,,,0,config,external,sdk-triaged,,,"I config ""{color:#de350b}grpc.NettyChannelBuilderOption.maxInboundMessageSize{color}"" property in network-config.yaml

 

like this,

 
{code:java}
// code placeholder
orderers:
  orderer.example.com:
    url: grpc://localhost:7050
    grpcOptions:
      grpc.NettyChannelBuilderOption.maxInboundMessageSize: 1000000
{code}
 

 

then I send tx via SDK, it throws {color:#FF0000}NoSuchMethodException{color}: io.grpc.netty.NettyChannelBuilder.{color:#FF0000}maxInboundMessageSize(java.lang.String){color}

 

I read source code of NettyChannelBuilder, found that there only exist one method which is 

public T {color:#FF0000}maxInboundMessageSize(int max){color}

 

Why reflect method use String as param???

 

I found that SDK Java load properties in {color:#0747a6}src\main\java\org\hyperledger\fabric\sdk\NetworkConfig.java, {color:#172b4d}key method is {color:#de350b}setProperty(String key, String value){color} which load all properties as java.lang.String{color}{color}

 

 
{code:java}
// code placeholder
private static Properties extractProperties(JsonObject json, String fieldName) {
    Properties props = new Properties();

    // Extract any other grpc options
    JsonObject options = getJsonObject(json, fieldName);
    if (options != null) {

        for (Entry<String, JsonValue> entry : options.entrySet()) {
            String key = entry.getKey();
            JsonValue value = entry.getValue();
            props.setProperty(key, getJsonValue(value));
        }
    }
    return props;
}

public synchronized Object setProperty(String key, String value) { return put(key, value); }
{code}
 

I consider that properties load from network-config.yaml should not all be String.

It should be differentiated according to the situation

 ",,FinJmy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-480,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i016o3:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),FinJmy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java won't show chaincode error,FABJ-508,43793,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,icordoba,icordoba,24/Dec/19 7:45 AM,19/Nov/20 7:43 PM,28/Oct/23 2:21 AM,19/Nov/20 7:43 PM,,,,,,,,,,0,external,sdk-triaged,,,,"Even when throwing ChaincodeException in the java chaincode, Fabric SDK Java just checks if response is invalid (ProposalResponse.java line 271) and throws a 

InvalidArgumentException(""Proposal response is invalid."");

This should include the error message returned by grpc protocol so client app developer can show the corresponding log in the client application and does not relay on peer node internal logs to know what problem was in the chain code.",,icordoba,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i016tn:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),icordoba,lesleyannj,,,,,,,,,,,,,,,,,,"19/Nov/20 7:43 PM;lesleyannj;Addressed in Fabric Gateway Java.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel.sendTransactionProposalToEndorsers() requires ChaincodeID,FABJ-509,43953,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,11/Jan/20 1:04 AM,14/Jan/20 7:07 PM,28/Oct/23 2:21 AM,14/Jan/20 7:07 PM,,,,,v2.0.0,,,,,0,,,,,,"In v2.0, *ChaincodeID* is deprecated. Proposal requests may now use *setChaincodeName()* instead of *setChaincodeID()*. This works fine for the non-discovery case using *Channel.sendTransactionProposal()* but, in the discovery case using *Channel.sendTransactionProposalToEndorsers()*, the code explicitly throws an exception if *ChaincodeID* is not set.

The check for presence of *ChaincodeID* in *Channel.sendTransactionProposalToEndorsers()* needs to be removed.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,FGJ-70,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i017jv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release v2.0.0 java-sdk,FABJ-510,44033,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,andrew-coleman,heatherp,heatherp,20/Jan/20 9:11 PM,24/Jan/20 8:25 PM,28/Oct/23 2:21 AM,24/Jan/20 8:25 PM,v2.0.0,,,,v2.0.0,,,,,0,sdk-triaged,,,,,Needs to include an update to azure pipelines file to ensure it recognises the release,,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzx33q:s9c",,,,Unset,Unset,20-27 Jan 20,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Docker configuration for master branch,FABJ-512,44156,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,bestbeforetoday,bestbeforetoday,28/Jan/20 7:32 PM,19/Nov/20 8:07 PM,28/Oct/23 2:21 AM,19/Nov/20 8:07 PM,,,,,,,,,,0,sdk-triaged,,,,,"Fabric 2.0 now uses 2-digit version numbers for Docker images, as follows:
* hyperledger/fabric-ca:1.4
* hyperledger/fabric-orderer:2.0
* hyperledger/fabric-peer:2.0
* hyperledger/fabric-tools:2.0

It should be sufficient to just specify the correct image versions in the docker configuration. No local re-tagging should be required. No images should need to be explicitly pulled for baseos, ccenv, javaenv or nodeenv.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzy5ag:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation Java SDK for Mutual TLS/Client Auth,FABJ-513,27841,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,Low,,,latitiah,latitiah,20/Feb/18 2:25 AM,19/Nov/20 7:30 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,There is currently no documentation for enabling mutual TLS on a java-sdk based client.,,dcrough13,joe-alewine,latitiah,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzyy2v:",,,,,,,,,,,,,,,,,,,,,,,,,dcrough13,joe-alewine,latitiah,pandrejko,sykesm,,,,,,,,,,,,,,,"20/Sep/18 3:06 AM;pandrejko;[~latitiah] Does this [https://fabric-sdk-node.github.io/tutorial-mutual-tls.html] address your issue here?;;;","30/Nov/18 11:14 PM;joe-alewine;[~latitiah];;;","23/Jan/20 7:27 AM;sykesm;Stale;;;","07/Feb/20 11:16 PM;dcrough13;[~sykesm] - This was stale but unfortunately as far as I can tell, still needed. Do you prefer re-opening this ticket or having a new one created?;;;","08/Feb/20 2:30 AM;sykesm;> This was stale but unfortunately as far as I can tell, still needed. Do you prefer re-opening this ticket or having a new one created?

This was closed along with over 700 others that had not received an update in over nine months. If it's still something that should be tracked, feel free to reopen it and remove the {{stale-item}} label. I'd also recommend moving it to the {{Fabric SDK Java (FABJ)}} project as this is related to the Java SDK.

As a member of the community with an interest in this item, it would be great if you could submit a PR that creates this missing documentation; your contribution would be welcome.;;;","08/Feb/20 3:48 AM;sykesm;Reopened and moved to Fabric SDK Java. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CWE-502 Vulnerability from Deserializing of Untrusted Data,FABJ-514,44400,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,mastersingh24,dhuseby,dhuseby,25/Feb/20 3:43 AM,14/Apr/20 2:36 AM,28/Oct/23 2:21 AM,14/Apr/20 2:36 AM,,,,,v1.4.9,v2.0.1,,,,0,sdk-triaged,,,,,"[Hyperledger Fabric SDK for Java version 2.0.0|https://hackerone.com/redirect?signature=3bd70e7ca29dd05f9f7b5d45e3627d75c8679288&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Ftree%2Fv2.0.0] and earlier does not configure its YAML parser to prevent the instantiation of arbitrary types, resulting in a remote code execution vulnerability.

In the following source code files and corresponding line number, an arbitrary file gets parsed by SnakeYAML which allows to construct a Java object of any type, leading to remote code execution:

 
 * [https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeCollectionConfiguration.java#L121|https://hackerone.com/redirect?signature=50dc3d1c65278f7660dc24d10b5f846ffdc29ca8&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeCollectionConfiguration.java%23L121]
 * [https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java#L301|https://hackerone.com/redirect?signature=7814d249cb3df222464430a7cbaa1a7c31517ba3&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FNetworkConfig.java%23L301]
 * [https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java#L241|https://hackerone.com/redirect?signature=e7f534cd6def0d100434e054829316d7563e9d06&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeEndorsementPolicy.java%23L241]
 * [https://github.com/hyperledger/fabric-sdk-java/blob/f97741e2bd76c7733f7f81078b4de5d42a37cf9a/src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java#L262|https://hackerone.com/redirect?signature=3523e715433ac3fc6dd615bbcd8391920f302a71&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Ff97741e2bd76c7733f7f81078b4de5d42a37cf9a%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FChaincodeEndorsementPolicy.java%23L262]
 * [https://github.com/hyperledger/fabric-sdk-java/blob/v2.0.0/src/main/java/org/hyperledger/fabric/sdk/LifecycleChaincodeEndorsementPolicy.java#L228|https://hackerone.com/redirect?signature=81a516e5029510eee9ecce0b26d83383b421a68b&url=https%3A%2F%2Fgithub.com%2Fhyperledger%2Ffabric-sdk-java%2Fblob%2Fv2.0.0%2Fsrc%2Fmain%2Fjava%2Forg%2Fhyperledger%2Ffabric%2Fsdk%2FLifecycleChaincodeEndorsementPolicy.java%23L228]
Objects should be limited such as limiting to standard Java objects like List or Long by using SafeConstructor.
 {{Yaml yaml = new Yaml(new SafeConstructor());}}
More info on Snake YAML can be found on the following url: [https://bitbucket.org/asomov/snakeyaml/wiki/Documentation#markdown-header-loading-yaml|https://hackerone.com/redirect?signature=d8c62bcd1edfd63424bad2e6dfd9318ade686f3a&url=https%3A%2F%2Fbitbucket.org%2Fasomov%2Fsnakeyaml%2Fwiki%2FDocumentation%23markdown-header-loading-yaml]",,denyeart,dhuseby,heatherp,mastersingh24,sstone1,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,andrew-coleman,heatherp,sstone1,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i019fv:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dhuseby,heatherp,mastersingh24,sstone1,,,,,,,,,,,,,,,"14/Mar/20 12:16 AM;dhuseby;My personal assessment is that this is a CVSS 7.0 which is serious: [https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:H/PR:L/UI:N/S:U/C:H/I:H/A:H]

However, it is tempered significantly because this is a vulnerability in the SDK. So the attack is against tools that use the SDK which may or may not affect the network as a whole. The scenario I'm considering is if this attack can be used to bypass checks in tools designed to install chaincode or modify policies or run state of nodes.

I need help confirming if the scope of this exploit extends to those administration functions before I can assign a proper severity.;;;","14/Mar/20 12:47 AM;mastersingh24;I really do not see how this can be classified as ""high"" ... of course I don't see any reason not to implement the suggestion.

The Fabric project does not build any tools which use the Java SDK either.;;;","14/Mar/20 1:40 AM;dhuseby;[~mastersingh24] is it possible to use the Java SDK to build a tool that installs chaincode? Does both the SDK and the nodes themselves run all of the chaincode verification checks before install new chaincode? Our bounty policy says that this is a critical security bug if it can cause ""unauthorized modifications of chaincode--changing the code that is executed inside of the VM.""

If not, then it's probably a medium severity bug.;;;","14/Mar/20 2:03 AM;sstone1;[~dhuseby] there are three types of YAML files being loaded here:
 * Connection profiles that describe where the Fabric network components (peers, orderers, CAs) are
 * Endorsement policies that describe who must endorse transactions
 * Private data collection configuration files that describe private data collections and who can access them

All of these are only loaded in the process using the SDK, and never sent across the network - endorsement policies and private data collection configuration files are converted into a Protocol Buffers format before being sent as part of a chaincode instantiation/upgrade request. So I don't think there's any risk of code being injected into remote components.

All authorization checks are processed on the Fabric network side, and these are based upon cryptographic signatures. The SDK has access to either private keys or HSMs that can perform those cryptographic signatures, so in the worst case it is possible that code could be injected into an application using the SDK which could then access those private keys/HSMs to sign and submit malicious or fraudulent transactions.

These transactions could include transactions to a smart contract, such as recording a new asset or changing it's owner.

Those transactions would only be accepted by the network if and only if they met policies that are being enforced by the Fabric network, which would - for any realistic network - require endorsements (cryptographic signatures) from other organizations and users. 

If they compromised an application using the SDK that had access to organization/peer administrator private key or HSM then they could also perform actions such as installing chaincode on that organizations peer, or changing the definition of their organization (MSP) in a channel.

However - to perform such an attack would require access to the system running the code in order to modify one of the YAML files, and if you've got access to tamper with the YAML files, you've likely got access to tamper with the code itself and you could make it submit any transactions you wanted anyway.

We should definitely implement the recommended fix. I'm not sure I'm qualified to comment on the CVSS rating.;;;","14/Mar/20 6:37 AM;mastersingh24;Let's just implement the change and be done with it. 
I do not think that this would be classified as ""high"" in any general case as you would have to use the SDK to build a specific type of tool which at some point allows you to upload or specify YAML content and then directly uses the raw content in the SDK methods (a bad practice by any means ala SQL Injection).;;;","16/Mar/20 9:53 PM;mastersingh24;[https://github.com/hyperledger/fabric-sdk-java/pull/45]. (release-1.4)

[https://github.com/hyperledger/fabric-sdk-java/pull/46] (master);;;","17/Mar/20 3:33 AM;mastersingh24;[~dhuseby] - we should be able to close this ... the above PRs have been merged.  Can you take a look and see if we can close?;;;","27/Mar/20 12:15 AM;dhuseby;[~mastersingh24] great! Since this is a client-side only vector, I agree that this is a ""low"" security issue. It didn't present any opportunity for a remote vector to affect a running network. The only way this would be a real threat is if the attacker was a privileged insider and if that's the case their are much easier and more destructive attack vectors available.

Thanks for the quick response. I'll pay this guy out at the ""low"" level and pass along the explanation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel.getExecutorService() throws NPE while peer is not able to connect event service and channel has shut down,FABJ-515,44636,,Bug,Returned,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,smartheye,smartheye,23/Mar/20 1:32 PM,21/May/21 7:16 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"*Environment:*

  Fabric SDK Java : 1.4.8

  Fabric Gateway Java:  1.4.3

  Fabric Network : [https://github.com/hyperledger/fabric-samples/tree/v1.4.6/first-network]

    (it's running in local laptop)

  Environment Varibale in Fabric SDK Java & Gateway Java

     - discovery: true

     - asLocalhost: false

 

*Summary:*

It's to be reproduced while start a local fabric network (first-network) , set as asLocalhost to be false and discovery to be true in the fabric sdk.

While channel is being shut down, PeerEventServiceClient gets error on connection and tries to reconnect. but NPE is thrown while getting executor service of channel as client is set to be null.

 

Error Log
{code:java}
java.lang.NullPointerException
	at org.hyperledger.fabric.sdk.Channel.getExecutorService(Channel.java:2032)
	at org.hyperledger.fabric.sdk.Peer.getExecutorService(Peer.java:139)
	at org.hyperledger.fabric.sdk.Peer.reconnectPeerEventServiceClient(Peer.java:394)
	at org.hyperledger.fabric.sdk.PeerEventServiceClient$1.onError(PeerEventServiceClient.java:313)
	at io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:442)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusStatsModule$StatsClientInterceptor$1$1.onClose(CensusStatsModule.java:700)
	at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40)
	at io.grpc.internal.CensusTracingModule$TracingClientInterceptor$1$1.onClose(CensusTracingModule.java:399)
	at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:510)
	at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:66)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.close(ClientCallImpl.java:630)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl.access$700(ClientCallImpl.java:518)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:692)
	at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:681)
	at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
{code}",,bestbeforetoday,heatherp,smartheye,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01a6j:",,,,Unset,Unset,,,,,,,"I've uploaded a sample testcase in github
1. Test Source
https://github.com/smartheye/fabric-sdk-java-tests-01/blob/master/src/test/java/com/github/smartheye/fabric/tests/GatewayTest2_AsLocalhost2.java

2. Test Full Log
https://github.com/smartheye/fabric-sdk-java-tests-01/blob/master/full-log",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,heatherp,smartheye,,,,,,,,,,,,,,,,,"31/Mar/20 10:05 PM;heatherp;Hey [~smartheye] - I see you've mentioned the asLocalHost and discovery options, do you see different outputs if you change those?;;;","22/Apr/20 11:20 PM;bestbeforetoday;My guess is that the NullPointerException observed during Channel shutdown is caused by some kind of ordering or thread-safety issue, although looking at the code I don't obviously spot the problem area.

I noticed in your test log that the system was in a very unstable state. While service discovery appears to have executed correctly, the test code fails on the first attempt to submit a transaction:
{noformat}
11:57:01.202 [main] ERROR org.hyperledger.fabric.sdk.Channel - Channel Channel{id: 1, name: mychannel} Sending proposal with transaction: 19272371e80d9ecd58161e4c79f7a805a763cd3758472b0e92fbb9a857039737 to Peer{ id: 7, name: peer0.org2.example.com:9051, channelName: mychannel, url: grpcs://peer0.org2.example.com:9051, mspid: Org2MSP} failed because of: gRPC failure=Status{code=UNAVAILABLE, description=Connection closed while performing protocol negotiation for [HttpClientCodec#0, HttpProxyHandler#0, ProtocolNegotiators$WaitUntilActiveHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0], cause=null}
java.lang.Exception: io.grpc.StatusRuntimeException: UNAVAILABLE: Connection closed while performing protocol negotiation for [HttpClientCodec#0, HttpProxyHandler#0, ProtocolNegotiators$WaitUntilActiveHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]
    at org.hyperledger.fabric.sdk.Channel.sendProposalToPeers(Channel.java:4525)
    at org.hyperledger.fabric.sdk.Channel.sendTransactionProposalToEndorsers(Channel.java:4213)
    at org.hyperledger.fabric.gateway.impl.TransactionImpl.sendTransactionProposal(TransactionImpl.java:121)
    at org.hyperledger.fabric.gateway.impl.TransactionImpl.endorseTransaction(TransactionImpl.java:106)
    at org.hyperledger.fabric.gateway.impl.TransactionImpl.submit(TransactionImpl.java:92)
    at com.github.smartheye.fabric.tests.GatewayTest2_AsLocalhost2.testDiscoveryIT001(GatewayTest2_AsLocalhost2.java:70)
{noformat}

The Gateway is then closed as the try-with-resources block exits, and this is where the NullPointerException during Channel shutdown. It is possible that connection retries are happening as a result of these submit failures and are overlapping with the execution of the shutdown, so a connection retry is in progress while the shutdown is part way through cleaning up resources.

It looks to me that any fix to the NullPointerException will not do anything to resolve the fundamental connection issues occurring in this test. While the shutdown exception appearing in the log is annoying, it doesn't seem to be causing any functional problems.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release v2.1.0,FABJ-516,44664,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,heatherp,heatherp,heatherp,26/Mar/20 11:40 PM,24/Apr/20 12:36 AM,28/Oct/23 2:21 AM,24/Apr/20 12:36 AM,v2.0.1,,,,,,,,,0,sdk-triaged,,,,,"Fabric v2.1.0 is due mid-April, potentially earlier. So before Easter let's have done the following list. We're going to release from master, essentially making it like a release-2.x branch, until we're due an LTS branch, at which point we'd fork a master branch again.
 * -Ensure we're testing against Fabric v2.1 (should be pulling *2.1*, not *2.1.0*)-
 * -Update any references to v2.0.0 etc-
 * -Release, usual stuff: release notes, version number change etc-
 -*Above covered in Pr #49, should probably happen after #48*-
 * -Release via maven (?) and tag the commit in github-
 * -Finally: version bump to 2.1.1-snapshots, update readMe section about 2.0.0-snapshots - Pr #50-",,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01aar:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sign transaction offline (Fabric SDK Java),FABJ-517,44949,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,Yerin,Yerin,27/Apr/20 10:26 AM,02/Sep/20 12:06 AM,28/Oct/23 2:21 AM,02/Sep/20 12:06 AM,,,,,,,,,,0,external,sdk-triaged,,,,"I can sign transaction with offline private key using fabric node SDK. ([https://hyperledger.github.io/fabric-sdk-node/release-1.4/tutorial-sign-transaction-offline.html)|https://hyperledger.github.io/fabric-sdk-node/release-1.4/tutorial-sign-transaction-offline.html]

For this, fabric node SDK is offering 'generateUnsignedProposal' and 'sendSignedProposal' method.

 

But, there is no such function in Fabric SDK Java, so I'm wondering if it will be available in Fabric SDK Java.

Also, if it is available now, how can I use that without modification of sdk?

 ",,Yerin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABJ-445,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01bgj:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Yerin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Apache ANT Vulnerability,FABJ-518,45120,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,bestbeforetoday,ashutosh_kumar,ashutosh_kumar,21/May/20 5:25 AM,21/May/20 11:59 PM,28/Oct/23 2:21 AM,21/May/20 11:59 PM,,,,,,,,,,0,external,sdk-triaged,Security,,,"Following is public disclosure on Apache ANT Vulnerability

CVEID: CVE-2020-1945

Apache Ant could allow a remote attacker to bypass security restrictions, caused by the use of an insecure temporary directory to store source files. By sending a specially-crafted request, an attacker could exploit this vulnerability to obtain sensitive information and inject modified source files into the build process.
 CVSS Base Score: 6.5
 CVSS Temporal Score: [https://exchange.xforce.ibmcloud.com/vulnerabilities/181875] for more information
 CVSS Vector: (CVSS:3.0/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:N)

 

Link providing more information : [https://seclists.org/oss-sec/2020/q2/106]

 ",,ashutosh_kumar,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b8a:jr",,,,Unset,Unset,15 May to 22 May 2020,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,bestbeforetoday,,,,,,,,,,,,,,,,,,"21/May/20 11:59 PM;bestbeforetoday;Apache Ant does not appear in the dependency tree for this project, either for the installed package or for the test plugins. So this vulnerability certainly does not exist at runtime.

A transitive dependency on Ant appears to exist somewhere within the Maven build tools themselves. Updating to the latest versions currently available of all the Maven plugins used does not solve the issue. Since we do not require Ant in this project, it is undesirable to add an explicit dependency on Ant to force a non-vulnerable version to be used during the build.

This potential vulnerability, which appears to exist only within our build pipeline, is not practical to fix.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Channel-based Event Hub service examples for Fabric Java SDK,FABJ-519,45159,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,chintanr11,chintanr11,30/May/20 2:48 PM,02/Jun/20 10:17 PM,28/Oct/23 2:21 AM,02/Jun/20 10:17 PM,,,,,,,,,,0,Documentation,external,help-wanted,sdk-triaged,,"I am trying to use Fabric Java SDK to perform chaincode related operations. For this purpose, I wish to make use of the new Channel Event Hub functionality for listening to different events, mainly Blocks Events and Transaction Events.

I know how to perform these tasks using Fabric Node SDK by creating an instance of {{channelEventHub}} class. But all the examples related to Java SDK mainly use event hub service by creating the event hub object as follows:

{{EventHub eventHub = client.newEventHub(""eventhub01"", ""grpcs://localhost:7053"", props);}}

Which I feel is making use of old technique of connecting to peer node for listening to events (please correct me if this understanding is wrong). I wish to make use of the feature identical to channel event hub service in Node SDK as I am making use of Kubernetes to run my nodes and only communication that can be made to peers is over port {{443}} (being redirected to {{7051}}).
 # Do we have an example where we make use of channel event hub service in Java SDK? I think it should be properly documented as good as the Node SDK documentation.
 # I am understanding that the new channel event hub service would also connect to one of the peers on the channel because in Node SDK I find the function signature as follows: {{newChannelEventHub(peer)}}

Now, is this understanding correct?
 * If yes, then in Java SDK is it correct to use {{grpcs://<peerEndpoint>:443}} for creating event hub connection, where {{443}} will be directed to internal port {{7051}}?
 * If no, then how to perform channel-based event hub service in Java SDK? Need some good examples to set it up like Node SDK.",,chintanr11,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01cj7:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chintanr11,lesleyannj,,,,,,,,,,,,,,,,,,"02/Jun/20 10:17 PM;lesleyannj;This will not be progressed as it relates to old low-level event functionality.

We recommend using the Fabric Gateway programming model for java - documentation: https://hyperledger.github.io/fabric-gateway-java/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create channel but orderer report "" consenter error""",FABJ-520,45228,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,High,,,JianhuiZhou,JianhuiZhou,09/Jun/20 12:28 PM,19/Nov/20 7:46 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"The orderer logs
{code:java}
2020-06-04 09:33:07.858 UTC [orderer.consensus.etcdraft] run -> INFO 042 This node is picked to start campaign channel=mychannel2 node=1
2020-06-04 09:33:07.869 UTC [orderer.consensus.etcdraft] apply -> INFO 043 Applied config change to add node 1, current nodes in channel: [1] channel=mychannel2 node=1
2020-06-04 09:33:07.905 UTC [comm.grpc.server] 1 -> INFO 044 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.17.0.2:52614 grpc.code=OK grpc.call_duration=156.894904ms
2020-06-04 09:33:07.955 UTC [common.deliver] deliverBlocks -> WARN 045 [channel: mychannel2] Rejecting deliver request for 172.17.0.2:52614 because of consenter error
{code}
I have read the source code, find that when I create a channel, it'll check successful immediately.
{code:java}
private Channel(String name, HFClient hfClient, Orderer orderer, ChannelConfiguration channelConfiguration, byte[][] signers) throws InvalidArgumentException, TransactionException {
    this(name, hfClient, false);
    logger.debug(String.format(""Creating new channel %s on the Fabric"", name));
    Channel ordererChannel = orderer.getChannel();

    try {
        this.addOrderer(orderer);
        Envelope ccEnvelope = Envelope.parseFrom(channelConfiguration.getChannelConfigurationAsBytes());
        Payload ccPayload = Payload.parseFrom(ccEnvelope.getPayload());
        ChannelHeader ccChannelHeader = ChannelHeader.parseFrom(ccPayload.getHeader().getChannelHeader());
        if (ccChannelHeader.getType() != HeaderType.CONFIG_UPDATE.getNumber()) {
            throw new InvalidArgumentException(String.format(""Creating channel; %s expected config block type %s, but got: %s"", name, HeaderType.CONFIG_UPDATE.name(), HeaderType.forNumber(ccChannelHeader.getType())));
        } else if (!name.equals(ccChannelHeader.getChannelId())) {
            throw new InvalidArgumentException(String.format(""Expected config block for channel: %s, but got: %s"", name, ccChannelHeader.getChannelId()));
        } else {
            ConfigUpdateEnvelope configUpdateEnv = ConfigUpdateEnvelope.parseFrom(ccPayload.getData());
            ByteString configUpdate = configUpdateEnv.getConfigUpdate();
            this.sendUpdateChannel(this.client.getUserContext(), configUpdate.toByteArray(), signers, orderer);
            this.getGenesisBlock(orderer);
{code}
But the orderer is voting to select a leader, ""getGenesisBlock”  will break it, cause ""consenter error"".

If I take a breakpoint at ""getGenesisBlock"" and wait a moment, everything is OK.",,JianhuiZhou,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABJ-300,,,No,,Unset,No,,,"1|i01cwr:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JianhuiZhou,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support arrays in connection profile tlsCaCerts.pem elements,FABJ-521,45529,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,02/Jul/20 7:57 PM,03/Jul/20 6:00 PM,28/Oct/23 2:21 AM,03/Jul/20 6:00 PM,,,,,,,,,,0,sdk-triaged,,,,,"*As a* network administrator
*I want* to specify multiple CA certificates in a connection profile
*So that* client applications can be configured to trust multiple CAs running in the network

The pem element within a tlsCaCerts definition is currently expected to be a string containing a single certificate PEM.",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b83:1z6",,,,Unset,Unset,29 Jun to 6 Jul,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,release-1.4,main,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document release process,FABJ-522,45549,,Story,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,jtonline,jtonline,03/Jul/20 11:01 PM,02/Dec/20 1:17 AM,28/Oct/23 2:21 AM,,,,,,,,,,,0,sdk-triaged,,,,,Add {{RELEASING.md}} file in root of repo documenting the current release process,,bestbeforetoday,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:i000i",,,,Unset,Unset,3 Jul to 10 Jul,10 Jul to 24 Jul,23 Jul to 7 Aug,7 Aug to 14 Aug,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,jtonline,,,,,,,,,,,,,,,,,,"31/Jul/20 9:04 PM;bestbeforetoday;fabric-sdk-java has this release process document: [https://github.com/hyperledger/fabric-sdk-java/blob/master/docs/java_sdk_release.md]

It might be it could use some tweaks for clarity. Is it worth relocating to RELEASING.md in the root?;;;","31/Jul/20 9:26 PM;bestbeforetoday;One thing that could be added is a recommendation that, since fabric-gateway-java depends on and is fairly tightly coupled to fabric-sdk-java, I would recommend before releasing to install the release candidate into your local Maven repository and run the fabric-gateway-java tests against that locally installed version to ensure fabric-gateway-java continues to work with the new fabric-sdk-java release.;;;","31/Jul/20 10:12 PM;bestbeforetoday;Some other things that should be included:
* Include *GPG_TTY=$(tty)* environment variable to ensure gpg prompt to the terminal for password entry.
* Include *-Dgpg.executable=gpg* Maven flag for when your gpg command is not *gpg2*, which is the default in this project's Maven pom.xml.
;;;","31/Jul/20 10:15 PM;bestbeforetoday;Make sure you build/deploy using Java 1.8 in your local environment. In other words, the lowest supported Java version.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support for TLS 1.3 on Client Operations,FABJ-523,45598,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,btl5037,btl5037,14/Jul/20 1:29 AM,20/Nov/20 1:04 AM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,External,sdk-triaged,,,"Fabric 2.2 added support for TLS 1.3.

Using Wireshark we monitored traffic for both the SDK Go and the SDK Node, both of which were in fact using TLS 1.3 to encrypt communication from the client to the peer. When using the SDK Java however, TLS 1.2 was used client to peer communication.

I'm not sure what changes need to be made to support default TLS 1.3 behavior but we should investigate and get support for TLS 1.3 working.",,btl5037,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:ic",,,,Unset,Unset,10 Jul to 24 Jul,23 Jul to 7 Aug,7 Aug to 14 Aug,,,,"Tests performed using fabric-samples:

curl -sSL https://bit.ly/2ysbOFE | bash -s -- 2.2.0 1.4.7
cd fabric-samples/test-network
./network.sh down && ./network.sh up createChannel -ca -c mychannel && ./network.sh deployCC -l java
cd ../fabcar/java
mvn test

While running Maven test you should run Wireshark at the same time and enable the following filters:
- http2
- tcp.port == 7051

The first will filter out non-grpc traffic and the second will monitor peer0.org1.example.com allowing you to remove the noise from other calls.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,lesleyannj,,,,,,,,,,,,,,,,,,"20/Nov/20 12:59 AM;lesleyannj;Intended to be addressed under new Fabric Gateway work - see https://github.com/hyperledger/fabric-rfcs/pull/32;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need a setEndorsingOrganizations function that picks available endorsing peers based on Service Discovery peers query,FABJ-526,45628,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,denyeart,denyeart,17/Jul/20 9:01 PM,19/Nov/20 8:13 PM,28/Oct/23 2:21 AM,19/Nov/20 8:13 PM,,,,,,,,,,0,external,sdk-triaged,,,,"The Service Discovery 'endorsement query' can return many layouts, and if there is a very large number of layouts, SD will return a reduced list.

For many transactions, there is no need to do the endorsement query at all. For example when doing a transaction between Org1 and Org2 with private data, the client knows that they should target a Org1 peer and a Org2 peer already.

If the 'endorsement query' were used, the SDK either has to filter through many undesired layouts, or worse, the desired layouts may have already been filtered out on server side.

Therefore it should be possible to setEndorsingOrganizations simply based on the simpler and faster SD 'peers query', where the SDK picks one of the returned available peers from each targeted MSPID.

In terms of picking a peer, the SDK should use some combination of highest height and randomization. For example if two peers are within a block of each other, the SDK should randomize the choice. However if one peer is well ahead of another peer, the SDK should choose the higher height peer.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,FABG-987,FABN-1601,,,FGJ-83,FABN-1425,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:i4",,,,Unset,Unset,10 Jul to 24 Jul,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can't builds of Fabric and Fabric-ca needed for the integration test by fabric.sh ,FABJ-528,45633,,Documentation,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,,Specia1,Specia1,19/Jul/20 1:05 PM,19/Nov/20 7:52 PM,28/Oct/23 2:21 AM,19/Nov/20 7:52 PM,,,,,,,,,,0,external,sdk-triaged,,,,"I can't find `src/test/fixture/sdkintegration/fabric.sh` script file.

However, the readme file write to build and test using that script.( [https://github.com/hyperledger/fabric-sdk-java#v21-builds-of-fabric-and-fabric-ca-needed-for-the-integration-test])

The readme file needs to be modified.",,bestbeforetoday,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:j",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,Specia1,,,,,,,,,,dev,,,,,,,true,"21/Jul/20 11:33 PM;bestbeforetoday;It looks like this was changed in commit 6db3212a3c6260dbd95e958acbe03bcdb60873f7. The integration tests are now run in a single step using the script {{scripts/run-integration-tests.sh}}. The need to manually pull Docker images and run the {{src/test/fixture/sdkintegration/fabric.sh}} script is removed.

You are correct that the README should be updated.;;;","18/Aug/20 10:37 PM;Specia1;Okay. 
I have updated this issue.

https://github.com/hyperledger/fabric-sdk-java/pull/76;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Specify exact Go chaincode source path in Lifecycle packaging,FABJ-529,45666,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,bestbeforetoday,bestbeforetoday,22/Jul/20 3:02 AM,21/May/21 6:23 PM,28/Oct/23 2:21 AM,21/May/21 6:23 PM,,,,,,,,,,1,community-help-wanted,sdk-triaged,,,,"*As a* chaincode developer
*I want* to be able to specify an exact source directory when packaging Go chaincode
*So that* I can have flexibility in how I structure my chaincode projects

When calling {{LifecycleChaincodePackage.fromSource()}}, the source directory for Go chaincode only is constructed from arguments as follows:

{code:java}
projectSourceDir = Paths.get(chaincodeSource.toString(), ""src"", chaincodePath).toFile();{code}

For all other languages, the {{chaincodeSource}} is used directly. Hard-coding ""src"" into the path places limitations on the structure of source projects. This may be undesirable, particularly now that Go modules allow more flexibility in the directory structure for Go source code.",,bestbeforetoday,Djoust,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:ii",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,Djoust,,,,,,,,,,,,,,,,,,"21/May/21 6:23 PM;bestbeforetoday;Strategic direction is to use CLI commands for admin operations so won't invest resources in SDK support for chaincode lifecycle operations.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Java Gradle Package: Exception in thread ""main"" java.lang.NoClassDefFoundError: org/hyperledger/fabric/gateway/IdentityException in thread ""main"" ",FABJ-530,45714,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Works as Expected,,rookielin,rookielin,29/Jul/20 11:29 AM,19/Aug/20 9:13 PM,28/Oct/23 2:21 AM,11/Aug/20 10:02 PM,,,,,,,,,,0,external,sdk-triaged,,,,"
Exception in thread ""main"" java.lang.NoClassDefFoundError: org/hyperledger/fabric/gateway/IdentityException in thread ""main"" java.lang.NoClassDefFoundError: org/hyperledger/fabric/gateway/Identity at com.demo.fabric.init.InitNetwork.<init>(InitNetwork.java:19) at com.demo.fabric.Demo.main(Demo.java:24)Caused by: java.lang.ClassNotFoundException: org.hyperledger.fabric.gateway.Identity at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:424) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ... 2 more


And my dependency like this:    
compile group: 'org.hyperledger.fabric', name: 'fabric-gateway-java', version: '2.0.0'

I can run successfully in IDE, but when I try to package it using Gradle, I met such error.

System: MacOSX 15.4
JDK:1.8



 

 ",,bestbeforetoday,rookielin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b8a:jyzzhk",,,,Unset,Unset,23 Jul to 7 Aug,7 Aug to 14 Aug,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,rookielin,,,,,,,,,,,,,,,,,,"30/Jul/20 9:46 PM;bestbeforetoday;Could you try using the latest release version as your dependency?
{noformat}
implementation 'org.hyperledger.fabric:fabric-gateway-java:2.2.0'
{noformat}
;;;","04/Aug/20 10:56 PM;bestbeforetoday;My guess is that when you package and launch your application with Gradle the dependencies are not available in the classpath. The Gradle docs are probably the best help: https://docs.gradle.org/current/userguide/application_plugin.html;;;","11/Aug/20 10:02 PM;bestbeforetoday;As fr as I can tell, running client applications in working fine. I suspect this is a Gradle usage error. Please reopen if you have any more information to support an SDK issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove deprecated use of NettyChannelBuilder.usePlaintext(boolean),FABJ-531,45732,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,31/Jul/20 1:58 AM,22/Oct/20 4:48 PM,28/Oct/23 2:21 AM,04/Aug/20 10:38 PM,,,,,,,,,,0,sdk-triaged,,,,,This could cause a failure if other dependencies force a newer version of grpc-netty to be resolved and which no longer includes this method.,,bestbeforetoday,calanais,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b83:1z8i8",,,,Unset,Unset,23 Jul to 7 Aug,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,calanais,,,,,,,,,,dev,release-1.4,main,,,,,true,"21/Oct/20 10:32 PM;calanais;Could we have this ported to the 1.4 stream please.. I encountered this connecting a 1.4 sdk to Fabric v2.

thanks. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scheduled builds,FABJ-532,45819,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Low,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,13/Aug/20 11:59 PM,18/Aug/20 11:02 PM,28/Oct/23 2:21 AM,18/Aug/20 11:02 PM,,,,,,,,,,0,sdk-triaged,,,,,"*As a* maintainer
*I want* regular scheduled builds to run
*So that* integration issues with Fabric can be identified",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b8a:jyzzhqr",,,,Unset,Unset,7 Aug to 14 Aug,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,release-1.4,main,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric使用java sdk实例化时, 第一个参数固定init, 用户传参无效问题,",FABJ-533,45834,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,superBeyound,superBeyound,17/Aug/20 5:41 PM,20/Nov/20 1:04 AM,28/Oct/23 2:21 AM,,v1.4.0,v1.4.2,v1.4.4,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"fabric-sdk-java 版本是1.4.0 , 在InstantiateProposalBuilder的135行, 执行了modlist.add(""init""); 

然后又执行modlist.addAll(argList);  , 相当于为第一个参数写死了init, 并且只取了instantiateProposalRequest里的argus, 未获取fcn 参数, 导致在实例化chaincode时, 获取到的第一个参数只能是init, 导致有些chaincode无法使用, 例如官方提供的sacc那个chaincode, 

我个人提出一个简单的解决方案就是删除modlist.add(""init""); 这一行代码, 实例化时把所有参数都放到argus里面, 不用fcn这个参数",,harrisob@us.ibm.com,lesleyannj,superBeyound,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:ia",,,,Unset,Unset,,,,,,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,lesleyannj,superBeyound,,,,,,,,,,,,,,,,,"08/Sep/20 10:04 PM;lesleyannj;Google translated.

TITLE: When fabric is instantiated using java sdk, the first parameter is fixed init, and the user parameter is invalid.

DESCRIPTION:

The fabric-sdk-java version is 1.4.0, in line 135 of the InstantiateProposalBuilder, modlist.add(""init"");

Then execute modlist.addAll(argList);, which is equivalent to writing the init for the first parameter, and only takes the argus in the instantiateProposalRequest, without obtaining the fcn parameter, which leads to the first one obtained when the chaincode is instantiated The parameter can only be init, which causes some chaincodes to be unusable, such as the official chaincode of sacc,

I personally propose a simple solution is to delete modlist.add(""init""); this line of code, put all the parameters in argus when instantiating, without the parameter fcn;;;","16/Sep/20 11:42 PM;harrisob@us.ibm.com;I think that the change should be to check the request for ""fcn"" and use that or default to ""init"" similar to sending a normal transaction. This is how the NodeSDK works with the legacy chaincode lifecycle.

Maybe we need an additional method on  InstantiateProposalBuilder to add the function to be called defaulting to ""init"" similar to how the args are added.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Client certificate generation for discovery produces invalid private keys,FABJ-534,45912,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,sstone1,sstone1,sstone1,20/Aug/20 7:18 PM,04/Sep/20 10:03 PM,28/Oct/23 2:21 AM,04/Sep/20 10:03 PM,,,,,,,,,,0,sdk-triaged,,,,,"I've been trying to integrate the Java SDK into a fairly complex enterprise application that uses Java 8 and various enterprise Java technologies.

For some reason I can't quite figure out, when the code in the Java SDK generates self signed client certificates for service discovery in this environment, OpenSSL rejects the private key as being invalid.

If we specify Bouncy Castle as the security provider to use when generating the private key, then the problem goes away. This seems like a sensible fix given that we already do this for the certificate part of the process.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01b83:1z9",,,,Unset,Unset,7 Aug to 14 Aug,4 Sep to 11 Sep 20,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable mutual TLS connection with fabric-ca,FABJ-536,45942,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Highest,Done,TsvetanSenofi,TsvetanSenofi,TsvetanSenofi,27/Aug/20 7:44 AM,19/Nov/20 8:18 PM,28/Oct/23 2:21 AM,19/Nov/20 8:18 PM,,,,,,,,,,0,External,sdk-triaged,,,,"Fabric CA supports mutual TLS: [https://hyperledger-fabric-ca.readthedocs.io/en/release-1.4/deployguide/ca-config.html#tls].

However HLF Java SDK doesn't support padding the client side certs for the mutual TLS handshake and therefore the Fabric SDK cannot be used with mutual TLS enabled Fabric CA server.

This feature is very important for many cases where mutual TLS is required for security reasons.

We have developed the feature in [https://github.com/senofi/fabric-sdk-java/tree/1.4.7.senofi] and can help the project team to implement it if needed.

Best Regards,

Tsvetan

 ",,lesleyannj,TsvetanSenofi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:i04",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lesleyannj,TsvetanSenofi,,,,,,,,,,dev,release-1.4,main,,,,,true,"08/Sep/20 10:07 PM;lesleyannj;[~TsvetanSenofi]  If this feature is valuable to you, please consider raising a PR for this feature and submit for review.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Register new users through Java SDK registers user with OU client irrespective of type we provide.,FABJ-537,46130,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,Tarun,Tarun,18/Sep/20 10:22 PM,19/Nov/20 7:50 PM,28/Oct/23 2:21 AM,,v2.0.1,,,,,,,,,0,community-help-wanted,external,Register_USER_AS_ADMIN_ISSUE_JAVA_SDK,sdk-triaged,,"Whenever we tries to register a new user using fabric-java-sdk having OU as admin or peer, it creates Identity with OU client independent of Type we passed in request

RegistrationRequest registrationRequest = new RegistrationRequest(USER);
registrationRequest.setAffiliation(DEPTT);
registrationRequest.setEnrollmentID(ENROLLMENT_ID);
registrationRequest.setType(""admin"");

It alway register user with OU as client irrespective to the type we provide.

Whenever we require to fetch some details from ledger like 
=>   Fetch list of Installed Chaincodes or Committed Chaincodes
=>   Joinning Channel

we require a user to be registered with OU as admin as given in ACL.

So if user not registers with OU as admin then we can't be able to fetch details from channel.

However it is working fine with fabic-node-sdk  , it register users with desired OU we provide",,Tarun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/20 10:21 PM;Tarun;Screenshot 2020-09-18 at 6.51.21 PM.png;https://jira.hyperledger.org/secure/attachment/18802/Screenshot+2020-09-18+at+6.51.21+PM.png",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABJ-300,,,No,,Unset,No,,,"1|i01gh7:",,,,Unset,Unset,,,,,,,"RegistrationRequest registrationRequest = new RegistrationRequest(USER);
registrationRequest.setAffiliation(DEPTT);
registrationRequest.setEnrollmentID(ENROLLMENT_ID);
registrationRequest.setType(""admin"");",,Unset,,,,,,Unset,,Unset,,(Please add usage information),Tarun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java sdk returns 500 internal server error if all peers of my org are disconnected,FABJ-538,46142,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Duplicate,,yasser_mas,yasser_mas,23/Sep/20 9:42 PM,08/Oct/20 9:13 PM,28/Oct/23 2:21 AM,08/Oct/20 9:13 PM,,,,,,,,,,0,external,,,,,"Java sdk returns 500 internal server error if all peers of my org are disconnected , however it can submit transaction to other orgs peers 

It will throw 'java.net.ConnectException: Connection refused' and 'io.grpc.StatusRuntimeException: UNAVAILABLE: io exception' , so It will not wait to commit and I can't know if the transactions is committed or not 

Node js SDK works fine if the event Handler strategy set to NETWORK_SCOPE_ANYFORTX, I can receive the sync response from peer after committing to any peer in the network ",,lesleyannj,yasser_mas,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01gj7:",,,,Unset,Unset,,,,,,,"01- Start Java client SDK for org1  
02- Close all peers for org1 
03- Submit transaction 

expected result the transaction will be committed and return the sync ack to the client after committing 

output , client will throw an exception, but the transaction will be submitted to the other peers in other orgs ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),lesleyannj,yasser_mas,,,,,,,,,,,,,,,,,,"29/Sep/20 10:17 PM;lesleyannj;PR in progress related to this https://github.com/hyperledger/fabric-gateway-java/pull/64
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
When Load policy yaml file do not close IO stream,FABJ-539,46164,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,jigudong,jigudong,29/Sep/20 4:28 PM,09/Oct/20 9:44 PM,28/Oct/23 2:21 AM,09/Oct/20 9:28 PM,,,,,,,,,,0,external,sdk-triaged,,,,"!image-2020-09-29-15-27-13-110.png!

link: https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/ChaincodeEndorsementPolicy.java",,jigudong,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Sep/20 4:27 PM;jigudong;image-2020-09-29-15-27-13-110.png;https://jira.hyperledger.org/secure/attachment/18818/image-2020-09-29-15-27-13-110.png",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01gea:hwr",,,,Unset,Unset,2Oct-9Oct,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jigudong,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify certs coming back from Service discovery,FABJ-540,46178,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Done,bestbeforetoday,ptippett,ptippett,02/Oct/20 1:08 AM,17/Oct/20 4:41 AM,28/Oct/23 2:21 AM,09/Oct/20 6:28 PM,v1.4.9,v2.0.1,,,,,,,,0,external,sdk-triaged,,,,"A user hit an issue where one of the certs returned by service discovery was missing a \n EOL character.  This results in two certs being appended which causes the SDK to flag them as invalid which prevents the customer from connecting via TLS.

 

Unfortunately, these certs are from endpoints that no longer exist and removing them from all channels or correcting them is problematic.

 

I think there's 3 places this could be fixed:

 

1 - Verify the original cert has a proper EOL characters.  The problem is the endpoint is gone and fixing the original cert in all cases is problematic.

2 - Handle this in service discovery.  That's probably a good idea, but is much harder to deploy.  Needs new fabric version, then that needs to be rolled out to user environment.

3 - Check this in the client.  This is pretty easy to validate and much easier for the user to deploy since it's a client side change.

 

We hit a similar issue with a user and Node SDK and put the change in node to validate and correct missing \n characters between certs.  That Jira is here: https://jira.hyperledger.org/browse/FABN-1403

Can a similar change be put in for Java?  I do think this should be corrected in service discovery as well vs having to touch other SDKs.

Here's more information from the user's debug:

 
It seems one of the certs in the list does not have a trailing ""\n"" (newline) character. This ends up joining together this cert and the one after it (the tlsca cert). This is why even though the needed cert has been returned in discovery it cannot be parsed and used for node signature validation. This is true for all peers and orderers. The java sdk uses the getAllTLSCerts method, which is a byte[] and sets that into the ""pemBytes"" property for the peer/orderer. I used the java sdk SDPeerAddition and SDOrdererAddition overrides to figure this out and create the final ""pemBytes"" properly so that each cert is properly separated out. It works.
Other observations # Putting in the node TLS cert into the node TLSCACert property (pemBytes) works and so does the TLSCA root cert (returned in discovery). This is odd. One would expect only the root tlsca cert to work here since its the one being used for issuer validation. Anyway something to confirm with fabric team to give us a better understanding. Ideally providing the node certificate as the TLSCA root should fail.

 

Here's an example of the certs being returned by service discovery:

 

```
-----BEGIN CERTIFICATE-----
MIIB8TCCAZigAwIBAgIUN2X5l0jAztTue6Jt1xiWfI7J++MwCgYIKoZIzj0EAwIw
VzEMMAoGA1UEChMDSUJNMRcwFQYDVQQLEw5pYnAuT3JkZXJlck9yZzEuMCwGA1UE
AxMlZmFicmljLWNhLU9yZGVyZXJPcmctcGFyZW50VExTLXNlcnZlcjAeFw0xODEw
MTAwODM2MDBaFw0zMzEwMDYwODM2MDBaMFcxDDAKBgNVBAoTA0lCTTEXMBUGA1UE
CxMOaWJwLk9yZGVyZXJPcmcxLjAsBgNVBAMTJWZhYnJpYy1jYS1PcmRlcmVyT3Jn
LXBhcmVudFRMUy1zZXJ2ZXIwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATfJe8a
VTHLDsUx5+kldJHpcZ7tQeGPQ9VApXs02CieVkh/yV0se/aI5/H5voZ+vDODlH+4
A3WSjo8EC4Q9ifoDo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB
/zAdBgNVHQ4EFgQUo9KuEjPBKW3WkQiNn0sa2P5IxqwwCgYIKoZIzj0EAwIDRwAw
RAIgH1VTpYwdT97xkbpjKmyjVLUxlkrkyaUsvq1BWX7lUn4CIESDgEZNe/zzfKGW
yiB/0yVxridGjJ6a4u/9Ays2TARM
-----END CERTIFICATE----------BEGIN CERTIFICATE-----
MIIB/jCCAaSgAwIBAgIUbXEDYzeTzI6Mfst107IE7bXTKz8wCgYIKoZIzj0EAwIw
XTELMAkGA1UEBhMCVVMxFzAVBgNVBAgTDk5vcnRoIENhcm9saW5hMRQwEgYDVQQK
EwtIeXBlcmxlZGdlcjEPMA0GA1UECxMGRmFicmljMQ4wDAYDVQQDEwV0bHNjYTAe
Fw0yMDA1MDYxNzU4MDBaFw0zNTA1MDMxNzU4MDBaMF0xCzAJBgNVBAYTAlVTMRcw
FQYDVQQIEw5Ob3J0aCBDYXJvbGluYTEUMBIGA1UEChMLSHlwZXJsZWRnZXIxDzAN
BgNVBAsTBkZhYnJpYzEOMAwGA1UEAxMFdGxzY2EwWTATBgcqhkjOPQIBBggqhkjO
PQMBBwNCAAQv7DT7I1cfdjfXXKCSfXUfnqeTSv+tBg0pzM06bQFbi9urDF8oT3AY
S/mMkU0AjtAFM1wDRT8AZdtvtSrbyjSto0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYD
VR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUm1vYz7VY4OejVEEbNS+I+eRKr5YwCgYI
KoZIzj0EAwIDSAAwRQIhALOoLlLw6ElglEUoxdyXF5zvHzxA+rnL//rCNz3YfG8V
AiBr+jhr03XQ8EmvVoGY2VKghfX4zBYTifVGHXq1Yc/Y+w==
-----END CERTIFICATE-----
 

Listed as high since this will affect any users with java SDK and these certificates.",,bestbeforetoday,lesleyannj,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:r",,,,Unset,Unset,2Oct-9Oct,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,lesleyannj,ptippett,,,,,,,,,dev,release-1.4,main,,,,,true,"09/Oct/20 10:09 PM;lesleyannj;Ideally back ported to 1.4.;;;","13/Oct/20 10:10 PM;bestbeforetoday;[~ptippett] I can see that the Java SDK will concatenate certificate PEMs returned from discovery into a single byte array, as described in the problem report, and this causes a failure if that byte array is passed to java.security.cert.CertificateFactory.generateCertificates(). To resolve this, I am explicitly adding a newline after each certificate PEM when they are added to the byte array. This should solve the issue if some of the certificate PEMs returned by discovery are not terminated with a newline, and is an SDK bug.

If discovery is somehow concatenating multiple PEMs not separated by newlines and returning these as a single certificate PEM, the problem is going to persist as the SDK is expecting each entry to be a single PEM. I think that if this is happening then it is either a discovery or a configuration bug, although it is something that could be worked around in the SDK.

Is it practical to pick up the current fixed code to see if it solves the problem is the system where it is observed? This could be done by pulling the source code from GitHub and doing a `mvn install` in the client environment. Alternatively I can publish a snapshot release to Maven staging, although this will require changes to the application POM file to pull an appropriate SDK version from that Maven repository.;;;","13/Oct/20 10:39 PM;ptippett;[~bestbeforetoday]This is on a users environment, but the user seems to be pretty technical so it's possible they could do this.  I'll ask.  My concern with fixing this in configuration or in service discovery is that's much more complicated of a change vs having the SDK work around these issues.  But we can talk about that once he tests the results.  The customer is on fabric 1.4.x.  Which branch of SDK should they use?;;;","13/Oct/20 10:56 PM;bestbeforetoday;For Fabric v1.4 then the v1.4 SDK is the right choice: [https://github.com/hyperledger/fabric-sdk-java/tree/release-1.4]

 ;;;","14/Oct/20 12:43 AM;bestbeforetoday;I have published this fix described above in fabric-sdk-java release v2.2.2 and v1.4.12. There may be some delay before these releases are mirrored out to all the Maven Central servers and become visible to clients.;;;","17/Oct/20 4:41 AM;ptippett;[~bestbeforetoday] user replied that they are happy with the SDK fix.  Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run builds on Ubuntu 20.04,FABJ-541,46235,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,23/Oct/20 6:12 PM,30/Oct/20 4:10 PM,28/Oct/23 2:21 AM,28/Oct/20 10:41 PM,,,,,,,,,,0,sdk-triaged,,,,,,,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:qyzw",,,,Unset,Unset,23Oct to 30Oct,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
memory leak for connecting dead peer,FABJ-542,46255,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Won't Do,,kaelJ,kaelJ,28/Oct/20 3:20 PM,10/Nov/20 11:02 PM,28/Oct/23 2:21 AM,10/Nov/20 11:02 PM,,,,,,,,,,0,external,,,,,"there has one server that listening the blockEvent and it wont send any transaction which means it will not try to connect to the peer on purpose 

and the sdk v1.4.2  ,Peer.java#reconnect the retry argument make it always to connect the 

dead peer and it occurs the memory leak (mem keeps loading up)

 

its easy to recurrence: just config the wrong peer or orderer address ",,kaelJ,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01h03:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kaelJ,lesleyannj,,,,,,,,,,,,,,,,,,"04/Nov/20 11:23 PM;lesleyannj;Please can you provide more details and in particular steps to recreated issue.;;;","10/Nov/20 11:02 PM;lesleyannj;No further information provided.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make serialization methods of IdemixIssuerPublicKey and IdemixCredential PUBLIC!!,FABJ-543,46392,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,High,Won't Do,,johannwest,johannwest,06/Dec/20 10:05 AM,21/May/21 6:05 PM,28/Oct/23 2:21 AM,21/May/21 6:05 PM,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"*Little context:*
 * **I am enabling Idemix identities in *fabric-gateway-java* and for that I implemented the required interfaces, based on {color:#FF0000}org.hyperledger.fabric.gateway{color}{color:#FF0000}.impl.identity{color}.{color:#FF0000}X509IdentityImpl{color}. 
 * For that, it is required, by the interface {color:#FF0000}org.hyperledger.fabric.gateway.impl.identity.identity.IdentityProvider {color}the implementation of the method ***JsonObject toJson(Identity identity).*

*Task:*

**In order to implement this method I need the following methods to be public, to serialize the Identity to be saved in the *Gateway Wallet:*
 # ****org.hyperledger.fabric.sdk.idemix.*IdemixIssuerPublicKey.toProto*() to public visibility, instead of only package visibility.
 # org.hyperledger.fabric.sdk.idemix.*IdemixCredential.toProto*() to public visibility, instead of only package visibility.

 ",,bestbeforetoday,johannwest,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Dec/20 3:37 PM;johannwest;IdemixCredential.java;https://jira.hyperledger.org/secure/attachment/18860/IdemixCredential.java","06/Dec/20 3:37 PM;johannwest;IdemixIssuerPublicKey.java;https://jira.hyperledger.org/secure/attachment/18861/IdemixIssuerPublicKey.java",,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01hmb:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,johannwest,,,,,,,,,,,,,,,,,,"26/Feb/21 4:20 AM;johannwest;Not necessary!

 

I found out a way to implement Idemix Identity on *fabric-**gateway-**java* regardless.

 

I intend to post my implementation soon.


Thank you

 

 ;;;","21/May/21 6:05 PM;bestbeforetoday;Thank you for the update. I'll close this task for now since you've found a solution.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to check if a transaction is the init transaction,FABJ-544,46426,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,danilofaria7,danilofaria7,danilofaria7,15/Dec/20 4:07 AM,27/Jan/21 10:53 PM,28/Oct/23 2:21 AM,27/Jan/21 10:53 PM,,,,,,,,,,0,external,sdk-triaged,,,,"It is useful to know if a transaction is the init transaction for example in cases when a client listening from genesis needs to wait to make sure the chaincode has been inited before invoking any chaincode functions.

 ",,danilofaria7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:qyzzrf6kzzzzzzyzw",,,,Unset,Unset,25Jan-1Feb,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),danilofaria7,,,,,,,,,,,dev,main,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
log4j-core-2.13.3 and log4j-1.2-api-2.13.3 have a merge conflict in fabric-sdk-java 2.2.0,FABJ-545,46467,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,lesleyannj,AnthonyLusardi,AnthonyLusardi,06/Jan/21 3:50 AM,09/Feb/21 6:55 PM,28/Oct/23 2:21 AM,05/Feb/21 1:29 AM,,,,,,,,,,0,Conflict,dependency,sdk-triaged,,,"*Type*

Bug 

*Component*

fabric-sdk-java

*Fix Versions*

v2.2

 

When using fabric-sdk-java as a dependency in [daml-on-fabric|https://github.com/digital-asset/daml-on-fabric] the following error is thrown:
{code:java}
[info] No tests were executed.
[info] Passed: Total 0, Failed 0, Errors 0, Passed 0
[error] 1 error was encountered during merge
[error] java.lang.RuntimeException: deduplicate: different file contents found in the following:
[error] /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-core/jars/log4j-core-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat
[error] /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-1.2-api/jars/log4j-1.2-api-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat
[error] 	at sbtassembly.Assembly$.applyStrategies(Assembly.scala:143)
[error] 	at sbtassembly.Assembly$.x$1$lzycompute$1(Assembly.scala:25)
[error] 	at sbtassembly.Assembly$.x$1$1(Assembly.scala:23)
[error] 	at sbtassembly.Assembly$.stratMapping$lzycompute$1(Assembly.scala:23)
[error] 	at sbtassembly.Assembly$.stratMapping$1(Assembly.scala:23)
[error] 	at sbtassembly.Assembly$.inputs$lzycompute$1(Assembly.scala:68)
[error] 	at sbtassembly.Assembly$.inputs$1(Assembly.scala:58)
[error] 	at sbtassembly.Assembly$.apply(Assembly.scala:85)
[error] 	at sbtassembly.Assembly$.$anonfun$assemblyTask$1(Assembly.scala:244)
[error] 	at scala.Function1.$anonfun$compose$1(Function1.scala:49)
[error] 	at sbt.internal.util.$tilde$greater.$anonfun$$u2219$1(TypeFunctions.scala:62)
[error] 	at sbt.std.Transform$$anon$4.work(Transform.scala:67)
[error] 	at sbt.Execute.$anonfun$submit$2(Execute.scala:281)
[error] 	at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:19)
[error] 	at sbt.Execute.work(Execute.scala:290)
[error] 	at sbt.Execute.$anonfun$submit$1(Execute.scala:281)
[error] 	at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:178)
[error] 	at sbt.CompletionService$$anon$2.call(CompletionService.scala:37)
[error] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
[error] 	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
[error] 	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
[error] 	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
[error] 	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
[error] 	at java.base/java.lang.Thread.run(Thread.java:835)
[error] (assembly) deduplicate: different file contents found in the following:
[error] /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-core/jars/log4j-core-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat
[error] /Users/anthonylusardi/.ivy2/cache/org.apache.logging.log4j/log4j-1.2-api/jars/log4j-1.2-api-2.13.3.jar:META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat
[error] Total time: 5 s, completed Jan 5, 2021, 8:53:58 AM
make: *** [package] Error 1
{code}
 

The dependency is declared like:
{code:java}
lazy val fabricSdkVersion = ""2.2.0""
// ...
// fabric 
(""org.hyperledger.fabric-sdk-java"" % ""fabric-sdk-java"" % fabricSdkVersion) .excludeAll(ExclusionRule(organization = ""javax.xml.bind"", name = ""jaxb-api"")),
{code}
A temporary workaround is to change the MergeStrategy to rename:
{code:java}
case ""META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat"" => MergeStrategy.rename
{code}",,AnthonyLusardi,bestbeforetoday,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:qyzzrf6kzzzzzzyzu",,,,Unset,Unset,1Feb to 8Feb,,,,,,"Depend on fabric-sdk-java 2.2
Build project",,Unset,,,,,,Unset,,Unset,,(Please add usage information),AnthonyLusardi,bestbeforetoday,lesleyannj,,,,,,,,,dev,main,,,,,,true,"13/Jan/21 3:28 AM;bestbeforetoday;This looks to be a difference in behaviour between the Maven and SBT assembly plugins, and the conflict occurs between *log4j-core* and *log4j-1.2-api*. Can you suggest any way we can address this in *fabric-sdk-java*?;;;","13/Jan/21 3:33 AM;bestbeforetoday;This Log4J issue looks like it might be relevant, but states that it was fixed in Log4J v2.13.1: [https://issues.apache.org/jira/browse/LOG4J2-2735];;;","13/Jan/21 3:51 AM;AnthonyLusardi;[~bestbeforetoday] I guess you could do the same rename MergeStrategy but I'm not sure of the correct way to address this. Perhaps removing one of the dependencies?

Sorry I can't be of more help as I'm not familiar with dependency management in Java.;;;","27/Jan/21 10:54 PM;lesleyannj;Try new Log4j version;;;","03/Feb/21 12:48 AM;AnthonyLusardi;Hey [~lesleyannj] not sure if my bug report was clear but is the suggestion here for [~bestbeforetoday] to upgrade fabric-sdk-java to 2.14.0 for both log4j dependencies?

 

[https://github.com/hyperledger/fabric-sdk-java/blob/9516351ee32c043fa12fcc965c2b76eeb73d8937/pom.xml#L40];;;","03/Feb/21 4:25 AM;bestbeforetoday;If using log4j-core and log4j-1.2-api at v2.14.0 solves the issue then I can make that change to the fabric-sdk-java dependencies. Using Maven you should typically be able to test that theory by specifying explicit dependencies on those artifact versions in a local project, and everything will use the higher version to satisfy the Maven dependency resolution.

As I mentioned before, a Log4J defect that looks similar to the issue you describe was apparently fixed by Log4J v2.13.1, and fabric-sdk-java already uses v2.13.3 so we should have that fix.

I it isn't fixed by fabric-sdk-java moving to Log4J 2.14.0 then it's an issue that needs to be resolved by Log4J themselves.;;;","05/Feb/21 1:30 AM;lesleyannj;log4j-core and log4j-api moved to v2.14.0 on master and 2.2 branches;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Publish v2.2.5 release,FABJ-546,46506,,Task,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,lesleyannj,lesleyannj,lesleyannj,22/Jan/21 8:20 PM,25/Jan/21 7:56 PM,28/Oct/23 2:21 AM,25/Jan/21 7:56 PM,,,,,,,,,,0,sdk-triaged,,,,,"Notes https://github.com/hyperledger/fabric-sdk-java/blob/release-2.2/docs/java_sdk_release.md

and review PR https://github.com/hyperledger/fabric-sdk-java/commit/67fc6b71297c2ab220d1ad97f029186d2676765a
",,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:qyzzrf6kzzzzzzyzy",,,,Unset,Unset,25Jan-1Feb,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memory leak in OrdererClient,FABJ-547,46558,,Bug,Unverified,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,akshatdixit,akshatdixit,12/Feb/21 7:44 PM,24/Feb/21 11:09 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,quality,sdk-triaged,,,"When there is an i/o exception thrown, the ManagedChannelImpl associated with the OrdererClient remains in the heap (is not thread-safe).

Attaching the analyzed images from heap dump of the same.

Pasting the exception:

Jan 20 19:20:23 gtd-maersk-perf-plt-actionable-flows-deployment-5b84674bc5zltxs plt-actionable-flows [org.springframework.kafka.KafkaListenerEndpointContainer#4-0-C-1] ERROR i.g.i.ManagedChannelOrphanWrapper - *~*~*~ Channel ManagedChannelImpl\{logId=2164329, target=n1ba1e5-orderer5node1.gtd-preprod.us-south.containers.appdomain.cloud:7050} was not shutdown properly!!! ~*~*~*Jan 20 19:20:23 gtd-maersk-perf-plt-actionable-flows-deployment-5b84674bc5zltxs plt-actionable-flows [org.springframework.kafka.KafkaListenerEndpointContainer#4-0-C-1] ERROR i.g.i.ManagedChannelOrphanWrapper - *~*~*~ Channel ManagedChannelImpl\{logId=2164329, target=n1ba1e5-orderer5node1.gtd-preprod.us-south.containers.appdomain.cloud:7050} was not shutdown properly!!! ~*~*~*    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.java.lang.RuntimeException: ManagedChannel allocation site at io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.<init>(ManagedChannelOrphanWrapper.java:94) at io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:52) at io.grpc.internal.ManagedChannelOrphanWrapper.<init>(ManagedChannelOrphanWrapper.java:43) at io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:512) at org.hyperledger.fabric.sdk.OrdererClient.sendTransaction(OrdererClient.java:157) at org.hyperledger.fabric.sdk.Orderer.sendTransaction(Orderer.java:164) at sun.reflect.GeneratedMethodAccessor772.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at com.ibm.tradelens.blockchain.client.CustomChannel.sendTransaction(CustomChannel.java:509) at com.ibm.tradelens.blockchain.client.BlockchainClient.submitTransaction(BlockchainClient.java:497) at com.ibm.gtd.actionable.flows.service.impl.ActionableFlowChaincodeServiceImpl.submitTransaction(ActionableFlowChaincodeServiceImpl.java:275)

 

Not able to upload the heap dump due to file size limitation.
Let us know where and how can we pass that to you.",,akshatdixit,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Feb/21 7:40 PM;akshatdixit;HeapDump_Images.zip;https://jira.hyperledger.org/secure/attachment/18890/HeapDump_Images.zip",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABJ-300,,,No,,Unset,No,,,"1|i01ifn:",,,,Unset,Unset,,,,,,,"1. Submit a transaction to an Orderer.
2. Disconnect the network.
Repeat the above multiple times.
We can see the retained space held by ManagedChannel & OrdererClient in the heap dump as part of the leak suspects.


",,Unset,,,,,,Unset,,Unset,,(Please add usage information),akshatdixit,lesleyannj,,,,,,,,,,,,,,,,,,"24/Feb/21 11:08 PM;lesleyannj;There is considerable investment required to rework in this code base.  The old low-level working is being fully re-written in the new Fabric Gateway implementation.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java SDK integration test flake: AssertionError: expected:<2> but was:<3>,FABJ-549,46632,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,lesleyannj,denyeart,denyeart,10/Mar/21 12:36 PM,12/Mar/21 12:09 AM,28/Oct/23 2:21 AM,12/Mar/21 12:09 AM,,,,,,,,,,0,ci-flake,sdk-triaged,,,,"Interop test failure in release-2.2:

[https://dev.azure.com/Hyperledger/Fabric-Test/_build/results?buildId=31391&view=logs&j=d0d2be3f-824e-5af7-b144-d4454adf631e&t=ca4c72e8-a3d2-5aff-1db9-024a1d39dfd7&s=51ce7656-fdec-5b56-aa00-280146367767]

 

 

2021-03-08T07:05:44.2474820Z [ERROR] Tests run: 51, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1,059.268 s <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite
 2021-03-08T07:05:44.2475720Z [ERROR] org.hyperledger.fabric.sdkintegration.End2endJavaIT.setup Time elapsed: 89.178 s <<< FAILURE!
 2021-03-08T07:05:44.2483746Z java.lang.AssertionError: expected:<2> but was:<3>
 2021-03-08T07:05:44.2484462Z at org.hyperledger.fabric.sdkintegration.End2endJavaIT.setup(End2endJavaIT.java:60)
 2021-03-08T07:05:44.2484788Z 
 2021-03-08T07:05:44.6902275Z [INFO] 
 2021-03-08T07:05:44.6902764Z [INFO] Results:
 2021-03-08T07:05:44.6903085Z [INFO] 
 2021-03-08T07:05:44.6903402Z [ERROR] Failures: 
 2021-03-08T07:05:44.6904660Z [ERROR] End2endJavaIT.setup:60->End2endIT.runFabricTest:209->End2endIT.runChannel:786 expected:<2> but was:<3>
 2021-03-08T07:05:44.6905484Z [INFO] 
 2021-03-08T07:05:44.6905902Z [ERROR] Tests run: 51, Failures: 1, Errors: 0, Skipped: 0",,denyeart,lesleyannj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01ge9:qyzzrf6kzzzzzzxi",,,,Unset,Unset,8Feb to 15Feb,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,lesleyannj,,,,,,,,,,dev,main,,,,,,true,"10/Mar/21 12:37 PM;denyeart;Failed twice this week.;;;","10/Mar/21 8:01 PM;lesleyannj;End2endIT.runChannel:786 expected:<2> but was:<3>

assertEquals(numberEventsExpected, chaincodeEvents.size());;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the ability to add properties to peers that were discovered through service discovery,FABJ-550,46658,,Task,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,nayutalienx,nayutalienx,20/Mar/21 1:34 AM,22/Mar/21 10:53 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,community-help-wanted,external,sdk-triaged,,,"In the fabric sdk, it is possible to increase the maximum message size in the grpc-java library (example: https://github.com/hyperledger/fabric-sdk-java/blob/8044bac1bfe9baf9d6360b067e0d6b5445cc953d/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L867), but when service discovery detects a new peer, it sets the default grpc configuration values (https://github.com/hyperledger/fabric-sdk-java/blob/a531d6a983496a2e1892475f801e99f596b46b79/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L1439). Can you please add an option so that you can adjust the peer properties that service discovery added ?",,nayutalienx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01j2z:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nayutalienx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
finalize() method should be removed,FABJ-551,46679,,Story,Backlog,FABJ,Fabric SDK Java,software,calanais,,,Medium,,,conanoc,conanoc,26/Mar/21 3:32 PM,26/Mar/21 6:29 PM,28/Oct/23 2:21 AM,,,,,,,,,,,0,external,,,,,"It's deprecated but there are some classes defining this such as Channel.

[https://github.com/hyperledger/fabric-sdk-java/blob/v2.2.5/src/main/java/org/hyperledger/fabric/sdk/Channel.java#L6399]

 

shutdown() method should be called elsewhere if we remove finalize().

One problem of using finalize() in Channel is that HFClient doesn't provide a method of shutting down all channels for clean up.",,conanoc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01j77:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),conanoc,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PeerEventServiceClient retries connection forever,FABJ-552,46680,,Bug,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Invalid: Works as Expected,,conanoc,conanoc,26/Mar/21 4:06 PM,17/Jun/21 1:48 AM,28/Oct/23 2:21 AM,17/Jun/21 1:48 AM,,,,,,,,,,0,external,,,,,"Problem:

PeerEventServiceClient retries connection forever when it fails to connect to the peer.

 

Reason:

PeerEventServiceClient.connectEnvelope() is using a variable ""retry"" to retry only once.

[https://github.com/hyperledger/fabric-sdk-java/blob/v2.2.5/src/main/java/org/hyperledger/fabric/sdk/PeerEventServiceClient.java#L187]

 

And it calls peer.reconnectPeerEventServiceClient() to reconnect on error.

[https://github.com/hyperledger/fabric-sdk-java/blob/v2.2.5/src/main/java/org/hyperledger/fabric/sdk/PeerEventServiceClient.java#L290]

 

But, peer.reconnectPeerEventServiceClient() creates a new PeerEventServiceClient to retry connection. So, the ""retry"" variable in PeerEventServiceClient is useless and the retry is done forever.",,bestbeforetoday,conanoc,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01j7f:",,,,Unset,Unset,,,,,,,"Here's the code snippet to reproduce the issue.
Run the following code and check the log.

        HFClient client = HFClient.createNewInstance();
        client.setCryptoSuite(CryptoSuite.Factory.getCryptoSuite());
        
        client.setUserContext(testUser);
        Channel channel = client.newChannel(""channel"");
        Peer peer = client.newPeer(""peer1"", ""grpcs://peer.in.nowhere:1234"");
        channel.addPeer(peer);
        channel.initialize();
        Thread.sleep(20*1000);
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,conanoc,denyeart,,,,,,,,,,,,,,,,,"05/May/21 10:00 PM;denyeart;This appears to be working as designed. Is there a reason why you wouldn't want to keep retrying?;;;","10/May/21 1:50 PM;conanoc;# It prints too many error logs because there is no interval between retries.
 # It will consume much CPU time because it retries forever.;;;","14/Jun/21 5:40 PM;bestbeforetoday;It looks like the config property *org.hyperledger.fabric.sdk.peer.retry_wait_time* should set the wait time between reconnect attempts in milliseconds, with the default being 500ms. I think you should be able to use the environment variable {{ORG_HYPERLEDGER_FABRIC_SDK_PEER_RETRY_WAIT_TIME}} to set this too.;;;","15/Jun/21 6:58 PM;conanoc;It does not wait 500ms between reconnect attempts. It retries with no delay. I can see the timestamps in the log messages and it's just several milliseconds between the logs.;;;","15/Jun/21 8:15 PM;bestbeforetoday;Strange. There is clearly a sleep here in the default disconnect/reconnect handler:

[https://github.com/hyperledger/fabric-sdk-java/blob/043af8728c5338cb6b4ee69bc76bc27ef4c721d6/src/main/java/org/hyperledger/fabric/sdk/Peer.java#L532]

Maybe the reconnect is happening down a different code path, or this sleep is interrupted for some reason?;;;","16/Jun/21 10:03 AM;conanoc;I think I was confused with other log messages. I tested it again and the connection log messages have intervals of 500ms.;;;","17/Jun/21 1:48 AM;bestbeforetoday;Thank you for the confirmation. Since it's not retrying the connection in a tight loop and the interval between retries is configurable, I'm going to close this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include OWASP vulnerability check in main build,FABJ-553,46955,,Story,Closed,FABJ,Fabric SDK Java,software,calanais,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,18/Jun/21 1:30 AM,26/Aug/21 11:43 PM,28/Oct/23 2:21 AM,26/Aug/21 11:43 PM,,,,,,,,,,0,,,,,,"*As a* project maintainer
*I want* to fail the build when high severity security vulnerabilities are detected
*So that* I can ensure releases are free from vulnerabilities",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01kab:",,,,Unset,Unset,,,,,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dev,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
