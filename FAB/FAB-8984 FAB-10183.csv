Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Git Code Review),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Flagged),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
"Rejecting broadcast of message from x.x.x.x:x with SERVICE_UNAVAILABLE: rejected by Consenter: will not enqueue, consenter for this channel hasn't started yet",FAB-8984,28683,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,zamrokk,zamrokk,20/Mar/18 11:52 PM,11/Dec/18 2:50 AM,28/Oct/23 3:02 AM,03/Apr/18 10:40 PM,,,,v1.1.0-preview,,,fabric-orderer,,,,0,kafka,,,,"I have split the blockchain network into 2 machines :

- 158.177.114.211 : 

2 zookeepers

2 kafka

1 ca

1 peer

- 92.103.147.67 : 

1 zookeeper

2 kafka

1 peer

 

When I try to initialize a channel on the network, the Java SDK receive this error from the orderer : 
{quote}org.hyperledger.fabric.sdk.exception.TransactionException: Channel channel1 update error timed out after 15215 ms. Status value 503. Status SERVICE_UNAVAILABLE. will not enqueue, consenter for this channel hasn't started yet
 at org.hyperledger.fabric.sdk.Channel.sendUpdateChannel(Channel.java:495) [fabric-sdk-java-1.1.0-alpha.jar:na]
 at org.hyperledger.fabric.sdk.Channel.<init>(Channel.java:216) [fabric-sdk-java-1.1.0-alpha.jar:na]
 at org.hyperledger.fabric.sdk.Channel.createNewInstance(Channel.java:308) [fabric-sdk-java-1.1.0-alpha.jar:na]
 at org.hyperledger.fabric.sdk.HFClient.newChannel(HFClient.java:206) [fabric-sdk-java-1.1.0-alpha.jar:na]
 at com.ibm.controller.MyController.constructChannel(MyController.java:761) [classes/:na]
 at com.ibm.controller.MyController.initialize(MyController.java:505) [classes/:na]
{quote}
 

Here is what we can see on the first machine log :
{quote}orderer0.byomc.com    | 2018-03-20 14:10:14.747 UTC [orderer/common/broadcast] Handle -> WARN 28a [channel: channel1] Rejecting broadcast of message from 90.63.249.102:64030 with SERVICE_UNAVAILABLE: rejected by Consenter: will not enqueue, consenter for this channel hasn't started yet
{quote}
 

 

ps : If I gather all my components on the same machine it works well

pps: I added my project on attached files. I split compose files to start first zookeeper+kafka on a first step , then launching the rest .  To run it on each machine :

machine fr
 * ./fabric.sh up kafka-fr
 * ./fabric.sh up fr+ca+orderer

machine sn
 * ./fabric.sh up kafka-sn
 * ./fabric.sh up sn

 

[^network-compose.zip]",,guolidong,MikeEmery,npcxu,prashantsawant12,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Mar/18 11:45 PM;zamrokk;network-compose.zip;https://jira.hyperledger.org/secure/attachment/14802/network-compose.zip",,,,,,,,,,,,,,,,,,,,,,,"1|hzz253:",,,,,,,,,,,,,,,,,,,,,guolidong,MikeEmery,npcxu,prashantsawant12,zamrokk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Mar/18 2:00 AM;zamrokk;output of commands gives :

/opt/kafka/bin/kafka-con --zookeeper zookeeper1:2181
{quote}testchainid
{quote}
 

/opt/kafka/bin/kafka-console-consumer.sh --zookeeper zookeeper0:2181 --topic testchainid --from-beginning

 
{quote}[2018-03-20 16:57:15,265] WARN [console-consumer-18129_aa5d7f63504d-1521565033953-3fb20755-leader-finder-thread], Failed to add leader for partitions testchainid-0; will retry (kafka.consumer.ConsumerFetcherManager$LeaderFinderThread)

java.nio.channels.ClosedChannelException

 at kafka.network.BlockingChannel.send(BlockingChannel.scala:110)

 at kafka.consumer.SimpleConsumer.liftedTree1$1(SimpleConsumer.scala:98)

 at kafka.consumer.SimpleConsumer.kafka$consumer$SimpleConsumer$$sendRequest(SimpleConsumer.scala:83)

 at kafka.consumer.SimpleConsumer.getOffsetsBefore(SimpleConsumer.scala:149)

 at kafka.consumer.SimpleConsumer.earliestOrLatestOffset(SimpleConsumer.scala:188)

 at kafka.consumer.ConsumerFetcherThread.handleOffsetOutOfRange(ConsumerFetcherThread.scala:87)

 at kafka.server.AbstractFetcherThread$$anonfun$6.apply(AbstractFetcherThread.scala:210)

 at kafka.server.AbstractFetcherThread$$anonfun$6.apply(AbstractFetcherThread.scala:208)

 at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)

 at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:234)

 at scala.collection.immutable.Map$Map1.foreach(Map.scala:116)

 at scala.collection.TraversableLike$class.map(TraversableLike.scala:234)

 at scala.collection.AbstractTraversable.map(Traversable.scala:104)

 at kafka.server.AbstractFetcherThread.addPartitions(AbstractFetcherThread.scala:208)

 at kafka.server.AbstractFetcherManager$$anonfun$addFetcherForPartitions$2.apply(AbstractFetcherManager.scala:88)

 at kafka.server.AbstractFetcherManager$$anonfun$addFetcherForPartitions$2.apply(AbstractFetcherManager.scala:78)

 at scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)

 at scala.collection.immutable.Map$Map1.foreach(Map.scala:116)

 at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:732)

 at kafka.server.AbstractFetcherManager.addFetcherForPartitions(AbstractFetcherManager.scala:78)

 at kafka.consumer.ConsumerFetcherManager$LeaderFinderThread.doWork(ConsumerFetcherManager.scala:97)

 at kafka.utils.ShutdownableThread.run(ShutdownableThread.scala:63)
{quote};;;","21/Mar/18 2:06 AM;zamrokk;/opt/kafka/bin/kafka-topics.sh --describe --zookeeper zookeeper0:2181 --topic testchainid

 
{quote}Topic:testchainid PartitionCount:1 ReplicationFactor:3 Configs:

 Topic: testchainid Partition: 0 Leader: 2 Replicas: 2,0,1 Isr: 2,0,1
{quote};;;","21/Mar/18 5:46 PM;zamrokk;it sounds like a hostname / IP issue working with Kafka ...;;;","26/Mar/18 6:28 PM;zamrokk;I have configured static IP on the kafka configuration 

 

+Example of configuration for the orderer on first host pointing to second host IP:+

orderer1.byomc.com:

- CONFIGTX_ORDERER_KAFKA_BROKERS=[kafka0:9092,kafka1:9092,*92.103.147.67*:9092,*92.103.147.67*:9093]

 

+Resolution of kafka3 IP that is on second host from orderer1 logs :+

*orderer1.byomc.com_1  |* 2018-03-26 08:36:03.572 UTC [orderer/consensus/kafka/sarama] func1 -> DEBU 119 Failed to connect to broker kafka3:9192: dial tcp: *{color:#ff0000}lookup kafka3 on 127.0.0.11:53: no such host{color}*

 

{color:#d04437}*It seems the loop up is searching for a local address but my 2 hosts are on 2 different networks and machines.*{color}

 

{color:#333333}on the second host, orderer2 is still looping{color}

*orderer2.byomc.com_1*  | 2018-03-26 08:47:01.718 UTC [orderer/consensus/kafka/sarama] tryRefreshMetadata -> DEBU 1c8 client/metadata found some partitions to be *{color:#d04437}leaderless{color}*

{color:#333333} {color}

 ;;;","29/Mar/18 5:04 PM;zamrokk;maybe it should on same network. I will have a look at overlay on 2 hosts ...;;;","03/Apr/18 10:40 PM;zamrokk;resolved : playing with fixed IP + ""extra_hosts"" feature + opening all ports on the NAT ;;;","12/Jul/18 11:20 PM;prashantsawant12;@bejnjamin - will you be able to share the multi host kafka setup? I am facing the exact sam e issue.;;;","12/Jul/18 11:23 PM;prashantsawant12;will you be able to share the config files. I am facing exact same issue;;;","25/Sep/18 10:06 PM;guolidong;Is it resolved?

 ;;;","11/Dec/18 2:46 AM;MikeEmery;Commenting here for anyone else following behind. ran into this (or a very similar issue) this weekend. Orderers were having connection timeout issues with a single kafka container (other orderers were talking to other kafka containers just fine). After restarting the kafka container, functionality was restored.

 

This setup was working fine one day, then suddenly not the next. Zero indication what the problem was with the kafka container - other non-orderer applications were still able to communicate with it.;;;",,,,,,,,,,,,
Add support for chaincode metadata installation,FAB-8987,28687,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 1:55 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,"The design of the chaincode lifecycle calls for channel-scoped, chaincode metadata packages.

These metadata packages describe the chaincode which is being defined and are used to help a peer's LSCC decide whether or not to endorse a 'Define' proposal.

This feature is to track the implementation of this piece of the design.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz25r:",,,,Unset,,Next Items- Lifecycle & Config,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jun/18 2:20 AM;jyellick;Reworking as stories;;;",,,,,,,,,,,,,,,,,,,,,
"Add LSCC implementation of ""InstallMetadata""",FAB-8988,28688,28687,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,21/Mar/18 2:01 AM,26/Aug/19 6:04 PM,28/Oct/23 3:02 AM,26/Aug/19 6:04 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The LSCC needs to implement a new function ""InstallMetadata"".

This operation is channel scoped, and may only be invoked by the peer's admin.  It should add an entry for the chaincode metadata information into the peer local datastore for the LSCC chaincode.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8864,,,,,FAB-8989,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz25z:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add install chaincode metadata option to peer CLI,FAB-8989,28689,28687,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,21/Mar/18 2:05 AM,26/Aug/19 6:04 PM,28/Oct/23 3:02 AM,26/Aug/19 6:04 PM,,,,Future,,,fabric-peer,,,,0,,,,,"In order to test the new chaincode lifecycle flow in the end to end, and in order for users to use the CLI to deploy chaincodes, they must have a way to install metadata packages from the peer CLI.

This task is to implement a new peer CLI command ""installmetadata"" which takes a chaincode metadata package and invokes the LSCC.InstallMetadata function with it, for a particular channel.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8988,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz267:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor Deliver to allow use of generated mocks,FAB-8990,28690,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,21/Mar/18 2:24 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 6:50 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz26f:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 2:26 AM;sykesm;[x] Stop stuttering

[x] Export types as appropriate

[x] Constructors return implementations

[x] Interfaces are defined at use

[x] Mocks are generated from the local interfaces

 ;;;","24/Mar/18 2:59 AM;wlahti;https://gerrit.hyperledger.org/r/c/19687/;;;",,,,,,,,,,,,,,,,,,,,
Deprecate LSCC.Install and add LSCC.InstallCode,FAB-8991,28691,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:28 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,"Today, chaincode install stores non-code related artifacts like instantiation policy and signatures.

Because chaincode (code) installation is a global operation, and because fabric v1.2 may have some channels operating in a v1.2 lifecycle mode, and some channels operating in a v1.1/v1.0 lifecycle mode, it's necessary to support both of them in the new peer binary.

However, going forward, there will need to be a new LSCC.InstallCode function which stores the new chaincode code package.  To minimize upgrade pain, it likely makes sense to have both of these functions store their data in the same way, so that users do not have to 'install' and 'installcode' the same chaincode bytes twice.  Still, going forward, perhaps in v1.3, the plain 'install' function should be removed entirely.",,haibbo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz287:",,,,Unset,,Next Items- Lifecycle & Config,,,,Unset,,,,,,,,,,,haibbo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement peer CLI installcode command,FAB-8992,28693,28691,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:31 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The peer CLI needs to support installing the new v1.2 lifecycle style chaincode packages.  These code packages do not specify an instantiation policy and do not have signatures inside of them.  Further, these packages are installed via LSCC.InstallCode and not through the deprecated LSCC.Install function.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz28n:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement LSCC.InstallCode function in the LSCC,FAB-8993,28694,28691,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:32 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"This task is to track the implementation of the LSCC.InstallCode command as described in the design document.

This API accepts a code package and stores it globally.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz28v:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add warning to chaincode install command,FAB-8994,28695,28691,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:34 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The 'peer chaincode install' command takes a deprecated data format and reproduces the functionality of the 'peer chaincode installcode' command.  Users should begin to migrate away from the 'install' command in favor of the 'installcode' command.  Therefore, there should be a warning displayed in the command output when this is invoked so that users who are still using this deprecated form of installation can begin their migration.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz293:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add LSCC.Define functionality,FAB-8996,28697,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:39 AM,21/Jul/18 3:51 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,"To flexibly and securely instantiate chaincode, the 'instantiate step' has been split into a 'define' step, and an 'Init' step.

The 'Define' step collects endorsements from different peers which have the chaincode metadata package installed.

This Define step needs to be implemented as a function of the LSCC and exposed through the peer CLI.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz29j:",,,,Unset,,Next Items- Lifecycle & Config,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement LSCC.Define in peer,FAB-8997,28698,28697,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:41 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The LSCC.Define function needs to take a chaincode metadata package as an argument, verify that the corresponding package is installed on the peer, and if so, produce an RW set defining this chaincode in the LSCC table.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz29r:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a new chaincode define command,FAB-8998,28699,28697,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:44 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,fabric-peer,,,,0,,,,,"Chaincodes must now be defined before they can be initialized.  The peer CLI needs to provide a mechanism to perform this procedure in the form of a new 'peer chaincode define' command.

This command needs to take a set of endorsers, retrieve the endorsements, and finally submit it to ordering.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8863,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz29z:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecate the peer chaincode deploy and peer chaincode upgrade commands,FAB-8999,28700,28697,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 2:47 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The existing deploy and upgrade chaincode commands no longer make sense in an improved lifecycle world.  Although we need to leave them in place for backwards compatibility in a network which has not upgraded entirely to fabric v1.2, these commands should detect when they are being executed against a v1.2 channel and they should return an informative error to the user, indicating that these commands are no longer relevant.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2a7:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for new chaincode lifecycle,FAB-9000,28702,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Mar/18 2:49 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Jun/18 2:25 AM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,"The chaincode lifecycle changes will need to be developed in such a way that the existing end to end does not break, and that they can be disabled until the entire end to end is available, the tests and samples have all been migrated, etc.

This task is to do the underlying work to prepare for chaincode lifecycle development.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11237,,,,,,,,,,"1|hzz2af:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define chaincode lifecycle protos,FAB-9001,28703,28702,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,jyellick,jyellick,jyellick,21/Mar/18 2:53 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The existing chaincode protos are a bit of a mess.  Since we have to maintain backwards compatibility with the old mechanics for channels which are not yet migrated to v1.2, it would be very challenging to use these old protos.  Instead, it makes sense to simply define new ones for the chaincode lifecycle work.",,jiangyaoguo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2bj:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jiangyaoguo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define a new v1.2 capability,FAB-9002,28704,28702,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Mar/18 2:54 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 6:30 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,This capability should gate incompatible v1.2 code changes.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2br:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Define development/experimental chaincode lifecycle capability,FAB-9003,28705,28702,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Mar/18 2:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Mar/18 11:15 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Because chaincode lifecycle is going to take a significant portion of v1.2 to develop, and because other incompatible features amy wish to leverage the v1.2 capability, we should define a lifecycle specific capability which will later be removed and instead the v1.2 capability will be leveraged.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2bz:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create new default validation plugin,FAB-9004,28706,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,21/Mar/18 2:59 AM,04/Apr/19 10:04 PM,28/Oct/23 3:02 AM,04/Apr/19 10:04 PM,,,,v2.0.0,,,fabric-peer,,,,0,,,,,"The current validation plugin is not compatible with the improved lifecycle.

Notably, the VSCC contains special checks for invocations of 'LSCC'.  The new lifecycle also depends on standard VSCC validations for the LSCC functions.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,,"1|hzz1al:",,,,Unset,,Next Items- Lifecycle & Config,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create new v1.2 default VSCC,FAB-9005,28707,28706,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 3:02 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"For networks with the v1.2 capability enabled, they should use the new lifecycle, which means they should use a new VSCC which does not have any specific 'LSCC"" checks in it.  The new VSCC must enforce whatever is required of the new ESCC for exactly once init semantics, but this will be common for all chaincodes.

Note, the new default VSCC should be given a sane name.  Something like ""exactly-once-init-static-endorsement-policy"" or similar.  Even ""EOISEP"" would be a superior name to ""VSCC"".",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2cf:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create new v1.2 default ESCC,FAB-9006,28708,28706,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,jyellick,jyellick,21/Mar/18 3:05 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"The new default ESCC must enforce once-exactly semantics for the 'Init' function.

It should write an entry into the namespace of the ESCC indicating whether the chaincode has been initialized for this incarnation of the chaincode bytes.  The VSCC will need to include a corresponding check to enforce that this ESCC write is correct.

Note, the new default ESCC should be given a sane name which reflects its purpose, like ""once-exactly-init-local-signer"" or similar.  Even ""OEILS"" would be a superior name to simply ""ESCC"".",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2cn:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update end-to-end tests to utilize new chaincode lifecycle,FAB-9007,28709,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,MichaelWang,jyellick,jyellick,21/Mar/18 3:08 AM,06/Mar/19 2:31 AM,28/Oct/23 3:02 AM,06/Mar/19 2:31 AM,,,,v2.0.0,,,fabric-peer,,,,0,,,,,"Once everything is in place, the end to end tests should be migrated to use the new chaincode lifecycle functions and flow.",,jyellick,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14017,FAB-14018,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11237,,,,,,,,,,"1|hzz2cv:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,MichaelWang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Mar/19 2:30 AM;wlahti;This is being handled via a number of other subtasks attached to the epic. Closing this JIRA since it's no longer necessary.;;;",,,,,,,,,,,,,,,,,,,,,
Update fabric-samples to use the new chaincode lifecycle,FAB-9008,28710,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,jyellick,jyellick,21/Mar/18 3:10 AM,04/Apr/19 11:53 PM,28/Oct/23 3:02 AM,04/Apr/19 11:53 PM,,,,v2.0.0,,,fabric-samples,,,,0,,,,,"Once working end to end, the fabric-samples need to be migrated onto the new chaincode lifecycle.  Note, this should include updating the corresponding documentation which references the samples.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,,"1|hzz2d3:",,,,Unset,,Next Items- Lifecycle & Config,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Certificate Expiry Check,FAB-9009,28711,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,biljana.lukovic,biljana.lukovic,21/Mar/18 3:16 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,,,,,0,stale-item,,,,,,biljana.lukovic,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2dz:",,,,Unset,,,,,,Unset,,,,,,,,,,,biljana.lukovic,sykesm,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Make cryptogen config structs and generators consumable,FAB-9010,28712,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,kchristidis,kchristidis,21/Mar/18 3:35 AM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,,,,Future,,,fabric-tools,,,,0,hygiene,,,,"As an integration test author, I want to be able to populate a cryptogen {{Config}} struct, and call the {{generate}} function on it to create the relevant crypto artifacts.

I cannot do either of these things however because both the {{Config}} struct and the {{generate}} functions are located in the {{main}} package.

Besides artifact generation, having access to the {{Config}} struct means that I can easily infer the right values of the {{LOCALMSPDIR}} and {{TLS_*}} ENV vars of orderers or peers, and set them when creating a cluster runner.

I suppose that the solution here involves exporting all of these constructs and moving them into a separate package (that a barebones cryptogen {{main}} package would then invoke).",,ashahChen,haibbo,kchristidis,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9057,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2e7:",,,,,,,,,,,,,,,,,,,,,ashahChen,haibbo,kchristidis,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
Typo in readwrite.rst document ,FAB-9011,28713,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wjzheng,wjzheng,wjzheng,21/Mar/18 3:37 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Mar/18 7:23 AM,,,,v1.1.0,,,fabric-docs,,,,0,Documentation,,,,change documents to document,,wjzheng,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2ef:",,,,,,,,,,,,,,,,,,,,,wjzheng,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create E2E daily tests for fabric release branches.,FAB-9012,28714,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,21/Mar/18 4:25 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,22/Mar/18 11:20 PM,,,,,,,fabric-ci,,,,0,fabric-ci,,,,"Create end to end tests for fabric release branches *release-1.1* and *release-1.0* to run the end to end tests(CLI, SDK-NODE, SDK-JAVA, BYFN, EYFN) everyday.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2en:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Mar/18 11:21 PM;sambhavdutt;The E2E daily tests have been created and are executing fine for fabric release-1.0 & release-1.1 branches.;;;",,,,,,,,,,,,,,,,,,,,,
Allow policy specifications in configtx.yaml,FAB-9013,28715,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Mar/18 5:34 AM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,06/Apr/18 3:38 AM,,,,v1.2.0,,,fabric-tools,,,,0,,,,,"Each element (Such as Channel, Application, Orderer, and Org) should  be enhanced to support a Policies sub-element. Like:


{noformat}
  Application:
    Policies:
      Foo:
        Type: Signature
        Rule: ""Org1.Peer AND Org2.Peer""
      Bar:
        Type: ImplicitMeta
        Rule: ""MAJORITY Readers""
{noformat}

This will require a new parser for rules of type ""ImplicitMeta"", but the parser for signature policies (as used in the peer CLI) should be recyclable.  Once parsed, these policies should be injected into the new config block or channel creation transaction.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8727,,,,,,,,,,"1|hzz2ev:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add new channel config element for peer ACLs,FAB-9014,28716,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,jyellick,jyellick,21/Mar/18 5:38 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,16/Apr/18 3:51 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Today, the ACLs are held in the resources config.  However, since the resoruces config is going away, they need to be moved to the channelconfig.

This should be as simple as defining a new config value, and implementing parsing for it.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8727,,,,,,,,,,"1|hzz2f3:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove peer resources tree,FAB-9015,28717,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,jyellick,jyellick,21/Mar/18 5:40 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,02/May/18 12:16 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The resources tree was introduced as a place to store information which was jointly administered by the network, like channel config, but which could change frequently or become large.  Since chaincode lifecycle was moved off of the resources config, and the ACLs are the only small consumer of it, it is too much and too complicated to leave in place to support this relatively simple use case.  As ACLs are migrated to channel config, the resources tree should simply be removed.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8727,,,,,,,,,,"1|hzz2fb:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add ACLs specification to configtx.yaml,FAB-9016,28718,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,jyellick,jyellick,21/Mar/18 5:44 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,16/Apr/18 8:15 PM,,,,v1.2.0,,,fabric-tools,,,,0,,,,,"We should enhance configtxgen to make specifying ACLs possible as part of channel creation, and users may of course use standard channel reconfiguration tools to modify or add them later.

We should create a new ACLs element under the Application element that users may modify.

{noformat}
  Application:
    ACLs:
      CSCC.GetConfigBlock: /Channel/Application/Readers
      ...
      QSCC.GetBlockByNumber: /Channel/Application/Readers
{noformat}",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8727,,,,,,,,,,"1|hzz2fj:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - Create daily test jobs across branches,FAB-9017,28719,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,21/Mar/18 9:45 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:10 AM,,,,v1.2.0,,,fabric-ci,,,,0,fabric-ci,,,,"Create daily test jobs for the below functionality testing
 * Run unit-test jobs 3 times a week in s390x
 * Run Unit-test coverage jobs on release-1.1, release1.0 (existing job runs on master)
 * Run e2e jobs on master branch in s390x thrice a week in s390x",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtdj:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix compilation issues in bddtests,FAB-9021,28725,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Mar/18 5:07 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 3:28 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwstz:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 8:52 PM;sykesm;https://gerrit.hyperledger.org/r/c/19517/;;;",,,,,,,,,,,,,,,,,,,,,
Fix compilation issue in broadcast config example client,FAB-9022,28726,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Mar/18 5:09 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 3:27 AM,,,,v1.2.0,,,fabric-orderer,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwsu7:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 8:51 PM;sykesm;https://gerrit.hyperledger.org/r/c/19519/;;;",,,,,,,,,,,,,,,,,,,,,
Fix vet issues in test/chaincodes/AuctionApp,FAB-9024,28728,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Mar/18 8:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 3:27 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,"With go 1.10, vet is automatically run as part of {{go test}} which results in test failures in the AuctionApp code.
{code:java}
$ go vet ./test/...
# github.com/hyperledger/fabric/test/chaincodes/AuctionApp
test/chaincodes/AuctionApp/art.go:246: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/art.go:362: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:568: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:718: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:744: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:751: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:760: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:798: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/art.go:882: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:949: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1043: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1104: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1114: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1125: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1214: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1224: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1241: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1245: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:1369: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:2237: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:2497: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/art.go:2598: unreachable code
test/chaincodes/AuctionApp/art.go:2529: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/table_api.go:120: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/table_api.go:124: Println arg list ends with redundant newline
test/chaincodes/AuctionApp/table_api.go:191: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:218: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:238: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:266: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:320: Errorf call has arguments but no formatting directives
test/chaincodes/AuctionApp/table_api.go:328: Println arg fname is a func value, not called
test/chaincodes/AuctionApp/table_api.go:381: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:416: Println call has possible formatting directive %s
test/chaincodes/AuctionApp/table_api.go:478: Sprintf format %s has arg nKeys of wrong type int
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwsuf:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 8:51 PM;sykesm;https://gerrit.hyperledger.org/r/c/19523/;;;",,,,,,,,,,,,,,,,,,,,,
[Build] - update maven binary source in javaenv docker image,FAB-9026,28731,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,21/Mar/18 10:56 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 10:22 PM,,,,v1.2.0,,,fabric-build,,,,0,fabric-build,,,,"observed curl issues while downloading maven 3.3.9 version from apache source in javaenv docker image. This is causing many build failures.

Proposed change to download binary from nexus2 repository may fix this problem.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2h3:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 11:10 PM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/19531/]
https://gerrit.hyperledger.org/r/#/c/19529/;;;",,,,,,,,,,,,,,,,,,,,,
Remove bddtests from fabric,FAB-9027,28732,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Mar/18 11:10 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 3:26 AM,v1.2.0,,,,,,,,,,0,hygiene,,,,"During the review of FAB-9021, [~mastersingh24] indicated that the BDD tests are likely dead. Given the compilation issues and that comment, it probably makes sense to delete them from the tree.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9101,,,,,,,,,,FAB-8418,,,,,,FAB-9742,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwsun:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Mar/18 11:15 PM;sykesm;https://gerrit.hyperledger.org/r/19533;;;",,,,,,,,,,,,,,,,,,,,,
Chaincode key not valid PKCS#8 format,FAB-9028,28733,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,sanchezl,sanchezl,21/Mar/18 11:12 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/May/18 10:13 PM,,,,WON'T FIX,,,fabric-crypto,,,,0,,,,,"The client.key injected into the chaincode container for mutual tls with the peer is not PKCS#8 compliant.

As currently generated, neither the built-in Java or third party BouncyCastle security providers can read the key, even with an attempt at conversion to PKCS#8 format using openssl tools.",,alacambra,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-163,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu0n:",,,,,,,,,,,,,,,,,,,,,alacambra,kchristidis,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/18 6:40 AM;kchristidis;https://gerrit.hyperledger.org/r/c/19587/;;;",,,,,,,,,,,,,,,,,,,,,
Clean up identity.md,FAB-9030,28738,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,22/Mar/18 1:36 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,11/May/18 3:44 PM,,,,v1.1.0,v1.2.0,,fabric-docs,,,,0,,,,,"Although Elli did a great job shepherding identity.md through the final stages before the 1.1 release, the doc still needs another round of minor clean up.",,joe-alewine,SjirNijssen,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2hz:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Mar/18 5:28 AM;joe-alewine;https://gerrit.hyperledger.org/r/#/c/19547/;;;",,,,,,,,,,,,,,,,,,,,,
"Orderer sample clients should be part of the build, removed, or moved elsewhere",FAB-9032,28740,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,22/Mar/18 2:02 AM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,,,,,,,fabric-orderer,,,,0,hygiene,samples,,,"FAB-9022 was created to address a compilation issue in one of the samples. The initial fix was incorrect but it never should have gotten that far.

Items that are intended to be samples need to be regularly built and tested and updated to reflect changes with evolving best practices. This issue should be used to either ensure the clients are made part of the build with appropriate testing/validation or removed from the tree as necessary.

 

It would also be good if the samples were freshened up to avoid (unnecessary) anti-patterns like explicit package init a ""main"" package.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8970,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2if:",,,,,,,,,,,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
TypeScript sample should not use its own type definitions,FAB-9033,28742,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,shimos,shimos,shimos,22/Mar/18 3:48 AM,26/Jun/19 9:50 PM,28/Oct/23 3:02 AM,17/May/19 4:25 PM,v1.1.0,v1.4.0,,v1.4.2,,,fabric-samples,,,,0,typescript,,,,"The current TypeScript version of the balance-transfer sample uses its own type definitions.

Now that both fabric-client and fabric-ca-client modules have definitions by FAB-8879, the sample should use the upstream definitions, and be updated to comply with the latest definitions.",,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6550,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2iv:",,,,Unset,,,,,,Unset,,,,,,,,,,,shimos,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Mar/18 4:01 AM;shimos;CR: https://gerrit.hyperledger.org/r/c/19557/;;;","02/May/19 1:40 AM;shimos;CR: [https://gerrit.hyperledger.org/r/c/31177/] (for release-1.4 branch);;;",,,,,,,,,,,,,,,,,,,,
Clean up membership.md,FAB-9035,28745,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,22/Mar/18 5:26 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,16/May/18 8:12 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"As with identity.md, although Elli did a great job, a final review/edit is needed for this doc to fix typos, certain formatting issues, as well as cleaning up some of the language.",,denyeart,joe-alewine,,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2jj:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,joe-alewine,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Mar/18 5:51 AM;joe-alewine;https://gerrit.hyperledger.org/r/#/c/19573/;;;","16/May/18 8:50 PM;denyeart;[~joe-alewine] Did you want to backport the updates to v1.1?  I marked the JIRA as done with the master merge... but you can put it back to InProgress if you want a v1.1 CR.;;;","16/May/18 9:50 PM;joe-alewine;Ah, good point, Dave. Probably the best thing is to create a new JIRA to get the identity and membership updates into the v1.1 docs. I'll do that today.;;;",,,,,,,,,,,,,,,,,,,
Revert gossip UT parallization ,FAB-9037,28747,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Mar/18 5:35 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,22/Mar/18 1:48 PM,,,,,,,fabric-ci,,,,0,,,,,"Unfortunately, fine tuning port ranges creates conflicts when client connections are opened prior to server port bind attempts are made, which creates a panic because of ports being already in use.

It's best to revert the parallelization in the unit test script being made in https://gerrit.hyperledger.org/r/#/c/19039/",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2k7:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Mar/18 5:55 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/19569/;;;",,,,,,,,,,,,,,,,,,,,,
"Peer should report when it has lost access to a channel (ie, when it is removed and receiving FORBIDDEN deliver requests)",FAB-9039,28752,,Story,Backlog,FAB,Fabric,software,denyeart,,,Highest,,,varadatibm,varadatibm,22/Mar/18 7:27 AM,24/Jul/20 12:20 PM,28/Oct/23 3:02 AM,,,,,Future,,,fabric-peer,,,,1,ipm2,operator,,,"# org1 and org2 are members of channel
 # Join peers from org1 and org2
 # remove org1 from channel
 # query organizations from org1 peer
{code:java}
channel.getOrganizations{code}

previously that call would error with FORBIDDEN 

Now

get organizations returns 'org1 and org2'",,alexliu,denyeart,harrisob@us.ibm.com,jyellick,mastersingh24,mplisov,mrshah-ibm,robmurgai,smartheye,StevenXu,sykesm,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|i00wur:0iig",,,,Unset,,v2.x,,,,Unset,,,,,,,,,,,alexliu,denyeart,harrisob@us.ibm.com,jyellick,mastersingh24,mplisov,mrshah-ibm,robmurgai,smartheye,StevenXu,sykesm,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Mar/18 11:23 AM;alexliu;How did you remove org1 from channel, by node sdk?;;;","22/Mar/18 9:31 PM;varadatibm;Yes, Used Node SDK to make a channel update;;;","23/Mar/18 12:49 AM;harrisob@us.ibm.com;The channel update is made to the orderer,  the peer does not know yet it has been kick out of the channel. The channel initialize now gets the configuration from the organization's peer where before it got it from the orderer. The channel initialize must be happening before the peer has been informed that it is no longer on the channel.

[~denyeart];;;","07/Apr/18 8:57 PM;mastersingh24;[~varadatibm]  - what exactly are you trying to accomplish here?;;;","07/Apr/18 10:37 PM;varadatibm;[~mastersingh24]

The goal is to display from the UI only the channels the given org is a member of.

In order to do that we query all their peers for the channels they are members of (client.queryChannels). This list come back with all channels the peer ever joined. After that to see if they are still channel members, we make the getOrganizations call on the channel. Previously, if the org is not a member, this call would come back with a FORBIDDEN, indicating that the user does not have access. Now, it come back with the list of orgs that were members before the org got kicked out (including the org that is not a member anymore).

We worked around it, by querying the orderer for the channel config and seeing the members to see if the org is actually still a member.

This is not an issue for us anymore, but is confusing to see the member on a channel even though they are removed, when querying from the peers.;;;","04/May/18 11:09 PM;jyellick;I'm a bit confused how this previously 'worked'.  When an org is evicted from a channel, it loses the right to read from that channel.  In general, this means that it does not have authority to read the block which kicked it out of the channel, so, it cannot know that it is no longer in the channel (other than receiving 'FORBIDDEN"" errors when querying).

Perhaps we can/should use the 'FORBDIDEN' cue to somehow unjoin the peer from the channel, but, I would classify this as 'working as designed' for now.

Assuming you have a workaround, I'd like to convert this into an improvement and put it on the backlog, is that okay by you [~varadatibm] ?;;;","04/May/18 11:22 PM;varadatibm;[~jyellick] It is fine... 

Like we discussed... there are pro and cons of the current state...

Pro - You can get chaincode queries to work

Con - You don't know that you are kicked out of the channel

As long as we keep it in the radar and improve it, I am okay.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;","17/Jun/20 11:19 PM;mrshah-ibm;We would like to reopen this because we cannot query the orderer anymore if we are running the peer only. So we would like to know if the peer is not part of that channel anymore.

 

[~varadatibm] feel free to add more details on how it is relevant now than it was before.;;;","17/Jun/20 11:30 PM;denyeart;Note that official peer 'unjoin' will likely be coming soon ( FAB-17801 ), so that may factor into the overall design here.;;;","24/Jul/20 12:12 PM;denyeart;Potentially we could extend the CSCC GetChannels() result to return channel status in addition to joined channel names. One of the channel statuses could be a joined channel that is currently receiving FORBIDDEN for block delivery requests. There are also other channel statuses that we may want to highlight to clients, for example a Paused channel.;;;",,,,,,,,,,,
Add documentation to explain of the anchor peers concept,FAB-9042,28755,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,C0rWin,C0rWin,22/Mar/18 7:16 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-gossip,,,,0,,,,,"The question to explain and clarify the concept of the anchor peers appear quite frequently in mailing list, on rocket chat channels as well as in StackOverflow. Need to add documentation section which would expand and explain about configuration related to the anchor peers and theirs role.",,C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9083,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2lr:",,,,Unset,,,,,,Unset,,,,,,,,,,,C0rWin,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Mar/18 10:45 AM;denyeart;This is being worked in FAB-9083.  [~C0rWin] do you want to cancel this one, and place any other comments you have in FAB-9083?;;;","12/Apr/18 8:43 PM;C0rWin;Seemed to be resolved in https://gerrit.hyperledger.org/r/#/c/19689/ and FAB-9083.;;;",,,,,,,,,,,,,,,,,,,,
Prepare fabric for 1.2 development (master branch),FAB-9043,28756,28549,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,22/Mar/18 9:00 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Mar/18 11:36 PM,,,,v1.2.0,,,fabric-build,fabric-release,,,0,fabric-build,,,,fabric master branch is heading to v1.2 release but the Base_Version is pointing to 1.1.0 which is already released. It's better to point to the next targeted release 1.2.0 or 1.2.0-preview,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2lz:",,,,,,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Mar/18 10:26 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/19699/;;;",,,,,,,,,,,,,,,,,,,,,
Architecture Deep Dive needs revision,FAB-9044,28758,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,joe-alewine,joe-alewine,22/Mar/18 10:51 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,Future,,,fabric-docs,,,,0,,,,,"This doc: [http://hyperledger-fabric.readthedocs.io/en/latest/arch-deep-dive.html]

Is badly outdated. Need a strategy on replacement/revision/deletion/etc.

My suggestion is to provide a doc stub and link out to this: [https://arxiv.org/pdf/1801.10228.pdf]

Rather than attempting to summarize it.

 

 ",,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwttj:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Mar/18 3:04 AM;joe-alewine;[~markparz];;;","04/Apr/18 5:32 AM;pandrejko;Barry feels strongly that the content is still valid and removing it would be a loss to the documentation. He suggested adding a link to the

whitepaper _'For more information on system architecture and performance... '_

I went through the topic and found the following suspect information - there is probably alot more - but some of this is around the version numbers, is it important to update or not? (I'm not sure if specific references to *v1* imply *v1 or higher*?)

 
 # Part I: Elements of the architecture relevant to Hyperledger Fabric *v1* 


2. Remark: This document currently assumes that a transaction either creates new chaincode or invokes an operation provided by *one already deployed chaincode. This document does not yet describe: a) optimizations for query (read-only) transactions (*included in v1*), b) support for cross-chaincode transactions (*post-v1 feature).**

3. Under State: Support for cross-chaincode transactions, that modify the state belonging to two or more chaincodes is a *post-v1 feature*

4. Ledger is a new Key Concept, consider does it need to be repeated here? 
5. Is the following  still true?
Ledger is kept at all peers and, optionally, at a subset of orderers. In the context of an orderer we refer to the Ledger as to OrdererLedger, whereas in the context of a peer we refer to the ledger as to PeerLedger. PeerLedger differs from the OrdererLedger in that peers locally maintain a bitmask that tells apart valid transactions from invalid ones *(see Section XX for more details).*

6. Peers may prune PeerLedger as described in *Section XX (post-v1 feature).*

7. The ledger allows peers to replay the history of all transactions and to reconstruct the state. Therefore, state as described in Sec 1.2.1 is an _*optional datastructure.*_ *<< Is this still true?*

8. Under 3.1 Endorsement Policies: _*dynamic addition of endorsement policies is not allowed*_, but can be supported in future. *<< Is this still true?*;;;","23/May/18 9:52 PM;pandrejko;New issue has been opened for this topic FAB-10318. Closing this a dup for now since we don't need to track it in 2 places.;;;",,,,,,,,,,,,,,,,,,,
Publish PTE docker image to dockerhub and create a usage documentation,FAB-9045,28759,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,22/Mar/18 11:17 PM,20/Sep/19 8:01 PM,28/Oct/23 3:02 AM,20/Sep/19 8:01 PM,,,,Future,,,fabric-build,,,,0,fabric-build,,,,"Publish PTE docker image to spinup the docker container, send the traffic to the network. Also, the usage document should explain what is the purpose this docker image, docker-compose file and example on how to use this.",,dongming,rameshthoomu,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2m7:",,,,,,,,,,,,,,,,,,,,,dongming,rameshthoomu,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/18 3:50 AM;jtclark;The Dockerfile patch (https://gerrit.hyperledger.org/r/#/c/20349/) is currently IN-REVIEW. Once this patch has been merged, this will unblock the remaining sub-tasks.;;;","23/May/18 10:12 AM;jtclark;The Dockerfile patch has been *MERGED*: https://gerrit.hyperledger.org/r/#/c/20349/;;;","23/May/18 10:20 AM;jtclark;The CI job will eventually be triggered by changed made to the following files (as provided by @dongming):

three PTE files: 
pte-main.js
pte-execRequest.js
pte-util.js
all under fabric-test/tools/PTE;;;","02/Nov/18 9:19 AM;jtclark;Currently, this is not actively being worked on. Returning this Jira task to the *Backlog*.;;;","27/Apr/19 10:51 AM;scottz;[~suryalnvs], [~dongming] what do you guys think about this? Do we still have a need to update (and document) pte docker images, even on an occasional/manual basis?;;;",,,,,,,,,,,,,,,,,
Publish PTE Docker image to hyperledger dockerhub and nexus3,FAB-9046,28760,28759,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtclark,rameshthoomu,rameshthoomu,22/Mar/18 11:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Jun/18 3:51 AM,,,,v1.2.0,,,fabric-build,,,,0,fabric-build,,,,"Create a CI job to publish PTE docker image to hyperledger dockerhub and nexus3 registry which can trigger by a user to publish this image.

We should publish :latest and :1.1.0 images tags.",,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2mf:",,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/May/18 8:31 AM;rameshthoomu;[~jtclark] Could you please check with [~Ratnakar] on this.;;;","11/May/18 12:47 AM;jtclark;[~rameshthoomu] - Talking to him about this request today.;;;","11/May/18 1:20 AM;jtclark;[~Ratnakar] is in the process of getting this patch merged: [https://gerrit.hyperledger.org/r/#/c/20349/]. Once this has been merged, this JIRA task will be *UNBLOCKED*.;;;","12/May/18 7:18 AM;jtclark;[https://gerrit.hyperledger.org/r/#/c/20349/] has been *MERGED*. This JIRA task is now *UNBLOCKED*.;;;","24/May/18 10:44 PM;jtclark;The following patch as been *MERGED*: https://gerrit.hyperledger.org/r/#/c/22231/. This publishes the PTE docker image to the nexus3 repository.

Last step is to verify with [~rameshthoomu] when we should publish this image to the Hyperledger dockerhub.;;;","24/May/18 11:43 PM;jtclark;https://gerrit.hyperledger.org/r/#/c/22259/ was also *MERGED* to add the maven settings to the CI job.;;;",,,,,,,,,,,,,,,,
Create PTE docker image usage documentation,FAB-9047,28761,28759,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,22/Mar/18 11:23 PM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,Future,,,fabric-build,,,,0,fabric-build,stale-item,,,"Create PTE docker image usage documentation. Document should explain purpose/need of the PTE docker image, docker-compose file and example on how to use or send transactions using PTE container to any network.",,jtclark,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2mn:",,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/18 7:19 AM;jtclark;[https://gerrit.hyperledger.org/r/#/c/20349/] - The patchset has been MERGED. This JIRA task is now *UNBLOCKED.*;;;","04/Jun/18 11:27 AM;jtclark;[~rameshthoomu] where should this documentation be stored?  Please advise.;;;","28/Jun/18 11:42 AM;jtclark;Talking to [~scottz] about the priority and the details on this task.;;;","30/Oct/18 6:45 PM;jtclark;[~scottz] This one is long overdue. Do you remember what we talked about doing for this task? ;;;","13/Nov/18 10:50 AM;jtclark;[~scottz] - Can I get an update on this one? ;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,
Next Consensus Architecture Proposal (NCAP) doc needs disclaimer,FAB-9048,28762,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,22/Mar/18 11:53 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,21/Apr/18 9:10 AM,,,,,,,fabric-docs,,,,0,,,,,"This doc: [https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/proposals/r1/Next-Ledger-Architecture-Proposal.md]

Needs a disclaimer to reflect that it's somewhat out of date.",,joe-alewine,,,,,,,,,,,,,,,,,28800,28800,,0%,28800,28800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzxnsv:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 5:34 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/19599/;;;","21/Apr/18 11:13 PM;joe-alewine;+1

Not seeing this until now. Totally on board with abandoning the CR and deleting this directory instead of the disclaimer.;;;",,,,,,,,,,,,,,,,,,,,
Create sample templates for invoke and query and parameterize the variables,FAB-9050,28764,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,23/Mar/18 12:04 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Mar/18 8:30 AM,,,,,,,fabric-quality,,,,0,quality,,,,Create the sample config templates for invoke and query and parameterize the variable necessary for running invokes at different rates.,,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2n3:",,,,,,,,,,,,,,,,,,,,,scottz,suryalnvs,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"23/Mar/18 3:45 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/19605/]

 ;;;",,,,,,,,,,,,,,,,,,,,,
Tutorial: deploy BYFN using Cello,FAB-9052,28766,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,joe-alewine,joe-alewine,joe-alewine,23/Mar/18 12:19 AM,10/Jan/20 1:24 AM,28/Oct/23 3:02 AM,10/Jan/20 1:24 AM,,,,Future,,,fabric-docs,,,,0,Documentation,,,,Take someone through the scenario and then actually deploy it.,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtsv:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Glossary: add anchor peer and improve ledger,FAB-9055,28770,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,joe-alewine,joe-alewine,23/Mar/18 2:35 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 6:58 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"Per questions on rocket chat and the Hyperledger mailing list, we need to improve the glossary descriptions of anchor peer and the ledger.",,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu1b:",,,,,,,,,,,,,,,,,,,,,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 4:41 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/19617/;;;",,,,,,,,,,,,,,,,,,,,,
Test private data dissemination in the presence of CRLs,FAB-9056,28771,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,gennadyl,denyeart,denyeart,23/Mar/18 3:16 AM,09/Nov/20 11:23 PM,28/Oct/23 3:02 AM,,,,,Future,,,fabric-gossip,,,,0,e2e-test,,,,"Test private data dissemination use cases when collection member certificates have been revoked.

(Added based on Yacov comments in collection member update design doc).",,C0rWin,denyeart,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|i00wur:0ipl",,,,,,v2.x,,,,,,,,,,,,,,,C0rWin,denyeart,gennadyl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 9:14 PM;denyeart;To test this, you need to have a CA sign a CRL (Certificate Revocation List) and then send a config update to the channel.

[~sykesm] , [~lhaskins] what's your view of how these cross-component functions should be tested?  I expect you would say something like:

1) We need a small number of functional e2e tests that can test peers, orderers, CAs all together with real CRLs.  Question: will we have any e2e test examples that include CA in the short term?

2) We need a larger number of functional integration tests that for example would test specific peer functions, with CRL faked out.

3) We need (close to) 100% coverage at the unit test level with CRL faked out.

And I expect each of these would be considered 'functional' tests and as such the responsibility of the delivery team.  Whereas system testers for example would test an e2e scenario with huge numbers of CRL entries.

Please confirm/correct per your view [~sykesm].

 ;;;","14/Apr/18 9:41 PM;yacovm;{quote}1) We need a small number of functional e2e tests that can test peers, orderers, CAs all together with real CRLs.  Question: will we have any e2e test examples that include CA in the short term?{quote}
We don't really need the CA, I think... we can just write a CLI utility that signs a CRL given an un-signed CRL and the CA's private key, no? This is x509 stuff so it doesn't change and doesn't need code maintenance. 

{quote}We need a larger number of functional integration tests that for example would test specific peer functions, with CRL faked out.{quote}
What does CRL faked out mean? If we have a real config block then we have a real CRL. If we have a fake CRL then it means we also have a fake MSP and gossip already tests
all these revocation stuff in UTs.  I think doing (1) suffices since we have UTs that mock the MSP (or - at least what gossip needs from it). [~C0rWin] wdyt?

{quote}3) We need (close to) 100% coverage at the unit test level with CRL faked out.{quote}
Gossip has a [UT|https://github.com/hyperledger/fabric/blob/release-1.1/gossip/gossip/gossip_test.go#L1299-L1333] that tests both expiration of peer certificate, and also CRL update via invoking the [method|https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/gossip/gossip/gossip.go#L67] that the peer [should invoke|https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/peer/peer.go#L317] when a config block is received.;;;","06/Jun/18 10:42 PM;gennadyl;I am stuck in private data dissemination during integration test. It works perfectly manually, using first-network, but not automatically, using integration test framework.

WIP change set in gerrit: https://gerrit.hyperledger.org/r/22813  ;;;","18/Jun/18 6:34 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/22813/;;;",,,,,,,,,,,,,,,,,,
Make it easier to spawn an orderer process programmatically,FAB-9057,28772,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,kchristidis,kchristidis,23/Mar/18 3:28 AM,30/Jul/19 11:33 AM,28/Oct/23 3:02 AM,30/Jul/19 11:33 AM,,,,Future,,,fabric-orderer,,,,0,hygiene,,,,"As an integration test author, I want to be able easily spawn an ordering service, by creating a configuration struct and feeding it to properly exposed (i.e. externally consumable) methods.

Note that:

# A few items needed to make this work fall outside the orderer scope (and will hopefully be covered by FAB-8418 *), and
# It may well be possible to spawn an orderer process with the code as-is today

...but this requires a lot of tip-toeing to make it work. (See: https://github.com/hyperledger/fabric/blob/release-1.1/orderer/common/server/main.go#L78..L113)

We should address this. The solution involves refactoring, exposing of the appropriate functions/methods, and simplification of the instantiation process to make the whole flow consumable.

[*] For example:
* Loading of configuration via the viper singleton, and
* Instantiation of the local signer via the MSP singleton for example.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9010,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2o7:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
index extraction for CouchDB should not assume TarGz package format,FAB-9059,28774,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,23/Mar/18 5:05 AM,07/Sep/18 1:24 AM,28/Oct/23 3:02 AM,07/Sep/18 1:24 AM,v1.1.0,,,Future,v1.1.1,,fabric-peer,,,,1,,,,,"CouchDB index extraction implemented in https://jira.hyperledger.org/browse/FAB-7134 (part of https://jira.hyperledger.org/browse/FAB-3067) assumes targz chaincode package format. Not all chaincode package types will use this format. In particular, the chaintool package is not targz formatted. Instantiation of chaintool package fails with
{code:java}
18-03-20 21:59:10.811 UTC [ccprovider] ExtractStatedbArtifactsFromCCPackage -> ERRO 6c7 Failure opening codepackage gzip stream: gzip: invalid header
{code}
The ""platform"" abstraction should be involved to provide the ""statedb artifacts"" - currently done by ExtractStatedbArtifactsFromCCPackage in core/common/ccprovider/cc_statedb_artifacts_provider.go - to extract using platform specific packaging.
{code:java}
NOTE - a lot more can be done to make generalize metadata and make it a powerful tool for use with chaincode (in a nutshell, metadata can be viewed in terms of key/value pairs that user chaincode can also use). This being a bug fix for 1.1.1, will not go deep into those generalizations but will try to pave way for future work as restricted by ""least disruption in a point release"" principle.{code}
[~greg.haskins]",,ChristopherFerris,denyeart,muralisr,PushpendraSingh,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2on:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,muralisr,PushpendraSingh,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/18 6:40 AM;Clayton Sims;Murali whats the outlook to resolve this?;;;","16/Jun/18 1:35 AM;muralisr;[~Clayton Sims]  There are a couple of CRs for 4) out there which I will pursue review from appropriate reviewers.

Tasks 1 - 3 take care of the fabric side work for the bug and was the main reason for ""high"" category. As they are done and merged we can lower the severity for remaining task 4.;;;","19/Jun/18 7:37 PM;ChristopherFerris;modified to medium;;;",,,,,,,,,,,,,,,,,,,
Add certificate expiry check to TLS connection,FAB-9060,28775,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,biljana.lukovic,biljana.lukovic,23/Mar/18 5:10 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,,,,,0,stale-item,,,,,,biljana.lukovic,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2ov:",,,,Unset,,,,,,Unset,,,,,,,,,,,biljana.lukovic,sykesm,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Chaintool release v1.1,FAB-9061,28776,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,23/Mar/18 5:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Mar/18 9:27 PM,,,,,,,,,,,0,,,,,"Primary interest is supporting ""oneof"" CCI grammar feature to include in fabric v1.1.x.  Note that the fabric and chaintool releases are independent, so the overlap with v1.1 is coincidental.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2p3:",,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Specify Release Managers,FAB-9063,28778,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Mar/18 6:03 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 6:30 AM,,,,v1.1.1,v1.2.0,,,,,,0,,,,,Release Managers have superpowers in Gerrit. We need to be explicit about this.,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2pj:",,,,,,,,,,,,,,,,,,,,,ryjones,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,purge-pd,main-emeritius,main,release-1.1,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,correct-nodeenv-version,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Composer/Starter Network-Cannot install the Hyperledger Composer runtime onto all of the Hyperledger Fabric peer nodes.,FAB-9064,28779,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,,susmita,susmita,23/Mar/18 6:18 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,"Error in both stater network/Composer 

Composer:""Error: Error trying install composer runtime. Error: No valid responses from any peers""

Installing and starting the business network
 -->step2:
 ✖ Starting business network definition. This may take a minute...
 Error: Error trying to instantiate composer runtime. Error: No valid responses from any peers.
 Response from attempted peer comms was an error: Error: REQUEST_TIMEOUT",,jyellick,susmita,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2pr:",,,,,,,,,,,,,,,,,,,,,jyellick,susmita,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Mar/18 1:04 AM;susmita;https://github.ibm.com/IBM-Blockchain/starterplan-issues/issues/47;;;","05/May/18 12:39 AM;jyellick;The hyperledger fabric JIRA is not the right place for issues relating to composer or IBM offerings.  The issue you linked to on github.ibm.com is the correct venue.  Closing as invalid.;;;",,,,,,,,,,,,,,,,,,,,
Fix destroy.yml to remove pte docker image and testcase variable,FAB-9065,28780,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,23/Mar/18 8:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Mar/18 1:40 AM,,,,,,,fabric-quality,,,,0,quality,,,,Fix ptesetup/destroy.yml to delete the pte image and testcase variable.,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2pz:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"23/Mar/18 8:41 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/19653/;;;",,,,,,,,,,,,,,,,,,,,,
Remove the fabric/msp/mgmt package,FAB-9066,28781,,Story,In Progress,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,jyellick,jyellick,23/Mar/18 8:39 AM,25/Oct/19 7:07 PM,28/Oct/23 3:02 AM,,,,,v2.1.0,,,fabric-peer,,,,0,hygiene,,,,"Presently, much of the peer depends on the {{fabric/msp/mgmt}} package. This package attempts to serve as the 'crypto source', by maintaining a package level singleton map from channel to MSPManager, and additionally maintains a package level singleton representing the local MSP.

This causes no end of headaches in development, and in support.

From a development perspective:
 # Developers are lured into calling {{mspmgmt.GetManagerForChain}} which introduces an un-mockable external dependency and makes any code which uses it untestable (from a unit testing perspective).
 # Different portions of the peer will need to use different versions of the MSP managers (for instance, the gossip network might need to use crypto material from the most recent config block to fetch blocks, while the transaction validation code needs to use the MSP manager from the previous config block for validating a transaction) and a common singleton map prevents this.
 # Because the code creates and then stores (uninitialized) managers for channels which do not exist, errors are cryptic and inconsistent, depending on whether a non-existent channel has been queried before
 # It is impossible for a single process to load two different local signing identities, so basic single-process multi-party integration tests are not possible.
 # Tests of code referencing this package end up loading and using real crypto, which although negligible relative to some of the other slowdowns for unit tests, performs unnecessary real crypto computations.

From a support perspective:
 # The local MSP is initialized before logging takes affect. So, problems with the local MSP are very difficult to debug.
 # The initialization order of the the singletons matter. If an MSP Manager is initialized before the Local MSP, this can cause the local MSP to be initialized with the wrong (default) config. Attempting to ascertain initialization order is challenging because it occurs via imports and side effect.

We need to fix all of the code which depends upon this package to stop referencing it, and to instead accept the required crypto providers as dependencies. Unit tests can then properly mock this crypto, they can also be run given a particular point in time crypto context (such as gossip using the latest, while validation using another). And finally, logging initialization and debugging becomes much more straightforward, as it can be tracked in the normal execution flow and not as package import side effect.",,guoger,jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6559,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2q7:",,,,Unset,,,,,,Unset,,,,,,,,,,,guoger,jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Mar/19 9:47 PM;mastersingh24;I'm going to attempt to start this work for 2.0 and see how far I can get;;;","28/May/19 10:24 PM;sykesm;[~mastersingh24] Is this something [~guoger] can progress?;;;",,,,,,,,,,,,,,,,,,,,
Fix invoke template to parse through listOpt in ATD,FAB-9067,28782,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,23/Mar/18 8:43 AM,23/Jan/20 4:15 AM,28/Oct/23 3:02 AM,23/Jan/20 4:15 AM,,,,,,,fabric-quality,,,,0,quality,stale-item,,,Fix invoke template to parse through listOpt described in configuration file in ATD/vars,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2qf:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to chaintool v1.1 series,FAB-9073,28791,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,greg.haskins,greg.haskins,greg.haskins,23/Mar/18 10:41 PM,30/Jul/19 11:01 AM,28/Oct/23 3:02 AM,30/Jul/19 11:01 AM,,,,Future,v1.1.1,,fabric-peer,,,,0,,,,,"Current peer ships with chaintool v1.0.1.   Chaintool v1.1.0 was just released with support for protobuf 'oneof' type.  We can make a low-risk update to the release-1.1 branch to include this new, useful, feature.

Note that the correlation between chaintool 1.1 and fabric 1.1 is coincidental.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2rr:",,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
MSP initialization debug logging for peer is not possible,FAB-9074,28792,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,smithbk,smithbk,23/Mar/18 11:01 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/May/18 11:07 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The peer/main.go initializes MSP before the cobra command Execute method is called which initializes logging; therefore, even if debug logging level is set, we are unable to see any debug logging for MSP initialization errors which happen as a result of calling ""common.InitCrypto"".

You can test this for example by improperly configuring the BCCSP section of core.yaml.  This is particularly important when debugging HSM initialization.

Also change the following from a debug to a warning in fabric/msp/mspimpl.go:

               mspLogger.Debugf(""Could not find SKI [%s], trying KeyMaterial field: %+v\n"", hex.EncodeToString(pubKey.SKI()), err)
",,mastersingh24,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2rz:",,,,,,,,,,,,,,,,,,,,,mastersingh24,smithbk,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 10:23 PM;mastersingh24;[https://gerrit.hyperledger.org/r/21735] (master / 1.2)

[https://gerrit.hyperledger.org/r/21741] (1.1);;;",,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for 1.2 development (master branch),FAB-9080,28798,28549,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,23/Mar/18 11:30 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Mar/18 11:54 AM,,,,v1.2.0,,,fabric-ca,,,,0,,,,,Need to update the Makefile for master branch to reflect that this is for v1.2 development,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2tb:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Mar/18 11:33 PM;mastersingh24;https://gerrit.hyperledger.org/r/19679;;;",,,,,,,,,,,,,,,,,,,,,
Client Identity Chaincode Library not provided by Docker image,FAB-9081,28799,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ga25waq,ga25waq,23/Mar/18 11:45 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 7:16 AM,v1.1.0,,,,,,,,,,0,,,,,"The new Client Identity Chaincode Library introduced with Fabric 1.1 seems not to be included in the respective Docker image(s).

When chaincode is instantiated and built, the following errors occurs:
> error starting container: Failed to generate platform-specific docker build:
>   Error returned from build: 1 ""chaincode/input/src/github.com/my_example_cc/main.go:4:2:
>     cannot find package ""github.com/hyperledger/fabric/core/chaincode/lib/cid"" in any of:
>       [...]

I'm using the latest fabric-ccenv Docker image.

Several other people have the same problem, see also:
- https://github.com/yeasy/docker-hyperledger-fabric/issues/4
- https://github.com/yacovm/fabricDeployment/issues/8
- https://lists.hyperledger.org/pipermail/hyperledger-fabric/2017-December/002441.html",,davidkhala,Ed.Curran,Exci,ga25waq,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9458,,,,,,,FAB-6089,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtcv:",,,,Unset,,,,,,Unset,,,,,,,,,,,davidkhala,Ed.Curran,Exci,ga25waq,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/18 4:50 PM;davidkhala;Witness same problem .;;;","09/Apr/18 6:56 PM;ga25waq;Is there a chance that this issue will be fixed soon? Otherwise, the Client Identity Chaincode Library is not really usable, except for vendoring it manually, but I guess that's not the intended way to do it.;;;","13/Apr/18 2:13 AM;Ed.Curran;I'm also keen to see a fix for this. If you use docker run to look inside the fabric-ccenv image and go to ""/opt/gopath/src/github.com/hyperledger/fabric/core/"" you can see the shim directory is there but lib is not. If anyone has suggestions for a workaround that would be great.

 

 ;;;","17/Apr/18 2:54 AM;ga25waq;[~Ed.Curran], you can vendor the library manually. But this is not very comfortable, and I don't think this is a recommended way to use it, since there can occur version conflicts etc.;;;","30/Apr/18 4:48 PM;mastersingh24;This is actually by design. The cid pkg is provided as a convenience today and is intended to be vendored by chaincode.
We are adding additional identity types (e.g. Identity Mixer credentials) and have not yet come up with the final set of APIs we would consider including natively within chaincode;;;",,,,,,,,,,,,,,,,,
Transaction Flow text updates,FAB-9082,28801,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,23/Mar/18 11:47 PM,27/Aug/18 1:23 PM,28/Oct/23 3:02 AM,25/Mar/18 11:24 AM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"[http://pamstaging-fabric.readthedocs.io/en/latest/txflow.html?highlight=transaction%20flow]

Corrections to this topic:

1. Edit this section in italic and change to a note:

_Change:_

_\{The MSP is a peer component that allows them to verify transaction requests arriving from clients and to sign transaction results(endorsements). The Writing policy is defined at channel creation time, and determines which user is entitled to submit a transaction to that channel.}_

_to (a real note block)_

Note: The MSP is a peer component that allows a peer to verify transaction requests arriving from clients and to sign transaction results (endorsements). The writing policy is defined at channel creation time, and determines which users are entitled to submit a transaction to that channel.

 

2. Remove this line at the bottom or properly reformat this into a real note block and link it to the swimlane diagram it refers to. Not sure where that is.

*Note*: See the swimlane diagram to better understand the server side flow and the protobuffers.

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11745,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2tr:",,,,,,,,,,,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Mar/18 12:54 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/19681/;;;",,,,,,,,,,,,,,,,,,,,,
Add small description of Anchor Peer to Gossip doc,FAB-9083,28803,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,24/Mar/18 2:49 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,27/Mar/18 6:14 AM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"People often write in to say they're confused about what Anchor Peers are and what they do. In addition to beefing up the glossary definition, it makes sense to add a section on it in this doc.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9042,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2jr:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Mar/18 2:52 AM;joe-alewine;https://gerrit.hyperledger.org/r/#/c/19689/;;;",,,,,,,,,,,,,,,,,,,,,
MockStub should support GetPrivateData and PutPrivateData,FAB-9084,28805,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,24/Mar/18 3:35 AM,26/Aug/18 12:43 AM,28/Oct/23 3:02 AM,26/Mar/18 6:26 AM,,,,v1.2.0,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8718,,,,,,,,,,"1|hzz2u7:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Restructure entities and add support to create an ECDSA signer/verifier entity,FAB-9085,28806,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,24/Mar/18 3:37 AM,26/Aug/18 1:04 AM,28/Oct/23 3:02 AM,26/Mar/18 6:25 AM,,,,v1.2.0,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2uf:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Document pluggable endorsement/validation,FAB-9086,28807,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,24/Mar/18 3:49 AM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,10/May/18 6:16 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"As per https://jira.hyperledger.org/browse/FAB-8729

And its design doc: https://docs.google.com/document/d/1YmWCdPOJAJU6kxO56vYoS6Ev_La32mx4PG-3pCUri6g/edit",,joe-alewine,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8729,,,,,,,,,,"1|hzwqfj:h",,,,Unset,,To Do,,,,Unset,,,,,,,,,,,joe-alewine,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TestOrderingServiceSetupFailure fails intermittently,FAB-9087,28808,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,24/Mar/18 4:13 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,22/Apr/18 8:45 PM,v1.2.0,,,v1.2.0,,,fabric-orderer,,,,0,ci-flake,,,,"In recent builds, I've been encountering the following flake quite regularly:
{code:java}
2018-03-23 14:42:02.675 EDT [deliveryClient] try -> WARN 00e Got error: Setup failed , at 1 attempt. Retrying in 0s
--- FAIL: TestOrderingServiceSetupFailure (0.00s)
        Error Trace:    client_test.go:230
Error:      Not equal: 
            expected: 0
            actual  : 1
Test:       TestOrderingServiceSetupFailure
2018-03-23 14:42:02.676 EDT [deliveryClient] try -> WARN 00f Got error: Failed Recv , at 1 attempt. Retrying in 0s{code}
Another common flake:
{code:java}
unit-tests_1  | --- FAIL: TestNewConnection (0.02s)                                                                                                                                  
unit-tests_1  |     --- FAIL: TestNewConnection/client_TLS_/_server_TLS_match (10.00s)                                                                                               
unit-tests_1  |         client_test.go:273: starting server with TLS                                                                                                                 
unit-tests_1  |         client_test.go:282: server: accepted from 127.0.0.1:38498                                                                                                    
unit-tests_1  |         client_test.go:286: tls handshake error: tls: first record does not look like a TLS handshake                                                                
        Error Trace:    client_test.go:297                                                                                                                                           
unit-tesError:          Received unexpected error:                                                                                                                                   
unit-tes                context deadline exceeded                                                                                                                                    
unit-tes                github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection                                                                                          
unit-tes                        github.com/hyperledger/fabric/core/comm/_test/_obj_test/client.go:191                                                                                
unit-tes                github.com/hyperledger/fabric/core/comm_test.TestNewConnection.func1                                                                                         
unit-tes                        /opt/gopath/src/github.com/hyperledger/fabric/core/comm/client_test.go:294                                                                           
unit-tes                testing.tRunner                                                                                                                                              
unit-tes                        /opt/go/src/testing/testing.go:746                                                                                                                   
unit-tes                runtime.goexit                                                                                                                                               
unit-tes                        /opt/go/src/runtime/asm_amd64.s:2337                                                                                                                 
unit-tes                failed to create new connection                                                                                                                              
unit-tesTest:           TestNewConnection/client_TLS_/_server_TLS_match                                                                                                              
        Error Trace:    client_test.go:298                                                                                                                                           
unit-tesError:          Expected value not to be nil.                                                                                                                                
unit-tesTest:           TestNewConnection/client_TLS_/_server_TLS_match                                                                                                              
unit-tests_1  | FAIL{code}
 ",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2un:",,,,,,,,,,,,,,,,,,,,,sykesm,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Mar/18 5:29 AM;yacovm;can you link the corresponding jenkins builds ?;;;","24/Mar/18 5:43 AM;sykesm;No. These happen with local builds across three machines - all macOS with 4 cores and SMT. When I run into it on jenkins I will point to it here. (I think it's just a matter of time.);;;","24/Mar/18 6:31 AM;yacovm;Can you try this patch and tell if that fixes it?

{code}
diff --git a/core/deliverservice/client_test.go b/core/deliverservice/client_test.go
index b1d7857..59f41e6 100644
--- a/core/deliverservice/client_test.go
+++ b/core/deliverservice/client_test.go
@@ -28,6 +28,8 @@ import (
 
 var connNumber = 0
 
+var wg sync.WaitGroup
+
 func newConnection() *grpc.ClientConn {
 	// The balancer is in order to check connection leaks.
 	// When grpc.ClientConn.Close() is called, it calls the balancer's Close()
@@ -40,6 +42,7 @@ type balancer struct {
 }
 
 func (*balancer) Start(target string, config grpc.BalancerConfig) error {
+	wg.Add(1)
 	connNumber++
 	return nil
 }
@@ -58,6 +61,7 @@ func (*balancer) Notify() <-chan []grpc.Address {
 
 func (*balancer) Close() error {
 	connNumber--
+	wg.Done()
 	return nil
 }
 
@@ -225,9 +229,12 @@ func testOrderingServiceStreamFailure(t *testing.T, bdc blocksDelivererConsumer)
 }
 
 func TestOrderingServiceSetupFailure(t *testing.T) {
-	testOrderingServiceSetupFailure(t, blockDelivererConsumerWithRecv)
-	testOrderingServiceSetupFailure(t, blockDelivererConsumerWithSend)
-	assert.Equal(t, 0, connNumber)
+	for i := 0; i < 10000; i++ {
+		testOrderingServiceSetupFailure(t, blockDelivererConsumerWithRecv)
+		testOrderingServiceSetupFailure(t, blockDelivererConsumerWithSend)
+		wg.Wait()
+		assert.Equal(t, 0, connNumber)
+	}
 }
 
 func testOrderingServiceSetupFailure(t *testing.T, bdc blocksDelivererConsumer) {

{code};;;","24/Mar/18 6:33 AM;yacovm;As for the TestNewConnection - it's not mine... ;)  
core/comm/client_test.go ? ;;;","25/Mar/18 9:44 AM;sykesm;Applied it and will run with it for a bit. I'll let you know if I hit the issue again. tx.;;;","26/Mar/18 1:14 AM;sykesm;I've run {{make unit-tests}} a few times now and this issue hasn't popped up. (Lots of others have, but not this one.)

I think using the WaitGroup probably takes care of this flake. I'll open a separate issue for the comm flake.;;;","26/Mar/18 2:54 AM;yacovm;OK, do you want me to push a fix or do you want to do it? ;;;","29/Mar/18 10:12 PM;sykesm;https://jenkins.hyperledger.org/job/fabric-verify-x86_64/21962/consoleFull;;;","29/Mar/18 10:21 PM;yacovm;Well but this has nothing to do with the TestOrderingServiceSetupFailure test, it's the other one (the comm).
And I was also able to reproduce that comm test failure locally, however I tried to fix it and wasn't able to do that, but it was very late at night so i ended up giving up.
;;;","17/Apr/18 11:52 PM;yacovm;[~sykesm] - 

{quote}
OK, do you want me to push a fix or do you want to do it?
{quote}

 ;;;","19/Apr/18 9:59 PM;sykesm;If you don't mind pushing the fix, that would be helpful. I've go my hands full with a few threads of work running in parallel with different folks.

Thanks.;;;","20/Apr/18 5:32 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20805/;;;",,,,,,,,,,
Document Lifecycle Chaincode Operations,FAB-9088,28809,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,negupta,joe-alewine,joe-alewine,24/Mar/18 4:42 AM,20/Mar/19 6:01 AM,28/Oct/23 3:02 AM,20/Mar/19 6:01 AM,,,,v2.0.0,,,fabric-docs,,,,0,,,,,,,joe-alewine,MHBauer,MichaelWang,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,,"1|hzwrtz:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,MHBauer,MichaelWang,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Mar/19 3:02 AM;pandrejko;[~negupta] Can we close out this story since (I think) it is superseded by all of the other Documentation tasks for chaincode lifecycle?

 ;;;",,,,,,,,,,,,,,,,,,,,,
MSP refactor documentation,FAB-9089,28810,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,pandrejko,joe-alewine,joe-alewine,24/Mar/18 4:44 AM,14/Jan/20 2:41 AM,28/Oct/23 3:02 AM,14/Jan/20 2:41 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"Doc change here: https://jira.hyperledger.org/browse/FAB-7469

Document the following enhancement:

Once this code is published it will be possible to identify MSP administrators by using the Organizational Units they belong to without have to name them explicitly. Therefore, we need to document the how the MSP configuration can be used to specify an OU that identifies the administrators of that MSP. Namely, we propose to add the following new protobuf message:
{code:java}
message FabricAdminOUs {
    // If true then an administrators are identities by their OUs, otherwise they need
    // to be named one by one.
    bool   Enable = 1;

    // OU Identifier of the clients
    FabricOUIdentifier adminOUIdentifier = 2;
{code}
to FabricMSPConfig. At setup time, if FabricAdminOUs.Enable is equal True then the MSP will enforce only identities carries the specified OU will be considered administrators of that MSP, otherwise, the previous behavior is enforced.

 ",,ChristopherFerris,joe-alewine,nagap,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8792,,,,,,,,,,"1|hzwtrb:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,joe-alewine,nagap,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 7:28 AM;ChristopherFerris;Someone needs to a) put more meat on these bones and b) clarify the title to be more explicit as to what this is about. Also, there's no fixVersion specified... is this for v1.2? Say so, please.;;;","14/Jan/20 2:41 AM;pandrejko;Addressed in the MSP Key Concepts update:
 https://github.com/hyperledger/fabric/pull/307
 and here: https://hyperledger-fabric.readthedocs.io/en/latest/msp.html#identity-classification;;;",,,,,,,,,,,,,,,,,,,,
Service Discovery (documentation),FAB-9090,28811,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,joe-alewine,joe-alewine,24/Mar/18 4:44 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-docs,,,,0,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtqf:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intro doc needs better links/guidance,FAB-9091,28813,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,24/Mar/18 5:20 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,27/Apr/18 11:51 AM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,"A number of concept docs and tutorials have been added since this doc was written. Need to link out to those.

Also, some of the language here is a bit marketing-y and cringey, e.g.:

""Hyperledger Fabric delivers a uniquely elastic and extensible architecture, distinguishing
 it from alternative blockchain solutions. Planning for the future of enterprise
 blockchain requires building on top of a fully vetted, open-source architecture;
 Hyperledger Fabric is your starting point.""

And should be deleted.

Also, latest png files were never added to this doc. Should add those.",,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtzz:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Mar/18 2:14 AM;pandrejko;Would this be addressed by FAB-9173 or should it be a sub task of FAB-9173?;;;","28/Mar/18 2:21 AM;joe-alewine;[~pandrejko] No this is about [http://hyperledger-fabric.readthedocs.io/en/release-1.1/blockchain.html]

The links at the end need to be changed to include links to the concept docs we now have (and blurbs about them), as those concept docs did not exist when that intro doc was written. That's the main bit I think needs to be added.;;;","30/Mar/18 1:32 AM;joe-alewine;https://gerrit.hyperledger.org/r/#/c/19929/;;;",,,,,,,,,,,,,,,,,,,
"Inconsistent ""stateleveldb - no such file or directory"" error in CI builds",FAB-9093,28815,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,chris.elder,rameshthoomu,rameshthoomu,24/Mar/18 6:15 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,v1.2.0,,,Future,,,fabric-ledger,,,,0,ci-failure,,,,"observed below errors inconsistently in CI builds.

[https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/21799/console]
{code:java}
00:08:09.372 unit-tests_1  | --- FAIL: TestGenesisBlockNoError (0.23s)
00:08:09.373 unit-tests_1  | panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory [recovered]
00:08:09.373 unit-tests_1  |     panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory{code}
[https://jenkins.hyperledger.org/view/fabric/job/fabric-verify-x86_64/21800/consoleFull]
{code:java}
00:07:24.560 unit-tests_1  | --- FAIL: TestSavepoint (0.03s)
00:07:24.561 unit-tests_1  | panic: Error while trying to open DB: rename /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb/CURRENT.0 /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb/CURRENT: no such file or directory [recovered]
00:07:24.562 unit-tests_1  |     panic: Error while trying to open DB: rename /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb/CURRENT.0 /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb/CURRENT: no such file or directory{code}
[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/3374/console]
{code:java}
00:06:40.425 unit-tests_1  | --- FAIL: TestHistoryForInvalidTran (0.04s)
00:06:40.425 unit-tests_1  | panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/historyLeveldb: no such file or directory [recovered]
00:06:40.426 unit-tests_1  |     panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/historyLeveldb: no such file or directory{code}
 

 ",,denyeart,mastersingh24,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzykq7:",,,,,,,,,,,,,,,,,,,,,denyeart,mastersingh24,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Apr/18 7:07 PM;mastersingh24;I'm pretty sure this is fixed with [https://gerrit.hyperledger.org/r/20051]

If so, this can be marked as a duplicate of FAB-9222;;;","25/Apr/18 8:01 PM;denyeart;[~rameshthoomu] Have you seen this recently? Or can it be closed?;;;",,,,,,,,,,,,,,,,,,,,
add metadata abstraction to platform,FAB-9096,28818,28774,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,24/Mar/18 9:17 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 2:44 AM,,,,,,,fabric-peer,,,,0,,,,,"Different platforms (node, java, go, car) may implement chaincode metadata - currently used to provide couchdb indexes - differently. The goal of this item is to provide a standard interface at the platform level for dealing with chaincode metadata.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2vj:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Mar/18 12:33 PM;muralisr;https://gerrit.hyperledger.org/r/#/c/19845/;;;",,,,,,,,,,,,,,,,,,,,,
move current metadata code to use platform abstraction,FAB-9097,28819,28774,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,24/Mar/18 9:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 2:36 AM,,,,,,,fabric-peer,,,,0,,,,,"The current metadata codepath assumes chaincode to be in targz format. GO, Java and Node CCs use this format but CAR doesn't. We will let the platform metadata abstraction (FAB-9096) to handle metadata. CAR will support metadata in a subsequent JIRA.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2vr:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Mar/18 12:48 PM;muralisr;https://gerrit.hyperledger.org/r/#/c/19847/;;;",,,,,,,,,,,,,,,,,,,,,
add metadata support to chaintool,FAB-9098,28820,28774,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,24/Mar/18 9:31 PM,27/Nov/19 3:11 AM,28/Oct/23 3:02 AM,05/Apr/18 8:39 AM,,,,,,,,,,,0,,,,,Add metadata support to chaintool. CAR platform in fabric will use this to provide metadata.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2vz:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 6:48 AM;muralisr;Per discussion with [~greg.haskins] will allow a ""META-INF"" folder (as that's the data model used by fabric) at the project root so users can add metadata the same way they do for the golang platform.;;;",,,,,,,,,,,,,,,,,,,,,
add metadata support to CAR,FAB-9099,28821,28774,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,24/Mar/18 9:36 PM,07/Sep/18 1:24 AM,28/Oct/23 3:02 AM,07/Sep/18 1:24 AM,,,,,,,fabric-peer,,,,0,,,,,Add support to the CAR platform to extract metatata from generated by chaintool.,,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2w7:",,,,,,,,,,,,,,,,,,,,,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jun/18 6:40 AM;Clayton Sims;Is this in review?;;;","07/Sep/18 1:24 AM;sykesm;Appears to be commit. f791a37a1e12daaad138c89ba1d086a3e00badc9;;;",,,,,,,,,,,,,,,,,,,,
"Inconsistent ""bind: address already in use"" in TestConfidentiality unit-test",FAB-9100,28822,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nirro,rameshthoomu,rameshthoomu,24/Mar/18 10:12 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,16/Apr/18 6:44 AM,v1.2.0,,,v1.2.0,,,fabric-gossip,,,,0,ci-failure,,,,"Many builds are failing with the below error.

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-x86_64/21803/console.log.gz
{code:java}
00:09:36.153 unit-tests_1  | --- FAIL: TestConfidentiality (0.01s)
00:09:36.154 unit-tests_1  |     orgs_test.go:338: localhost:42610 id: 0 externalEndpoint: localhost:42610
00:09:36.154 unit-tests_1  |     orgs_test.go:338: localhost:42611 id: 1 externalEndpoint: localhost:42611
00:09:36.154 unit-tests_1  |     orgs_test.go:338: localhost:42612 id: 2 externalEndpoint: 
00:09:36.155 unit-tests_1  |     orgs_test.go:338: localhost:42613 id: 3 externalEndpoint: localhost:42613
00:09:36.155 unit-tests_1  |     orgs_test.go:338: localhost:42614 id: 4 externalEndpoint: localhost:42614
00:09:36.156 unit-tests_1  |     orgs_test.go:338: localhost:42615 id: 5 externalEndpoint: 
00:09:36.156 unit-tests_1  | panic: listen tcp :42616: bind: address already in use [recovered]
00:09:36.156 unit-tests_1  |     panic: listen tcp :42616: bind: address already in use{code}",,nirro,rameshthoomu,sambhavdutt,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8843,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2wf:",,,,,,,,,,,,,,,,,,,,,nirro,rameshthoomu,sambhavdutt,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Apr/18 6:44 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20591/;;;",,,,,,,,,,,,,,,,,,,,,
Remove unused godog package from vendored dependencies,FAB-9101,28823,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,24/Mar/18 11:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Mar/18 11:51 PM,v1.2.0,,,v1.2.0,,,,,,,0,hygiene,,,,"FAB-9027 took out the last reference to godog.

As such, this package should be removed from our vendored depedencies.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9027,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwzvz:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Mar/18 12:07 AM;kchristidis;https://gerrit.hyperledger.org/r/c/19723/;;;",,,,,,,,,,,,,,,,,,,,,
"As a developer, I want to be able to easily run ledger tests on my workstation outside of any container or VM processes",FAB-9102,28824,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,25/Mar/18 4:09 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,21/Apr/18 9:20 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,"A handful of our tests require CouchDB. The current approach is to hard code the tests with assumptions about our vagrant or docker environment that makes the database available at ""couchdb:5984"". While this works, it gets in the way of a pure local development environment.

Instead of assuming the database is available at that host and port, a mechanism should be created to point the tests to an active instance. When the tests are not explicated pointed to an active instance, the tests should be able to start a containerized instance on demand.

Acceptance:
 # Tests continue to run in a docker-compose environment when {{make unit-tests}} is used.
 # When running tests locally with {{go test ./...}}, the local docker engine will be used to start and stop an instance of hyperledger/fabric-couchdb:latest. This assumes that the latest image has already bee pulled and tagged for local execution (which is also true of {{make unit-tests}}. We are not improving this.)",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9451,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwzvr:",,,,Unset,,Sprint 7 - Hygiene,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Mar/18 9:52 AM;sykesm;Created a basic runner that used the docker cli to start couch in the background mapping the exposed port to an ephemeral port on the loopback adapter. The container ID was then used to get the port mapping and, later, to stop the container. This worked pretty well locally but doesn't work in our dev container since we don't package the docker cli in it.

At this point I need to discuss how far we want to go and down which path. If we stick with the cli, we'll need to make sure it's available in the environments we run. If we go with the docker client, we should already be setup to use it.

The ultimate goal would be to get enough pieces of infrastructure exposed via runners to be able to run the e2e scenarios in ginkgo. This is just a small scale instance of that.;;;","12/Apr/18 2:53 AM;sykesm;[https://gerrit.hyperledger.org/r/c/19767/]

[https://gerrit.hyperledger.org/r/c/19769/]

 ;;;",,,,,,,,,,,,,,,,,,,,
Reduce unit test time,FAB-9103,28825,28535,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,25/Mar/18 10:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Mar/18 6:25 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Upgrading grpc-go resulted in an increase in the overall unit test time.

Need to refactor in order to reduce the overall time",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2wn:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Mar/18 10:32 PM;mastersingh24;https://gerrit.hyperledger.org/r/19735;;;",,,,,,,,,,,,,,,,,,,,,
Test flakes in core/comm package related to context deadline timeouts,FAB-9104,28827,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,mastersingh24,sykesm,sykesm,26/Mar/18 1:22 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,01/Apr/18 4:37 AM,,,,v1.2.0,,,,,,,0,ci-flake,,,,"Hitting the following unit-test issue:
{code:java}
unit-tests_1  | --- FAIL: TestNewConnection (0.03s)

unit-tests_1  |     --- FAIL: TestNewConnection/client_TLS_/_server_TLS_match (10.00s)

unit-tests_1  |     client_test.go:273: starting server with TLS

unit-tests_1  |     client_test.go:282: server: accepted from 127.0.0.1:39454

unit-tests_1  |     client_test.go:286: tls handshake error: tls: first record does not look like a TLS handshake

        Error Trace:    client_test.go:297

unit-tesError:      Received unexpected error:

unit-tes            context deadline exceeded

unit-tes            github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection

unit-tes            github.com/hyperledger/fabric/core/comm/_test/_obj_test/client.go:191

unit-tes            github.com/hyperledger/fabric/core/comm_test.TestNewConnection.func1

unit-tes            /opt/gopath/src/github.com/hyperledger/fabric/core/comm/client_test.go:294

unit-tes            testing.tRunner

unit-tes            /opt/go/src/testing/testing.go:746

unit-tes            runtime.goexit

unit-tes            /opt/go/src/runtime/asm_amd64.s:2337

unit-tes            failed to create new connection

unit-tesTest:       TestNewConnection/client_TLS_/_server_TLS_match

        Error Trace:    client_test.go:298

unit-tesError:      Expected value not to be nil.

unit-tesTest:       TestNewConnection/client_TLS_/_server_TLS_match

unit-tests_1  | FAIL

unit-tests_1  | coverage: 90.5% of statements

unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/comm	24.667s{code}
Similar (though not identical) issues have been observed in jenkins builds. For example:

https://jenkins.hyperledger.org/job/fabric-verify-x86_64/21824/consoleFull",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9236,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2x3:",,,,Unset,,,,,,Unset,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 6:13 PM;mastersingh24;https://gerrit.hyperledger.org/r/20015;;;",,,,,,,,,,,,,,,,,,,,,
Vendor gomega/* and ifrit libraries,FAB-9105,28828,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,26/Mar/18 5:18 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Mar/18 11:51 PM,v1.1.0,,,v1.2.0,,,fabric-quality,,,,0,,,,,"{{gomega/gexec}}, {{gomega/gbytes}}, {{ifrit}}, and {{ifrit/ginkgomon}} are all libraries we will be using to manage and test external processes in our BDD tests. We should add them to our {{vendor}} folder, as we have already with {{ginkgo}}.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2xb:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Mar/18 5:20 AM;kchristidis;https://gerrit.hyperledger.org/r/c/19741/;;;",,,,,,,,,,,,,,,,,,,,,
Chaincode shim protobufs for key-level metadata,FAB-9107,28832,33224,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,26/Mar/18 6:07 PM,06/Sep/18 12:04 AM,28/Oct/23 3:02 AM,06/Sep/18 12:04 AM,,,,Future,,,,,,,0,,,,,Extends chaincode shim protobufs to support key-level metadata,,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt53:",,,,,,,,,,,,,,,,,,,,,mne,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 6:21 PM;mne; https://gerrit.hyperledger.org/r/21485;;;",,,,,,,,,,,,,,,,,,,,,
Private ownable state with Idemix,FAB-9108,28833,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,26/Mar/18 6:15 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,idemix,stale-item,,,Private ownable state implementation that uses Idemix credentials instead of ephemeral keys.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8820,,,,,,,,,,"1|hzz13j:",,,,,,,,,,,,,,,,,,,,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Public and private ownable state,FAB-9109,28834,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,26/Mar/18 7:07 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,1,stale-item,,,,"Create different flavours of ownable state:
 * support for private and public data
 * support for public ownership vs. private ownership

One instance is an ownable state implementation with privacy-preserving, i.e. unlinkable ownership and private data, i.e. transaction content visibility limited to the owners.",,mne,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8820,,,,,,,,,,"1|hzz12n:",,,,,,,,,,,,,,,,,,,,,mne,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Read/write-set sanitization for ownable state,FAB-9110,28835,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,26/Mar/18 7:16 PM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,v1.3.0,,,,,,,0,stale-item,,,,Read-write sets that modify ownable states need to be sanitized. They should only affect the ownable state (no spurious writes) and only affect one ownable state at a time (for privacy-preserving ownable state).,,denyeart,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz2y7:",,,,,,,,,,,,,,,,,,,,,denyeart,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/18 12:41 AM;denyeart;[~mne] Anything else needed for this, or is this duplicate/outdated at this point?;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Chaincode convenience layer for state-based endorsement,FAB-9111,28836,33224,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,26/Mar/18 7:35 PM,06/Sep/18 9:19 PM,28/Oct/23 3:02 AM,06/Sep/18 9:19 PM,,,,v1.3.0,,,,,,,0,,,,,A shim library that facilitates the creation of key-level validation parameters for state-based endorsement.,,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz77b:",,,,,,,,,,,,,,,,,,,,,mne,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 11:40 PM;mne;https://gerrit.hyperledger.org/r/#/c/21987/;;;",,,,,,,,,,,,,,,,,,,,,
Endorsement and validation for privacy-preserving ownable state,FAB-9112,28837,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mne,mne,26/Mar/18 7:36 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,stale-item,,,,Implement ownable state endorsement and validation shim.,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8820,,,,,,,,,,"1|hzz127:",,,,,,,,,,,,,,,,,,,,,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
" Edit lf-account.rst for clarity, grammar, typos",FAB-9113,28839,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,rpjday,rpjday,26/Mar/18 7:43 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,28/Mar/18 8:19 PM,,,,v1.1.1,,,fabric-docs,,,,0,,,,,"Clean up lf-account.rst with respect to grammar, spelling mistakes, brevity and so on.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2yn:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add references/links for all five Fabric SDKs.,FAB-9114,28840,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,rpjday,rpjday,26/Mar/18 7:50 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,19/Jun/18 7:29 AM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,Fill out the list of references to all five official and unofficial Fabric SDKs.,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2yv:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Mar/18 7:47 AM;ChristopherFerris;[https://gerrit.hyperledger.org/r/c/19875/] and https://gerrit.hyperledger.org/r/c/19733;;;",,,,,,,,,,,,,,,,,,,,,
"Standardize on spelling of ""chaincode"".",FAB-9115,28841,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,rpjday,rpjday,26/Mar/18 8:04 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,03/Apr/18 7:10 PM,,,,v1.1.1,v1.2.0,,,,,,0,,,,,"Standardize on the accepted spelling of ""chaincode"", not ""chain code"", in docs, comments and printed strings within Go code.",,rpjday,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2z3:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,tatsu-sato,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Editing of fabric_model.rst for clarity, standardize on ""key-value"" spelling.",FAB-9116,28842,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,rpjday,rpjday,26/Mar/18 8:25 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,01/Apr/18 6:05 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Some editing of fabric_model.rst for grammar and clarity, and to standardize on the accepted spelling of ""key-value"", not ""key value"".",,joe-alewine,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2zb:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Mar/18 5:46 AM;joe-alewine;Key-value is, regrettably, the standard. Would personally prefer ""key/value"", but as Sir Mick once said, you can't always get what you want.;;;",,,,,,,,,,,,,,,,,,,,,
"Fix single misspelling of ""legder"" in logger error diagnostic.",FAB-9117,28843,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,rpjday,rpjday,26/Mar/18 8:41 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,v1.1.1,,,fabric-ledger,,,,0,stale-item,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2zj:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Correct number of downloaded binaries from ""four"" to six"".",FAB-9118,28844,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,26/Mar/18 8:56 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,26/Mar/18 9:46 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"In samples.rst, the text refers to ""four"" downloaded binaries, but the subsequent list shows six, so just fix the number, and add a couple of commas for consistency.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2zr:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Moderate editing of blockchain.rst for grammar, clarity, etc.",FAB-9119,28845,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,26/Mar/18 9:00 PM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,26/Mar/18 9:46 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Editing changes include:
 * Remove erroneous indentation
 * Adjust punctuation
 * De-capitalize non-proper names
 * Other grammar and wording adjustments",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2zz:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Standardize on ""key-value"" usage in several doc files.",FAB-9120,28846,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,26/Mar/18 9:07 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,26/Mar/18 9:47 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"A number of doc files use the phrase ""key/value pairs"", whereas the consensus on the mailing list is that the correct expression is ""key-value pairs"".",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz307:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
[CI] - Enable rtd-verify job for release-1.1 branch,FAB-9122,28850,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,26/Mar/18 10:07 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/Apr/18 4:57 AM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,enable rtd-veify job for release-1.1 branch. Currently this job is enabled only on master branch,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz30v:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 10:03 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/19823/;;;",,,,,,,,,,,,,,,,,,,,,
Evaluate and fix issues pointed out by the race detector,FAB-9123,28851,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,26/Mar/18 10:15 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,06/Jul/18 12:02 AM,,,,,,,,,,,0,hygiene,race,,,"With current master (8d67d599933b7455a034c089f672ca98d45d4d11), the race detector enabled flagged a number of issues. Each of these issues needs to be evaluated and fixed to help ensure serialization bugs do not present themselves in production environments.",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzyizr:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jul/18 12:02 AM;sykesm;Broke out separate issues for gossip, discovery, and logging.;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running TestRevokedAuthorizationSeek,FAB-9124,28852,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Mar/18 10:17 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 11:21 PM,,,,v1.2.0,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4202ead40 by goroutine 33:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:163 +0x16e

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:158 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.TestRevokedAuthorizationSeek()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:438 +0x1164

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4202ead40 by goroutine 36:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*cursor).Next()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:60 +0x91

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.nextBlock.func1()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:338 +0x84

unit-tests_1  |

unit-tests_1  | Goroutine 33 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 36 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.nextBlock()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:335 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).deliverBlocks()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:256 +0x1d28

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).Handle()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:127 +0x404

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz313:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 11:06 PM;sykesm;On current master, this is the reported race for the test:
{code:java}
==================
WARNING: DATA RACE
Write at 0x00c4200d6648 by goroutine 15:
  github.com/hyperledger/fabric/common/deliver.nextBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:321 +0x1d3
  github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:250 +0x1a1f
  github.com/hyperledger/fabric/common/deliver.(*Handler).Handle()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x380
  github.com/hyperledger/fabric/common/deliver_test.glob..func2.3.23.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:493 +0x101
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:109 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:63 +0x17a
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/it_node.go:25 +0xa0
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).runSample()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:176 +0x741
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:127 +0x112
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:198 +0x173
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:168 +0x5f7
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:64 +0x103
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite.(*Suite).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite/suite.go:62 +0x3b9
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecsWithCustomReporters()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:218 +0x310
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:199 +0xc1
  github.com/hyperledger/fabric/common/deliver_test.TestDeliver()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver_suite_test.go:18 +0x85
  testing.tRunner()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:777 +0x16d

Previous write at 0x00c4200d6648 by goroutine 34:
  github.com/hyperledger/fabric/common/deliver.nextBlock.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:313 +0x8c

Goroutine 15 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:44 +0x22a

Goroutine 34 (finished) created at:
  github.com/hyperledger/fabric/common/deliver.nextBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:311 +0xdc
  github.com/hyperledger/fabric/common/deliver.(*Handler).deliverBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:250 +0x1a1f
  github.com/hyperledger/fabric/common/deliver.(*Handler).Handle()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver.go:153 +0x380
  github.com/hyperledger/fabric/common/deliver_test.glob..func2.3.23.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:493 +0x101
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:109 +0xbb
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:63 +0x17a
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/it_node.go:25 +0xa0
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).runSample()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:176 +0x741
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:127 +0x112
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:198 +0x173
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:168 +0x5f7
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:64 +0x103
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite.(*Suite).Run()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite/suite.go:62 +0x3b9
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecsWithCustomReporters()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:218 +0x310
  github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:199 +0xc1
  github.com/hyperledger/fabric/common/deliver_test.TestDeliver()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/deliver/deliver_suite_test.go:18 +0x85
  testing.tRunner()
      /usr/local/Cellar/go/1.10.1/libexec/src/testing/testing.go:777 +0x16d
=================={code};;;","13/Apr/18 11:30 PM;sykesm;https://gerrit.hyperledger.org/r/20537;;;",,,,,,,,,,,,,,,,,,,,
Data race when running TestBlockingSeek,FAB-9125,28853,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:18 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4202f3d80 by goroutine 43:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:163 +0x16e

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:158 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.TestBlockingSeek()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver_test.go:530 +0xe7a

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4202f3d80 by goroutine 46:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*cursor).Next()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:60 +0x91

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.nextBlock.func1()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:338 +0x84

unit-tests_1  |

unit-tests_1  | Goroutine 43 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 46 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.nextBlock()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:335 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).deliverBlocks()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:256 +0x1d28

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).Handle()

unit-tests_1  |       github.com/hyperledger/fabric/common/deliver/_test/_obj_test/deliver.go:127 +0x404

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz31b:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestBlocksItrBlockingNext,FAB-9126,28854,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Mar/18 10:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Jun/18 2:50 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42193c0a0 by goroutine 35:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blocksItr).Next()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/_test/_obj_test/blocks_itr.go:93 +0x30d

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.testIterateAndVerify()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:144 +0xf7

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42193c0a0 by goroutine 25:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.TestBlocksItrBlockingNext()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:44 +0x2d3

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2ff

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xaaa

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x276

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1a63

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xd5

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.NewProvider()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/_test/_obj_test/fs_blockstore_provider.go:19 +0xbb

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.newTestEnvSelectiveIndexing()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/pkg_test.go:65 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.newTestEnv()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/pkg_test.go:60 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.TestBlocksItrBlockingNext()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:29 +0x79

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 35 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.TestBlocksItrBlockingNext()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:42 +0x2b2

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2ff

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xaaa

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x276

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1a63

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xd5

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.NewProvider()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/_test/_obj_test/fs_blockstore_provider.go:19 +0xbb

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.newTestEnvSelectiveIndexing()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/pkg_test.go:65 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.newTestEnv()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/pkg_test.go:60 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.TestBlocksItrBlockingNext()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:29 +0x79

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/pkg_test.go:35 +0x66

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/_test/_testmain.go:158 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz31j:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/18 7:43 AM;sykesm;https://gerrit.hyperledger.org/r/20655;;;",,,,,,,,,,,,,,,,,,,,,
Data race out of TestRaceCondition,FAB-9127,28855,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Mar/18 10:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 11:47 PM,,,,v1.2.0,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420222d98 by goroutine 20:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.(*jsonLedger).Append()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_obj_test/impl.go:158 +0x2e3

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestRaceCondition()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:177 +0x3cf

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420222d98 by goroutine 21:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.(*cursor).Next()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_obj_test/impl.go:94 +0x86

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestRaceCondition.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:173 +0x42

unit-tests_1  |

unit-tests_1  | Goroutine 20 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_testmain.go:120 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 21 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestRaceCondition()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:172 +0x25d

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9129,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz31r:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/18 11:44 PM;sykesm;https://gerrit.hyperledger.org/r/20667;;;",,,,,,,,,,,,,,,,,,,,,
"As a developer, I want to be notified of possible data races in the production code",FAB-9128,28856,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,26/Mar/18 10:25 PM,19/Dec/18 3:15 AM,28/Oct/23 3:02 AM,19/Dec/18 3:15 AM,,,,,,,,,,,0,hygiene,race,,,"The go race detector can be used to detect unserialized access to data that may result in non-deterministic execution of a program.

As a developer, I want to have the race detector enabled during unit-test execution to ensure that I'm able to evaluate and fix serialization bugs before they are integrated.",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,FAB-9123,FAB-10968,FAB-10969,FAB-12097,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz31z:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 3:15 AM;sykesm;Closing as gossip is the only component that does not get tested with the race detector. FAB-10969 covers that work.;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running TestBlockedRetrieval,FAB-9129,28857,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:26 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420223198 by goroutine 23:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.(*jsonLedger).Append()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_obj_test/impl.go:158 +0x2e3

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestBlockedRetrieval.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:215 +0x182

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420223198 by goroutine 22:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.(*cursor).Next()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_obj_test/impl.go:94 +0x86

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestBlockedRetrieval()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:218 +0x6d3

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 23 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/json.TestBlockedRetrieval()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/json/impl_test.go:208 +0x6b9

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 22 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/ledger/blockledger/json/_test/_testmain.go:120 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9127,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz327:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestStartAndClose,FAB-9130,28858,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,skarim,sykesm,sykesm,26/Mar/18 10:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 11:21 PM,,,,v1.2.0,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x000000e74de0 by goroutine 18:

unit-tests_1  |   github.com/hyperledger/fabric/common/metrics.Shutdown()

unit-tests_1  |       github.com/hyperledger/fabric/common/metrics/_test/_obj_test/server.go:112 +0xd3

unit-tests_1  |   github.com/hyperledger/fabric/common/metrics.TestStartAndClose()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/metrics/server_test.go:173 +0x233

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x000000e74de0 by goroutine 79:

unit-tests_1  |   github.com/hyperledger/fabric/common/metrics.Start()

unit-tests_1  |       github.com/hyperledger/fabric/common/metrics/_test/_obj_test/server.go:101 +0x96

unit-tests_1  |

unit-tests_1  | Goroutine 18 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/metrics/_test/_testmain.go:138 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 79 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/metrics.TestStartAndClose()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/metrics/server_test.go:169 +0x126

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz32f:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 12:38 AM;sykesm;https://gerrit.hyperledger.org/r/20671;;;",,,,,,,,,,,,,,,,,,,,,
Move to new logging library (was Multiple data races when running TestConcurrencyNotFail),FAB-9131,28859,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,sykesm,sykesm,26/Mar/18 10:28 PM,26/Aug/18 9:09 PM,28/Oct/23 3:02 AM,26/Aug/18 9:09 PM,,,,v1.3.0,,,,,,,1,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420010ab0 by goroutine 22:

unit-tests_1  |   runtime.mapassign_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:598 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:104 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:33 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:165 +0x55

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420010ab0 by goroutine 21:

unit-tests_1  |   runtime.mapaccess2_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:315 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:91 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:170 +0x363

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Info()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:239 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:170 +0x92

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 22 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:163 +0x69

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 21 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/util/_test/_testmain.go:126 +0x2f0

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420010ab0 by goroutine 21:

unit-tests_1  |   runtime.mapaccess2_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:315 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:91 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:140 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:144 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Info()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:239 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:170 +0x92

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420010ab0 by goroutine 22:

unit-tests_1  |   runtime.mapassign_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:598 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:104 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:33 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:165 +0x55

unit-tests_1  |

unit-tests_1  | Goroutine 21 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/util/_test/_testmain.go:126 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 22 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:163 +0x69

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420072a50 by goroutine 21:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:91 +0x8f

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:140 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:144 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Info()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:239 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:170 +0x92

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420072a50 by goroutine 22:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:104 +0x86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:33 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:165 +0x55

unit-tests_1  |

unit-tests_1  | Goroutine 21 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/common/util/_test/_testmain.go:126 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 22 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/util.TestConcurrencyNotFail()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/util/utils_test.go:163 +0x69

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,kchristidis,mastersingh24,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9161,FAB-9155,,,,,,,,,,,,FAB-6890,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz32n:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,mastersingh24,sykesm,wlahti,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 8:23 PM;sykesm;This is directly related to changes made in [https://github.com/hyperledger/fabric/commit/5f9f6a982|https://github.com/hyperledger/fabric/commit/5f9f6a982.] that were dropped when vendored deps were updated.

Directly modifying a vendored dependency isn't a viable path given our use of dev to manage the dependencies and the maintainer of go-logging has decided not to accept pull requests that introduce any locking to the go-logging library making it unfit for our use.

Fixing this really means forking or changing the dependency.;;;","25/Apr/18 12:13 AM;mastersingh24;I'd see we should find a better package which meets our needs.  I don't think forking is the right thing to do in general and in this case go-logging is not that great ... so I'd rather find a more suitable package.

The other option is to wrap go-logging, but as [~sykesm] pointed out to me offline, this rarely works well;;;","25/Apr/18 2:29 AM;mastersingh24;[~sykesm] and I also discussed a couple of options:

https://github.com/sirupsen/logrus
https://github.com/uber-go/zap

After looking at them again, I'd lean towards zap but either seems fine;;;","25/Apr/18 4:39 AM;kchristidis;I use zap and I'm a big fan. But if we're to switch logging packages, this is the time to address the way we do logging in general. For instance: https://dave.cheney.net/2017/01/23/the-package-level-logger-anti-pattern;;;","01/Jul/18 8:18 PM;mastersingh24;[~kchristidis] - just getting back to logging for v1.3 ... I agree with the comment about the anti-pattern .... not sure how we can fully address in v1.3 but I think we can get started on some of the core ""shared packages""

 ;;;","14/Jul/18 10:33 PM;mastersingh24;Bumping priority, moving to 1.3 and assigning to [~sykesm];;;","25/Jul/18 3:15 AM;sykesm;I'm officially starting this work this week. I'll be moving to zap with the intention of supporting our current notion of ""logging modules."" Log level configuration and dynamic updates will be supported by {{zap.AtomicLevel}}.

The logger returned by default will be the {{zap.SugaredLogger}} as it maintains the existing contract. At that point we can decide how far we want to go with this work.;;;","25/Jul/18 4:38 AM;sykesm;Notes:
- Zap doesn't have something analogous to {{CRITICAL}} so it will be mapped to error.
- Zap doesn't have something analogous to {{NOTICE}} so it will be mapped to info.
- For some reason, we felt we should provide logging implementations and functionality in our chaincode stub so we've surfaced a op/go-logging type as part of our definition of {{shim.LoggingLevel}}. While it's probably an edge case, this can impact the source compatibility if we change it.
- Default output format for zap is quite a bit different from op/go-logging. Also, we surface log format strings in our configuration. This implies we'll likely need our own encoder.;;;","26/Jul/18 2:58 AM;kchristidis;I take it that in the first iteration, the log messages remain as-is, i.e. we won't be switching to k/v pairs?;;;","26/Jul/18 3:31 AM;sykesm;{quote}I take it that in the first iteration, the log messages remain as-is, i.e. we won't be switching to k/v pairs?
{quote}
This isn't a boil the ocean logging epic - this is simply moving away from a dependency that does not meet our needs to something that better aligns with where we want to go.;;;","26/Jul/18 4:08 AM;kchristidis;{quote}I take it that in the first iteration, the log messages remain as-is, i.e. we won't be switching to k/v pairs?{quote}
We will not.;;;",,,,,,,,,,,
Multiple data races when running chaincode tests,FAB-9132,28860,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,26/Mar/18 10:39 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Jul/18 9:30 PM,,,,v1.3.0,,,,,,,0,race,,,," 
{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420511cd0 by goroutine 101:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1.1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:295 +0x71

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420511cd0 by goroutine 94:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:290 +0xb3

unit-tests_1  |

unit-tests_1  | Goroutine 101 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:293 +0xf66

unit-tests_1  |

unit-tests_1  | Goroutine 94 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:283 +0x77e

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.StartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:234 +0x43c

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller.go:112 +0x29d

unit-tests_1  | =================={code}
There are several others as well (at least 7 more) but the stacks are far too long to fit in the issue.

 ",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9136,FAB-9137,FAB-9138,FAB-9139,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz32v:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestGenerateDockerBuild2,FAB-9133,28861,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:40 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Jul/18 9:23 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x0000016bd078 by goroutine 12:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms.GenerateDockerBuild.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/_test/_obj_test/platforms.go:163 +0x103

unit-tests_1  |

unit-tests_1  | Previous write at 0x0000016bd078 by goroutine 11:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms.TestGenerateDockerBuild2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms_test.go:325 +0x8d9

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 12 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms.GenerateDockerBuild()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/_test/_obj_test/platforms.go:159 +0x612

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms.TestGenerateDockerBuild2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms_test.go:305 +0x34b

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 11 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/_test/_testmain.go:98 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz333:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/18 3:20 AM;sykesm;Race is between
{code:java}
_generateDockerBuild = generateDockerBuildErr
{code}
in the test code and the call
{code:java}
err := _generateDockerBuild(platform, cds, inputFiles, tw)
{code}
in the production code.;;;",,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestGenerateDockerBuild,FAB-9134,28862,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Jul/18 5:35 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420098408 by goroutine 100:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/util.DockerBuild()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0xeec

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).GenerateDockerBuild()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_obj_test/platform.go:507 +0x88a

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestGenerateDockerBuild()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:361 +0xbe1

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420098408 by goroutine 26:

unit-tests_1  |   bytes.(*Buffer).grow()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:138 +0x24c

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy.StdCopy()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy/stdcopy.go:158 +0x785

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1.1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:722 +0x169

unit-tests_1  |

unit-tests_1  | Goroutine 100 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:378 +0x2c5

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_testmain.go:118 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 26 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:708 +0x50c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c4200983f0 by goroutine 100:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/util.DockerBuild()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0xf0c

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).GenerateDockerBuild()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_obj_test/platform.go:507 +0x88a

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestGenerateDockerBuild()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:361 +0xbe1

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c4200983f0 by goroutine 26:

unit-tests_1  |   bytes.(*Buffer).grow()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:135 +0x3c3

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy.StdCopy()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy/stdcopy.go:158 +0x785

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1.1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:722 +0x169

unit-tests_1  |

unit-tests_1  | Goroutine 100 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:378 +0x2c5

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_testmain.go:118 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 26 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:708 +0x50c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c4200fc2a0 by goroutine 100:

unit-tests_1  |   runtime.slicebytetostring()

unit-tests_1  |       /opt/go/src/runtime/string.go:72 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/util.DockerBuild()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0xf62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).GenerateDockerBuild()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_obj_test/platform.go:507 +0x88a

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestGenerateDockerBuild()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:361 +0xbe1

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c4200fc2a0 by goroutine 26:

unit-tests_1  |   runtime.slicecopy()

unit-tests_1  |       /opt/go/src/runtime/slice.go:160 +0x0

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:165 +0x121

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy.StdCopy()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/external/github.com/docker/docker/pkg/stdcopy/stdcopy.go:158 +0x785

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1.1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:722 +0x169

unit-tests_1  |

unit-tests_1  | Goroutine 100 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/platforms/golang.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform_test.go:378 +0x2c5

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/platforms/golang/_test/_testmain.go:118 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 26 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient.(*Client).hijack.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/fsouza/go-dockerclient/client.go:708 +0x50c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz33b:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
PTE changes CITest scripts path location independent,FAB-9135,28863,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,26/Mar/18 10:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Mar/18 10:14 PM,,,,,,,fabric-quality,,,,0,,,,,"PTE can be executed in fabric-test/tools/PTE with ""npm install fabric-client"" and ""npm install fabric-ca-client"" or under fabric-sdk-node/test/PTE.  Need to change all the CITest scripts path to be location independent.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz33j:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"27/Mar/18 3:56 AM;dongming;https://gerrit.hyperledger.org/r/#/c/19771/;;;",,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestInvoke,FAB-9136,28864,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:42 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4201d9750 by goroutine 29:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:306 +0xe3

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c4201d9750 by goroutine 40:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1.1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:313 +0x89

unit-tests_1  |

unit-tests_1  | Goroutine 29 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:297 +0x695

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.Start()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:155 +0x502

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:564 +0x48

unit-tests_1  |

unit-tests_1  | Goroutine 40 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:310 +0x113b

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4201f0180 by goroutine 25:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:102 +0xddac

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4201f0180 by goroutine 53:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSend()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:62 +0xca

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:71 +0x5e

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 53 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:69 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:371 +0x68e

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42006be70 by goroutine 25:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:103 +0xddc0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42006be70 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:80 +0xa7

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 27 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:574 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4201f01e0 by goroutine 25:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:107 +0xdd34

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4201f01e0 by goroutine 28:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 28 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x3d8

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42006be78 by goroutine 25:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:108 +0xdd48

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42006be78 by goroutine 28:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 28 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x3d8

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz33r:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestStartInProc,FAB-9137,28865,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:43 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4201d9530 by goroutine 26:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:564 +0x6d

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c4201d9530 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x400

unit-tests_1  |

unit-tests_1  | Goroutine 26 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:563 +0x1a2

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 27 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:574 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c42006be68 by goroutine 28:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:137 +0xa2

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42006be68 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:152 +0x44

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:160 +0x158

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 28 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:579 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 27 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestInvoke()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:574 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42025a120 by goroutine 64:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:102 +0x486

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42025a120 by goroutine 61:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*inProcStream).Send()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/inprocstream.go:41 +0xe0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSend()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:62 +0xca

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:71 +0x5e

unit-tests_1  |

unit-tests_1  | Goroutine 64 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 61 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:69 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:371 +0x68e

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420292070 by goroutine 64:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:103 +0x497

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420292070 by goroutine 66:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:80 +0xa7

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 64 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 66 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:856 +0x221

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42025a180 by goroutine 64:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:107 +0x41d

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42025a180 by goroutine 69:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 64 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 69 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x3d8

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420292078 by goroutine 64:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:108 +0x42e

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420292078 by goroutine 69:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 64 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 69 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x3d8

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz33z:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestCC2CC,FAB-9138,28866,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sykesm,sykesm,26/Mar/18 10:43 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42020c540 by goroutine 62:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:866 +0x155

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42020c540 by goroutine 66:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x400

unit-tests_1  |

unit-tests_1  | Goroutine 62 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:865 +0x25a

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 66 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:856 +0x221

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00000176e7c0 by goroutine 63:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetBackend()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:26 +0xbb

unit-tests_1  |   github.com/hyperledger/fabric/common/flogging.InitBackend()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/logging.go:76 +0x28c

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.SetupChaincodeLogging()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:174 +0x23b

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.Start()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:126 +0x5c

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:889 +0x48

unit-tests_1  |

unit-tests_1  | Previous read at 0x00000176e7c0 by goroutine 65:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:140 +0x3e

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:144 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Debugf()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:254 +0x98

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:348 +0xa3a

unit-tests_1  |

unit-tests_1  | Goroutine 63 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:888 +0x1a2

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 65 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:297 +0x695

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.StartInProc()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:236 +0x46e

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:866 +0x12d

unit-tests_1  | ==================

unit-tests_1  | 2018-03-26 12:35:16.475 UTC [shim] SetupChaincodeLogging -> INFO 055 Chaincode log level not provided; defaulting to: INFO

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420292068 by goroutine 69:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:137 +0xa2

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420292068 by goroutine 66:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:152 +0x44

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:160 +0x158

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 69 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc.func2()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:861 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 66 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestStartInProc()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:856 +0x221

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42025a420 by goroutine 25:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:102 +0x28ab

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42025a420 by goroutine 74:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSend()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:62 +0xca

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:71 +0x5e

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 74 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).serialSendAsync()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/handler.go:69 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.chatWithPeer.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_obj_test/chaincode.go:371 +0x68e

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420292110 by goroutine 25:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:103 +0x28bf

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420292110 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:80 +0xa7

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 27 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:899 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42025a480 by goroutine 25:

unit-tests_1  |   runtime.closechan()

unit-tests_1  |       /opt/go/src/runtime/chan.go:313 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:107 +0x2833

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42025a480 by goroutine 29:

unit-tests_1  |   runtime.chansend()

unit-tests_1  |       /opt/go/src/runtime/chan.go:128 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x94

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 29 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420292118 by goroutine 25:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:108 +0x2847

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420292118 by goroutine 29:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Send()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:74 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:140 +0x7b

unit-tests_1  |

unit-tests_1  | Goroutine 25 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/chaincode/shim/_test/_testmain.go:134 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 29 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz347:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestRealPeerStream,FAB-9139,28867,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:44 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42020ca70 by goroutine 63:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:889 +0x6d

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42020ca70 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x400

unit-tests_1  |

unit-tests_1  | Goroutine 63 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:888 +0x1a2

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 27 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:899 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420292108 by goroutine 29:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).ka()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:137 +0xa2

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420292108 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:152 +0x44

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:160 +0x158

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 29 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/common/mocks/peer.(*MockCCComm).Run()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/mocks/peer/mockccstream.go:148 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:904 +0x3d8

unit-tests_1  |

unit-tests_1  | Goroutine 27 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/chaincode/shim.TestCC2CC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/shim_test.go:899 +0x274

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz34f:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestNewSecureGRPCServer,FAB-9140,28868,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,mastersingh24,sykesm,sykesm,26/Mar/18 10:45 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 4:38 AM,,,,v1.2.0,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420480db0 by goroutine 100:

unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestNewSecureGRPCServer.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:640 +0x27c

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420480db0 by goroutine 138:

unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestNewSecureGRPCServer.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:640 +0x27c

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 100 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestNewSecureGRPCServer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:638 +0xfa0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 138 (finished) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   github.com/hyperledger/fabric/core/comm_test.TestNewSecureGRPCServer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server_test.go:638 +0xfa0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz34n:",,,,,,,,,,,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Apr/18 4:37 AM;mastersingh24;Fixed as part of FAB-9104

https://gerrit.hyperledger.org/r/20015;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running TestLaunchInprocCCSupportChan,FAB-9141,28869,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:46 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Jul/18 9:23 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00000162b068 by goroutine 15:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchInprocCCSupportChan.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:257 +0x101

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchInprocCCSupportChan()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:279 +0x582

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00000162b068 by goroutine 16:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:119 +0x224

unit-tests_1  |

unit-tests_1  | Goroutine 15 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_testmain.go:130 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 16 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:105 +0x1f9

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchInprocCCSupportChan()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:277 +0x4c1

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9142,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz34v:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestLaunchprocShimStartInProcErr,FAB-9142,28870,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:46 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x000001681d80 by goroutine 24:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchprocShimStartInProcErr()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:367 +0x29b

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x000001681d80 by goroutine 19:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:123 +0x615

unit-tests_1  |

unit-tests_1  | Goroutine 24 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_testmain.go:130 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 19 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:105 +0x1f9

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchprocNoArgs()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:311 +0x5c0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420018240 by goroutine 22:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchprocShimStartInProcErr.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:368 +0x67

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:123 +0x651

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420018240 by goroutine 24:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchprocShimStartInProcErr()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:366 +0x1ca

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 22 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.(*inprocContainer).launchInProc()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_obj_test/inproccontroller.go:105 +0x1f9

unit-tests_1  |   github.com/hyperledger/fabric/core/container/inproccontroller.TestLaunchprocNoEnv()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/container/inproccontroller/inproccontroller_test.go:345 +0x5c0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 24 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/core/container/inproccontroller/_test/_testmain.go:130 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9141,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz353:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race in TestOrderingServiceStreamFailure,FAB-9143,28871,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:47 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Jul/18 9:23 PM,,,,,,,,,,,0,race,,,,"{code:java}
==================
WARNING: DATA RACE
Read at 0x00000583e0f0 by goroutine 26:
  github.com/hyperledger/fabric/core/deliverservice.(*balancer).Start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:47 +0x57
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*balancerWrapperBuilder).Build()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_v1_wrapper.go:45 +0x11d
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newCCBalancerWrapper()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_conn_wrappers.go:114 +0x2e7
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).handleResolvedAddrs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:735 +0x48c
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccResolverWrapper).watcher()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver_conn_wrapper.go:117 +0x53d

Previous write at 0x00000583e0f0 by goroutine 22:
  github.com/hyperledger/fabric/core/deliverservice.(*balancer).Close()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:64 +0x56
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*balancerWrapper).Close()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_v1_wrapper.go:284 +0xd0
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccBalancerWrapper).watcher()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_conn_wrappers.go:135 +0x4ea

Goroutine 26 (running) created at:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccResolverWrapper).start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver_conn_wrapper.go:95 +0x4c
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.DialContext()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:557 +0xc11
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.Dial()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:401 +0x98
  github.com/hyperledger/fabric/core/deliverservice.newConnection()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:38 +0xc6
  github.com/hyperledger/fabric/core/deliverservice.(*connProducer).NewConnection()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:142 +0x167
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:137 +0xac
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:114 +0x106
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Send()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:72 +0xa1
  github.com/hyperledger/fabric/core/deliverservice.glob..func2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:77 +0x90
  github.com/hyperledger/fabric/core/deliverservice.testOrderingServiceStreamFailure()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:228 +0x444
  github.com/hyperledger/fabric/core/deliverservice.TestOrderingServiceStreamFailure()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:199 +0x82
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 22 (finished) created at:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newCCBalancerWrapper()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_conn_wrappers.go:113 +0x290
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).handleResolvedAddrs()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:735 +0x48c
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccResolverWrapper).watcher()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver_conn_wrapper.go:117 +0x53d
==================
2018-06-19 09:18:14.923 EDT [deliveryClient] try -> WARN 008 Got error: Failed creating ABC , at 1 attempt. Retrying in 0s
--- FAIL: TestOrderingServiceStreamFailure (0.00s)
testing.go:730: race detected during execution of test{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz35b:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/18 10:34 PM;sykesm;client.Start() and client.Close() are called from different go routines without serialization.
{code:java}
func (*balancer) Start(target string, config grpc.BalancerConfig) error {
    connWG.Add(1)
    connNumber++ // <-- here
    return nil
}{code}
and
{code:java}
func (*balancer) Close() error {
    connNumber--
    connWG.Done()
    return nil
}
{code}
Looking at the tests, connNumber is unnecessary as all references to it are in assertions that follow {{connWG.Wait()}} calls - implying the zero unclosed connections.

Fixing by removing the unnecessary connNumber state.;;;","20/Jun/18 12:47 AM;sykesm;https://gerrit.hyperledger.org/r/23319;;;",,,,,,,,,,,,,,,,,,,,
Data race when running TestDisconnect,FAB-9144,28872,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:48 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Jul/18 9:23 PM,,,,,,,,,,,0,race,,,,"{code:java}
==================
WARNING: DATA RACE
Write at 0x00c42019c138 by goroutine 50:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:136 +0x5f
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:114 +0x106
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnect.func6()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:641 +0x38

Previous write at 0x00c42019c138 by goroutine 41:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Disconnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:228 +0x1c7
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:665 +0x561
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 50 (running) created at:
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:640 +0x51b
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 41 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:94 +0x22a
==================
2018-06-19 09:38:35.934 EDT [deliveryClient] try -> WARN 073 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 10ms
2018-06-19 09:38:36.434 EDT [deliveryClient] try -> WARN 074 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 10ms
--- FAIL: TestDisconnect (1.62s)
testing.go:730: race detected during execution of test{code}
 

The race is on clearing the endpoint field in connect and Disconnect
{code:java}
func (bc *broadcastClient) Disconnect(disableEndpoint bool) {
    logger.Debug(""Entering"")
    defer logger.Debug(""Exiting"")
    bc.Lock()
    defer bc.Unlock()
    if disableEndpoint && bc.endpoint != """" {
        bc.prod.DisableEndpoint(bc.endpoint)
    }
    bc.endpoint = """" // <-- here
    if bc.conn == nil {
        return
    }
    bc.conn.Close()
    bc.conn = nil
    bc.BlocksDeliverer = nil
}
{code}
and
{code:java}
func (bc *broadcastClient) connect() error {
    bc.endpoint = """" // <--
    conn, endpoint, err := bc.prod.NewConnection()
...{code}
There is a lock in the broadcast client but it doesn't seem to be used to protect this field in connect.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz35j:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/18 10:53 PM;sykesm;Overall, the locking in the client looks a bit weird. It's acquired and dropped several times during connect processing without a lot of state checks. Hard to see what's supposed to happen (I don't know the usage patterns) so just acquiring a lock around the endpoint to avoid the race. At least it's serialized inconsistency.;;;","20/Jun/18 12:48 AM;sykesm;[https://gerrit.hyperledger.org/r/23321];;;",,,,,,,,,,,,,,,,,,,,
Data races when running TestDisconnectAndDisableEndpoint,FAB-9145,28873,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:49 PM,05/Dec/18 6:35 AM,28/Oct/23 3:02 AM,05/Dec/18 6:35 AM,,,,Future,,,fabric-peer,,,,0,race,,,,"Three data races are reported when running TestDisconnectAndDisableEndpoint.
{code:java}
WARNING: DATA RACE
Read at 0x00c42050a280 by goroutine 41:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:113 +0x40
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func6()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:718 +0x38

Previous write at 0x00c42050a280 by goroutine 65:
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).afterConnect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:169 +0x2ca
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:153 +0x861
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:114 +0x106
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func9()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:742 +0x38{code}
The first is a data race between an unlocked read on {{conn}} in {{doAction}} and a locked set in {{afterConnect}} where the connection object is setup. As I commented in FAB-9144, the locking strategy here, in general, is suspect...

The second
{code:java}
WARNING: DATA RACE
Read at 0x000004e3c850 by goroutine 41:
  github.com/hyperledger/fabric/core/comm.(*connProducer).NewConnection()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/comm/producer.go:66 +0x1e9
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).connect()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:139 +0xe4
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:114 +0x106
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func6()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:718 +0x38

Previous write at 0x000004e3c850 by goroutine 26:
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:696 +0x3a
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:749 +0x8a0
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d{code}
is a race between an unlocked read of {{EndpointDisableInterval}} in {{NewConnection}} and an unlocked reset of the package scoped global variable in the test.

And a third shows up in the test
{code:java}
WARNING: DATA RACE
Write at 0x00c420416030 by goroutine 22:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*csAttempt).recvMsg()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:503 +0xcbc
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*clientStream).RecvMsg()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:384 +0x66
  github.com/hyperledger/fabric/protos/orderer.(*atomicBroadcastDeliverClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:529 +0x82
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:62 +0xfb
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:133 +0x53
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func5()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:719 +0x38

Previous write at 0x00c420416030 by goroutine 59:
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*csAttempt).recvMsg()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:503 +0xcbc
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*clientStream).RecvMsg()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stream.go:384 +0x66
  github.com/hyperledger/fabric/protos/orderer.(*atomicBroadcastDeliverClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:529 +0x82
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:62 +0xfb
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).doAction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:133 +0x53
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).try()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:91 +0x18b
  github.com/hyperledger/fabric/core/deliverservice.(*broadcastClient).Recv()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client.go:58 +0x7b
  github.com/hyperledger/fabric/core/deliverservice.TestDisconnectAndDisableEndpoint.func8()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/deliverservice/client_test.go:743 +0x38{code}
This is a race caused by concurrent calls to Recv on the stream. This looks like a misuse of the client and the second call isn't necessary.",,denyeart,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz35r:",,,,,,,,,,,,,,,,,,,,,denyeart,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jun/18 3:51 AM;sykesm;https://gerrit.hyperledger.org/r/23339;;;","17/Jul/18 12:24 AM;sykesm;Abandoned 23339.;;;","21/Aug/18 8:10 PM;denyeart;[~sykesm] [~yacovm] Is there a plan for this one?;;;","21/Aug/18 9:33 PM;yacovm;From what I've seen - all current data races are related to updating ordering service endpoints which isn't in use.

I would recommend to defer to post v1.3 and not risk anything at this point.;;;","05/Dec/18 6:35 AM;sykesm;We've had the race detector enabled by default since the beginning of 1.4. Hopefully this has been resolved.;;;",,,,,,,,,,,,,,,,,
Data race when running TestCreateChainFromBlock,FAB-9146,28874,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:51 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Jul/18 12:10 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420126f00 by goroutine 94:

unit-tests_1  |   runtime.mapassign_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:598 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Set()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:772 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.Set()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:768 +0x72

unit-tests_1  |   github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:161 +0x90

unit-tests_1  |   github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func3()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:261 +0x5a

unit-tests_1  |   github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func5()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:312 +0x59f

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420126f00 by goroutine 137:

unit-tests_1  |   runtime.mapaccess2_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:315 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:628 +0x16d

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:404 +0x109

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:481 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:479 +0x5e

unit-tests_1  |   github.com/hyperledger/fabric/gossip/util.GetDurationOrDefault()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:165 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.getReconnectInterval()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1002 +0x51

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x8b7

unit-tests_1  |

unit-tests_1  | Goroutine 94 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:293 +0x2d2a

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 137 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:150 +0x486

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).learnAnchorPeers()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:262 +0x6a2

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).JoinChan()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:186 +0x153

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).updateAnchors()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:323 +0xb7d

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:82 +0x5f7

unit-tests_1  |   github.com/hyperledger/fabric/core/peer.createChain.func1()

unit-tests_1  |       github.com/hyperledger/fabric/core/peer/_test/_obj_test/peer.go:342 +0x228

unit-tests_1  |   github.com/hyperledger/fabric/common/resourcesconfig.(*BundleSource).Update()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:43 +0xa8

unit-tests_1  |   github.com/hyperledger/fabric/common/resourcesconfig.NewBundleSource()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:35 +0xeb

unit-tests_1  |   github.com/hyperledger/fabric/core/peer.createChain()

unit-tests_1  |       github.com/hyperledger/fabric/core/peer/_test/_obj_test/peer.go:418 +0x92f

unit-tests_1  |   github.com/hyperledger/fabric/core/peer.CreateChainFromBlock()

unit-tests_1  |       github.com/hyperledger/fabric/core/peer/_test/_obj_test/peer.go:493 +0x232

unit-tests_1  |   github.com/hyperledger/fabric/core/peer.TestCreateChainFromBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer_test.go:129 +0x65c

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9162,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz35z:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Jun/18 10:37 PM;sykesm;The race is in gossip and does not present itself when running the test in isolation. (Oh yeah, the test can't be run in isolation because it assumes it's running after another test called the Initialize method.) Running the test multiple times also fails (with -count n) because the chain is created with a static name and the test verifies only a single channel exists at the end of the test.
{code:java}
2018-06-28 09:35:29.863 EDT [gossip/state] NewGossipStateProvider -> INFO 012 Updating metadata information, current ledger sequence is at = 0, next expected block is = 1
==================
WARNING: DATA RACE
Write at 0x00c4201c8000 by goroutine 106:
  runtime.mapassign_faststr()
      /usr/local/Cellar/go/1.10.3/libexec/src/runtime/hashmap_fast.go:694 +0x0
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Set()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:772 +0xc6
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.Set()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:768 +0x72
  github.com/hyperledger/fabric/core/peer.setupPeerFS()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/peer/configtx_test.go:41 +0xec
  github.com/hyperledger/fabric/core/peer.TestCreateChainFromBlock()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/peer/peer_test.go:90 +0x53
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Previous read at 0x00c4201c8000 by goroutine 67:
  runtime.mapaccess2_faststr()
      /usr/local/Cellar/go/1.10.3/libexec/src/runtime/hashmap_fast.go:261 +0x0
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:628 +0x16a
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:404 +0x106
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetDuration()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:481 +0x4c
  github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetDuration()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:479 +0x5e
  github.com/hyperledger/fabric/gossip/util.GetDurationOrDefault()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/gossip/util/misc.go:177 +0x87
  github.com/hyperledger/fabric/gossip/discovery.getReconnectInterval()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1000 +0x51
  github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalReconnectToDead()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:606 +0x35e{code};;;","29/Jun/18 5:04 AM;sykesm;https://gerrit.hyperledger.org/r/23831;;;",,,,,,,,,,,,,,,,,,,,
Data race when running producer.TestUnregister,FAB-9148,28876,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 10:58 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c42037ef20 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*Adapter).updateCountNotify()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:92 +0x58

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*Adapter).Recv()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:102 +0xab

unit-tests_1  |   github.com/hyperledger/fabric/events/consumer.(*EventsClient).processEvents()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/consumer/consumer.go:206 +0x160

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42037ef20 by goroutine 56:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestUnregister()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:381 +0x36d

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 27 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/events/consumer.(*EventsClient).Start()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/consumer/consumer.go:241 +0x791

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:718 +0x8ab

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 56 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:725 +0x9ce

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10924,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz36f:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestRegister_MutualTLS,FAB-9149,28877,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 10:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Jul/18 12:10 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420339738 by goroutine 58:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.resetEventProcessor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:553 +0x90

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestRegister_MutualTLS()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:482 +0x8a9

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420339738 by goroutine 59:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).validateEventMessage()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:198 +0x59a

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).HandleMessage()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:115 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*EventsServer).Chat()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/producer.go:62 +0x185

unit-tests_1  |

unit-tests_1  | Goroutine 58 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:725 +0x9ce

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 59 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestRegister_MutualTLS()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:445 +0x1a4

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42037ed98 by goroutine 58:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.resetEventProcessor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:556 +0x111

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestRegister_MutualTLS()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:482 +0x8a9

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42037ed98 by goroutine 59:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.deRegisterHandler()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/events.go:340 +0x1dc

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).deregisterAll()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:103 +0x14e

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).Stop()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:35 +0x54

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*EventsServer).Chat()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/producer.go:66 +0x296

unit-tests_1  |

unit-tests_1  | Goroutine 58 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestMain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:725 +0x9ce

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_testmain.go:128 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 59 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestRegister_MutualTLS()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:445 +0x1a4

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz36n:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 5:04 AM;sykesm;https://gerrit.hyperledger.org/r/23833;;;",,,,,,,,,,,,,,,,,,,,,
Data race in TestRegister_ExpiredIdentity,FAB-9150,28878,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,26/Mar/18 11:00 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Jul/18 5:35 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c4200112a0 by goroutine 61:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).deregisterAll()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:101 +0x74

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).Stop()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:35 +0x54

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*EventsServer).Chat()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/producer.go:52 +0x5f3

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c4200112a0 by goroutine 62:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*handler).Stop()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/handler.go:36 +0x6e

unit-tests_1  |

unit-tests_1  | Goroutine 61 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.TestRegister_ExpiredIdentity()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/events/producer/producer_test.go:488 +0x1b3

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 62 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*eventProcessor).start.func1()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/events.go:251 +0x293

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*genericHandlerList).foreach()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/events.go:206 +0x10f

unit-tests_1  |   github.com/hyperledger/fabric/events/producer.(*eventProcessor).start()

unit-tests_1  |       github.com/hyperledger/fabric/events/producer/_test/_obj_test/events.go:244 +0x30d

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz36v:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 1:34 AM;sykesm;The location of the race has changed a bit but appears to be the same cause:

When the events server is started, it launches a go routine to handle expired event handlers. The test tries for force expiration by changing a handler's sessionEndTime to a time in the past. This modification is done concurrently with the execution of the routine that scans the handler and results in a race.
{code:java}
==================
WARNING: DATA RACE
Read at 0x00c4200d2158 by goroutine 16:
  github.com/hyperledger/fabric/events/producer.(*handler).hasSessionExpired()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/handler.go:144 +0x84
  github.com/hyperledger/fabric/events/producer.(*eventProcessor).start()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/events.go:100 +0x383

Previous write at 0x00c4200d2158 by goroutine 38:
  github.com/hyperledger/fabric/events/producer.TestRegister_ExpiredIdentity.func2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/producer_test.go:449 +0x1b7
  github.com/hyperledger/fabric/events/producer.TestRegister_ExpiredIdentity()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/producer_test.go:478 +0x91d
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 16 (running) created at:
  github.com/hyperledger/fabric/events/producer.initializeEvents()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/events.go:161 +0x1eb
  github.com/hyperledger/fabric/events/producer.NewEventsServer()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/producer.go:44 +0x58
  github.com/hyperledger/fabric/events/producer.TestMain()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/producer_test.go:692 +0x504
  main.main()
      _testmain.go:70 +0x22a

Goroutine 38 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  github.com/hyperledger/fabric/events/producer.TestMain()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/events/producer/producer_test.go:707 +0x845
  main.main()
      _testmain.go:70 +0x22a
=================={code};;;","29/Jun/18 3:28 AM;sykesm;A fake clock could be used to resolve this but the scope would be a bit larger.;;;","29/Jun/18 5:04 AM;sykesm;https://gerrit.hyperledger.org/r/23835;;;",,,,,,,,,,,,,,,,,,,
Data race in TestDeserializeIdentity,FAB-9151,28879,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 11:01 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420082f58 by goroutine 16:

unit-tests_1  |   github.com/hyperledger/fabric/msp/cache.TestDeserializeIdentity.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/msp/cache/cache_test.go:142 +0xda

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420082f58 by goroutine 15:

unit-tests_1  |   github.com/hyperledger/fabric/msp/cache.TestDeserializeIdentity()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/msp/cache/cache_test.go:137 +0x985

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 16 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/msp/cache.TestDeserializeIdentity()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/msp/cache/cache_test.go:138 +0x955

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 15 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/msp/cache/_test/_testmain.go:110 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz373:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jun/18 5:16 AM;sykesm;Fixed by FAB-9299.;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running TestManagerImpl,FAB-9152,28880,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,26/Mar/18 11:02 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Jul/18 5:35 AM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420442918 by goroutine 29:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:170 +0x30d

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:158 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()

unit-tests_1  |       <autogenerated>:1 +0x82

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:181 +0x132

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:166 +0x9e

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420442918 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Iterator()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:103 +0xe75

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.TestManagerImpl()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar_test.go:158 +0x70e

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 29 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:163 +0xc7

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()

unit-tests_1  |       <autogenerated>:1 +0x83

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*mockChain).Start.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/util_test.go:95 +0x87b

unit-tests_1  |

unit-tests_1  | Goroutine 27 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_testmain.go:116 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9153,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz37b:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 5:40 AM;sykesm;It doesn't look like the ram ledger implementation was intended to be thread safe but the orderer tests use a separate go routine for the block writer causing concurrent access.

A RWMutex can be used to resolve the race.;;;","29/Jun/18 6:13 AM;sykesm;https://gerrit.hyperledger.org/r/23847;;;",,,,,,,,,,,,,,,,,,,,
Multiple data races when running TestNewChain,FAB-9153,28881,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 11:57 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4203ca098 by goroutine 33:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:170 +0x30d

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:158 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()

unit-tests_1  |       <autogenerated>:1 +0x82

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:181 +0x132

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:166 +0x9e

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4203ca098 by goroutine 30:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Iterator()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:103 +0xe75

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.TestNewChain.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar_test.go:206 +0x146

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.TestNewChain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar_test.go:222 +0x9eb

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 33 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:163 +0xc7

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteConfigBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:155 +0x30d

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteConfigBlock()

unit-tests_1  |       <autogenerated>:1 +0x83

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*mockChain).Start.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/util_test.go:90 +0x4da

unit-tests_1  |

unit-tests_1  | Goroutine 30 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_testmain.go:116 +0x2f0

unit-tests_1  | =================={code}
{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4201e71f8 by goroutine 34:

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).appendBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:170 +0x30d

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/ram.(*ramLedger).Append()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/ram/impl.go:158 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).Append()

unit-tests_1  |       <autogenerated>:1 +0x82

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:181 +0x132

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:166 +0x9e

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4201e71f8 by goroutine 30:

unit-tests_1  |   [failed to restore the stack]

unit-tests_1  |

unit-tests_1  | Goroutine 34 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_obj_test/blockwriter.go:163 +0xc7

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()

unit-tests_1  |       <autogenerated>:1 +0x83

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*mockChain).Start.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/util_test.go:95 +0x87b

unit-tests_1  |

unit-tests_1  | Goroutine 30 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/multichannel/_test/_testmain.go:116 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz37j:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestOrdererBenchmarkSolo,FAB-9154,28882,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,sykesm,sykesm,26/Mar/18 11:58 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42024b2d0 by goroutine 22:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newChain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:289 +0x4b2

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteConfigBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:118 +0x504

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteConfigBlock()

unit-tests_1  |       <autogenerated>:1 +0x83

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:165 +0x5ea

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42024b2d0 by goroutine 30:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.deliverSupport.GetChain()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:227 +0x57

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).deliverBlocks()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:178 +0x869

unit-tests_1  |   github.com/hyperledger/fabric/common/deliver.(*deliverHandler).Handle()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/deliver/deliver.go:145 +0x39f

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/server.go:198 +0x3c0

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:179 +0x6b

unit-tests_1  |

unit-tests_1  | Goroutine 22 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).Start()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:72 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).start()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/chainsupport.go:87 +0x53

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:193 +0x1691

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:305 +0x328

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:51 +0x31d

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:51 +0x31d

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:51 +0x31d

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:48 +0xdbd

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.EnhancedExactUnmarshal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:294 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:232 +0x951

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.initializeBootstrapChannel()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:228 +0x7c8

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:294 +0xe0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2ff

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xaaa

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x276

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1a63

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xd5

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore_provider.go:34 +0xa3

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blockledger/file.New()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blockledger/file/factory.go:71 +0x158

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.createLedgerFactory()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/util.go:32 +0x69c

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:290 +0x6b

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.Start()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:105 +0x39c

unit-tests_1  |

unit-tests_1  | Goroutine 30 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateDeliverClient()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:178 +0x1b8

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.WaitForChannels.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/utils.go:119 +0x148

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz37r:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jun/18 3:35 AM;sykesm;Unable to reproduce.;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running TestInitializeLoggingLevel,FAB-9155,28883,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,26/Mar/18 11:59 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x000001d7b260 by goroutine 60:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetBackend()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:26 +0xbb

unit-tests_1  |   github.com/hyperledger/fabric/common/flogging.InitBackend()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/logging.go:76 +0x28c

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.initializeLoggingLevel()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/main.go:128 +0xd0

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestInitializeLoggingLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main_test.go:38 +0xe6

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x000001d7b260 by goroutine 53:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:140 +0x3e

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:144 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Debugf()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:254 +0x98

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:173 +0x2ef

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:155 +0x86

unit-tests_1  |

unit-tests_1  | Goroutine 60 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_testmain.go:132 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 53 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:153 +0xaf

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/multichannel.(*ChainSupport).WriteBlock()

unit-tests_1  |       <autogenerated>:1 +0x83

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus.go:144 +0xa7e{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz37z:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race when running TestInitializeServerConfig,FAB-9156,28884,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,sykesm,sykesm,26/Mar/18 11:59 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x000001d79de8 by goroutine 71:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestInitializeServerConfig.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main_test.go:112 +0x64

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestInitializeServerConfig()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main_test.go:147 +0x1139

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x000001d79de8 by goroutine 27:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/server.go:154 +0x8e

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_obj_test/server.go:157 +0x1fe

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateBroadcastClient.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:117 +0x6b

unit-tests_1  |

unit-tests_1  | Goroutine 71 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/common/server/_test/_testmain.go:132 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 27 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.(*BenchmarkServer).CreateBroadcastClient()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/server.go:116 +0x1b8

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/performance.CreateChannel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/performance/utils.go:91 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:430 +0x8fc

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.getKeysRecursively()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:48 +0xdbd

unit-tests_1  |   github.com/hyperledger/fabric/common/viperutil.EnhancedExactUnmarshal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/viperutil/config_util.go:294 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:232 +0x951

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.benchmarkOrderer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:371 +0xa5

unit-tests_1  |   github.com/hyperledger/fabric/orderer/common/server.TestOrdererBenchmarkSolo.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/server/benchmark_test.go:160 +0x73

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz387:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jun/18 3:38 AM;sykesm;Unable to reproduce.;;;",,,,,,,,,,,,,,,,,,,,,
Data race when running kafka consensus tests,FAB-9157,28886,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Mar/18 12:00 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Jul/18 9:29 PM,,,,v1.3.0,,,,,,,0,race,,,,"{code:java}
==================
WARNING: DATA RACE
Write at 0x00c420384130 by goroutine 94:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).processRegular()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:802 +0x1457
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).processMessagesToBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:413 +0x123c
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.3.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2796 +0x3c

Previous read at 0x00c420384130 by goroutine 89:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).WaitReady()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:165 +0xc1
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).WaitReady-fm()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2687 +0x41
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2175 +0x34

Goroutine 94 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.3()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2795 +0xc01
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 89 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2174 +0x8c
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.3()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2790 +0xb4d
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
==================
==================
WARNING: DATA RACE
Read at 0x00c42044e080 by goroutine 159:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).WaitReady()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:165 +0xc1
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).WaitReady-fm()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2687 +0x41
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2175 +0x34

Previous write at 0x00c42044e080 by goroutine 29:
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).processRegular()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:802 +0x1457
  github.com/hyperledger/fabric/orderer/consensus/kafka.(*chainImpl).processMessagesToBlocks()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain.go:413 +0x123c
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.5.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2968 +0x3c

Goroutine 159 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2174 +0x8c
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.5()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2987 +0x1040
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Goroutine 29 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestResubmission.func4.5()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/chain_test.go:2967 +0xc6e
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
=================={code}",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz38f:",,,,,,,,,,,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jun/18 11:53 PM;sykesm;Appears this race is in the production code and was introduced with FAB-5969 at SHA #0c028df008b73aa606abbe0ee06b37a4f9854210. Looking into how to address without changing things too substantially.;;;","30/Jun/18 2:37 AM;sykesm;https://gerrit.hyperledger.org/r/23885;;;",,,,,,,,,,,,,,,,,,,,
PTE updates README with config json information,FAB-9158,28887,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,27/Mar/18 12:00 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 6:30 AM,,,,,,,fabric-quality,,,,0,,,,,"Update README with
 * gopath
 * ordererID
 * tls_cert
 * admin_cert",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz38n:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"27/Mar/18 12:06 AM;dongming;https://gerrit.hyperledger.org/r/#/c/19759/;;;",,,,,,,,,,,,,,,,,,,,,
Data races in logging when running Kafka tests,FAB-9159,28888,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Mar/18 12:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Jul/18 9:23 PM,,,,,,,,,,,0,race,,,,"{code:java}
==================
WARNING: DATA RACE
Read at 0x00c4202402b8 by goroutine 155:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:66 +0x15c1
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Previous write at 0x00c4202402b8 by goroutine 16:
  bytes.(*Buffer).grow()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:149 +0x276
  bytes.(*Buffer).Write()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:174 +0x14f
  log.(*Logger).Output()
      /usr/local/Cellar/go/1.10.3/libexec/src/log/log.go:172 +0x37a
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5ad
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:121 +0x14d
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1cc
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2e8
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x5e
  github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/logger.go:54 +0x6c

Goroutine 155 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:86 +0x22a

Goroutine 16 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/logger.go:50 +0x8d
  github.com/hyperledger/fabric/orderer/consensus/kafka.init()
      <autogenerated>:1 +0x131
  main.init()
      <autogenerated>:1 +0xa5
==================
==================
WARNING: DATA RACE
Read at 0x00c4202402a0 by goroutine 155:
  github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:66 +0x15db
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d

Previous write at 0x00c4202402a0 by goroutine 16:
  bytes.(*Buffer).grow()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:146 +0x235
  bytes.(*Buffer).Write()
      /usr/local/Cellar/go/1.10.3/libexec/src/bytes/buffer.go:174 +0x14f
  log.(*Logger).Output()
      /usr/local/Cellar/go/1.10.3/libexec/src/log/log.go:172 +0x37a
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5ad
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:121 +0x14d
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1cc
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2e8
  github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x5e
  github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/logger.go:54 +0x6c

Goroutine 155 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:824 +0x564
  testing.runTests.func1()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1063 +0xa4
  testing.tRunner()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:777 +0x16d
  testing.runTests()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:1061 +0x4e1
  testing.(*M).Run()
      /usr/local/Cellar/go/1.10.3/libexec/src/testing/testing.go:978 +0x2cd
  main.main()
      _testmain.go:86 +0x22a

Goroutine 16 (running) created at:
  github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/kafka/logger.go:50 +0x8d
  github.com/hyperledger/fabric/orderer/consensus/kafka.init()
      <autogenerated>:1 +0x131
  main.init()
      <autogenerated>:1 +0xa5
=================={code}",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz38v:",,,,,,,,,,,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 12:03 AM;sykesm;Related out of TestLogPossibleKafkaVersionMismatch
{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420228be8 by goroutine 133:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x17e0

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420228be8 by goroutine 7:

unit-tests_1  |   bytes.(*Buffer).grow()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:138 +0x24c

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d

unit-tests_1  |   log.(*Logger).Output()

unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87

unit-tests_1  |

unit-tests_1  | Goroutine 133 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 7 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()

unit-tests_1  |       <autogenerated>:1 +0x13a

unit-tests_1  |   main.init()

unit-tests_1  |       <autogenerated>:1 +0xae

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420228bd0 by goroutine 133:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x17fd

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420228bd0 by goroutine 7:

unit-tests_1  |   bytes.(*Buffer).grow()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:135 +0x3c3

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d

unit-tests_1  |   log.(*Logger).Output()

unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87

unit-tests_1  |

unit-tests_1  | Goroutine 133 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 7 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()

unit-tests_1  |       <autogenerated>:1 +0x13a

unit-tests_1  |   main.init()

unit-tests_1  |       <autogenerated>:1 +0xae

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c42020a000 by goroutine 133:

unit-tests_1  |   runtime.slicebytetostring()

unit-tests_1  |       /opt/go/src/runtime/string.go:72 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x1850

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42020a000 by goroutine 7:

unit-tests_1  |   runtime.slicecopy()

unit-tests_1  |       /opt/go/src/runtime/slice.go:160 +0x0

unit-tests_1  |   bytes.(*Buffer).grow()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:134 +0x3af

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:163 +0x16d

unit-tests_1  |   log.(*Logger).Output()

unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87

unit-tests_1  |

unit-tests_1  | Goroutine 133 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 7 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()

unit-tests_1  |       <autogenerated>:1 +0x13a

unit-tests_1  |   main.init()

unit-tests_1  |       <autogenerated>:1 +0xae

unit-tests_1  | ==================

unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c42020a0d0 by goroutine 133:

unit-tests_1  |   runtime.slicebytetostring()

unit-tests_1  |       /opt/go/src/runtime/string.go:72 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.TestLogPossibleKafkaVersionMismatch()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:61 +0x1850

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c42020a0d0 by goroutine 7:

unit-tests_1  |   runtime.slicecopy()

unit-tests_1  |       /opt/go/src/runtime/slice.go:160 +0x0

unit-tests_1  |   bytes.(*Buffer).Write()

unit-tests_1  |       /opt/go/src/bytes/buffer.go:165 +0x121

unit-tests_1  |   log.(*Logger).Output()

unit-tests_1  |       /opt/go/src/log/log.go:172 +0x399

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*LogBackend).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/log_nix.go:75 +0x5b8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:116 +0x1c9

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*multiLogger).Log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/multi.go:31 +0x1d8

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:166 +0x2eb

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Critical()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:199 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2.func1()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:53 +0x87

unit-tests_1  |

unit-tests_1  | Goroutine 133 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_testmain.go:146 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 7 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init.2()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/kafka/_test/_obj_test/logger.go:46 +0xa5

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/kafka.init()

unit-tests_1  |       <autogenerated>:1 +0x13a

unit-tests_1  |   main.init()

unit-tests_1  |       <autogenerated>:1 +0xae

unit-tests_1  | =================={code};;;","30/Jun/18 1:23 AM;sykesm;bytes.Buffer does not support concurrent access.;;;","30/Jun/18 2:36 AM;sykesm;https://gerrit.hyperledger.org/r/23887;;;",,,,,,,,,,,,,,,,,,,
Data race when running TestRecoverFromError,FAB-9160,28889,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Mar/18 12:03 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Jul/18 11:45 PM,,,,v1.3.0,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Read at 0x00c420238068 by goroutine 21:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/mocks/common/blockcutter.(*Receiver).Cut()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/mocks/common/blockcutter/blockcutter.go:98 +0x98

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/solo/_test/_obj_test/consensus.go:186 +0x269

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.(*chain).(github.com/hyperledger/fabric/orderer/consensus/solo.main)-fm()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus_test.go:75 +0x41

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.goWithWait.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus_test.go:59 +0x34

unit-tests_1  |

unit-tests_1  | Previous write at 0x00c420238068 by goroutine 20:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.TestRecoverFromError()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus_test.go:298 +0x497

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 21 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.goWithWait()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus_test.go:58 +0xb7

unit-tests_1  |   github.com/hyperledger/fabric/orderer/consensus/solo.TestRecoverFromError()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/solo/consensus_test.go:294 +0x3fa

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 20 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/orderer/consensus/solo/_test/_testmain.go:106 +0x2f0

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz393:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jun/18 3:31 AM;sykesm;https://gerrit.hyperledger.org/r/23893;;;",,,,,,,,,,,,,,,,,,,,,
Data races when running TestOrdererCmdEnv,FAB-9161,28890,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,27/Mar/18 12:05 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42007aa80 by goroutine 8:

unit-tests_1  |   runtime.mapassign_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:598 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:104 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.SetLevel()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/backend.go:33 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/common/flogging.InitFromSpec()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/logging.go:180 +0x78

unit-tests_1  |   github.com/hyperledger/fabric/peer/common.SetOrdererEnv()

unit-tests_1  |       github.com/hyperledger/fabric/peer/common/_test/_obj_test/ordererenv.go:25 +0x77

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:682 +0x3ab

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x444

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x38

unit-tests_1  |   github.com/hyperledger/fabric/peer/common_test.TestOrdererCmdEnv()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/common/ordererenv_test.go:47 +0x51a

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42007aa80 by goroutine 37:

unit-tests_1  |   runtime.mapaccess2_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:315 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*moduleLeveled).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/level.go:91 +0x70

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).IsEnabledFor()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:140 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).log()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:144 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Debugf()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:254 +0x98

unit-tests_1  |   github.com/hyperledger/fabric/common/flogging.(*grpclogger).Printf()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/grpclogger.go:56 +0x7e

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc/grpclog.(*loggerWrapper).Infof()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/grpclog/logger.go:53 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc/grpclog.Infof()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/grpclog/grpclog.go:45 +0x88

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*pickfirstBalancer).HandleSubConnStateChange()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/pickfirst.go:71 +0x13b

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccBalancerWrapper).watcher()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_conn_wrappers.go:131 +0x608

unit-tests_1  |

unit-tests_1  | Goroutine 8 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/peer/common/_test/_testmain.go:124 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 37 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.newCCBalancerWrapper()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer_conn_wrappers.go:113 +0x2f1

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).switchBalancer()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:749 +0x44c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).handleResolvedAddrs()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:704 +0x2de

unit-tests_1  |   github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ccResolverWrapper).watcher()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver_conn_wrapper.go:116 +0x58e

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz39b:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data races when running peer/node/start_test tests,FAB-9162,28891,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,sykesm,sykesm,27/Mar/18 12:12 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c420194b20 by goroutine 64:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).ReadConfig()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:796 +0x80

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.ReadConfig()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:794 +0x62

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestHandlerMap()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:136 +0x18d

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c420194b20 by goroutine 48:

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:654 +0x27e

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:407 +0x83a

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:481 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:479 +0x5e

unit-tests_1  |   github.com/hyperledger/fabric/gossip/util.GetDurationOrDefault()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:165 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.getReconnectInterval()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1002 +0x51

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalReconnectToDead()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:608 +0x36d

unit-tests_1  |

unit-tests_1  | Goroutine 64 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_testmain.go:106 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 48 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:121 +0x9b2

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.NewGossipService()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:114 +0x131c

unit-tests_1  |   github.com/hyperledger/fabric/gossip/integration.NewGossipComponent()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/integration/integration.go:71 +0x1a5

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.InitGossipServiceCustomDeliveryFactory.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:151 +0x45a

unit-tests_1  |   sync.(*Once).Do()

unit-tests_1  |       /opt/go/src/sync/once.go:44 +0xe1

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.InitGossipServiceCustomDeliveryFactory()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:144 +0x27c

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.InitGossipService()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:133 +0x15a

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:299 +0x11f7

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

...

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb.NewHistoryDBProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb/historyleveldb.go:47 +0x186

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:67 +0x122

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2ff

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xaaa

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x276

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1a63

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xd5

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb.NewVersionedDBProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/stateleveldb.go:35 +0x186

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.NewCommonStorageDBProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go:42 +0x146

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:60 +0xf7

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).checkAndCleanFiles()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_util.go:52 +0x2ff

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:129 +0xaaa

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:585 +0x276

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:196 +0x193

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   fmt.(*ss).doScanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:1201 +0x35e

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:113 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*session).recover()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/session.go:121 +0x1a63

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:182 +0xd5

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/pvtdatastorage.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:38 +0x99

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgerstorage.NewProvider()

...

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:218 +0x9f

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0x243

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore_provider.go:34 +0xa3

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgerstorage.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgerstorage/store.go:56 +0x16c

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:57 +0xe9

...

unit-tests_1  |   github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:87 +0x1ea

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.openIDStore()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:242 +0x284

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/kvledger.NewProvider()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:55 +0xda

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:64 +0x373

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x41

unit-tests_1  |   sync.(*Once).Do()

unit-tests_1  |       /opt/go/src/sync/once.go:44 +0xe1

unit-tests_1  |   github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x8c

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:106 +0x1f4

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.glob..func1()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:81 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x4ec

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x444

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x38

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestStartCmd.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:51 +0x38

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9146,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz39j:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data race in gossip,FAB-9163,28892,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,27/Mar/18 12:14 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,,,,,0,race,stale-item,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c4200a92c4 by goroutine 65:

unit-tests_1  |   internal/race.Write()

unit-tests_1  |       /opt/go/src/internal/race/race.go:41 +0x38

unit-tests_1  |   sync.(*WaitGroup).Wait()

unit-tests_1  |       /opt/go/src/sync/waitgroup.go:129 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/gossip/comm.(*commImpl).Stop()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:380 +0x556

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Stop.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:765 +0x7d

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c4200a92c4 by goroutine 56:

unit-tests_1  |   internal/race.Read()

unit-tests_1  |       /opt/go/src/internal/race/race.go:37 +0x38

unit-tests_1  |   sync.(*WaitGroup).Add()

unit-tests_1  |       /opt/go/src/sync/waitgroup.go:71 +0x16f

unit-tests_1  |   github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:327 +0x139

unit-tests_1  |

unit-tests_1  | Goroutine 65 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Stop()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:763 +0x17c

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).Stop()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:362 +0x6de

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:389 +0x1cca

unit-tests_1  |   fmt.Fscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:143 +0xf5

unit-tests_1  |   fmt.Sscanf()

unit-tests_1  |       /opt/go/src/fmt/scan.go:114 +0xbe

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()
...
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x444

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x38

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestStartCmd.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:51 +0x38

unit-tests_1  |

unit-tests_1  | Goroutine 56 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:321 +0x32c

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:308 +0xa7

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz39r:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Data race in viper between node start and gossip discovery,FAB-9164,28893,28851,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,sykesm,sykesm,27/Mar/18 12:20 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,race,,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42016ecc0 by goroutine 66:

unit-tests_1  |   runtime.mapassign_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:598 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Set()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:772 +0xc6

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.Set()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:768 +0x72

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestComputeChaincodeEndpoint()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:149 +0x6d

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42016ecc0 by goroutine 48:

unit-tests_1  |   runtime.mapaccess2_faststr()

unit-tests_1  |       /opt/go/src/runtime/hashmap_fast.go:315 +0x0

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).find()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:628 +0x16d

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).Get()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:407 +0x83a

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.(*Viper).GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:481 +0x4c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/viper.GetDuration()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/viper/viper.go:479 +0x5e

unit-tests_1  |   github.com/hyperledger/fabric/gossip/util.GetDurationOrDefault()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:165 +0x87

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.getReconnectInterval()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1002 +0x51

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalReconnectToDead()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:608 +0x36d
unit-tests_1  | Goroutine 66 (running) created at:

unit-tests_1  |   testing.(*T).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:789 +0x568

unit-tests_1  |   testing.runTests.func1()

unit-tests_1  |       /opt/go/src/testing/testing.go:1004 +0xa7

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |   testing.runTests()

unit-tests_1  |       /opt/go/src/testing/testing.go:1002 +0x521

unit-tests_1  |   testing.(*M).Run()

unit-tests_1  |       /opt/go/src/testing/testing.go:921 +0x206

unit-tests_1  |   main.main()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_testmain.go:106 +0x2f0

unit-tests_1  |

unit-tests_1  | Goroutine 48 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:121 +0x9b2

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.NewGossipService()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:114 +0x131c

unit-tests_1  |   github.com/hyperledger/fabric/gossip/integration.NewGossipComponent()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/integration/integration.go:71 +0x1a5
...
unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x8c

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:106 +0x1f4

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.glob..func1()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:81 +0x68

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x4ec

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x444

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x38

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestStartCmd.func1()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:51 +0x38{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz39z:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Turn ConsensusType* string constants into auto-incrementing ones,FAB-9165,28894,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,kchristidis,kchristidis,27/Mar/18 12:22 AM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,v1.1.0,,,,,,fabric-orderer,,,,0,hygiene,,,,"We are using the {{ConsensusType*}} constants to enumerate the possible values for the {{OrdererType}} in the configuration.

We should switch those string constants in {{encoder.go}} into auto-incrementing constants (see: {{iota}} identifier) using a common, custom type.",,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3a7:",,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
Data race in gossip between handlePresumedDead and Stop,FAB-9166,28895,31531,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,27/Mar/18 12:23 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,,,,,0,race,stale-item,,,"{code:java}
unit-tests_1  | ==================

unit-tests_1  | WARNING: DATA RACE

unit-tests_1  | Write at 0x00c42078ccfc by goroutine 9:

unit-tests_1  |   internal/race.Write()

unit-tests_1  |       /opt/go/src/internal/race/race.go:41 +0x38

unit-tests_1  |   sync.(*WaitGroup).Wait()

unit-tests_1  |       /opt/go/src/sync/waitgroup.go:129 +0xf4

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Stop()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:775 +0x309

unit-tests_1  |   github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).Stop()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:362 +0x6de

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.serve()

unit-tests_1  |       github.com/hyperledger/fabric/peer/node/_test/_obj_test/start.go:389 +0x1cca
...
unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.fsParseName()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:571 +0x18c

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:386 +0x2dd

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).recoverJournal()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:475 +0xdc

unit-tests_1  |   github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:124 +0xa86

unit-tests_1  |

unit-tests_1  | Previous read at 0x00c42078ccfc by goroutine 54:

unit-tests_1  |   internal/race.Read()

unit-tests_1  |       /opt/go/src/internal/race/race.go:37 +0x38

unit-tests_1  |   sync.(*WaitGroup).Add()

unit-tests_1  |       /opt/go/src/sync/waitgroup.go:71 +0x16f

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handlePresumedDead()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:269 +0x13d

unit-tests_1  |

unit-tests_1  | Goroutine 9 (running) created at:

unit-tests_1  |   github.com/hyperledger/fabric/peer/node.TestStartCmd()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start_test.go:49 +0x282

unit-tests_1  |   testing.tRunner()

unit-tests_1  |       /opt/go/src/testing/testing.go:746 +0x16c

unit-tests_1  |

unit-tests_1  | Goroutine 54 (finished) created at:

unit-tests_1  |   github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start()

unit-tests_1  |       /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:293 +0x72

unit-tests_1  | =================={code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3af:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Run `dep` in the build to help ensure we're not carrying dead vendored deps,FAB-9167,28896,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Mar/18 12:44 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 12:55 AM,,,,v1.2.0,,,fabric-build,,,,0,hygiene,,,,"Code that is been removed from the tree can result in unused dependencies and we have recently seen this.

This condition can be detected in CI by running `dep ensure --no-vendor --dry-run` during the linting phase. If dead dependencies are discovered, the build would fail and the commit would need to be ammended to remove the unused dependency.",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwzw7:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 6:33 AM;sykesm;https://gerrit.hyperledger.org/r/c/19789/;;;",,,,,,,,,,,,,,,,,,,,,
Add support for chaincode system namespace,FAB-9168,28897,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,manish-sethi,jyellick,jyellick,27/Mar/18 2:03 AM,08/Mar/19 3:01 AM,28/Oct/23 3:02 AM,08/Mar/19 3:01 AM,,,,v2.0.0,,,fabric-ledger,,,,0,,,,,"Since initialization status cannot be managed in the LSCC table (because of the likely mismatch between the LSCC validation and chaincode validation requirements), the chaincode initialization status needs to be stored with the other chaincode data and validated according to the chaincode validation parameters.

However, because there is no namespacing within a chaincode keyspace, attempting to story the initialization status within the standard chaincode namespace could cause collisions with existing user chaincodes.

Therefore, we need a namespace tied to the existing chaincode namespace which can store whether a chaincode has been initialized or not.  This namespace could at some point be made available through the chaincode interface, but for the time being, the endorser code can manipulate it directly.  A suggested name for this namespace could be the ""chaincode system namespace"". 

The implementation is intentionally left vague, but the `endorser.go` code will need to be able to read from this namespace, and add a write to it into the RW set of the transaction.

At commit time, the standard validation code should operate over this RW set to determine that it was generated correctly.  For standard endorser txes this should require no additional code, as the standard endorsement policy may verify the initialization writes as is.",,ales,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14518,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,,"1|hzz3an:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/18 8:26 AM;denyeart;[~manish-sethi] [~jyellick] [~ales]

I don't think we'll need a separate chaincode system namespace, we can use a reserved key namespace within existing user chaincode namespace. Let me explain:

Simple keys must not start with null character (0x00), as documented here: [https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/shim/interfaces_stable.go#L88-L95|https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/shim/interfaces_stable.go#L88-L95.]

Composite keys automatically get prepended with null character (0x00), this is the composite key namespace.

The first part of any composite key (objecttype) must not have a null character (0x00), as the null character is also the separator for composite key parts.

Therefore, we can safely use double null character (0x00 0x00) as a reserved namespace in user chaincodes for system properties such as init status. Some code changes will be required to support this, but I think this is a cleaner approach than having a separate system namespace.

 ;;;","03/Apr/18 11:02 PM;jyellick;[~denyeart] This is great news.  Perhaps we should come up with some convention for subdividing this remaining namespace? Perhaps say... {{\0\0system_}} for this namespace, in case we need an additional namespace in the future?;;;","04/Apr/18 1:21 AM;ales;This approach seems okay, but - just for the record - I don't think fabric will stop me from creating a KVS key which is `string([]byte\{0x00, 0x00, 0x35})`? So in theory, customers might already be writing to this ledger sub-namespace.

 

Then the question becomes: should we put in code to block writes to such keys in future releases (with exceptions)? If we don't block them, do we consider a transaction that writes to such a key valid if it's endorsed appropriately according to the cc's endorsement policy? And then what happens if a chaincode tries to tamper with some such keys on which the peer depends to enforce some invariants (e.g. atomic `Init`)?;;;",,,,,,,,,,,,,,,,,,,
Build fails due to missing license header in Gopkg.toml,FAB-9171,28901,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sheehan,sheehan,sheehan,27/Mar/18 5:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,29/Mar/18 5:05 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"Run

`make dist-clean all`

 

Expected:

Build succeeds

 

Actual:

Fails with

The following files are missing SPDX-License-Identifier headers:
Gopkg.toml

Please replace the Apache license header comment text with:
SPDX-License-Identifier: Apache-2.0

Checking committed files for traditional Apache License headers ...
The following files are missing traditional Apache 2.0 headers:
Gopkg.toml
Fatal Error - All files must have a license header
make: *** [license] Error 1",,kchristidis,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10866,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3bb:",,,,,,,,,,,,,,,,,,,,,kchristidis,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 6:19 AM;kchristidis;https://gerrit.hyperledger.org/r/c/19783/;;;","29/Mar/18 5:06 AM;sheehan;Changes were merged in FAB-9167;;;",,,,,,,,,,,,,,,,,,,,
Fix recHist error in ATD for running constant rates,FAB-9172,28902,21029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,27/Mar/18 5:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Jul/18 5:31 AM,,,,,,,fabric-quality,,,,0,quality,,,,Fixing the recHist parameter in ATD/roles/tool_pte/fabrictestsetup/tasks/apply.yml,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3bj:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"27/Mar/18 5:27 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/19781/;;;",,,,,,,,,,,,,,,,,,,,,
Consolidate doc repos/integrate with composer better,FAB-9173,28903,,Epic,In Progress,FAB,Fabric,software,denyeart,,,Medium,,,joe-alewine,joe-alewine,27/Mar/18 5:52 AM,30/Oct/19 1:40 AM,28/Oct/23 3:02 AM,,v1.1.0,,,v1.3.0,,,fabric-ca,fabric-docs,,,0,Documentation,,,,"The fact that the docs are split into various repos is not ideal.

Need to figure out a better way to organize things while maintaining relative functionality that separate docs provide. Would also be ideal to not break existing links (unless necessar).

New repo might enable the addition of doc-specific maintainers to expedite doc reviews.",,ChristopherFerris,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,,,Consolidate doc repos/integrate with composer better x,,,,,Unset,,,,"1|hzwtuf:",,,,Unset,Unset,,,,,,,,,,,,,,,,ChristopherFerris,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 5:53 AM;joe-alewine;[~ChristopherFerris] [~simsc] [~odowdaibm] [~bmos299] [~pandrejko] [~harrisob@us.ibm.com] [~keithsmith];;;","28/Mar/18 8:30 PM;ChristopherFerris;This is an epic for 1.2;;;",,,,,,,,,,,,,,,,,,,,
peer panics and crashes when there is log contention ,FAB-9174,28904,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,latitiah,latitiah,27/Mar/18 5:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/Apr/18 5:33 PM,v1.2.0,,,v1.2.0,,,fabric-peer,,,,0,,,,,"While trying to start a network with 2 orgs with 2 peers per org and verifying that the network has successfully started by looking at each of the peer logs, it was noticed that peer1.org2.example.com exited after starting. Possible race condition.

The following error was found in the log:
{code}
fatal error: concurrent map read and map write
{code}

",,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Mar/18 5:55 AM;latitiah;peer1.org2.example.com.log;https://jira.hyperledger.org/secure/attachment/14824/peer1.org2.example.com.log",,,,,,,,,,,,,,,,,,,,,,,"1|hzz3br:",,,,,,,,,,,,,,,,,,,,,latitiah,mastersingh24,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Apr/18 9:01 PM;mastersingh24;[~latitiah] So this is happening in v1.1 branch or is this from master?

My guess is this is from master;;;","07/Apr/18 9:21 PM;mastersingh24;https://gerrit.hyperledger.org/r/20277;;;","07/Apr/18 9:47 PM;latitiah;The first time I saw it was on 1.1, but I saw it again earlier this week on master. ;;;",,,,,,,,,,,,,,,,,,,
There are some redundant words on docs,FAB-9176,28906,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,27/Mar/18 12:51 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 5:48 PM,,,,v1.2.0,,,,,,,0,,,,,"docs/source/msp.rst

docs/source/peers/peers.md

docs/source/policies.rst

docs/source/upgrading_your_network_tutorial.rst

 ",,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3c7:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
index.rst should not refer to itself as a toctree entry,FAB-9177,28907,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,27/Mar/18 4:03 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 8:05 PM,,,,,,,fabric-docs,,,,0,,,,,"The top-level index.rst file for building the docs contains a reference to itself, ""index"", which causes numerous build warnings, ""WARNING: circular toctree references detected, ignoring: index <- index"". Simply delete that line from index.rst.",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3cf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Mar/18 8:05 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/19793/;;;",,,,,,,,,,,,,,,,,,,,,
Two .rst doc files lack proper indentation for notes.,FAB-9178,28908,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,27/Mar/18 4:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 8:18 PM,,,,,,,fabric-docs,,,,0,,,,,"Two doc files:
 * channel_update_tutorial.rst
 * error-handling.rst

lack proper indentation for a ""note::"" entity, generating a build warning, so fix the indentation. No other such lack of indentation evident in the doc files.

 ",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3cn:",,,,,,,,,,,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Three .rst doc files have unexpected/erroneous indentation for lists.,FAB-9179,28909,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,27/Mar/18 5:06 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 9:14 PM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"Three .rst files:
 * msp.rst
 * policies.rst
 * understand_fabcar_network.rst

have erroneous spacing or indentation for lists, which generates build warnings, so fix all three of them.",,pandrejko,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtvr:",,,,,,,,,,,,,,,,,,,,,pandrejko,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 4:22 AM;pandrejko;[~rpjday]

For some reason we're not seeing these errors in our local builds. Could you be more specific on the errors you are getting and give an example inside the .rst file so we can try to replicate it here? Thanks!;;;","15/May/18 7:04 PM;rpjday;Those issues were addressed in commit 20457eb880182097604996c14fc59ac78c4b951e, so this issue should be marked as closed.;;;","15/May/18 9:14 PM;pandrejko;Fixed in [https://gerrit.hyperledger.org/r/#/c/19881/] . Closing this issue per [~rpjday] comments.;;;",,,,,,,,,,,,,,,,,,,
"Group identity functions into two interfaces, the one of ValidatedIdentity, and Identity interfaces.",FAB-9180,28910,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,27/Mar/18 5:30 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-crypto,,,,0,stale-item,v1.3,,,"*Motivation*. The reason for this task is to make the procedure of validation of an identity cleaner to the developer making use of MSP functions. We propose the validation of identity to result into a new structure, called ""ValidatedIdentity"" that would be the one exposing **SatisfiesPrincipal** operations. In this way the developer would be protected to only check principal satisfaction on an identity that has already been validated.

 

*Proposed design*

Currently two identity related interfaces are defined. The *msp.Identity* interface supports identity validation and signature verification related operations, while *msp.SigningIdentity* extends *msp.Identity* to add signing capabilities. Here we propose to break *msp.Identity* interface into two parts:
 * *msp.Identity* interface to represent a (deserialised) identity, and whose only ability is to run Identity.Validate() (or _Identity.ValidateAt()_) function to validate itself (at a given time) and produce its *msp.ValidatedIdentity* equivalent.
 * *msp.ValidatedIdentity* interface that would expose _Verify_, _SatisfiesPrincipal_ as well as a special/new function “_ValidateAt(..)_"" that on input a timestamp would assess the validity of the identity with the respect to the passed time reference. Getters also of all the fields of an identity are provided via the msp.ValidatedIdentity interface.

With the above split, *msp.SigningIdenity* will inherits from *msp.ValidatedIdentity*.

 

More specifically, the proposed change in the interfaces would set *msp.Identity* interface to be:

 

 
{code:java}
// Identity interface represents a deserialised identity that has not yet been
// validated against the rules of its owning MSP. It exposed functions to validate
// itself (Validate), and at a given timestamp (ValidateAt).
type Identity interface {
 // Validate uses the rules that govern this identity to validate it.
 // E.g., if it is a fabric TCert implemented as identity, validate
 // will check the TCert signature against the assumed root certificate
 // authority.
 Validate() (ValidatedIdentity, error)
 
 // ValidateAt uses the rules that govern this identity to validate it
 // at a given timestamp, i.e., considering potential expiration of the identity.
 // E.g., if it is a fabric TCert implemented as identity, validate
 // will check the TCert signature against the assumed root certificate
 // authority.
 ValidateAt(ts timestamp.Timestamp) (ValidatedIdentity, error)
 
 // Serialize converts an identity to bytes
 Serialize() ([]byte, error)
}
{code}
 





The *msp.ValidatedIdentity* supports most of validation related operations of the former msp.Identity, and would thus consist of the following operations:

 

 
{code:java}
// ValidatedIdentity represents a deserialized identity that has been
// validated using the rules of its owning MSP. ValidatedIdentity
// exposes mechanisms to perform revalidation at another timestamp (to assess
// expiration), signature verification capabilities, as well as principal evaluation.
 
type ValidatedIdentity interface {
Identity
 // ExpiresAt returns the time at which the Identity expires.
 // If the returned time is the zero value, it implies
 // the Identity does not expire, or that its expiration
 // time is unknown
 ExpiresAt() time.Time
 
 // GetIdentifier returns the identifier of that identity
 GetIdentifier() *IdentityIdentifier
 
// GetOwnerIdentifier returns a representation of the identity’s owner
 GetOwnerIdentifier() *OnwerIdentifier
 
 // GetMSPIdentifier returns the MSP Id for this instance
 GetMSPIdentifier() string
 
 // CheckExpiration would ensure that this identity is valid at a given timestamp,
 // and return an error if it has expired in the meantime.
 CheckExpiration(ts time.Time) error
 
 // GetProperty returns zero or more properties of the identity that correspond to the
 // property type that is provided as input. For example, propertyType can be set to “OU”,
 // “O”, or “CN”, “DN” for the organisational units (OU field of X.509 certs), organizations
 // (O field of X.509 certs), common name (CN field of X.509 certs) or  distinguished
 // name (DN field of X.509 certs) respectively. IdentityProperty object is separately
 // defined.
 GetProperty(properyType PropertyType) []*Property
 
 // Verify a signature over some message using this identity as reference
 Verify(msg []byte, sig []byte) error
 
 // SatisfiesPrincipal checks whether this instance matches
 // the description supplied in MSPPrincipal. The check may
 // involve a byte-by-byte comparison (if the principal is
 // a serialized identity) or may require MSP validation
 SatisfiesPrincipal(principal *msp.MSPPrincipal) error
}
 
{code}
 

In this way, the flow to check a signature w.r.t. a given SerialisedIdentity would be:



*SerializedIdentity* -> _Deserialise(.)_ -> *Identity* -> _Validate(.)_ -> *ValidatedIdentity* -> _Verify(.)_

 

The new *msp.SigningIdentity* will just inherits from the *msp.ValidatedIdentity* and keep the same methods as before.

 

 
{code:java}
// SigningIdentity is an extension of Identity to cover signing capabilities.
// E.g., signing identity should be requested in the case of a client who wishes
// to sign transactions, or fabric endorser who wishes to sign proposal
// processing outcomes.
type SigningIdentity interface {
 
 // Extends ValidatedIdentity
 ValidatedIdentity
 
 // Sign the message
 Sign(msg []byte) ([]byte, error)
 
 // GetPublicVersion returns the public parts of this identity
 GetPublicVersion() Identity
}
 
{code}
 

OwnerIdentifier, Property and PropertyType are defined as follows:

 

 
{code:java}
type OwnerIdentifier struct {
 
 // identifier of the msp of the identity
 mspid string
 // identifier of the owner of an identity computed as the HASH(signingCAcert, DN, CN, OU, O),
 // where DN, CN, OU, O are the respective fields of the certificates
 identifier []byte
}
 
type Property struct {
 
 // type of the property
 Type PropertyType
 // value of the property
 Value []byte
}
 
{code}
 

Finally, *msp.PropertyType* is just the following enumeration:

 

 
{code:java}
// PropertyType indicates the type of a property
type PropertyType int
 
// The PropertyType of an identity’s property
const (
 ORGANIZATIONAL_UNIT PropertyType = iota // Identity’s OrganizationalUnit property
 ORGANIZATION                     // Identity’s Organizational property
 COMMON_NAME                     // Identity’s Common Name property
DISTINGUISHED_NAME                     // Identity’s Distinguished Name property
)
{code}
 

*Remark: msp.ValidatedIdentity* could expose a special “validation” function taking input  a set of options that can elegantly include various parameters that affect this identity’s validation. To its minimum definition, *IdentityValidityOptions* would include a timestamp, pairs of attributes, and proofs of attribute ownership that the validate would need to consider.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8792,,,,,,,,,,"1|hzwqfj:i",,,,,,To Do,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Update MSP interrface to account for Validated/Identity,FAB-9181,28912,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,27/Mar/18 5:50 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-crypto,,,,0,stale-item,v1.3,,,"MSP interface would need to be adjusted to the aforementioned re-organisation, i.e., Validate function would need to return a ValidatedIdentity, while the interface would need to be enhanced with ValidateAt(...) method to accommodate the corresponding method of Identity. SatisfiesPrincipal would also need to be adjusted to take as argument solely a ValidatedIdentity.

 

 
{code:java}
// MSP is the minimal Membership Service Provider Interface to be implemented
// to accommodate peer functionality
type MSP interface {
 
 // IdentityDeserializer interface needs to be implemented by MSP
 IdentityDeserializer
 
 // Setup the MSP instance according to configuration information
 Setup(config *msp.MSPConfig) error
 
 // GetVersion returns the version of this MSP
 GetVersion() MSPVersion
 
 // GetType returns the provider type
 GetType() ProviderType
 
 // GetIdentifier returns the provider identifier
 GetIdentifier() (string, error)
 
 // GetSigningIdentity returns a signing identity corresponding to the provided identifier
 GetSigningIdentity(identifier *IdentityIdentifier) (SigningIdentity, error)
 
 // GetDefaultSigningIdentity returns the default signing identity
 GetDefaultSigningIdentity() (SigningIdentity, error)
 
 // GetTLSRootCerts returns the TLS root certificates for this MSP
 GetTLSRootCerts() [][]byte
 
 // GetTLSIntermediateCerts returns the TLS intermediate root certificates for this MSP
 GetTLSIntermediateCerts() [][]byte
 
 // Validate checks whether the supplied identity is valid
 Validate(id Identity) (ValidatedIdentity, error)
 
 // ValidateAt checks whether the supplied identity is valid on a given timestamp
 ValidateAt(id Identity, timestamp timestamp.Timestamp) (ValidatedIdentity, error)
 
 // SatisfiesPrincipal checks whether the identity matches
 // the description supplied in MSPPrincipal. The check may
 // involve a byte-by-byte comparison (if the principal is
 // a serialized identity) or may require MSP validation
 SatisfiesPrincipal(id ValidatedIdentity, principal *msp.MSPPrincipal) error
}
{code}
 ",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8792,,,,,,,,,,"1|hzwqfj:j",,,,,,To Do,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/18 4:27 PM;elli-androulaki;Updating the version, since as decided this is deferred for 1.3.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Update policy evaluation interfaces to account for this more intuitive identity interface,FAB-9182,28913,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,elli-androulaki,elli-androulaki,27/Mar/18 5:59 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-crypto,,,,0,stale-item,v1.3,,,"Policy evaluation is performed using Evaluate function as follows:

 
{code:java}
// Policy is used to determine if a signature is valid
type Policy interface {
 // Evaluate takes a set of SignedData and evaluates whether this set of signatures 
  // satisfies the policy
 Evaluate(signatureSet []*cb.SignedData) error
 
}
{code}
 

 

Given the restructuring of Identity interfaces, Policy evaluation mechanism could be extended with the following functions:

 
{code:java}
// Policy is used to determine if a signature is valid
type Policy interface {
 Evaluate( identities []*ValidatedIdentity, aux []byte, opts []PolicyEvalOptions) error
}
{code}
 

That is, it should be possible, having only access to the validated identitty itself, and to some auxiliary input (aux) to evaluate the policy. Options opts are added here for the future to be able to specify other parameters for policy evaluation, e.g., a specific timestamp.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8792,,,,,,,,,,"1|hzwqfj:k",,,,,,To Do,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/May/18 4:26 PM;elli-androulaki;I am moving this to 1.3 given that it is clear is not going to be addressed for 1.2.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Two files contain named links that should be anonymous links.,FAB-9183,28918,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,27/Mar/18 7:33 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 8:21 PM,,,,,,,fabric-docs,,,,0,,,,,"Two doc files:
 * chaincode4ade.rst
 * commands/fabric-ca-commands.rst

contain named links that should clearly be anonymous links, to prevent generating build warnings.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3db:",,,,,,,,,,,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Change numerous ""http://"" to ""https://"" for sake of ""make linkcheck""",FAB-9184,28922,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,27/Mar/18 8:32 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,29/Mar/18 1:46 AM,,,,,,,fabric-docs,,,,0,,,,,"Running ""make linkcheck"" generates numerous ""redirect"" diagnostics, almost all of which are simply translations from ""http://"" to ""https://"", so might as well make those changes in the .rst files to remove all that clutter from the output.

There are still other link issues, such as broken links, but that's for another patch – this patch is strictly for basic redirect warnings.",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3dj:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Mar/18 1:46 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/19805/;;;",,,,,,,,,,,,,,,,,,,,,
fabric-samples .gitignore needs /config,FAB-9185,28925,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ChristopherFerris,ChristopherFerris,27/Mar/18 9:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,29/Mar/18 8:24 AM,v1.1.0,,,,,,fabric-samples,,,,0,,,,,"since we have added /config to the d/l of binaries, we should add it to .gitignore for developers that want to submit patches.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3dr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Mar/18 9:37 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/19807;;;",,,,,,,,,,,,,,,,,,,,,
Remove stale skipped packages from unit-tests/run.sh,FAB-9187,28932,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Mar/18 10:57 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,31/Mar/18 8:03 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz26v:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Mar/18 1:07 AM;sykesm;https://gerrit.hyperledger.org/r/19821;;;",,,,,,,,,,,,,,,,,,,,,
Place 'gotools' directory used for docker image builds under the '$(BUILD_DIR)',FAB-9189,28935,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,wlahti,sykesm,sykesm,28/Mar/18 12:42 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,30/Mar/18 6:33 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz273:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 6:34 AM;sykesm;Addressed as part of -FAB-8922-.;;;",,,,,,,,,,,,,,,,,,,,,
[CI] - Update release branch in fabric-sdk-node6 CI jobs,FAB-9190,28937,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Mar/18 1:47 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/Apr/18 2:16 AM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,"Update ""release"" branch to ""release-1.0"" in fabric-sdk-node6 CI jobs.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3en:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 10:04 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/19823/;;;","10/Apr/18 1:25 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20341/;;;",,,,,,,,,,,,,,,,,,,,
Third-party images should use BASE_DOCKER_NS,FAB-9192,28939,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,28/Mar/18 3:32 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 9:51 PM,,,,v1.1.1,,,fabric-build,,,,0,,,,,"Images such as couchdb, zookeeper, and kafka were moved to the fabric-baseimage repo.  However, the ""make docker-thirdparty"" target still utilizes DOCKER_NS rather than BASE_DOCKER_NS.  This works fine with defaults, but breaks if the user tries to work with hyperledger using non-standard namespaces.

The solution is that docker-thirdparty should use BASE_DOCKER_NS so that they correctly track the rest of baseimage base images.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3f3:",,,,,,,,,,,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Build should not download thirdparty images as part of ""make docker""",FAB-9193,28940,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,28/Mar/18 3:38 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,09/Apr/18 8:23 AM,,,,v1.1.1,,,fabric-build,,,,0,,,,,"These are needed for unit-testing, etc, but not a basic build.  ""make docker"" should do the minimal amount of work to build the images.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3fb:",,,,Unset,,,,,,Unset,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Add ""make docker-push"" target",FAB-9196,28943,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,greg.haskins,greg.haskins,greg.haskins,28/Mar/18 4:59 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,21/Apr/18 8:44 PM,,,,v1.1.1,,,fabric-build,,,,0,,,,,"Would be convenient to utilize the build-systems knowledge of docker image/tags to implement a ""docker push"" operation. Suggest ""make docker-push"".",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3fr:",,,,Unset,,,,,,Unset,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Illegal Character in Channel ID,FAB-9198,28945,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,wbhagan,wbhagan,28/Mar/18 5:34 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,22/Jun/18 12:16 AM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,Channels,fabric,fabric-doc,,"I fell victim to the illegal character in Channel ID because of my use of an upper case letter in the channel ID as I set about creating a channel.

Someone was kind enough to point me in the direction of the code which stated that only this pattern /^[a-z][a-z0-9.-]*$/ is permitted for the channel ID.

May I suggest that this information be included in the tutorial docs so as to help everyone - and especially greenhorns to Fabric - avoid making similar mistake I and many others have made when attempting to create a channel ID with a name that doesn't match the desired pattern.",,davidkhala,denyeart,pandrejko,wbhagan,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-617,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3fz:",,,,Unset,,,,,,Unset,,,,,,,,,,,davidkhala,denyeart,pandrejko,wbhagan,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Apr/18 2:28 AM;davidkhala;[https://gerrit.hyperledger.org/r/#/c/19803/] source code is made here. 

More document is also welcome. ;;;","18/May/18 5:07 AM;pandrejko;I added this information to the help text for the peer channel create command

https://jira.hyperledger.org/browse/FAB-10071

Hope this helps? [https://gerrit.hyperledger.org/r/21915];;;","19/Jun/18 7:19 AM;denyeart;[~pandrejko] Can you update the BYFN tutorial doc as well?

Somewhere around here... ""If you choose not to supply a channel name, then the script will use a default name of {{mychannel"".}};;;","19/Jun/18 9:45 PM;pandrejko;[~denyeart] - will do.;;;","20/Jun/18 6:37 AM;pandrejko;https://gerrit.hyperledger.org/r/23349;;;",,,,,,,,,,,,,,,,,
Remove bddtests folder from .gitignore,FAB-9199,28946,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sheehan,sheehan,sheehan,28/Mar/18 6:21 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,30/Mar/18 5:42 AM,,,,v1.2.0,,,,,,,0,,,,,The bddtests folder was deleted in FAB-9027. There are still references to it in the .gitignore file which causes it not to be deleted locally. These entries in .gitignore can be removed.,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3g7:",,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Add support for ""make docker-list""",FAB-9201,28948,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,greg.haskins,greg.haskins,greg.haskins,28/Mar/18 6:58 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,01/Apr/18 9:52 PM,,,,,,,fabric-build,,,,0,,,,,"It would be helpful to have the build emit a list of docker images that it has/would generate for integration with things like ""docker push"" in a CI flow.",,greg.haskins,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3gn:",,,,Unset,,,,,,Unset,,,,,,,,,,,greg.haskins,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Mar/18 7:00 AM;greg.haskins;{code:java}
$ make docker-list
hyperledger/fabric-peer:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-orderer:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-ccenv:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-javaenv:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-buildenv:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-testenv:x86_64-1.1.1-snapshot-dc07aab6
hyperledger/fabric-tools:x86_64-1.1.1-snapshot-dc07aab6
{code};;;",,,,,,,,,,,,,,,,,,,,,
Enhance proto message for collection config,FAB-9202,28949,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,manish-sethi,manish-sethi,28/Mar/18 11:09 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 5:38 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"In the current code, we have a proto message - `CollectionConfig`. This proto message encapsulates another proto message - `StaticCollectionConfig`.
https://github.com/hyperledger/fabric/blob/master/protos/common/collection.proto

The proposal is to make the following changes:
    a) Since we allow changes to the collection configurations, it does not make sense to maintain `StaticCollectionConfig`. Instead, we can maintain only higher level proto message - i.e., `CollectionConfig` and move the fields of `StaticCollectionConfig` directly into `CollectionConfig`.

    b) Add an additional field to indicate whether an organization is present with `full-access` mode or `new-data-access` mode",,denyeart,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3gv:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Apr/18 4:23 AM;yacovm;I think this better be discussed before we make such a change.

Adding [~ales] and [~elli-androulaki] ;;;","17/Apr/18 6:40 AM;denyeart;I too would prefer we keep the oneof StaticCollectionConfig.  Can’t we just consider this to be a collection that is statically defined during chaincode instantiation, but whose definition (as of 1.2) is mutable across chaincode versions?  Keeping as oneof allows flexibility in the future for other types.;;;","25/Apr/18 4:48 AM;manish-sethi;[~Senthil1] - I think that as we are moving ahead with existing `StaticCollectionConfig`, I think that you may like to close this jira;;;",,,,,,,,,,,,,,,,,,,
Maintain different versions of collection configuration,FAB-9203,28950,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,28/Mar/18 11:10 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/May/18 11:09 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,Maintain different versions of collection configurations and index these by the height at which these are committed. These different versions can be maintained either part of the state in the 'peer' namespace or in a separate db. The intention is to allow the peer code to consult the collection configurations that were active at the time of committing the data,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3h3:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 11:45 AM;manish-sethi;After discussing with [~yacovm] and [~C0rWin], only maintaining collection configuration is enough. It will be sufficient to use the latest channel config.;;;",,,,,,,,,,,,,,,,,,,,,
Add a new proto message for transient store entry,FAB-9204,28951,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,manish-sethi,manish-sethi,28/Mar/18 11:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,30/Apr/18 10:25 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"In the current code, the transient store persists rwset.TxPvtReadWriteSet as a value. Define a new proto message in the `transientstore` package `TxPvtReadWriteSetWithConfigInfo`. This new type can encapsulates the rwset.TxPvtReadWriteSet and additional information about the configurations under which the transaction is simulated. The additional information should include
 A) HeightConfig - committing Height of the most recent collection configuration or channel config
 B) MemberOrgsPolicy - members org policy from the most recent collection configuration

Note that the field B will be used only if we implement an optimization in the gossip layer where the actual collection configuration is passed. (see google doc attached to the Epic)",,C0rWin,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9205,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3hb:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,manish-sethi,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 11:45 AM;manish-sethi;Based on our last discussion, we need to allow rolling upgrade from 1.1 experimental feature to 1.2. This means that we cannot simply introduce a new type of proto for storing this additional information. This means that we have following choicde...
 * Either, introduce a capability tag
 * Or simply extend the existing proto message `{color:#000000}TxPvtReadWriteSet{color}` for encapsulating the additional details.

The first option has complications. For instance, even after turning the capability 'ON', there may be left over data in the transient store pertaining to the in-flight transactions. This demands that either we always support both types of protos even after turning the capability 'ON'  (which is ugly) or include the capability information in the transaction simulation results and invalidate the transaction during commit if the capability is found to be enabled during commit.

Keeping above in mind, the second option seems more appealing. Thoughts?;;;","20/Apr/18 10:16 PM;yacovm;{quote}
This means that we cannot simply introduce a new type of proto for storing this additional information
{quote}
why? can't we store it separately? We can have gossip send both these TxPvtReadWriteSets and also that metadata alongside it but not inside it.

{quote}
Either, introduce a capability tag
{quote}
Aren't capabilities for validation ? We're not doing here any validation... only data dissemination. 

I think we first need to answer a more basic question - how do we treat the data in the transient store, that doesn't have this corresponding mapping?
I don't think we *have* to have this data as part of the endorsement. Why can't the peer simply compute it on his own, and attach it to the gossip messages which it already anyway sends point to point? Then we can say that if the peer is missing the corresponding metadata in the transient store - just grab the last configuration and act upon it.
This would force customers that have v1.1 and want to upgrade to v1.2 - just not make any config changes until all their peers purge the transient store via replicating the data and committing it.
;;;","20/Apr/18 11:47 PM;manish-sethi;""why? can't we store it separately? We can have gossip send both these TxPvtReadWriteSets and also that metadata alongside it but not inside it.""

Store separately would means altogether different entries for the metadata which is not good when you always need them together. Why you say that gossip cannot send it inside it?

 

""Aren't capabilities for validation ? We're not doing here any validation... only data dissemination""

This statement was in the context if we were to chose a new proto message. In that case, the message from a 1.2 peer will not be interpreted by a receiving peer running 1.1. And hence capability could have been a choice for 1.2 peer to decide whether to send the old message or new message. But anyways, as I said this looks 'ugly' to me.

On the more basic question - The data which won't have corresponding height will have to continue to depict 1.1 behavior (which you also mentioned when you say - just grab the latest config)...

""I don't think we *have* to have this data as part of the endorsement. Why can't the peer simply compute it on his own, and attach it to the gossip messages which it already anyway sends point to point?""

I did not mention that this data is to 'part of the endorsement'. This JIRA is about scoping out the changes to the transient store for accommodating this additional metedata. The suggestion for using existing proto `TxPvtReadWriteSets` was from the prospective of persisting in the transient store (as gives us backward compatibility). How gossip obtains this metadata and sends across is entirely orthogonal. In fact - the first set of APIs we briefly discussed on Monday are intended for helping gossip to retrieve this metadata

 ;;;","21/Apr/18 12:32 AM;yacovm;{quote}Store separately would means altogether different entries for the metadata which is not good when you always need them together. Why you say that gossip cannot send it inside it?{quote}
I just think it's odd to mix access control metadata and the data itself in the same message. Of course, we can put it together if you think it's important.

{quote}This statement was in the context if we were to chose a new proto message. In that case, *the message from a 1.2 peer will not be interpreted by a receiving peer running 1.1*.
And hence capability could have been a choice for 1.2 peer to decide *whether to send the old message or new message.* But anyways, as I said this looks 'ugly' to me.{quote}
I'm not following. Gossip doesn't need new messages... we can even use the pull messages for state reconciliation (I think). 
A v1.2 peer would use access control that befits v1.2 regardless of the other peer. 

;;;","21/Apr/18 1:01 AM;manish-sethi;On the latter part of you comment where you say - ""I am not following....""

The transient store API  `{color:#000000}Persist(txid {color}{color:#0000ff}string{color}{color:#000000}, blockHeight {color}{color:#0000ff}uint64{color}{color:#000000}, privateSimulationResults {color}{color:#000000}*{color}{color:#000000}rwset.TxPvtReadWriteSet) {color}{color:#0000ff}error{color}` in 1.1 peer will always always expect a message type `{color:#000000}*{color}{color:#000000}rwset.TxPvtReadWriteSet{color}`. If we were to change this API in 1.2 to ``{color:#000000}Persist(txid {color}{color:#0000ff}string{color}{color:#000000}, blockHeight {color}{color:#0000ff}uint64{color}{color:#000000}, privateSimulationResults {color}{color:#000000}*{color}{color:#000000}NewProtoType){color}` - will gossip be able to work with two different APIs exposed by the transient store in different versions?;;;","21/Apr/18 1:11 AM;yacovm;oh, now i see.... well we'll have to be able to convert from one format to the other. ;;;","21/Apr/18 1:34 AM;manish-sethi;Yes, and further in 1.2 peer, this would also require you to check whether you can start using new message type. Otherwise, 1.1 peer would crash because the 1.1 will not have the conversion code (which indirectly demands using the V1.2 capability check).

To avoid all these, I thought of simply introducing additional fields in the existing proto `{color:#000000}*{color}{color:#000000}rwset.TxPvtReadWriteSet` for the `H` height and keep the API same. Does this work for you?{color};;;","21/Apr/18 1:49 AM;yacovm;I'm not sure.

What I'd like is that gossip would be ignorant of whether a peer is allowed some private data or not based on the metadata of that data, and that code would reside in a different module, so that the existing gossip code won't have to change.

By the way - doesn't that mean you'd also have to change *rwsetutil.TxRwSet* ?

If we couple the TxPvtReadWriteSet it means we'll need to change *all our code* to adjust, and it'll also mean the access control will no longer be relevant because the access control source would move to another place.

 

So, at least I - need to think about it some more.

[~C0rWin] wdyt?;;;","21/Apr/18 2:05 AM;manish-sethi;I am not sure I understand your last comment. I am not saying that we would change *rwsetutil.TxRwSet* or you would have to change your access control code.

What I am suggesting is that, *rwsetutil.TxRwSet will still produce the `{color:#000000}wset.TxPvtReadWriteSet{color}` as it does today (i.e., the newly added field say `H` will be empty). Gossip uses this field as a placeholder to fill the `H`. And similarly, to your access control code, you can always pass just `H` after pulling it from {color:#000000}wset.TxPvtReadWriteSet{color} (ultimately, you need to pull this `H` from transient store... even if we have a new proto message).

Finally, as this API `{color:#000000}Persist(txid {color}{color:#0000ff}string{color}{color:#000000}, blockHeight {color}{color:#0000ff}uint64{color}{color:#000000}, privateSimulationResults {color}{color:#000000}*{color}{color:#000000}rwset.TxPvtReadWriteSet){color}` and corresponding retrieval API affects gossip code more so, I'll leave the final choice to you and [~C0rWin]. Whether you prefer
 * A new proto message and hence manage two versions of the APIs across 1.1 and 1.2
 * Or extend {color:#000000}rwset.TxPvtReadWriteSet{color} with an additional field that gossip can use for carying additional data meant only for 1.2 and automatically gets ignored by 1.1;;;",,,,,,,,,,,,,
Enhance gossip layer to support changes to private data collection config,FAB-9205,28952,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,manish-sethi,manish-sethi,28/Mar/18 11:25 AM,21/Jul/18 3:51 AM,28/Oct/23 3:02 AM,22/May/18 10:28 AM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"* *Endorsement:* Use the new proto message (FAB-9204) for persisting the pvtwriteset into transient store and gossip push. Include height _H_ into this proto message where H=Max(last collection config, last channel config)
**
 * *Serving gossip pull from the committed storage*: When serving a gossip pull request for a data committed at height h from the committed data, evaluate the following two conditions and serves the data if either of these conditions is true.

condition1: A config is committed at height x such that 
`(x > h) && (collectionConfig contains requestingOrg) && (requestingOrg has fullAccess)`

condition2: A config is committed at height x such that 
`(x = latest height less than h) && (collectionConfig contains requestingOrg)`

Note that in the case of condition1, the corresponding channel config that is used for evaluating the condition should be the most recent channel config committed before height `x`. However, in the case of condition2, the corresponding channel config that is used is the most recent channel config before `h`. For retrieving configs by height - see FAB-9203
 * *Serving gossip pull from the transient store*: When serving a request for the pvt data from the transient store
- gossip pulls out the data from the transient store 
- Evaluates whether the ledger height at the peer is greater than or equals to the height `H` specified in the proto message
    - If `ledger height < height specified in the proto message`; return error
    - else fetch the most recent collection config and channel config below (or at height) `H` and evaluate the eligibility of the requester

 ",,manish-sethi,troyronda,,,,,,,,,,,,,,,,,,,,,,,,FAB-9202,FAB-9203,FAB-9204,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/18 9:41 PM;C0rWin;pull support.png;https://jira.hyperledger.org/secure/attachment/14930/pull+support.png","30/Apr/18 9:41 PM;C0rWin;push support.png;https://jira.hyperledger.org/secure/attachment/14929/push+support.png",,,,,,,,,Unset,,,FAB-8718,,,,,,,,,,"1|hzwswv:",,,,Unset,,May2018 - NextGen Endorsement,,,,Unset,,,,,,,,,,,manish-sethi,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Sphinx conf directive ""html_add_permalinks = True"" generates warning.",FAB-9206,28954,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,28/Mar/18 6:55 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Mar/18 8:03 PM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"The line in conf.py:

*html_add_permalinks = True*

generates the build warning:

*WARNING: The config value `html_add_permalinks' has type `bool', defaults to `str'.*

There is no need for that line to be there as permalinks are on by default, so that line can just be removed and the warning will go away.",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3hj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Mar/18 8:03 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/19855/;;;",,,,,,,,,,,,,,,,,,,,,
Bootstrap test failed as chaincode is not working as expected in 'fabric-test-daily-x86_64',FAB-9207,28956,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sambhavdutt,sambhavdutt,28/Mar/18 10:39 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,07/Apr/18 12:56 AM,,,,,,,fabric-quality,,,,0,ci-failure,,,,"Bootstrapping error as expected chaincode container is not running,


{code:java}
Error Message

The expected chaincode container cc8c7d7f323e11e89a53fa163e999718-peer0.org1.exa...

Stacktrace


Failing step: And a user deploys chaincode ... failed in 353.300s
Location: bootstrap.feature:95
Assertion Failed: The expected chaincode container cc8c7d7f323e11e89a53fa163e999718-peer0.org1.example.com-mycc-0 is not running
.
.
2018-03-28 04:17:57.047 UTC [grpc] Printf -> DEBU 014 pickfirstBalancer: HandleSubConnStateChange: 0xc42011c710, READY
Error: got unexpected status: SERVICE_UNAVAILABLE -- will not enqueue, consenter for this channel hasn't started yet
{code}



{code:java}
2018-03-28 04:22:29.266 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00c Using default escc
2018-03-28 04:22:29.266 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00d Using default vscc
2018-03-28 04:22:29.266 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 00e java chaincode enabled
2018-03-28 04:22:29.285 UTC [msp/identity] Sign -> DEBU 00f Sign: plaintext: 0AB4070A6B08031A0C0885B1ECD50510...30300A000A04657363630A0476736363 
2018-03-28 04:22:29.285 UTC [msp/identity] Sign -> DEBU 010 Sign: digest: C1343DCBDC8BBE87AB9EDB4A5F7AEA6CF47DE423346F4AB5AA631142734AE1D6 
Error: Error endorsing chaincode: rpc error: code = Unknown desc = access denied: channel [behavesystest] creator org [org1.example.com]
{code}
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/303/testReport/bootstrap/Bootstrapping%20Hyperledger%20Fabric/FAB_4776_FAB_4777__Bring_up_a_kafka_based_network_and_check_peers_____1_1_/
*Build Log*
",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3hz:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Mar/18 10:53 PM;sambhavdutt;The Bootstrap is working as expected now. It has passed in the last build #304, for
*fabric-test-daily-x86_64*

;;;","07/Apr/18 1:01 AM;sambhavdutt;This issue has been fixed. A bootstrap test retrigger fixed this issue.;;;",,,,,,,,,,,,,,,,,,,,
Docs should explain clearly how GOPATH should be set for building Fabric,FAB-9208,28958,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,28/Mar/18 11:23 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,01/Apr/18 9:47 PM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"Given the explicit usage of the GOPATH variable in some of the Fabric support scripts, it should be strongly emphasized in the documentation that that environment variable needs to be set in a very specific way:
 * It _must_ be set and exported, even if one is using Go's default directory of ~/go, and
 * It can contain only a _single_ directory, not the more general, colon-separated list of directories.

Short of refactoring the support scripts, the simplest solution is to add a warning about this in the documentation.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtvb:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 6:27 PM;rpjday;At the same time, a reason for extending the search PATH to include $\{GOPATH}/bin should be provided in the same section.;;;",,,,,,,,,,,,,,,,,,,,,
FAB-9167 broke `make gotools`,FAB-9209,28960,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Mar/18 2:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 5:21 AM,,,,v1.2.0,,,,,,,0,,,,,,"{code:java}
$ make gotools
mkdir -p build/bin
cd gotools && make install BINDIR=/home/rpjday/go/bin
make[1]: Entering directory
'/home/rpjday/go/src/github.com/hyperledger/fabric/gotools'
make[2]: Entering directory
'/home/rpjday/go/src/github.com/hyperledger/fabric/gotools'
Getting dep 0.4.1
/bin/sh: line 0: cd: too many arguments
make[2]: *** [Makefile:56: gotool.dep] Error 1


 pretty sure the problem is in this latest patch to gotools/Makefile:

+# Lock to a versioned dep
+gotool.dep: DEP_VERSION ?= ""0.4.1""
+gotool.dep:
+       @echo ""Getting dep $(DEP_VERSION)""
+       @GOPATH=$(abspath $(TMP_GOPATH)) go get -d github.com/golang/dep
+       @cd $(abspath $(TMP_GOPATH)) git checkout $(DEP_VERSION)  <--
...{code}",rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3if:",,,,,,,,,,,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Mar/18 4:40 AM;rpjday;Can you enhance the ""clean:"" target to remove all the generated gotools?;;;","29/Mar/18 7:58 AM;sykesm;Something like that should be done in a separate issue. The fact that there's a ""gotools-clean"" target that's not part of ""clean"" has bitten me as well.

IMO, the whole build process needs a good rethink.;;;","29/Mar/18 8:00 AM;sykesm;Look at all these clean targets
{code:java}
# - docker[-clean] - ensures all docker images are available[/cleaned]
# - peer-docker[-clean] - ensures the peer container is available[/cleaned]
# - orderer-docker[-clean] - ensures the orderer container is available[/cleaned]
# - tools-docker[-clean] - ensures the tools container is available[/cleaned]
# - clean - cleans the build area
# - clean-all - superset of 'clean' that also removes persistent state
# - dist-clean - clean release packages for all target platforms
# - unit-test-clean - cleans unit test state (particularly from docker)
{code};;;","29/Mar/18 6:23 PM;rpjday;Trust me, I had noticed all that. I've been working with Fabric for less than two weeks, and already I want to rewrite the whole build system.;;;","29/Mar/18 7:04 PM;sykesm;Not for nothing, but, you're not alone. I started with the code base in December and ended up doing a ""new contributor experience"" presentation to maintainers to highlight some of the areas that need improvement.

In general, we need to push for a much better experience when getting started; you shouldn't be afraid to open issues.;;;","30/Mar/18 2:19 AM;rpjday;Any ETA on this fix, I have a couple things I can build on top of it when it works again.;;;","30/Mar/18 3:45 AM;sykesm;Been awaiting reviews and integration since about an hour after being reported. 

https://gerrit.hyperledger.org/r/c/19861;;;","30/Mar/18 4:18 AM;rpjday;Seems like that reverify failed again.;;;","30/Mar/18 6:37 AM;sykesm;Yes. Some recent CRs require a dozen reverify attempts to go green. There are a handful of bugs with the 'flakes' label that are recurring often enough to warrant some attention.;;;",,,,,,,,,,,,,
PTE defines path in input json,FAB-9210,28961,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,29/Mar/18 2:52 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/Apr/18 9:48 AM,,,,,,,fabric-quality,,,,0,,,,,"Three path are specified in the user input json: channelTX in creating channel, chaincodePath in install/instantiate chaincode, and metadataPath in installing indexing.  Some are specified as absolute path and some are specified in relative path to GOPATH/src. 

ChannelTX and metadataPath will all be unified as relative path to GOPATH/src if gopath is specified in the network service confidential json. Or it will be the relative path to GOPATH/src.  For example, if the GOPATH=/home/ibmadmin/gopath, then the address of channelTX will be

""channelTX"": ""github.com/hyperledger/fabric-test/fabric/common/tools/cryptogen/crypto-config/ordererOrganizations/testorgschannel1.tx""

ChaincodePath will be relative path to gopath/src if the gopath is defined in service credential json, otherwise absolute path is required.",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz3in:",,,,,,,,,,,,,,,,,,,,,dongming,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"30/Mar/18 2:34 AM;dongming;https://gerrit.hyperledger.org/r/#/c/19935/;;;","21/Apr/18 1:15 AM;scottz;CHAINCODEPATH:
 # If chaincode language is golang, then user specifies path relative to gopath. Note: since SDK prepends GOPATH/src to any golang chaincodePath, PTE will use it as defined in the json file.
 # And for other chaincode languages, if user defines goPath, then they will also specify path relative to gopath. In that case, the PTE will prepend GOPATH/src here.
 # Otherwise (not golang and no gopath defined) PTE uses the chaincodepath exactly as specified (user should specify an absolute path in the input json file).

METADATAPATH or CHANNELTX:
 # If user defines goPath, then they must also specify path relative to gopath in the input json file. In that case, the PTE must prepend GOPATH/src.
 # Otherwise PTE uses the path exactly as specified (user should specify an absolute path) in the input json file.

 ;;;",,,,,,,,,,,,,,,,,,,,
Confusion around git checkout {TAG} and doc version,FAB-9211,28962,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,pandrejko,pandrejko,29/Mar/18 5:39 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,09/Apr/18 7:00 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"http://hyperledger-fabric.readthedocs.io/en/latest/samples.html

Instructions for downloading the Samples contain this information:
git clone -b master https://github.com/hyperledger/fabric-samples.git
cd fabric-samples
git checkout \{TAG}
Note:

To ensure the samples are compatible with the version of Fabric binaries you download below, checkout the samples {{\{TAG}}} that matches your Fabric version, for example, v1.1.0. To see a list of all fabric-samples tags, use command “git tag”.

------------------------------

Problem:

Both Nancy and I checked out the wrong version of the binaries (v1.0.0) and ended up following the Tutorial instructions in the doc for v1.1.0. This creates problems - most notably that Node.js chaincode was not supported in v1.0.0. So if you try to follow the v1.1.0 instructions for deploying  node.js chaincode it will fail.

Action:

It would be good to give more guidance (warning?) here about what to specify for the TAG value.  I would even suggest
 # putting the Note: text before  the git checkout \{TAG} instruction
 # warn them, if they want to use node.js chaincode they will need v1.1.0 or higher.",,ChristopherFerris,denyeart,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtvj:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,pandrejko,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Apr/18 9:57 PM;ChristopherFerris;It might actually be better to add the clone and checkout of the samples to the bootstrap.sh script to ensure coordinated versions.;;;","09/Apr/18 12:51 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/20075/;;;",,,,,,,,,,,,,,,,,,,,
Failed to download gradle build is leading to Inconsistent unit-test failures,FAB-9212,28963,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,rameshthoomu,rameshthoomu,29/Mar/18 5:40 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,07/Apr/18 7:46 PM,,,,v1.2.0,,,fabric-build,,,,0,ci-flake,,,,"Observed below error in many gerrit patchsets. https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-end-2-end-x86_64/13458/console.log.gz
{code:java}
00:04:20.609 FAILURE: Build failed with an exception.
00:04:20.611 
00:04:20.613 * What went wrong:
00:04:20.616 A problem occurred configuring project ':core:chaincode:shim:java'.
00:04:20.620 > Could not resolve all files for configuration ':core:chaincode:shim:java:classpath'.
00:04:20.626    > Could not resolve javax.enterprise:cdi-api:1.0.
00:04:20.628      Required by:
00:04:20.631          project :core:chaincode:shim:java > com.google.protobuf:protobuf-gradle-plugin:0.8.0 > com.google.gradle:osdetector-gradle-plugin:1.4.0 > kr.motd.maven:os-maven-plugin:1.4.0.Final > org.apache.maven:maven-plugin-api:3.2.1 > org.eclipse.sisu:org.eclipse.sisu.plexus:0.0.0.M5
00:04:20.631       > Could not resolve javax.enterprise:cdi-api:1.0.
00:04:20.634          > Could not parse POM https://plugins.gradle.org/m2/javax/enterprise/cdi-api/1.0/cdi-api-1.0.pom
00:04:20.636             > Could not resolve org.jboss.weld:weld-api-parent:1.0.
00:04:20.640                > Could not resolve org.jboss.weld:weld-api-parent:1.0.{code}",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9277,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzx27r:",,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Apr/18 7:45 PM;mastersingh24;Should be fixed by [https://gerrit.hyperledger.org/r/#/c/20031/];;;",,,,,,,,,,,,,,,,,,,,,
Fold gotools targets into the top-level makefile,FAB-9213,28964,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,29/Mar/18 8:49 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,04/Apr/18 10:55 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,The gotools directory only contains a Makefile. These recipes should be folded into the top-level Makefile and the gotools directory should be removed.,,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwzvj:",,,,Unset,,Sprint 7 - Hygiene,,,,Unset,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Apr/18 4:53 PM;rpjday;So the new gotools build framework no longer installs those tools in $(GOPATH)/bin? That means I should reword my submitted explanation as to the proper setting of GOPATH and PATH. And what are the consequences of no longer installing those gotools in the user's PATH?;;;","02/Apr/18 7:04 PM;sykesm;I’m not sure I follow the question. All that was done here was to move the contents of the gotools/Makefile into a makefile that sits in the root of the project. The targets and their install destinations should not have changed.;;;","02/Apr/18 7:13 PM;rpjday;Previously, running ""make gotools"" would copy the executables into one's $(GOPATH)/bin directory, which was the whole reason for adding that directory to the search path. Now, however, those executables are simply left in the .build directory. See my FAB-9288.;;;",,,,,,,,,,,,,,,,,,,
"Fix single misspelling of ""certificate"" in logger error.",FAB-9214,28966,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,29/Mar/18 4:46 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Apr/18 1:23 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3j3:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
blance transfer example response empty secret value in enrollment ,FAB-9216,28968,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,zhayujie,zhayujie,zhayujie,29/Mar/18 6:03 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,Future,v1.1.0,,fabric-samples,,,29/Apr/18 12:00 AM,0,fabric-samples,stale-item,,,"It response empty secret value after successfully register and enroll, and the value of ""enrollmentSecret"" in persistence is also empty string. The fix allow user get the enrollment secret value and store it in local file.

After start the network, register and enroll new users in Organization :
 {{curl -s -X POST [http://localhost:4000/users] -H ""content-type: application/x-www-form-urlencoded"" -d 'username=Jim&orgName=Org1'}}

the output (secret value is a empty string):

{{\{ ""success"": true, }}{{""secret"": """", ""message"": ""}}{{Jim enrolled Successfully"", ""token"": ""<put JSON Web Token here>"" }}}

 ",,ChristopherFerris,denyeart,sykesm,zhayujie,,,,,,,,,,,,,,10800,10800,,0%,10800,10800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3jb:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,sykesm,zhayujie,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Mar/18 11:41 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/19953/;;;","19/Jun/18 7:29 AM;denyeart;Abandoned. [~zhayujie] do you plan another CR?;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,
Collect endorsement latency ,FAB-9217,28969,33629,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,bjwswang,bjwswang,bjwswang,29/Mar/18 6:10 PM,12/Jan/19 1:09 AM,28/Oct/23 3:02 AM,12/Jan/19 1:09 AM,,,,,,,fabric-peer,,,,0,,,,,,,bjwswang,moriohara,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13088,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3jj:",,,,,,,,,,,,,,,,,,,,,bjwswang,moriohara,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Use of ""||:"" in top-level Makefile is superfluous",FAB-9219,28972,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,29/Mar/18 7:20 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,19/May/18 12:54 AM,,,,v1.1.1,,,fabric-build,,,,0,,,,,"The use of a trailing ""||:"" in several rules in the top-level Makefile is unnecessary, as it is just a hacky way of saying, ""Even if this command fails, keep going,"" and is equivalent to the simpler and more obvious use of a hyphen prefix for the command. In addition, even the hyphen is unnecessary for most of those rules since they are all ""rm -rf"" commands which, by definition, cannot fail even if the arguments don't exist (although they can fail if permission is denied).",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3kf:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Platform-specific binary Makefile rules are inconsistent in use of "".PHONY""",FAB-9220,28975,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,29/Mar/18 8:15 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,19/May/18 1:00 AM,,,,v1.1.1,,,fabric-build,,,,0,,,,,"In the top-level Makefile, three of the platform-specific binaries (peer, orderer and configtxgen) are defined as PHONY targets, while the remaining two (configtxlator and cryptogen) aren't. They should all be defined consistently as PHONY, just for uniformity.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3kn:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test flake in fabric/core/deliverservice TestDeliverServiceShutdown,FAB-9221,28978,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,sykesm,sykesm,29/Mar/18 10:00 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,16/May/18 10:34 PM,,,,v1.2.0,,,,,,,0,ci-flake,,,,"{code:java}
Receive error: Client is closing
12:47:28 unit-tests_1  | --- FAIL: TestDeliverServiceShutdown (2.50s)
12:47:28 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	deliveryclient_test.go:473
12:47:28 unit-tests_1  | 		
	Error:      	Disseminated a block after shutting down the delivery service
12:47:28 unit-tests_1  | 		
	Test:       	TestDeliverServiceShutdown
12:47:28 unit-tests_1  | 2018-03-29 12:47:00.956 UTC [ConnProducer] NewConnection -> ERRO 08f Failed connecting to localhost:5615 , error: context deadline exceeded
12:47:28 unit-tests_1  | 2018-03-29 12:47:02.959 UTC [deliveryClient] try -> WARN 090 Got error: rpc error: code = Unavailable desc = transport is closing , at 1 attempt. Retrying in 1s
12:47:28 unit-tests_1  | 2018-03-29 12:47:03.960 UTC [deliveryClient] try -> WARN 091 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 1s
12:47:28 unit-tests_1  | 2018-03-29 12:47:03.960 UTC [blocksProvider] DeliverBlocks -> WARN 092 [TEST_CHAINID] Receive error: Client is closing
12:47:28 unit-tests_1  | FAIL
12:47:28 unit-tests_1  | coverage: 91.9% of statements
12:47:28 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/deliverservice	56.494s{code}
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/21960/consoleFull",,C0rWin,nirro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3l3:",,,,,,,,,,,,,,,,,,,,,C0rWin,nirro,sykesm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/18 11:52 PM;nirro;https://gerrit.hyperledger.org/r/#/c/21185/;;;","13/May/18 7:57 PM;nirro;[~C0rWin] what about this one?
from some reason I don't have access to see why unit-tests failed in Gerrit.;;;","13/May/18 8:10 PM;C0rWin;[~nirro] Try to rebase and check it again.;;;",,,,,,,,,,,,,,,,,,,
Test failure historydb/historyleveldb - panic: Error while trying to open DB,FAB-9222,28979,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sykesm,sykesm,29/Mar/18 10:04 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,02/Apr/18 6:59 AM,,,,v1.2.0,,,,,,,0,ci-flake,,,,"{code:java}
12:47:50 unit-tests_1  | --- FAIL: TestHistoryForInvalidTran (0.03s)
12:47:50 unit-tests_1  | panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory [recovered]
12:47:50 unit-tests_1  | 	panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory
12:47:50 unit-tests_1  | 
12:47:50 unit-tests_1  | goroutine 24 [running]:
12:47:50 unit-tests_1  | testing.tRunner.func1(0xc4200980f0)
12:47:50 unit-tests_1  | 	/opt/go/src/testing/testing.go:711 +0x2d2
12:47:50 unit-tests_1  | panic(0xee51c0, 0xc42139e020)
12:47:50 unit-tests_1  | 	/opt/go/src/runtime/panic.go:491 +0x283
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open(0xc4213c45c0)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:88 +0x27f
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.NewProvider(0xc420d4a680, 0xc420d4a680)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:40 +0xe8
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb.NewVersionedDBProvider(0x0)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/stateleveldb.go:35 +0x114
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.NewCommonStorageDBProvider(0x16382e0, 0xc4200980f0, 0xee51c0, 0x1098440)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/common_storage_db.go:42 +0x10a
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*LevelDBCommonStorageTestEnv).Init(0xc420d50260, 0x16382e0, 0xc4200980f0)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate/test_exports.go:45 +0x72
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb.newTestHistoryEnv(0xc4200980f0, 0x1)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb/pkg_test.go:55 +0xb5
12:47:50 unit-tests_1  | github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb.TestHistoryForInvalidTran(0xc4200980f0)
12:47:50 unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb/historyleveldb_test.go:204 +0x40
12:47:50 unit-tests_1  | testing.tRunner(0xc4200980f0, 0x1041490)
12:47:50 unit-tests_1  | 	/opt/go/src/testing/testing.go:746 +0xd0
12:47:50 unit-tests_1  | created by testing.(*T).Run
12:47:50 unit-tests_1  | 	/opt/go/src/testing/testing.go:789 +0x2de
12:47:50 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/historyleveldb	0.543s{code}
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/21960/consoleFull",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9093,FAB-12838,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3lb:",,,,,,,,,,,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Apr/18 10:13 PM;mastersingh24;https://gerrit.hyperledger.org/r/20051;;;",,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in fabric/discovery,FAB-9223,28980,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sykesm,sykesm,29/Mar/18 10:09 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,DUPLICATE,,,,,,,0,ci-flake,,,,"{code:java}
12:47:58 unit-tests_1  | --- FAIL: TestCachePurgeCache (0.00s)
12:47:58 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	authcache_test.go:200
12:47:58 unit-tests_1  | 		
	Error:      	Should be true
12:47:58 unit-tests_1  | 		
	Test:       	TestCachePurgeCache{code}
https://jenkins.hyperledger.org/job/fabric-verify-x86_64/21960/consoleFull",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3lj:",,,,,,,,,,,,,,,,,,,,,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 5:17 AM;yacovm;I think I fixed it in https://gerrit.hyperledger.org/r/#/c/20555/ 


Which addresses FAB-9492;;;",,,,,,,,,,,,,,,,,,,,,
"Change Idemix CredRequest to contain only g^x +ZKP instead of g^xh^r + ZKP ",FAB-9224,28982,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mdr,dubovitskaya,dubovitskaya,29/Mar/18 10:35 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,12/Apr/18 10:29 PM,,,,v1.2.0,,,fabric-crypto,,,,0,,,,,"This will remove an extra step of updating a credential at the client side and will make refactoring to comply with the BCCSP interfaces simpler.

For credential issuance we do not need anonymity of the user with respect to the CA.",,dubovitskaya,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8930,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-10120,,,,,,,,,,"1|hzz3lr:",,,,Unset,,Sprint 7 - Security,,,,Unset,,,,,,,,,,,dubovitskaya,mdr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Mar/18 5:22 AM;mdr;https://gerrit.hyperledger.org/r/#/c/19943/;;;",,,,,,,,,,,,,,,,,,,,,
"As a developer, I want to be able to run end-to-end scenarios using ""go test"" instead of scripts",FAB-9225,28983,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Mar/18 11:17 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,16/May/18 10:54 PM,,,,v1.2.0,,,,,,,0,,,,,"Acceptance:

I can execute the end-to-end tests using ginkgo.",,ChanderGovindarajan,latitiah,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3lz:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChanderGovindarajan,latitiah,sykesm,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 8:36 AM;yacovm;The following things are very useful for testing... can we somehow add JIRAs as sub-tasks and make it that people can consume stuff that other people create so that we end up sharing work?
 # To be able to specify at startup the organizations of the channel and also peers in that organization (the crypto-config should be generated accordingly)
 # To be able to define a collection (via passing a JSON to the instantiate command)
 # To be able to add/remove an organization from a channel programmatically

?;;;","25/May/18 8:08 AM;latitiah;[~yacovm]: We've started adding tasks or stories under the `testhelpers` label so we can track what more is needed. Feel free to add as you see fit. Thanks!;;;",,,,,,,,,,,,,,,,,,,,
Orderer panics on specific url ,FAB-9226,28984,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Won't Do,,gatakka,gatakka,29/Mar/18 11:17 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-orderer,,,,0,stale-item,,,,"I have encounter a very strange behavior of the orderer when domain name is *.local.

I try to setup a dev env with Kafka, and urls are : 

orderer0.plasticbank.local

kafka0.plasticbank.local

kafka1.plasticbank.local

kafka2.plasticbank.local

kafka3.plasticbank.local

Orderer panics (see attached logs). If I change domain from *.local* to *.localhost* everything is working as expected. 

I have necessary records in /etc/hosts

It may be OS or docker issue, but I am able to access urls ending with .local using grpc at this machine.

Fabric: 1.1 official images

Go: 1.9.2 linux/amd64

Docker: 18.03.0-ce, build 0520e24",,gatakka,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Mar/18 11:15 PM;gatakka;docker_panic.log;https://jira.hyperledger.org/secure/attachment/14831/docker_panic.log",,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3m7:",,,,Unset,,,,,,Unset,,,,,,,,,,,gatakka,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Create runner for kafka,FAB-9227,28985,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Mar/18 11:18 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/May/18 10:07 PM,,,,v1.2.0,,,,,,,0,,,,,"Acceptance:

I can use ifrit or ginkgomon to start a kafka instance that can be used by the fabric ordering service.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3mf:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create a runner for the orderer,FAB-9228,28986,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sykesm,sykesm,29/Mar/18 11:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 3:46 PM,,,,,,,,,,,0,,,,,"Acceptance:

I can start an orderer an ""solo"" mode",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3mn:",,,,,,,,,,,,,,,,,,,,,latitiah,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 1:13 AM;latitiah;https://gerrit.hyperledger.org/r/21389;;;",,,,,,,,,,,,,,,,,,,,,
Documentation error - fabric setup,FAB-9230,28988,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Sharadw,Sharadw,29/Mar/18 11:24 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,30/Apr/18 4:43 PM,,,,Unverifiable,,,fabric-docs,,,,0,,,,,"Hi

On page [http://hyperledger-fabric.readthedocs.io/en/latest/samples.html] command for download of platform specific binaries does not work. This is because [bootstrap.sh|http://bootstrap.sh/] has been moved to a new location: [https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh]

Documentation needs to be updated.

 

Regards",,mastersingh24,Sharadw,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3n3:",,,,,,,,,,,,,,,,,,,,,mastersingh24,Sharadw,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/18 4:42 PM;mastersingh24;The referenced page no longer exists in the documentation, but in any case I checked http://hyperledger-fabric.readthedocs.io/en/latest/install.html and also checked the download link and it points to the right location.
I think that this might have been a point in time error;;;",,,,,,,,,,,,,,,,,,,,,
Create a runner for the peer,FAB-9231,28989,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Mar/18 11:25 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 4:48 AM,,,,,,,,,,,0,,,,,"Acceptance:

We are able to start a peer successfully using existing cryptographic material and a core.yaml.",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3nb:",,,,,,,,,,,,,,,,,,,,,latitiah,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 1:26 AM;latitiah;https://gerrit.hyperledger.org/r/21393;;;",,,,,,,,,,,,,,,,,,,,,
Add ability to generate crypto material using cryptogen,FAB-9232,28990,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sykesm,sykesm,29/Mar/18 11:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 2:41 AM,,,,,,,,,,,0,,,,,"Acceptance: 

We are able to generate crypto for peers and orderers.",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3nj:",,,,,,,,,,,,,,,,,,,,,latitiah,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Mar/18 11:30 PM;sykesm;[ ] Build cryptogen if needed

[ ] call cryptogen generage with crypto-config.yaml

[ ] determine how to setup crypto-config;;;","04/May/18 12:53 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/21383/;;;",,,,,,,,,,,,,,,,,,,,
Remove behave make targets,FAB-9233,28991,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sheehan,sheehan,sheehan,29/Mar/18 11:29 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Apr/18 1:45 AM,,,,v1.2.0,,,,,,,0,,,,,The behave tests were removed in FAB-9027. The behave make targets should also be removed.,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3nr:",,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
github.com/hyperledger/fabric/core/comm flakey test,FAB-9236,28994,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,ChristopherFerris,ChristopherFerris,30/Mar/18 12:11 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,25/Apr/18 8:05 PM,v1.1.0,,,DUPLICATE,,,fabric-peer,,,,0,ci-flake,,,,"Flakey test constantly yielding false positives.
github.com/hyperledger/fabric/core/comm
*00:07:04.917* {color:#cdcd00}unit-tests_1  |{color} {color:#cd0000}2018-03-29 14:52:35.107 UTC [comm] GetDeliverServiceCredentials -> ERRO 009{color} Attempted to obtain root CA certs of a non existent channel: C*00:07:04.917* {color:#cdcd00}unit-tests_1  |{color} --- FAIL: TestNewConnection (0.00s)*00:07:04.918* {color:#cdcd00}unit-tests_1  |{color}     --- FAIL: TestNewConnection/client_TLS_/_server_TLS_match (1.00s)*00:07:04.919* {color:#cdcd00}unit-tests_1  |{color}     	client_test.go:273: starting server with TLS*00:07:04.919* {color:#cdcd00}unit-tests_1  |{color}     	client_test.go:282: server: accepted from 127.0.0.1:37932*00:07:04.920* {color:#cdcd00}unit-tests_1  |{color}     	client_test.go:286: tls handshake error: tls: first record does not look like a TLS handshake*00:07:04.921* {color:#cdcd00}unit-tests_1  |{color}     	assertions.go:247: 
                          
	Error Trace:	client_test.go:297",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9104,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3o7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 12:14 AM;ChristopherFerris;https://jira.hyperledger.org/browse/FAB-9104;;;","25/Apr/18 8:04 PM;denyeart;This is a dup of a merged fix.  I will close.  Please re-open if some other fix is still needed.;;;",,,,,,,,,,,,,,,,,,,,
flesh out operations guide with FAQs from stackoverflow and mailing list,FAB-9240,28998,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,joe-alewine,joe-alewine,30/Mar/18 1:35 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-docs,,,,0,stale-item,,,,"Continue to integrate FAQs from Stack Overflow and the Mailing List into these two docs:

Fabric FAQ: [http://hyperledger-fabric.readthedocs.io/en/release-1.1/Fabric-FAQ.html]

Orderer FAQ: [http://hyperledger-fabric.readthedocs.io/en/release-1.1/ordering-service-faq.html]

 ",,ChristopherFerris,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwttr:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Mar/18 7:35 AM;ChristopherFerris;This feels more like an epic, and there would be multiple independent updates flowing from that.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
"Strange ""Exiting..."" at the end of peer cmd",FAB-9242,29013,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,30/Mar/18 11:43 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/Apr/18 6:11 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"It always prints peer cmd output with ""Exiting..."" at the end, which is a bit strange and we should follow more conventions for cmd.",,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3pr:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Require More Detailed Documentation on configuration transaction,FAB-9245,29016,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ArnabChatterjee,ArnabChatterjee,30/Mar/18 3:43 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"User would like to have more detailed documentation on how to perform the following:

 
 # How to judge on what basis a consortium would be created?
 # How to judge on what basis an orderer organization should be created?
 # What parameters needs to be kept in mind when hosting an Orderer organization? [Trust issues, although an orderer does not see data, but there is no bound that a malicious orderer cannot]
 # What is the default set of mod_policies in an configuration transaction and how to change them?
 # How to create custom certificates without cryptogen and which ones to distribute and what should be the best practice while doing so?

 

 

 ",,ArnabChatterjee,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3qf:",,,,Unset,,,,,,Unset,,,,,,,,,,,ArnabChatterjee,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Jun/18 12:01 AM;davidkhala;3. to prevent malicious orderer problem, first is to secure your orderer organization root ca private-key, the second is take care of domain name hijack, such that an evil orderer using one of existing orderer address.

4. you can find default set of policy at the bottom of [https://hyperledger-fabric.readthedocs.io/en/release-1.1/policies.html|https://hyperledger-fabric.readthedocs.io/en/release-1.1/policies.html,]

5. if you utilize fabric-ca and get to know the mechanism behind, it works as an alternative of cryptogen, Fabric-ca is more recommended in production practice;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
version flag is not valid for peer subcommands,FAB-9246,29017,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,30/Mar/18 4:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/Apr/18 2:42 AM,,,,,,,fabric-peer,,,,0,,,,,"The peer currently support both version cmd and flag(global flags), but that flag is not supported by peer subcommands. So we should change version flag to only peer own flag or maybe just clean up the flag and just keep version subcommand.",,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3qn:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"gotools/Makefile setting of ""go.fqp.dep"" is superfluous",FAB-9247,29018,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,30/Mar/18 5:11 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,19/May/18 12:56 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"In gotools/Makefile, a number of variables are set for the default acquisition of a number of gotools:

*go.fqp.dep := github.com/golang/dep/cmd/dep*
*go.fqp.golint := github.com/golang/lint/golint*
*go.fqp.goimports := golang.org/x/tools/cmd/goimports*
*go.fqp.gocov := github.com/axw/gocov/...*
*go.fqp.misspell := github.com/client9/misspell/cmd/misspell*
*go.fqp.gocov-xml:= github.com/AlekSi/gocov-xml*

for the following rule:

*gotool.%:*
  *$(eval TOOL = $\{subst gotool.,,$\{@}})*
  *@echo ""Building $\{go.fqp.$\{TOOL}} -> $(TOOL)""*
  *@GOPATH=$(abspath $(TMP_GOPATH)) go get $\{go.fqp.$\{TOOL}}*

However, there is no need to set ""go.fqp.dep"" as that tool is processed explicitly by an earlier ""gotool.dep:"" rule and therefore doesn't invoke that default target, so setting ""go.fqp.dep"" would seem to be superfluous, no?

I realize it's not doing any harm, but I see no value in hanging onto unnecessary content. Thoughts?

 ",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3qv:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/18 9:31 PM;ChristopherFerris;no longer relevant, see gotools.mk in fabric directory;;;","09/May/18 9:36 PM;rpjday;My patch to clean this up was merged some time back, so this is no longer an issue. And even though that content was moved to gotools.mk, my original observation was still valid. In any event, not an issue anymore.;;;",,,,,,,,,,,,,,,,,,,,
"Inconsistent ""TestCredentialSupport"" unit-test failure",FAB-9248,29021,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,rameshthoomu,rameshthoomu,30/Mar/18 10:27 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,01/Apr/18 5:16 AM,v1.2.0,,,v1.2.0,,,fabric-peer,,,,0,ci-flake,,,,"Observed inconsistent unit-test failures in Jenkins builds. See the below error log and build log for more information

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/107/console.log.gz
{code:java}
00:06:48.655 unit-tests_1  | 2018-03-27 03:37:40.330 UTC [comm] GetPeerCredentials -> WARN 009 Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
00:06:48.656 unit-tests_1  | --- FAIL: TestCredentialSupport (0.00s)
00:06:48.661 unit-tests_1  |     connection_test.go:194: loaded 6 root certificates
00:06:48.662 unit-tests_1  |     connection_test.go:214: 4 appServerRoots | 4 ordererServerRoots
00:06:48.663 unit-tests_1  |     assertions.go:247: 
                          
    Error Trace:    connection_test.go:217
00:06:48.664 unit-tests_1  |         
    Error:          Not equal: 
00:06:48.665 unit-tests_1  |         
                    expected: 2
00:06:48.666 unit-tests_1  |         
                    actual  : 4{code}",,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3rr:",,,,,,,,,,,,,,,,,,,,,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 1:25 AM;mastersingh24;https://gerrit.hyperledger.org/r/19977;;;",,,,,,,,,,,,,,,,,,,,,
add ENV VAR configuration reference to docs,FAB-9249,29022,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,30/Mar/18 10:40 PM,23/Jan/20 7:29 AM,28/Oct/23 3:02 AM,23/Jan/20 7:29 AM,v1.1.0,,,Future,,,fabric-docs,,,,0,help-wanted,stale-item,,,"See [https://stackoverflow.com/questions/49574010/how-do-i-know-when-to-use-which-hyperledger-fabric-docker-container-env-variable]

It would be useful to have a definitive reference for the various environment and configuration properties in the docs rather than simply decorating a sample config yaml.",,ChristopherFerris,denyeart,KarimMoradi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3rz:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,KarimMoradi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
add fabric logo to docs,FAB-9250,29023,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/Mar/18 10:45 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,01/Apr/18 6:32 AM,v1.1.0,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"add fabric logo to the doc ""splash page"" and margin.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz3s7:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 2:37 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/19987/;;;",,,,,,,,,,,,,,,,,,,,,
Add ability to use configtxgen to generate config blocks,FAB-9251,29024,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sykesm,sykesm,30/Mar/18 11:13 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 3:45 PM,,,,,,,,,,,0,,,,,"Acceptance:

I can use the runner to create config blocks for bootstrapping the fabric network for the orderer and channels.",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,FAB-9974,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3sf:",,,,,,,,,,,,,,,,,,,,,latitiah,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 1:02 AM;latitiah;https://gerrit.hyperledger.org/r/21387;;;",,,,,,,,,,,,,,,,,,,,,
Create parser for implicit metapolicy strings,FAB-9252,29025,28715,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Mar/18 11:26 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 11:55 AM,,,,v1.2.0,,,fabric-tools,,,,0,configtxgen,,,,"There is currently a parser for signature policy strings, but there is not one for ImplicitMeta policies.  In order to support specifying policies in configtx.yaml, one needs to be implemented which resembles the signature policy parser.

This task is for that implementation.  The parser should parse strings of the format:

{noformat}
""<RULE> <SubPolicy""
{noformat}

For instance:

{noformat}
MAJORITY Readers
ANY Writers
ALL Admins
{noformat}",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3sn:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 12:05 AM;jyellick;In review via https://gerrit.hyperledger.org/r/c/19967/;;;",,,,,,,,,,,,,,,,,,,,,
Thorough review and edit of BYFN,FAB-9253,29026,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,30/Mar/18 11:26 PM,14/Jan/20 1:54 AM,28/Oct/23 3:02 AM,14/Jan/20 1:54 AM,,,,Future,,,fabric-docs,,,,0,stale-item,,,,"BYFN could use a thorough edit to make things clearer.

Some things to consider:
 * Would a roadmap at the top of the step-by-step instructions to summarize the steps be helpful to keep people oriented as they go through the instructions?

- Comment from the HyperLedger Fabric e-mail ==>

BYFN  - I am a little confused about the meaning of an  ""end-to-end"" application? in ==>
     _""This will launch all of the containers, and then drive a complete_
     _*end-to-end** application* scenario.""_

        Is it has the same meaning of ""e2e"" in the file name of docker-compose-e2e.
         yaml?
     If so,  it shouldn't be an e2e application since it started a *cli*
     container:

Answer from Chris: end-to-end (hence the e2e) is a hold-over term. basically, we had the e2e scenario in the fabric repo as a test that covered the entire lifecycle of deploying a network, deploying a trivial application (chaincode) and driving a few transactions before tearing it down. We still use this today. We turned it into a tutorial and it has grown arms and legs.

 ",,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtuv:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 1:54 AM;pandrejko;BYFN is being replaced with the new test network;;;",,,,,,,,,,,,,,,,,,,,,
Add policies parsing to configtxgen config parsing,FAB-9254,29027,28715,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Mar/18 11:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 11:56 AM,,,,v1.2.0,,,fabric-tools,,,,0,configtxgen,,,,"Per FAB-9013 the schema for {{configtx.yaml}} needs to be extended to allow specifying policies.  This task should enhance the config parser to handle the parsing, but need not affect the processing of that config.",,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3sv:",,,,,,,,,,,,,,,,,,,,,denyeart,jyellick,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 11:56 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20117/;;;",,,,,,,,,,,,,,,,,,,,,
Add specified policies to config encoding,FAB-9255,29028,28715,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Mar/18 11:29 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 11:57 AM,,,,v1.2.0,,,fabric-tools,,,,0,configtxgen,,,,"This task is to update the generation code of configtxgen to take the parsed configtx.yaml policy specifications, and add them into the generated config artifacts.",,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3t3:",,,,,,,,,,,,,,,,,,,,,denyeart,jyellick,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 11:57 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20119/;;;",,,,,,,,,,,,,,,,,,,,,
The 'DEFAULT' MSPID is extremely misleading and confusing,FAB-9256,29034,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,31/Mar/18 12:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 9:47 PM,,,,v1.2.0,,,fabric-orderer,fabric-peer,fabric-tools,,0,,,,,"For some reason, the sample MSP provided in the configurations is given an ID of 'DEFAULT'.  Since these sample configuration files get shipped in our images, when customers forget to override the MSP ID, they get error messages complaining about how the 'DEFAULT' MSP id is not valid.  This is very confusing, because users assume the defaults are valid.  This would be much more clear, and be a much more obvious that it should be changed if it were renamed to ""SampleOrg"" to reflect that it is part of the sample configuration and not a valid default.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz3tz:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Mar/18 12:43 AM;jyellick;In review via: https://gerrit.hyperledger.org/r/c/19969/;;;",,,,,,,,,,,,,,,,,,,,,
Update Concurrency Control Version Check,FAB-9257,29043,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,31/Mar/18 4:24 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,Future,,,fabric-docs,,,,0,stale-item,,,,"Concurrency Control Version Check:

I believe it is more precise to replace ""ledger"" with ""blockchain"". In the Ledger topic it is clearly stated that a ledger consists of two components, the Blockchain and the World State.

Also here replace this with ""World State"" or ""Current State"".",,pandrejko,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz407:",,,,,,,,,,,,,,,,,,,,,pandrejko,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Current .gitreview file is missing EOL character at end of file, so add one.",FAB-9259,29047,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,31/Mar/18 5:27 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,02/Apr/18 4:30 PM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"In a Linux checkout, all text files should have proper EOL characters.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz41j:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove trailing whitespace from doc files that Git complains about.,FAB-9260,29048,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,31/Mar/18 5:43 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,01/Apr/18 9:35 PM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"Git is particularly squawky about unnecessary trailing whitespace in text files, so remove the few examples of that in the docs/source/*.rst files.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz41r:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove redundant const for same command short and long descriptions,FAB-9261,29049,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,31/Mar/18 6:14 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 4:29 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz41z:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
gotools/Makefile is missing proper SPDX-License line,FAB-9262,29050,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,31/Mar/18 7:44 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,19/May/18 1:00 AM,,,,WON'T FIX,,,fabric-build,,,,0,,,,,"""make license"" reports:

*The following files are missing SPDX-License-Identifier headers:*
*gotools/Makefile*

*Please replace the Apache license header comment text with:*
*SPDX-License-Identifier: Apache-2.0*

 ",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz427:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/18 9:29 PM;ChristopherFerris;gotools directory and gotools/Makefile were deleted in [https://gerrit.hyperledger.org/r/c/19985/];;;","09/May/18 9:32 PM;rpjday;Everything is good now, I submitted that issue quite some time ago so it can be closed.;;;",,,,,,,,,,,,,,,,,,,,
Remove Java CC Shim from fabric repository,FAB-9263,29051,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,31/Mar/18 9:17 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 7:43 AM,,,,v1.2.0,,,fabric-build,fabric-peer,,,0,hygiene,,,,"Java chaincode has been moved to the fabric-chaincode-java repository.

We should no longer have the Java shim in the fabric repo",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9264,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz42f:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove the Java CC image from fabric build,FAB-9264,29052,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,31/Mar/18 9:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 7:43 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,Java CC is now in it own repository and the Docker image should be built from that repo,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9277,,,,,FAB-9263,,,,,,,,,,,,,,,,,FABCJ-109,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz42n:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove Java CC samples,FAB-9265,29053,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,31/Mar/18 9:47 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 7:42 AM,,,,v1.2.0,,,fabric-samples,,,,0,,,,,Java CC samples should be moved to the Java CC repo. These samples are outdated in any case,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz42v:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Refactor Java CC package test,FAB-9266,29054,29053,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,mastersingh24,mastersingh24,31/Mar/18 9:49 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 4:19 PM,,,,v1.2.0,,,,,,,0,,,,,Not sure why there is a test folder and need to move the test Java CC code into a testdata directory,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz433:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Private data modified if in json format,FAB-9276,29064,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ericmvaughn,ericmvaughn,01/Apr/18 2:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 6:25 PM,,,,WON'T FIX,,,fabric-ledger,,,,0,,,,,"If you store a file in the private DB that is in json format, it gets modified if couchDB is being used. 
 
for example
\{""test"": ""json""}

7b 22 74 65 73 74 22 3a {color:#ff0000}20{color} 22 6a 73 6f 6e 22 7d
 
gets changed to
\{""test"":""json""}

 7b 22 74 65 73 74 22 3a 22 6a 73 6f 6e 22 7d
 
configuratio: 2 peers, 2 couchdbs, 1 ca, and 1 orderer",,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzz45j:",,,,,,,,,,,,,,,,,,,,,ericmvaughn,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 7:08 PM;mastersingh24;[~ericmvaughn] - Why exactly is this a problem?   The above are equivalent in terms of JSON;;;","17/Apr/18 6:20 AM;ericmvaughn;[~mastersingh24]   Our code is hashing the private data before saving it and expecting to retrieve it unchanged.  This is usually the case except when we happened to store a file that was in JSON format.  I agree they are equivalent in terms of JSON but we are just storing the data without knowledge of its format.;;;","30/Apr/18 4:38 PM;mastersingh24;[~ericmvaughn]  - I've looked a bit more into this and I don't think that there is anything we can do within Fabric to help here, especially since we'll eventually have additional options for state databases.

It also does not look like there is *yet* a standard for canonicalization when it comes to JSON in terms of hashing / digital signatures.  So it seems like you will need to decided what canonical form you want to use in your application and then take the hash of that form and that ensure that you convert whatever you get back from the state db into that form prior to checking the hash

[~denyeart] - any thoughts here?   I'm inclined to make this as ""WON'T FIX"" as we can't really fix this;;;","05/May/18 6:25 PM;mastersingh24;I'm going to close this one out;;;",,,,,,,,,,,,,,,,,,
Remove javaenv from CI tests,FAB-9277,29065,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,01/Apr/18 4:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 6:26 PM,,,,,,,fabric-ci,,,,0,,,,,Java CC is not tested at all and the image is no longer being built as part of the fabric repo,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9264,,,,,,,,,,,FAB-9212,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz45r:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Apr/18 4:32 AM;mastersingh24;https://gerrit.hyperledger.org/r/20031;;;",,,,,,,,,,,,,,,,,,,,,
Remove peer pidfile,FAB-9278,29066,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/Apr/18 4:21 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/Apr/18 8:06 AM,v1.2.0,,,v1.2.0,,,fabric-peer,,,,1,hygiene,,,,"The peer writes its pid into a file at startup.

There is really no need for that:
* If the peer runs in a container, its pid will be 1, and anyway the peer container can be stopped without knowing the pid file
* If the peer runs outside a container, its pid file can be discovered by commands like *fuser* or *lsof* that correlate the peer's log file, and files it opened.
Similar argument towards *netstat -nlop*. 

I think it's better to remove this pid file altogether. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz45z:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"""make license"" is broken if you have local changes",FAB-9279,29067,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,rpjday,rpjday,01/Apr/18 5:54 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,Future,,,fabric-build,,,,0,stale-item,,,,"If I have a clean checkout, then running ""make license"" gives me what appears to be correct output:

*$ make license*
*The following files are missing SPDX-License-Identifier headers:*
*peer/node/start_test.go*

*Please replace the Apache license header comment text with:*
*SPDX-License-Identifier: Apache-2.0*

*Checking committed files for traditional Apache License headers ...*
*All remaining files have Apache 2.0 headers*

However, if I edit, say, docker-env.mk, and remove the old-style license info and rerun that command, I get:

*$ make license*
*The following files are missing SPDX-License-Identifier headers:*
*docker-env.mk*

*Please replace the Apache license header comment text with:*
*SPDX-License-Identifier: Apache-2.0*

*Checking committed files for traditional Apache License headers ...*
*The following files are missing traditional Apache 2.0 headers:*
*docker-env.mk*
*Fatal Error - All files must have a license header*
*make: *** [Makefile:144: license] Error 1*

Note how there is suddenly no mention of the earlier reported file, peer/node/start_test.go, which is because having a locally-edited file in your working directory restricts the value of CHECK in the check_license.sh script to only the locally-edited files. Is that what it's supposed to do? That seems non-intuitive.

 ",,ChristopherFerris,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz467:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/18 5:41 AM;ChristopherFerris;This is working as expected. We did not want to have to force devs to fix other people's problems. Instead, we only check for committed (in CI) and uncommitted changes (local). If a file is changed and it has the old style license, we ask them to fix it. We wanted to avoid a big-bang update as that would be disruptive to everyone else with CRs in the pipe. Maybe we should document this.;;;","06/Apr/18 5:52 AM;rpjday;Documenting it would be useful, as it caught me off-guard when I first noticed this, and I was convinced it was a bug.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,
"check_license.sh should now exclude ""^.build/"", not ""^build/"".",FAB-9281,29069,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rpjday,rpjday,rpjday,01/Apr/18 6:18 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Apr/18 6:51 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"Given recent renaming of ""build/"" to "".build/"", check_license.sh should be updated.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz46n:",,,,,,,,,,,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Clean up some of the text in the Gerrit changes.rst file.,FAB-9283,29071,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,02/Apr/18 2:05 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,03/Apr/18 7:09 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Changes to Gerrit changes.rst file include:
 * correct subject line length to 55 characters
 * grammar/wording issues",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz473:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Properly escape periods in check_license.sh filenames for exclusion,FAB-9285,29074,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,02/Apr/18 3:30 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,03/Apr/18 6:46 PM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"The current check_license.sh script does not properly escape periods in filenames when building a list for exclusion, so that a filename pattern of "".go$"" could conceivably match a filename of ""fubargo"". It's unlikely that this will cause a serious problem, but it's just easier to do the right thing and properly escape periods; as in, ""\.go$"".",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz47r:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Index out of range error may happen on msp.ProviderTypeToString,FAB-9286,29075,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,niuzhenguo,niuzhenguo,niuzhenguo,02/Apr/18 5:49 PM,20/Sep/18 5:24 AM,28/Oct/23 3:02 AM,20/Sep/18 5:24 AM,,,,v1.3.0,,,fabric-crypto,,,,0,,,,,"When call ProviderTypeToString with an id equal to the length of mspTypeStrings, it will raise index out of range error. ",,ChristopherFerris,denyeart,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz47z:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,niuzhenguo,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Apr/18 1:15 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/20065/;;;","28/May/18 11:13 AM;niuzhenguo;move to https://gerrit.hyperledger.org/r/#/c/22395/;;;","18/Jun/18 9:07 PM;denyeart;[~niuzhenguo] The fix needs a rebase please. Deferring to v1.3.;;;",,,,,,,,,,,,,,,,,,,
"WIth new gotools.mk, docs saying add ~/go/bin to PATH are now wrong.",FAB-9288,29077,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rpjday,rpjday,02/Apr/18 6:12 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/Apr/18 6:05 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"Until recently, ""make gotools"" automatically installed the eight executables in $(GOPATH)/bin, which is why the documentation instructed the user to make sure that directory was on their search path.

With the recent introduction of ""gotools.mk"", those executables are now simply placed in ./.build/gotools/bin, which I'm fairly sure is not part of the user's search path, suggesting that anything that required those to be on the search path will now fail.

As a perfect example:

*$ make spelling*
*Checking changed go files for spelling errors ...*
*xargs: misspell: No such file or directory*
*spell checker passed*

So what's the resolution for this?",,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz48f:",,,,,,,,,,,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Apr/18 9:23 PM;sykesm;https://gerrit.hyperledger.org/r/20071;;;","02/Apr/18 9:24 PM;sykesm;The install/copy to $GOPATH/bin that was in the gotools-install target was unintentionally changed. Even though the previous mechanism made broken assumptions, the current behavior is just as (if not more) disruptive.

Adding ~/go/bin to the path is not always the right thing so if that's what the docs are saying, they're making assumptions.

Barring any bikeshedding over names (that will eventually result in a change), you can indicate where to install local go tools by setting the GOTOOLS_BINDIR variable when building.
{code:java}
make gotools GOTOOLS_BINDIR=$HOME/bin{code};;;",,,,,,,,,,,,,,,,,,,,
Make fails with missing copyright for .gitiginore,FAB-9289,29078,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,02/Apr/18 6:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Apr/18 12:40 AM,,,,,,,,,,,0,,,,,"The following files are missing SPDX-License-Identifier headers:
.gitreview

Please replace the Apache license header comment text with:
SPDX-License-Identifier: Apache-2.0

Checking committed files for traditional Apache License headers ...
The following files are missing traditional Apache 2.0 headers:
.gitreview
Fatal Error - All files must have a license header
make: *** [license] Error 1",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz48n:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"There is no ""clean"" target that removes the generated doc files.",FAB-9290,29079,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,02/Apr/18 6:36 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,03/Apr/18 6:47 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"From the top level, even ""make clean-all"" doesn't clean the generated doc files, which seems like a minor oversight.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz48v:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
add config to .gitignore,FAB-9291,29081,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/Apr/18 10:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 9:42 AM,v1.1.0,,,,,,fabric-samples,,,,0,,,,,config directory downloaded is not in .gitignore - should be,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz49b:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to remove an organization from the channel config,FAB-9292,29082,25100,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,02/Apr/18 11:10 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Jul/18 1:24 AM,,,,,,,,,,,0,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz49j:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"01/May/18 2:04 AM;latitiah;https://gerrit.hyperledger.org/r/20985;;;",,,,,,,,,,,,,,,,,,,,,
Add a third organization with 2 peers to the network,FAB-9293,29083,25100,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,02/Apr/18 11:12 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Apr/18 3:14 AM,,,,,,,,,,,0,,,,,This includes adding 2 peers from a 3rd org to the existing fabric network.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz49r:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
eliminate noise in BYFN sample,FAB-9294,29087,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,03/Apr/18 2:00 AM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,22/Apr/18 5:23 AM,v1.1.0,,,v1.2.0,,,fabric-samples,,,,0,,,,,The echo of the environment before each command in BYFN is more noise than is of value. Should make this debug output.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4af:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Apr/18 2:58 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20081;;;",,,,,,,,,,,,,,,,,,,,,
Endorsement Policy Ignored If No Writeset for Transaction,FAB-9295,29088,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,rhegde,rhegde,03/Apr/18 2:58 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 8:32 PM,v1.0.6,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Fabric Release 1.0.4.

It is observed a transaction that does not have write-set is committed to the ledger by the Peer as a valid transaction even though it does not meet the Endorsement Policy.

 

This can result in an attack if the client is loosely coded like for below scenario:

Rogue Participant on the channel can manipulate proposal data and send a query operation to its peer for Endorsement and then push it to the orderer to be accepted on the block chain for that channel. A HFC client relying only on proposal data (manipulated in this case) + ledger valid flag (transaction accepted by Peer) will perform unwarranted operations in it own/client data store.

 

This needs to be fixed in Peer for transaction that does not have write-set + does not meet the Endorsement Policy.",,ales,mastersingh24,rhegde,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4an:",,,,,,,,,,,,,,,,,,,,,ales,mastersingh24,rhegde,yacovm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Apr/18 12:52 AM;mastersingh24;[~rhegde] I looked through the code and did not find any path which would result in a transaction being marked as valid if it does not satisfy the endorsement policy.  Note that all transactions will still be included in the block but you can check the status of the transaction in the block metadata.

[~jyellick] [~ales] Can you guys take a look and make sure I did not miss anything?;;;","09/Apr/18 7:22 PM;ales;The validator code indeed only verifies endorsement policies for a chaincode if that chaincode is being written to. In particular
 # namespaces that are being written to are collected here ([https://github.com/hyperledger/fabric/blob/release-1.1/core/committer/txvalidator/validator.go#L680-L682])
 # for each of those, the appropriate VSCC is called ([https://github.com/hyperledger/fabric/blob/release-1.1/core/committer/txvalidator/validator.go#L757-L784])

If a transaction contains a read-write set for a namespaces, and that read-write set only contains read dependencies (and no writes), then the VSCC for that namespace isn't called. As an example, think of LSCC: every transaction contains a read dependency on a KVS key belonging to the LSCC namespace, but only transactions that write to the LSCC namespace are validated against the custom VSCC for LSCC.

[~rhegde] could you please clarify what attack you have in mind? So far I can see how a peer that doesn't comply with a chaincode's endorsement policy may respond to queries on that chaincode. If this is the attack, I'm tempted to say this is WAD, since a peer is free to respond to chaincode queries to any clients it trusts, free of any fabric security mechanisms (unless encryption or SideDB are employed to protect confidentiality). I'm probably missing something, could you elaborate in more details pls?;;;","11/Apr/18 1:16 AM;rhegde;Currently the read-write set records are not passed by the committing peer to the client (FAB-9408). So HFC Client in our case 1.0.x passes a JSON information during Endorsement Proposal processing that will help client to understand the action to be taken whenever a ledger transaction is marked as valid.

Rogue Client can now manipulate JSON information and can send to a chaincode business invoke API (apart from query, we use some business invoke API for relaying the information across joined participant to the channel) that does not produces write-set. Client upon receiving this endorsement proposal response will broadcast to the orderer to be delivered to the peer. Peer will not enforce endorsement policy validation for the channel and hence the transaction will be marked as valid. This block transaction will be evented out to every joined participant for that channel to perform action on the (falsely) marked valid ledger transaction using the manipulated JSON information that is passed by rogue client. There is no damage done to the fabric ledger but to the client store across participants joined to that channel.

There are other FABs like -FAB-6816- which is worsening this problem.;;;","11/Apr/18 8:05 PM;mastersingh24;[~rhegde] - do clients include this JSON parameter in query requests as well?;;;","12/Apr/18 1:01 AM;rhegde;yes Gari. Client will send the JSON request object where chaincode as recipient will parse only the expected JSON object (and ignore rest) and return a response to it.;;;",,,,,,,,,,,,,,,,,
Orderer OTE tests are failing in fabric-test as go & grpc versions have been updated in fabric.,FAB-9296,29089,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,sambhavdutt,sambhavdutt,03/Apr/18 6:15 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,11/Apr/18 2:54 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The Orderer OTE test executed well after FAB-8423 was merged. 
The OTE tests are failing now as the go version is updated to 1.10, and grpc version too  in fabric(, fabric-ca) master branch.

Updating the fabric-test to the same version could possibly fix this error.

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/308/testReport/orderer_ote/perf_orderer/",,nnao,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4av:",,,,,,,,,,,,,,,,,,,,,nnao,sambhavdutt,scottz,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Apr/18 6:38 AM;scottz;Status update: I have a fix ready to test, but cannot yet build a load in Vagrant, which hasn't been upgraded to use the new versions.
{code:java}
fabric-test/tools/OTE$ diff ote.go ote.go.fixGrpc 
 105a106,107
 > var maxGrpcMsgSize = 1000 * 1024 * 1024
 > 
 330a333
 > var err error
 337c340
 < err := mspmgmt.LoadLocalMsp(fmt.Sprintf(""%s/msp"", matches[0]), ordConf.General.BCCSP, orgMSPID)
 —
 > err = mspmgmt.LoadLocalMsp(fmt.Sprintf(""%s/msp"", matches[0]), ordConf.General.BCCSP, orgMSPID)
 345a349
 > 
 347,348c351,353
 < var err error
 < comm.SetMaxRecvMsgSize(1000 * 1024 * 1024)
 —
 > 
 > // OLD: comm.SetMaxRecvMsgSize(1000 * 1024 * 1024)
 > 
 352c357,358
 < dialOpts = append(dialOpts, grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(comm.MaxRecvMsgSize())))
 —
 > // OLD: dialOpts = append(dialOpts, grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(comm.MaxRecvMsgSize())))
 > dialOpts = append(dialOpts, grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(maxGrpcMsgSize))){code};;;","10/Apr/18 7:08 AM;nnao;[~scottz] I think ""github.com/hyperledger/fabric/core/comm"" has MaxRecvMsgSize and some format 'verbs' are wrong.
So I succeeded OTE build below some changes.

{code:java}
vagrant@ubuntu-xenial:/opt/gopath/src/github.com/hyperledger/fabric-test/regression/daily$ git diff
diff --git a/fabric b/fabric
--- a/fabric
+++ b/fabric
@@ -1 +1 @@
-Subproject commit c6515daf3483c9ec02a6bf48e492094051ac8476
+Subproject commit c6515daf3483c9ec02a6bf48e492094051ac8476-dirty
diff --git a/tools/OTE/ote.go b/tools/OTE/ote.go
index 2d4c570..097f5a1 100644
--- a/tools/OTE/ote.go
+++ b/tools/OTE/ote.go
@@ -330,7 +330,7 @@ func (b *broadcastClient) getAck() error {
 func startConsumer(serverAddr string, chanID string, ordererIndex int, channelIndex int, txRecvCntrP *int64, blockRecvCntrP *int64, consumerConnP **grpc.ClientConn, seek int, quiet bool, tlsEnabled bool, orgMSPID string) {
         myName := clientName(""Consumer"", ordererIndex, channelIndex)
         signer := localmsp.NewSigner()
-        ordererName := strings.Trim(serverAddr, fmt.Sprintf("":%s"", ordStartPort))
+        ordererName := strings.Trim(serverAddr, fmt.Sprintf("":%d"", ordStartPort))
         matches, _ := filepath.Glob(fmt.Sprintf(""/etc/hyperledger/fabric/artifacts/ordererOrganizations/example.com/orderers/%s"" + ""*"", ordererName))
         ordConf.General.BCCSP.SwOpts.FileKeystore.KeyStorePath=fmt.Sprintf(""%s/msp/keystore"", matches[0])
         if ordererIndex == 0 { // Loading the msp's of orderer0 for every channel is enough to create the deliver client
@@ -345,11 +345,10 @@ func startConsumer(serverAddr string, chanID string, ordererIndex int, channelIn
         }
         var conn *grpc.ClientConn
         var err error
-        comm.SetMaxRecvMsgSize(1000 * 1024 * 1024)
         if tlsEnabled {
                 var dialOpts []grpc.DialOption
                 // set max send/recv msg sizes
-                dialOpts = append(dialOpts, grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(comm.MaxRecvMsgSize())))
+                dialOpts = append(dialOpts, grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(comm.MaxRecvMsgSize)))
                 creds, err := credentials.NewClientTLSFromFile(fmt.Sprintf(""%s/tls/ca.crt"", matches[0]), fmt.Sprintf(""%s"", ordererName))
                 dialOpts = append(dialOpts, grpc.WithTransportCredentials(creds))
                 conn, err = grpc.Dial(serverAddr, dialOpts...)
@@ -550,7 +549,7 @@ func moreDeliveries(txSentP *[][]int64, totalNumTxSentP *int64, txSentFailuresP
 func startProducer(serverAddr string, chanID string, ordererIndex int, channelIndex int, txReq int64, txSentCntrP *int64, txSentFailureCntrP *int64, tlsEnabled bool, payload int) {
         myName := clientName(""Producer"", ordererIndex, channelIndex)
         signer := localmsp.NewSigner()
-        ordererName := strings.Trim(serverAddr, fmt.Sprintf("":%s"", ordStartPort))
+        ordererName := strings.Trim(serverAddr, fmt.Sprintf("":%d"", ordStartPort))
         matches, _ := filepath.Glob(fmt.Sprintf(""/etc/hyperledger/fabric/artifacts/ordererOrganizations/example.com/orderers/%s"" + ""*"", ordererName))
         ordConf.General.BCCSP.SwOpts.FileKeystore.KeyStorePath=fmt.Sprintf(""%s/msp/keystore"", matches[0])
         var conn *grpc.ClientConn
{code}
;;;","10/Apr/18 11:36 AM;scottz;[~nnao] yes, if you look at my comment, just prior to yours, you will see a similar fix to MaxRecvMsgSize. If you do as you propose, then we also have to set the max recv msg size somehow locally or find another funtion in comm. The way you fixed it will compile but it will not increase the max allowed msg size as is needed. If you would like to propose a solution and push a patchset, I would be happy to review it and help get it merged quickly, since I have run into some local troubles of my own.

I see you also fixed another problem (%s) too, as did I (err).;;;","11/Apr/18 1:25 AM;nnao;https://gerrit.hyperledger.org/r/c/20389/;;;","11/Apr/18 2:53 AM;scottz;Thank you Nao. Your solution works! I merged it.;;;",,,,,,,,,,,,,,,,,
change link in README to the new location of install.html,FAB-9297,29090,28962,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,03/Apr/18 6:27 AM,27/Jul/18 11:40 PM,28/Oct/23 3:02 AM,27/Jul/18 11:40 PM,v1.1.0,,,v1.2.1,v1.3.0,,fabric-samples,,,,0,,,,,"the link to the install instructions in READMe will have changed when parent JIRA is merged.

 

[https://github.com/hyperledger/fabric-samples/]

 

[http://hyperledger-fabric.readthedocs.io/en/latest/install.html]

 

 

 ",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4b3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jul/18 9:02 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/24067;;;",,,,,,,,,,,,,,,,,,,,,
Many build tests are not executing in the fabric-test-daily & fabric-smoke-test-daily.,FAB-9298,29091,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,03/Apr/18 6:39 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,12/Apr/18 11:49 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The bootstrap, chaincode , gossip, ledger, peer tests are not executing in the fabric-test-daily and fabric-smoke-test-daily. In some cases, the CI jobs show a successful test result when some of the standard tests are not executed.

*fabric-smoke-test-daily* 
{code:java}
05:31:01 ========== Behave feature and system tests...
05:31:02 Feature: Bootstrapping Hyperledger Fabric # bootstrap.feature:7
05:31:02   As a user I want to be able to bootstrap my fabric network
05:31:02   @smoke
05:31:02   Scenario: Access to the fabric protobuf files                    # bootstrap.feature:66
05:31:02     Given I test the access to the generated python protobuf files # steps/orderer_impl.py:26
05:31:02     Then there are no errors                                       # steps/basic_impl.py:370
05:31:02 
05:31:02   @smoke
05:31:02   Scenario: Basic operations to create a useful blockchain network  # bootstrap.feature:71
05:31:02     Given I have a bootstrapped fabric network                      # steps/basic_impl.py:178
05:31:02       Traceback (most recent call last):
05:31:02         File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1456, in run
05:31:02           match.run(runner.context)
05:31:02         File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1903, in run
05:31:02           self.func(context, *args, **kwargs)
05:31:02         File ""steps/basic_impl.py"", line 180, in step_impl
05:31:02           bootstrapped_impl(context, ""solo"", ""leveldb"", False)
05:31:02         File ""steps/basic_impl.py"", line 93, in bootstrapped_impl
05:31:02           config_util.generateConfig(context, channelID, config_util.CHANNEL_PROFILE, context.ordererProfile)
05:31:02         File ""/w/workspace/fabric-smoke-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/config_util.py"", line 139, in generateConfig
05:31:02           setupConfigs(context, channelID)
05:31:02         File ""/w/workspace/fabric-smoke-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/config_util.py"", line 107, in setupConfigs
05:31:02           for orgDir in os.listdir(""./{0}/ordererOrganizations"".format(testConfigs)):
05:31:02       OSError: [Errno 2] No such file or directory: './configs/5d4e0fe637c911e8876afa163ec7aa44/ordererOrganizations'
05:31:02       
05:31:02       Captured stdout:
05:31:02       Unable to generate crypto material: [Errno 2] No such file or directory
05:31:02       testConfigs: configs/5d4e0fe637c911e8876afa163ec7aa44
05:31:02 
05:31:02 Exception TypeError: 'NoneType' object is not iterable
05:31:02 Traceback (most recent call last):
05:31:02   File ""/usr/local/bin/behave"", line 11, in <module>
{code}

*fabric-test-daily*

{code:java}
04:06:35         File ""/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/config_util.py"", line 139, in generateConfig
04:06:35           setupConfigs(context, channelID)
04:06:35         File ""/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/config_util.py"", line 107, in setupConfigs
04:06:35           for orgDir in os.listdir(""./{0}/ordererOrganizations"".format(testConfigs)):
04:06:35       OSError: [Errno 2] No such file or directory: './configs/90de188a37bd11e89bedfa163eed59ce/ordererOrganizations'
04:06:35       
04:06:35       Captured stdout:
04:06:35       Unable to generate crypto material: [Errno 2] No such file or directory
04:06:35       testConfigs: configs/90de188a37bd11e89bedfa163eed59ce
04:06:35 
04:06:35 Exception TypeError: 'NoneType' object is not iterable
04:06:35 Traceback (most recent call last):
04:06:35   File ""/usr/local/bin/behave"", line 11, in <module>
{code}


*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/test_results_analyzer/",,latitiah,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4bb:",,,,,,,,,,,,,,,,,,,,,latitiah,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Apr/18 12:53 PM;sambhavdutt;The update patch fix will be merged soon after testing.;;;","09/Apr/18 11:44 PM;latitiah;The orderer tests from this same suite are also not being executed at all. I don't think this is the same root cause, so I may just open a different issue for that problem, but thought that I'd give you a head's up.;;;","12/Apr/18 11:46 PM;sambhavdutt;The errors addressed in this bug were fixed and the OTE test in specific executed fine after. 

The current smoke-test-daily in ledger_lte is failing due as the test is exceeding the 120 minute timeout. ;;;",,,,,,,,,,,,,,,,,,,
Remove TODO for KeyStore from core.yaml,FAB-9301,29094,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,03/Apr/18 5:16 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/Apr/18 2:42 AM,,,,v1.2.0,,,,,,,0,,,,,The TODO for KeyStore to ensure it is read with fabric/core/config.GetPath() has done and should be removed.,,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4bz:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Long tutorials could benefit from a Roadmap or TOC before step-by-step,FAB-9302,29095,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,03/Apr/18 10:28 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-docs,,,,0,,,,,"Tutorials BYFN and Add an org to channel are quite long (but useful!). But it is easy for the user to loose track of what he is actually doing since to tutorials go on for so long.

 

I think it would be beneficial for these tutorials to provide a roadmap or summarize the list of steps before the step-by-step instructions so the user does not loose the context of what they are doing.

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzx0bz:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/18 4:22 AM;pandrejko;Our competition [https://docs.corda.net/hello-world-template.html]

 

uses both a nested TOC on the left with Pages in the tutorial that can be traversed used Next and Previous buttons at the bottom of the page.  This is a much better user experience;;;","25/May/18 1:00 AM;pandrejko;Dup of FAB-9796;;;",,,,,,,,,,,,,,,,,,,,
Design peer CLI multi-endorsement,FAB-9303,29096,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,03/Apr/18 11:30 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 1:00 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The peer CLI needs to be enhanced to allow collecting multiple endorsements during chaincode invocation. This task is to document the design.

Possible approaches:
 * Define a new set of flags to specify an array of peers and TLS root certs in order to obtain the necessary endorsements
 ** Advantages:
 *** quicker to implement
 ** Disadvantages:
 *** specifying more than a few peers and their root certs will be ugly from a usability standpoint
 ** Example CLI call:
 *** 
{code:java}
peer chaincode invoke -o orderer.example.com:7050 --tls --cafile $ORDERER_CA -C $CHANNEL_NAME -n mycc --endorsingPeers peer0.org1.example.com:7051 --endorsingPeers peer0.org2.example.com:7051 --endorsingPeersTLSCerts /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --endorsingPeersTLSCerts /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' >&log.txt{code}

 * Define a new flag that can point to a connection profile (in YAML format) which defines the peers and TLS information for a user performing the lscc.Define() operation (see [https://github.com/hyperledger/composer/wiki/Connection-Profiles] for more info on connection profiles)
 ** Advantages:
 *** adds support for the commonly used ""connection profile"" (already implemented in the Node, Go, and Java SDKs) to the Fabric codebase, which could possibly be used elsewhere in the future (e2e?)
 *** only one new parameter on the command keeps the user experience cleaner
 ** Disadvantages:
 *** more code upfront to define structures for the connection profile
 ** Example CLI calls:
 *** typical peer chaincode:
 **** peer chaincode invoke \{to-be-filled-in}
 *** LSCC call for lifecycle config
 **** peer chaincode invoke \{to-be-filled-in}

 

 ",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4c7:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/18 12:16 AM;wlahti;The first approach will be implemented via FAB-9446. A subsequent JIRA may be created to also add support for supplying a connection profile to specify the peers to seek endorsements from. ;;;",,,,,,,,,,,,,,,,,,,,,
Tutorial: Using CouchDB,FAB-9305,29098,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,04/Apr/18 12:43 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jun/18 4:48 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,Add a new tutorial describing Fabric usage with CouchDB,,eramitg,luomin,MichaelWang,pandrejko,petroccoC,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtrr:",,,,Unset,,,,,,Unset,,,,,,,,,,,eramitg,luomin,MichaelWang,pandrejko,petroccoC,SjirNijssen,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Apr/18 4:18 AM;pandrejko;Barry indicated that Adnan can help with this content.;;;","04/Apr/18 10:58 PM;pandrejko;Barry suggested the following content:

1. quick benefit on the value of couchDB. 

2.  How to add an index to your chaincode folder via metadeta.  

3.  Deploying the cc and the use of the init() interface to set your index.  

4.   sample cli commands to add data to couch and then using the index via an indexed query.  ...what log entry shows an index was created, used, updated.    

5.   Can/Cant's   ...can i change, remove, can i access couchdb directly (this is administrative issues). 

 

Other:

How to enable/use Couch DB

 

Bear in mind we already have this content in the Architecture section:

[http://hyperledger-fabric.readthedocs.io/en/master/couchdb_as_state_database.html]

 ;;;","05/Apr/18 12:41 AM;pandrejko;Under state database options ([http://hyperledger-fabric.readthedocs.io/en/master/couchdb_as_state_database.html]) it says :

'_You may consider starting with the default embedded LevelDB, and move to CouchDB if you require the additional complex rich queries._'

Which implies to me that you can switch from LevelB to CouchDB which is not supported. We should fix that here as well.

 ;;;","12/Apr/18 5:52 AM;pandrejko;https://gerrit.hyperledger.org/r/20469;;;",,,,,,,,,,,,,,,,,,
Tutorial: Side DB Collections,FAB-9306,29099,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,04/Apr/18 12:45 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,18/Jun/18 10:39 PM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,Add a new tutorial describing using of Side DB and Collections,,luomin,negupta,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6545,,,,,,FAB-6600,FAB-10231,FAB-10162,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtrj:",,,,Unset,,,,,,Unset,,,,,,,,,,,luomin,negupta,pandrejko,SjirNijssen,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 6:29 AM;pandrejko;h6. *{color:#454545}Private Data Tutorial:{color}*

{color:#454545} private_data_tutorial.rst{color}

consider including or linking to D. Enyeart's recording of SideDB demo.
  
h6. *{color:#454545}Strategy:{color}*

{color:#454545}Use BYFN network + updated marbles02 chaincode (which includes new getPrivateData () putPrivateData() APIs..){color}
 {color:#454545}Why collections? What problem does this solve?{color}
 {color:#454545}Build Collection definition in JSON files (define which peers are in the collection){color}
 {color:#454545}Peer Chaincode instantiate (new version of Marbles go Chaincode which contains new apis - getPrivateData()…) with collection (JSON file flag){color}
 Peer Chaincode invoke Add private data which calls putPrivateData()
 Peer Chaincode query as authorized peer - can see private data which calls getPrivateData()
 Peer Chaincode query as non-authorized peer - cannot see private data...

------------------- v1.2 -------------------------

Add new member to collection (full access)

Peer Chaincode query as newly authorized peer - can see private data which calls getPrivateData()

Add new member to collection ({color:#454545}new-data-access{color})

Peer Chaincode query as newly authorized peer with new data access only - cannot see private data...

Peer Chaincode invoke Add  new private data

Peer Chaincode query as newly authorized peer with new data access only - can see new private data...

 Collection.json:

[ \{
         ""name"": ""collectionMarbles"",
         ""policy"": ""OR('Org1MSP.member', 'Org2MSP.member')"",
         ""requiredPeerCount"": 1,
         ""maxPeerCount"": 2,
         ""blockToLive"":1000000
 },
 \{ 
         ""name"": ""collectionMarblePrivateDetails"",
         ""policy"": ""OR('Org1MSP.member')"",
          ""requiredPeerCount"": 1,
          ""maxPeerCount"": 1,
         ""blockToLive"":3
 }
 ]

 

 

 ;;;","18/May/18 12:02 AM;pandrejko;[~dthibeau94] [~denyeart] [~joe-alewine] [~wjzheng] [~negupta] [~SjirNijssen] [~odowdaibm] [~bmos299] [~jacquie]

I've worked with Joe and Dave Enyeart to begin to come up with terminology for our documentation of SideDB. For this JIRA I am writing a SideDB tutorial and plan to use the following text. I welcome your comments, feedback and suggestions on the terminology going foward.

 

Using Private Data in Fabric
 =====================

This tutorial will demonstrate the use of collections to provide storage of
 private data on the blockchain network for authorized organizations.

Private data is sensitive data that should not be shared with the entire
 blockchain network. It’s confidential data that two or more organizations on a
 channel want to keep private from other organizations on that channel.

A collection is a fabric concept used to manage these data privacy concerns
 for a set of data. The collection definition describes a subset of organizations
 on a channel entitled to store a set of private data, which by extension
 implies that only these organization can transact (endorse, commit, query) with
 the private data.

Why are Fabric Collections useful?
 ----------------------------------------------

Channels provide transaction privacy among organizations, but the channel data
 (i.e. the channel ledger) is still visible to the orderer and all the peers on
 the channel since transaction data is visible in the ledger.

A collection is useful when channel members need visibility to each transaction,
 but some or all of the transaction data is private to a subset of members,
 for example for bilateral or multilateral private relationships.  The non-members
 will only receive a hash of the private data, and therefore if they later receive
 the private data they can validate it is the correct private data for the
 transaction by hashing the private data and comparing it to the hashes on the
 blockchain. Additionally, since private data is disseminated peer-to-peer rather
 than through channel blocks, it is a useful option if you need to keep data
 private from the ordering service.

For example, consider a group of five organizations on a channel trading produce:

-    Wholesaler
 -    Distributor
 -    Farmer
 -    Shipper
 -    Retailer

But the Distributor may need to have private transactions with the Farmer and
 Shipper to keep the terms of the trades confidential from other organizations
 on the channel.  The Distributor may also want to have a separate private data
 relationship with the Wholesaler.  And the Wholesaler may want to have a private
 data relationship with the Retailer and the Shipper.  Rather than defining many
 small channels for each of these relationships, a collection can be defined to
 share private data between the Distributor, Farmer and Shipper. Another
 collection can be defined to share private data between the Distributor and
 Wholesaler, and a third between the Wholesaler, Retailer and Shipper.

//TODO Insert a diagram would be useful here

Hence on the channel, there could be many collection definitions for each set of
 private data relationships. Collections therefore provide privacy for designated
 sensitive data on a transaction.

When collections are used, private data is stored in a side database on each
 peer, logically separate from the channel ledger data, and having a separate
 key namespace from the channel ledger data.

Thus a channel provides transaction privacy among all organizations on a network,
 whereas collections provide data privacy among a subsets of organizations on the
 channel.;;;","18/May/18 1:15 AM;negupta;I would be more clear up top at the difference between private transactions and private data. Channels keep transactions private from the network/ collections keep data private between parties on channels. keeping that clear up top will keep things crisp but also answer the ""what about channels question"" that people are sure to have;;;","24/May/18 10:29 PM;pandrejko;[~denyeart] - I saw the updated instructions in FAB-10231. The SideDB tutorial that I am working on does not exactly mimic

your instructions. Is that ok?

Currently, the tutorial goes through the following steps:
 # **Build a Collection definition JSON file**

2. **Read and Write private data using chaincode APIs**

3. **Install and instantiate chaincode with a collection**

4. **Store private data**

5. **Query the private data as an authorized peer**

6. **Query the private data as an unauthorized peer**

7. **Purge Private Data**

          8. **Using CouchDB indexes with private data**;;;",,,,,,,,,,,,,,,,,,
Tutorial: Using cello,FAB-9307,29100,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,04/Apr/18 12:47 AM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-docs,,,,0,,,,,"Add a new tutorial describing how to use cello

[~bmos299]",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4cn:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/18 12:53 AM;pandrejko;FAB-9052 already exists. This should be closed;;;",,,,,,,,,,,,,,,,,,,,,
Tutorial:CRL example with attribute based access (throw someone or something out of the network),FAB-9308,29101,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,04/Apr/18 12:48 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-docs,,,,0,,,,,"Tutorial describing how to remove a peer from the network -

 

[~bmos299]",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtt3:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/18 12:55 AM;pandrejko;Duplicate of https://jira.hyperledger.org/browse/FAB-8187. This can be closed;;;",,,,,,,,,,,,,,,,,,,,,
Tutorial: Performance driver,FAB-9309,29102,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,joe-alewine,pandrejko,pandrejko,04/Apr/18 12:49 AM,14/Jan/20 2:00 AM,28/Oct/23 3:02 AM,14/Jan/20 2:00 AM,,,,Future,,,fabric-docs,,,,0,Documentation,stale-item,,,"` Performance driver (there is caliper and PTE to consider)

Measuring performance

 

[~bmos299]",,ChristopherFerris,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwty7:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/May/18 7:47 AM;ChristopherFerris;Before we document this, we should make it a LOT more consumable. It's a bit rube goldberg presently;;;","14/Jan/20 2:00 AM;pandrejko;Plan to address performance in the documentation using this one https://jira.hyperledger.org/browse/FAB-17043;;;",,,,,,,,,,,,,,,,,,,,
Tutorial: ENCC example,FAB-9310,29103,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,04/Apr/18 12:59 AM,04/Dec/20 4:48 AM,28/Oct/23 3:02 AM,04/Dec/20 4:48 AM,,,,,,,fabric-docs,,,,0,Documentation,,,,"Elli's mentioned security ones (we actually could take https://github.com/hyperledger/fabric/tree/release-1.1/examples/chaincode/go/enccc_example and make it into a tutorial.  The concept of transient keys is powerful). See FAB-3355.

 

[~bmos299]",,pandrejko,petroccoC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-22,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwts7:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,petroccoC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/20 4:48 AM;pandrejko;Have not received any requests for this since it was created in 2018;;;",,,,,,,,,,,,,,,,,,,,,
core/chaincode test failures in CI,FAB-9311,29104,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,04/Apr/18 1:00 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,18/Jun/18 10:45 PM,v1.2.0,,,WON'T FIX,,,fabric-peer,,,,0,ci-flake,,,,"Test failure in build: FAIL github.com/hyperledger/fabric/core/chaincode

Hard to say what the root cause is. May be
{code:java}
ExecuteWithErrorFilter shimTestCC error: timeout expired while executing transaction{code}
 [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/718/consoleFull]

 ",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4cv:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/18 6:26 AM;sykesm;h2. HTTP ERROR 404

Problem accessing /job/fabric-verify-unit-tests-x86_64/718/consoleFull. Reason:

Not Found

Can't do anything without logs.;;;",,,,,,,,,,,,,,,,,,,,,
Resolve metalinter warnings,FAB-9312,29105,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,firas.qutishat,firas.qutishat,04/Apr/18 1:26 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,25/Apr/18 3:34 AM,,,,,,,fabric-sdk-go,,,,0,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4d3:",,,,Unset,,,,,,Unset,,,,,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
client pkg,FAB-9313,29106,29105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,firas.qutishat,firas.qutishat,04/Apr/18 1:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 3:34 AM,,,,,,,,,,,0,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4db:",,,,,,,,,,,,,,,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
common pkg,FAB-9314,29107,29105,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,firas.qutishat,firas.qutishat,04/Apr/18 1:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 3:34 AM,,,,,,,,,,,0,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4dj:",,,,,,,,,,,,,,,,,,,,,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
First two tutorials are listed in Tutorials ToC in reverse order.,FAB-9315,29108,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,04/Apr/18 1:38 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,19/May/18 5:17 AM,,,,,,,fabric-docs,,,,0,,,,,"Tutorials section describes the first two tutorials (Building Your First Network, Writing Your Fist Application) in the reverse order of how they show up, so just swap the first two entries in the toctree in that section.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4dr:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update e2e to use AND endorsement policy,FAB-9316,29109,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,04/Apr/18 2:03 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Apr/18 6:26 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The e2e currently uses an insecure endorsement policy of ""OR(....)"".  This was done because of the limitations in the peer CLI of gathering only a single endorsement.  With that limitation removed, the e2e should be updated to utilize a better and more meaningful endorsement policy.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4dz:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Apr/18 12:52 AM;wlahti;https://gerrit.hyperledger.org/r/c/20381/;;;",,,,,,,,,,,,,,,,,,,,,
Update first-network with multi-party endorsement policy,FAB-9317,29110,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,04/Apr/18 2:04 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/May/18 5:22 AM,,,,v1.2.0,,,fabric-samples,,,,0,,,,,"The first-network currently uses an insecure endorsement policy of ""OR(....)"".  This was done because of the limitations in the peer CLI of gathering only a single endorsement.  With that limitation removed, the first-network sample should be updated to use a secure default endorsement policy requiring endorsements from both participants.

Note, when the chaincode is upgrade for the addition of an org, it should be added into the AND, perhaps as a 2/3 or 3/3 rule.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4e7:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 3:01 AM;wlahti;https://gerrit.hyperledger.org/r/c/21307/;;;",,,,,,,,,,,,,,,,,,,,,
Check documentation for single-endorsement examples,FAB-9318,29111,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,04/Apr/18 2:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 11:55 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"It is almost never a good idea for a chaincode to have an endorsement policy of ""OR(...)"" [this includes when the endorsement policy is not specified] but this is the default we have used in our docs because the peer CLI's limitation of gathering only a single endorsement.

Our docs should set a good example and pick a more robust endorsement policy, requiring at the very least, an endorsement from two different organizations.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4ef:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 4:11 AM;wlahti;https://gerrit.hyperledger.org/r/c/21335;;;",,,,,,,,,,,,,,,,,,,,,
cauthdsl policy parser should support single identity,FAB-9322,29115,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,04/Apr/18 3:55 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-tools,,,,0,help-wanted,stale-item,,,"The cauthdsl {{policyparser.go}} provides a human readable language for specifying policy strings.

It supports syntax like {{OR('Org1.member', 'Org2.admin')}}, but per the proto specification a perfectly legal policy string would also be {{'Org1.member'}}.  Simply doing {{OR('Org1.member')}} works around the problem, but it's a bit unintuitive.  It would be nice to enhance the code to handle this case.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4fb:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
[CI] - Create common script to support CI and non CI environments,FAB-9323,29116,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtclark,rameshthoomu,rameshthoomu,04/Apr/18 5:05 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Jul/18 7:16 AM,,,,Future,,,fabric-ci,,,,0,CI_Adhoc_Req,,,,"The existing fabric-sample script in CI only compatible for CI environment which executes default channel, custom channel, couchdb, eyfn tests, nodejs chaincode etc.. But the developers would like to execute these tests before they push changes to CI environment. It would be good to create a single point of script which is compatible to a developer to run on his machine and on CI environment.

Let's start this with fabric-samples and the same has to continue in fabric-sdk-node and fabric-sdk-java",,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10181,,,,,,,,,,"1|hzz4fj:",,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/18 11:51 PM;jtclark;This task is now In-Progress. Starting with the fabric-samples repo, I've added the *include-raw-fabric-samples-byfn-e2e.sh* script to the *scripts/* directory. Inside this script, my approach is to detect the host that you're running it from- a local development workstation or a Jenkins host.  If this can be identified, then the script will modify the environment variables so that they refer to Jenkins-compatible values vs. environment variables that would be compatible with a local development environment.;;;","19/May/18 7:08 AM;jtclark;Draft patch: https://gerrit.hyperledger.org/r/#/c/21585/;;;",,,,,,,,,,,,,,,,,,,,
[CI] - Remove the hardcoded go version in non fabric/fabric-ca jobs,FAB-9324,29117,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,04/Apr/18 5:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/Apr/18 1:39 AM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,"Observed hardcoded ""go version"" is pointing in non fabric or fabric-ca CI jobs. This actually causing problem to build docker images or binaries with the right go version.

Modify the existing logic to pick the go version in fabric-sdk-node, fabric-sdk-java and fabric-samples etc.. repos.

Example: When a patchset triggered on fabric-samples release-1.0 branch, CI script in fabric-samples always pull the fabric release-1.0 and fabric-ca release1.0 branch code, but as the go version is hardcoded as go 1.9.2 it always build on that specific version which is not correct.

Above hardcode step has to remove and this should always fetch the right go version specified in the ci.properties file of each branch.",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4fr:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/18 1:39 AM;sambhavdutt;The CI jobs are not relying on a hardcoded go version to fetch the binaries or docker images. All changes have been done by [~rameshthoomu] 
This change has been merged. ;;;",,,,,,,,,,,,,,,,,,,,,
"There is little reason for byfn.sh to keep supporting ""-m"" option.",FAB-9326,29119,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,04/Apr/18 5:54 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,23/Apr/18 11:33 PM,,,,,,,fabric-samples,,,,0,,,,,"The byfn.sh script continues to support the ""-m <mode>"" option, despite admitting that it's only for historical purposes (""muscle memory is powerful""). However, given that ""byfn.sh --help"" doesn't even mention that option, it seems pointless to continue to support it. It should just be tossed.

In addition, tighten up and update the usage message; make sure it matches the actual script.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4g7:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Fail at the beginning of InitCrypto if there's no MSP ID,FAB-9328,29121,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,04/Apr/18 5:15 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 8:03 PM,,,,v1.2.0,,,,,,,0,,,,,"If there's no MSP ID, we should fail at the beginning of InitCrypto before we do more configration and initialization work.",,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4gn:",,,,,,,,,,,,,,,,,,,,,niuzhenguo,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Why do byfn.sh and eyfn.sh set OS_ARCH, then never use it?",FAB-9329,29124,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,rpjday,rpjday,04/Apr/18 6:02 PM,05/Jun/19 6:19 PM,28/Oct/23 3:02 AM,05/Jun/19 6:19 PM,,,,,,,fabric-samples,,,,0,,,,,"I notice that both scripts byfn.sh and eyfn.sh assign a normalized value to the variable OS_ARCH, but neither of them ever ends up using it. In fact, those appear to be the only two references to that particular variable in the entire fabric-samples checkout. Thoughts?",,lehors,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4h3:",,,,Unset,,,,,,Unset,,,,,,,,,,,lehors,rpjday,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/19 6:19 PM;lehors;This is leftover from a previous version in which it was used.

https://gerrit.hyperledger.org/r/c/fabric-samples/+/31653;;;",,,,,,,,,,,,,,,,,,,,,
Top-level .gitignore should be refactored into lower-level .gitignore files.,FAB-9330,29139,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,04/Apr/18 7:17 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,06/Apr/18 9:38 AM,,,,,,,fabric-samples,,,,0,,,,,"Rather than cram so much into the top-level .gitignore file, it should be properly spread around the subdirectories, as it is for the fabric-ca/ and balance-transfer/typescript/ subdirectories.",,denyeart,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4hb:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,rpjday,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 9:38 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20139/;;;",,,,,,,,,,,,,,,,,,,,,
User Feedback: How to remove a peer from a channel,FAB-9331,29141,,Documentation,To Do,FAB,Fabric,software,denyeart,,,Medium,,,pandrejko,pandrejko,04/Apr/18 10:09 PM,13/Jan/21 4:03 AM,28/Oct/23 3:02 AM,,,,,,,,fabric-docs,,,,0,,,,,"Multiple requests  for this information:

How to remove a peer from a channel:

[https://lists.hyperledger.org/pipermail/hyperledger-fabric/2018-March/003263.html]

 

Rocket Chat:

wbhagan

{color:#a0a0a0}fabric-questions (March 30, 2018)
{color}
To add a peer to a channel we run ""peer channel join"".....what do we need to run to remove a peer from a channel? I can't seem to find that documented. Anyone?",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtwf:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 1:59 AM;pandrejko;[~joe-alewine][~negupta]Would this be appropriate to include in the Operations Guide.;;;","13/Jan/21 3:58 AM;pandrejko;Wenjian is currently working on a `peer remove channel` API (unjoin) which will address this request.

https://jira.hyperledger.org/browse/FAB-11334;;;",,,,,,,,,,,,,,,,,,,,
Add counterfeiter and mockery tools to gotools targets,FAB-9332,29142,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,04/Apr/18 11:13 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,11/Apr/18 3:57 AM,,,,,,,,,,,0,hygiene,,,,Counterfeiter and mockery are being used for automatic generation of fakes and mocks. Having these tools available enables developers to use `go generate` to regenerate up to date mocks after changing interfaces.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4hr:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/18 11:15 PM;sykesm;https://gerrit.hyperledger.org/r/20143;;;",,,,,,,,,,,,,,,,,,,,,
"Remove static loggers from orderer, replace with loggers with channel context",FAB-9334,29144,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,04/Apr/18 11:20 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-orderer,,,,0,stale-item,,,,"Today, each package declares a package scoped logger, rather than accepting a logger as a dependency which is injected.

Not only does this make doing things like testing tricky for verifying log messages for instance, it requires that every log message re-implement certain function.

For much of the logging, the log messages have a channel context, so each log message ends up starting with a format string like {{[channel %s]}}, but, sometimes the implementer forgets to add the channel scope, or sometimes the context only needs to be aware of the channel name for the logging messages.  All of this can be fixed if the logger is injected which does the channel context automatically.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4i7:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Update Documentation README for building docs locally,FAB-9336,29146,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,05/Apr/18 1:15 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,06/Apr/18 5:42 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"In the Documentation Readme located here:

[https://github.com/hyperledger/fabric/tree/master/docs]

the steps for building locally have changed (per Ramesh)

 

Change the steps from

{{sudo pip install Sphinx }}

{{sudo pip install sphinx_rtd_theme }}

{{cd fabric/docs # Be in this directory. Makefile sits there. }}

{{make html }}

 

{{to }}

{{sudo pip install Sphinx }}

{{sudo pip install sphinx_rtd_theme }}

{{sudo pip install recommonmark==0.4.0}}

{{cd fabric/docs # Be in this directory. Makefile sits there. }}

make html

{{}}{{}}",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4in:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 4:16 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/20147/;;;",,,,,,,,,,,,,,,,,,,,,
set up RTD for fabric-docs,FAB-9342,29152,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 4:22 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 5:10 AM,v1.1.0,,,,,,fabric-docs,,,,0,,,,,"We need to have RTD set up to publish from fabric-docs repo rather than from fabric.

We will need to plan a transition. The URL will have to change so that we can preserve the 1.1 and 1.0 site content as published.",,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4jz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/18 4:14 AM;rameshthoomu;[~ChristopherFerris] What is the URL name you suggest? ex: fabric-docs.readthedocs.io;;;","27/Apr/18 5:10 AM;ChristopherFerris;[https://readthedocs.org/projects/hyperledger-fabric-docs/]

 ;;;",,,,,,,,,,,,,,,,,,,,
leave bread-crumbs from master/latest RTD to new fabric-docs site,FAB-9343,29153,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,05/Apr/18 4:23 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-docs,,,,0,stale-item,,,,We will also want to leave bread-crumbs from the old 'latest' to the new content.,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4k7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
migrate /docs content from fabric to fabric-docs repo,FAB-9344,29154,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 4:24 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 2:05 AM,v1.1.0,,,,,,fabric-docs,,,,0,,,,,migrate /docs content from fabric to fabric-docs repo,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4kf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
migrate /docs from fabric-ca to fabric-docs repo,FAB-9345,29155,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 4:24 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-docs,,,,0,stale-item,,,,migrate /docs from fabric-ca to fabric-docs repo,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4kn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/18 9:31 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/21087/;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
migrate doc content from fabric-sdk-node to fabric-docs repo,FAB-9346,29156,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,05/Apr/18 4:25 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-docs,,,,0,stale-item,,,,migrate doc content from fabric-sdk-node to fabric-docs repo,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4kv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
migrate doc content from fabric-sdk-java to fabric-docs repo,FAB-9347,29157,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,05/Apr/18 4:25 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-docs,,,,0,stale-item,,,,migrate doc content from fabric-sdk-java to fabric-docs repo,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4l3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
create doc build CI for fabric-docs repo,FAB-9348,29158,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,05/Apr/18 4:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 10:12 AM,v1.1.0,,,,,,fabric-docs,,,,0,,,,,Create doc build CI for fabric-docs repo,,ChristopherFerris,jtclark,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4lb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jtclark,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/18 5:28 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21725/;;;","15/May/18 10:12 AM;rameshthoomu;[~ChristopherFerris] patch has been merged and now the fabric-docs has a jenkins docs job. https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-rtd-verify-job/1/html/;;;",,,,,,,,,,,,,,,,,,,,
"add README, LICENSE and CONTRIBUTING, etc",FAB-9349,29159,28903,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 4:37 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:50 AM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,"add README, LICENSE and CONTRIBUTING, etc",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4lj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Apr/18 5:15 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20153;;;",,,,,,,,,,,,,,,,,,,,,
add code of conduct to all Fabric repos,FAB-9351,29161,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:37 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/Apr/18 10:26 AM,v1.1.0,,,,,,fabric-docs,,,,0,,,,,it is now common practice to add a CODE_OF_CONDUCT.md to the root of GH repos.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4lz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9352,29162,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:49 AM,v1.1.0,,,v1.0.7,v1.1.1,v1.2.0,fabric-ca,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4m7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 7:44 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20159;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9353,29163,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:37 AM,v1.1.0,,,v1.0.7,v1.1.1,v1.2.0,fabric-sdk-node,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4mf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 7:47 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20161;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9354,29164,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:40 AM,v1.1.0,,,v1.2.0,,,fabric-sdk-java,,,,0,,,,,add CODE_OF_CONDUCT.md and CONTRIBUTING.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4mn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 7:51 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20163;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9355,29165,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:39 AM,27/Nov/19 2:17 AM,28/Oct/23 3:02 AM,07/Apr/18 5:40 AM,v1.1.0,,,,,,,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4mv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Apr/18 7:54 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20165;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9356,29166,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:32 AM,v1.1.0,,,v1.0.7,v1.1.1,v1.2.0,fabric-docs,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4n3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.0,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 7:55 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20167;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md ,FAB-9357,29167,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 7:40 AM,27/Nov/19 3:11 AM,28/Oct/23 3:02 AM,07/Apr/18 5:50 AM,v1.1.0,,,,,,,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4nb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 7:57 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20169;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md,FAB-9361,29172,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 8:20 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 5:40 AM,v1.1.0,,,,,,fabric-tools,,,,0,,,,,add CODE_OF_CONDUCT.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4o7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Apr/18 8:22 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20179;;;",,,,,,,,,,,,,,,,,,,,,
add CODE_OF_CONDUCT.md and CONTIBUTING.md,FAB-9362,29173,29161,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,05/Apr/18 8:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Jun/18 11:44 PM,v1.1.0,,,v1.2.0,,,fabric-samples,,,,0,,,,,add CODE_OF_CONDUCT.md and CONTIBUTING.md,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4of:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 8:26 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20181;;;",,,,,,,,,,,,,,,,,,,,,
native peer build should not depend on ccenv docker image,FAB-9363,29174,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,greg.haskins,greg.haskins,greg.haskins,05/Apr/18 11:17 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,08/Apr/18 5:55 AM,,,,v1.2.0,,,fabric-build,fabric-peer,,,0,,,,,"While the peer does indeed require the ccenv docker image to run, it does not require it to build.  We should therefore finally fix this.",,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz4on:",,,,Unset,,,,,,Unset,,,,,,,,,,,greg.haskins,rameshthoomu,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Apr/18 11:19 AM;greg.haskins;https://gerrit.hyperledger.org/r/#/c/20187/;;;","09/Apr/18 10:16 AM;rameshthoomu;Code Coverage builds are failing in master branch. See FAB-9419;;;",,,,,,,,,,,,,,,,,,,,
Permission denied error while creating .cache/go-build directory,FAB-9369,29184,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,rameshthoomu,rameshthoomu,05/Apr/18 11:07 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,19/Aug/18 4:31 AM,v1.2.0,,,Future,,,fabric-build,,,,0,ci-failure,,,,"Observed Permission denied error while creating .cache/go-build directory in jenkins jobs
 go: disabling cache (/.cache/go-build) due to initialization failure: mkdir /.cache: permission denied
 ",,ChristopherFerris,nnao,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4qn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,nnao,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Apr/18 10:52 PM;scottz;This is happening many times on every build that I view. As a result of this error, will jobs run more slowly? What is root cause? When did it start? That info might suggest what made this issue surface.;;;","05/May/18 5:49 AM;nnao;This is a warning that occurs in go version 1.10.
https://golang.org/cmd/go/#hdr-Build_and_test_caching

Maybe we need to set GOCACHE=off or GOCACHE=<some directory>.;;;","14/May/18 5:54 AM;ChristopherFerris;I don't think we want to be using caching for CI. Since this is only a warning, I think that it should have a lower priority, but I could see us turning off caching for CI at some point as above.;;;","19/Jul/18 4:48 PM;nnao;https://gerrit.hyperledger.org/r/#/c/24553/;;;",,,,,,,,,,,,,,,,,,
Documentation for anonymous identifies in policy evaluation,FAB-9370,29185,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,elli-androulaki,elli-androulaki,elli-androulaki,05/Apr/18 11:08 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,fabric-docs,,,0,stale-item,,,,Document how this addition is to be used.,,elli-androulaki,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7601,,,,,,,,,,"1|hzws0v:",,,,,,,,,,,,,,,,,,,,,elli-androulaki,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
TEST PLAN: Anonymous identities in Policy evaluation,FAB-9371,29186,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,05/Apr/18 11:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,,,,0,stale-item,test-plan,,,"Orchestrate the tests associated to the code the CRs of this epic include.

Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) :

 

+*Unit Test (UT) leader:*+ [~mathiasb303]

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
 Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]

The latest code coverage report for the package with added/modified functionality is the following:
{code:java}
00:30:43  unit-tests_1  | ok      github.com/hyperledger/fabric/msp    11.605s    coverage: 84.6% of statements
{code}
 

+*Function Test (FVT) leader*+: [~elli-androulaki]
 In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:

A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be done using the ginko framework(FAB-10139): 
 # Have an identity mixer identity be checked against combined principals of ""anonymity"" and ""OrgX.member"" where OrgX is the corresponding MSP id
 # Have an identity mixer identity be checked against combined principals of ""NON-anonymity"""" and ""OrgX.member"" where OrgX is the corresponding MSP id

B.  E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these):
 # E2E Test: IdentityMixer Client (CLI) tries alone to reconfigure a system parameter (e.g., add a new MSP) that is governed by a policy that excludes anonymous identities FAB-10119
 # E2E Test: Conventional MSP (CLI) tries alone to reconfigure a system parameter (e.g., add a new MSP) that is governed by a policy where explicitly anonymous identities are required FAB-10138

*Note*: For these tests to be implemented using gingko we need an idemixgen runner. This runner is also needed for tests associated to all identity mixer related components. It is not clear if this is to be completed by 1.2 (handled by -FAB-10175-); If not, then FAB-10119, and FAB-10138 will refer to non-gingko e2e tests and new jiras will be created to convert these tests to gingko based ones targeting 1.3. 

C.  Other functional testing required: N/A 

+*System Verification Test (SVT) leader*+: ????
 V1.2 System Test Plan (Epic) FAB-????
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7601,,,,,,,,,,"1|hzwruf:",,,,,,,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Error running make dist-clean all on new system,FAB-9372,29187,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sheehan,sheehan,05/Apr/18 11:10 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/May/18 7:25 AM,v1.1.0,,,Unverifiable,,,fabric-build,,,,0,,,,,"OS: Ubuntu

Commit: b70b560f9b47dc1a2a6158926472b562b20a9044

Notes: This was a brand new system. I followed the docs, installed Go, cloned Fabric

 

Steps:

Run

make dist-clean all

 

Expected: Build should be succcessful

 

Actual: Failed with 
{code:java}
make dist-clean all
Installing chaintool
curl -fL https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/chaintool-1.1.0/hyperledger-fabric-chaintool-1.1.0.jar > .build/bin/chaintool
% Total % Received % Xferd Average Speed Time Time Time Current
Dload Upload Total Spent Left Speed
100 16.4M 100 16.4M 0 0 5616k 0 0:00:03 0:00:03 --:--:-- 5253k
chmod +x .build/bin/chaintool
Creating .build/goshim.tar.bz2
mkdir -p .build/image/ccenv/payload
cp .build/docker/gotools/bin/protoc-gen-go .build/bin/chaintool .build/goshim.tar.bz2 .build/image/ccenv/payload
cp: cannot stat '.build/docker/gotools/bin/protoc-gen-go': No such file or directory
Makefile:277: recipe for target '.build/image/ccenv/payload' failed
make: *** [.build/image/ccenv/payload] Error 1
{code}
I ran again and it failed with the same error. I backed up to commit c4c87ee7130649e419f942fd94fdc02ae92e0cb4 thinking that maybe commit 0f5b1850ea8d6080ceac523adf8a530ac3720929 was the cause. The build was successful. I moved back to commit b70b560f9b47dc1a2a6158926472b562b20a9044 and the build now succeeds, even after a `make clean-all` and deleting the .build directory. 

 

[~sykesm] - could you take a quick look at the error to see if it's potentially related to your gotool changes?",,kchristidis,sheehan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/18 9:22 PM;sykesm;build.log;https://jira.hyperledger.org/secure/attachment/14874/build.log",,,,,,,,,,,,,,,,,,,,,,,"1|hzz4qv:",,,,,,,,,,,,,,,,,,,,,kchristidis,sheehan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/18 9:23 PM;sykesm;I'm not seeing an issue on current master. Build log attached.

 ;;;","17/May/18 11:48 PM;kchristidis;[~sheehan] LMK if you're still seeing this. Otherwise, will close by end of week.;;;","18/May/18 3:20 AM;sheehan;I think this is likely related to the fact that I ran the build on a system without protoc-gen-go already installed. I think build process installs protoc-gen-go, but I wonder if something was changed such that it looks for protoc-gen-go before it is installed? I likely do not have time to reproduce by tomorrow, so I can close for now and reopen if I encounter the issue again.;;;","18/May/18 3:23 AM;sheehan;I don't see a close option. Feel free to change it if you have that option.;;;",,,,,,,,,,,,,,,,,,
Segmentation violation error while installing chaincode,FAB-9379,29194,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,06/Apr/18 12:35 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,28/Apr/18 9:42 AM,v1.2.0,,,v1.2.0,,,fabric-build,,,,0,ci-failure,,,,"segmentation violation error observed while installing chaincode. This issue is reproducing only in go 1.10 version.
{code:java}
fatal error: unexpected signal during runtime execution
00:09:43.455 [signal SIGSEGV: segmentation violation code=0x1 addr=0xe5 pc=0x7f82f41123f8]
{code}
 

 ",,ChristopherFerris,denyeart,jyellick,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4s7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,jyellick,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Apr/18 1:18 AM;rameshthoomu;Tested byfn and efyn tests on on baseimage 0.4.6 (Go Version 1.9.2) and 0.4.7 (Go Version 1.10). Below are the observations

- failed to install on 0.4.7 (go version 1.10) but the same worked on 0.4.6;;;","06/Apr/18 4:33 AM;jyellick;I'm also observing this failure in the e2e with the latest master.


{noformat}
2018-04-05 19:31:57.833 UTC [golang-platform] func1 -> DEBU 041 vendoring src/github.com/hyperledger/fabric/examples/chaincode/go/example02/chaincode.go -> src/github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd/vendor/github.com/hyperledger/fabric/examples/chaincode/go/example02/chaincode.go
2018-04-05 19:31:57.833 UTC [container] WriteFileToPackage -> DEBU 042 Writing file to tarball: src/github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd/main.go
2018-04-05 19:31:57.835 UTC [container] WriteFileToPackage -> DEBU 043 Writing file to tarball: src/github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd/vendor/github.com/hyperledger/fabric/examples/chaincode/go/example02/chaincode.go
fatal error: unexpected signal during runtime execution
[signal SIGSEGV: segmentation violation code=0x1 addr=0xe5 pc=0x7f770f5fa3f8]

runtime stack:
runtime.throw(0xf46ef8, 0x2a)
	/opt/go/src/runtime/panic.go:619 +0x81
runtime.sigpanic()
	/opt/go/src/runtime/signal_unix.go:372 +0x28e

goroutine 1 [syscall]:
runtime.cgocall(0xbdc520, 0xc4201eea98, 0xf4547c)
	/opt/go/src/runtime/cgocall.go:128 +0x64 fp=0xc4201eea50 sp=0xc4201eea18 pc=0x4021a4
os/user._Cfunc_mygetpwuid_r(0x3e8, 0xc4202a8030, 0x2623e80, 0x400, 0xc420428010, 0x0)
	_cgo_gotypes.go:170 +0x4d fp=0xc4201eea98 sp=0xc4201eea50 pc=0x905abd
os/user.lookupUnixUid.func1.1(0x7f77000003e8, 0xc4202a8030, 0x2623e80, 0x400, 0xc420428010, 0xc4201eeb28)
	/opt/go/src/os/user/cgo_lookup_unix.go:100 +0x13f fp=0xc4201eead8 sp=0xc4201eea98 pc=0x90769f
os/user.lookupUnixUid.func1(0x10)
	/opt/go/src/os/user/cgo_lookup_unix.go:100 +0x50 fp=0xc4201eeb18 sp=0xc4201eead8 pc=0x907740
os/user.retryWithBuffer(0xc42036a150, 0xc4201eec08, 0xc42036a150, 0xe8e880)
	/opt/go/src/os/user/cgo_lookup_unix.go:253 +0x3b fp=0xc4201eeb78 sp=0xc4201eeb18 pc=0x906b6b
os/user.lookupUnixUid(0x3e8, 0x0, 0x0, 0x0)
	/opt/go/src/os/user/cgo_lookup_unix.go:96 +0x130 fp=0xc4201eec40 sp=0xc4201eeb78 pc=0x905ff0
os/user.lookupUserId(0xc42040c060, 0x4, 0x0, 0x46bfc4, 0x3e8)
	/opt/go/src/os/user/cgo_lookup_unix.go:86 +0x73 fp=0xc4201eec78 sp=0xc4201eec40 pc=0x905e83
os/user.LookupId(0xc42040c060, 0x4, 0x4, 0x0, 0x0)
	/opt/go/src/os/user/lookup.go:41 +0x51 fp=0xc4201eecc8 sp=0xc4201eec78 pc=0x905481
archive/tar.statUnix(0xff8b20, 0xc4202d8000, 0xc4204980e0, 0x16f6860, 0xc420000180)
	/opt/go/src/archive/tar/stat_unix.go:39 +0x4c1 fp=0xc4201eed48 sp=0xc4201eecc8 pc=0x9111b1
archive/tar.FileInfoHeader(0xff8b20, 0xc4202d8000, 0xc420474240, 0x5a, 0x0, 0x0, 0x7f771e246c90)
	/opt/go/src/archive/tar/common.go:699 +0x491 fp=0xc4201eeec8 sp=0xc4201eed48 pc=0x90a681
github.com/hyperledger/fabric/core/container/util.WriteStreamToPackage(0xfe19c0, 0xc42029c000, 0xc420474240, 0x5a, 0xc4204681e0, 0x97, 0xc42046e380, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/container/util/writer.go:181 +0x18b fp=0xc4201ef080 sp=0xc4201eeec8 pc=0x9512eb
github.com/hyperledger/fabric/core/container/util.WriteFileToPackage(0xc420474240, 0x5a, 0xc4204681e0, 0x97, 0xc42046e380, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/container/util/writer.go:171 +0x3aa fp=0xc4201ef198 sp=0xc4201ef080 pc=0x9510ba
github.com/hyperledger/fabric/core/chaincode/platforms/golang.(*Platform).GetDeploymentPayload(0x171ae58, 0xc420341ce0, 0x0, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/golang/platform.go:469 +0x1346 fp=0xc4201ef9b8 sp=0xc4201ef198 pc=0x9595d6
github.com/hyperledger/fabric/core/chaincode/platforms.GetDeploymentPayload(0xc420341ce0, 0x0, 0x0, 0xf241ec, 0xe, 0xc4202909c0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/platforms/platforms.go:88 +0x89 fp=0xc4201efa00 sp=0xc4201ef9b8 pc=0x95eb19
github.com/hyperledger/fabric/core/container.GetChaincodePackageBytes(0xc420341ce0, 0x0, 0x0, 0xc4203b88c6, 0x6, 0xc42012b31c)
	/opt/gopath/src/github.com/hyperledger/fabric/core/container/vm.go:100 +0x96 fp=0xc4201efa48 sp=0xc4201efa00 pc=0xb6a956
github.com/hyperledger/fabric/peer/chaincode.getChaincodeDeploymentSpec(0xc420341ce0, 0xc420341c01, 0x0, 0x0, 0xf1f000)
	/opt/gopath/src/github.com/hyperledger/fabric/peer/chaincode/common.go:57 +0x115 fp=0xc4201efab8 sp=0xc4201efa48 pc=0xb83c45
...
{noformat}
;;;","08/Apr/18 12:08 PM;rameshthoomu;Observed the same error in fabric-chaincode-node integration tests. see thebuild logs here [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-chaincode-node-verify-x86_64/171/console.log.gz]

[~sanchezl];;;","09/Apr/18 7:25 AM;denyeart;[~rameshthoomu] [~jyellick] Does the problem always happen, or intermittent?

I'm wondering why we're not seeing the problem in the smoke tests?

 ;;;","17/Apr/18 12:18 AM;rameshthoomu;Not seeing this issue now..;;;","22/Apr/18 11:11 PM;ChristopherFerris;has this been resolved?;;;","28/Apr/18 4:39 AM;scottz;[~jyellick] (e2e),  [~rameshthoomu] (eyfn) : Is the problem gone? Are we using go v1.10 everywhere now (except Vagrant in fabric/devenv/setup.sh which I know is using v1.09)? Using baseimage 0.4.7? What else changed between April 5th and April 16th that might have fixed it?;;;","28/Apr/18 6:28 AM;jyellick;I am at a bit of a loss, I'm no longer able to reproduce either.  I'm not sure what it might have been.  We could always bisect it, but do we think it's worthwhile?;;;","28/Apr/18 9:42 AM;denyeart;[~scottz] [~jyellick] I'll go ahead and close it... it can always be re-opened if the problem shows up again.

Note, I have a CR to update vagrant to go 1.10: [https://gerrit.hyperledger.org/r/#/c/21149/]

I assume there was no good reason to keep vagrant at 1.9...and in fact I started to get compile errors at that level...;;;",,,,,,,,,,,,,
Resolve licensing issues discovered by Fossology scan,FAB-9383,29201,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChristopherFerris,tkuhrt,tkuhrt,06/Apr/18 1:32 AM,25/Sep/19 1:19 AM,28/Oct/23 3:02 AM,25/Sep/19 1:19 AM,,,,,,,fabric-release,,,,0,,,,,"h1. Context

Hyperledger Fabric source files (from April 3, 2018) were scanned by The Linux Foundation utilizing Fossology to determine license for files contained in the following repositories:
 * [https://gerrit.hyperledger.org/r/fabric]

 * [https://gerrit.hyperledger.org/r/fabric-baseimage]

 * [https://gerrit.hyperledger.org/r/fabric-ca]

 * [https://gerrit.hyperledger.org/r/fabric-chaincode-evm]

 * [https://gerrit.hyperledger.org/r/fabric-chaincode-java]

 * [https://gerrit.hyperledger.org/r/fabric-chaincode-node]

 * [https://gerrit.hyperledger.org/r/fabric-chaintool]

 * [https://gerrit.hyperledger.org/r/fabric-docs]

 * [https://gerrit.hyperledger.org/r/fabric-samples]

 * [https://gerrit.hyperledger.org/r/fabric-sdk-go]

 * [https://gerrit.hyperledger.org/r/fabric-sdk-java]

 * [https://gerrit.hyperledger.org/r/fabric-sdk-node]

 * [https://gerrit.hyperledger.org/r/fabric-sdk-py]

 * [https://gerrit.hyperledger.org/r/fabric-sdk-rest]

 * [https://gerrit.hyperledger.org/r/fabric-test]

 * [https://gerrit.hyperledger.org/r/fabric-test-resources]

 * [https://gerrit.hyperledger.org/r/homebrew-fabric]

 

 

 

From the Hyperledger Charter ([https://www.hyperledger.org/about/charter]) Section 13, all files that are included in Hyperledger projects should either be licensed with the Apache License, Version 2.0 for source code or Creative Commons Attribution 4.0 International License for documentation.
h1. Expected Behavior

All files should have license text included either directly or via a LICENSE file in the directory for files that cannot be modified to include a comment with the license text (think binary files).
h1. Actual Behavior

See attached results of the scan.
h1. To Fix

There are now three subdirectories in /fabric/vendor/[github.com/docker/docker/contrib/|http://github.com/docker/docker/contrib/] that contain LICENSE files with copies of the GPL-2.0. These directories don't contain any other code, so I'm not clear why the GPL licenses are being included, but these should be removed promptly if possible. 
 * Note that these appear to be present in the master branch (see [https://github.com/hyperledger/fabric/tree/master/vendor/github.com/docker/docker/contrib/selinux-fedora-24/docker-engine-selinux] for example) but not in the release-1.1 branch.

The package metadata files (generally bower.json / package.json for NPM) incorrectly describe the Hyperledger Fabric as licensed under ISC, rather than Apache. NPM's default is ISC so this is a common mistake. I've highlighted these instances in the attached reports. These files should be changed from ISC to Apache-2.0.

For new files with Attribution license, ideally, we would replace those with Apache 2.0 files and dependencies; otherwise, we will need to go to the Hyperledger Governing board for an exception.

There is one file that contains incomplete license text. We should either expand that to contain the whole license text or use the SPDX Identifier.

For _ALL_ files that do not have a license included, the first step is to check with the contributor to ensure that the file can be released as Apache 2.0 or CC-BY-4.0. If the contributor agrees, the file should be modified to include the license. You can utilize [SPDX Identifiers |https://spdx.org/]to represent the correct license.

For those non-modifiable files, you will need to include a LICENSE file in the directory containing the license that the files are covered by. Here are a few examples of how this might be done:
* [OPNFV Apex|https://github.com/opnfv/apex/blob/master/LICENSE.rst] -- this is an example of explicitly calling out Apache 2.0 for source code and CC-BY-4.0 for docs. 
* [containerd|https://github.com/containerd/containerd/blob/master/README.md] -- see notice at bottom. This also calls out the separate Apache / CC-BY-4.0 docs, and explicitly references the ""docs"" directory.
h1. *Before closing this bug, please let me know that you have made the above changes. I will then run the code through Fossology again* *to ensure the changes.*",,ChristopherFerris,denyeart,jyellick,tkuhrt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15232,,,FABG-305,FAB-10379,,,,,,,,,,,,,,"06/Apr/18 1:32 AM;tkuhrt;fabric-2018-04.xlsx;https://jira.hyperledger.org/secure/attachment/14856/fabric-2018-04.xlsx","08/Aug/18 12:30 AM;tkuhrt;fabric-2018-07-27.xlsx;https://jira.hyperledger.org/secure/attachment/15469/fabric-2018-07-27.xlsx",,,,,,,,,,,,,,,,,,,,,,"1|hzz4tj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,jyellick,tkuhrt,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Jul/18 3:40 AM;ChristopherFerris;[~tkuhrt] the vendored docker dependency has LICENSE files but no code in those sub-directories. I suppose we could delete or maybe make a notice claiming that they are not applicable.

fabric-sdk-go is still a separate project, their JIRA is FABG project now. We don't include sdk-go, sdk-rest or sdk-py yet in the release.

I believe that the incorrect licenses, copy left have all been addressed (sdk-java CR  [https://gerrit.hyperledger.org/r/24725).]

 

Could I please ask for another FOSSology scan to identify the correct list of missing license files (if any remain)? Thanks;;;","28/Jul/18 12:15 AM;denyeart;https://gerrit.hyperledger.org/r/24725 merged, [~ChristopherFerris] do you want the jira to remain open?;;;","28/Jul/18 1:46 AM;tkuhrt;[~ChristopherFerris], we will get a new scan out for next week.;;;","28/Jul/18 2:47 AM;ChristopherFerris;[~denyeart] yea, leave open until we get the new scan...;;;","08/Aug/18 12:32 AM;tkuhrt;Notes for fabric scan 2018-07-27:

1) In the fabric repo, there are GPL-2.0 LICENSE text files in the github.com/docker/docker component, within the contrib/selinux-* subfolders. There is no corresponding code in these directories, so it appears there is nothing to which these GPL-2.0 files apply. Given that, I would recommend removing these directories and LICENSE files.

2) There is a .jar file in fabric-chaincode-java, at /gradle/wrapper/gradle-wrapper.jar, which appears to contain compiled Java object code. This should be removed from the source code repo. If it is necessary for building then it should perhaps be pulled in as part of the build process, but the source code repos should not contain compiled object code.

3) There are four package.json files listed in the ""Wrong license statement"" tab. These files incorrectly state the project's license as ""ISC""; these should say ""Apache-2.0"" instead.

4) There is also a file listed in the ""Wrong license statement"" tab in fabric-sdk-py at /hfc/fabric/channel/__init__.py. This file is missing most of the Apache-2.0 license notice (including any reference to Apache-2.0). It should be replaced with either the full standard Apache-2.0 license notice, or with an SPDX-License-Identifier as shown in #6 below.

5) The toml dependency is under the WTFPL license. toml has recently been updated to the MIT license (see https://github.com/BurntSushi/toml/blob/master/COPYING), which is a clearer and more broadly accepted license.
toml was found at /vendor/github.com/BurntSushi/toml/ in fabric, fabric-chaincode-evm, and fabric-test (within /chaincodes/shim-vendored/plob-1.1-shim/chaincode/vendor.zip). Is it possible to upgrade these instances of toml to a newer version with the MIT license?

6) In the ""No license found"" tab of the spreadsheet, the files with ""No license found"" do not contain license notices that were detected from our scanning. Where reasonably possible, for those files that contain Hyperledger code, Apache-2.0 comments should be added. This can be done by adding a comment with an SPDX short-form identifier, such as:

    SPDX-License-Identifier: Apache-2.0

Note that the files in this tab listed as ""third party directory"", ""excluded file extension"" or ""empty file"" do not need to have these notices added.

Also, please note also that any ""_sk"" files also should have been marked in the report as ""excluded file extension"" and do not need to have license notices added. This will be fixed in future reports.

7) Creative Commons Attribution 4.0, CC-BY-4.0, is the license for Hyperledger documentation. Many of the documentation files already have CC-BY-4.0 notices. Consider adding notices to any Hyperledger documentation files that don't, such as by using an SPDX short-form identifier:

    SPDX-License-Identifier: CC-BY-4.0

More information for #6 and #7 can be found on the Hyperledger wiki, at https://wiki.hyperledger.org/community/copyright-and-license-policy;;;","04/Dec/18 5:45 AM;denyeart;[~ChristopherFerris] How do you want to proceed?  Can you open separate defects for each of the projects?;;;","25/Sep/19 1:19 AM;jyellick;Let's consolidate license scanning discussion into a single bug.;;;",,,,,,,,,,,,,,,
Include byfn and efyn scripts with node chaincode in fabric smoke test job,FAB-9384,29202,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,06/Apr/18 1:34 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 10:29 PM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,"Include byfn and efyn scripts with node chaincode in fabric smoke test CI job. The existing smoke test job configuration only verifying byfn.sh script. It;s better to add eyfn.sh and node chaincode.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxv8n:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/May/18 8:02 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21355/;;;",,,,,,,,,,,,,,,,,,,,,
GRPC connection shouldn't be closed in discovery client,FAB-9385,29204,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bstasyszyn,bstasyszyn,bstasyszyn,06/Apr/18 3:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Apr/18 11:59 PM,,,,,,,fabric-gossip,,,,0,,,,,"The service discovery client currently closes the GRPC connection provided by the caller. This makes it impossible to implement connection caching. Since the caller provides the connection, the caller should be responsible for closing the connection.",,bstasyszyn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8779,,,,,,,,,,"1|hzz4tr:",,,,,,,,,,,,,,,,,,,,,bstasyszyn,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Marbles sample chaincode needs to remove references to Fauxton ,FAB-9386,29205,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,pandrejko,pandrejko,06/Apr/18 5:52 AM,17/Sep/18 9:48 PM,28/Oct/23 3:02 AM,17/Sep/18 9:48 PM,,,,v1.3.0,,,fabric-samples,,,,1,,,,,"[https://github.com/hyperledger/fabric-samples/blob/master/chaincode/marbles02/go/marbles_chaincode.go]

According to [~AdnanChoudhury], we need to remove all references to the 'data.' wrapper from the Marbles sample code as this is no longer required.

This would involve:

remove the 'data.'  prefix (wrapper) in the sample queries for example on line 79, 82, 89, 92 change:
|// Example curl command line to define index in the CouchDB channel_chaincode database|
|// curl -i -X POST -H ""Content-Type: application/json"" -d ""\{\""index\"":\{\""fields\"":[\""*data*.docType\"",\""*data*.owner\""]},\""name\"":\""indexOwner\"",\""ddoc\"":\""indexOwnerDoc\"",\""type\"":\""json\""}"" [http://hostname:port/myc1_marbles/_index|http://hostnameport/]|

to
|// Example curl command line to define index in the CouchDB channel_chaincode database|
|// curl -i -X POST -H ""Content-Type: application/json"" -d ""\{\""index\"":\{\""fields\"":[\""docType\"",\""owner\""]},\""name\"":\""indexOwner\"",\""ddoc\"":\""indexOwnerDoc\"",\""type\"":\""json\""}"" [http://hostname:port/myc1_marbles/_index|http://hostnameport/]|

//

 ",,ChristopherFerris,denyeart,kriss1897,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11917,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4tz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,kriss1897,pandrejko,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/18 10:52 PM;kriss1897;I only need to remove the ""data"" keywords from comments. correct?;;;","08/May/18 11:36 PM;pandrejko;Correct. Remove """"data.""  from the example.;;;","09/May/18 4:07 AM;kriss1897;Hi [~pandrejko], I have made the changes but I can't figure out how to push it. Please Help!!;;;","09/May/18 9:28 PM;pandrejko;I would suggest checking with David Huffman.;;;","14/May/18 6:15 AM;ChristopherFerris;[~kriss1897] [http://hyperledger-fabric.readthedocs.io/en/latest/Gerrit/changes.html] explains how to submit a change through Gerrit.;;;","15/May/18 4:10 AM;kriss1897;[~ChristopherFerris] {color:#333333}Thanks sir{color}. I will push the changes ASAP.;;;","22/May/18 4:12 AM;kchristidis;[~kriss1897]: Update on this?;;;","07/Jun/18 9:55 PM;kchristidis;We have no updates on this one. Deferring to 1.3 and removing the assignee.;;;","11/Sep/18 12:53 PM;denyeart;[~chris.elder] The updates from FAB-7969 need to be applied to fabric-samples.;;;",,,,,,,,,,,,,
PTE get_pteReport.js supports discovery,FAB-9387,29206,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,06/Apr/18 12:22 PM,25/Sep/18 4:55 AM,28/Oct/23 3:02 AM,25/Sep/18 4:55 AM,,,,,,,fabric-quality,,,,0,,,,,PTE to add discovery report in get_pteReport.js,,dongming,inatatsu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz4u7:",,,,,,,,,,,,,,,,,,,,,dongming,inatatsu,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"22/Sep/18 5:22 AM;dongming;https://gerrit.hyperledger.org/r/#/c/26473/;;;",,,,,,,,,,,,,,,,,,,,,
Blockchain Network concept topic,FAB-9388,29207,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Yogendrasri,Yogendrasri,Yogendrasri,06/Apr/18 3:04 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,22/May/18 9:23 PM,,,,,,,fabric-docs,,,,0,Documentation,,,,"Create network topology concept topic

 

Patchset here: [https://gerrit.hyperledger.org/r/c/20333/]

 

Latest documentation here: [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/71/html/network/network.html]",,cmgabriel,eramitg,joe-alewine,odowdaibm,SjirNijssen,Yogendrasri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4uf:",,,,,,,,,,,,,,,,,,,,,cmgabriel,eramitg,joe-alewine,odowdaibm,SjirNijssen,Yogendrasri,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 3:07 PM;odowdaibm;I will create a short patchset for this now, and we'll build that out with [~Yogendrasri] [~SjirNijssen] [~cmgabriel] Thanks for starting this!;;;","07/Apr/18 12:33 AM;odowdaibm;[~pandrejko] [~eramitg] [~joe-alewine] This is a topic for you guys too!;;;","07/Apr/18 12:56 AM;cmgabriel;The approach we could take is to use the whitepaper from Chris Ferris based on the Cornell paper and use it as a basis for this topic to get going quickly. We can take relevant material to start the patchset and iterate it via the DWG meetings.;;;","07/Apr/18 1:23 AM;SjirNijssen; May I propose to include at least the concepts of, and associated essential relationships between 
* HLF network, 
* consortium, 
* organization, 
* channel, 
* peer,  
* orderer and 
* MSP. ;;;","07/Apr/18 1:29 AM;SjirNijssen;And let us spent some time on not only what it is, but also why, and if appropriate when. The focus as agreed during the DWG today call was on the structure, with the why, and only a little on process.;;;","09/Apr/18 7:23 PM;odowdaibm;Created patchset: [https://gerrit.hyperledger.org/r/c/20333/]

Populated with basic structure.

Updated TOC.

Created Diagram pro-formas

Outlined some of the major H2s

All in preparation for DWG meetings this week;;;",,,,,,,,,,,,,,,,
peer deliver client crashes when it is started and stopped immediately after,FAB-9389,29208,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,06/Apr/18 8:08 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/Apr/18 6:09 PM,,,,v1.1.1,v1.2.0,,fabric-peer,,,,0,,,,,"A user posted on rocket chat the following stack trace:

{code}
2018-04-06 09:45:37.662 UTC [deliveryClient] StopDeliverForChannel -> DEBU 1ea19 This peer will stop pass blocks from orderer service to other peers
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0xaeb2db]

`goroutine 121267 [running]:
github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel.func1(0xc4357724e0, 0xc4256a4ba0, 0x8, 0xc42434a3a0)
/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:162 +0x5b
created by github.com/hyperledger/fabric/core/deliverservice.(*deliverServiceImpl).StartDeliverForChannel
/opt/gopath/src/github.com/hyperledger/fabric/core/deliverservice/deliveryclient.go:161 +0x672`

{code}


From looking at the code, this could happen if the deliver client is started and immediately afterwards - stopped. The goroutine not only doesn't lock, but also may hit a nil pointer. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz4un:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Apr/18 8:44 PM;yacovm; 
||master|release-1.1.x|
|[https://gerrit.hyperledger.org/r/#/c/20237/]|[https://gerrit.hyperledger.org/r/#/c/20239/]|

Should I cherry pick to 1.0.x ? [~mastersingh24] ;;;",,,,,,,,,,,,,,,,,,,,,
fabric-chaincode-node verify & merge CI jobs are failing as repositories fail to clone from Gerrit.,FAB-9390,29229,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,07/Apr/18 12:32 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,10/Apr/18 10:46 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,"fabric-chaincode-node verify & merge CI jobs are failing as repositories don't clone and timeout...


{code:java}
20:46:25 Cloning repository ssh://hyperledger-jobbuilder@gerrit.hyperledger.org:29418/fabric-chaincode-node
20:46:25  > git init /w/workspace/fabric-chaincode-node-merge-x86_64/gopath/src/github.com/hyperledger/fabric-chaincode-node # timeout=10
20:46:25 Fetching upstream changes from ssh://hyperledger-jobbuilder@gerrit.hyperledger.org:29418/fabric-chaincode-node
20:46:25  > git --version # timeout=10
20:46:25 using GIT_SSH to set credentials Gerrit Checkout
20:46:25  > git fetch --tags --progress ssh://hyperledger-jobbuilder@gerrit.hyperledger.org:29418/fabric-chaincode-node +refs/heads/*:refs/remotes/origin/*
20:56:25 ERROR: Timeout after 10 minutes
20:56:26 ERROR: Error cloning remote repo 'origin'
{code}

*Build Log*
https://jenkins.hyperledger.org/view/fabric-chaincode-node/job/fabric-chaincode-node-merge-x86_64/73/console
",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz54n:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/18 10:47 PM;sambhavdutt;This issue has been fixed. Gerrit has been working from last saturday and the repositories are cloning in the usual way.;;;",,,,,,,,,,,,,,,,,,,,,
System Behave: Modify test case to use explicit steps,FAB-9391,29230,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,07/Apr/18 1:03 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,18/Apr/18 2:47 AM,,,,,,,fabric-quality,,,,0,,,,,"We need to add or modify one of the smoke tests to use the explicit steps in the behave framework instead of the ""setup"" or ""deploy"" steps that takes care of multiple fabric steps in 2 behave test steps. This will help to ensure that our test steps don't miss a fabric step during execution.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz54v:",,,,Unset,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"10/Apr/18 5:26 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/20245/;;;",,,,,,,,,,,,,,,,,,,,,
golinter.sh should take advantage of GOCACHE,FAB-9393,29232,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sheehan,sheehan,sheehan,07/Apr/18 3:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/Apr/18 2:41 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"Go vet can take advantage of the build cache as of Go 1.10. See [https://groups.google.com/forum/#!msg/golang-dev/qfa3mHN4ZPA/X2UzjNV1BAAJ]

 

The golinter.sh script should set $GOCACHE to .build/go-cache director, similar to the unit test script which was updated in FAB-9320.

 

By default, my Linux system will try to use the cache directory /.cache which fails as the non-root user does not have permission. The logging is less clear as to what is happening on my macOS system, but setting the $GOCACHE to the .build directory results in a 20 to 30 second speedup when running `make linter` so it also appears the cache is not being utilized when using the default cache directory.

 

Ideally, we'd should consider setting $GOCACHE in the make file, but I ran into issues trying to do that. I can see on my Linux system that the `go build` commands are also failing to take advantage of the default cache directory.",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz55b:",,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Chaincode containers should support running as non-root user,FAB-9394,29233,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,rhegde,rhegde,07/Apr/18 3:25 AM,25/Nov/22 6:56 PM,28/Oct/23 3:02 AM,13/Mar/19 3:58 AM,v1.0.6,,,v2.0.0,,,fabric-peer,,,,0,ipm,,,,"Fabric-Release 1.0.6

Hyperledger Fabric Peer Docker Image can be run as a non-root user. However the chaincode container created by non-root running peer container is with root privileges.

This is logged as a security finding:
{code:java}
Typically, the user ID of a process running within a Docker container is the same as if it were outside the container. Should one of these processes be able to break out of the container onto the host, it would be running as the root user and would have complete control over the host.{code}",,balu6914,mastersingh24,rhegde,sanchezl,silliman,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14101,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz55j:",,,,Unset,,,,,,Unset,,,,,,,,,,,balu6914,mastersingh24,rhegde,sanchezl,silliman,skarim,sykesm,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Apr/18 10:00 PM;mastersingh24;[~rhegde] - For v1.0.x release, there's not much we can do within the code itself as it would require changes too deep for a fix pack.  With v1.2 (next release) we can make some modifications to directly support this from the peer.

For v1.0.x, the best thing to do will be to create your own container for Go chaincode image and then set CORE_CHAINCODE_GOLANG_RUNTIME (or chaincode.golang.runtime in core.yaml) to that image.

 

[~sanchezl];;;","08/Jun/18 10:33 PM;kchristidis;[~mastersingh24], [~sanchezl]: What is the fate of this?;;;","03/Aug/18 11:56 PM;sanchezl;We will try to get this into v1.3, but it might not make it.;;;","08/Sep/18 2:08 AM;sykesm;[~sanchezl] I've made you the owner based on your comment from last month. If this is not something you're working on or the assignment is invalid in some other way, please unassign. Thanks.;;;","07/Feb/19 5:20 AM;sykesm;I believe all of the docker images currently published for fabric use root as the default user.

In addition to changing these images to add and use a non-root user as default, we'd also need to make some changes to the chaincode platforms in the peer as they currently use files to hold mutual auth key information and write those files with a mode of 0. Without that change, the files are not readable by a non-root user within the container.

For ccenv/build phase, the platforms create the input stream that are uploaded to the container image. The permissions that show up will be based on how those payloads have been created. In the case of golang chaincode, the platform only included files and forces the permission to be 0100644; different platforms will have different rules.

Given the above, there are a number of changes required.;;;","07/Feb/19 5:28 AM;sykesm;In the alpine based images, creating a user is pretty straightforward:

{code}
RUN addgroup chaincode && adduser -D -h /home/chaincode -G chaincode chaincode
{code}

In the ccenv and chaincode images, the {{USER chaincode}} command would be needed at the end of the build to ensure chaincode runs as that user when spawned by the peer.;;;","01/Mar/19 1:06 AM;skarim;https://gerrit.hyperledger.org/r/c/29551/;;;","25/Nov/22 6:56 PM;balu6914;Chaincode containers should support running as non-root user

Is this issue is resolved 2.x versions?

 ;;;",,,,,,,,,,,,,,
Glossary Update: Current State and World State,FAB-9395,29234,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,07/Apr/18 3:54 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 4:16 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"Current State

...'A distinct endorsement policy for *install and instantiate* transactions is also required.'...

 
Elli Androulaki
9:12 AM
I am not sure what install and instantiate a transaction means. If these refer to the corresponding chaincode, then i would say that there is no installation function invoked via a transaction through the ledger. Installation is a local operation.
 
Jason Yellick
10:05 AM
+1, though this is outside the scope of this CR, but install is a local operation and has no endorsement policy.

 

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz55r:",,,,,,,,,,,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Apr/18 3:26 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/20549/;;;",,,,,,,,,,,,,,,,,,,,,
Glossary Update: MSP,FAB-9396,29235,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,07/Apr/18 4:01 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"Membership Service Provider
---------------------------

The Membership Service Provider (MSP) refers to an abstract component of the
system that provides credentials to clients, and peers for them to participate

 
Elli Androulaki
9:12 AM
potential continuation of this phrase: ""and gives them the means to use them to authenticate themselves.""",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz55z:",,,,,,,,,,,,,,,,,,,,,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Glossary Update: System Chain,FAB-9397,29236,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,07/Apr/18 4:05 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"System Chain
------------

Contains a configuration block defining the network at a system level. The..

 
Elli Androulaki
9:12 AM
It does not only contain a configuration block, but a chain of configuration blocks. Some of them refer to the system configuration, but others signify the creation of a new channel.

 ",,pandrejko,sykesm,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz567:",,,,,,,,,,,,,,,,,,,,,pandrejko,sykesm,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jul/18 6:30 AM;yuki-kon;There are some inconsistent terms for this concept. “System Chain” is also called “System Channel” or “Orderer System Channel”. Which is the correct name? It would be great if the same term is used throughout the document.;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Updated Glossary: Transaction,FAB-9399,29238,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,07/Apr/18 4:09 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"Transaction
-----------

Invoke or instantiate results that are submitted for ordering, validation, and commit.

From Elli A.

Chaincode invocation or instantiation results?",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz56n:",,,,,,,,,,,,,,,,,,,,,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Fabric CouchDB image should use a better approach to run as non-root user,FAB-9400,29239,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rhegde,rhegde,07/Apr/18 4:23 AM,26/Mar/19 8:03 PM,28/Oct/23 3:02 AM,26/Mar/19 8:03 PM,v1.0.6,,,,,,fabric-ledger,,,,0,,,,,"Fabric Release - 1.0.6

Hyperledger Fabric provided Couch DB image is build in a way that it executes the ENTRYPOINT as root user and then it drops the privileges to username:groupname (couchdb:couchdb) to run CMD. couchdb:couchdb is created as part of the dockerfile and this maps (almost always) to an host UID:GID (1000:999).

Couch db process running inside the container are run as 1000:999 and this causes all its data persistence files to be created on the host mounted volume by that UID:GID identity. 
 Now - in our LDAP infrastructure, 1000:999 is already mapped to some user and hence this becomes a security issueo.

These are suggestion that can be explored -
 * By refactoring the couch db dockerfile so that it can seamlessly allow uses of `--user` option to be used during `docker run`. This is on the same line where hyperledger peer or orderer can be run using non-root user.

This was the security finding on this subject
{code:java}
Typically, the user ID of a process running within a Docker container is the same as if it were outside the container. Should one of these processes be able to break out of the container onto the host, it would be running as the root user and would have complete control over the host.{code}
 * Enhance the hyperledger fabric couch db image such that it supports accepting UID:GID as a docker environment variable. This will allow passing the preferred host UID:GID rather currently assigned 1000:999.
 There is similar patch added to apache maintained couchdb dockerfile for similar reason via [https://github.com/apache/couchdb-docker/issues/53]

 ",,mastersingh24,rhegde,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABB-95,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz56v:",,,,Unset,,,,,,Unset,,,,,,,,,,,mastersingh24,rhegde,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Aug/18 12:06 AM;sanchezl;We might be able to specify hard-coded UID:GID as part of FABB-1 in the v1.3.0 timeframe.;;;","26/Mar/19 8:03 PM;mastersingh24;This will not be fixed on the 1.0.x release line;;;",,,,,,,,,,,,,,,,,,,,
clean up current ACL resource names and doc,FAB-9401,29246,28718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,07/Apr/18 7:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 1:41 AM,,,,,,,fabric-tools,,,,0,,,,,"Resources currently in use
{code:java}

        #Lifecycle System Chaincode resource to policy mapping for access control
        LSCC.GETCCINFO: /Channel/Application/Readers
        LSCC.GETDEPSPEC: /Channel/Application/Readers
        LSCC.GETCCDATA: /Channel/Application/Readers

        #Query System Chaincode resource to policy mapping for access control
        QSCC.GetChainInfo: /Channel/Application/Readers
        QSCC.GetBlockByNumber: /Channel/Application/Readers
        QSCC.GetBlockByHash: /Channel/Application/Readers
        QSCC.GetTransactionByID: /Channel/Application/Readers
        QSCC.GetBlockByTxID: /Channel/Application/Readers

        #Configuration System Chaincode resource to policy mapping for access control
        CSCC.GetConfigBlock: /Channel/Application/Readers
        CSCC.GetConfigTree: /Channel/Application/Readers
        CSCC.SimulateConfigTreeUpdate: /Channel/Application/Writers

        #Proposal resource to policy mapping default for access control
        PROPOSAL: /Channel/Application/Writers

        #Chaincode-to-Chaincode invocation resource to policy mapping for access control
        CC2CC: /Channel/Application/Readers

        #Events resource to policy mapping for access control
        BLOCKEVENT: /Channel/Application/Readers
        FILTEREDBLOCKEVENT: /Channel/Application/Readers
{code}

As evident these are inconsistent and sometimes poorly named. We will clean this up and document.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz57j:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Replace usage of github.com/docker/docker/pkg/testutil/assert,FAB-9403,29255,29201,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,07/Apr/18 6:51 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/Apr/18 2:41 AM,,,,v1.2.0,,,,,,,0,,,,,"There are now three subdirectories in /fabric/vendor/[github.com/docker/docker/contrib/|http://github.com/docker/docker/contrib/] that contain LICENSE files with copies of the GPL-2.0. These directories don't contain any other code, so I'm not clear why the GPL licenses are being included, but these should be removed promptly if possible. 
 * Note that these appear to be present in the master branch (see [https://github.com/hyperledger/fabric/tree/master/vendor/github.com/docker/docker/contrib/selinux-fedora-24/docker-engine-selinux] for example) but not in the release-1.1 branch.

 

 

*github.com/docker/docker/pkg/testutil/assert* should be replaced with 

*github.com/stretchr/testify/assert* within the fabric src tree.",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz59b:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Apr/18 6:58 PM;mastersingh24;https://gerrit.hyperledger.org/r/20275;;;",,,,,,,,,,,,,,,,,,,,,
Port conflicts in core/peer tests,FAB-9404,29256,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,07/Apr/18 10:17 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,08/Apr/18 2:34 AM,,,,v1.2.0,,,fabric-peer,,,,0,ci-flake,,,,"12:56:18  unit-tests_1  | --- FAIL: TestCreateChainFromBlock (0.15s)
12:56:18  unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	peer_test.go:107
12:56:18  unit-tests_1  | 		
	Error:      	Received unexpected error:
12:56:18  unit-tests_1  | 		
	            	listen tcp :13611: bind: address already in use
12:56:18  unit-tests_1  | 		
	Test:       	TestCreateChainFromBlock
12:56:18  unit-tests_1  | removing dir = /tmp/peer-fs303180661/ledgersData
12:56:18  unit-tests_1  | 2018-04-07 12:56:14.732 UTC [ledgermgmt] initialize -> INFO 04f Initializing ledger mgmt
12:56:18  unit-tests_1  | 2018-04-07 12:56:14.732 UTC [kvledger] NewProvider -> INFO 050 Initializing ledger provider
12:56:18  unit-tests_1  | 2018-04-07 12:56:14.803 UTC [kvledger] NewProvider -> INFO 051 ledger provider Initialized
12:56:18  unit-tests_1  | 2018-04-07 12:56:14.803 UTC [ledgermgmt] initialize -> INFO 052 ledger mgmt initialized
12:56:18  unit-tests_1  | 2018-04-07 12:56:15.708 UTC [ledgermgmt] CreateLedger -> INFO 053 Creating ledger [testchain] with genesis block
12:56:18  unit-tests_1  | 2018-04-07 12:56:15.713 UTC [fsblkstorage] newBlockfileMgr -> INFO 054 Getting block information from block storage
12:56:18  unit-tests_1  | 2018-04-07 12:56:15.759 UTC [kvledger] CommitWithPvtData -> INFO 055 Channel [testchain]: Committed block [0] with 1 transaction(s)
12:56:18  unit-tests_1  | 2018-04-07 12:56:15.770 UTC [ledgermgmt] CreateLedger -> INFO 056 Created ledger [testchain] with genesis block
12:56:18  unit-tests_1  | 2018-04-07 12:56:17.786 UTC [ledgermgmt] CreateLedger -> INFO 057 Creating ledger [channel1] with genesis block
12:56:18  unit-tests_1  | 2018-04-07 12:56:17.791 UTC [fsblkstorage] newBlockfileMgr -> INFO 058 Getting block information from block storage
12:56:18  unit-tests_1  | 2018-04-07 12:56:17.810 UTC [kvledger] CommitWithPvtData -> INFO 059 Channel [channel1]: Committed block [0] with 1 transaction(s)
12:56:18  unit-tests_1  | 2018-04-07 12:56:17.816 UTC [ledgermgmt] CreateLedger -> INFO 05a Created ledger [channel1] with genesis block
12:56:18  unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference [recovered]
12:56:18  unit-tests_1  | 	panic: runtime error: invalid memory address or nil pointer dereference
12:56:18  unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x80 pc=0xf5c5fa]
12:56:18  unit-tests_1  | 
12:56:18  unit-tests_1  | goroutine 190 [running]:
12:56:18  unit-tests_1  | testing.tRunner.func1(0xc4229dac30)
12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:742 +0x29d
12:56:18  unit-tests_1  | panic(0x10e7a00, 0x1940050)
12:56:18  unit-tests_1  | 	/opt/go/src/runtime/panic.go:505 +0x229
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/gossip/service.(*gossipServiceImpl).updateAnchors(0x0, 0x12e00c0, 0xc423226540)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service.go:302 +0x3a
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/gossip/service.(*configEventer).ProcessConfigUpdate(0xc42327c200, 0x12e00c0, 0xc423226540)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/gossip/service/eventer.go:82 +0x47f
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.createChain.func1(0xc424c3d900)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:300 +0x176
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/common/resourcesconfig.(*BundleSource).Update(0xc423226510, 0xc424c3d900)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:43 +0x7c
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/common/resourcesconfig.NewBundleSource(0xc424c3d900, 0xc42327c320, 0x4, 0x4, 0xc42280ed00)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/common/resourcesconfig/bundlesource.go:35 +0x77
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.createChain(0xc420e14020, 0x8, 0x12e6dc0, 0xc422915400, 0xc42500c200, 0x0, 0x0)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:360 +0x548
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc42500c200, 0x20, 0xc420077d28)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:424 +0x141
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer.(*peerImpl).CreateChainFromBlock(0x1948160, 0xc42500c200, 0x1229292, 0x16)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer_impl.go:64 +0x3d
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func1(0x121d8a8, 0x8, 0xc42500c200)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:170 +0x2a5
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func2()
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:243 +0x46
12:56:18  unit-tests_1  | github.com/hyperledger/fabric/core/peer_test.TestUpdateRootsFromConfigBlock.func5(0xc4229dac30)
12:56:18  unit-tests_1  | 	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/pkg_test.go:312 +0x3c8
12:56:18  unit-tests_1  | testing.tRunner(0xc4229dac30, 0xc4201bacf0)
12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:777 +0xd0
12:56:18  unit-tests_1  | created by testing.(*T).Run
12:56:18  unit-tests_1  | 	/opt/go/src/testing/testing.go:824 +0x2e0
12:56:18  unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/peer	5.188s
",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz59j:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Apr/18 11:22 PM;mastersingh24;https://gerrit.hyperledger.org/r/20279;;;",,,,,,,,,,,,,,,,,,,,,
Allow org to discover its own peers with no channel,FAB-9405,29257,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,bstasyszyn,bstasyszyn,08/Apr/18 4:08 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,16/Apr/18 7:54 PM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"For administrative operations, such as install chaincode and join channel, no channel is yet available to perform a channel-specific discovery. By adding the ability to query for peers on an
empty channel, it makes it possible for an org to discover its own peers in order to perform such administrative operations and not requiring modification of config files.
",,bstasyszyn,C0rWin,ChristopherFerris,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8779,,,,,,,,,,"1|hzz59r:",,,,Unset,,,,,,Unset,,,,,,,,,,,bstasyszyn,C0rWin,ChristopherFerris,troyronda,yacovm,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Apr/18 4:15 AM;yacovm;Makes sense. I think only admins should be able to do non-channel operations on service discovery, and that the admin can specify in the membership query whether it only wants to know about peers in its own org or not. 

I also think that since this is the admin that is querying, the service discovery can return to it the private endpoints of the peers (not only the external ones) of its org - [~mastersingh24] , [~C0rWin] , does that make sense? 

[~bstasyszyn] - any other special requests? (what color, shape, etc.) ;;;","08/Apr/18 5:54 AM;C0rWin;{quote}
Makes sense. I think only admins should be able to do non-channel operations on service discovery, and that the admin can specify in the membership query whether it only wants to know about peers in its own org or not.
{quote}

Not sure, why this query should be restricted to admins only?

{quote}
I also think that since this is the admin that is querying, the service discovery can return to it the private endpoints of the peers (not only the external ones) of its org - Gari Singh , Artem Barger , does that make sense? 
{quote}

IMO, we can differ whenever it's admin or not and return public/private endpoints based on result.;;;","08/Apr/18 7:42 AM;yacovm; 
{quote}Not sure, why this query should be restricted to admins only?
{quote}
Because I can't think of a use case where an organization user would want to know the peers of its org, unless he/she wants to do something with them in an administrative context, other than having a monitoring application for your org, but - i don't think that's a good enough reason not to just use an admin certificate in the monitoring app.

 

I think I can just make it configurable locally in the core.yaml, and put it as admin only by default, and the org can decide to override it to let also non-admin users to query.

How does that sound?;;;","15/Apr/18 10:17 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/20445/;;;",,,,,,,,,,,,,,,,,,
Typo in byfn.sh,FAB-9406,29258,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,foolcage,foolcage,foolcage,08/Apr/18 6:37 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/May/18 7:40 AM,,,,v1.1.1,v1.2.0,,fabric-samples,,,,0,,,,,"I found ""depete"" in first-network/byfn.sh.

Maybe it should be ""delete"".",,foolcage,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz59z:",,,,,,,,,,,,,,,,,,,,,foolcage,mastersingh24,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Apr/18 7:10 PM;foolcage;https://gerrit.hyperledger.org/r/20301;;;","12/Apr/18 1:44 AM;mastersingh24;[https://gerrit.hyperledger.org/r/20447]   - cherry pick to 1.1;;;",,,,,,,,,,,,,,,,,,,,
Fabric Peer does not return RW Set as part of Block Event Transaction (Event Hub),FAB-9408,29260,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rhegde,rhegde,08/Apr/18 10:54 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 7:54 AM,,,,WON'T FIX,,,,,,,0,,,,,"It is found HFC using Java Fabric SDK API always returns Zero Write Set Records found for the received Block Event Transaction from Committing Peer even though there exist write-set for that committed and valid ledger transaction.

 

Below is the method written using Fabric SDK API but *kvRWSet.getWritesCount()* always returns *0* irrespective*,* even though chain-code has some write set*.*

 
{code:java}
private boolean checkIfWriteSetExistInTransaction(TransactionActionInfo transactionActionInfo) throws InvalidProtocolBufferException
{
  	boolean ifWriteSetExist = true; 
	TxReadWriteSetInfo readWriteSetInfo = transactionActionInfo.getTxReadWriteSet(); 
 
	Iterable<NsRwsetInfo> itrRWSetInfo = readWriteSetInfo.getNsRwsetInfos();
 	for (NsRwsetInfo nsRwsetInfo : itrRWSetInfo) {
  		KvRwset.KVRWSet kvRWSet = nsRwsetInfo.getRwset();
  		if(kvRWSet.getWritesCount()==0) {
   			ifWriteSetExist=false;
   			logger.error(""There is no WriteSet Available for chancode,Skipping Post processing ""); 
  		} 
 	}
 	return ifWriteSetExist;
}
{code}
 

After discussion with [~rickr] and his comments
{code:java}
Are you getting this block via the EventHub ? That does not include the rw/set in the block. If you have a block that's from the EventHub you would need to query the block by it's block number and then parse that block for the rw/set. {code}",,rhegde,sanchezl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5af:",,,,,,,,,,,,,,,,,,,,,rhegde,sanchezl,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/18 3:09 AM;sanchezl;EventHub will never be able to return the R/W set (as designed).

In 1.1 you can use the new Deliver API to retrieve the R/W set.;;;",,,,,,,,,,,,,,,,,,,,,
add defaults to configtx.yaml,FAB-9409,29261,28718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,09/Apr/18 12:48 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 1:42 AM,,,,,,,fabric-tools,,,,0,,,,,add defaults to configtx.yaml and make sure configtxgen accepts it. It does not get used yet.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5an:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Apr/18 12:53 AM;muralisr;https://gerrit.hyperledger.org/r/#/c/20225/;;;",,,,,,,,,,,,,,,,,,,,,
update packer image with cello and 0.4.7 baseimages,FAB-9413,29265,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Apr/18 5:09 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/Apr/18 12:57 AM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,update packer image with cello and 0.4.7 baseimages,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxokv:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/18 12:57 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20317/;;;",,,,,,,,,,,,,,,,,,,,,
Typo in README.md,FAB-9414,29266,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jdparkinson93,nerogit,nerogit,09/Apr/18 6:53 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,17/Apr/18 1:02 AM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"On [here|[https://github.com/hyperledger/fabric/blob/release-1.1/README.md#documentation-getting-started-and-developer-guides],]

'release branch (typically the latest patch for the current release)' has a typo. That page does not exist. [http://hyperledger-fabric.readthedocs.io/en/release/].",,nerogit,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10705,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5bj:",,,,Unset,,,,,,Unset,,,,,,,,,,,nerogit,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
CouchDB improvements have been reverted,FAB-9415,29267,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,chris.elder,denyeart,denyeart,09/Apr/18 7:04 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 3:16 AM,v1.1.0,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"When CouchDB image was moved from fabric to baseimage, it looks the couchdb image files were copied from fabric release (1.0) branch, rather than from fabric master (1.1 development) branch.  Several improvements to the couchdb images that were made early in 1.1 development were therefore wiped out.

We need to re-apply the improvements that were wiped out (in the areas of compaction, local.ini location, id/pw).

Need to diff the file content that was removed:

[https://gerrit.hyperledger.org/r/#/c/15861/]

with the current files in baseimage:

[https://github.com/hyperledger/fabric-baseimage/tree/master/images/couchdb]

 

And our improvements were further reverted when moving to the couchdb official image in: FAB-8021  [https://gerrit.hyperledger.org/r/#/c/17433/]

 ",,denyeart,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu2n:",,,,,,Next Items- Ledger,,,,,,,,,,,,,,,denyeart,ericmvaughn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/May/18 11:48 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/21459/;;;",,,,,,,,,,,,,,,,,,,,,
Change Jenkins HTML reports directory of fabric-chaicode-java Jenkins build,FAB-9417,29269,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,C0rWin,C0rWin,09/Apr/18 8:12 AM,28/Jul/18 2:41 AM,28/Oct/23 3:02 AM,09/Apr/18 4:51 PM,,,,v1.3.0,,,fabric-ci,,,,0,,,,,"Currently Jenkins build for {{fabric-chaincode-java}} configured to read JoCoCo report files from {{$WORKSPACE/shim/build/reports/tests/test}}, while since recent change the new path should be {{$WORKSPACE/fabric-chaincode-shim/build/reports/tests/test}}.

There is a need to updated Jenkins job properties for new path to stop it from failing.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FABCJ-7,,,,,,,,,,"1|hzz5bz:",,,,Unset,,,,,,Unset,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code Coverage builds are failing in master with FAB-9363 change,FAB-9419,29271,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Apr/18 10:15 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,16/Apr/18 12:23 AM,,,,v1.2.0,,,fabric-build,,,,0,ci-failure,,,,"After the merge of FAB-9363, observed code coverage builds are failing in master branch. See the below Jenkins build log.
{code:java}
[chaincode-platform] func1 -> ERRO 391 Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:x86_64-latest: API error (404): {""message"":""manifest for hyperledger/fabric-ccenv:x86_64-latest not found""}
{code}
 

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/15/console.log.gz",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzxokn:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Apr/18 10:45 PM;sambhavdutt;Code Coverage is still failing in master branch due to the following error


{code:java}
00:08:27 unit-tests_1  | 2018-04-10 00:08:20.175 UTC [chaincode-platform] func1 -> ERRO 391 Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:x86_64-latest: API error (404): {""message"":""manifest for hyperledger/fabric-ccenv:x86_64-latest not found""}
00:08:27 unit-tests_1  | 2018-04-10 00:08:20.175 UTC [dockercontroller] deployImage -> ERRO 392 Error building images: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:x86_64-latest: API error (404): {""message"":""manifest for hyperledger/fabric-ccenv:x86_64-latest not found""}
{code}

*Build Log*
https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/17/consoleFull
;;;","16/Apr/18 12:24 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20547/;;;","16/Apr/18 12:24 AM;rameshthoomu;Added `make ccenv` make target in unit-test code coverage master build;;;",,,,,,,,,,,,,,,,,,,
update CI scripts for fabric-sdk-node,FAB-9422,29275,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,zhaochy,zhaochy,zhaochy,09/Apr/18 5:54 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/Apr/18 6:04 PM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,"FAB-9363 removed the ccenv from peer build, so the ci scripts for fabric-sdk-node didn't build the ccenv image.

need update the ci script to use ""make ccenv"" build the ccenv images before running fabric-sdk-node tests",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5cv:",,,,,,,,,,,,,,,,,,,,,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/18 5:57 PM;zhaochy;https://gerrit.hyperledger.org/r/20331;;;",,,,,,,,,,,,,,,,,,,,,
Need to be clear about consortium,FAB-9425,29280,29207,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,09/Apr/18 9:17 PM,14/Jan/20 12:29 AM,28/Oct/23 3:02 AM,14/Jan/20 12:29 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"From J. Yellick

An orderer org may be part of the consortium, but as a best practices, I would suggest that they should not. Even if the same organization is running both ordering and transacting in the consortium, I would suggest it as best practice that they use different MSPs for each so that the default block validation policies and channel reader policies etc. work as expected for clients acting in a non-orderer role.",,odowdaibm,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16978,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5dj:",,,,,,,,,,,,,,,,,,,,,odowdaibm,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Apr/18 9:21 PM;pandrejko;[~SjirNijssen] [~odowdaibm]  Jason Yellick requested we include this information when we discuss consortium and asked me to open a JIRA for it.  I made this a sub-task of our FAB-9388 so it gets done as part of that effort.;;;","09/Apr/18 10:01 PM;odowdaibm;Thanks Pam.  I'm just trying to make sre that we capture this the right way – should this comment its own FAB or on FAB-9388?  Either way, I'm fine, just want to work the right way. Ty, Anthony.;;;","09/Apr/18 10:13 PM;pandrejko;[~odowdaibm] I had the same thought, but ultimately decided to create it's own JIRA since Jason requested it and we could easily track it's completion that way. If you prefer to add the comment to FAB-9338 and close this out I defer to your judgement.  Either way is fine with me.

 ;;;","14/Jan/20 12:29 AM;pandrejko;This one has been address in the updated MSP Key Concepts topic. 

Every organization participating in a channel must have an MSP defined for it**. In fact, it is recommended that there is a one-to-one mapping between organizations and MSPs.

and


Finally, OUs could be used by different organizations in a consortium to distinguish each other. But in such cases, the different organizations have to use the same Root CAs and Intermediate CAs for their chain of trust, and assign the OU field to identify members of each organization. When every organization has the same CA or chain of trust, this makes the system more centralized than what might be desirable and therefore deserves careful consideration on a blockchain network.;;;",,,,,,,,,,,,,,,,,,
Fix license issues so we can enable make basic-checks target in CI,FAB-9426,29281,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sheehan,sheehan,sheehan,10/Apr/18 12:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Apr/18 10:47 PM,,,,v1.2.0,,,,,,,0,,,,,"There are several missing license headers causing 'make-licesne' to fail. Fix these so we can enable the license check in CI

 

The following files are missing SPDX-License-Identifier headers:

ci.properties

common/ledger/blockledger/json/impl_test.go

core/cclifecycle/mocks/enumerate.go

core/cclifecycle/mocks/listener.go

core/cclifecycle/mocks/query.go

core/chaincode/platforms/car/platform.go

core/chaincode/platforms/golang/platform.go

core/chaincode/platforms/java/platform.go

core/chaincode/shim/shim_test.go

core/common/ccprovider/ccinfocache_test.go

core/common/ccprovider/cdspackage.go

core/common/ccprovider/sigcdspackage.go

core/container/controller.go

core/container/controller_test.go

core/container/dockercontroller/dockercontroller.go

discovery/support/mocks/configtxvalidator.go

docs/Makefile

docs/source/diagrams/diagrams.pptx

orderer/common/localconfig/config_test.go

test/chaincodes/AuctionApp/image_proc_api.go

test/chaincodes/AuctionApp/table_api.go

 

Please replace the Apache license header comment text with:

SPDX-License-Identifier: Apache-2.0",,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9427,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5dr:",,,,,,,,,,,,,,,,,,,,,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/18 10:47 PM;sheehan;Passing in master so it should be possible to turn on in CI now. check_License.sh only checks the last two commits.;;;",,,,,,,,,,,,,,,,,,,,,
Enable license check in CI process,FAB-9427,29282,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sheehan,sheehan,10/Apr/18 12:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/Apr/18 12:30 AM,,,,v1.2.0,,,fabric-build,fabric-ci,,,0,,,,,"The CI process needs to run the license check so users stops checking in files that do not pass check_license.sh

 

Ideally, the CI process should run `make basic-checks`",,rameshthoomu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,FAB-9426,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5dz:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 12:30 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20443/4/jjb/fabric/fabric-build-script.sh;;;",,,,,,,,,,,,,,,,,,,,,
"Pull the last published images & binaries in Nexus for some CI jobs, rather than building them everytime.",FAB-9430,29285,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,10/Apr/18 12:41 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 9:39 AM,,,,v1.2.0,,,fabric-ci,,,,0,,,,,"The CI tests for build the fabric and fabric-ca images and the binaries for every build. The recent docker images for fabric, fabric-ca and the binaries are already published to Nexus. Getting the recently published images from Nexus instead of building them every time would be quicker than building them.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5e7:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 9:39 AM;sambhavdutt;The patch has been Merged for this change 
https://gerrit.hyperledger.org/r/#/c/20923/;;;",,,,,,,,,,,,,,,,,,,,,
Move Vagrant documentation to its own page,FAB-9436,29291,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sheehan,sheehan,sheehan,10/Apr/18 12:45 AM,30/Jul/19 11:01 AM,28/Oct/23 3:02 AM,30/Jul/19 11:00 AM,,,,Future,,,fabric-docs,,,,0,,,,,"The ""Setting up the development environment"" doc [https://hyperledger-fabric.readthedocs.io/en/master/dev-setup/devenv.html] currently contains two options for development. Native Docker or Vagrant.

 

The way the two are mixed together has been confusing for new Fabric devs. The docs also make it sound like the Vagrant path is deprecated, should not be used, and will removed in the near future. A conversation on the mailing list reveals that some are still using Vagrant and wish to support it going forward.

 

[https://lists.hyperledger.org/pipermail/hyperledger-fabric/2018-March/003210.html]

[https://lists.hyperledger.org/pipermail/hyperledger-fabric/2018-April/003300.html]

 

I suggested we that we move the Vagrant instructions into their own page to reduce confusion. The ""Setting up the development environment"" page will link to this page with a brief note indicating that Vagrant is not the primary path. We do not need a paragraph of history explaining the switch. That can live on the dedicated Vagrant page if we wish to keep it.

 

I will volunteer to make this update to the docs, but I cannot volunteer to maintain this doc page or Vagrant as I don't personally use Vagrant for Fabric dev. Someone else will have to take on that duty. If the Vagrant doc or script become stale, it could be removed in the future.",,pandrejko,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5ef:",,,,,,,,,,,,,,,,,,,,,pandrejko,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/18 6:48 AM;pandrejko;[~denyeart] - Not sure if you've seen this. It is related to FAB-6897;;;",,,,,,,,,,,,,,,,,,,,,
"error doing ""make protos""",FAB-9438,29293,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,muralisr,muralisr,10/Apr/18 2:08 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/Apr/18 5:20 PM,,,,,,,fabric-tools,,,,0,,,,,"doing make protos on latest master on Ubuntu errors out


{code:java}
make protos
Building docker buildenv-image
docker build  -t hyperledger/fabric-buildenv .build/image/buildenv
Sending build context to Docker daemon  26.04MB
Step 1/4 : FROM hyperledger/fabric-baseimage:x86_64-0.4.7
 ---> 390ac2e95bc7
Step 2/4 : COPY payload/protoc-gen-go /usr/local/bin/
 ---> Using cache
 ---> 05e6b4b39ef8
Step 3/4 : ADD payload/gotools.tar.bz2 /usr/local/bin/
 ---> Using cache
 ---> 65d10e6c354e
Step 4/4 : LABEL org.hyperledger.fabric.version=1.2.0-snapshot-9853d8e8       org.hyperledger.fabric.base.version=0.4.7
 ---> Using cache
 ---> d0fb28cc3256
Successfully built d0fb28cc3256
Successfully tagged hyperledger/fabric-buildenv:latest
docker tag hyperledger/fabric-buildenv hyperledger/fabric-buildenv:x86_64-1.2.0-snapshot-9853d8e8
docker tag hyperledger/fabric-buildenv hyperledger/fabric-buildenv:x86_64-latest
++ find . -name .protoroot -exec readlink -f '{}' ';'
+ PROTO_ROOT_FILES=/opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot
+ PROTO_ROOT_DIRS=/opt/gopath/src/github.com/hyperledger/fabric/protos
+++ for dir in '$PROTO_ROOT_DIRS'
+++ echo '-path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o '
++ find /opt/gopath/src/github.com/hyperledger/fabric -path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/vendor -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/build -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/java -prune -o -name '*.proto' -exec readlink -f '{}' ';'
+ ROOTLESS_PROTO_FILES='/opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb/source_cache.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto
/opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos/sample.proto'
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb/source_cache.proto /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto /opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos/sample.proto
++ sort
++ uniq
+ ROOTLESS_PROTO_DIRS='/opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb
/opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc'
+ for dir in '$ROOTLESS_PROTO_DIRS' '$PROTO_ROOT_DIRS'
+ echo Working on dir /opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb
Working on dir /opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb
++ find /opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb -name '*.proto' -exec dirname '{}' ';'
++ sort
++ uniq
+ for protos in '$(find ""$dir"" -name '\''*.proto'\'' -exec dirname {} \; | sort | uniq)'
+ protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb --go_out=plugins=grpc:/opt/gopath/src /opt/gopath/src/github.com/hyperledger/fabric/.build/docker/gotools/obj/src/github.com/golang/dep/gps/internal/pb/source_cache.proto
/opt/gopath/src/source_cache.pb.go: Permission deniedMakefile:404: recipe for target 'protos' failed
make: *** [protos] Error 1
{code}

",,jyellick,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5en:",,,,,,,,,,,,,,,,,,,,,jyellick,muralisr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Apr/18 2:09 AM;jyellick;In review via:  https://gerrit.hyperledger.org/r/20343;;;",,,,,,,,,,,,,,,,,,,,,
Update DOCs readme to edit Setup Steps ,FAB-9439,29295,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pandrejko,pandrejko,10/Apr/18 3:50 AM,11/Jan/20 7:39 AM,28/Oct/23 3:02 AM,11/Jan/20 7:39 AM,,,,,,,fabric-docs,,,,0,,,,,"[~rameshthoomu] Can you confirm this is correct?

[https://github.com/hyperledger/fabric/tree/master/docs/README.md]

 

1. Remove the setup steps which refer to creating our own staging repo as this is no longer recommended.

 

There are two possible setups you can use to do so: setting up your own staging repo and publication website, or building the docs on your machine. The following sections cover both options:
h3. [|https://github.com/hyperledger/fabric/tree/master/docs#setting-up-your-own-staging-repo-and-publication-website]Setting up your own staging repo and publication website

You can easily build your own staging repo following these steps:
 # Fork [fabric on github|https://github.com/hyperledger/fabric]
 # From your fork, go to {{settings}} in the upper right portion of the screen,
 # click {{Integration & services}},
 # click {{Add service}} dropdown,
 # and scroll down to ReadTheDocs.
 # Next, go to [http://readthedocs.org|http://readthedocs.org/] and sign up for an account. One of the first prompts will offer to link to github. Elect this then,
 # click import a project,
 # navigate through the options to your fork (e.g. yourgithubid/fabric),
 # it will ask for a name for this project. Choose something intuitive. Your name will preface the URL and you may want to append {{-fabric}} to ensure that you can distinguish between this and other docs that you need to create for other projects. So for example: {{yourgithubid-fabric.readthedocs.io/en/latest}}

Now anytime you modify or add documentation content to your fork, this URL will automatically get updated with your changes!

 

 

2.In order to get the following command to work on our macs:

{{sudo pip install Sphinx}}

Both joe and I had to first run:

sudo pip install six --ignore-installed six
sudo pip install pyparsing --ignore-installed pyparsing

 

Do we need to mention this in the instructions?

Do we need to mention that you might have to upgrade your version of pip for these commands to run?

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5f3:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/20 7:39 AM;pandrejko;Closing as this issue is supserseded by the new process. ;;;",,,,,,,,,,,,,,,,,,,,,
create a Dokerfile to publish PTE client docker image ,FAB-9440,29296,28759,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,10/Apr/18 4:15 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:28 AM,,,,v1.2.0,,,fabric-build,,,,0,fabric-test,quality,,,,,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5fb:",,,,,,,,,,,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/Apr/18 4:31 AM;Ratnakar;https://gerrit.hyperledger.org/r/#/c/20349/;;;",,,,,,,,,,,,,,,,,,,,,
Behave feature tests failing in fabric-smoke-test-daily.,FAB-9441,29297,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,sambhavdutt,sambhavdutt,10/Apr/18 5:34 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,16/Apr/18 11:15 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"Observed the following error in fabric-smoke-test-daily,


{code:java}
00:09:39.845 ========== Behave feature and system tests...
00:09:40.751 ParserError: Failed to parse ""/w/workspace/fabric-smoke-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/orderer.feature"": Malformed table at line 112 
{code}
",,latitiah,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5fj:",,,,,,,,,,,,,,,,,,,,,latitiah,sambhavdutt,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"10/Apr/18 5:46 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/20353/;;;","16/Apr/18 11:22 PM;sambhavdutt;The Behave feature and system tests are & have been passing.;;;",,,,,,,,,,,,,,,,,,,,
Enhance state listener,FAB-9442,29298,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/Apr/18 12:13 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 11:59 PM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Enhance state listener mechanism to allow
 * Multiple state listeners for a single namespace
 * A single listener instance for multiple namespaces
 * A callback to the listeners upon the commit of the state so that the listener has a choice if it wants to hold the processing of the updates till the state changes are committed",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5fr:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Enhance expression power of the client implementation,FAB-9443,29299,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Apr/18 5:24 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 3:48 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The golang reference implementation should have more expression power in how it selects endorsers for a chaincode:

It should:
* Prefer peers with higher ledger heights over peers with lower ledger heights
* Be able to be given a list of peers to be excluded when selecting the endorsers. This is useful for the SDK to skip peers that are not responsive. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5fz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add visual vocabulary to glossary,FAB-9444,29301,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,10/Apr/18 11:43 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Jun/18 9:46 PM,,,,v1.3.0,,,fabric-docs,,,,0,,,,,"We have excellent diagrams that have been created to help illustrate conceptual information in the Key Concepts section of the Fabric documentation.

Going forward, we can add key symbols from these diagrams to the glossary to aid in visual consumption of terms as they appear throughout the documentation.

Items in the glossary tend to cover Blockchain processes and structures. Processes are less adaptable to icons such as we are proposing here, but structural elements (e.g. ledger)  fit very nicely and to some extent relationship elements (e.g. channel) do as well.

We are not actually inventing new icons in the glossary - we are using icons from existing merged diagrams, to unify the concepts.

Anthony has proposed a simple pattern to develop this out going forward:

1) In a new glossary folder, edit the .ppt and and the new symbol, in a small and large size.

2) Copy that image to a .png file named in the format glossary.[icon_name].png

3) Include the image in the /glossary/glossary.rst file. It appears to the right of the text and can be sized small (50%) or large (100%) depending on the detail level inside the image.

 

Latest Documentation HERE: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/77/html/glossary/glossary.html

 

 

 ",,joe-alewine,odowdaibm,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5g7:",,,,,,,,,,,,,,,,,,,,,joe-alewine,odowdaibm,pandrejko,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Apr/18 11:45 PM;pandrejko;[~joe-alewine] [~odowdaibm]  FYI -;;;","10/Apr/18 11:57 PM;odowdaibm;Thanks for doing this Pam. Based on our discussion today with [~joe-alewine], I've pushed the initial patchset here as a starting point: [https://gerrit.hyperledger.org/r/c/20377/]

 

The initial documentation is built at the reference in the description.  I'll update once it's built the first time.;;;","22/Jun/18 4:32 AM;pandrejko;I created a new CR which does not contain the glossary.rst. but creates the glossary folder and adds the image .png files and source powerpoint file.;;;",,,,,,,,,,,,,,,,,,,
Add multiple endorsements in peer CLI via string array pflags,FAB-9446,29303,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,11/Apr/18 12:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Apr/18 6:25 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The peer CLI needs to be enhanced to allow collecting multiple endorsements during chaincode invocation. 

This is the quick and dirty approach. It defines a new set of flags to specify an array of peer addressess and TLS root certs in order to obtain the necessary endorsements.
 * Example CLI call:
 ** 
{code:java}
peer chaincode invoke -o orderer.example.com:7050 --tls --cafile $ORDERER_CA -C $CHANNEL_NAME -n mycc --peerAddresses peer0.org1.example.com:7051 --tlsRootCerts  /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses peer0.org2.example.com:7051 --tlsRootCerts /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' >&log.txt{code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5gn:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Apr/18 12:49 AM;wlahti;https://gerrit.hyperledger.org/r/c/20379/;;;",,,,,,,,,,,,,,,,,,,,,
Fabric protos have drifted,FAB-9448,29305,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,11/Apr/18 12:47 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/Apr/18 11:37 PM,,,,,,,fabric-peer,,,,0,,,,,The fabric protos have drifted out of sync with the proto version.  Running `make protos` against master produces changes in the proto files.  This will make reviewing CRs which modify protos more difficult.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5gv:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Whitespace checking should not be done against vendored code,FAB-9451,29308,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sykesm,sykesm,11/Apr/18 4:03 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/Apr/18 12:29 AM,,,,,,,fabric-build,,,,0,,,,,"Example: [https://jenkins.hyperledger.org/job/fabric-verify-build-checks-x86_64/316/console]

Vendored code should (ideally) be pristine source managed entirely by our vendoring tool (dep). Linting and white space checking of these assets should not be performed.",,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9102,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5hb:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/18 4:04 AM;sykesm;[~rameshthoomu] - not sure if this is something in your wheelhouse...;;;","11/Apr/18 4:13 AM;rameshthoomu;Working on this;;;","16/Apr/18 12:29 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20443/;;;",,,,,,,,,,,,,,,,,,,
Enhance chaincode lifecycle event listener,FAB-9452,29309,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,11/Apr/18 4:22 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,15/Apr/18 12:00 AM,,,,v1.2.0,,,fabric-ledger,fabric-peer,,,0,,,,,"In the current implementation, the chaincode life-cycle related events are synchronized and when a condition 'installed AND deployed' becomes true for a tuple <channel, chaincode>, the event is passed on to the handlers that want to do some processing for the tuple <channel, chaincode>.

Two such handlers currently in use are - 1) handler for creating indices for couchdb and 2) handler for updating the service discovery metadata.

However, they differ in the need slightly. The first handler in the list above, prefers to receive the events before the state is committed because otherwise, there may be a peer crash immediately after commit (before handler gets invoked) and this will not give the handler a chance to create the indices. On the other hand, the second handler in the above list, wants to receive the events when the state is committed so that the information is published in discovery only after the commit.

 

In order to accommodate both the above cases, enhance the chaincode event listener such the listener receives a call back after the commit (for deploy trans) or install (cc install).",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5hj:",,,,Unset,,,,,,Unset,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Test/compilation failures in bccsp/factory when nopkcs11 tag is used,FAB-9453,29310,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,11/Apr/18 4:35 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 7:31 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,"{code:java}
$ go test -tags nopkcs11 ./bccsp/... -count=1
# github.com/hyperledger/fabric/bccsp/factory
bccsp/factory/pkcs11_test.go:35:9: undefined: setFactories
bccsp/factory/pkcs11_test.go:38:8: undefined: setFactories
bccsp/factory/pkcs11_test.go:43:9: undefined: setFactories
bccsp/factory/pkcs11_test.go:50:8: undefined: setFactories
bccsp/factory/pkcs11_test.go:52:13: unknown field 'Pkcs11Opts' in struct literal of type FactoryOpts
bccsp/factory/pkcs11_test.go:69:13: unknown field 'Pkcs11Opts' in struct literal of type FactoryOpts
bccsp/factory/pkcs11factory_test.go:27:8: undefined: PKCS11Factory
bccsp/factory/pkcs11factory_test.go:28:28: undefined: PKCS11BasedFactoryName
bccsp/factory/pkcs11factory_test.go:32:8: undefined: PKCS11Factory
bccsp/factory/pkcs11factory_test.go:41:13: unknown field 'Pkcs11Opts' in struct literal of type FactoryOpts
bccsp/factory/pkcs11factory_test.go:41:13: too many errors
ok  github.com/hyperledger/fabric/bccsp	0.020s
FAIL	github.com/hyperledger/fabric/bccsp/factory [build failed]{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz26n:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Apr/18 5:34 AM;sykesm;https://gerrit.hyperledger.org/r/20409;;;",,,,,,,,,,,,,,,,,,,,,
Empty package exclusion list from unit-tests/run.sh script,FAB-9454,29312,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,11/Apr/18 5:47 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Apr/18 10:42 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,We no longer need to exclude any packages.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz27b:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Apr/18 5:56 AM;sykesm;https://gerrit.hyperledger.org/r/20413;;;",,,,,,,,,,,,,,,,,,,,,
Change make targets in CI jobs for release branches.,FAB-9455,29313,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,11/Apr/18 6:20 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,12/Apr/18 11:37 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,Currently the master branch in fabric has different make target for thirdparty images compared with release branches. This change is to modify the scripts to pull the thirdparty images for any branch.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5hr:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Apr/18 11:38 PM;sambhavdutt;The new make targets for the release branches has been updated.;;;",,,,,,,,,,,,,,,,,,,,,
Change the target for making fabric-ca docker image,FAB-9456,29314,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,11/Apr/18 7:47 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,24/Apr/18 8:04 AM,,,,v1.1.1,,,fabric-quality,,,,0,,,,,"To make docker images, fabric-test uses ""make docker"" in fabric-ca. But, it makes fabric-ca, fabric-ca-orderer, fabric-ca-peer, and fabric-ca-tools docker image.
I think it is better to change a target to docker-fabric-ca in ""make docker-images"" for reducing test time. This target only makes fabric-ca docker image.
 
{code:java}
vagrant@ubuntu-xenial:/opt/gopath/src/github.com/hyperledger/fabric-test$ docker images
REPOSITORY                      TAG                             IMAGE ID            CREATED             SIZE
hyperledger/fabric-ca-fvt       latest                          fff85beefde8        28 seconds ago      2.13GB
hyperledger/fabric-ca-fvt       x86_64-1.2.0-snapshot-06a411f   fff85beefde8        28 seconds ago      2.13GB
hyperledger/fabric-ca-tools     latest                          2f4b5c5bc95f        2 minutes ago       1.55GB
hyperledger/fabric-ca-tools     x86_64-1.2.0-snapshot-06a411f   2f4b5c5bc95f        2 minutes ago       1.55GB
hyperledger/fabric-ca-peer      latest                          4d339a9c0684        3 minutes ago       278MB
hyperledger/fabric-ca-peer      x86_64-1.2.0-snapshot-06a411f   4d339a9c0684        3 minutes ago       278MB
hyperledger/fabric-ca-orderer   latest                          940c4d1828ed        3 minutes ago       272MB
hyperledger/fabric-ca-orderer   x86_64-1.2.0-snapshot-06a411f   940c4d1828ed        3 minutes ago       272MB
hyperledger/fabric-ca           latest                          cbf0c1eb861c        3 minutes ago       299MB
hyperledger/fabric-ca           x86_64-1.2.0-snapshot-06a411f   cbf0c1eb861c        3 minutes ago       299MB
hyperledger/fabric-tools        latest                          13536a20f50a        9 minutes ago       1.48GB
hyperledger/fabric-tools        x86_64-1.2.0-snapshot-968d12b   13536a20f50a        9 minutes ago       1.48GB
hyperledger/fabric-tools        x86_64-latest                   13536a20f50a        9 minutes ago       1.48GB
<none>                          <none>                          f7c60f72b2ba        9 minutes ago       1.66GB
hyperledger/fabric-testenv      latest                          e49faba66f23        10 minutes ago      1.57GB
hyperledger/fabric-testenv      x86_64-1.2.0-snapshot-968d12b   e49faba66f23        10 minutes ago      1.57GB
hyperledger/fabric-testenv      x86_64-latest                   e49faba66f23        10 minutes ago      1.57GB
hyperledger/fabric-buildenv     latest                          2e5ae9a22cb3        10 minutes ago      1.49GB
hyperledger/fabric-buildenv     x86_64-1.2.0-snapshot-968d12b   2e5ae9a22cb3        10 minutes ago      1.49GB
hyperledger/fabric-buildenv     x86_64-latest                   2e5ae9a22cb3        10 minutes ago      1.49GB
hyperledger/fabric-ccenv        latest                          cf2e290ccdb0        11 minutes ago      1.44GB
hyperledger/fabric-ccenv        x86_64-1.2.0-snapshot-968d12b   cf2e290ccdb0        11 minutes ago      1.44GB
hyperledger/fabric-ccenv        x86_64-latest                   cf2e290ccdb0        11 minutes ago      1.44GB
hyperledger/fabric-orderer      latest                          717adbca7010        12 minutes ago      171MB
hyperledger/fabric-orderer      x86_64-1.2.0-snapshot-968d12b   717adbca7010        12 minutes ago      171MB
hyperledger/fabric-orderer      x86_64-latest                   717adbca7010        12 minutes ago      171MB
hyperledger/fabric-peer         latest                          4cba91debd8c        12 minutes ago      175MB
hyperledger/fabric-peer         x86_64-1.2.0-snapshot-968d12b   4cba91debd8c        12 minutes ago      175MB
hyperledger/fabric-peer         x86_64-latest                   4cba91debd8c        12 minutes ago      175MB
hyperledger/fabric-baseimage    x86_64-0.4.7                    390ac2e95bc7        2 weeks ago         1.41GB
hyperledger/fabric-zookeeper    latest                          1ce465be7112        2 weeks ago         1.39GB
hyperledger/fabric-zookeeper    x86_64-0.4.7                    1ce465be7112        2 weeks ago         1.39GB
hyperledger/fabric-kafka        latest                          4fed436fc0a0        2 weeks ago         1.4GB
hyperledger/fabric-kafka        x86_64-0.4.7                    4fed436fc0a0        2 weeks ago         1.4GB
hyperledger/fabric-couchdb      latest                          35228d48a25a        2 weeks ago         1.56GB
hyperledger/fabric-couchdb      x86_64-0.4.7                    35228d48a25a        2 weeks ago         1.56GB
hyperledger/fabric-baseos       x86_64-0.4.7                    c0e784934c4e        2 weeks ago         152MB
hyperledger/fabric-tools        x86_64-1.1.0                    b7bfddf508bc        3 weeks ago         1.46GB
hyperledger/fabric-orderer      x86_64-1.1.0                    ce0c810df36a        3 weeks ago         180MB
hyperledger/fabric-peer         x86_64-1.1.0                    b023f9be0771        3 weeks ago         187MB
hyperledger/fabric-baseimage    x86_64-0.4.6                    dbe6787b5747        7 weeks ago         1.37GB
hyperledger/fabric-baseos       x86_64-0.4.6                    220e5cf3fb7f        7 weeks ago         151MB
{code}",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5hz:",,,,Unset,,,,,,Unset,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Apr/18 8:51 AM;nnao;https://gerrit.hyperledger.org/r/c/20421/;;;",,,,,,,,,,,,,,,,,,,,,
System Behave: Remove version from option with query,FAB-9457,29315,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,11/Apr/18 8:03 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,18/Apr/18 2:47 AM,,,,,,,,,,,0,,,,,There is no version option in the query api. This needs to be removed.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5i7:",,,,Unset,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Building go chaincode with CID requires specific vendoring for Fabric component,FAB-9458,29316,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,fredbi,fredbi,11/Apr/18 3:29 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,30/Apr/18 4:34 PM,v1.1.0,,,Not a Bug,WON'T FIX,,fabric-installers,,,,0,,,,,"I am building a go chaincode using Fabric 1.1 and the client identity chaincode library [core/chaincode/lib/cib].

 

In order to avoid dependency conflicts, I'm used to remove the whole fabric tree from chaincode vendoring.

 

When installing the chaincode, the build fails: the lib/cid is missing from the building image in Fabric Release 1.1.

 

Temporary workaround: adapted chaincode building toolchain to specifically add this dependency to the chaincode vendoring dir.

 

 ",,fredbi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9081,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5if:",,,,,,,,,,,,,,,,,,,,,fredbi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/18 4:34 PM;mastersingh24;This is actually by design.  The cid pkg is provided as a convenience today and is intended to be vendored by chaincode.
We are adding additional identity types (e.g. Identity Mixer credentials) and have not yet come up with the final set of APIs we would consider including natively within chaincode;;;",,,,,,,,,,,,,,,,,,,,,
Check legality of the channel name when creating a new channel configuration transaction,FAB-9460,29318,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,EdgarLGB,EdgarLGB,EdgarLGB,11/Apr/18 7:17 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,I think it will be better to check the legality of a channel name when creating the configuration via _configtxgen.sh_. Because it is too late to check it when creating a new channel with this configuration containing an unlegal channel name. ,,EdgarLGB,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5iv:",,,,Unset,,,,,,Unset,,,,,,,,,,,EdgarLGB,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 1:17 AM;EdgarLGB;After reviewing the code, I have discovered that all the validation process will be postponed to validator. Then it will be more appropriate to manage the aspect of validation. Hence, I think we can consider that the configtxgen does not need to validate the channelID.;;;",,,,,,,,,,,,,,,,,,,,,
get-docker-images.sh failed to pull third party images,FAB-9462,29323,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TiantianGao,TiantianGao,TiantianGao,11/Apr/18 10:29 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 8:04 PM,,,,v1.2.0,,,,,,,0,,,,,"Currently we recommend developers to use [scripts/bootstrap.sh|https://github.com/hyperledger/fabric/blob/master/scripts/bootstrap.sh] to pull docker images in this [document|http://hyperledger-fabric.readthedocs.io/en/latest/install.html], while we still maintain a get-docker-images.sh script in release tar file, get-docker-images.sh does't work because the fabric docker image tags are not the same as third party docker images.

 The output of running get-docker-images.sh:
{code:java}
$ ./get-docker-images.sh
Pulling hyperledger/fabric-peer:x86_64-1.1.0
x86_64-1.1.0: Pulling from hyperledger/fabric-peer
Digest: sha256:57417699ddf50c5ebd47a9a2cc74c0324fbba0281eb1104b9ddd05a67776b01f
Status: Image is up to date for hyperledger/fabric-peer:x86_64-1.1.0
Pulling hyperledger/fabric-orderer:x86_64-1.1.0
x86_64-1.1.0: Pulling from hyperledger/fabric-orderer
Digest: sha256:0c3a3b5ecfd24b513da22bbb77da7b3f5bca9c121cc0ac5c46ba04c97c163654
Status: Image is up to date for hyperledger/fabric-orderer:x86_64-1.1.0
Pulling hyperledger/fabric-ccenv:x86_64-1.1.0
x86_64-1.1.0: Pulling from hyperledger/fabric-ccenv
Digest: sha256:07818367dc6d4264472d24b21819f9dc4e16e890d81ddfacee0341a22d72050b
Status: Image is up to date for hyperledger/fabric-ccenv:x86_64-1.1.0
Pulling hyperledger/fabric-javaenv:x86_64-1.1.0
x86_64-1.1.0: Pulling from hyperledger/fabric-javaenv
Digest: sha256:d2588c0556b6fc79131f638b02a7a77337363e2c2f38a9c47798a6d99bd2f20e
Status: Image is up to date for hyperledger/fabric-javaenv:x86_64-1.1.0
Pulling hyperledger/fabric-kafka:x86_64-1.1.0
Error response from daemon: manifest for hyperledger/fabric-kafka:x86_64-1.1.0 not found{code}
 ",,TiantianGao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5jb:",,,,,,,,,,,,,,,,,,,,,TiantianGao,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Apr/18 1:58 PM;TiantianGao;https://gerrit.hyperledger.org/r/#/c/20441/;;;",,,,,,,,,,,,,,,,,,,,,
Improve chaincode package initialization,FAB-9463,29325,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,12/Apr/18 1:51 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-peer,,,,0,hygiene,stale-item,,,"The chaincode package is currently initialized via side-effect with factories being passed by init functions and singletons, plus many stateful package scoped functions.  All of this should be cleaned up.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5jz:",,,,Unset,,,,,,Unset,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Remove theChaincodeSupport singleton,FAB-9464,29326,29325,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,12/Apr/18 1:51 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 4:15 AM,,,,v1.2.0,,,fabric-peer,,,,0,hygiene,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5k7:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
CCChecker should be documented and tested or removed from the tree,FAB-9465,29328,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Apr/18 2:22 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Apr/18 10:48 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,"While separating config methods intended for test from the production config package, I found that this example was using the dev related config functions.

I can find no documentation (comments, README, or on the web) about this ""example"" other than some old issues in JIRA; the example didn't even compile as of 16 Mar 2018.

If there's value to this as an example, it needs some documentation and test. Short of that, the code should be removed or extracted to a more appropriate location - perhaps in fabric test as it seems to have originated from some work to enable concurrent execution of chaincode.

[~muralisr] - your thoughts?",,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz27j:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,muralisr,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 8:29 AM;muralisr;[~sykesm] ""go build"" worked on latest. Perhaps someone fixed it while fixing a dependency. 

The sample does two things : provides a way to run stress tests on your chaincode and validate results of the execution by comparing with expected value.  As mentioned in  https://jira.hyperledger.org/browse/FAB-1512 theres a CR that makes this more robust https://gerrit.hyperledger.org/r/#/c/3623/ but have -1ed it for adding docs.

I think its got value but agree it doesn't really belong in ""examples"". I'll have saved off the project so I can submit a fully functional CCChecker when I get cycles.

We can use this JIRA to delete cchecker from examples if you like (I have abandoned https://gerrit.hyperledger.org/r/#/c/3623/).
;;;","12/Apr/18 10:29 PM;sykesm;>  ""go build"" worked on latest. Perhaps someone fixed it while fixing a dependency.

We addressed it as part of FAB-8923 while reducing the exclusion list in our unit test script.

>  We can use this JIRA to delete cchecker from examples if you like

I think I'm going to do that. The history is in git and JIRA and we can restore if needed. I've found that much of what we had under examples really aren't user consumable examples and believe that leads to confusion.

Thanks.;;;","12/Apr/18 11:01 PM;sykesm;https://gerrit.hyperledger.org/r/20487;;;",,,,,,,,,,,,,,,,,,,
Move test/dev related config loading functions out of production packages,FAB-9466,29329,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Apr/18 2:34 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 11:36 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,"core/config includes functions like GetDevMspDir and AddDevConfigPath that are documented as only appropriate for test yet the mainline production code included fallbacks to load configuration from the sample configuration in the development tree.

In addition to violating the intent of the AddDevConfigPath function, it resulted in unexpected behavior with misconfigured peers in integration test environments where the GOPATH included the fabric source.

To prevent further confusion, the GOPATH based fallback should be removed from the production code and the dev related functions should be relocated to separate packages that are not intended to be used in production.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8418,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz27z:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 3:05 AM;sykesm;https://gerrit.hyperledger.org/r/20453;;;",,,,,,,,,,,,,,,,,,,,,
Typo in fabric-test/README,FAB-9468,29332,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,12/Apr/18 2:45 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 7:22 AM,v1.1.0,,,v1.2.0,,,fabric-docs,fabric-quality,,,0,Documentation,,,,"I found a typo in fabric-test/README.md. It seems to be ""make pre-setup"" instead of ""make pre_setup"" ",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5kn:",,,,,,,,,,,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"12/Apr/18 5:11 AM;nnao;https://gerrit.hyperledger.org/r/c/20465/;;;",,,,,,,,,,,,,,,,,,,,,
Formalizing chaincode interfaces,FAB-9469,29333,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,toddinpal,toddinpal,12/Apr/18 2:54 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,Currently there is no standardized mechanism to provide an interface definition for chaincode.  This is somewhat amazing given 20-30 years of recognizing the value of defining an interface.  Fabric should provide a mechanism to allow chaincode developers to define the interface to their chaincode and that interface definition should be provided at deployment time.  As well it should be possible to query the chaincode to determine its interface.,,denyeart,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5kv:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,sykesm,toddinpal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/18 1:05 AM;denyeart;[~muralisr] [~greg.haskins] What's your opinion on this?  It seems [chaintool|http://fabric-chaintool.readthedocs.io/en/latest/] would be a good fit?;;;","28/Apr/18 1:47 AM;toddinpal;Chaintool is in the right direction.  However what I was suggesting was that the interface be discoverable, ideally because it was deployed with the chaincode.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,
ChaincodeSupport stutters,FAB-9470,29334,29325,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jyellick,jyellick,12/Apr/18 3:39 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,chaincode.ChaincodeSupport is a stuttering name and should be fixed.,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5l3:",,,,,,,,,,,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Define new v1.2 validation behavior capability.,FAB-9472,29336,29088,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,12/Apr/18 4:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 8:32 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The validation logic for transactions must be changed for v1.2.  However, we must protect against non-determinism, so, we need a new capability to control whether the new validation is applied or not.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5lj:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Always validate the endorsement policy for the initially called chaincode,FAB-9473,29337,29088,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,12/Apr/18 4:17 AM,30/Aug/18 11:23 PM,28/Oct/23 3:02 AM,12/Apr/18 8:32 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The initially called chaincode should always have its endorsement policy satisfied.  Only in the cc2cc case, when read-only queries might be performed is skipping the endorsement check useful.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5lr:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
TestMain in bccsp/factory/factory_test.go causes package tests to run 4 times,FAB-9474,29338,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,sykesm,sykesm,12/Apr/18 4:27 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,,,,fabric-crypto,,,,0,hygiene,stale-item,,,"The TestMain in the bccsp/factory package iterates over 4 configurations and runs the package tests in each of the iterations. [1]

It appears the original intent may have been to run all of the tests with each of the configurations. That said, the the InitFactories function used to set the configuration protects the config with a sync.Once. Also, there is an InitFactories call immediately after with nil configuration. Basically, this structure doesn't seem to make any sense and some cleanup or refactoring is needed.

1: https://github.com/hyperledger/fabric/blob/cf7d15d5cae1f503aaec8130a0c2d66f53091c11/bccsp/factory/factory_test.go#L101-L106",,denyeart,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5lz:",,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 6:11 AM;kchristidis;[~sykesm]: On track for 1.2?;;;","23/May/18 6:47 AM;sykesm;Why is that question directed at me? I opened it but I don't own it.;;;","23/May/18 7:14 AM;kchristidis;Because it is labeled with ""hygiene"", a tag associated with tasks where you do most of the work, or collaborate with folks that do.;;;","21/Aug/18 8:11 PM;denyeart;Changing to a hygiene task.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,
Dead link in fabric-samples/README,FAB-9475,29339,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,12/Apr/18 5:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/Apr/18 4:24 PM,v1.1.0,,,v1.2.0,,,fabric-docs,fabric-samples,,,0,Documentation,,,,"I found a dead link in fabric-samples/README.md.
I think the link should be ""install.html"" instead of ""samples.html"".",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5m7:",,,,,,,,,,,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 5:57 AM;nnao;https://gerrit.hyperledger.org/r/c/20467/;;;",,,,,,,,,,,,,,,,,,,,,
Correct subject mismatch in documentation,FAB-9477,29342,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,12/Apr/18 1:11 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/Apr/18 6:36 PM,,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"Mary, John, and Joe are the same person.",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5mv:",,,,,,,,,,,,,,,,,,,,,ryjones,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Implement principal set filtering,FAB-9478,29343,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,12/Apr/18 8:26 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/May/18 7:09 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"To support collections, we need to implement filtering principal sets from a chaincode by whether the principal set is contained in the collection config",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5n3:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Filter out principal sets without chaincodes,FAB-9479,29345,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,12/Apr/18 9:18 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 9:05 PM,,,,,,,fabric-peer,,,,0,,,,,"For cc2cc we need first to get all peers by MSP IDs that have all the chaincodes, in other for the cc2cc call to work.

After we get the MSP IDs of these peers we would need to prune out all principal sets of peers that for them exists a principal, that no peer from the remaining peers can satisfy. 

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5nb:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Close gzip reader, javaCC build cmd",FAB-9481,29347,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,12/Apr/18 9:58 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/Apr/18 11:46 PM,,,,v1.2.0,,,fabric-peer,,,,0,hygiene,,,,"While code of {{java/platoform.go}} reads the archive to determine building system:

{code}
func getBuildCmd(codePackage []byte) (string, error) {

	is := bytes.NewReader(codePackage)
	gr, err := gzip.NewReader(is)
	if err != nil {
		return """", fmt.Errorf(""failure opening gzip stream: %s"", err)
	}
	tr := tar.NewReader(gr)

	for {
		header, err := tr.Next()
		if err != nil {
			return """", errors.New(""build file not found"")
		}

		if cmd, ok := buildCmds[header.Name]; ok == true {
			return cmd, nil
		}
	}
}
{code}

it doesn't take care to close the gzip stream.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCJ-7,,,,,,,,,,"1|hzz5nr:",,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 10:01 PM;C0rWin;https://gerrit.hyperledger.org/r/20483;;;",,,,,,,,,,,,,,,,,,,,,
examples/experimental isn't a user-consumable example and should be removed from the tree,FAB-9483,29350,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,12/Apr/18 10:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/Apr/18 10:42 PM,,,,v1.2.0,,,,,,,0,hygiene,,,,"The examples/experimental package was intended to demonstrate how to use build tags for experimental functions; it is not a user-consumable example.

Discussed with [~mastersingh24] and he agreed it can be removed from the tree.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz27r:",,,,,,Sprint 7 - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Apr/18 11:08 PM;sykesm;https://gerrit.hyperledger.org/r/20489;;;",,,,,,,,,,,,,,,,,,,,,
Replace nopkcs11 build tag with pkcs11 build tag,FAB-9485,29353,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Apr/18 11:18 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/Apr/18 4:59 PM,,,,,,,,,,,0,hygiene,,,,"In most scenarios, pkcs11 support should not be enabled. This makes the inverted double-negative !nopkcs11 tagging confusing.

Based on a discussion with [~mastersingh24], inverting the tag seems to make sense.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5o7:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 12:08 AM;sykesm;https://gerrit.hyperledger.org/r/20493;;;",,,,,,,,,,,,,,,,,,,,,
end-2-end daily jobs are failing due to CI script error,FAB-9486,29354,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,12/Apr/18 11:29 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,14/Apr/18 12:15 AM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,The end-2-end daily tests are not executing due to the CI script. This issue has been addressed and will be fixed soon.,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5of:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 12:06 AM;sambhavdutt;The end to end daily tests are running fine for the day. ;;;","14/Apr/18 12:16 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20443/;;;",,,,,,,,,,,,,,,,,,,,
Glossary update: World State,FAB-9487,29355,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,13/Apr/18 12:29 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-docs,,,,0,,,,,"We seem to be moving away from the term Current State and more toward the term

World State. Refer to the new Ledger Conceptual topic.

Given that, World State should be added to the Glossary - and also add a visual vocabulary icon for it while in there.",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5on:",,,,,,,,,,,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 4:28 AM;pandrejko;duplicate/addressed by FAB-9395;;;",,,,,,,,,,,,,,,,,,,,,
Race condition in Discovery Client Send,FAB-9488,29359,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,bstasyszyn,bstasyszyn,13/Apr/18 1:27 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,17/Apr/18 3:18 AM,,,,,,,fabric-gossip,,,,0,,,,,"The following race condition was reported when attempting to call discovery.Client.Send concurrently on multiple peers using the same request:

WARNING: DATA RACE
Write at 0x00c42000c0e0 by goroutine 11:
  github.com/hyperledger/fabric-sdk-go/internal/github.com/hyperledger/fabric/discovery/client.(*client).Send()
      /Users/bob.stasyszyn/go/src/github.com/hyperledger/fabric-sdk-go/internal/github.com/hyperledger/fabric/discovery/client/client.go:117 +0xa7
  github.com/hyperledger/fabric-sdk-go/pkg/fab/discover.(*processor).Process()
      github.com/hyperledger/fabric-sdk-go/pkg/fab/discover/_test/_obj_test/discover.go:161 +0x4e1
  github.com/hyperledger/fabric-sdk-go/pkg/fab/discover.(*Client).Send.func1()
      github.com/hyperledger/fabric-sdk-go/pkg/fab/discover/_test/_obj_test/discover.go:73 +0xf7

Previous write at 0x00c42000c0e0 by goroutine 10:
  github.com/hyperledger/fabric-sdk-go/internal/github.com/hyperledger/fabric/discovery/client.(*client).Send()
      /Users/bob.stasyszyn/go/src/github.com/hyperledger/fabric-sdk-go/internal/github.com/hyperledger/fabric/discovery/client/client.go:117 +0xa7
  github.com/hyperledger/fabric-sdk-go/pkg/fab/discover.(*processor).Process()
      github.com/hyperledger/fabric-sdk-go/pkg/fab/discover/_test/_obj_test/discover.go:161 +0x4e1
  github.com/hyperledger/fabric-sdk-go/pkg/fab/discover.(*Client).Send.func1()
      github.com/hyperledger/fabric-sdk-go/pkg/fab/discover/_test/_obj_test/discover.go:73 +0xf7

Looks like Send is modifying the request.
 ",,bstasyszyn,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8779,,,,,,,,,,"1|hzz5q7:",,,,,,,,,,,,,,,,,,,,,bstasyszyn,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 2:56 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20499/2/discovery/client/client.go;;;",,,,,,,,,,,,,,,,,,,,,
"User Feedback: What is the ""Admin"" role in endorsement policy ",FAB-9491,29363,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,pandrejko,pandrejko,pandrejko,13/Apr/18 3:25 AM,23/Jan/20 7:29 AM,28/Oct/23 3:02 AM,23/Jan/20 7:29 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"[http://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html?highlight=endorsement%20policy]

 

From J. Yellick

This has been a long outstanding deficiency in our examples and documentation, so sorry for the confusion it has been causing.

 

It makes absolutely no sense to include the 'Admin' role in an endorsement policy. Admins are user identities, while endorsement is done by peer identities. In v1.0 of Fabric, there were only two roles available, 'Member', and 'Admin'. So, when trying to construct an example which demonstrated that different roles could be specified inside of a policy, we ended up specifying the 'Admin' role, which sadly, makes no sense for an endorsement policy. (Note, there are other policies in the system, such as those governing channel configuration where the 'Admin' role makes sense). In v1.1 of Fabric, new role types were introduced, particularly the 'Peer' and 'Client' roles. I strongly suggest that if your crypto material was generated with support for these new roles that you should utilize the 'Peer' role in your endorsement policies. A better example of a policy with mixed roles would be ""Org1.Member AND Org2.Peer"". This would make sense for an endorsement policy where Org1's certificates do not distinguish the 'Peer' role, but Org2's certificates do.",,baohua,joe-alewine,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtgn:",,,,Unset,,,,,,Unset,,,,,,,,,,,baohua,joe-alewine,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jun/18 5:40 AM;baohua;I believe the original idea is to distinguish the user roles from common member to specific admin when doing the endorsement.

However, I agree the one who really does endorsement is the peer. So maybe what we want to clarify here is ""a member role peer"" or ""an admin role peer""?

This triggers another problem to me: the way to define an ""admin"" role, which might be more flexible by defining a specific admin attribution inside the certificate, instead of checking local MSP.;;;","05/Sep/18 9:33 PM;pandrejko;Another question around this recently in the Hyperledger e-mail chat and Jason's response:

Please do not use admin roles in endorsement policies. It makes no sense, as a peer isn't a person and admin roles is used for administrative operations by human beings.

Peer role means that the identity that endorsed the transaction belongs to an OU that is marked as a peer OU in the MSP configuration. It's a feature that exists starting from v1.1
Client role is defined in a similar manner.

[~negupta] [~joe-alewine];;;","05/Sep/18 11:27 PM;joe-alewine;[~pandrejko] That comment was actually made by Yacov, and what I think he's getting at is that endorsement policies should list peers — e.g. `Org1.Peer` — and not something like `Org1.Admin`. This is because peers actually do the endorsing, not admins. Of course, we tend to conflate these concepts because peers are administered by an admin, but in this case signing an endorsement is not really a ""decision"" in the sense that we usually think of it. It's more of a function that will be performed if everything (signatures, packaging, formatting etc) has been done correctly. The peer checks these things and then ""automatically"" (meaning, there's no human value judgement involved) endorses the proposal.

At least, this is my understanding.;;;","14/Jan/20 2:49 AM;pandrejko;This should be added to the Policies key concept topic..;;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,
auth cache test failure ,FAB-9492,29364,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Apr/18 3:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 9:24 PM,,,,,,,,,,,0,,,,,"18:34:46 unit-tests_1  | --- FAIL: TestCachePurgeCache (0.00s)
18:34:46 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	authcache_test.go:200
18:34:46 unit-tests_1  | 		
	Error:      	Should be true
18:34:46 unit-tests_1  | 		
	Test:       	TestCachePurgeCache
18:34:46 unit-tests_1  | 2018-04-12 18:34:46.822 UTC [bccs",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5qv:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Apr/18 6:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20555/;;;",,,,,,,,,,,,,,,,,,,,,
Some tests that read config fail when running go test ./... ,FAB-9494,29367,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,wlahti,wlahti,13/Apr/18 5:45 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,17/Apr/18 10:44 PM,,,,,,,fabric-common,,,,0,,,,,"When running ""go test ./..."" after FAB-9466 was merged, some tests that relied on the fallback dev config path fail with messages such as:
{code:java}
--- FAIL: TestInitConfig (0.00s)

    --- FAIL: TestInitConfig/Good_command_root (0.00s)

    common_test.go:51: InitConfig() error = error when reading core config file: Unsupported Config Type """", wantErr false

--- FAIL: TestSetLogLevelFromViper (0.00s)

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {cauthdsl} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#01 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {level} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#02 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {gossip} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#03 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {grpc} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#04 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {msp} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#05 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {ledger} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#06 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {policies} error = invalid log level provided - , wantErr false

    --- FAIL: TestSetLogLevelFromViper/Valid_module_name#07 (0.00s)

    common_test.go:171: SetLogLevelFromViper() args = {peer.gossip} error = invalid log level provided - , wantErr false

FAIL

FAIL	github.com/hyperledger/fabric/peer/common	6.066s{code}",,kchristidis,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5rb:",,,,,,,,,,,,,,,,,,,,,kchristidis,sykesm,wlahti,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Apr/18 10:06 PM;sykesm;This is due to the confluence of several issues.

First, the container we're running unit tests in is setup with a working fabric configuration in two ways. We explicitly add the sample configuration to /etc/hyperledger/fabric and we set FABRIC_CFG_PATH as one of the environment variables in the container. This _hides_ dependencies on global configuration, sets up a hybrid production/test environment, and, IMO, is a problem that needs to be resolved separately.

https://github.com/hyperledger/fabric/blob/a8cc2c46d8cec1ad199741c0630a46ccb24084ac/images/testenv/Dockerfile.in#L8

[https://github.com/hyperledger/fabric/blob/a8cc2c46d8cec1ad199741c0630a46ccb24084ac/Makefile#L263-L266]

Second, our CI runs containers while developers want to be able to run tests natively, outside of a container. We should choose which we want and stick with it.

Finally, the configuration, in general, is inconsistent. In some cases (like localconfig), a separate instance of the viper configuration object is instantiated while in most other cases we use the global singleton config object. In either scenario, we use process level state (env vars, default paths) to load the configuration. We don't seem to have adopted a pattern when we use explicit configuration files next to our tests and load them directly for execution. Much of this (again IMO) is because our configuration system isn't well structure.

After this immediate issue is resolved, I think a larger discussion is needed about how we want configuration to be managed in tests and by users. We've had a number of issues with the configuration while attempting to write integration tests as well...;;;","17/Apr/18 6:52 AM;sykesm; https://gerrit.hyperledger.org/r/20651;;;",,,,,,,,,,,,,,,,,,,,
Can't get a specific version of fabric docker images,FAB-9495,29368,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,13/Apr/18 7:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 1:09 AM,v1.1.0,,,v1.2.0,,,fabric-tools,,,,0,,,,,"I tried to get a specific version of fabric docker images by using bootstrap.sh which is listed on http://hyperledger-fabric.readthedocs.io/en/latest/install.html.
However, I couldn’t get the specific version of images. The latest version of fabric images was downloaded. Also, the script can't skip getting fabric-samples by using -s option.

{code:java}
vagrant@ubuntu-xenial:/opt/gopath/src/github.com/hyperledger$ curl -sSL https://goo.gl/6wtTN5 | bash -s 1.0.5
 
Installing hyperledger/fabric-samples repo
 
===> Checking out v1.1.0 branch of hyperledger/fabric-samples
HEAD is now at 1252c7a... [FAB-8920] Pin fabric-samples to node.js ""~1.1.0""
...
===> Pulling fabric Images
==> FABRIC IMAGE: peer
 
x86_64-1.1.0: Pulling from hyperledger/fabric-peer
Digest: sha256:57417699ddf50c5ebd47a9a2cc74c0324fbba0281eb1104b9ddd05a67776b01f
Status: Image is up to date for hyperledger/fabric-peer:x86_64-1.1.0
{code}","Linux ubuntu-xenial 4.4.0-119-generic
bash GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)",nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5rj:",,,,,,,,,,,,,,,,,,,,,nnao,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 12:59 PM;nnao;https://gerrit.hyperledger.org/r/c/20525/;;;","22/Jun/18 8:03 PM;dsanchezseco;[~nnao] [~ChristopherFerris] I have to check it, but i recall that `grep -P` no longer works on OSX. see [https://stackoverflow.com/questions/16658333/grep-p-no-longer-works-how-can-i-rewrite-my-searches.]

I got here because this patch isn't publish yet and the script forces to download 1.2.0-rc1, so while checking it i saw the `-P`. I thinks is worth a warn;;;",,,,,,,,,,,,,,,,,,,,
Add Timer and Histogram metrics,FAB-9496,29370,15982,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,xixuejia,xixuejia,xixuejia,13/Apr/18 1:17 PM,28/Nov/18 11:12 PM,28/Oct/23 3:02 AM,28/Nov/18 11:12 PM,,,,v1.3.0,,,,,,,0,,,,,"Tally did support Timer and Histogram metrics, we may need to use these metric types to monitor request latencies of peer/orderer services",,grapebaba,muralisr,sykesm,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5rz:",,,,,,,,,,,,,,,,,,,,,grapebaba,muralisr,sykesm,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/18 3:09 PM;xixuejia;Just noticed that metrics/types.go and metrics/tally_provider.go are subsets of tally's types.go and scope.go. Is there any specific reason why you wrap a subset of tally's existing interfaces and implementations? [~grapebaba];;;","26/Apr/18 8:53 PM;grapebaba;[~xixuejia]I think we should define own metrics interface in fabric, tally is just current default implementation.  In further we may use other implementation even customize and no change in caller code. That is why I just implement count and gauge methods,  for timer and histogram methods we also need consider more general. Indeed current interfaces derived from tally, however it is enough general right now.;;;","26/Apr/18 10:19 PM;xixuejia;Thanks [~grapebaba] for sharing your thoughts. I do see generalizing interfaces is good, but I don't see much value to repeat tally's interfaces/implementations given you have chose tally and it already generalizes very common metrics interfaces. This should be very similar to [flogging|https://github.com/hyperledger/fabric/tree/release-1.1/common/flogging] package which provides logging.Logger object for other packages to do logging.

Would you please share your thought about why not reusing tally's Timer and Histogram, are they not general enough?;;;","26/Apr/18 11:45 PM;grapebaba;I investigated several metrics library before, including native prometheus, statsd, go-metrics lib; some differences especially for Histogram. I suspect the interfaces defined by tally may not be implemented easily by other metrics lib. ;;;","22/May/18 3:17 PM;xixuejia;https://gerrit.hyperledger.org/r/#/c/21045/;;;","28/Nov/18 11:11 PM;sykesm;This has been superseded by the work in 1.4.;;;","28/Nov/18 11:12 PM;sykesm;Histogram implementations exist in the 1.4 version of metrics.;;;",,,,,,,,,,,,,,,
As a BCCSP developer I want the software-based implementation to be customizable,FAB-9499,29373,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,13/Apr/18 3:04 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,v1.1.0,,,Future,,,fabric-crypto,,,,0,review-needed,Security,,,"The software-based implementation of the BCCSP interface already provide a modular implementation that allows to plug multiple algorithm wrappers to perform the BCCSP operations. Currently, this modular approach cannot be fully exploited because methods are missing to allow this customisation.

This FAB proposes to refactor the software-based implementation to expose this additional customisation helper functions.
In the context of FAB-8930, this would allow to reuse the software-based BCCSP to implement a new BCCSP supporting the idemix options.",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5sn:",,,,Unset,,,,,,Unset,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/18 3:39 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/20527/;;;",,,,,,,,,,,,,,,,,,,,,
Chaincode fails to start after upgrading HLF network from v1.0.6 to v1.1.0,FAB-9503,29380,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mghasletwala,mghasletwala,13/Apr/18 10:35 PM,07/Sep/18 1:28 AM,28/Oct/23 3:02 AM,07/Sep/18 1:28 AM,v1.1.0,,,,,,fabric-peer,,,,0,,,,,"# We have two organizations in HLF 1.0.6 network (3 Zookeeper, 4 Kafka, 2 Orderer, 4 Peer (2 in each org), 4 Couchdb and 2 CA).
 # Zookeeper, Kafka and Couchdb upgraded successfully to v1.1.0-preview.
 # All orderer upgraded successfully to v1.1.0
 # Peer0.org1.example.com and Peer0.org2.example.com are leader peer.
 # Peer1.org1.example.com and Peer1.org2.example.com are non leader peer.
 # Installed chaincode on all peers.
 # Issued transaction using peer0.org1 and peer1.org1 as endorsing peer and successfully done.

Scenario: upgrading the peer0.org1.example.com (leader peer of org1):
Steps:
 # Stopped the chaincode container ""dev-peer0.org1.example.com"".
 ** Removed the chaincode container ""dev-peer0.org1.example.com"".
 # Stopped the peer container ""peer0.org1.example.com"".
 ** Rename the container ""peer0.org1.example.com"" to ""peer0.org1.example.com.old""
 # Executed the ""docker run"" with ""hyperledger/fabric-peer:x86_64-1.1.0"" to start the peer as ""peer0.org1.example.com"" and using the old ledger volume
 # Issued transaction using peer0.org2 and peer1.org2 as endorsing peer and peer0.org1 received the new block.
 # Installed chaincode on peer0.org1.example.com .
 # Issued transaction using peer0.org1 and peer1.org1 as endorsing peer but peer0.org1 failed to endorse while peer1.org1 successfully endorsed.

Result:
 # Below message found in log of peer0.org1.example.com. and chaincode container (dev-peer0.org1.example.com) status found ""Exited""
 ""premature execution - chaincode (mycc:v0) launched and waiting for registration""
 # After some time chaincode container found removed and log received in peer0.org1.example.com is as below.
 ""stopping due to error while launching: timeout expired while starting chaincode mycc:v0(networkid:dev,peerid:peer0.org1.example.com,tx:d3037fe6d77d604629b847507abd0a0a5567ed29c9b11823f7f6d4a7f1ce53df)""

Log file Attached:
 * a. peer0.org1.example.com_v1.1.0.log
 * b. peer0.org1.example.com_v1.0.6.log",,denyeart,mastersingh24,mghasletwala,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Apr/18 10:35 PM;mghasletwala;peerUpgradev1.0.6-v1.1.0.zip;https://jira.hyperledger.org/secure/attachment/14892/peerUpgradev1.0.6-v1.1.0.zip",,,,,,,,,,,,,,,,,,,,,,,"1|hzz5tj:",,,,,,,,,,,,,,,,,,,,,denyeart,mastersingh24,mghasletwala,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 6:59 PM;mastersingh24;[~mghasletwala] - Did you vendor the shim package (github.com/hyperledger/fabric/core/chaincode/shim) with your chaincode?;;;","16/Apr/18 2:22 PM;mghasletwala;No. Our 1.0.6 chaincode does not include shim package.;;;","20/Apr/18 4:36 PM;mghasletwala;To work around the problem. We
 * deleted the Docker Container as well as Docker Image of the chain code.
 * installed chaincode
 * issued transaction.

Peer created the chaincode container and endorsed the transaction.

Thus we could successfully upgrade the network.

Not sure if these are expected steps to follow or the issue needs investigation.;;;","11/Jun/18 5:50 AM;muralisr;[~mghasletwala] I see other errors such as this

{code:java}
ERRO 889 launchAndWaitForRegister failed: timeout expired while starting chaincode mycc:v0(networkid:dev,peerid:peer0.org1.example.com,tx:d3037fe6d77d604629b847507abd0a0a5567ed29c9b11823f7f6d4a7f1ce53df)
{code}

{code:java}
Kill container dev-peer0.org1.example.com-mycc-v0 (API error (409): {""message"":""Cannot kill container: dev-peer0.org1.example.com-mycc-v0: Container a77c113dc1d650eacc9d76f6fd2c3e3aa7aac066466d0d1d9891224e8970e2dd is not running""}
{code}

This makes me thing the chiancode never started for some reason. Its hard to say if this is a bug or not without looking at the chaincode logs as well  (by using appropriate logging levels on the peer to turn on chaincode logging) given that its likely that the chaincode could get not get started in the first place.;;;","21/Aug/18 8:13 PM;denyeart;[~mghasletwala] Is this still an issue?  If so, could you provide peer AND chaincode logs?;;;","06/Sep/18 2:08 PM;mghasletwala;We have long moved to 1.2 and no longer concerned about 1.0.6 and its upgrade process to 1.1

Also the logs for peers are attached but we do not have chaincode logs. Nor do we have any environment now to reproduce the issue

Unless it is some kind of defect which might still be there in 1.2 the ticket can be closed.;;;","07/Sep/18 1:28 AM;sykesm;Closing based on last comments.;;;",,,,,,,,,,,,,,,
Support for secure chaincode execution using Intel SGX,FAB-9504,29381,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,bur,bur,bur,13/Apr/18 10:46 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-peer,,,,2,chaincode,Ledger,Security,stale-item,"Many applications of blockchains require data confidentiality. In
 particular, financial transactions, voting on the blockchain, sealed-bid
 auctions, and many more applications come with strong requirements in
 terms of privacy and correctness. A voting system, for instance, must
 protect the confidentiality of every vote cast and must provide means to
 verify that every submitted vote has been considered in the final voting
 result. The latter can be achieved by using blockchain technologies,
 where every vote is a transaction stored on the ledger. However,
 maintaining confidentiality in an open and verifiable blockchain is a
 difficult problem (also in a permissioned, consortium blockchain). For
 example, an application for voting running on Fabric would be implemented
 by a chaincode that receives encrypted votes, records them, and decrypts
 them later, in order to compute the final voting result and take further
 actions. This system would need to keep the decryption key for the
 encrypted votes secret, since the chaincode is executed by all endorsing
 peers. Or it would need to trust all endorsers, which reduces the
 benefits of the blockchain model.

The design should work with only one Fabric channel. Apart from using
 advanced cryptographic protocols, such as Zero-knowledge Proofs or Secure
 Multiparty Computation, no solution is available for this within Fabric
 today. In other words, maintaining confidentiality of secrets manipulated
 by a chaincode requires trust in the endorsing peers. Thus, a single
 corrupted endorsing peer may violate the confidentiality of the
 application.

To overcome this issue trusted execution environments such as Intel SGX
 have been proposed. This document starts the design for adding support
 to securely execute chaincode using Intel SGX in Fabric. With Intel SGX,
 a peer executes chaincode in a trusted execution environment, also called
 an enclave. SGX enforces confidentiality and integrity of the chaincode
 even when the peer system is misbehaving. In order words, using SGX, a
 voting chaincode may evaluate the voting results without revealing the
 encrypted votes to the executing peer.

However, simply running ""the chaincode"" in an enclave is not enough, as
 steps for ensuring consistency between the execution and the ledger state
 and for verification of the outputs by the clients are needed.

The design document describing the model:
 [https://docs.google.com/document/d/1-4BQpBOnFs7ijj2iirbO38FNJU5F7DLdpXJ1GQqboAM/edit?usp=sharing]

A detailed design and a research prototype for this function are described in a paper released on arxiv in May 2018:  [https://arxiv.org/abs/1805.08541]

Comments should be discussed here.

The prototype code is available as a Hyperledger labs.
https://github.com/hyperledger-labs/fabric-secure-chaincode",,ales,ashutosh_kumar,bmalavan,bur,cca88,daijianw,GingerMoon,grapebaba,itsme24543,jmason900,luomin,muralisr,pandrejko,silliman,Steven_Elliott,sykesm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5tr:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,ashutosh_kumar,bmalavan,bur,cca88,daijianw,GingerMoon,grapebaba,itsme24543,jmason900,luomin,muralisr,pandrejko,silliman,Steven_Elliott,sykesm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jul/18 2:01 AM;itsme24543;Any progress on releasing the code? thanks;;;","31/Aug/18 3:56 PM;bur;Sorry for the late response!
We have released a prototype implementation of the proposed architecture as described in our paper (https://arxiv.org/abs/1805.08541) as Hyperledger labs.

You can find the code here:
https://github.com/hyperledger-labs/fabric-secure-chaincode;;;","01/Sep/18 7:01 AM;itsme24543;Thanks [~bur];;;","29/Jan/19 11:12 PM;bur;WIP: Enhanced architecture based on the initial design as released under the hyperledger labs umbrella.

https://docs.google.com/document/d/1u15vjk4jZoeGHHE4abJ1TjY3XFFuCNpHBL6JCg73buo/edit#;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,
Export Gates and Roles used in policies,FAB-9505,29383,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,13/Apr/18 11:27 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,14/Apr/18 1:51 AM,v1.1.0,,,v1.2.0,,,fabric-common,,,,0,hygiene,,,,"Developers should be able to construct strings corresponding to valid policies by using the allowed operators from the {{cauthdsl}} package. This is not possible today because the gates and principal roles are not exported. The fix should address just that, i.e. group and export the allowed gate and principal values.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5tz:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Apr/18 11:32 PM;kchristidis;https://gerrit.hyperledger.org/r/c/20539/;;;",,,,,,,,,,,,,,,,,,,,,
CouchDB indexing tests are failing in daily CI jobs,FAB-9506,29386,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,14/Apr/18 12:20 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,25/Apr/18 5:17 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"Observed multiple instances of CouchDB indexing error in CI jobs,

{code:java}
04:03:10     When a user requests to get the design doc ""indexdoc_behave_test"" for the chaincode named ""mycc1"" in the channel ""mychannel1"" and from the CouchDB instance ""http://localhost:5984""                                               # steps/endorser_impl.py:749
04:03:10   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
04:03:10                                  Dload  Upload   Total   Spent    Left  Speed
04:03:10 
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
100    58  100    58    0     0   5667      0 --:--:-- --:--:-- --:--:--  5800
04:03:10     Then a user receives success response of [""views"":{""index_behave_test"":{""map"":{""fields"":{""size"":""asc""}] from the couchDB container                                                                                                # steps/endorser_impl.py:756
04:03:10       Assertion Failed: Error, recieved unexpected error message from CouchDB container: {""error"":""not_found"",""reason"":""Database does not exist.""}
04:03:10       
04:03:10       Captured stdout:
04:03:10       testConfigs: configs/50eed6c43ecf11e8a40bfa163e5192fc
04:03:10       ['index_behave_test.json', 'indexOwner.json'
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/320/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7251__Test_CouchDB_indexing_using_marbles_chaincode_using_GOLANG_with_1_channels_and_1_index_with_1_selector_____1_1_/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5un:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 10:50 PM;sambhavdutt;This issue is still going on with the CouchDB indexing tests in fabric-test-daily;;;","21/Apr/18 6:09 AM;sambhavdutt;The CouchDB indexing tests have passed the last 6 builds.;;;",,,,,,,,,,,,,,,,,,,,
"remove ""."" from Resource property names",FAB-9507,29387,28718,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,14/Apr/18 2:04 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/Apr/18 3:51 AM,,,,v1.2.0,,,fabric-tools,,,,0,,,,,"Change 

 
{code:java}
#ACL policy for lscc's ""getid"" function
 lscc.ChaincodeExists: /Channel/Application/Readers
#ACL policy for lscc's ""getdepspec"" function
 lscc.GetDeploymentSpec: /Channel/Application/Readers
...
...
{code}
 

to

 
{code:java}
#ACL policy for lscc's ""getid"" function
 lsccChaincodeExists: /Channel/Application/Readers
#ACL policy for lscc's ""getdepspec"" function
 lsccGetDeploymentSpec: /Channel/Application/Readers
{code}
 


This is not configtx.yaml friendly, plus reads better without the "".""",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5uv:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Change UID and GID of couchdb user,FAB-9508,29389,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,mastersingh24,mastersingh24,mastersingh24,14/Apr/18 2:27 AM,13/Oct/18 8:25 PM,28/Oct/23 3:02 AM,13/Oct/18 8:25 PM,,,,v1.0.7,,,,,,,0,,,,,"The current couchdb image sets the user:group to couchdb:couchdb but does not explicitly set the UID and GID.  This results in the UID and GID being chosen and can conflict with UID/GID already present on the host system.  Normally this is not a problem but in order to allow persistence you need to mount an external volume and want to make sure that you don't accidentally pick up the privileges of an existing user.

The industry seems to be moving towards using the listen port as the UID and GID so we'll do that here as well.",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABB-95,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5v3:",,,,Unset,,,,,,Unset,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Apr/18 2:31 AM;mastersingh24;https://gerrit.hyperledger.org/r/20543;;;",,,,,,,,,,,,,,,,,,,,,
Generating yaml configtx file from localconfig errors on MaxMessageSize,FAB-9510,29391,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,14/Apr/18 3:21 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/Apr/18 2:47 AM,,,,,,,fabric-tools,,,,0,,,,,"When generating configtx from the localconfig, and then attempting to use the result with the configtxgen tool there is an error: 
""has invalid keys: MaxMessageSize""",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5vj:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Update Glossary: Smart Contract,FAB-9513,29394,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,14/Apr/18 4:30 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 5:51 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,Add Smart Contract to the Glossary,,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5w7:",,,,,,,,,,,,,,,,,,,,,pandrejko,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 1:55 AM;pandrejko;https://gerrit.hyperledger.org/r/20777;;;",,,,,,,,,,,,,,,,,,,,,
User Feedback: Documentation for source code,FAB-9514,29395,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,14/Apr/18 5:22 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"In the Contributions Welcome! section it would be nice if we provided class diagrams/overview on the code structure - see HyperLedger Fabric e-mail below:

https://lists.hyperledger.org/pipermail/hyperledger-fabric/2018-April/003353.html

Hello Everyone, I have started going through source code of fabric and followed the contribution guide to set up a dev environment along with other prerequisites like linux foundation ID. I have been able to understand little bit of code structure but going through all the code, my progress seems to be slow. It would be helpful if anyone can provide any documentation or class diagrams. Thanks Sushil Paneru",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtwn:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
MSP cache doesn't cache indirect calls to SatisfiesPrincipal,FAB-9515,29397,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,14/Apr/18 8:56 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,18/Apr/18 11:16 PM,,,,v1.2.0,,,fabric-crypto,,,,0,,,,,"The MSP cache, caches the invocation of *SatisfiesPrincipal*, however - many of the invocations of *SatisfiesPrincipal* are invoked indirectly via the identities that the MSP returns via *DeserializeIdentity()*, and these invocations are *not* cached, because the bccsp msp's identity simply invokes the bccsp MSP's *SatisfiesPrincipal()* which bypasses the cache.
{code:java}
func (id *identity) SatisfiesPrincipal(principal *msp.MSPPrincipal) error {
	return id.msp.SatisfiesPrincipal(id, principal)
}
{code}
The following test:
{code:java}
func TestSatisfiesPrincipalIndirectCall(t *testing.T) {
	mockMSP := &mocks.MockMSP{}
	mockMSPPrincipal := &msp2.MSPPrincipal{PrincipalClassification: msp2.MSPPrincipal_IDENTITY, Principal: []byte{1, 2, 3}}

	mockIdentity := &mocks.MockIdentity{ID: ""Alice""}
	mockIdentity.On(""SatisfiesPrincipal"", mockMSPPrincipal).Run(func(_ mock.Arguments) {
		panic(""shouldn't have invoked the identity method"")
	})
	mockIdentity.On(""GetIdentifier"").Return(&msp.IdentityIdentifier{Mspid: ""MSP"", Id: ""Alice""})
	mockMSP.On(""SatisfiesPrincipal"", mockIdentity, mockMSPPrincipal).Return(nil).Once()
	mockMSP.On(""DeserializeIdentity"", mock.Anything).Return(mockIdentity, nil).Once()

	cache, err := New(mockMSP)
	assert.NoError(t, err)

	cache.SatisfiesPrincipal(mockIdentity, mockMSPPrincipal)
	identity, err := cache.DeserializeIdentity([]byte{1,2,3})
	assert.NoError(t, err)
	identity.SatisfiesPrincipal(mockMSPPrincipal)
}
{code}
fails, and demonstrates this. Had the *SatisfiesPrincipal*() method been cached for the identity, it would not have run the method of the identity.
{code:java}
--- FAIL: TestSatisfiesPrincipalIndirectCall (0.00s)
panic: shouldn't have invoked the identity method [recovered]
{code}",,eramitg,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5wf:",,,,Unset,,,,,,Unset,,,,,,,,,,,eramitg,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Apr/18 9:17 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20559/;;;","19/Apr/18 3:37 AM;yacovm;[~mastersingh24] this seems to me like a good candidate for a v1.1.x backport. ;;;",,,,,,,,,,,,,,,,,,,,
Make lifecycle utilize the improved state listener mechanism,FAB-9516,29400,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,14/Apr/18 5:55 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 6:05 AM,,,,,,,fabric-peer,,,,0,,,,,"The lifecycle object that caches the deployed chaincodes of the peer - receives a notification from the ledger before the install of the chaincode actually happens.
The install might fail, and then gossip would publish false information.

For this - the ledger listener separated the notification into 2 steps:
* notify about the deployment, which happens just before the install
* notify whether the deployment was successful or not, which is only relevant for install.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5x3:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 2:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20563/;;;",,,,,,,,,,,,,,,,,,,,,
Correct Misspellings in Document,FAB-9517,29401,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,14/Apr/18 8:22 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Apr/18 9:08 PM,,,,,,,fabric-docs,,,,0,,,,,Check for misspellings in the document and correct it.,,odowdaibm,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5xb:",,,,,,,,,,,,,,,,,,,,,odowdaibm,ynamiki,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Apr/18 8:34 PM;ynamiki;https://gerrit.hyperledger.org/r/20567;;;","14/Apr/18 9:50 PM;ynamiki;[~odowdaibm], The document has both American and British spelling (organization/organisation, etc.). Since labels in configuration file (configtx.yaml), standard configuration directory (crypto-config/peerOrganizations) and many identifiers in source codes use American spelling, can I replace British spelling in the docuement?;;;","15/Apr/18 8:26 PM;ynamiki;I opened a new issue for American/British spelling: FAB-9523.;;;","16/Apr/18 3:28 PM;odowdaibm;Feel free – I'd argue about your title though;) Thanks!;;;",,,,,,,,,,,,,,,,,,
[CI] - Optimize fabric-sdk-node CI jobs,FAB-9520,29404,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,15/Apr/18 4:41 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/May/18 10:52 AM,,,,v1.2.0,,,fabric-ci,,,,0,CI_Optimization,,,,"Optimize fabric-sdk-node CI jobs. Existing CI scripts are more duplicated and many jobs duplicated between verify and merge.

-- Remove duplicated code from the fabric-sdk-node jobs

-- Remove duplicated shell script

- Create a common script to test for both 6.9.5 and 8.9.4 node js on master, release-1.1 and release-1.0",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5xz:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 12:25 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20581/;;;",,,,,,,,,,,,,,,,,,,,,
Remove scoped functions/variables from core/comm package,FAB-9521,29405,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mastersingh24,mastersingh24,15/Apr/18 6:30 AM,01/May/19 3:32 AM,28/Oct/23 3:02 AM,01/May/19 3:32 AM,,,,,,,,,,,0,hygiene,,,,"The core/comm package contains some anti-patterns, for example
 * TLSEnabled() is a package scoped function which returns parsed config
 * There are vars which have matching packages functions which should be public constants",,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9605,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5y7:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Apr/18 9:28 AM;kchristidis;{quote}There are vars which have matching packages functions which should be public constants{quote}
What happens if the variable's type is struct though? We cannot have const structs in Go.

I understand the concerns behind having a default object that is mutable, but I would point to {{DefaultClient}} and {{DefaultServeMux}} in the standard library as examples of exported variables for default objects. https://golang.org/pkg/net/http/#pkg-variables

Still looking for what the right, idiomatic way to do this in Go is. And if anybody out there has a pointer to a reference implementation, I'd love to see it.;;;",,,,,,,,,,,,,,,,,,,,,
Remove TLSEnabled() from core/comm package,FAB-9522,29406,29405,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bpbuch,mastersingh24,mastersingh24,15/Apr/18 6:49 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Apr/18 11:12 PM,,,,,,,,,,,0,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz5yf:",,,,,,,,,,,,,,,,,,,,,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 8:36 AM;kchristidis;https://gerrit.hyperledger.org/r/c/20683/;;;",,,,,,,,,,,,,,,,,,,,,
Use American Spelling in Document to be Consistent with Config and Code,FAB-9523,29407,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,15/Apr/18 8:25 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,17/Apr/18 1:04 AM,,,,,,,fabric-docs,,,,0,,,,,"The document has both American and British spelling (organization/organisation, etc.).

Since labels in configuration file (configtx.yaml), standard configuration directory (crypto-config/peerOrganizations) and many identifiers in source codes use American spelling, it would be kind to a reader if the document use American spelling consistently.",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz5yn:",,,,Unset,,,,,,Unset,,,,,,,,,,,ynamiki,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Apr/18 8:32 PM;ynamiki;https://gerrit.hyperledger.org/r/20585;;;",,,,,,,,,,,,,,,,,,,,,
e2e test - gradual discovery of the network as it changes,FAB-9524,29408,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,yacovm,yacovm,15/Apr/18 11:49 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/Jul/18 10:36 PM,,,,v1.2.0,,,,,,,0,e2e-test,,,,"We need to have an e2e test that spin up a couple of peers and create a channel, install chaincodes, instantiate chaincodes and then see that the discovery service provides accurate information.

 

Create a network with a single channel and 3 organizations - Org1, Org2, Org3 with 2 peers per organization \{p0, p1}, and a chaincode with endorsement policy of ""3 choose 2""
 # 
 ## Use the discovery CLI (To be implemented in FAB-10110) *with credentials initialized for Org3* to query all discovery queries, and expect:
 ### Peers to be in the membership view, config query should also work, but endorsement queries would return that the chaincode cannot be found since it's not instantiated.
 ## Install the chaincode on p0.Org1 and instantiate it.
 ## Use the discovery CLI to query all discovery queries, and expect:
 ### The membership query would now have a chaincode installed on p0.Org1
 ### The endorser query would return that the endorsement policy cannot be satisfied
 ## Install and instantiate the chaincode on every p0 but not on p1 for Org2 and Org3.
 ## Use the discovery CLI to query all discovery queries, and verify the results:
 ### The membership query should contain now that all peers p0's have the chaincode but not the p1's.
 ### The endorser query should convey 3 different layouts (A, B) , (A, C) and (B, C) and with 1 peer each.
 ## Install another chaincode and instantiate it on all peers. Its endorsement policy would be ""3 choose 3"" (1 signature from every org).
 ## Use the discovery CLI to query a chaincode to chaincode endorsement query and verify the results:
 ### There should be only 1 layout with all organizations in it.
 ## upgrade the first chaincode and add a collection definition with a collection policy of (A, C).
 ## Use the discovery CLI to query a collection query for the collection, in the context of the first chaincode, and verify the results:
 ### There should be only a single layout corresponding to (A, C).
 ## Issue a config update and change the channel writer policy to Org1 OR Org2 (in other words - remove Org3 from the channel writers)
 ### Use the discovery CLI to query a peer query and ensure that ""access denied"" is returned.",,latitiah,nirro,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10687,,,,,,,,,"02/Jun/18 7:22 AM;yacovm;Capture.PNG;https://jira.hyperledger.org/secure/attachment/15041/Capture.PNG","27/May/18 9:31 PM;yacovm;endorsers.PNG;https://jira.hyperledger.org/secure/attachment/15023/endorsers.PNG","17/Jun/18 9:02 PM;nirro;gjdzm4rd.bmp;https://jira.hyperledger.org/secure/attachment/15112/gjdzm4rd.bmp","17/Jun/18 9:04 PM;nirro;j88z4f1u.bmp;https://jira.hyperledger.org/secure/attachment/15113/j88z4f1u.bmp","27/May/18 9:27 PM;yacovm;peers.PNG;https://jira.hyperledger.org/secure/attachment/15022/peers.PNG",,,,,,,,,FAB-8779,,,,,,,,,,"1|hzz5yv:",,,,,,,,,,,,,,,,,,,,,latitiah,nirro,yacovm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/May/18 9:32 PM;yacovm;The discovery CLI is ready   [~C0rWin]  [~nirro]    :)

[https://gerrit.hyperledger.org/r/#/c/22175/]

 

Instructions:

*to build:*

change directory to *cmd/discover*
{code:java}
go build -o discover
{code}
It needs to be configured once, via:
{code:java}
./discover saveConfig --peerTLSCA=tls/ca.crt --userCert=msp/signcerts/Admin\@org1.example.com-cert.pem --userKey=msp/keystore/e7804384393cf3f1f0dff22fd15aad3d3ad58d54297c59e99189bdd950e02a70_sk --MSP=Org1MSP{code}
and this would cause it to deploy a config file in *~/.fabric/config.yaml*

It outputs queries in JSON format, which is very easy to process for programs. 
 The following 2 queries are peer queries: 
 !peers.PNG|thumbnail!

Below is an endorser query
 !endorsers.PNG|thumbnail!

I'd also put the config query output which is outputted via:
{code:java}
./discover config --server peer0.org1.example.com:7051  --channel mychannel
{code}
But the config has way too many certificates to put in this JIRA ;)

To query for chaincode2chaincode just pass more *--chaincode=* flags.
 To query for collections *col1, col2* in *mycc*, just specify via *--collection=mycc:col1,col2*;;;","02/Jun/18 7:22 AM;yacovm;I was requested to change the CLI so the new usage is as follows:

 !Capture.PNG|thumbnail! ;;;","06/Jun/18 11:30 PM;latitiah;[~nirro]: I see that this is still in the ""To Do"" state, do you need any assistance here so we can get this moving forward? ;;;","07/Jun/18 3:38 PM;nirro;I was working this week on private data e2e issues and planning to start with this issue right after (in the next 1-2 days).
thanks [~latitiah]!;;;","12/Jun/18 8:27 PM;nirro;WIP - https://gerrit.hyperledger.org/r/#/c/22973/;;;","17/Jun/18 9:04 PM;nirro;there are minor issues found in the first steps:
1. in step (1), when I run discover endorsers for a chaincode that is not installed nor instantiated I expect to get that as an error.
the error is written in the peer's log, but discover endorsers returns ""failed constructing descriptor for chaincodes:<name:""mycc""
I added an image.

2. in step (3), when running the same command discover endorsers, I expect to get an error that it is not installed on sufficient number of peers/orgs. again same issue, the problem is written in the peer's log but the result returned from discover endorsers command is the same as in the previous point.

3. another minor issue is that the error message is returned in the result value and not as an error (in the e2e tests returned inside runner.Buffer instead of runner.Err)

4. the membership query in step (3) doesn't show any data about installed chaincodes.
according to the documention I don't think it should, but here in step (3) Yacov wrote it should..
maybe [~yacovm] can respond if discover peers should show any data about installed chaincodes.;;;","17/Jun/18 11:06 PM;yacovm;1,2 and 3 are OK (just work with the error you uploaded). This is expected output. The instruction in (1) is a bit misleading because at the time of writing this plan I didn't take into account the actual error output to the client.
w.r.t 3 - it's by design... application level errors are returned via responses in gRPC, while infrastructure errors are returned via the errors themselves. 

w.r.t 4 - oops, I forgot to add the chaincodes to the output, sorry :) 

implemented in https://gerrit.hyperledger.org/r/#/c/23223/ and also updated the documentation 

;;;","18/Jun/18 12:19 AM;yacovm;Merged.;;;","20/Jun/18 12:14 AM;nirro;finished implementing the tests - https://gerrit.hyperledger.org/r/#/c/22973/;;;",,,,,,,,,,,,,
Idemix-related options,FAB-9525,29409,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,dubovitskaya,dubovitskaya,16/Apr/18 7:12 AM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,16/Apr/18 7:13 AM,,,,v1.2.0,,,fabric-crypto,,,,0,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:l",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix-based BCCSP,FAB-9526,29410,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,dubovitskaya,dubovitskaya,16/Apr/18 7:14 AM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,26/Nov/18 4:22 PM,,,,v1.3.0,,,fabric-crypto,,,,0,,,,,The goal is introduce a BCCSP implementation that supports the Idemix options,,angelo.decaro,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:m",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,dubovitskaya,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/18 12:29 AM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/21109/;;;",,,,,,,,,,,,,,,,,,,,,
Rerouting to Idemix BCCSP,FAB-9527,29411,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,dubovitskaya,dubovitskaya,16/Apr/18 7:14 AM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,27/Nov/18 2:47 PM,,,,v1.3.0,,,fabric-crypto,,,,0,,,,,The goal of this sub-task is to replace all calls to fabric/idemex with calls to the idemix-based BSCSP.,,angelo.decaro,dubovitskaya,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:n",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,dubovitskaya,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/18 7:19 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27381/;;;",,,,,,,,,,,,,,,,,,,,,
move ACL access interfaces to channelconfig,FAB-9531,29417,28717,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,16/Apr/18 8:19 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Apr/18 1:06 AM,,,,,,,fabric-tools,,,,0,,,,,"Code in core/peer and core/aclmgmt use resourcebundle for providing resource to policy mapping. As a first step to removing that accesspoint, move the mapping interfaces to channelconfig.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz60f:",,,,,,,,,,,,,,,,,,,,,muralisr,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
User Feedback: What is an artifact?,FAB-9532,29418,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,16/Apr/18 9:23 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"From Stack Overflow 4/14

What is an artifact?

I see the word everywhere in building a Hyperledger network, but I don't exactly know what it is and the Hyperledger docs don't return a definition when I query them. 
Maybe it's a dumb question because the docs don't define it and assume you should know, but I don't and can't find a precise answer to it.

 
Artifacts in Hyperledger are channel configuration files which are required for the Hyperledger Fabric network. They are generated at the time of network creation.

These include:
 # Genesis.block: First block of a chain, that initializes a block chain
 # Channel.tx: Channel configuration transaction
 # Org1MSPanchors.tx: Anchor Peer update (Defining a peer from Org1 as an anchor peer)

configtxgen command is used to create the above channel config artifacts.",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtwv:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/18 9:25 PM;pandrejko;Add this to the Glossary;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Fix duplicate items in Getting Started TOC,FAB-9534,29422,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,16/Apr/18 10:17 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,20/Apr/18 8:34 PM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"In FAB-9211 the title of the page was renamed from 'Hyperleger Fabric Samples' to 'Install Samples, Binaries and Images'.

So now 'Install Samples and Binaries...' occurs twice in the getting started toc which is confusing.

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtyf:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/18 3:59 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/20627/;;;",,,,,,,,,,,,,,,,,,,,,
Chaincode launch timeout is hardcoded for cc2cc,FAB-9535,29427,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChristopherFerris,jyellick,jyellick,17/Apr/18 1:02 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,Future,,,fabric-peer,,,,0,,,,,"https://github.com/hyperledger/fabric/blob/release-1.1/core/chaincode/handler.go#L1372-L1373

There is a TODO in handler.go which uses a hardcoded timeout rather than basing it on the configured chaincode startup timeout, this should be fixed.",,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz63z:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 1:22 AM;ChristopherFerris;This has already been addressed in a refactor;;;",,,,,,,,,,,,,,,,,,,,,
Orderer broadcast thread can panic on malformed message,FAB-9536,29428,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,17/Apr/18 1:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,17/Apr/18 6:30 AM,v1.1.0,,,v1.1.1,v1.2.0,,fabric-orderer,,,,0,,,,,"The orderer attempts to log the channel ID on broadcast failures.  If the message is malformed, the channel header may not be set, and the logging could produce a panic.  Although this is a handled panic, it should be fixed.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz647:",,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/18 2:55 AM;kchristidis;1.1.x branch: [https://gerrit.hyperledger.org/r/c/20631]

master branch: [https://gerrit.hyperledger.org/r/c/20629/]

 ;;;",,,,,,,,,,,,,,,,,,,,,
[Build] - Add tox.ini to build docs in fabric release-1.0 branch,FAB-9538,29431,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/Apr/18 4:27 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 1:36 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,Add tox.ini to build fabric doc's in release-1.0 branch.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz64n:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,release-1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Apr/18 4:51 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20641/;;;",,,,,,,,,,,,,,,,,,,,,
Gossip tests fail in CI jobs due to assertion error in fabric-test-daily job,FAB-9539,29432,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,17/Apr/18 4:59 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,11/May/18 11:40 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The following errors are observed in Gossip test,


{code:java}
gossip.Gossip Service.[FAB-4682] In leader-selection, a non-leader peer, that joins an already-active channel--is expected to have all the blocks eventually.

Error Message
Expected response was 940; received Query Result: 1000

And a user makes peer ""peer1.org2.example.com"" join the channel ... passed in 7.246s
    When a user queries on the chaincode named ""mycc"" with args [""query"",""a""] on ""peer1.org2.example.com"" ... passed in 21.199s
    Then a user receives a success response of 940 from ""peer1.org2.example.com"" ... failed in 0.000s
{code}


",,jyellick,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz64v:",,,,,,,,,,,,,,,,,,,,,jyellick,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 12:42 AM;jyellick;Coul dthis be a duplicate of FAB-8843 ?;;;","11/May/18 11:40 PM;sambhavdutt;I see now that the Gossip tests in the fabric-test-daily do not fail because of the Assertion error that this bug was intended for, but because of the kafka failiure. A bug is created for the kafka test fails FAB-9932
Marking this as Done.

*Build Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/347/;;;",,,,,,,,,,,,,,,,,,,,
"ledger_lte tests are failing in the CI job for fabric-test-daily(couchdb, goleveldb)",FAB-9541,29434,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,17/Apr/18 5:30 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,26/Apr/18 10:46 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"perf_couchdb, perf_goleveldb tests are failing in ledger_lte due to the following errors, 


{code:java}
found fabric repo....
rm: cannot remove '/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE': No such file or directory
cp: cannot create directory '/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools': No such file or directory
./runbenchmarks.sh: line 17: cd: /w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/scripts: No such file or directory
**Note**: This is a Benchmark test. Please make sure to set an appropriate value for ulimit in your OS.
Recommended value is 10000 for default parameters.
Current ulimit=1048576
Parameter file: parameters_couchdb_daily_CI.sh
Starting couchdb container...
Please note that host port 5984 will be made reachable 
INFO: outputDIR [/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/LTE/TestResults/experiments/BenchmarkInsertTxs] already exists. Output will be appended to existing file
go test -v -timeout 1000m github.com/hyperledger/fabric/test/tools/LTE/experiments -testParams=""-DataDir=/tmp/fabric/test/tools/LTE/data, -NumChains=10, -NumParallelTxPerChain=10, -NumKeysInEachTx=4, -BatchSize=10, -NumKVs=10000, -KVSize=200"" -bench=BenchmarkInsertTxs
can't load package: package github.com/hyperledger/fabric/test/tools/LTE/experiments: cannot find package ""github.com/hyperledger/fabric/test/tools/LTE/experiments"" in any of:
	/opt/go/go1.10.linux.amd64/src/github.com/hyperledger/fabric/test/tools/LTE/experiments (from $GOROOT)
	/w/workspace/fabric-test-daily-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/experiments (from $GOPATH)
Stopping couchdb container (id: 90f0b6c55787)...

{code}

*Build logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/

",,AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz65b:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"25/Apr/18 5:23 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/20981/;;;","26/Apr/18 10:41 PM;sambhavdutt;The legger_lte tests have passed in the CI daily tests.
*Build Logs*
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/333/artifact/gopath/src/github.com/hyperledger/fabric-test/;;;","26/Apr/18 10:46 PM;AdnanChoudhury;Tests running ok and passed, closing this jira.;;;",,,,,,,,,,,,,,,,,,,
[CI] release-1.0 - No rule to make target 'basic-checks',FAB-9542,29435,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sanchezl,sanchezl,17/Apr/18 5:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 6:22 PM,,,,v1.0.7,,,fabric-build,,,,0,,,,,"From https://gerrit.hyperledger.org/r/c/20633/:
{code:java}
16:57:55 -------> Perform make basic-checks (license spelling linter)
16:57:59 make: *** No rule to make target 'basic-checks'.  Stop.
16:57:59 ------> make linter FAILED
16:58:00 Build step 'Execute shell' marked build as failure{code}",,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7463,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz65j:",,,,,,,,,,,,,,,,,,,,,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,release-1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/18 6:22 PM;mastersingh24;https://gerrit.hyperledger.org/r/21191;;;",,,,,,,,,,,,,,,,,,,,,
Add notification about endorsement / collection policy change in filtered events,FAB-9544,29438,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,yacovm,yacovm,17/Apr/18 7:12 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,27/Apr/18 2:56 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Currently, the filtered events don't have any indication of the chaincode name.
 That is acceptable, as we don't want to leak any data other than the minimal necessary for the application to know that its transaction was validated or not.

Note: The chaincode id appears in the chaincode events, but not every chaincode has an event.
{code:java}
message ChaincodeEvent {
      string chaincode_id = 1;
      string tx_id = 2;
      string event_name = 3;
      bytes payload = 4;
}
{code}
Ideally, the SDK would be notified about endorsement policy changes so that it can immediately issue a new query for the endorsers of the chaincode from the peer(s) that act as the discovery servers, so it can have accurate information about which organizations it should or should not send endorsements to.
 * When normal endorsements are involved, it is sufficient (from confidentiality point of view) to re-query the discovery service only upon a config change. This is possible right now because the filtered events have an indicator of the header type and config transactions also get sent to clients via the peer deliver service ( [~C0rWin] - am I correct?) and thus can be used for the application to determine whether it should re-send an endorser query (or a config query, etc.)
 However, we might also want to know about endorsement policy changes, so the SDK won't send transactions that are invalid and thus waste resources and time.
 * When transactions with private data are involved, we need to know whether the collection config changed or not, so the application won't send sensitive data to the peer. I see 2 ways of tackling this:
 ** Have an LSCC instantiate or upgrade contain a chaincode event via *stub.SetEvent()*, which would be transferred to the SDK.
 ** Add a new oneof type to the *Data* field and have it indicate an LSCC write.
{code:java}
message FilteredTransaction {
    string txid = 1;
    common.HeaderType type = 2;
    TxValidationCode tx_validation_code = 3;
    oneof Data {
        FilteredTransactionActions transaction_actions = 4;
    }
}
{code}

Would like to hear opinions about:
 # What approach should we take
 # What version should this be targeted for?

[~C0rWin] , [~mastersingh24] , [~jyellick] , [~ellaki] [~denyeart]",,C0rWin,mastersingh24,n-horiguchi,nirro,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz667:",,,,Unset,,,,,,Unset,,,,,,,,,,,C0rWin,mastersingh24,n-horiguchi,nirro,yacovm,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 8:28 PM;mastersingh24;[~yacovm] - Given that we simply need to send a notification that something changed to trigger clients to re-query the discovery service, I'd go with the *stub.SetEvent()* approach.  We should also see if there are any other ""events"" we should propagate from lifecycle as well.  This approach also seems to have limited surface area in terms of the change, so I'd be ok trying to add this as part of 1.2;;;","19/Apr/18 8:48 PM;yacovm;[~C0rWin] ^ ;;;","20/Apr/18 6:23 AM;C0rWin;[~yacovm] we discussed this offline, but my preference would be similar to have **stub.SetEvent()** and try to contain in v1.2;;;","24/Apr/18 7:14 PM;nirro;https://gerrit.hyperledger.org/r/#/c/20933/;;;","24/Apr/18 7:42 PM;yacovm;{code:java}
stub.SetEvent(UPGRADE, eventPayload){code}
If we are to add the name of the chaincode inside some eventPayload, I think we might want to put it inside a protobuf message so it can be extendable in the future.... shall we add a new protobuf message to carry this?

 Since we might make changes to the lifecycle I suggest it'll be a new proto message and not something that exists and might be either changed, or is already used for multiple stuff

[~C0rWin] [~mastersingh24] wdyt?;;;",,,,,,,,,,,,,,,,,
Align proto fields to standards,FAB-9545,29439,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Apr/18 7:18 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/Apr/18 12:05 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,a few fields in the protobuf schema are in camel case which should not be so.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz66f:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Allow changes to collection config - VSCC side,FAB-9546,29440,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,manish-sethi,manish-sethi,17/Apr/18 1:08 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 10:22 AM,,,,,,,fabric-peer,,,,0,,,,,"* Need to make sure that we remove any checks in the code, primarily in LSCC that prevents the changes to the existing collection configuration.
 * Add a check that prevents incompatible changes during the changes in the collection configuration

 ** block_to_live is not permitted to be changes. This is introduced in the CR that is yet to be merged https://gerrit.hyperledger.org/r/#/c/16971/6/protos/common/collection.proto",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz66n:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Curl command is in google, not accessable in China",FAB-9547,29444,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,luomin,negupta,negupta,17/Apr/18 9:46 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/May/18 7:24 AM,,,,WON'T FIX,,,fabric-docs,,,,0,Documentation,,,,"[https://hyperledger-fabric.readthedocs.io/en/latest/install.html]

On this page the binaries and samples are accessible via a google curl, which is not accessible in china.

curl -sSL https://goo.gl/6wtTN5 | bash -s 1.1.0",,ChristopherFerris,luomin,negupta,,,,,,,,,,,,,,,144000,144000,,0%,144000,144000,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtcn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,luomin,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Apr/18 9:48 PM;negupta;[~ChristopherFerris];;;","18/Apr/18 10:59 AM;luomin;I confirmed the access from the mainland China just now,

goo.gl service is NOT available,

alternative (oversea URL shortener) service that works in mainland China includes:

[https://bit.ly|https://bit.ly/]

[https://tinyurl.com/]  <-  very slow

 

e.g. [https://bit.ly/2ByjiYZ]  works;;;","06/May/18 7:25 AM;ChristopherFerris;The point is not necessarily to have a short URL so much as it is to enable us to track downloads. Google's analytics for its URL shortener are deprecated, and we will need to find an alternate means of accomplishing the objective.

The documents include a note that provides an alternate URL (the github raw URL), hence while it is an inconvenience, it is not insurmountable.

Closing this.;;;",,,,,,,,,,,,,,,,,,,
Broken image link,FAB-9548,29445,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,nerogit,nerogit,17/Apr/18 10:42 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,18/May/18 9:30 PM,,,,,,,fabric-docs,,,,0,,,,,"Can't load the `_static/images/` because of the incorrect relative path.


https://hyperledger-fabric.readthedocs.io/en/release-1.1/identity/identity.html",,nerogit,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz66v:",,,,Unset,,,,,,Unset,,,,,,,,,,,nerogit,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
The fabric-smoke-test-daily and fabric-test-merge CI jobs do not execute the right tests.,FAB-9549,29446,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,17/Apr/18 11:33 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,19/Apr/18 11:03 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,"The fabric-smoke-test-daily CI job and fabric-test-merge job are currently executing the daily tests, not the smoke test that they supposed to execute. These jobs should execute the smoke tests instead.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz673:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Apr/18 12:36 AM;sambhavdutt;Pushed the patch to execute the right tests for fabric-test-merge and fabric-smoke-test-daily, waiting for the merge.;;;","19/Apr/18 11:03 PM;sambhavdutt;The fabric-smoke-test daily and fabric-test merge are executing the correct set of tests now. The output report is appropriate.;;;",,,,,,,,,,,,,,,,,,,,
Add collections and cc2cc support in the protobuf,FAB-9550,29447,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Apr/18 12:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 4:27 PM,,,,v1.2.0,,,,,,,0,,,,,"For cc2cc calls and collections, we need to enhance the protobufs with the appropriate messages. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz67b:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Refactor chaincode support to include component level integration test examples,FAB-9551,29448,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,18/Apr/18 12:39 AM,08/Sep/18 4:51 AM,28/Oct/23 3:02 AM,08/Sep/18 2:54 AM,v1.2.0,,,v1.2.0,,,,,,,0,hygiene,,,,There's been a request for examples in the fabric code of component level integration tests. We'll be using chaincode support and its related assets to do this work.,,denyeart,JonathanLevi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzymd3:",,,,Unset,,Next Items - Hygiene,,,,Unset,,,,,,,,,,,denyeart,JonathanLevi,sykesm,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 11:54 AM;JonathanLevi;[~sykesm] I have assigned you to this entire feature (given that the majority of these sub-tasks are yours);;;","14/Jul/18 12:00 AM;denyeart;[~sykesm] Do you want to keep the remaining subtasks on the radar on the Hygiene board?  Or should we close out this Task now?;;;","08/Sep/18 2:53 AM;sykesm;[~denyeart], doesn't look like I can get this to transition to done. Even though there's more to do to get a ""proper"" component integration test pulled out of this package, all of these subtasks are complete and I don't think it makes sense to carry this task as is.;;;","08/Sep/18 4:51 AM;denyeart;[~sykesm] Looks like you got it to close.  I agree, 52 subtasks is enough :).;;;",,,,,,,,,,,,,,,,,,
"In fabcar invoke.js line 151, access an un-declared variable.",FAB-9552,29449,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,suntoe,suntoe,suntoe,18/Apr/18 1:27 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 5:33 PM,,,,v1.2.0,,,fabric-samples,,,,0,,,,,"See fabcar/invoke.js line 146 - 158, the variable *{color:#d04437}response{color}* {color:#333333}is not declared before or assigned any value so response.status will definitely fail.{color}

 

{color:#333333}--------------------------------------------------------------------------------------------------------------{color}

console.log('Send transaction promise and event listener promise have completed');
 // check the results in the order the promises were added to the promise all list
 if (results && results[0] && results[0].status === 'SUCCESS') \{
         console.log('Successfully sent transaction to the orderer.');
 } else \{
         console.error('Failed to order the transaction. Error code: ' + *{color:#d04437}response{color}*.status);
 }

if(results && results[1] && results[1].event_status === 'VALID') \{
         console.log('Successfully committed the change to the ledger by the peer');
 } else \{
         console.log('Transaction failed to be committed to the ledger due to ::'+results[1].event_status);
 }",,suntoe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz67j:",,,,,,,,,,,,,,,,,,,,,suntoe,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 1:36 AM;suntoe;Submited a CR (https://gerrit.hyperledger.org/r/#/c/20675/) following instructions on http://hyperledger-fabric.readthedocs.io/en/release-1.1/submit_cr.html;;;",,,,,,,,,,,,,,,,,,,,,
Runtime not working in Vagrant environments,FAB-9553,29450,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Apr/18 2:12 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Apr/18 2:25 AM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"Recent changes have broken runtime in Vagrant environments:
 * binaries directory has changed from /build/bin directory to /.build/bin directory
 * /fabric/sampleconfig directory no longer picked up by default, must specify FABRIC_CFG_PATH env variable.

The change fixes Vagrant environment accordingly.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu3j:",,,,,,,,,,,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 2:14 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20677/;;;",,,,,,,,,,,,,,,,,,,,,
Add multiple endorsements in peer CLI via connection profile,FAB-9556,29453,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,18/Apr/18 3:00 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 9:10 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The peer CLI needs to be enhanced to allow collecting multiple endorsements during chaincode invocation. 

This task will read in a connection profile and assign the values to the new set of peer addresses and TLS root cert files array pflags (introduced by FAB-9446) in order to obtain the necessary endorsements.
 * Example CLI call:
 ** 
{code:java}
peer chaincode invoke -o orderer.example.com:7050 --tls --cafile $ORDERER_CA -C $CHANNEL_NAME -n mycc --connectionprofile <path-to-connection-profile.yaml> -c '{""Args"":[""invoke"",""a"",""b"",""10""]}' >&log.txt{code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz67z:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 1:18 AM;wlahti;https://gerrit.hyperledger.org/r/c/20771/;;;",,,,,,,,,,,,,,,,,,,,,
Minor grammar error in identity.md,FAB-9557,29454,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,huikang,huikang,18/Apr/18 3:54 AM,10/Jan/20 7:55 AM,28/Oct/23 3:02 AM,10/Jan/20 7:55 AM,,,,,,,fabric-docs,,,,0,Documentation,,,,"To fix some minor grammar error found in the doc.
 # ""and as such, it that defines the"" should be ""and as such, it -that- defines the""
 # ""can happen fora number of"" misses a space between for and a",,huikang,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz687:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,pandrejko,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/18 12:48 PM;huikang;Shall we close this as the CR was merged?;;;","10/Jan/20 7:55 AM;pandrejko;https://gerrit.hyperledger.org/r/#/c/fabric/+/20685/;;;",,,,,,,,,,,,,,,,,,,,
Remove configtxgen default channel id,FAB-9558,29457,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,18/Apr/18 5:45 AM,20/Feb/19 2:47 AM,28/Oct/23 3:02 AM,20/Feb/19 2:47 AM,,,,v2.0.0,,,fabric-tools,,,,0,configtxgen,,,,"Almost everyone seems to bootstrap their orderer system channel with the terrible default name of 'testchainid'.

We should remove the default so that users are not confused or surprised by a 'testchainid'.  But first, we should deprecate the function in v1.2.",,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz68v:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,jyellick,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/19 10:41 AM;denyeart;[~jyellick] I believe this was done in v1.2, closing. If anything remains please re-open and add more subtasks.;;;","23/Jan/19 11:48 AM;jyellick;Omitting the flag was deprecated, but it we still do not require it.  This was to track requiring the flag, and is probably a good candidate for v2.0.  It is a 1 line code change, but it will break scripts which depend on the old behavior.;;;",,,,,,,,,,,,,,,,,,,,
Deprecate configtx default channel ID,FAB-9559,29458,29457,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,18/Apr/18 5:47 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Apr/18 9:59 PM,,,,v1.2.0,,,fabric-tools,,,,0,configtxgen,,,,"Users should not be using the default 'testchainid' for their orderer system channel.  To prepare for removing this default, we should add a warning that its usage will be discontinued in the future.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz693:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Provisional bootstrapper should not rely on configtxgen default,FAB-9560,29460,29457,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,kchristidis,kchristidis,18/Apr/18 6:01 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,v1.1.0,,,Future,,,fabric-orderer,,,,0,,,,,"The orderer's {{localconfig}} package uses configtxgen's {{localconfig}} package to extract the value for the default system channel name. In particular, this is used by the provisional bootstrapper, which allows an orderer to spin up w/o a genesis block.

This dependency is wrong: a core Fabric component should not have a dependency on a tool. (The dependency arrow should point the other way.)

A default value for the system channel should be defined locally, in a package contained by the orderer.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz69b:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Apr/18 10:12 AM;kchristidis;Considering to just export the {{defaults}} object and be done with it. Depends on what the outcome of the discussion in FAB-9521 is.;;;","21/Apr/18 12:23 AM;kchristidis;Abandoned. I will export the {{defaults}} object instead, so this is no longer a subtask of FAB-9558. See FAB-9619.;;;",,,,,,,,,,,,,,,,,,,,
Typo in Key-Concepts/Identity doc,FAB-9561,29461,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,atakada,atakada,atakada,18/Apr/18 6:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 6:32 AM,v1.1.0,,,v1.1.1,,,fabric-docs,,,,0,,,,,"I found a typo in “A Simple Scenario to Explain The Use of an Identity” section of Key-Concepts/Identity.

 

[http://hyperledger-fabric.readthedocs.io/en/latest/identity/identity.html]

 

“It will be not be accepted.” contains duplicated “be”.",,atakada,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz69j:",,,,,,,,,,,,,,,,,,,,,atakada,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 11:16 AM;atakada;Patch submitted.

https://gerrit.hyperledger.org/r/#/c/20699/;;;",,,,,,,,,,,,,,,,,,,,,
Typo in fabric/msp-identity-validity-rules,FAB-9562,29463,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,18/Apr/18 7:24 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 2:02 AM,v1.1.0,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,Documentation,,,,"{color:#000000}I found a {color}{color:#000000}typo{color}{color:#000000} at line 29 in {color}{color:#212121}fabric/msp-identity-validity-rules{color}{color:#000000}.rst.{color}
{color:#000000}It seems to be ""and"" instead of ""an"".{color}",,mastersingh24,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz69z:",,,,,,,,,,,,,,,,,,,,,mastersingh24,nnao,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Apr/18 7:51 AM;nnao;https://gerrit.hyperledger.org/r/c/20697/;;;","21/Apr/18 1:21 AM;mastersingh24;https://gerrit.hyperledger.org/r/20823   cherrypick to release-1.1;;;",,,,,,,,,,,,,,,,,,,,
Simplify validateTx function of txalidator ,FAB-9563,29464,21797,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,C0rWin,C0rWin,C0rWin,18/Apr/18 7:56 AM,15/May/19 9:47 PM,28/Oct/23 3:02 AM,15/May/19 9:47 PM,,,,v1.4.0,,,fabric-peer,,,,0,hygiene,,,,"Currently the {{validateTx}} function of transaction validation code spans on few hundred lines of code, making it unmaintainable and hard to follow. Suggest to refactor and split validation code into logically separated functions.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6a7:",,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong Flag Name in Commands Reference,FAB-9564,29465,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,18/Apr/18 9:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 8:56 PM,,,,Abandoned,,,fabric-docs,,,,0,,,,,"In the Command Reference, `peer channel` command has `--clientuth` flag, which is wrong; it should be `--clientauth`.

http://hyperledger-fabric.readthedocs.io/en/master/commands/peerchannel.html?highlight=clientuth
",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6af:",,,,,,,,,,,,,,,,,,,,,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Apr/18 9:46 AM;ynamiki;https://gerrit.hyperledger.org/r/20701;;;",,,,,,,,,,,,,,,,,,,,,
README.md: Installation link broken,FAB-9567,29469,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,huikang,huikang,huikang,18/Apr/18 12:47 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,22/Apr/18 11:46 PM,,,,,,,fabric-samples,,,,0,Documentation,,,,"* The installation link [1] in the README.md is broken.
 * [https://github.com/hyperledger/fabric/blob/release-1.1/devenv/README.md] [2]

[1][http://hyperledger-fabric.readthedocs.io/en/latest/samples.html]

[2]https://github.com/hyperledger/fabric/blob/master/docs/dev-setup/devenv.md",,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6b3:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Collect orderer Broadcast count and latency,FAB-9568,29471,13707,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,xixuejia,xixuejia,18/Apr/18 2:04 PM,29/Nov/18 6:06 AM,28/Oct/23 3:02 AM,29/Nov/18 6:06 AM,,,,v1.4.0,,,fabric-orderer,,,,0,,,,,"The Broadcast service is responsible for taking a stream of transactions from the user, validating them, and enqueuing them into the consensus implementation.  Therefore as a first set of metrics it makes sense to expose:

{noformat}
        validateDuration = metrics.HistogramOpts{
                Namespace:    ""broadcast"",
                Name:         ""validate_duration"",
                Help:         ""The time to validate a transaction."",
                LabelNames:   []string{""channel"", ""type"", ""status""},
                StatsdFormat: ""%{#fqname}.%{channel}.%{type}.%{status}"",
        }
        enqueueDuration = metrics.HistogramOpts{
                Namespace:    ""broadcast"",
                Name:         ""enqueue_duration"",
                Help:         ""The time to enqueue a transaction."",
                LabelNames:   []string{""channel"", ""type"", ""status""},
                StatsdFormat: ""%{#fqname}.%{channel}.%{type}.%{status}"",
        }
        processedCount = metrics.CounterOpts{
                Namespace:    ""broadcast"",
                Name:         ""processed_count"",
                Help:         ""The number of transactions processed."",
                LabelNames:   []string{""channel"", ""type"", ""status""},
                StatsdFormat: ""%{#fqname}.%{channel}.%{type}.%{status}"",
        }
{noformat}

The {{validateDuration}} should include the time spent by the orderer after the Recv() has successfully returned with the client transaction through the time that the message has either been ruled invalid (returning an error status) or is ready to enqueue (either via the Order, or Configure consenter verbs).  This time contains the CPU intensive activities like validating signature, and unmarshaling message contents.

The {{enqueueDuration}} should include the time spent by the either Order or Configure consenter verbs.  There is no need to differentiate the verbs as the transaction type determines this.  This time contains whatever activities are performed by the underlying consensus implementation to consider the tx accepted.

The sum of the validationDuration and enqueueDuration will be the total processing time for the transaction in the Broadcast service, however, there is no obvious value in exposing this as an additional histogram value, and instead the sum of the two distributions should give a good picture of overall orderer health.

The {{processedCount}} should be a total count of the number of messages handled after Recv().

When there is an error decoding the transaction to determine the channel or type, these labels should be set to the value ""unknown"".  ",,bjwswang,kchristidis,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6bb:",,,,,,,,,,,,,,,,,,,,,bjwswang,kchristidis,xixuejia,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 6:06 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27670/;;;",,,,,,,,,,,,,,,,,,,,,
Collect orderer Deliver count and latency,FAB-9570,29473,13707,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,xixuejia,xixuejia,18/Apr/18 2:25 PM,14/Dec/18 1:10 AM,28/Oct/23 3:02 AM,14/Dec/18 1:10 AM,,,,v1.4.0,,,fabric-orderer,,,,0,,,,,"The number of interesting metrics to be exposed by the deliver service is very limited, as the underlying gRPC metrics should account for number of open requests, while the underlying ledger metrics should handle the block creation rate etc.  The processing time to validate deliver requests should be constant, and should generally be insignificant compared to the time spent delivering blocks.  The rate of delivering blocks is generally dependent on the commit rate of the blocks and not of the deliver server.

{noformat}
        requestCount = metrics.CounterOpts{
                Namespace:    ""deliver"",
                Name:         ""request_count"",
                Help:         ""The number of deliver requests received."",
                LabelNames:   []string{""channel"", ""status""},
                StatsdFormat: ""%{#fqname}.%{channel}.%{status}"",
        }
        blockCount = metrics.CounterOpts{
                Namespace:    ""deliver"",
                Name:         ""block_count"",
                Help:         ""The number of blocks sent."",
                LabelNames:   []string{""channel""},
                StatsdFormat: ""%{#fqname}.%{channel}"",
        }
{noformat}

The {{requestCount}} is largely a repeat of the gRPC metric, but adds the important differentiation based on channel and status.  The {{blockCount}} similarly should correlated strongly with some gRPC metrics, but adds the additional channel context.",,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6bj:",,,,,,,,,,,,,,,,,,,,,xixuejia,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
MSP cache doesn't cache indirect calls to Validate,FAB-9571,29477,29397,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Apr/18 7:42 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Apr/18 1:40 AM,,,,v1.2.0,,,fabric-crypto,,,,0,,,,,"The MSP cache, caches the invocation of *Validate*, however - many of the invocations of *Validate* are invoked indirectly via the identities that the MSP returns via DeserializeIdentity(), and these invocations are not cached, because the bccsp msp's identity simply invokes the bccsp MSP's *Validate()* which bypasses the cache.

The following code demonstrates it:

{code}
func TestSatisfiesValidateIndirectCall(t *testing.T) {
	mockMSP := &mocks.MockMSP{}

	mockIdentity := &mocks.MockIdentity{ID: ""Alice""}
	mockIdentity.On(""Validate"").Run(func(_ mock.Arguments) {
		panic(""shouldn't have invoked the identity method"")
	})
	mockMSP.On(""DeserializeIdentity"", mock.Anything).Return(mockIdentity, nil).Once()
	mockIdentity.On(""GetIdentifier"").Return(&msp.IdentityIdentifier{Mspid: ""MSP"", Id: ""Alice""})

	cache, err := New(mockMSP)
	assert.NoError(t, err)

	// First invocation of the SatisfiesPrincipal returns an error
	mockMSP.On(""Validate"", mockIdentity).Return(errors.New(""error: foo"")).Once()
	// Second invocation returns nil
	mockMSP.On(""Validate"", mockIdentity).Return(nil).Once()

	// Test that cache returns the correct value
	err = cache.Validate(mockIdentity)
	assert.Equal(t, ""error: foo"", err.Error())
	// Get the identity we test the caching on
	identity, err := cache.DeserializeIdentity([]byte{1, 2, 3})
	assert.NoError(t, err)
	// Ensure the identity returned answers what the cached MSP answers.
	// If the invocation doesn't hit the cache, it will return nil instead of an error.
	err = identity.Validate()
	assert.Equal(t, ""error: foo"", err.Error())
}
{code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6br:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Update fabric-samples/high-throughput example,FAB-9572,29479,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,lehors,arman19940326,arman19940326,18/Apr/18 9:30 PM,31/Aug/18 1:45 AM,28/Oct/23 3:02 AM,07/May/18 7:12 PM,,,,,,,,,,,0,,,,,It appears that in fabric-samples folder the example high-throughput hasn't been updated since the new Fabric release. Is it compatible with the new Fabric release (Version 1.1)? ,,arman19940326,jastisriradheshyam,lehors,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11796,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6cn:",,,,Unset,,,,,,Unset,,,,,,,,,,,arman19940326,jastisriradheshyam,lehors,yuki-kon,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 2:46 PM;jastisriradheshyam;Yes, it is compatible with Hyperledger Fabric 1.1, didn't had any issues while running the high throughput chaincode.;;;","23/Apr/18 10:05 PM;arman19940326;Thanks. I have successfully run this example with Fabric 1.1 after I changed some parameters in its docker-compose file.;;;","25/Apr/18 1:00 AM;lehors;Actually I just tried and there is a small problem but this merely affects the README. Indeed, the README instructs to comment out the command line from the docker-compose file but that's not how it's done anymore. Instead, the BYFN script is run from byfn.sh through docker exec so it's that line that needs to be commented out instead.

I'll submit a CR.

Thanks.

 ;;;","25/Apr/18 2:06 PM;arman19940326;What I did was commenting out the command line both in the docker-compose file and the byfn.sh file and then manually running the remaining commands inside the cli container. ;;;","25/Apr/18 5:08 PM;arman19940326;Is the prune-safe function necessary? Since the proposal won't be endorsed if any chaincode function returns an error. What's its purpose? Why is it included in this example?;;;","30/Apr/18 4:01 PM;jastisriradheshyam;[~arman19940326] I also have same question about prune-safe function about its necessity. 
[Why use pruneSafe when same result can be achived by pruneFast in high throughput chaincode|https://stackoverflow.com/questions/49899242/why-use-prunesafe-when-same-result-can-be-achived-by-prunefast-in-high-throughpu];;;","31/Aug/18 1:45 AM;yuki-kon;Hi, [~arman19940326] and [~jastisriradheshyam]. I agree with your comments. To modify the sample, I created a new JIRA FAB-11796 and submitted a CR (https://gerrit.hyperledger.org/r/#/c/25990/).;;;",,,,,,,,,,,,,,,
Improve debug for statecouchdb executeBatches(),FAB-9573,29482,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,denyeart,denyeart,18/Apr/18 10:27 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-ledger,,,,0,stale-item,,,,See details in review for [https://gerrit.hyperledger.org/r/#/c/19093],,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwu3r:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
PTE 1 million invokes and queries simultaneously,FAB-9575,29485,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,19/Apr/18 3:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 3:42 AM,,,,,,,fabric-quality,,,,0,,,,,"Test name: Performance test: 1M invokes, 2 channels
 Component: Performance test
 Description: performance events per channel with couchDB with indexing
     chaincode: each channel has one chancode, marbles02 go chaincode, instantiated
     transactions: 4 threads, each thread sends 250000 invokes concurrently with tx id from 250001 to 500000
          thread 1 sends to org1 peer1 on channel 1, registers events for channel1
          thread 2 sends to org2 peer1 on channel 1, registers events for channel1
          thread 3 sends to org1 peer1 on channel 2, registers events for channel2
          thread 4 sends to org2 peer1 on channel 2, registers events for channel2

    transactions: 4 threads, each thread sends 250000 queries concurrently with tx id from 1 to 250000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2

Network Topology: docker containers; 2 channels, 2 org, 2 peers per org, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels

Event:
          service: Filtered Block
          listener: block
 Client Driver: PTE

Pre-requisite: in order to query the transactions exist in the DB, -FAB-8694- needs to be executed first. Without execution of -FAB-8694-, the queries will return invalid since the transactions do not exist in the DB.

Results:
 The test passes if
     the execution completes without error
     each thread receives all events associated with the channel it registered, and verifies            events received for every transaction it sent itself",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8089,,,,,,,,,,"1|hzz6d3:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/May/18 2:38 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21633/;;;",,,,,,,,,,,,,,,,,,,,,
PTE scripts for multi networks,FAB-9577,29487,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,19/Apr/18 3:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 3:17 AM,,,,,,,fabric-quality,,,,0,,,,,"Develop a script for multi networks:

create/join one channel

install/instantiate multiple chaincodes

run transactions of many chaincodes on multiple networks

This is useful for starter plan",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz6dj:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"03/May/18 6:16 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21341/;;;",,,,,,,,,,,,,,,,,,,,,
Panic when discovering local peers,FAB-9578,29490,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,bstasyszyn,bstasyszyn,19/Apr/18 4:43 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Apr/18 5:42 PM,,,,,,,fabric-gossip,,,,0,,,,,"Sending a discovery request with a local peers query causes a panic on the peer:

req := discclient.NewRequest().AddLocalPeersQuery()
client.Send(ctx, req, target)

... results in the following panic:

org1peer1_1      | 2018-04-18 19:19:11.690 UTC [discovery/acl] ConfigSequence -> CRIT 0c8 Failed obtaining channel config for channel 
org1peer1_1      | panic: Failed obtaining channel config for channel
org1peer1_1      | 
org1peer1_1      | goroutine 723 [running]:
org1peer1_1      | github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panic(0xc4202c8090, 0xc4223b72e0, 0x2, 0x2)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:188 +0xbd
org1peer1_1      | github.com/hyperledger/fabric/discovery/support/acl.(*DiscoverySupport).ConfigSequence(0xc42198cf60, 0x0, 0x0, 0x46)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/discovery/support/acl/support.go:79 +0x288
org1peer1_1      | github.com/hyperledger/fabric/discovery.(*accessCache).EligibleForService(0xc42003f7c0, 0xc421e56700, 0x34e, 0x34e, 0xc421e56a80, 0x322, 0x322, 0xc421e1c5a0, 0x46, 0x46, ...)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/discovery/authcache.go:104 +0x1e4
org1peer1_1      | github.com/hyperledger/fabric/discovery.(*authCache).EligibleForService(0xc4202f3980, 0x0, 0x0, 0xc421e56700, 0x34e, 0x34e, 0xc421e56a80, 0x322, 0x322, 0xc421e1c5a0, ...)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/discovery/authcache.go:79 +0xe0
org1peer1_1      | github.com/hyperledger/fabric/discovery.(*service).processQuery(0xc4202f39c0, 0xc4223b71a0, 0xc421e19170, 0xc421e56a80, 0x322, 0x322, 0xc421e4a130, 0x10, 0x0)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/discovery/service.go:96 +0x148
org1peer1_1      | github.com/hyperledger/fabric/discovery.(*service).Discover(0xc4202f39c0, 0xfc48a0, 0xc421e190b0, 0xc421e19170, 0xc4202f39c0, 0xc421e19150, 0xc421feca70)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/discovery/service.go:84 +0x193
org1peer1_1      | github.com/hyperledger/fabric/protos/discovery._Discovery_Discover_Handler(0xea63e0, 0xc4202f39c0, 0xfc48a0, 0xc421e190b0, 0xc421e3e1c0, 0x0, 0x0, 0x0, 0x20, 0x0)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/protos/discovery/protocol.pb.go:902 +0x241
org1peer1_1      | github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC(0xc4201ea000, 0xfc7ee0, 0xc421971e00, 0xc421e8c000, 0xc42198d380, 0x165ee10, 0xc421e19140, 0x0, 0x0)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:920 +0x848
org1peer1_1      | github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc4201ea000, 0xfc7ee0, 0xc421971e00, 0xc421e8c000, 0xc421e19140)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1142 +0x1318
org1peer1_1      | github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc42199f080, 0xc4201ea000, 0xfc7ee0, 0xc421971e00, 0xc421e8c000)
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:637 +0x9f
org1peer1_1      | created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
org1peer1_1      | 	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:635 +0xa1
",,bstasyszyn,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8779,,,,,,,,,,"1|hzz6e7:",,,,,,,,,,,,,,,,,,,,,bstasyszyn,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 5:02 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/20739/;;;","19/Apr/18 5:16 AM;yacovm;Totally forgot about that config sequence check... sorry about that :) 
That's what happens when you're too eager to deliver.

I tested this change set locally with my own hacky discovery CLI and it works:
{code}
root@9bc7a33f30a1:/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com# ./discli --cert msp/signcerts/Admin\@org1.example.com-cert.pem --channel mychannel --endpoint peer0.org1.example.com:7051 --key msp/keystore/04d2fdbc711524c7a4f9a0586a4b30803b0f33f2613050e046ceaa0bc38ecc5f_sk --msp Org1MSP --tlsCA tls/ca.crt --tlsCert tls/client.crt --tlsKey tls/client.key 
2018-04-18 20:15:20.540 UTC [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
2018-04-18 20:15:20.541 UTC [bccsp] GetDefault -> WARN 002 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
Org1MSP peer0.org1.example.com:7051
Org1MSP peer1.org1.example.com:7051
Org2MSP peer1.org2.example.com:7051
Org2MSP peer0.org2.example.com:7051

{code};;;","19/Apr/18 5:42 PM;yacovm;Setting this to done, as I tested it locally, but feel free to re-open this JIRA if you check and see it isn't fixed.;;;","19/Apr/18 8:47 PM;bstasyszyn;I tested the fix and it works for me. Thx.;;;",,,,,,,,,,,,,,,,,,
Remove sccprovider singleton,FAB-9579,29498,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,19/Apr/18 10:49 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 5:26 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The assorted singletons are on obstacle to writing new, testable code.  As a prerequisite to implementing lifecycle sanely, the singletons which system chaincode depend on need to be removed.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6fr:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create SCC instances by constructor,FAB-9580,29499,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,19/Apr/18 10:51 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 8:54 PM,,,,v1.2.0,,,fabric-peer,,,,0,quality,,,,"The SCC instances are currently declared as structs, and initialized via the SCC {{Init}} function.

This is an abuse of the {{Init}} function which behaves differently from that of a regular chaincode (namely, running once per peer execution, rather than once per network initialization of the chaincode).  Additionally, these {{Init}} functions reach into the assorted peer singletons making development and test difficult.

Thus, the SCCs should be converted to construction via proper constructors, rather than {{Init}}.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6fz:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Pass sccprovider into SCCs rather than getting via singleton,FAB-9581,29500,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,19/Apr/18 10:53 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 12:55 AM,,,,v1.2.0,,,fabric-peer,,,,0,quality,,,,"Presently, system chaincodes use an antipattern of calling into another
package to ask how to do something, rather than being told how that
thing should be done.

This CR inverts the control so that at instantiation time, the system
chaincode is given the sysccprovider rather than asking for it.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6g7:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove the sccprovider singleton,FAB-9582,29501,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,19/Apr/18 10:53 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 5:25 AM,,,,v1.2.0,,,fabric-peer,,,,0,quality,,,,This finishes the parent improvement.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6gf:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Fix warnings emitted during e2e,FAB-9584,29504,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,19/Apr/18 2:11 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 6:28 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Because of some changes to configtxgen deprecating certain function, there are now warnings in the e2e.  These should be fixed up so as to set a good example for others.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6h3:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Heavy load on peer,  event hub  sometimes disconnection, and finaly out of memory",FAB-9585,29505,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,eason0108,eason0108,19/Apr/18 4:57 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 12:46 AM,v1.1.0,,,WON'T FIX,,,fabric-peer,,,,0,Heavy,load,,," heavy load with 3k/s   , about 30 min  , one peer out of memory ,down.

also, there are a lot of error  

UTC [committer] postCommit -> ERRO 159c Channel [bestchannel] Error sending block event for block number [2114]: could not send the blocking event

3.why there are so many warnings while i set debug level = error  

 ","1orderer  kafka mode （ 2 orderer  will be better）  8C16G

4peers   ,each with   8C16G    ubuntu   16.04

fabric 1.1",eason0108,jyellick,raspydev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/18 4:57 PM;eason0108;1.jpg;https://jira.hyperledger.org/secure/attachment/14898/1.jpg","19/Apr/18 4:57 PM;eason0108;2.jpg;https://jira.hyperledger.org/secure/attachment/14897/2.jpg","19/Apr/18 4:57 PM;eason0108;3.jpg;https://jira.hyperledger.org/secure/attachment/14896/3.jpg","19/Apr/18 4:57 PM;eason0108;c974cbf2132dcfcef694e822c771c877848715492c19735bba12980f533be3fb-json.log;https://jira.hyperledger.org/secure/attachment/14895/c974cbf2132dcfcef694e822c771c877848715492c19735bba12980f533be3fb-json.log",,,,,,,,,,,,,,,,,,,,"1|hzz6hb:",,,,,,,,,,,,,,,,,,,,,eason0108,jyellick,raspydev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/18 5:04 PM;eason0108;it happens everytime.

client sdk is java sdk  1.0.1 ;;;","05/May/18 12:46 AM;jyellick;The v1.0.0 eventhub has some fundamental flaws in its design.  It has been superceded by the deliver event service FAB-6911 and filtered event service FAB-7419, both introduced in fabric v1.1.  Applications should move to these new APIs.;;;",,,,,,,,,,,,,,,,,,,,
docker install for fabric environment,FAB-9586,29506,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,YanKun,YanKun,19/Apr/18 5:32 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 6:24 PM,,,,Not a Bug,WON'T FIX,,,,,,0,,,,,Just add a script from docker to install docker.,,mastersingh24,YanKun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6hj:",,,,,,,,,,,,,,,,,,,,,mastersingh24,YanKun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/18 4:30 PM;mastersingh24;We state that Docker is required in the prerequisite section of the documentation.  I don't think we need to nor should provide a script to install Docker.  In any case, this is not a bug.;;;",,,,,,,,,,,,,,,,,,,,,
Move 'keepalive' and 'userRunsCC' down to handler,FAB-9587,29508,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Apr/18 9:37 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 9:18 AM,,,,,,,,,,,0,,,,,TDA - provide the handler with what it needs.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6hr:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 9:56 PM;sykesm;https://gerrit.hyperledger.org/r/c/20757/;;;",,,,,,,,,,,,,,,,,,,,,
Extract runningChaincodes as object in its own file,FAB-9588,29509,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Apr/18 9:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,Start separating and extracting objects with separate responsibilities into separate files.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6hz:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 9:56 PM;sykesm;https://gerrit.hyperledger.org/r/c/20759/;;;",,,,,,,,,,,,,,,,,,,,,
Introduce and use ccprovider.ChaincodeSpecGetter,FAB-9589,29510,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Apr/18 9:43 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,Replace the empty interface used to hold ChaincodeDeploymentSpec and ChaincodeInvocationSpec to an interface that can get the ChaincodeSpec from either object.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6i7:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 9:57 PM;sykesm;https://gerrit.hyperledger.org/r/c/20761/;;;",,,,,,,,,,,,,,,,,,,,,
Refactor map of transaction contexts to an object that manages transaction contexts,FAB-9590,29511,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Apr/18 9:47 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,Separate responsibilities --> separate objects,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6if:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/18 9:57 PM;sykesm;https://gerrit.hyperledger.org/r/c/20763/;;;",,,,,,,,,,,,,,,,,,,,,
Extract map of active transactions to a separate object,FAB-9591,29513,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Apr/18 10:45 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6iv:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 2:29 AM;sykesm;https://gerrit.hyperledger.org/r/20783;;;",,,,,,,,,,,,,,,,,,,,,
Replace DefaultKeepaliveOptions() with a public constant in core/comm,FAB-9592,29515,29405,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,bpbuch,bpbuch,bpbuch,19/Apr/18 11:26 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 1:09 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,,,bpbuch,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6j3:",,,,,,,,,,,,,,,,,,,,,bpbuch,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 9:23 AM;kchristidis;[~bpbuch]: Can you expand on the approach here? The value returned by {{DefaultKeepAliveOptions}} is of type {{KeepAliveOptions}}. As you know, Go does not support constant structs. Is {{var DefaultKeepAliveOptions}} what you have in mind?;;;","20/Apr/18 10:53 PM;kchristidis;https://gerrit.hyperledger.org/r/c/20773/;;;","20/Apr/18 10:53 PM;kchristidis;Narrator: {{var DefaultKeepAliveOptions}} is indeed what he had in mind.;;;","20/Apr/18 11:15 PM;bpbuch;`var DefaultKeepAliveOptions` was what I had in mind. The downside of this approach is that the ""default"" can still be modified. An alternative would be to extract each of the internal values into constants and build the KeepAliveOptions struct where the default is being referenced.  ;;;","20/Apr/18 11:21 PM;kchristidis;The alternative strikes me as overkill, and ditto on the modification risk for the vars. I think you approach is right and this is a risk we'll have to live with.

Exporting error values as vars seems to be the norm across several Go packages I've looked at, and even the standard library exports {{DefaultClient}} and {{DefaultServeMux}} as vars in the {{http}} package: https://golang.org/pkg/net/http/#pkg-variables

Was looking this up yesterday again and found a thread in Reddit (of all places) where they were discussing something similar: https://www.reddit.com/r/golang/comments/71lf8x/whats_idomatic_go_for_a_struct_const/;;;",,,,,,,,,,,,,,,,,
"Publish the latest images(fabric, fabric-ca) and binaries to Nexus from fabric-end-2-end-merge job.",FAB-9593,29516,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,19/Apr/18 11:44 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/May/18 9:37 AM,,,,,,,fabric-ci,,,,0,fabric-ci,,,,Publish the latest images and binaries to Nexus after the fabric end to end tests are executed. This will enable us to pull the latest images and binaries from Nexus instead of building them every time. ,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10068,,,,,,,,,,"1|hzz6jb:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/May/18 9:39 AM;sambhavdutt;The patch has been Merged for this change 
https://gerrit.hyperledger.org/r/#/c/20923/;;;",,,,,,,,,,,,,,,,,,,,,
Exclude copyright checks from generated files,FAB-9594,29519,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Apr/18 12:17 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,21/Apr/18 6:21 AM,,,,,,,fabric-common,,,,0,,,,,"Files generated by counterfeiter and the protobuf compiler include the magic ""Code generated by.* DO NOT EDIT"" string in their header. Files that contain this string should be excluded from license checking in the build.",,eramitg,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6jz:",,,,,,,,,,,,,,,,,,,,,eramitg,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 12:50 AM;sykesm;https://gerrit.hyperledger.org/r/c/20769/;;;",,,,,,,,,,,,,,,,,,,,,
Peer is not able to recognize PKCS11 Docker Environment Variable,FAB-9595,29520,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sanchezl,rhegde,rhegde,20/Apr/18 12:53 AM,26/Dec/19 10:03 PM,28/Oct/23 3:02 AM,19/Sep/18 6:00 AM,v1.0.4,,,v1.2.0,,,fabric-orderer,,,,0,,,,,"Release -  Fabric v1.0.4

I have a peer running on PKCS11. PKCS11 is enabled using core.yaml file. I am trying now to replace the core.yaml with corresponding docker environment variable. However Peer fails to starts with following message
{code:java}
2018-03-15 18:27:35.783 UTC [main] main -> ERRO 001 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not initialize BCCSP Factories [Failed initializing SW.BCCSP [Could not initialize BCCSP SW [Failed to initialize software key store: An invalid KeyStore path provided. Path cannot be an empty string.]] Could not find default `PKCS11` BCCSP] {code}
 

I have set the following compose variable.

 
{code:java}
- CORE_PEER_BCCSP_DEFAULT=PKCS11

- CORE_PEER_BCCSP_PKCS11_LABEL=...

- CORE_PEER_BCCSP_PKCS11_LIBRARY=...

- CORE_PEER_BCCSP_PKCS11_PIN=...
{code}
{{Need to also check for Orderer.}}",,denyeart,jyellick,mastersingh24,rhegde,sanchezl,sykesm,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-892,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6k7:",,,,,,,,,,,,,,,,,,,,,denyeart,jyellick,mastersingh24,rhegde,sanchezl,sykesm,vsudip,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 2:14 AM;jyellick;I believe this config is not under peer, so the variables you are looking for would actually be {{CORE_BCCSP_PKCS11_PIN}} etc.;;;","21/Apr/18 7:24 AM;rhegde;I am able to use the following 3 flags
{code:java}
- CORE_PEER_BCCSP_PKCS11_LABEL=...
- CORE_PEER_BCCSP_PKCS11_LIBRARY=...
- CORE_PEER_BCCSP_PKCS11_PIN=...{code}
 

However setting - CORE_PEER_BCCSP_DEFAULT=PKCS11 makes PEER unhappy and crashes with the above message. To make peer understand that it is running in PKSC11 - the only option is to update PKCS11 in a core.yaml.

I tried using - CORE_BCCSP_DEFAULT=PKCS11 but that does not work and gives (looks like it is set to SW - which is the default)
{code:java}
2018-04-20 22:10:49.362 UTC [main] main -> ERRO 001 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/fabric/msp: err KeyMaterial not found in SigningIdentityInfo{code};;;","29/Apr/18 5:51 PM;mastersingh24;[~rhegde] Can you try setting {{CORE_PEER_BCCSP_SW=}}  (basically set it to nothing)?;;;","29/Apr/18 11:50 PM;rhegde;[~mastersingh24] - I get the same error as above.

 
{code:java}
2018-04-20 22:10:49.362 UTC [main] main -> ERRO 001 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/fabric/msp: err KeyMaterial not found in SigningIdentityInfo{code};;;","01/May/18 6:27 PM;mastersingh24;[~rhegde] Does /etc/hyperledger/fabric/msp actually exist?  What are you setting as the value of {{CORE_PEER_MSPCONFIGPATH}}?;;;","01/May/18 9:39 PM;rhegde;Yes [~mastersingh24] - it does exist.

 

If I set the PKCS11 using peer yaml file - it works. However using Docker Environment to set PKCS11,  Peer fails to recognize it needs to use PKCS11.

MSP path remains the same in both the scenarios.

 ;;;","04/Jun/18 10:30 AM;sanchezl;[~rhegde], please confirm that the binary in your peer docker image has been compiled with PKCS11 support.

Using a non-PKCS11 peer binary, I get the same error (note the attempt to initialize the {{SW}} factory, which is the hard coded default when the specified default is not valid) : 
{code:java}
$ docker run --env CORE_PEER_BCCSP_DEFAULT=PKCS11 hyperledger/fabric-peer:x86_64-1.0.4 peer node start
2018-06-04 00:34:34.381 UTC [main] main -> ERRO 001 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not initialize BCCSP Factories [Failed initializing SW.BCCSP [Could not initialize BCCSP SW [Failed to initialize software key store: An invalid KeyStore path provided. Path cannot be an empty string.]]
Could not find default `PKCS11` BCCSP]

# core-1.0.yaml sets peer.BCCSP.Default: PKCS11
$ docker run --volume $PWD/core-1.0.yaml:/etc/hyperledger/fabric/core.yaml  hyperledger/fabric-peer:x86_64-1.0.4 peer node start
2018-06-04 00:34:44.526 UTC [main] main -> ERRO 001 Cannot run peer because error when setting up MSP from directory /etc/hyperledger/fabric/msp: err Could not initialize BCCSP Factories [Failed initializing SW.BCCSP [Could not initialize BCCSP SW [Failed to initialize software key store: An invalid KeyStore path provided. Path cannot be an empty string.]]
Could not find default `PKCS11` BCCSP]{code}
 ;;;","04/Jun/18 9:44 PM;rhegde;Yes [~sanchezl]. We use the IBM Blockchain Hyperledger Build which has support for PKCS#11. This should be error in the open source community build also if we can compile this with PKCS#11.;;;","05/Jun/18 9:29 AM;sanchezl;[~rhegde], The environment variables can only override a key that already exists in the {{core.yaml}} file. In this case, it means that none of the
 {{CORE_PEER_BCCSP_PKCS11_*}} keys can be set via env vars when using the default {{core.yaml}}. 

Create an image with the following {{pksc11}} section added under Peer.BCCSP, and you should be able to set the values via the environment variables when starting containers from that image:
{code:java}
peer:
  bccsp:
    sw: // this section is already there
    pkcs11: // add this section
      Library:
      Pin:
      Label:
      hash:
      security:
      filekeystore:
        keystore:{code};;;","05/Jun/18 10:02 PM;rhegde;Can we have this change  be made to v1.2 yaml file for orderer + peer so this becomes available as part of release.;;;","12/Jun/18 1:32 AM;sanchezl;https://gerrit.hyperledger.org/r/c/22947/;;;","18/Jun/18 9:09 PM;denyeart;[~sanchezl] I've merged the core.yaml fix.  Is anything needed on orderer side?;;;","06/Sep/18 11:28 PM;sykesm;[~sanchezl] bump.;;;","19/Sep/18 5:56 AM;sanchezl;No corresponding change needed on the orderer.;;;","05/Oct/18 9:40 PM;vsudip;Hi,

I am getting the same error while executing e2e_cli with below trace, can someone please review this.
{code:java}
2018-10-05 12:31:30.473 UTC [viperutil] EnhancedExactUnmarshalKey -> DEBU 017 map[peer.BCCSP:map[Default:PKCS11 SW:map[FileKeyStore:map[KeyStore:] Hash:SHA2 Security:256] PKCS11:map[Label:orderer.example.com Pin:***** Hash:SHA2 Security:256 Library:/etc/hyperledger/fabric/dpod/orderer.example.com/libs/64/libCryptoki2.so]]] 2018-10-05 12:31:30.473 UTC [main] InitCmd -> ERRO 018 Cannot run peer because error when setting up MSP of type bccsp from directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp: could not initialize BCCSP Factories: Failed initializing BCCSP.: Could not initialize BCCSP SW [Failed to initialize software key store: An invalid KeyStore path provided. Path cannot be an empty string.] Could not find default `PKCS11` BCCSP !!!!!!!!!!!!!!! Ordering Service is not available, Please try again ... !!!!!!!!!!!!!!!! ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}
Steps followed
{code:java}
git clone https://gerrit.hyperledger.org/r/fabric
cd fabric/examples/e2e_cli
cp ../../sampleconfig/core.yaml ../../sampleconfig/orderer.yaml .

Updated the configurations for PKCS11 and execute ./network_setup.sh up{code};;;",,,,,,,
"Rename chaincodeSupport ""this"" ref to cs",FAB-9599,29524,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Apr/18 2:34 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6l3:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 2:49 AM;sykesm;https://gerrit.hyperledger.org/r/20785;;;",,,,,,,,,,,,,,,,,,,,,
"Rename handler ""this"" ref to h",FAB-9600,29525,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Apr/18 2:43 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 4:55 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6lb:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 2:49 AM;sykesm;https://gerrit.hyperledger.org/r/20787;;;",,,,,,,,,,,,,,,,,,,,,
Dead code paths in chaincode container service,FAB-9603,29529,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Apr/18 3:43 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:04 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6lz:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove core/container/vm.go to car test,FAB-9604,29530,29529,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Apr/18 4:17 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:13 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"core/container/vm.go is only used in a car test, so there is no reason to keep it in the main tree.",,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6m7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,jyellick,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 12:12 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/c/20799/;;;",,,,,,,,,,,,,,,,,,,,,
Allow external packages to get default list of cipher suites,FAB-9605,29535,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,20/Apr/18 8:28 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,21/Apr/18 1:17 AM,v1.1.0,,,v1.2.0,,,fabric-common,,,,0,,,,,"{{tlsCipherSuites}} in {{core/comm}} is not exported. For symmetry's sake, consumers of this package should have access to this value, as is the case for {{keepAliveOptions}} via the {{DefaultKeepAliveOptions}} getter.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9521,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6nb:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 9:33 AM;kchristidis;I will hold off on implementing this until we settle down on the right approach to export default configs, see discussion in FAB-9521.;;;","20/Apr/18 10:48 PM;kchristidis;https://gerrit.hyperledger.org/r/c/20815/;;;",,,,,,,,,,,,,,,,,,,,
Fix error in docs/peers.md,FAB-9607,29538,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,huikang,huikang,20/Apr/18 11:21 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,28/Apr/18 1:37 AM,,,,,,,fabric-docs,,,,0,Documentation,,,,"# ""each group is its own en "" -> ""each group has""
 # ""result was generated a different time"" -> "" ""result was generated at different time""
 # As a beginner, it confused me a little bit when I read ""in phase 3, each peer will verify that the transaction has been endorsed by ..."" because the transaction proposal has been endorsed at phase 1 before being sent to the orderer. After a second thought, I realize in phase 1, it is the application that determines whether to send proposal to the orderer. Application can send any transaction proposal to the orderer; so the peer must verify the transaction by applying the endorsement policy by itself.

If my understanding is correct, I think it may help the reader to understand if this could be explicitly stated.",,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6nz:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove chaincode singletons,FAB-9608,29540,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Apr/18 1:26 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,"As a prerequisite to doing the lifecycle work, it makes sense to remove the assorted chaincode singletons.  These singletons make development difficult and testing haphazard. ",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-11237,,,,,,,,,,"1|hzz2b3:",,,,Unset,,May2018 - Lifecycle & Config,,,,Unset,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove inproccontroller singletons,FAB-9609,29541,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Apr/18 1:31 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6o7:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Unsupported chaincode fields appear supported,FAB-9610,29542,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Apr/18 2:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,17/May/18 3:52 AM,,,,v1.2.0,,,fabric-peer,,,,0,hygiene,quality,,,"There are two notable chaincode proto fields which have no actual affect and are in fact a bit nonsensical in v1.0, but we continue to appear to support.  These fields are:

ChaincodeDeploymentSpec
    // Controls when the chaincode becomes executable.
    google.protobuf.Timestamp effective_date = 2;

ChaincodeInvocationSpec
    string id_generation_alg = 2;

The latter is especially troublesome, as the peer CLI still exposes it as an option, with no actual effect.
",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11237,,,,,,,,,,"1|hzz1a7:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 3:52 AM;wlahti;https://gerrit.hyperledger.org/r/c/20811/;;;",,,,,,,,,,,,,,,,,,,,,
Collect chaincode processing latency,FAB-9611,29544,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,bjwswang,bjwswang,20/Apr/18 5:20 PM,10/Dec/18 11:39 PM,28/Oct/23 3:02 AM,10/Dec/18 11:39 PM,,,,,,,,,,,0,,,,,,,bjwswang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6of:",,,,,,,,,,,,,,,,,,,,,bjwswang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 11:39 PM;wlahti;Not sure what the intent of this work item was I'm closing it for now. Please create a new task if you'd like to see chaincode processing latency metrics in a future version.;;;",,,,,,,,,,,,,,,,,,,,,
"""src"" is appending to ""channelTX"" directory when ""gopath"" is not defined ",FAB-9612,29545,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rameshthoomu,rameshthoomu,20/Apr/18 9:46 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 4:45 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"While executing Fabric multihost tests through ATD (Ansible Test Driver), observed the below error.
{code:java}
info: [PTE 0 main]: [createOneChannel] channelTX:  /opt/gopath/src/var/hyperledger/fabric/artifacts/testorgschannel1.tx
fs.js:646
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);
                 ^
Error: ENOENT: no such file or directory, open '/opt/gopath/src/var/hyperledger/fabric/artifacts/testorgschannel1.tx'
    at Object.fs.openSync (fs.js:646:18)
    at Object.fs.readFileSync (fs.js:551:33)
    at createOneChannel (/opt/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/pte-main.js:696:25){code}
PTE Config:

[https://github.com/hyperledger/fabric-test/blob/59542e63b52e485bbd7baad1171bff155780f62d/tools/PTE/pte-main.js#L693]

ATD Config:

https://github.com/hyperledger/fabric-test/blob/master/tools/ATD/roles/tool_pte/ptesetup/templates/samplecc-chan-create-TLS.j2#L15",,dongming,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz6on:",,,,,,,,,,,,,,,,,,,,,dongming,rameshthoomu,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"26/Apr/18 2:41 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21005/;;;",,,,,,,,,,,,,,,,,,,,,
Replace launcher with ContainerRuntime,FAB-9613,29547,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Apr/18 10:13 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 6:51 PM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6ov:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Apr/18 10:22 PM;sykesm;https://gerrit.hyperledger.org/r/20813;;;",,,,,,,,,,,,,,,,,,,,,
Create configuration object for ChaincodeSupport,FAB-9614,29549,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,20/Apr/18 10:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 10:10 PM,,,,v1.2.0,,,,,,,0,,,,,"Create the ChaincodeSupport instance with a reference to a config object. In the production code, use existing configuration mechanisms to populate the configuration object.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6p3:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/18 3:58 AM;sykesm;https://gerrit.hyperledger.org/r/c/20833/;;;",,,,,,,,,,,,,,,,,,,,,
"Remove make target ""membersrvc"" from master",FAB-9615,29551,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,20/Apr/18 11:04 PM,24/Apr/19 11:57 PM,28/Oct/23 3:02 AM,24/Apr/19 11:57 PM,v1.1.0,,,Future,,,fabric-build,,,,0,,,,,"Remove make target ""membersrvc"" from master, release-1.1, release-1.0 branches. This target has been left over their to satisfy the CI config. CI config has been updated to execute the right make targets, so this can be removed now from Makefile.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6pj:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/19 11:57 PM;rameshthoomu;This target has been disabled from fabric master branch.;;;",,,,,,,,,,,,,,,,,,,,,
Provide sample updating channel with new organization.,FAB-9616,29553,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,aatkddny,rickr,rickr,20/Apr/18 11:09 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,v1.1.0,,,,,,,0,stale-item,,,,,,aatkddny,rickr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6pz:",,,,,,,,,,,,,,,,,,,,,aatkddny,rickr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Bootstrap tests fail in CI tests due to 'Assertion Error' in 'fabric-test-daily-x86_64' job,FAB-9617,29555,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,21/Apr/18 12:09 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,28/Apr/18 3:51 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"Multiple instances of the Assertion error are observed from last 3 builds,


 
{code:java}
@daily
  Scenario Outline: FAB-4776/FAB-4777: Bring up a kafka based network and check peers -- @1.1 
    Given I have a bootstrapped fabric network of type kafka using state-database leveldb ... passed in 29.445s
    When a user sets up a channel ... passed in 63.532s
    And a user deploys chaincode ... passed in 60.479s
    And the orderer node logs receiving the orderer block ... passed in 0.585s
    And a user queries on the chaincode with args [""query"",""a""] ... passed in 7.766s
    Then a user receives a success response of 100 ... failed in 0.001s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/327/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/",,latitiah,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9650,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6q7:",,,,,,,,,,,,,,,,,,,,,latitiah,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/18 1:48 AM;latitiah;This is failing because the ""Query Result:"" has been removed from the output.;;;","24/Apr/18 1:53 AM;nnao;This JIRA seems to be same as FAB-9650;;;","28/Apr/18 3:51 AM;sambhavdutt;The bootstrap tests have passed successfully in the smoke tests after this update.

https://gerrit.hyperledger.org/r/c/20903/;;;",,,,,,,,,,,,,,,,,,,
Cleanup orderer localconfig package,FAB-9618,29556,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,21/Apr/18 12:19 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,22/Apr/18 5:28 AM,v1.1.0,,,v1.2.0,,,fabric-orderer,,,,0,,,,,"# Remove the {{init}} functions
# Rename the package to {{localconfig}}, identical to the folder name that contains it",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6qf:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 12:21 AM;kchristidis;https://gerrit.hyperledger.org/r/c/20819/;;;",,,,,,,,,,,,,,,,,,,,,
Export orderer configuration defaults,FAB-9619,29557,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,kchristidis,kchristidis,kchristidis,21/Apr/18 12:23 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,22/Apr/18 5:28 AM,v1.1.0,,,v1.2.0,,,fabric-orderer,,,,0,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6qn:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 12:24 AM;kchristidis;https://gerrit.hyperledger.org/r/c/20817/;;;",,,,,,,,,,,,,,,,,,,,,
Remove configtxgen channel ID reference in sample clients,FAB-9620,29558,29457,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,21/Apr/18 12:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,22/Apr/18 5:28 AM,v1.1.0,,,v1.2.0,,,fabric-orderer,,,,0,configtxgen,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6qv:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 12:29 AM;kchristidis;https://gerrit.hyperledger.org/r/c/20821/;;;",,,,,,,,,,,,,,,,,,,,,
"Orderer tests failing in CI tests , genesis information 'undefined' in peer0.org1.example.com",FAB-9621,29559,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,sambhavdutt,sambhavdutt,21/Apr/18 12:26 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,24/Apr/18 7:44 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The following errors are observed in CI orderer tests,


{code:java}
Failing step: When a user fetches genesis information from peer ""peer0.org1.example.com"" ... undefined in 0.000s
Location: orderer.feature:68
None
{code}

*Build logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-smoke-test-daily-x86_64/107/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/
",,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6r3:",,,,,,,,,,,,,,,,,,,,,nnao,sambhavdutt,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"23/Apr/18 10:44 PM;sambhavdutt;This Orderer tests are still failing in the fabric-test smoke CI jobs , daily, verify & merge, due to same reason detailed above.;;;","24/Apr/18 3:51 AM;nnao;https://gerrit.hyperledger.org/r/c/20909/;;;","24/Apr/18 5:53 AM;nnao;Maybe This patch needs to merge FAB-9650;;;",,,,,,,,,,,,,,,,,,,
"chaincode testing fail in CI tests for fabric-test-verify, Assertion Error- unexpected response received.",FAB-9622,29560,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,sambhavdutt,sambhavdutt,21/Apr/18 12:46 AM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,28/Apr/18 3:42 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"chaincodes tests failing on several instances due to 'Assertion Error' unexpected response

*chaincodes.Chaincodes Testing.FAB 5791 Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for kafka orderer couchdb db GOLANG lang -- @1.2 *



{code:java}
Failing step: Then a user receives a response containing ""docType"":""marble"" ... failed in 0.000s
Location: chaincodes.feature:395
Assertion Failed: Expected response was ""docType"":""marble""; received {""docType"":""marble"",""name"":""marble1"",""color"":""red"",""size"":35,""owner"":""tom""}
{code}


*chaincodes.Chaincodes Testing.FAB-6211: Test example02 chaincode written using GOLANG with tls -- @1.1*



{code:java}
Failing step: Then a user receives a success response of 1000 ... failed in 0.000s
Location: chaincodes.feature:171
Assertion Failed: Expected response was 1000; received 1000
{code}


",,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9650,,,,,,,,,,,,,,,,,,"21/Apr/18 12:45 AM;sambhavdutt;fabric-test-verify.png;https://jira.hyperledger.org/secure/attachment/14904/fabric-test-verify.png",,,,,,,,,,,,,,,,,,,,,,,"1|hzz6rb:",,,,,,,,,,,,,,,,,,,,,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Apr/18 10:43 PM;sambhavdutt;This chaincode test is still failing in the fabric-test smoke CI jobs , daily, verify & merge, due to same  reason detailed above.;;;","24/Apr/18 5:47 AM;nnao;This JIRA seems to be same as FAB-9650. So this is failing because the ""Query Result:"" has been removed from the output.;;;","28/Apr/18 3:47 AM;sambhavdutt;The chaincode tests have passed successfully in the smoke tests after the update.;;;",,,,,,,,,,,,,,,,,,,
Remove theChaincodeSupport singleton from tests,FAB-9623,29564,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,21/Apr/18 3:59 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 10:10 PM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6rz:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 4:05 AM;sykesm;https://gerrit.hyperledger.org/r/20835;;;",,,,,,,,,,,,,,,,,,,,,
PTE supports statistical distributions,FAB-9624,29566,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vramaiitkgp,dongming,dongming,21/Apr/18 4:23 AM,11/Jan/19 1:30 AM,28/Oct/23 3:02 AM,05/Jan/19 7:15 AM,,,,,,,fabric-quality,,,,0,,,,,"PTE supports statistical distribution transaction patterns.  Will use this npm package:

[https://www.npmjs.com/package/distributions]

After the pdf is supported, we can upgrade burst mode by
 * extending from 2 modes to n modes,
 * changing uniform pdf to any pdf specified by the user

The use case will be, for example,

1. no business on Thanksgiving Day and huge business on the black Friday,

2. one pdf on weekdays and another pdf on weekend

 ",,dongming,eragnoli,vramaiitkgp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz6s7:",,,,,,,,,,,,,,,,,,,,,dongming,eragnoli,vramaiitkgp,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"20/Jul/18 8:50 PM;eragnoli;The idea is to leverage the burst traffic model and assign a burst frequency rate to a number of samples.

This approach will also help to extend the burst mode from 2 n modes. For that, the input file txCfgOpt.json needs to be reconfigured to accept the model change below

 ""burstOpt"": \{
        ""burstFreq0"":  ""500"",
        ""burstDur0"":  ""3000"",
        ""burstFreq1"": ""2000"",
        ""burstDur1"": ""10000""

}

to  ""burstOpt"": \{
        ""burstFreqn"":  ""v1"",""v2"",...., ""vn"" 
        ""burstDurn"":  ""d1"", ""d2,....., ""dn""

};;;","20/Jul/18 10:08 PM;eragnoli;https://gerrit.hyperledger.org/r/#/c/24613/;;;","21/Dec/18 12:24 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27661/;;;",,,,,,,,,,,,,,,,,,,
Update documentation to remove CLI sleep reference,FAB-9628,29571,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jichen,kchristidis,kchristidis,21/Apr/18 6:35 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,21/Apr/18 9:16 AM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8503,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz6sf:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 6:35 AM;kchristidis;https://gerrit.hyperledger.org/r/c/19513/;;;",,,,,,,,,,,,,,,,,,,,,
Docker multi-arch support,FAB-9629,29572,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/Apr/18 7:27 AM,23/Jan/20 7:33 AM,28/Oct/23 3:02 AM,23/Jan/20 7:33 AM,v1.1.0,,,v1.3.0,,,fabric-build,,,,0,stale-item,,,,"publishing multi-arch images is actually fairly trivial task. It involves creating a manifest and pushing it to the repository with manifest-tool (until such time as docker makes the manifest feature non-experimental, which should be soon).

I tested this out and pushed the following manifest yaml:

{{image: christo4ferris/fabric-peer:latest}}
{{tags: ['1.1.0', 'latest']}}
{{manifests:}}
{{  -}}
{{    image: hyperledger/fabric-peer:ppc64le-1.1.0}}
{{    platform:}}
{{      architecture: ppc64le}}
{{      os: linux}}
{{  -}}
{{    image: hyperledger/fabric-peer:x86_64-1.1.0}}
{{    platform:}}
{{      architecture: amd64}}
{{      os: linux}}
{{  -}}
{{    image: hyperledger/fabric-peer:s390x-1.1.0}}
{{    platform:}}
{{      architecture: s390x}}
{{      os: linux}}

you can test it out on any platform by pulling christo4ferris/fabric-peer:latest, christo4ferris/fabric-peer or christo4ferris/fabric-peer:1.1.0

the image sha should be the same as the published hyperledger/fabric-peer image for your architecture.

What this means is that we can periodically push images with arbitrary tags (like x86_64-1.2.0-snapshot-a25e722f) and then create a manifest list for a tag such as 1.2-dev-stable and then when we are ready retag it as latest and 1.2.0 etc.

This can also be DECOUPLED from CI, which will make publishing a release a much simpler process.",,ChristopherFerris,jastisriradheshyam,nagap,paleozogt,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Mostly completed in v1.2, finish in v1.3",,Not Required,,Not Required,,,Docker multi-arch support,,,,,Not Required,,,,"1|hzz6sn:",,,,No,Not Required,,,,,,,,,,,,,,,,ChristopherFerris,jastisriradheshyam,nagap,paleozogt,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
create manifest template and script(s) for v1.1,FAB-9630,29573,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/Apr/18 7:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 4:53 AM,v1.1.0,,,v1.1.1,,,fabric-build,,,,0,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9652,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6sv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Apr/18 1:24 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20875;;;",,,,,,,,,,,,,,,,,,,,,
modify all docker-compose.yaml to reference multi-arch ,FAB-9631,29574,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,21/Apr/18 7:34 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-build,,,,0,help-wanted,stale-item,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6t3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
modify all fabric-samples docker-compose.yaml to reference multi-arch,FAB-9632,29575,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,21/Apr/18 7:34 AM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-samples,,,,0,stale-item,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6tb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
add multi-arch task to release,FAB-9633,29576,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/Apr/18 7:38 AM,26/Aug/19 6:02 PM,28/Oct/23 3:02 AM,26/Aug/19 6:02 PM,v1.1.0,,,v1.3.0,,,fabric-build,,,,0,,,,,"once multi-arch is sorted out, add the requisite steps to the release process here: [https://docs.google.com/document/d/12IpQnREUoJEUj2pF2z-0Up55geItFd94fcsbAkPacTg/edit#|https://docs.google.com/document/d/12IpQnREUoJEUj2pF2z-0Up55geItFd94fcsbAkPacTg/edit]",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6tj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deduplicate -> ERRO 008 Principal deserialization failure (the supplied identity is not valid: x509: certificate signed by unknown authority,FAB-9635,29578,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,abdulrashid,abdulrashid,21/Apr/18 10:00 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,20/Jun/18 10:29 AM,v1.1.0,,,Unverifiable,,,,,,,0,,,,,"Error is shown in the attachment name: Screen Shot 2018-04-21 at 3.52.38 PM.png

Steps to Reproduce the error

Step 1: Create a Folder called *bigproject* and Download and Extract *project1 and 2.zip*

Step 2: change your working directory to bigproject/project1

Step 3: run the command `docker-compose -f docker-compose-cli.yaml up`

Step 4: open another terminal run the following commands

_*export IMAGE_TAG=latest*_

_*docker start cli*_

_*docker exec -it cli bash*_

 

_Now you should get the error as shown in the attached *Screen Shot 2018-04-21 at 3.52.38 PM.png*_

 

 

Project 2 is the working example. WHich is literally same as *Project 1*, except *Project 2* has two Organization peer, *Project 1* has one organization peer.",,abdulrashid,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Apr/18 9:54 PM;abdulrashid;Screen Shot 2018-04-21 at 3.52.38 PM.png;https://jira.hyperledger.org/secure/attachment/14906/Screen+Shot+2018-04-21+at+3.52.38+PM.png","21/Apr/18 9:53 PM;abdulrashid;project1 and 2.zip;https://jira.hyperledger.org/secure/attachment/14905/project1+and+2.zip",,,,,,,,,,,,,,,,,,,,,,"1|hzz6tz:",,,,,,,,,,,,,,,,,,,,,abdulrashid,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jun/18 10:36 PM;kchristidis;Description should be reworked substantially before we can work on this. Need to come up with the list of minimum steps to reproduce on the most barebones setup possible. This will help us get down to root cause.

Marking this as returned and will close by end of next week if there are no updates.;;;",,,,,,,,,,,,,,,,,,,,,
update docs for multi-arch docker references,FAB-9636,29579,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ChristopherFerris,ChristopherFerris,21/Apr/18 10:26 PM,23/Jan/20 7:31 AM,28/Oct/23 3:02 AM,23/Jan/20 7:31 AM,v1.1.0,,,v1.3.0,,,fabric-docs,,,,0,stale-item,,,,"wherever we reference x86_64-x.x.x tags in the docs, reference :latest",,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6u7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
add manifest-tool to gotools,FAB-9637,29580,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/Apr/18 10:27 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Apr/18 10:40 AM,v1.1.0,,,v1.2.0,,,fabric-build,,,,0,,,,,"add estesp/manifest-tool to gotools

manifest-tool will be used to create multi-arch docker manifest lists.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9660,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6uf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Apr/18 10:44 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/20851;;;",,,,,,,,,,,,,,,,,,,,,
replace use of uname -m with go env GOARCH,FAB-9638,29581,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,21/Apr/18 10:43 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/May/18 6:45 AM,v1.1.0,,,v1.2.0,,,fabric-build,,,,0,,,,,"using uname for determining the architecture is painful. With the migration to multi-arch docker manifests, it will make publishing much simpler if we align use of go env to determine architecture, especially as the MARCH-1.x.x tags will no longer be necessary when referencing a specific image.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9640,FAB-9876,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6un:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Apr/18 2:23 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20853;;;",,,,,,,,,,,,,,,,,,,,,
restore test in core/chaincode/platforms/util/utils_test.go,FAB-9639,29582,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,22/Apr/18 1:41 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/Jul/18 8:32 PM,v1.1.0,,,Future,,,fabric-quality,,,,0,,,,,restore skipped test TestDockerPull,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6uv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
baseimage replace use of uname -m with go env GOARCH,FAB-9640,29583,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,22/Apr/18 1:43 AM,27/Nov/19 2:17 AM,28/Oct/23 3:02 AM,04/May/18 6:52 AM,v1.1.0,,,v1.2.0,,,,,,,0,,,,,"using uname for determining the architecture is painful. With the migration to multi-arch docker manifests, it will make publishing much simpler if we align use of go env to determine architecture, especially as the MARCH-1.x.x tags will no longer be necessary when referencing a specific image.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9638,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6v3:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Apr/18 2:22 AM;ChristopherFerris; https://gerrit.hyperledger.org/r/20855;;;",,,,,,,,,,,,,,,,,,,,,
Stable image strategy,FAB-9641,29584,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,ChristopherFerris,22/Apr/18 8:38 AM,21/Jul/18 4:08 AM,28/Oct/23 3:02 AM,15/Jun/18 10:38 PM,v1.1.0,,,v1.2.0,,,fabric-build,fabric-ci,,,0,,,,,"We've had some discussion on this in the past. Our process for cutting a release is cumbersome and can still yield errors.


I'd like to move to a model where we have:


1- daily (nightly), choose a commit and build, smoke, unit-test, integration-test, if all pass, we tag as 'stable' in Nexus (binaries and images)
2- (optional) stable binaries and images are subjected to continued system, performance, end-user, etc testing
3- (optional) when it's soup, we tag the repos at the commit corresponding to the stable images and binaries build, publish the stable images to dockerhub and tag as release and latest, and we rename the stable binary tarballs accordingly.
4- lather, rinse and repeat
 
I think that this also makes cutting a ""release"" smoother than it has been because we don't have a dependency on a previously published _release_, we can build everything with a dependency on the most recent stable images.


As for the version metadata, i would think that the way to finesse that is to have the version we report always be <version>-<commit sha>. If any development images find their way into the wild, they'll be easily recognized because the commit-sha will be incorrect.",,ChristopherFerris,rameshthoomu,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10388,,,,,,,,,,,,,FAB-10476,,,,,,,,,,,,,,,,,,Unset,,Unset,,,Stable image strategy,,,,,Unset,,,,"1|hzz6vb:",,,,Unset,Unset,,,,,,,,,,,,,,,,ChristopherFerris,rameshthoomu,troyronda,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 9:35 AM;rameshthoomu;[~ChristopherFerris] Step 1 is *Done*. Below is the progress.

1. e2e merge job ( [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64] ) executes below tests
        – e2e cli

        – e2e sdk node

        – e2e java

        – byfn & eyfn with default, custom channel, couchdb, node chaincode & fabric-ca sample

after above tests are executed successfully from the latest merged commit, merge job from x86_64 arch publishes *stable tagged* images (peer orderer ccenv tools fabric-ca) and binaries to nexus repositories. See the below links

[https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric-stable/] (Binaries)

[https://nexus3.hyperledger.org/#browse/browse/components:docker.snapshot] (search with stable to see the stable tagged images)

NOTE: Above steps are implemented only from *master* branch.

Step 2: +*(In-Progress)*+

Fetch these images & binaries to test daily SVT test job ([https://jenkins.hyperledger.org/me/my-views/view/All/job/fabric-test-svt-x86_64/] ) and apply the same logic to test every SDK patch. (This has been tested for fabric-sdk-node in sandbox [https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-sdk-node8-verify-x86_64/8/] [)|https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-sdk-node8-verify-x86_64/8/]. This process saved 5 mins of sdk-node build time in x86_64 build nodes.

Step 3: *(In-Progress)*

Will keep script in fabric repository to download these stable images and binaries. Script is ready will push a change set soon.;;;","29/May/18 11:04 PM;rameshthoomu;fabric and fabric-ca Makefiles are not compatible to build images with nexus3.hyperledger.org:10001/hyperledger as DOCKER_NS.. Pushed change to fix this issue [https://gerrit.hyperledger.org/r/#/c/22419/] & [https://gerrit.hyperledger.org/r/#/c/22467/]

After these two patches are merged will publish fabric and fabric-ca docker images to nexus3. Will use below command to build the images
{code:java}
BASE_DOCKER_NS=nexus3.hyperledger.org:10001/hyperledger DOCKER_NS=nexus3.hyperledger.org:10001/hyperledger make docker PROJECT_VERSION=stable{code}
This will fix the instantiation issue while pulling ccenv image with ""$ARCH-$PROJECT_VERSION""

ex:
{code:java}
nexus3.hyperledger.org:10001/hyperledger/fabric-ccenv:amd64-stable{code};;;","05/Jun/18 4:17 AM;rameshthoomu;fabric-ca docker images are not allowing to update Project_version to ""stable"" as there is a version check in fabric-ca repository. so, Instead of ""stable"", I am updating scripts to tag ""1.2.0-stable"";;;","06/Jun/18 3:22 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/22795/;;;","13/Jun/18 5:00 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/22993;;;",,,,,,,,,,,,,,,,,
fabric/examples/e2e_cli v1.1.0 tutorial fails with error on RHEL Linux v7.4.0 platform on x86_64,FAB-9642,29585,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,pvrbharg,pvrbharg,22/Apr/18 11:08 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,Future,,,fabric-samples,,,,0,,,,,Out of the box example e2e_cli sample fails - with the above error. For details see the attachments,"[^Logs.zip]",jyellick,lehors,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9756,,,,,,,,,,,,,,,,,,"22/Apr/18 11:08 AM;pvrbharg;Logs.zip;https://jira.hyperledger.org/secure/attachment/14907/Logs.zip","27/Apr/18 4:02 AM;pvrbharg;Logs_April262018.zip;https://jira.hyperledger.org/secure/attachment/14923/Logs_April262018.zip","30/Apr/18 2:40 AM;pvrbharg;Logs_April292018.zip;https://jira.hyperledger.org/secure/attachment/14928/Logs_April292018.zip","05/May/18 9:40 AM;pvrbharg;image-2018-05-04-17-40-54-674.png;https://jira.hyperledger.org/secure/attachment/14939/image-2018-05-04-17-40-54-674.png",,,,,,,,,,,,,,,,,,,,"1|hzz6vj:",,,,,,,,,,,,,,,,,,,,,jyellick,lehors,mastersingh24,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Apr/18 10:16 PM;lehors;Hi,

There is an error all right but it has nothing to do with Java. Java isn't used here and the message merely relates to the fact that currently the support for Java chaincode is disabled. The e2e example uses a Go chaincode. You can see that the same message about Java is displayed on the previous step while installing the chaincode without triggering any error:

2018-04-22 01:57:11.582 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 005 java chaincode disabled
2018-04-22 01:57:11.652 UTC [golang-platform] getCodeFromFS -> DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02
2018-04-22 01:57:11.953 UTC [golang-platform] func1 -> DEBU 007 Discarding GOROOT package fmt
2018-04-22 01:57:11.953 UTC [golang-platform] func1 -> DEBU 008 Discarding provided package github.com/hyperledger/fabric/core/chaincode/shim
2018-04-22 01:57:11.953 UTC [golang-platform] func1 -> DEBU 009 Discarding provided package github.com/hyperledger/fabric/protos/peer
2018-04-22 01:57:11.953 UTC [golang-platform] func1 -> DEBU 00a Discarding GOROOT package strconv
2018-04-22 01:57:11.953 UTC [golang-platform] GetDeploymentPayload -> DEBU 00b done
2018-04-22 01:57:11.953 UTC [container] WriteFileToPackage -> DEBU 00c Writing file to tarball: src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02/chaincode_example02.go
2018-04-22 01:57:11.959 UTC [container] WriteFileToPackage -> DEBU 00d Writing file to tarball: src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02/chaincode_example02_test.go
2018-04-22 01:57:11.961 UTC [msp/identity] Sign -> DEBU 00e Sign: plaintext: 0AB4070A5C08031A0C08F7D7EFD60510...83C77F030000FFFF1E416A37002E0000
2018-04-22 01:57:11.961 UTC [msp/identity] Sign -> DEBU 00f Sign: digest: C304B0106D73D2FAAA1E2F1DAACC11164F3DFDB906D86B89EF13C905786F0A51
2018-04-22 01:57:11.981 UTC [chaincodeCmd] install -> DEBU 010 Installed remotely response:<status:200 payload:""OK"" >
2018-04-22 01:57:11.981 UTC [main] main -> INFO 011 Exiting.....
===================== Chaincode is installed on remote peer PEER2 =====================;;;","26/Apr/18 6:41 AM;pvrbharg;Hi,

Glad it is not Java that is the culprit and I know example02 is written in Go. I can understand the chaincode logic. .

So why are we seeing this bogus and non-issue messages when they are not in play - especially with some step failure not being material and other steps being failures - where you can not progress at all?

If there is no Java in play - perhaps we should not be seeing any of these unconnected messages at all - because there is no connection.

I attached peer and orderer logs and I could not find anything in their logs either. Did you find anything that missed? In any case the sample is not working out of the box on RHEL platform and my logs [both client and server side] are attached. Thanks.;;;","26/Apr/18 10:18 PM;lehors;I'm not sure why the message about Java is displayed at all. I agree it is confusing. Fabric isn't always the best at communicating with the user and we've a long standing effort to improve ""serviceability"" to address that.

As for the actual error you got, the Usage message is another distraction for which a fix has now been merged into master. The error is triggered as part of the chaincode instantiation and appears to be network and/or docker related:

Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): \{""message"":""network e2ecli_default not found""}

Unfortunately I tried to reproduce the error on my machine but without success. Interestingly enough I'm facing a problem too but a different one, later in the process...

Are you getting this repeatedly?

Could you please give us the output of 'docker ps' after the error has triggered and before you tear the network down?

Thanks.

 ;;;","27/Apr/18 4:07 AM;pvrbharg;Hello Arnaud Le Hors,

Thank you for your update. I locked in to the distracted and confusing message - given the network being still present and healthy. I do not understand how the network is not found on the failing step and is found on the previous step - all the while network actually exists and still there.

BTW - this only happens in the same release level of same image - in e2e_cli sample but not in byfn sample.

 

So what is different between them - as best as I can tell - not the chaincode or release binaries - just that one use case runs with SOLO and another runs with Kafka.

 

I would be happy to share my image if it helps - so you can actually work on the issue rather than having to setup the instance to replicate the issue.

 

Please let me know what else you need after you review my current attachment. Thanks.

 

 

 

[^Logs_April262018.zip];;;","29/Apr/18 6:16 PM;mastersingh24;This has been resolved on the master branch.  There seems to be something which changed within docker-compose in terms of how it deals with network names.  ;;;","30/Apr/18 12:47 AM;pvrbharg;Dear Gari,

 

Great news and thank you for this update - this is very helpful to me and my team. Regards.;;;","30/Apr/18 2:44 AM;pvrbharg;Dear team,

Regret to let you us know - this is not the same issue as the one being marked as duplicate. I checked out the master branch, pulled the matching images, compiled the sources in fabric repo, built the docker images and made sure in the examples/e2e_cli - I have the missing .env file with correct content.

 

I still get the same problem and our out of box sample still does not work.

 

As I said - I would be happy to share my VM - so you can actually debug the issue yourself under your own control rather than loose time in building the instance to replicate the problem.

 

Thanks.;;;","30/Apr/18 3:32 AM;pvrbharg;Dear team, 

I meant to tell us - I tried in Master branch and also in v1.1.0 - same outcomes - unsuccessful. However error messages are somewhat different. 

So what I attached is for master branch result.

What I am appending inline here is for branch v1.1.0 - with .env file now in my e2e_cli folder:

+++++

===================== Chaincode is installed on remote peer PEER2 =====================

Instantiating chaincode on org2/peer2...
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_LOCALMSPID=Org2MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
2018-04-29 18:17:03.591 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-04-29 18:17:03.591 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-04-29 18:17:03.595 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
2018-04-29 18:17:03.595 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
2018-04-29 18:17:03.596 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 005 java chaincode disabled
2018-04-29 18:17:03.597 UTC [msp/identity] Sign -> DEBU 006 Sign: plaintext: 0ABF070A6708031A0C089F9898D70510...535010030A04657363630A0476736363
2018-04-29 18:17:03.597 UTC [msp/identity] Sign -> DEBU 007 Sign: digest: 49D025B879EF07D8107DFCD8C6A41B6BC5B90602FE3A12667DC9B57331DED584
Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): \{""message"":""network e2ecli_default not found""}

Usage:
 peer chaincode instantiate [flags]

Flags:
 -C, --channelID string The channel on which this command should be executed
 --collections-config string The file containing the configuration for the chaincode's collection
 -c, --ctor string Constructor message for the chaincode in JSON format (default ""\{}"")
 -E, --escc string The name of the endorsement system chaincode to be used for this chaincode
 -l, --lang string Language the chaincode is written in (default ""golang"")
 -n, --name string Name of the chaincode
 -P, --policy string The endorsement policy associated to this chaincode
 -v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
 -V, --vscc string The name of the verification system chaincode to be used for this chaincode

Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 --certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint
 --clientauth Use mutual TLS when communicating with the orderer endpoint
 --keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer.
 --tls Use TLS when communicating with the orderer endpoint
 --transient string Transient map of arguments in JSON encoding

!!!!!!!!!!!!!!! Chaincode instantiation on PEER2 on channel 'mychannel' failed !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================

^C
[hlbcadmin@kopernik e2e_cli]$ docker network ls
NETWORK ID NAME DRIVER SCOPE
0532b3a6bb07 bridge bridge local
7f8859e5d662 e2e_default bridge local
2fbbdc92592f host host local
15c57b0719e8 none null local
[hlbcadmin@kopernik e2e_cli]$ git stash list
stash@\{0}: WIP on master: eca42cf3 Merge ""[FAB-9316] Update e2e_cli to use AND endorsement pol""
stash@\{1}: WIP on (no branch): 523f644b [FAB-8883] Prepare for Fabric v1.1.0 release
[hlbcadmin@kopernik e2e_cli]$

+++++;;;","05/May/18 12:52 AM;jyellick;The text:


{noformat}
Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): {""message"":""network e2ecli_default not found""}
{noformat}

makes me think that your environment might still not reflect master.  Please check in {{fabric/examples/e2e_cli/base/peer-base.yaml}} that you have the line:

{noformat}
CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2e_default
{noformat}

Especially note that this says ""e2e_default"" and not ""e2ecli_default"".

Although you said you have checked, please also ensure that there is a {{examples/e2e_cli/.env}} file which contains the line:

{noformat}
COMPOSE_PROJECT_NAME=e2e
{noformat};;;","05/May/18 9:43 AM;pvrbharg;Dear Jason, Gari and Arnaud,

My unconditional apologies to each of you. As each of you know - I am perfect and can not make any mistakes, right? Just kidding.

My bad and fault - base/peer-base.yaml file line - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2e_default had the wrong entry - Jason - you are *dead accurate* 2/2. THANK YOU!

!image-2018-05-04-17-40-54-674.png!

 ;;;","07/May/18 10:14 PM;lehors;Thank you for confirming the problem is resolved.;;;",,,,,,,,,,,
Return an error if collection isn't found,FAB-9643,29586,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Apr/18 10:18 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/Apr/18 11:35 AM,,,,,,,fabric-peer,,,,0,,,,,"The simpleCollectionStore implementation returns nil, nil in case the collection isn't found when calling RetrieveCollection .
{code:java}
func (c *simpleCollectionStore) retrieveSimpleCollection(cc common.CollectionCriteria) (*SimpleCollection, error) {
    collections, err := c.retrieveCollectionConfigPackage(cc)
    if err != nil {
        return nil, err
    }
    if collections == nil {
        return nil, nil
    }{code}
Gossip checks for the error and assumes that if error is nil then the collection has been retrieved, though it isn't so.

However, it's safe to omit this ""if collections == nil"" check because the function retrieveCollectionConfigPackage never actually returns nil, nil:
{code:java}
func (c *simpleCollectionStore) retrieveCollectionConfigPackage(cc common.CollectionCriteria) (*common.CollectionConfigPackage, error) {
    qe, err := c.s.GetQueryExecutorForLedger(cc.Channel)
    if err != nil {
        return nil, errors.WithMessage(err, fmt.Sprintf(""could not retrieve query executor for collection criteria %#v"", cc))
    }
    defer qe.Done()

    cb, err := qe.GetState(""lscc"", c.s.GetCollectionKVSKey(cc))
    if err != nil {
        return nil, errors.WithMessage(err, fmt.Sprintf(""error while retrieving collection for collection criteria %#v"", cc))
    }
    if cb == nil {
        return nil, NoSuchCollectionError(cc)
    }

    collections := &common.CollectionConfigPackage{}
    err = proto.Unmarshal(cb, collections)
    if err != nil {
        return nil, errors.Wrapf(err, ""invalid configuration for collection criteria %#v"", cc)
    }

    return collections, nil
}{code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6vr:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
define interfaces for pluggable endorsement and validation,FAB-9644,29587,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Apr/18 11:05 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 7:48 PM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6vz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Protobufs for key-level metadata,FAB-9645,29590,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,23/Apr/18 5:20 PM,26/Aug/18 12:33 AM,28/Oct/23 3:02 AM,02/May/18 11:32 PM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,Define the ledger kv-rwset protobufs necessary to support per-key metadata.,,ales,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-876,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt7j:",,,,,,,,,,,,,,,,,,,,,ales,denyeart,mne,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Apr/18 10:52 PM;mne;https://gerrit.hyperledger.org/r/#/c/20891/;;;","24/Apr/18 12:55 AM;mne;https://gerrit.hyperledger.org/r/#/c/20893/;;;","07/May/18 11:23 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21385/;;;","07/May/18 11:24 AM;denyeart;[~ales] [~mne] This item had 3 CRs.  Remember to create a JIRA item per CR.  You can either create new top level tasks, or subtasks, for the additional CRs.;;;","07/May/18 4:19 PM;ales;ACK [~denyeart];;;",,,,,,,,,,,,,,,,,
peer node fails to start due to invalid memory address or nil pointer dereference,FAB-9646,29591,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,tboloo,tboloo,23/Apr/18 6:46 PM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,v1.1.0,,,,,,fabric-samples,,,,0,,,,,"Hi,

I'm trying to run [chaincode-docker-devmode|https://github.com/hyperledger/fabric-samples/tree/release-1.1/chaincode-docker-devmode] sample, however the peer node fails to start with 

 invalid memory address or nil pointer dereference, details in attached [^peer.log].

I'm using 1.1.0-review version, both 1.1.0-rc1 and 1.1.0 fails with the expiration error as in -FAB-8595-

I'm running Docker version 17.12.1-ce, build 7390fc6 on  Debian GNU/Linux 9.4 (stretch)",,lehors,mastersingh24,tboloo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Apr/18 6:43 PM;tboloo;peer.log;https://jira.hyperledger.org/secure/attachment/14908/peer.log",,,,,,,,,,,,,,,,,,,,,,,"1|hzz6wf:",,,,,,,,,,,,,,,,,,,,,lehors,mastersingh24,tboloo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Apr/18 2:18 AM;lehors;I just tried this on my Ubuntu 16.04.1 system and I couldn't reproduce the problem. Here is the peer I have:

 Version: 1.1.0
  Go version: go1.9.2
  OS/Arch: linux/amd64
  Experimental features: false
  Chaincode:
   Base Image Version: 0.4.6
   Base Docker Namespace: hyperledger
   Base Docker Label: org.hyperledger.fabric
   Docker Namespace: hyperledger

 ;;;","25/Apr/18 4:09 AM;tboloo;Tried it on the different machine, same result: 1.1.0 fails with the expiration error as in FAB-8595, 1.1.0-preview fails with invalid memory address or nil pointer dereference.

Docker version 18.03.0-ce, build 0520e24

Debian GNU/Linux 9.4 (stretch)

 

 ;;;","25/Apr/18 2:25 PM;tboloo;Update: works for version 1.0.6;;;","29/Apr/18 6:11 PM;mastersingh24;[~tboloo] - Which version of the fabric-samples are you running?  Can you make sure that you are running the v1.1.0 version of the samples?


{quote}git clone https://github.com/hyperledger/fabric-samples
cd fabric-samples
git checkout *v1.1.0*{quote}
;;;","13/May/18 7:25 PM;mastersingh24;reducing this to medium for now and will close if we don't hear back from [~tboloo] soon;;;","15/May/18 5:13 AM;tboloo;I did download the 1.1 release as [~mastersingh24] suggested and I was not able to reproduce the issue.;;;",,,,,,,,,,,,,,,,
Rename container runtime to something slightly more generic,FAB-9647,29594,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,23/Apr/18 9:45 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:05 AM,,,,v1.2.0,,,,,,,0,,,,,"The start/stop is called for containerized chaincode as well as system chaincode. The system chaincode is fired up via an in-process mechanism while non-system chaincode is started in a container.

We want to preserve this object to maintain the start/stop lifecycle but we should find a better name.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6wn:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 9:42 PM;sykesm;https://gerrit.hyperledger.org/r/c/21231/;;;",,,,,,,,,,,,,,,,,,,,,
Update sphinx & rtd_theme to latest version,FAB-9648,29596,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,23/Apr/18 10:15 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 12:40 AM,,,,v1.2.0,,,fabric-build,,,,0,Documentation,,,,Update sphinx & rtd_theme to latest version in docs/requirements.txt file.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz6x3:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Apr/18 10:24 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/20889/;;;",,,,,,,,,,,,,,,,,,,,,
Peer CLI invoke feature to wait for block commit via deliver service,FAB-9649,29600,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,23/Apr/18 10:58 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,17/May/18 3:34 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The peer CLI should provide a flag that, when enabled, allows the end user to connect to the deliver service on the peer(s) it has requested endorsements from and wait for the block containing the transaction to be committed to the peer ledger(s).",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11237,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz2av:",,,,Unset,,May2018 - Lifecycle & Config,,,,Unset,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 1:13 AM;wlahti;https://gerrit.hyperledger.org/r/c/21259;;;",,,,,,,,,,,,,,,,,,,,,
peer feature test fail CI jobs in fabric-smoke tests.,FAB-9650,29601,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nnao,sambhavdutt,sambhavdutt,23/Apr/18 11:08 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,25/Apr/18 9:25 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The following errors are failing the fabric smoke-tests in daily, verify and merge CI jobs in fabric-test, 


{code:java}
Failing step: Then a user receives a success response of 100 ... failed in 0.000s
Location: peer.feature:44
Assertion Failed: Expected response was 100; received 100
{code}


{code:java}
@smoke
  Scenario Outline: FAB-1440, FAB-3861: Basic Chaincode Execution - kafka orderer type, using couchdb, with tls -- @1.7 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... passed in 24.944s
    When a user sets up a channel ... passed in 68.746s
    And a user deploys chaincode ... passed in 57.072s
    When a user queries on the chaincode ... passed in 4.883s
    Then a user receives a success response of 100 ... failed in 0.000s
    When a user invokes on the chaincode ... skipped in 0.000s
    And I wait ""5"" seconds ... skipped in 0.000s
    And a user queries on the chaincode ... skipped in 0.000s
    Then a user receives a success response of 95 ... skipped in 0.000s
{code}

*Build Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-verify-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/
",,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9617,FAB-9622,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz713:",,,,,,,,,,,,,,,,,,,,,nnao,sambhavdutt,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"24/Apr/18 2:05 AM;nnao;https://gerrit.hyperledger.org/r/c/20903/;;;","28/Apr/18 3:49 AM;sambhavdutt;The chaincode tests have passed successfully in the smoke tests after this patch was merged.;;;",,,,,,,,,,,,,,,,,,,,
in-proc streams should return error on receive side when receive channel has been closed,FAB-9651,29602,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,23/Apr/18 11:10 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 11:57 PM,,,,,,,,,,,0,,,,,"When the receive channel has been closed, with the current implementation, all calls to receive after the close will return the zero value of the channel (a nil message) and no error. This makes debugging closed channels more difficult than necessary.

The receive implementations should change to use the two-arg version of receive and return an error indicating a closed channel if the channel has closed.",,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz71b:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,skarim,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 1:49 AM;skarim;https://gerrit.hyperledger.org/r/20967;;;",,,,,,,,,,,,,,,,,,,,,
create manifest template and script(s) for master,FAB-9652,29604,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,24/Apr/18 12:07 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,05/Jul/18 8:52 PM,v1.1.0,,,v1.2.0,,,fabric-build,,,,0,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9630,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz71j:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup endorser ProcessProposal log message,FAB-9653,29606,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,24/Apr/18 12:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 6:19 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The endorser currently logs the following message when it completes processing a proposal: 
{code:java}
2018-04-23 15:43:21.382 UTC [endorser] ProcessProposal -> DEBU 6ae Exit: request from%!(EXTRA string=172.22.0.14:59776){code}
This should be cleaned up to read: 
{code:java}
2018-04-23 15:43:21.382 UTC [endorser] ProcessProposal -> DEBU 6ae Exit: request from 172.22.0.14:59776{code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz71r:",,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 1:03 AM;wlahti;https://gerrit.hyperledger.org/r/c/20895/;;;",,,,,,,,,,,,,,,,,,,,,
Capabilities for key-level validation,FAB-9654,29607,33225,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,mne,mne,24/Apr/18 12:57 AM,26/Aug/18 1:02 AM,28/Oct/23 3:02 AM,27/Apr/18 9:57 PM,,,,v1.2.0,,,,,,,0,,,,,Capabilities for supporting key-level metadata,,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt7z:",,,,,,,,,,,,,,,,,,,,,denyeart,mne,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Aug/18 12:56 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20897/;;;",,,,,,,,,,,,,,,,,,,,,
Function tests for SysCC ACL,FAB-9655,29608,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,24/Apr/18 12:59 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,14/Jun/18 8:15 PM,,,,v1.2.0,,,fabric-peer,,,,0,e2e-test,,,,"To test that a system chaincode ACL is functioning properly in the e2e environment, we should extend the e2e tests as follows.

# Modify the default configtxgen configuration to override the default ACL for the system chaincode target {{lscc/GetChaincodes}}
# Run the generic world bootstrapping to create a channel using this custom configuration
# Execute the {{peer chaincode}} command to invoke the chaincode method as an authorized user, confirm success
# Execute the {{peer chaincode}} command to invoke the chaincode method as an unauthorized user, confirm failure",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8727,,,,,,,,,,"1|hzz2dj:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/May/18 11:50 PM;jyellick;In review via https://gerrit.hyperledger.org/r/22471;;;",,,,,,,,,,,,,,,,,,,,,
Read/write-set builder for key-level metadata,FAB-9656,29609,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,mne,mne,24/Apr/18 1:00 AM,26/Aug/18 12:39 AM,28/Oct/23 3:02 AM,26/Aug/18 12:36 AM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,Enhance the read/write-set builder with functionality to add key-level metadata,,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt47:",,,,,,,,,,,,,,,,,,,,,manish-sethi,mne,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 1:19 AM;mne;https://gerrit.hyperledger.org/r/#/c/20899/;;;","07/May/18 10:49 AM;manish-sethi;As per the latest ledger APIs merged in this CR - (https://gerrit.hyperledger.org/r/#/c/21421/2/core/ledger/ledger_interface.go), a support is needed to allow more than one explicit entries into metadata associated with a key. 
Also, these APIs requires the support for allowing only delta change to the committed metadata (in addition to optionally specifying the change in the value associate with the key).

So, submitted a fresh CR for enhancing the rwset builder accordingly - https://gerrit.hyperledger.org/r/#/c/21481/;;;","15/May/18 4:50 AM;manish-sethi;Based on the recent design decisions, submitted a fresh CR - https://jira.hyperledger.org/browse/FAB-9656;;;",,,,,,,,,,,,,,,,,,,
TX simulator for key-level metadata - Enable e2e in ledger,FAB-9657,29610,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,mne,mne,24/Apr/18 1:34 AM,25/Aug/18 10:22 PM,28/Oct/23 3:02 AM,25/Aug/18 10:21 PM,,,,Future,,,fabric-ledger,,,,0,,,,,Transaction simulator support for metadata (tie txsim to the RWset builder). ,,manish-sethi,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt4n:",,,,,,,,,,,,,,,,,,,,,manish-sethi,mne,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 1:47 AM;mne;https://gerrit.hyperledger.org/r/#/c/20901/;;;","24/Apr/18 6:15 PM;mne;https://gerrit.hyperledger.org/r/#/c/20931/;;;","15/May/18 4:57 AM;manish-sethi;Submitted a fresh CR based on how other changes are structured - https://gerrit.hyperledger.org/r/#/c/21781/;;;",,,,,,,,,,,,,,,,,,,
"Make system chaincode struct take interface implementation, rather than function returning it",FAB-9658,29612,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,24/Apr/18 1:44 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz71z:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update docker client to level that supports docker networks,FAB-9659,29613,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,24/Apr/18 2:52 AM,21/Jul/18 3:51 AM,28/Oct/23 3:02 AM,24/Apr/18 9:31 PM,,,,v1.2.0,,,,,,,0,,,,,"The end to end scenarios make use of docker networks for communication between containers but the current version of the client used in master does not contain that level of support.

It appears (from references in our doc) that we're now requiring docker-ce 17.06. That engine version corresponds to API version 1.30.

The v1.0.0 version of the fsouza docker client corresponds with API version 1.23 and contains the support needed for networking.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzyizj:",,,,Unset,,,,,,Unset,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 2:58 AM;sykesm;/cc [~mastersingh24] - Given you recently did the work to move to dep, just wanted to get your opinion on this one. It looked like you explicitly chose the older version and I'm not sure if there was a reason for it.;;;","24/Apr/18 3:00 AM;sykesm;https://gerrit.hyperledger.org/r/20905;;;","24/Apr/18 9:31 PM;mastersingh24;We should be fine to upgrade ... I believe that I chose a specific version as I was trying to deal with some compile errors which I thought were do to the dockerclient but as it turns out were not.;;;",,,,,,,,,,,,,,,,,,,
add manifest-tool to gotools v1.1,FAB-9660,29614,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,24/Apr/18 3:24 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 11:37 PM,v1.1.0,,,v1.2.0,,,fabric-build,,,,0,,,,,"add estesp/manifest-tool to gotools

manifest-tool will be used to create multi-arch docker manifest lists.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9637,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz727:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 3:27 AM;ChristopherFerris;https://gerrit.hyperledger.org/r/20907;;;",,,,,,,,,,,,,,,,,,,,,
create baseimage release 0.4.8,FAB-9662,29616,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,24/Apr/18 3:51 AM,27/Nov/19 2:17 AM,28/Oct/23 3:02 AM,27/Apr/18 8:34 PM,v1.1.0,,,v1.2.0,,,,,,,0,,,,,create baseimage release 0.4.8,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz72n:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
prepare baseimage for 0.4.9 release,FAB-9663,29617,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,24/Apr/18 3:52 AM,27/Nov/19 2:17 AM,28/Oct/23 3:02 AM,27/Apr/18 8:34 PM,v1.1.0,,,v1.2.0,,,,,,,0,,,,,prepare baseimage for 0.4.9 release,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz72v:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make TestQueries to be able to run independently ,FAB-9664,29618,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,24/Apr/18 4:05 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 3:38 AM,,,,,,,,,,,0,hygiene,,,,Make TestQueries in fabric/core/chaincode/exectransaction_test.go to be able to run independently ,,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz733:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/18 3:39 AM;sykesm;Fixed with FAB-9684;;;",,,,,,,,,,,,,,,,,,,,,
PTE not handling IBP Enterprise data structures,FAB-9665,29619,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,holocron,holocron,24/Apr/18 5:34 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 11:24 PM,,,,,,,fabric-tools,,,,0,,,,,"PTE is not handling the data structures as defined by the IBP Enterprise offering, specifically, the peer names (keys) are not ""peer"" but instead something like ""fabric-peer-org1-20399c"".

 

This leads to problems like:


{{info: [PTE 0 main]: request_install: \{""targets"":[],""chaincodePath"":""github.com/hyperledger/fabric-sdk-node/test/fixtures/src/github.com/sample_cc"",""chaincodeId"":""sample_cc_ch"",""chaincodeType"":""golang"",""chaincodeVersion"":""v0""}}}
{{error: [Client.js]: installChaincode error Missing peer objects in install chaincode request}}
{{error: [PTE 0 main]: Failed to enroll user 'admin'. Error: Missing peer objects in install chaincode request}}

 

I have a fix that I intend to create a CR for, essential doing a change all on

{{key.indexOf('peer') === 0}}

to

{{key.includes('peer')}}

 

 ",,holocron,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz73b:",,,,,,,,,,,,,,,,,,,,,holocron,,,,,,,,,,,,,,,,,,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,,,,,,,,,,,,,,,,,,,,,,
Update fabric-test submodules to the latest commit.,FAB-9666,29621,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,24/Apr/18 6:44 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,04/May/18 11:01 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,"In the current script, the submodules in fabric-test are not updated to the latest version, as they rely on the submodule commits which may not always be the recent commit. This change is to update the submodules to the latest version within fabric-test.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz73j:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"04/May/18 11:01 PM;sambhavdutt;This patch has been merged.
https://gerrit.hyperledger.org/r/#/c/20919/;;;",,,,,,,,,,,,,,,,,,,,,
[Build] - Installing golint not working while building images,FAB-9667,29622,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,rameshthoomu,rameshthoomu,24/Apr/18 1:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,24/Apr/18 7:03 PM,,,,v1.2.0,,,fabric-build,,,,0,,,,,"[Build] - Installing golint not working while building images
{code:java}
$ go get -u golang.org/x/lint/golint package golang.org/x/lint/golint: unrecognized import path ""golang.org/x/lint/golint"" (parse https://golang.org/x/lint/golint?go-get=1: no go-import meta tags ())
{code}
The issue is open in golint repo

https://github.com/golang/lint/issues/397

 ",,harsha544,muralisr,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz73r:",,,,,,,,,,,,,,,,,,,,,harsha544,muralisr,rameshthoomu,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 1:45 PM;muralisr;Following the fix suggested in [https://github.com/golang/lint/issues/397] as a temporary workaround

 

https://gerrit.hyperledger.org/r/#/c/20929/;;;","25/Apr/18 5:39 PM;harsha544;[~muralisr] I see issue is resolved and {{[https://golang.org/x/lint/golint?go-get=1]}} is accessible.;;;",,,,,,,,,,,,,,,,,,,,
"Remove CouchDB, Kafka and ZK 1.1.0-preview release tags/images from Dockerhub",FAB-9669,29624,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,david_dornseifer,david_dornseifer,24/Apr/18 3:11 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,18/Jul/18 8:02 AM,,,,Future,,,fabric-release,,,,0,,,,,"Official couchdb images on dockerhub are still on 1.1.0-preview. Same for Kafka and ZK. 

[https://hub.docker.com/r/hyperledger/fabric-couchdb/tags/]",,ChristopherFerris,david_dornseifer,jwagantall,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz747:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,david_dornseifer,jwagantall,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/18 7:48 PM;mastersingh24;The issue is that we should actually delete the 1.1.0-preview images for CouchDB, Kafka and ZK.  The release versions of these images now match the fabric-baseimage tag version.

I'm going to modify this to be a task and reassign to Ramesh;;;","29/Apr/18 6:28 AM;ChristopherFerris;I'm trying to off-load some of Ramesh's workload.;;;","14/Jun/18 12:16 AM;ChristopherFerris;Needs to be done with someone with more privs than I have,

{{Each of these tags should be deleted, please}}:

hyperledger/fabric-kafka:ppcle64-1.1.0-preview

hyperledger/fabric-kafka:x86_64-1.1.0-preview

hyperledger/fabric-kafka:s390x-1.1.0-preview

hyperledger/fabric-couchdb:ppcle64-1.1.0-preview

hyperledger/fabric-couchdb:x86_64-1.1.0-preview

hyperledger/fabric-couchdb:s390x-1.1.0-preview

hyperledger/fabric-zookeeper:ppcle64-1.1.0-preview

hyperledger/fabric-zookeeper:x86_64-1.1.0-preview

hyperledger/fabric-zookeeper:s390x-1.1.0-preview

 ;;;","18/Jul/18 6:06 AM;jwagantall;Hi [~ChristopherFerris], I am removing the mentioned preview tags from dockerhub, 

 

Please let me know in case something else new is needed. 

 

Thanks!

Jess;;;",,,,,,,,,,,,,,,,,,
Modular SW-Based BCCSP,FAB-9670,29625,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,24/Apr/18 3:42 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,17/May/18 11:19 PM,,,,v1.2.0,,,fabric-crypto,,,,0,review-needed,Security,,,"The software-based implementation of the BCCSP interface already provide a modular implementation that allows to plug multiple algorithm wrappers to perform the BCCSP operations. Currently, this modular approach cannot be fully exploited because methods are missing to allow this customisation.

This FAB proposes to refactor the software-based implementation to expose these additional customisation helper functions.
In the context of FAB-8930, this would allow to reuse the software-based BCCSP to implement a new BCCSP supporting the idemix options.",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:o",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Apr/18 3:44 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/20527/;;;",,,,,,,,,,,,,,,,,,,,,
Issuer Key Generator,FAB-9671,29626,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,24/Apr/18 3:48 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,02/Nov/18 12:39 PM,,,,v1.4.0,,,fabric-crypto,,,,0,idemix,,,,Implement the key generator supporting the IdemixIssuerKeyGenOpts.,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:p",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:21 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/20529/;;;",,,,,,,,,,,,,,,,,,,,,
User Key Generator,FAB-9672,29627,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,24/Apr/18 3:51 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,06/Nov/18 8:00 PM,,,,v1.4.0,,,fabric-crypto,,,,0,idemix,quality,review-needed,,Implement the key generator supporting the IdemixUserSecretKeyGenOpts.,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:q",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:22 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/20533/;;;",,,,,,,,,,,,,,,,,,,,,
Implement MSP plugin ,FAB-9673,29630,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,guolidong,silentspark,silentspark,24/Apr/18 6:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-crypto,fabric-peer,,,2,stale-item,,,,"Now we have basic MSP and Idemix MSP. In the future, we may have additional types of MSP. e.g. x509 certificate processing in golang doesn't support some regional standard crypto algorithms, so another MSP need to be implemented.  

To avoid code invasion, we can leverage support for Go-based plugins to implement a ""plugin"" MSP.  Just like [FAB-6189] Implement bccsp plugin 

The plugin provider will be simple:
 - implement the msp interface
 - config will take a path to a plugin module as well as a raw map[string]interface\{}

The provider will load the plugin and simply call the matching exported methods.",,dabbertorres,guolidong,silentspark,sykesm,transhft,tylerwince,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz753:",,,,Unset,,,,,,Unset,,,,,,,,,,,dabbertorres,guolidong,silentspark,sykesm,transhft,tylerwince,wutongtree,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/19 2:19 AM;tylerwince;Is there any update on this issue?;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
implement pluggable endorsement,FAB-9674,29631,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,24/Apr/18 7:01 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,05/May/18 1:49 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8729,,,,,,,,,,"1|hzz75b:",,,,Unset,,,,,,Unset,,,,,,,,,,,yacovm,zhaochy,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/18 11:09 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/21083/;;;",,,,,,,,,,,,,,,,,,,,,
Connect the endorser with the transient store,FAB-9675,29632,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,24/Apr/18 8:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 11:59 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The endorser code needs access to the transient store in the context of a channel, in order to be used for pluggable endorsements.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz75j:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Chaincode shim interface for key-level endorsement policies,FAB-9676,29633,33224,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,24/Apr/18 9:22 PM,06/Sep/18 12:04 AM,28/Oct/23 3:02 AM,06/Sep/18 12:04 AM,,,,v1.3.0,,,,,,,0,,,,,"Extend chaincode shim interface(s) to be able to set and retrieve per-key endorsement policies. The newly introduced functions allow a chaincode developer to set and retrieve the validation parameter for a given key. The functions only involve the endorsement policy and not the value of a key, i.e. it is

{{GetStateValidationParameter(key string) ([]byte, error)}}

and not

{{GetState(key string) ([]byte, []byte, error)}}

The rationale behind separating the validation parameter from the value of a key in the shim API are as follows:
 * Endorsement policies are stored as ledger metadata, which is updated independently from the value of a key. This separation allows to change the trust assumptions on modifying a key without changing its value. This is reflected by the shim API.
 * If value and endorsement policy were set together, for cases where you are doing a blind write of one or the other, you would have to do an artificial retrieve of the other in order to set them both, this would unnecessarily add a read dependency to the transaction.
 * If value and endorsement policy were set together, the API for delete would get ambiguous... for example it would be unclear how to delete the endorsement policy without deleting the value.
 * No change of the current API to retrieve ledger state.
 * No duplication of functionality (e.g. GetState and GetStateWithValidationParameter)",,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt5z:",,,,,,,,,,,,,,,,,,,,,denyeart,mne,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 2:47 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20935/;;;",,,,,,,,,,,,,,,,,,,,,
Restructure state DB encoder,FAB-9677,29634,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,24/Apr/18 9:25 PM,26/Aug/18 12:40 AM,28/Oct/23 3:02 AM,28/Apr/18 1:38 AM,,,,,,,,,,,0,,,,,"In the current implementation, levelDB encodes the KVS version as part of the KVS value, whereas couchDB encodes the KVS version as an additional map entry. The code to package version and value into a byte array therefore only belongs to the levelDB code, and not the generic stateDB code. ",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz75r:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
CouchDB support for key-level metadata,FAB-9681,29640,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,ales,ales,24/Apr/18 10:36 PM,25/Aug/18 10:23 PM,28/Oct/23 3:02 AM,25/Aug/18 10:22 PM,,,,Future,,,fabric-ledger,,,,0,,,,,CouchDB should support storing per-key metadata. This is accomplished by adding a new (reserved) entry in the map that is stored in couch.,,ales,manish-sethi,sheehan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwt4v:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,manish-sethi,sheehan,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 10:51 PM;sheehan;How will this impact (or not impact) `GetQueryResult(query string) (StateQueryIteratorInterface, error)`?;;;","15/May/18 4:55 AM;manish-sethi;[~sheehan] - There is not planned impact on the above queries as yet. I have not modified existing tests for the above functionality to make sure of this.

https://gerrit.hyperledger.org/r/#/c/21777/;;;",,,,,,,,,,,,,,,,,,,,
PTE simplifies main js,FAB-9682,29644,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,24/Apr/18 11:24 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 10:20 PM,,,,,,,fabric-quality,,,,0,,,,,"To simplify json input vars for create/join channel and install/instantiate chaincode, the following PTE input vars are moved into new API GetCCID(): channelID, chaincode_id, changicode_var

Also var ProcPerOrg is moved to the section of Invoke/Query.

 ",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz787:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"25/Apr/18 2:51 AM;dongming;https://gerrit.hyperledger.org/r/#/c/20975/;;;",,,,,,,,,,,,,,,,,,,,,
Revisit handler failures between registered and ready,FAB-9683,29645,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 12:49 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 11:00 PM,,,,v1.2.0,,,,,,,0,,,,,"Prior to refactor, ""notifyDuringStartup"" passed a bool value back to chaincode support that indicated whether or not the ready message was successfully sent to the chaincode. As part of the existing refactor, a simple chan struct\{} is used to for readiness notification back.

The chan struct\{} approach accurately models a one-shot release but loses the nuance of passing a message back.

We need to revisit whether we want to restore the existing semantic or rely on the start timeout to capture this scenario.",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz78f:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 2:52 AM;mastersingh24;I don't think we should rely on the timeout ... depending on the environment sometimes the timeout is fairly long.
I think we need to move away from the channel construct.;;;","15/May/18 8:29 AM;sykesm;https://gerrit.hyperledger.org/r/21793;;;",,,,,,,,,,,,,,,,,,,,
Replace runningChaincodes with HandlerRegistry,FAB-9684,29646,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 1:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 12:31 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz78n:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 1:32 AM;sykesm;https://gerrit.hyperledger.org/r/c/20957/;;;",,,,,,,,,,,,,,,,,,,,,
Move IsDevMode to config,FAB-9685,29647,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 1:13 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 10:09 PM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz78v:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 2:27 AM;sykesm;https://gerrit.hyperledger.org/r/20973;;;",,,,,,,,,,,,,,,,,,,,,
"As a system chaincode developer, I want two versions of the same system chaincode to be able to exist simultaneously",FAB-9686,29648,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jyellick,jyellick,jyellick,25/Apr/18 1:13 AM,20/Aug/19 12:59 PM,28/Oct/23 3:02 AM,20/Aug/19 12:59 PM,,,,Future,,,fabric-peer,,,,0,,,,,The peer codebase currently assumes that all system chaincodes are at the version of the current peer binary.  This makes backwards compatibility very difficult and generally breaks the idea of versioning system chaincode.,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,,,,,,,,,,,,"1|hzz793:",,,,No,,,,,,No,,,,,,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/18 1:30 AM;sykesm;[~jyellick], is this done? There's one linked subtask that's already closed.

Thanks.;;;","11/Sep/18 11:55 PM;jyellick;This is half-done.  It's been reprioritized because lifecycle will operate as a new chaincode (and not a new version of the existing).  Bug is also probably the wrong approach, it should be a story.;;;","20/Aug/19 12:59 PM;jyellick;System chaincodes are usually a bad idea. _lifecycle is the only one which has chaincode properties.  Let's see how long we can go without requiring more than one version.;;;",,,,,,,,,,,,,,,,,,,
Fix vet issues in tests with keyify,FAB-9687,29649,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 1:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 10:11 PM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz79b:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 2:06 AM;sykesm;https://gerrit.hyperledger.org/r/20969;;;",,,,,,,,,,,,,,,,,,,,,
Remove dangerous and unused ChainID from CCID,FAB-9688,29650,29648,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,25/Apr/18 1:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 5:36 AM,,,,,,,fabric-peer,,,,0,,,,,"There is a ChainID field attached to the CCID struct.  If set, this causes the GetName() to return a unique name per channel.  However, the rest of the codebase depends on GetName() returning the same name regardless of channel.

So, setting this field actually breaks chaincode management (it would force a container to spawn per channel, not per chaincode), however there are comments which indicate it must be set for anything but chainless syscc.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz79j:",,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 4:43 AM;kchristidis;https://gerrit.hyperledger.org/r/c/20955/;;;",,,,,,,,,,,,,,,,,,,,,
Use golang context Done channel as needed in handler.,FAB-9689,29651,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,25/Apr/18 1:16 AM,08/Sep/18 2:54 AM,28/Oct/23 3:02 AM,08/Sep/18 2:54 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz79r:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[Build] - Installing golint not working while building images for v1.1.0 ,FAB-9690,29652,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mrshah-ibm,mrshah-ibm,mrshah-ibm,25/Apr/18 2:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/Apr/18 2:45 AM,v1.1.0,,,v1.1.1,,,fabric-build,,,,0,,,,,"[Build] - Installing golint not working while building images
{code:java}
$ go get -u golang.org/x/lint/golint package golang.org/x/lint/golint: unrecognized import path ""golang.org/x/lint/golint"" (parse https://golang.org/x/lint/golint?go-get=1: no go-import meta tags ())
{code}
The issue is open in golint repo

[https://github.com/golang/lint/issues/397]

 

This affects v1.1.0 (GA) build.

 ",,mrshah-ibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz79z:",,,,,,,,,,,,,,,,,,,,,mrshah-ibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extract PendingQueryResult and add explicit unit tests,FAB-9691,29655,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 4:42 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 12:31 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7a7:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Extract TransactionContext and add explicit unit tests,FAB-9692,29656,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Apr/18 4:42 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 3:41 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7af:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/18 3:40 AM;sykesm;Completed with commit b0663086fd1ffdd1cd061611dd0428b5124e2f77;;;",,,,,,,,,,,,,,,,,,,,,
CouchDB runner test fails,FAB-9693,29657,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,kchristidis,kchristidis,25/Apr/18 4:48 AM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,26/Apr/18 5:53 AM,,,,v1.2.0,,,,,,,0,ci-flake,,,,"
{code:java}
CouchDB Runner
 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:26
 unit-tests_1 | starts and stops a docker container with the specified image [It]
 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:158
 unit-tests_1 | 
 unit-tests_1 | Expected an error, got nil
 unit-tests_1 | 
 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:199
 unit-tests_1 | ------------------------------
 unit-tests_1 | ••••••••••••••••
 unit-tests_1 | 
 unit-tests_1 | Summarizing 1 Failure:
 unit-tests_1 | 
 unit-tests_1 | [Fail] CouchDB Runner [It] starts and stops a docker container with the specified image 
 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:199
 unit-tests_1 | 
 unit-tests_1 | Ran 17 of 17 Specs in 7.014 seconds
 unit-tests_1 | FAIL! – 16 Passed | 1 Failed | 0 Pending | 0 Skipped — FAIL: TestRunner (7.01s)
 unit-tests_1 | FAIL
{code}


 Cannot produce locally, so it's probably intermittent.

Associated with this part of the test:


{code:java}
By(""terminating the container"")
 process.Signal(syscall.SIGTERM)
 Eventually(process.Wait()).Should(Receive(BeNil()))
 process = nil

_, err = client.InspectContainer(""container-name"")
 Expect(err).To(MatchError(""No such container: container-name""))
{code}


CI logs: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1197/consoleText]",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7an:",,,,,,,,,,,,,,,,,,,,,kchristidis,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 10:06 PM;sykesm;https://gerrit.hyperledger.org/r/20997;;;",,,,,,,,,,,,,,,,,,,,,
Pseudonym Key Derivation,FAB-9694,29659,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,25/Apr/18 3:46 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,07/Nov/18 10:25 PM,,,,v1.4.0,,,fabric-crypto,,,,0,idemix,review-needed,Security,,"Implement the key deriver supporting IdemixNymKeyDerivationOpts.
",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:r",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 3:48 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/20987/;;;",,,,,,,,,,,,,,,,,,,,,
Credential Request,FAB-9695,29660,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,25/Apr/18 4:03 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,13/Nov/18 9:51 PM,,,,v1.4.0,,,fabric-crypto,,,,0,idemix,review-needed,Security,,Implement the signer/verifier supporting IdemixCredentialRequestSignerOpts.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:s",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Apr/18 4:21 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/20989/;;;",,,,,,,,,,,,,,,,,,,,,
Add metrics options configuration for orderer,FAB-9696,29661,13707,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,bjwswang,xixuejia,xixuejia,25/Apr/18 4:08 PM,24/Oct/19 11:43 AM,28/Oct/23 3:02 AM,26/Oct/18 7:03 AM,v1.1.0,,,,,,fabric-orderer,,,,0,metrics,,,,"Currently, the metrics configuration options can be customized in core.yaml which is used by peer, we need to make metrics options available for orderer",,mastersingh24,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,FAB-3388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7bb:",,,,,,,,,,,,,,,,,,,,,mastersingh24,xixuejia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/18 7:03 AM;mastersingh24;No longer valid.  See https://jira.hyperledger.org/browse/FAB-3388 for the metrics epic;;;",,,,,,,,,,,,,,,,,,,,,
gossip/discovery and x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs,FAB-9697,29662,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,raccoonrat,arman19940326,arman19940326,25/Apr/18 4:24 PM,30/Sep/19 6:33 PM,28/Oct/23 3:02 AM,30/Apr/18 4:53 PM,,,,Not a Bug,,,fabric-samples,,,,0,,,,,"I'm trying to run the balance-transfer example on multiple hosts. each organization's peers are run on a host and orderer is on a different host. So I've brought up four different VMs . The fourth VM is a DNS server and also has fabric node sdk. I changed the docker-compose files and run it on each VM but I encountered an issue. Org1's peers has no problem but org2's peers seem to have gossip discovery problem or cert problem, IDK. this is the warning I got on peer1.org2.example.com:[It seems that peer1.org2.example.com [which is listening on port 7056 and 7058] cannot connect to peer0.org2.example.com [which is listening on ports 7051 and 7053]]

peer1.org2.example.com | 2018-04-25 07:22:21.107 UTC [gossip/discovery] func1 -> WARN 1df Could not connect to \{127.0.0.1:7051 [] [] 127.0.0.1:7051 <nil>} : x509: cannot validate certificate for 127.0.0.1 because it doesn't contain any IP SANs

 

The strange thing is before installing and instantiating a chaincode on channel this warning keeps going but after chaincode instantiation, it stops!

Is there anything wrong with the default certs on crypto-config folder? I realized that in cryptogen.yaml file under the Template section for both orgs there is a variable called SANS which is given the value 'localhost' ? Does this relate to the problem I've encountered?  What should I do to solve this problem?",,arman19940326,jgdomine,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7bj:",,,,,,,,,,,,,,,,,,,,,arman19940326,jgdomine,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Apr/18 5:57 PM;mastersingh24;[~arman19940326] Instead of specifying {{127.0.0.1:7051}} as the address, you should specify {{localhost:7051}}.
The error you are getting is telling you that the TLS server cert for {{peer0.org2.example.com}} 
 does not have an IP SAN (meaning that the cert says it is for peer0.org2.example.com or localhost but not for 127.0.0.1) so hostname verification at the TLS layer fails.;;;","30/Apr/18 4:53 PM;mastersingh24;[~arman19940326] Feel free to reopen this if you believe there is still some type of bug or issue;;;","09/May/18 5:19 PM;arman19940326;I didn't specify anything with IP address. I set up a DNS server to be able to use FQDNs. FYI I did a ""grep -nr ""127.0.0.1"" in the balance transfer directory and to spot where the IP address ""127.0.0.1"" is used. It appears only in ""artifacts/channel/configtx.yaml"" line 131. I didn't use any kafka broker in my implementation and only used the default keys and certs. I don't know why I keep getting that warning before installing and instantiating the chaincode.;;;","28/Sep/19 12:01 AM;jgdomine;Hi,

Did you solve this [~arman19940326]? I've got the exact same problem with a real ip and not localhost.

I'm also not defining this IP anywhere as my certificates are made to work with the DNS system of Kubernetes.

I don't understand why it's looking to check an IP instead of a name... Especially because when I use cryptogen, I don't see the problem.

Question: what is the version of fabric you were using at that moment? Personally I've just moved to 1.4.2;;;","28/Sep/19 12:35 AM;arman19940326;Hi, 

Yes, I solved this problem a long tine ago. [~mastersingh24] was right about the certs. In crypto-config.yaml file I changed the SANs section like this:
{quote}PeerOrgs:
 - Name: Org1
 Domain: org1.example.com
 CA:
 Hostname: ca
 Template:
 Count: 2
 SANS: 
 - ""\{{.Hostname}}-org1-example-com""
 Users:
 Count: 1
{quote}
It might seem a bit confusing. In our Kubernetes cluster, we had to change the dots to dashes in service names. (peer0.org1.example.com ---> peer0-org1-example-com) 

In network config file we override the target name so that the node server can communicate with the fabric network when TLS is enabled:
{quote}peers:
 peer0-org1-example-com:
 # this URL is used to send endorsement and query requests
 url: grpcs://peer0-org1-example-com:7051

# this URL is used to connect the EventHub and registering event listeners
 eventUrl: grpcs://peer0-org1-example-com:7053

grpcOptions:
 ssl-target-name-override: peer0-org1-example-com
 tlsCACerts:
 path: ../Balance-Base/artifacts/channel/crypto-config/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
{quote}
We did the same for all peers and orderers to be able to solve the issue.

 

And about the Fabric version I think it was v1.1. 

 ;;;","30/Sep/19 4:28 PM;jgdomine;Hi,

Thank you for your quick reply.

I'm also deploying on Kubernetes and had the same problem as you regarding the dash vs dots. I ended up doing the same naming convention as you :)

I'm in a slightly different situation as I'm not using cryptogen but the CA to generate the certificates. With cryptogen though, everything works fine and I don't need to provide any SAN since I'm using the names of the K8S services.

What I do not understand is why I have this issue when I use the CA and not cryptogen...

Besides I already have peer0-org1-example-com as a SAN in my peers certificates so I don't know what else to do. I don't want to add an IP as a SAN, especially because it changes after each deployment in K8S...

I know this bug has been closed but I'm not sure I should create a ticket for this... [~mastersingh24], would you have any insight as to why and how to solve my problem?

Thank you;;;","30/Sep/19 5:32 PM;arman19940326;I did consider [and am still considering] using the CA to issue certificates for peers and orderers but never actually tried to implement it. So I don't know how to fix the problem you're having. Wish I could be of help. Sorry ...

P.S: When I asked this question I wasn't using Kubernetes; I was using just plain Docker with a DNS server to handle host to host communication between containers. But solved the problem the way I described before by editing cryptogen file.;;;","30/Sep/19 6:33 PM;jgdomine;I wish you good luck then with that because I've been spending days on the matter and still did not manage to find working configuration...

Thank you for your answers, I'm grateful for the time you took for me;;;",,,,,,,,,,,,,,
fix toc rendering bug,FAB-9698,29664,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,25/Apr/18 7:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 7:26 PM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,commands ref should start with # not ##,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7br:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
error starting orderer using sampleconfig,FAB-9702,29688,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,muralisr,muralisr,26/Apr/18 1:45 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 2:38 AM,,,,,,,fabric-orderer,,,,0,,,,,"Starting orderer thus

ORDERER_GENERAL_GENESISPROFILE=SampleSingleMSPSolo orderer

 

causes the following error

 
{code:java}
2018-04-25 12:40:41.823 EDT [common/tools/configtxgen/localconfig] Load -> INFO 003 Loaded configuration: /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/sampleconfig/configtx.yaml
2018-04-25 12:40:41.825 EDT [fsblkstorage] newBlockfileMgr -> INFO 004 Getting block information from block storage
2018-04-25 12:40:41.834 EDT [orderer/commmon/multichannel] newLedgerResources -> CRIT 005 Error creating channelconfig bundle: initializing configtx manager failed: bad channel ID: channel ID 'test_system_channel_name' contains illegal characters
panic: Error creating channelconfig bundle: initializing configtx manager failed: bad channel ID: channel ID 'test_system_channel_name' contains illegal characters
goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc42026b9e0, 0x48c0e8b, 0x27, 0xc420abf980, 0x1, 0x1)
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x126
github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newLedgerResources(0xc42028b2d0, 0xc420aa6090, 0xc420aa6090)
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:253 +0x389
github.com/hyperledger/fabric/orderer/common/multichannel.NewRegistrar(0x4949840, 0xc42018a080, 0xc420909d10, 0x4941440, 0x4da3ef0, 0xc420170ad8, 0x1, 0x1, 0x0)
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:144 +0x327
github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0xc4202a7400, 0x4941440, 0x4da3ef0, 0xc420170ad8, 0x1, 0x1, 0xc420363ed0)
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/common/server/main.go:259 +0x250
github.com/hyperledger/fabric/orderer/common/server.Start(0x48a4e84, 0x5, 0xc4202a7400)
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/common/server/main.go:100 +0x1d3
github.com/hyperledger/fabric/orderer/common/server.Main()
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/common/server/main.go:79 +0x204
main.main()
 /Users/muralisr/hyperledger/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
{code}
 ",,jyellick,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7hb:",,,,,,,,,,,,,,,,,,,,,jyellick,muralisr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 1:53 AM;jyellick;In review via: https://gerrit.hyperledger.org/r/c/21003/;;;",,,,,,,,,,,,,,,,,,,,,
getAllLedgerIDs doesn't release the iterator ,FAB-9703,29689,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,yacovm,yacovm,26/Apr/18 1:59 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/Apr/18 8:30 PM,,,,,,,fabric-ledger,,,,0,,,,,"The function [getAllLedgerIDs|https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/ledger/kvledger/kv_ledger_provider.go#L291] doesn't release the iterator after acquiring it.

 Judging by the API comment: ""The iterator should be released after the use.""

it needs to be released.

 ",,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7hj:",,,,,,,,,,,,,,,,,,,,,manish-sethi,yacovm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 4:28 AM;yacovm;[~denyeart] [~manish-sethi];;;","26/Apr/18 4:41 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/21015/;;;",,,,,,,,,,,,,,,,,,,,
Chaincode container down if peer container goes down - should restart them automatically,FAB-9704,29690,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,aviralwal,aviralwal,26/Apr/18 2:54 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,Future,,,,,,,0,stale-item,Usability,,," 

I had 6 peer containers running, 3 for each organisation. Out of 2 , 1 was admin and 2 were user containers. Now I had deployed a chaincode on it and the deployment was successful.

Now once the chaincode was successfully deployed, after some time, the peer through which the chaincode was deployed went down. This caused the chaincode to also go down. 

Since the chaincode was deployed using composer, I tried redeploying it but the peer was giving the error :- The chaincode already exists. The chaincode was present inside the peer in /var/hyperledger/production/chaincode

Also if I tried to bring up the chaincode container up manually, the peer did not allow it and gave error that chaincode cannot be invoked externally(it can be done in dev mode).

This behaviour is not good because If the peer somehow goes down, the chaincode wont be invoked automatically. This should happen automatically.

If any more information is required, Kindly inform me. ","Fabric v1.1 with kafka consensus mechanism.

Production environment",aviralwal,AyushyaChitransh,denyeart,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7hr:",,,,Unset,,,,,,Unset,,,,,,,,,,,aviralwal,AyushyaChitransh,denyeart,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/18 7:46 PM;mastersingh24;[~aviralwal] - This is not actually a bug.  If a peer goes down, then you are correct that all of the chaincode containers for that peer also go down as well.  But one the peer is back up, if you invoke/query the chaincode on that peer, then the peer will actually launch / start the chaincode again.

I agree that it would be better if the peer actually re-launched all chaincode containers automatically, so I'm going to mark this as an improvement;;;","24/Sep/18 5:18 AM;denyeart;Bulk Jira update:
For remaining tasks with FixVersion v1.3.0, the Reporter should update to v1.4.0 or Future, or Close.
Add a comment with any clarification needed, so that release managers can close out v1.3.0 release cleanly.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,
incorporate fabric digest paper as introduction,FAB-9705,29691,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,26/Apr/18 3:56 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,30/Apr/18 5:27 PM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,incorporate the fabric digest paper,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7hz:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Search is not working in ReadTheDocs master/latest versions,FAB-9706,29692,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,pandrejko,pandrejko,26/Apr/18 3:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 4:57 AM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Problem might have been introduced by FAB-9648

Ramesh is investigating.",,nnao,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7i7:",,,,,,,,,,,,,,,,,,,,,nnao,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 3:59 AM;pandrejko;@thoomu@us.ibm.com;;;","27/Apr/18 7:46 AM;nnao;I don’t know this is same root cause,
In release-1.1 document, I can open the ""Read the Docs"" slide in bottom of menu.
http://hyperledger-fabric.readthedocs.io/en/release-1.1/

But, in latest document, I cannot open the ""Read the Docs"" slide in bottom of menu.
http://hyperledger-fabric.readthedocs.io/en/latest/;;;","27/Apr/18 11:43 PM;pandrejko;This appears to be a problem with RTD and is not related to our FAB-9648.

[https://github.com/rtfd/readthedocs.org/issues/4026]

We are currently investigating what we can do to work around this.;;;","28/Apr/18 2:04 AM;rameshthoomu;[~pandrejko] Search is working with ""sphinx-rtd-theme==0.2.5b2"" version.. I have tested this here [https://github.com/rameshthoomu/fabric-test-md/commit/0bd899d4e585e6263f6ca461285385b733acddd2] and the result is here http://fabric-test-doc.readthedocs.io/en/latest/;;;","28/Apr/18 4:32 AM;pandrejko;https://gerrit.hyperledger.org/r/21147;;;",,,,,,,,,,,,,,,,,
Evaluate file names and object names in the chaincode package,FAB-9707,29693,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Won't Do,,sykesm,sykesm,26/Apr/18 4:34 AM,08/Sep/18 2:54 AM,28/Oct/23 3:02 AM,08/Sep/18 2:54 AM,,,,,,,,,,,0,,,,,"Collapse undersscores? Use ""tx"" instead of ""transaction""? pqr instead of ""pending_query_result""?",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7if:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"LTE test: a single, short-lived test needs to be in the smoke-test suite ",FAB-9708,29695,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,26/Apr/18 5:06 AM,03/Aug/18 11:18 PM,28/Oct/23 3:02 AM,03/Aug/18 11:18 PM,,,,,,,fabric-quality,,,,0,,,,,"Currently, the smoke test does not have any LTE test. A small LTE test should be part of a smoke test, which will prevent merging/flag a CR that potentially breaks LTE.",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7in:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"03/Aug/18 11:15 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/25031/;;;",,,,,,,,,,,,,,,,,,,,,
peer feature test fail CI smoke tests in fabric-test-verify job.,FAB-9709,29698,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,26/Apr/18 5:11 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,15/May/18 10:03 PM,,,,v1.2.0,,,fabric-peer,,,,0,ci-failure,,,,"The peer feature tests are failing in the recent CI smoke tests for fabric-test-verify job,


{code:java}
Failing step: Then a user receives a success response of 100 ... failed in 0.000s
Location: peer.feature:44
Assertion Failed: Expected response was 100; received 100
{code}


{code:java}
@scenario.begin

  @smoke
  Scenario Outline: FAB-1440, FAB-3861: Basic Chaincode Execution - kafka orderer type, using couchdb, with tls -- @1.7 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... passed in 22.007s
    When a user sets up a channel ... passed in 39.076s
    And a user deploys chaincode ... passed in 37.542s
    When a user queries on the chaincode ... passed in 4.681s
    Then a user receives a success response of 100 ... failed in 0.000s
    When a user invokes on the chaincode ... skipped in 0.000s
    And I wait ""5"" seconds ... skipped in 0.000s
    And a user queries on the chaincode ... skipped in 0.000s
    Then a user receives a success response of 95 ... skipped in 0.000s
{code}


*Build Logs*
https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1145/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/",,jyellick,nnao,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7iv:",,,,,,,,,,,,,,,,,,,,,jyellick,nnao,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Apr/18 5:46 AM;nnao;[https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/test_results_analyzer/]

#1145, #1149, and #1152 have same errors. and #1147, #1148, #1151, and #1153 get a success.
There's a possibility that those(#1145, #1149, and #1152) patches ware not rebased the latest version.
I will continue watching the result of fabric-test-verify.;;;","05/May/18 1:46 AM;jyellick;Any status update on this?;;;","05/May/18 6:01 AM;nnao;I could not reproduce the problem in my environment.
Also, it gets a success until build number 1160.;;;","05/May/18 6:09 AM;jyellick;Placing in monitor/on-hold pending further verification.;;;","09/May/18 12:11 AM;scottz;Sambhav, has this passed for 3 days in a row? If is, then can close it. If not, then we need to collect more information, because the link to the build logs is outdated and useless.;;;","15/May/18 10:02 PM;sambhavdutt;The peer feature tests are not failing the smoke tests now. No assertion error observed from several builds.;;;",,,,,,,,,,,,,,,,
Remove SetSysCCProvider post-initialization function from chaincode_support,FAB-9711,29701,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,26/Apr/18 5:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7jb:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,,,,,,,,,,,,,,,,,,,,,,
Remove SetChaincodesPath from ChaincodeSupport constructor,FAB-9712,29702,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,26/Apr/18 5:57 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 3:41 AM,,,,v1.2.0,,,,,,,0,,,,,Let's try to remove global state side effects from the package.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7jj:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 5:59 AM;sykesm;https://gerrit.hyperledger.org/r/21023;;;",,,,,,,,,,,,,,,,,,,,,
Config parsing logic for Kafka TLS should just read the files,FAB-9713,29703,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kchristidis,kchristidis,26/Apr/18 6:16 AM,25/Apr/19 7:20 PM,28/Oct/23 3:02 AM,25/Apr/19 7:20 PM,v1.1.0,,,Future,,,fabric-orderer,,,,0,kafka,,,,"What happens today: If you set the {{Kafka.TLS}} part of the configuration in {{orderer.yaml}} by using the {{File:}} keys (i.e. by pointing to where the certs are stored), then for each of those values, the config parsing mechanism:
 # reads the file
 # decodes its contents into a {{pem.Block}}
 # encodes the PEM block as {{[]byte}} in memory
 # converts this encoding into a string

(See {{pemBlocksFromFileDecodeHook}} in {{viperutil/config_util.go}}.)

This series of steps is redundant.

What we need ultimately is a TLS certificate (type {{tls.Certificate}}) for the client's key pair, and X509 certificates (type {{x509.Certificate}}) for the certificates of the root CAs.

It should be sufficient then to just read the files in the config parsing logic (think {{ioutil.ReadFile()}}), then parse those byte slices accordingly in {{newBrokerConfig)) in \{\{kafka/config.go}}.",,denyeart,kchristidis,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7jr:",,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,mastersingh24,sanchezl,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Apr/18 7:22 AM;kchristidis;My suggestion in FAB-9716 is to just remove these decode hooks altogether and have {{Kafka.TLS}} works _exactly_ like {{General.TLS}}.;;;","11/Sep/18 12:56 PM;denyeart;[~kchristidis] Do you want this one deferred to v1.4.0 or Future?;;;","16/Sep/18 7:45 PM;kchristidis;Deferring.;;;","25/Apr/19 7:20 PM;mastersingh24;With the move to Raft don't think we need to deal with this;;;",,,,,,,,,,,,,,,,,,
Put link to staged docs in build output,FAB-9714,29705,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,26/Apr/18 7:09 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/Jun/18 5:26 AM,,,,,,,,,,,0,,,,,,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7jz:",,,,,,,,,,,,,,,,,,,,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tree cloning skips data field,FAB-9715,29706,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Apr/18 7:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 8:17 AM,,,,v1.2.0,,,fabric-common,,,,0,,,,,"When cloning a tree, the data field is not copied as well.

 

 ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7k7:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Apr/18 7:39 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21029/;;;",,,,,,,,,,,,,,,,,,,,,
Relative paths in Kafka.TLS not evaluated properly,FAB-9716,29707,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kchristidis,kchristidis,26/Apr/18 7:21 AM,23/Jan/20 7:34 AM,28/Oct/23 3:02 AM,23/Jan/20 7:34 AM,v1.1.0,,,Future,,,fabric-orderer,,,,0,kafka,stale-item,,,"What happens today:

If you:
 # Use relative paths as values for the {{File}} keys in {{orderer.yaml}}, and
 # Invoke the orderer process from a different path than the one that {{orderer.yaml}} resides in

...then those files will not be loaded by the configuration.

The reason for this is that the {{stringFromFile}} and {{pemBlocksFromFile}} decode hooks, — responsible for resolving the file paths and loading the corresponding files — are called before {{completeInitialization}}, so they do {{current working directory}} + {{relative path}} in order to resolve the absolute path.

See {{Load}} in {{orderer/common/localconfig/config.go}} and notice how {{viperutil.EnhancedExactUnmarshal}} is called before {{completeInitialization}}.

Perhaps there is some wizardry that we can come up with in those decode hooks in order to make them resolve the right path ({{config dir}} + {{relative path}}), but my vote is to remove these hooks altogether, as well as the {{File:}} option.

Instead, {{Kafka.TLS}} should be _identical_ to {{General.TLS}}.",,denyeart,kchristidis,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7kf:",,,,,,,,,,,,,,,,,,,,,denyeart,kchristidis,sanchezl,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/18 12:57 PM;denyeart;[~kchristidis] Do you want this one deferred to v1.4.0 or Future?;;;","20/Sep/18 5:11 AM;denyeart;[~jyellick] Do you want this one deferred to v1.4.0 or Future?;;;","20/Sep/18 5:44 PM;kchristidis;Missed the original comment, sorry. These should be tackled since they're bugs, but they're low-priority for now. Deferring.;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,
Add metrics module in order localConfig ,FAB-9718,29709,13707,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,bjwswang,bjwswang,26/Apr/18 11:31 AM,14/Dec/18 1:16 AM,28/Oct/23 3:02 AM,14/Dec/18 1:16 AM,,,,,,,fabric-orderer,,,,0,,,,,"To let metrics work in orderer component, we need to add Metrics part in the TopLevel struct to read the metrics configurations, then we can start to use metrics in orderer",,bjwswang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13084,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7kv:",,,,,,,,,,,,,,,,,,,,,bjwswang,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 1:16 AM;wlahti;Already handled via FAB-13084.;;;",,,,,,,,,,,,,,,,,,,,,
"OTE intermittent test failure in fabric-test daily suite, inconsistent txcounts delivered from orderers",FAB-9719,29710,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,26/Apr/18 1:11 PM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,14/May/18 5:04 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"Refer to failure: [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/332/testReport/orderer_ote/]

QA team should take first look. It only happened on one test, but not any other similar tests; and this is the first and only failure of this type so far. We should monitor for more occurrances in the subsequent daily test runs. We may need to try reproduce separately and collect orderer logs.

Two updates: 

https://gerrit.hyperledger.org/r/#/c/21035/

and

[https://gerrit.hyperledger.org/r/#/c/21237/]",,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9740,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7l3:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"26/Apr/18 1:24 PM;scottz;[https://gerrit.hyperledger.org/r/#/c/21035/]

 ;;;","26/Apr/18 10:22 PM;sambhavdutt;The OTE tests passed in the latest build, for the day. 

*Build Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/333/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/ote_logs/;;;","27/Apr/18 1:42 AM;scottz;I could reproduce this on my laptop using Vagrant. Unsurprisingly, my machine ran out of space. I am not sure if it is same root cause, but I suspect so because the following error is the same as was seen in the daily test run. I think it might be when the orderer crashes, but not sure.

`Producer-o2-c0 failed to broadcast TX 2233 (ACK=2233 NACK=1), 2018-04-26 16:20:09.834210026 +0000 UTC m=+160.973592995, err: rpc error: code = Unavailable desc = transport is closing`

I also saw SERVICE_UNAVAILABLE error responses printed, from the orderer NACKs, because the kafkas had crashed, due to memory exhaustion.

While watching the logs on a couple orderers during the test `runote.sh -t -FAB-7078-`, I saw those orderers panic.

```

ubuntu@hyperledger-devenv:cf7d15d:/opt/gopath/src/github.com/hyperledger/fabric$ docker logs -f orderer3.example.com
 2018-04-26 15:57:59.572 UTC [localconfig] completeInitialization -> INFO 001 Kafka.Version unset, setting to 0.10.2.0
 2018-04-26 16:02:35.448 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 002 [channel: testchainid] Error during consumption: kafka: error while consuming testchainid/0: EOF
 2018-04-26 16:02:35.883 UTC [orderer/consensus/kafka] enqueue -> ERRO 003 [channel: testorgschannel1] cannot enqueue envelope because = dial tcp 172.18.0.7:9092: connect: connection refused
 2018-04-26 16:02:36.196 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 004 [channel: testorgschannel1] cannot post time-to-cut message = dial tcp 172.18.0.7:9092: connect: connection refused
 2018-04-26 16:02:36.893 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 005 [channel: testorgschannel1] Error during consumption: kafka: error while consuming testorgschannel1/0: EOF
 2018-04-26 16:02:37.607 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 006 [channel: testchainid] Error during consumption: kafka: error while consuming testchainid/0: dial tcp: lookup 212b79f90502 on 127.0.0.11:53: no such host
 2018-04-26 16:02:38.901 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 007 [channel: testorgschannel1] Error during consumption: kafka: error while consuming testorgschannel1/0: dial tcp: lookup 0518784a3760 on 127.0.0.11:53: no such host
 2018-04-26 16:02:39.617 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 008 [channel: testchainid] Error during consumption: kafka: error while consuming testchainid/0: dial tcp: lookup 212b79f90502 on 127.0.0.11:53: no such host
 2018-04-26 16:02:40.922 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 009 [channel: testorgschannel1] Error during consumption: kafka: error while consuming testorgschannel1/0: dial tcp: lookup 0518784a3760 on 127.0.0.11:53: no such host
 2018-04-26 16:02:41.635 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 00a [channel: testchainid] Error during consumption: kafka: error while consuming testchainid/0: dial tcp: lookup 212b79f90502 on 127.0.0.11:53: no such host
 2018-04-26 16:02:43.064 UTC [orderer/commmon/multichannel] commitBlock -> CRIT 00b [channel: testorgschannel1] Could not append block: Error while appending block to file: write /var/hyperledger/production/orderer/chains/testorgschannel1/blockfile_000002: no space left on device
 panic: [channel: testorgschannel1] Could not append block: Error while appending block to file: write /var/hyperledger/production/orderer/chains/testorgschannel1/blockfile_000002: no space left on device

goroutine 3278 [running]:
 github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panicf(0xc42022fa40, 0xd82ae6, 0x28, 0xc4201e4a80, 0x2, 0x2)
 /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:194 +0x126
 github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).commitBlock(0xc4202ed5c0, 0xc4209537d8, 0x3, 0x8)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:171 +0x2f8
 github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock.func1(0xc4202ed5c0, 0xc4209537d8, 0x3, 0x8)
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:155 +0x79
 created by github.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteBlock
 /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:153 +0x8c```

 ;;;","14/May/18 5:02 AM;scottz;The updates were merged. We can close this now. If problems encountered, then the error debugging info should help us get to root cause, and we can open a new issue with that new information.;;;",,,,,,,,,,,,,,,,,,
Validate Collection Objects,FAB-9720,29711,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,26/Apr/18 5:45 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 10:22 AM,,,,,,,fabric-peer,,,,0,,,,,"Validate collection objects in collection config package to ensure the following
1. no duplicate collections
2. maxPeerCount >=  requiredPeerCount",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7lb:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Check existing chaincode during deploy/upgrade before validating collections,FAB-9721,29713,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,26/Apr/18 6:33 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 10:22 AM,,,,,,,fabric-peer,,,,0,,,,,Rearrange the validation check.,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7lj:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Allow changes to collection config - LSCC side,FAB-9722,29714,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,26/Apr/18 7:04 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 10:22 AM,,,,,,,fabric-peer,,,,0,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7lr:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create infrastructure for endorsement plugin loading,FAB-9723,29715,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Apr/18 7:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/May/18 1:52 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"In order for pluggable endorsement to be made, it is needed to have infrastructure that loads endorsement plugins according to configuration.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt0v:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
create infrastructure for validation plugin loading,FAB-9724,29716,28022,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Apr/18 8:44 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 8:32 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"In order for pluggable validation to be made, it is needed to have infrastructure that loads validation plugins according to configuration.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7lz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Allow --collection-config flag in peer chaincode upgrade CLI,FAB-9725,29717,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,26/Apr/18 9:53 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 5:06 AM,,,,,,,fabric-peer,,,,0,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7m7:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 3:07 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21397/;;;",,,,,,,,,,,,,,,,,,,,,
PTE split configuration input,FAB-9727,29721,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,26/Apr/18 11:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 2:05 AM,,,,,,,fabric-quality,,,,0,,,,,"Split input configuration into three files: main input file, chaincode definition, and transaction configuration.  Keep minimum parameters such as chaincode ID, version, SC file, channel path etc in the main input file.  Then user can just modify the main input file. 

PTE will continue to support existing configuration input.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz7mn:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"27/Apr/18 12:59 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21055/;;;",,,,,,,,,,,,,,,,,,,,,
Add state retrieval indirection in endorsement and validation,FAB-9728,29731,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/18 12:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 3:26 AM,,,,,,,fabric-common,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7mv:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Make package scoped VMCProcess function instance scoped,FAB-9729,29732,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,27/Apr/18 1:08 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 7:50 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7n3:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove dead chaincode example from e2e_cli directory,FAB-9732,29735,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,27/Apr/18 2:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 5:46 AM,,,,,,,fabric-samples,,,,0,hygiene,,,,"chaincode_example02 was originally copied to fabric/examples/e2e_cli/examples/chaincode/go/chaincode_example02 and used by e2e_cli. However, long ago, e2e_cli was modified to include all of the chaincode examples from fabric/examples, leaving chaincode_example02 under e2e_cli as dead code. 

This task will remove the dead example code to ensure anyone wishing to modify the chaincode used by the e2e is sure they're modifying the chaincode that's actually being used.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7nr:",,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 2:22 AM;wlahti;https://gerrit.hyperledger.org/r/c/21063/;;;",,,,,,,,,,,,,,,,,,,,,
Add Done() method to State interface,FAB-9733,29736,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/18 3:27 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 5:06 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The state interface hides a query executor underneath, and thus needs to expose the Done() method to release the query executor.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7nz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Move various execute methods into the main chaincode_support file.,FAB-9735,29738,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Apr/18 3:42 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,27/Apr/18 5:48 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7of:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 3:44 AM;sykesm;https://gerrit.hyperledger.org/r/21065;;;",,,,,,,,,,,,,,,,,,,,,
Replace calls to ccprovider to package with instance of CCInfoFSImpl,FAB-9737,29740,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Apr/18 4:17 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 1:36 AM,,,,,,,,,,,0,,,,,Introduce interface that returns the chaincode package info and pass the implementation to the support constructor.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7ov:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 4:19 AM;sykesm;https://gerrit.hyperledger.org/r/21071;;;",,,,,,,,,,,,,,,,,,,,,
OTE duplicate sets of stdout logs in CI output should be removed,FAB-9738,29741,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,27/Apr/18 4:18 AM,30/Jul/19 11:42 AM,28/Oct/23 3:02 AM,30/Jul/19 11:42 AM,,,,Future,,,fabric-quality,,,,0,help-wanted,,,,"Current output of each OTE test shows the STDOUT logs from runote.sh, as well as one (or two, when errors) other copies of the entire stdout stream (without newlines, so they are not easily readable). I think these are all coming from 3 places, and were added at different times. We should eliminate the unnecessary duplication:

1. this line in fabric-test/tools/OTE/runote.sh (when the CI picks up this after it is wrapped by python into an xml file):

{code:java}
docker cp -a OTE:/opt/gopath/src/github.com/hyperledger/fabric/OTE/ote.log ./logs/$\{TESTCASE}.log
{code}


 2 & 3. these lines in fabric-test/regression/daily/orderer_ote.py:

{code:java}
 print(result)
 logfile.write(result)
 self.assertIn(TEST_PASS_STRING, result)
{code}

  ",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7p3:",,,,Unset,,,,,,Unset,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
Pass ACLProvider interface in handler and pass to chaincode support,FAB-9739,29742,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Apr/18 4:47 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 1:35 AM,,,,,,,,,,,0,,,,,TDA - Give chaincode support what it should be using,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7pb:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 4:49 AM;sykesm;https://gerrit.hyperledger.org/r/21075;;;",,,,,,,,,,,,,,,,,,,,,
OTE data collection and error handling,FAB-9740,29743,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,27/Apr/18 4:59 AM,30/Jul/19 11:41 AM,28/Oct/23 3:02 AM,30/Jul/19 11:41 AM,v1.2.0,,,Future,,,fabric-quality,,,,0,help-wanted,,,,"Today in OTE producers and consumers, there are places where errors occur when attempting to send or receive transactions or when establishing grpc connections. Sometimes we print an error log and continue, and other times it panics and exits. We would like to introduce an error handling routine which could be called from all locatiions and it would:
 * optionally collect more data immediately by executing bash commands using something like the existing ote.go func executeCmd() to run 'df' or 'free', for example, or exec into a docker container to collect and display logs, i.e. 'docker logs --tail 100  orderer3.example.com'
 * optionally panic (and if no panic, then just print the error string and any collected data in a log instead of in a panic message string).

Here is a proposal for a function that can be called whenever there is an error log to be printed or a panic/abort action needed - optionally (in both cases) with more data collection:

```
 func handleError(outputStr string, shouldPanic=false, shouldCollectData=false, ordNum=0) \{
 // ...Implemention details...
 if shouldCollectData

\{

  cmd := fmt.Sprintf(""docker exec -ti df && free"")

  cmd += fmt.Sprintf("" && docker logs orderer%d.example.com"", ordererIndex)

  outputStr += executeCmdAndDisplay(cmd) // (we must revise this function a bit) }

  if shouldPanic

  \{ panic(outputStr) }

  else

  \{ logger(outputStr) }

}
 ```

For example, in startConsumer(), when setting up a connection, a function call might look like this:

\{\{(*consumerConnP), err = grpc.DialContext(ctx, serverAddr, dialOpts...)
 if err != nil \{
 handleError( Sprintf( fmt.Sprintf(""Error on client %s invoking Deliver() on grpc connection to %s, err: %v"", myName, serverAddr, err)),
 true,
 true,
 ordererIndex)
 }}}

 ",,chilipepper,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9719,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7pj:",,,,Unset,,,,,,Unset,,,,,,,,,,,chilipepper,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/18 10:34 PM;scottz;In FAB-9719 https://gerrit.hyperledger.org/r/#/c/21237/, we added steps to collect resource utilization data from the host (as well as saving container logs) after the test completes before the network is torn down. That may be sufficient.

However, if more timely data collection is still needed at the exact time of error such as a dropped grpc connection or NACKed message, then we could still pursue the suggested solution in this bug description.;;;","30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,
Documentation styles not properly applied to documents in subdirectories,FAB-9741,29747,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ryjones,ryjones,27/Apr/18 6:29 AM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,,,,,,,fabric-docs,,,,0,,,,,"Documentation stored in fabric/docs/source/*rst has chrome properly applied. Documentation stored in subdirectories does not. See peers, membership, identity, dev-setup, commands, Gerrit, ...",,mastersingh24,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7qf:",,,,,,,,,,,,,,,,,,,,,mastersingh24,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
Remove the document of bddtests from fabric,FAB-9742,29751,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,27/Apr/18 7:35 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,15/May/18 5:02 AM,v1.1.0,,,v1.1.1,v1.2.0,,fabric-docs,,,,0,,,,,"The document still has an instruction about bddtests here (http://hyperledger-fabric.readthedocs.io/en/latest/dev-setup/build.html#running-behave-bdd-tests).
FAB-9027 has removed bddtests from fabric.
To follow the change, the document should also be removed.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9027,FAB-9991,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7rz:",,,,Unset,,,,,,Unset,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/18 3:58 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/21143/;;;",,,,,,,,,,,,,,,,,,,,,
Connect pluggable endorsement to the endorser,FAB-9743,29752,28019,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/18 7:48 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 5:06 PM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7s7:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement pluggable validation,FAB-9744,29753,28022,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,27/Apr/18 8:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 10:54 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7sf:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
release txsim as soon as the transaction is simulated,FAB-9745,29754,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,27/Apr/18 4:07 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,03/May/18 5:29 AM,,,,,,,fabric-peer,,,,0,,,,,"txsim acquires a shared lock on the stateDB which restrict block commits, i.e., commiting valid write-sets to the stateDB. Hence, we should close txsim as soon as the tx is simulated and the rwset is collected. Definitely before gossip dissemination, we must release the shared lock. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz7sn:",,,,Unset,,,,,,Unset,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
LevelDB support for key-level metadata,FAB-9746,29756,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,ales,ales,27/Apr/18 6:34 PM,26/Nov/18 1:31 AM,28/Oct/23 3:02 AM,09/Sep/18 5:09 AM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,,,ales,ChanderGovindarajan,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12987,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwt4f:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,ChanderGovindarajan,manish-sethi,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 4:51 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/21763/;;;",,,,,,,,,,,,,,,,,,,,,
Avoid forking due to the introduction of key-level ledger metadata,FAB-9747,29757,33225,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,27/Apr/18 6:40 PM,11/Sep/18 2:46 AM,28/Oct/23 3:02 AM,11/Sep/18 2:46 AM,,,,v1.3.0,,,,,,,0,,,,,"In a mixed network (<1.2 and >=1.2 peers), a chaincode invocation, simulated on a 1.2 peer, may already produce a read-write set that contains key-level metadata. At commit time, <1.2 and >=1.2 peers will behave differently, namely:
 * <1.2 peers will unmarshal the rwset ignoring the new metadata fields, and will not apply any metadata updates
 * >=1.2 peers will recognize metadata fileds and may apply metadata-related ledger updates

This would cause a fork in stateDB. The way to handle this properly is to use the metadata capability and have the >=1.2 ledger code behave in compatibility mode if the capability isn't set.",,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwt67:",,,,Unset,,,,,,Unset,,,,,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 11:10 AM;denyeart;**https://gerrit.hyperledger.org/r/#/c/21247/;;;","09/Sep/18 5:13 AM;denyeart;[~ales] I see there were comments after merge in [https://gerrit.hyperledger.org/r/#/c/21247/] .

Are they addressed?  Can we move this subtask to Done?;;;","11/Sep/18 2:42 AM;ales;[~denyeart]: thanks for drawing my attention to them - fixed in https://gerrit.hyperledger.org/r/26200;;;",,,,,,,,,,,,,,,,,,,
Create capability provider for chaincode handler component,FAB-9748,29758,33225,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,27/Apr/18 6:41 PM,06/Sep/18 12:05 AM,28/Oct/23 3:02 AM,06/Sep/18 12:05 AM,,,,v1.3.0,,,,,,,0,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7sv:",,,,,,,,,,,,,,,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 11:10 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21241/;;;",,,,,,,,,,,,,,,,,,,,,
Ledger interface to support key-level metadata,FAB-9749,29759,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,27/Apr/18 7:36 PM,26/Aug/18 12:34 AM,28/Oct/23 3:02 AM,04/May/18 2:42 AM,,,,v1.2.0,,,,,,,0,,,,,Extend interface for txquery and txsim to support key-level metadata.,,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz77r:",,,,,,,,,,,,,,,,,,,,,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/18 2:42 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/20893/;;;",,,,,,,,,,,,,,,,,,,,,
how can I convert the byte array of currentBlockHash to string,FAB-9750,19942,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,oujunketu,oujunketu,04/Aug/17 5:27 PM,20/Jul/18 11:13 PM,28/Oct/23 3:02 AM,04/May/18 4:42 AM,,,,v1.2.0,,,,,,,0,v1.0,,,,"I got the chainInfo.currentBlockHash and found its type was byte array. I want it in string type but I do not know where I can get it.  Shall I convert it to string by myself and how? If anyone knows how to  do it, tell me please. Thank you",,harrisob@us.ibm.com,mastersingh24,oujunketu,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Impediment,,,,,,"1|hzybxb:",,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,oujunketu,satheeshk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Aug/17 7:38 PM;oujunketu;I've checked the type definitions. Only Blockchaininfo includes currentBlockHash and previousBlockHash which are array<bytes>.  

And  I found that  the value of currentBlockHash is the same as the value of previousBlockHash.  ;;;","27/Apr/18 8:28 PM;satheeshk;This looks like a NodeSDK bug.;;;","01/May/18 6:21 PM;mastersingh24;[~harrisob@us.ibm.com] Can you verify if this is still an issue?;;;","04/May/18 4:42 AM;harrisob@us.ibm.com;blockchainInfo.currentBlockHash.toString('hex');;;",,,,,,,,,,,,,,,,,,
Intermittent test failures in core/container/dockercontroller,FAB-9751,29760,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,27/Apr/18 10:01 PM,19/Mar/19 7:57 PM,28/Oct/23 3:02 AM,29/Jun/18 2:13 AM,,,,v1.3.0,,,,,,,0,ci-flake,,,,"These may be related to behavior changes from the go-dockerclient upgrade.
{code:java}
00:05:34.478 unit-tests_1  | 2018-04-26 20:56:47.132 UTC [dockercontroller] deployImage -> ERRO 001 Error building images: Error building image
00:05:34.479 unit-tests_1  | 2018-04-26 20:56:47.132 UTC [dockercontroller] deployImage -> ERRO 002 Image Output:
00:05:34.479 unit-tests_1  | ********************
00:05:34.480 unit-tests_1  | 
00:05:34.480 unit-tests_1  | ********************
00:05:34.481 unit-tests_1  | 2018-04-26 20:56:47.132 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container
00:05:34.482 unit-tests_1  | 2018-04-26 20:56:47.133 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image
00:05:34.482 unit-tests_1  | --- FAIL: Test_Start (10.00s)
00:05:34.482 unit-tests_1  | 	dockercontroller_test.go:140: 
00:05:34.483 unit-tests_1  | 2018-04-26 20:56:57.134 UTC [dockercontroller] Destroy -> ERRO 005 destroy-cannot create client Failed to get client
00:05:34.484 unit-tests_1  | 2018-04-26 20:56:57.134 UTC [dockercontroller] Destroy -> ERRO 006 error while destroying image: Error removing extended image
00:05:34.484 unit-tests_1  | FAIL
00:05:34.485 unit-tests_1  | coverage: 74.3% of statements
00:05:34.485 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/container/dockercontroller	10.034s{code}",,GwangilChoi,jyellick,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7t3:",,,,,,,,,,,,,,,,,,,,,GwangilChoi,jyellick,kchristidis,sykesm,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/18 5:55 PM;GwangilChoi;I use dockerd  : ubuntu 16.04-LTS 64bit 

 
{code:java}
Docker version 18.03.1-ce, build 9ee9f40 
docker version
 Client:
 Version: 18.03.1-ce
 API version: 1.37
 Go version: go1.9.5
 Git commit: 9ee9f40
 Built: Thu Apr 26 07:17:20 2018
 OS/Arch: linux/amd64
 Experimental: false
 Orchestrator: swarm
Server:
 Engine:
 Version: 18.03.1-ce
 API version: 1.37 (minimum version 1.12)
 Go version: go1.9.5
 Git commit: 9ee9f40
 Built: Thu Apr 26 07:15:30 2018
 OS/Arch: linux/amd64
 Experimental: false
{code}
 

but same result 

 

 
{code:java}
unit-tests_1 | 2018-05-21 09:41:48.953 UTC [dockercontroller] func2 -> INFO 002 Container simple has closed its IO channel
 unit-tests_1 | — FAIL: TestIntegrationPath (5.11s)
 Error Trace: dockercontroller_test.go:47
 unit-tesError: Received unexpected error:
 unit-tes Container not running: simple
 unit-tesTest: TestIntegrationPath
 unit-tests_1 | 2018-05-21 09:41:50.812 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container
 unit-tests_1 | 2018-05-21 09:41:50.814 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image
 unit-tests_1 | 2018-05-21 09:41:53.171 UTC [dockercontroller] Start -> ERRO 005 start-could not start container: Error starting the container
 unit-tests_1 | FAIL
 
{code}
 ;;;","15/Jun/18 1:07 AM;kchristidis;Another potentially related incident [here|https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/2564/consoleText]: 

{code}
unit-tests_1 | 2018-06-14 15:36:40.327 UTC [simple] func2 -> INFO 001 hello unit-tests_1 | 2018-06-14 15:36:40.486 UTC [dockercontroller] func2 -> INFO 002 Container simple has closed its IO channel unit-tests_1 | --- FAIL: TestIntegrationPath (2.06s) unit-tests_1 | assertions.go:247: Error Trace: dockercontroller_test.go:47 unit-tests_1 | Error: Received unexpected error: unit-tests_1 | Container not running: simple unit-tests_1 | Test: TestIntegrationPath unit-tests_1 | 2018-06-14 15:36:40.761 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container unit-tests_1 | 2018-06-14 15:36:40.763 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image unit-tests_1 | 2018-06-14 15:36:42.092 UTC [dockercontroller] Start -> ERRO 005 start-could not start container: Error starting the container unit-tests_1 | FAIL unit-tests_1 | coverage: 87.1% of statements unit-tests_1 | FAIL github.com/hyperledger/fabric/core/container/dockercontroller 3.472s
{code}
;;;","16/Jun/18 1:26 AM;jyellick;As this is a test failure and not related to the production code, I see no reason for this to block a v1.2 release.  Moving fix version to v1.3.;;;","18/Jun/18 7:36 AM;sykesm;{quote}FAIL: TestIntegrationPath (5.11s)
 Error Trace: dockercontroller_test.go:47{quote}
[~GwangilChoi], that's actually not the originally reported error.
{quote} --- FAIL: TestIntegrationPath (2.06s) unit-tests_1 | assertions.go:247: Error Trace: dockercontroller_test.go:47{quote}
[~kchristidis], same error as [~GwangilChoi] but not the originally reported error.

The original error was:
{quote}00:05:34.482 unit-tests_1  | --- FAIL: Test_Start (10.00s)
00:05:34.482 unit-tests_1  | 	dockercontroller_test.go:140: {quote}
from this block: 

[https://github.com/hyperledger/fabric/blob/621725f4e32bfd59185a529cf3fb87456433ef1e/core/container/dockercontroller/dockercontroller_test.go#L138-L141]

Different flakes.;;;","18/Jun/18 7:09 PM;sykesm;For the flake related to line 47, looks like the container that is started from the Dockerfile generated by InMemBuilder is short-lived; it echos ""hello"" and terminates. If the system is slow (or docker is fast), the container will have terminated before the call to stop on 46 runs.;;;","18/Jun/18 7:36 PM;sykesm;For the originally reported flake related to line 140, there's not enough here to get the root cause. That said, let's fix the flake related to 47 since at least two people have hit that.;;;","18/Jun/18 10:31 PM;sykesm; https://gerrit.hyperledger.org/r/23243;;;",,,,,,,,,,,,,,,
Wire registry into handler,FAB-9752,29761,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Apr/18 10:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 1:35 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7tb:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 10:27 PM;sykesm;https://gerrit.hyperledger.org/r/21113;;;",,,,,,,,,,,,,,,,,,,,,
Normalize container start/stop error reporting in runtime,FAB-9753,29762,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Apr/18 10:52 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 1:35 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7tj:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 10:53 PM;sykesm;https://gerrit.hyperledger.org/r/21115;;;",,,,,,,,,,,,,,,,,,,,,
Remove redundant empty cname check from support,FAB-9755,29764,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,27/Apr/18 10:55 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,28/Apr/18 1:35 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7tz:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 10:57 PM;sykesm;https://gerrit.hyperledger.org/r/21117;;;",,,,,,,,,,,,,,,,,,,,,
The End-2-End CLI tests are failing for all fabric and fabric-ca CI tests due to 'e2e_default' network fail.,FAB-9756,29765,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,sambhavdutt,sambhavdutt,27/Apr/18 11:13 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,01/May/18 5:19 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The 'e2e_default' network failed as this network does not exist Error 404,


{code:java}
03:09:30 2018-04-27 03:09:03.190 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00c Using default escc
03:09:30 2018-04-27 03:09:03.190 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00d Using default vscc
03:09:30 2018-04-27 03:09:03.191 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 00e java chaincode enabled
03:09:30 2018-04-27 03:09:03.194 UTC [msp/identity] Sign -> DEBU 00f Sign: plaintext: 0AC2070A6608031A0B08CFA88AD70510...535010030A04657363630A0476736363 
03:09:30 2018-04-27 03:09:03.194 UTC [msp/identity] Sign -> DEBU 010 Sign: digest: 2C0B8BF0D44B75A5B0EBBBF747799EA8B0F4C9C15E5E3E2B38081C1AC76973BE 
03:09:30 Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): network e2e_default not found
03:09:30 !!!!!!!!!!!!!!! Chaincode instantiation on PEER2 on channel 'mychannel' failed !!!!!!!!!!!!!!!!
03:09:30 ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-s390x/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric/examples/e2e_cli/results.log",,jyellick,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9642,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7u7:",,,,,,,,,,,,,,,,,,,,,jyellick,sambhavdutt,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Apr/18 11:34 PM;jyellick;My fault on this one, I missed a file when I pushed the CR, will submit a fix shortly.;;;","27/Apr/18 11:37 PM;jyellick;In review via: https://gerrit.hyperledger.org/r/c/21121/;;;","01/May/18 2:38 AM;sambhavdutt;The end-2-end tests are passing now in fabric CLI tests from two days.;;;",,,,,,,,,,,,,,,,,,,
Remove ExecuteWithErrorFilter from chaincode provider and support,FAB-9757,29766,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Apr/18 12:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 12:44 AM,,,,v1.2.0,,,,,,,0,,,,,The method added unnecessary syntactic sugar for the single production caller in the code base.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7uf:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/18 12:50 AM;sykesm;https://gerrit.hyperledger.org/r/21125;;;",,,,,,,,,,,,,,,,,,,,,
Remove unused ChaincodeId return value from Launch,FAB-9758,29770,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Apr/18 12:59 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 1:38 AM,,,,v1.2.0,,,,,,,0,,,,,All callers assign it to underscore so it's time to get rid of it.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7wn:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/18 1:15 AM;sykesm;https://gerrit.hyperledger.org/r/21129;;;",,,,,,,,,,,,,,,,,,,,,
Create controllers by interface instead of static code reference,FAB-9759,29771,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Apr/18 1:15 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 7:50 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7wv:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove unused prelaunch function,FAB-9760,29772,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Apr/18 1:15 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 7:20 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7x3:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Convert BuilderSpecFactory function type to interface,FAB-9761,29773,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Apr/18 1:15 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 7:19 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7xb:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove VMCResp structure as its resp value is ignored,FAB-9762,29774,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Apr/18 1:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 4:29 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7xj:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Do not have controller import its interface implementors,FAB-9763,29775,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,28/Apr/18 1:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7xr:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add capabilities and errors to validation APIs,FAB-9764,29777,28022,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,28/Apr/18 2:02 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 2:39 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The pluggable validation needs a way to convey to the peer whether the endorsement failed because of a runtime error or because of the endorsement logic itself.

Also - to implement VSCC as a plugin we need access to the capabilities.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7xz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Introduce CollectionUpgrade capability ,FAB-9765,29778,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,28/Apr/18 2:35 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 11:04 AM,,,,,,,fabric-peer,,,,0,,,,,"Instead of using V1_2Validation capability, introduce CollectionUpgrade capability. ",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7y7:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 3:08 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21395/;;;",,,,,,,,,,,,,,,,,,,,,
Simplify if / else / else if chains in chaincode support,FAB-9766,29779,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Apr/18 2:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 1:40 AM,,,,v1.2.0,,,,,,,0,,,,,Use switch or return as appropriate. Remove unneeded var declarations. Try to cleanup strings included in errors.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7yf:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 9:43 PM;sykesm;https://gerrit.hyperledger.org/r/c/21215/;;;",,,,,,,,,,,,,,,,,,,,,
Chaincodes test failing consistently in fabric-test-daily CI tests.,FAB-9771,29786,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,28/Apr/18 5:31 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,08/May/18 11:12 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The chaincodes test is not successful(Behave feature tests ?) in fabric-test-daily job from several builds. There is no report generated for the chaincodes test in this job.

*Build Fails*
 [https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/test_results_analyzer/]

Instead, we see  TESTS-chaincodes  failure displayed.

After several chaincodes.feature tests seemed to complete successfully in the full console logs, then observe for this test:

05:39:07 Scenario Outline: FAB-6650: Test chaincode enccc_example.go negative scenario, passing in bad ENCRYPTION(ENC), IV, and SIGNATURE(SIG) KEYS -- @1.1 # chaincodes.feature:342

I see this error:
*05:40:51*     And a user deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/enccc_example"" with args [""init"", """"] with name ""mycc""                                                                                                                                                                                                                                                                                                                                                                                # steps/endorser_impl.py:118*05:42:13*     When a user invokes on the chaincode named ""mycc"" with args [""ENCRYPT"",""Social-Security-Number"",""123-45-6789""] and transient args ""\{\\""ENCKEY\\"":\\""L6P9jLWR6d6E1KdGJBsUpzEm5QS6uVlS4onsteB+KaQ\\""}""                                                                                                                                                                                                                                                                                                                            # steps/endorser_impl.py:531*05:42:19*     Then a user receives an error response of Error: Error parsing transient string: illegal base64 data at input byte 40 - <nil>                                                                                                                                                                                                                                                                                                                                                                                                   # steps/endorser_impl.py:829*05:42:19*       Assertion Failed: Expected response was Error: Error parsing transient string: illegal base64 data at input byte 40 - <nil>; received Error occurred [u'docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/4dc38a3049dd11e8b1a0fa163ea2cc63/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode invoke --name mycc --ctor \'\{\\""Args\\"": [\\""ENCRYPT\\"",\\""Social-Security-Number\\"",\\""123-45-6789\\""]}\' --channelID behavesystest --transient \\""\{\\\\\\""ENCKEY\\\\\\"":\\\\\\""L6P9jLWR6d6E1KdGJBsUpzEm5QS6uVlS4onsteB+KaQ\\\\\\""}\\"" --orderer orderer0.example.com:7050 ""']: 2018-04-27 05:42:13.547 UTC [grpc] Printf -> DEBU 001 dialing to target with scheme: """"


 

Also, the full console logs show some warnings throughout all the tests, but I don't think they are causing this bug:

04:38:41 2018-04-27 04:38:41.059 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
 04:38:41 2018-04-27 04:38:41.100 UTC [common/tools/configtxgen/encoder] NewChannelGroup -> WARN 003 Default policy emission is deprecated, please include policy",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7zj:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"03/May/18 5:14 AM;sambhavdutt;Hello [~latitiah]

I ran the smoke-tests with the latest/current submodule updates. It is failing in the Behave tests, and came across this error, 


{code:java}
19:54:42 + make smoke-tests
19:54:42 cd /w/workspace/fabric-test-verify-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/smoke && ./runSmokeTestSuite.sh
19:54:42 ========== Behave feature and system tests...
19:54:42 ERROR! Unable to import the protobuf libraries from the ../fabric/bddtests directory: <type 'exceptions.ImportError'>
{code}


;;;","08/May/18 11:12 PM;sambhavdutt;This issue was fixed in https://gerrit.hyperledger.org/r/#/c/21351/ 
The link to the protobufs has been updated.;;;",,,,,,,,,,,,,,,,,,,,
Consider moving the evaluation of the instantiation policy out of the handler and into the launcher,FAB-9772,29787,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sykesm,sykesm,sykesm,28/Apr/18 5:52 AM,08/Sep/18 2:50 AM,28/Oct/23 3:02 AM,08/Sep/18 2:50 AM,,,,,,,,,,,0,,,,,"One of the many things {{handleModState}} does is instantiation policy evaluation. Given the refactors, it may make more sense to move that function out.
{code:java}
var version string
if !isscc {
//if its a user chaincode, get the details
cd, err := h.lifecycle.GetChaincodeDefinition(ctxt, msg.Txid, txContext.signedProp, txContext.proposal, calledCcIns.ChainID, calledCcIns.ChaincodeName)
if err != nil {
errHandler([]byte(err.Error()), ""[%s]Failed to get chaincode data (%s) for invoked chaincode. Sending %s"", shorttxid(msg.Txid), err, pb.ChaincodeMessage_ERROR)
return
}

version = cd.CCVersion()

err = ccprovider.CheckInstantiationPolicy(calledCcIns.ChaincodeName, version, cd.(*ccprovider.ChaincodeData))
if err != nil {
errHandler([]byte(err.Error()), ""[%s]CheckInstantiationPolicy, error %s. Sending %s"", shorttxid(msg.Txid), err, pb.ChaincodeMessage_ERROR)
return
}
} else {
//this is a system cc, just call it directly
version = util.GetSysCCVersion()
}

cccid := ccprovider.NewCCContext(calledCcIns.ChainID, calledCcIns.ChaincodeName, version, msg.Txid, false, txContext.signedProp, txContext.proposal)

// Launch the new chaincode if not already running
chaincodeLogger.Debugf(""[%s] launching chaincode %s on channel %s"", shorttxid(msg.Txid), calledCcIns.ChaincodeName, calledCcIns.ChainID)

cciSpec := &pb.ChaincodeInvocationSpec{ChaincodeSpec: chaincodeSpec}
chaincodeInput := cciSpec.GetChaincodeSpec().Input

launchErr := h.handlerSupport.Launch(ctxt, cccid, cciSpec)
{code}
Need to study the paths to see if it's appropriate to do this...",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7zr:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete :latest tag from hyperledger/fabric thridparty images,FAB-9773,29790,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jwagantall,rameshthoomu,rameshthoomu,28/Apr/18 2:49 PM,24/Apr/19 11:58 PM,28/Oct/23 3:02 AM,24/Apr/19 11:58 PM,,,,Future,,,fabric-build,,,,0,,,,,"Delete *:latest* tag from hyperledger/fabric-couchdb, hyperledger/fabric-zookeeper and hyperledger/fabric-kafka docker repository. This tag was published from x86_64 jenkins job as the DEPENDENT_TAG is exported as :latest which should be *amd64-0.4.8*",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz7zz:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/19 11:58 PM;rameshthoomu;This has been done.;;;",,,,,,,,,,,,,,,,,,,,,
Make the transient store to use the new proto message,FAB-9774,29792,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,28/Apr/18 6:57 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 12:27 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"FAB-9204 adds a new proto for transient store entry. We need to make necessary changes to Persist() and Next() to store and retrieve the new proto message, respectively.",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz80f:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 12:26 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21175/;;;",,,,,,,,,,,,,,,,,,,,,
Remove duplicate method,FAB-9775,29794,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,ales,ales,28/Apr/18 9:51 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-ledger,,,,0,hygiene,stale-item,,,"lockBasedTxSimulator implements GetState, but the very same GetState is implemented by the internal lockBasedQueryExecutor.",,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz80n:",,,,,,,,,,,,,,,,,,,,,ales,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Transaction validation doesn't distinguish between endorsement policy failure and VSCC database access failure,FAB-9776,29795,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,yacovm,yacovm,28/Apr/18 10:11 PM,22/Jan/19 5:57 AM,28/Oct/23 3:02 AM,22/Jan/19 5:52 AM,v1.0.6,v1.1.0,,v1.1.2,,,fabric-peer,,,,0,,,,,"VSCC needs access to the ledger in order to [retrieve data from LSCC|https://github.com/hyperledger/fabric/blob/release-1.1/core/scc/vscc/validator_onevalidsignature.go#L555] (ccprovider.ChaincodeData).

However, it may fail in cases where the database isn't reachable (for example - a temporary network failure to access couchDB).

In such a case, the VSCC returns [shim.Error.|https://github.com/hyperledger/fabric/blob/release-1.1/core/scc/vscc/validator_onevalidsignature.go#L198]

Now, it returns the same kind of output (shim.Error) in any other error case, for example - [if the endorsement policy isn't satisfied|https://github.com/hyperledger/fabric/blob/release-1.1/core/scc/vscc/validator_onevalidsignature.go#L182].

When the validator [calls VSCC|https://github.com/hyperledger/fabric/blob/release-1.1/core/committer/txvalidator/validator.go#L842-L850], it treats an error as an execution failure, and a shim.Error as an endorsement policy failure:
{code:java}
	logger.Debug(""Invoking VSCC txid"", txid, ""chaindID"", chid)
	res, _, err := v.ccprovider.ExecuteChaincode(ctxt, cccid, args)
	if err != nil {
		msg := fmt.Sprintf(""Invoke VSCC failed for transaction txid=%s, error: %s"", txid, err)
		return &commonerrors.VSCCExecutionFailureError{msg}
	}

	if res.Status != shim.OK {
		return &commonerrors.VSCCEndorsementPolicyError{fmt.Sprintf(""%s"", res.Message)}
	}
{code}
When *ExecuteChaincode* returns an error, it is most likely because the VSCC cannot be found in the peer.

This is not deterministic and might lead to state fork, since for a valid transaction, retrieval from LSCC in some peers might fail and in some peers might not.

I made a small hacky change to test this hypothesis:
{code:java}
func (vscc *ValidatorOneValidSignature) getInstantiatedCC(chid, ccid string) (cd *ccprovider.ChaincodeData, exists bool, err error) {
	qe, err := vscc.sccprovider.GetQueryExecutorForLedger(chid)
	if err != nil {
		err = fmt.Errorf(""Could not retrieve QueryExecutor for channel %s, error %s"", chid, err)
		return
	}
	defer qe.Done()

	bytes, err := qe.GetState(""lscc"", ccid)

	rand.Seed(time.Now().UnixNano())
	if rand.Int() % 2 == 1 {
		err = errors.New(""this isn't our day"")
	}
	if err != nil {
		err = fmt.Errorf(""Could not retrieve state for chaincode %s on channel %s, error %s"", ccid, chid, err)
		return
	}
{code}
and ran e2e_cli and it looks like some peers validated the LSCC instantiate, while others didn't: 

!fork.png!

 

 

 

A good way to fix this, is to have VSCC send a shim error with error code < 500 to indicate a validation error, and 500 otherwise (the current value it always returns in the case of an error).
 I suggest we fix this for v1.1.x and possibly also for v1.0.x

 

 

 ",,C0rWin,denyeart,elli-androulaki,jyellick,Senthil1,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Apr/18 10:08 PM;yacovm;fork.png;https://jira.hyperledger.org/secure/attachment/14926/fork.png",,,,,,,,,,,,,,,,,,,,,,,"1|hzz80v:",,,,,,,,,,,,,,,,,,,,,C0rWin,denyeart,elli-androulaki,jyellick,Senthil1,sykesm,yacovm,,,,,,,,,,,,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Apr/18 10:15 PM;yacovm;[~ellaki] 

[~C0rWin]

[~adc]

[~denyeart]

[~mastersingh24]

[~ales] 

[~jyellick];;;","28/Apr/18 11:16 PM;denyeart;[~yacovm] Good find, at the same time we should also check other types of unexpected validation errors and ensure they won't lead to forks. As you are refactoring vscc as a validation plugin for v1.2, you can fix as part of that work item in master.  So that leaves v1.1 and v1.0.  I agree this is important enough to fix in both of those releases.  I think maybe [~ales] is most familiar with this code in v1.1 and v1.0.  I'll set Fix Version and assignee as such, but speak up if somebody disagrees.;;;","28/Apr/18 11:36 PM;yacovm;{quote}As you are refactoring vscc as a validation plugin for v1.2, you can fix as part of that work item in master
{quote}
Yes, I don't see any way to proceed with my work without fixing it.;;;","29/Apr/18 9:10 PM;Senthil1;I think [~manish-sethi] has already raised this point in one of my CR here – [https://gerrit.hyperledger.org/r/#/c/21047/1/core/scc/vscc/validator_onevalidsignature.go@387] 

I was looking into it. As a separate CR has been created to handle this, I leave it as is for now in my CR. ;;;","30/Apr/18 6:44 AM;yacovm;Well, i wasn't aware of the prior art, Senthil :);;;","04/May/18 7:45 PM;denyeart;Another example called out in reviews here:

[https://gerrit.hyperledger.org/r/#/c/21047/3/core/scc/vscc/validator_onevalidsignature.go@396]

 ;;;","22/May/18 2:45 AM;kchristidis;Unclear to me what the fate of this one is. Has it already been fixed in master Please update.;;;","22/May/18 2:49 AM;yacovm;Of course, I fixed it in master. [~ales] is fixing for v1.1 and v1.0 (perhaps);;;","22/May/18 3:11 AM;kchristidis;Yacov: thanks.

[~ales]: I can imagine you have a full plate but can you post an update with the progress on this, or when approx. do you see yourself working on this?;;;","13/Jun/18 11:31 PM;elli-androulaki;CR for a fix on this on 1.0: [https://gerrit.hyperledger.org/r/#/c/23017/]

As soon as this is reviewed the code is to be replicated for 1.1, as per [~ales]  :);;;","07/Sep/18 1:33 AM;sykesm;The referenced CR (23017) has been abandoned.

[~ales], are there still plans to roll this back to 1.0 and 1.1?;;;","04/Dec/18 6:13 AM;denyeart;[~ales] I believe this is resolved on latest releases. Could you look at the prior releases and determine if this is still an issue?;;;","21/Jan/19 11:50 PM;denyeart;release-1.1 CR: https://gerrit.hyperledger.org/r/#/c/28834/;;;","22/Jan/19 5:56 AM;jyellick;I've marked this closed and removed the v1.0.7 tag.  Given that v1.0 has been EOL for quite a while now, and, that the primary culprit for this bug is CouchDB failures (which is not supported in v1.0), another backport doesn't seem worthwhile to me.  Of course, I'd welcome dissenting opinions.;;;",,,,,,,,
update to grpc-go 1.11.3,FAB-9778,29800,27414,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,30/Apr/18 1:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 12:30 AM,,,,v1.2.0,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz81r:",,,,,,,,,,,,,,,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
clean up invoke error processing in CLI,FAB-9779,29802,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,muralisr,muralisr,30/Apr/18 12:34 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/Jun/18 10:23 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"This is a followup CR to FAB-6387, to clean up invoke's response error processing in CLI common.go. From the comments in the CR :
{code:java}
Will Lahti
Apr 26 12:29 PM
Only slightly related to this CR and I don't see any need to hold up merging this because of it...

I noticed that the logging messages on endorsement failure return for me as:
2018-04-26 16:08:44.936 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 014 ESCC invoke result: response:<status:400 message:""Transferring too much at once!!"" > 
2018-04-26 16:08:44.936 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> WARN 015 Endorsement failure during invoke. chaincode result: <nil>

The chaincode result here (which is the chaincode action's response) is always nil with how I set up my chaincode. @Murali Do you think logging the chaincode action's response value is still the right thing to do or is there any other useful information that can be logged here? It doesn't seem ideal to log a field that may often be nil (though my scenario may not match real world scenarios).

(Also, other than the final log message, the logic here is identical and could be cleaned up.)

Draft
11:30 PM
Agree, Will. 

For most part this section is a carryover from previous CR.  I think this section has to be redone in another CR which should encode the following.

The real test of whether a response is successful or not is if it has been endorsed. This will take care of the case where a custom ESCC can endorse a (result >= shim.ERRORTHRESHOLD && result <= shim.ERROR).  So we should really ask the question - does this response have endorsement. 
{code}",,bpbuch,muralisr,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz81z:",,,,,,,,,,,,,,,,,,,,,bpbuch,muralisr,wlahti,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 12:16 AM;wlahti;https://gerrit.hyperledger.org/r/c/21909/;;;",,,,,,,,,,,,,,,,,,,,,
Unclear definition of genesis block in glossary,FAB-9780,29803,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,huikang,huikang,huikang,30/Apr/18 12:51 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,10/May/18 8:05 PM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"The text ""The configuration block that initializes a blockchain network or channel"" sounds not very clear. How about changing it to "" The configuration block that initializes the ordering service"".

[1]http://hyperledger-fabric.readthedocs.io/en/latest/glossary.html#genesis-block",,huikang,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz827:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 9:53 PM;SjirNijssen;I would like to suggest to list the major fields that are part of that block, and where necessary give a definition of the field;;;","02/May/18 11:49 PM;huikang;I agree. Could you please point me to some doc or code that explain the part of the genesis block? I will draft some paragraph for you to review. Thanks.;;;","10/May/18 9:15 PM;SjirNijssen;I regret to say that the new definition is, in my opinion, not gonna generate wide enthousiasm. There is too little contents in the definition. I repeat my suggestion to mention the most important fields that make up the block. That gives readers a better impression than what we have now.;;;",,,,,,,,,,,,,,,,,,,
Let an organization join a channel without a block file,FAB-9781,29804,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,YashGanthe,YashGanthe,30/Apr/18 5:33 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,"Currently is Org1 creates a channel, it generates a .block file like mychannel.block. If it wants Org2 to join the channel, the file has to be sent offline to Org2. Org2 then uses the block file to join its peer to the channel.

The offline mode of transporting the file can be eliminated if the Org2 peer connects to the orderer using an environment variable and fetches the genesis block of the channel.",,sykesm,YashGanthe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz82f:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,YashGanthe,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Tried joining channel but our org, isn't among the orgs of the channel",FAB-9782,29806,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,,nithindj192,nithindj192,30/Apr/18 5:56 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 5:50 PM,v1.1.0,,,,,,,,,,0,,,,,"While adding a new organization to the hyper ledger fabric network, the peer logs shows the below error.
{quote}[gossip/service] updateAnchors -> ERRO 327 Tried joining channel mychannel but our org( org4), isn't among the orgs of the channel: [org1 org2 org3] , aborting.
{quote}
And a warning like below.
{quote}[gossip/gossip] Gossip -> WARN 3d9 Failed obtaining gossipChannel of [99 104 45 99 111 109 109 111 110] aborting.
{quote}
Hyper ledger Fabric version : v1.1.0

Dynamic leader election properties added into peer-base.

I was following the instructions [here.|http://hyperledger-fabric.readthedocs.io/en/release-1.1/channel_update_tutorial.html]",,nithindj192,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz82n:",,,,,,,,,,,,,,,,,,,,,nithindj192,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/18 5:48 PM;nithindj192;It can be ignored as it doesn't affect the operation in v1.1.0.

[Reference|https://stackoverflow.com/questions/50094658/tried-joining-channel-but-our-org-isnt-among-the-orgs-of-the-channel];;;",,,,,,,,,,,,,,,,,,,,,
"Docs file install_instantiate.rst is unreferenced, so delete it.",FAB-9783,29807,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,30/Apr/18 6:26 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,04/May/18 3:27 AM,,,,,,,fabric-docs,,,,0,,,,,"There is nothing in the docs directory that makes any reference to the docs file ""install_instantiate.rst"", so it should be deleted.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz82v:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Chaincode shim for key-level metadata,FAB-9784,29808,33224,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,30/Apr/18 7:33 PM,06/Sep/18 12:05 AM,28/Oct/23 3:02 AM,06/Sep/18 12:05 AM,,,,Future,,,,,,,0,,,,,Chaincode handler implementation of the chaincode shim interface for key-level metadata.,,mne,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-56,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt5j:",,,,,,,,,,,,,,,,,,,,,mne,zhaochy,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/18 9:33 PM;mne;https://gerrit.hyperledger.org/r/#/c/21199/;;;",,,,,,,,,,,,,,,,,,,,,
Extend gossip.PrivatePayload proto message,FAB-9785,29809,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,30/Apr/18 9:22 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/May/18 5:20 PM,,,,v1.2.0,,,fabric-gossip,,,,0,active,gossip,,,"In order to support distribution of the private data in light of possible change of the collection membership there is a need to extend current {{PrivatePayload}} message

{code}
message PrivatePayload {
    string collection_name      = 1;
    string namespace            = 2;
    string tx_id                = 3;
    bytes private_rwset         = 4;
}
{code}

to include additional information such as at which block height private data was simulated at and what was the collection config at that time, i.e.:

{code}
message PrivatePayload {
    string collection_name      = 1;
    string namespace            = 2;
    string tx_id                = 3;
    bytes private_rwset         = 4;
    uint64 private_sim_height  = 5;
    common.CollectionConfigPackage collection_configs = 6;
}
{code}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz833:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Apr/18 9:49 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/21201/;;;",,,,,,,,,,,,,,,,,,,,,
"Peers  of Org2, Org3, are Unable to Join the channel when not using the port of peer0-Org1 i.e 7051",FAB-9786,29810,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,piyushkumar96,piyushkumar96,piyushkumar96,30/Apr/18 9:42 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Jun/18 1:57 PM,v1.1.0,,,v1.1.0,,,,,,,0,,,,,"When I am using 7051 *(port of peer0**-**Org**1**)* for handling the incoming request to peers of Org2, then peers of Org2 are able to join the channel. As shown in following images. 

  !image-2018-04-30-18-05-49-997.png!

  !image-2018-04-30-18-06-00-862.png!

But when I am using 9051 *(**port* ** *of peer0 -* ** *Org2)* for handling the incoming request to peers of Org2, then it is throwing the error in joining the channel.  As shown in following images. 

*Error: Error getting endorser client channel: endorser client failed to connect to peer0.org2.example.com:9051: failed to create new connection: context deadline exceeded* 

  !image-2018-04-30-18-06-09-594.png!

  !image-2018-04-30-18-14-21-613.png!

For handling the incoming request for the peers of Org2, Org3 etc.  hyperledger fabric uses port of peer0 *(7051)* of Org1. Why ?  ",,gregnotso,haibbo,mastersingh24,piyushkumar96,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/18 9:35 PM;piyushkumar96;image-2018-04-30-18-05-49-997.png;https://jira.hyperledger.org/secure/attachment/14933/image-2018-04-30-18-05-49-997.png","30/Apr/18 9:36 PM;piyushkumar96;image-2018-04-30-18-06-00-862.png;https://jira.hyperledger.org/secure/attachment/14932/image-2018-04-30-18-06-00-862.png","30/Apr/18 9:36 PM;piyushkumar96;image-2018-04-30-18-06-09-594.png;https://jira.hyperledger.org/secure/attachment/14931/image-2018-04-30-18-06-09-594.png","30/Apr/18 9:44 PM;piyushkumar96;image-2018-04-30-18-14-21-613.png;https://jira.hyperledger.org/secure/attachment/14934/image-2018-04-30-18-14-21-613.png",,,,,,,,,,,,,,,,,,,,"1|hzz83b:",,,,,,,,,,,,,,,,,,,,,gregnotso,haibbo,mastersingh24,piyushkumar96,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/18 9:15 PM;piyushkumar96;[~mastersingh24] Can You resolve this issue.;;;","29/May/18 12:35 AM;haibbo;[~piyushkumar96] 

I think you should change peer.listenAddress too.

 ;;;","29/May/18 4:37 PM;piyushkumar96;Hi [~haibbo],

In documentation provided by IBM  CORE_PEER_ADDRESS is address of anchor peer of that Organization But they always using address of anchor peer of Org1 as given below
 * CORE_PEER_ADDRESS=peer0.org1.example.com:7051

means why they are using always Port 7051 for incoming request in case of peers of other organization.

what should I assign to  peer.listenAddress ??

 ;;;","01/Jun/18 7:52 AM;mastersingh24;[~piyushkumar96]  - What exactly are you trying to accomplish here?;;;","01/Jun/18 5:35 PM;piyushkumar96;Hi [~mastersingh24],

Like in hyperlegder fabric in file *docker-compose-base.yaml* 

peer0.*org2*.example.com:
 container_name: peer0.org2.example.com
 extends:
 file: peer-base.yaml
 service: peer-base
 environment:
 - CORE_PEER_ID=peer0.org2.example.com
 - CORE_PEER_ADDRESS=peer0.org2.example.com:*7051*
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org2.example.com:*7051*
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org2.example.com:*7051*
 - CORE_PEER_LOCALMSPID=Org2MSP
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp:/etc/hyperledger/fabric/msp
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls:/etc/hyperledger/fabric/tls
 - peer0.org2.example.com:/var/hyperledger/production
 ports:
 - 9051:*7051*
 - 9053:*7053*

 

In above code why they are using *7051* & *7053* ports for handing incoming request to *peers* of *Org2 or for* *any other Organisation in network and*  * *these *(7051,7053) ports are of anchor peer* of *Org1* (here *peer0.org1.example.com*). 

When I am using port *9051* & *9053* for handing incoming request to *peers* of *Org2* and these *(9051,9053) ports are of anchor peer of Org2* (here *peer0.org2.example.com*) ,and when I am using them  then is throwing an error in peer joining channel as shown in above images. 

Like *ports used for handling incoming request for peers of an Organisation should be of anchor peer of that organisation* because these anchor peers help in  communicating outside the organisation and helps in maintaining the consistency of ledger across all peers through gossip protocols.

 

So why can't we use this ?????? 

peer0.*org2*.example.com:
 container_name: peer0.org2.example.com
 extends:
 file: peer-base.yaml
 service: peer-base
 environment:
 - CORE_PEER_ID=peer0.org2.example.com
 - CORE_PEER_ADDRESS=peer0.org2.example.com:*9051*
 - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0.org2.example.com:*9051*
 - CORE_PEER_GOSSIP_BOOTSTRAP=peer1.org2.example.com:*9051*
 - CORE_PEER_LOCALMSPID=Org2MSP
 volumes:
 - /var/run/:/host/var/run/
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/msp:/etc/hyperledger/fabric/msp
 - ../crypto-config/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls:/etc/hyperledger/fabric/tls
 - peer0.org2.example.com:/var/hyperledger/production
 ports:
 - 9051:*9051*
 - 9053:*9053*;;;","06/Jun/18 12:59 AM;haibbo;[~piyushkumar96]

The following comes from peer's config file - core.yaml:
{code:java}
peer:

# The Peer id is used for identifying this Peer instance.
 id: jdoe

# The networkId allows for logical seperation of networks
 networkId: dev

# The Address at local network interface this Peer will listen on.
 # By default, it will listen on all network interfaces
 listenAddress: 0.0.0.0:7051
{code}
peer.listenAddress decides the GRPC server's listen port.

I suggest adding ""CORE_PEER_LISTENADDRESS=0.0.0.0:9051"" into your *docker-compose-base.yaml* for peer0.org2.

 ;;;","06/Jun/18 1:59 PM;piyushkumar96;Hi [~haibbo],

Thank you for your suggestion. ;;;",,,,,,,,,,,,,,,
Refactor distribution of the private data after endorsement,FAB-9787,29811,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,30/Apr/18 9:48 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,01/May/18 5:23 PM,,,,v1.2.0,,,fabric-gossip,,,,0,active,gossip,,,"As concluded in FAB-9205, there is additional information needed to be transferred along with private data after endorsement to support dynamic collection reconfiguration FAB-5096. Therefore while distributing the private data, following information should be populated into {{gossip.PrivatePayload}} message: 

1. Simulation block height - the ledger height at which private data was created and tx endorsed
2. Collection configuration - i.e. {{common.CollectionConfigPackage}} collection configuration relevant for tx with private data endorsement time.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz83j:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Refactor rwsetbuilder code,FAB-9788,29812,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,30/Apr/18 10:26 PM,26/Aug/18 12:38 AM,28/Oct/23 3:02 AM,04/May/18 5:45 AM,,,,,,,,,,,0,,,,,"Certain methods in the rwsetbuilder code had a ""return error"" signature where no error could be returned.",,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz83r:",,,,,,,,,,,,,,,,,,,,,ales,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 11:12 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21203/;;;",,,,,,,,,,,,,,,,,,,,,
System Behave Test: Missing input,FAB-9789,29813,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,30/Apr/18 10:52 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/Jun/18 5:09 AM,,,,,,,,,,,0,,,,,There is a missing parameter in one of the implementation steps.,,AdnanChoudhury,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz83z:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,latitiah,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"30/Apr/18 11:15 PM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/21207/;;;",,,,,,,,,,,,,,,,,,,,,
Find/delete/update docs that are out of date,FAB-9790,29814,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,joe-alewine,joe-alewine,30/Apr/18 11:04 PM,10/Jan/20 4:36 AM,28/Oct/23 3:02 AM,10/Jan/20 4:36 AM,,,,Future,,,fabric-docs,,,,0,Documentation,,,,"Some docs – whether they're in the TOC or not – are out of date or irrelevant. We need to find these and delete them (or update them). For a start, it will be preferable to focus on docs that are not in the TOC.",,joe-alewine,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz847:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/18 12:45 AM;SjirNijssen;The part ""2. Basic workflow of transaction endorsement"" we have used for about 100 data science & knowledge engineering  students in the 1Q 2018. We asked the students to make a semantic-conceptual model for 2. 
A semantic-conceptual model in the course ""Knowldege Modeling"" means: 
# give for every field a concept description, 
# if two or more fields refer to the same non-lexical object type, or lexical object type, give a concept description for that type and give the meaning of the role the instances of the type play in the field; 
# give where possible a declarative desciption of each integrity rule the instances of the field are subject to;
# define a derivation rule for every field that is input or output;
# define the events;
#  give illustrating examples.
One of the observations was that the quality of the sections 2.1, 2.2 is much better than 2.3 and 2.5, and most students came to the conclusion that it would have been more consistent if a 2.5 was given. 
Most of the students had at the end of the course a good grasp of the transaction flow. 
We combined this exercise with the same question for fabcar. 
   ;;;","01/May/18 12:49 AM;SjirNijssen;Sorry, I forgot to say: The part 2 mentioned above is part of Architecture Explained, of Architecture Reference, also called Chapter 6 in the docs.;;;","01/May/18 12:51 AM;SjirNijssen;Joe, I assume that now is meant as NOT?;;;","01/May/18 12:53 AM;joe-alewine;Sjir – yes, I meant ""not"". I've updated the description.;;;","01/May/18 12:57 AM;joe-alewine;As a general comment, Sjir, I think you've illustrated – through this wasn't your intention – why it's so difficult to delete or update existing documentation. We don't tend to have a great idea how people are using the docs and which docs they find the most useful.

Rather then focusing on Architecture Explained (which used to be called ""Architecture Deep Dive""), it might be better to focus on things that aren't in the TOC and are clearly outdated.;;;","01/May/18 12:59 AM;SjirNijssen;Thanks Joe.

My proposal is to update the 1. System architecture part. That part is now inconsistent with the new ledger topic. My estimate is that the update of this part is not so much work. The sub part that needs most attention is 1.2.1.

Thereafter I believe the updated part 1 and part 2 could become the contents of a separate white paper on HLF. Does that require a new JIRA? ;;;","01/May/18 1:02 AM;SjirNijssen;Joe,

Would you be so nice and ""instantiate"" the sentence below:

Rather then focusing on Architecture Explained (which used to be called ""Architecture Deep Dive""), it might be better to focus on things that aren't in the TOC and are clearly outdated.

I will then take a look at those without delay.

;;;","01/May/18 1:15 AM;joe-alewine;Sjir – there are a number of proposals about what to do with Architecture Deep Dive. My own was to delete the entire thing and link over to the white paper (this one: [https://arxiv.org/pdf/1801.10228.pdf),] but that proposal hasn't been terribly popular. The other, and more likely, proposal is to delete whatever is outdated and use what's useful as the starting point to several docs, rather than trying to contain a deep look at architecture in one document (as might have been possible when Fabric was not as mature and when there was even more of a mad dash to just get things written down).

Like I said, I think that one can wait for now, as the developers who need to take a strong look at that doc are busy with other things. The more manageable first bite is, like I said, to scrub docs that are clearly not useful.;;;","01/May/18 1:22 AM;SjirNijssen;Joe, I regularly look at the chat channels. I would like to propose that we consider the topic(s) that is (are) causing the largest amount of frustration as the one(s) that need(s) priority.;;;","01/May/18 1:28 AM;joe-alewine;We don't really see any frustration on the chat channels over out of date docs – which is why this hasn't been a big priority.;;;","01/May/18 1:40 AM;SjirNijssen;Joe,

If we had expressed this conversation in SQL, it would be clear that your and my WHERE clause are different. I wanted to ask attention for the frustration, hence without a WHERE doc= ""outdated"".;;;","10/Jan/20 4:36 AM;joe-alewine;Main object of this effort — Arch Deep Dive — has been removed.;;;",,,,,,,,,,
Document CouchDB safe pagination of results,FAB-9791,29815,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pandrejko,pandrejko,30/Apr/18 11:59 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,Future,,,fabric-docs,,,,0,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz84f:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"2 docs refs to ""--peer-node-chaincodedev"", should be ""--peer-chaincodedev""?",FAB-9792,29816,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,01/May/18 12:01 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,04/May/18 11:01 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"If these are typos under docs/source/:

{{commands/peernode.md:peer node start --peer-node-chaincodedev}}
{{wrappers/peer_node_postscript.md:peer node start --peer-node-chaincodedev}}

I can fix them, just need confirmation that they're typos.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz84n:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create Channel with different MSP ID and Name,FAB-9793,29817,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,latitiah,latitiah,01/May/18 12:03 AM,30/Jun/19 8:25 PM,28/Oct/23 3:02 AM,30/Jun/19 8:25 PM,v1.1.0,,,,,,fabric-orderer,,,,0,configuration,,,,"*Fabric commit:* cc025bf8f223479abc15086d3496632aa6065700

When trying to create a channel using a setup where the MSP ID and MSP name were not the same, a depulicate deserialization error was received from the orderer ""MSP Org1ExampleCom is unknown"". (Also see attached test run log - example: line 960) 

The MSP Org1ExampleCom seems to have been accepted in earlier steps (line 948). When ID and name were set to be the same value (i.e. Org1ExampleCom), everything worked. It should be possible for the MSP ID and Name to be set to different values.
	Name: ""Org1ExampleCom""
	ID:     ""org1.example.com""

",,jyellick,kchristidis,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/18 12:02 AM;latitiah;configtx.yaml;https://jira.hyperledger.org/secure/attachment/14936/configtx.yaml","01/May/18 12:03 AM;latitiah;testrun.log;https://jira.hyperledger.org/secure/attachment/14935/testrun.log",,,,,,,,,,,,,,,,,,,,,,"1|hzz84v:",,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/18 11:32 PM;jyellick;There is an organization name, and an MSP ID.  All crypto material is managed by MSP ID.  I'm not sure what the goal here is?  The only place the org name is used is in the channel config.   All other policies etc. should utilize the MSP ID.;;;",,,,,,,,,,,,,,,,,,,,,
"Remove references to deprecated ""-m"" from BYFN docs page",FAB-9794,29818,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,01/May/18 1:15 AM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,04/May/18 10:39 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Given that the byfn.sh script has been stripped of its references to the deprecated ""-m"" mode flag (not the option, just the flag), remove those references from the BYFN docs page as well.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz853:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Split out launcher and lifecycle,FAB-9795,29819,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 1:18 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 12:45 AM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz85b:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 9:44 PM;sykesm;https://gerrit.hyperledger.org/r/c/21217/;;;",,,,,,,,,,,,,,,,,,,,,
Add list of steps to top of Tutorials,FAB-9796,29825,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pandrejko,pandrejko,01/May/18 3:27 AM,04/Feb/20 12:20 AM,28/Oct/23 3:02 AM,04/Feb/20 12:20 AM,,,,Future,,,fabric-docs,,,,0,Documentation,,,,"Sharon asked if we could add a list of steps in each tutorial at the top of the tutorial - sort of like I have done for the CouchDB tutorial-  https://gerrit.hyperledger.org/r/#/c/20469/

 

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtjr:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/20 7:40 AM;pandrejko;[~negupta] When you update the tutorials to use the test network could you do this? I think all of them have it now except BYFN and add an org tutorial. Obviously you would not do this for BYFN at this point.;;;","04/Feb/20 12:19 AM;pandrejko;This is being done now. We can add this to the Style Guide that [~joe-alewine] is putting together.;;;","04/Feb/20 12:20 AM;pandrejko;This is being done as a matter of practice now.;;;",,,,,,,,,,,,,,,,,,,
PTE execution summary report file,FAB-9797,29828,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/May/18 3:31 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 3:12 AM,,,,,,,fabric-quality,,,,0,,,,,"PTE generates a summary output file to contain information:

latencies: peer (proposal), orderer (transaction), and event

end-2-end transaction TPS",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz87b:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"02/May/18 3:06 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21261/;;;",,,,,,,,,,,,,,,,,,,,,
Tx Simulator doesn't handle errors gracefully,FAB-9798,29829,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,denyeart,denyeart,01/May/18 3:41 AM,07/Sep/18 1:35 AM,28/Oct/23 3:02 AM,07/Sep/18 1:34 AM,,,,Future,v1.1.1,,fabric-peer,,,,0,,,,,"I attempted to save a non-UTF8 key to couchdb.

func (s *lockBasedTxSimulator) SetState calls ValidateKeyValue(), which returns:
{code:java}
return fmt.Errorf(""Key should be a valid utf8 string: [%x]"", key){code}
However I get no good error message in peer or client.  Instead, the simulation times out after 30 seconds with this error:
{code:java}
2018-04-30 14:34:29.421 EDT [chaincode] func1 -> DEBU 5e4 [ae37838b]handling PUT_STATE from chaincode
2018-04-30 14:34:29.421 EDT [statecouchdb] ValidateKeyValue -> INFO 5e5 ====validating key:marble1??
2018-04-30 14:34:29.421 EDT [chaincode] func1 -> ERRO 5e6 [ae37838b]Failed to handle PUT_STATE. Sending ERROR
2018-04-30 14:34:29.421 EDT [chaincode] deRegisterTxid -> DEBU 5e7 [ae37838b]send ERROR(serial-false)
2018-04-30 14:34:59.418 EDT [chaincode] Execute -> DEBU 5e8 Exit
2018-04-30 14:34:59.418 EDT [chaincode] Execute -> DEBU 5e9 Exit
2018-04-30 14:34:59.418 EDT [chaincode] ExecuteChaincode -> ERRO 5ea timeout expired while executing transaction
github.com/hyperledger/fabric/core/chaincode.(*Handler).Execute
    /Users/denyeart/work/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1219
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute{code}",,denyeart,haibbo,manish-sethi,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza3z:",,,,,,Next Items- Ledger,,,,,,,,,,,,,,,denyeart,haibbo,manish-sethi,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/18 3:22 AM;manish-sethi;Ledger has a test for this - [https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/txmgr_test.go#L687.] Changing the component to fabric-peer;;;","11/Jun/18 11:37 PM;sykesm;It appears this has been resolved with the refactoring of core/chaincode.

https://github.com/hyperledger/fabric/blob/df69ad4d106da8b0df7bd583d4815615a9779ca7/core/chaincode/handler_test.go#L439-L448

Forcing a bogus error value from SetState when invoking the e2e transaction does not appear to hang and behaves as I believe it should.

Peer log contains the error returned from SetState:
{code}
[e][peer-0] 2018-06-11 10:30:44.946 EDT [chaincode] HandleTransaction -> ERRO 02a [a07f733a] Failed to handle PUT_STATE. error: !!MJS: this is an error. It should be very visible: chaincode: mycc, key: b, value: 210
[e][peer-0] github.com/hyperledger/fabric/core/chaincode.(*Handler).HandlePutState
[e][peer-0] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:772
[e][peer-0] github.com/hyperledger/fabric/core/chaincode.(*Handler).HandlePutState-fm
[e][peer-0] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:190
[e][peer-0] github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
[e][peer-0] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:242
[e][peer-0] runtime.goexit
[e][peer-0] 	/usr/local/Cellar/go/1.10.3/libexec/src/runtime/asm_amd64.s:2361
[e][peer-0] PUT_STATE failed: transaction ID: a07f733a1f1d3df6bab93206f782afe3df7959c1a3adfaa6baba5cd58b670e42
[e][peer-0] github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
[e][peer-0] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:246
[e][peer-0] runtime.goexit
[e][peer-0] 	/usr/local/Cellar/go/1.10.3/libexec/src/runtime/asm_amd64.s:2361
[e][peer-0] 2018-06-11 10:30:44.947 EDT [endorser] ProcessProposal -> ERRO 02b [testchannel][a07f733a] simulateProposal() resulted in chaincode name:""mycc""  response status 500 for txid: a07f733a1f1d3df6bab93206f782afe3df7959c1a3adfaa6baba5cd58b670e42
{code}

And chaincode query:
{code}
e][invoke] 2018-06-11 10:30:45.349 EDT [chaincodeCmd] chaincodeInvokeOrQuery -> DEBU 04b ESCC invoke result: response:<status:500 message:""PUT_STATE failed: transaction ID: a07f733a1f1d3df6bab93206f782afe3df7959c1a3adfaa6baba5cd58b670e42: !!MJS: this is an error. It should be very visible: chaincode: mycc, key: b, value: 210"" > payload:""\n \211q\362+\307\014\361\333=$\016IXj\242\237\365\003\234<\356l\201\n\342\212Q\217\225\272\004\323\022\223\002\nE\022\024\n\004lscc\022\014\n\n\n\004mycc\022\002\010\001\022-\n\004mycc\022%\n\007\n\001a\022\002\010\001\n\007\n\001b\022\002\010\001\032\007\n\001a\032\00290\032\010\n\001b\032\003210\032\301\001\010\364\003\022\273\001PUT_STATE failed: transaction ID: a07f733a1f1d3df6bab93206f782afe3df7959c1a3adfaa6baba5cd58b670e42: !!MJS: this is an error. It should be very visible: chaincode: mycc, key: b, value: 210\""\006\022\004mycc"" 
[e][invoke] Error: endorsement failure during invoke. chaincode result: status:500 message:""PUT_STATE failed: transaction ID: a07f733a1f1d3df6bab93206f782afe3df7959c1a3adfaa6baba5cd58b670e42: !!MJS: this is an error. It should be very visible: chaincode: mycc, key: b, value: 210"" 
{code};;;","19/Jun/18 11:58 PM;muralisr;[~denyeart] this has the same feel ""error not passed back to chaincode"" as https://jira.hyperledger.org/browse/FAB-7959 and should have been resolved (as verified by [~sykesm] above).;;;","07/Sep/18 1:34 AM;sykesm;Already addressed in current versions.;;;","07/Sep/18 1:35 AM;sykesm;resolution status is probably wrong because it's ""already fixed"" - not because it's a duplicate, per se;;;",,,,,,,,,,,,,,,,,
Fabric Peer - able to instantiate same chaincode version again and again,FAB-9799,29833,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid,,harrisob@us.ibm.com,harrisob@us.ibm.com,01/May/18 4:24 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-peer,,,,0,,,,,"Should get an error when sending a request to instantiate the same chaincode and version. As of commit 901579035d407cdec03420b2dc36f80656dea2b9 a repeated instantiate will succeed and re-execute the ""init"" method.",,harrisob@us.ibm.com,mastersingh24,YoungseokJoung,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz87j:",,,,,,,,,,,,,,,,,,,,,harrisob@us.ibm.com,mastersingh24,YoungseokJoung,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/May/18 6:09 PM;mastersingh24;[~harrisob@us.ibm.com] I can see that an the endorsement request will succeed, but are you also saying that the transaction will be successfully committed as well?  I was pretty sure that this was not the case ... unless something has changed.   I do agree that we should not endorse instantiate requests for the same channel / chaincode / version;;;","01/May/18 11:55 PM;harrisob@us.ibm.com;Thanks.. I see that the commit had not taken place (which I thought had) so that was the issue.;;;","02/May/18 12:01 AM;YoungseokJoung;I keep watching this issue too;;;",,,,,,,,,,,,,,,,,,,
"Fix typo ""-- cafile"" in build_network.rst",FAB-9800,29834,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,01/May/18 4:32 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,04/May/18 10:42 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"In docs/source/build_network.rts, there should be no space in the option ""-- cafile"".",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz87r:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
PTE supports peer name contains peer,FAB-9801,29835,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/May/18 4:51 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 2:06 AM,,,,,,,fabric-quality,,,,0,,,,,"PTE supports peer name if it contains 'peer' instead of peer1, such as org1-peer1.  This is needed for the lately changes of connection profile in starter.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10586,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz87z:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"01/May/18 11:34 PM;dongming;https://gerrit.hyperledger.org/r/#/c/21253/;;;",,,,,,,,,,,,,,,,,,,,,
Bootstrap ginkgo test framework for core/container,FAB-9802,29836,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:53 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 4:28 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz887:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Move PeerID/NetworkID to dockercontroller package,FAB-9803,29837,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:55 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz88f:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Register syscc by name, not path",FAB-9804,29838,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz88n:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove ChaincodeID from ccintf,FAB-9805,29839,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:56 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz88v:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove filter func from GetVMName,FAB-9806,29840,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:58 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz893:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove unused VM method requirements and implementations,FAB-9807,29841,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/May/18 5:58 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz89b:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
typos and other cleanup,FAB-9809,29844,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,01/May/18 8:31 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,02/May/18 7:26 PM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz89z:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Replace maps in Handler with switch/case,FAB-9810,29845,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 9:46 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:06 AM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8a7:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 10:05 PM;sykesm;https://gerrit.hyperledger.org/r/21243;;;",,,,,,,,,,,,,,,,,,,,,
Cleanup comments in handler,FAB-9811,29846,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 9:47 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:05 AM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8af:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 10:05 PM;sykesm;https://gerrit.hyperledger.org/r/21245;;;",,,,,,,,,,,,,,,,,,,,,
move wrappers out of docs/source tree,FAB-9812,29848,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChristopherFerris,ChristopherFerris,ChristopherFerris,01/May/18 10:15 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,v1.1.0,,,,,,fabric-docs,,,,0,,,,,wrappers/*.md show up in sphinx error mesages as missing from TOC. These are actually not intended ever to be included in docs directly as they are source for generated help text.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8an:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove methods in handler that wrap txContexts,FAB-9813,29849,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 10:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:05 AM,,,,v1.2.0,,,,,,,0,,,,,Directly delegate to txContexts and omit the wrapper.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8av:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 10:26 PM;sykesm;https://gerrit.hyperledger.org/r/21249;;;",,,,,,,,,,,,,,,,,,,,,
Use message type enum instead of string representation in handler conditionals,FAB-9814,29850,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 10:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:04 AM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8b3:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 10:38 PM;sykesm; https://gerrit.hyperledger.org/r/21251;;;",,,,,,,,,,,,,,,,,,,,,
Make async behavior of message handling functions responsibility of caller,FAB-9815,29851,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/May/18 11:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 2:08 AM,,,,v1.2.0,,,,,,,0,,,,,Most message handling functions in the handler immediate launch a go routine. This async behavior makes unit testing a little more difficult than is necessary. Extract the go routine launch to the high-level process or handle message functions to simplify testing.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8bb:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/18 11:47 PM;sykesm;https://gerrit.hyperledger.org/r/21255;;;",,,,,,,,,,,,,,,,,,,,,
JSON unmarshal for a special case,FAB-9816,29852,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,manish-sethi,manish-sethi,01/May/18 11:57 PM,26/Jul/18 1:19 PM,28/Oct/23 3:02 AM,26/Jul/18 1:19 PM,,,,v1.1.2,v1.2.0,,fabric-ledger,,,,0,,,,,"In version 1.1 -  [https://github.com/hyperledger/fabric/blob/release-1.1/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go#L973]

the `json.Unmarshal(value, &jsonMap)` does not return an error and sets the &jsonMap to `nil` if the value is ""null"". This causes a panic further down the stack. (See this [https://chat.hyperledger.org/channel/fabric-questions?msg=mJMdNWwdHnA5syqH3).]

 

The same may need to be fixed in master branch.",,chris.elder,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu2v:",,,,,,Next Items- Ledger,,,,,,,,,,,,,,,chris.elder,denyeart,manish-sethi,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/18 7:05 PM;chris.elder;v1.2

[https://gerrit.hyperledger.org/r/#/c/22931/]

v1.1.2

[https://gerrit.hyperledger.org/r/#/c/23271/];;;","18/Jun/18 8:16 PM;denyeart;Fix merged in master (v1.2).

[~chris.elder], please provide a fix in release-1.1 as well.;;;",,,,,,,,,,,,,,,,,,,,
Allow retrieving state from transaction simulator after obtaining the simulation results,FAB-9817,29853,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,02/May/18 12:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 11:19 AM,,,,,,,fabric-ledger,,,,0,,,,,"In the current implementation, in the lock based transaction simulator, we internally call 'done' and release the lock when the caller retrieves the simulation results. However, in order to allow gossip to retrieve the relevant collection configurations, we need to remove this behavior.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8bj:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"fabric-test OTE, PTE, and Behave tests WARN of deprecated APIs",FAB-9818,29854,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,scottz,scottz,02/May/18 12:16 AM,11/Sep/18 7:44 AM,28/Oct/23 3:02 AM,11/Sep/18 7:44 AM,v1.2.0,,,Future,,,fabric-quality,,,,0,help-wanted,,,,"[https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1163/testReport/orderer_ote/OTE_Orderer_Traffic_Engine/test_FAB7936_100tx_3ch_3ord_3kb/]

This OTE smoke test, despite passing, shows many warning/errors in the stderr which need to be cleaned up. Mostly they are adjustments required after some Fabric changes were made to the APIs of CLI commands.

[scottz, 9/10/18: The OTE tests warnings were actually fixed by FAB-10554. The CR for this bug addresses similar warnings and problems with the fabric-test/feature (Behave) tests.]

 
{quote}#x1B[33m2018-05-01 00:07:10.814 UTC [common/tools/configtxgen] main -> WARN 001#x1B[0m Omitting the channel ID for configtxgen is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
 2018-05-01 00:07:10.814 UTC [common/tools/configtxgen] main -> INFO 002#x1B[0m Loading configuration
 #x1B[33m2018-05-01 00:07:10.820 UTC [common/tools/configtxgen/encoder] NewChannelGroup -> WARN 003#x1B[0m Default policy emission is deprecated, please include policy specificiations for the channel group in configtx.yaml
 #x1B[33m2018-05-01 00:07:10.820 UTC [common/tools/configtxgen/encoder] NewOrdererGroup -> WARN 004#x1B[0m Default policy emission is deprecated, please include policy specificiations for the orderer group in configtx.yaml
 #x1B[33m2018-05-01 00:07:10.820 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 005#x1B[0m Default policy emission is deprecated, please include policy specificiations for the orderer org group OrdererOrg in configtx.yaml
 2018-05-01 00:07:10.820 UTC [msp] getMspConfig -> INFO 006#x1B[0m Loading NodeOUs
 #x1B[33m2018-05-01 00:07:10.820 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 007#x1B[0m Default policy emission is deprecated, please include policy specificiations for the orderer org group PeerOrg1 in configtx.yaml
 2018-05-01 00:07:10.820 UTC [common/tools/configtxgen] doOutputBlock -> INFO 008#x1B[0m Generating genesis block
 2018-05-01 00:07:10.821 UTC [common/tools/configtxgen] doOutputBlock -> INFO 009#x1B[0m Writing genesis block
 #x1B[33m2018-05-01 00:07:10.826 UTC [common/tools/configtxgen] main -> WARN 001#x1B[0m Omitting the channel ID for configtxgen is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
 2018-05-01 00:07:10.826 UTC [common/tools/configtxgen] main -> INFO 002#x1B[0m Loading configuration
 2018-05-01 00:07:10.831 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003#x1B[0m Generating new channel configtx
 #x1B[33m2018-05-01 00:07:10.831 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml
 2018-05-01 00:07:10.831 UTC [msp] getMspConfig -> INFO 005#x1B[0m Loading NodeOUs
 #x1B[33m2018-05-01 00:07:10.831 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application org group PeerOrg1 in configtx.yaml
 2018-05-01 00:07:10.852 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007#x1B[0m Writing new channel tx
 #x1B[33m2018-05-01 00:07:10.857 UTC [common/tools/configtxgen] main -> WARN 001#x1B[0m Omitting the channel ID for configtxgen is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
 2018-05-01 00:07:10.857 UTC [common/tools/configtxgen] main -> INFO 002#x1B[0m Loading configuration
 2018-05-01 00:07:10.862 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003#x1B[0m Generating new channel configtx
 #x1B[33m2018-05-01 00:07:10.862 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml
 2018-05-01 00:07:10.863 UTC [msp] getMspConfig -> INFO 005#x1B[0m Loading NodeOUs
 #x1B[33m2018-05-01 00:07:10.863 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application org group PeerOrg1 in configtx.yaml
 2018-05-01 00:07:10.884 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007#x1B[0m Writing new channel tx
 #x1B[33m2018-05-01 00:07:10.889 UTC [common/tools/configtxgen] main -> WARN 001#x1B[0m Omitting the channel ID for configtxgen is deprecated. Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
 2018-05-01 00:07:10.889 UTC [common/tools/configtxgen] main -> INFO 002#x1B[0m Loading configuration
 2018-05-01 00:07:10.894 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003#x1B[0m Generating new channel configtx
 #x1B[33m2018-05-01 00:07:10.894 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml
 2018-05-01 00:07:10.894 UTC [msp] getMspConfig -> INFO 005#x1B[0m Loading NodeOUs
 #x1B[33m2018-05-01 00:07:10.895 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006#x1B[0m Default policy emission is deprecated, please include policy specificiations for the application org group PeerOrg1 in configtx.yaml
{quote}",,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8br:",,,,Unset,,,,,,Unset,,,,,,,,,,,nnao,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"24/Aug/18 12:45 PM;nnao;https://gerrit.hyperledger.org/r/c/25850/;;;","11/Sep/18 7:42 AM;scottz;Documenting for reference: This bug was written against the OTE tests; we discovered those tests were already fixed by FAB-10554. However some cleanup was necessary for the same deprecated warnings in the network configuration in the Behave BDD tests in the fabric-test/feature directory, so this CR does that. I add an explanatory sentence to the description accordingly.

Note: the two LTE test failures in the verify job were caused by a known bug: FAB-11743. They are causing the Unstable builds. We can ignore them.
https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1793/#showFailuresLink
ledger_lte_smoke.smoke_ledger.test_FAB_9708_CouchDB_VaryNumTxs
ledger_lte_smoke.smoke_ledger.test_FAB_9708_LevelDB_VaryNumTxs;;;",,,,,,,,,,,,,,,,,,,,
Build Network documentation has typos in policy specification,FAB-9820,29856,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sudheesh001,sudheesh001,sudheesh001,02/May/18 12:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 8:04 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"The documentation for build network > install and instantiate chaincode [http://hyperledger-fabric.readthedocs.io/en/release-1.1/build_network.html#install-instantiate-chaincode] 

The text section speaks about the endorsement policy being Org0.MSP, Org1.MSP instead of Org1.MSP, Org2.MSP

The golang command however provided is correct and doesn't need a change. The text needs to be changed appropriately.",,sudheesh001,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8c7:",,,,,,,,,,,,,,,,,,,,,sudheesh001,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
merge FAQ documents,FAB-9821,29859,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/May/18 1:00 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,02/May/18 7:25 PM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,"there are multiple FAQ documents, we only need one.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8cn:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Unit-tests fail intermittently in unit-test daily & verify jobs.,FAB-9823,29866,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,02/May/18 4:19 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,12/May/18 1:37 AM,v1.2.0,,,v1.2.0,,,fabric-gossip,,,,0,ci-failure,,,,"On what ci

 

fabric#

fabric-ca#

fabric-sdk-node#

The unit tests fail in multipleCI jobs, like fabric-verify-unit-test, unit-test-coverage-daily-master, unit-test-daily-release-1.0-s390x,

*unit-test-coverage-daily-master*
{code:java}
00:26:05 unit-tests_1  | --- FAIL: TestLeaderYield (117.02s)
00:26:05 unit-tests_1  | 	integration_test.go:151: p0 started its delivery service
00:26:05 unit-tests_1  | 	integration_test.go:156: p0 stopped its delivery service
00:26:05 unit-tests_1  | 	integration_test.go:166: p1 hasn't taken over leadership within 1m0s: -1
00:26:05 unit-tests_1  | 2018-05-01 00:25:16.294 UTC [gossip/service] updateAnchors -> ERRO 072 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.
{code}
*unit-test-daily-release-1.0-s390x*
{code:java}
Error Trace:	integration_test.go:141
01:16:45 unit-tests_1  | 		
	Error:		Not equal: 1 (expected)
01:16:45 unit-tests_1  | 			        != -1 (actual)
01:16:45 unit-tests_1  | 		
01:16:45 unit-tests_1  | 2018-05-01 01:16:43.480 UTC [gossip/service] configUpdated -> ERRO 144 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.
01:16:45 unit-tests_1  | FAIL
01:16:45 unit-tests_1  | coverage: 88.2% of statements
01:16:45 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/service	166.226s
01:16:45 unit-tests_1  | error: exit status 1
01:16:45 unit-tests_1  | panic: EOF
01:16:45 unit-tests_1  | 
01:16:45 unit-tests_1  | goroutine 1 [running]:
01:16:45 unit-tests_1  | panic(0x11aee0, 0xc42000a0f0)
01:16:45 unit-tests_1  | 	/opt/go/src/runtime/panic.go:500 +0x408
01:16:45 unit-tests_1  | main.main()
01:16:45 unit-tests_1  | 	/opt/gotools/obj/gopath/src/github.com/AlekSi/gocov-xml/gocov-xml.go:73 +0x146
01:16:45 unittest_unit-tests_1 exited with code 2
{code}
*fabric-daily-s390x*
{code:java}
03:50:42 unit-tests_1  | 2018-05-01 03:50:32.990 UTC [gossip/state] queueNewMessage -> WARN 189 Received enqueue for channel AAA while expecting channel testchainid ignoring enqueue
03:50:42 unit-tests_1  | 2018/05/01 03:50:32 proto: textWriter unindented too far
03:50:42 unit-tests_1  | 2018-05-01 03:50:34.095 UTC [gossip/comm#6212] sendToEndpoint -> WARN 18a Failed obtaining connection for localhost:6215, PKIid:[108 111 99 97 108 104 111 115 116 58 54 50 49 53] reason: ConnStore is closing
03:50:42 unit-tests_1  | 2018-05-01 03:50:34.095 UTC [gossip/comm#6212] sendToEndpoint -> WARN 18b Failed obtaining connection for localhost:6216, PKIid:[108 111 99 97 108 104 111 115 116 58 54 50 49 54] reason: ConnStore is closing
03:50:42 unit-tests_1  | 2018-05-01 03:50:35.988 UTC [gossip/comm#6263] sendToEndpoint -> WARN 18d Failed obtaining connection for localhost:6270, PKIid:[108 111 99 97 108 104 111 115 116 58 54 50 55 48] reason: ConnStore is closing
03:50:42 unit-tests_1  | 2018-05-01 03:50:35.988 UTC [gossip/comm#6263] sendToEndpoint -> WARN 18c Failed obtaining connection for localhost:6265, PKIid:[108 111 99 97 108 104 111 115 116 58 54 50 54 53] reason: ConnStore is closing
03:50:42 unit-tests_1  | FAIL
03:50:42 unit-tests_1  | coverage: 80.7% of statements
03:50:42 unit-tests_1  | FAIL	github.com/hyperledger/fabric/gossip/state	47.771s
03:50:42 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/state/mocks	0.031s	coverage: 58.8% of statements
03:50:48 unit-tests_1  | ok  	github.com/hyperledger/fabric/gossip/util	4.038s	coverage: 78.2% of statements
03:50:48 unittest_unit-tests_1 exited with code 1
03:50:48 Stopping couchdb ... 
{code}",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9889,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8e7:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/18 12:54 AM;sambhavdutt;The unit-tests are failing in CI tests for *fabric-unit-test-coverage-daily-master-x86_64* build *#42*

Fabric Commit: 1d4148b

Error observed,

{code:java}
00:32:20 unit-tests_1  | 2018-05-03 00:31:52.849 UTC [gossip/state] directMessage -> ERRO 005 Got nil message via end-to-end channel, should not happen!

00:32:20 unit-tests_1  | 2018-05-03 00:31:52.849 UTC [gossip/state] handleStateRequest -> ERRO 006 Requesting blocks batchSize size (18446744073709551614) greater than configured allowed (10) batching for anti-entropy. Ignoring request...

00:32:20 unit-tests_1  | 2018-05-03 00:31:52.850 UTC [gossip/state] NewGossipStateProvider -> ERRO 009 Could not read ledger info to obtain

00:32:20 unit-tests_1  | 2018-05-03 00:31:52.851 UTC [gossip/privdata] StoreBlock -> ERRO 00d Validation failed: foobar
{code}

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/42/
;;;","12/May/18 1:36 AM;sambhavdutt;The unit-tests are passing now ,

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/152

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/52

;;;",,,,,,,,,,,,,,,,,,,,
Concurrent map write logging flake,FAB-9824,29867,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,02/May/18 4:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,02/May/18 11:25 PM,,,,v1.2.0,,,fabric-common,,,,0,,,,,"There is a test which is intended to catch the synchronization hacks being removed from the imported logging package.  Since these hacks were removed and logging will soon be replaced, leaving this test in only produces flakes, it should be deleted.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8ef:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extract boiler plate to wrapper function for handler,FAB-9825,29869,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/May/18 4:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:39 AM,,,,,,,,,,,0,,,,,"All of the message handlers are finding/creating transaction contexts, creating responses, and then sending the responses. Refactor to DRY up the context management and allow the handlers to directly return the response messages instead of sending them (and all of the error processing).",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8en:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 4:29 AM;sykesm;https://gerrit.hyperledger.org/r/21271;;;",,,,,,,,,,,,,,,,,,,,,
Message handlers return errors instead of error responses,FAB-9826,29870,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/May/18 5:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:40 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8ev:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 5:26 AM;sykesm;https://gerrit.hyperledger.org/r/21273;;;",,,,,,,,,,,,,,,,,,,,,
Improve logging for state and history database rebuild,FAB-9827,29872,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,denyeart,denyeart,denyeart,02/May/18 6:53 AM,24/Jun/19 5:32 PM,28/Oct/23 3:02 AM,24/Jun/19 5:32 PM,,,,Future,,,fabric-ledger,,,,0,,,,,"Improve logging for state and history database rebuild, so that when entire database is being rebuilt administrators can understand progress.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwzx3:",,,,Unset,,Next Items- Ledger,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/May/18 6:57 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21277/;;;","24/Jun/19 5:32 PM;denyeart;Done in FAB-12103 instead.;;;",,,,,,,,,,,,,,,,,,,,
Incorrect description in build_network.rst,FAB-9829,29874,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,huikang,huikang,huikang,02/May/18 12:53 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,fabric-docs,,,,0,Documentation,,,,"In the section ""What's happening behind the scenes?""; there are these two steps

...

- A chaincode - **chaincode_example02** - is installed on ``peer0.org1.example.com`` and
 ``peer0.org2.example.com``

...
- A query is sent to ``peer1.org2.example.com`` for the value of ""a"". This starts a
 third chaincode container by the name of...


Since the chain code is never installed on  peer1.org2.example.com. The query should return an error message containing "" cannot retrieve package for chaincode mycc/1.0""",,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8fj:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Interface to retrieve key-level validation parameter,FAB-9833,29878,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,mne,mne,02/May/18 7:36 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 7:51 PM,,,,v1.2.0,,,,,,,0,,,,,,,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8gf:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,mne,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 7:39 PM;mne;https://gerrit.hyperledger.org/r/#/c/21289/;;;",,,,,,,,,,,,,,,,,,,,,
Validation interface for key-level validation,FAB-9834,29879,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,mne,mne,02/May/18 8:35 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,06/May/18 2:44 AM,,,,v1.2.0,,,,,,,0,,,,,,,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8gn:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,mne,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 8:44 PM;mne;https://gerrit.hyperledger.org/r/#/c/21291/;;;",,,,,,,,,,,,,,,,,,,,,
"Docs file whatis.md could use some tidying, grammar, punctuation, etc.",FAB-9835,29880,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,02/May/18 9:16 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,04/May/18 11:01 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Time to tidy up the whatis.md file, including fixing grammar, sentence structure, and so on.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8gv:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Glossary Update: Policy, ACL",FAB-9836,29881,27586,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,02/May/18 9:30 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,26/May/18 4:00 AM,,,,,,,fabric-docs,,,,0,Documentation,,,,"Update the definition of Policy

Add defintion of ACL

Update anchor peer to include:

From Sjir:

I think it would help if we made clear that the anchor peer is used as entry point from another peer on the same channel to get the message delivered to each of the peers in the org of which the anchor peer is an element.
the leading peer is used as an entry point by the ordering service to get a message from the ordering service delivered by the leading peer of an org to all the peers on that channel (of that org).

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtw7:",,,,,,,,,,,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 5:07 AM;pandrejko;[https://gerrit.hyperledger.org/r/21875]

[~SjirNijssen]

I added ACL and updated Policy.

I updated Anchor Peer, but did not add the line to Leading peer because it seemed redundant with the existing definition. I made some minor edits to Leading Peer.;;;","17/May/18 5:16 AM;pandrejko;[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/305/html/glossary.html]

 ;;;","17/May/18 11:15 PM;pandrejko;Addressed Dave and Sjir's comment in this CR:

 

https://gerrit.hyperledger.org/r/21903;;;",,,,,,,,,,,,,,,,,,,
Credential,FAB-9837,29882,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,02/May/18 9:44 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,09/Nov/18 6:24 PM,,,,v1.4.0,,,fabric-crypto,,,,0,idemix,review-needed,Security,,"Implement the signer/verifier supporting IdemixCredentialRequestSignerOpts.
",,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:t",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:24 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/21111/;;;",,,,,,,,,,,,,,,,,,,,,
Signer/Verifier,FAB-9838,29883,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,02/May/18 9:51 PM,12/Jun/20 12:30 AM,28/Oct/23 3:02 AM,16/Nov/18 9:03 PM,,,,v1.3.0,,,fabric-crypto,,,,0,bccsp,idemix,Security,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12651,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:u",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:25 PM;denyeart;Is this really In Review?  I don't see anything in Gerrit for FAB-9838.;;;","30/Oct/18 5:31 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/21103/;;;",,,,,,,,,,,,,,,,,,,,
Fix minor review comments,FAB-9839,29884,18800,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,02/May/18 10:01 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 10:51 AM,,,,,,,fabric-ledger,,,,0,,,,,"[https://gerrit.hyperledger.org/r/#/c/14347/10/core/ledger/pvtdatapolicy/btlpolicy.go@16]
[https://gerrit.hyperledger.org/r/#/c/14349/9/core/ledger/ledgerconfig/ledger_config.go@83]
https://gerrit.hyperledger.org/r/#/c/14353/12/core/ledger/kvledger/txmgmt/privacyenabledstate/db.go@189
https://gerrit.hyperledger.org/r/#/c/14353/12/core/ledger/kvledger/txmgmt/privacyenabledstate/db_test.go@402",,JonathanLevi,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8hj:",,,,,,Sprint 7 - NextGen Endorsement,,,,,,,,,,,,,,,JonathanLevi,manish-sethi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 2:35 AM;JonathanLevi;Thank you Manish;;;",,,,,,,,,,,,,,,,,,,,,
CouchDB safe pagination - statecouchdb,FAB-9840,29886,33216,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,chris.elder,chris.elder,02/May/18 10:40 PM,09/Sep/18 3:55 AM,28/Oct/23 3:02 AM,09/Sep/18 3:55 AM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,"This is a sub-task to create safe pagination for CouchDB at the statecouchdb and couchdb levels.

 ",,chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8hz:",,,,,,,,,,,,,,,,,,,,,chris.elder,denyeart,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jul/18 4:30 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21295/;;;",,,,,,,,,,,,,,,,,,,,,
fix line-lengths in whatis.md,FAB-9841,29887,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,02/May/18 10:43 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,03/May/18 5:27 AM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,"every para is a single line, impossible to edit in many tools.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8i7:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 10:45 PM;ChristopherFerris;https://gerrit.hyperledger.org/r/21299;;;",,,,,,,,,,,,,,,,,,,,,
Cleanup getChaincodeInstance and add explicit unit test,FAB-9842,29888,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/May/18 10:49 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:40 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8if:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 10:53 PM;sykesm;https://gerrit.hyperledger.org/r/21301;;;",,,,,,,,,,,,,,,,,,,,,
Improve e2e_cli functionality for multiple endorsements,FAB-9843,29889,28524,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,02/May/18 10:57 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,04/May/18 6:13 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,Each call to e2e_cli's invoke is now hardcoded to perform the operation against peer0.org1 and peer0.org2. This task will make the invoke operation flexible again by allowing any number of peers (and their associated orgs) to request endorsement from.  ,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8in:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 11:56 PM;wlahti;https://gerrit.hyperledger.org/r/c/21375/;;;",,,,,,,,,,,,,,,,,,,,,
Validator for key-level validation,FAB-9844,29890,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,02/May/18 11:34 PM,05/Sep/18 1:07 AM,28/Oct/23 3:02 AM,05/Sep/18 1:07 AM,,,,Future,,,,,,,0,,,,,,,MichaelWang,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8iv:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,MichaelWang,mne,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 1:48 AM;mne;https://gerrit.hyperledger.org/r/#/c/21309/;;;",,,,,,,,,,,,,,,,,,,,,
Introduce Launcher interface,FAB-9845,29891,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/May/18 11:51 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:41 AM,,,,,,,,,,,0,,,,,Rename existing Launcher to RuntimeLauncher as it delegates to Runtime...,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8j3:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/May/18 11:56 PM;sykesm;https://gerrit.hyperledger.org/r/21305;;;",,,,,,,,,,,,,,,,,,,,,
Merge ExecuteChaincode and ExecuteSpec on chaincode support,FAB-9847,29893,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/May/18 12:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:41 AM,,,,,,,,,,,0,,,,,The cc provider abstraction still maintains ExecuteChaincode (for now).,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8jj:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 12:46 AM;sykesm;https://gerrit.hyperledger.org/r/c/21311/;;;",,,,,,,,,,,,,,,,,,,,,
Remove handlerSupport interface,FAB-9848,29894,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/May/18 12:57 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:42 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8jr:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 12:58 AM;sykesm;https://gerrit.hyperledger.org/r/21315;;;",,,,,,,,,,,,,,,,,,,,,
Extra cache values for channel config,FAB-9850,29896,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,divyank,divyank,divyank,03/May/18 1:43 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 5:22 AM,,,,,,,,,,,0,,,,,"Removing identity from the cache key will reduce the number of cached channel config references.
This is safe as the channel config retrieved by different identities will be the same.",,divyank,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8k7:",,,,,,,,,,,,,,,,,,,,,divyank,,,,,,,,,,,,,,,,,,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
allow private data capability in v1.2 by default,FAB-9851,29897,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,03/May/18 3:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,07/May/18 11:07 AM,,,,,,,fabric-peer,,,,0,,,,,"In v1.1, the private data feature within a channel is an experimental feature. Hence, one needs to set privateChannelData capability in channel config to enable it. In v1.2, private data feature is going to be enabled by default, i.e., non-experimental. 

As a result, privateChannelData() capability API in v1.2 should return (privateChannelData || v1.2) to support rolling upgrades. In v1.3, we can remove the privateChannelData capability flag.  ",,denyeart,jyellick,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8kf:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,jyellick,Senthil1,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 3:08 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21391/;;;",,,,,,,,,,,,,,,,,,,,,
Remove need for explicit handler constructor,FAB-9852,29898,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/May/18 3:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:50 AM,,,,,,,,,,,0,,,,,Remove newChaincodeSupportHandler in favor of constructing object via literal.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8kn:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/May/18 3:05 AM;sykesm;https://gerrit.hyperledger.org/r/21325;;;",,,,,,,,,,,,,,,,,,,,,
Enforce event chaincode_id matches chaincode action chaincode id,FAB-9853,29899,29088,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,03/May/18 3:04 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:13 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8kv:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric not compiling: undefined: pvtdatastorage ,FAB-9854,29900,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,denyeart,denyeart,03/May/18 3:05 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,03/May/18 3:22 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Fabric not compiling:

core/transientstore/store.go:407:24: undefined: pvtdatastorage

core/transientstore/store.go:413:24: undefined: pvtdatastorage

 

Caused by parallel merge of two conflicting CRs:

[https://gerrit.hyperledger.org/r/#/c/14511/11/core/transientstore/store.go]

[https://gerrit.hyperledger.org/r/#/c/21175/4/core/transientstore/store.go]

 ",,denyeart,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwtdz:",,,,,,,,,,,,,,,,,,,,,denyeart,nnao,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 3:22 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21329/;;;","03/May/18 3:28 AM;nnao;I wonder previous patches test was a success.
https://gerrit.hyperledger.org/r/c/14511/;;;","03/May/18 12:29 PM;denyeart;[~nnao] Each CR's tests were successful on top of the then current master stack.

Then CR 21175 got merged, and shortly after CR 14511 got merged.  CR 14511 could not compile on top of CR 21175.  However prior to merge it never got rebased and therefore never got re-compiled and re-tested on top of CR 21175. If we were to re-test every CR on top of every latest merge, it would utilize an unreasonable amount of resources. Therefore we accept the small amount of risk that there may be race conditions like this occasionally.;;;","03/May/18 1:48 PM;nnao;[~denyeart] I got it. Thank you.;;;",,,,,,,,,,,,,,,,,,
empty txsim is passed to endorser,FAB-9855,29901,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,03/May/18 3:11 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,"In `core/endorser/endorser.go`, after simulating the transaction and collecting the read/write set, we call the endorser system chaincode (ESCC) to endorse the proposal response. However, to `endorseProposal()`, we pass the released `transaction simulator` object. Hence, an error would occur if we try to use this txsim. 

Till now, default ESCC is not accessing the ledger. With a pluggable ESCC (static – [http://hyperledger-fabric.readthedocs.io/en/release-1.1/systemchaincode.html] ) and dynamic (the one that is being added to v1.2), the ESCC may access the ledger. 

Hence, it would be better to create a `transaction simulator` and pass it via `endorseProposal()`.",,pandrejko,Senthil1,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8l3:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,Senthil1,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 6:17 AM;sykesm;Is this a bug or an improvement? It's worded as an improvement (""it would be better to..."").;;;","18/May/18 6:36 AM;yacovm;So, the endorser's plugin state fetcher (the abstraction for the query executor) always just grabs a new query executor:

[https://github.com/hyperledger/fabric/blob/master/core/committer/txvalidator/plugin_validator.go#L216-L234]

Therefore, the query executor in the endorser.go isn't going into the endorsement invocation itself.

 

I think that's OK though, no? because - the endorsement gets all the data it needs with regard to the simulation itself, because it obviously has to sign the thing, and also that way we don't hold the lock during the ECDSA signature that might take a millisecond?

 ;;;","18/May/18 6:38 AM;yacovm;Also - thanks for pointing out the documentation, [~Senthil1].

[~joe-alewine] , [~pandrejko] - we need to get ESCC and VSCC out of systemchaincode.html for v1.2 ;)

 

Shall I open a JIRA?;;;","18/May/18 6:45 AM;pandrejko;Opened https://jira.hyperledger.org/browse/FAB-10198;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,
Create interfaces for external dependencies,FAB-9856,29902,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/May/18 3:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:43 AM,,,,,,,,,,,0,,,,,Including interfaces for latent dependencies for CheckInstantiatePolicy and explicit configuration for system chaincode version.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8lb:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 3:47 AM;sykesm;https://gerrit.hyperledger.org/r/21333;;;",,,,,,,,,,,,,,,,,,,,,
Retrieve key-level validation parametres,FAB-9857,29906,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,03/May/18 6:00 AM,05/Sep/18 1:07 AM,28/Oct/23 3:02 AM,05/Sep/18 1:07 AM,,,,Future,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8lz:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/May/18 6:02 AM;ales;https://gerrit.hyperledger.org/r/21345;;;",,,,,,,,,,,,,,,,,,,,,
System Test Framework: Remove references to bddtests directory,FAB-9858,29909,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,03/May/18 10:56 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,20/Jul/18 1:20 AM,,,,,,,,,,,0,,,,,Remove references to bddtests directory.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8m7:",,,,Unset,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"20/Jul/18 1:20 AM;latitiah;Completed in multiple CRs.;;;",,,,,,,,,,,,,,,,,,,,,
Integrate key-level validation into default VSCC,FAB-9860,29914,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,03/May/18 7:26 PM,05/Sep/18 1:07 AM,28/Oct/23 3:02 AM,05/Sep/18 1:07 AM,,,,Future,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8530,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8mn:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
User Feedback: Add orderer to Doc command reference,FAB-9862,29917,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,03/May/18 9:35 PM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,,,,,,,fabric-docs,,,,0,Documentation,,,,"From the Hyperledger email chat (rday)

*[https://lists.hyperledger.org/g/fabric/message/3566?reply=1]*

just noticed that ""orderer"" is not mentioned here:

*[http://hyperledger-fabric.readthedocs.io/en/release-1.1/command_ref.html]*
**",,luomin,mastersingh24,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtx3:",,,,Unset,,,,,,Unset,,,,,,,,,,,luomin,mastersingh24,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
Add TTL to chaincode container,FAB-9863,29923,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jiangyaoguo,jiangyaoguo,03/May/18 10:55 PM,30/Jul/19 11:59 AM,28/Oct/23 3:02 AM,30/Jul/19 11:59 AM,,,,,,,fabric-peer,,,,0,,,,,"Previous discuss could be found at https://jira.hyperledger.org/browse/FAB-3326  and https://gerrit.hyperledger.org/r/#/c/9711/

https://jira.hyperledger.org/browse/FAB-5781 brings in lifecycle management of chaincode

Now, once a chaincode container was launched, it will be running forever. There're scenarioes that container is no longer needed and should be stopped. 
S1. After chaincode was upgraded to new version, older version container is useless if no other chaincodes leverage this contaienr. It's better to release resources of old version container. 
S2. Sometimes users may want to run chaincode for once when they're developing chaincodes in a experiment environment.
S3. FAB-5781 adds ""Uninstall"" and ""Deinstantiate"" operations to chaincode. For ""Uninstall"" chaincode, container should be stopped on peer. For ""Deinstantiated"" chaincode on channel, like ""upgrade"" operation, if no other chaincodes(other channles) on the same peer leverage this chaincode container, container should be stopped.

Adding TTL to container will check usage status of chaincode containers periodically and stop containers that are not invoked within specified period of time. ",,jiangyaoguo,luomin,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8nj:",,,,,,,,,,,,,,,,,,,,,jiangyaoguo,luomin,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
"Fix typo involving bold markup of ""anchor peer""",FAB-9865,29926,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ChristopherFerris,rpjday,rpjday,03/May/18 11:44 PM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,14/Jun/18 1:20 AM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"Bold markup doesn't work well inside a string, such as ""**anchor peer**s"".",,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8nr:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/18 6:15 AM;ChristopherFerris; https://gerrit.hyperledger.org/r/21643;;;",,,,,,,,,,,,,,,,,,,,,
Have a central location for all things related to the test,FAB-9866,29928,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,latitiah,latitiah,latitiah,04/May/18 12:16 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,Should add a components struct and world struct which configures the setup for the test runs.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,1.0,,,,,Unset,,,,,,,,,,,,,"1|hzz8nz:",,,,Unset,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use CollectionUpgrade capability instead of V1_2Validation capability,FAB-9870,29932,18804,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,04/May/18 3:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 12:58 AM,,,,,,,fabric-peer,,,,0,,,,,"Currently, lscc uses `V1_2Validation` capability to check whether collection upgrades can be allowed. However, the `V1_2Validation` is defined for vscc validation and hence, it would be better to introduce and use a capability named `CollectionUpgrade`",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8of:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Function tests for filtered Events ACL,FAB-9873,29935,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,04/May/18 4:28 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,29/May/18 11:22 PM,,,,v1.2.0,,,fabric-peer,,,,0,e2e-test,,,,"To test that a system chaincode ACL is functioning properly in the e2e environment, we should extend the e2e tests as follows.

# Modify the default configtxgen configuration to override the default ACL for the system chaincode target {{event/FilteredBlock}}
# Run the generic world bootstrapping to create a channel using this custom configuration
# Execute the {{peer chaincode command}} with an event driven wait as an authorized user, confirm success
# Execute the {{peer chaincode command}} with an event driven wait as an unauthorized user, confirm failure",,jyellick,nagap,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8727,,,,,,,,,,"1|hzz2dr:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,jyellick,nagap,wlahti,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/May/18 7:02 AM;wlahti;https://gerrit.hyperledger.org/r/c/22383/;;;",,,,,,,,,,,,,,,,,,,,,
TEST PLAN: Finalize Fabric access control (ACL) mechanism,FAB-9875,29937,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,Clayton Sims,Clayton Sims,04/May/18 5:15 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/Jun/18 12:58 AM,,,,v1.2.0,,,fabric-peer,,,,0,test-plan,,,," 

Feature Test Plan for Finalize Fabric access control (ACL) mechanism.
 Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) : 

Defaults and sample are together in {{sampleconfig/configtx.yaml}}.  This file is automatically included in the images, as well as in the config directory of the binary distribution.

Docs are available https://hyperledger-fabric.readthedocs.io/en/latest/access_control.html 

+*Unit Test (UT) leader*+: Jason Yellick

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
 Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]

 

+*Function Test (FVT) leader*+: Jason Yellick
 In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:

A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be done using the ginko framework):
 # There are existing integration test style unit-tests which were merged in v1.1
 # These tests need to be audited to identify any coverage gaps FAB-10308

B.  E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these):
 # Test that LSCC get instantiated chaincodes respects ACL, positive and negative using 'peer chaincodes list' FAB-9655
 # Test that the Filtered events respects ACL, positive and negative, using 'peer chaincode invoke' with wait for commit. -FAB-9873-
 # Test that the peer deliver service respects ACL, positive and negative, using 'peer chaincode fetch` (requires improvement to CLI) -FAB-10307-

+*System Verification Test (SVT) leader*+: Latitia Haskins
 V1.2 System Test Plan (Epic) --FAB-9898--: https://jira.hyperledger.org/browse/FAB-9898
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z

 

 ",,kchristidis,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8727,,,,,,,,,,"1|hzz2db:",,,,,,Next Items- Lifecycle & Config,,,,,,,,,,,,,,,kchristidis,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/18 4:30 AM;latitiah;Reviewed the feature tests being completed for the ACL. Looks good to me.;;;",,,,,,,,,,,,,,,,,,,,,
fabric-ca replace use of uname -m with go env GOARCH,FAB-9876,29938,29572,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,04/May/18 6:52 AM,26/Aug/19 7:00 AM,28/Oct/23 3:02 AM,26/Aug/19 7:00 AM,v1.1.0,,,v1.3.0,,,fabric-build,,,,0,,,,,"using uname for determining the architecture is painful. With the migration to multi-arch docker manifests, it will make publishing much simpler if we align use of go env to determine architecture, especially as the MARCH-1.x.x tags will no longer be necessary when referencing a specific image.",,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9638,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8pb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode container not starting,FAB-9877,29940,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,muralisr,latitiah,latitiah,04/May/18 8:08 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 3:40 AM,v1.2.0,,,v1.2.0,,,fabric-peer,,,,1,,,,,"*fabric commit: 3f782c9740708df3b1ff74efe9c3f4a654721c34*

I am executing peers and a solo orderer locally.

I am seeing an error where the chaincode container is not starting for one of my peers - or to be more exact - the container does not always consistently come up for my peers. 
{code}
FABRIC_CFG_PATH=""org1.example.com_0"" CORE_PEER_MSPCONFIGPATH=""crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp"" peer chaincode instantiate -n mycc -v 1.0 -o 127.0.0.1:7050 -C testchannel -c {""Args"":[""init"",""a"",""100"",""b"",""200""]} -P OR ('Org1MSP.member','Org2MSP.member')
{code}

When performing an instantiation (using CLI commands for the peer that I've designated as peer1), I notice that I see a process for what I've designated as peer2. 
Instantiation command:

{code}
root     18950  0.4  0.3  70440 15940 ?        Ssl  22:09   0:00 chaincode -peer.address=10.0.2.15:8052
{code}

I then see the following error in the log for peer1:
{code}
[e][peer] 2018-05-03 22:09:36.475 UTC [golang-platform] GenerateDockerBuild -> INFO 032 building chaincode with ldflagsOpt: '-ldflags ""-linkmode external -extldflags '-static'""'
[e][peer] 2018-05-03 22:09:36.475 UTC [golang-platform] GenerateDockerBuild -> INFO 033 building chaincode with tags:  experimental
[e][peer] 2018-05-03 22:09:46.659 UTC [chaincode-platform] func1 -> ERRO 034 Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] 2018-05-03 22:09:46.659 UTC [dockercontroller] deployImage -> ERRO 035 Error building images: Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] 2018-05-03 22:09:46.659 UTC [dockercontroller] deployImage -> ERRO 036 Image Output:
[e][peer] ********************
[e][peer] 
[e][peer] ********************
[e][peer] 2018-05-03 22:09:46.684 UTC [chaincode] Launch -> ERRO 037 startAndWiatForReady failed: Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] error starting container
[e][peer] error starting container
[e][peer] 2018-05-03 22:09:46.684 UTC [chaincode] ExecuteChaincode -> ERRO 038 Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] error starting container
[e][peer] error starting container
[e][peer] error invoking chaincode
[e][peer] 2018-05-03 22:09:46.684 UTC [endorser] simulateProposal -> ERRO 039 [testchannel][267195f8] failed to invoke chaincode name:""mycc"" , error: Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] error starting container
[e][peer] error starting container
[e][peer] error invoking chaincode
{code}

This issue is not consistent, but what is consistent is if I see both chaincode processes from the single instantiation, everything works as expected.
That is, everything is fine if I see the following: 
{code}
root     29888  0.3  0.3 151312 14616 ?        Ssl  20:24   0:00 chaincode -peer.address=10.0.2.15:8052
root     30026  0.8  0.3  69384 14800 ?        Ssl  20:25   0:00 chaincode -peer.address=10.0.2.15:7052
{code}

Problems/Questions:
1. Why is there chaincode starting for the second peer when I've pass creds for the first peer?
2. The first peer chaincode not consistently starting, but sometimes does and sometimes doesn't. (Mostly today, it doesn't.)
",,AdnanChoudhury,denyeart,latitiah,muralisr,sambhavdutt,scottz,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8pj:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,latitiah,muralisr,sambhavdutt,scottz,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/18 11:08 PM;denyeart;[~muralisr] [~greg.haskins] Appreciate any help!

I think two things need to be looked at:

1) root cause of the immediate problem

2) how to get better error messages out of the chaincode docker image build... this isn't too helpful :)
{code:java}
Error returned from build: 137 """"{code};;;","04/May/18 11:38 PM;muralisr;[~latitiah] can you give me the setup and test instructions please ?;;;","05/May/18 12:12 AM;latitiah;Sure, I have some ginkgo tests that I'm working on at: https://github.com/lhaskins/fabric/tree/FAB-9232/integration

Execute by going to ""integration/e2e"" and running ""ginkgo -r"".

What is there now, contains my workaround so others can see the layout, so it will pass, but only because it queries the 2nd peer and not the 1st.

To see the failure, change line at https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L222 to:
{code}
FIt(""executes a basic solo network with 2 orgs"", func() {
{code}

And change line at https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L299 to:
{code}
It(""tests ACL - Happy Path"", func() {
{code}

(Change the focus to the breaking test.)
;;;","05/May/18 12:49 AM;muralisr;[~latitiah]  [~denyeart] found this with some explanation on the ""137"" return code [https://github.com/moby/moby/issues/21083.]  Though old (2016) it might be relevant. It also has some suggestions for fixing the problem.

If the above doesn't work (or doesn't apply to your scenario) I will try recreate/debug.;;;","05/May/18 10:11 AM;latitiah;[~muralisr] This error is occurring in an Ubuntu env as well. The docker container does die, but not always. When it does occur, what should the recovery process look like? After seeing this error, the chaincode container still does not start when I attempt to query on the peer.;;;","05/May/18 10:25 PM;muralisr;[~latitiah] From what I gather, the error occurs during image creation which would explain why the chaincode container does not start on invoke or query. Did you try increasing the memory at all as suggested in the above link ?;;;","06/May/18 9:22 AM;muralisr;[~latitiah] [~denyeart]
 Took me a bit of digging to understand the BDD test.

*1. Why is there chaincode starting for the second peer when I've pass creds for the first peer?*
 The instantiation happens on a different peer during channel setup phase than the one you are invoking/querying (see peer ""p"" in [https://github.com/lhaskins/fabric/blob/FAB-9232/integration/world/config.go#L303]... its the last peer in the config, assume its ""org2"" peer). So that peer starts up a chaincode container. When you attempt to invoke/query on an ""org1"" peer, that attempts to start up the  chaincode on the other peer. For some reason that second image creation fails for you with ""137"". The 2 chaincodes is expected in this scenario and both need to be successfully started for the scenario to succeed.  This also explains why the happy path worked - you are querying the same peer you are instantiating and had only one chaincode container to contend with.

*2. The first peer chaincode not consistently starting, but sometimes does and sometimes doesn't. (Mostly today, it doesn't.)*
 It always worked for me on my Ubuntu (put it in a loop for 20+ times..going to run more runs). So not able to recreate the issue on my machine.

 

Bottomline, this appears to be a Docker specific (or machine specifc) configuration issue that's causing the second image to fail sometimes. This is consistent with the suggestions for ""137"" error in google.;;;","06/May/18 9:52 AM;muralisr;One thing... this could be as simple as too small timeout for creatinng the second image... try increasing timeout from 10 secs to something larger here https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L381

 ;;;","08/May/18 4:42 AM;AdnanChoudhury;This is breaking many verify jobs in `fabric-test` in the CI, and almost all manual tests I do via Behave, since late Friday.

Do we know which specific CR started this? 

[~latitiah];;;","08/May/18 7:31 AM;latitiah;The tests that are in my personal repo were written to allow for a ""Pass"" so that we could move forward with what was needed, but the ""normal"" execution still fails occasionally. Also note, this problem is being seen in other test cases including the bash e2e smoke tests in CI. (https://jenkins.hyperledger.org/job/fabric-smoke-tests-x86_64/932/console) This is what I received today
{code}
[e][peer] 2018-05-07 22:21:56.642 UTC [chaincode-platform] func1 -> ERRO 031 Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found
[e][peer] 2018-05-07 22:21:56.643 UTC [dockercontroller] deployImage -> ERRO 032 Error building images: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found
[e][peer] 2018-05-07 22:21:56.643 UTC [dockercontroller] deployImage -> ERRO 033 Image Output:
[e][peer] ********************
[e][peer] 
[e][peer] ********************
[e][peer] 2018-05-07 22:21:56.645 UTC [chaincode] Launch -> ERRO 034 startAndWiatForReady failed: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found
[e][peer] error starting container
[e][peer] error starting container
[e][peer] 2018-05-07 22:21:56.645 UTC [endorser] simulateProposal -> ERRO 035 [testchannel][2b00272b] failed to invoke chaincode name:""lscc"" , error: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found
[e][peer] error starting container
[e][peer] error starting container
[e][] Error: Could not assemble transaction, err Proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found
{code}

Feel free to look and use the code in the gerrit CR: https://gerrit.hyperledger.org/r/#/c/21453/;;;","08/May/18 7:32 AM;latitiah;[~AdnanChoudhury] no, I'm not sure exactly which CR started this. I've only done some prelim triaging so that I could open this issue and have someone else take a look :);;;","08/May/18 10:06 AM;muralisr;[~latitiah]  not sure if you saw my comments above ... especially 
{code:java}
One thing... this could be as simple as too small timeout for creatinng the second image... try increasing timeout from 10 secs to something larger here https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L381{code};;;","08/May/18 10:11 AM;scottz;[~rameshthoomu] Did anything change recently with the creation and pushing of the fabric-ccenv images tagged as latest, per previous comment?

[~latitiah] What is the timeout being used in the tests, for the creation of the containers upon instantiation (due to query/invoke versus instantiation)?

[~muralisr] Were you able to identify any updates that might have caused the issue to surface? And, can you explain why we are seeing errors about ccenv, when we are trying to create a second chaincode container?;;;","08/May/18 10:18 AM;muralisr;[~scottz] I couldn't recreate in my env. As explained in my comments the ""two container"" issue is an expected one. In addition I also suggested (for the third time :) now) and have not heard back if this has been tried
{code:java}
One thing... this could be as simple as too small timeout for creatinng the second image... try increasing timeout from 10 secs to something larger here https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L381{code};;;","08/May/18 10:21 AM;muralisr;[~scottz] I did see 

{code:java}
 Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found

{code}

once when I was trying various things. In the end - in my case - it turned out to be a confused docker env.  *hyperledger/fabric-ccenv:amd64-latest* was clearly there in docker but for some reason the docker env did not recognize it.  I reset docker and restarted fresh and the problem disappeared/;;;","08/May/18 11:43 AM;muralisr;[~scottz] [~latitiah] [~AdnanChoudhury] [~denyeart] Suggest we try this

# Reset the docker env by removing all data ( in Mac the ""Remove All Data""  under Preferences->Reset)
#  increase timeout from 10 secs to something larger here https://github.com/lhaskins/fabric/blob/FAB-9232/integration/e2e/e2e_test.go#L381

Run test.;;;","09/May/18 3:27 AM;latitiah;I've increased the timeout in execute and cleared the docker memory - it didn't fix the instantiation problem.

This is the area where the bug lies:

The code is looking for the docker image ccenv for amd64_latest
{code:java}
[e][peer] 2018-05-08 14:19:31.204 EDT [chaincode-platform] func1 -> ERRO 030 Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found

[e][peer] 2018-05-08 14:19:31.204 EDT [dockercontroller] deployImage -> ERRO 031 Error building images: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:amd64-latest: API error (404): manifest for hyperledger/fabric-ccenv:amd64-latest not found{code}
What is on the system is tagged for x86_64
{code:java}
hyperledger/fabric-ccenv       latest                            f1dfb5452a0c        3 hours ago         1.45GB

hyperledger/fabric-ccenv       x86_64-1.2.0-snapshot-c06a6ccfa   f1dfb5452a0c        3 hours ago         1.45GB

hyperledger/fabric-ccenv       x86_64-latest                     f1dfb5452a0c        3 hours ago         1.45GB{code}
Note: I tagged the docker image to the requested image to see what difference this would make. The docker error goes away, but the chaincode is still not being instantiated.;;;","09/May/18 4:06 AM;muralisr;[~latitiah] I see this in my env

{code:java}
hyperledger/fabric-ccenv                                                                               amd64-1.2.0-snapshot-e5c4f982   188ce64432e7        2 days ago          1.42GB
hyperledger/fabric-ccenv                                                                               amd64-latest                    188ce64432e7        2 days ago          1.42GB
hyperledger/fabric-ccenv                                                                               latest                          188ce64432e7        2 days ago          1.42GB
registry.hub.docker.com/hyperledger/fabric-ccenv                                                       x86_64-1.1.0                    c8b4909d8d46        7 weeks ago         1.39GB
{code}

Sounds like some kind of build env issue on your machine ?;;;","09/May/18 4:45 AM;wlahti;I was pairing with Latitia today and was seeing the same images created on my local machine (and thus the same error related to the docker build). I just ran ""make clean docker"" on my machine as well as our pairing machine and it's now past that error but the chaincode container is still having problems. I'll investigate further to see what's happening now and report back. ;;;","09/May/18 5:22 AM;AdnanChoudhury;Update: The CI issue was found to be a separate one, not this one, though it has the same error messages. CI_failure tag was removed.;;;","10/May/18 3:40 AM;latitiah;So it looks like this issue had multiple culprits. The missing image as stated earlier as well as in the core.yaml file, there is a new section (endorsers) in the peer handlers for escc that needs to be added.
{code:java}
peer:
  ...
  handlers:
    ...
    endorsers:
      escc:
        name: DefaultEndorsement
{code}
I am closing this issue as resolved.;;;","10/May/18 11:38 AM;muralisr;So what happened with the original error ? That is still unexplained (my guess was the small timeout)

{code:java}
[e][peer] 2018-05-03 22:09:46.659 UTC [dockercontroller] deployImage -> ERRO 035 Error building images: Failed to generate platform-specific docker build: Error returned from build: 137 """"
[e][peer] 2018-05-03 22:09:46.659 UTC [dockercontroller] deployImage -> ERRO 036 Image Output:
[e][peer] ********************
[e][peer] 
[e][peer] ********************
[e][peer] 2018-05-03 22:09:46.684 UTC [chaincode] Launch -> ERRO 037 startAndWiatForReady failed: Failed to generate platform-specific docker build: Error returned from build: 137 """"
{code};;;"
Chaincode instantiation is failing ,FAB-9878,29941,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,rameshthoomu,rameshthoomu,04/May/18 10:52 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,Future,,,fabric-samples,,,,0,ci-failure,,,,"After the patch (https://github.com/hyperledger/fabric/commit/a149bebbdee253a3c6cbed2de08e4cf10631cdad) is merged in fabric, Instantiate is failing with the below error
{code:java}
00:01:16.894 Instantiating chaincode on peer0.org2...
00:01:16.894 + peer chaincode instantiate -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -l golang -v 1.0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -P 'AND ('\''Org1MSP.peer'\'','\''Org2MSP.peer'\'')'
00:01:17.314 + res=1
00:01:17.314 + set +x
00:01:17.315 2018-05-04 01:00:51.328 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
00:01:17.315 2018-05-04 01:00:51.329 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
00:01:17.315 Error: Could not assemble transaction, err Proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-ccenv:x86_64-1.2.0-snapshot-b191364: API error (404): manifest for hyperledger/fabric-ccenv:x86_64-1.2.0-snapshot-b191364 not found
00:01:17.316 !!!!!!!!!!!!!!! Chaincode instantiation on peer0.org2 on channel 'mychannel' failed !!!!!!!!!!!!!!!!
00:01:17.316 ========= ERROR !!! FAILED to execute End-2-End Scenario ==========={code}",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8pr:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/May/18 10:07 PM;rameshthoomu;Ignore this bug.. This is not a valid bug as the patch set is not on right parent commit

If you observe this issue, please rebase your patchset to the last fabric commit.;;;",,,,,,,,,,,,,,,,,,,,,
Refactor couchdb in the integration test runner suite,FAB-9879,29942,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/18 11:22 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 9:31 PM,,,,,,,,,,,0,,,,,"Refactor couchdb runner to allow other runners to use some of the same attributes.
",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8pz:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/18 10:27 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/21405/;;;",,,,,,,,,,,,,,,,,,,,,
unexpected EOF while looking for matching `)',FAB-9880,29943,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,04/May/18 11:52 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,08/May/18 10:28 PM,,,,v1.2.0,,,fabric-build,,,,0,ci-failure,,,,"Observed
unexpected EOF while looking for matching `)'
in generate examples/e2e_cli/generateArtifacts.sh

Fabric# a149beb Master branch",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9895,FAB-9894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8q7:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 11:55 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21403/;;;",,,,,,,,,,,,,,,,,,,,,
Add gitignore files,FAB-9881,29944,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/May/18 12:16 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 10:55 PM,,,,v1.2.0,,,,,,,0,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10144,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8qf:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/18 3:50 AM;latitiah;https://gerrit.hyperledger.org/r/21505;;;",,,,,,,,,,,,,,,,,,,,,
Remove map from rwset proto for deterministic serialization,FAB-9882,29945,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,04/May/18 1:26 PM,26/Aug/18 1:13 AM,28/Oct/23 3:02 AM,05/May/18 11:37 PM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,Replace metadata map in the rwset proto message by an array of metadata elements,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8qn:",,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
PTE supports any number fields in couchDB index,FAB-9885,29951,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,04/May/18 10:28 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/May/18 11:21 PM,,,,,,,fabric-quality,,,,0,,,,,"Currently, PTE supports two fields in couchDB index: owner and docType.  Extend PTE to allow user to specify any number of fields.

 ",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz8rj:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"05/May/18 4:18 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21441/;;;",,,,,,,,,,,,,,,,,,,,,
Backfill handler tests - part I,FAB-9886,29952,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,04/May/18 10:29 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:44 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8rr:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/May/18 10:45 PM;sykesm;https://gerrit.hyperledger.org/r/21417;;;",,,,,,,,,,,,,,,,,,,,,
Unit tests fail in fabric-daily-s390x CI job due to gossip service error.,FAB-9889,29955,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,04/May/18 10:52 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,12/May/18 12:26 AM,,,,v1.2.0,,,fabric-gossip,,,,0,ci-failure,,,,"The fabric-daily-s390x CI job failed for the day, observed the following errors in this order,

{code:java}
03:53:24 unit-tests_1  | 2018-05-04 03:50:40.805 UTC [gossip/service] updateAnchors -> ERRO 020 Tried joining channel foo but our org( SampleOrg ), isn't among the orgs of the channel: [ORG1] , aborting.

03:53:24 unit-tests_1  | 2018-05-04 03:51:19.810 UTC [ConnProducer] NewConnection -> ERRO 034 Failed connecting to localhost:7050 , error: context deadline exceeded

03:53:25 unit-tests_1  | 2018-05-04 03:52:37.828 UTC [gossip/service] updateAnchors -> ERRO 078 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.
{code}

*fabric Commit: d34b43f*

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/145/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9823,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8sf:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/May/18 12:26 AM;sambhavdutt;The unit-test for the daily 390x, has been passing and there are no timeout or gossip errors observed now.

*Build Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/152/;;;",,,,,,,,,,,,,,,,,,,,,
build_network.rst -- doc:`configtxgen` => doc:`commands/configtxgen`,FAB-9890,29956,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,04/May/18 11:07 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,06/May/18 10:35 PM,,,,v1.2.0,,,fabric-docs,,,,0,,,,,"The :doc: reference to configtxgen is broken, since it should refer to the commands subdirectory.",,huikang,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8sn:",,,,Unset,,,,,,Unset,,,,,,,,,,,huikang,rpjday,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/18 12:54 PM;huikang;The link to configtxgen is also broken at order/README.md. It contains a broken link https://github.com/hyperledger/fabric/blob/release-1.1/docs/source/configtxgen.rst.;;;","05/May/18 7:48 PM;rpjday;True enough, but I submit that errors in README.md files should be fixed separately since their content doesn't contribute to the *generated* documentation.;;;",,,,,,,,,,,,,,,,,,,,
Modify ledger interface to accommodate delete metadata functions,FAB-9891,29957,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,04/May/18 11:12 PM,26/Aug/18 1:14 AM,28/Oct/23 3:02 AM,05/May/18 11:38 PM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,Add support for delete of metadata in the ledger interface,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8sv:",,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Unit tests fail in fabric-unit-test-daily-master-x86_64 CI job due to a panic error,FAB-9892,29958,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,04/May/18 11:41 PM,19/Mar/19 8:12 PM,28/Oct/23 3:02 AM,10/May/18 11:46 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The fabric-unit-test-daily-master-x86_64 CI job failed with these errors, more details on the error can be found in the build log.

{code:java}
00:15:24 unit-tests_1  | 2018-05-04 00:15:15.557 UTC [statecouchdb] NewVersionedDBProvider -> DEBU 1d0 constructing CouchDB VersionedDBProvider
00:15:24 unit-tests_1  | panic: runtime error: invalid memory address or nil pointer dereference
00:15:24 unit-tests_1  | [signal SIGSEGV: segmentation violation code=0x1 addr=0x8 pc=0xd55fd2]

00:15:24 unit-tests_1  | FAIL	github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr	3.975s
00:15:24 unit-tests_1  | ?   	github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator	[no test files]
{code}

*fabric Commit: d34b43f*

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/42/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8t3:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 11:46 PM;sambhavdutt;There are no panic errors anymore in fabric-unit-test-daily-master.;;;",,,,,,,,,,,,,,,,,,,,,
Add a .gitreview file to fabric-samples for convenience,FAB-9893,29959,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,04/May/18 11:55 PM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,06/May/18 10:34 PM,,,,v1.2.0,,,fabric-samples,,,,0,,,,,"For convenience, add an appropriate .gitreview file to fabric-samples to more quickly allow access to Gerrit.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8tb:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
fabric-ca-end-2-end-verify CI jobs fail due to error in e2e-cli tests.,FAB-9894,29960,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,04/May/18 11:59 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,08/May/18 10:46 PM,,,,v1.2.0,,,fabric-build,,,,0,ci-failure,,,,"fabric-ca-verify-end-2-end CI jobs fail as there are errors obseved in e2e-cli tests.


{code:java}
13:54:58 generateArtifacts.sh: line 19: unexpected EOF while looking for matching `)'
13:54:58 generateArtifacts.sh: line 103: syntax error: unexpected end of file
{code}

*fabric Commit: 0419173*
*fabric-ca Commit: 15c6792*

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-ca-verify-end-2-end-x86_64/261/
",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9880,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8tj:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/18 10:46 PM;sambhavdutt;This issue for  CLI tests has been fixed in https://gerrit.hyperledger.org/r/#/c/21403/;;;",,,,,,,,,,,,,,,,,,,,,
end-2-end CI tests fail in fabric-end-2-end-daily-master-x86_64 job as cli-tests fail.,FAB-9895,29961,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,05/May/18 12:13 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,08/May/18 10:46 PM,,,,v1.2.0,,,fabric-build,,,,0,ci-failure,,,,"
{code:java}
02:47:36 Removing network e2e_default
02:47:36 Network e2e_default not found.

02:47:36 generateArtifacts.sh: line 19: unexpected EOF while looking for matching `)'
02:47:36 generateArtifacts.sh: line 103: syntax error: unexpected end of file
{code}

*fabric Commit: d34b43f*
*fabric-ca Commit: 4214e5c

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/57/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9880,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8tr:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/18 10:46 PM;sambhavdutt;This issue for  CLI tests has been fixed in https://gerrit.hyperledger.org/r/#/c/21403/;;;",,,,,,,,,,,,,,,,,,,,,
System Test - New Tests,FAB-9898,29966,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,05/May/18 3:54 AM,26/Feb/20 10:49 PM,28/Oct/23 3:02 AM,16/May/18 7:07 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"This epic contains links to new tasks required for system testing v1.2, one task per JIRA testcase, each with fixVersion=v1.2.

Other ""platform/tool development epics"" contain workitems to provide functionalities needed for executing testcases in this epic. For example, refer to FAB-2247 PTE development, where the required tasks have fixVersion=v1.2.

Note: The system testcases that were executed in earlier releases and which we will run again in this release are described in other epics, one per system test category.

For reference, the V1.2 Dashboard is [https://jira.hyperledger.org/secure/Dashboard.jspa?selectPageId=10701]. It shows a table of all the system testcases and workitems required in this release.

The V1.2 Release Plan features are described here:   [https://docs.google.com/document/d/1prtMkLOkZZx7RYi_meb-3yY6lgFhISLQtx8AcSMDhdo/edit]",,AdnanChoudhury,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10080,FAB-10081,FAB-10082,FAB-10083,FAB-10084,FAB-10085,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,System Test New Tests,Done,,,,Unset,,,,"1|hzz8uv:",,,,Unset,Unset,,,,,,,,,,,,,,,,AdnanChoudhury,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/18 7:07 AM;scottz;We are not going to use this epic. Instead, testcases should be put into the proper home. Refer to other epics in the ""relates to"" section.;;;",,,,,,,,,,,,,,,,,,,,,
Add test config structure,FAB-9901,29971,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/May/18 5:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 10:54 PM,,,,v1.2.0,,,,,,,0,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8vr:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/18 10:28 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/21451/;;;",,,,,,,,,,,,,,,,,,,,,
Create proto message to contain envelope and current configuration number,FAB-9903,29973,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,kchristidis,kchristidis,05/May/18 6:39 AM,26/Jul/18 12:09 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,v1.1.0,,,v1.3.0,,,,,,,0,,,,,"A message that is submitted for ordering is:

# Processed by the orderer's {{Processor}}, then
# Routed to the orderer's {{Order/Configure}} methods

Right after step 1 we're left with an envelope (type {{common.Envelope}}) and a config sequence number (type {{uint64}}). These two pieces of data need to be ordered as a pair.

Define a proto message under {{protos/orderer/raft}} that carries these two fields.",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9904,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8vz:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement Order and Configure methods,FAB-9904,29974,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,kchristidis,kchristidis,05/May/18 6:39 AM,26/Jul/18 12:09 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,v1.1.0,,,v1.3.0,,,,,,,0,,,,,"# Marshal the proto message defined in FAB-9903
# Pass the resulting byte slice to the local Raft instance via Raft's {{Propose(ctx, data)}} method",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9903,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8w7:",,,,,,,,,,,,,,,,,,,,,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ginkgo version to take advantage of When and editor integration,FAB-9905,29975,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,05/May/18 6:57 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:44 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8wf:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/May/18 6:58 AM;sykesm;https://gerrit.hyperledger.org/r/21449;;;",,,,,,,,,,,,,,,,,,,,,
Add e2e test suite,FAB-9906,29976,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/May/18 10:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,25/May/18 8:07 AM,,,,,,,,,,,0,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8wn:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/18 3:51 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/21453/;;;",,,,,,,,,,,,,,,,,,,,,
Add runner zookeeper,FAB-9907,29977,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,05/May/18 10:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 9:54 PM,,,,v1.2.0,,,,,,,0,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8wv:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove channel scope from VSCC interfaces,FAB-9908,29978,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,ales,ales,ales,05/May/18 5:21 PM,28/Aug/18 9:49 PM,28/Oct/23 3:02 AM,28/Aug/18 9:49 PM,,,,Future,,,,,,,0,,,,,In 1.2 there will be one VSCC instance per channel and so the channel is no longer required as an argument for validation as it'll be implicit,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8x3:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove membersrvc-image from Makefile,FAB-9909,29979,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,mastersingh24,ChristopherFerris,ChristopherFerris,06/May/18 3:32 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/May/18 9:29 PM,v1.1.0,,,v1.2.0,,,fabric-build,,,,0,hygiene,,,,there's a membersrvc-image target left over because CI still depends upon it,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8xb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,mastersingh24,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/18 7:33 PM;mastersingh24;https://gerrit.hyperledger.org/r/21749;;;",,,,,,,,,,,,,,,,,,,,,
Attach pluggable validation to the peer,FAB-9910,29980,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,06/May/18 4:09 AM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,23/May/18 4:47 AM,,,,DUPLICATE,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8729,,,,,,,,,,"1|hzz8xj:",,,,Unset,,,,,,Unset,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
makefile cleanup,FAB-9911,29981,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,ChristopherFerris,ChristopherFerris,06/May/18 6:55 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,v1.1.0,,,Future,,,fabric-build,,,,0,stale-item,,,,Some cleanup including handling of chaintool download.,,ChristopherFerris,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8xr:",,,,Unset,,,,,,Unset,,,,,,,,,,,ChristopherFerris,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jun/18 7:26 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/21463/] abandoned. [~ChristopherFerris] got another CR?;;;","19/Jun/18 7:22 PM;ChristopherFerris;I'll defer to 1.3... I cannot recall the specifics, but for some odd reason, I could not get a clean build at the time and ran out of patience.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,
CouchDB index testing: Large-volume and long run tests,FAB-9912,29983,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,06/May/18 11:27 PM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,14/Jul/18 2:08 PM,,,,,,,fabric-quality,,,,0,,,,,Test for CouchDB indexing with large amount of transactions in network. Will use PTE to drive.,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8xz:",,,,Unset,,,,,,Unset,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Still some ""byfn.sh -m <mode>"", should be ""byfn.sh <mode>",FAB-9913,29984,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,07/May/18 1:00 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,10/May/18 7:13 AM,,,,,,,fabric-docs,,,,0,,,,,"Given that the ""-m <mode>"" option for byfn.sh is deprecated (not the entire mode, just the ""-m"" part"", get rid of any remnants of that in the documentation.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10922,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz8y7:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
fabric-svt-test CI job fails to pull the Base version number due to script error.,FAB-9914,29985,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,07/May/18 1:49 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,07/May/18 10:29 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,A script error to fetch the fabric Baseversion is failing the daily-tests for CI job. This script has been modified to get the fabric Baseversion.,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8yf:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/May/18 3:07 AM;sambhavdutt;Submitted patch on Jira, waiting to Merge.
https://gerrit.hyperledger.org/r/#/c/21471/;;;","07/May/18 8:30 AM;rameshthoomu;Few more changes amended to the patchset. It's ready to go.;;;",,,,,,,,,,,,,,,,,,,,
Add validation while handling PrivateDataMessage,FAB-9915,29987,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,07/May/18 6:53 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/May/18 2:43 PM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"Currently while gossip state component handles incoming message with private data, it extracts information from the payload w/o checking whenever payload is actually not nil:

{code}
	collectionName := pvtDataMsg.Payload.CollectionName
	txID := pvtDataMsg.Payload.TxId
	pvtRwSet := pvtDataMsg.Payload.PrivateRwset
{code}

which might obviously cause a crash for malformed private data message.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8yv:",,,,,,,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
TEST PLAN: Side DB Private data,FAB-9916,29988,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,denyeart,denyeart,07/May/18 10:43 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,stale-item,test-plan,,,"Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) : 

WHERE IS THE CONFIGURATION INFORMATION - description, defaults, recommendations or sample?

 

+*Unit Test (UT) leader*+: [~Senthil1] / Manish

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
 Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]

The following ledger sub-packages have <= 90% coverage. Some packages are directly related to SideDB whereas others are indirectly related. We need to see whether we can increase the test coverage to > 90% and if impossible, we need to state the reason.
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator/valinternal 0%
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator/valimpl 23% – FAB-10070  FAB-10077
 # github.com/hyperledger/fabric/core/ledger/ledgerconfig 56%          --              --              --      -- -FAB-10104--------
 # github.com/hyperledger/fabric/core/ledger/pvtdatapolicy 61% - ------FAB-10090------
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate 68%
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr 70%
 # github.com/hyperledger/fabric/core/ledger/ledgerstorage 72% - ------FAB-10093------
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt 78% - ----FAB-10092----
 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/rwsetutil 86%
 # github.com/hyperledger/fabric/gossip/privdata 84.7% - FAB-10155

+*Function Test (FVT) leader*+: [~Senthil1] / Manish
 In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:

A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be done using the ginko framework):
 # FAB-10094 - For testing drop and rebuild of dbs/indexes
 #  FAB-10095 - For testing sidedb (pvt data related) functions at the ledger level

B.  E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these): We would do the following 4 tests using e2e cli scripts for the time being. 
 # FAB-9992 – to test collection membership upgrades in v1.2
 # FAB-9993 – to test SideDB behavior with a mix of peer executables, i.e., a mix of v1.1 and v1.2 peer executables (such scenario would happen during a rolling upgrade)
 # FAB-9994 – to test SideDB behavior before and after rolling upgrade from v1.1 to v1.2
 # FAB-9995 – to test ledger integrity after adding a new v1.2 peer in a recently upgraded fabric network (i.e., from v1.1 network to v1.2 network)
 # FAB-10156 - Dissemination of the private data to for organization added to collection config
 # FAB-10157 - Test network partition with respect of private data distribution and availability
 # FAB-10262 - Check that while endorsing private data against peer with different ledger height pick most recent collection config
 # FAB-10482 - Test: private data is not disseminated to organization removed from collection config
 # FAB-10484 - Test: Add integration test for side db, to check peers respects BTL parameter
 # FAB-10486 Test: Dissemination of the private data to organization removed and then added back to collection config

C.  Other functional testing required:

Function tests to verify e2e function from user experience
 # --FAB-10162-- - Test: Manually exercise private data chaincode in dev env (one peer using native binary)
 # --FAB-10231-- - Test: Manually exercise private data chaincode using BYFN network (2 orgs of 2 peers each, using docker containers)

+*System Verification Test (SVT) leader*+: [~rlalgowdar]
 V1.2 System Test Plan (Epic) FAB-
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 #  FAB-10137 SideDB - LevelDB Performance Test: 1 Million Query
 #  FAB-10136  SideDB - LevelDB Performance Test: Concurrent operation of 1) 1 Million Query 2) 1 million Invoke
 #  FAB-10135  SideDB - CouchDB Performance Test: 1 Million Query of 2-Field Rich Query
 #  FAB-10134  SideDB - CouchDB Performance Test: 1 Million Query of 4-Field Rich Query
 #  FAB-10131  SIdeDB - CouchDB Performance Test: Concurrent operation of: 1)1 Million Invoke And 2) 1 million Query of 2-Field Rich Query
 #  FAB-10130  SideDB - CouchDB Performance Test: Concurrent operation of: 1)1 Million Invoke And 2) 1 million Query of 4-Field Rich Query
 #  FAB-10129  SideDB - CouchDB Performance Test: Concurrent operation of: 1)1 Million Invoke , 2) 1 million Query of 2-Field Rich Query, 3) Index rebuild
 #  FAB-10128 SideDB-CouchDB Performance Test: Concurrent operation of: 1)1 Million Invoke , 2) 1 million Query of 4-Field Rich Query, 3) Index rebuild
 #  FAB-10146 SideDB-LevelDB Long Run (24 Hrs) Baseline Traffic
 #  FAB-10145 SideDB-CouchDB Long Run (24 Hrs) Baseline Traffic

Dave Enyeart system test feedback:

[~rlalgowdar] The system tests highlighted came from the couchdb index tests.  While it is important to test couchdb queries and indexes for private data, that will largely use the same path as normal channel data queries, and therefore no need to re-run ALL the couchdb scenarios for private data.  Rather, I would take a couple of the tests, and add some variants that are interesting from the perspective of private data, for example:

Test aggressive endorsement-time push to all peers (maxPeerCount equal to number of peers) vs no push and only pull at validation/commit time (maxPeerCount of 0 ensures no pushing).  This could be done in two different tests (for isolation), or a single test could have one collection that only pushes and another collection that only pulls.

Send invokes to one set of peers, and then do queries on another set of peers to ensure the private data got disseminated.

Configure a blockToLive so that collection data gets purged after N blocks.

Take peers down and up and ensure private data still gets disseminated (any peer that was not up at push time will have to pull the private data upon later block commit).

Join a new peer to the channel and ensure it can catch up in block height, in the presence of both purged data and remaining data.

Do all of the above with 2 orgs / 2 peers each as a start, and then increase the concurrent load and number of orgs/peers.

 ",,AdnanChoudhury,denyeart,rlalgowdar,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,FAB-8718,,,,,,,,,"1|hzwsdz:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,rlalgowdar,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jun/18 1:11 AM;AdnanChoudhury;Thanks [~denyeart] and [~Senthil1] , the FVTs look good.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
TEST PLAN: Pluggable endorsement and validation,FAB-9917,29989,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,denyeart,denyeart,07/May/18 11:15 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,02/Jun/18 3:03 AM,,,,v1.2.0,,,,,,,0,test-plan,,,,"Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) : 

 

~+*Unit Test (UT) leader*+: Yacov~

~Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.~
 ~Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]~

The latest code coverage report (after the last CR will be merged) for the packages that were introduced and that have code (many packages are just interface declarations or mocks) is the following:
{code:java}
21:05:08 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/handlers/endorsement/builtin	0.082s	coverage: 100.0% of statements
21:05:08 unit-tests_1  | ok  	github.com/hyperledger/fabric/core/handlers/validation/builtin	0.176s	coverage: 87.3% of statements
{code}
The code in *core/handlers/\{endorsement, validation}/* deals with the actual implementation of the plugins.
 As for files that were added into existing packages:
{code:java}
github.com/hyperledger/fabric/core/endorser/plugin_endorser.go  coverage: 90.8%   :)   
github.com/hyperledger/fabric/core/endorser/state.go  coverage: 77.8%  :(    opened FAB-10107
github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go  coverage: 86.4% :|    opened FAB-10109
{code}
These deal with the infrastructure of the plugins, i.e - instantiating them, and passing the peer's dependencies into the plugin itself. 

+**********++*Function Test (FVT) leader*+: Yacov
 ~In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:~

~A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be done using the ginko framework):~
 # ~Test Invalid plugin - --FAB-10330--~
 # ~Scenario Description Y~
 # ~Scenario Description Z~

B.  E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these):
 Since pluggable endorsement and validation comes in 2 flavors:
 # Builtin
 # Plugin
 And the Builtin one is exercised in all e2e scenarios trivially, just one scenario is needed.
 The scenario (----FAB-10051----) would be as follows:

{code:java}
 Let E2E be a standard end-to-end scenario that invokes chaincode and queries it to test that transactions have been committed successfully.

 - Compile an endorsement plugin, and a validation plugin, and change the peer's config such that they are loaded instead of the builtin plugin.
 - Run E2E and if it passed successfully, then declare the scenario to pass successfully, and otherwise declare a failure.
{code}
C.  Other functional testing required:
 No other test is needed

 

+*System Verification Test (SVT) leader*+: [~AdnanChoudhury]
 V1.2 System Test Plan (Epic) FAB-????
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z

 

Yacov: I don't think there is really anything to test here w.r.t to performance. My gut says that any performance gains we can get via this work are negligible because ECDSA verification and ledger IO should still be the important factor.",,AdnanChoudhury,denyeart,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8729,,,,,,,,,,"1|hzwsw7:",,,,Unset,,May2018 - NextGen Endorsement,,,,Unset,,,,,,,,,,,AdnanChoudhury,denyeart,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jun/18 3:03 AM;AdnanChoudhury;Thanks Yacov, looks good. Agree on the performance comment.;;;",,,,,,,,,,,,,,,,,,,,,
"TEST PLAN: Idemix for Advanced Functionalities (revocation, BCCSP)",FAB-9918,29990,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,denyeart,denyeart,07/May/18 12:00 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,,,,0,e2e-test,idemix,stale-item,,"Before closing this testplan task, this must be reviewed and approved by this epic feature owner and the Test Prime (identified below), to agree on appropriate coverage for each test phase.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) :

 

+*Unit Test (UT) leader*+: ????

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
 Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]

 

+***+*+*Function Test (FVT) leader+*: ????
 In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and expanded E2E tests using ginkgo. Describe function test coverage approach here:

A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be done using the ginko framework):
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z

B.  E2E testcases scenarios (Add one individual jira TASK within this feature Epic for each of these):
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z

C.  Other functional testing required:
 # Method/Tool, and Scenario Description
 # Method/Tool, and Scenario Description
 # Example: ginkgo (future availability). Description xyz. Untestable in v1.2 ; an identified test coverage gap.

 

+*System Verification Test (SVT) leader*+: ????
 V1.2 System Test Plan (Epic) FAB-????
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 # Scenario Description X
 # Scenario Description Y
 # Scenario Description Z",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Yes,,,FABC-588,,,,,,,,,,"1|hzwrvj:",,,,Yes,,,,,,Yes,,,,,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Documentation for Identity Mixer,FAB-9919,29991,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dubovitskaya,denyeart,denyeart,07/May/18 12:03 PM,03/Jul/20 8:11 PM,28/Oct/23 3:02 AM,21/Sep/18 11:55 AM,Future,,,v1.3.0,,,fabric-crypto,fabric-docs,,,0,docs,idemix,,,"Finalize the Identity Mixer documentation which was started in:

[http://hyperledger-fabric.readthedocs.io/en/release-1.1/idemix.html]
[http://hyperledger-fabric.readthedocs.io/en/release-1.1/idemixgen.html]",,denyeart,dubovitskaya,latitiah,SjirNijssen,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12049,,,,,,,,,FAB-18046,,,,,,,,,,,,,,,,,,,Yes,,,FAB-10120,,,,,,,,,,"1|hzwqfj:v",,,,No,,To Do,,,,No,,,,,,,,,,,denyeart,dubovitskaya,latitiah,SjirNijssen,smithbk,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/18 11:07 PM;smithbk;Here are some notes for things which should be in the doc ... and/or questions to be answered.

1) Overview
Why use it?  Benefits: anonymity (within an MSP), unlinkability, ZKP, etc.

2) How to configure MSP
a) idemix MSP is not supported for local MSPs, right?  Make sure folks know this means you must use an ecert to do anything that involves local MSPs (install chaincode, join channel, etc).  We ran into this in doing the end-to-end.
b) Best practices for how many idemix MSPs you should have per channel.  The current idemix MSP allows only a single IssuerPublicKey which seems to imply that you might have two MSPs per org: one x509 and one idemix.  Or I can imagine a channel with N number of orgs and only one idemix MSP which is cross org.  For example, you could have a channel of companies which allow end users to transact based on their driver's license.  In this case, you would have one x509 MSP per company and one idemix MSP for the DMV.  Anyway, we should discuss MSP configuration in the context of user stories like this.  And I also think we should consider allowing multiple IssuerPublicKeys in a single idemix MSP.  This would allow us to always have a single idemix MSP per channel for anonymity.  We would have to figure out authorization for config updates would work with that model.

3) Java SDK APIs
Discuss the HFCAClient.idemixEnroll which gets an idemix credential given an ecert.   Include a code snippet, and reference where this is done in the End2endIT sample.  Is there a java-based fabric sample that could be enhanced to include this?

;;;","25/Jul/18 1:18 AM;smithbk;To elaborate on 2b above ...

Suppose a channel has two orgs (org1 and org2) each with their own fabric CA (CA1 and CA2),
Each CA has a unique issuer X509 certificate  as well as a unique idemix IssuerPublicKey.
The channel config will have two x509 MSPs, one for org1 and one for org2, but it would be desirable for privacy reasons for the channel to have only a single idemix MSP.
This does not appear to be possible today because an MSP can only have a single IssuerPublicKey.

I suggest changing the MSP structure to allow multiple IssuerPublicKeys.
In addition, the update policy of the IssuerPublicKey should not allow an admin from org1 to update the IssuerPublicKey from org2.;;;","25/Jul/18 1:57 AM;Clayton Sims;cc'ing  [~pandrejko] ;;;","20/Sep/18 11:29 PM;dubovitskaya;https://gerrit.hyperledger.org/r/#/c/26382/;;;",,,,,,,,,,,,,,,,,,
Populate transient store with private data and aligned collection cofiguration package,FAB-9921,29993,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,07/May/18 4:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 10:23 AM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"Once changes for FAB-9204 and FAB-9774 was introduced to enable persisting of private data with underlined collection config package and and since FAB-9787 populates gossip messages to distribute it, it need to be persisted within {{TransientStore}}.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9922,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8zb:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/18 4:51 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/21491/;;;",,,,,,,,,,,,,,,,,,,,,
Refactor TxPvtReadWriteSetWithConfigInfo to resolve structure deficiency. ,FAB-9922,29994,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,07/May/18 5:15 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/May/18 8:04 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"The following structure introduced by FAB-9204:

{code}
// TxPvtReadWriteSetWithConfigInfo encapsulates the transaction's private
// read-write set and additional information about the configurations such as
// the latest collection config when the transaction is simulated
message TxPvtReadWriteSetWithConfigInfo {
    rwset.TxPvtReadWriteSet pvt_rwset = 1;
    common.CollectionConfigPackage collection_configs = 2;
}
{code}

where the {{TxPvtReadWriteSet}}

{code}
// TxPvtReadWriteSet encapsulate the private read-write set for a transaction
message TxPvtReadWriteSet {
    TxReadWriteSet.DataModel data_model = 1;
    repeated NsPvtReadWriteSet ns_pvt_rwset = 2;
}
{code}

scoped to the specific namespace (""chaincode name"")

{code}
// NsPvtReadWriteSet encapsulates the private read-write set for a chaincode
message NsPvtReadWriteSet {
   string namespace = 1;
   repeated CollectionPvtReadWriteSet collection_pvt_rwset = 2;
}
{code}

which means that 

{code}
    common.CollectionConfigPackage collection_configs = 2;
{code}

has only collection name, which means that {{TxPvtReadWriteSetWithConfigInfo}} which includes several namespace and each might have same collection name, would be impossible to map between the actually private data read-write set and the collection config package. 

To overcome this limitation I'd suggest refactoring of the {{TxPvtReadWriteSetWithConfigInfo}} to be :

{code}
message TxPvtReadWriteSetWithConfigInfo {
    rwset.TxPvtReadWriteSet pvt_rwset = 1;
    map<string, common.CollectionConfigPackage> collection_configs = 2;
}
{code}

[~manish-sethi] [~denyeart] [~Senthil1] wdyt?",,C0rWin,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8zj:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 8:08 PM;Senthil1;[~C0rWin] Good catch. I failed to think about multiple namespaces in the read-write set due to chaincode-calling-chaincode. As each collection config package is stored under a key named `lscc~chaincodeName~collection`, we need to store multiple collection config packages in `TxPvtReadWriteSetWithConfigInfo` as you suggested. We might need to make changes in the unit-test of transient store package accordingly but not the store itself. ;;;","07/May/18 9:34 PM;C0rWin;https://gerrit.hyperledger.org/r/21489;;;",,,,,,,,,,,,,,,,,,,,
Use collection config information relevant to private data while disseminating ,FAB-9923,29995,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,07/May/18 5:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,19/May/18 8:48 PM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"Once we storing the collection configuration package info along with private data, it could be used to support dissemination of the private data in light of the collection membership changes in order to prevent leakage of the information.",,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,FAB-10026,,,,,,,,,,,,,,,,,,,,,,FAB-10096,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8zr:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,troyronda,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 8:39 AM;C0rWin;Have preliminary CR: https://gerrit.hyperledger.org/r/21841, need to address technical debt and refactor few tests.;;;",,,,,,,,,,,,,,,,,,,,,
Prepare validation unit tests for pluggable validation integration,FAB-9924,29997,28022,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/May/18 6:42 PM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,10/May/18 11:31 PM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz8zz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/May/18 6:43 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/21483/;;;",,,,,,,,,,,,,,,,,,,,,
PTE supports service discovery,FAB-9925,30004,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,07/May/18 10:45 PM,21/Jul/18 3:47 AM,28/Oct/23 3:02 AM,27/Jun/18 4:30 AM,,,,,,,fabric-quality,,,,0,,,,,"PTE hyperledger fabric service discovery.

References:

https://jira.hyperledger.org/browse/FAB-8779

[https://docs.google.com/document/d/1zP04PKay4FN0tKYjHUSanyfK9b94rtYvC9MDSKGeSSE/edit]

[https://www.youtube.com/watch?v=yVSntuM5Enw]",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10190,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzz90f:",,,,Unset,,,,,,Unset,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"22/Jun/18 10:17 PM;dongming;https://gerrit.hyperledger.org/r/#/c/23483/;;;",,,,,,,,,,,,,,,,,,,,,
PTE supports side DB,FAB-9927,30006,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,07/May/18 11:06 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,09/Jun/18 3:22 AM,,,,,,,fabric-quality,,,,0,,,,,"PTE supports side DB.

references:

FAB-8718 Finalize Side DB - private Data

FAB-7593 Side DB - Local collections

Supports marbles02 private chaincode, [github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02_private/go|https://github.com/hyperledger/fabric-samples/tree/master/chaincode/chaincode_example02], with its APIs: initMarble, readMarble, and readMarblePrivateDetails",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzz90v:",,,,Unset,,,,,,Unset,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"07/Jun/18 2:33 AM;dongming;https://gerrit.hyperledger.org/r/#/c/22827/;;;",,,,,,,,,,,,,,,,,,,,,
PTE testcases changes peer event type to filteredblock,FAB-9931,30013,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,08/May/18 2:42 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,08/May/18 4:36 AM,,,,,,,fabric-quality,,,,0,,,,,"Change peer event type to filtered block event type in all PTE test cases.  This is due to the instability of eventHub which causes event missing. Moreover, the eventHub will be deprecated in the future.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8089,,,,,,,,,,"1|hzz91r:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"08/May/18 4:18 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21503/;;;",,,,,,,,,,,,,,,,,,,,,
The fabric-test-daily CI tests fail as kafka was not found during the build. ,FAB-9932,30015,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,sambhavdutt,sambhavdutt,08/May/18 4:20 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,15/May/18 7:03 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"The fabric-test-daily CI test has been failing consistently from build #342, 5 May, Observed the following error,


{code:java}
There are no kafka brokers set in the orderer environment

Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 13.318s
Location: CouchDB_index.feature:11
Assertion Failed: There are no kafka brokers set in the orderer environment
Captured stdout:
testConfigs: configs/2f3c3bf6502d11e89d9dfa163ebebc00
{code}

*fabric-test Commit: 3fb4936*

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/344/
",,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz91z:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/May/18 10:52 PM;sambhavdutt;The following tests are still failing the fabric test daily as 
{code:java}
There are no kafka brokers set in the orderer environment
{code}


1. *CouchDB_index*

2. *Bootstrapping Hyperledger Fabric*


{code:java}
bootstrap.Bootstrapping Hyperledger Fabric.FAB-4776/FAB-4777: Bring up a kafka based network and check peers -- @1.1
{code}


3. *Chaincodes Testing*


{code:java}
chaincodes.Chaincodes Testing.FAB-3888: State Transfer Test, bouncing a non-leader peer, using marbles02, for kafka orderer -- @1.2 

{code}

4. *Gossip Service*


{code:java}
gossip.Gossip Service.[FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3 
{code}


5. *Orderer Service*


{code:java}
orderer.Orderer Service.FAB-3851: Message Payloads of size 1048576, for kafka orderer -- @1.4 
{code}


6. *Peer Service*


{code:java}
peer.Peer Service.FAB-3505: Test chaincode example02 deploy, invoke, and query, with kafka orderer -- @1.2 

{code}


*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/347/
;;;","11/May/18 2:46 AM;scottz;On May 4th, we merged some of the PTE/CITest/scenarios/ tests into the daily test suite in the CI fabric-test daily job. It looks like they do not clean up a network, so the kafkas and other containers remain running in the host machine after the PTE tests complete. Then the subsequent behave tests that use kafka will encounter errors. I propose we add something like `../../../NL/networkLauncher.sh -a down` at the end of all the scenarios testscripts, e.g. PTE/CITest/scenarios/FAB-3833-2i.sh and all others.

 

Either that, or, edit the systest_pte.py file to change the call lines from

subprocess.call(""./FAB-3833-2i.sh"",

to

subprocess.call(""./FAB-3833-2i.sh && cd ../../../NL && ./networkLauncher.sh -a down"",

 ;;;","14/May/18 11:21 PM;scottz;[https://gerrit.hyperledger.org/r/#/c/21679/]

 ;;;",,,,,,,,,,,,,,,,,,,
Convert some unit tests to ginkgo style,FAB-9933,30017,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,08/May/18 4:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:45 AM,,,,,,,,,,,0,,,,,"ActiveTransactions, Config, and PendingQueryResult",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz92v:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
PTE removes peer event type support,FAB-9934,30018,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,08/May/18 4:57 AM,01/Aug/18 9:28 PM,28/Oct/23 3:02 AM,15/May/18 3:33 AM,v1.2.0,,,v1.2.0,,,fabric-quality,,,,0,help-wanted,,,,"To ensure nobody else tries to write test cases using the deprecated (still exists in v1.2 but must be removed prior to v1.3) and unreliable peer event hub code in fabric, let's remove the deprecated options the PTE tool, scripts, and clean up the instructions in PTE Readme.

 * **eventOpt**: event hub options {color:#FF0000}[REMOVE ""hub""]{color}
 * **type**: event service type, default: Peer {color:#FF0000}[CHANGE default from Peer to FilteredBlock]{color}
 *     **FilteredBlock**: filtered block event service at channel level {color:#FF0000}[REWORD to ""efficient option, delivers filtered events (per channel) for each block or transaction""]{color}
 *     **Channel**: events at channel level {color:#FF0000}[CHANGE description to ""basic option, delivers full events (per channel) for each block or transaction""]{color}
 *     **Peer**: events at peer level {color:#FF0000}[REMOVE LINE]{color}
 * **listener**: event listener, default: Transaction {color:#FF0000}[CHANGE default from Transaction to Block]{color}
 *     **Transaction**: PTE registers a transaction listener to receive a registered transaction event. This is the default event listener. {color:#ff0000}[CHANGE entire description to ""one event per transaction""]{color}
 *     **Block**:{color:#ff0000} {color}PTE registers a block listener to receive every block event on all channels. PTE will parse the received block event for the transactions sent. The block listener option, {color:#ff0000}applies to tranMode CONSTANT only [REMOVE restriction].   [And CHANGE entire description to ""one event per block""]{color}
 *     **None**: PTE will not register any event listener. {color:#FF0000}[REMOVE line]{color}
 * **timeout**: event timeout, {color:#ff0000}[REMOVE restriction: ""applied to the transaction listener only"",{color} unit ms, default: 120000 ms",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzz933:",,,,Unset,,,,,,Unset,,,,,,,,,,,dongming,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"09/May/18 4:18 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21577/;;;",,,,,,,,,,,,,,,,,,,,,
core/container/Controller#VMController constructor should directly accept providers,FAB-9936,30021,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,sykesm,sykesm,08/May/18 5:35 AM,20/Jul/18 11:17 PM,28/Oct/23 3:02 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,hygiene,,,,"The current constructor creates new instances of the docker controller provider and the in-process controller provider. Using this mechanism, the providers can't be created with references to their dependencies and, instead, rely on latent dependencies that have been populated via some side channel.

One way to address this may be to have the constructor accept a variadic list of providers (assuming the provider abstraction is still needed). The provider would then need to surface a method that indicates its type. Another would be to directly provide the map of provider type to provide on the constructor.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz94v:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update the CI test scripts for svt-test, fabric-smoke-test and node-sdk-release tests",FAB-9937,30023,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,08/May/18 7:07 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,08/May/18 10:29 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,"This change is to update 3 CI job test scripts,

1. Update the test script to pull the correct version of images and binaries from Nexus.
2. Update fabric-smoke-tests to archive the log artifacts after the build.
3. Update fabric-sdk-node release job to install npm , in order to publish the node modules.",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz95b:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/18 10:29 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21515/;;;",,,,,,,,,,,,,,,,,,,,,
Split up pluggable endorsement doc,FAB-9939,30025,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,joe-alewine,joe-alewine,08/May/18 7:14 AM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"The information in this doc: [http://hyperledger-fabric.readthedocs.io/en/latest/pluggable_endorsement_and_validation.html]

Really belongs in a few separate docs. Suggest combining it with some of the information in [http://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html] with some of the higher level info in pluggable endorsement to create an ""Endorsement"" key concept doc. Then take material from both docs and create an ""Operations Guide"" doc for endorsement (covering regular endorsement as well as pluggable endorsement, depending on what's still relevant from the older ""endorsement"" doc.

Then let the rest live in an ""Architecture Reference"" doc on endorsement.",,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8729,,,,,,,,,,"1|hzwtjj:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/May/18 7:14 AM;joe-alewine;[~pandrejko];;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
"Error building docs: ""undefined label: upgrade-vendored-shim""",FAB-9941,30028,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,08/May/18 6:17 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,10/May/18 7:13 AM,,,,,,,fabric-docs,,,,0,,,,,"Current docs build generates:

{{/home/rpjday/hyperledger/fabric/gerrit/docs/source/enable_tls.rst:138: WARNING: undefined label: upgrade-vendored-shim (if the link has no caption the label must precede a section header)}}

This is because that label no longer exists in the doc file upgrade_to_one_point_one.rst. Simple solution is to simply remove that reference until the rest of the docs are updated.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz967:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Docs build error: ""undefined label: binaries""",FAB-9942,30029,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,08/May/18 6:34 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,10/May/18 7:14 AM,,,,,,,fabric-docs,,,,0,,,,,"Docs file prereqs.rst contains a :ref: to a non-existent label ""binaries""; simply replace that reference with a verbatim rendering for now to get rid of the diagnostic.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz96f:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add a reference to the Solidity language for writing smart contracts,FAB-9944,30031,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,08/May/18 6:51 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,10/May/18 7:18 AM,,,,,,,fabric-docs,,,,0,,,,,"In the introduction, when discussing the advantage of Fabric being able to use non-domain-specific languages for writing chaincode, a link to Solidity would be useful just to compare and contrast.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz96v:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Fabric samples Git repo should ignore config/ directory,FAB-9945,30032,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,08/May/18 7:21 PM,21/Jul/18 3:50 AM,28/Oct/23 3:02 AM,19/May/18 12:57 AM,,,,,,,fabric-samples,,,,0,,,,,"While, technically, the fabric-samples directory should not be responsible for separately downloaded bin/ and config/ directories, the precedent has been set, so this repo should ignore the config/ directory.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz973:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/18 12:49 AM;rpjday;Sorry, didn't see that this was already done, I'd close this issue but I have no authorization to do that.;;;",,,,,,,,,,,,,,,,,,,,,
"As a chaincode author, I should not be able to import packages that are not intended for public consumption",FAB-9946,30033,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,sykesm,sykesm,08/May/18 10:55 PM,23/Jan/20 7:32 AM,28/Oct/23 3:02 AM,23/Jan/20 7:32 AM,,,,,,,,,,,0,hygiene,stale-item,,,"Since version 1.5, the go tool has allowed package authors to separate internal details from those that are expected by to be user-consumable. This is accomplished by placing internal packages in directories that include ""internal"" in the name.

We should restructure the fabric repository to explicitly place our implementations under fabric/internal and only leave the packages we expect users to consume outside of that root.

Not only will this help make it clearer to users what they should and should not use, it will help us as with semantic versioning.

/cc [~mastersingh24]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz97b:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
False positive results show up occasionally when some tests are not executed in the CI jobs for fabric-test.,FAB-9947,30034,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,sambhavdutt,sambhavdutt,08/May/18 11:52 PM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,16/May/18 3:19 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"There are two errors that display a false result in the fabric-test smoke tests and the daily tests, This has been happening from some time so I did not mention the commits these fails happen on.

1. The fabric-test smoke tests, and daily tests show false positive results when some tests fail, 
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/340/

and in some cases

2. the test shows a failed result when proper details are not updated in an xml file which could possibly mean that the respective test failed,
but it would be good if a simple error message is displayed in the test results.(Test Results Analyzer)
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/265/testReport/TESTS-chaincodes/xml/_failed_to_read_/


{code:java}
TESTS-chaincodes.xml.[failed-to-read]

Failed to read test report file /w/workspace/fabric-test-merge-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/smoke/TESTS-chaincodes.xml
org.dom4j.DocumentException: Error on line 154 of document  : An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"". Nested exception: An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
{code}

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/265/
",,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13825,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz97j:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/18 12:15 AM;scottz;[~latitiah] , do you have an issue open already for this? Is this a duplicate?;;;","09/May/18 12:16 AM;scottz;Sorry. Found it.;;;","16/May/18 3:19 AM;sambhavdutt;No false positives observed from the last 15 builds.;;;",,,,,,,,,,,,,,,,,,,
Add collection retrieval for the cclifecycle ,FAB-9948,30035,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,09/May/18 12:03 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/May/18 7:09 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,Service discovery requires a retrieval of collection config from the stateDB in order to answer for collection queries.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz97r:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/18 8:45 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/21605/;;;",,,,,,,,,,,,,,,,,,,,,
Create a non-instanced collection config retrieval logic,FAB-9949,30036,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,09/May/18 12:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,09/May/18 8:17 AM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz97z:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Assorted deferred review comment cleanup,FAB-9950,30038,29540,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,09/May/18 1:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,23/May/18 5:12 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz98f:",,,,,,May2018 - Lifecycle & Config,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Use *CCContext instead of the empty interface on ChaincodeProvider,FAB-9951,30039,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,09/May/18 2:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,12/May/18 2:45 AM,,,,,,,,,,,0,,,,,Use the concrete implementation of ccprovider.CCContext instead o,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz98n:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/18 2:10 AM;sykesm;https://gerrit.hyperledger.org/r/21547;;;",,,,,,,,,,,,,,,,,,,,,
Remove npm publish from fabric-chaincode-node-merge jobs. Integrate the gulp tests in fabric-chaincode-node-release job,FAB-9953,30042,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,09/May/18 2:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,15/May/18 12:59 AM,,,,v1.2.0,,,fabric-ci,,,,0,fabric-ci,,,,"The fabric-chaincode-node merge jobs publish the npm modules from the merge jobs, npm modules must be published only in the chaincode-node-release job.

fabric-chaincode-node-release job publishes the npm modules without executing the gulp tests, the gulp tests must execute in the fabric-chaincode-node-release job before the npm publish on Release.",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz99b:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 1:01 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21587/;;;",,,,,,,,,,,,,,,,,,,,,
Optimze distribution of the private data,FAB-9955,30044,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,09/May/18 4:01 AM,21/Jul/18 3:49 AM,28/Oct/23 3:02 AM,15/May/18 2:36 PM,,,,v1.2.0,,,fabric-gossip,,,,0,gossip,hygiene,,,"While distributing private data, the collection configuration is being looked up with the transient store, for each collection name new query is issued, e.g.

{code}
	for _, pvtRwset := range privData.NsPvtRwset {
		namespace := pvtRwset.Namespace
		for _, collection := range pvtRwset.CollectionPvtRwset {
			collectionName := collection.CollectionName
			cc := common.CollectionCriteria{
				Namespace:  namespace,
				Collection: collectionName,
				TxId:       txID,
				Channel:    d.chainID,
			}
			colAP, err := cs.RetrieveCollectionAccessPolicy(cc)
			if err != nil {
				logger.Error(""Could not find collection access policy for"", cc, ""error"", err)
				return nil, errors.WithMessage(err, fmt.Sprintf(""collection access policy for %v not found"", cc))
			}

			colFilter := colAP.AccessFilter()
			if colFilter == nil {
				logger.Error(""Collection access policy for"", cc, ""has no filter"")
				return nil, errors.Errorf(""No collection access policy filter computed for %v"", cc)
			}

			colCP, err := cs.RetrieveCollectionConfigPackage(cc)
			if err != nil {
				logger.Error(""Failed to load collection config package, collection criteria"", cc, ""error"", err)
				return nil, errors.WithMessage(err, fmt.Sprintf(""collection config package, for %v not found"", cc))
			}

			pvtDataMsg, err := d.createPrivateDataMessage(txID, namespace, collection, colCP, blkHt)
			if err != nil {
				return nil, errors.WithStack(err)
			}

			dPlan, err := d.disseminationPlanForMsg(colAP, colFilter, pvtDataMsg)
			if err != nil {
				return nil, errors.WithStack(err)
			}
			disseminationPlan = append(disseminationPlan, dPlan...)
		}
	}
{code}

where for each collection criteria returns same results, therefore no need to repeat query for each collection name and this could be optimized.

{code}
			cc := common.CollectionCriteria{
				Namespace:  namespace,
				Collection: collectionName,
				TxId:       txID,
				Channel:    d.chainID,
			}
{code}

Thus this code could be optimized with respect of query numbers and also additional fact to consider, is possible race condition, where collection config could be update after endorsement, hence it might be a case we are reading configuration which is not relevant for private read-write set in context.",,C0rWin,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8718,,,,,,,,,,"1|hzz99r:",,,,Unset,,,,,,Unset,,,,,,,,,,,C0rWin,denyeart,manish-sethi,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/18 4:23 AM;manish-sethi;Artem - I think that optimization part is fine and can be deferred as such. However, as mentioned in the comment in the CR https://gerrit.hyperledger.org/r/#/c/21491/2/gossip/service/gossip_service.go@182, I would like to see the race condition part fixed at least in 1.2.;;;","09/May/18 4:33 AM;C0rWin;[~manish-sethi] in case it was not 100% clear, the aim to target this for 1.2, in case you'd like this task to be divided into the optimization part and the race condition, which I've mentioned in description, sub tasks could be created.

{quote}
is possible race condition, where collection config could be update after endorsement, hence it might be a case we are reading configuration which is not relevant for private read-write set in context.
{quote}  ;;;","09/May/18 4:34 AM;denyeart;I agree, we don't want to utilize the incorrect configuration for dissemination purpose in v1.2.;;;","09/May/18 4:36 AM;manish-sethi;[~C0rWin] - no, I am good with a single Jira as such. Can you please link this task back to the EPIC for 1.2 so we can have a clear view of the epic?;;;","10/May/18 9:37 PM;C0rWin;[~denyeart], [~manish-sethi]  https://gerrit.hyperledger.org/r/#/c/21597/;;;",,,,,,,,,,,,,,,,,
Some cleanup of docs file whatis.md,FAB-9956,30045,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,09/May/18 4:04 AM,21/Jul/18 3:48 AM,28/Oct/23 3:02 AM,10/May/18 7:17 AM,,,,,,,fabric-docs,,,,0,,,,,"Minor tweaks to whatis.md:
 * spelling fixes
 * add some hyperlinks
 * correct spelling of ""Raft"" consensus algorithm",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz99z:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Update check_license script to ignore generate files,FAB-9957,30046,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,09/May/18 4:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,11/May/18 3:48 PM,,,,,,,,,,,0,,,,,Update check_license scripts to ignore mock files that are auto generated,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9a7:",,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/May/18 4:19 AM;skarim;https://gerrit.hyperledger.org/r/c/21579/;;;",,,,,,,,,,,,,,,,,,,,,
Add support in revoke command to handle colons,FAB-9958,30047,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,09/May/18 4:17 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,16/May/18 10:58 PM,Future,,,,,,,,,,0,,,,,OpenSSL returns serial number and AKI in hex format with colon separators between every two hex unit. The revoke command should be enhanced to handle colons in serial number and AKI provided on the CLI. The CLI should parse out the colons.,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9af:",,,,,,,,,,,,,,,,,,,,,skarim,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 5:20 AM;skarim;https://gerrit.hyperledger.org/r/21787;;;",,,,,,,,,,,,,,,,,,,,,
SYSTEST_PTE tests fail in fabric-test daily CI tests dut to Assertion error.,FAB-9960,30049,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,sambhavdutt,sambhavdutt,09/May/18 6:32 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,11/May/18 2:33 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"SYSTEST_PTE tests fail in fabric-test daily CI tests due to Assertion error.

*Build Logs*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/345/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB3832_4i_FAB3834_4q/]

[https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/test/PTE/CITest/scenarios/result_FAB-3832-4i.log]

 

Solution:  https://gerrit.hyperledger.org/r/#/c/21591/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9av:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,,,,,,,,,,,,,,,,,,,,,,
Fix the documentation about the logging level control within Chaincode container,FAB-9961,30050,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,09/May/18 7:36 AM,20/Jul/18 11:16 PM,28/Oct/23 3:02 AM,13/May/18 7:12 PM,v1.1.0,,,v1.2.0,,,fabric-docs,,,,0,,,,,"The document below doesn’t explain the logging level control within Chaincode container correctly.
http://hyperledger-fabric.readthedocs.io/en/latest/logging-control.html#go-chaincodes

The document describes how to set up the logging level like the below.
However, SHIM_LOGGING_LEVEL is not a correct environment variable to control the logging level.

{noformat}
var logger = shim.NewLogger(""myChaincode"")

func main() {

    logger.SetLevel(shim.LogInfo)

    logLevel, _ := shim.LogLevel(os.Getenv(""SHIM_LOGGING_LEVEL""))
    shim.SetLoggingLevel(logLevel)
    ...
}
{noformat}

According to the update in FAB-3232, two environment variables are used:
- CORE_CHAINCODE_LOGGING_SHIM; set the level for the 'shim' logging module.
- CORE_CHAINCODE_LOGGING_LEVEL; set the default logging level for all modules.

In addition, the logging level can be set from core.yaml. We don't need to call `os.Getenv` in Chaincode.
https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L573-L578

We should update the document to explain how to set up logging level with core.yaml.
We also need to update the default logging level in that document.

There is the same problem in comments of fabric/core/chaincode/shim/chaincode.go#L167-L169.
The comment should be updated to use the correct environment variables.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9b3:",,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/18 4:59 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/21635/;;;",,,,,,,,,,,,,,,,,,,,,
Imports on FabricCAClientImpl.js for Developing Fabric Apps Tutorial wrong,FAB-9962,30051,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChristopherFerris,DennisM330,DennisM330,09/May/18 8:51 AM,25/Feb/20 4:00 AM,28/Oct/23 3:02 AM,20/Jul/18 11:06 PM,,,,,,,fabric-samples,,,,0,,,,,"DennisM330 5:17 PM
Trying to go thru the developing your first application hyperledger fabric tutorial. Getting an error running node enrollAdmin.js
module.js:549
throw err;
^

Error: Cannot find module './api.js'
at Function.Module._resolveFilename (module.js:547:15)
at Function.Module._load (module.js:474:25)
at Module.require (module.js:596:17)
at require (internal/module.js:11:18)
at Object.<anonymous> (/home/blockchain/fabric-samples/fabcar/node_modules/fabric-ca-client/lib/FabricCAClientImpl.js:19:11)
at Module._compile (module.js:652:30)
at Object.Module._extensions..js (module.js:663:10)
at Module.load (module.js:565:32)
at tryModuleLoad (module.js:505:12)
at Function.Module._load (module.js:497:3)
 
 
api.js does not exist in the lib directory with this module along with some other missing modules including utils.js and BaseClient.js. These modules exist in a different fabric-client directory and not in the fabric-ca-client. 
 
This tutorial used to work and this issue did not exist before.",,ChristopherFerris,DennisM330,ronakdoshi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9bb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,DennisM330,ronakdoshi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 9:23 AM;DennisM330;In order to get the Node.js applications to all work in the fabcar directory, you to have to currently perform the following:
 
For the hyperledger fabric writing your first application tutorial, you need to modify the package.json file in the fabcar directory to have a dependencies section to look as follows:
 
section ""dependencies"": \{
 ""fabric-ca-client"": ""1.1.0"",
 ""fabric-client"": ""1.1.0"",
 ""grpc"": ""1.10.1""
 
 
Then ensure the node_modules directory is deleted under the fabcar directory and do a:
npm install
 
All Node.js apps in that directory should then work. Not ideal, but this is the current workaround.;;;","14/May/18 6:12 AM;ChristopherFerris;This has already been addressed in a separate issue. Thanks for submitting, but closing this.;;;","25/Feb/20 4:00 AM;ronakdoshi;Hi [~ChristopherFerris], could you please link the issue you're referring to, here? I can't seem to find it though. Thanks!;;;",,,,,,,,,,,,,,,,,,,
fabric-test verify jobs are failing behave tests upon installation of chaincode_example02,FAB-9964,30053,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,latitiah,scottz,scottz,09/May/18 9:30 AM,19/Mar/19 8:13 PM,28/Oct/23 3:02 AM,11/May/18 2:35 AM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,"Any Behave test with steps with implicit or explicit chaincode path to example02 is failing on the installation statement, for example `And a user deploys chaincode` when we see the assertion error:

`Assertion Failed: The expected chaincode container 31a0339452f711e8be91fa163e19abba-peer0.org1.example.com-mycc-0 is not running`

accompanied by this error data:

`DEBU 00a\x1b[0m java chaincode enabled\nError: Error getting chaincode code chaincode: path to chaincode does not exist: /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\n', 'peer1.org1.example.com': 'Error occurred ...  `

 

I believe the root cause is because the directory name appears to have been changed from

`fabric/examples/chaincode/go/chaincode_example02`

to simply:

`fabric/examples/chaincode/go/example02`

so we need to make the corresponding change (shorten the directory name) in our behave tests in fabric-test repository. At first glance, this includes several occurances in a few files:
 * fabric-test/feature/chaincodes.feature:19
 * fabric-test/feature/orderer.feature:3
 * fabric-test/feature/peer.feature:8
 * fabric-test/feature/steps/endorser_impl.py:12",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9973,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9br:",,,,,,,,,,,,,,,,,,,,,latitiah,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"10/May/18 7:07 AM;latitiah;https://gerrit.hyperledger.org/r/21651;;;",,,,,,,,,,,,,,,,,,,,,
Add list of resources using ACL,FAB-9966,30055,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,joe-alewine,yingmsky,yingmsky,09/May/18 1:34 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,,"In the current release(version 1.1.0), even though that InvokeChaincode called on different channel is essentially a read only transaction, CHANNELWRITERS permission is still needed.  However, there is no related documents to clarify this point, which could cause misunderstanding.

Also, there should be a list of resources using ACL, like endorser/CSCC/LSCC/QSCC etc.",,joe-alewine,pandrejko,sykesm,yingmsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9c7:",,,,Unset,,,,,,Unset,,,,,,,,,,,joe-alewine,pandrejko,sykesm,yingmsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jun/18 5:27 AM;pandrejko;[~joe-alewine] - This came in through the Support team. Ticket CS0032097. I was wondering if you could take a look here and see if this could be addressed in the ACL doc updates you are making?;;;","01/Jun/18 5:43 AM;joe-alewine;[~pandrejko]

I poked around a little yesterday and found the ACL resources file: [https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/aclmgmt/resources/resources.go]

I've hesitated adding it to the doc barring more input that I should because I'm worried about the ACL doc becoming an infinite series of regressions (the ACL resources information won't make much sense unless you describe what lifecycle chaincode is and what query system chaincode is and so on).

For example, the QSCC code is here: [https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/core/scc/qscc/query.go]

Is this really the kind of thing we want to expose?

It's becoming clear that perhaps we need to say something, but I'm very concerned about opening a can of worms.;;;","01/Jun/18 6:09 AM;pandrejko;OK Let's talk about this some more then.

 

Also what about her comment that `even though that InvokeChaincode called on different channel is essentially a read only transaction, CHANNELWRITERS permission is still needed. ` Is that something that changes in 1.2/Can we doc this?;;;","01/Jun/18 6:36 AM;joe-alewine;Talking about it some more seems like a good idea.

I should have read the comment in this JIRA closer. I'm now a bit confused. It would be news to me that you could invoke a chaincode on a different channel. Why or how would that be permitted?

You *can* invoke a chaincode on your own channel (which is defined by ""Writers"", sensibly). And you can invoke a chaincode with another chaincode, which has a ""Readers"" permission. But invoking a chaincode on another channel? I'm lost.;;;","02/Jun/18 3:12 AM;pandrejko;[~yingmsky]

[~joe-alewine] and I looked at this some more.

 

1) We were wondering if we could get clarification from you on your statement ```even though that InvokeChaincode called on different channel is essentially a read only transaction,```

Chaincode instantiation is scoped to a channel. So one would not invoke a chaincode  against different channel.

Could you elaborate a little more on what you were trying to do?

 

 2) Joe is in the process of writing a document describing how ACLs work (https://jira.hyperledger.org/browse/FAB-6546).

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/353/html/access_control.html]

In there, he includes a link to the [https://github.com/hyperledger/fabric/blob/master/sampleconfig/configtx.yaml] which contains the list

of resources that can be secured by an ACL. We were wondering if this answers your question above, or if there is additional content you were looking for?

 ;;;","28/Jun/18 5:48 AM;pandrejko;[~yingmsky] Does this new information address your questions:

http://hyperledger-fabric.readthedocs.io/en/latest/access_control.html;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,
ExecuteChaincode QSCC meet timeout,FAB-9968,30057,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,chaibaoyang,chaibaoyang,09/May/18 7:05 PM,24/Aug/18 10:54 AM,28/Oct/23 3:03 AM,20/Jul/18 11:06 PM,v1.1.0,,,Future,,,fabric-peer,,,,0,,,,,"In fabric v1.1.0, we execute GetChainInfo on an peer, we meet an error below. For more log please visit https://paste.ubuntu.com/p/YytNT7W72t/
{quote} 
\{
""log"": ""\u001b[36m2018-05-07 02:29:25.568 UTC [chaincode] Execute -\u003e DEBU 54427\u001b[0m Exit\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.568249734Z""
} \{
""log"": ""\u001b[36m2018-05-07 02:29:25.568 UTC [endorser] callChaincode -\u003e DEBU 54428\u001b[0m [][48317c37] Exit\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.568260954Z""
} \{
""log"": ""\u001b[36m2018-05-07 02:29:25.568 UTC [endorser] simulateProposal -\u003e DEBU 54429\u001b[0m [][48317c37] Exit\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.56826445Z""
} \{
""log"": ""\u001b[36m2018-05-07 02:29:25.568 UTC [endorser] ProcessProposal -\u003e DEBU 5442a\u001b[0m Exit: request from%!(EXTRA string=47.95.252.108:57704)\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.568267583Z""
} \{
""log"": ""\u001b[36m2018-05-07 02:29:25.612 UTC [chaincode] Execute -\u003e DEBU 5442b\u001b[0m Exit\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612474313Z""
} \{
""log"": ""\u001b[31m2018-05-07 02:29:25.612 UTC [chaincode] ExecuteChaincode -\u003e ERRO 5442c\u001b[0m timeout expired while executing transaction\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612505703Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612510068Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:813\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612513308Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/chaincode.Execute\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612516552Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/exectransaction.go:58\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612519505Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/chaincode.ExecuteChaincode\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.61252237Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincodeexec.go:85\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612525196Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612527998Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:93\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612530679Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612533503Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:132\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612536138Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/endorser.(*Endorser).simulateProposal\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612539006Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:265\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612541676Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612544493Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:491\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612547106Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612549951Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612552626Z""
} \{
""log"": ""github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612555472Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:31\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612558135Z""
} \{
""log"": ""github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612560927Z""
} \{
""log"": ""\u0009/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:112\n"",
""stream"": ""stderr"",
""time"": ""2018-05-07T02:29:25.612563578Z""
}{quote}",,chaibaoyang,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10540,FAB-11720,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9cn:",,,,,,,,,,,,,,,,,,,,,chaibaoyang,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/18 2:59 AM;wlahti;Can you provide the details of your fabric network setup and how you were running the command? Any other information you can provide about what you were doing at the time would also be appreciated. There isn't much available in this JIRA item to guide investigation and a quick attempt to run the ""peer channel getinfo"" command runs as expected. ;;;","11/Jun/18 10:23 PM;sykesm;This appears to be a duplicate of FAB-10540. Given that issue has far more supporting information, we'll keep the activity there.;;;",,,,,,,,,,,,,,,,,,,,
"blockchain.rst: reword one para, and fix non-uniform rendering of ""em"" dashes",FAB-9969,30058,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,09/May/18 8:16 PM,21/Jul/18 3:48 AM,28/Oct/23 3:03 AM,10/May/18 7:15 AM,,,,,,,fabric-docs,,,,0,,,,,"Besides just tweaking some wording, this file contains two different rendering (both wrong) of what should be ""em"" dashes, which should be represented by three consecutive dashes. It would be nice if everyone settled on that standard.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9cv:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"When a chaincode uses multiple PutState() calls, they should be bundled into a single request",FAB-9970,30059,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,pd93,pd93,09/May/18 8:22 PM,26/Oct/21 12:33 AM,28/Oct/23 3:03 AM,,v1.0.6,v1.1.0,,Future,,,fabric-peer,,,,1,,,,,"*Scenario:*

I have large sets of data that I need to import into an instance of Hyperledger Fabric in the fastest way possible.

 

*Current Options:*

*1.* Send a single invocation for each record. This has major overhead issues as each invocation must be signed and validated. (very slow)

*2.* Group records into a bulk string (of say 1000 records), import all 1000 records in a single invocation with multiple calls to `stub.PutState()` in a loop. This option is far better. However, many separate calls to the ledger can still be slow. (In my tests each bulk of 1000 records can take around 5-10 seconds).

 

*Proposed Solution:*

Calls to `stub.PutState()` should be queued up and called together when the invocation is complete.
 OR
 A new API method should be added that does the above while leaving the original `PutState()` alone

 

You can also see the brief original discussion on RC with [~yacovm]: [https://chat.hyperledger.org/channel/fabric-peer-endorser-committer?msg=Qg6JNQN59H6iDxZNe]",,AshishkumarLakshmanan,C0rWin,calanais,denyeart,haibbo,jrojek,manish-sethi,muralisr,pd93,sykesm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,FAB-11322,FAB-1244,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9d3:",,,,Unset,,,,,,Unset,,,,,,,,,,,AshishkumarLakshmanan,C0rWin,calanais,denyeart,haibbo,jrojek,manish-sethi,muralisr,pd93,sykesm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/May/18 8:28 PM;yacovm;[~muralisr] . [~manish-sethi] [~denyeart] 
IMO it's trivially fixable if the chaincode shim doesn't wait for a response when it sends the putstate message, and the peer doesn't return a put state status back to the shim. 

So, instead of 
{code}handlePutState-->callPeerWithChaincodeMsg-->sendReceive {code}
we'll just do a send in the end. ;;;","09/May/18 8:47 PM;muralisr;[~yacovm] Chaincode dev typically do want to know if PutState failed for some reason. I don't think we want to change that default behavior. Perhaps you are suggesting ""just do a send"" as an option ? 

I feel adding a bulk put API (option 2 in description) has merits.;;;","09/May/18 8:58 PM;yacovm;The put state can't really fail... you're just adding a key->value mapping to a map in the peer's memory. I guess it can fail if the key name isn't supported by the DB implementation, but for that i think we can just batch all errors and let the peer code handle them and fail the simulation instead the chaincode shim would. 

;;;","09/May/18 9:13 PM;pd93;I would +1 a `BulkPutState()` method (or similar) that would defer running ledger operations until the end of the invocation.
 * It makes it clear to a chaincode developer exactly what is happening with regards to information being put on the ledger.
 ** `PutState()` - Pushes to ledger immediately and returns errors if found.
 ** `BulkPutState()` - Pushes to a queue first and then pushes to ledger when the invocation is complete.
 * It doesn't break the existing API, so developers need not change anything if they don't want to.
 * It can be made clear to the user that errors will not be handled until the very end of the invocation.;;;","09/May/18 9:30 PM;yacovm;I think instead of a bulk putstate, we can just keep the putStates in the shim at runtime, and at the end of the transaction it can send it to the peer before the operation finishes.... [~muralisr] wdyt?;;;","09/May/18 9:47 PM;pd93;Took a look at the HandlePutState() code out of curiousity and noticed there is a comment and JIRA link about setting/getting multiple keys already (see [https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/handler.go#L332]). It may be worth associating this with https://jira.hyperledger.org/browse/FAB-1244 ?

I'm also totally happy with [~yacovm]'s approach as long as there are no side effects to the existing behavior of PutState() for non-bulk operations.;;;","10/May/18 2:43 AM;manish-sethi;Just to add to the context - In the ledger, a function already exists for allowing bulk read and write...
https://github.com/hyperledger/fabric/blob/release-1.1/core/ledger/ledger_interface.go#L150

In my opinion, chaincode shim should be a simple pass through and should not be adding any buffer. Because, architecturally, this is not the right place for interpreting the meaning of the sequence of read and write operations. This become important if we want to start supporting advance operations say - read-your-write semantics or update queries. We have already began moving to allow delta-updates in the terms of introducing metadata...;;;","29/May/18 9:42 PM;pd93;As per [~manish-sethi] 's last comment, I'm linking the issue for adding support for multiple get/set calls. aka. SetStateMultipleKeys().


https://jira.hyperledger.org/browse/FAB-1244;;;","21/Aug/18 9:30 PM;denyeart;[~manish-sethi] Are you saying that we should not implicitly buffer the PutStates, and rather expose new chaincode shim API to allow the chaincode author to set multiple keys at once?;;;","25/Aug/18 3:10 AM;manish-sethi;[~denyeart] - yes, that's what I meant. Ledger already has functions for allowing this - [https://github.com/hyperledger/fabric/blob/release-1.2/core/ledger/ledger_interface.go#L146];;;","29/Aug/18 4:24 PM;yoheiueda;{quote}Calls to `stub.PutState()` should be queued up and called together when the invocation is complete.
{quote}
I implemented PoC code for this approach in FAB-11322.

If I remember correctly, PutState returns errors if specified  collection is not found when private ledger is used, or if values are not formed in JSON format when CouchDB is used.

 

In the other cases, PutState never fails, and we can transparently queue PutState calls, and piggyback them with a completed meessage back to peer.  We can reduce one more round-trip communication between shim and peer with piggybacking than with BultPutState. We can utilize the ledger's SetStateMultipleKeys when processing the piggybacked PutState calls.

 

We may also introduce a Capability in configtx.yaml or a parameter in core.yaml to specify whether to enable piggybacking to accommodate incompatibility of behavior when PutState fails.

 ;;;","30/Aug/18 1:02 AM;denyeart;[~yoheiueda] The current recommendation is to expose the bulk API to allow chaincode to set multiple keys at once. This way there is no change in behavior and the chaincode author has full control.  Does that sound reasonable?;;;","30/Aug/18 4:49 PM;yoheiueda;[~denyeart] I see. It is reasonable for me.

 

I think it is more reasonable if we have GetStateMultipleKeys as well.

 

After Get/SetStateMultipleKeys are implemented., we will rethink the piggybacking approach when it becomes really necessary to reduce one more round-trip communication between peer and shim.

 ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;","24/Oct/21 2:24 PM;jrojek;Hi, i'm very new to Hyperledger ecosystem, but quite early in my journey i realized lack of bulk putState API for the chaincode. I found this (and related) issues, but they are all stale. I understand this was discussed by v1.2 and we are now at v2.3, but I believe this issue has not been resolved yet.

Are there any recommended workarounds for this? [~pd93] [~sykesm] [~yoheiueda] [~denyeart];;;","24/Oct/21 11:37 PM;denyeart;[~jrojek] I've removed the stale tag. Yes it makes sense to add the bulk Get/Set chaincode APIs.  [~mbwhite] looks over chaincode API these days, what do you think?;;;","25/Oct/21 4:18 AM;C0rWin;> Yes it makes sense to add the bulk Get/Set chaincode APIs

 I guess it also counts the delete operation as well, correct?;;;","26/Oct/21 12:30 AM;calanais;Yes, there would be a lot of sense in being able to do these operations in bulk. it would save quite a bit of network round trip time. ;;;","26/Oct/21 12:33 AM;calanais;It's been a while since I looked at the original discussion, but don't believe that anything will have occured that would mean it's outdated.    If anybody in the community would like to take a run at this, I'm happy to mentor...;;;",,,
"Rewording, uniform em dashes in some Key Concepts .rst files",FAB-9971,30060,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,rpjday,rpjday,rpjday,09/May/18 9:16 PM,21/Jul/18 3:49 AM,28/Oct/23 3:03 AM,10/May/18 7:18 AM,,,,,,,fabric-docs,,,,0,,,,,"Minor cleanup to fabric_model.rst, functionalities.rst doc files.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9db:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Ledger_lte CI tests fail in the fabric-test-daily job as Assertion error observed in couchDB and golevelDB.,FAB-9972,30061,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,09/May/18 10:01 PM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,31/Jul/18 3:55 AM,,,,Future,,,fabric-quality,,,,0,ci-failure,,,,"CouchDB and golevelDB performance tests are failing in ledger_lte due to Assertion error in fabric-test-daily CI job.

*fabric-test Commit: ed58dc8*

{code:java}
AssertionError: VaryNumParallelTxPerChain for CouchDB performance testfailed.  Please check the logfile output_VaryNumParallelTxPerChain_couchdb.log for more details.

        logfile = open(""output_VaryNumParallelTxPerChain_couchdb.log"", ""w"")
        returncode = subprocess.call( ""./runbenchmarks.sh -f ""
                ""parameters_couchdb_daily_CI.sh varyNumParallelTxPerChain"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0,
                msg=""VaryNumParallelTxPerChain for CouchDB performance test""
>               ""failed. \nPlease check the logfile "" +logfile.name+"" for more""
                "" details."")
E       AssertionError: VaryNumParallelTxPerChain for CouchDB performance testfailed. 
E       Please check the logfile output_VaryNumParallelTxPerChain_couchdb.log for more details.

ledger_lte.py:196: AssertionError
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-x86_64/346/",,AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6442,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9dj:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/18 11:14 PM;sambhavdutt;The ledger_lte tests are failing in CouchDB and GolevelDB in the daily tests due to Assertion error. I have copied the error logs from the latest build.

*fabric-test Commit: ef3cfae*

{code:java}
AssertionError: VaryNumParallelTxPerChain for CouchDB performance testfailed.  Please check the logfile output_VaryNumParallelTxPerChain_couchdb.log for more details.
ledger_lte.py:196: AssertionError
logfile = open(""output_VaryNumParallelTxPerChain_couchdb.log"", ""w"")
        returncode = subprocess.call( ""./runbenchmarks.sh -f ""
                ""parameters_couchdb_daily_CI.sh varyNumParallelTxPerChain"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0,
                msg=""VaryNumParallelTxPerChain for CouchDB performance test""
.
.
E       AssertionError: VaryNumParallelTxPerChain performance test failed. 
E       Please check the logfile output_VaryNumParallelTxPerChain.log for more details.
ledger_lte.py:32: AssertionError
self = <ledger_lte.perf_goleveldb testMethod=test_FAB_3790_VaryNumParallelTxPerChain>
logfile = open(""output_VaryNumParallelTxPerChain.log"", ""w"")
        returncode = subprocess.call(
                ""./runbenchmarks.sh -f parameters_daily_CI.sh ""
                ""varyNumParallelTxPerChain"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""VaryNumParallelTxPerChain ""
                ""performance test failed. \nPlease check the logfile ""
>               +logfile.name+"" for more details."")
{code}


*Build Logs*
https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/368/testReport/ledger_lte/perf_couchdb/test_FAB_3870_VaryNumParallelTxPerChain/

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/368/testReport/ledger_lte/perf_goleveldb/test_FAB_3790_VaryNumParallelTxPerChain/
;;;","31/Jul/18 3:53 AM;AdnanChoudhury;fixed after  https://jira.hyperledger.org/browse/FAB-11158;;;",,,,,,,,,,,,,,,,,,,,
"installing chaincode, confusing err msg and incorrect chaincode name",FAB-9973,30062,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,scottz,scottz,09/May/18 10:07 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,13/May/18 9:54 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"Bad error message:
Error: Error getting chaincode code chaincode: path to chaincode does not exist: /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\n', 'peer0.org1.example.com': 'Error occurred 
In this scenario, we simply try to bring up a network and install the ""chaincode_example02"" golang chaincode, but alas it does not exist. Currently in fabric there is a directory name .../fabric/examples/chaincode/go/example02 (i.e. example02, not chaincode_example02). So we get an error message when trying to install. That is expected, based on the input data. The error message appears to print out the correct path that we provided, HOWEVER it seems to print a BAD chainFuncName = ""chaincode"",  possibly twice, which appears wrong and makes this a very confusing error message.

Error: Error getting chaincode code *chaincode*: path to *chaincode* does not exist: ...

 

Question:  Could there be a problem because of the underscore in the pathname??? I know the pathname is not accurate, but the error msg is not accurate either. What is meant by ""Error getting {color:#ff0000}chaincode code chaincode{color}"" ???

 

EXPECTATIONS: The error message would be more clear, for example, if it would say ""Error getting {color:#ff0000}chaincode named chaincode_example02{color}""

 

To reproduce:

Follow setup instructions in the Readme file in the directory $GOPATH/src/github.com/hyperledger/fabric-test/feature, and run the basic behave test in the bootstrap.feature file ""behave -k -t smoke bootstrap.feature""

Here is a link to a full console from a verify job (fabric-test smoke test suite) with the full logs: [https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/1212/consoleFull]

Below is an excerpt of the test logs:
*00:16:23*   @smoke*00:16:23*   Scenario: Basic operations to create a useful blockchain network  # bootstrap.feature:71*00:16:23*     Given I have a bootstrapped fabric network                      # steps/basic_impl.py:178*00:16:23* org1.example.com*00:16:23* org2.example.com*00:16:24* 2018-05-09 00:16:24.033 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.033 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.132 UTC [common/tools/configtxgen/encoder] NewChannelGroup -> WARN 003 Default policy emission is deprecated, please include policy specificiations for the channel group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.133 UTC [common/tools/configtxgen/encoder] NewOrdererGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the orderer group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.135 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the orderer org group ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.137 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the orderer org group Org1ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.138 UTC [common/tools/configtxgen/encoder] NewOrdererOrgGroup -> WARN 007 Default policy emission is deprecated, please include policy specificiations for the orderer org group Org2ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.138 UTC [common/tools/configtxgen] doOutputBlock -> INFO 008 Generating genesis block*00:16:24* 2018-05-09 00:16:24.139 UTC [common/tools/configtxgen] doOutputBlock -> INFO 009 Writing genesis block*00:16:24* 2018-05-09 00:16:24.236 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.236 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.334 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx*00:16:24* 2018-05-09 00:16:24.334 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml*00:16:24* 2018-05-09 00:16:24.336 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.338 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml*00:16:24* 2018-05-09 00:16:24.340 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007 Writing new channel tx*00:16:24* 2018-05-09 00:16:24.435 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.435 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.536 UTC [common/tools/configtxgen] doOutputAnchorPeersUpdate -> INFO 003 Generating anchor peer update*00:16:24* 2018-05-09 00:16:24.536 UTC [common/tools/configtxgen] doOutputAnchorPeersUpdate -> INFO 004 Writing anchor peer update*00:16:24* 2018-05-09 00:16:24.627 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:24* 2018-05-09 00:16:24.627 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration*00:16:24* 2018-05-09 00:16:24.724 UTC [common/tools/configtxgen] doOutputAnchorPeersUpdate -> INFO 003 Generating anchor peer update*00:16:24* 2018-05-09 00:16:24.724 UTC [common/tools/configtxgen] doOutputAnchorPeersUpdate -> INFO 004 Writing anchor peer update*00:16:38* 2018-05-09 00:16:29.901 UTC [nodeCmd] func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:38* 2018-05-09 00:16:30.988 UTC [nodeCmd] func9 -> INFO 12e Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:38* 2018-05-09 00:16:30.902 UTC [nodeCmd] func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:39* 2018-05-09 00:16:31.855 UTC [nodeCmd] func9 -> INFO 12b Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:29.901 UTC [nodeCmd] func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:30.988 UTC [nodeCmd] func9 -> INFO 12e Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:30.902 UTC [nodeCmd] func9 -> INFO 116 Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:41* 2018-05-09 00:16:31.855 UTC [nodeCmd] func9 -> INFO 12b Starting profiling server with listenAddress = 0.0.0.0:6060*00:16:46*     When a user sets up a channel                                   # steps/endorser_impl.py:49*00:16:46* 2018-05-09 00:16:46.778 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.*00:16:46* 2018-05-09 00:16:46.778 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration*00:16:46* 2018-05-09 00:16:46.887 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx*00:16:46* 2018-05-09 00:16:46.887 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml*00:16:46* 2018-05-09 00:16:46.890 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml*00:16:46* 2018-05-09 00:16:46.892 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml*00:16:46* 2018-05-09 00:16:46.895 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007 Writing new channel tx*00:17:27*     And a user deploys chaincode                                    # steps/endorser_impl.py:231*00:22:46*       Assertion Failed: The expected chaincode container 34f9290c531e11e8b13bfa163e01c9e7-peer0.org1.example.com-mycc-0 is not running*00:22:46*       Captured stdout:*00:22:46*       testConfigs: configs/34f9290c531e11e8b13bfa163e01c9e7*00:22:46*       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.tx --channelID behavesystest --timeout 300 --orderer orderer0.example.com:7050 ""]: \{'cli': ''}*00:22:46*       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp peer channel fetch config /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 ""]: \{'peer1.org2.example.com': ''}*00:22:46*       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer channel join --blockpath /var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/behavesystest.block""]: *00:22:46*       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer chaincode install --name mycc --lang GOLANG --version 0 --path github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 --orderer orderer0.example.com:7050 ""]: \{'peer1.org2.example.com': 'Error occurred [\'docker exec cli /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/34f9290c531e11e8b13bfa163e01c9e7/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com CORE_PEER_ADDRESS=peer1.org2.example.com:7051 peer chaincode install --name mycc --lang GOLANG --version 0 --path github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02 --orderer orderer0.example.com:7050 ""\']: \x1b[36m2018-05-09 00:17:40.187 UTC [grpc] Printf -> DEBU 001\x1b[0m parsed scheme: """"\n\x1b[36m2018-05-09 00:17:40.187 UTC [grpc] Printf -> DEBU 002\x1b[0m scheme """" not registered, fallback to default scheme\n\x1b[36m2018-05-09 00:17:40.187 UTC [grpc] Printf -> DEBU 003\x1b[0m ccResolverWrapper: sending new addresses to cc: [\{peer1.org2.example.com:7051 0  <nil>}]\n\x1b[36m2018-05-09 00:17:40.188 UTC [grpc] Printf -> DEBU 004\x1b[0m ClientConn switching balancer to ""pick_first""\n\x1b[36m2018-05-09 00:17:40.188 UTC [grpc] Printf -> DEBU 005\x1b[0m pickfirstBalancer: HandleSubConnStateChange: 0xc4205ca190, CONNECTING\n\x1b[36m2018-05-09 00:17:40.192 UTC [grpc] Printf -> DEBU 006\x1b[0m pickfirstBalancer: HandleSubConnStateChange: 0xc4205ca190, READY\n\x1b[36m2018-05-09 00:17:40.192 UTC [msp] GetDefaultSigningIdentity -> DEBU 007\x1b[0m Obtaining default signing identity\n2018-05-09 00:17:40.193 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 008\x1b[0m Using default escc\n2018-05-09 00:17:40.193 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 009\x1b[0m Using default vscc\n\x1b[36m2018-05-09 00:17:40.193 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 00a\x1b[0m java chaincode enabled\nError: Error getting chaincode code chaincode: path to chaincode does not exist: /opt/gopath/src/github.com/hyperledger/fabric/examples/chaincode/go/chaincode_example02\n', 'peer0.org1.example.com': 'Error occurred ... 


 ",,mastersingh24,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9964,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9dr:",,,,,,,,,,,,,,,,,,,,,mastersingh24,scottz,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 7:47 PM;mastersingh24;https://gerrit.hyperledger.org/r/21729;;;",,,,,,,,,,,,,,,,,,,,,
"Configtxgen should recover from ""Could not find profile"" panic",FAB-9974,30065,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,09/May/18 11:25 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,10/May/18 8:50 PM,,,,v1.2.0,,,fabric-tools,,,,0,,,,,"configtxgen currently recovers from a panic when the FABRIC_CFG_PATH or default dev config directory are not set ([https://github.com/hyperledger/fabric/blob/master/common/tools/configtxgen/main.go#L240).] Now that the config logic for tests has been modified via [https://gerrit.hyperledger.org/r/c/20651/,] the error handling logic for configtxgen should also be updated to recover from the following error message, which is now the most likely error for a user/developer to hit (since viper is now initialized with the sampleconfig dir when the FABRIC_CFG_PATH is not set, it will always find a configtx.yaml but that yaml won't necessarily contain the requested profile):
{code:java}
19:41:28 unit-tests_1 | [e]] 2018-05-08 19:41:18.329 UTC [common/tools/configtxgen/localconfig] Load -> CRIT 003 Could not find profile: TwoOrgsOrdererGenesis 19:41:28 unit-tests_1 | [e]] 2018-05-08 19:41:18.330 UTC [common/tools/configtxgen] func1 -> CRIT 004 Could not find profile: TwoOrgsOrdererGenesis 19:41:28 unit-tests_1 | [e]] panic: Could not find profile: TwoOrgsOrdererGenesis [recovered] 19:41:28 unit-tests_1 | [e]] panic: Could not find profile: TwoOrgsOrdererGenesis 19:41:28 unit-tests_1 | [e]] 19:41:28 unit-tests_1 | [e]] goroutine 1 [running]: 19:41:28 unit-tests_1 | [e]] github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panic(0xc4201a5d10, 0xc420409ec0, 0x1, 0x1) 19:41:28 unit-tests_1 | [e]] /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:188 +0xbd 19:41:28 unit-tests_1 | [e]] main.main.func1() 19:41:28 unit-tests_1 | [e]] /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:248 +0x115 19:41:28 unit-tests_1 | [e]] panic(0xc68a20, 0xc420409eb0) 19:41:28 unit-tests_1 | [e]] /opt/go/src/runtime/panic.go:505 +0x229 19:41:28 unit-tests_1 | [e]] github.com/hyperledger/fabric/vendor/github.com/op/go-logging.(*Logger).Panic(0xc4201a5b60, 0xc420490e00, 0x2, 0x2) 19:41:28 unit-tests_1 | [e]] /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/op/go-logging/logger.go:188 +0xbd 19:41:28 unit-tests_1 | [e]] github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.Load(0x7ffca10e4b87, 0x15, 0x0, 0x0, 0x0, 0xc42045a3a8) 19:41:28 unit-tests_1 | [e]] /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:289 +0x82f 19:41:28 unit-tests_1 | [e]] main.main() 19:41:28 unit-tests_1 | [e]] /opt/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:259 +0xce7{code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9ef:",,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/18 12:35 AM;wlahti;https://gerrit.hyperledger.org/r/c/21621/;;;",,,,,,,,,,,,,,,,,,,,,
Remove ChaincodeProviderFactory and wire ChaincodeProvider,FAB-9976,30067,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,10/May/18 12:45 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,12/May/18 2:45 AM,,,,,,,,,,,0,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9ev:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/18 2:46 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21699/;;;",,,,,,,,,,,,,,,,,,,,,
Increase build timeout in cello verify CI job.,FAB-9977,30070,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,10/May/18 2:24 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,10/May/18 5:08 AM,,,,v1.2.0,,,fabric-ci,,,,0,fabric-ci,,,,Increase build timeout in cello verify CI job from 15 mins to 30 mins to avid buid failure due to timeout.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9fb:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 5:08 AM;sambhavdutt;This change has been merged.
https://gerrit.hyperledger.org/r/#/c/21631/;;;",,,,,,,,,,,,,,,,,,,,,
`peer query` command returns incorrect error when a non-matching index is specified,FAB-9978,30071,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,AdnanChoudhury,AdnanChoudhury,10/May/18 2:33 AM,24/Jun/19 5:29 PM,28/Oct/23 3:03 AM,24/Jun/19 5:29 PM,v1.1.0,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Using CouchDB, when an index name is specified as a part of query argument in `peer query` (i.e. requesting that the mentioned index be used in the query), if the index specified is present but its fields does not match with the query fields, the output is:
 `
{code:java}
Error: error query chaincode by endorsing: status:500 message:""http: read on closed response body""{code}
`
 this is an incorrect error message. To compare, if the same query is done directly to CouchDB container of the peer, the output in the error message is more clear:
{code:java}
{""error"":""badmatch"",""reason"":"""",""ref"":1414584017}{code}
+*how to reproduce:*
 +in a fabric network with CouchDB as statedb, install-instantiate marbles02 chaincode with index specified as below:
{code:java}
{""index"": {""fields"": [""owner""]}, ""ddoc"": ""indexdoc_behave_test"", ""type"": ""json"", ""name"": ""index_behave_test""}{code}
Then do a peer query:
 `
{code:java}
peer chaincode query --name mycc1 --ctor '{\""Args\"": [\""queryMarbles\"",\""{\\\""selector\\\"":{\\\""size\\\"":5}, \\\""use_index\\\"":\\\""_design/indexdoc_behave_test\\\"", \\\""index_behave_test\\\""}\""]}' --channelID mychannel1 `{code}
i.e. ask the query to use the index but with a different field other than in the index definition.

Output:
 ```

 
{code:java}
2018-05-09 14:51:51.410 UTC [grpc] Printf -> DEBU 002 scheme """" not registered, fallback to default scheme
      2018-05-09 14:51:51.410 UTC [grpc] Printf -> DEBU 003 ccResolverWrapper: sending new addresses to cc: [\{peer0.org1.example.com:7051 0  <nil>}]
      2018-05-09 14:51:51.410 UTC [grpc] Printf -> DEBU 004 ClientConn switching balancer to ""pick_first""
      2018-05-09 14:51:51.411 UTC [grpc] Printf -> DEBU 005 pickfirstBalancer: HandleSubConnStateChange: 0xc4205f7a10, CONNECTING
      2018-05-09 14:51:51.413 UTC [grpc] Printf -> DEBU 006 pickfirstBalancer: HandleSubConnStateChange: 0xc4205f7a10, READY
      2018-05-09 14:51:51.413 UTC [msp] GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity
      2018-05-09 14:51:51.414 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 008 java chaincode enabled
      2018-05-09 14:51:51.414 UTC [msp/identity] Sign -> DEBU 009 Sign: plaintext: 0AB6070A6908031A0C088796CCD70510...785F6265686176655F74657374225D7D
      2018-05-09 14:51:51.415 UTC [msp/identity] Sign -> DEBU 00a Sign: digest: 942E4468AF1CB48D689842B13023892CD5F9640D84C24C790586FFBD824C5300
      Error: error query chaincode by endorsing: status:500 message:""http: read on closed response body""
{code}
```

+*Expected*+:
 The error message should not indicate its an http read error and should probably let the CouchDB error (""badmatch"") float up to the peer query output.",,AdnanChoudhury,chris.elder,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwzwv:",,,,,,Next Items- Ledger,,,,,,,,,,,,,,,AdnanChoudhury,chris.elder,denyeart,manish-sethi,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/May/18 4:09 AM;kchristidis;[~chris.elder]: How does this look for 1.2?;;;","12/Jun/18 1:14 AM;chris.elder;https://gerrit.hyperledger.org/r/#/c/22943/;;;","19/Jun/18 7:38 PM;manish-sethi;Merged in the master but not closing it yet as this needs to be merged in 1.1 as well.;;;","04/Dec/18 6:29 AM;denyeart;[~chris.elder] Do you still want to backport to v1.1.x?;;;","24/Jun/19 5:29 PM;denyeart;Not backported to v1.1.x.;;;",,,,,,,,,,,,,,,,,
Case insensitive data in statedb: inconsistent behavior between chaincode invoke and chaincode query ,FAB-9979,30072,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,AdnanChoudhury,AdnanChoudhury,10/May/18 3:27 AM,20/Jul/18 11:17 PM,28/Oct/23 3:03 AM,20/Jul/18 11:05 PM,,,,,,,fabric-ledger,,,,0,,,,,"*Background*:
 When Chaincode invoke is done, all the strings are flattened to lower-case and then put on ledger and statedb. For example, when a marbles02 chaincode invoke (peer invoke command) with \{""John"", ""marbles"", ""red"", ""5""}, its recorded in the statedb as \{""john"", ""marbles"", ""red"", ""5""} (note the lower-case John). 

*Observation*:
 When the Chaincode is queried (peer query command) to find records with ""John"", it fails. Query with ""john"" successfully find the record. In other words, to successfully find a record that was invoked with ""+John+"", fabric expects the query to be with ""+john+"". This expectation looks unreasonable. ",,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9fj:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 3:37 AM;denyeart;* 
 This is working as designed in the chaincode.  The chaincode logic does:
 * 
{code:java}
owner := strings.ToLower(args[3]){code}

 ;;;","10/May/18 3:56 AM;AdnanChoudhury;Thanks David Enyeart, so in other words, its a chaincode specific issue, not a fabric issue. The marbles02 cc lower-cases specific fields when doing invoke, and also lowercases them when querying via the ""queryByOwner"", but not when querying via ""queryMarbles"" i.e, when the query arguments are not processed.  ;;;",,,,,,,,,,,,,,,,,,,,
Rework ledger interfaces and read-write-set protobuf message,FAB-9980,30073,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/May/18 3:29 AM,26/Aug/18 1:15 AM,28/Oct/23 3:03 AM,10/May/18 8:33 PM,,,,,,,fabric-ledger,,,,0,,,,,"Based on the final discussion:

- Split the value write and metadata write in separate protobuf messages so that the existing event listeners do not get impacted by the presence of metadata write message

- Allow only full metadata write in the ledger APIs and defer the support of delta updates to the the metadata when we need that in future. However, allow the support of setting the value and the metadata independently.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9fr:",,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Remove RegisterACLProvider/GetACLProvider and explicitly wire provider,FAB-9981,30074,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,10/May/18 4:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,12/May/18 2:46 AM,,,,,,,,,,,0,,,,,"The acl provider registration was typically used to register a mock ACLProvider during tests.

On the production side, the registration was done when starting the peer and the argument was always {{nil}} - causing the creation and registration of the default provider. Registration was also protected by a sync.Once to ensure only the first registration would take effect. The implication appears to be that the peer will always start and register the ""default"" ACL provider.

Since we're trying to move to a model where we explicitly present dependencies to their users, it's time to remove the globally scoped, package level instance and accessor and replace it with explicit wiring and dependencies.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9fz:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/18 2:46 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21701/;;;",,,,,,,,,,,,,,,,,,,,,
Add support for collection queries,FAB-9982,30075,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/May/18 4:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,14/May/18 12:13 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9g7:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/18 12:47 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21645/;;;",,,,,,,,,,,,,,,,,,,,,
Adjust discovery protos to support cc2cc with collections,FAB-9984,30080,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/May/18 6:29 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,10/May/18 7:19 PM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9hr:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/May/18 6:48 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21647/;;;",,,,,,,,,,,,,,,,,,,,,
[Build] - Update npm modules in package.json to fetch latest release version,FAB-9987,30085,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,10/May/18 10:21 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,11/May/18 3:47 PM,,,,v1.0.7,,,fabric-samples,,,,0,ci-failure,,,,"Update npm node modules in package.json to fetch the latest release versions.

https://github.com/hyperledger/fabric-samples/blob/release-1.0/balance-transfer/package.json#L27-28
{code:java}
-    ""fabric-ca-client"": ""^1.0.0"",
-    ""fabric-client"": ""^1.0.0"",{code}
Above change will not fetch latest version published recently (1.0.7). To get the latest published version submit the change with the below config change
{code:java}
+    ""fabric-ca-client"": ""~1.0.0"",
+    ""fabric-client"": ""~1.0.0"",{code}",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10181,,,,,,,,,,"1|hzz9iv:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
LoadTest: Perform loadtest on org2peer4channels2 (FAB-7204) network on 1.2 code base,FAB-9988,30087,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,10/May/18 10:45 AM,01/Aug/19 11:40 AM,28/Oct/23 3:03 AM,01/Aug/19 11:40 AM,,,,Future,,,fabric-quality,,,,0,,,,,"Perform loadtest on org2peer4channels2 (FAB-7204) network on fabric1.2 commit levels
{code:java}
ptechannels: [
{name: ""testorgschannel1"", orgs: [""orga"", ""orgb""], orderer: ""orderer0""},
{name: ""testorgschannel2"", orgs: [""orga"", ""orgb""], orderer: ""orderer1""}
],{code}
https://github.com/rameshthoomu/fabric-pilot/blob/master/profiles/org2p4.yml",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/18 11:36 AM;rameshthoomu;multihost-pte.log;https://jira.hyperledger.org/secure/attachment/14979/multihost-pte.log","11/May/18 11:36 AM;rameshthoomu;multihost_0511013935.log;https://jira.hyperledger.org/secure/attachment/14978/multihost_0511013935.log",,,,,,,,,,,,,,,,,,,,,,"1|hzz9jb:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 11:02 AM;rameshthoomu;Test ran on fabric commit #f65e128 and attached are the logs.

All the peers, orderer and kafka logs are good and all are active. [~dongming] could you please check this error and it's consistent.
{code:java}
^[[32minfo^[[39m: [PTE 1 main]: stderr: ^[[31merror^[[39m: [Channel.js]: getChannelConfig - Failed getting channel config. Error: TypeError: Cannot read property 'data' of null
    at /opt/gopath/src/github.com/hyperledger/fabric-test/fabric-sdk-node/fabric-client/lib/Channel.js:671:65
    at <anonymous>{code}
 I have published images to `rameshthoomu/fabric-<images>:latest`. If you would like to test, please pull these images and test.. I have used cello and ATD to drive this test in OS cloud.;;;",,,,,,,,,,,,,,,,,,,,,
"After upgrading chaincode, older chaincode containers should be removed automatically as part of the chaincode upgrade process",FAB-9989,30088,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,anillewis,anillewis,10/May/18 10:56 AM,03/Aug/19 4:36 AM,28/Oct/23 3:03 AM,,v1.0.0,v1.1.0,v1.2.0,Future,,,fabric-peer,,,,0,help-wanted,,,,"After the chaincode is upgraded, older chaincode docker containers are not deleted and are left in a stale state unless the blockchain peer admin manually deletes it. This process of removing older chaincode containers should be automated as part of the chaincode upgrade process as not deleting it manually consumes resources on the host system. Several clients have requested for this feature and would recommend this feature be added in the upcoming versions.

Outdated chaincode images should also be cleaned up.",,anillewis,denyeart,dshuffma,jyellick,medhak19,MichaelWang,nao,nekia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3326,,,,,,,,,,,,,,,,,,,,,,,,,Yes,,,,,,,,,,,,,"1|hzz9jj:",,,,No,,,,,,Yes,,,,,,,,,,,anillewis,denyeart,dshuffma,jyellick,medhak19,MichaelWang,nao,nekia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jul/18 4:49 AM;dshuffma;Can someone comment/prioritize this issue. Its been asked by a few customers now. [~simsc]

its more of an issue on the service side of things. Users do not have the ability to dig into docker and kill the older chaincode containers.;;;","27/Jul/18 4:56 AM;Clayton Sims;[~denyeart] [~jyellick]   Jason - is this on your radar?   whats the cost here?;;;","27/Jul/18 5:14 AM;jyellick;The rough problem here is that each channel may have a different instantiated version of the chaincode.  So, upgrading the chaincode on channel A does not necessarily mean it is not longer needed on channel B.  So, if we were to simply remove the container on upgrade on channel A, then any transactions being simulated on channel B would immediately fail.  Further, the container would have to be restarted.

There are multiple approaches we could take.  The one that first comes to mind is perhaps to add some sort of configurable chaincode timeout.  That if a chaincode has not had any queries of invokes made against it in X minutes/hours, that it should terminate itself.  [~dshuffma] does this seem reasonable? Or is this more of a concern that the new chaincode does not have sufficient resources until the old one is stopped?;;;","27/Jul/18 5:39 AM;denyeart;The timeout approach seems reasonable, I'll tag as a candidate for v1.3.0.;;;","27/Jul/18 6:08 AM;dshuffma;[~jyellick] the timeout solution sounds great at first glance. i like it.

thinking ahead though, can this be a setting? maybe on the channel.. I know that is a bit of a mismatch, since the single chaincode container could have multiple channels. thus 1 chaincode has potentially multiple timeout rules. oh what about making install take a timeout parameter?  that's at least 1-to-1 and the user would have the ability to customize(fine grain) the timeout setting. even without a configurable setting, this solution will help greatly.

in general (for the service) launching new chaincode does not require freeing up current resources. its fine to launch many side by side. this request is more of a long-lived issue.  a network with 300 chaincode upgrades over 2 months is using 299 * x resources more than it needs.;;;","25/Sep/18 4:35 AM;anillewis;[~denyeart] - Do I need to update something? Should I be changing the Fix Version to 1.4.0? When I reported the issue, I did not set the fix version but please let me know if I need to update the fix version value;;;","25/Sep/18 11:38 AM;denyeart;I've updated to Future.;;;",,,,,,,,,,,,,,,
"Editing cleanup of identity.md -- grammar, fonts, dashes",FAB-9990,30091,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,rpjday,rpjday,rpjday,10/May/18 7:08 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"identity.md could use some cleanup:
 * grammar/wording
 * fonts
 * uniform em dashes",,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9jz:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Delete scripts/install_behave.sh and other bdd/behave assets,FAB-9991,30097,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,10/May/18 10:07 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,14/May/18 4:48 AM,,,,,,,,,,,0,hygiene,,,,There are a few dangling references to cleanup,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9742,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9k7:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Test: With a v1.2 network, test collection validation and upgrade",FAB-9992,30098,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,Senthil1,Senthil1,10/May/18 11:08 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,12/Jul/18 9:33 PM,,,,Future,,,fabric-ledger,,,,0,e2e-test,,,,"We need to test the following three meta operations
 # Collection Config: Validation
 ** The blockToLive cannot be modified
 ** The maxPeerCount cannot be lesser than the requiredPeerCount
 ** All existing collections must present in the new config during upgrades
 ** During a chaincode upgrade, if the collection config is not passed, the peer should use the existing collection config
 # Collection Config Upgrade: Membership
 ** Upgrading the membership of existing collection: (a) addition of new members; (b) removal of existing members; (b) addition of the removed member 
 ** Adding new collections
 ** Perform a set of SideDB transactions to ensure that the collection membership upgrades are respected",,denyeart,nirro,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10156,FAB-10482,FAB-10486,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfj:w",,,,,,To Do,,,,,,,,,,,,,,,denyeart,nirro,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/May/18 11:42 PM;Senthil1;Some of the test given here are already covered in [https://gerrit.hyperledger.org/r/#/c/14769/] Hence, the existing CR itself would be upgraded. ;;;","23/May/18 7:50 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/22121/;;;",,,,,,,,,,,,,,,,,,,,
"Test: With a v1.1 network and a mix of v1.1 and v1.2 executables, test collection validation, upgrade, and gossip dissemination",FAB-9993,30099,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,chris.elder,Senthil1,Senthil1,10/May/18 11:13 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,manual-test,stale-item,,,"As per the channel configuration, the fabric network would be in v1.1 mode. However, all peer and orderer executables are from v1.2 

We need to test the following three meta operations
 # Collection Config: Validation
 ** No validation on collection config in v1.1 network
 # Collection Config Upgrade: Membership
 ** Membership of an existing collection cannot be upgraded
 # Gossip Dissemination
 ** Irrespective of the slow/fast peers, gossip should disseminate the secret data to other peers as collection configs cannot be upgraded in v1.1",,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwsdr:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Test: With a v1.1 network, do a rolling upgrade of binaries and capabilities, and test collection validation, upgrade, and gossip dissemination",FAB-9994,30100,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,10/May/18 11:28 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,manual-test,stale-item,,,"# Perform a set of SideDB transactions in v1.1
 # Do a rolling upgrade to v1.2 & update the channel config for 1.2 network
 # Repeat the test performed in FAB-9992",,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfj:x",,,,,,To Do,,,,,,,,,,,,,,,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/18 10:24 PM;Senthil1;[https://gerrit.hyperledger.org/r/#/c/22399/]


To run the test, do the following
 * If any changes had been made to local master branch, please commit those changes.
 * Install jq and screen
 ** ubuntu: apt-get install jq screen
 ** mac: brew install jq screen
 * cd examples/e2e_cli/manual_test && ./rolling_upgrade_pvtdata_test.sh

Scenario:
 # There are two organization: Org1 and Org2. One peer per organization and one orderer for the whole network. Instead of docker containers for peers/orderers, we use native binaries.
 # The marbles_private chaincode is used throughout.
 # Start the network using fabric v1.1 executables without private data capability to ensure that collections definition are not allowed during chaincode instantiation
 # Enable private data capability to ensure that collections definition are allowed
 # Invoke and Query private data
 # Upgrade the network to v1.2 without enabling v12 capability to ensure that collection upgrades are not allowed during chaincode upgrade
 # Query private data stored with v1.1 network
 # Enable v12 capability to ensure that collections upgrades are allowed during chaincode upgrade 
 # Invoke and Query private data;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
"Test: With a v1.2 network (consisting blocks created with v1.0, v1.1, v1.2), add a new v1.2 peer and check the ledger integrity",FAB-9995,30104,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,10/May/18 11:41 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,Future,,,,,,,0,manual-test,stale-item,,,,,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfj:y",,,,,,To Do,,,,,,,,,,,,,,,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/May/18 10:37 PM;Senthil1;[https://gerrit.hyperledger.org/r/#/c/22583/]

To run the test, do the following
 * If any changes had been made to local master branch, please commit those changes.
 * Install jq and screen
 ** ubuntu: apt-get install jq screen
 ** mac: brew install jq screen
 * cd examples/e2e_cli/manual_test && ./data_consistency_with_a_new_peer_test.sh  

Scenario:
 # There are two organization: Org1 and Org2. One peer per organization and one orderer for the whole network. Instead of docker containers for peers/orderers, we use native binaries.
 # The marbles and marbles_private chaincodes are used throughout.
 # Start the network using fabric v1.0 executables. Install and instantiate marbles chaincode. 
 # Invoke and Query private data.
 # Upgrade the network to v1.1 without enabling without private data capability to ensure that collections definition are not allowed during chaincode instantiation
 # Invoke and Query public data
 # Enable private data capability to ensure that collections definition are allowed
 # Invoke and Query public data
 # Upgrade the network to v1.2 without enabling v12 capability to ensure that collection upgrades are not allowed during chaincode upgrade
 # Enable v12 capability to ensure that collections upgrades are allowed during chaincode upgrade 
 # Invoke and Query public data
 # Invoke and Query private data
 # Add a new peer in org2 cluster
 # Join the newly started peer to the channel and wait for the peer to fetch all missing blocks
 # On the new peer, query the public data stored while the network was in 1.0, 1.1, and 1.2
 # On the new peer, query the private data stored while the network was in 1.0, 1.1, and 1.2 ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Add validation for names of private data collections,FAB-9996,30105,30231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,10/May/18 11:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,22/May/18 10:46 PM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Collection naming rules should be the same as chaincode naming rules, as both need to be file system and couchdb database name friendly.  See FAB-7130 for details of the naming conventions for chaincode (among other things).",,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt6n:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
"Validate that private data collection is defined for chaincode, before attempting ledger operations against it",FAB-9997,30106,30231,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,10/May/18 11:55 PM,12/Sep/18 4:08 AM,28/Oct/23 3:03 AM,21/May/18 7:24 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Validate that private data collection is defined for chaincode, before attempting ledger operations against it, for example chaincode gets and puts in simulator, as well as management operations such as couchdb index creations.",,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt6v:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jun/18 6:11 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/22023/;;;",,,,,,,,,,,,,,,,,,,,,
Fabric-test tool LTE: the resultant TPS should be part of the console output,FAB-9998,30107,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,asaningmaxchain123,asaningmaxchain123,asaningmaxchain123,11/May/18 12:03 AM,30/Jul/19 11:41 AM,28/Oct/23 3:03 AM,30/Jul/19 11:41 AM,,,,,,,fabric-quality,,,,1,,,,,"Currently, when a user of LTE wants to get the resultant TPS (transaction per second), he/she has to calculate that from the generated CSV file.

*Requested Improvement*:
 The TPS number should be the part of the console output of running the LTE.
 Additionally, a progress bar showing the progress of a test can be very helpful.",,achoudhury,asaningmaxchain123,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9mv:",,,,Unset,,,,,,Unset,,,,,,,,,,,achoudhury,asaningmaxchain123,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
Gossip identity replication takes 20+ minutes,FAB-10000,30110,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,divyank,divyank,11/May/18 12:16 AM,24/Jan/19 4:01 PM,28/Oct/23 3:03 AM,19/May/18 4:11 AM,v1.3.0,v1.4.0,,,,,,,,,0,,,,,"We are occasionally seeing hundreds of warnings in the peer logs (complete log attached) as it fails to authenticate alive gossip messages:
{code:java}
[33m2018-05-01 14:34:03.027 UTC [gossip/gossip] handleMessage -> WARN 0d8[0m Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1b.domain:7051"" pki_id:""_6\206v5\233w\264\\\026\034Tgg\314w\246\326\226\310\324\376D/\354\0316\013\314q\202%"" > timestamp:<inc_num:1525185127963606881 seq_num:350 > > , Envelope: 79 bytes, Signature: 71 bytes isn't valid
{code}
I gather that this is expected during startup as it takes time for peers to learn other peer's identities but the warning persists for twenty minutes after channel creation until a ""Learned of a new certificate"" log with the missing peer's identity arrives.

We are not able to reliably reproduce this issue but have seen it during many runs of our stress tests.

+Network Setup:+

Four peers, two per org, three channels, one of which contains all orgs and the other two have one org each.

We override the following gossip settings:
{code:java}
      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0b.domain:7051
      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.domain:7051
      - CORE_PEER_GOSSIP_ORGLEADER=false
      - CORE_PEER_GOSSIP_USELEADERELECTION=false
      - CORE_PEER_GOSSIP_PULLINTERVAL=1s
      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=1s
      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=1s
      - CORE_PEER_GOSSIP_PVTDATA_MINPEERS=1
      - CORE_PEER_GOSSIP_PVTDATA_MAXPEERS=1
      - CORE_PEER_GOSSIP_PVTDATA_TRANSIENTSTOREMAXBLOCKRETENTION=500
{code}
Out of the four peers (0,0b,1,1b), peer0 and peer1 are org leaders.
 In the attached log, peer0b and peer1b are not able to discover each other and display these warnings

 ","+Network Setup:+

Four peers, two per org, three channels, one of which contains all orgs and the other two have one org each.

We override the following gossip settings:
{code:java}
      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer0b.domain:7051
      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.domain:7051
      - CORE_PEER_GOSSIP_ORGLEADER=false
      - CORE_PEER_GOSSIP_USELEADERELECTION=false
      - CORE_PEER_GOSSIP_PULLINTERVAL=1s
      - CORE_PEER_GOSSIP_REQUESTSTATEINFOINTERVAL=1s
      - CORE_PEER_GOSSIP_PUBLISHSTATEINFOINTERVAL=1s
      - CORE_PEER_GOSSIP_PVTDATA_MINPEERS=1
      - CORE_PEER_GOSSIP_PVTDATA_MAXPEERS=1
      - CORE_PEER_GOSSIP_PVTDATA_TRANSIENTSTOREMAXBLOCKRETENTION=500
{code}
Out of the four peers (0,0b,1,1b), peer0 and peer1 are org leaders.
 In the attached log, peer0b and peer1b are not able to discover each other and display these warnings",divyank,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/18 1:00 AM;divyank;defaults.yaml;https://jira.hyperledger.org/secure/attachment/14972/defaults.yaml","11/May/18 1:00 AM;divyank;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/14973/docker-compose.yaml","11/May/18 12:15 AM;divyank;log-peer0b.txt;https://jira.hyperledger.org/secure/attachment/14965/log-peer0b.txt",,,,,,,,,,,,,,,,,,,,,"1|hzz9nj:",,,,,,,,,,,,,,,,,,,,,divyank,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/18 12:32 AM;yacovm;      - CORE_PEER_GOSSIP_PULLINTERVAL=300s


are you sure it's 300 seconds and not a typo?;;;","11/May/18 12:33 AM;yacovm;Peer identities in gossip are replicated only via pull, apart from the peer startup time... so this might be the reason if it's really 300 seconds.;;;","11/May/18 12:37 AM;divyank;Sorry, that should say
- CORE_PEER_GOSSIP_PULLINTERVAL=1s
I had it set to 300s in an attempt to reproduce the issue. Updating the description.;;;","11/May/18 1:01 AM;divyank;Attached docker compose network setup for your reference.;;;","11/May/18 2:04 AM;yacovm;any chance of getting the logs with gossip in debug mode?;;;","11/May/18 5:52 AM;yacovm;oh, by the way - setting the [pull interval|https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/core.yaml#L171]  to 1 second while not also changing [the other stuff|https://github.com/hyperledger/fabric/blob/release-1.1/sampleconfig/core.yaml#L192-L197]... might break the pull protocol. ;;;","11/May/18 6:19 AM;yacovm;# The peer that pulls, sends a hello and waits *digestWaitTime*
 # The peer that receives the hello, sends a digest, and waits up to *requestWaitTime* (the peer that pulls needs to send a request before it expires)
 # The peer that pulls, sends a request and waits for the response for *responseWaitTime*.

So, the pull interval needs to be more than *digestWaitTime*+ *responseWaitTime*.
At the same time, the *digestWaitTime* ideally should be slightly below the *requestWaitTime*;;;","11/May/18 11:32 PM;divyank;Thanks Yacov, we will configure this as you suggested.

We are also running a job with the old settings and log level set to debug. I will update this issue if we are able to reproduce this behavior with debug logs.;;;","12/May/18 12:04 AM;yacovm;take a look at these values in the master branch *sampleconfig/core.yaml* for reference. ;;;","15/May/18 5:14 AM;yacovm;[~divyank] [~troyronda] any updates....? ;;;","19/May/18 4:11 AM;divyank;We have not reproduced the issue with the suggested configuration, closing.;;;",,,,,,,,,,,
Add package.json file to install node modules in PTE tool,FAB-10002,30112,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Ratnakar,Ratnakar,Ratnakar,11/May/18 1:11 AM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,11/May/18 7:09 AM,,,,,,,fabric-quality,,,,0,quality,,,,"Add package.json file to install node modules in PTE tool, instead of copying the fabric-node-sdk package.json here.",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzz9nz:",,,,Unset,,,,,,Unset,,,,,,,,,,,Ratnakar,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,true,"11/May/18 1:15 AM;Ratnakar;https://gerrit.hyperledger.org/r/#/c/21675/;;;",,,,,,,,,,,,,,,,,,,,,
PTE incorrect error message in chaincode installation,FAB-10003,30117,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,11/May/18 4:05 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,11/May/18 7:08 AM,,,,,,,fabric-quality,,,,0,,,,,"The error message in chaincode installation is incorrect

logger.error('Failed to enroll user \'admin\'. ' + err);

Should be

logger.error('[chaincodeInstall] Failed to install chaincode in (%s:%s) due to error: ', channelName, orgName, err);

 ",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzz9on:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"11/May/18 4:11 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21687/;;;",,,,,,,,,,,,,,,,,,,,,
Get current IdeMix docs into TOC (also cleanup text),FAB-10004,30118,29991,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,11/May/18 4:05 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,21/Sep/18 11:55 AM,,,,v1.1.0,,,fabric-docs,,,,0,,,,,"We have two docs on IdeMix that currently aren't in the TOC:

[http://hyperledger-fabric.readthedocs.io/en/release-1.1/idemix.html]
[http://hyperledger-fabric.readthedocs.io/en/release-1.1/idemixgen.html]

These need to get into the TOC and have some of the language and formatting cleanup up (removing references to IBM, etc).",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfj:z",,,,,,To Do,,,,,,,,,,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/18 6:36 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/21685/;;;",,,,,,,,,,,,,,,,,,,,,
Update ATD configuration in fabric-test repo,FAB-10005,30119,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,11/May/18 5:12 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,12/May/18 11:11 PM,,,,v1.2.0,,,fabric-quality,,,,0,ci-failure,,,,Update ATD gopath configuration in fabric-test repo.. Make this change sync with PTE config changes.,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9p3:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"12/May/18 11:11 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21691/;;;",,,,,,,,,,,,,,,,,,,,,
Fail CI if a .jar file is checked in,FAB-10006,30120,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,jtclark,ryjones,ryjones,11/May/18 5:39 AM,02/Sep/18 6:14 AM,28/Oct/23 3:03 AM,02/Sep/18 6:14 AM,,,,,,,,,,,0,,,,,Please fail step 1 if a jar file is checked in. See https://gerrit.hyperledger.org/r/#/c/20857/ for context,,jtclark,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10007,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9pb:",,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 5:34 AM;jtclark;Patch is currently in review: https://gerrit.hyperledger.org/r/#/c/21773/;;;","16/May/18 3:54 AM;rameshthoomu;Patch has been submitted and merged to update CI config to fail the build if jar file is checked in.. https://gerrit.hyperledger.org/r/#/c/21773/4/jjb/fabric-chaincode-java/include-raw-chaincode-java-commit-checks.sh;;;","31/Jul/18 7:06 PM;jtclark;I'd like to see if we can still get this patch set merged: https://gerrit.hyperledger.org/r/#/c/21751/

Although https://gerrit.hyperledger.org/r/#/c/21773/ adds the logic to detect if a *.jar file has been committed, the patch above will (by default) ignore *.jar files from being committed via the .gitignore.;;;",,,,,,,,,,,,,,,,,,,
Please store jar files in nexus,FAB-10007,30121,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,jtclark,ryjones,ryjones,11/May/18 5:42 AM,20/Jul/18 11:17 PM,28/Oct/23 3:03 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,"developers should not need to build jar files that are essentially static. they should be pulled from nexus.

See https://gerrit.hyperledger.org/r/#/c/20857/ for context.",,gennadyl,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10006,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9pj:",,,,,,,,,,,,,,,,,,,,,gennadyl,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/18 5:45 AM;rameshthoomu;Few questions:

Which jar file we have to publish to nexus?

Where are the steps to generate it?

Also how frequently we have to publish? [~gennadyl];;;","12/May/18 5:46 PM;gennadyl;[~rameshthoomu]
Jar location is core/chaincode/platforms/java/testdata/SimpleSample/chaincode.jar
Right now it can be totally static, so there is no need to generate it, you can take it as is, in future I will need to rebuild it from time to time, but it is post 1.2 task.
Now I have few questions:
How I will be able to access it from code? Will it be placed in same folder during build?
Now I use it in unit test. Will I be able to get this file locally, to run unit test locally?
Thanks  ;;;","15/May/18 5:33 AM;jtclark;It has been determined that there is no need to store the JAR files on the nexus repository, so this task is no longer needed. The fabric-chaincode-java ([~C0rWin], [~gennadyl]) developers had a conversation on Rocket.Chat as well as in the following patchset:

[https://gerrit.hyperledger.org/r/#/c/20857/]

Marking as *INVALID.*

 

 ;;;",,,,,,,,,,,,,,,,,,,
Fine tune pull parameters,FAB-10008,30122,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/May/18 6:35 AM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,11/May/18 10:11 AM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"Gossip pull is configured by the following parameters with the given default values:

 
{code:java}
# Determines frequency of pull phases(unit: second)
pullInterval: 4s
# Time to wait before pull engine processes incoming digests (unit: second)
digestWaitTime: 1s
# Time to wait before pull engine removes incoming nonce (unit: second)
requestWaitTime: 1s
# Time to wait before pull engine ends pull (unit: second)
responseWaitTime: 2s{code}

The pull protocol works as follows:
# The initiator, once every *pull interval* sends a hello message to some peers
# Each responding peer, upon receiving a hello - replies with a digest, and promises to send a response if received a request for the digest(s) before *requestWaitTime* expires.
# The initiator gathers waits *digestWaitTime* to collect all digests from the responding peers, and allocates the requests according to digests and sends back requests accordingly. 
# Each responding peer sends back a response with data
# The initiator waits *responseWaitTime* to all responses.

The default values of *digestWaitTime* and *requestWaitTime* are 1 second which aren't optimal... we should increase the *requestWaitTime* slightly. 


[~C0rWin]

I tested with the following test:
{code}
func TestPull(t *testing.T) {
	portPrefix := 5610
	algo.SetDigestWaitTime(time.Duration(300) * time.Millisecond)
	algo.SetRequestWaitTime(time.Duration(310) * time.Millisecond) 
	//algo.SetRequestWaitTime(time.Duration(300) * time.Millisecond) 
	algo.SetResponseWaitTime(time.Duration(200) * time.Millisecond)

	stopped := int32(0)
	go waitForTestCompletion(&stopped, t)

	n := 10
	msgsCount2Send := 10

	peers := make([]Gossip, n)
	wg := sync.WaitGroup{}
	wg.Add(n)
	for i := 1; i <= n; i++ {
		go func(i int) {
			defer wg.Done()
			pI := newGossipInstanceWithOnlyPull(portPrefix, i, 100, 0)
			pI.JoinChan(&joinChanMsg{}, common.ChainID(""A""))
			pI.UpdateLedgerHeight(1, common.ChainID(""A""))
			peers[i-1] = pI
		}(i)
	}
	wg.Wait()

	time.Sleep(time.Second)

	boot := newGossipInstanceWithOnlyPull(portPrefix, 0, 100)
	boot.JoinChan(&joinChanMsg{}, common.ChainID(""A""))
	boot.UpdateLedgerHeight(1, common.ChainID(""A""))

	knowAll := func() bool {
		for i := 1; i <= n; i++ {
			neighborCount := len(peers[i-1].Peers())
			if n != neighborCount {
				return false
			}
		}
		return true
	}

	receivedMessages := make([]int, n)
	wg = sync.WaitGroup{}
	wg.Add(n)
	for i := 1; i <= n; i++ {
		go func(i int) {
			acceptChan, _ := peers[i-1].Accept(acceptData, false)
			go func(index int, ch <-chan *proto.GossipMessage) {
				defer wg.Done()
				for j := 0; j < msgsCount2Send; j++ {
					<-ch
					receivedMessages[index]++
				}
			}(i-1, acceptChan)
		}(i)
	}

	waitUntilOrFail(t, knowAll)

	t1 := time.Now()
	for i := 1; i <= msgsCount2Send; i++ {
		boot.Gossip(createDataMsg(uint64(i), []byte{}, common.ChainID(""A"")))
	}

	receivedAll := func() bool {
		for i := 0; i < n; i++ {
			if msgsCount2Send != receivedMessages[i] {
				return false
			}
		}
		return true
	}
	waitUntilOrFailBlocking(t, wg.Wait)
	waitUntilOrFail(t, receivedAll)
	fmt.Println(""Elapsed:"", time.Since(t1))
}
{code}

When the total pull interval is 1 second.
When the request wait time and digest wait time are *both 300ms* the sync time is pretty lousy: 
{code}
Elapsed: 12.332810378s
Elapsed: 22.328394203s
Elapsed: 10.33719305s
Elapsed: 19.365986459s
Elapsed: 9.323892933s
Elapsed: 5.341059941s
Elapsed: 14.320656216s
Elapsed: 9.330490205s
Elapsed: 8.334320911s
Elapsed: 14.365369576s
Elapsed: 10.345410596s
Elapsed: 14.312947752s
Elapsed: 12.314239796s
Elapsed: 10.33379929s
Elapsed: 19.349245746s
Elapsed: 9.334648385s
{code}

Once I gave 10 more milliseconds to the request wait time (310ms total instead of 300ms) the times improved significantly:
{code}
Elapsed: 1.324676655s
Elapsed: 2.305325138s
Elapsed: 2.319018949s
Elapsed: 1.313411938s
Elapsed: 2.319686774s
Elapsed: 2.333012902s
Elapsed: 1.354115248s
Elapsed: 2.325411354s
Elapsed: 2.318554851s
Elapsed: 2.314270934s
Elapsed: 2.324762851s
Elapsed: 2.341140647s
Elapsed: 2.328180085s
Elapsed: 1.322969532s
Elapsed: 1.32131714s

{code}
",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9pr:",,,,Unset,,,,,,Unset,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/May/18 7:27 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21695/;;;",,,,,,,,,,,,,,,,,,,,,
fabric-test-verify-x86_64 reports success when it fails,FAB-10010,30127,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,ryjones,ryjones,11/May/18 9:33 AM,19/Mar/19 8:13 PM,28/Oct/23 3:03 AM,25/Sep/18 5:21 AM,,,,,,,fabric-quality,,,,0,ci-failure,,,,"fabric-test-verify-x86_64 is incorrectly reporting success when it actually fails. Look for builds that take about 20 minutes or less:

[https://jenkins.hyperledger.org/job/fabric-test-verify-x86_64/buildTimeTrend]",,latitiah,rameshthoomu,ryjones,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9pz:",,,,,,,,,,,,,,,,,,,,,latitiah,rameshthoomu,ryjones,sambhavdutt,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"12/May/18 1:29 AM;rameshthoomu;Usually fabric-test-verify job runs almost 60 mins - 90 mins.. Some time tests are skipping due to the error and shows a false positive in few mins. Based on this observation it;s better to continue build time with 240 mins. See the below unstable build.. This build ran for 1 hr 53 mins https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-verify-x86_64/1231/;;;","12/May/18 1:33 AM;ryjones;let me edit the bug;;;","21/Sep/18 12:01 AM;latitiah;https://gerrit.hyperledger.org/r/26413;;;",,,,,,,,,,,,,,,,,,,
use the utility method replace repeat code,FAB-10011,30128,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,asaningmaxchain123,asaningmaxchain123,11/May/18 11:32 AM,30/Jul/19 11:42 AM,28/Oct/23 3:03 AM,30/Jul/19 11:42 AM,,,,,,,fabric-quality,,,,0,,,,,"in the PTE, the method should be reused",,asaningmaxchain123,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9q7:",,,,Unset,,,,,,Unset,,,,,,,,,,,asaningmaxchain123,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
Peer does not reset the retry count for idle channel,FAB-10012,30129,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,rhegde,rhegde,11/May/18 12:26 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,30/May/18 9:03 PM,v1.0.6,v1.1.0,,v1.2.0,,,fabric-peer,,,,0,,,,,"Fabric Release - 1.0.6

Setup - Orderer with Kafka Consensus

 

Step to reproduce - 

1. Peer is connected to the ord01 and the connection reset between them for the channel. 
{code:java}
2018-05-10 08:49:19.811 CEST [deliveryClient] try -> WARN 2352 Got error: rpc error: code = Internal desc = stream terminated by RST_STREAM with error code: 2 , at 1 attempt. Retrying in 1s{code}
2.  Peer re-attempt the connection successfully for the channel. Ensure there is absolutely no ledger transactions on that channel. Again there is connection RST between that peer and orderer.
{code:java}
2018-05-10 08:51:06.606 CEST [deliveryClient] try -> WARN 248e Got error: rpc error: code = Internal desc = stream terminated by RST_STREAM with error code: 2 , at 1 attempt. Retrying in 1s
{code}
 
 3. Peer re-attempt the connection successfully for the channel. Ensure there is absolutely no ledger transactions on that channel. Again there is connection RST between that peer and orderer. 
{code:java}
018-05-10 09:04:20.827 CEST [deliveryClient] try -> WARN 2dbb Got error: rpc error: code = Internal desc = stream terminated by RST_STREAM with error code: 2 , at 2 attempt. Retrying in 2s{code}
 

Even after a successfully connection by peer ,the retry count is not reset.

Following pattern continues for 10 retry count whose wait seconds before connection retry is 512 seconds > 5 mins.

Since this crosses the threshold retry connect time - peer  gives up and does not perform any further connection retry with the orderer. The only option is restarting the Peer process.",,C0rWin,gennadyl,kchristidis,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9qf:",,,,,,,,,,,,,,,,,,,,,C0rWin,gennadyl,kchristidis,rhegde,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 12:22 AM;kchristidis;/cc [~C0rWin];;;","18/May/18 2:33 AM;C0rWin;thanks [~kchristidis] will take a look;;;","22/May/18 1:09 AM;gennadyl;[~rhegde] What toll do you use to run this test? I want to check couple of possible solutions...;;;","22/May/18 1:49 AM;rhegde;We found this problem during run using nghttpx proxy between peer and orderer. There was connection reset between them. You need to ensure there is no ledger transaction on that channel. If there is any ledger transaction the reset counter is reseted back.;;;",,,,,,,,,,,,,,,,,,
"""network e2ecli_default not found"" causing Chaincode instantiation on PEER2 on channel 'xx' failed",FAB-10013,30130,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,thinkingincrowd,thinkingincrowd,11/May/18 3:14 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,23/May/18 6:08 AM,v1.1.0,,,DUPLICATE,,,fabric-samples,,,,0,,,,,"After executing the command ""CHANNEL_NAME=kc TIMEOUT=1000 docker-compose -f docker-compose-cli.yaml up -d"" in examples/e2e_cli folder, all the containers are started up.

 

I checked logs from the cli container and found below error.
{code:java}
2018-05-11 03:46:56.764 UTC [chaincodeCmd] install -> DEBU 010 Installed remotely response:<status:200 payload:""OK"" > 
2018-05-11 03:46:56.764 UTC [main] main -> INFO 011 Exiting.....
===================== Chaincode is installed on remote peer PEER2 ===================== 

Instantiating chaincode on org2/peer2...
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_LOCALMSPID=Org2MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
2018-05-11 03:46:56.987 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-05-11 03:46:56.987 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-05-11 03:46:56.995 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
2018-05-11 03:46:56.995 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
2018-05-11 03:46:56.996 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 005 java chaincode disabled
2018-05-11 03:46:56.996 UTC [msp/identity] Sign -> DEBU 006 Sign: plaintext: 0ABC070A6008031A0C08B0A4D4D70510...535010030A04657363630A0476736363 
2018-05-11 03:46:56.996 UTC [msp/identity] Sign -> DEBU 007 Sign: digest: 3C97BAC52BBCC5D2D877EE91E67CE8BBC8C907E7AAE0118F15F0F66E027E93D9 
Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): {""message"":""network e2ecli_default not found""}

Usage:
peer chaincode instantiate [flags]

Flags:
-C, --channelID string The channel on which this command should be executed
--collections-config string The file containing the configuration for the chaincode's collection
-c, --ctor string Constructor message for the chaincode in JSON format (default ""{}"")
-E, --escc string The name of the endorsement system chaincode to be used for this chaincode
-l, --lang string Language the chaincode is written in (default ""golang"")
-n, --name string Name of the chaincode
-P, --policy string The endorsement policy associated to this chaincode
-v, --version string Version of the chaincode specified in install/instantiate/upgrade commands
-V, --vscc string The name of the verification system chaincode to be used for this chaincode

Global Flags:
--cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
--certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint
--clientauth Use mutual TLS when communicating with the orderer endpoint
--keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint
--logging-level string Default logging level and overrides, see core.yaml for full syntax
-o, --orderer string Ordering service endpoint
--ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer.
--tls Use TLS when communicating with the orderer endpoint
--transient string Transient map of arguments in JSON encoding

!!!!!!!!!!!!!!! Chaincode instantiation on PEER2 on channel 'kc' failed !!!!!!!!!!!!!!!!
================== ERROR !!! FAILED to execute End-2-End Scenario ==================
{code}
After I changed the peer-base.xml in e2e_cli/base:
{code:java}
// From
- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2ecli_default

// To
- CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=e2e_cli_default{code}
The script can be run through successfully to the end printed with message ""All GOOD, End-2-End execution completed""",,kchristidis,thinkingincrowd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9qn:",,,,,,,,,,,,,,,,,,,,,kchristidis,thinkingincrowd,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 6:08 AM;kchristidis;Should be taken care of. See: https://jira.hyperledger.org/browse/FAB-10069?focusedCommentId=44696&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-44696

Update if that is not the case.;;;",,,,,,,,,,,,,,,,,,,,,
Add make target for integration tests,FAB-10017,30143,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,12/May/18 1:39 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 7:58 PM,,,,,,,fabric-ci,,,,0,,,,,"There should be a way to run integration tests separately from unit tests. This task adds a new target 'integration-test' to the Makefile for use by CI. 

This is needed because certain integration test scenarios will use docker containers and should not run within a test specified docker container.",,rameshthoomu,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9xb:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,sykesm,wlahti,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 2:41 AM;rameshthoomu;[~wlahti] We can help you here in adding integration tests in fabric CI process. But I have few questions before we start working on this..
 # Do we need a new job for this? like we have in fabric build process mentioned here [http://ci-management1.readthedocs.io/en/latest/fabric_ci_process.html#build-process]
 # If we need a new job, do you want me to run this job parallel to smoke test job?
 # I have to ask LF (Linux Foundation) team to create a new label for Integration test.

Once you confirm will work on this.;;;","16/May/18 4:38 AM;sykesm;# Yes.
 # No. Either parallel with units or after.;;;","16/May/18 4:41 AM;rameshthoomu;Thanks [~sykesm]. Will create a parallel job with unit-tests. Once this change is merged [https://gerrit.hyperledger.org/r/#/c/21715/] will push CI change;;;",,,,,,,,,,,,,,,,,,,
Address comment about space after tx-id from review,FAB-10018,30144,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,12/May/18 1:44 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,15/May/18 12:44 AM,,,,v1.2.0,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9xj:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/May/18 1:48 AM;sykesm;https://gerrit.hyperledger.org/r/21709;;;",,,,,,,,,,,,,,,,,,,,,
"Bootstrap and related behave tests are failing as chaincode container is not running, Assertion Failed.",FAB-10019,30145,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,AdnanChoudhury,sambhavdutt,sambhavdutt,12/May/18 3:04 AM,05/Apr/19 10:30 PM,28/Oct/23 3:03 AM,05/Apr/19 10:30 PM,,,,v1.2.0,,,fabric-quality,,,,1,ci-failure,,,,"Bootstrap, chaincodes, gossip tests fail in the fabric-test-daily, noticed the fails copied below in all cases, 
*fabric-test Commit: 23199ef*

{code:java}
Failing step: And a user deploys chaincode ... failed in 353.184s
Location: bootstrap.feature:95
Assertion Failed: The expected chaincode container c3cd905054db11e8ad67fa163e05aa01-peer0.org1.example.com-mycc-0 is not running

pickfirstBalancer: HandleSubConnStateChange: 0xc4204e43e0, READY\n2018-05-11 05:19:47.256 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00e\x1b[0m Using default escc\n2018-05-11 05:19:47.256 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 00f\x1b[0m Using default vscc\n\x1b[36m2018-05-11 05:19:47.256 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 010\x1b[0m java chaincode enabled\n\x1b[36m2018-05-11 05:19:47.258 UTC [msp/identity] Sign -> DEBU 011\x1b[0m Sign: plaintext: 0AB7070A6A08031A0B08F3CFD4D70510...30300A000A04657363630A0476736363 \n\x1b[36m2018-05-11 05:19:47.258 UTC [msp/identity] Sign -> DEBU 012\x1b[0m Sign: digest: C7F559C2FC1007E74D35A532C77CD8A06C513CC64D2B12C67DB963471DC22864 \nError: Could not assemble transaction, err Proposal response was not successful, error code 500, msg error starting container: error starting container: API error (400): OCI runtime create failed: container_linux.go:348: starting container process caused ""exec: \\""chaincode\\"": executable file not found in $PATH"": unknown\n'}}
{code}
",,AdnanChoudhury,jarvis26,nitishbhardwaj19,nnao,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9xr:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,jarvis26,nitishbhardwaj19,nnao,sambhavdutt,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,true,"14/May/18 6:07 AM;sambhavdutt;Behave tests are failing in the fabric-test-daily from 11th May due to chaincode error in multiple tests,

*fabric-test Commit: 3de165e*


{code:java}
4:59:07     When a user sets up a channel                                                                                           # steps/endorser_impl.py:49
04:59:07 2018-05-12 04:59:07.876 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
04:59:07 2018-05-12 04:59:07.876 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration
04:59:07 2018-05-12 04:59:07.914 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
04:59:07 2018-05-12 04:59:07.914 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml
04:59:07 2018-05-12 04:59:07.915 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml
04:59:07 2018-05-12 04:59:07.915 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml
04:59:07 2018-05-12 04:59:07.916 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007 Writing new channel tx
04:59:41     And a user deploys chaincode                                                                                            # steps/endorser_impl.py:239
05:05:04       Assertion Failed: The expected chaincode container 27d4f89455a111e889c8fa163ede8983-peer0.org1.example.com-mycc-0 is not running
05:05:04       Captured stdout:
05:05:04       testConfigs: configs/27d4f89455a111e889c8fa163ede8983
05:05:04       [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/27d4f89455a111e889c8fa163ede8983/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/27d4f89455a111e889c8fa163ede8983/behavesystest.tx --channelID behavesystest --timeout 300 --orderer orderer0.example.com:7050 ""]: {'cli': ''}
{code}


*Build Log for Bootstrap*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/349/testReport/bootstrap/Bootstrapping%20Hyperledger%20Fabric/FAB_4776_FAB_4777__Bring_up_a_kafka_based_network_and_check_peers_____1_1_/

;;;","16/May/18 12:19 AM;sambhavdutt;The chaincode container fail is blocking the following tests, in daily and smoke tests

*fabric-test-daily-x86_64*

*1. Bootstrap*
*2. Chaincode-testing*
{code:java}
Failing step: And a user deploys chaincode ... failed in 329.698s
Location: bootstrap.feature:95
Assertion Failed: The expected chaincode container ccc7af2e580511e8a471fa163e03c637-peer0.org1.example.com-mycc-0 is not running
Captured stdout:
testConfigs: configs/ccc7af2e580511e8a471fa163e03c637
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/ccc7af2e580511e8a471fa163e03c637/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/ccc7af2e580511e8a471fa163e03c637/behavesystest.tx --channelID behavesystest --timeout 300 --orderer orderer0.example.com:7050 ""]: {'cli': ''}
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/ccc7af2e580511e8a471fa163e03c637/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp peer channel fetch config /var/hyperledger/configs/ccc7af2e580511e8a471fa163e03c637/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 ""]: {'peer1.org2.example.com': ''}
{code}

*3. Gossip*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/352/testReport/gossip/Gossip%20Service/_FAB_4663___FAB_4664___FAB_4665__A_non_leader_peer_goes_down_by_disconnect__comes_back_up_and_catches_up_eventually______1_3_/

*fabric smoke tests(daily, verify, merge)*

*fabric-test Commit: d556210*

*Bootstrap*

{code:java}
Failing step: And a user deploys chaincode ... failed in 326.282s
Location: bootstrap.feature:74
Assertion Failed: The expected chaincode container c2b58f3057c211e881f2fa163ef71549-peer0.org1.example.com-mycc-0 is not running
Captured stdout:
testConfigs: configs/c2b58f3057c211e881f2fa163ef71549
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/c2b58f3057c211e881f2fa163ef71549/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/c2b58f3057c211e881f2fa163ef71549/behavesystest.tx --channelID behavesystest --timeout 300 --orderer orderer0.example.com:7050 ""]: {'cli': ''}
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/c2b58f3057c211e881f2fa163ef71549/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp peer channel fetch config /var/hyperledger/configs/c2b58f3057c211e881f2fa163ef71549/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 ""]: {'peer1.org2.example.com': ''}
[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/c2b58f3057c211e881f2fa163ef71549/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp CORE_PEER_LOCALMSPID=org2.example.com CORE_PEER_ID=peer1.org2.example.com
{code}
 
*Build Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/281/testReport/bootstrap/Bootstrapping%20Hyperledger%20Fabric/Basic_operations_to_create_a_useful_blockchain_network/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/281/;;;","16/May/18 1:44 AM;nnao;Do we need to add 'cmd' path to chaincode path? Because chaincode.go doesn't have main(). 
{code:java}
-  And a user deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example05"" with args [""init"",""sum"",""0""] with name ""myex05""
+  And a user deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example05/cmd"" with args [""init"",""sum"",""0""] with name ""myex05""
{code}

I added 'cmd' at path then test. I got a success at ""Scenario: FAB-4720"", but I got an error at ""Scenario: FAB-4703"" in chaincodes.feature;;;","22/May/18 2:57 AM;AdnanChoudhury;Thanks [~nnao], I will go ahead and change the directory for the feature files.;;;","22/May/18 3:48 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/22071/;;;","03/Feb/19 3:04 PM;jarvis26;I am still facing the same issue when trying to configure a network with fabric version 1.4. Commands to install and instantiate the chaincode are as follows:

 
{code:java}
peer chaincode install -n testchanicode -v 3.0 -p github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}'
peer chaincode instantiate -o <orderer-ip->:7050 --tls $CORE_PEER_TLS_ENABLED --cafile /var/hyperledger/<tls cert file>.pem -C testchannel1 -n testchanicode -v 3.0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}'
{code}
 ;;;","03/Feb/19 3:21 PM;nitishbhardwaj19;I am facing this too. I am using Fabric 1.4. I have already set $PATH variable till
{noformat}
/opt/go/src/github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd{noformat}
in bashrc as well as in cli container.

 

 
{noformat}
Commands used:
peer chaincode install -n samplechaincode -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' peer chaincode instantiate -o <orderer-ip->:7050 --tls $CORE_PEER_TLS_ENABLED --cafile /var/hyperledger/<tls cert file>.pem -C mychannel -n samplechaincode -v 1.0 -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}'
{noformat}
 
{noformat}
Error:
OCI runtime create failed: container_linux.go:344: starting container process caused ""exec: \""chaincode\"": executable file not found in $PATH"": unknown
{noformat}
 

FYI - [~AdnanChoudhury], [~jarvis26];;;","03/Feb/19 6:25 PM;jarvis26;Hi.. just figured out a way for this to work - I set the
{code:java}
CC_SRC_PATH=github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd{code}
and referenced this while installing the chaincode as
{code:java}
peer chaincode install -n test1 -v 1.0 -l golang -p ${CC_SRC_PATH} -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}'{code}
and then doing an instantiate 
{code:java}
peer chaincode instantiate o <orderer-ip>:7050 --tls $CORE_PEER_TLS_ENABLED --cafile /var/hyperledger/<tls-cert.pem file> -C testchannel1 -n test1 -v 1.0 -l golang -c '{""Args"":[""init"",""a"",""100"",""b"",""200""]}' -P ""OR('Org1MSP.member')""{code}
 

[~AdnanChoudhury] Could you please verify if this is a bug with the existing code because as mentioned in my previous comment, the only change here is that I gave the exact same relative path against CC_SRC_PATH. In my opinion, it should take it even if the path is directly against the -p flag.

[~nitishbhardwaj19] Could you please replicate and verify, if this works for you as well.;;;","22/Mar/19 12:51 AM;nitishbhardwaj19;[~jarvis26] Yes, it worked with the steps you mentioned. Thanks.;;;",,,,,,,,,,,,,
make file markdown document,FAB-10020,30148,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,davidkhala,davidkhala,12/May/18 1:00 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,v1.1.0,,,,,,fabric-docs,,,,0,stale-item,,,,"Recently I am finding solution about how to build docker image of fabric family from source code. But most documents are talking about 'you have to have vagrant first'.

What I want is a non-vagrant and docker only build solution.

Then I found all I want has been implemented in MakeFile.

Still, I could not find verbose document about using MakeFile",,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9y7:",,,,Unset,,,,,,Unset,,,,,,,,,,,davidkhala,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Typo in  fabric-samples/balance-transfer/[typescript/]testAPIs.sh,FAB-10021,30149,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Won't Do,weikengchen,weikengchen,weikengchen,12/May/18 11:46 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,Future,,,fabric-samples,,,,0,stale-item,,,,"There is a typo for transaction in testAPIs.sh

I used Hyperledger Fabric in my course project. The sample code is very helpful example in writing my own chaincod. Thank!

diff --git a/balance-transfer/testAPIs.sh b/balance-transfer/testAPIs.sh
index 57673c6..e83a672 100755
--- a/balance-transfer/testAPIs.sh
+++ b/balance-transfer/testAPIs.sh
@@ -170,7 +170,7 @@ TRX_ID=$(curl -s -X POST \
        ""fcn"":""move"",
        ""args"":[""a"",""b"",""10""]
 }')
-echo ""Transacton ID is $TRX_ID""
+echo ""Transaction ID is $TRX_ID""
 echo
 echo
 
diff --git a/balance-transfer/typescript/testAPIs.sh b/balance-transfer/typescript/testAPIs.sh
index 63430ad..8447ad2 100755
--- a/balance-transfer/typescript/testAPIs.sh
+++ b/balance-transfer/typescript/testAPIs.sh
@@ -128,7 +128,7 @@ TRX_ID=$(curl -s -X POST \
        ""fcn"":""move"",
        ""args"":[""a"",""b"",""10""]
 }')
-echo ""Transacton ID is $TRX_ID""
+echo ""Transaction ID is $TRX_ID""
 echo
 echo",,sykesm,weikengchen,,,,,,,,,,,,,,,,3600,3600,,0%,3600,3600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9yf:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,weikengchen,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 12:17 AM;weikengchen;The Gerrit Review for this: https://gerrit.hyperledger.org/r/#/c/21721/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
Fabric Samples/Binaries: curl downloads couchdb/zookeeper/kafka image with older tags?,FAB-10022,30150,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,atcvince,atcvince,12/May/18 11:57 PM,30/Jul/19 11:59 AM,28/Oct/23 3:03 AM,30/Jul/19 11:59 AM,,,,,,,,,,,0,,,,,"When installing Fabric Samples & Binaries using the curl command (found in [http://hyperledger-fabric.readthedocs.io/en/latest/install.html]), the couchdb, zookeeper, and kafka images w/ tag *x86_64-0.4.6* are downloaded.

However, in Docker Hub, the most recent version of those images have the tag *x86_64-0.4.7*.  Will there be a change coming?  Please advise.

Advance apologies if this is already a known issue.  I tried searching on JIRA but couldn't find anything.

 ",,atcvince,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9yn:",,,,Unset,,,,,,Unset,,,,,,,,,,,atcvince,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
implement merging for PrincipalSets,FAB-10023,30151,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/May/18 12:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 8:04 PM,,,,,,,,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9yv:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 10:39 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/21723/;;;",,,,,,,,,,,,,,,,,,,,,
Including cid library in fabric docker images,FAB-10024,30152,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Test Error,,arman19940326,arman19940326,13/May/18 12:30 AM,20/Dec/18 7:54 PM,28/Oct/23 3:03 AM,01/Dec/18 8:18 PM,v1.1.0,,,Not a Bug,,,,,,,0,,,,,"I brought up the balance-transfer network but instead of the default chaincode used a different one. In this new chaincode I imported the cid library to be able to do some basic access control operations. The problem is it appears that the docker images relating to chaincode instantiation do not include this library by default. This is the error I encountered when trying to instantiate the chaincode:

error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: error starting container: Failed to generate platform-specific docker build: Err$
 /opt/go/src/github.com/hyperledger/fabric/core/chaincode/lib/cid (from $GOROOT)
 /chaincode/input/src/github.com/hyperledger/fabric/core/chaincode/lib/cid (from $GOPATH)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/lib/cid

 

How can I get around this bug? (I use Fabric Version 1.1)",,arman19940326,mastersingh24,rohitkhatri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9z3:",,,,,,,,,,,,,,,,,,,,,arman19940326,mastersingh24,rohitkhatri,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/May/18 7:14 PM;mastersingh24;[~arman19940326] - You need to vendor the cid library with your chaincode using a utility such as govendor.;;;","16/May/18 8:46 PM;arman19940326;Thanks. It helped and I was able to instantiate the chaincode successfully.;;;","20/Dec/18 3:02 PM;rohitkhatri;Hey [~arman19940326], how did you fix the issue, can you please guide me, I am stuck on it and couldn't find any solution. Thanks;;;","20/Dec/18 7:20 PM;arman19940326;Hi. 

As [~mastersingh24] mentioned I used govendor to solve the problem. This utility places all my go dependencies in a folder named vendor. Then I placed my chaincode along with the vendor folder in the directory my app expected. In my case because I was working with balance transfer example I placed them under ( balance-transfer/artifacts/src/github.com/ ). Go searches vendor folder whenever it depends on an external library. 

This is How I imported the libraries I needed in my chaincode:

 

import (

""bytes""

""encoding/json""

""errors""

""fmt""

""strconv""

""time""

""github.com/golang/protobuf/ptypes""

""github.com/hyperledger/fabric/core/chaincode/lib/cid"" ""github.com/hyperledger/fabric/core/chaincode/shim"" ""github.com/hyperledger/fabric/protos/peer""

)

Also these links provide useful information about govendor.

[https://blog.gopheracademy.com/advent-2015/vendor-folder/]

[https://github.com/kardianos/govendor]

 

 ;;;","20/Dec/18 7:27 PM;rohitkhatri;[~arman19940326] Thanks for your reply, how did you manage to install `github.com/hyperledger/fabric/core/chaincode/lib/cid`, because on my hyperledger fabric 1.1, the lib folder doesn't exist, did you use go get command to install that package or cloned the repo and copied items from there?;;;","20/Dec/18 7:40 PM;arman19940326;I remember copying the whole Fabric 1.1 repo into my GOPATH and then running the govendor commad from there. I guess you should run govendor from your GOPATH to be able to import libraries that are in your GOPATH. 

I Copied the below Q/A form Govendor FAQ ( https://github.com/kardianos/govendor/blob/master/doc/faq.md ).
h4. Q: I have a working program with dependencies in $GOPATH. I want to vendor now.

A: Run {{govendor add +external}}.;;;","20/Dec/18 7:49 PM;rohitkhatri;Do I need to be in the /opt/gopath/src/github.com/hyperledger/fabric directory to run govendor add +external command?;;;","20/Dec/18 7:54 PM;rohitkhatri;It worked, thanks [~arman19940326];;;",,,,,,,,,,,,,,
Simplify test env clean up for statecouchdb,FAB-10025,30153,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,ping40,manish-sethi,manish-sethi,13/May/18 12:30 PM,22/Sep/18 5:43 PM,28/Oct/23 3:03 AM,22/Sep/18 5:43 PM,,,,v1.3.0,,,fabric-ledger,,,,0,hygiene,,,,"Make `env.Cleanup()` a single call. Record all the db names (that gets created by a test) inside test env and perform clean up on all at the end.

Right now, its not easy to use when someone has to specify all the db names manually
e.g., - https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb_test.go#L72

",,manish-sethi,ping40,,,,,,,,,,,,,,,,,,,,,,,,FAB-12051,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzz9zb:",,,,Unset,,,,,,Unset,,,,,,,,,,,manish-sethi,ping40,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/18 5:17 PM;ping40;https://gerrit.hyperledger.org/r/#/c/26448/;;;",,,,,,,,,,,,,,,,,,,,,
While TransientStore need to filter out collections config based on filter provided,FAB-10026,30154,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,13/May/18 8:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 11:07 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"There is a new API was added to TransientStore to support retrieval of private collection endorsement along with the collections config available during endorsement. 

{code}
// PersistWithConfig stores the private write set of a transaction along with the collection config
/ in the transient store based on txid and the block height the private data was received at
PersistWithConfig(txid string, blockHeight uint64, privateSimulationResultsWithConfig *transientstore.TxPvtReadWriteSetWithConfigInfo) error
{code}

where {{RWSetScanner}} API was extended with 

{code}
NextWithConfig() (*EndorserPvtSimulationResultsWithConfig, error)
{code}

function, that takes care to filter our irrelevant collections based on filter provided to 
{{Store#GetTxPvtRWSetByTxid}} function, i.e.:

{code}
GetTxPvtRWSetByTxid(txid string, filter ledger.PvtNsCollFilter) (RWSetScanner, error)
{code}

the implementation works as following:

{code}
func (scanner *RwsetScanner) NextWithConfig() (*EndorserPvtSimulationResultsWithConfig, error) {
	if !scanner.dbItr.Next() {
		return nil, nil
	}
	dbKey := scanner.dbItr.Key()
	dbVal := scanner.dbItr.Value()
	_, blockHeight := splitCompositeKeyOfPvtRWSet(dbKey)

	txPvtRWSet := &rwset.TxPvtReadWriteSet{}
	filteredTxPvtRWSet := &rwset.TxPvtReadWriteSet{}
	txPvtRWSetWithConfig := &transientstore.TxPvtReadWriteSetWithConfigInfo{}

	if dbVal[0] == nilByte {
		// new proto, i.e., TxPvtReadWriteSetWithConfigInfo
		if err := proto.Unmarshal(dbVal[1:], txPvtRWSetWithConfig); err != nil {
			return nil, err
		}
		filteredTxPvtRWSet = trimPvtWSet(txPvtRWSetWithConfig.GetPvtRwset(), scanner.filter)
	} else {
		// old proto, i.e., TxPvtReadWriteSet
		if err := proto.Unmarshal(dbVal, txPvtRWSet); err != nil {
			return nil, err
		}
		filteredTxPvtRWSet = trimPvtWSet(txPvtRWSet, scanner.filter)
	}

	txPvtRWSetWithConfig.PvtRwset = filteredTxPvtRWSet

	return &EndorserPvtSimulationResultsWithConfig{
		ReceivedAtBlockHeight:          blockHeight,
		PvtSimulationResultsWithConfig: txPvtRWSetWithConfig,
	}, nil
}
{code}

taking care to trim not related collections

{code}
filteredTxPvtRWSet = trimPvtWSet(txPvtRWSet, scanner.filter)
{code}

However since collection config is now also propagated and returned we need to take care and filter out collection config based on filter provided to {{GetTxPvtRWSetByTxid}} API",,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9923,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9zj:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,troyronda,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 8:28 PM;C0rWin;https://gerrit.hyperledger.org/r/21731;;;",,,,,,,,,,,,,,,,,,,,,
Implement cc2cc queries,FAB-10027,30155,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/May/18 10:39 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 7:52 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9zr:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 12:04 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21807/;;;",,,,,,,,,,,,,,,,,,,,,
Refactor PeersForEndorsement to fit multiple chaincodes,FAB-10028,30156,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/May/18 10:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 11:45 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzz9zz:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/18 8:23 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21745/;;;",,,,,,,,,,,,,,,,,,,,,
Add to committer capabilities to retreive collection config,FAB-10029,30157,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,13/May/18 11:02 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 11:27 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"Since {{Coordinator}} and {{Committer}} encapsulates API's of the ledger to the minimal required functional sub-set and FAB-9203 introduces a new {{PeerLedger}} API which is:

{code}
	// GetConfigHistoryRetriever returns the ConfigHistoryRetriever
	GetConfigHistoryRetriever() (ConfigHistoryRetriever, error)
{code}

required to retrieve collection configurations, i.e.

{code}
type ConfigHistoryRetriever interface {
	CollectionConfigAt(blockNum uint64, chaincodeName string) (*CollectionConfigInfo, error)
	MostRecentCollectionConfigBelow(blockNum uint64, chaincodeName string) (*CollectionConfigInfo, error)
}
{code}


There is a need to extend {{Committer}} API to expose this functionally since it need to be used by {{StorageDataRetreiver}} ({{dataRetriever}}) while building collection read-write set based on the digest received from gossip layer.",,C0rWin,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza07:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,troyronda,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/May/18 11:06 PM;C0rWin;https://gerrit.hyperledger.org/r/21737;;;",,,,,,,,,,,,,,,,,,,,,
green path chaincode to chaincode call fails ,FAB-10030,30158,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,14/May/18 1:57 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,24/May/18 6:37 AM,v1.2.0,,,v1.2.0,,,fabric-peer,,,,0,,,,,Chaincode to chaincode calls should pass the returned proto.ChaincodeMessage as payload and not proto.Response,,kchristidis,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza0f:",,,,,,,,,,,,,,,,,,,,,kchristidis,muralisr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/18 2:53 AM;muralisr;https://gerrit.hyperledger.org/r/#/c/21739/;;;","22/May/18 9:05 PM;muralisr;[~sykesm] this is on my list to address this week. Assigning it back to me. ;;;","22/May/18 9:08 PM;kchristidis;How can this affect a version that has not been released?;;;","22/May/18 9:18 PM;muralisr;[~kchristidis] this is problem introduced in recent changes so does not affect 1.1. But to your point, ""affected version"" could be left blank ? not sure what the convention is here.;;;","22/May/18 9:22 PM;kchristidis;Thanks Murali, that clarifies it. I think v1.2 as Matt had set it should do the trick then. Updating accordingly.;;;","24/May/18 6:00 AM;muralisr;https://gerrit.hyperledger.org/r/#/c/21739/ abandoned. Same fix with but with review comments addressed in https://gerrit.hyperledger.org/r/#/c/22095/ and merged.;;;",,,,,,,,,,,,,,,,
Add ability to toggle cache in peer config,FAB-10031,30160,19464,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,14/May/18 8:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 10:19 PM,,,,,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza0n:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/May/18 8:45 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21747/;;;",,,,,,,,,,,,,,,,,,,,,
Fix the signature of the metadata related functions in Ledger interface,FAB-10035,30168,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,14/May/18 11:47 PM,26/Aug/18 12:15 AM,28/Oct/23 3:03 AM,15/May/18 5:36 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt7r:",,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 4:49 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/21755/;;;",,,,,,,,,,,,,,,,,,,,,
Add support for metadata in the ledger commit path,FAB-10036,30171,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/May/18 1:03 AM,25/Aug/18 10:18 PM,28/Oct/23 3:03 AM,25/Aug/18 10:16 PM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,"During validation and preparation of the update batch, make change in the ledger to handle the presence of metadata in the RWSet.

Following are the semantics:

For each *key* that is present in the writes in the read-write set (either because of an update to value, or an update to metadata, or both), the final *value* and *metadata* that should be committed to the state-db (along with the block commit) is derived as follows
 - Take the value from the highest valid transaction (*Tv*) that updates the value
 - Take the metadata from the highest valid transaction (*Tm*) that updates the metadata
 - Construct the the final tuple < value, metadata, version > for the key as
 < value in *Tv*, metadata in *Tm*, _max_(version of *Tv*, version of *Tm*) >
 - If *Tv* indicates delete of the key, the  final tuple also indicates the delete of the key

Note that both *Tv* and *Tm* may be either:
 * The same transaction
 * Different transactions in the same block 
 * One of them may already be committed to the state-db as of last committed block.

Further, note that if only *Tv* is present and there is no corresponding *Tm*, the tuple <value, metadata, version> is created with a *nil* metadata. However, if only *Tm* is present with no corresponding *Tv* ( i.e, a transaction tries to update the metadata for a non-existing key), the metadata update of *Tm* has no effect on state.

In other words, *Tv* implies the upsert semantics for a key, while the *Tm* carries update semantics. The main reason of this difference in semantics is to allow the same semantics of a read-write set as as of fabric version 1.1 for the existing protobuf messages (_KVWrite_) and hence the event listeners keep behaving in the same manner",,manish-sethi,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt3r:",,,,,,,,,,,,,,,,,,,,,manish-sethi,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 4:52 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/21775/;;;",,,,,,,,,,,,,,,,,,,,,
Attempt to achieve high throughput in Hyperledger Fabric network,FAB-10037,30172,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,krabradosty,krabradosty,15/May/18 1:25 AM,30/Jul/19 11:59 AM,28/Oct/23 3:03 AM,30/Jul/19 11:59 AM,,,,,,,,,,,0,,,,,I've performed load tests with Fabric and I have some questions and useful information. I created my question on the StackOverflow. Please share this question with Fabric developers that can help. https://stackoverflow.com/questions/50334489/performance-test-of-the-hyperledger-fabric,,krabradosty,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza1j:",,,,,,,,,,,,,,,,,,,,,krabradosty,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
Provide new query executor when invoking across chains,FAB-10038,30173,29448,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/May/18 2:08 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 11:00 PM,,,,v1.2.0,,,,,,,0,,,,,Based on result of query related to [https://gerrit.hyperledger.org/r/#/c/21417/4/core/chaincode/handler.go@841],,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza1r:",,,,,,Next Items - Hygiene,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 2:15 AM;sykesm;https://gerrit.hyperledger.org/r/21767;;;",,,,,,,,,,,,,,,,,,,,,
PTE removes extra signature in creating channel,FAB-10040,30175,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,15/May/18 2:57 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,15/May/18 10:20 PM,,,,,,,fabric-quality,,,,0,,,,,An extra signature was needed due to a bug in SDK related to signature counting against policies on the orderer. Now the bug is fixed and there is no need to have this extra signatures any more.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzza27:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"15/May/18 3:03 AM;dongming;https://gerrit.hyperledger.org/r/#/c/21769/;;;",,,,,,,,,,,,,,,,,,,,,
Support only metadata update for the private data,FAB-10041,30176,33221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/May/18 3:04 AM,25/Aug/18 10:18 PM,28/Oct/23 3:03 AM,25/Aug/18 10:08 PM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,Add the support for incrementing the version of the private data so as to match the version of the corresponding hashed entry.,,manish-sethi,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwt3z:",,,,,,,,,,,,,,,,,,,,,manish-sethi,SjirNijssen,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 4:56 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/21779/;;;",,,,,,,,,,,,,,,,,,,,,
[CI] - Update fabric-chaincode-node CI config,FAB-10042,30177,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,15/May/18 3:07 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,15/May/18 10:07 AM,,,,v1.2.0,,,fabric-ci,,,,0,fabric-ci,,,,"Update fabric-chaincode-node CI config to exclude whitespaces on protos directory as the files generate in this directory are from the compiler. Also, verify the logic to check if the jar is checked in with .jar file. If the patchset has .jar file fail the build

Request# FAB-10006",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza2f:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 10:06 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21773/;;;","15/May/18 10:07 AM;rameshthoomu;[~gennadyl] FYI;;;",,,,,,,,,,,,,,,,,,,,
Chaincode container should be cleaned up after peer exits,FAB-10044,30179,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,latitiah,latitiah,15/May/18 4:13 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 4:36 AM,,,,,,,fabric-peer,,,,0,,,,,"commit sha: 02963f00a7fdfd2ba8727ca1d197228054405aa9

 

The chaincode container should be destroyed and not just stopped when a peer is shut down. Currently, the chaincode container and images still linger around.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza2v:",,,,,,,,,,,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Wrong ACL checked for GETCHAINCODES,FAB-10046,30181,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/May/18 4:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 10:40 PM,,,,,,,fabric-peer,,,,0,,,,,"Presently, the GETCHAINCODES LSCC call checks the local admin policy, rather than the one defined in the channel config.  This CR fixes this behavior to use the ACL defined for this purpose.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza3b:",,,,,,,,,,,,,,,,,,,,,jyellick,wlahti,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 10:41 PM;wlahti;https://gerrit.hyperledger.org/r/c/21783/;;;",,,,,,,,,,,,,,,,,,,,,
Peer chaincode list ignores errors,FAB-10047,30182,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/May/18 4:33 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,18/May/18 12:27 AM,,,,,,,fabric-peer,,,,0,,,,,The peer chaincode list command will return success even if the chaincode query responds with an error.,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza3j:",,,,,,,,,,,,,,,,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 12:27 AM;kchristidis;https://gerrit.hyperledger.org/r/c/21785/;;;",,,,,,,,,,,,,,,,,,,,,
Add authentication to each CouchDB database created,FAB-10048,30183,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chris.elder,denyeart,denyeart,15/May/18 4:39 AM,29/Aug/19 5:35 AM,28/Oct/23 3:03 AM,22/May/18 6:04 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"If a CouchDB username has been configured for the peer, enforce authentication for each database within CouchDB.  This can be done with the _security API:

http://docs.couchdb.org/en/2.0.0/api/database/security.html 

When peer gets a handle to a CouchDB database, CreateDatabaseIfNotExist() is called to validate that the database already exists, and creates the database if it doesn't already exist.  As part of this initial validation, also call the _security API to set the configured username as a database member.

Need to support several scenarios:
 * Newly created database with username credentials configured.
 * Username credentials added to peer after db creation.
 * Username credentials changed after db creation.
 * Username credentials removed after db creation.

Due to the above scenarios, simply re-PUT the db credentials each time CreateDatabaseIfNotExist() is called, rather than attempting to diff and update the list of database members.

 

 ",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-1308,FAB-16358,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzadj:",,,,Unset,,May2018 - NextGen Endorsement,,,,Unset,,,,,,,,,,,denyeart,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jul/18 12:23 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/21867/;;;",,,,,,,,,,,,,,,,,,,,,
Change Context to be a pointer,FAB-10049,30184,28022,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/May/18 5:38 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,15/May/18 6:30 AM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza47:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
PTE script: add multi channels support,FAB-10050,30185,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,15/May/18 6:06 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,18/May/18 4:05 AM,,,,,,,fabric-quality,,,,0,,,,,Adds multi-channel support to script gen_cfgInputs.sh that user can specify a list of channels for PTE execution.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzza4f:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"16/May/18 10:09 PM;dongming;https://gerrit.hyperledger.org/r/#/c/21857/;;;",,,,,,,,,,,,,,,,,,,,,
Create integration test with plugins,FAB-10051,30186,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/May/18 7:25 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,22/May/18 2:55 AM,,,,v1.2.0,,,,,,,0,e2e-test,,,,"Given an end-to-end scenario that runs chaincodes and checks for successful transaction commit, it is needed to compile an endorsement plugin and a validation plugin, and then load a peer with the golang .so binaries as plugins instead of the built-in plugins and test that the end-to-end scenario still works.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8729,,,,,,,,,,"1|hzza4n:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 4:44 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21871/;;;",,,,,,,,,,,,,,,,,,,,,
Remove unreferenced scripts,FAB-10052,30187,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,15/May/18 10:02 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 3:45 AM,,,,,,,,,,,0,hygiene,,,,scripts/foldercopy.sh and scripts/infiniteloop.sh don’t appear to be referenced.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/May/18 10:11 AM;sykesm;https://gerrit.hyperledger.org/r/21799;;;",,,,,,,,,,,,,,,,,,,,,
[CI] - Cleanup dead code from CI configuration,FAB-10053,30188,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,15/May/18 10:26 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/Jun/18 7:25 AM,,,,v1.2.0,,,fabric-ci,,,,0,fabric-ci,,,,Cleanup dead code from CI configuration,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza53:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/May/18 10:24 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21801/;;;",,,,,,,,,,,,,,,,,,,,,
Enhancing Cello and ATD for scalability testing on cloud,FAB-10054,30189,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/May/18 12:38 PM,26/Feb/20 10:47 PM,28/Oct/23 3:03 AM,01/Aug/19 10:12 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"For Scalability testing, enhance cello to run against an existing kubernetes cluster on any cloud for deploying fabric network and use ATD to stress the network.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,"Enhancements to Cello, ATD for Scalability testing ",Done,,,,Unset,,,,"1|hzyw90:",,,,Unset,Unset,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop a script to generate configuration files for Cello and ATD,FAB-10055,30190,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,15/May/18 12:45 PM,30/Jul/19 11:42 AM,28/Oct/23 3:03 AM,30/Jul/19 11:42 AM,,,,v1.1.0,,,fabric-quality,,,,0,Quality,,,,Develop a single script to generate configuration files for Cello and ATD,,mastersingh24,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11666,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ghx-label-5,FAB-10054,Scalability Testing using Cello on any cloud,To Do,,,,,,,,"1|hzza5j:",,,,,,,,,,,,,,,,,,,,,mastersingh24,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
Changes to cello to run kubectl from local,FAB-10056,30191,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/May/18 12:54 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,01/Jun/18 10:00 PM,,,,,,,fabric-quality,,,,0,Quality,,,,Changes to cello to run kubectl from local in kubernetes cluster,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,CE-370,,,,,,,,,,,,,,,,,,,,,,FAB-10054,,,,,,,,,,"1|hzza5r:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 10:42 PM;suryalnvs;[https://gerrit.hyperledger.org/r/#/c/22001/];;;",,,,,,,,,,,,,,,,,,,,,
cello to deploy fabric network on the kubernetes cluster from local using persistent volume,FAB-10057,30192,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/May/18 12:56 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,01/Jun/18 10:00 PM,,,,,,,fabric-quality,,,,0,Quality,,,,Use kubernetes secrets in cello to use the certificates in the cluster,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10054,,,,,,,,,,"1|hzza5z:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 10:43 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/22455/;;;",,,,,,,,,,,,,,,,,,,,,
Run Cello against exisitng kubernetes cluster on cloud,FAB-10058,30193,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/May/18 12:57 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,29/May/18 1:46 PM,,,,,,,fabric-quality,,,,0,Quality,,,,Run Cello against exisitng kubernetes cluster on cloud,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10054,,,,,,,,,,"1|hzza67:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support Kubernetes in ATD,FAB-10059,30194,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/May/18 12:58 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,01/Jun/18 10:01 PM,,,,,,,fabric-quality,,,,0,Quality,,,,Support kubernetes in ATD,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10054,,,,,,,,,,"1|hzza6f:",,,,,,,,,,,,,,,,,,,,,suryalnvs,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"29/May/18 1:46 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/22453/;;;",,,,,,,,,,,,,,,,,,,,,
Scale the network on the kubernetes cluster on cloud using cello,FAB-10060,30195,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,suryalnvs,suryalnvs,15/May/18 1:00 PM,30/Jul/19 11:41 AM,28/Oct/23 3:03 AM,30/Jul/19 11:41 AM,,,,,,,fabric-quality,,,,0,Quality,,,,Scale the network on the kubernetes cluster on cloud using cello,,mastersingh24,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10054,,,,,,,,,,"1|hzza6n:",,,,,,,,,,,,,,,,,,,,,mastersingh24,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
Support LevelDB to CouchDB state database conversion - conversion validation,FAB-10061,30196,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,15/May/18 1:35 PM,28/Nov/19 3:47 AM,28/Oct/23 3:03 AM,,,,,,,,fabric-ledger,,,,1,,,,,"Chaincode written to work against LevelDB will also work against CouchDB, as the CouchDB state database supports a superset of the chaincode APIs – everything LevelDB state database supports plus JSON query (GetQueryResult API).

There is one caveat - chaincode execution on CouchDB state database performs additional validation:

1) Check for reserved fields in the top level of the JSON (FAB-8006): _id, _rev, _deleted, ~version.

2) Ensure keys are valid UTF8, and do not start with underscore, as required by CouchDB.

So when converting a LevelDB state database to CouchDB, the same validation needs to be performed during the conversion. Any occurrences of the above will result in a failed conversion.

Note - upon introduction of private data in v1.2, different peers may have different private data, such that conversion may succeed on one peer but fail on another peer.

Conversion of peer from CouchDB to LevelDB (or adding a new LevelDB peer) is possible , however chaincode JSON queries will obviously not work anymore.
Conversion of peer from LevelDB to CouchDB (or adding a new CouchDB peer) requires checking all transactions for existence of invalid data.
",,denyeart,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10062,,,,,,FAB-17163,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtp9:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support LevelDB to CouchDB state database conversion - pre-conversion validation utility,FAB-10062,30197,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,15/May/18 1:40 PM,28/Nov/19 3:47 AM,28/Oct/23 3:03 AM,,,,,,,,fabric-ledger,,,,1,,,,,"Chaincode written to work against LevelDB will also work against CouchDB, as the CouchDB state database supports a superset of the chaincode APIs – everything LevelDB state database supports plus JSON query (GetQueryResult API).

There is one caveat - chaincode execution on CouchDB state database performs additional validation:

1) Check for reserved fields in the top level of the JSON (FAB-8006): _id, _rev, _deleted, ~version.

2) Ensure keys are valid UTF8, as required by CouchDB.

So when converting a LevelDB state database to CouchDB, the same validation needs to be performed during the conversion. Any occurrences of the above will result in a failed conversion.  The runtime conversion validation is covered by FAB-10061.

This work item will provide a pre-conversion validation utility that will check the block storage for any occurrences of the above. Additionally, starting in v1.2 the utility should also validate private data storage.

Note - upon introduction of private data in v1.2, different peers may have different private data, such that conversion may succeed on one peer but fail on another peer.",,denyeart,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10061,FAB-17163,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtpb:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,ptippett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CouchDB Tutorial to say we support switching from LevelDB to CouchDB,FAB-10064,30203,30196,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pandrejko,pandrejko,15/May/18 9:45 PM,14/Jan/20 2:02 AM,28/Oct/23 3:03 AM,14/Jan/20 2:02 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"There may be other places in the doc, but currently the CouchDB Tutorial

[https://gerrit.hyperledger.org/r/#/c/20469]

 

says switching from LevelDB to CouchDB is not supported. When we implement this Jira, we need to update this statement in the docs.",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza7j:",,,,,,,,,,,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 2:02 AM;pandrejko;Will be addressed when this issues is delivered https://jira.hyperledger.org/browse/FAB-16355;;;",,,,,,,,,,,,,,,,,,,,,
Update fabric-samples CI confguration to pull images from nexus,FAB-10066,30205,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtclark,rameshthoomu,rameshthoomu,15/May/18 10:21 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/Jun/18 5:33 AM,,,,v1.2.0,,,fabric-ci,,,29/May/18 12:00 AM,0,CI_Release,,,,"Update fabric-samples job configuration to pull images from nexus and run the byfn, efyn tests. This eliminates building docker images happens on every fabric-samples patch sets.

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/] publishes fabric & fabric-ca  ""stable"" tagged docker images to nexus and pull these images in the SDK & fabric-samples jobs to eliminate building docker images again and again.

Note: After this change is merged in CI, SDK's & fabric-samples no more clone/pull the fabric and fabric-ca repos and build images on the latest commit but it looks for the ""stable"" images & binaries which are published from the fabric-merge-e2e-x86_64 job.",,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ghx-label-7,FAB-10068,Optimize CI configuration/jobs,To Do,,,,,,,,"1|hzza7z:",,,,,,,,,,,,,,,,,,,,,jtclark,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jun/18 1:17 AM;jtclark;Had a conversation with [~rameshthoomu] on how to modify the fabric-byfn-verify and fabric-byfn-merge to pull the images from the nexus repository instead of running the builds.  ;;;","05/Jun/18 1:29 AM;jtclark;Patchset is *IN-REVIEW*: https://gerrit.hyperledger.org/r/#/c/22733/;;;","16/Jun/18 5:32 AM;rameshthoomu;This change has been merged in fabric-samples. https://gerrit.hyperledger.org/r/#/c/22443/;;;",,,,,,,,,,,,,,,,,,,
Convert freestyle jobs to build pipeline jobs,FAB-10067,30206,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,15/May/18 10:27 PM,15/Aug/19 11:39 PM,28/Oct/23 3:03 AM,15/Aug/19 11:39 PM,,,,v1.3.0,,,fabric-ci,,,,0,CI_Pipeline,,,,"Convert freestyle jobs to build pipeline jobs:

To avoid dependency on CI team, we have to convert freestyle jobs to pipeline so that the Jenkinsfile will save in the code repository. The developers will have more control on the Jenkinsfile.",,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Aug/18 12:16 AM;rameshthoomu;Playback-CI.pptx;https://jira.hyperledger.org/secure/attachment/15436/Playback-CI.pptx",,,,,,,ON TRACK FOR V1.3. Build updates in progress.,,Reviewed,,Not Required,ghx-label-9,,Convert freestyle jobs to build pipeline jobs,To Do,,,,Not Required,,,,"1|hzza87:",,,,No,Not Required,,,,,,,,,,,,,,,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/18 9:03 PM;denyeart;[~rameshthoomu] What is the status of this one?  Are the sub-issue statuses correct?

I will move to medium just so that it doesn't impact the dashboard of user features.;;;","16/Nov/18 3:50 AM;rameshthoomu;fabric-chaincode-evm, fabric-chaincode-node, fabric-samples and fabric-sdk-node repositories are now coverted to pipeline style projects. Working on fabric-ca and fabric.;;;","03/Apr/19 12:05 AM;rameshthoomu;fabric-ca CI scripts are converted to pipeline.. https://gerrit.hyperledger.org/r/#/q/topic:pipeline-ca+(status:open+OR+status:merged);;;",,,,,,,,,,,,,,,,,,,
Create a seamless release process through Jenkins,FAB-10068,30207,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,15/May/18 10:56 PM,25/Apr/19 12:03 AM,28/Oct/23 3:03 AM,25/Apr/19 12:02 AM,,,,v1.2.0,,,fabric-build,fabric-ci,,,0,CI_Release,,,,"Create a seamless release process through Jenkins. There is lot of dependency now between repositories, @cbf created a docker multiarch setup in fabric which publish latest images. Using the advantage of docker multiarch, will publish images to nexus repository after end of e2e merge job and then the svt job will pull these images.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15130,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-2,,Create a seamless release process through Jenkins,To Do,,,,Unset,,,,"1|hzza8f:",,,,Unset,Unset,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Apr/19 12:02 AM;rameshthoomu;we are not following this approach now as this approach is taking time to pull from nexus and publish the images to nexus. I have created a new task here https://jira.hyperledger.org/browse/FAB-15130 to make this happen with the new multibranch strategy approach. ;;;",,,,,,,,,,,,,,,,,,,,,
Docker network name issue of e2e_cli ,FAB-10069,30208,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jufeng.yao,jufeng.yao,jufeng.yao,15/May/18 10:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,21/May/18 10:04 AM,v1.1.0,,,v1.2.0,,,fabric-samples,,,,0,,,,,"Currently, peer-base.yaml use default docker-compose bridge network for e2e_cli, while the network's name is wrong, it should be e2e_cli_default, not ""e2ecli_default"". it should be fixed.

branch : fabric master",,jufeng.yao,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza8n:",,,,,,,,,,,,,,,,,,,,,jufeng.yao,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 12:24 AM;kchristidis;[~jufeng.yao]: How does this bug manifest itself? What happens now that the name is incorrect?;;;","18/May/18 11:41 PM;jufeng.yao;[~kchristidis]: the problem now is that chaincode container can't connect to peer, e2ecli_default network doesn't exist. the error details :
{code:java}
Instantiating chaincode on org2/peer2...
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
CORE_PEER_LOCALMSPID=Org2MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.org2.example.com:7051
2018-05-18 14:38:43.641 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-05-18 14:38:43.641 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-05-18 14:38:43.666 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 003 Using default escc
2018-05-18 14:38:43.666 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 004 Using default vscc
2018-05-18 14:38:43.670 UTC [chaincodeCmd] getChaincodeSpec -> DEBU 005 java chaincode enabled
2018-05-18 14:38:43.699 UTC [msp/identity] Sign -> DEBU 006 Sign: plaintext: 0AC3070A6708031A0C08F3CAFBD70510...535010030A04657363630A0476736363
2018-05-18 14:38:43.699 UTC [msp/identity] Sign -> DEBU 007 Sign: digest: E4FAB21A4D6833494460B3C006382CEB7A8386FC535D9583BE913A2BBFA84D57
Error: Error endorsing chaincode: rpc error: code = Unknown desc = error starting container: API error (404): **\{""message"":""{color:red}*network e2ecli_default not found*{color}""}
{code}
;;;","20/May/18 9:57 PM;mastersingh24;[~jufeng.yao]
This should be fixed already. There is currently a {{.env}} file is the {{examples/e2e_cli}} directory which sets the project name to {{e2e}}. And then {{examples/e2e_cli/base/peer-base.yaml}} uses {{e2e_default}} as the network config now;;;","20/May/18 9:57 PM;mastersingh24;Also .... now that we are moving to a Gingko-based version of e2e, we should remove this anyway.;;;","21/May/18 10:03 AM;jufeng.yao;[~mastersingh24] thanks very much;;;",,,,,,,,,,,,,,,,,
Improve State Validator UT Coverage - helper functions,FAB-10070,30209,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,15/May/18 11:04 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/Jun/18 7:24 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,"The current UT coverage of github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator/valimpl is only 23%. Increase it to above 90%. This JIRA would cover the helper function, i.e., helper.go. The coverage is increased to 66% from 28%.",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwu3b:",,,,,,Next Items- Ledger,,,,,,,,,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jun/18 7:24 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/21817/;;;",,,,,,,,,,,,,,,,,,,,,
User Feedback: Need to document that channel name must be lower case... ,FAB-10071,30212,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,15/May/18 11:42 PM,21/Jul/18 3:48 AM,28/Oct/23 3:03 AM,19/Jun/18 7:16 AM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"From the Hyperledger e-mail discussion group there's been discussion about channel name needing to be all lower case. We could not find that documented anywhere.

""Yes, the channel name must be all lower case. More precisely, it must be less than 250 characters long and match the regular expression: ""[a-z][a-z0-9.-]*""

I propose that we update the Helper text on the peer channel create command here [http://hyperledger-fabric.readthedocs.io/en/latest/commands/peerchannel.html?highlight=peer%20channel%20create]

 

But I know this text is auto-generated.

[~ChristopherFerris]

Would you know who owns the source for this command and how we can get get it updated?",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtrz:",,,,Unset,,,,,,Unset,,,,,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 12:33 AM;pandrejko;[peer/channel/channel.go|https://github.com/hyperledger/fabric/blob/13447bf5ead693f07285ce63a1903c5d0d25f096/peer/channel/channel.go]

 

Change flags.StringVarP(&channelID, ""channelID"", ""c"", common.UndefinedParamValue, ""_In_ _case_ _of_ a _newChain_ _command_, the channel ID to create."")

 ;;;","18/May/18 1:01 AM;pandrejko;https://gerrit.hyperledger.org/r/21915;;;","18/May/18 5:08 AM;pandrejko;also see https://jira.hyperledger.org/browse/FAB-9198;;;","21/May/18 9:54 PM;pandrejko;[https://gerrit.hyperledger.org/r/21915] was merged last week , but I don't see the updates in the doc [http://hyperledger-fabric.readthedocs.io/en/latest/commands/peerchannel.html#peer-channel-create]

Checking with Chris Ferris to see if something has to run to regen the text.;;;","23/May/18 4:58 AM;pandrejko;Have to run scripts/generateHelpDocs.sh to gen the new help text. see FAB-10290;;;",,,,,,,,,,,,,,,,,
There are no build logs generated in fabric-test-daily as there is a memory outage when 'orderer.feature'(FAB-3857) is executed.,FAB-10072,30213,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jwagantall,sambhavdutt,sambhavdutt,15/May/18 11:55 PM,19/Mar/19 8:12 PM,28/Oct/23 3:03 AM,23/May/18 10:19 PM,,,,v1.2.0,,,fabric-ci,,,,0,ci-failure,,,,"The build logs are not generated starting from Build #349 in the fabric-test-daily job, due to memory outage, I have copied these errors below,

*fabric-test Commit: d556210*

{code:java}
10:47:40   @daily
10:47:40   Scenario Outline: FAB-3857: 1024 key/value pairs in Payloads of size 1048576 -- @1.2                                  # orderer.feature:173
10:47:40     Given I have a bootstrapped fabric network of type kafka using state-database couchdb                               # steps/basic_impl.py:138
10:47:41 org1.example.com
10:47:41 org2.example.com
10:47:41 2018-05-13 10:47:41.096 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.......

steps/endorser_impl.py:49
10:48:51 2018-05-13 10:48:51.075 UTC [common/tools/configtxgen] main -> WARN 001 Omitting the channel ID for configtxgen is deprecated.  Explicitly passing the channel ID will be required in the future, defaulting to 'testchainid'.
10:48:51 2018-05-13 10:48:51.075 UTC [common/tools/configtxgen] main -> INFO 002 Loading configuration
10:48:51 2018-05-13 10:48:51.121 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 003 Generating new channel configtx
10:48:51 2018-05-13 10:48:51.121 UTC [common/tools/configtxgen/encoder] NewApplicationGroup -> WARN 004 Default policy emission is deprecated, please include policy specificiations for the application group in configtx.yaml
10:48:51 2018-05-13 10:48:51.122 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 005 Default policy emission is deprecated, please include policy specificiations for the application org group Org1ExampleCom in configtx.yaml
10:48:51 2018-05-13 10:48:51.122 UTC [common/tools/configtxgen/encoder] NewApplicationOrgGroup -> WARN 006 Default policy emission is deprecated, please include policy specificiations for the application org group Org2ExampleCom in configtx.yaml
10:48:51 2018-05-13 10:48:51.123 UTC [common/tools/configtxgen] doOutputChannelCreateTx -> INFO 007 Writing new channel tx
10:49:41     When a user deploys chaincode at path ""github.com/hyperledger/fabric-test/chaincodes/mapkeys/go"" with args [""""]     # steps/endorser_impl.py:133
10:50:36     When a user invokes on the chaincode named ""mycc"" with args [""put"",""c"",""3F"",""d"",""76D""]                              # steps/endorser_impl.py:582
10:50:40     When I wait ""5"" seconds                                                                                             # steps/basic_impl.py:21
10:50:45     And a user queries on the chaincode named ""mycc"" with args [""get"",""c""]                                              # steps/endorser_impl.py:457
10:50:48     Then a user receives a success response of ""3F""                                                                     # steps/endorser_impl.py:848
10:50:48     When a user queries on the chaincode named ""mycc"" with args [""get"",""d""]                                             # steps/endorser_impl.py:457
10:50:52     Then a user receives a success response of ""76D""                                                                    # steps/endorser_impl.py:848
10:50:52     When a user invokes args with 1024 random key/values of length 1048576 on the chaincode named ""mycc""                # steps/endorser_impl.py:595
11:02:51 Exception MemoryError:

11:03:25 npm WARN tar ENOSPC: no space left on device, write
11:03:25 npm WARN tar ENOSPC: no space left on device, write
11:03:25 npm WARN tar ENOSPC: no space left on device, write
11:03:25 npm WARN tar ENOSPC: no space left on device, write
11:03:25 npm WARN tar ENOSPC: no space left on device, write
11:03:25 npm WARN tar ENOSPC: no space left on device, write
{code}

*Build Log(Console Output)*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-x86_64/352/consoleFull",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza93:",,,,,,,,,,,,,,,,,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 10:19 PM;sambhavdutt;There is no memory outage happening now, the build logs are generating as expected for the fabric-test daily from several builds.

https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-x86_64/;;;",,,,,,,,,,,,,,,,,,,,,
Broken link in fabric-samples/fabric-ca/README.md,FAB-10073,30215,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yuki-kon,yuki-kon,yuki-kon,16/May/18 2:36 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,22/May/18 7:36 PM,v1.1.0,,,v1.2.0,,,fabric-samples,,,,0,,,,,"The link to the document of ABAC is broken in fabric-samples/fabric-ca/README.md.
The link should be updated correctly.
 
The broken link:
https://github.com/hyperledger/fabric/tree/release/core/chaincode/lib/cid/README.md
 
The correct link:
https://github.com/hyperledger/fabric/blob/master/core/chaincode/lib/cid/README.md
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza9b:",,,,,,,,,,,,,,,,,,,,,yuki-kon,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 2:54 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/21823/;;;",,,,,,,,,,,,,,,,,,,,,
Peer runner integration test fails when getting instantiated chaincodes,FAB-10076,30218,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,16/May/18 3:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 4:32 AM,,,,v1.2.0,,,,,,,0,,,,,"The peer runner integration tests are currently failing when getting the instantiated chaincodes:
{code:java}
16:55:46 unit-tests_1 | ------------------------------ 
16:55:46 unit-tests_1 | • Failure [37.374 seconds] 
16:55:46 unit-tests_1 | Peer 16:55:46 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/peer_test.go:27 16:55:46 unit-tests_1 | starts a peer [It] 
16:55:46 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/peer_test.go:137 
16:55:46 unit-tests_1 | 
16:55:46 unit-tests_1 | Timed out after 30.000s. 
16:55:46 unit-tests_1 | Expected 
16:55:46 unit-tests_1 | <bool>: false 16:55:46 unit-tests_1 | to be true 16:55:46 unit-tests_1 | 
16:55:46 unit-tests_1 | /opt/gopath/src/github.com/hyperledger/fabric/integration/runner/peer_test.go:229 
16:55:46 unit-tests_1 | ------------------------------{code}
This is happening for two reasons:
 * VSCC is now a plugin and, as such, needs the defaults set in core.yaml
 * the ACL resource for ""GetInstantiatedChaincodes"" is currently defined as a peer-scoped policy instead of a channel-scoped policy

This task will fix both reasons for the failure.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzza9z:",,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 3:38 AM;wlahti;https://gerrit.hyperledger.org/r/c/21829/;;;",,,,,,,,,,,,,,,,,,,,,
Improve State Validator UT Coverage - validator functions & non-endorsed tx,FAB-10077,30219,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,16/May/18 3:16 AM,30/Jul/19 11:59 AM,28/Oct/23 3:03 AM,30/Jul/19 11:59 AM,,,,,,,fabric-ledger,,,,0,,,,,"The current UT coverage of github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/validator/valimpl is only x%. We need to increase it to above 90%. Continuation of FAB-10070 , this JIRA would concentrate on covering validator functions (i.e., default_impl.go) and non-endorsed tx in helper.go",,mastersingh24,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaa7:",,,,,,,,,,,,,,,,,,,,,mastersingh24,Senthil1,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jul/19 11:59 AM;mastersingh24;No activity in a year or more;;;",,,,,,,,,,,,,,,,,,,,,
PTE script adds multi org support,FAB-10078,30220,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,16/May/18 3:23 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,30/May/18 3:56 AM,,,,,,,fabric-quality,,,,0,,,,,"Adds multi-org support to script gen_cfgInputs.sh that user can specify any number of org for PTE execution.  Allow to specify with number of org or list of org.  When the number of org is specified, then org1, org2, ..., orgn are used.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzzaaf:",,,,,,,,,,,,,,,,,,,,,dongming,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,true,"22/May/18 10:37 PM;dongming;https://gerrit.hyperledger.org/r/#/c/22123/;;;",,,,,,,,,,,,,,,,,,,,,
System Test - Long Runs,FAB-10080,30223,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/18 3:54 AM,13/Mar/20 11:12 PM,28/Oct/23 3:03 AM,01/Aug/19 10:13 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Low to moderate traffic, ranging from hours to a week or more",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,,,,,,FAB-10081,FAB-10082,FAB-10083,FAB-10084,FAB-10085,,,,,,,,,,,,,,Unset,,Unset,ghx-label-4,,System Test - Long Runs,To Do,,,,Unset,,,,"1|hzzab3:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System Test - Scalability,FAB-10081,30224,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/18 3:57 AM,10/Jan/20 6:24 AM,28/Oct/23 3:03 AM,01/Aug/19 10:13 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Observe the network operation when we configure more peers, orgs, channels, chaincodes, orgs per channel and chaincode endorsement policies, etc, individually or collectively, with low or moderate traffic levels.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,FAB-10080,,,,,FAB-10082,FAB-10083,FAB-10084,FAB-10085,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-6,,System Test - Scalability,To Do,,,,Unset,,,,"1|hzzabb:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System Test - Load and Stress,FAB-10082,30225,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/18 3:59 AM,01/Aug/19 10:13 AM,28/Oct/23 3:03 AM,01/Aug/19 10:13 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Load testing is watching at various traffic rates and payloads; monitor memory/disk/cpu utilzation throughout the test ; Stress uses high levels of traffic, bursting traffic and rates to find stress points and limitations",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,FAB-10080,FAB-10081,,,,FAB-10083,FAB-10084,FAB-10085,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-8,,System Test - Load and Stress,To Do,,,,Unset,,,,"1|hzzabj:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"System Test - Feature Traffic, Concurrency, Performance Test Runs",FAB-10083,30226,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,scottz,scottz,16/May/18 4:02 AM,12/Feb/20 11:44 PM,28/Oct/23 3:03 AM,09/Aug/19 11:11 PM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Tests can be traffic runs with various feature/functional configurations.

Tests can also be carefully planned Performance tests, using tweaked config variations for comparison, to get TPS measurements.

Concurrency is the use of parallel threads as we target the system components in various configurations - for example:
 # single peer, single chan, multiple threads
 # many peers and clients sending TX to single orderer on one/or/many channels

(Note: We will cover some concurrency inherently with the large networks Scalability tests, as well as the Stress tests.)",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,FAB-10080,FAB-10081,FAB-10082,,,FAB-10084,FAB-10085,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-1,,"System Test - Feature Traffic, or Performance Runs",To Do,,,,Unset,,,,"1|hzz8v0:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System Test - Chaos and Recovery,FAB-10084,30227,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/18 4:04 AM,10/Jan/20 9:45 AM,28/Oct/23 3:03 AM,01/Aug/19 10:14 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Stops, starts, breaking connections, and recovery.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,FAB-10080,FAB-10081,FAB-10082,FAB-10083,,FAB-10085,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-3,,System Test - Chaos and Recovery,To Do,,,,Unset,,,,"1|hzzabz:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System Test - Upgrades,FAB-10085,30228,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,16/May/18 4:08 AM,28/Feb/20 12:58 AM,28/Oct/23 3:03 AM,01/Aug/19 10:14 AM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"Compatibility tests and sequential execution of the steps to upgrade (and back down, where supported) every relevant component in the network; especially useful with live traffic.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9898,FAB-10080,FAB-10081,FAB-10082,FAB-10083,FAB-10084,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-5,,System Test - Upgrades,To Do,,,,Unset,,,,"1|hzzac7:",,,,Unset,Unset,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip integration tests when running unit tests,FAB-10086,30229,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,16/May/18 4:19 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/May/18 5:21 AM,,,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzacf:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 4:25 AM;sykesm;https://gerrit.hyperledger.org/r/21839;;;",,,,,,,,,,,,,,,,,,,,,
Upgrade v1.1 to v1.2,FAB-10087,30230,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,nagap,bmos299,bmos299,16/May/18 4:27 AM,30/Jul/19 11:47 AM,28/Oct/23 3:03 AM,30/Jul/19 11:47 AM,,,,Future,,,fabric-quality,,,,0,"Quality,",SVT,,," 
{noformat}
Upgrade all Fabric Network Components
(Either some or all at a time - Eventually upgrading all to latest version under system test 1.2)
            a) peers
            b) channels
            c) orderers
            d) membership service provider
            e) nodesdk client tool
            f) javasdk client tool
{noformat}
 
{noformat}
Enable new features with run-time flags that determine if new functionality (capability level) will be available in certain components.{noformat}",,bmos299,mastersingh24,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,FAB-10150,FAB-10161,FAB-10187,FAB-10199,FAB-10206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-10085,,,,,,,,,,"1|hzzacn:",,,,Unset,,,,,,Unset,,,,,,,,,,,bmos299,mastersingh24,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:47 AM;mastersingh24;No activity for around a year .... cleanup time;;;",,,,,,,,,,,,,,,,,,,,,
Additional validation checks for collections,FAB-10088,30231,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,16/May/18 5:11 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,06/Jun/18 3:31 AM,,,,v1.2.0,,,fabric-ledger,,,,0,,,,,See subtasks for additional validations that are required.,,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzzacv:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE driver: Return error codes on failure,FAB-10089,30232,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,nileshdeotale,nileshdeotale,16/May/18 5:29 AM,20/May/19 11:38 PM,28/Oct/23 3:03 AM,20/May/19 11:38 PM,v1.1.0,v1.2.0,v1.4.0,,,,fabric-quality,,,,0,quality,,,,"Currently PTE driver does not return error codes on failure. Example: Chain code installation failure, instantiation failure etc. 

Example below: Instantiation failed but no return error code that client can use to break PTE execution.

info: [PTE 0 main]: [getCCID] Nid: 0, chaincode_id: sample_cc_ch1, chaincode_ver: v0

error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: error starting container: API error (503): upstream connect error or disconnect/reset before headers

    at new createStatusError (/home/testuser/fabric-sdk-node/node_modules/grpc/src/client.js:64:15)

    at /home/testuser/fabric-sdk-node/node_modules/grpc/src/client.js:583:15

error: [PTE 0 main]: [chaincodeInstantiate] channelName(defaultchannel) chaincode instantiation was bad

error: [PTE 0 main]: [chaincodeInstantiate] Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...

info: [PTE 0 main]: Disconnecting the event hub: n410ceb97be8a4b1498fd24545a4640ec-org1-peer1.stage.blockchain.ibm.com:31003

error: [PTE 0 main]: [chaincodeInstantiate(Nid=0)] Failed to instantiate transaction on defaultchannel due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...

    at /home/testuser/fabric-sdk-node/test/PTE/pte-main.js:703:23

    at <anonymous>",,bharadwajambati1,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15204,,,,,,,,,,,,,,,,,,,Unset,,,FAB-2247,,,,,,,,,,"1|hzzadr:",,,,Unset,,,,,,Unset,,,,,,,,,,,bharadwajambati1,nileshdeotale,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,true,"27/Apr/19 6:15 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/31063/];;;",,,,,,,,,,,,,,,,,,,,,
Increase UT code coverage for package ledger/pvtdatapolicy,FAB-10090,30233,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,16/May/18 6:18 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,23/May/18 12:44 AM,,,,v1.2.0,,,fabric-ledger,,,,0,unit-test,,,,Improve UT code coverage for package ledger/pvtdatapolicy,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzzadz:",,,,,,,,,,,,,,,,,,,,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/18 6:45 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/22125/;;;",,,,,,,,,,,,,,,,,,,,,
Improve UT code coverage for package pvtstatepurgemgmt,FAB-10092,30235,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,16/May/18 6:20 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,25/May/18 12:48 PM,,,,v1.2.0,,,fabric-ledger,,,,0,unit-test,,,,Improve UT code coverage for package ledger/kvledger/txmgmt/pvtstatepurgemgmt,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaef:",,,,,,,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/May/18 12:48 PM;manish-sethi;Done as part of FAB-10381;;;",,,,,,,,,,,,,,,,,,,,,
Improve UT code coverage for package ledger/ledgerstorage,FAB-10093,30236,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,16/May/18 6:20 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,23/May/18 8:05 PM,,,,v1.2.0,,,fabric-ledger,,,,0,unit-test,,,,Improve UT code coverage for package ledger/ledgerstorage,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaen:",,,,,,,,,,,,,,,,,,,,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/May/18 7:29 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/22185/;;;",,,,,,,,,,,,,,,,,,,,,
Test drop and recreation of DBs/indexes,FAB-10094,30237,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,16/May/18 7:34 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,12/Dec/18 11:36 PM,,,,Future,v1.1.1,,fabric-ledger,,,,0,extended-unit-test,,,,"Test the drop and rebuild of various databases and indexes such as - statedb, historydb, configHistoryDB, expiry schedule db, and block-storgae indexes.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfk:",,,,,,To Do,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,release-1.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/18 4:43 AM;manish-sethi;[https://gerrit.hyperledger.org/r/#/c/22749/] (for 1.1.1)

[https://gerrit.hyperledger.org/r/#/c/22755/] (for 1.2);;;",,,,,,,,,,,,,,,,,,,,,
Test sidedb features at the ledger level,FAB-10095,30238,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,16/May/18 7:41 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,24/Jun/19 5:25 PM,,,,v1.3.0,,,fabric-ledger,,,,0,extended-unit-test,,,,"There has been recently quite a few new feature additions in ledger for supporting sidedb. This requires some form of extended unit/integration tests in order to verify the data consistency.

We plan to write end to end tests at the ledger interfaces level by simulating and committing transactions for private data and cover following scenarios
    - Verify that block commit can tolerate the missing private data
    - Verify that block commit does not tolerate hash mismatch of private data with the hash present in the block
    - Verify that configHistoryDB gets populated accurately
    - Verify that the entries get purged from state and block storage correctly based on BTL configuration for the tuple <channel, chaincode, collection>
   This requires simulating - chaincode deploy, chaincode upgrade, and data transactions",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfk:1",,,,,,To Do,,,,,,,,,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jun/18 4:21 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/22747/;;;",,,,,,,,,,,,,,,,,,,,,
Call NextWithConfig while using RWSetScanner retreiving private data from transient store,FAB-10096,30239,28952,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,16/May/18 8:50 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/May/18 8:48 PM,,,,v1.2.0,,,fabric-gossip,,,,0,,,,,"Since, now we are storing simulation results with config, we need to use symmetric API {{NextWithConfig}} while reading private data back from the transient store, since  {{Next}} is no longer capable to return new message format resulting in error.

**NOTE**, this task will be addressed within CR related to FAB-9923, creating this task to keep track on the issue.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9923,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaev:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,C0rWin,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 8:54 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/21841/1/gossip/privdata/coordinator.go@307;;;",,,,,,,,,,,,,,,,,,,,,
fabric1.1.0在添加到第5个org时报错,FAB-10102,30245,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,hefei,hefei,16/May/18 12:20 PM,20/Jul/18 11:17 PM,28/Oct/23 3:03 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,"fabric1.1.0在添加到第5个org时报错

添加org时org3和org4正常，org5报错？

2018-05-16 03:16:35.914 UTC [msp/identity] Sign -> DEBU 00f Sign: digest: 37A544755F10982E3E05825BC81B93E4706C46E235EF25FEB59EE69B6EFCA1CB 
 Error: got unexpected status: BAD_REQUEST – error authorizing update: error validating DeltaSet: policy for [Group] /Channel/Application not satisfied: Failed to reach implicit threshold of 3 sub-policies, required 1 remaining
 Usage:
 peer channel update [flags]

Flags:
 -c, --channelID string In case of a newChain command, the channel ID to create.
 -f, --file string Configuration transaction file generated by a tool such as configtxgen for submitting to orderer

Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 --certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint
 --clientauth Use mutual TLS when communicating with the orderer endpoint
 --keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer.
 --tls Use TLS when communicating with the orderer endpoint
 -v, --version Display current version of fabric peer server","centos7

docker 17.12.1-ce",hefei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/18 12:25 PM;hefei;org5.json;https://jira.hyperledger.org/secure/attachment/14981/org5.json",,,,,,,,,,,,,,,,,,,,,,,"1|hzzag7:",,,,,,,,,,,,,,,,,,,,,hefei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
添加到第5个org时报错,FAB-10103,30246,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,hefei,hefei,16/May/18 12:31 PM,20/Jul/18 11:17 PM,28/Oct/23 3:03 AM,20/Jul/18 11:05 PM,,,,,,,,,,,0,,,,,"fabric添加org时，添加org3,org4可以正常更新。添加org5时报错。

2018-05-16 11:16:35.397 CST [common/tools/configtxgen] main -> INFO 001 Loading configuration
2018-05-16 03:16:35.481 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-05-16 03:16:35.481 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-05-16 03:16:35.482 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
2018-05-16 03:16:35.482 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2018-05-16 03:16:35.482 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2018-05-16 03:16:35.483 UTC [msp] GetLocalMSP -> DEBU 006 Returning existing local MSP
2018-05-16 03:16:35.483 UTC [msp] GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity
2018-05-16 03:16:35.483 UTC [msp/identity] Sign -> DEBU 008 Sign: plaintext: 0AF5060A1508021A060893C5EED70522...C412E811C20112080A020A0012020A00 
2018-05-16 03:16:35.483 UTC [msp/identity] Sign -> DEBU 009 Sign: digest: 7ACFA3150E01401821A73A0F06349537E45DE75B5961851593361EA938A61207 
2018-05-16 03:16:35.484 UTC [channelCmd] readBlock -> DEBU 00a Received block: 2
2018-05-16 03:16:35.484 UTC [msp] GetLocalMSP -> DEBU 00b Returning existing local MSP
2018-05-16 03:16:35.484 UTC [msp] GetDefaultSigningIdentity -> DEBU 00c Obtaining default signing identity
2018-05-16 03:16:35.484 UTC [msp] GetLocalMSP -> DEBU 00d Returning existing local MSP
2018-05-16 03:16:35.484 UTC [msp] GetDefaultSigningIdentity -> DEBU 00e Obtaining default signing identity
2018-05-16 03:16:35.484 UTC [msp/identity] Sign -> DEBU 00f Sign: plaintext: 0AF5060A1508021A060893C5EED70522...0E20120C0A041A02080212041A020802 
2018-05-16 03:16:35.484 UTC [msp/identity] Sign -> DEBU 010 Sign: digest: 39C1809D6DB7043CFFCFB56D65B888ECA80B74738FAE5F22E07577D18F0D011F 
2018-05-16 03:16:35.485 UTC [channelCmd] readBlock -> DEBU 011 Received block: 2
2018-05-16 03:16:35.486 UTC [main] main -> INFO 012 Exiting.....
2018-05-16 03:16:35.835 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-05-16 03:16:35.835 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-05-16 03:16:35.835 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
2018-05-16 03:16:35.836 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2018-05-16 03:16:35.836 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2018-05-16 03:16:35.836 UTC [msp] GetLocalMSP -> DEBU 006 Returning existing local MSP
2018-05-16 03:16:35.836 UTC [msp] GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity
2018-05-16 03:16:35.836 UTC [msp/identity] Sign -> DEBU 008 Sign: plaintext: 0ABE060A074F7267314D535012B2062D...65616465727312002A0641646D696E73 
2018-05-16 03:16:35.836 UTC [msp/identity] Sign -> DEBU 009 Sign: digest: 6727876AAFBA32C5B18C74B69880B0A7AE4F5053A288ADC409870C3389421615 
2018-05-16 03:16:35.836 UTC [msp] GetLocalMSP -> DEBU 00a Returning existing local MSP
2018-05-16 03:16:35.836 UTC [msp] GetDefaultSigningIdentity -> DEBU 00b Obtaining default signing identity
2018-05-16 03:16:35.836 UTC [msp] GetLocalMSP -> DEBU 00c Returning existing local MSP
2018-05-16 03:16:35.836 UTC [msp] GetDefaultSigningIdentity -> DEBU 00d Obtaining default signing identity
2018-05-16 03:16:35.836 UTC [msp/identity] Sign -> DEBU 00e Sign: plaintext: 0AF5060A1508021A060893C5EED70522...C2FD04BCE9A017712695E3E12E977AA9 
2018-05-16 03:16:35.836 UTC [msp/identity] Sign -> DEBU 00f Sign: digest: EFF318260F0688D528B03F38B9EAAF977D9784BF094822B94CCCE2152D4E1A83 
2018-05-16 03:16:35.836 UTC [main] main -> INFO 010 Exiting.....
2018-05-16 03:16:35.913 UTC [msp] GetLocalMSP -> DEBU 001 Returning existing local MSP
2018-05-16 03:16:35.913 UTC [msp] GetDefaultSigningIdentity -> DEBU 002 Obtaining default signing identity
2018-05-16 03:16:35.914 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
2018-05-16 03:16:35.914 UTC [msp] GetLocalMSP -> DEBU 004 Returning existing local MSP
2018-05-16 03:16:35.914 UTC [msp] GetDefaultSigningIdentity -> DEBU 005 Obtaining default signing identity
2018-05-16 03:16:35.914 UTC [msp] GetLocalMSP -> DEBU 006 Returning existing local MSP
2018-05-16 03:16:35.914 UTC [msp] GetDefaultSigningIdentity -> DEBU 007 Obtaining default signing identity
2018-05-16 03:16:35.914 UTC [msp/identity] Sign -> DEBU 008 Sign: plaintext: 0ABE060A074F7267324D535012B2062D...65616465727312002A0641646D696E73 
2018-05-16 03:16:35.914 UTC [msp/identity] Sign -> DEBU 009 Sign: digest: 515D83C51C72621D6FE442C85FEEE13960FCF4FA68B164C9014FA24572D275EA 
2018-05-16 03:16:35.914 UTC [msp] GetLocalMSP -> DEBU 00a Returning existing local MSP
2018-05-16 03:16:35.914 UTC [msp] GetDefaultSigningIdentity -> DEBU 00b Obtaining default signing identity
2018-05-16 03:16:35.914 UTC [msp] GetLocalMSP -> DEBU 00c Returning existing local MSP
2018-05-16 03:16:35.914 UTC [msp] GetDefaultSigningIdentity -> DEBU 00d Obtaining default signing identity
2018-05-16 03:16:35.914 UTC [msp/identity] Sign -> DEBU 00e Sign: plaintext: 0AF5060A1508021A060893C5EED70522...C1251BB2F2716A7CB33731EC7117F025 
2018-05-16 03:16:35.914 UTC [msp/identity] Sign -> DEBU 00f Sign: digest: 37A544755F10982E3E05825BC81B93E4706C46E235EF25FEB59EE69B6EFCA1CB 
Error: got unexpected status: BAD_REQUEST -- error authorizing update: error validating DeltaSet: policy for [Group] /Channel/Application not satisfied: Failed to reach implicit threshold of 3 sub-policies, required 1 remaining
Usage:
 peer channel update [flags]

Flags:
 -c, --channelID string In case of a newChain command, the channel ID to create.
 -f, --file string Configuration transaction file generated by a tool such as configtxgen for submitting to orderer

Global Flags:
 --cafile string Path to file containing PEM-encoded trusted certificate(s) for the ordering endpoint
 --certfile string Path to file containing PEM-encoded X509 public key to use for mutual TLS communication with the orderer endpoint
 --clientauth Use mutual TLS when communicating with the orderer endpoint
 --keyfile string Path to file containing PEM-encoded private key to use for mutual TLS communication with the orderer endpoint
 --logging-level string Default logging level and overrides, see core.yaml for full syntax
 -o, --orderer string Ordering service endpoint
 --ordererTLSHostnameOverride string The hostname override to use when validating the TLS connection to the orderer.
 --tls Use TLS when communicating with the orderer endpoint
 -v, --version Display current version of fabric peer server","fabric 1.1.0

centos7

docker 17.12.1-ce",hefei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/18 12:31 PM;hefei;org5.json;https://jira.hyperledger.org/secure/attachment/14982/org5.json",,,,,,,,,,,,,,,,,,,,,,,"1|hzzagf:",,,,,,,,,,,,,,,,,,,,,hefei,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve LedgerConfig UT coverage,FAB-10104,30247,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,16/May/18 12:41 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,18/May/18 12:52 AM,,,,v1.2.0,,,fabric-ledger,,,,0,unit-test,,,,The current UT coverage of core/ledger/ledgerconfig is 56%. Increase it to > 90%,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzagn:",,,,,,,,,,,,,,,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Flaky  TestConnectToAnchorPeers,FAB-10105,30248,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nirro,C0rWin,C0rWin,16/May/18 4:03 PM,19/Mar/19 7:57 PM,28/Oct/23 3:03 AM,22/May/18 8:57 PM,,,,v1.2.0,,,fabric-gossip,,,,0,ci-flake,,,,"{{TestConnectToAnchorPeers}} intermittently fails in CI, with following stack trace:

{code}
02:55:56 unit-tests_1  | <<<TestConnectToAnchorPeers>>>
02:55:56 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (199.09s)
02:55:56 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1515
02:55:56 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
02:55:56 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
02:55:56 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
02:55:56 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1575
02:55:56 unit-tests_1  | 		
	            	
			gossip_test.go:474
02:55:56 unit-tests_1  | 		
	Error:      	Timeout expired!
02:55:56 unit-tests_1  | 		
{code} 

Link to the CI **FAILURE** for example and inspection: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/1959/consoleFull",,C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8843,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzagv:",,,,,,,,,,,,,,,,,,,,,C0rWin,nirro,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/May/18 5:36 PM;nirro;https://gerrit.hyperledger.org/r/#/c/21853/;;;",,,,,,,,,,,,,,,,,,,,,
Increase UT coverage for core/endorser/state.go ,FAB-10107,30251,28311,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,16/May/18 7:23 PM,23/Jan/20 7:31 AM,28/Oct/23 3:03 AM,23/Jan/20 7:31 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,The current code coverage is 77%. ,,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzah3:",,,,,,,,,,,,,,,,,,,,,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Markdown anchors to figures in ""peers.md"" don't seem to work",FAB-10108,30252,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tatsu-sato,rpjday,rpjday,16/May/18 7:24 PM,26/Jun/19 9:49 PM,28/Oct/23 3:03 AM,14/Jun/19 7:21 PM,,,,v1.4.2,v2.0.0,,fabric-docs,,,,0,,,,,"In the docs file peers/peers.md, shortly after the figure represented by the anchor ""Peer8"", there are a couple alleged markdown links back to the figure using the notation:

{{... in the [example above](#Peer8), ...}}

but the generated links don't appear to take the reader back to that figure. Is that the proper way to create a markdown anchor and link in the same doc?",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzahb:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Increase code coverage for core/committer/txvalidator/plugin_validator.go,FAB-10109,30253,28311,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yacovm,yacovm,16/May/18 7:24 PM,23/Jan/20 7:31 AM,28/Oct/23 3:03 AM,23/Jan/20 7:31 AM,,,,,,,fabric-peer,,,,0,stale-item,,,,The code coverage is 86%,,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzahj:",,,,,,,,,,,,,,,,,,,,,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Implement service discovery CLI,FAB-10110,30254,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/May/18 8:59 PM,21/Jul/18 3:48 AM,28/Oct/23 3:03 AM,18/Jun/18 12:18 AM,,,,v1.2.0,,,fabric-tools,,,,0,,,,,"Using the service discovery reference implementation in golang, we should create a CLI to be used by network operators and for testing.",,n-horiguchi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-8779,,,,,,,,,,"1|hzzahr:",,,,Unset,,,,,,Unset,,,,,,,,,,,n-horiguchi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add cc2cc and collections support to the client implementation,FAB-10111,30255,28401,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/May/18 9:03 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,23/May/18 8:17 AM,,,,v1.2.0,,,,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzahz:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Run Balance Transfer Example with HSM,FAB-10112,30256,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,,arman19940326,arman19940326,16/May/18 9:09 PM,24/Mar/19 9:11 PM,28/Oct/23 3:03 AM,24/Mar/19 9:11 PM,v1.1.0,,,,,,fabric-samples,,,,0,,,,,"Instead of FileKeyValueStore, I want users to be able to interact with the application using an HSM. What files should I change to achieve this goal? What should I do in general? 

I found the below files that I apparently should change but I don't know where I should specify Pin and libpath and  slot of the HSM. 

[ balance-transfer/node_modules/fabric-client/config/default.json ]

[ balance-transfer/artifacts/org1.yaml ]

[ balance-transfer/artifacts/org2.yaml ]",,arman19940326,hongquan.zhang,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzai7:",,,,Unset,,,,,,Unset,,,,,,,,,,,arman19940326,hongquan.zhang,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/18 9:58 PM;mastersingh24;This seems more like a documentation issue with the Node SDK than something we should do with the balance transfer application.
;;;","24/Mar/19 9:11 PM;mastersingh24;we are removing this sample anyway;;;",,,,,,,,,,,,,,,,,,,,
Manual Test: Have an idemixer client perform a chaincode query,FAB-10113,30258,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,16/May/18 9:47 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 4:35 AM,v1.2.0,,,v1.2.0,,,fabric-crypto,,,,0,manual-test,,,,,,ales,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10116,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10120,,,,,,,,,,"1|hzzaif:",,,,,,,,,,,,,,,,,,,,,ales,latitiah,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Create idemixgen build target,FAB-10114,30259,30258,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ales,ales,16/May/18 9:48 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/May/18 1:59 AM,,,,v1.2.0,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzain:",,,,,,,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Add function to generate idemix artifacts as part of e2e test bash script,FAB-10115,30260,30258,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,16/May/18 9:48 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 4:34 AM,,,,v1.2.0,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaiv:",,,,,,,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
TEST PLAN: Idemix for Fabric Core,FAB-10116,30273,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,JonathanLevi,elli-androulaki,elli-androulaki,16/May/18 10:20 PM,19/Nov/18 1:16 PM,28/Oct/23 3:03 AM,19/Nov/18 1:16 PM,v1.3.0,,,v1.3.0,v1.4.0,,fabric-crypto,,,,0,test-plan,,,,"Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) :

 Docs: 

[https://hyperledger-fabric.readthedocs.io/en/master/idemix.html]
 [https://hyperledger-fabric.readthedocs.io/en/master/idemixgen.html]

APIs: 

Fabric: MSP API, 

+*Unit Test (UT) leader*+: [~mdr]

Automated unit tests are merged in repo, as go tests or otherwise part of build/verify jenkins jobs.
 Code coverage tracked in Jenkins: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/]

The idemix package (containing the crypto functionality required) has a code coverage of 85%, the msp package (where we make the idemix functionality available as an MSP) has a code coverage of 85%. The idemixca used in idemixgen (a tool to create idemix cryptographic material) has a coverage of 86%.

Different scenarios were included in unit tests, including the following:
# Using the wrong certificate keys
# Setting the wrong attribute values
# Corrupting the certificate by inserting random values into the serialized Identity and transaction signature
# Inserting empty values

+****************++*Function Test (FVT) leader*+: [~mdr]
These are integration tests, some of which may be component mocked in order to force certain scenarios, others may be full system integration.

E2E testcases scenarios (There is a jira test-task for each of these):
 # Manual Test: Have an identity mixer client perform a chaincode query without gingko (---------FAB-10113---------)
 # Convert the above e2e test to use the ginkgo framework (FAB-10174)
 # E2E Test: Have an identity mixer client perform a chaincode invocation  (FAB-10117)
 # E2E Test: Have an identity mixer admin perform an identity mixer MSP reconfiguration (FAB-10118)

C.  Other functional testing required: N/A

 

+*System Verification Test (SVT) leader*+: [~mne]

Idemix is an alternative MSP in addition to the standard X509 MSP. It is used to signing by / verification of transaction creators in an anonymous/unlinkable fashion. From a system perspective, test scenarios that exercise standard MSP functionality for this purpose also apply to Idemix.

The SVT network setup that mixes standard X509 and Idemix MSPs. The standard long-running (~72h) full system integration test features 32 organizations with 2 peers each, driving regular Fabric transaction flow, including sign/verify failure cases.

Multiple multi-threaded tests should be executed that verify the ability to execute multiple Idemix-based transactions within the system. Any notable performance changes should be documented.",,dubovitskaya,elli-androulaki,JonathanLevi,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10355,FAB-10113,,,,,,,,,,,,,,,,,,,,,FAB-10120,,,No,,,,,,,"1|hzzakv:",,,,,,,,,,,,,,,,Unset,,Integration Test,,,dubovitskaya,elli-androulaki,JonathanLevi,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/18 6:25 PM;dubovitskaya;Since the release is out already and all testing was completed except the ginko ones that was moved to 1.4, I suggest to close this one and open another TEST PLAN issue for 1.4;;;","17/Oct/18 8:45 PM;JonathanLevi;[~dubovitskaya] - your wish is our command.

Why not. Let's do it. Closing.;;;",,,,,,,,,,,,,,,,,,,,
E2E Test: Have an identity mixer client perform a chaincode invocation,FAB-10117,30276,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mdr,elli-androulaki,elli-androulaki,16/May/18 10:41 PM,14/Aug/18 6:37 PM,28/Oct/23 3:03 AM,14/Aug/18 6:37 PM,,,,v1.3.0,,,fabric-crypto,,,,0,e2e-test,,,,,,dubovitskaya,elli-androulaki,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10120,,,No,,,,,,,"1|hzzam7:",,,,,,,,,,,,,,,,Unset,,Integration Test,,,dubovitskaya,elli-androulaki,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/18 6:37 PM;dubovitskaya;duplication of FAB-10355 with CR: https://gerrit.hyperledger.org/r/#/c/22247/;;;",,,,,,,,,,,,,,,,,,,,,
E2E Test: Have an identity mixer admin perform an identity mixer MSP reconfiguration,FAB-10118,30277,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,elli-androulaki,elli-androulaki,16/May/18 10:42 PM,23/Jan/20 7:34 AM,28/Oct/23 3:03 AM,23/Jan/20 7:34 AM,,,,Future,,,fabric-crypto,,,,0,e2e-test,stale-item,,,"Scenario: the current idemix msp admin changes the MSP config to specify:

a) a different MSP admin;

b) a different CA",,elli-androulaki,JonathanLevi,latitiah,sykesm,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12758,,,No,,,,,,,"1|hzwrpb:",,,,,,,,,,,,,,,,Unset,,Integration Test,,,elli-androulaki,JonathanLevi,latitiah,sykesm,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 7:12 PM;JonathanLevi;Not sure why Hyperledger's JIRA allows a ticket to be ""In Progress"" without an Assignee. Either way, moving to 1.4.0;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
"E2E Test: IdentityMixer Client (CLI) tries alone to reconfigure a system parameter (e.g., add a new MSP) that is governed to a policy that excludes anonymous identities",FAB-10119,30278,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,16/May/18 11:14 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,,,,0,e2e-test,stale-item,,,"This is an E2E that assumes an identity mixer MSP for clients in addition to the standard E2E test configuration that we have in place.

The genesis block specifies that to enhance the list of MSPs in the chain, a policy needs to be satisfied that excludes anonymous identities. E.g., assuming MSPI1 the identity mixer MSP and MSP 2, 3, 4 the non-identity mixer MSPs, then the policy could be 

 (Combined(OrgI1.member AND OrgI1.nominal) ) OR( Combined(MSP2.Member AND MSP2.nominal)) 

The identity mixer client, attempts with the other members of the channel to submit a reconfiguration transaction to add a new MSP; this attempt should fail cause policy evaluation should fail: the identity mixer client id has the anonymity flag on and therefore cannot satisfy the policy.

The MSP2 client should also attempt the reconfiguration request that should succeed.",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7601,,,,,,,,,,"1|hzwruv:",,,,,,,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
 Idemix - Fabric Core MVP,FAB-10120,30279,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dubovitskaya,denyeart,denyeart,16/May/18 11:36 PM,09/May/19 10:16 PM,28/Oct/23 3:03 AM,19/Nov/18 1:17 PM,,,,v1.3.0,,,fabric-crypto,,,,0,idemix,,,,"Idemix - Fabric Core: Finalize Identity Mixer fabric core capabilities in Go - support unlinkability for signing transactions.

This Epic will finalize Identity Mixer support that was introduced to peer in v1.1 under --FAB-2005--.  See --FAB-2005-- for details.  This Epic will carry the test tasks and other items required to make Identity Mixer support a production feature in Fabric.

Epic FAB-5733 adds additional Identity Mixer capabilities.",,dubovitskaya,latitiah,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-588,FAB-2005,,,,,FABJ-327,FABC-592,FABJ-439,,,,,,,,,,,,,,Done - could still use a sample.,,Reviewed,,Done,ghx-label-7,,Idemix - Fabric Core MVP,To Do,,,,Done,,,,"1|hzzamf:",,,,No,Required,,,,,,,,,,See FAB-10116 for test plan. Partner with Latitia Haskins on interop test.,,,,,,dubovitskaya,latitiah,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove organization scoped profiles,FAB-10121,30280,28983,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,16/May/18 11:39 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 8:01 AM,,,,,,,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzamn:",,,,,,,,,,,,,,,,,,,,,jyellick,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Identity Service,FAB-10124,30283,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sandrav,aleksandar.likic,aleksandar.likic,16/May/18 11:46 PM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,16/May/18 11:47 PM,,,,,,,,,,,0,,,,,,,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzanb:",,,,Unset,,,,,,Unset,,,,,,,,,,,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SideDB-CouchDB Performance Test: Concurrent Operation Invoke and Query on Committer peers,FAB-10128,30287,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 12:48 AM,10/Aug/18 11:10 PM,28/Oct/23 3:03 AM,10/Aug/18 11:10 PM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.

Run1: Test aggressive endorsement-time push to all peers (maxPeerCount equal to number of peers)

Run 2:  Test no push and only pull at validation/commit time (maxPeerCount of 0 ensures no pushing)

Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2
 3) Concurrently, do

100000 transactions (repeats): 2
 a) 100000 rich-queries of 4-field spread among 2 channels.

b)  100000 private data queries on specific committer peers.

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzzao7:",,,,,,,,,,,,,,,,,,,,,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SideDB - CouchDB Scalability - more orgs,FAB-10129,30289,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 12:55 AM,30/Jul/19 11:42 AM,28/Oct/23 3:03 AM,30/Jul/19 11:42 AM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 8 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2
 3) do the following 2 concurrently 
 a) 100000 rich-queries of 2-field spread among 2 channels

b) 100000 private data queries on specific peers.

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers",,mastersingh24,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10081,,,,,,,,,,"1|hzzaof:",,,,,,,,,,,,,,,,,,,,,mastersingh24,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
SideDB - CouchDB Chaos Testing:,FAB-10130,30291,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 12:56 AM,28/Nov/18 7:03 AM,28/Oct/23 3:03 AM,03/Jul/18 4:14 AM,v1.2.0,,,v1.2.0,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 4 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2
 3) Concurrently, do 
   a. 100000 rich-queries of 4-field spread among 2 channels

  b. Take peers down and up and ensure private data still gets disseminated (any peer that was not up at push time will have to pull the private data upon later block commit).-

  c. Join a new peer to the channel and ensure it can catch up in block height, in the presence of both purged data and remaining data.

 

 

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11447,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10084,,,No,,,,,,,"1|hzzaon:",,,,,,,,,,,,,,,,Unset,,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jul/18 4:13 AM;scottz;Tested variety of scenarios. Moving this to Done. We can continue to work on automating  in the CI.;;;","29/Aug/18 12:58 AM;scottz;This v1.2 version of this testcase is being enhanced and replaced in v1.3 by FAB-11447 (restarts test including service discovery, side db with named collections).;;;",,,,,,,,,,,,,,,,,,,,
SIdeDB - CouchDB Scalability - more peers per org,FAB-10131,30293,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 12:56 AM,30/Jul/19 11:47 AM,28/Oct/23 3:03 AM,30/Jul/19 11:47 AM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 8 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2

3) do the following 2 concurrently 
 a) 100000 rich-queries of 2-field spread among 2 channels

b) 100000 private data queries on specific peers.

 

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,mastersingh24,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10081,,,,,,,,,,"1|hzzaov:",,,,,,,,,,,,,,,,,,,,,mastersingh24,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:47 AM;mastersingh24;No activity for around a year .... cleanup time;;;",,,,,,,,,,,,,,,,,,,,,
Align outlier peer CLI commands that output success messages at debug,FAB-10132,30297,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,wlahti,wlahti,17/May/18 1:09 AM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,17/May/18 11:44 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The ""peer channel fetch"" and ""peer chaincode install"" commands currently log their success output message at the debug level. This can make certain integration/e2e tests fail unexpectedly if the log level is set to any other level. 

It seems natural that the logged message upon success should be at the info level.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6338,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzap3:",,,,Unset,,,,,,Unset,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 1:23 AM;wlahti;https://gerrit.hyperledger.org/r/c/21863/;;;",,,,,,,,,,,,,,,,,,,,,
"Update documentation that refers to ""peer channel fetch"" output at debug level",FAB-10133,30298,30297,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,17/May/18 1:14 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,20/May/18 5:09 AM,,,,,,,fabric-docs,,,,0,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzapb:",,,,,,,,,,,,,,,,,,,,,wlahti,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 1:26 AM;wlahti;https://gerrit.hyperledger.org/r/c/21917/;;;",,,,,,,,,,,,,,,,,,,,,
"SideDB - CouchDB Performance Test: Invokes, then Queries, 1 org",FAB-10134,30299,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 1:15 AM,01/Aug/19 10:59 AM,28/Oct/23 3:03 AM,07/Dec/18 8:28 AM,,,,v1.2.0,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 1 channel, 1 org, 4 peers per org, each peer with CouchDB container for stateDB, SideDB enabled , 4 kafka, 3 zookeepers, 1 orderers, 1 ca, TLS enabled
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) invoke transactions: 4 threads, each thread sends 2000 queries concurrently

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org1 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 1
          thread 4 sends to org1 peer1 on channel 1
 3) 8000 normal queries

4) 8000 query private data

 

+*Result*+:
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers
  ",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,FABN-131,,,,,,FAB-12262,,,,,,,,,,,,,,,,FAB-10768,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Automated,,,,,,,"1|hzzapj:",,,,,,,,,,,,,,,,Pass,"
======= PTE 0 main Test Summary: executed at Wed Sep 26 2018 08:36:10 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total processes 4
(testorgschannel1:marbles02_private_go_ch1):    Total transactions sent 8000  received 8000
(testorgschannel1:marbles02_private_go_ch1):    failures: proposal 0  transactions 0
(testorgschannel1:marbles02_private_go_ch1):    event: received 8000  timeout 0  unreceived 0
(testorgschannel1:marbles02_private_go_ch1):    start 1537965383505  end 1537965937264  duration 553759 ms
(testorgschannel1:marbles02_private_go_ch1):    TPS 14.45
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 8000  total time: 1260034 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 26 ms  max: 1277 ms  avg: 157.50 ms
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 8000  total time: 204966 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 5 ms  max: 10133 ms  avg: 25.62 ms
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 8000  total time: 150612723 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 1951 ms  max: 50270 ms  avg: 18826.59 ms

======= PTE 0 main Test Summary: executed at Wed Sep 26 2018 08:47:38 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): CONSTANT QUERY transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total processes 4
(testorgschannel1:marbles02_private_go_ch1):    Total transactions sent 8000  received 8000
(testorgschannel1:marbles02_private_go_ch1):    start 1537966071402  end 1537966163356  duration 91954 ms
(testorgschannel1:marbles02_private_go_ch1):    TPS 87.00
",System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"19/Jun/18 6:02 PM;rlalgowdar;https://gerrit.hyperledger.org/r/#/c/23307/;;;","26/Jun/18 8:20 PM;rlalgowdar;*+INVOKES: Result:+*

======= PTE 0 main Test Summary: executed at Tue Jun 26 2018 06:04:25 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total transactions 40000  timeout transactions 0
(testorgschannel1:marbles02_private_go_ch1):    start 1530007478899  end 1530010468071  duration 2989172 ms 
(testorgschannel1:marbles02_private_go_ch1):    TPS 13.38
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 40000  total time: 9076505 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 28 ms  max: 18572 ms  avg: 226.912625 ms 
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 40000  total time: 477798 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 5 ms  max: 10115 ms  avg: 11.94495 ms 
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 40000  total time: 1996535750 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 881 ms  max: 104277 ms  avg: 49913.39375 ms

---------------------------------------------------------------------------------------------------------------------------------

info: [PTE 0 main]: Test Summary (marbles02_private_go_ch1):Total INVOKE transaction=40000, timeout transaction=0, the Min duration is 2980050 ms,the Max duration is 2989172 ms,Avg duration=2984079.75 ms, total throughput=13.41 TPS
info: [PTE 0 main]: Aggregate Test Summary (marbles02_private_go_ch1):Total INVOKE transaction 40000, timeout transaction 0, start 1530007478899 end 1530010468071 duration is 2989172 ms, TPS 13.38



*+QUERY: Result:+*

======= PTE 0 main Test Summary: executed at Tue Jun 26 2018 06:56:44 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): QUERY transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total transactions 40000
(testorgschannel1:marbles02_private_go_ch1):    start 1530010618645  end 1530011243694  duration 625049 ms 
(testorgschannel1:marbles02_private_go_ch1):    TPS 63.99

---------------------------------------------------------------------------------------------------------------------------------

info: [PTE 0 main]: Test Summary (marbles02_private_go_ch1):Total  QUERY transaction=40000, the Min duration is 623372 ms,the Max duration is 625006 ms,Avg duration=624288.75 ms, total throughput=64.07 TPS
info: [PTE 0 main]: Aggregate Test Summary (marbles02_private_go_ch1):Total QUERY transaction 40000, start 1530010618645 end 1530011243694 duration is 625049 ms, TPS 63.99;;;","07/Dec/18 8:28 AM;scottz;During v1.4 system testing, we can skip some tests from the regression bucket, including: the v1.3 longrunning tests (3 of them, low volume traffic for a week) and the old v1.3 sidedb performance tests (deprecated and replaced by more tests in v.14).;;;",,,,,,,,,,,,,,,,,,,
"SideDB - CouchDB Performance Test: Concurrent Operation Invoke and Query, 2 orgs, 1 channel",FAB-10135,30300,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 1:24 AM,01/Aug/19 10:59 AM,28/Oct/23 3:03 AM,07/Dec/18 8:28 AM,,,,v1.2.0,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 1 channel, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 2 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated

2)transactions: 4 threads, each thread sends 1000 invokes concurrently with tx id from 1 to 1000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer2 on channel 1
          thread 4 sends to org2 peer2 on channel 1

3) Concurrently, do

4000 invokes transactions (similar to previous step, using 4 threads each sending 1000 new invokes, starting with index 4000)
4000 private data queries, on all peers in all orgs (similar to previous step, using 4 threads each sending 1000 queries)

Although the invokes in step3 are new keys, the queries use the keys created in step 2. Since queries go faster than invokes, we set it up this way to be sure the invokes (the first 4000 invokes) are all done before the queries are executed. The second set of 4000 invokes (part 1 of step 3) are there simply to have background noise while the queries are running.

 

+*Result*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers and CouchDB containers",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12220,,,,,,,,,,,,,,,,FAB-10589,FAB-10599,FAB-12202,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,,"1|hzzapr:",,,,,,,,,,,,,,,,Pass,"======= PTE 0 main Test Summary: executed at Thu Sep 27 2018 06:27:29 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total processes 4
(testorgschannel1:marbles02_private_go_ch1):    Total transactions sent 4000  received 4000
(testorgschannel1:marbles02_private_go_ch1):    failures: proposal 0  transactions 0
(testorgschannel1:marbles02_private_go_ch1):    event: received 4000  timeout 0  unreceived 0
(testorgschannel1:marbles02_private_go_ch1):    start 1538044062616  end 1538044367113  duration 304497 ms
(testorgschannel1:marbles02_private_go_ch1):    TPS 13.14
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 1038889 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 34 ms  max: 12954 ms  avg: 259.72 ms
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 51813 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 6 ms  max: 109 ms  avg: 12.95 ms
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 27943316 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 1498 ms  max: 15871 ms  avg: 6985.83 ms

======= PTE 0 main Test Summary: executed at Thu Sep 27 2018 06:34:48 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total processes 4
(testorgschannel1:marbles02_private_go_ch1):    Total transactions sent 4000  received 4000
(testorgschannel1:marbles02_private_go_ch1):    failures: proposal 0  transactions 0
(testorgschannel1:marbles02_private_go_ch1):    event: received 4000  timeout 0  unreceived 0
(testorgschannel1:marbles02_private_go_ch1):    start 1538044505298  end 1538044929184  duration 423886 ms
(testorgschannel1:marbles02_private_go_ch1):    TPS 9.44
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 1349834 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 69 ms  max: 1255 ms  avg: 337.46 ms
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 48420 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 6 ms  max: 125 ms  avg: 12.11 ms
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 156348994 ms
(testorgschannel1:marbles02_private_go_ch1):    min: 1201 ms  max: 75759 ms  avg: 39087.25 ms

======= PTE 1 main Test Summary: executed at Thu Sep 27 2018 06:34:48 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): CONSTANT QUERY transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total processes 4
(testorgschannel1:marbles02_private_go_ch1):    Total transactions sent 4000  received 4000
(testorgschannel1:marbles02_private_go_ch1):    start 1538044505298  end 1538044948565  duration 443267 ms
(testorgschannel1:marbles02_private_go_ch1):    TPS 9.02
",System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,true,"01/Jun/18 4:05 AM;rlalgowdar;Blocked by FAB-10497;;;","01/Jun/18 10:26 AM;rlalgowdar;Blocked by another one FAB-10503;;;","08/Jun/18 11:25 AM;rlalgowdar;Blocked by FAB-10582;;;","19/Jun/18 6:29 PM;rlalgowdar;Blocked by - FAB-10589;;;","28/Jun/18 7:18 PM;rlalgowdar; 

+*RUN 1 INVOKES:*+

======= PTE 0 main Test Summary: executed at Thu Jun 28 2018 05:52:46 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total transactions 4000  timeout transactions 0
(testorgschannel1:marbles02_private_go_ch1):    start 1530179579545  end 1530179956174  duration 376629 ms 
(testorgschannel1:marbles02_private_go_ch1):    TPS 10.62
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 1378273 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 55 ms  max: 24588 ms  avg: 344.56825 ms 
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 68619 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 7 ms  max: 105 ms  avg: 17.15475 ms 
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 12938634 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 602 ms  max: 6332 ms  avg: 3234.6585 ms 

 

+*RUN 2 : CONCURRENT INVOKES AND QUERIES:*+


======= PTE 0 main Test Summary: executed at Thu Jun 28 2018 06:01:17 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): INVOKE transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total transactions 4000  timeout transactions 0
(testorgschannel1:marbles02_private_go_ch1):    start 1530180094416  end 1530180614961  duration 520545 ms 
(testorgschannel1:marbles02_private_go_ch1):    TPS 7.68
(testorgschannel1:marbles02_private_go_ch1): peer latency stats (endorsement)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 1999872 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 176 ms  max: 1359 ms  avg: 499.968 ms 
(testorgschannel1:marbles02_private_go_ch1): orderer latency stats (transaction ack)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 61960 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 7 ms  max: 77 ms  avg: 15.49 ms 
(testorgschannel1:marbles02_private_go_ch1): event latency stats (end-to-end)
(testorgschannel1:marbles02_private_go_ch1):    total transactions: 4000  total time: 12964506 ms 
(testorgschannel1:marbles02_private_go_ch1):    min: 794 ms  max: 5750 ms  avg: 3241.1265 ms 

======= PTE 1 main Test Summary: executed at Thu Jun 28 2018 06:01:17 GMT-0400 (EDT) =======
(testorgschannel1:marbles02_private_go_ch1): QUERY transaction stats
(testorgschannel1:marbles02_private_go_ch1):    Total transactions 8000
(testorgschannel1:marbles02_private_go_ch1):    start 1530180094427  end 1530180683533  duration 589106 ms 
(testorgschannel1:marbles02_private_go_ch1):    TPS 13.58;;;","14/Jul/18 4:28 AM;scottz;[~rlalgowdar] : Please add the gerrit update link that contains the test scripts being added to the fabric-test/tools/PTE/ directory.;;;","17/Jul/18 7:25 PM;rlalgowdar;https://gerrit.hyperledger.org/r/#/c/24477/;;;","07/Dec/18 8:28 AM;scottz;During v1.4 system testing, we can skip some tests from the regression bucket, including: the v1.3 longrunning tests (3 of them, low volume traffic for a week) and the old v1.3 sidedb performance tests (deprecated and replaced by more tests in v.14).;;;",,,,,,,,,,,,,,
SideDB - LevelDB Performance Test: Concurrent operation Invoke and Query,FAB-10136,30301,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 1:25 AM,10/Aug/18 11:08 PM,28/Oct/23 3:03 AM,10/Aug/18 11:08 PM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 2 peers per org, each peer with LevelDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) 100000 transactions
 transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 250000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2
 3) do the following  concurrently:

100000 transactions (repeats): 2
 100000 query :  normal queries and  private data  queries

+*Result:*+
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers",,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzzapz:",,,,,,,,,,,,,,,,,,,,,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB - LevelDB Performance Test: Invokes, then Query",FAB-10137,30302,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,rlalgowdar,rlalgowdar,17/May/18 1:25 AM,10/Aug/18 11:09 PM,28/Oct/23 3:03 AM,10/Aug/18 11:09 PM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 2 peers per org, each peer with LevelDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated

2)transactions: 4 threads, each thread sends 25000 queries concurrently with tx id from 1 to 25000

         thread 1 sends to org1 peer1 on channel 1
          thread 2 sends to org2 peer1 on channel 1
          thread 3 sends to org1 peer1 on channel 2
          thread 4 sends to org2 peer1 on channel 2

3) 100000 query.

+*Result*+:
 1)hardware setup
 2) RPS (request per second) achieved for queries
 3) CPU and memory usage for the Peers",,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8253,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,,,,,,,,"1|hzzaq7:",,,,,,,,,,,,,,,,,,,,,rlalgowdar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"E2E Test: Conventional MSP (CLI) tries alone to reconfigure a system parameter (e.g., add a new MSP) that is governed by a policy where explicitly anonymous identities are required",FAB-10138,30303,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,elli-androulaki,elli-androulaki,17/May/18 1:33 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,,,,0,e2e-test,stale-item,,,"This is an E2E that assumes two identity mixer MSPs for clients in addition to the standard E2E test configuration that we have in place (e.g., 3 orgs of 2 peers each).

The genesis block specifies that to enhance the list of MSPs in the chain, a policy needs to be satisfied that allows solely anonymous identities. E.g.,

 (Combine(OrgI1.member AND Orgl1.anonymous)) AND (Combine(OrgI2.member AND OrgI2.anonymous)), where OrgI1, and OrgI2 the identity mixer MSPs.

Let Org3, 4, and 5 the non-identity mixer MSPs. This e2e requests three reconfiguration requests coming from clients leveraging the following MSPs.

 - OrgI1 and OrgI2 clients send a reconfiguration request to add a new MSP -> this request should pass

 - OrgI1 and Org3 clients send a reconfiguration request to add a new MSP -> this request should fail

 - Org3 and Org4 clients send a reconfiguration request to add a new MSP -> this request should fail

 ",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7601,,,,,,,,,,"1|hzwrv3:",,,,,,,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Enhanced unit tests for Anonymous identities in policy evaluation,FAB-10139,30304,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mathiasb303,elli-androulaki,elli-androulaki,17/May/18 1:46 AM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-crypto,,,,0,extended-unit-test,stale-item,,,"This is to test the following combinations:
 * a signature generated by an identity mixer client against a policy that excludes anonymous identities
 * a signature generated by an identity mixer client against a policy that imposes anonymous identities
 * a signature generated by a conventional client against a policy that excludes anonymous identities and should be otherwise satisfied
 * a signature generated by a conventional client against a policy that imposes anonymous identities and should be otherwise satisfied",,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7601,,,,,,,,,,"1|hzwrvb:",,,,,,,,,,,,,,,,,,,,,elli-androulaki,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Pluggable Endorsement and Validation Plugins Long Run Traffic Mix,FAB-10140,30305,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,scottz,scottz,17/May/18 1:46 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,07/Jun/18 10:59 PM,,,,v1.2.0,,,fabric-quality,,,,0,,,,,"To build a testcase, possibly we can refer to fab-4229 and build upon that by using plugins for endorsement and validation. However a config change is needed - possible impact on PTE tool development.

For feature info regarding using plugins, refer to testcase FAB-10051, as described in the dev feature testplan FAB-9917: 
Compoile and an endorsement plugin, and a validation plugin, and change the peer's config such that they are loaded instead of the builtin plugin.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaqf:",,,,,,,,,,,,,,,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jun/18 10:59 PM;scottz;All v1.2 tests will effectively use the default pluggable endorsement policy and test the fabric innerworkings. We do not need a unique test just for this purpose.;;;",,,,,,,,,,,,,,,,,,,,,
ledgerProvider does not store genesis block,FAB-10141,30306,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,denyeart,denyeart,17/May/18 2:18 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,16/Jul/18 9:12 PM,,,,v1.3.0,,,fabric-ledger,,,,0,,,,,"The change intended in [https://gerrit.hyperledger.org/r/#/c/8297/] did not become effective, due to the 'val' with the marshaled genesis block getting overwritten.

The intent was to store the genesis block in the ledgerProvider data store, so that peer owners would have an option to rebuild the peer's data without having to re-join all the channels.",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3017,,,,,,FAB-10660,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaqn:",,,,,,,,,,,,,,,,,,,,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jun/18 2:30 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/22949/;;;",,,,,,,,,,,,,,,,,,,,,
Instructions to document 1.2 upgrade process,FAB-10142,30307,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,pandrejko,pandrejko,17/May/18 2:23 AM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,22/Jun/18 9:48 PM,,,,v1.2.0,,,fabric-docs,,,,0,Documentation,,,,"1) We need to describe the steps required to upgrade your network from v1.1 to v1.2

Upgrade procedure:

– Bring all binaries up to 1.2.

– Then enable one 1.2 Capability (through channel config transaction).

==> Any 1.1 peer that is not upgraded to 1.2 will crash (which is designed behavior).

==> 1.1 orderers will not crash, though it is recommended that all binaries are brought up to 1.2

2) We should provide an example how to upgrade BYFN i.e.
 Checkout v1.1 byfn at 11
 Start it up
 Checkout v1.2 byfn
 Run upgrade steps against all 4 peers, orderer, ...
  

Contacts:

[~suryalnvs] - can help with the steps to update BYFN

[~bmos299] - can help with describing the process required

 

Existing Upgrade doc is at:

[http://hyperledger-fabric.readthedocs.io/en/latest/upgrading_your_network_tutorial.html]

 

From Jason Y: It should be pretty simple, basically copying the v1.0-v1.1 instructions, and removing large sections of it.  I had not been planning to provide seed content, but I'm happy to do whatever is needed.
  ",,denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzwtr3:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 2:44 AM;pandrejko;Suggested approach:

Remove 1.1 upgrade instructions from 'latest' version of the doc. Copy the 1.1 upgrade instructions and edit them for the 1.2 process.

Add the 1.2 upgrade instructions to the 'latest' version of the doc.

Mention at the top that in order to upgrade to 1.2 you must be at v1.1. If they are not at v1.1, point them to the V1.1 upgrade instructions in the v1.1 version of the docs.

So the result will be:

--  'latest' and (eventual) 1.2 version of the docs will have the upgrade instructions from 1.1

-- 1.1 version of the docs will have the upgrade instructions from 1.0.

 ;;;","31/May/18 11:41 PM;pandrejko;[~nagap] is running the upgrade tests for SVT;;;","14/Jun/18 5:04 AM;joe-alewine;This will, I think, need to be an epic, with the doc work and the work in fabric-samples (updating the scripts, etc) under it.;;;","22/Jun/18 9:49 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/23209/;;;",,,,,,,,,,,,,,,,,,
Direct peer channel create to store genesis block at /dev/null,FAB-10144,30309,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/May/18 3:21 AM,21/Jul/18 3:50 AM,28/Oct/23 3:03 AM,23/May/18 9:22 AM,,,,v1.2.0,,,,,,,0,hygiene,,,,And get rid of the unnecessary {{.gitignore}} files introduced with FAB-9881.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9881,FAB-5602,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzar3:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/18 3:22 AM;sykesm;https://gerrit.hyperledger.org/r/21865;;;",,,,,,,,,,,,,,,,,,,,,
SideDB-CouchDB Long Run (24 Hrs) Baseline Traffic,FAB-10145,30310,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,AdnanChoudhury,AdnanChoudhury,17/May/18 4:35 AM,30/Jul/19 11:41 AM,28/Oct/23 3:03 AM,30/Jul/19 11:41 AM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) Run normal transactions and queries for 24 Hours

+*Result:*+
 1)hardware setup
 2) CPU and memory usage for the Peers and CouchDB containers",,AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10080,,,,,,,,,,"1|hzzarb:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Jul/19 11:41 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,,,
SideDB-LevelDB Long Run (24 Hrs) Baseline Traffic,FAB-10146,30311,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rlalgowdar,AdnanChoudhury,AdnanChoudhury,17/May/18 4:37 AM,10/Aug/18 11:07 PM,28/Oct/23 3:03 AM,10/Aug/18 11:07 PM,,,,Future,,,fabric-quality,,,,0,SystemTestcase,,,,"+*Setup:*+ 
 Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
 Client Driver: PTE
 +*Test Steps:*+
 1) chaincode: each channel has one chancode, marbles02_private go chaincode, instantiated
 2) Run normal transactions and queries for 24 Hours

+*Result:*+
 1)hardware setup
 2) CPU and memory usage for the Peers and LevelDB containers",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10080,,,,,,,,,,"1|hzzarj:",,,,,,,,,,,,,,,,,,,,,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Name and colorize processes in e2e,FAB-10147,30312,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,17/May/18 4:38 AM,21/Jul/18 3:49 AM,28/Oct/23 3:03 AM,17/May/18 5:30 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzarr:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 4:42 AM;sykesm;https://gerrit.hyperledger.org/r/21873;;;",,,,,,,,,,,,,,,,,,,,,
Create weekly jobs on vulnerable/security/dependency check,FAB-10148,30313,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/May/18 4:39 AM,21/Jul/18 3:49 AM,28/Oct/23 3:03 AM,21/May/18 10:16 PM,,,,v1.2.0,,,fabric-ci,,,,0,CI_Adhoc_Req,,,,"Weekly jobs on below tasks:

Run goAST scan on fabric-ca build for all applicable go packages

Run OWASP dependency check on fabric-sdk-java

Enable vulnerable tests on fabric-sdk-node.

 ",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-10181,,,,,,,,,,"1|hzzarz:",,,,Unset,,,,,,Unset,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE readme update,FAB-10149,30314,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,17/May/18 5:34 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,22/May/18 10:30 PM,,,,,,,fabric-quality,,,,0,,,,,Add 'npm install' to the PTE install method in the readme.,,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-2247,,,,,,,,,,"1|hzzas7:",,,,,,,,,,,,,,,,,,,,,dongming,scottz,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,true,"17/May/18 10:24 PM;dongming;https://gerrit.hyperledger.org/r/#/c/21899/;;;","19/May/18 6:41 AM;scottz;Is this targeted for failure transactions that DO get to the ledger (but are invalid)?

If not, then WHY would we want to do this? If the transactions never get to the ledger, then it would not be good to include them in our TPS measurements. ;;;","22/May/18 4:53 AM;dongming;https://gerrit.hyperledger.org/r/#/c/22079/;;;",,,,,,,,,,,,,,,,,,,
Upgrade Test: New ACL channel-based access control capability,FAB-10150,30315,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,nagap,nagap,nagap,17/May/18 6:23 AM,30/Jul/19 11:42 AM,28/Oct/23 3:03 AM,30/Jul/19 11:42 AM,v1.2.0,,,Future,,,fabric-quality,,,,0,quality,SystemTestcase,,,"* start with a running system with transactions and operational ledger
 * upgrade the binaries to 1.2, with capability flag for ACL turned on
 * update a subset of the channels and modify the application ACL to verify that ACL ids working",,jyellick,mastersingh24,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10087,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10085,,,,,,,,,,"1|hzzasf:",,,,,,,,,,,,,,,,,,,,,jyellick,mastersingh24,nagap,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 11:52 AM;jyellick;I'd also suggest to enable ACLs _with_ the capability update as a single transaction, as this would be the recommended and least work required method to add them.  You should not be able to specify ACLs until after the new capability has been enabled.;;;","20/Jun/18 11:13 AM;scottz;[~jyellick] [~latitiah] [~nagap]  Why do we have a separate capability flag for ACL plus a capability flag for v1.2? And is this explained in the docs?

Dod the upgrade docs explain summary of all the new features/capabilities that are provided when v1.2 capability is set?

How about the list of changes/additions for all the config variables? Or are we pointing folks to the fabric/sampleconfig/*.yaml files and telling them to compare the 1.1 to 1.2 versions?;;;","23/Jun/18 7:49 AM;scottz;Release manager indicated this could be lower priority, since FVT coverage was good, and this duplicates lots of that. I changed the fields accordingly.;;;","30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,
Sample (default) and e2e example configtx.yaml are ill-formed and invalid,FAB-10151,30317,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,17/May/18 7:01 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 11:50 PM,,,,,,,fabric-common,,,,0,,,,,"The current structure of the configtx.yaml references anchors before they are defined while the spec states that anchors need to be defined before they are aliased.

Old versions of our yaml parser had a bug where it did not properly implement aliasing when an anchor was redefined. (It was supposed to use the most recent preceding node having the aliased anchor but used the last.) This bug has been fixed.

While we should update to newer versions of the yaml parser to pick up bug fixes and features, we are unable to do that at this time as our existing configtx.yaml files fail to parse.

This can be addressed in the current code by reordering the stanzas in the file. Unfortunately, this will not fix existing configtx documents that are being used in the wild.

/cc [~mastersingh24]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzasv:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 7:50 PM;sykesm;One liner that uses ruby to find invalid YAML files:
{code:java}
for file in $(find . -name '*.yml' -o -name '*.yaml' | grep -v vendor/ | grep -v .build/); do echo $file && ruby -e ""require 'yaml';YAML.load_file(ARGV[0])"" $file; done{code};;;","17/May/18 9:43 PM;sykesm;https://gerrit.hyperledger.org/r/21895;;;",,,,,,,,,,,,,,,,,,,,
Update go-yaml to newest released version to pick up encoders and bug fixes,FAB-10152,30318,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,17/May/18 7:02 AM,21/Jul/18 3:49 AM,28/Oct/23 3:03 AM,11/Jul/18 6:24 AM,,,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10151,FAB-10176,FAB-10177,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzat3:",,,,Unset,,,,,,Unset,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Continue instead of return when PvtSimulationResultsWithConfig  is nil,FAB-10153,30319,28311,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/18 7:16 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 6:59 PM,,,,,,,fabric-peer,,,,0,,,,,"The endorser's private data support assumes there is simulation results if the iterator claims the iteration hasn't ended and if there aren't any - it returns an error.

I think it's better be safe than sorry and just skip this iteration and continue to the next one, and in the worst case - the user (the implementer of the plugin) can detect if the value it searches for isn't returned after the iterator",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzatb:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 7:30 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21879/;;;",,,,,,,,,,,,,,,,,,,,,
Close iterator at endorser private data fetching for pluggable endorsement,FAB-10154,30320,28311,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/18 7:17 AM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 6:59 PM,,,,,,,fabric-peer,,,,0,,,,,The iterator isn't closed after it is fetched.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzatj:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 7:30 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/21881/;;;",,,,,,,,,,,,,,,,,,,,,
Increase converage of the github.com/hyperledger/fabric/gossip/privdata  package,FAB-10155,30321,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,17/May/18 7:46 AM,28/Aug/18 3:39 AM,28/Oct/23 3:03 AM,30/Jul/18 7:45 PM,,,,v1.3.0,,,fabric-gossip,,,,0,,,,,"Currently the total coverage for gossip/privdata package maintained around 84%, need to take care increasing it to over 90%.",,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,FAB-5108,,,Automated,,,,,,,"1|hzzatr:",,,,Unset,,,,,,Unset,,,,,,Unset,,Unit Test,,,C0rWin,kchristidis,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:51 PM;kchristidis;Is this in play for 1.2?;;;","18/May/18 2:27 AM;C0rWin;yes;;;","02/Jul/18 7:32 AM;C0rWin;https://gerrit.hyperledger.org/r/23929;;;",,,,,,,,,,,,,,,,,,,
Test: Dissemination of the private data to for organization added to collection config,FAB-10156,30322,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,C0rWin,C0rWin,17/May/18 8:34 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,12/Jul/18 9:31 PM,,,,Future,,,fabric-gossip,,,,0,e2e-test,,,,"1. Setup a channel with three organisations: Org1, Org2 and Org3
2. Install a chaincode and provide collection configuration which will have two collections:
    2.1. First collection ColName1 will include Org1 and Org2
    2.2. Second collection ColName2 will include Org2 and Org3
3. Endorse transactions which produces private read-write sets for ColName1 and ColName2
4. Update membership of collection ColName1 to add Org3
5. Endorse transactions which produces private read-write sets for ColName1
    5.1. Need to make sure Org3 receives relevant private data after transaction with updated membership is get committed
",,C0rWin,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10358,,,,,,,,,,FAB-9992,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfk:2",,,,,,To Do,,,,,,,,,,,,,,,C0rWin,nirro,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/May/18 4:39 PM;nirro;added additional step(check) to the test:
6. after upgrading the chaincode and updating the collection config, make sure Org3 don't have access to private data the was created before updating the membership.;;;","31/May/18 7:18 PM;nirro;https://gerrit.hyperledger.org/r/#/c/22585/;;;",,,,,,,,,,,,,,,,,,,,
Test network partition with respect of private data distribution and availability,FAB-10157,30323,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,C0rWin,C0rWin,17/May/18 8:46 AM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,26/Jul/18 6:38 AM,,,,Future,,,fabric-gossip,,,,0,e2e-test,,,,"1. Setup a channel with three organization: Org1, Org2 and Org3
2. Run peers only of Org1 and Org2
3. Install a chaincode with one collection, ColName1 having Org1 and Org2 access to it
4. Endorse transaction with peer of Org1
5. Send transaction to change collection membership, remove Org2 and add Org3
6. Immediately after take nodes of Org1 
7. Spin off peer of Org3
8. Make sure peers of Org3 won’t get changes endorsed in step #4 despite Org3 already added",,C0rWin,manish-sethi,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10647,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwqfk:3",,,,,,To Do,,,,,,,,,,,,,,,C0rWin,manish-sethi,nirro,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jun/18 10:19 PM;manish-sethi;[~nirro] - while onto this, can you add one more check towards the end - which is that the transaction (endorsed in step 4) should actually be marked as invalid during commit (because, a chaincode upgrade has taken place between endorsement and commit). As a result, the final state of the private data on org1 and org2 should be also be same as before this transaction.;;;","12/Jun/18 5:01 PM;nirro;[~manish-sethi] sure, I'll add this check.;;;","18/Jun/18 6:38 AM;C0rWin;[~nirro] have you covered this item in your series of private data CRs?;;;","18/Jun/18 4:53 PM;nirro;I have a test for this item, still didn't push the code (need to finalize some minor things) since I moved to work on SD e2e test.
once sd code is pushed will move back to this item and close the gaps.;;;","26/Jun/18 6:43 PM;nirro;https://gerrit.hyperledger.org/r/23641;;;",,,,,,,,,,,,,,,,,
I want to learn how to clone fabric from JIRA GIT to local??,FAB-10158,30324,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,harlanc,harlanc,17/May/18 9:20 AM,23/Jan/20 7:33 AM,28/Oct/23 3:03 AM,23/Jan/20 7:33 AM,,,,,,,,,,,0,stale-item,,,,It is my first issue here.I cannot find some links to clone??who can help me please?Thanks,,haibbo,harlanc,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-9,,"Hello ,everyone,I am newer, both for fabric and JIRA",To Do,,,,Unset,,,,"1|hzzatz:",,,,Unset,Unset,,,,,,,,,,,,,,,,haibbo,harlanc,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
"Upgrade Test: With a flowing traffic on channel, turn capabilities and check no transaction is lost",FAB-10159,30325,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,nagap,nagap,17/May/18 10:35 AM,30/Jul/19 11:42 AM,28/Oct/23 3:03 AM,30/Jul/19 11:42 AM,,,,Future,,,fabric-quality,,,,0,Quality,SystemTestcase,,,"{noformat}
Enable Application capabilities (set V1_2=true) including resubmission with traffic running, and verify no Tx is lost{noformat}
{color:#000000} {color}",,jyellick,mastersingh24,nagap,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10085,,,,,,,,,,"1|hzzau7:",,,,,,,,,,,,,,,,,,,,,jyellick,mastersingh24,nagap,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/May/18 11:21 AM;jyellick;I'm not sure that this one is worth carrying over from the v1.1 upgrade.  There's no real logic change in the orderer (as there's no v1.2 orderer capability), so I'd say this one is low value.;;;","23/May/18 11:57 PM;nagap;deprioritizing per Jason's comments.;;;","30/Jul/19 11:42 AM;mastersingh24;Open 1 year or more with no activity ... time to cleanup;;;",,,,,,,,,,,,,,,,,,,
Upgrade Test: NodeJs SDK 1.1 compatibility against 1.2 network compornents,FAB-10161,30327,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,Ratnakar,nagap,nagap,17/May/18 11:40 AM,14/Sep/18 5:13 AM,28/Oct/23 3:03 AM,22/Jun/18 10:35 PM,,,,v1.2.0,,,fabric-quality,,,,0,Quality,SystemTestcase,,,"||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA|| Description of the testcase||
|1.1|1.1|1.1|*1.2*|Refer [#Case 1] below|
|1.1|1.1|*1.2*|1.1|Refer Case 2 below|
|1.1|1.1|*1.2*|*1.2*|Refer Case 3 below|
|1.1|*1.2*|*1.2*|*1.2*|Refer Case 4 below|

 

_+Pre-requisite+_:

1. pull the the fabric-peer / fabric-orderer /fabric-ca docker images with tag *x86_64-1.1.0*

2. Generate the latest images on master branch of *fabric* and *fabric-ca* repo

At the time of this test image versions are as following

fabric version      : *amd64-1.2.0-snapshot-3436f454f*

fabric-ca version : *amd64-1.2.0-snapshot-744e032*

 
----
[#Case 1]
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.1, Fabric is at 1.1 & Fabric-CA is at 1.2

Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:x86_64-1.1.0
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:x86_64-0.4.6

Step 6: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 7: Execute the following command and make sure all the tests are passing now 

         ""gulp test""{code}
----
Case 2
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.1, Fabric is at 1.2 & Fabric-CA is at 1.1

Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:x86_64-1.1.0
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 3
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.1, Fabric is at 1.2 & Fabric-CA is at 1.2 

Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 4:
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.2, Fabric is at 1.2 & Fabric-CA is at 1.2 

Step 1 : Clone the repo (Default it points to release-1.1 branch)
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node

Step 2: Install the node modules
npm install
make sure to use latest 1.2 node modules for the clients fabric-client and fabric-ca-client (As of this testing used the version: 1.2.0-snapshot.62)
rm -rf node_modules/fabric-c*
npm install fabric-client@1.2.0-snapshot.68
npm install fabric-ca-client@1.2.0-snapshot.68

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.2.0-snapshot-3436f454f
export DOCKER_IMG_CA_TAG=:amd64-1.2.0-snapshot-744e032
export THIRDPARTY_IMG_TAG=:amd64-0.4.8

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}",,kchristidis,nagap,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10087,FAB-12001,,,,,,,,,,,,,,,,FABN-525,FABN-294,FABN-166,FABN-463,FABN-153,FABN-198,FABN-679,FABN-290,FABN-678,"21/Jun/18 5:13 AM;Ratnakar;complete_logs.txt;https://jira.hyperledger.org/secure/attachment/15134/complete_logs.txt",,,,,,,,,,Unset,,,FAB-10085,,,,,,,,,,"1|hzzaun:",,,,Unset,,,,,,Unset,,,,,,,,,,,kchristidis,nagap,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jun/18 2:33 AM;scottz;[~nagap] [~Ratnakar]  FYI: I assigned to Ratnakar, to get his assistance, leveraging his experience from the compatibility testing he did with release v1.1. The 3 of us should discuss Monday who and what tests need to be done to satisfy this task.;;;","20/Jun/18 5:38 AM;Ratnakar;||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA||Result||
|1.1|1.1|1.1|*1.2*|All Integrations tests passed|
|1.1|1.1|*1.2*|1.1|*11 tests failed* with a similar root cause |
|1.1|1.1|*1.2*|*1.2*|same as the above (11 tests failed with a similar root cause)|
|1.1|*1.2*|*1.2*|*1.2*|several tests failed with multiple root causes|

More details to follow;;;","20/Jun/18 10:22 AM;kchristidis;This is marked as ""In Review""; do we have the link to the relevant CR handy?;;;","20/Jun/18 12:28 PM;scottz;[~kchristidis] It is ""in review"" because it represents testcase execution status, like the other items in the v1.2 dashboard. They have been run and we are almost ready to mark this as Done, except we still have test failure results to finish analyzing with the design team and probably create more bugs before doing so.

Any patchsets we submit for any scripts or other materials will be done with a different JIRA task.;;;","22/Jun/18 10:35 PM;Ratnakar;Executed all the tests .
For a reference the changes were uploaded to this repo https://github.com/asararatnakar/fabric-sdk-node-v11-v12-compatibility/commit/c54908bb4ef628726e0ae4b55c29596375b71fcc

closing this issue.;;;",,,,,,,,,,,,,,,,,
Test: Manually exercise private data chaincode in dev env,FAB-10162,30328,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,17/May/18 12:17 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,02/Jun/18 2:18 AM,,,,v1.2.0,,,fabric-ledger,,,,0,manual-test,,,,"Setup dev environment with latest master.

All commands run from GOPATH/src/github.com/hyperledger/fabric directory.
{code:java}
export PATH=$GOPATH/src/github.com/hyperledger/fabric/.build/bin:$PATH
export FABRIC_CFG_PATH=$GOPATH/src/github.com/hyperledger/fabric/sampleconfig/
{code}
 

In ./sampleconfig/configtx.yaml ensure that V1_2 capability is set.

make docker needed for building chaincode image, make binaries for local execution:
{code:java}
make docker-clean docker

make configtxgen

make orderer

make peer{code}
 

Make sure you have fabric-samples with private chaincode sample at ../fabric-samples/chaincode/marbles02_private.

The fabric-samples uses Org1 and Org2 MSPs, so we'll create our own copy in ./collection.json to use SampleOrg MSP:
{code:java}
[
 {
     ""name"": ""collectionMarbles"",
     ""policy"": ""OR('Org1MSP.member', 'Org2MSP.member','SampleOrg.member')"",
     ""requiredPeerCount"": 0,
     ""maxPeerCount"": 0,
     ""blockToLive"":1000000
},
 {
     ""name"": ""collectionMarblePrivateDetails"",
     ""policy"": ""OR('Org1MSP.member','SampleOrg.member')"",
     ""requiredPeerCount"": 0,
     ""maxPeerCount"": 0,
     ""blockToLive"":100000
 }
]{code}
Note on above - Org1MSP and Org2MSP are used for e2e. SampleOrg is used for dev env.

 

Delete any existing Fabric data:
{code:java}
rm -r /var/hyperledger/{code}
Use a separate command prompt for 1) orderer 2) peer 3) CLI commands:

1) start orderer:
{code:java}
ORDERER_GENERAL_GENESISPROFILE=SampleSingleMSPSolo orderer{code}
{color:#000000}2) start peer:{color}
{code:java}
CORE_LOGGING_LEVEL=DEBUG peer node start{code}
{color:#000000}or start peer with CouchDB (also stop/restart couchdb container as needed):{color}
{code:java}
docker stop couchdb
docker rm couchdb
docker run --publish 5984:5984 --detach --name couchdb hyperledger/fabric-couchdb

CORE_LOGGING_LEVEL=DEBUG CORE_LEDGER_STATE_STATEDATABASE=CouchDB peer node start{code}
3) CLI commands:

Create and Join channel:
  
{code:java}
peer logging setlevel gossip ERROR

configtxgen -channelID mycp -outputCreateChannelTx mycp.tx -profile SampleSingleMSPChannel

peer channel create -c mycp -o 127.0.0.1:7050 -f mycp.tx

peer channel join -b mycp.block{code}
 
 {color:#000000}marbles02 - Install and Instantiate:{color}
  
{code:java}
peer chaincode install -n marblesp -p github.com/hyperledger/fabric-samples/chaincode/marbles02_private/go -v 1

peer chaincode instantiate -C mycp -n marblesp -c '{""Args"":[""init""]}' -v 1 -o 127.0.0.1:7050 --collections-config collection.json{code}
marbles02 - invoke:
{code:java}
peer chaincode invoke -o 127.0.0.1:7050 -C mycp -n marblesp -c '{""Args"":[""initMarble"",""marble1"",""blue"",""35"",""tom"",""99""]}'{code}
marbles02 - queries:
  
{code:java}
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""readMarble"",""marble1""]}'

peer chaincode query -C mycp -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble1""]}'

peer chaincode query -C mycp -n marblesp -c '{""Args"":[""getMarblesByRange"",""marble1"",""marble8""]}'{code}
 
 marbles02 - couchdb queries:
{code:java}
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""queryMarblesByOwner"",""tom""]}'

peer chaincode query -C mycp -n marblesp -c '{""Args"":[""queryMarbles"",""{\""selector\"":{\""docType\"":\""marble\"",\""owner\"":\""tom\""}}""]}'{code}
 
 marbles02 - install and instantiate a 2nd chaincode version, change collection config as desired for the test first:
  
{code:java}
peer chaincode install -n marblesp -p github.com/hyperledger/fabric-samples/chaincode/marbles02_private/go -v 2

peer chaincode upgrade -C mycp -n marblesp -c '{""Args"":[""init""]}' -v 2 -o 127.0.0.1:7050 --collections-config collection.json{code}
{color:#000000} {color}
 *Other test scenarios executed:*

TEST: Invalid collection json - returns error upon instantiate

TEST: Invalid collection name (special characters) - instantiate/upgrade tran gets invalidated with a good message (would be nice to also return error upon instantiate). ""A valid collection name follows the pattern: [A-Za-z0-9_-]+""

TEST: Invalid collection policy - instantiate/upgrade tran gets invalidated with a good message (would be nice to also return error upon instantiate), as of ------FAB-6526------.

TEST: Invalid requiredPeerCount (-1) - instantiate/upgrade tran gets invalidated with a good message (would be nice to also return error upon instantiate)

TEST: Policy references non channel member - prints Warning in peer log (no error since user may be referencing a future expected channel member), as of ------FAB-6526------.

TEST: Attempt to change blockToLive during upgrade - instantiate/upgrade tran gets invalidated with a good message (would be nice to also return error upon instantiate)

TEST: Attempt to delete (not specify) collection during upgrade - instantiate/upgrade tran gets invalidated with a good message (would be nice to also return error upon instantiate).  *The existing message should be improved to indicate which collection does not exist.  Currently message is just ""Some existing collection configurations are missing in the new collection configuration package"". Opened FAB-10512.*

 

TEST: Test all chaincode private data APIs - works as expected, e.g.:
 
{code:java}
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""readMarble"",""marble1""]}' 
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble1""]}' 
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""getMarblesByRange"",""marble1"",""marble8""]}' 
peer chaincode query -C mycp -n marblesp -c '{""Args"":[""queryMarblesByOwner"",""tom""]}'{code}
 
However, queryMarblesByOwner (CouchDB JSON query) dumps benign error messages in peer log, opened FAB-10559.

 

TEST: Test transfer of a marble
{code:java}
peer chaincode invoke -o 127.0.0.1:7050 -C mycp -n marblesp -c '{""Args"":[""transferMarble"",""marble1"",""jerry""]}' {code}
The transfer works, but get Warning in logs since the batch update had problems:
{code:java}
2018-06-06 05:46:01.976 EDT [couchdb] BatchUpdateDocuments -> DEBU 80c Exiting BatchUpdateDocuments() _bulk_docs response=[[{""id"":""marble1"",""error"":""conflict"",""reason"":""Document update conflict.""}]
]
2018-06-06 05:46:01.976 EDT [statecouchdb] commitUpdates -> WARN 80d CouchDB batch document update encountered an problem. Retrying update for document ID:marble1{code}
*Opened FAB-10558.*

 

TEST: Test query/update transactions - fails as expected (since not all peers can validate private private data result sets), e.g.:

peer chaincode invoke {color:#000000}-o{color} 127.0.0.1:7050 -C mycp -n marblesp -c '\{""Args"":[""transferMarblesBasedOnColor"",""{color:#000000}blue{color}"",""{color:#000000}jerry{color}""]}'

fails with error message: ""Transaction has already performed queries on pvt data. Writes are not allowed""

 

TEST: Query for private data you don't have access to - fails as expected with error ""Private data matching public hash version is not available.""

 

TEST: Test no purging - ""blockToLive"":null and ""blockToLive"":0 and missing ""blockToLive"" all have the same semantic meaning - they indicate to never purge private data.

TEST: Query for purged private data, set ""blockToLive"":3 and then do 4 transactions on another key - query fails as expected with error ""Marble private details does not exist: marble1"".

 

TEST: Test purging of private write set storage.  Set core.yaml config to override default purgeInterval of 100:

ledger:
   pvtdataStore:
     purgeInterval: 5

With blockToLive of 3, create a new marble with each invoke.  In blocks [5] and  [10] you will see purge entries such as:
{code:java}
2018-06-04 17:37:13.876 EDT [pvtdatastorage] func1 -> INFO 124b Purger started: Purging expired private data till block number [10]

2018-06-04 17:37:13.876 EDT [pvtdatastorage] purgeExpiredData -> DEBU 1253 [5] Entries purged from private data storage
2018-06-04 17:37:13.876 EDT [pvtdatastorage] func1 -> INFO 1254 Purger finished
{code}
 

 ",,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10231,,,,,,,,,,FAB-9306,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8718,,,,,,,,,,"1|hzwt1j:",,,,,,May2018 - NextGen Endorsement,,,,,,,,,,,,,,,denyeart,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adds trailing args detecting for 'peer version' command,FAB-10163,30329,,Story,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,niuzhenguo,niuzhenguo,niuzhenguo,17/May/18 12:29 PM,26/Jul/18 9:29 PM,28/Oct/23 3:03 AM,26/Jul/18 12:58 PM,,,,v1.3.0,,,fabric-peer,,,,0,,,,,Detecting trailing args for 'peer version' and print usage to make it follow more conventions.,,denyeart,kchristidis,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzauv:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,kchristidis,niuzhenguo,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/May/18 12:07 AM;kchristidis;[~niuzhenguo]: Please elaborate with examples.;;;","18/May/18 10:34 AM;niuzhenguo;[https://gerrit.hyperledger.org/r/#/c/21883/]

Currently, `peer version` command allows with trailing args like `peer version arg1 arg2` which is weird, we should detect it and print the command usage like other commands.;;;","24/Jul/18 8:12 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/21883/;;;",,,,,,,,,,,,,,,,,,,
TEST PLAN: Fabric-CA Certificate Management,FAB-10164,30330,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,latitiah,latitiah,17/May/18 12:38 PM,12/Dec/18 1:33 AM,28/Oct/23 3:03 AM,12/Dec/18 1:33 AM,,,,Future,,,,,,,0,test-plan,,,,"Before closing this testplan task, coverage must be reviewed and approved (via upvote or comment) by the epic feature owner and the test leads identified below.

+*Location / Description of*+ docs, APIs, config vars, system configuration (fabric, SDKs, fabric-samples) :

Doc: [https://hyperledger-fabric-ca.readthedocs.io/en/latest/users-guide.html#listing-certificates-information]

API: [https://github.com/hyperledger/fabric-ca/blob/master/swagger/swagger-fabric-ca.json]

CLI: [https://hyperledger-fabric-ca.readthedocs.io/en/latest/clientcli.html]

+*Unit Test (UT) leader*+: [~skarim]

Test coverage maintained above 85% for all packages
{noformat}
ok      github.com/hyperledger/fabric-ca/cmd/fabric-ca-client/command    53.059s    coverage: 89.7% of statements
ok      github.com/hyperledger/fabric-ca/cmd/fabric-ca-server    3.253s    coverage: 91.3% of statements
ok      github.com/hyperledger/fabric-ca/lib    117.582s    coverage: 85.5% of statements
ok      github.com/hyperledger/fabric-ca/lib/attr    0.023s    coverage: 97.9% of statements
ok      github.com/hyperledger/fabric-ca/lib/metadata    0.020s    coverage: 92.5% of statements
ok      github.com/hyperledger/fabric-ca/lib/server    0.023s    coverage: 96.3% of statements
ok      github.com/hyperledger/fabric-ca/lib/spi    0.018s    coverage: 100.0% of statements
ok      github.com/hyperledger/fabric-ca/lib/streamer    0.017s    coverage: 86.4% of statements
ok      github.com/hyperledger/fabric-ca/lib/tcert    0.047s    coverage: 90.7% of statements
ok      github.com/hyperledger/fabric-ca/lib/tls    0.254s    coverage: 87.9% of statements
ok      github.com/hyperledger/fabric-ca/util    2.850s    coverage: 85.8% of statements{noformat}
+*Function Test (FVT) leader*+: [~skarim]
 In v1.2 the peer is not well structured for integration tests, therefore we will compensate with expanded Unit tests and E2E tests. Describe function test coverage approach here:

A.  Expand unit testcases beyond traditional UT coverage, for the following integration scenarios that otherwise might be doneusing the ginko framework): Unit tests are considering real (non-mockup) components

       Covered via integration/acceptance tests below

B.  Integration/Acceptance testcases scenarios (Add one individual jira TASK within this feature Epic for each of these)
 # Testing new Certificates REST API with Postgres FAB-10224
 # Testing new Certificates REST API with MySQL FAB-10321

C.  Other functional testing required: N/A

+*System Verification Test (SVT) leader*+: ????
 V1.2 System Test Plan (Epic) FAB-????
 Covers stress, load, performance, full system integration, resiliency, recover, etc.

Considering this feature, what scenarios are of particular interest and concern:
 # Performance on both server and client when a request is made to get a large (>500) number of certificates. Neither client nor server should experience OOM.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-67,FABC-103,,,,,,,,,,,,,,,,,,Unset,,,FABC-587,,,,,,,,,,"1|hzzav3:",,,,Unset,,,,,,Unset,,,,,,,,,,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Evaluate and upgrade level of node.js shipped in baseimage,FAB-10166,30333,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,davidkel,davidkel,17/May/18 5:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,22/May/18 2:40 AM,v1.1.0,,,WON'T FIX,,,fabric-release,,,,0,,,,,"For every planned release there should be consideration given to updating the version of node.js that node chaincode will execute under. 
Currently it is set at 8.9.4, but the latest version as of writing is 8.11.2 which will contain bug fixes but more importantly security updates.",,davidkel,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzavr:",,,,,,,,,,,,,,,,,,,,,davidkel,kchristidis,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 12:06 AM;kchristidis;[~mastersingh24]: Do you see us cutting a patch version before 1.2? (See FAB-10167 for the 1.2 item.);;;","19/May/18 9:07 PM;mastersingh24;Generally speaking, we try not to version of core components for fix pack releases.  One can argue that moving from Node 8.9.4 to 8.11.2 is not a big deal, but it can mean that people running NodeJS chaincode with 1.1 might be using different versions of Node for different chaincodes (because the chaincode was originally deployed with 1.1.0);;;","19/May/18 9:08 PM;mastersingh24;[~davidkel] Is this marked high just to bump up determining what we should do?  Else this does seem high (or actually a bug);;;","22/May/18 2:39 AM;kchristidis;OK, closing this and moving on with FAB-10167 then. Thanks Gari.;;;",,,,,,,,,,,,,,,,,,
Evaluate and upgrade level of node.js shipped in baseimage,FAB-10167,30334,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,davidkel,davidkel,17/May/18 6:00 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,10/Jun/18 2:34 AM,v1.2.0,,,v1.2.0,,,fabric-release,,,,1,,,,,"For every planned release there should be consideration given to updating the version of node.js that node chaincode will execute under. 
Currently it is set at 8.9.4, but the latest version as of writing is 8.11.2 which will contain bug fixes but more importantly security updates.",,davidkel,harrisob@us.ibm.com,kchristidis,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzavz:",,,,,,,,,,,,,,,,,,,,,davidkel,harrisob@us.ibm.com,kchristidis,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 12:05 AM;kchristidis;[~harrisob@us.ibm.com] Any objections to this?
[~davidkel] Could you push a CR for this?;;;","19/May/18 3:07 AM;harrisob@us.ibm.com;We should move both NodeShim and NodeSDK to 8.11.2 soon so that we can have some time on it before we ship.;;;","23/May/18 12:10 AM;mastersingh24;[~harrisob@us.ibm.com] [~davidkel] Have you run all the testes with Node 8.11.2?;;;","23/May/18 12:15 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/22101/];;;",,,,,,,,,,,,,,,,,,
Lengthy markdown doc files should be broken into bite-sized pieces,FAB-10168,30335,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rpjday,rpjday,17/May/18 6:24 PM,23/Jan/20 7:32 AM,28/Oct/23 3:03 AM,23/Jan/20 7:32 AM,,,,,,,fabric-docs,,,,0,stale-item,,,,"Some of the Markdown files are getting overly long, and make submitting changes to them more difficult as it increases the chances of clashing with someone else's changes – case in point, peers/peers.md is now well over 500 lines long, and could easily be subdivided into logical sections.

Markdown itself apparently does not support a basic ""include"" directive to support this, but this can be implemented using reST, as you can see in the doc file command_ref.rst, which includes lower-level Markdown files:

.. toctree::
 :maxdepth: 1

commands/peercommand.md
 commands/peerchaincode.md
 commands/peerchannel.md
 commands/peerversion.md
 commands/peerlogging.md
 commands/peernode.md
 commands/configtxgen.md
 commands/configtxlator.md
 commands/cryptogen.md
 commands/fabric-ca-commands

 

 ",,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzaw7:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Extend validation plugin dependency to include functions to retrieve metadata,FAB-10169,30336,28450,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,17/May/18 6:38 PM,24/Jul/18 3:53 AM,28/Oct/23 3:03 AM,24/Jul/18 3:53 AM,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzawf:",,,,,,Sprint 6 - NextGen Endorseme 2,,,,,,,,,,,,,,,ales,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,
Check whether mspMgrConfigDir is Dir instead of just existing,FAB-10170,30338,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,niuzhenguo,niuzhenguo,niuzhenguo,17/May/18 6:59 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/May/18 9:41 PM,v1.1.0,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The comment and error message both say checking whether it is a Dir, but implementation just check existing.",,kchristidis,niuzhenguo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzawv:",,,,,,,,,,,,,,,,,,,,,kchristidis,niuzhenguo,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 11:53 PM;kchristidis;[~niuzhenguo]: Can you elaborate? Provide code snippets, etc.;;;","18/May/18 10:37 AM;niuzhenguo;[https://gerrit.hyperledger.org/r/#/c/21889/]

// Check whether msp folder exists
 _, err = os.Stat(mspMgrConfigDir)
 if os.IsNotExist(err) \{
 // No need to try to load MSP from folder which is not available
 return errors.Errorf(""cannot init crypto, missing %s folder"", mspMgrConfigDir)
 }

This is not really checking whether folder exists, file and dir can all pass the check.;;;",,,,,,,,,,,,,,,,,,,,
"For docs, consider standardizing on one physical line per sentence.",FAB-10171,30339,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,rpjday,rpjday,17/May/18 7:18 PM,10/Jan/20 1:49 AM,28/Oct/23 3:03 AM,10/Jan/20 1:49 AM,,,,,,,fabric-docs,,,,0,,,,,"For the sake of more visually obvious patches to the doc files, I propose restructuring all of the doc files so that each sentence corresponds to a single physical line, regardless of the length of the sentence. While a first reaction to that idea is, ""Oh, man, that means really long sentences are going to stream off the right end and I have to scroll over to the right to see them,"" it also means that patches are more focused and localized and reflect *only* the changes.

As it stands now, if one wants to physically wrap lines to not exceed 80 characters, if you, say, add a new sentence in the middle of a lengthy paragraph, then the remainder of that paragraph would have to be refactored and, visually, the change would appear as a wide-sweeping change to a massive hunk of that paragraph, which is misleading.

The ""one line per sentence"" standard is used by the [Pro Git book at GitHub|https://github.com/progit/progit2], and when I started contributing to that project, I was initially put off by that standard, but it took very little time to appreciate that it was, in fact, the right way to do things. So give it some thought.",,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,,"1|hzzax3:",,,,Unset,,,,,,Unset,,,,,,,,,,,rpjday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
implement an extended unit test that is an integration test,FAB-10172,30340,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/18 7:20 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,08/Jun/18 11:19 PM,,,,v1.2.0,,,,,,,0,extended-unit-test,,,,"A unit test that spawns an instance of a discovery service, with partially mocked support:
 The endorsement policy analysis, and chaincode lifecycle object would be using production implementations. 
 The gossip layer would be mocked, as the functionality for that hasn't changed since v1.0 
 The ledger layer would be mocked, but the data returned from it would be production implementations (i.e, production representation of endorsement policies, collection configuration).
The MSP would be the production implementation
 The config block retrieval would be mocked, but the data returned from it would be a production configuration block.
 The test would spawn a production implementation of a client, with TLS and it would:
 * Have the client query the discovery service for all possible queries, and the output of the endorser query (the most complex one) would be inspected.
 * Issue a config update that would revoke subsequent access of the client to the service.
 * The client is expected to try to query again, and it would be rejected.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8779,,,,,,,,,,"1|hzzaxb:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Jun/18 7:10 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/22665/;;;",,,,,,,,,,,,,,,,,,,,,
Add Done() call to state object in pluggable validatoion test,FAB-10173,30341,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/May/18 8:08 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 11:52 PM,,,,v1.2.0,,,fabric-peer,,,,0,,,,,"The validation test has a sample implementation of a validation plugin.
There is a missing call to Done() in the code.
Since this is just a test, it doesn't affect production runtime, but it might still serve as a reference of how to write a validation plugin.

Therefore, to set a good example - we should also add a call to Done() on the state object after we obtain it.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaxj:",,,,,,,,,,,,,,,,,,,,,yacovm,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 8:27 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/21891/;;;",,,,,,,,,,,,,,,,,,,,,
Idemix Integration Test,FAB-10174,30342,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,JonathanLevi,mdr,mdr,17/May/18 8:52 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,03/Dec/19 6:41 AM,,,,v2.0.0,,,fabric-crypto,,,,0,e2e-test,idemix,,,"The idemix e2e tests will first be created as non-ginkgo e2e tests, as ginkgo currently does not support idemixgen. In this task we upgrade the idemix e2e test made in -FAB-10113- to use the ginkgo framework.",,angelo.decaro,denyeart,JonathanLevi,latitiah,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13231,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,No,,,,,,,"1|hzwqfk:4",,,,,,To Do,,,,,,,,,,Unset,,Integration Test,,,angelo.decaro,denyeart,JonathanLevi,latitiah,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/18 7:11 PM;JonathanLevi;[~mastersingh24] let me wrap this...;;;","11/Dec/18 4:20 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28007/;;;","11/Dec/18 4:59 PM;JonathanLevi;[~angelo.decaro] are you bored, or ?

Already did this, waited for the build to stabilize.

Coordinate. Don't grab a ticket from someone without saying a word.

Not that I mind, but it is just a waste of energy;;;","11/Dec/18 7:08 PM;angelo.decaro;[~JonathanLevi], sorry for that. I took action cause I haven't seen activity in the last months and I need this for the revocation support :)

If you can review my change-set, it would be great :);;;","11/Dec/18 7:32 PM;JonathanLevi;So, so funny.;;;","11/Dec/18 10:05 PM;angelo.decaro;I have abounded https://gerrit.hyperledger.org/r/#/c/28007/
;;;","03/Dec/19 6:41 AM;denyeart;Idemix integration tests delivered in FAB-13231;;;",,,,,,,,,,,,,,,
Implement gingko runner for idemixgen,FAB-10175,30343,30342,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mdr,mdr,17/May/18 9:24 PM,12/Jun/20 12:30 AM,28/Oct/23 3:03 AM,20/May/18 5:51 PM,,,,v1.3.0,,,fabric-crypto,,,,0,e2e-test,,,,"Implement gingko runner for idemixgen, such that idemixgen can be used in the ginkgo e2e testing framework.",,mastersingh24,mdr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfk:5",,,,,,To Do,,,,,,,,,,,,,,,mastersingh24,mdr,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/May/18 7:35 PM;mastersingh24;https://gerrit.hyperledger.org/r/22027;;;",,,,,,,,,,,,,,,,,,,,,
Update configtx.yaml documents in fabric-samples,FAB-10176,30345,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,17/May/18 9:40 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,17/May/18 11:59 PM,,,,v1.2.0,,,fabric-samples,,,,0,,,,,Anchors are referenced before they are defined.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzaxz:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/May/18 9:42 PM;sykesm;https://gerrit.hyperledger.org/r/21893;;;",,,,,,,,,,,,,,,,,,,,,
invalid configtx yaml files in test,FAB-10177,30347,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,17/May/18 10:44 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,18/May/18 6:11 AM,,,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzay7:",,,,,,,,,,,,,,,,,,,,,sykesm,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,true,"17/May/18 10:46 PM;sykesm;https://gerrit.hyperledger.org/r/21901;;;",,,,,,,,,,,,,,,,,,,,,
CI - Ad-hoc requests,FAB-10181,30351,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/May/18 10:56 PM,15/Aug/19 11:44 PM,28/Oct/23 3:03 AM,15/Aug/19 11:44 PM,,,,v1.2.0,,,fabric-ci,,,,0,CI_Adhoc_Req,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,Unset,ghx-label-2,,CI - Ad-hoc requests,To Do,,,,Unset,,,,"1|hzzaz3:",,,,Unset,Unset,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable vulnerable tests on fabric-sdk-node CI jobs,FAB-10182,30352,30313,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,17/May/18 10:58 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,19/May/18 12:57 AM,,,,,,,fabric-ci,,,,0,CI_Adhoc_Req,,,,Enable vulnerable tests on fabric-sdk-node CI jobs (for now enable only on master branch),,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzazb:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 10:38 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21957/;;;",,,,,,,,,,,,,,,,,,,,,
Run goAST scan on fabric-ca build for all applicable go packages,FAB-10183,30353,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,17/May/18 11:10 PM,20/Jul/18 11:16 PM,28/Oct/23 3:03 AM,21/May/18 10:15 PM,,,,,,,fabric-ci,,,,0,CI_Adhoc_Req,,,,Run goAST scan on fabric-ca build for all applicable go packages (api cmd lib util vendor),,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10181,,,,,,,,,,"1|hzzazj:",,,,,,,,,,,,,,,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/May/18 10:36 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/21955/;;;",,,,,,,,,,,,,,,,,,,,,
