Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Issue split),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
"As a fabric developer, I want to explicitly manage references to the ""default"" BCCSP implementation",FAB-15951,41127,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,sykesm,sykesm,13/Jul/19 9:02 AM,15/Oct/19 2:40 AM,28/Oct/23 3:08 AM,15/Oct/19 2:40 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"There are number of places where {{bccsp/factory#GetDefault()}} is used to get a BCCSP implementation. Each call site should be evaluate in context.

Where an actual implementation is needed, instead of asking for the implementation, the required instance should be explicitly provided and wired to the consumer.

Where the implementation is being used for software crypto operations in test, consider replacing it with basic go crypto.

As of current master, the following packages seem to be impacted:

{code}
token/tms/plain/verifier.go
token/client/grpc.go
core/ledger/kvledger/txmgmt/rwsetutil/query_results_helper_test.go
core/ledger/kvledger/txmgmt/rwsetutil/query_results_helper.go
core/chaincode/accesscontrol/mapper_test.go
core/chaincode/shim/ext/entities/testutils.go
core/chaincode/shim/ext/entities/entities_test.go
core/common/ccprovider/cdspackage.go
core/common/ccprovider/sigcdspackage.go
internal/peer/gossip/mcs.go
internal/peer/gossip/mcs_test.go
internal/peer/common/common.go
common/util/utils.go
msp/mspimpl.go
msp/configbuilder.go
{code}

Acceptance: {{bccsp.GetDefault}} and its associated package level state is gone or an unprioritized story has been created that details the complexity involved in removing the reference.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui9",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Oct/19 2:40 AM;sykesm;I think we've gone as far as we're going to go with this. The calls to {{bccsp.GetDefault}} are gone. Additional changes are a separate effort.

Thanks, [~dereckluo] for doing this and keeping up with the rebasing and conflicts.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused GetBCCSP function from bccsp/factory,FAB-15952,41128,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,13/Jul/19 9:09 AM,17/Jul/19 1:42 AM,28/Oct/23 3:08 AM,17/Jul/19 1:42 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,It's tested but does not appear to be used. Remove.,,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui4",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/19 1:14 AM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/32332;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
make sure no timer leak in etcdraft,FAB-15953,41200,38599,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,14/Jul/19 12:30 PM,31/Jul/19 10:42 AM,28/Oct/23 3:08 AM,31/Jul/19 10:42 AM,,,,,,,,,,,,,,,0,,,,,Add assert to {{AfterEach}} in etcdraft to make sure no timer leak,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00txg:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jul/19 1:32 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/32311;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in pvtdata integration suite,FAB-15954,41206,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,sykesm,sykesm,15/Jul/19 11:15 PM,07/Dec/20 10:57 PM,28/Oct/23 3:08 AM,07/Dec/20 10:57 PM,,,,,,,,,,fabric-ledger,,,,,0,ci-flake,,,,"Observed during CR build: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10166/console

{code}
02:12:14 PrivateData [BeforeEach] Reconciliation chaincode in legacy lifecycle when org3 is added to collectionMarbles via chaincode upgrade with collections_config2 distributes and allows access to newly added private data per collections_config2 
02:12:14 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pvtdata/pvtdata_test.go:121
02:12:14 
02:12:14   Timed out after 1.000s.
02:12:14   Expected
02:12:14       <<-chan struct {} | len:0, cap:0>: 0xc0002b8b40
02:12:14   to be closed
02:12:14 
02:12:14   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pvtdata/pvtdata_test.go:361
{code}

Logs attached.",,manish-sethi,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jul/19 11:14 PM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17602/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00tys:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Mar/20 5:08 AM;sykesm;https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/9796/logs/70;;;","01/Dec/20 6:22 AM;manish-sethi;[~wenjian]- can you investigate if this is still a problem.;;;","04/Dec/20 4:20 AM;wenjian;The flake was reported a while ago. Since we haven't seen new report on the same flake, the problem may be gone.

Looked at pvtdata_test.go history ([https://github.com/hyperledger/fabric/commit/6c20e8881d8ae3374d0bfb028c19214861aa1bec#]), the failure was from NetworkGroupRunner start in the following code (line 361).

 
{code:java}
func initThreeOrgsSetup() (string, *nwo.Network, ifrit.Process, *nwo.Orderer, []*nwo.Peer) {
      … 
line 359    networkRunner := n.NetworkGroupRunner() 
line 360    process := ifrit.Invoke(networkRunner) 
line 361    Eventually(process.Ready()).Should(BeClosed())
      … 
}
{code}
 ;;;","07/Dec/20 10:57 PM;wenjian;Close the issue since the same flake has not happened over a year. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in lifecycle suite,FAB-15955,41207,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Jul/19 11:20 PM,26/Oct/19 3:34 AM,28/Oct/23 3:08 AM,26/Oct/19 3:34 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ci-flake,ipm,,,"Noted in build: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10131/console

{code}
17:45:09 ------------------------------
17:45:09 • Failure in Spec Setup (BeforeEach) [101.936 seconds]
17:45:09 Release interoperability solo network [BeforeEach] deploys and executes chaincode (simple), upgrades the channel application capabilities to V2_0 and uses _lifecycle to update the endorsement policy 
17:45:09 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/interop_test.go:81
17:45:09 
17:45:09   Timed out after 1.000s.
17:45:09   Expected process to exit.  It did not.
17:45:09 
17:45:09   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/tedsuo/ifrit/ginkgomon/ginkgomon.go:146
{code}

Logs attached.

/cc [~wlahti]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jul/19 11:19 PM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17603/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/19 5:50 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34080 Use network.EventuallyTimeout for network polling;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in lifecycle upgrade integration test,FAB-15956,41208,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sykesm,sykesm,15/Jul/19 11:33 PM,15/Nov/19 11:42 PM,28/Oct/23 3:08 AM,15/Nov/19 11:42 PM,,,,,,,,,,fabric-peer,,,,,0,ci-flake,,,,"Observed in build: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10164/consoleFull

{code}
01:53:49 • Failure [111.661 seconds]
01:53:49 Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
01:53:49 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/interop_test.go:236
01:53:49 
01:53:49   Unexpected error:
01:53:49       <*errors.withMessage | 0xc00076d7c0>: {
01:53:49           cause: {s: ""EOF""},
01:53:49           msg: ""could not send"",
01:53:49       }
01:53:49       could not send: EOF
01:53:49   occurred
01:53:49 
01:53:49   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/lifecycle_suite_test.go:269
01:53:49 ------------------------------
01:56:07 • [SLOW TEST:137.543 seconds]
01:56:07 Lifecycle deploys and executes chaincode using _lifecycle and upgrades it 
01:56:07 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/lifecycle_test.go:88
01:56:07 ------------------------------
01:56:07 
01:56:07 
01:56:07 Summarizing 1 Failure:
01:56:07 
01:56:07 [Fail] Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
{code}

Logs attached.

/cc [~wlahti]",,denyeart,dereckluo,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jul/19 11:33 PM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17604/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rj:in4",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dereckluo,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jul/19 10:22 PM;sykesm;Hit again: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10198/console

{code}
16:17:12 • Failure [113.917 seconds]
16:17:12 Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
16:17:12 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/interop_test.go:236
16:17:12 
16:17:12   Unexpected error:
16:17:12       <*errors.withMessage | 0xc000b37020>: {
16:17:12           cause: {s: ""EOF""},
16:17:12           msg: ""could not send"",
16:17:12       }
16:17:12       could not send: EOF
16:17:12   occurred
16:17:12 
16:17:12   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/lifecycle_suite_test.go:269
16:17:12 ------------------------------
16:17:12 
16:17:12 
16:17:12 Summarizing 1 Failure:
16:17:12 
16:17:12 [Fail] Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
16:17:12 /w/workspace/fabric-verify-integration-tests-x86_64/g
{code{;;;","16/Jul/19 10:24 PM;sykesm;And again: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10208/console

{code}
18:19:44 • Failure [112.106 seconds]
18:19:44 Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
18:19:44 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/interop_test.go:236
18:19:44 
18:19:44   Unexpected error:
18:19:44       <*errors.withMessage | 0xc00190f9a0>: {
18:19:44           cause: {s: ""EOF""},
18:19:44           msg: ""could not send"",
18:19:44       }
18:19:44       could not send: EOF
18:19:44   occurred
18:19:44 
18:19:44   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/lifecycle/lifecycle_suite_test.go:269
18:19:44 ------------------------------
18:19:44 
18:19:44 
18:19:44 Summarizing 1 Failure:
18:19:44 
18:19:44 [Fail] Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the new lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
{code};;;","31/Jul/19 2:52 AM;denyeart;[~ales] [~wlahti] Let's prioritize this flake.;;;","15/Nov/19 6:16 AM;dereckluo;Was running the test for 100 iterations both locally and in Jenkins, and I'm not able to reproduce this failure. 
Let's close this for now, and reopen if we see this again? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a user of the fabric tools (eg. protolator), I would like to see human consumable versions of the proto encoded kv ledger structs",FAB-15957,41209,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,btl5037,sykesm,sykesm,16/Jul/19 12:19 AM,16/Aug/19 5:44 AM,28/Oct/23 3:08 AM,16/Aug/19 5:44 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"The ledger currently maintains a small number of protobuf files outside of the protos tree. The goal was to prevent these from being consumed as fabric ""api"" but, in reality, they're used in the blockchain marshaling and, as such, are part of the surface area of the project.

In order to enable tools outside of the core fabric tree to decode and use these datatypes, the protos should be promoted into the protos tree, the bindings should be generated from there, and the ledger component updated to pull in the new imports as appropriate.

Acceptance: protos are in a sub-directory of the {{protos}} tree and the generated go bindings live in a package rooted under {{protos}}.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruo",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/19 5:44 AM;sykesm;According to the ledger team, these definitions are not exposed in any way to anyone that may care. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer cannot start when on NFS,FAB-15958,41212,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,NN77,NN77,16/Jul/19 12:27 AM,25/Sep/19 2:03 AM,28/Oct/23 3:08 AM,25/Sep/19 2:03 AM,v1.4.0,v1.4.1,v1.4.2,,,,,,,fabric-ledger,,,,,0,,,,,"Continue of this issue - FAB-15564.

 

At first it could start after 3 attempts.

Now it could not start on nfs at all.

Part of debug logs below:

 
{code:java}
2019-06-27 13:36:34.126 UTC [ledgermgmt] initialize -> INFO 03b Initializing ledger mgmt
2019-06-27 13:36:34.126 UTC [kvledger] NewProvider -> INFO 03c Initializing ledger provider
2019-06-27 13:36:34.126 UTC [kvledger.util] CreateDirIfMissing -> DEBU 03d CreateDirIfMissing [/var/hyperledger/production/ledgersData/ledgerProvider/]
2019-06-27 13:36:34.126 UTC [kvledger.util] logDirStatus -> DEBU 03e Before creating dir - [/var/hyperledger/production/ledgersData/ledgerProvider/] exists
2019-06-27 13:36:34.126 UTC [kvledger.util] logDirStatus -> DEBU 03f After creating dir - [/var/hyperledger/production/ledgersData/ledgerProvider/] exists
panic: Error opening leveldb: resource temporarily unavailable
goroutine 1 [running]:
github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open(0xc000178a80)
{code}
 

 

If there is any opportunity how could I provide more information - please tell me.

Some little progress here, which gave me solution:

 

 [root@myhost ~]# oc scale deployment peer0-bchorg1 --replicas=0
deployment.extensions/peer0-bchorg1 scaled
[root@myhost ~]# mv /mnt/nfs/peer0-bchorg1/production/ /mnt/nfs/peer0-bchorg1/production_old
[root@myhost ~]# cp -ar /mnt/nfs/peer0-bchorg1/production_old/ /mnt/nfs/peer0-bchorg1/production
[root@myhost ~]# oc scale deployment peer0-bchorg1 --replicas=1

 

after this operation peer starts working",,jyellick,manish-sethi,NN77,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00tzw:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,manish-sethi,NN77,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/19 3:05 AM;wlahti;[~manish-sethi] Can you take a look at this one?;;;","24/Aug/19 3:43 AM;manish-sethi;""panic: Error opening leveldb: resource temporarily unavailable"" the most likely reason of this error typically is when you try to run the peer instance with a ledger dir that is already in use by other peer instance. In other words, trying to run more than one peer instances with the same ledger folder.;;;","26/Aug/19 4:35 PM;NN77;Hello, Manish Sethi!

I have checked this case, but no, only one instance was running and using this data folder. And when I did described operation - I did not receive any error like ""file in in use"" or something like it.;;;","24/Sep/19 5:44 AM;jyellick;Is this bug still needed?;;;","24/Sep/19 6:41 PM;NN77;Hello. Well, I do not have access to environment where that problem appeared. So I could not provide any information anymore. :(;;;","25/Sep/19 2:03 AM;jyellick;Since this cannot currently be reproduced, closing.  Feel free to open if it is observed again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create fabric-protos-go repository and populate it with boilerplate,FAB-15959,41213,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,16/Jul/19 12:42 AM,22/Aug/19 7:03 AM,28/Oct/23 3:08 AM,22/Aug/19 7:03 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"Create a new github repository called {{fabric-protos-go}} and populate it with a {{protos}} directory that contains the fabric {{protos}}, the necessary LICENSE, CODE_OF_CONDUCT.md, CONTRIBUTING.md, and README.md.

This repository should not be a read-only mirror of gerrit but a simple github repo.

The repository should be configured not to accept pull requests (stale-bot or settings). The fabric release managers should be configured with write access to handle ""unexpected"" issues that may arise.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15945,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rt9",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
amcl.RAND not receiving enough entropy from idemix.GetRand,FAB-15960,41215,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,angelo.decaro,dhuseby,dhuseby,16/Jul/19 3:22 AM,19/Apr/20 12:50 AM,28/Oct/23 3:08 AM,19/Apr/20 12:50 AM,v1.4.1,v2.0.0,,,,,,,,fabric-crypto,,,,,0,,,,,"From Graham Shaw as part of the 1.4.x and 2.0 security audit:

Not that it would have mattered greatly in this case, because I believe it is some considerable way from bring exploitable, however there is a discrepancy between the amount of entropy which amcl.RAND says that it needs, and the amount which idemix.GetRand supplies:

 
 * amcl.RAND says “initialise from at least 128 byte string of raw random entropy”
 * idemix.GetRand supplies a string which is 32 bytes long

 

I’ll provide a full analysis in the final report, but I’m confident that by itself this issue is not going to result in an exploit. However it is an unsatisfactory state of affairs, because idemix.GetRand is relying on amcl.RAND behaving securely outside the envelope promised by the documentation. It also erodes what may have been intended to provide a margin of safety.

 

Some of the uses of idemix.GetRand are in test code, however the use in idemixca.go appears not to be. This issue applies to both Fabric-1.4 and Fabric-2.0.

 

Recommended action would be one of the following:

 
 # Supply amcl.RAND with a 128-byte seed, as specified in the relevant header comment. (This would be the simplest and safest course of action, unless there is a good reason not to.)
 # Arrange for amcl.RAND to be updated with an amendment to this requirement.
 # Add commentary to idemix.RAND containing an analysis which explains why 32 bytes is considered safe.",,ales,angelo.decaro,denyeart,dhuseby,ryjones,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ales,angelo.decaro,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u0c:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,angelo.decaro,denyeart,dhuseby,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jul/19 3:45 AM;denyeart;[~angelo.decaro] Could you assess?;;;","25/Jul/19 1:05 AM;angelo.decaro;[~denyeart][~dhuseby] I think, there is a typo in amcl.RAND. The comment should be refer to bits and not bytes. We initialise the PRNG with 32 bytes (256 bits), so we are fully covered. Indeed, as a sanity check, if you follow the documentation cited in the code (ftp://ftp.rsasecurity.com/pub/pdfs/bull-1.pdf), there it is mentioned 128-bit seed.

I think, we can close this issue.;;;","19/Apr/20 12:50 AM;denyeart;Ok, closing per Angelo's suggestion. Please re-open if you think this is still a valid issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BCCSP Issues from Audit,FAB-15961,41216,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,denyeart,ryjones,dhuseby,16/Jul/19 3:26 AM,04/Oct/21 4:47 PM,28/Oct/23 3:08 AM,,v1.4.1,v2.0.0,,,,,,,,fabric-crypto,,,,,0,,,,,"Some notes of discrepancies that Graham Shaw from Nettitude noticed while conducting the 1.4.x and 2.0 audits. Here are his notes:

I’ve been looking through the bccsp component. Not found anything exploitable, and most of the following are not really security issues, but in the absence of anything more juicy I’ve recorded everything that looks to be not as it should be:

 

bccsp/utils/io.go (DirExists): Contrary to what the comment (and function name) would lead you to expect, this only checks that there is an object at the specified pathname, not that it is a directory.

 

bccsp/sw/aes.go (GetRandomBytes): The error message states that the length must be larger than zero, but the code allows it to be equal to zero.

 

bccsp/sw/aes.go (GetRandomBytes): The test for n != len is unreachable unless the implementation of rand.Read is non-conformant with the published API, in which case a different (and much more alarming) error message would be called for. If you wish to report failure to fill the buffer using this message then the test must precede the one for err != nil. (Not discouraging you from performing both tests – no harm in belt and braces – it is just the message at issue here.)

 

bccsp/sw/aes.go (pkcs7UnPadding): Does not check for the case of len(src) == 0, and would panic (as opposed to returning an error) if this was the case. Cannot occur in normal use, since padding would always result in there being at least one block. I don’t know whether this could be exploited using crafted input, but it would be easier to fix than to spend time finding out (since we are deep in the crypto library here).

 

bccsp/sw/aeskey.go (SKI): Using the SHA256 of the secret key as the SKI ought to be safe given that you are already relying on it for preimage resistance in other parts of the codebase. However, this does make me feel slightly uneasy, in part due to the input being half the length of the output. It may be too late to make changes to this without causing backward compatibility problems, however given a free choice, my recommendation would be to take a fixed block of plaintext, encrypt that using the secret key, then hash the ciphertext to produce the SKI.

 

bccsp/sw/conf.go (config): This has members named aesBitLength and rsaBitLength, however whereas the latter is measured in bits (as the name suggests), the former is measured in bytes. I can’t find anything wrong with the usage given these meanings, however there is some risk of confusion.

 

bccsp/sw/fileks (StoreKey): The in-memory keystore checks whether a key exists before storing it, whereas the file-based keystore simply overwrites it. Since they are implementations of the same API, it would be reasonable to expect the same semantics.

 

(I’d also note that the file-based keystore is capable of some very non-intuitive behaviour if there were two different key types with the same SKI, or if an attacker were to gain access to the directory where the key files are stored, due mainly to the way in which it handles extensions. However it appears to behave correctly in all states which should be reachable in normal use.)

 

bccsp/sw/keyimport.go (KeyImport): The KeyImport function for aes256ImportKeyOptsKeyImporter checks that the raw data is exactly 32 bytes long, whereas the one for hmacImportKeyOptsKeyImporter only checks that it is non-empty. Even if the latter permits more than one possible key length (not checked this), it could be better validated for consistency.

 

Most of these apply to both 1.4 and 2.0. Not sure whether you want low-level observations like these put in Jira.",,ales,angelo.decaro,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,ales,angelo.decaro,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u0k:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/21 4:47 PM;angelo.decaro;Very good points here and also easy to address. 

How do we proceed?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE process exits when it receives SERVICE UNAVAILABLE during the traffic run with service discovery and restarting leader,FAB-15962,41217,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,suryalnvs,suryalnvs,16/Jul/19 3:48 AM,28/Feb/20 3:46 AM,28/Oct/23 3:08 AM,14/Feb/20 1:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"PTE process exits when it receives SERVICE_UNAVAILABLE during the traffic run with service discovery and restarting leader

 

!image-2019-07-15-14-48-18-856.png!",,bestbeforetoday,dongming,suryalnvs,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jul/19 3:48 AM;suryalnvs;image-2019-07-15-14-48-18-856.png;https://jira.hyperledger.org/secure/attachment/17605/image-2019-07-15-14-48-18-856.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i000dk:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,dongming,suryalnvs,yacovm,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"22/Jan/20 7:20 AM;yacovm;Not an expert in client side stuff, or in node SDK, or.... in node.js in general, but isn't this a [node SDK|https://github.com/hyperledger/fabric-sdk-node/blob/master/fabric-client/lib/Channel.js#L807] issue ? I think this should be a FABN Jira... 

[~bestbeforetoday] / [~sstone1] / the other [~simonstone1] ?;;;","22/Jan/20 7:08 PM;bestbeforetoday;This looks to me more likely to be a bug in *fabric-test/tools/PTE/pte-execRequest.js*. It is passing *undefined* as an argument to both *Channel.removeOrderer()* and *Channel.removePeer()*. The argument should be an Orderer and a Peer object respectively. Also, that test code is not handling promise rejections and letting them fall out to the Node runtime.;;;","13/Feb/20 5:34 AM;dongming;[https://github.com/hyperledger/fabric-test/pull/90];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer node rollback command fails in upgraded environments,FAB-15963,41218,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,16/Jul/19 4:21 AM,27/Jul/19 11:17 AM,28/Oct/23 3:08 AM,16/Jul/19 11:12 AM,,,,,,v1.4.2,v2.0.0,,,fabric-ledger,,,,,0,,,,,"If attempting to rollback to a block prior to config transactions in an environment upgraded to v1.4.2, the *peer node rollback* command will hit the following error:


{code:java}
2019-07-15 15:56:10.899 UTC [fsblkstorage] Rollback -> INFO 02c Rolling back block index to block number [1]
2019-07-15 15:56:10.900 UTC [fsblkstorage] rollbackBlockIndex -> INFO 02d Deleting index associated with block number [2] to [8]
Error: Entry not found in index
{code}


This is likely caused by config transactions that were not properly indexed by txid prior to the upgrade. See FAB-15411 for background on that issue (fixed in v1.4.2).",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15411,,,FAB-14307,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u10:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/19 9:25 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32343/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run-unit-tests.sh fails with pending changes,FAB-15964,41219,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,16/Jul/19 4:24 AM,16/Jul/19 10:34 PM,28/Oct/23 3:08 AM,16/Jul/19 10:34 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"Running {{./scripts/run-unit-tests.sh}} fails when run with uncommitted changes:

{code}
can't load package: package github.com/hyperledger/fabric: no Go files in [gopath]github.com/hyperledger/fabric/src/github.com/hyperledger/fabric
{code}

This is due to the addition of an empty string to the list of packages to test.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rr9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/19 4:31 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32338 [FAB-15964] prevent empty strings package lists;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I want to be able to indicate which directories hold external build/launch plugins and their priorities",FAB-15965,41220,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,16/Jul/19 4:40 AM,07/Aug/19 12:59 AM,28/Oct/23 3:08 AM,17/Jul/19 2:42 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"Define configuration for peer builder/launcher plugin roots in {{core.yaml}}. The configuration should be a list of directories. The order of the directories specifies the order in which the {{detect}} portion of the protocol will be executed.

Example:
{code}
chaincode:
  external_builders:
  - some/filepath/one # should contain some/filepath/one/bin/detect
  - some/filepath/two # should contain some/filepath/two/bin/detect
{code}

When relative paths are used, they are treated as relative to the directory containing {{core.yaml}} instead of the current working directory. This is consistent with other configuration data.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:rrc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Relative paths are mismanaged in core/peer/config,FAB-15966,41221,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,sykesm,sykesm,16/Jul/19 5:13 AM,18/Jul/19 10:48 AM,28/Oct/23 3:08 AM,18/Jul/19 10:48 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"Configuration elements that contains path relative to core.yaml may not be processed correctly.

Example:
{code}
	viper.Set(""operations.tls.cert.file"", ""test/tls/cert/file"")
	viper.Set(""operations.tls.key.file"", ""test/tls/key/file"")
{code}

As these are relative paths, when the config structure is populated, the config fields should contain the absolute path to the key and cert files as calculated relative to the configuration directory. As coded today, these will be relative to the current working directory.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rtr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement interop tests to cover behave fabric-ca.feature interop tests,FAB-15967,41222,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,16/Jul/19 6:02 AM,11/Jan/21 2:35 AM,28/Oct/23 3:08 AM,11/Jan/21 2:35 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Create an interop test suite to replace the behave interop tests; refer to Item 32 of tab ""Behave Testcases"" of [https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741].
{quote}fabric-ca.feature: Scenario Outline: FAB-6489: Interoperability Test using <type> based orderer with a <database> db using <interface> with <language> chaincode
{quote}
We should be able to replace these behave interop tagged tests by rerunning selected existing node-sdk and java-sdk IT tests - with the Interop job pulling latest images from each repo (instead of building anything).
 * The fabric integration tests cover dbtypes and orderertypes.
 * The node-sdk and java-sdk integration tests use fabric and all 3 chaincode Languages and enroll users with CA. The release/system tests also test peers and orderers in various configurations (dbtypes, orderertypes, with/without (mutual) tls, etc).

NOTE: This should be done using IDEMIX too (at least with java-sdk where it is supported), to cover in interop scenarios the behave testcase FAB-11728 (Item 34, FAB-16022).",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15749,FAB-16719,,FAB-16524,FAB-16641,FAB-16022,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqrk:5iwr4ri",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 4:40 AM;scottz;As mentioned in spreadsheet, we could consider running these as part of the system test suite, instead of IT. That would use a k8s cluster for 3 network configs, and use pte and the nodesdk for all the component configurations (and of course various message sizes).

However, that would NOT cover javasdk or cli interfaces. And the systemtest suites are NOT hooked into the CI pipelines as an interop test (ie. before images are published).

We should consider doing that anyways for good coverage, and still do something with large msg sizes in the javasdk IT test suite to cover that - and even include that in an interop job so we have at least one test with a large message that tests fabric before images are published.;;;","21/Sep/19 12:22 AM;scottz;The systest suite now includes the processing of huge messages in different network configurations, per FAB-16524 and FAB-16641. That does not use idemix.

I view the remaining interop workitems as having 2 parts.  (1) identify or add tests to the SDKs Integration tests to cover the test scenarios, and (2) spin off another task to include these tests in the new interop test job in the new CI pipeline when it is established at some future date.;;;","11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
code hygine: replace fmt.Sprintf to fmt.Errorf,FAB-15969,41226,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,16/Jul/19 3:31 PM,27/Jul/19 11:50 AM,28/Oct/23 3:08 AM,26/Jul/19 10:50 AM,,,,,,v1.4.2,,,,fabric-ledger,,,,,0,,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u1w:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable MSP 1.4.3 at Channel Config,FAB-15970,41227,39710,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,16/Jul/19 6:53 PM,20/Sep/19 9:23 PM,28/Oct/23 3:08 AM,20/Sep/19 9:23 PM,,,,,,v1.4.3,v2.0.0,,,fabric-crypto,,,,,0,,,,,The goal is to return MSP version 1.4.3 when the channel is configured at that version,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u24:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/19 6:55 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/32342/ - release-1.4;;;","17/Jul/19 1:46 AM;denyeart;Changed to sub-task of FAB-15388 and updated subject to indicate that this is now targeted for v1.4.3.;;;","21/Aug/19 2:50 AM;denyeart;[~angelo.decaro] Still need a CR for master.;;;","16/Sep/19 3:58 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/33525/ - master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add integration test,FAB-15971,41228,38599,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,16/Jul/19 7:53 PM,14/Aug/19 7:41 AM,28/Oct/23 3:08 AM,14/Aug/19 7:41 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,,,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u2c:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 11:11 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32349;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Simulate commit chaincode definition result on peer0.org1 is INVALID and failed BYFN test consistently.,FAB-15973,41231,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wlahti,vijaypunugubati,vijaypunugubati,16/Jul/19 10:31 PM,17/Jul/19 11:33 AM,28/Oct/23 3:08 AM,17/Jul/19 11:33 AM,v2.1.0,,,,,v2.0.0,,,,fabric-ci,fabric-samples,,,,0,ci-blocker,ci-failure,,,"Simulating the commit of the chaincode definition on peer0.org1 on channel 'mychannel' is INVALID and failed to run End-2-End Scenario on BYFN tests.

*Branch:* Master**

*Platform:* ** x86_64

*Error Snippet:* 
{code:java}
/00:49:36.340 Chaincode definition for chaincode 'mycc', version '1', sequence '1' on channel 'mychannel' approval status by org:
00:49:36.340 Org1MSP: true
00:49:36.340 Org2MSP: false
00:49:36.340 !!!!!!!!!!!!!!! Simulate commit chaincode definition result on peer0.org1 is INVALID !!!!!!!!!!!!!!!!
00:49:36.340 ================== ERROR !!! FAILED to execute End-2-End Scenario ==================
00:49:36.340 
00:49:36.489 ERROR !!!! Test failed
00:49:36.490 + copy_logs 1 default-channel
00:49:36.490 + logs default-channel
00:49:36.490 + for CONTAINER in '${CONTAINER_LIST[*]}'
00:49:36.490 + docker logs peer0.org1.example.com
00:49:36.934 + echo/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/Merge/job/fabric-merge-end-2-end-x86_64/5822/consoleFull]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/5822/]",,btl5037,denyeart,sykesm,vijaypunugubati,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u30:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,sykesm,vijaypunugubati,wlahti,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jul/19 10:35 PM;vijaypunugubati;The above bug observed from this commit cf91e228c1372e1ed4a5b94f0520cd5d5304cefa;;;","17/Jul/19 1:26 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric-samples/+/32353;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in orderer/common/cluster/comm_test - timeout,FAB-15974,41232,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,jyellick,sykesm,sykesm,16/Jul/19 10:32 PM,09/Nov/19 6:43 AM,28/Oct/23 3:08 AM,09/Nov/19 6:43 AM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,ci-flake,ipm,,,"This looks the same as FAB-14858 but is a recurrence on current master.

From https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/13674/consoleFull:
{code}
18:34:05 coverage: 18.6% of statements
18:34:05 panic: test timed out after 20m0s
18:34:05 
18:34:05 goroutine 2207 [running]:
18:34:05 testing.(*M).startAlarm.func1()
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:1334 +0x11c
18:34:05 created by time.goFunc
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/time/sleep.go:169 +0x52
18:34:05 
18:34:05 goroutine 1 [chan receive, 19 minutes]:
18:34:05 testing.(*T).Run(0xc000128100, 0x1702436, 0x18, 0x172e8f0, 0x1)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:917 +0x693
18:34:05 testing.runTests.func1(0xc000128100)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:1157 +0xa9
18:34:05 testing.tRunner(0xc000128100, 0xc00026dd48)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
18:34:05 testing.runTests(0xc0004dfb40, 0x22271e0, 0x4a, 0x4a, 0x0)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:1155 +0x524
18:34:05 testing.(*M).Run(0xc00045e100, 0x0)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:1072 +0x2ec
18:34:05 main.main()
18:34:05 	_testmain.go:252 +0x335
18:34:05 
18:34:05 goroutine 7 [chan receive, 20 minutes]:
18:34:05 testing.(*T).Parallel(0xc000128300)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:770 +0x3b8
18:34:05 github.com/hyperledger/fabric/orderer/common/cluster_test.TestSendBigMessage(0xc000128300)
18:34:05 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/comm_test.go:290 +0x54
18:34:05 testing.tRunner(0xc000128300, 0x172ec18)
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
18:34:05 created by testing.(*T).Run
18:34:05 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
...
18:34:05 FAIL	github.com/hyperledger/fabric/orderer/common/cluster	1200.334s
{code}

Logs attached.

/cc [~yacovm]",,jyellick,sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14116,FAB-14858,,,,,,,,,,,,,,,"08/Aug/19 4:06 AM;sykesm;console-2019-08-07.log;https://jira.hyperledger.org/secure/attachment/17655/console-2019-08-07.log","16/Jul/19 10:32 PM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17606/console.log.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8w9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jul/19 10:43 PM;yacovm;why do you think it's related to TestSendBigMessage?;;;","03/Aug/19 3:18 AM;sykesm;bq. why do you think it's related to TestSendBigMessage?

Doesn't look like I referenced that text here but, if I did, it's not. Looking at the logs, it appears to be a hang in one of the table tests associated with {{TestBlockPullerBadBlocks}}.

{code}
goroutine 536 [chan receive, 19 minutes]:
testing.(*T).Run(0xc000142b00, 0x16f720e, 0xa, 0xc00041da40, 0x9d1001)
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:917 +0x693
github.com/hyperledger/fabric/orderer/common/cluster_test.TestBlockPullerBadBlocks(0xc000142b00)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:979 +0x2ff
testing.tRunner(0xc000142b00, 0x172e8f0)
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
created by testing.(*T).Run
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
{code}

and

{code}
goroutine 628 [semacquire]:
sync.runtime_Semacquire(0xc000454978)
	/opt/go/go1.12.5.linux.amd64/src/runtime/sema.go:56 +0x39
sync.(*WaitGroup).Wait(0xc000454970)
	/opt/go/go1.12.5.linux.amd64/src/sync/waitgroup.go:130 +0xb2
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).probeEndpoints(0xc00023cd20, 0xa, 0x91)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:296 +0x364
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).connectToSomeEndpoint(0xc00023cd20, 0xa)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:245 +0x79
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).tryFetchBlock(0xc00023cd20, 0xa, 0x5e)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:119 +0xec
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).PullBlock(0xc00023cd20, 0xa, 0x1)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:90 +0xfe
github.com/hyperledger/fabric/orderer/common/cluster_test.TestBlockPullerBadBlocks.func7(0xc0002b1400)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:1019 +0x4dc
testing.tRunner(0xc0002b1400, 0xc00041da40)
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
created by testing.(*T).Run
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
{code};;;","08/Aug/19 4:07 AM;sykesm;Added another variation.  [~guoger], can you look at this please?;;;","08/Aug/19 4:10 AM;sykesm;Looks a lot like the last one:

{code}
goroutine 490 [semacquire]:
sync.runtime_Semacquire(0xc000381128)
	/opt/go/go1.12.5.linux.amd64/src/runtime/sema.go:56 +0x39
sync.(*WaitGroup).Wait(0xc000381120)
	/opt/go/go1.12.5.linux.amd64/src/sync/waitgroup.go:130 +0xb2
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).probeEndpoints(0xc000326460, 0xa, 0x8d)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:296 +0x364
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).connectToSomeEndpoint(0xc000326460, 0xa)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:245 +0x79
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).tryFetchBlock(0xc000326460, 0xa, 0x5a)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:119 +0xec
github.com/hyperledger/fabric/orderer/common/cluster.(*BlockPuller).PullBlock(0xc000326460, 0xa, 0x1)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver.go:90 +0xfe
github.com/hyperledger/fabric/orderer/common/cluster_test.TestBlockPullerBadBlocks.func7(0xc00023a000)
	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:1019 +0x4dc
testing.tRunner(0xc00023a000, 0xc000506360)
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
created by testing.(*T).Run
	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
{code};;;","23/Aug/19 12:58 AM;wlahti;Hit again today: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14758/consoleFull];;;","09/Nov/19 6:43 AM;jyellick;I've run this locally on my laptop in a loop for the last few hours (30 minutes or so of it with stress) and have observed no failures.  Closing until we see a reproduction with the current level of code.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in pvtdata integration suite,FAB-15975,41233,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,16/Jul/19 10:40 PM,19/Mar/20 5:53 AM,28/Oct/23 3:08 AM,19/Mar/20 5:53 AM,v2.0.0,,,,,,,,,fabric-ledger,,,,,0,ci-flake,,,,"Noted in build: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/10212/console

{code}
19:05:33 ------------------------------
19:05:33 • Failure in Spec Setup (BeforeEach) [47.798 seconds]
19:05:33 PrivateData Reconciliation [BeforeEach] chaincode in legacy lifecycle disseminates private data per collections_config1 
19:05:33 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pvtdata/pvtdata_test.go:105
19:05:33 
19:05:33   No future change is possible.  Bailing out early after 3.107s.
19:05:33   Expected
19:05:33       <int>: 1
19:05:33   to match exit code:
19:05:33       <int>: 0
19:05:33 
19:05:33   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pvtdata/pvtdata_test.go:534
{code}

btw - the way the assertReconcileBehavior function is declared is likely broken; it's making assumptions about when it executes since it's outside of an assertion or a {{BeforeEach}} block.

Logs attached.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jul/19 10:37 PM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17607/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u38:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Mar/20 5:53 AM;denyeart;No recurrence on this one noted since July. I'll close for now so that we can focus on the other flakes with recurrence. Please re-open if a recurrence is seen.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add function to get the code package from a peer,FAB-15976,41235,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,16/Jul/19 11:45 PM,07/Aug/19 3:12 AM,28/Oct/23 3:08 AM,30/Jul/19 3:32 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11407,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u3o:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IT: Org admin does not install chaincode ,FAB-15977,41238,40806,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wlahti,wlahti,17/Jul/19 1:33 AM,17/Jul/19 1:38 AM,28/Oct/23 3:08 AM,17/Jul/19 1:38 AM,,,,,,,,,,,,,,,0,,,,,"Create an integration test that ensures a peer cannot invoke a chaincode 

This task will be complete when there is a test in e2e/lifecycle ([https://github.com/hyperledger/fabric/blob/master/integration/e2e/lifecycle/lifecycle_test.go) |https://github.com/hyperledger/fabric/blob/master/integration/e2e/lifecycle/lifecycle_test.go]that manually packages, installs, modifies the package id for one of the two org and approves the definition, and then verifies that committing the chaincode definition fails with:
{code:java}
 Error: failed to create signed transaction: ProposalResponsePayloads do not match{code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u44:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jul/19 1:38 AM;wlahti;Already tested via UT in core/chaincode/lifecycle/legacy_lifecyle_test.go;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation internationalization ,FAB-15978,41239,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guolidong,guolidong,guolidong,17/Jul/19 2:15 AM,04/Dec/20 4:51 AM,28/Oct/23 3:08 AM,04/Dec/20 4:51 AM,,,,,,Future,,,,fabric-docs,,,,,0,,,,,"{color:#de350b}Add Chinese technical documentation link to the README.md page{color}

{color:#de350b}current situation:{color}
h2. {color:#172b4d}Documentation, Getting Started and Developer Guides{color}

{color:#172b4d}Please visit our online documentation for information on getting started using and developing with the fabric, SDK and chaincode:{color}
 * {color:#172b4d}[v1.4|http://hyperledger-fabric.readthedocs.io/en/release-1.4/]{color}
 * {color:#172b4d}[v1.3|http://hyperledger-fabric.readthedocs.io/en/release-1.3/]{color}
 * {color:#172b4d}[v1.2|http://hyperledger-fabric.readthedocs.io/en/release-1.2/]{color}
 * {color:#172b4d}[v1.1|http://hyperledger-fabric.readthedocs.io/en/release-1.1/]{color}
 * {color:#172b4d}[v1.0|http://hyperledger-fabric.readthedocs.io/en/release-1.0/]{color}
 * {color:#172b4d}[master branch (development)|http://hyperledger-fabric.readthedocs.io/en/master/]{color}

{color:#172b4d}It's recommended for first-time users to begin by going through the Getting Started section of the documentation in order to gain familiarity with the Hyperledger Fabric components and the basic transaction flow.{color}
h2. {color:#de350b}The state we want:{color}
h2. Documentation, Getting Started and Developer Guides

Please visit our online documentation for information on getting started using and developing with the fabric, SDK and chaincode:
 * v2.0
 * v2.0_zh-cn
 * [v1.4|http://hyperledger-fabric.readthedocs.io/en/release-1.4/]
 * v1.4_zh-cn
 * [v1.3|http://hyperledger-fabric.readthedocs.io/en/release-1.3/]
 * [v1.2|http://hyperledger-fabric.readthedocs.io/en/release-1.2/]
 * [v1.1|http://hyperledger-fabric.readthedocs.io/en/release-1.1/]
 * [v1.0|http://hyperledger-fabric.readthedocs.io/en/release-1.0/]
 * [master branch (development)|http://hyperledger-fabric.readthedocs.io/en/master/]

It's recommended for first-time users to begin by going through the Getting Started section of the documentation in order to gain familiarity with the Hyperledger Fabric components and the basic transaction flow.
h2.  

 ",,ChristopherFerris,guoger,guolidong,odowdaibm,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15246,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2254,,,No,,Unset,No,,,"1|i00u4c:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,guoger,guolidong,odowdaibm,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jul/19 5:18 PM;guolidong;[~odowdaibm] hi, are you the document maintainer ? do you support this CR ?;;;","24/Jul/19 6:00 AM;odowdaibm;I do support it, yes.  I think it would be good to get the python and other changes in so that anyone can build as well. ;;;","31/Oct/19 10:27 PM;ChristopherFerris;I'm also supportive, but we need to have a plan in place that we can all agree, and that is aligned with the CI transition to AZP.;;;","02/Dec/19 6:02 PM;guoger;removed v2.0 tag from JIRA since it's not a release blocker

we should not list languages in README.md (imagine the length of TOC if we do this for other languages per release). It has been discussed in mailing list and contributor meeting, and people generally support to use single (current) readthedocs site to host multiple languages. (and they can be from different git repo);;;","01/Apr/20 9:08 PM;pandrejko;Content has been delivered for the release-1.4 branch in zh_CN.

https://hyperledger-fabric.readthedocs.io/zh_CN/latest/

We need to doc the process for adding other languages - suggest putting in on the [Hyperledger Fabric Wiki |https://wiki.hyperledger.org/display/fabric].;;;","04/Dec/20 4:51 AM;pandrejko;Chinese translation is now available here [https://hyperledger-fabric.readthedocs.io/zh_CN/release-2.2/international_languages.html]
Closing;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve capabilities documentation,FAB-15979,41240,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,17/Jul/19 2:50 AM,13/Aug/19 4:33 AM,28/Oct/23 3:08 AM,13/Aug/19 4:33 AM,v1.4.2,v2.0.0,,,,v1.4.3,v2.0.0,,,fabric-docs,,,,,0,,,,,"This documentation was last updated for v1.1, the first release with capabilities. It needs some polishing and cleaning up and context now that we know more. Also, it would be useful to add information about levels of capabilities and what was added where. Ideally, the conceptual information about capabilities will be split/expanded into its own ""Key Concepts"" doc, as it's become more important for people to understand capabilities as we progress in versions and the number of potential capability configurations increase. The lower level information currently in the doc would remain in the ""current"" doc, with the conceptual information removed.

Will write this for master, but ideally should also be cherry picked back to v1.4.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u4k:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Aug/19 1:24 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/fabric/+/32597/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement test to cover Behave gossip.feature test to stop and start org leader peer,FAB-15980,41241,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dongming,scottz,scottz,17/Jul/19 6:15 AM,20/Sep/19 11:44 PM,28/Oct/23 3:08 AM,20/Sep/19 11:44 PM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 36 of tab ""Behave Testcases"" in shared google sheet https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741 

Existing test 'integration/gossip/gossip_test.go It(""solo network with 2 orgs, 2 peers each, should sync from the peer if no orderer available"")' stops the 2nd peer of first org and both peers of 2nd org, sends TXs, and starts all again. Call this existing code = PartA.

Peer0 is likely the leader (especially after the other peers are stopped). Extend PartA, call this PartB, to subsequently stop peer0 (the leader of Org1), send TXs, and restart it and confirm it rejoins (it should step down to become non-leader) and catches up its ledger.
",,dongming,scottz,,,,,,,,,,,,,,,,,FAB-15750,,,,FAB-15981,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzx",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dongming,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 3:50 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric/+/33463/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave gossip.feature tests to disconnect peers,FAB-15981,41242,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,dongming,scottz,scottz,17/Jul/19 6:29 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,12/Sep/19 10:55 PM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 35 of tab ""Behave Testcases"" in shared google sheet https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741

Existing test 'integration/gossip/gossip_test.go It(""solo network with 2 orgs, 2 peers each, should sync from the peer if no orderer available"")' stops the 2nd peer of first org and both peers of 2nd org, sends TXs, and starts all again. Call this existing code = PartA.

PartB is being added with FAB-15980.

This task is to repeat the steps in PartA and PartB. This time we will call them PartC and PartD, but they differ by using disconnect instead of stop - so the affected peers still function and send messages but cannot receive msgs from each other, and then resume after reconnecting 15 secs later. (Imagine it is like they all communicate through a switch which goes down and halts traffic for that time period.)

One way is to rerun the same test steps (although if continuing with same network, note that peer0 would be the nonleader, assuming PartB is done). Another way would be to do this with a 3rd peer in Org1 and two peers in a new Org3, so as to avoid any direct dependency on the PartA and PartB.
",,scottz,,,,,,,,,,,,,,,,,,FAB-15750,FAB-15980,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqfn:q",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/19 10:55 PM;scottz;We decided not to do the ""disconnect"" scenarios like this one; these ""msg-delivery-blocked/delayed"" tests are not critical; most of the usecase scenarios are hit by other testcases already with stops and starts.

 

Additional note: system test team has done (and MAY automate) some tests by inserting message delivery delays to/from selected peers or orderers.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave gossip.feature test to stop leader peer (no election),FAB-15982,41243,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dongming,scottz,scottz,17/Jul/19 6:54 AM,13/Nov/19 3:53 AM,28/Oct/23 3:08 AM,13/Nov/19 3:53 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 40 of tab ""Behave Testcases"" in shared google sheet https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741

Existing test 'integration/gossip/gossip_test.go It(""solo network with 2 orgs, 2 peers each, should sync from the peer if no orderer available"")' stops the 2nd peer of first org and both peers of 2nd org, sends TXs, and starts all again. Call this existing code = PartA.

For this testcase, we want to do something similar. The first difference is that we must configure the network to specify one leader and one non-leader in each org; that is, we will NOT use peer gossip leader election. Secondly, we must stop only the leader peer (likely peer0) of one organization. Leave the other 3 peers running, and send transactions to one of the peers in the other org. Start the stopped leader peer, and confirm it rejoins successfully; it should resume as leader and catch up its ledger.

",,dongming,scottz,,,,,,,,,,,,,,,,,FAB-15750,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzxi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dongming,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/19 12:26 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric/+/33637/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave gossip.feature test to disconnect leader peer (no election),FAB-15983,41244,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,dongming,scottz,scottz,17/Jul/19 6:59 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,13/Sep/19 10:50 PM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 40 of tab ""Behave Testcases"" in shared google sheet https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741

Refer also to FAB-15982. For this testcase, we want to do something similar. We must configure the network to specify one leader and one non-leader in each org; that is, we will NOT use peer gossip leader election. The only difference here is that we must disconnect (not stop) the leader peer (likely peer0) of one organization. Leave the other 3 peers running, and send transactions to one of the peers in the other org. After 15 secs, reconnect it, and confirm it rejoins successfully; it should resume as leader and catch up its ledger.",,dongming,scottz,,,,,,,,,,,,,,,,,FAB-15750,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqfn:r",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/19 10:50 PM;dongming;We decided not to do the ""disconnect"" scenarios like this one; these ""msg-delivery-blocked/delayed"" tests are not critical; most of the usecase scenarios are hit by other testcases already with stops and starts.

 
Additional note: system test team has done (and MAY automate) some tests by inserting message delivery delays to/from selected peers or orderers.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave gossip.feature test to join a new peer later,FAB-15984,41245,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,17/Jul/19 7:08 AM,13/Nov/19 3:54 AM,28/Oct/23 3:08 AM,13/Nov/19 3:54 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 41 of tab ""Behave Testcases"" in shared google sheet https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741

Join a new (3rd) peer to an org which has handled transactions, and confirm the ledger height of the new peer matches the others soon after.

One way to consider doing this might be to add new test steps at the end of any existing test in integration/gossip/gossip_test.go.",,dongming,scottz,,,,,,,,,,,,,,,,,FAB-15750,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzxj",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dongming,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/19 12:26 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric/+/33637/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka and Zookeeper were not working after a restart in  Hyperledger Fabric Production Network?,FAB-15985,41246,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,,saikumar3349,saikumar3349,17/Jul/19 3:28 PM,29/Jul/19 7:20 PM,28/Oct/23 3:08 AM,24/Jul/19 4:02 PM,,,,,,,,,,fabric-orderer,,,,,0,fabric-orderer,kafka,,,"I had created a multinode setup as follows:

system-1(zookeeper0,kafka0,orderer0)

system-2(zookeeper1,kafka1,orderer1)

system-3(zookeeper2,kafka2,orderer2)

system-4(kafka3,orderer3)

Persistence volumes has been created for orderer,peer,couchdb.

The network is running successfully with 5 channels and added huge data on one channel.

suddenly one system has been crashed due to insufficient resources. with this impact we tear down the whole network and we haven't removed the persistent volumes.

After that we had restarted the network once again by using the persistence of orderere,peer,couchdb.

we are able to see the channel list and chaincode list installed on the peers and also instantiated on channel. But when we are invoking any transaction on the channel. It is throwing an error as ""Backing Kafka cluster has not completed booting."". when we check the topics on the kafka brokers, we are able to see the topics.

when we checked the orderer logs in DEBUG in mode. we have noticed the following error:

2019-07-16 19:04:28.646 UTC [orderer.consensus.kafka] try -> DEBU 14bf [channel:<channel_name>] Need to retry because process failed = kafka server: The requested offset is outside the range of offsets maintained by the server for the given topic/partition.
2019-07-16 19:04:28.646 UTC [orderer.consensus.kafka] startThread -> PANI 14c0 [channel: <channel_name>] Cannot set up channel consumer = kafka server: The requested offset is outside the range of offsets maintained by the server for the given topic/partition.

 

Would be great if anyone help us.",,denyeart,guoger,mania06,mffrench,saikumar3349,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u5w:",,,,Unset,Unset,,"setup the network with 4 systems. create a channel,install and instantiate a chaincode on channel and perform some transactions on the channel.
Now tear down the network remove the kafka and zookeeper containers. Dont remove persistent volumes of orderer and peer. Restart the network and perform the same.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,mania06,mffrench,saikumar3349,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jul/19 12:35 AM;mania06;Hello,

I am having the same issues.

My guess is the lack of persistance to kafka and zookeeper containers. A complete Kafka restart will clear your topics.

Sadly, I haven't any solution so far to recover from this state. I've personally reset the whole setup and started from scratch.;;;","24/Jul/19 12:42 PM;denyeart;[~jyellick] [~guoger] Any ideas?;;;","24/Jul/19 3:24 PM;guoger;[~mania06] you guess is correct, kafka/zk data has to be *persisted*

Start from scratch seems to be most straightforward, if it's a throw-away environment. Otherwise, you'll need to write a tool to migrate existing data to a new orderer/kafka/zk setup - extract transactions from blocks (read from peer/orderer), and submit to new cluster again.

(i guess we are not emphasizing this enough in docs... cc [~denyeart]);;;","24/Jul/19 7:11 PM;mania06;> i guess we are not emphasizing this enough in docs...

Yes, a persistance guide would be very nice to setup a production network :);;;","24/Jul/19 7:32 PM;mffrench;Hello [~guoger], [~jyellick], [~denyeart],

in did, seems to me a volume definition is missing in the Kafka HLF docker file :

[https://github.com/hyperledger/fabric-baseimage/blob/v0.4.15/images/kafka/Dockerfile.in

]While waiting this file to be updated to let the community know HLF Kafka persistance configuration, can you tell us which volume directory target is needed ?

Thank you a lot !;;;","26/Jul/19 11:59 AM;guoger;[~mffrench] sorry for late response, pls consult kafka & zk docs for details. For example, you should be able to specify {{log.dir}} for kafka data location, which should be persisted;;;","29/Jul/19 7:20 PM;mffrench;Thank you [~guoger]. I think current HLF Kafka Dockerfile and configurations are confusing on this part and we can improve that directly in HLF Kafka dockerfile. 

The default log.dir in kafka configuration target a directory path in /tmp/kafka-logs. That can leads to misunderstanding on the persistance or not of this folder. Then as there is no Volume defined in the Dockerfile it consolidate end user to think no persisted volume is needed in Kafka + HLF context. 

Looking to HLF Kafka `docker-entrypoint.sh` it seems we may override `log.dirs` with env var like KAFKA_log.dirs. Probably may we define this env variable inside the HLF Kafka dockerfile such as `KAFKA_log.dirs=/opt/kafka/data` and then add Volume definition in the Dockerfile such as `VOLUME=['/opt/kafka/data', '/opt/kafka/logs']` ?

Let me know what you think...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Request new repository from LF,FAB-15986,41251,41124,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,17/Jul/19 6:46 PM,19/Jul/19 9:11 PM,28/Oct/23 3:08 AM,19/Jul/19 9:11 PM,,,,,,,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u70:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 9:11 PM;mastersingh24;We ended up with a Gerrit repo for now, but looks like we likely to make a wholesale move from Gerrit to Github so I'm going to close this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Request new repository from LF,FAB-15987,41252,41121,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,17/Jul/19 6:51 PM,19/Jul/19 9:10 PM,28/Oct/23 3:08 AM,19/Jul/19 9:10 PM,,,,,,,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u78:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 9:10 PM;mastersingh24;We ended up with a Gerrit repo for now, but looks like we likely to make a wholesale move from Gerrit to Github so I'm going to close this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Request new repository from LF,FAB-15988,41253,41213,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,17/Jul/19 7:28 PM,19/Jul/19 9:10 PM,28/Oct/23 3:08 AM,19/Jul/19 9:10 PM,,,,,,,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u7g:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 9:10 PM;mastersingh24;We ended up with a Gerrit repo for now, but looks like we likely to make a wholesale move from Gerrit to Github so I'm going to close this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel Creation Fails with PKCS11 BCCSP,FAB-15989,41256,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,mfaisaltariq,mfaisaltariq,17/Jul/19 9:13 PM,24/Jul/19 2:49 AM,28/Oct/23 3:08 AM,24/Jul/19 2:49 AM,,,,,,v1.4.2,,,,fabric-peer,,,,,0,,,,,"I'm running a Hyperledger network with softHSM. Everything works fine the peer, orderer and ca. But when I run the scripts through the cli on the PEER container for channel creation it logs the following error. 

{color:#de350b}UTC [main] InitCmd -> ERRO 001 Cannot run peer because error when setting up MSP of type bccsp from directory /data/adminOrg1MSP/: KeyMaterial not found in SigningIdentityInfo{color}

 

The orderer logs can be found at [Logs|https://privatebin.net/?2a1ab797b21f34fc#2BiosfM2oBgnptx4PKfK6S3U52JqPvfRkJxLCggVBJBm]

The peer logs can be found at [Peer Logs|https://privatebin.net/?2941c56ef8ee058e#Bm12KkBitCMywbNNnjp1hdUhUs2FUprqA7wnRCn3av77]

 

 ",,jyellick,mfaisaltariq,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jul/19 9:12 PM;mfaisaltariq;Screenshot 2019-07-17 at 5.12.44 PM.png;https://jira.hyperledger.org/secure/attachment/17609/Screenshot+2019-07-17+at+5.12.44+PM.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u84:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,mfaisaltariq,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 11:00 PM;jyellick;Have you configured the PKCS11 parameters in `core.yaml` for the peer CLI? This should be a similar configuration as for your peer server process.;;;","20/Jul/19 6:02 AM;mfaisaltariq;For now I’m not using the CLI Container and I’m running the following command from the *Peer Container*.
{code:java}
peer channel create -o orderer0.fabric.linuxctl.com:7050 -c linuxctlchannel -f /data/channel-artifacts/linuxctlchannel.tx
{code}
 
 We have done the following things to get here. 

1- Built our own images for *CA,Orderer* and *Peer* with softhsm installed and built the binaries using *GO_TAGS=PKCS11* config.

2- Changed *BCCSP* configuration to *PKCS11* in the fabric-ca-server-config.yaml, fabric-ca-client-config.yaml, core.yaml and orderer.yaml.

3- Started a network with *1-orderer, 1 org and peer*. The orderer and peer have their own ca-servers. We also start 2 fabric-*ca-client containers* to register orderer and peer and then they exit out. The keys and certificates are stored in docker volumes which are mapped on peer and orderer. We are using scripts from [here|https://github.com/gbolo/dockerfiles/tree/master/hyperledger-fabric/softhsm].

4- We get 2 errors. The logs of first one can be found [here|https://privatebin.net/?0772c9f64a850802#FiA67BCuwrS6LXtfwHf4cJGqHt25epyyaP3aVnAPnn5W]

The second one is the error specified in the issue description and we encounter it if we set the MSP config path of the peer to
{code:java}
export CORE_PEER_MSPCONFIGPATH=/data/adminOrg1MSP/
{code}
The logs can be found for the 2nd error [here|https://privatebin.net/?fe18e9518832d9ec#6YMcLXSwSCb8ZvgjiNhDgfCzi41B7mjetyC5dAx7dGzh]

I hope now you have a better picture of what we are doing.;;;","20/Jul/19 6:04 AM;mfaisaltariq;The GitHub repo built is for HLF1.0 we have modified all the scripts and we use the HLF1.4.2 for building binaries, images and the config files.;;;","22/Jul/19 10:49 AM;jyellick;For the first error, what you have attached is the CLI logs.  The error returned by the orderer is deliberately opaque so as to prevent leaking identities of channel participants when an unauthorized user interrogates the channel.  If you could enable debug logging at the orderer and include the output of those logs during the window of the request it would be very helpful.

With respect to the second error, I think your problem lies here:

{code}
2019-07-19 13:18:48.999 UTC [bccsp_p11] getSession -> DEBU 02f Reusing existing pkcs11 session 1 on slot 771398831
2019-07-19 13:18:49.000 UTC [bccsp_p11] getECKey -> DEBU 030 Private key not found [Key not found [00000000  32 08 e9 37 17 b1 1d f7  a0 82 ad 4f f1 45 3f a9  |2..7.......O.E?.|
00000010  f4 34 ac f5 a2 8d 27 58  c2 cf b1 f3 fb e8 83 23  |.4....'X.......#|
{code}

The connection to the HSM seems to be fine, but the peer cannot find the private key for the certificate in the HSM.  Are you certain that private key is there? How did you generate your admin user's certficate?;;;","22/Jul/19 9:56 PM;mfaisaltariq;Hi Jason, thank you for all your help. Actually the admin certs were not being properly set. The admin certs were being replaced by the Peer Certs. So we fixed that. This [https://github.com/Blockdaemon/fabric-ca/blob/gerrit-pr-29430/docs/source/operations_guide.rst] link helped get to the root cause.

Now we are in a new problem. I'm not sure if I should open a new issue for it or not. But I'll post it here for now.

 

When we join the peer we get the following error. 


{code:java}
2019-07-22 12:10:36.617 UTC [blocksProvider] DeliverBlocks -> ERRO 032 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:36.731 UTC [blocksProvider] DeliverBlocks -> ERRO 033 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:36.957 UTC [blocksProvider] DeliverBlocks -> ERRO 034 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:37.374 UTC [blocksProvider] DeliverBlocks -> ERRO 035 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:38.198 UTC [blocksProvider] DeliverBlocks -> ERRO 036 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:39.809 UTC [blocksProvider] DeliverBlocks -> ERRO 037 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:43.028 UTC [blocksProvider] DeliverBlocks -> ERRO 038 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:49.407 UTC [blocksProvider] DeliverBlocks -> ERRO 039 [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:10:59.433 UTC [blocksProvider] DeliverBlocks -> ERRO 03a [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:11:09.469 UTC [blocksProvider] DeliverBlocks -> ERRO 03b [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:11:19.453 UTC [blocksProvider] DeliverBlocks -> ERRO 03c [linuxctlchannel] Got error &{FORBIDDEN}
2019-07-22 12:11:19.453 UTC [blocksProvider] DeliverBlocks -> ERRO 03d [linuxctlchannel] Wrong statuses threshold passed, stopping block provider
{code}

Even with this error the chaincode gets installed and on listing installed chaincodes we have the chaincode there.

When we instantiate the chaincode it runs and creates the chaincode container too but on listing instantiated chaincodes we get empty list and obviously on running query and invocation we are getting status:500

 ;;;","24/Jul/19 2:47 AM;jyellick;[~mfaisaltariq] JIRA is intended to be a venue for opening issues for errors which are believed to be bugs in the implementation of Fabric, not for general troubleshooting or help.  If you'd like to post more general questions, I'd recommend using [stack overflow|https://stackoverflow.com/questions/tagged/hyperledger-fabric], the [mailing list|https://lists.hyperledger.org/g/fabric], or [rocket chat|http://chat.hyperledger.org].;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document that idemix orgs will count towards implicit meta policy thresholds,FAB-15991,41262,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,ales,ales,17/Jul/19 11:29 PM,25/Sep/19 1:35 AM,28/Oct/23 3:08 AM,06/Aug/19 3:00 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,"As described in FAB-15107, an idemix org will count as an org that can endorse if an endorsement policy is expressed as an implicit meta policy. However, idemix orgs cannot produce endorsements. 

This story tracks the documentation changes required to clarify this point, warning the users that the threshold for an implicit meta policy will erroneously count idemix orgs. We likely have to document this in
# the place where we describe endorsement policies in the new lifecycle
# the idemix doc page",,ales,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15107,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rj:iws",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,negupta,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/19 5:42 AM;negupta;[~ales] To be counted as against the endorsement policy, would this mean that Idemix organiztions would have to have contain the endorsement subpolicies as well? The policies are set as Majority endorsement. So this mistake would happen only if those organizations are provided subpolicies they should not posses.

How common do we think this error will be? If it is a corner case where someone mistakenly gives an idemix org policies that they should not posses, then I think we should keep the documentation restricted to the idemix doc. If this error is more common, then we should add the disclaimer in more places.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IT: chaincode-calling-chaincode in another channel,FAB-15992,41263,40806,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,wlahti,wlahti,17/Jul/19 11:36 PM,29/Aug/19 2:26 AM,28/Oct/23 3:08 AM,29/Aug/19 2:26 AM,,,,,,,,,,,,,,,0,,,,,"Create an integration test that ensures a chaincode can call another chaincode in a different channel. See [https://gerrit.hyperledger.org/r/c/fabric/+/31730] for the existing tests of chaincode calling another chaincode (aka cc2cc).

This task will be complete when there is a test in e2e/lifecycle ([https://github.com/hyperledger/fabric/blob/master/integration/e2e/lifecycle/lifecycle_test.go) |https://github.com/hyperledger/fabric/blob/master/integration/e2e/lifecycle/lifecycle_test.go]that deploys a chaincode in one channel, deploys the chaincode that is called by the previous chaincode in a different channel, and then successfully invokes both chaincodes and verifies the results by querying both chaincodes. ",,dongming,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u8s:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 6:06 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric/+/32890/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove swagger annotations,FAB-15993,41264,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtonline,heatherp,heatherp,18/Jul/19 12:14 AM,29/Jul/19 9:45 PM,28/Oct/23 3:08 AM,29/Jul/19 9:45 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,[https://gerrit.hyperledger.org/r/c/fabric-chaincode-java/+/32266] - I broke the fabcar java sample by removing the swagger annotations from java chaincode,,heatherp,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u90:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 12:55 AM;jtonline;[https://gerrit.hyperledger.org/r/c/fabric-samples/+/32376]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doc: What's New v1.4.2 edits,FAB-15994,41266,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Jul/19 1:30 AM,18/Jul/19 2:38 AM,28/Oct/23 3:08 AM,18/Jul/19 2:38 AM,,,,,,v1.4.2,,,,,,,,,0,,,,,Clarify that Kafka to Raft migration is available as of v1.4.2.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00u9g:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/19 1:32 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32377/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.4.2 release,FAB-15995,41267,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Jul/19 2:55 AM,12/Nov/19 1:43 AM,28/Oct/23 3:08 AM,12/Nov/19 1:43 AM,,,,,,v1.4.2,,,,fabric-release,,,,,0,,,,,"Prepare and publish the release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,FAB-16410,,FAB-14964,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00u9o:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support release,FAB-15996,41268,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,rameshthoomu,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:13 AM,28/Oct/23 3:08 AM,18/Jul/19 3:09 AM,,,,,,,,,,fabric-ci,fabric-release,,,,0,fabric-ci,,,,"Make sure all the release jobs & multiarch jobs are ready for the release.

*fabric* – fabric-release-jobs-x86_64 & fabric-release-jobs-s390x (included docker images and binaries)
 *fabric-ca* --fabric-ca-image-release-x86_64 & fabric-ca-image-release-s390x & fabric-ca-binaries-x86_64 (for binaries)
 *fabric-chaincode-java* – fabric-chaincode-java-release-x86_64 ( javaenv image on x platform)

Multiarch jobs:
 [https://jenkins.hyperledger.org/view/multi-arch/]",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00u9w:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric,FAB-15997,41269,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:13 AM,28/Oct/23 3:08 AM,18/Jul/19 5:10 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ua4:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/19 3:25 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32380/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-15998,41270,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,18/Jul/19 12:29 PM,28/Oct/23 3:08 AM,18/Jul/19 12:29 PM,,,,,,,,,,fabric-release,,,,,0,,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.4.0-rc1 release.

Update Makefile

BASE_VERSION = 1.4.0-rc1

PREV_VERSION = 1.3.0

 

Also, update master branch to have BASE_VERSION=1.4.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00uac:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/19 7:13 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32383/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-ca,FAB-15999,41271,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:14 AM,28/Oct/23 3:08 AM,18/Jul/19 5:10 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.4.0-rc1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0 v1.4.0-rc1

update release_notes/v1.4.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00uak:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-16000,41272,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,20/Jul/19 3:37 AM,28/Oct/23 3:08 AM,20/Jul/19 3:37 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00uas:",,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 7:22 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric-ca/+/32384/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-16001,41273,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:14 AM,28/Oct/23 3:08 AM,18/Jul/19 7:14 AM,,,,,,,,,,fabric-ci,fabric-release,,,,0,,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ub0:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-16002,41274,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:15 AM,28/Oct/23 3:08 AM,18/Jul/19 7:15 AM,,,,,,,,,,fabric-build,,,,,0,,,,,BASE_VERSION=1.4.0-rc2 TWO_DIGIT_VERSION=1.4 scripts/multiarch.sh user password,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ub8:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node,FAB-16007,41279,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,andrew-coleman,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,30/Aug/19 3:24 AM,28/Oct/23 3:08 AM,30/Aug/19 3:24 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh 2b862d7 v1.3.0 (have to use hash as there is no tag to find)

update release_notes/v1.3.0.txt

update package.json files with the release identifier

./package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""testFabricVersion"": ""master"",  -> ""testFabricVersion"": ""1.3.0"",

./fabric-ca-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.30"",

   ""tag"": ""unstable"" -> ""latest""

./fabric-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""tag"": ""unstable"" -> ""latest""

 ",,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ucc:",,,,,,,,,,,,,,,,,,,,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for next release,FAB-16008,41280,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,31/Jul/19 2:46 AM,28/Oct/23 3:08 AM,31/Jul/19 2:46 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"update package.json files with the SNAPSHOT release identifier

  ./package.json

  fabric-client/package.json

  fabric-ca-client/package.json",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00uck:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-samples,FAB-16009,41281,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Jul/19 2:55 AM,20/Jul/19 10:48 PM,28/Oct/23 3:08 AM,20/Jul/19 10:48 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.4 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ucs:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jul/19 4:18 AM;denyeart;Nothing to do for v1.4.2... node.js and java chaincode samples already automatically reference latest v1.4.x 3rd digit releases.
Only tagging is required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.4.0""",FAB-16010,41282,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Jul/19 2:55 AM,20/Jul/19 4:18 AM,28/Oct/23 3:08 AM,20/Jul/19 4:16 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,"*AFTER V1.4.0 ONLY... NOT AFTER V1.4.0-RC1.*

After creating release-1.4 branch, pin the fabric samples to use version ""~1.4.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.4 branch with the 1.4.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.4 branch, before fabric-samples is tagged with ""v1.4.0"".

 

*Clarification - for v1.4.0-rc1 node sdk had a release, therefore we pinned at ""1.4.0-rc1"" until final release.*",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ud0:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jul/19 4:16 AM;denyeart;Nothing to do for v1.4.2... node.js and java chaincode samples already automatically reference latest v1.4.x 3rd digit releases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag all repositories for release,FAB-16011,41283,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,30/Aug/19 3:24 AM,28/Oct/23 3:08 AM,30/Aug/19 3:24 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.4.0-rc1 -F release_notes/v1.4.0-rc1.txt

{{% git push origin v1.4.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java, fabric-chaincode-node, fabric-sdk-node, fabric-samples (use v1.4.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.4.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.4.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.4.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ud8:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric master references for release,FAB-16012,41284,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Jul/19 2:55 AM,24/Jul/19 1:42 AM,28/Oct/23 3:08 AM,20/Jul/19 10:48 PM,,,,,,,,,,,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00udg:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Jul/19 3:51 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32419/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-16013,41285,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,20/Jul/19 10:48 PM,28/Oct/23 3:08 AM,20/Jul/19 10:48 PM,,,,,,,,,,fabric-release,,,,,0,,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00udo:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 11:06 PM;vijaypunugubati;Please refer the below links to check the end 2 end tests performed on published images 1.4.2 for fabric and fabric-ca for x & z platforms

[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-postrelease-x86_64/3/consoleFull]

[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-postrelease-s390x/5/consoleFull];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-16014,41286,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,rameshthoomu,denyeart,18/Jul/19 2:55 AM,18/Jul/19 7:17 AM,28/Oct/23 3:08 AM,18/Jul/19 7:17 AM,,,,,,,,,,fabric-ci,fabric-docs,fabric-release,,,0,,,,,Verify readthedocs version release-1.4 gets built and published from release-1.4 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00udw:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-16015,41287,41267,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,18/Jul/19 2:55 AM,21/Aug/19 5:00 AM,28/Oct/23 3:08 AM,21/Aug/19 5:00 AM,,,,,,,,,,fabric-release,,,,,0,,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ue4:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave chaincodes.feature enccc test success path,FAB-16016,41288,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,18/Jul/19 3:50 AM,07/Aug/19 3:02 AM,28/Oct/23 3:08 AM,07/Aug/19 3:02 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage in the fabric/integration/e2e tests for Item 29 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test resides in https://github.com/hyperledger/fabric-test/blob/master/feature/chaincodes.feature:

{quote}Scenario Outline: FAB-6439: Test chaincode enccc_example.go which uses encshim library extensions{quote}

A feasible way to do it is:
* Copy fabric-test/chaincodes/enccc_example chaincode directory to fabric/chaincodes/enccc_example
* Add a test to fabric/integration/e2e/.

Alternatively, consider putting the chaincode and example test scenarios in the fabric-samples repo. And possibly include in an e2e job, like was done with first-network (BYFN).
",,scottz,,,,,,,,,,,,,,,,,,FAB-15749,,,,,,,,,,,,,,,FAB-16017,FAB-16213,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uec:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/19 3:02 AM;scottz;Code for enccc was removed. No longer need this test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave chaincodes.feature enccc test rejection paths,FAB-16017,41289,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,18/Jul/19 3:55 AM,07/Aug/19 3:02 AM,28/Oct/23 3:08 AM,07/Aug/19 3:02 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"_(Refer also to FAB-16016, which is the success path scenario.)_
This task is to ensure coverage in the fabric/integration/e2e tests for Item 30 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave tests reside in https://github.com/hyperledger/fabric-test/blob/master/feature/chaincodes.feature:

{quote}Scenario Outline: FAB-6650: Encryption enccc_example.go, passing bad ENCRYPTION(ENC), IV, and SIGNATURE(SIG) KEYS
{quote}

A feasible way to do it is:
* Copy fabric-test/chaincodes/enccc_example chaincode directory to fabric/chaincodes/enccc_example
* Add a test to fabric/integration/e2e/.

_*Alternatively*_, consider putting the chaincode and example test scenarios in the fabric-samples repo. And possibly include in an e2e job, like was done with first-network (BYFN).",,scottz,,,,,,,,,,,,,,,,,,FAB-15749,,,,,,,,,,,,,,,FAB-16213,,,FAB-16016,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uek:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/19 3:02 AM;scottz;Code for enccc was removed. No longer need this test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Containers existing without reason during byfn.sh execution,FAB-16018,41290,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,ashish.cppdev,ashish.cppdev,18/Jul/19 11:41 AM,19/Jul/19 12:26 AM,28/Oct/23 3:08 AM,19/Jul/19 12:26 AM,v1.4.2,,,,,,,,,fabric-build,,,,,0,help-wanted,,,,"Containers exiting without reason

  !image-2019-07-17-21-39-42-281.png!

 

 

The script fails. Then I try to start it back up and this time, the containers go down but not the same ones.

  !image-2019-07-17-21-39-56-810.png!

 

I have cleaned out the docker images and restarted with the generate script but still nothing. Here is another instance:

 

!image-2019-07-17-21-40-08-365.png!  

 

This leads to this error, ultimately:

  !image-2019-07-17-21-40-16-527.png!

 ",,ashish.cppdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jul/19 11:39 AM;ashish.cppdev;image-2019-07-17-21-39-42-281.png;https://jira.hyperledger.org/secure/attachment/17613/image-2019-07-17-21-39-42-281.png","18/Jul/19 11:39 AM;ashish.cppdev;image-2019-07-17-21-39-56-810.png;https://jira.hyperledger.org/secure/attachment/17612/image-2019-07-17-21-39-56-810.png","18/Jul/19 11:40 AM;ashish.cppdev;image-2019-07-17-21-40-08-365.png;https://jira.hyperledger.org/secure/attachment/17611/image-2019-07-17-21-40-08-365.png","18/Jul/19 11:40 AM;ashish.cppdev;image-2019-07-17-21-40-16-527.png;https://jira.hyperledger.org/secure/attachment/17610/image-2019-07-17-21-40-16-527.png",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ues:",,,,Unset,Unset,,"From <PATH>/fabric-samples/first-network/ folder, run

./byfn.sh up",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashish.cppdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 12:24 AM;ashish.cppdev;For some reason, once I uninstalled docker and reinstalled it, the script ran successfully, all the way to the end. I am happy that it works now, but do not know why it kept failing earlier. In any case, I will close this ticket.;;;","19/Jul/19 12:26 AM;ashish.cppdev;Uninstalling and reinstalling docker worked towards the resolution. Still do not know the root cause but it was connected with docker.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tutorial for Java programming model & sdk,FAB-16019,41292,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,heatherp,heatherp,18/Jul/19 5:31 PM,06/Aug/19 11:28 PM,28/Oct/23 3:08 AM,06/Aug/19 11:28 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,"This tutorial specifically describes how to build an application in node:
[https://hyperledger-fabric.readthedocs.io/en/latest/tutorials.html]

 

We should provide the same for java, which could include a drop down box, allowing the user to select which language they'd like to read the documentation in?",,heatherp,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15479,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uf8:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,jtonline,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Aug/19 9:21 PM;jtonline;https://gerrit.hyperledger.org/r/c/fabric/+/32640;;;","06/Aug/19 11:28 PM;jtonline;Duplicate of FAB-15479;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing Java package in proto file,FAB-16020,41295,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtonline,jtonline,jtonline,18/Jul/19 6:59 PM,25/Jul/19 9:52 PM,28/Oct/23 3:08 AM,25/Jul/19 9:46 PM,v1.4.2,v2.0.0,,,,v1.4.3,v2.0.0,,,fabric-common,,,,,0,,,,,"protos/token/transaction.proto is missing the following java package definition:

 

option java_package = ""org.hyperledger.fabric.protos.token"";

 

Note: This hasn't been an issue until now because this is the first time we've tried to regenerate the proto code on Java since the protos/token/transaction.proto file was added - see blocked issue for why we need to pick up the new proto files.",,jtonline,mbwhite,,,,,,,,,,,,,,,,,,,,,FABCJ-39,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ufw:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtonline,mbwhite,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jul/19 7:34 PM;jtonline;[https://gerrit.hyperledger.org/r/c/fabric/+/32390];;;","18/Jul/19 7:39 PM;jtonline;[https://gerrit.hyperledger.org/r/c/fabric/+/32391];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer ledger rollback and recommitting blocks to peer taking long,FAB-16021,41303,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,denyeart,suryalnvs,suryalnvs,18/Jul/19 11:47 PM,02/Dec/19 11:43 PM,28/Oct/23 3:08 AM,02/Dec/19 11:43 PM,v1.4.2,,,,,,,,,fabric-ledger,,,,,0,,,,,"*Summary:*  Rollback peer ledger with thousands of blocks and recommitting those blocks to peer is slow

*Steps:*
 # Create a network with 2 orgs and 1 peer in each with data persistence enabled
 # Create a channel, join both peers, install and instantiate samplecc
 # Start sending traffic for 500000 transactions at every 200mSec with 4 to 8 bytes payload
 # After midway through (say 250000 transactions), get the block height on the peer (will have around 29k blocks (with batch size 500 and batch timeout 2s) and then take down peer from org2 
 # Launch fabric tools container with peer node rollback -c <channel name> -b 10
 # After rolling back to 10th back, bring back the peer of org2 and it will start recommitting the blocks from 10

*Observed:* To rollback to 10th block, it took 40 minutes and to recommit 29k blocks, peer took 78 minutes",,denyeart,manish-sethi,scottz,Senthil1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwr6z:zz6y",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,scottz,Senthil1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/19 5:46 AM;manish-sethi;Rollback is expected to be much inefficient if someone had to rollback to all the way back to near genesis block which is the case of these experimental numbers.

This is because, unlike reset, rollback operation causes reading of blocks from disk that are being rolledback and hence causes a significant i/o as compared to reset but compensates this on a later recommitting stage when peer have to re-pull only blocks that are rolledback. However, on the other hand, reset is very efficient in resetting but needs to pull all the blocks again during re-committing phase. In this experiment, worst side of both seem to happen as the ledger was rolledback from 29k blocks to almost near to the genesis block. In this kind of scenario in real life, it would be advisable to use reset than to rollback. Rollback is meant to be used when someone have to rollback a handful of blocks.  [~denyeart] - as you are planning to do the docs for rollback/reset, you may like to mention this significant difference and a high level guidance for selecting one over the other.

About re-committing, since, rebuilding in this scenario (re-committing from block 10 onward) is pretty much equivalent to new peer joining scenario, I don't think that this could be related to rollback in any manner. The numbers mentioned roughly translates to 6 blocks/sec. If we want to investigate anything here, best would be to first measure the time taken by a new peer to sync-up and be assure that that is significant lesser time.;;;","25/Nov/19 11:26 PM;denyeart;I will handle the doc updates.

Would be good to understand exactly where the time is taken though [~suryalnvs] [~dongming];;;","26/Nov/19 12:13 AM;Senthil1;[~manish-sethi]. [~denyeart]

6 block per second for a block size of 500 transactions make sense. 

We did experiment by adding a new peer. Similar to rollback, it has to receive blocks and commit them one by one. As this new peer was not doing endorsements, the new peer was able to commit 3000 TX per second (6 blocks x 500 TX) in our study. With endorsement, the throughput dropped to 1800 tps.

The performance of peer rollback command needs to be calculated by prefixing time command as follows:
`time peer rollback XXX` — this would give the exact performance of peer rollback. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for behave fabric-ca.feature interop test with idemix,FAB-16022,41304,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,19/Jul/19 1:32 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Refer to Item 34 of tab ""Behave Testcases"" of [https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741].

Use idemix in interop tests using fabric+ca+node-sdk and fabric+ca+java-sdk. (Consider incorporating idemix user and admin into the interop tests defined in FAB-15967.) This will allow replacing the behave interop test in fabric-test/feature/fabric-ca.feature:
{quote}Scenario Outline: FAB-11728: Identity Mixer Test Happy Path
{quote}
Note: Angelo's pending CR for FAB-13231 adds to fabric integration nwo a test using idemix for a query with User1 using idemixOrg ""Org3"", based on nwo which generates crypto (but does not use CA, so is not interop test). [https://gerrit.hyperledger.org/r/q/status:open+idemix]

Note: The java-sdk has integration tests with Fabric and CA, but no idemix. The java-sdk supports idemix, but the node-sdk does not (as of Oct 2019). The node-sdk has integrations tests with Fabric and generates its own crypto. We plan to add idemix to the end2end integration test in java-sdk, and include it in interop tests (refer to FAB-15967).",,btl5037,scottz,,,,,,,,,,,,,,,,,FAB-15749,,,,,,,,,,,,,,,FAB-16719,FAB-15967,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rbc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/19 12:18 AM;scottz;I view this work as having 2 parts.  (1) identify or add tests to the SDKs Integration tests to cover the test scenarios, and (2) spin off another task to include these tests in the new interop test job in the new CI pipeline when it is established at some future date.;;;","04/Oct/19 12:53 AM;scottz;Note: only the java-sdk supports idemix today in v2.0.;;;","11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation flow: Utilize tx processors based on transaction type,FAB-16023,41305,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,manish-sethi,caod,caod,19/Jul/19 1:47 AM,09/Nov/20 11:21 PM,28/Oct/23 3:08 AM,,,,,,,v2.1.0,,,,,,,,,0,,,,,"Determine which tx processor to use based on tx header and capabilities check. Config tx processor already exists, we'll need to refactor this to implement the new TxProcessor interface proposed in [https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit#]

We probably want to create a new package `txprocessors` that contains the tx processor implementations for config and endorser transactions and any new tx processors we may support in the future (ie token)",,caod,yoheiueda,,,,,,,,,,,,,,,,,FAB-16025,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyyi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation flow: refactor gossip/coordinator,FAB-16024,41306,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,caod,caod,caod,19/Jul/19 1:56 AM,25/Nov/20 6:04 AM,28/Oct/23 3:08 AM,,v2.1.0,,,,,,,,,,,,,,0,,,,,"Currently the coordinator forms the block, passes it to the txvalidator, receives it back, stores it and then passes it off to CommitWithPvtData which runs through the kvledger validation/commit flow (mvcc validation, etc). Following the proposed refactor in [https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit#] the coordinator should move private data collection to the new dependencies PrivateDataProvider and consolidate logic to pass the block once to Commit instead of CommitWithPrvData. This work also includes implementing the BlockProcessor that creates a TxProcessor instance per tx from the TxProcessorFactory",,caod,troyronda,yoheiueda,,,,,,,,,,,,,,,,FAB-16025,FAB-16026,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyw9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,troyronda,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 2:19 AM;caod;We need to maintain the existing code path, so CommitWithPvtData can't completely be removed but we probably want to rename it to `CommitLegacy` or something along those lines;;;","10/Sep/19 12:38 AM;caod;Pausing work on this as it will likely go into 2.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create new ledger interfaces for proposed validation refactor,FAB-16025,41307,40757,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,caod,caod,19/Jul/19 1:59 AM,23/Jul/19 11:23 PM,28/Oct/23 3:08 AM,23/Jul/19 11:23 PM,v2.0.0,,,,,,,,,,,,,,0,,,,,See [https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit#] and proposed interfaces from [https://gerrit.hyperledger.org/r/c/fabric/+/29132],,caod,,,,,,,,,,,,,,,,,,,,,,FAB-16023,FAB-16024,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uho:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jul/19 11:23 PM;caod;Duplicate of https://jira.hyperledger.org/browse/FAB-16043;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation flow: Implement PrivateDataProvider,FAB-16026,41308,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,19/Jul/19 2:09 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,02/Oct/19 3:28 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,"From [https://docs.google.com/document/d/1BBVA8u-GJ99ZYRT015PAnMVK4_pKv53Y-kiP9lZX8Gc/edit#] we propose passing in a new `TxProcessorFactory`, `PrivateDataProvider`, and `ChannelConfigProvider` to the ledger initializer. Much of the logic for the implementation of PrivateDataProvider will come directly from the existing logic in gossip coordinator's StoreBlock",,caod,yoheiueda,,,,,,,,,,,,,,,,,,,,,FAB-16024,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqfn:s",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,yoheiueda,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback ledger to genesis block on one channel while traffic is running in the network,FAB-16027,41309,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,19/Jul/19 2:44 AM,09/Aug/19 10:55 PM,28/Oct/23 3:08 AM,31/Jul/19 5:26 AM,,,,,,v1.4.2,,,,fabric-quality,,,,,0,,,,,"Rollback ledger to genesis block on one channel while traffic is running in the network

*Steps:*
 # Launch a fabric network with 2 orderers(1 ordererorg) and 2 peers(1 org)
 # Create 1 channel, join peer to channel, install and instantiate chaincode and start sending the traffic
 # After some time, take down the peer2 while traffic is running
 # Launch fabric tools container with peer node rollback -c <channel name> -b 0
 # After rolling back to 0, delete the fabric-tools pod and re-launch the peer2

*Observations:*
 # Peer2 will starts pulling the blocks from the block 1",,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uhw:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jul/19 3:16 AM;bharadwajambati1;Executed the test by following the steps mentioned in the above description and observed the results. The second peer started pulling the blocks from block1.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback: Reset all channels (2 channels) to genesis block for a peer in fabric network while traffic  is running,FAB-16028,41310,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,19/Jul/19 2:47 AM,10/Jan/20 8:46 AM,28/Oct/23 3:08 AM,31/Jul/19 5:26 AM,,,,,,v1.4.2,,,,fabric-quality,,,,,0,,,,,"Rollback: Reset all channels (2 channels) to genesis block for a peer in fabric network while traffic is running

 

*Steps:*
 # Launch a fabric network with 2 orderers(1 ordererorg), 2 peers(1 org) and CouchDB as database
 # Create 2 channels, join peers to both the channels, install and instantiate chaincode and start sending the traffic
 # After some time, take down the network
 # Launch fabric tools container with peer node reset
 # It will reset to the genesis block by removing all the blocks in the peer2 ledger
 # Delete the fabric-tools pod and relaunch the network

*Observations:*
 # Peer2 will starts pulling the blocks starting from block 1 in both the channels",,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17365,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00ui4:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 5:28 AM;bharadwajambati1;Executed the test by following the steps mentioned in the above description and observed the results. The second peer started pulling the blocks from block1 in both the application channels.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback: Rollback ledger on one peer with couchdb while traffic is running,FAB-16029,41311,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,19/Jul/19 2:56 AM,31/Jul/19 5:26 AM,28/Oct/23 3:08 AM,31/Jul/19 5:26 AM,,,,,,v1.4.2,,,,fabric-quality,,,,,0,,,,,"Rollback: Rollback ledger on one peer with CouchDB while traffic is running
 *Steps:*
 # Launch a fabric network with 2 orderers(1 ordererorg), 2 peers(1 org) and CouchDB as database
 # Create 1 channel, join peer to channel, install and instantiate chaincode and start sending the traffic
 # After some time, take down the peer2 while traffic is running
 # Launch fabric tools container with peer node rollback -c <channel name> -b 10
 # After rolling back to 10, delete the fabric-tools pod and re-launch the peer2

*Observations:*
 # Peer2 will starts pulling the blocks from the block 11",,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uic:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 3:20 AM;bharadwajambati1;Executed the test by following the steps mentioned in the above description and observed the results. The second peer started pulling the blocks from block11.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback: Rollback ledger of a peer while fabric components are stopped,FAB-16030,41312,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,19/Jul/19 2:58 AM,31/Jul/19 4:27 AM,28/Oct/23 3:08 AM,31/Jul/19 4:27 AM,,,,,,v1.4.3,,,,fabric-quality,,,,,0,,,,,Rollback: Rollback ledger of a peer while fabric components are stopped,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uik:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback: Rollback ledger of a peer with couchdb while fabric components are stopped,FAB-16031,41313,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,19/Jul/19 2:58 AM,31/Jul/19 4:27 AM,28/Oct/23 3:08 AM,31/Jul/19 4:27 AM,,,,,,v1.4.3,,,,fabric-quality,,,,,0,,,,,Rollback: Rollback ledger of a peer with couchdb while fabric components are stopped,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uis:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback: Rollback ledger of a peer for large number of blocks while traffic is running in the fabric network,FAB-16032,41314,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,19/Jul/19 3:00 AM,10/Jan/20 8:45 AM,28/Oct/23 3:08 AM,01/Aug/19 12:28 PM,,,,,,v1.4.2,,,,fabric-quality,,,,,0,,,,,Rollback: Rollback ledger of a peer for large number of blocks while traffic is running to accumulate 500000 transactions in the fabric network,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16021,,,FAB-16159,FAB-17364,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uj0:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Incorrect ""Channel_artifact"" directory location details in build_network.html",FAB-16033,41315,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,19/Jul/19 3:15 AM,14/Feb/20 7:47 AM,28/Oct/23 3:08 AM,23/Jan/20 9:55 PM,v1.4.2,,,,,v1.4.5,v2.0.0,,,fabric-docs,,,,,0,,,,,"Observed Incorrect ""channel_artifacts"" directory location details are mentioned in https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html

See the below content from the above link

The orderer genesis block and the subsequent artifacts we are about to create will be output into the *channel-artifacts directory at the root of this project*. The channelID in the above command is the name of the system channel.

But in real, the channel-artifact directory creates under root of the first-network directory.",,denyeart,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uj8:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,rameshthoomu,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,release-2.0,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 5:04 AM;denyeart;[~rameshthoomu] When you find small edits in the doc like this, I'd suggest it is easier to just push a fix yourself rather than leave some debt in Jira.;;;","23/Jan/20 4:20 AM;rameshthoomu;https://github.com/hyperledger/fabric/pull/535;;;","23/Jan/20 9:55 PM;mastersingh24;[https://github.com/hyperledger/fabric/pull/536|https://github.com/hyperledger/fabric/pull/537]

[https://github.com/hyperledger/fabric/pull/537];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create QueryChaincodeDefinitions function,FAB-16034,41316,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,19/Jul/19 3:53 AM,26/Jul/19 12:33 AM,28/Oct/23 3:08 AM,25/Jul/19 4:57 AM,,,,,,,,,,,,,,,0,,,,,_lifecycle should have a function to return all of the committed chaincode definitions on a channel.,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ujg:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Jul/19 11:54 PM;wlahti;Ale left a comment here before merging as-is: [https://gerrit.hyperledger.org/r/c/fabric/+/32396/14/core/chaincode/lifecycle/lifecycle.go#245]

I've pushed a CR to gerrit address this poor design that went in on my part. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a peer admin, I need a way to pause/resume a channel",FAB-16035,41318,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,wenjian,jyellick,jyellick,19/Jul/19 5:12 AM,17/Jun/21 9:28 PM,28/Oct/23 3:08 AM,04/Oct/19 4:55 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"*Background*

For a peer which is joined to a channel, if the peer's org is evicted from the channel (and cannot receive blocks), the peer will spend resources and spam log messages attempting to pull blocks from that channel forever.

*Objective*

Similar to the peer reset command, it would be very nice to add an option to simply delete the channel blockchain on the org's peer, effectively 'unjoin'ing the channel.

*Proposal*

When a peer is unjoined from a channel, ideally all the ledger data for the channel should be deleted from the peer. However, because a single instance of golevelDB is used for each store (except for blockstore), it is not feasible to delete ledger data at a per-channel basis.  Therefore we propose the following design:


Add a “peer node unjoin -c <channelID>” command (peer must be stopped).
The unjoin command will:

* tag the channel as ""unjoined"" in the peer's ledgerProvider database so that the channel does not get initialized upon next peer start.
* delete the channel's blockstore from the peer's /chains directory

Note that the channel data will not get deleted from the other internal cross-channel data stores. It will be orphaned (unreferenced from peer).

Once tagged as ""unjoined"", the peer will not be able to re-join the channel (since there is orphaned data for that channel).

If a peer administrator wants to completely delete the channel data from the internal cross-channel data stores, or wants to rejoin the peer to the channel, they can do a ""peer node reset"" which truncates all channels to genesis block and deletes the internal cross-channel data stores. As of this proposal it will also remove any channels tagged as ""unjoined"" in ledgerProvider database. Upon next peer restart, the peer will automatically pull blocks and rebuild the internal cross-channel data stores for the remaining joined channels.
 

*Future enhancement:*

Once ledger has truly per-channel databases in a future release, it will be possible for the unjoin command to immediately delete all data for the channel.",,baohua,denyeart,jyellick,manish-sethi,mplisov,Senthil1,wenjian,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15712,FAB-11334,,FAB-17801,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008rj:iwy5",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,jyellick,manish-sethi,mplisov,Senthil1,wenjian,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Jul/19 7:43 AM;manish-sethi;Makes sense to me and in fact, this should be far more simpler than reset/rollback.;;;","23/Aug/19 11:29 PM;manish-sethi;Deleting the blockfiles but not deleting the other data does not sound good to me. 

For deleting the data, we can either drop the dbs and they will get rebuilt for other channels or delete the range of the keys explicitly for the channel. For private data store, we would anyways have to adopt the latter approach. Most of the KV stores expose a delete-range operation but unfortunately I don't think leveldb offers this so, it would be explicitly reading the range and deleting it. (Which scheme should be resort to would ideally be weighed based on some estimated relative cost)

I think that the choice we should make is whether to delete the entire data for the channel or not. In other words, whether the user wants to `pause` the channel or `unjoin` the channel. 

From implementation point of view, we can implement the data delete for a channel as an independent function that can be invoked in the case of `unjoin` but not in the case of `pause`. For the first cut, we may choose not to expose `pause` operation but we can design such that if someone needs in the future, it would be easy to do so.;;;","23/Aug/19 11:45 PM;Senthil1;I think that it may not be good to link data delete and channel unjoin. When a peer decides to unjoin a channel, doesn't it mean that the peer is no longer interested in performing transactions & commit blocks in this channel but still want to retain the blockchain (which is a source of truth for all transactions it did so far)? 

If the organization wants to take a backup of the blockchain, it can do so and call _peer channel delete_ later when it no longer needs the data to be resided on the peer. 

We need to be more clear and explicit with the deletion of data. If _peer channel unjoin_ also deletes the data, it might create more confusion IMO.;;;","23/Aug/19 11:53 PM;denyeart;[~manish-sethi]
I agree in an ideal world we would not delete blockfiles without deleting the data from the other cross-channel data stores.
We definitely don't want to force a rebuild of all channels upon unjoin of a single channel.
I was hesitant to invest in code that deletes from each of the cross-channel data stores, when we expect an upcoming release will support separate databases per channel, thereby making the delete from most of the data stores trivial. This would therefore be short-lived code that we don't want to invest a lot of time in getting it right.  I'm remembering the rollback discussion where we thought it would be trivial to implement but ended up taking much longer than expected to get it completely right. I therefore preferred to keep it as simple as possible in the short term, so that we could get to the ultimate goal of per-channel databases sooner than later.;;;","24/Aug/19 12:03 AM;denyeart;Considering Senthil's post, I would agree that unjoin could be done simply without deleting the blockstore data.  This would also allow for a simple rejoin. We could then defer further discussion of delete until after Fabric has per-channel data stores.
In the interim, users that know they will never rejoin could delete the chain data themselves. And if they want to clear the data from the other cross-channel data stores, they could do the reset. I am most keen to avoid implementing the short-lived code that deletes piecemeal from the cross-channel data stores.;;;","24/Aug/19 12:09 AM;manish-sethi;Yes, this matches with what I mentioned as `pause` channel. We can certainly have a single operation with this behaviour and call this `unjoin`.
;;;","24/Aug/19 12:11 AM;Senthil1;+1;;;","24/Aug/19 12:40 AM;wenjian;If unjoin is treated as ""pause"" channel, we may have to rollback the ""paused"" channel. Otherwise, there may be a risk of fork when the peer is rejoined. For example, consider a peer was unjoined when the block height was 10. Then the channel ledger was rolled back to block 5. If the peer is rejoined to the channel later, will there be a fork if rollback didn't rollback the ""paused"" channel?;;;","28/Aug/19 12:09 AM;jyellick;I'm not strictly opposed to a pause operation, but semantically, it's a bit confusing to me if we claim ""pause + reset == delete"".

There's also some additional complexity as Wenjian points out, around what operations like rollback mean in the context of a paused channel.

I'd also like to point out that the user requests have been consistently to unjoin/delete, I've not run across anyone asking to pause, or to retain the data.  It's a fairly trivial thing for a user to backup the ledger before 'unjoin', if they're concerned about data loss.  My concern is that we're actually addressing the requirement here.;;;","28/Aug/19 2:55 AM;manish-sethi;There is no such claim that ""pause + reset == delete"". (pause + reset) still leave the channel in the paused state at genesis block height. Also, I don't see any additional complexity around operations like reset/rollback. They should work irrespective of the state of the channel.

As I mentioned before that in the case of unjoin/delete (instead of pause) better to delete entire data explicitly. From implementation point of view, pause is much simpler and unjoin needs additional code for cleaning up data.

However, the semantics are clear for both pause and unjoin. For instance, for a 'paused' channel, one would simply 'resume'  and for 'unjoin' I would join again with the genesis block as input. We need to make a call to pick one operation to start with balancing the implementation simplicity vs user requests. I am fine with the latter, if there is enough voices/weight in the user requests.;;;","28/Aug/19 4:09 AM;denyeart;[~jyellick] Due to memory management in leveldb, it was not possible to have a database per channel. It had to be implemented as a peer-level database with channel-based keys to segregate channel namespaces. And actually there is not one leveldb database, but 6 (chain indexes, state, history, config, pvtdata, bookkeeper). Therefore full delete of thousands of channel blocks across 6 data stores while not impacting other channels becomes a major development work item. Combine this with the fact that per-channel databases (with trivial per-channel drop) will be investigated as part of checkpoint for the next ledger architecture, it becomes difficult to justify a large investment in delete at current time.

I see three options:
1) Do nothing
2) Support pause/resume (resolves the opening concern mentioned in this jira - ""peer will spend resources and spam log messages attempting to pull blocks from that channel forever"")
3) Support unjoin with full delete (resolves the above concern plus delete).

1) is no investment and no benefit.
2) is low investment while resolving the opening concern, where the delete could be layered on top later (hopefully much more simply). Additionally, temporarily pausing a peer's channel has some merit on its own as a feature (e.g. support channel maintenance windows)
3) is high investment (further delaying the ultimate checkpoint priority) with full benefit, and may need to be re-implemented after checkpoint.

The current proposal is #2.  If you want to argue for the more time-consuming #3 we can have that debate, but be aware of the impacts.

I wouldn't get too caught up in the comments about reset or manually deleting block files. Those were mentioned as short term user workarounds only, until the ultimate delete solution is implemented.;;;","28/Aug/19 4:57 AM;jyellick;I'm a bit confused why (3) is so much additional work.  To implement efficiently, perhaps, but otherwise, it's a simple matter of... delete ledger provider info, delete blockstore, drop indexes, drop state, drop history (and for all channels but the deleted one, we re-pull and re-process blocks).  The only tricky one would seem to be private data, though presumably, this is already handled in some capacity via reset.

This is where I got my ""pause + reset == delete"" statement, because it feels like, if we simply said ""and on reset, we delete any paused channels in the ledgerprovider"", then we've basically got delete semantics.

That all said, if we can pause, reset, and paused channels simply stay paused, I think it gets us 90% of the way there.  It still strikes me as odd that when a user says ""I want to delete a channel on my peer"", we say ""You can't, but, you can pause it, and reset its state back to genesis so that it doesn't consume resources"".  But, if that is the technical limitation, so be it.;;;","28/Aug/19 7:25 AM;denyeart;Peer reset/rollback/rebuild should not be taken lightly... they impact all channels, require significant maintenance windows, and are intended to be used as a last resort when peer data integrity is in doubt.  Adding new variations to support single channel unjoin would further complicate things...system test alone has proven to be quite expensive when you consider the various data stores, large volumes of data, and all the things that could go wrong during the data store manipulations.

The piecemeal partial delete within the cross-channel data stores brings similar complications.

I agree channel delete is important, I'm only suggesting that it be designed in combination with the future per-channel data store thoughts, with an eye towards simplification, rather than designed/implemented/tested twice.  In the interim, the channel pause/resume function is a simple addition, useful in its own right, and resolves the opening concern mentioned in this jira.;;;","28/Aug/19 11:59 AM;jyellick;I'm fine with the pause solution proposed above if the ledger team feels it's the best solution technically.

I do want to ensure my understanding is correct though:
 # We will add the ability to pause/unpause channels. When a channel is paused, we will not start the resources necessary to process new blocks for that channel or process requests for that channel.
 # We will support performing a 'peer node reset' while some channels are paused. In this case, they will be regressed to the genesis block, with no additional block data, no state data, no history data, etc.

If someone absolutely insisted ""I want to free up the space consumed by a particular channel, and I am fine taking a maintenance window to do so"", then we could tell them that they may pause the channel, and perform a reset. This will remove all data except for genesis block.;;;","28/Aug/19 5:42 PM;denyeart;[~jyellick] Correct, that's the current proposal.

I'll also note that wherever we say 'reset' above, 'rollback' can also be done.
So you could pause then rollback a channel to genesis block.
Or rollback a channel to genesis block and pause before restarting the peer.
This would limit the negative impact to other channels to rebuilding databases only (rather than re-pulling and re-processing blocks).
Again, this is intended to be an interim position until such time that the databases are well structured to support a true 'unjoin/delete' channel without side effects.
;;;","29/Aug/19 1:44 AM;denyeart;This work item will initially target master branch. If the code turns out to be fairly minimal, we can then discuss whether it makes sense to backport to release-1.4.;;;","31/Aug/19 3:05 AM;wenjian;CR 1 (upgrade format): [https://gerrit.hyperledger.org/r/#/c/fabric/+/33300/]

CR 2 (pause/resume): [https://gerrit.hyperledger.org/r/#/c/fabric/+/33270/]

CR 2 (skip preResetHeight): [https://gerrit.hyperledger.org/r/#/c/fabric/+/33296/] ;;;","24/Sep/19 3:46 AM;baohua;[~jyellick], [~wenjian], this is a good work.

besides, would the ""peer channel leave"" sound better than ""peer channel unjoin""?

Thanks!;;;","04/Oct/19 5:10 AM;wenjian;[~baohua] 

The actual commands are ""peer node pause"" and ""peer node resume"".
 * When a channel is paused on a peer, the peer will not start the resources necessary to process new blocks for the channel and will not receive any new block for the channel
 * When a channel is resumed on a peer, the peer will start the resources necessary to process new blocks for the channel and receive all the missing blocks
 * To free up ledger space from a paused channel, a user can rollback the channel to genesis block.

You can see previous comments for details.

 ;;;","04/Oct/19 7:21 AM;baohua;[~wenjian]

Seems they are for different purposes.

""pause/resume"" is for a peer within a channel to control its own behavior, while a ""leave"" means that the peer will not participant the channel's activity any more.;;;","20/Nov/20 8:50 AM;denyeart;This story implemented pause/resume behavior.
A future story for full unjoin is planned in FAB-17801.;;;",,,,,,,,,,,,,,,
testAPI.sh will fail to get a query by transaction id,FAB-16036,41324,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,19/Jul/19 7:01 PM,08/Aug/19 9:06 AM,28/Oct/23 3:08 AM,08/Aug/19 9:06 AM,v1.4.2,,,,,v1.4.3,,,,fabric-samples,,,,,0,quality,,,,"I tried to test fabric-samples using testAPI.sh, I got following error message.
{code:java}
...
GET query Transaction by TransactionID

<!DOCTYPE html>
<html lang=""en"">
<head>
<meta charset=""utf-8"">
<title>Error</title>
</head>
<body>
<pre>Cannot GET /channels/mychannel/transactions/</pre>
</body>
</html>
...
{code}

testAPI.sh tries to get a transaction id using parameter expansion from MESSAGE variable.
But the transaction id includes a space at the beginning. And the transaction id is used
as a part of URL to query transaction. Therefore testAPI.sh will fail at get a query.",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ul0:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove fabric dependencies from shim/ext packages,FAB-16037,41327,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,19/Jul/19 9:24 PM,20/Aug/19 6:57 AM,28/Oct/23 3:08 AM,20/Aug/19 6:57 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"As a consumer of the entities package, I want to avoid dependencies fabric packages and 
their transitive dependencies.



*go list -f '{{join .Deps ""\n""}}' ./core/chaincode/shim/ext/entities/... | sort -u* drags in

{code}
github.com/hyperledger/fabric/bccsp
github.com/hyperledger/fabric/bccsp/factory
github.com/hyperledger/fabric/bccsp/sw
github.com/hyperledger/fabric/bccsp/utils
github.com/hyperledger/fabric/common/flogging
github.com/hyperledger/fabric/common/flogging/fabenc
{code}

",,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15950,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r39",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/19 7:33 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32728 FAB-16037 replace mock reference to common/util;;;","06/Aug/19 7:39 AM;sykesm;I believe this is the last thing that needs to be removed from the production shim packages. There do appear to be two test dependencies on fabric code and some on testify and gomega:

$ go list -f '{{ join .TestImports ""\n"" }}' ./... | sort -u | grep fabric
github.com/hyperledger/fabric/common/mocks/peer
github.com/hyperledger/fabric/common/util
github.com/hyperledger/fabric/core/chaincode/shim
github.com/hyperledger/fabric/core/chaincode/shim/shimtest/mock
github.com/hyperledger/fabric/protos/common
github.com/hyperledger/fabric/protos/ledger/queryresult
github.com/hyperledger/fabric/protos/peer
github.com/hyperledger/fabric/vendor/github.com/gogo/protobuf/proto
github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes
github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes/timestamp
github.com/hyperledger/fabric/vendor/github.com/onsi/gomega
github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/assert

I think we're probably okay on testify but we may want to reconsider if we want a dep on gomega.
;;;","06/Aug/19 8:02 AM;sykesm;Looks like the last one is common/mocks/peer. I've been wanting to kill that one for a very, very long time but it's painful. I guess we can discuss tomorrow since I don't want to take away all of your fun.

remote: New Changes:
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32729 FAB-16037 remove gomega test dep in chaincode shim
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32730 FAB-16037 remove common/util refs in shim tests;;;","19/Aug/19 11:07 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32973;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent failure in internal/peer/lifecycle/chaincode UT,FAB-16038,41328,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,19/Jul/19 10:03 PM,23/Jul/19 2:11 AM,28/Oct/23 3:08 AM,23/Jul/19 2:11 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ci-flake,,,,"{code:java}
00:26:19 ------------------------------
00:26:19 • Failure [0.013 seconds]
00:26:19 Commit
00:26:19 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/internal/peer/lifecycle/chaincode/commit_test.go:25
00:26:19   Committer
00:26:19   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/internal/peer/lifecycle/chaincode/commit_test.go:26
00:26:19     when the wait for event flag is enabled and the client can't connect
00:26:19     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/internal/peer/lifecycle/chaincode/commit_test.go:266
00:26:19       returns an error [It]
00:26:19       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/internal/peer/lifecycle/chaincode/commit_test.go:275
00:26:19 
00:26:19       Expected
00:26:19           <string>: ""timed ...""
00:26:19       to equal       |
00:26:19           <string>: ""failed...""
00:26:19 
00:26:19       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/internal/peer/lifecycle/chaincode/commit_test.go:278
00:26:19 ------------------------------ {code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ulw:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Failed to load ledger , while running peer node reset",FAB-16040,41332,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,bharadwajambati1,bharadwajambati1,19/Jul/19 10:34 PM,20/Aug/19 12:16 AM,28/Oct/23 3:08 AM,20/Aug/19 12:15 AM,v1.4.2,,,,,v1.4.3,,,,fabric-ledger,,,,,0,,,,,"*Summary:*  Failed to load ledger error, while running the peer node reset

*Steps:*
 # Create a network with 2orderers(1 ordererorg) and 2 peers(1 org) each with data persistence enabled
 # Create a channel(testorgschannel0), join both peers, install and instantiate samplecc
 # Start sending traffic of 10000 transactions.
 # When the block number reaches to 300, take down the peer2(traffic is running)
 # Launch fabric tools container with peer node reset
 # After the reset is done, take down the fabric tools container and relaunch the peer2

 

*Observed:* 

 
{code:java}
[peer] Initialize -> ERRO 021 Failed to load ledger testorgschannel0(This is not expected. blockStoreHeight=1, pvtdataStoreHeight=10474)
{code}
This error is occurring randomly. It's working properly sometimes and getting failed sometimes.

Below are logs attached for both the cases of success and failure

 ",,bharadwajambati1,denyeart,manish-sethi,scottz,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Jul/19 3:56 AM;bharadwajambati1;failure_reset.txt;https://jira.hyperledger.org/secure/attachment/17615/failure_reset.txt","20/Jul/19 3:56 AM;bharadwajambati1;success_reset.txt;https://jira.hyperledger.org/secure/attachment/17616/success_reset.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwr6z:zzd",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,denyeart,manish-sethi,scottz,ymlbright,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jul/19 12:02 AM;denyeart;The issue happens if the peer crashes in the small time window between committing block and block private data. Normal peer recovery handles this scenario, but the scenario needs to be handled when combined with reset/rollback.;;;","30/Jul/19 12:07 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/32449/;;;","20/Aug/19 12:16 AM;denyeart;Also fixed as part of larger refactor in master (v2.0) in different CRs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add metrics scraping in network launcher with prometheus,FAB-16041,41335,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,20/Jul/19 12:27 AM,31/Jul/19 3:38 AM,28/Oct/23 3:08 AM,31/Jul/19 3:38 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add metrics scraping in network launcher with prometheus,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzwqrk:8",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"25/Jul/19 4:13 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32480/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI: add QueryChaincodeDefinitions functionality,FAB-16042,41336,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,20/Jul/19 4:45 AM,25/Jul/19 5:22 AM,28/Oct/23 3:08 AM,25/Jul/19 5:22 AM,,,,,,,,,,,,,,,0,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00un0:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation flow: Define new types and interfaces for validatation refactoring,FAB-16043,41344,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,22/Jul/19 10:56 AM,17/Aug/19 10:02 PM,28/Oct/23 3:08 AM,17/Aug/19 10:02 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,Define new types and interfaces to match the new validation flow proposed in the FAB-12221 design document.,,denyeart,manish-sethi,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzyj98:",,,,Unset,Unset,Next Items- Ledger,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,yoheiueda,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Aug/19 10:55 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/fabric/+/32804/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode install document does not show how to install in cds format,FAB-16044,41352,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,High,,,tongliofcary,tongliofcary,22/Jul/19 11:30 PM,22/Jul/19 11:31 PM,28/Oct/23 3:08 AM,,,,,,,,,,,,,,,,0,,,,,chaincode could be install using either source format or cds format. The current document only shows parameters how to install chaincode in source code format. how to install chaincode in cds format is missing. Please add the options or parameters should be used when install chaincode in cds format,,tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00upw:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tongliofcary,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run PTE and associated scripts on mac OS env,FAB-16045,41354,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,22/Jul/19 11:38 PM,22/Jan/20 6:24 AM,28/Oct/23 3:08 AM,22/Jan/20 6:24 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"run PTE and its associated scripts, such as gen_cfgInputs.sh, on MAC OS env",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00whf:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/20 6:24 AM;scottz;Most of those scripts are being sunset. This is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to instantiate chaincode using the CLI with a policy requiring multiple orgs",FAB-16046,41356,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mastersingh24,mastersingh24,22/Jul/19 11:57 PM,21/Aug/19 5:08 AM,28/Oct/23 3:08 AM,21/Aug/19 5:08 AM,,,,,,,,,,fabric-cli,,,,,0,ipm,,,,"
{code:java}
peer chaincode instantiate 
{code}
does not support the {{--peerAddresses}} flag which is needed when using instantiation policies which require more than one org.",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8863,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i00uls:",,,,No,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jul/19 11:58 PM;mastersingh24;not sure we should do this given the new lifecycle, but might be something to included in another 1.4.x release;;;","21/Aug/19 5:08 AM;denyeart;I thought instantiation policy in v1.4.x could only specify a single org.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update PTE QueryBlock function to read the block info from each peer,FAB-16047,41359,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,23/Jul/19 5:03 AM,22/Jan/20 8:42 AM,28/Oct/23 3:08 AM,22/Jan/20 8:42 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Existing PTE ""QueryBlock"" function reads the query ""block height"" and transactions from each peer and display the info. In the proposed task, PTE script has to read the block information from each peer and verify the same across all the peers and display whether the test is passed or not.",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16072,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5izw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/20 8:42 AM;scottz;Rather than adding this piece to PTE, testers can use the new action ""*networkInSync*"" (being added with FAB-17305 [https://github.com/hyperledger/fabric-test/pull/41]) in the operator to fetch the blocks from all the orderers and query all the peers to make sure they are equal.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reflect in Fabric Documentation a vHSM based Key Management option,FAB-16048,41367,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ChristopherFerris,RebeccaAspler,RebeccaAspler,23/Jul/19 10:32 PM,09/Dec/19 11:41 PM,28/Oct/23 3:08 AM,,,,,,,,,,,,,,,,0,HSM,vHSM,,,"Would appreciate your feedback on the below:
 * The documentation of Hyperledger Fabric currently exemplifies the possible key management tools as HSM only, while there are various tools out there.
 * Promoting a vendor agnostic and technology agnostic approach, I would like to incorporate a pointer to MPC based vHSM technology as well.
 * Being fully transparent, Unbound Tech, of which I'm an employee, has such a (FIPS 140 L2 certified) vHSM product. However, the vendor name would *not* be promoted. Just the fact that there are various, certified, ways to protect keys.

----------------

Example places in the documentation where HSM is mentioned:
 * [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/wallet.html?highlight=hsm]
 * [https://hyperledger-fabric.readthedocs.io/en/release-1.4/tutorial/commercial_paper.html?highlight=hsm]
 * [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/connectionoptions.html?highlight=hsm]

 ",,mastersingh24,PhilAmericus,RebeccaAspler,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00usc:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,PhilAmericus,RebeccaAspler,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/19 6:19 PM;mastersingh24;[~RebeccaAspler]
To be clear, the docs list things that Fabric supports out of the box ... not what *might* be possible.  That being said, technically we should be talking about PKCS11 rather than ""HSM"" as what Fabric really supports is the use of PKCS11 compliant crypto modules.

Do you have some suggested text you'd like to use?;;;","30/Oct/19 8:47 PM;PhilAmericus;Here are some suggested edits:

For [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/wallet.html?highlight=hsm]
 - Change the diagram to have a ""HSM/vHSM"" block
 - Change the HSM description to:
 - (virtual) Hardware Security Module: A wallet stored in an HSM or vHSM. An HSM is an ultra-secure, tamper-proof device that stores digital identity information, particularly private keys. HSMs can be locally attached to your computer or network accessible. Most HSMs provide the ability to perform on-board encryption with private keys, such that the private key never leave the HSM. A vHSM is software that provides that same ultra-secure environment as an HSM, but has the flexibility of software to provide enhancements and updates without hardware changes.

Other locations should change HSM to ""HSM/vHSM"" or to ""(virtual) Hardware Security Module"".
 Ex:

[https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/connectionoptions.html?highlight=hsm]
 [https://hyperledger-fabric.readthedocs.io/en/release-1.4/tutorial/commercial_paper.html?highlight=hsm];;;","09/Dec/19 11:41 PM;PhilAmericus;[~ChristopherFerris], [~mastersingh24] - what's the next step here?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave orderer.feature test of TX with multiple key-value pairs,FAB-16049,41369,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,scottz,scottz,23/Jul/19 11:37 PM,11/Oct/19 9:04 AM,28/Oct/23 3:08 AM,11/Oct/19 9:04 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage  for Item 75 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test resides in https://github.com/hyperledger/fabric-test/blob/master/feature/orderer.feature:

{quote}orderer.feature:Scenario Outline: FAB-3857: <count> key/value pairs in Payloads{quote}    

By providing multiple key/value pairs provided as args of an invoke (put) TX, the fabric-test/chaincodes/mapkeys cc can call PutState multiple times, once per each pair of args, within 1 transaction. This test ensures fabric handles all the pairs.

There is no copy or version of the ""fabric-test/chaincodes/mapkeys"" chaincode anywhere in the fabric repo, and could not find any other test that sets multiple key-value pairs within a single transaction.

A feasible way to do this is to clean up and add mapkeys to fabric/chaincodes/, and add a similar test somewhere - possibly in fabric/core/chaincode/shim/.


IN ADDITION, to easily cover another Behave test FAB-3855, in fabric-test/feature/peer.feature, extend this test being implemented that uses mapkeys chaincode with multiple key/value pairs of args; for one of those key/value pairs, just pass a _value_ arg with emptystring """".
",,scottz,,,,,,,,,,,,,,,,,,FAB-15751,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqrk:5j9i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Extended Unit Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Oct/19 2:33 AM;scottz;The example02 init function sets both 'a' and 'b' values, so that is a simple usecase of setting multiple key-value pairs. That is used by BYFN, but I could not find it anywhere inside fabric integration tests, however. So, we can search for a UT testcase that I missed, which initializes multiple values in one transaction; but if we cannot find one then we still should cover that testgap in the fabric repositoryt tests (add to either UT or IT). 

Note: Once the ""init"" function is no longer available, chaincode writers will have to create a version of an ""add or insert"" function to handle bulk-adds if they want to add multiple key-value pairs in one transaction.

The second scenario mentioned (to cover FAB-3857), to pass an empty string, is also something that is not covered elsewhere; it was tested manually, but I am open to reconsidering whether or not that is necessary to automate.;;;","11/Oct/19 9:02 AM;scottz;The simple cc used by nwo integration tests does in fact use an init function with two key-value pairs, i.e.,  ""init"",""a"",""100"",""b"",""200"". I think we can close this task, as there is not much we can do of much value. Later when the init function goes away, the existing code will have to be rewritten anyways to add a list of key-value pairs with a single transaction using function such as ""addpairs"".;;;","11/Oct/19 9:04 AM;scottz;This is partially implemented already. Not much more we can do, and not worth adding another test for an empty string value.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave peer.feature test using old cc version after upgrade,FAB-16050,41372,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,scottz,scottz,24/Jul/19 3:16 AM,10/Aug/19 5:13 AM,28/Oct/23 3:08 AM,10/Aug/19 12:36 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage of item 90 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test at https://github.com/hyperledger/fabric-test/blob/master/feature/peer.feature, which is being deprecated, does the following:

peer.feature:Scenario: FAB-8759: Test querying a peer with two different versions of chaincode - values change

Values changed during upgrade when the ""init"" function was applied. Thus, querying with old cc version (as well as querying with newer cc version) succeeds returning newer init value. (Note: do not change cc APIs (just the version), so client test code can use same query function). HOWEVER, I think the testcase is flawed, as we cannot specify an older chaincode version when doing a query. A similar but accurate testcase might be to verify that a query fails on a peer that has not yet installed the newer version of the chaincode which was upgraded. The error will be something like

* Error: endorsement failure during query. response: status:500 message:""cannot retrieve package for chaincode mychaincode/3, error open /var/hyperledger/production/chaincodes/mychaincode.3: no such file or directory"" 

There are cc upgrades performed in fabric/integration/discovery/ and fabric/integration/pvtdata/ and integration/e2e/lifecycle, but no attempt was made to use the old version of cc afterwards. We suggest adding to chaincode tests in fabric/integration/e2e/lifecycle.",,scottz,,,,,,,,,,,,,,,,,,FAB-15752,,,,,,,,,,,,,,,FAB-16265,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqrk:5jr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Aug/19 12:36 AM;scottz;This test was disabled already. Dave says this cannot be done, and is invalid testcase.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MSP Identity Principal does not deserialize correctly.,FAB-16051,41373,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,24/Jul/19 5:45 AM,02/Aug/19 1:37 AM,28/Oct/23 3:08 AM,02/Aug/19 1:37 AM,,,,,,v1.4.3,v2.0.0,,,fabric-tools,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uto:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Upgrade in release-1.3 is expecting 4 args.,FAB-16052,41375,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,joe-alewine,rameshthoomu,rameshthoomu,24/Jul/19 8:40 AM,17/Oct/19 6:32 AM,28/Oct/23 3:08 AM,17/Oct/19 6:32 AM,,,,,,,,,,fabric-docs,,,,,0,,,,,"Observed below error while upgrading chaincode from 1.0 to 1.1 on one of the peer. See the command listed here https://hyperledger-fabric.readthedocs.io/en/release-1.3/commands/peerchaincode.html?highlight=upgrade%20chaincode#peer-chaincode-upgrade-example

root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n mycc -v 1.1 -p github.com/chaincode/chaincode_example02/go/
2019-07-23 23:37:05.375 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-07-23 23:37:05.375 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2019-07-23 23:37:05.600 UTC [chaincodeCmd] install -> INFO 003 Installed remotely {color:red}response:<status:200 payload:""OK"" >{color}
root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode upgrade -o orderer.example.com:7050 --tls --cafile $ORDERER_CA -C mychannel -n mycc -v 1.1 -c '{""Args"":[""init"",""a"",""100"",""b"",""200"",{color:red}*""c"",""300""*{color}]}' -P ""AND ('Org1MSP.peer','Org2MSP.peer')""
2019-07-23 23:37:09.775 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-07-23 23:37:09.776 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
{color:red}Error: could not assemble transaction, err proposal response was not successful, error code 500, msg transaction returned with failure: Incorrect number of arguments. Expecting 4{color}
root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer#

I see the chaincode is upgraded to newer version

Rameshs-MBP:~ thoomu@us.ibm.com$ docker ps
CONTAINER ID        IMAGE                                                                                                  COMMAND                  CREATED             STATUS              PORTS                                              NAMES
9222dba8f847        dev-peer1.org1.example.com-mycc-1.1-0e1b19f1366fab8cc9dca2d19d3709f9d357accf8f210278ec23ae00f2b0609f   ""chaincode -peer.add…""   4 minutes ago       Up 4 minutes                                                           dev-peer1.org1.example.com-mycc-1.1


root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer# *peer chaincode list --instantiated -C $CHANNEL_NAME*
Get instantiated chaincodes on channel mychannel:
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Escc: escc, Vscc: vscc
root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer# #peer chaincode list --instantiated -C $CHANNEL_NAME
root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer# *peer chaincode list --installed*
Get installed chaincodes on peer:
Name: mycc, Version: 1.0, Path: github.com/chaincode/chaincode_example02/go/, Id: 333a19b11063d0ade7be691f9f22c04ad369baba15660f7ae9511fd1a6488209
{color:red}Name: mycc, Version: 1.1, Path: github.com/chaincode/chaincode_example02/go/, Id: 1ba04ff1994d31709d633ff97e7fb3c2d629011ad6422913937c9523ee86ce99{color}
root@a829385ceecb:/opt/gopath/src/github.com/hyperledger/fabric/peer#

Chaincode Log:

Rameshs-MBP:~ thoomu@us.ibm.com$ docker logs -f dev-peer0.org2.example.com-mycc-1.1
2019-07-23 23:49:18.740 UTC [shim] 2 -> ERRO 001 [fc6357e7] Init get error response. Sending ERROR
ex02 Init

Peer Log:

2019-07-23 23:48:54.960 UTC [endorser] callChaincode -> INFO 06d [][19d1a3cb] Entry chaincode: name:""lscc""
2019-07-23 23:48:54.961 UTC [lscc] executeInstall -> INFO 06e Installed Chaincode [mycc] Version [1.1] to peer
2019-07-23 23:48:54.961 UTC [endorser] callChaincode -> INFO 06f [][19d1a3cb] Exit chaincode: name:""lscc""  (1ms)
2019-07-23 23:49:01.025 UTC [endorser] callChaincode -> INFO 070 [mychannel][fc6357e7] Entry chaincode: name:""lscc""
2019-07-23 23:49:01.034 UTC [golang-platform] GenerateDockerBuild -> INFO 071 building chaincode with ldflagsOpt: '-ldflags ""-linkmode external -extldflags '-static'""'
2019-07-23 23:49:01.034 UTC [golang-platform] GenerateDockerBuild -> INFO 072 building chaincode with tags:
2019-07-23 23:49:18.740 UTC [endorser] callChaincode -> INFO 073 [mychannel][fc6357e7] Exit chaincode: name:""lscc""  (17715ms)
2019-07-23 23:49:18.741 UTC [endorser] SimulateProposal -> ERRO 074 [mychannel][fc6357e7] failed to invoke chaincode name:""lscc"" , error: transaction returned with failure: Incorrect number of arguments. Expecting 4
github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:257
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).ExecuteLegacyInit
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:225
github.com/hyperledger/fabric/core/endorser.(*SupportImpl).ExecuteLegacyInit
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:131
github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:179
github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237
github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456
github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:162
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1011
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1249
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:680
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:2361",,joe-alewine,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uu4:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,rameshthoomu,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/19 5:41 AM;joe-alewine;CR: https://gerrit.hyperledger.org/r/c/fabric/+/33938;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Contribute a new project based on Fabric.,FAB-16053,41376,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,liurain,liurain,24/Jul/19 4:00 PM,24/Jul/19 4:00 PM,28/Oct/23 3:08 AM,,,,,,,,,,,,,,,,0,,,,,"I want to contribute a new project based on fabric. I am calling him justitia for the time being. I hope to discuss and improve it with everyone here.

 

Justitia helps consortium members generate and maintain all of their certificates, easily deploy and maintain their own nodes. On the other hand, it helps users manage the configuration of consortium and channels, including configurations such as members and policies.

To find out more about justitia, check out the project proposal ([justitia proposal | https://wiki.hyperledger.org/display/HYP/Hyperledger+Justitia+Proposal]).

Thanks",,liurain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uuc:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),liurain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer crashes,FAB-16054,41381,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,NN77,NN77,24/Jul/19 10:55 PM,20/Aug/19 12:24 AM,28/Oct/23 3:08 AM,14/Aug/19 3:39 AM,,,,,,v1.4.3,v2.0.0,,,fabric-gossip,fabric-peer,,,,5,ipm,,,,"After problem in FAB-15564 was resolved I decided to update and check peer of 1.4.2.

 

All of updated peers have crash with following error:
{code:java}

panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020]
goroutine 15 [running]:
github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x40c4c3, 0x7fd5180890b8)
        /opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40
github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc0093dbba0)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfd
github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc000307580)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34c
github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc000307580)
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141
created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
=============================================================================

panic: runtime error: invalid memory address or nil pointer dereference[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020]goroutine 59 [running]:github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x40c445, 0x7f6e70118fe8)        /opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc0082ea170)        /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfdgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc000dd3500)        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34cgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc000dd3500)        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable        /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2{code}",,jooskim1,NN77,silliman,vampire203,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16292,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uus:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jooskim1,NN77,silliman,vampire203,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jul/19 10:45 AM;vampire203;we are also noticing the same issue after upgrading to 1.4.2 from 1.4.1. here's the peer log :
{code:java}
[34m2019-07-25 23:46:45.430 UTC [comm.grpc.server] 1 -> INFO 12521[0m streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=10.10.xxx.xxx:51374 error=""context finished before block retrieved: context canceled"" grpc.code=Unknown grpc.call_duration=1.095771887s[34m2019-07-25 23:46:45.430 UTC [comm.grpc.server] 1 -> INFO 12521[0m streaming call completed grpc.service=protos.Deliver grpc.method=Deliver grpc.peer_address=10.10.xxx.xxx:51374 error=""context finished before block retrieved: context canceled"" grpc.code=Unknown grpc.call_duration=1.095771887s[34m2019-07-25 23:46:46.584 UTC [comm.grpc.server] 1 -> INFO 12522[0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:46:56.582Z grpc.peer_address=172.18.xxx.xxx:50578 grpc.code=OK grpc.call_duration=683.814µs[34m2019-07-25 23:46:51.560 UTC [comm.grpc.server] 1 -> INFO 12523[0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:01.558Z grpc.peer_address=172.18.xxx.xxx:50612 grpc.code=OK grpc.call_duration=661.84µs[33m2019-07-25 23:46:52.195 UTC [gossip.privdata] reconcile -> WARN 12524[0m missing private data is not available on other peers[34m2019-07-25 23:46:55.166 UTC [gossip.privdata] StoreBlock -> INFO 12525[0m [payprotocol] Received block [357374] from buffer[34m2019-07-25 23:46:55.167 UTC [committer.txvalidator] Validate -> INFO 12526[0m [payprotocol] Validated block [357374] in 1ms[34m2019-07-25 23:46:55.199 UTC [kvledger] CommitWithPvtData -> INFO 12527[0m [payprotocol] Committed block [357374] with 1 transaction(s) in 31ms (state_validation=7ms block_and_pvtdata_commit=1ms state_commit=21ms) commitHash=[][34m2019-07-25 23:46:56.588 UTC [comm.grpc.server] 1 -> INFO 12528[0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:06.586Z grpc.peer_address=172.18.0.1:50640 grpc.code=OK grpc.call_duration=708.688µs[34m2019-07-25 23:47:01.875 UTC [comm.grpc.server] 1 -> INFO 12529[0m unary call completed grpc.service=discovery.Discovery grpc.method=Discover grpc.request_deadline=2019-07-25T23:47:11.874Z grpc.peer_address=172.18.xxx.xxx:50674 grpc.code=OK grpc.call_duration=650.523µspanic: runtime error: invalid memory address or nil pointer dereference[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020]
goroutine 236 [running]:github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x40c4c3, 0x7ff2585c6c68) /opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc00d29ba00) /opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfdgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc0015df380) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34cgithub.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc0015df380) /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
{code}
 ;;;","14/Aug/19 3:39 AM;wlahti;A fix was merged earlier today via FAB-16292. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-end-2-end-daily-master-s390 job: chaincode invoke failed on node-chaincode test in byfn.,FAB-16055,41384,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,vijaypunugubati,vijaypunugubati,24/Jul/19 11:42 PM,06/Aug/19 10:16 PM,28/Oct/23 3:08 AM,06/Aug/19 10:16 PM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,ci-blocker,,,,"Chaincode invoke failed on node-chaincode test in byfn test with rpc error: code = Unavailable desc = transport is closing - proposal response: <nil>

*Job:* fabric-end-2-end-daily-master-s390x

*Branch:* Master

*Platform:* s390x

*Error Snippet:* 
{code:java}
/00:24:51.536 + peer chaincode invoke -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc --peerAddresses peer0.org1.example.com:7051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses peer0.org2.example.com:9051 --tlsRootCertFiles /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt --isInit -c '{""Args"":[""Init"",""a"",""100"",""b"",""100""]}'
00:26:41.608 + res=1
00:26:41.608 + set +x
00:26:41.609 Error: error endorsing invoke: rpc error: code = Unavailable desc = transport is closing - proposal response: <nil>
00:26:41.609 !!!!!!!!!!!!!!! Invoke execution on peer0.org1 peer0.org2 failed  !!!!!!!!!!!!!!!!
00:26:41.609 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
00:26:41.609 
00:26:41.644 ERROR !!!! Test failed/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-s390x/166/consoleFull|https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-s390x/165/consoleFull]

 ",,btl5037,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uv8:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/19 10:16 PM;vijaypunugubati;Node-chaincode is replaced with javascriptchaincode test in byfn-eyfn tests. Closing this bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""peer channel fetch config"" displays total number of blocks and config blocks on the output",FAB-16056,41385,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,shitaibin,rameshthoomu,rameshthoomu,24/Jul/19 11:44 PM,18/Aug/19 4:15 PM,28/Oct/23 3:08 AM,18/Aug/19 4:15 PM,,,,,,v1.4.3,v2.0.0,,,fabric-cli,,,,,0,,,,,"Observed* peer channel fetch config* command is displays the +total number of configblocks+ and +total number of blocks+. But as per the documentation

{code:java}
""By default, the peer channel fetch config command returns the *most recent configuration block* for the targeted channel, which in this case is the third block.""
{code}

As per the above comment it should display *+only+* the recent configuration block not along with the total number of blocks.

root@70ecc3a4df1e:/opt/gopath/src/github.com/hyperledger/fabric/peer# **peer channel fetch config -o orderer.example.com:7050 -c $CHANNEL_NAME --tls --cafile $ORDERER_CA**
2019-07-24 00:30:32.120 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
{color:red}2019-07-24 00:30:32.123 UTC [cli/common] readBlock -> *INFO 002 Received block: 4*
2019-07-24 00:30:32.125 UTC [cli/common] readBlock ->* INFO 003 Received block: 2*{color}

*Expected behavior:* 
peer channel fetch config command should display only the recent configuration block number in the above case it is *2019-07-24 00:30:32.125 UTC [cli/common] readBlock -> INFO 003 Received block: 2*

*Actual*:
Displays the +total number of config blocks+ and +total number of blocks.
2019-07-24 00:30:32.123 UTC [cli/common] readBlock -> *INFO 002 Received block: 4*
2019-07-24 00:30:32.125 UTC [cli/common] readBlock -> *INFO 003 Received block: 2*
",,rameshthoomu,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uvg:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,shitaibin,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/19 11:50 AM;shitaibin;The log +_2019-08-14 02:44:13.771 UTC [cli.common] readBlock -> INFO 002 Received block: 4_+  belongs to the readBlock. So the log can {color:#FF0000}not be removed{color} for the situation of fetching the mote recent configuration config block.

 

But we can {color:#FF0000}add a new log to point out the mote recent configuration config block{color}:

 

root@935dfd32c3f9:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel fetch config -c mychannel
use default log.
2019-08-14 02:44:13.768 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-08-14 02:44:13.771 UTC [cli.common] readBlock -> INFO 002 Received block: 4
2019-08-14 02:44:13.773 UTC [cli.common] readBlock -> INFO 003 Received block: 2
{color:#FF0000}2019-08-14 02:44:13.773 UTC [channelCmd] fetch -> INFO 004 Get the most configuration block: 2{color};;;","15/Aug/19 10:41 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric/+/32904/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename CommitWithPvtData to CommitLegacy,FAB-16058,41389,41306,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,25/Jul/19 12:15 AM,31/Jul/19 2:13 AM,28/Oct/23 3:08 AM,31/Jul/19 2:12 AM,,,,,,,,,,,,,,,0,,,,,We will eventually phase out this legacy function call. It will currently only be used in v14 validation flow but let's go ahead and rename it now,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uwc:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Standardize Pvtdata substring,FAB-16059,41391,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,caod,caod,caod,25/Jul/19 2:08 AM,30/Jul/19 6:21 AM,28/Oct/23 3:08 AM,30/Jul/19 6:21 AM,,,,,,,,,,,,,,,0,,,,,"In an effort to maintain consistency as well as discussion in [https://gerrit.hyperledger.org/r/c/fabric/+/29132/5] let's rename all mentions of `PvtData`, `PrivateData`, `Privatedata`, `Privdata`, `PrivData` to Pvtdata and likewise for unexported fields/methods. Manish suggested that we treat Pvtdata as one entity hence one word. Let's also rename the `privdata` package in `gossip` as well",,caod,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrm8:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,manish-sethi,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jul/19 2:29 AM;caod;/cc [~manish-sethi] [~yacovm];;;","25/Jul/19 2:30 AM;caod;Waiting on rollback CR to get merged before starting this [https://gerrit.hyperledger.org/r/c/fabric/+/32458/];;;","25/Jul/19 5:28 AM;manish-sethi;Sure [~caod] - consistent naming is always welcome.;;;","30/Jul/19 5:55 AM;yacovm;Sorry I'm commenting so late, but - is this really necessary? It will make backporting fixes harder...;;;","30/Jul/19 6:21 AM;caod;After some discussion with Yacov and Manish, decided to scrap this since the initial investigation yielded a very large and unwieldy amount of changes across the entire codebase.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Keep ""kubeconfig file"" in CI system to run the system tests on k8s cluster",FAB-16060,41392,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,rameshthoomu,rameshthoomu,25/Jul/19 3:01 AM,10/Jun/20 12:35 PM,28/Oct/23 3:08 AM,10/Jun/20 12:35 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"To run the system tests on k8s cluster with Azure pipeline, we have to share the kubeconfig file or pass the credentials information to the CI system to interact with the k8s cluster. Explore on this, how to secure k8s cluster information when using the same in Azure pipeline environment.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15587,,,No,,Unset,No,,,"1|hzwqrp:ir",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/19 11:33 PM;rameshthoomu;We need to explore how to configure kubeconfig file in CI (As fabric is moving towards Azure pipeline, it's worth of exploring how to keep kubeconfig file in CI). At this moment we are trying to use Internal Jenkins to run these system tests. This is not a blocker at this moment but once the CI system is finalized will move towards that.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test improvements - System Test Suite using k8s,FAB-16061,41393,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,25/Jul/19 3:04 AM,17/Mar/22 3:35 PM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Define teststeps and testcases in fabric-test repo for a fabric system test suite which runs traffic with a variety of functionalities and traffic patterns.

For instance, we will create a network of a certain configuration; the networkspec file will be part of that task, along with providing the command-line instruction (or whatever means) necessary to launch that network using the tools at hand. Another task will be for creating all the channels needed in that network that will be used by the subsequent traffic tests. Another will be to join all the peers to the correct channels (or all of them, if appropriate). etc. etc. And we should have a separate testtask for each testcase, for specifying the commands to run the test and to submit the artifacts (e.g. traffic configuration generation, or couchdb index files, or private data configuration membership, or SBE endorsement policy, etc).

And more similar tasks for a 2nd network with different config params that will be used for another set of testcases.

These scripts and components will use new go version of NetworkLauncher/PTE/templates/tools being developed to be more flexible and user-friendly. For more details on those tool enhancement items, refer to FAB-2247 and FAB-6742.

Refer also to FAB-15587 for the test driver code that uses these pieces (similar in function to runDailyTestSuite.sh and systest_pte.py - whether python or gotest or whatever).

Plans for three network configurations and the tests are outlined here: https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=1959469699 
It will take some time and tasks (outlined in epic FAB-16240) to add functionality to the new tools to support all the necessary artifacts and functions.
",,btl5037,scottz,srihari.sardena,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11617,FAB-11711,FAB-7920,,,FAB-2247,FAB-15587,,FAB-15189,FAB-14222,FAB-16161,FAB-16240,FAB-16256,,,,,,,,,,,,,,,,,,,,,,,,,Initial system tests automated using Kubernetes environment.,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-5,,Test improvements - System Test Suite using k8s,To Do,No,,Unset,No,,,"1|hzx30f:b",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,srihari.sardena,tatsu-sato,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;","17/Mar/22 3:35 PM;srihari.sardena;I am trying to perform peer rollback in k8 environment, it is not working for me ,  i followed the steps  from FAB-16143 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare CI jobs to run System Tests,FAB-16062,41394,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,25/Jul/19 3:05 AM,21/Nov/19 5:58 AM,28/Oct/23 3:08 AM,21/Nov/19 5:58 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Prepare CI jobs to run System tests in Azure pipeline yaml file.

Initially just start with basic system tests and then extend the same to daily jobs, weekly and longrun tests.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16760,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15587,,,No,,Unset,No,,,"1|hzwqrp:ii",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Display system tests job results to the community,FAB-16063,41395,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,25/Jul/19 3:11 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Depends on framework: what test tool framework to use to show results? Plan: use go test (ginkgo) to run the tests.

Once the framework is implemented, input the result files (mostly .xml files) into the Azure pipeline.

 

Note (Dec 3): this will be completed when we move the k8s systest jobs to azp. Other tasks exist (FAB-16160) to reimplement the test drivers from python to go, and execute with ginkgo, and produce the xml output results. The CI Jobs will be defined to run in Azure environment (FAB-16760); the results will be displayed along with all the jobs results.

The final step, if desired, would be to create a single ""Test Overview Status"" display page with all the test suites results: e.g., daily systest runs in multiple networks in k8s cluster, longrunning test, for both master and 1.4 release branches, etc.",,btl5037,rameshthoomu,,,,,,,,,,,,,,,,,FAB-16160,FAB-16760,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15587,,,No,,Unset,No,,,"1|i000do:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Golang test driver to run system test automation suite,FAB-16064,41396,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,rameshthoomu,rameshthoomu,25/Jul/19 3:22 AM,29/Jan/20 1:01 PM,28/Oct/23 3:08 AM,22/Jan/20 3:20 AM,v1.4.5,v2.0.0,,,,v1.4.5,v2.0.0,,,fabric-quality,,,,,0,,,,,Update the wrapper script (go test or mocha) to run the automation test suite.,,bharadwajambati1,neodlt,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16161,,,,,FAB-16259,FAB-17423,,FAB-16160,FAB-17226,FAB-17284,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzx7",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,neodlt,rameshthoomu,scottz,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"09/Dec/19 3:32 PM;bharadwajambati1;[https://github.com/hyperledger/fabric-test/pull/22];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Couchdb index with rich queries, multi indexes, and then upgrade chaincode",FAB-16065,41397,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,25/Jul/19 3:25 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Requires index files to be mounted in peers before start. After large number of transactions already on the ledger (e.g. 100,000 or more), upgrade cc version and restart the peers.
Requires new operator function to upgrade chaincode version (with or without a new cc file) and new steps in the driver file or test input file to do it.
Requires marbles02(private) or other complex chaincode.

Helpful snippet from PTE/Readme:
{quote}If installing chaincode on CouchDB with indexing, then inside the deploy section we should also add metadataPath for the location of the index definition files. Note: if gopath is defined in the service credential json, then specify the relative path from $GOPATH/src/ (as is done in this example); otherwise use a fully specified absolute path.


{code:java}
  ""deploy"": {
      ""chaincodePath"": ""github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go"",
      ""metadataPath"": ""github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go/META-INF"",
      ""fcn"": ""init"",
      ""args"": []
  },
{code}

{quote}

Helpful snippets from PTE/CITest/Readme:

{quote}  FAB-6813-4i: marbles02 GO chaincode, 4 processes X 1000 invokes, TLS, CouchDB with indexing, 2 channel, channel event service with block listener
  FAB-8251: marbles02 GO chaincode, 4 processes X 250000 invokes, TLS, CouchDB with indexing, 2 channel, channel event service with block listener, simultaneous operation of 1) chaincode upgrade with index rebuild, 2) 4 processes X 250000 rich queries with 2-field selector 3) 4 processes X 250000 invokes
  FAB-8252: marbles02 GO chaincode, 4 processes X 250000 invokes, TLS, CouchDB with indexing, 2 channel, channel event service with block listener, simultaneous operation of 1) chaincode upgrade with index rebuild, 2) 4 processes X 250000 rich queries with 4-field selector 3) 4 processes X 250000 invokes

marbles02_private chaincode, go in fabric-samples - used by PTE tests; includes a sample ../collections_config.json and ./META_INF/ with couchdb index file indexOwner.json, but note the PTE sideDB tests (FAB-10134, FAB-10135, FAB-12262) store their own collections files (e.g. PTE/CITest/FAB-10135-4i/preconfig/marbles02_private/collections_config-chan1.json)
marbles02_private chaincode, go in fabric-test - used only by fabric-test/feature/ Behave tests; includes its own private data collections definition file but no couchdb index file (which is not needed because tests send only a few transactions){quote}",,btl5037,Matrixik,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16074,FAB-17347,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5izi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,Matrixik,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: State based endorsement (SBE) addition to system test suite,FAB-16066,41398,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Jul/19 3:25 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,29/Aug/19 8:20 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"# Refer to FAB-11614-2iSBE (50% using SBE keys) and FAB-11615 and FAB-11615-2iSBE (100% using keys) as examples of functioning tests.
# In the transactions used in this test, set the endorsement policy to require (and send TX to) 2 or more endorsers.
# We could add this SBE traffic to all 3 networks in the system test suite.

Plan: Optionally use pte_driver for install/instantiate as well as transactions. No need to modify gen_cfgInputs.sh. Or could solve FAB-15902 first and then use gen_cfgInputs.sh to send transactions. Be sure point 2 is satisfied by the test; modify the steps if necessary.",,rameshthoomu,,,,,,,,,,,,,,,,,,FAB-15902,FAB-16371,,,,,,,,,,,,,,FAB-11614,,,FAB-11615,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqfn:t",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 6:03 AM;rameshthoomu;Changes have been pushed to https://github.com/rameshthoomu/fabric-test/commit/41cbdc05c766e05e05ba91924fcf84c1c022ced4 to test this before push this change to gerrit. Currently this is blocked by FAB-16371;;;","29/Aug/19 8:20 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33225/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use Different Payloads Sizes 0 - 49MB,FAB-16067,41399,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Jul/19 3:25 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,20/Sep/19 1:06 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"For each of the basic traffic tests in the system test suite, specify different payload size. Use small range 0-10K for the samplecc traffic patterns, and use different test steps to send a few messages with larger (maybe 4MB and 49MB) proposal payloads with fixed payload size. Remember the payload size is injected into the proposal; the proposal response and the transaction submitted to orderer will essentially be double that size (up to 98MB).  Run these testcases on all three networks (kafka_couch, kafka_leveldb, raft_mutual)

As part of this we should make all the traffic tests run approximately the same duration, so they can later be run simultaneously and can be expected to finish about the same time. For now, recommended time length around 20 mins. That should require more than 10,000 TX per thread, except when using large payloads exceeding 10K, (especially when using kafka) because it takes much longer to handle huge transactions.

 

Note the SBE and marbles chaincodes ignore the payload size parameters. Use samplecc, samplejs, mapkeys, or other chaincodes that honor the parameter.",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16524,,,FAB-16641,,,,,,,,,,,,,"13/Sep/19 4:25 AM;rameshthoomu;Untitled;https://jira.hyperledger.org/secure/attachment/17810/Untitled",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqfn:u",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/19 3:08 AM;rameshthoomu;[~scottz] I am using 1000tx per thread per channel, so this comes around 4000tx (2 threads and 2 channels).;;;","13/Sep/19 4:27 AM;rameshthoomu;Testing is in-progress. Below are observations made so far.

TestEnvironment:
1Cpu 4GB memory on peer
1 channel 1 org and 1 process
sample cc chaincode
orderer:
#! Consensus type
  orderertype: etcdraft
  batchsize:
    maxmessagecount: 100
    absolutemaxbytes: 99 MB
    preferredmaxbytes: 10 MB
  batchtimeout: 2s
#! Etcd raft options and this will be used when orderertype is
#! selected as etcdraft
  etcdraft_options:
    TickInterval: 500ms
    ElectionTick: 10
    HeartbeatTick: 1
    MaxInflightBlocks: 5
    SnapshotIntervalSize: 100 MB

TC#1 Used 4M payload for about 40 transactions and all worked as expected. 
TC#2 Used 49MB payload size and sent 1 tx using PTE client. Observed leader is dropping and the block is not delivering. Attached are the logs from orderer. [^Untitled] 
;;;","18/Sep/19 4:17 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33498/;;;","18/Sep/19 4:48 AM;rameshthoomu;10K transaction test case has been removed from the pool of system test cases but covered the same in samplecc with Random  payload sizes. Also, for now 49MB payload test case has been added to the list but to make it work we have to increase the TickInterval to 1 sec from 500ms. Also the current test configured to run 4MB payload for 10 tx on 4 threads.;;;","18/Sep/19 11:21 PM;scottz;As discussed, doubling the tick interval will double the time it takes for the orderers to trigger a reelection of new leader in a new term when they no longer receive heartbeat ticks. With our current host configuration and disk speeds, in a network using raft, this would allow the test to pass, since the leader seems to be taking about 7 seconds to write a single 98 MB transaction block to the WAL. During that time, the leader cannot send out any heartbeat ticks to other orderers. With the HeartbeatTick=1 and TickInterval=500ms, the leader election timeout is 5 secs which is when the other orderers trigger a new term and leader election. Doubling the time to 10s will allow the orderer leader to complete the write to the WAL and then to resume sending heartbeats within the 10s interval.

However, that means it takes the other orderers 10s to realize the leader is in trouble. When the trouble is real and permanent, that means the network is effectively halted for 10s instead of 5s (which is the default setting). It is recommended to avoid lengthening the recovery time for outages, and instead increase the disk speed to handle disk writes. We can explore that, but of course, that comes at a monetary cost, and note that we are sending these huge msgs only for a single test in a network k8s cluster which is used for many other things including restarts and chaos testing (where lengthened recovery times would be undesirable).

Therefore, it seems best to avoid increasing the HeartbeatTicks or the TickInterval. Instead, I propose to run the max TX size testcase (98MB) in the kafka network only, and just use a max of 50MB in the raft network with our current configuration. Alternatively, we could revisit this at any time, and could increase the disk write speeds of the hosts in our k8s cluster if the additional cost is deemed acceptable.;;;","20/Sep/19 1:07 AM;rameshthoomu;Created new task to test the same size of payloads in kafka based networks https://jira.hyperledger.org/browse/FAB-16659;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run traffic with networkspec for kafka_leveldb_no_tls as part of k8s system test suite,FAB-16068,41400,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Jul/19 3:26 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,19/Sep/19 1:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Create networkspec file kafka_leveldb_no_tls.
Duplicate tests using this network (same tests as those used in kafka_couchdb_tls).
Create another class in ression/systemtest/sysTestSuite_pte.py.
Pass the networkspec file as a parameter to operator.sh.

Consider using all peers as leaders, per direction from FAB-16068, instead of gossip elections as done in other systest networks.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqfn:v",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 1:21 AM;rameshthoomu;Created networkspecfile for kafka_leveldb_no_tls;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run traffic with networkspec for raft_couchdb_mutualtls including servdisc and launch in system test suite,FAB-16069,41401,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Jul/19 3:27 AM,19/Sep/19 1:27 AM,28/Oct/23 3:08 AM,19/Sep/19 1:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Create networkspec file raft_couchdb_mutualtls_servdisc.
Duplicate tests using this network (same tests as those used in kafka_couchdb_tls).
Create another class in ression/systemtest/sysTestSuite_pte.py.
Pass the networkspec file as a parameter to operator.sh.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzczqs",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"06/Sep/19 2:07 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33384/;;;","10/Sep/19 5:55 AM;rameshthoomu;Script has been updated to support tls options. With this we can use the same tests cases to run on multiple networks. Currently, the instantiation is not working with the recent changes in https://github.com/hyperledger/fabric-test/commit/56238a0dd96d87ec541bb1f8ba33822a122e621d (fabric-chaincode/protos).  Once this issue is fixed, will trigger tests to run on all the networks.;;;","13/Sep/19 4:19 AM;rameshthoomu;Above said issue observed when I try to run fabric with 1.4.3 images and fabric-test master branch. Updated the scripts to use 2.0.0-stable and tested, all the basic tests are working as expected when I set enabled_nodeOUs to false in networkspec file. Currently the testing is in-progress with 2.0.0-stable images and binaries.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add longer traffic load test in k8s system test,FAB-16070,41402,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,25/Jul/19 3:27 AM,12/Nov/19 7:31 PM,28/Oct/23 3:08 AM,03/Sep/19 10:25 PM,v1.4.3,,,,,,,,,fabric-quality,,,,,0,,,,,"The linked bug occurred a little more than 3 hours into a 12 hour traffic run in a CI VM.
Running a longer test like this is already an objective in our k8s lab, and doing it soon could provide more info about that problem.

We can run single or multiple traffic tests, so long as we keep a single network up and running the entire time.",,rameshthoomu,,,,,,,,,,,,,,,,,,FAB-16330,FAB-16378,,,,,,FAB-17055,,,,,,,,FAB-16245,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzcu",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 3:48 AM;rameshthoomu;This is blocked with PTE bug as it is not reading multiple orgs connection profile. Blocked by FAB-16330;;;","28/Aug/19 4:40 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33212/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add option to change peer and orderer resources in kubernetes,FAB-16071,41403,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,25/Jul/19 3:27 AM,15/Aug/19 9:49 PM,28/Oct/23 3:08 AM,15/Aug/19 9:49 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Set lower default values for the host resources in kubernetes to be reserved for the peer, orderers, kafkas, zks, CAs, so most networks (which might have lower CPU and GB RAM available) can start up successfully.

Add option in networkspec for users to change these values for their network to satisfy higher performance requirements.

Any existing networkspec files (e.g. for automated test networks) should be modified too, to set the desired values, when we change the default settings.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzd",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/19 4:43 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32933/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"TC: Chaos testing: restart all components peers and kafka, single and mult hits, mult channels, concurrency",FAB-16072,41404,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,rameshthoomu,rameshthoomu,25/Jul/19 3:28 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,,,btl5037,rameshthoomu,,,,,,,,,,,,,,,,,FAB-16087,,,,,,,,,,,,,,,,,,FAB-16047,FAB-16263,FAB-11447,FAB-12834,FAB-12835,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb2z",,,,Unset,Unset,Test Cases,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add docker compose template to launch network in local,FAB-16073,41405,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:28 AM,08/Aug/19 8:09 AM,28/Oct/23 3:08 AM,31/Jul/19 3:39 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add docker compose to launch network in local,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzwqpz:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"26/Jul/19 12:27 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32514/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Sidedb testing with marbles02_private (push and pull, plus reconciliations)",FAB-16074,41406,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,25/Jul/19 3:31 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,Future,,,,fabric-quality,,,,,0,,,,,"Create a sidedb testcase using marbles02_private cc, simple and providing good functional coverage; (refer FAB-10135); could use as interop test if desired with FAB-16719. Use as a basis for a test in the k8ssystest suite, using go test driver and operator functions and testInput file. 

Provide a nice description of a min config required including number of peers/orgs that are in or out of the collection; endorsements required, dissemination policy parameter values, etc. 

And with an eye on using with runPTE:  List any prerequisite steps (install, instantiate, etc) required to be done by the tester before test execution (or if they could/should be specified as optional in the testInput file) - to ensure for example that a retest with runPTE won't try to rerun steps such as instantiation and cause a test failure.

 

See the ""relates to"" list of possible testcases to automate with this testcase. 
 (Note: Not sure if the newer marbles02_private cc may provide a way to use 2 private collections. If not, or if we prefer, then we could just start two separate traffic patterns in the channel: one with org1 and org2 in the priv collection, and the other using org3 and org4 in a different priv collection; later we even could add org5 to both and watch its peers reconcile both collections.)
 Suggestion: run this in the raft/couchdb network, which has service discovery enabled.
 Suggestion: use service discovery for sending the invokes proposals (and optionally also when sending TXs to orderers); it seems it would make verification easier once we add restarts too (during reconciliation)

The essential test is:
 * use at least one private collection, require 2 endorsements (from diff orgs);
 * invokes with minimum required pushes = 2 in a network with 8 or more peers to ensure some push and some pull
 * validate the public and private data ledger heights on all peers.
 * bonus for querying specific transactions such as the final one; query from peers who did not receive the invokes - both public and private data; query from a peer in member org, and query from a peer in nonmember org (which of course should reject the request for private data)

To cover the reconciliation portions (could do these steps with different Jira tasks), while invokes traffic is running:
 * refer to 11772 (reconcile/catchup all data, public and private data, when join a new peer to channel in an org already in the priv collection)
 * and refer to 11773 (on existing peer in channel in org that was not in collection, reconciles only private data when reconfig/upgradeCC to add that org to priv collection)
 * restart each peer individually, including the reconciling peer, while a peer is in the reconcilliation phase

Note: we will need persistent storage set up in our test network for any test such as this which restarts peers and orderers.

 ",,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,FAB-15874,FAB-15392,,,,,,,,,FAB-15901,FAB-16775,,,,FAB-12834,FAB-12835,,FAB-11772,FAB-11773,FAB-13416,FAB-12937,FAB-12938,FAB-12936,FAB-16065,FAB-16719,FAB-17065,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000dx:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/19 5:46 AM;scottz;A desirable thing to do at the end of any private data test, to validate the push/pull mechanism, is to query public data from ALL peers joined in the channel (expecting all to pass). And we could query ledger heights on all peers in the channel too, and ensure they are equal. Also, query private data from all peers in orgs included in the collection (expecting to pass), and query the private data from peers of orgs NOT in the collection (expect to fail).  

If the target peers is {{ALLPEERS}}, PTE will send queries (or invokes) to all peers that associated with the specified org.  If the pte input json contains all org, then queries will be sent to all peers.;;;","23/Nov/19 3:57 AM;scottz;Pertaining to the previous comment, it may be useful to refer also to the README and the new functionality added to the PTE in November 2019, to select a collection name to use when submitting proposals/transactions.

 [FAB-13006] PTE support sideDB collection name

[https://gerrit.hyperledger.org/r/c/fabric-test/+/34436]

 ;;;","11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add option to launch network locally using docker-compose,FAB-16075,41407,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:32 AM,08/Aug/19 8:09 AM,28/Oct/23 3:08 AM,31/Jul/19 3:39 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add option to launch network locally using docker-compose,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|hzwqq4:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"26/Jul/19 1:20 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32517/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create an input yaml file with pte parameters,FAB-16076,41408,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,suryalnvs,suryalnvs,suryalnvs,25/Jul/19 3:36 AM,28/Aug/19 12:37 AM,28/Oct/23 3:08 AM,28/Aug/19 12:35 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Create an input yaml file with pte parameters to run with operator and pte,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rz2",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/19 5:48 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32843/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare network Spec file for network1 and launch the network on k8s cluster,FAB-16077,41409,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,25/Jul/19 3:47 AM,17/Aug/19 6:31 AM,28/Oct/23 3:08 AM,17/Aug/19 6:31 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Prepare network Spec file for network1 and launch the network on k8s cluster,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15692,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15587,,,No,,Unset,No,,,"1|hzwqrk:3",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/19 10:44 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32393/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert genconfig.sh to go operator and read in pte input yaml file ,FAB-16078,41410,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:48 AM,02/Oct/19 5:02 AM,28/Oct/23 3:08 AM,02/Oct/19 5:02 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Convert genconfig.sh to go operator and read in pte input yaml file,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16076,,,FAB-16079,FAB-16080,FAB-16081,FAB-16082,FAB-16443,FAB-16444,FAB-16470,FAB-16476,FAB-16509,FAB-16510,FAB-16549,FAB-16553,FAB-16584,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczq",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in create channel section from yaml input file",FAB-16079,41411,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:52 AM,12/Jun/20 12:31 AM,28/Oct/23 3:08 AM,25/Sep/19 11:18 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add create channel to client(genconfig.sh) by reading in create channel section from input file,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfn:w",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/19 8:48 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33261/];;;","12/Sep/19 4:37 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33466/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in join channel section from yaml input file",FAB-16080,41412,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:53 AM,25/Sep/19 11:18 PM,28/Oct/23 3:08 AM,25/Sep/19 11:18 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add join channel to client(genconfig.sh) by reading in join channel section from input file,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 4:08 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33275/];;;","12/Sep/19 4:38 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33466/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in install chaincode section from yaml input file",FAB-16081,41413,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:54 AM,25/Sep/19 11:17 PM,28/Oct/23 3:08 AM,25/Sep/19 11:17 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add install chaincode to client(genconfig.sh) by reading in install chaincode section from input file,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqf",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/19 3:45 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33293/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in instantiate chaincode section from yaml input file",FAB-16082,41414,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bharadwajambati1,suryalnvs,suryalnvs,25/Jul/19 3:54 AM,25/Sep/19 11:18 PM,28/Oct/23 3:08 AM,25/Sep/19 11:18 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add instantiate chaincode to client(genconfig.sh) by reading in instantiate chaincode section from input file,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqc",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"03/Sep/19 2:40 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33345/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in invoke chaincode section from yaml input file",FAB-16083,41415,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,suryalnvs,suryalnvs,25/Jul/19 3:55 AM,12/Nov/19 6:57 AM,28/Oct/23 3:08 AM,12/Nov/19 6:57 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add invoke chaincode to client(genconfig.sh) by reading in invoke chaincode section from input file,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16509,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrp:jc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in query chaincode section from yaml input file",FAB-16084,41416,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,suryalnvs,suryalnvs,25/Jul/19 3:55 AM,12/Nov/19 6:57 AM,28/Oct/23 3:08 AM,12/Nov/19 6:57 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add query chaincode to client(genconfig.sh) by reading in query chaincode section from input file,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16510,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrp:ji",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add option to operator client, reading in add org section from yaml input file",FAB-16085,41417,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,25/Jul/19 3:56 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add option to add new organization to client operator by reading in add org section from input file,,btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrp:jo",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, add/remove new orderer by reading in add orderer section from yaml input file",FAB-16086,41418,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,25/Jul/19 3:57 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add option to add/remove new orderer to client(genconfig.sh) by reading in add orderer section from input file,,btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrp:ju",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in chaos section from yaml input file",FAB-16087,41419,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,25/Jul/19 3:58 AM,11/Jan/21 2:34 AM,28/Oct/23 3:08 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add option to run chaos to client(genconfig.sh) by reading in chaos section from input file,,btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,FAB-16258,FAB-16263,FAB-16072,,,,,,,,,,,,FAB-17003,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrp:jl",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable TLS between orderer and kafka in launcher,FAB-16088,41420,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,suryalnvs,suryalnvs,25/Jul/19 4:41 AM,10/Jun/20 12:35 PM,28/Oct/23 3:08 AM,10/Jun/20 12:35 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Enable TLS between orderer and kafka in launcher.

Tests using TLS, including those in the new system test network kafka_couchdb_tls, configure tls already; however, the tools set tls on the peers and orderers but not fully implemented between kafkas and orderers.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,FAB-15230,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5j",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Orderer type ""solo"" is appearing on log console when choose orderer type is ""kafka"" or ""etcdraft""",FAB-16090,41422,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,25/Jul/19 12:06 PM,21/Aug/19 11:11 AM,28/Oct/23 3:08 AM,21/Aug/19 11:11 AM,v1.4.2,,,,,v1.4.3,,,,fabric-samples,,,,,0,,,,,"Observed Orderer type is appearing as ""solo"" in the log messages when we choose orderer type or concensus type as ""etcdraft"" or ""kafka"". See the below log

20:15:45 + configtxgen -profile *SampleMultiNodeEtcdRaft* -channelID byfn-sys-channel -outputBlock ./channel-artifacts/genesis.block
20:15:45 2019-07-18 00:15:45.194 UTC [common.tools.configtxgen] main -> INFO 001 Loading configuration
20:15:45 2019-07-18 00:15:45.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002 *orderer type: etcdraft*
20:15:45 2019-07-18 00:15:45.265 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 Orderer.EtcdRaft.Options unset, setting to tick_interval:""500ms"" election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:20971520 
20:15:45 2019-07-18 00:15:45.266 UTC [common.tools.configtxgen.localconfig] Load -> INFO 004 Loaded configuration: /w/workspace/fabric-end-2-end-daily-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-samples/first-network/configtx.yaml
20:15:45 2019-07-18 00:15:45.336 UTC [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005 *{color:red}orderer type: solo{color}*
20:15:45 2019-07-18 00:15:45.336 UTC [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 006 Loaded configuration: /w/workspace/fabric-end-2-end-daily-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-samples/first-network/configtx.yaml
20:15:45 2019-07-18 00:15:45.338 UTC [common.tools.configtxgen] doOutputBlock -> INFO 007 Generating genesis block
20:15:45 2019-07-18 00:15:45.338 UTC [common.tools.configtxgen] doOutputBlock -> INFO 008 Writing genesis block

see the jenkins log file here https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-release-1.4-x86_64/98/consoleFull

search with ""CONSENSUS_TYPE"" and see the log details when it set as ""etcdraft"" or ""kafka""",,denyeart,guoger,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16332,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v1n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jul/19 12:38 PM;rameshthoomu;Observed that ""

{code:java}

Orderer: *&OrdererDefaults*

    # Orderer Type: The orderer implementation to start
    # Available types are ""solo"" and ""kafka""
    OrdererType: solo


{code:java}
    SampleDevModeKafka:
        <<: *ChannelDefaults
        Capabilities:
            <<: *ChannelCapabilities
        Orderer:
            *<<: *OrdererDefaults*
              OrdererType: kafka

Observed ""ordererDefaults"" value (solo) is appearing on the log though we set OrdererType as kafka or etcdraft in configtx.yaml.
{code}

{code}
;;;","21/Aug/19 4:53 AM;denyeart;[~guoger] Can you take a look?;;;","21/Aug/19 11:11 AM;guoger;[~denyeart] [~rameshthoomu] a duplicate was created at FAB-16332 and let's tackle it there.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename SimulateCommitChaincodeDefinition to CheckCommitReadiness,FAB-16092,41426,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,25/Jul/19 11:22 PM,31/Jul/19 2:56 AM,28/Oct/23 3:08 AM,29/Jul/19 6:37 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v2j:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Jul/19 3:31 AM;wlahti;When this CR is merged, we should also make sure to merge [https://gerrit.hyperledger.org/r/c/fabric-samples/+/32549] quickly as well to update fabric-samples.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Metrics not wired into peer config correctly for integration tests,FAB-16093,41427,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,25/Jul/19 11:36 PM,14/Aug/19 10:51 PM,28/Oct/23 3:08 AM,14/Aug/19 10:51 PM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v2r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate connection profile for local network from launcher,FAB-16095,41431,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,26/Jul/19 12:15 AM,31/Jul/19 3:39 AM,28/Oct/23 3:08 AM,31/Jul/19 3:39 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|i00v3n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"27/Jul/19 5:07 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32550/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Rename ""approved"" to ""approvals"" in protos",FAB-16096,41433,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,26/Jul/19 12:56 AM,29/Jul/19 6:37 PM,28/Oct/23 3:08 AM,29/Jul/19 6:37 PM,,,,,,,,,,,,,,,0,,,,,...and related tests. ,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v43:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"1.3.0 -> 1.4.2 upgrade step is failing through ""./byfn.sh upgrade -i 1.4.2""",FAB-16097,41435,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,rameshthoomu,rameshthoomu,26/Jul/19 4:26 AM,29/Aug/19 3:18 AM,28/Oct/23 3:08 AM,29/Aug/19 3:18 AM,v1.4.2,,,,,v1.4.3,,,,fabric-samples,,,,,0,,,,,"Followed the steps defined here https://hyperledger-fabric.readthedocs.io/en/release-1.4/upgrading_your_network_tutorial.html to upgrade fabric network from 1.3.0 to 1.4.2. Observed below error.

After the byfn is worked on 1.3.0 --> fetch the latest code and checkout to 1.4.2 --> Execute ./byfn.sh -m generate. Config tx are created successfully but when I try to upgrade using ""./byfn.sh upgrade -i 1.4.2"" observed below error.

{code:java}
Upgrade your first network (BYFN) from v1.3.x to v1.4.x end-to-end test

System channel name : byfn-sys-channel
Channel name : mychannel
Config update for /Channel on ""byfn-sys-channel""
Fetching the most recent configuration block for the channel
+ peer channel fetch config config_block.pb -o orderer.example.com:7050 -c byfn-sys-channel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2019-07-25 18:36:51.947 UTC [main] InitCmd -> WARN 001 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable
2019-07-25 18:36:52.047 UTC [main] SetOrdererEnv -> WARN 002 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable
2019-07-25 18:36:52.063 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
2019-07-25 18:36:52.066 UTC [cli.common] readBlock -> INFO 004 Got status: &{NOT_FOUND}
Error: can't read the block: &{NOT_FOUND}
+ set +x
Decoding config block to JSON and isolating config to config.json
+ configtxlator proto_decode --input config_block.pb --type common.Block
+ jq '.data.data[0].payload.data.config'
configtxlator: error: open config_block.pb: no such file or directory, try --help
+ set +x
+ configtxlator proto_encode --input config.json --type common.Config
configtxlator: error: Error decoding: error decoding input: error unmarshaling intermediate JSON: EOF
+ configtxlator proto_encode --input modified_config.json --type common.Config
configtxlator: error: Error decoding: error decoding input: *common.Config: unknown field ""value"" in common.Config
+ configtxlator compute_update --channel_id byfn-sys-channel --original original_config.pb --updated modified_config.pb
configtxlator: error: Error computing update: error computing config update: no channel group included for original config
+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
+ jq .
++ cat config_update.json
+ echo '{""payload"":{""header"":{""channel_header"":{""channel_id"":""byfn-sys-channel"", ""type"":2}},""data"":{""config_update"":{' '""channel_id"":' '"""",' '""isolated_data"":' '{},' '""read_set"":' null, '""write_set"":' null '}}}}'
+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
+ set +x
+ peer channel update -f config_update_in_envelope.pb -c byfn-sys-channel -o orderer.example.com:7050 --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2019-07-25 18:36:52.423 UTC [main] InitCmd -> WARN 001 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable
2019-07-25 18:36:52.526 UTC [main] SetOrdererEnv -> WARN 002 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable
2019-07-25 18:36:52.538 UTC [channelCmd] InitCmdFactory -> INFO 003 Endorser and orderer connections initialized
Error: got unexpected status: BAD_REQUEST -- Failing initial channel config creation: mismatched channel IDs: '' != 'byfn-sys-channel'
!!!!!!!!!!!!!!! Config update for ""channel"" on ""byfn-sys-channel"" failed !!!!!!!!!!!!!!!!
========= ERROR !!! FAILED to execute End-2-End Scenario ===========
{code}


",,denyeart,joe-alewine,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v4j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 4:51 AM;denyeart;[~suryalnvs] [~rameshthoomu] Looks like channel id mismatch. Please work together to clarify doc for v1.3.0 to v1.4.2 update vs v1.4.0 to v1.4.2 upgrade.;;;","21/Aug/19 11:26 PM;joe-alewine;https://gerrit.hyperledger.org/r/#/c/fabric/+/32864/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"There is still some ""QueryApprovalStatus""",FAB-16098,41436,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,nnao,nnao,nnao,26/Jul/19 8:02 AM,21/Aug/19 5:10 AM,28/Oct/23 3:08 AM,26/Jul/19 7:14 PM,v1.4.2,,,,,v2.0.0,,,,fabric-docs,fabric-peer,,,,0,,,,,"There is still some ""QueryApprovalStatus"" in Fabric Docs and codes.
""QueryApprovalStatus"" was renamed to ""SimulateCommitChaincodeDefinition""

https://hyperledger-fabric.readthedocs.io/en/latest/build_network.html
https://jira.hyperledger.org/browse/FAB-14831",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v4r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
refactor integration/ledger to avoid duplicates,FAB-16099,41437,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,26/Jul/19 10:51 AM,26/Jul/19 10:57 AM,28/Oct/23 3:08 AM,26/Jul/19 10:57 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Currently, some of the helper functions are duplicated between the different test files in integration/ledger. We need to refactor the code to avoid such duplicates.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v4z:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typo in analysis.md ,FAB-16100,41438,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,steven0301,steven0301,steven0301,26/Jul/19 3:29 PM,31/Oct/19 10:23 PM,28/Oct/23 3:08 AM,31/Oct/19 10:23 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,Fix typo in analysis.md,,steven0301,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v57:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),steven0301,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TLS support for HSM in Fabric,FAB-16102,41443,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,vsudip,vsudip,26/Jul/19 6:37 PM,12/Dec/19 7:17 PM,28/Oct/23 3:08 AM,,,,,,,,,,,fabric-ca,fabric-orderer,fabric-peer,,,7,fabric,HSM,orderer,tls,"As of now TLS is not supported for HSM in Fabric, this results TLS private keys remains in file system only. This Jira is to enable this feature in Fabric.",,ashutosh_kumar,caduellery,flpautot,jgdomine,joaquimpedrooliveira,SebCasanova,seyday,silliman,thienbuinguyen,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v6b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,caduellery,flpautot,jgdomine,joaquimpedrooliveira,SebCasanova,seyday,silliman,thienbuinguyen,vsudip,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/19 7:17 PM;flpautot;+1

It would also be very interesting for RAFT;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to GET query Transaction by TransactionID,FAB-16103,41444,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,sebastian.paul,sebastian.paul,sebastian.paul,26/Jul/19 8:59 PM,21/Aug/19 1:02 AM,28/Oct/23 3:08 AM,21/Aug/19 1:02 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,Invalid response for query Transaction by TransactionID.,,denyeart,sebastian.paul,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v6j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sebastian.paul,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 1:02 AM;denyeart;Not enough information provided.  Please add reproduction steps and expect/actual results if you'd like somebody to investigate.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
change the order of commit of pvtData of old blocks,FAB-16104,41445,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,26/Jul/19 9:10 PM,14/Aug/19 6:26 AM,28/Oct/23 3:08 AM,14/Aug/19 5:47 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Currently, the commit of pvtData of old block execute the following steps:
 # commit the pvtData of old blocks to the pvtdata store.
 # commit the data to stateDB.
 # remove a marker from the pvtdata store. If the peer fails after storing the data in pvtdatastore, the marker helps in synching the stateDB with the pvtdataStore.

The complex flow is used for the failure/recovery.

This can be simplified as follows:
 # store the pvtData of old blocks to the stateDB.
 # store the pvtData of old blocks to the pvtDataStore.

If the peer fails after storing the pvtData in the stateDB, we don't need to do any special operation to recover the states. The reconciler would fetch the data as the pvtData is missing in the pvtdata Store. While committing the pvtData to the stateDB, at the worst case, we might overwrite existing data but there is no consistency issues. Hence, the pvtdataStore would be easily synced after the failure. 

 ",,denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v6r:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,Senthil1,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Jul/19 12:03 AM;manish-sethi;For more context, see discussion here - https://gerrit.hyperledger.org/r/#/c/fabric/+/30624/28/core/ledger/kvledger/kv_ledger.go@202;;;","14/Aug/19 5:53 AM;denyeart;master CR: https://gerrit.hyperledger.org/r/#/c/fabric/+/32792/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I need for my externally built chaincodes to be persisted to avoid rebuilding them each time.",FAB-16106,41457,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,27/Jul/19 2:10 AM,26/Sep/19 12:10 AM,28/Oct/23 3:08 AM,26/Sep/19 12:10 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The external launcher stuff currently operates in a build context in a temporary directory.  This works, but, it means that whenever the peer is shutdown, the temp directory 'leaks' and needs to be cleaned up manually.  Additionally, the next time the peer starts back up, it has to rebuild all of the build contexts, including rebuilding any source code.

Acceptance:  Starting a peer, invoking a chaincode built by an external builder, restarting the peer and invoking that same chaincode should work, and the 'build' command should only be invoked once.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruic4",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I need to see the output of the externalbuilders in the peer logs",FAB-16107,41458,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,27/Jul/19 2:13 AM,10/Aug/19 4:08 AM,28/Oct/23 3:08 AM,10/Aug/19 4:08 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"The assorted external builder components (detect, build, and launch), all currently lose the output of the commands.  For debugging build failures, or failures to detect etc., we should stream the standard error output of these invocations back to the peer logs.

Note: standard out will be reserved for communication with the process.

Acceptance: the output of 'detect', 'build', and 'launch', can be seen at debug level.  The output of 'build' and 'launch' can be seen at warning level when there is a failure. The log records should include some information about which process is generating the output.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:rui99",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/19 8:06 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32757 FAB-16107 detector.Build uses concrete types
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32758 FAB-16107 capture external builder stderr logs;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a way to stop chaincodes built and launched by the externalbuilder",FAB-16108,41459,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,27/Jul/19 2:15 AM,21/Nov/19 2:52 AM,28/Oct/23 3:08 AM,21/Nov/19 2:52 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"This is currently ill defined, and we may decide that it is invalid.  Still, with existing chaincodes, particularly the docker ones, it is possible to stop a chaincode.  This is useful in integration style tests, and, would be nice to have for when a chaincode is no longer referenced in any channels, we could automatically stop it to conserve resources.  For this latter bit, we have seen users who deploy many iterations of a chaincode in development, and resource exhaust their machines as all copies remain running.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8zfzyi",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 12:47 AM;sykesm;Split this apart.

1. Implement stop for the external builder
2. Automatically call stop when a chaincode is no longer referenced.;;;","12/Nov/19 1:27 AM;sykesm;Stop already exists on the interface and simply needs to be implemented.

 The implementation should follow the ""normal"" procedures we're used to in container land:
1. SIGTERM to notify the process it should terminate
2. Wait for some (small) period of time for the process to do what it needs to do
3. SIGKILL the process if hasn't exited already.;;;","12/Nov/19 6:39 AM;sykesm;Looks like implementing this requires a change from _running_ commands to _starting_ commands.;;;","16/Nov/19 5:15 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34413 Break out small functions and add godoc
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34384 Minor cleanup of externalbuilders_test.go
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34385 Minor restructure of externalbuilders
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34386 Implement a session handle to running processes
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34387 Implement Stop on the externalbuilders.Instance
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/34394 Rename externalbuilders package to externalbuilder;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a way to detect when an externalbuilder chaincode has exited",FAB-16109,41460,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,27/Jul/19 2:20 AM,26/Sep/19 12:10 AM,28/Oct/23 3:08 AM,26/Sep/19 12:10 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"There is a function 'Wait', in the current VM container API for chaincodes which is to allow the peer to monitor a running chaincode and, on its exit, deregister it from the map of chaincode handlers.  Presently, the externalbuilder implements this as a no-op {{select{ } }} waiting forever, as there is no way to determine the status of the chaincode.

It's unclear whether we want to implement this as a synchronous blocking call like 'Wait' before, or whether we want to use some health check mechanism etc., but if a chaincode terminates abnormally, as it stands today, the externalbuilder will never restart it.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruic6",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Properly sanitize packageIDs for the externalbuilder build context temporary directory stem,FAB-16110,41461,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,jyellick,jyellick,27/Jul/19 2:22 AM,13/Aug/19 4:31 AM,28/Oct/23 3:08 AM,13/Aug/19 4:31 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"See https://gerrit.hyperledger.org/r/c/fabric/+/32416/11/core/container/externalbuilders/externalbuilders.go#26

When creating the temporary directory, remove any character other than alphanumeric characters. This will address path separators and special characters that may need special treatment by scripts (eg. >< ! $ &, etc).",,guoger,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruib",,,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,jyellick,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/19 10:52 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/32763;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples: Use renamed CheckCommitReadiness (formerly SimulateCommitChaincodeDefinition),FAB-16111,41462,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,27/Jul/19 3:15 AM,30/Jul/19 8:23 PM,28/Oct/23 3:08 AM,30/Jul/19 8:23 PM,,,,,,,,,,,,,,,0,,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v8r:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Don't leak go routines in scc inproc streaming,FAB-16112,41463,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,27/Jul/19 5:04 AM,22/Jan/20 1:11 AM,28/Oct/23 3:08 AM,22/Jan/20 1:11 AM,,,,,,,,,,,,,,,0,ipm,,,,[https://github.com/hyperledger/fabric/blob/be656d333462a6ecee211f3173008ee2429b6143/core/scc/importsysccs.go#L42],,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v8z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jan/20 1:29 AM;sykesm;https://github.com/hyperledger/fabric/pull/502;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure that the stateDB is dropped after reset/rollback,FAB-16113,41464,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,27/Jul/19 12:29 PM,08/Aug/19 12:54 AM,28/Oct/23 3:08 AM,07/Aug/19 11:12 PM,,,,,,v1.4.3,v2.0.0,,,,,,,,0,,,,,"Currently, the peer node reset/rollback command itself take care of dropping the statelevelDB. However, the couchDB should be removed manually. As an admin could do a mistake by not removing the couchDB, we need to add necessary check in the code to ensure that the stateDB is dropped after a reset/rollback.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v97:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gossip uses static capability instead of dynamic to check for storing pvtData of invalid tx,FAB-16114,41465,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,27/Jul/19 12:34 PM,07/Aug/19 9:27 PM,28/Oct/23 3:08 AM,07/Aug/19 9:27 PM,v1.4.2,,,,,v1.4.3,v2.0.0,,,fabric-gossip,fabric-ledger,,,,0,,,,,"Currently, we pass a static capability to the gossip which use it to check whether to store the pvtData of invalid tx. With channel updates, the capability does not get updated. Hence, we need to use the channel with bundle listener so that the capability gets updated after a commit of a config update transaction.",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwr6z:zzci",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jul/19 11:57 PM;manish-sethi;Adding the context of exact LoC - https://gerrit.hyperledger.org/r/#/c/fabric/+/31731/5/core/peer/peer.go@375;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove token,FAB-16115,41466,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,27/Jul/19 7:13 PM,22/Aug/19 8:21 PM,28/Oct/23 3:08 AM,19/Aug/19 10:02 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,Need to remove the token function from production code and probably from the repo entirely.,,gregnotso,huxd,mastersingh24,smartheye,Specia1,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00v9n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),gregnotso,huxd,mastersingh24,smartheye,Specia1,sstone1,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/19 10:28 PM;mastersingh24;https://gerrit.hyperledger.org/r/32979;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No logs in kafka container logs - singleHost kafka ordering,FAB-16116,41469,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,,ialom1,ialom1,28/Jul/19 1:01 AM,11/Aug/19 6:34 PM,28/Oct/23 3:08 AM,11/Aug/19 6:34 PM,,,,,,,,,,,,,,,0,,,,,"I have set up a fabric netowork consisting of 1org: 1CA, 1peer, 1orderer, couchdb.

Now, my approach for setting up kafka-based ordering service was: In the configtx file 1. I made orderer type to kafka. 2. Added a single orderer address (orderer.example.com) 3. Added 4 kafka brokers(kafka0.example.com:9092...)

Then I generated the genesis and channel config files using the above set up in the configtx.

Then I Updated my docker-compose.yaml file to include the kafka and zookeeper containers.

Finally brought up the entire network using {{docker-compose -f ... up -d}}

The problem is when I submit transactions, I see the orderer logs updating, but no change or update in the kafka logs. Although the orderer shows some kafka related logs like [kafka/consensus].... The kafka logs only update when the kafka broker starts and channel is created etc.

I am confused whether my kafka based ordering is working or is it just working like a solo orderer.",,ialom1,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ialom1,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/19 6:34 PM;mastersingh24;To make sure the orderer is properly communicating with the Kakfa cluster, set up debug logging as explained here:  https://hyperledger-fabric.readthedocs.io/en/release-1.4/MAINTAINERS.html

In terms of setting of the Kafka container for logging, you'll need to consult the Kafka product documentation for how to configure the log4j logging provided by Kafka.

I'd also advise that you move to 1.4.2 and Raft rather than using Kafka.;;;","11/Aug/19 6:34 PM;mastersingh24;Nothing to do here ... responded in comment above;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave peer.feature test to kill cc container ,FAB-16117,41470,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dereckluo,scottz,scottz,28/Jul/19 2:11 AM,23/Nov/19 12:42 AM,28/Oct/23 3:08 AM,23/Nov/19 12:42 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage for something similar to Item 83 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741. Actually, instead of doing exactly what item 83 originally tested (FAB-6333), we should just kill a cc container in a peer, and verify the cc can be used afterwards for query and/or invokes (and the peer should recreate it automatically).

A feasible way to do this might be to insert a step to delete a chaincode container in an existing test between invokes, to ensure the chaincode container is recreated automatically when a subsequent invoke or query is requested. Possible locations could be in a test in one of fabric/integration/nwo/ or* fabric/integration/chaincode/ *or fabric/integration/e2e/.",,dereckluo,scottz,,,,,,,,,,,,,,,,,FAB-15752,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Extended Unit Test,,(Please add usage information),dereckluo,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/19 12:42 AM;scottz;Could we send SIGTERM to the cc container?;;;","28/Sep/19 2:34 AM;dereckluo;https://gerrit.hyperledger.org/r/c/fabric/+/33797/1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave peer.feature test for MSP Identity - Malicious Peer,FAB-16118,41471,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dereckluo,scottz,scottz,28/Jul/19 2:57 AM,06/Dec/19 4:39 AM,28/Oct/23 3:08 AM,22/Nov/19 4:00 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage for Item 87 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test resides in https://github.com/hyperledger/fabric-test/blob/master/feature/peer.feature:

{quote}Scenario: FAB-8380: Test MSP Identity - Malicious Peer{quote}

Note: EnableNodeOUs used iin fabric/integration/nwo/standard_networks.go and fabric/integration/e2e/lifecycle/lifecycle_test.go. The best option might be to extend fabric/integration/nwo tests to ensure rejection of such requests with invalid identities/signatures to satisfy the requirements of the behave testcase.",,scottz,,,,,,,,,,,,,,,,,,FAB-15752,,,,,,,,,,FAB-16119,,,,,FAB-16119,,,FAB-16120,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzk",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/19 10:35 PM;scottz;[https://gerrit.hyperledger.org/r/c/fabric/+/33698];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Replacement for Behave peer.feature test for MSP Identity - Malicious Peer, Client writers",FAB-16119,41472,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,dereckluo,scottz,scottz,28/Jul/19 2:59 AM,06/Dec/19 4:39 AM,28/Oct/23 3:08 AM,06/Dec/19 4:39 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage for Item 88 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test resides in https://github.com/hyperledger/fabric-test/blob/master/feature/peer.feature:

{quote}Scenario: FAB-8381: Test MSP Identity - Malicious Peer (Clients set as writers in policy){quote}

Note: EnableNodeOUs used iin fabric/integration/nwo/standard_networks.go and fabric/integration/e2e/lifecycle/lifecycle_test.go. The best option might be to extend fabric/integration/nwo tests to ensure rejection of such requests with invalid identities/signatures to satisfy the requirements of the behave testcase.",,dereckluo,scottz,,,,,,,,,,,,,,,,,FAB-15752,,,,,,,,,,,,,FAB-16118,,,,,FAB-16120,FAB-16118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzs",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dereckluo,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Sep/19 12:04 AM;dereckluo;https://gerrit.hyperledger.org/r/c/fabric/+/33722/1;;;","23/Nov/19 4:42 AM;dereckluo;After discussing with maintainers and the test team, it comes to the conclusion that this specific test was testing a similar situation with [FAB-16118|https://jira.hyperledger.org/browse/FAB-16118].
Therefore, this issue will be withdrawn, as FAB-16118 is being implemented and covering for this test scenario. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for Behave peer.feature test for MSP Identity - with inconsistencies,FAB-16120,41473,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dereckluo,scottz,scottz,28/Jul/19 3:01 AM,09/Jan/20 2:55 AM,28/Oct/23 3:08 AM,09/Jan/20 2:55 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage for Item 89 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

The relevant behave test resides in https://github.com/hyperledger/fabric-test/blob/master/feature/peer.feature:

{quote}Scenario: FAB-8382: Test MSP Identity with inconsistencies{quote}

Note: EnableNodeOUs used iin fabric/integration/nwo/standard_networks.go and fabric/integration/e2e/lifecycle/lifecycle_test.go. The best option might be to extend fabric/integration/nwo tests to ensure rejection of such requests with invalid identities/signatures to satisfy the requirements of the behave testcase.",,dereckluo,scottz,,,,,,,,,,,,,,,,,FAB-15752,,,,,,,,,,,,,,,FAB-16119,FAB-16118,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzu",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),dereckluo,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/19 12:10 PM;dereckluo;https://github.com/hyperledger/fabric/pull/305;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"docs: Update ""compute_update"" in configtxlator example section of 1.4 doc",FAB-16121,41475,,Bug,Returned,FAB,Fabric,software,denyeart,,,Medium,,,rameshthoomu,rameshthoomu,29/Jul/19 8:01 AM,24/Sep/19 5:37 AM,28/Oct/23 3:08 AM,,v1.4.2,,,,,,,,,fabric-docs,,,,,0,,,,,"Observed pipelines is mentioned in the below doc.
https://hyperledger-fabric.readthedocs.io/en/release-1.4/commands/configtxlator.html#pipelines

Expected Result: configtxlator example should mention about the ""compute_update""

Actual Result: pipelines is mentioned which is no where related to the context.",,jyellick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vbn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 5:37 AM;jyellick;I don't understand this bug?  This is simply showing an example of how you can chain configtxlator commands together using a series of UNIX pipes (pipelining).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration test for AdminOU classification ,FAB-16122,41477,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,29/Jul/19 3:16 PM,04/Oct/19 11:49 PM,28/Oct/23 3:08 AM,04/Oct/19 11:49 PM,,,,,,v1.4.3,v2.0.0,,,fabric-crypto,,,,,0,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vc3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Jul/19 3:28 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/32540/ - release-1.4;;;","21/Aug/19 2:52 AM;denyeart;[~angelo.decaro] Still need a CR for master.;;;","16/Sep/19 3:58 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/33526/ - master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused IsJavaCC endorser req,FAB-16123,41481,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,29/Jul/19 11:32 PM,20/Aug/19 12:56 PM,28/Oct/23 3:09 AM,20/Aug/19 12:56 PM,,,,,,,,,,,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vcr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove all of the SysCCProvider 'Is...' checks and inline them in validation.,FAB-16124,41482,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,29/Jul/19 11:58 PM,20/Aug/19 12:56 PM,28/Oct/23 3:09 AM,20/Aug/19 12:56 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"These checks have no business existing, let alone in the validation paths.

Most of them can be performed trivially inside of a chaincode for invocation purposes, and system chaincodes should have real endorsement policies which govern commitment to their state.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vcz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow ledger test to succeed when no tests are run,FAB-16125,41486,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,jyellick,jyellick,30/Jul/19 12:38 AM,10/Dec/19 12:59 PM,28/Oct/23 3:09 AM,10/Dec/19 12:46 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,,,dereckluo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008rj:iwx5",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dereckluo,jyellick,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/19 1:13 AM;dereckluo;self-note: 

- In current db test implementation, couchDB is being init in every test function (start couchDB if it does not have started before), and cleanup after testMain finishes. 
When running test with no tests are run, no init is being called, however, cleanup in testMain is being called. (this leads to the failure in this case).
- possible implementation 1: in _TestEnv_ interface, split _Init_ and _Cleanup_ function into two more functions -- _startExternalResource_ and _stopExternalResource_ which start and stop remote couchDB. local resource _Cleanup_ will be added to individual tests instead of in testMain. 
- possible implementation 2: When running _go test -run ""^$"" ./..._, either skip testMain, or in testMain, find a way to detect list of tests that need to be run, and act accordingly.

- additional cleanup: in _./core/ledger/..._ there are multiple places contains function implementations to start couchDB and cleanups. Remove and cleanup the duplicated code.
- creating a new package _couchDBTest_ in _./core/ledger/util/_ which host common functions that being used by couchDB tests.;;;","10/Dec/19 12:59 PM;dereckluo;https://github.com/hyperledger/fabric/pull/382
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mv store/DB's location consructor code to a common place,FAB-16126,41487,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,30/Jul/19 12:46 AM,27/Aug/19 12:00 AM,28/Oct/23 3:09 AM,27/Aug/19 12:00 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"Currently, we construct the path of various DBs and stores in many places within the ledger component. This is risky as we need to ensure that the same postfix is used during a path construction at all places. Hence, we need to move this logic to a common place.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vdn:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix UT to correctly test empty tx,FAB-16128,41490,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,30/Jul/19 3:42 AM,06/Sep/19 1:16 AM,28/Oct/23 3:09 AM,06/Sep/19 1:16 AM,v1.4.3,v2.0.0,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"In our search for alternative test coverage for Behave tests that are being deprecated, we found that this Extended Unit Test step is not correct. It passes - but This ""Entry"" is repeating another one instead of doing what is intended by using an empty tx. Refer to the third ""Entry"" line in test * It(""tracks active transactions""...)* where the test is supposed to be using empty transactionID key: it should use empty string, but does not; see https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/active_transactions_test.go#L49.

Fix by changing line 49 from
{quote}    Entry(""empty tx"", ""chan-1"", ""tx-1"", ""chan-1tx-1""),
to
    Entry(""empty tx"", ""chan-1"", """", ""chan-1""),{quote}

This code is identical in v1.2, v1.3, v1.4, and master branches. We request a solution for this to be delivered in master branch.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15749,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczp",,,,Unset,Unset,In Progress,"cd fabric/core/chaincode; go test",,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/19 2:53 AM;scottz;https://gerrit.hyperledger.org/r/c/fabric/+/33278;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BYFN when up with RAFT does not function correctly,FAB-16129,41491,,Bug,Returned,FAB,Fabric,software,denyeart,,,Medium,,,CT123,CT123,30/Jul/19 5:25 AM,24/Sep/19 4:34 AM,28/Oct/23 3:09 AM,,v1.4.2,,,,,,,,,fabric-samples,,,,,0,build-system,Documentation,,,"When following [https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html]

in an attempt to bring up first-network with raft ordering service, several containers have issues.

 

Contact me for container logs.",,CT123,denyeart,ihormudryy,jyellick,mplisov,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vej:",,,,Unset,Unset,,"(Please add steps to reproduce)
At the suggestion of coding team, cleared all docker containers, pruned system and volume and reloaded fabric-samples from scratch:
docker kill $(docker ps -q)
docker rm $(docker ps -a -q)
echo y | docker system prune -a
echo y | docker volume prune

mkdir -p $GOPATH/src/github.com/hyperledger
cd $GOPATH/src/github.com/hyperledger
rm -rf fabric-samples
curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.2 1.4.2 0.4.15
cd fabric-samples

Startemad BYFN steps:

./byfn.sh generate
./byfn.sh up -o etcdraft

Despite getting a good all successful messages back to the terminal window -- no errors and what appears to be a successful END message -- the only containers that load are as follows (in order of appearance in Kitematic): orderer.example; orderer4.example; orderer5.example; peer0.org1; peer0.org2; peer1.org1; peer1.org2 -- both orderer2.example and orderer3.example are stopped. 

First two lines of each container read the follow despite *explicitly* starting the network with RAFT not kafka:

2019-07-29 19:51:00.757 UTC [localconfig] completeInitialization -> INFO 001 Kafka.Version unset, setting to 0.10.2.0
2019-07-29 19:51:00.810 UTC [orderer.common.server] prettyPrintStruct -> INFO 002 Orderer config values:",,Unset,,,,,,Unset,,Unset,,(Please add usage information),CT123,denyeart,ihormudryy,jyellick,mplisov,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Aug/19 4:36 PM;ihormudryy;I have the same problem. Fabric 1.4.2 starts normally without errors, but when it comes to the creation of a new channel I get an error: 

{{2019-08-15 07:31:20.825 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized}}{{Error: got unexpected status: SERVICE_UNAVAILABLE -- channel testchainid is not serviced by me}};;;","23/Sep/19 12:04 PM;denyeart;[~CT123] Can you provide the error message at the time of unexpected container stop?

[~ihormudryy] I don't see any evidence you are hitting the same problem, please open a separate issue.;;;","24/Sep/19 4:34 AM;jyellick;The log message about the Kafka version being unset is benign.  Parsing of {{orderer.yaml}} occurs before loading any data from the blockchain, so the orderer is not sure what consensus type will be picked at this point.

As there's been no update since the initial reporting, and there is insufficient info to diagnose or reproduce, setting severity to medium and marking as info required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace orderer readme with a simple writeup (or remove it entirely),FAB-16130,41492,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,guoger,guoger,30/Jul/19 10:48 AM,30/Jul/19 10:48 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-orderer,,,,,0,,,,,"Current orderer readme is outdated, and most of the content are covered in our docs already. I think it could removed, or replaced with some simple writeup, like ""Orderer: This module provides the service that assigns total order to transactions with finality"" or similar.

wdyt [~joe-alewine] [~jyellick]",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ver:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Join Channel,FAB-16131,41500,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,sahilgoel,sahilgoel,30/Jul/19 6:12 PM,11/Aug/19 6:10 PM,28/Oct/23 3:09 AM,11/Aug/19 6:10 PM,v1.4.1,,,,,,,,,fabric-cli,fabric-peer,,,,0,,,,,"Hi,

 

I followed the following steps:

I define 3 Organisations in the config.tx and one channel profile in which consortium contains only 2 organisations.

 

I generated the artifacts and started the services on docker.

I created the channel and run the join command for the 2 organisation peers which were part of the consortium.

 

But when I tried to join the 3rd organisation peer, the command for the joins runs successfully and I can see the channel in the peer channel list.

 

So I think it not be able to Join the channel if it is not a part of the consortium.

 

In the peer logs of 3rd organisation I can see this:

ERRO 03b [korechain] Got error &\{FORBIDDEN}

 

And in the orderer logs:

Principal deserialization failure (MSP Org3MSP is unknown) for identity 0",,mastersingh24,sahilgoel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vgj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sahilgoel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Aug/19 6:10 PM;mastersingh24;[~sahilgoel]  - When you initially create a channel, you can only add organizations which are part of the consortium.  In order to add an organization which is not in the consortium, you will need to perform a channel update transaction to add the external organization (you also need to include all of the MSP information for the org in the config update - you can't just reference it by org/mspid);;;","11/Aug/19 6:10 PM;mastersingh24;This is working as designed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Kafka consensus from BYFN for Fabric v2.0,FAB-16132,41501,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,30/Jul/19 6:55 PM,04/Nov/19 1:35 AM,28/Oct/23 3:09 AM,06/Sep/19 9:56 PM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"Kafka is complicated to set up and operate, especially when multiple organizations want to run the ordering service. Raft is the best practice for Fabric v2.0, and should be the only option in the BYFN sample going forwards. This task will remove Kafka from BYFN.

Any users wishing to see how to configure Kafka - support is not being removed AFAIK - should consult previous tagged versions of the BYFN sample to see how it was done previously.",,lehors,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16996,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vgr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,sstone1,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Aug/19 10:21 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/32670;;;","09/Aug/19 2:57 AM;lehors;I don't see a related task to change the doc so I'm leaving this one open so you can reuse it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Solo consensus from BYFN for Fabric v2.0,FAB-16133,41502,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,30/Jul/19 6:56 PM,04/Nov/19 1:34 AM,28/Oct/23 3:09 AM,06/Sep/19 9:56 PM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"A Solo ordering node offers no benefits over a single node Raft ordering node. Raft is the best practice for Fabric v2.0, and should be the only option in the BYFN sample going forwards. This task will remove Solo from BYFN.

Any users wishing to see how to configure Solo - support is not being removed AFAIK - should consult previous tagged versions of the BYFN sample to see how it was done previously.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16996,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vgz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove chaincode deployment from BYFN for Fabric v2.0,FAB-16134,41503,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,sstone1,sstone1,sstone1,30/Jul/19 6:59 PM,30/Jul/19 6:59 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,"This task will remove the deployment and testing of the ABStore chaincode in BYFN. BYFN is a network sample that should demonstrate how to start and operate a basic Fabric network; it is not a sample intended to demonstrate the ABStore chaincode.

Any users wishing to deploy and test the ABStore chaincode will continue to be able to do this after starting BYFN by using the CLI or the SDKs to deploy the chaincode.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vh7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Status Page has broken links to wiki,FAB-16135,41516,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,ChristopherFerris,30/Jul/19 11:30 PM,08/Aug/19 4:38 AM,28/Oct/23 3:09 AM,08/Aug/19 4:38 AM,v1.4.2,,,,,,,,,fabric-docs,,,,,0,,,,,Status Page has broken links to wiki as a result of the wiki migration to Confluence.,,ChristopherFerris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrm:3",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move k8s templates to k8s folder under operator/templates,FAB-16137,41521,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,31/Jul/19 1:22 AM,31/Jul/19 3:45 AM,28/Oct/23 3:09 AM,31/Jul/19 3:45 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|i00vkr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 1:28 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32585/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
/fabric/common/ledger/blkstorage unit tests take too long,FAB-16138,41522,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,31/Jul/19 2:05 AM,01/Aug/19 2:30 AM,28/Oct/23 3:09 AM,31/Jul/19 11:52 PM,,,,,,v1.4.3,v2.0.0,,,fabric-ledger,,,,,0,ci-flake,,,,"/fabric/common/ledger/blkstorage unit tests sometimes time out, e.g.:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14114/console

{code:java}
12:02:45 panic: test timed out after 20m0s
12:02:45 FAIL	github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage	1200.391s
{code}


Another example where they succeed but take 860s:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14084/console


{code:java}
03:00:26 ok  	github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage	860.255s	coverage: 83.9% of statements
03:00:26 ok  	github.com/hyperledger/fabric/common/ledger/blockledger	0.258s	coverage: 32.3% of statements
03:00:26 ok  	github.com/hyperledger/fabric/common/ledger/blockledger/fileledger	1.880s	coverage: 94.3% of statements
{code}


",,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwr6z:zz69",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 4:30 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32594/;;;","31/Jul/19 11:23 PM;jyellick;Again https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14119/console;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE mutual tls failed,FAB-16139,41523,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,31/Jul/19 2:31 AM,01/Aug/19 5:44 AM,28/Oct/23 3:09 AM,01/Aug/19 5:44 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"PTE failed with mutual TLS:
info: [2019-07-30T17:03:53.627Z PTE 0 util]: [findOrgConnProfile] orgname(org1), input File list:  0=FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.628Z PTE 0 util]: [readConfigFile] input File:  FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.633Z PTE 0 util]: [readConfigFile] set pointer to FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.633Z PTE 0 util]: [findOrgConnProfile] orgname(org1) found File:  FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.633Z PTE 0 main]: [performance_main] org= org1, org Name= org1
info: [2019-07-30T17:03:53.633Z PTE 0 main]: [performance_main] peer channel CREATE, channel name:  testorgschannel0
info: [2019-07-30T17:03:53.633Z PTE 0 util]: [findOrgConnProfile] orgname(org1), input File list:  0=FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.633Z PTE 0 util]: [readConfigFile] input File:  FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.636Z PTE 0 util]: [readConfigFile] set pointer to FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.636Z PTE 0 util]: [findOrgConnProfile] orgname(org1) found File:  FAB-TEST/CITest/connection_profile_org1.yaml
info: [2019-07-30T17:03:53.636Z PTE 0 main]: [createOrUpdateOneChannel] org(org1) go path: 
info: [2019-07-30T17:03:53.636Z PTE 0 main]: [createOrUpdateOneChannel] channelTX:  /home/ibmadmin/go/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/channel-artifacts/testorgschannel0.tx
2019-07-30T17:03:53.637Z - debug: [Client.js]: extractConfigUpdate - start
info: [2019-07-30T17:03:53.638Z PTE 0 main]: [createOrUpdateOneChannel] Successfully extracted the config update from the configtx envelope:  /home/ibmadmin/go/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/channel-artifacts/testorgschannel0.tx
info: [2019-07-30T17:03:53.639Z PTE 0 util]: [getConnProfilePropCnt] prop (certificateAuthorities) cnt: 1
error: [2019-07-30T17:03:53.639Z PTE 0 util]: ReferenceError: org is not defined",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00vl7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 2:34 AM;dongming;https://gerrit.hyperledger.org/r/c/fabric-test/+/32588
https://gerrit.hyperledger.org/r/c/fabric-test/+/32592;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing error handling after EC-point query,FAB-16140,41525,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vieiramanoel,vieiramanoel,vieiramanoel,31/Jul/19 2:46 AM,31/Jul/19 9:44 AM,28/Oct/23 3:09 AM,31/Jul/19 9:44 AM,,,,,,v1.4.3,v2.0.0,,,,,,,,0,,,,,In file bccsp/pkcs11/pkcs11.go after searching for an ecpt point using function ecPoint the returned error is ignored and should appear at least as a warning,,mastersingh24,vieiramanoel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vln:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,vieiramanoel,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 9:43 AM;mastersingh24;[https://gerrit.hyperledger.org/r/32589]

https://gerrit.hyperledger.org/r/32600;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Notify users before admin certificate expire,FAB-16141,41526,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,yacovm,gatakka,gatakka,31/Jul/19 3:12 AM,17/Dec/19 5:49 AM,28/Oct/23 3:09 AM,06/Aug/19 8:26 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"If admin certificate that is stored in the ledger expire, there is no way to update it. This locks all administrative operations in the blockchain. 

This is edge case, but is very dangerous, because it ""locks"" the system in the current state. Endorsement and commits will work, but chaincode cannot be upgraded.

Adding some mechanism to update the admin certificate may open security issues, so the best option, in my opinion, is to notify the administrators in some way, lets say 1 month before expiration, so they can add new certificate before the expiration.",,denyeart,gatakka,mplisov,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vlv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,gatakka,mplisov,yacovm,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 3:19 AM;yacovm;[~angelo.decaro] , [~ales] , [~mastersingh24] , [~denyeart] - the context is that Ivan here got locked outside of his Fabric deployment (ouch... )

 

Do you think it's possible to add a warning for CA certificates and admin certificates a week before they expire?;;;","31/Jul/19 7:35 AM;yacovm;Actually, it might be because the authentication filter of the x509 expiration is blocking you [~gatakka] .

What is the error you get in the logs or the console? Can you elaborate?

Perhaps the right solution would be, to add a flag to the nodes that disable the expiration filter.;;;","31/Jul/19 2:05 PM;gatakka;The error message is (name is replaced with xxx):

Endorser and orderer connections initialized 
 Error: got unexpected status: BAD_REQUEST – error authorizing update: error validating DeltaSet: policy for [Value]  /Channel/Consortiums/xxxconsortium/xxxMsp/MSP not satisfied
 : signature set did not satisfy policy;;;","31/Jul/19 3:11 PM;yacovm;But where is the error of the expiration, [~gatakka] ?;;;","31/Jul/19 3:44 PM;gatakka;Let me go in details.

We expected certificates to last 10 years, they last only one. Because they were issued at almost the same the same time, all of them expired at the same time. Fabric stops accepting all of the requests. We generate new sets of certificates, using FabricCA, and replace all of them in MSP folder for Orderers and Peers. Ledger config update was not updated, only files in MSP folder for peers and orderers.

Fabric continue to work as expected - endorse and commit transactions.

When we decide to upgrade the chaincode, then we were unable to because policy was not satisfied. We use the same code/procedure for CC upgrade that we are using in the last 2 years. 

If we sign the config update request with the new admin certificate, that is in MSP/admincerts folder, we have error signature set did not satisfy policy

If we use the old (expired) certificate, we got this error:

Cannot run peer because error when setting up MSP of type bccsp from directory xxx: signing identit
 y expired Xh38m10.528815371s ago

We are using the scripts provided in fabric documentation for config update.;;;","03/Aug/19 8:59 AM;yacovm;{quote}Cannot run peer because error when setting up MSP of type bccsp from directory xxx: signing identity expired Xh38m10.528815371s ago{quote}

This error is an error from peer CLI.... don't use it with expired certs, just use an SDK or something.

I pushed a change set that adds a flag to disable the expiration check: https://gerrit.hyperledger.org/r/#/c/fabric/+/32695/;;;","08/Aug/19 12:49 AM;denyeart;[~yacovm] I added FixVersion of v2.0.0. What are your thoughts on a backport to release-1.4?;;;","08/Aug/19 1:21 AM;yacovm;I can't without also dragging [https://gerrit.hyperledger.org/r/#/c/fabric/+/32693/] with it;;;","08/Aug/19 1:42 AM;denyeart;[~yacovm] What are your thoughts on backporting [https://gerrit.hyperledger.org/r/#/c/fabric/+/32693/] to release-1.4?  :);;;","08/Aug/19 4:58 AM;yacovm;Had to take FAB-15532 as well which is an enhancement for the integration test framework.

FAB-15700 's backport is [https://gerrit.hyperledger.org/r/#/c/fabric/+/32768/]

FAB-16141 's backport is [https://gerrit.hyperledger.org/r/#/c/fabric/+/32773/] 

 

I'll let [~jyellick] decide if it's worth to merge them, but my personal opinion is that I'm sure that there will be at least one poor soul who will lock himself/herself out of its Fabric installation, and is using *1.4.x*  which is LTS, so it might be worth it.

 

Note, that I had to re-do FAB-16141 all over again and didn't cherry pick it, because the v2.0 code keeps drifting away from the good old 1.4.x codebase. 

 ;;;","17/Dec/19 5:40 AM;mplisov;[~yacovm] What is the decision on backporting  this feature to 1.4.x? 

If I understand correctly there is no chance to get out of such lockout without fix to orderer code, right?;;;","17/Dec/19 5:49 AM;yacovm;I backported it, look in the [integration test|https://github.com/hyperledger/fabric/blob/release-1.4/integration/e2e/cft_test.go#L471-L598] if you want to test it yourself. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Handling error in connection_profile.go under operator,FAB-16142,41527,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,31/Jul/19 3:18 AM,01/Aug/19 4:07 AM,28/Oct/23 3:09 AM,01/Aug/19 4:07 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|i00vm3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 3:29 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32591/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rollback ledger to a certain block and do peer node reset while it catching up the blocks,FAB-16143,41528,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,bharadwajambati1,bharadwajambati1,31/Jul/19 5:24 AM,11/Jan/21 2:34 AM,28/Oct/23 3:09 AM,11/Jan/21 2:34 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"*Description:*

Rollback ledger to a certain block on one channel while traffic is running in the network, and do peer node reset

*Steps:*
 # Launch a fabric network with 2 orderers(1 ordererorg) and 2 peers(1 org)
 # Create 1 channel, join peer to channel, install and instantiate chaincode and start sending the traffic
 # Takedown the peer2 when the block count reached to 1000 while traffic is running
 # Launch fabric tools container with peer node rollback -c <channel name> -b 500
 # After rolling back to 500 blocks, delete the fabric-tools pod and re-launch the peer2
 # While peer is catching up the blocks, delete the peer2 again and launch the fabric tools container with peer node reset command
 # It will reset to the genesis block by removing all the blocks in the peer2 ledger
 # Delete the fabric-tools pod and relaunch the network

*Observations:*
 # When peer node rollback is executed, it will roll back to 500 blocks and catches up, when peer2 is restarted.
 # When peer node reset is executed, it will reset the entire ledger and starts pulling the blocks from 1 when it ipeer2 is restarted",,bharadwajambati1,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17364,FAB-17365,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000e4:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix error message formatting in pkcs11 pkg,FAB-16144,41530,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,31/Jul/19 9:42 AM,31/Jul/19 9:42 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vmr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
refactor gossip coordinator function -- forEachTx(),FAB-16145,41531,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,Senthil1,Senthil1,Senthil1,31/Jul/19 10:46 AM,03/Dec/19 3:27 AM,28/Oct/23 3:09 AM,03/Dec/19 3:27 AM,,,,,,,,,,fabric-gossip,,,,,0,,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vmz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/19 3:27 AM;denyeart;Coordinator was recently refactored by [~caod] , closing.
[~Senthil1] If something else is still needed please re-open and add details.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need Application ACL for chaincode access control,FAB-16146,41532,,Story,Backlog,FAB,Fabric,software,denyeart,,,Low,,,conanoc,conanoc,31/Jul/19 11:55 AM,18/Jan/20 4:37 AM,28/Oct/23 3:09 AM,,v1.4.2,,,,,Future,,,,fabric-common,,,,,1,,,,,"There is no Application ACL for chaincode access control. It is guided to use client identity to control chaincode access in the chaincode itself ([https://hyperledger-fabric.readthedocs.io/en/release-1.4/chaincode4ade.html#chaincode-access-control).]

 

For example, It would be much convenient if there's some ACL to prevent clients to send transaction but allow querying. This could be implemented in two ways. One is by peers checking the ACL and the type of the request from clients. Another is by orderer checking the ACL and decide whether to accept the endorsement.

Possible ACL policy names could be:

ACL policy for invoking querying chaincodes on peer
   peer/Query: /Channel/Application/Readers

ACL policy for send transaction on orderer
   orderer/Transaction: /Channel/Application/Writers",,conanoc,fabianvarisco,iamksseo2,mastersingh24,vitorduarte,,,,,,,,,,,,,,FAB-6959,,,,,,,,,,,,,,,,,,FAB-7030,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vn7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),conanoc,fabianvarisco,iamksseo2,mastersingh24,vitorduarte,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 12:08 PM;iamksseo2;is triggered by 

[https://lists.hyperledger.org/g/fabric/message/6468?p=,,,20,0,0,0::relevance,,%22Read+only+node%22,20,2,0,32507518]



Hello,

I want to build blockchain network with two org.

Org1 can read and write block(include stateDB) while Org2 can not write.

Org2 can only recieve data which org1 produced.

 

I thought  this idea was very simple and there must be some way to do this.

But I can't find it.

I tried with ACL, but when I excluded org2 from writers, Org2 can't even update it's anchor peer.

I found out same question in stackoverflow([+{color:#0066cc}https://stackoverflow.com/questions/55242630/how-to-control-read-and-write-privileges-of-participating-peers-on-hyper-ledger{color}+])

unfortunately there is no answer.

 

So, please someone mail me how to to this.

I don't care those rights depends on peer or organazation.

 

Thanks.





 ;;;","13/Aug/19 2:25 AM;mastersingh24;The issue here is that from the peer's perspective, there is no way to distinguish a chaincode query (read) from a chaincode write.  Under the covers, the Invoke method is always called.  FAB-6959 is an open requirement to distinguish read-only operations.;;;","13/Aug/19 4:24 PM;conanoc;https://jira.hyperledger.org/browse/FAB-7030 also describes the same issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add in Commercial Paper to basic CI Pipeline,FAB-16147,41536,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,31/Jul/19 5:44 PM,15/Jan/20 1:50 AM,28/Oct/23 3:09 AM,15/Jan/20 1:50 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,"Add in Commercial Paper to basic CI Pipeline

Added makefile to call the compilation and lint as needed on the applications and contracts

Not testing as yet; but this step at least ensure the code is syntax correct",,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vnv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Oct/19 10:02 PM;rameshthoomu;[~mbwhite] Is this still open? If not, could you please close this.;;;","13/Jan/20 11:17 PM;mbwhite;Added as part of this PR... in review

 

[

[https://github.com/hyperledger/fabric-samples/pull/98]
 ];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ProposalResponsePayloads do not match error when chaincode build failed,FAB-16149,41541,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sstone1,sstone1,31/Jul/19 9:14 PM,02/Aug/19 6:26 PM,28/Oct/23 3:09 AM,01/Aug/19 3:38 AM,,,,,,,,,,,,,,,0,,,,,"The fabric-samples CI intermittently fails with the following error:

{noformat}
12:07:21  Error: could not assemble transaction: ProposalResponsePayloads do not match - proposal response: version:1 response:<status:200 > payload:""\n \254\321TK\331\230\232\\\300H`v\262\315\315\3259\345\272\252\020\347L\231\202\00532C\352\317u\022\315\007\n\266\007\022\233\007\n\006fabcar\022\220\007\032Y\n\004CAR0\032Q{\""color\"":\""blue\"",\""make\"":\""Toyota\"",\""model\"":\""Prius\"",\""owner\"":\""Tomoko\"",\""docType\"":\""car\""}\032V\n\004CAR1\032N{\""color\"":\""red\"",\""make\"":\""Ford\"",\""model\"":\""Mustang\"",\""owner\"":\""Brad\"",\""docType\"":\""car\""}\032]\n\004CAR2\032U{\""color\"":\""green\"",\""make\"":\""Hyundai\"",\""model\"":\""Tucson\"",\""owner\"":\""Jin Soo\"",\""docType\"":\""car\""}\032]\n\004CAR3\032U{\""color\"":\""yellow\"",\""make\"":\""Volkswagen\"",\""model\"":\""Passat\"",\""owner\"":\""Max\"",\""docType\"":\""car\""}\032V\n\004CAR4\032N{\""color\"":\""black\"",\""make\"":\""Tesla\"",\""model\"":\""S\"",\""owner\"":\""Adriana\"",\""docType\"":\""car\""}\032Z\n\004CAR5\032R{\""color\"":\""purple\"",\""make\"":\""Peugeot\"",\""model\"":\""205\"",\""owner\"":\""Michel\"",\""docType\"":\""car\""}\032W\n\004CAR6\032O{\""color\"":\""white\"",\""make\"":\""Chery\"",\""model\"":\""S22L\"",\""owner\"":\""Aarav\"",\""docType\"":\""car\""}\032W\n\004CAR7\032O{\""color\"":\""violet\"",\""make\"":\""Fiat\"",\""model\"":\""Punto\"",\""owner\"":\""Pari\"",\""docType\"":\""car\""}\032Y\n\004CAR8\032Q{\""color\"":\""indigo\"",\""make\"":\""Tata\"",\""model\"":\""Nano\"",\""owner\"":\""Valeria\"",\""docType\"":\""car\""}\032\\\n\004CAR9\032T{\""color\"":\""brown\"",\""make\"":\""Holden\"",\""model\"":\""Barina\"",\""owner\"":\""Shotaro\"",\""docType\"":\""car\""}\022\026\n\004lscc\022\016\n\014\n\006fabcar\022\002\010\003\032\003\010\310\001\""\r\022\006fabcar\032\0031.0"" endorsement:<endorser:""\n\007Org1MSP\022\252\006-----BEGIN CERTIFICATE-----\nMIICKDCCAc+gAwIBAgIRAKkeTW8txtSGvUOPLQ4Z58gwCgYIKoZIzj0EAwIwczEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh\nLm9yZzEuZXhhbXBsZS5jb20wHhcNMTkwNzMxMTEwMDAwWhcNMjkwNzI4MTEwMDAw\nWjBqMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN\nU2FuIEZyYW5jaXNjbzENMAsGA1UECxMEcGVlcjEfMB0GA1UEAxMWcGVlcjAub3Jn\nMS5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABAeS3F0NRcgs\npaC20BHbvXz59x6ys5sZ+6JT3G7sCDaGW4zuOQLBs1hhLvF0R51XixazRkibM7Fv\nYXl9ggR5GRKjTTBLMA4GA1UdDwEB/wQEAwIHgDAMBgNVHRMBAf8EAjAAMCsGA1Ud\nIwQkMCKAIGZYVgiiqBcXBqDUmMDPK+tit989TvnSi9nUknNwywaBMAoGCCqGSM49\nBAMCA0cAMEQCIAfD9XXNI6OX2EfDm2/xRyxYBbcI9V3lInalpzaFDEgTAiAsvqNQ\n038cQxFjvxa72QbYz/F5i2T9CAZ/8Bla/tIUsQ==\n-----END CERTIFICATE-----\n"" signature:""0E\002!\000\315\313Om\332rc\315\323\1775R\352>\301\354n\244\334n\311\237<\312\204 \324!.\306*x\002 \\\333/\237\350{W\262x\202\335\302H\177\027\232@;\224\250\264CB\277\303\250UB\306\235\342^"" > 
{noformat}

The error suggests that the smart contract is non-deterministic, but actually, the chaincode is failing during build time:

{noformat}
[31m2019-07-31 11:06:43.872 UTC [endorser] SimulateProposal -> ERRO 068[0m [mychannel][1534454a] failed to invoke chaincode name:""fabcar"" , error: Failed to generate platform-specific docker build: Error returned from build: 1 ""
> @ampretia/x509@0.4.0 install /chaincode/output/node_modules/@ampretia/x509
> node-gyp rebuild

gyp WARN install got an error, rolling back install
gyp ERR! configure error 
gyp ERR! stack Error: unexpected end of file
gyp ERR! stack     at Gunzip.zlibOnError (zlib.js:153:15)
gyp ERR! System Linux 4.4.0-97-generic
gyp ERR! command ""/usr/local/bin/node"" ""/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild""
gyp ERR! cwd /chaincode/output/node_modules/@ampretia/x509
gyp ERR! node -v v8.11.3
gyp ERR! node-gyp -v v3.6.2
gyp ERR! not ok 
npm WARN fabcar@1.0.0 No repository field.
{noformat}

This is happening because the CLI is only checking the response status from the first peer, and then goes on to ensure that all payloads from all peers match. In this case, the peer that fails to build the chaincode is not the first peer, it has an empty payload, and this fails to match with the ""proper"" payload from the first peer which did not have the same problem.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00voz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Service Discovery error when querying for config,FAB-16150,41542,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,yacovm,kopaygorodsky,kopaygorodsky,31/Jul/19 10:11 PM,22/Aug/19 8:03 AM,28/Oct/23 3:09 AM,22/Aug/19 8:03 AM,,,,,,,,,,,,,,,0,,,,,"[^channel.tx]request: 
{code:java}
request := discovery.NewRequest()
 request.OfChannel(channelId)
 request.AddConfigQuery()
{code}
An error appears in peer's logs: 
{code:java}
[discovery] configQuery -> ERRO 260 Failed fetching config for channel test-channel: config envelope is invalid: key Config.ChannelGroup.Groups[Orderer].Groups is nil
{code}
 after config query was sent to the Discovery Service. 

""test-channel"" is an application channel without Orderer section. ",,kopaygorodsky,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 10:51 PM;kopaygorodsky;block;https://jira.hyperledger.org/secure/attachment/17636/block",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vp7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kopaygorodsky,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Jul/19 10:14 PM;yacovm;Can you attach the latest config block of the channel? (peer channel fetch config);;;","01/Aug/19 8:39 PM;kopaygorodsky;[~yacovm] this bug happened because I had invalid URLs in AnchorPeers, so gossip hasn't functioned properly(errors like Cannot connect to the Endpoint, Error Deep probe of...). 
Now query for config works. 




 ;;;","01/Aug/19 8:46 PM;yacovm;I understand, but this is odd... I wonder if I'm doing something wrong in the channel config parsing.

 

[~jyellick] - his error is returned [from the parsing the config block |https://github.com/hyperledger/fabric/blob/master/discovery/support/config/support.go#L261] by the following code snippet:

 
{code:java}
for _, field := range []string{channelconfig.OrdererGroupKey, channelconfig.ApplicationGroupKey} {
   grp, exists := grps[field]
   if !exists {
      return fmt.Errorf(""key Config.ChannelGroup.Groups[%s] is missing"", field)
   }
   if grp.Groups == nil {
      return fmt.Errorf(""key Config.ChannelGroup.Groups[%s].Groups is nil"", field)
   }
} {code}

Is the code doing something fundamentally wrong? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE orderer assignment from all conn profiles,FAB-16151,41543,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,31/Jul/19 10:23 PM,01/Aug/19 5:44 AM,28/Oct/23 3:09 AM,01/Aug/19 5:44 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"PTE supports multiple connection profiles, the orderer assignment (such as round robin) need to be based on all orderers from all connection profiles.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00vpf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"31/Jul/19 11:49 PM;dongming;https://gerrit.hyperledger.org/r/c/fabric-test/+/32609;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
README for operator tool,FAB-16152,41545,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,31/Jul/19 10:42 PM,29/Jan/20 1:01 PM,28/Oct/23 3:09 AM,22/Jan/20 3:18 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Capture the instructions (and hints to address things that may cause users trouble) in a operator/README.md. We also have a Readme for the Launcher subdirectory already - however we just rebuilt that as part of the operator, so it is no longer a standaone tool, so we should remove it.

Maybe we should provide an example of how to run it locally, and point to the smoke test suite networkspec and testinput files and the testdriver in regression/smoke folder.

 ",,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzx8k",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"07/Jan/20 11:54 PM;bharadwajambati1;[https://github.com/hyperledger/fabric-test/pull/39/commits/48d6434b0171c02d8d5e76365b76dae2f9ece0f9];;;","22/Jan/20 3:18 AM;bharadwajambati1;[https://github.com/hyperledger/fabric-test/commit/f66cb31b22243002b9b1674b332566c7667045bd];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove final references to simulatecommit in CLI help text,FAB-16153,41546,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,denyeart,denyeart,31/Jul/19 10:59 PM,06/Aug/19 6:42 AM,28/Oct/23 3:09 AM,06/Aug/19 6:42 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,Grep of 'simulatecommit' still returns a few hits in the CLI help text.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vq3:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch peer-scoped lifecycle SCC functions (e.g. InstallChaincode) to be GRPC APIs instead,FAB-16154,41548,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,31/Jul/19 11:36 PM,02/Jul/20 4:17 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Since the peer-scoped system chaincode functions do not update any channel state, it would make more sense for them to be GRPC APIs on the peer rather than lifecycle system chaincode functions.

Functions to switch to GRPC APIs:
 InstallChaincode
 QueryInstalledChaincode
 GetInstalledChaincodePackage
 QueryInstalledChaincodes

Additionally consider new functions such as:

RemoveChaincode from peer.",,ales,denyeart,jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,FAB-16855,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15574,,,No,,Unset,No,,,"1|hzwrme:y",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,jyellick,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Launch prometheus server for System Test Suite,FAB-16155,41549,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,01/Aug/19 12:04 AM,08/Aug/19 3:51 AM,28/Oct/23 3:09 AM,08/Aug/19 3:51 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"And, make sure it is stated in the documentation (confirmed: find ""metrics"" in fabric-test/tools/operator/networkInput.md, in the networkspec file readme), when running k8s system tests or systestsuite, that user must start their cluster and start their prometheus server themselves (if they want to use prometheus for metrics) before running the k8s system tests.",,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00vqj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use bytes.Equal instead of bytes.Compare when doing equality checks,FAB-16156,41552,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,01/Aug/19 3:59 AM,02/Aug/19 10:32 PM,28/Oct/23 3:09 AM,02/Aug/19 10:32 PM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"As recommended in the godoc:

{quote}// Prefer Equal to Compare for equality comparisons.{quote}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mth:f9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Aug/19 11:42 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32637 [FAB-16156] bytes.Equal for equality checks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove disclaimers and references to the alpha,FAB-16157,41553,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,01/Aug/19 4:00 AM,10/Dec/19 3:57 AM,28/Oct/23 3:09 AM,05/Dec/19 2:59 AM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,Remove references to the alpha in the docs,,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rj:iwrj",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Aug/19 5:41 AM;negupta;We can open a CR when we are closer cutting 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stream code packages instead of returning them as byte slices.,FAB-16158,41554,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/Aug/19 5:44 AM,20/Aug/19 12:55 PM,28/Oct/23 3:09 AM,20/Aug/19 12:55 PM,,,,,,,,,,,,,,,0,ipm,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vrf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"TC# Rollback with large chains, restart during the rollback process",FAB-16159,41555,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,01/Aug/19 12:25 PM,10/Jan/20 9:32 AM,28/Oct/23 3:09 AM,10/Jan/20 9:32 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"A combined test (refer to the linked tests (done in v1.4.2) for details on validation steps):

# run sidedb traffic with private data collections
# rollback long chains, using rollback command first and then again with reset command option
# restart peers during rollbacks
# validate by confirming the rollbacked peers and all peers sync up, and anything else possible",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15797,FAB-15798,FAB-16032,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000e3:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/20 9:32 AM;scottz;This will be accomplished by two other tests running parallel with our new test framework - the restarts, and the traffic and rollback test.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace python test drivers of fabric-test test suites,FAB-16160,41556,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,01/Aug/19 12:58 PM,11/Jan/21 2:34 AM,28/Oct/23 3:09 AM,11/Jan/21 2:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Convert from python to golang or other means to run the tests and assert/validate the results and generate xml or whatever format is needed by FAB-15587 to report/display the results. Using golang might be a good choice, especially if we also convert the front end of the PTE test driver (PTE/CITest/scripts/gen_cfgInputs.sh) to golang so we could call that (along with the new launcher and operator tools) seamlessly.
Also must generate xml at the end, for the CI tools to retrieve and display results.

This includes all files in fabric-test/regression/*/*.py (such as fabric-test/regression/daily/systest_pte.py) in the smoke/daily/release/systemtest suites.

This does not include the behave tests, since those are being deprecated.

Python 2.7 reaches EOL at end of year 2019, so it would be preferable to get this done by then so we don't have to bother upgrading our python version.
",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,FAB-16063,,,,,,,,,,,FAB-16064,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-9,,Replace python test drivers of fabric-test test suites,To Do,No,,Not Required,No,,,"1|hzx30f:9r",,,,No,Not Required,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Golang Test Driver for System Test Suite Network1 Tests,FAB-16161,41557,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,01/Aug/19 1:09 PM,08/Aug/19 10:39 PM,28/Oct/23 3:09 AM,08/Aug/19 10:39 PM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,Replace the python wrapper POC.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16064,,FAB-15587,FAB-16061,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|hzwqrp:k",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
There are some warning in orderer log,FAB-16162,41558,,Bug,In Progress,FAB,Fabric,software,denyeart,,,Lowest,,nnao,nnao,nnao,01/Aug/19 3:48 PM,02/Mar/20 1:42 PM,28/Oct/23 3:09 AM,,v1.4.2,v2.1.0,,,,,,,,fabric-cli,fabric-common,,,,0,,,,,"I got below warning messages when executed byfn.sh
I supposed peer command forgot close some grpc connection. Also close function for grpc using ""defer"" in some peer command is not running..

{code:java}
$ docker logs orderer.example.com
...
2019-07-31 10:23:12.857 UTC [orderer.common.server] Main -> INFO 007 Starting orderer:
 Version: 2.0.0
 Commit SHA: c9a91c7d3
 Go version: go1.12.5
 OS/Arch: linux/amd64
2019-07-31 10:23:12.857 UTC [orderer.common.server] Main -> INFO 008 Beginning to serve requests
2019-07-31 10:23:15.704 UTC [comm.grpc.server] 1 -> INFO 009 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.25.0.7:58630 grpc.code=OK grpc.call_duration=23.216811ms
2019-07-31 10:23:15.707 UTC [fsblkstorage] newBlockfileMgr -> INFO 00a Getting block information from block storage
2019-07-31 10:23:15.715 UTC [orderer.commmon.multichannel] newChain -> INFO 00b Created and starting new chain mychannel
2019-07-31 10:23:15.718 UTC [comm.grpc.server] 1 -> INFO 00c streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.25.0.7:58628 grpc.code=OK grpc.call_duration=41.988015ms                                                                                                                       
2019-07-31 10:23:28.276 UTC [orderer.common.broadcast] Handle -> WARN 00d Error reading from 172.25.0.7:58644: rpc error: code = Canceled desc = context canceled
2019-07-31 10:23:28.276 UTC [comm.grpc.server] 1 -> INFO 00f streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.25$0.7:58644 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=15.392225ms  
2019-07-31 10:23:28.276 UTC [common.deliver] Handle -> WARN 00e Error reading from 172.25.0.7:58642: rpc error: code = Canceled desc = context canceled
2019-07-31 10:23:28.276 UTC [comm.grpc.server] 1 -> INFO 010 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.25.0$7:58642 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=21.00882ms 
2019-07-31 10:23:31.371 UTC [orderer.common.broadcast] Handle -> WARN 011 Error reading from 172.25.0.7:58652: rpc error: code = Canceled desc = context canceled
2019-07-31 10:23:31.371 UTC [comm.grpc.server] 1 -> INFO 013 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.25$0.7:58652 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=20.019014ms
2019-07-31 10:23:31.371 UTC [common.deliver] Handle -> WARN 012 Error reading from 172.25.0.7:58650: rpc error: code = Canceled desc = context canceled
2019-07-31 10:23:31.371 UTC [comm.grpc.server] 1 -> INFO 014 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.25.0.7:58650 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=25.612437ms
...
{code}",,denyeart,guoger,nnao,ShinsukeHasegawa,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vrn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,nnao,ShinsukeHasegawa,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Aug/19 4:43 AM;sykesm;The warning message is highlighting an unexpected context error. The {{peer}} that is referenced in the message is the grpc communications peer, not necessary the fabric peer.

This is likely an issue with the cli code.;;;","02/Aug/19 7:34 AM;nnao;Yes.  Sorry, I didn't make it clear enough. I wrote ""peer command"" as CLI(e.g. peer channel create, peer chaincode install, ...).
It is difficult because some warning depend on timing but I am trying to my best.;;;","21/Aug/19 12:59 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32840/;;;","13/Oct/19 2:53 PM;nnao;I had separate this issue 3 sub-tasks. Maybe I suppose the ""defer"" issue needs to refactoring.;;;","28/Nov/19 6:37 PM;guoger;[~nnao] hi, are you still planning to continue this patch? you'll need to resubmit PR via github. sorry about the inconvenience. ;;;","28/Nov/19 8:03 PM;nnao;Sure. I will resubmit PR via Github. Thanks.;;;","02/Mar/20 1:42 PM;denyeart;[~nnao] Are you still working this one?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PKCS11 tests fail when file with no EOF marker exists in system temp,FAB-16165,41564,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,btl5037,btl5037,01/Aug/19 10:38 PM,20/Sep/19 10:09 PM,28/Oct/23 3:09 AM,21/Aug/19 12:58 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"PKCS11 tests loop through the system temporary directory and attempt to read all files to find the keystore created in earlier step. If a file with no EOF marker, or a pipe exist in the directory, the pkcs11 tests permanently block waiting for an EOF marker.

Instead we should create a sub directory of the temporary directory to store the keystore",,btl5037,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vsz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 12:58 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32623/ merged in master ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make code package name predictable,FAB-16166,41565,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,01/Aug/19 11:38 PM,20/Aug/19 1:00 PM,28/Oct/23 3:09 AM,20/Aug/19 1:00 PM,,,,,,,,,,,,,,,0,,,,,"Presently, the code package file is determined by process of elimination.  This dates back to the original requirement for CAR compatibility, which was an archive format which was not a tar gzip, but was instead something else.  So, there was a need to be able to name a code package as 'Code-Package.tar.gz', or 'Code-Package.car' in order for commodity tooling not to get confused.


We have since dropped support for  CAR, so all archives can be required to be tar gzs.  Thus, let's require the package to be consistently named 'code.tar.gz'.

This has impacts in the peer CLI, the Java SDK, and the Node SDK.",,jyellick,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vt7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,troyronda,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update plugin examples to use the new evironment,FAB-16167,41566,39370,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bpbuch,bpbuch,bpbuch,01/Aug/19 11:49 PM,26/Aug/19 11:56 PM,28/Oct/23 3:09 AM,26/Aug/19 11:56 PM,,,,,,,,,,,,,,,0,,,,,The plugin examples currently still use the old environment configurations.  They should be updated to use the new model.,,bpbuch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vtf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bpbuch,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create protobuf parser for endorser transaction,FAB-16169,41569,41607,Sub-task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:07 AM,21/Nov/19 3:44 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"The current validation/committer component performs parsing of protobuf messages in several places (often unmarshalling the same field multiple times). This leads to confusing and bloated code and performance penalty. We should have a single point in the code where transactions are parsed, and it should be possible to perform this step in parallel. The rest of the validatior/committer component should be able to reuse the results of this step",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vu3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Perform header validation for endorser transactions,FAB-16170,41570,41607,Sub-task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:19 AM,21/Nov/19 3:29 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"After unmarshalling, fields of transaction messages must be validated against expected content/length/format and rejected if they do not comply. This step should be performed in parallel",,ales,mplisov,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vub:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,mplisov,yoheiueda,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use MSP dependency to validate identities and signatures,FAB-16171,41571,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:20 AM,02/Aug/19 11:17 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Transactions have creators, endorsers and various signatures - all of which must be validated (in parallel)",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vuj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Perform ACL validation for transactions,FAB-16172,41572,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:23 AM,02/Aug/19 11:16 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,the creator of transaction messages must be checked against pertinent policies (for instance endorser transactions must be signed by a channel writer),,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vur:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adjust ephemeral port usage to avoid conflict with default linux configuration,FAB-16173,41573,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/Aug/19 2:28 AM,13/Aug/19 5:28 AM,28/Oct/23 3:09 AM,13/Aug/19 5:28 AM,,,,,,v2.0.0,,,,fabric-common,,,,,0,ipm,,,,"By default, the linux kernel uses ports 32768 - 60999 as client ephemeral ports. We currently use ports 30000-40000 as the ephemeral port range in our integration tests. As you can see, they overlap.

This conflict can occur during our integration tests and surfaces as failure to bind to a high port and test failures.

We can avoid this by reworking the port bases and ranges to avoid these conflicts. If we want to handle the default configuration, we need to make sure we don't use ports that are between 32788 and 61000.

Note: if we want to do better in the future, when we're on linux, we can check the client range by looking at {{/proc/sys/net/ipv4/ip_local_port_range}}. Also, depending on how we intend to run, we don't need to reserve ranges for each suite if they won't run concurrently - only ranges per node. The way things are structured now, we reserve 100 ports per node and 1000 ports per suite.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r2",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Aug/19 12:31 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32675 FAB-16173 avoid explicit binding to ephemeral port;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define and Implement chaincode lifecycle dependency provider,FAB-16174,41574,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:29 AM,02/Aug/19 11:16 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"The validator/committer component requires chaincode lifecycle information to operate: for instance, given a chaincode, it needs to know the endorsement policy. An appropriate dependency interface must be defined and implemented",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vv7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define hook for alternate validation of endorser transactions,FAB-16175,41575,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:34 AM,02/Aug/19 11:15 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Historically, transactions in fabric could be validated by system chaincodes and later by go plugins - both of which aimed to be plug points so that alternative validation of endorser transactions could be defined. System chaincodes and go plugins are now being removed, and so the pluggable nature of validation should at least be preserved by defining a clear interface and using the ""validation"" field of a chaincode definition as a way of determining the correct implementation of that interface.

Alternatively, we could say that alternative validation of endorser transaction doesn't exist, we can only validate differently a different type of transaction. In this case, there is no need to even  have a field to store the alternate name of the system chaincode/plugin.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vvf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define and Implement channel information dependency provider,FAB-16176,41576,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 2:35 AM,02/Aug/19 11:15 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,The Validation/committer component will require information from the channel configuration (such as a provider for policies or one for capabilities),,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vvn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Perform endorser policy verification,FAB-16177,41577,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 3:11 AM,02/Aug/19 11:14 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Before a transaction commits, we must check that it is properly endorsed given
* the set of chaincode namespaces that are being written to
* the current endorsement policy for the chaincodes
* the current state-based endorsement policies

Validation must be performed by reusing as much precomputation as possible, all the while ensuring a linearisable history of transactions.",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vvv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Perform uniqueness checks over transactions,FAB-16178,41578,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 3:13 AM,02/Aug/19 11:14 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"txids are used as unique representations for transactions in the ledger, so as to ensure that no two valid transactions share the same txid. The validator/committer must enforce this invariant, while also ensuring that invalid transactions cannot ""claim"" a txid so that later an otherwise valid transaction is invalidated because of the falied uniqueness check",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vw3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pave the way for the removal of the txid field,FAB-16179,41579,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,02/Aug/19 3:15 AM,02/Aug/19 11:13 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"The txid field is unnecessary since it is computed by hashing nonce and creator fields, and must be verified anyway. The validator/commiter component must never use the txid field directly (other than to verify that it is correct) so that we may later remove this field from protobuf definitions and reduce the size of transactions",,ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vwb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-behave-master job: consistent failure on orderer.feature test cases (FAB-3851, FAB-3859) ",FAB-16180,41580,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,vijaypunugubati,vijaypunugubati,02/Aug/19 3:16 AM,20/Aug/19 6:57 AM,28/Oct/23 3:09 AM,20/Aug/19 6:57 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ci-failure,ipm,,,"The five failed tests all tried to send transactions containing Message Payloads of size 2MB or more. Tests with smaller payloads passed.
The logs for the behave and peer0.org1 are attached for debugging. That is the peer where the transaction proposals are sent in the testcases.
The tests were passing daily until the first failure on build #3​09 on Jul 28, 2019 1:02 AM GMT, and failed daily since then.
No changes were made to the tests.

Build: [https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312]

*Branch:* Master

*Platform:* x86_64

*Failed to run orderer.feature test cases:*

[orderer.Orderer Service.FAB-3851: Message Payloads of size 2MB, for solo orderer -- @1.2|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_2MB__for_solo_orderer_____1_2_/]

[orderer.Orderer Service.FAB-3851: Message Payloads of size 4MB, for solo orderer -- @1.3|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3851__Message_Payloads_of_size_4MB__for_solo_orderer_____1_3_/]

[orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 10MB with Configuration Tweaks -- @1.7|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_10MB_with_Configuration_Tweaks_____1_7_/]

[orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 2MB with Configuration Tweaks -- @1.5|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_2MB_with_Configuration_Tweaks_____1_5_/]

[orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 4MB with Configuration Tweaks -- @1.6|https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-behave-master-x86_64/312/testReport/orderer/Orderer%20Service/FAB_3859__Kafka_Network_with_Large_Message_Size_4MB_with_Configuration_Tweaks_____1_6_/]

 

*Error Snippet:* 
{code:java}
/And an admin deploys chaincode at path ""github.com/hyperledger/fabric-test/chaincodes/mapkeys/go"" with args [""init""] with name ""mapIt"" on channel ""configsz"" # steps/endorser_impl.py:143
    When a user invokes on the channel ""configsz"" using chaincode named ""mapIt"" with random args [""put"",""g"",""{random_value}""] of length 2097152                  # steps/endorser_impl.py:752
[""ok"",""request is set""]
[""ok"",""proposal sent""]
Proposal Response 0 of 1 responses.
All good
Now send transaction 
2019-08-01T07:26:13.131Z - [31merror[39m: [Channel.js]: sendTransaction - no valid endorsements found
[""error"",""Failed to send transaction and get notifications within the timeout period.""]
[""ok"",""Failed to order the transaction. Error code: Failed to send transaction and get notifications within the timeout period.""]
--------make-runnable-output--------
Failed to order the transaction. Error code: undefined
------------------------------------
    And I wait ""10"" seconds                                                                                                                                      # steps/basic_impl.py:24
    And a user queries on the channel ""configsz"" using chaincode named ""mapIt"" for the random key with args [""get"",""g""] on ""peer0.org1.example.com""              # steps/endorser_impl.py:423
    Then a user receives a response containing a value of length 2097152                                                                                         # steps/endorser_impl.py:1215
      Assertion Failed: Expected response to be of length 2097152; received length 0; Result: / code placeholder
{code}

*Behave.logs:*

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastUnstableBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/behave_tests.log]

*peer logs:*

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/lastUnstableBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/]

{color:#00875a}*Below links for the reference When the test cases are success.*{color}
{code:java}
/  And an admin deploys chaincode at path ""github.com/hyperledger/fabric-test/chaincodes/mapkeys/go"" with args [""init""] with name ""mapIt"" on channel ""configsz"" # steps/endorser_impl.py:143
    When a user invokes on the channel ""configsz"" using chaincode named ""mapIt"" with random args [""put"",""g"",""{random_value}""] of length 2097152                  # steps/endorser_impl.py:752
[""ok"",""request is set""]
[""ok"",""proposal sent""]
Proposal Response 0 of 1 responses.
All good
Now send transaction 
Results '[object Object]'. 
[""ok"",""2c75b073354439c3464ffda62905d86968694c7613626716f8d84930fd1a07d0""]
--------make-runnable-output--------
[""ok"",""2c75b073354439c3464ffda62905d86968694c7613626716f8d84930fd1a07d0""]
------------------------------------
    And I wait ""10"" seconds                                                                                                                                      # steps/basic_impl.py:24
    And a user queries on the channel ""configsz"" using chaincode named ""mapIt"" for the random key with args [""get"",""g""] on ""peer0.org1.example.com""              # steps/endorser_impl.py:423
    Then a user receives a response containing a value of length 2097152                                                                                         # steps/endorser_impl.py:1215
    And a user receives a response with the random value                                                                                                         # steps/endorser_impl.py:1202
Memory Info Before Network Teardown:
	Free: 6735142912
	Used: 3580776448
	Percentage: 34.1
/ code placeholder
{code}
{color:#172b4d}*Behave.logs:*{color}

{color:#172b4d}[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/308/Behave_Test_Logs/behave_tests.log.gz]{color}",,denyeart,scottz,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r3o",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,scottz,sykesm,vijaypunugubati,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/19 11:19 AM;denyeart;[~mastersingh24] [~sykesm] It looks like FAB-15947 / https://gerrit.hyperledger.org/r/#/c/fabric/+/32538/ regressed the maxRecvMsgSize/maxSendMsgSize of 100MB that has been used up until now. Need to restore that and check for any other network config that may have been regressed.;;;","07/Aug/19 1:36 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32746 FAB-16180 specific max send/recv messages sizes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Define a strategy for changes in validation that need capability checks,FAB-16181,41581,40757,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,02/Aug/19 3:19 AM,03/Aug/19 12:13 AM,28/Oct/23 3:09 AM,03/Aug/19 12:13 AM,,,,,,,,,,,,,,,0,,,,,"Any changes to the validator component that alter its behaviour must be gated by capabilities. There are currently 3 approaches on the table
# fork the validator and use the appropriate one given the capability
# maintain if/then/else switches that consider the capability
# use function pointers

All have their shortcomings, and fabric has adopted all of them inconsistently in different components. We must design a proper approach to handle this and use it throughout.",,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vwr:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/19 12:12 AM;denyeart;[~ales] I think we concluded that forking is acceptable for large validation refactorings, while we can use if/then for very small changes. 
Many people have difficulty reading function pointer code, so in my opinion its not a good choice for the most critical piece of code in an open source project.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve validation flow: Simplify dependency on CollectionStore in gossip,FAB-16182,41582,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,caod,caod,02/Aug/19 3:20 AM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"We don't use CollectionStore anywhere else besides in the Puller/Fetcher and for getting AccessPolicies for determining ineligibility. Lets break up CollectionStore into two interfaces, one for providing a SimpleCollection and one that SimpleCollection will implement similar to the existing CollectionStore interface. We can also rename CollectionStore since it's not reflective of what the interface is used for.",,caod,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyyr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/19 4:20 AM;caod;After some discussion with [~manish-sethi] we've decided that this work is too much effort and not required for the validation path refactor to do at this moment. Throwing this back in the backlog to address in the future. Some considerations we talked about were that we want to pass around a real SimpleCollectionStore that wraps the QueryExecutorFactory, ChaincodeInfoProvider, and IdentityDeserializerFactory, but all of the existing tests in coordinator and puller are reliant on mocking the CollectionStore interface. Making any minor changes to the interface or pulling anything into a real breaks the entire structure of how the tests are organized right now and refactoring the tests has become a large scale endeavor.;;;","13/Aug/19 4:35 AM;caod;Some initial attempts in [https://gerrit.hyperledger.org/r/c/fabric/+/32861/1] and [https://gerrit.hyperledger.org/r/c/fabric/+/32854/1];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update smart contract concept doc,FAB-16183,41584,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,02/Aug/19 5:44 AM,04/Oct/19 12:40 AM,28/Oct/23 3:09 AM,04/Oct/19 12:40 AM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,Update smart contract concept doc for lifecycle since we only added a disclaimer for the alpha,,denyeart,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rj:iwri",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,negupta,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/19 9:47 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32650/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
JOB_TYPE=VERIFY is broken,FAB-16184,41585,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Aug/19 6:06 AM,30/Jan/20 12:32 AM,28/Oct/23 3:09 AM,02/Aug/19 9:11 PM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,ipm,,,,"We added {{set -e -o pipefail}} to {{run-unit-tests.sh}} and it did what it was supposed to do. When the grep buried in {{packages_diff}} exited with a non-zero RC, the pipe failed.

Once that's fixed, we have an issue where the result of that function is a new line separated list of packages. Now that we treat packages and args as arrays, the entire list became a single argument to {{go list}} and that broke other things.

<sigh/>",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17454,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vxn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Aug/19 6:13 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32649 [FAB-16184] fix make verify;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Index transactions with duplicate Txids,FAB-16189,41591,42204,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,02/Aug/19 12:01 PM,11/Sep/19 2:56 AM,28/Oct/23 3:09 AM,11/Sep/19 2:56 AM,v1.4.3,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"In the current code, we index only one transaction (the first one) with a txid. This is a rare scenario that we will encounter more than one transaction with same txid. However, this requires looking up in the index for the detection of duplicate Txid during commit path.

Instead, index all the transactions without looking for txids duplication. This requires the index key for a transaction to include blockNum/TranNum to make the key unique. Hence, a rebuild of index would be needed.",,baohua,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10587,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008rj:iwy1r",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,manish-sethi,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Sep/19 5:04 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/33403/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Store block metadata in a separate location,FAB-16190,41592,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,wenjian,manish-sethi,manish-sethi,02/Aug/19 12:12 PM,18/Nov/20 12:11 AM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,"We should store Block metadata that is generated on the validating peer in a separate location (say a separate leveldb instance) instead of in the block itself.

This makes reset/rollback much efficient because, this would not need to delete the block files and instead only deleting the relevant metadata would be sufficient.

In a long term, this promises to make block commit process also efficient as the raw blocks can be committed to block files as is as they arrive and processing of blocks can happen asynchronously.

However, this requires one time building of the separate metadata store by parsing the existing metadata in the blockfiles.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|i00wur:c",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Persist block metadata generated at peer (validation flag and commit hash) in a separate location,FAB-16191,41593,41592,Sub-task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,wenjian,manish-sethi,manish-sethi,02/Aug/19 12:14 PM,27/Nov/19 7:39 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,,,manish-sethi,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vzf:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/19 11:43 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33994/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify Rollback/Reset code based on separate metadata location,FAB-16192,41594,41592,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,02/Aug/19 12:15 PM,02/Dec/19 9:15 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vzn:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Build one-time utility code to populate metadata store from existing blocks,FAB-16193,41596,41592,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,02/Aug/19 12:18 PM,02/Dec/19 9:15 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,"At peer start detect that this is the first time this binary is being used. If detected so, populate the separate metadata store from existing metadata present in already committed blocks.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00vzk:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify statedb/historydb/blockstore index recovery code to take into account the separate metadata store,FAB-16194,41597,41592,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,02/Aug/19 12:21 PM,02/Dec/19 9:15 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w0b:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify ledger queries related to block storage to take separate metadata location into account,FAB-16195,41598,41592,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,wenjian,manish-sethi,manish-sethi,02/Aug/19 12:22 PM,02/Jun/23 11:34 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w0j:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generated connection profiles not ignored by Git,FAB-16197,41604,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sstone1,sstone1,02/Aug/19 10:25 PM,08/Aug/19 9:11 AM,28/Oct/23 3:09 AM,08/Aug/19 9:11 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w1n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""go mod vendor"" not run for FabCar CI tests",FAB-16198,41606,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sstone1,sstone1,02/Aug/19 10:57 PM,09/Aug/19 2:59 AM,28/Oct/23 3:09 AM,09/Aug/19 2:59 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w1v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement EndorserTxProcessor,FAB-16199,41607,,Story,In Progress,FAB,Fabric,software,denyeart,,,Medium,,ales,denyeart,denyeart,02/Aug/19 11:08 PM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyz",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ConfigTxProcessor,FAB-16200,41608,,Story,In Progress,FAB,Fabric,software,denyeart,,,Medium,,muralisr,denyeart,denyeart,02/Aug/19 11:08 PM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyzi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/19 11:12 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33442/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ConfigTxProcessorCreator,FAB-16201,41609,,Story,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,muralisr,denyeart,denyeart,02/Aug/19 11:10 PM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,denyeart,manish-sethi,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyz9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/19 11:14 PM;muralisr;[https://gerrit.hyperledger.org/r/#/c/fabric/+/32990/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New DeliverWithPrivateData grpc service and protobuf msg for block and private data,FAB-16202,41610,33852,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,02/Aug/19 11:20 PM,23/Aug/19 4:01 AM,28/Oct/23 3:09 AM,23/Aug/19 4:01 AM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w2r:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/19 2:28 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/32710/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement DeliverWithPrivateData grpc service,FAB-16203,41611,33852,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,02/Aug/19 11:21 PM,05/Sep/19 10:04 PM,28/Oct/23 3:09 AM,05/Sep/19 10:04 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w2z:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/19 4:00 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/32755/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid signature matching for collection membership detection,FAB-16204,41612,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ales,denyeart,denyeart,02/Aug/19 11:33 PM,02/Aug/19 11:34 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i00w37:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode images can fail to build without environmental configuration,FAB-16205,41613,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,davidkel,davidkel,02/Aug/19 11:47 PM,03/Aug/19 3:05 AM,28/Oct/23 3:09 AM,03/Aug/19 3:05 AM,v1.4.2,v2.0.0,,,,v1.4.3,v2.0.0,,,fabric-peer,,,,,0,,,,,"Node chaincode, Java chaincode and possibly Go chaincode have a need to connect to remote repositories. That connection or destination may have to be configured explicitly. For example a proxy has to be defined or for node you want to use alternative repositories to the standard ones used by the chaincode container builders.

These configuration values could be passed somehow within the chaincode package, for example, node, you can include a .npmrc file to provide these configuration values, however these values may be specific to a single org meaning another org would have to have a slightly different chaincode package which would be a problem. But it might not be possible for other languages. And then you have to set it on all chaincode packages as well.

It should be possible to provide specific environment variables and their values which can be inherited by the chaincode builder container from the peer to provide appropriate configuration for a specific environment. We don't want to pass all the peers env vars to the chaincode container so it should be a restricted set. I don't think we should hard code that set as this would be too inflexible. A couple of suggestions (but welcome other suggestions)
1. A single env var that contains a list of env vars and their values
2. The env vars are prefixed with something like `BUILDER_`. Any env var with the prefix would be passed to the chaincode container without the prefix. 
",,davidkel,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w3f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Aug/19 3:05 AM;sykesm;We are explicitly moving towards a model where chaincode is not built or launched by the peer. As that's happening, it will be responsibility of external chaincode builders and launchers to control their environment.

In the meantime, the peer allows operators to explicitly replace the builder and runtime images used for building and running java, node, and go chaincode. If extra environment variables are needed, they can be be populated there.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External builder detect should not need to parse flags,FAB-16206,41617,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,03/Aug/19 3:29 AM,14/Sep/19 8:34 AM,28/Oct/23 3:09 AM,14/Sep/19 8:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The first pass of the detect, compile, launch infrastructure was implemented with a collection of  command line switches. This will become unwieldy over time as implementers will have difficulties ignoring unknown flags and parameters - especially flags that accept values.

Instead we should remain consistent with the buildpack model that already exists - namely, we provide a list of directories that contain extracted files. If we need to provide more data, we can add an additional argument or populate additional files. This means that implementations should ignore extra arguments as a general rule until they know what they point to.

detect should be provided a directory containing metadata.json (holding metdata as a basic map) and a reference to a directory containing the exploded source.

Acceptance: external scripts do not need to process flags; existing parameters are reworked to fit this model.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16215,FAB-16216,,,,,,,FAB-14491,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:rui9i",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce scope of core/container/util to platforms and relocate,FAB-16207,41618,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/Aug/19 3:54 AM,10/Aug/19 2:09 AM,28/Oct/23 3:09 AM,10/Aug/19 2:09 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r2i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/19 6:54 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32720 FAB-16027 move platforms#Builder to its own file
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32721 FAB-16207 remove unreferenced javaExcludeFileTypes
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32722 FAB-16207 remove WriteBytesToPackage from util
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32723 FAB-16207 remove Env from DockerBuildOptions
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32724 FAB-16207 remove WriteStreamToPackage
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/32725 FAB-16207 move archive processing to platforms;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing orderer capability in configtx.yaml,FAB-16208,41619,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,03/Aug/19 4:35 AM,11/Sep/19 2:16 AM,28/Oct/23 3:09 AM,11/Sep/19 2:16 AM,,,,,,v1.4.2,v2.0.0,,,fabric-common,,,,,0,,,,,,,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w43:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 4:41 AM;denyeart;merged in release-1.4: [https://gerrit.hyperledger.org/r/#/c/fabric/+/32686/]

Need to make similar update in master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot join new peer to the network,FAB-16209,41623,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,Cherep,Cherep,03/Aug/19 6:16 AM,13/Aug/19 3:02 AM,28/Oct/23 3:09 AM,13/Aug/19 3:02 AM,,,,,,,,,,,,,,,0,,,,,"I have a network, where I dynamically add new orderers to the network one by one.
 Every time I run update config transaction and add new orderer to the
 channel_group.values.OrdererAddresses.value.addresses
 and to the
 channel_group.groups.Orderer.values.ConsensusType.value.metadata.consenters

So my initial config contains only 1 orderer.
 In my flow I join few orderers to the network and then I kill the first orderer which was in initial config.

After this I cannot join new peer to the channel,
 when I run 
 cli peer channel fetch 0 -o ${ORDERER_HOST}:7050 -c $CHANNEL_NAME
 cli peer channel join -b ${CHANNEL_NAME}_0.block

I can see in the peer logs: ""Could not connect to any of the endpoints: [firstOrdererIp:7050]""

As I understand during start peer takes initial config orderer addresses and try join them. but in my case 1 orderer is dead, so it cannot join to it.
 Can I somehow force peer to use addresses from last config block?

Or manually set which orderer I want to communicate to?",,Cherep,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w4b:",,,,Unset,Unset,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),Cherep,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/19 2:58 AM;wlahti;Please use the #fabric or #fabric-orderer channels on Rocketchat ([https://chat.hyperledger.org/home]) to seek troubleshooting help with this issue. ;;;","13/Aug/19 3:02 AM;wlahti;Closing this item as we like to keep Jira focused on bugs, improvements, etc. and not troubleshooting.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add script to install chaincode peer1.org1,FAB-16210,41629,,Task,Backlog,FAB,Fabric,software,denyeart,,,Low,,,amuyu,amuyu,05/Aug/19 1:36 PM,10/Aug/19 8:47 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,"The first-network consists of four nodes. However, since the {{byfn}} script installs chaincode for test only on 3 peers. So, an error occurs when invoking the 4 peers from the HLF client.

Of course, you do not need to get success from 4 peers,
but I think you should install all for the convenience of the beginners.

 

https://github.com/hyperledger/fabric-samples/pull/61",,amuyu,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w5n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),amuyu,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Aug/19 11:54 PM;lehors;Hi,

Thank you for your contribution but where does the 4th peer get invoked? Do you mean when the user invokes it outside of the BYFN script?

I believe the intention actually was to show that not all peers have to be endorsing peers so I'm not sure making that change is the right thing to do.

 ;;;","10/Aug/19 8:47 AM;amuyu;I understand that not all peers need to be endorsing peers.

I'm just starting to study fabric. After building the first-network using the byfn script, I'm testing with fabric-sdk.
So, I invoked it outside of byfn script. Without knowing the fabric yet, running failed and it took a long time to find the error. Perhaps when a lot of fabric beginners like me try to build a network and run things through the byfn script,
I think they may encounter errors like me.

In that case, I think it would be difficult to install and call chaincode directly on the peer. (For beginners without knowing why chaincode is not installed on one peer)

 

If you need, please write what you intended in the guide or install chaincode on all peers. (For beginners) 

(guide : https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html#install-prerequisites)

 

Thank you

 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove sync up between pvtdataStore and blockstore,FAB-16211,41633,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,05/Aug/19 7:59 PM,14/Aug/19 7:33 AM,28/Oct/23 3:09 AM,14/Aug/19 7:33 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"With the introduction of peer reset/rollback, we make the gossip to fetch pvtData from the local store if available. Further, we make the pvtdata reconciler to not fetch pvtData when the pvtstore is ahead of the blockstore. As we allow the pvtstore height to be greater than the blockstore height, we can safely remove the synchronization between pvtstore and blockstore.",,denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w6j:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,Senthil1,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 11:32 AM;manish-sethi;Adding the link to the relevant discussion and the reasoning for this conclusion - https://gerrit.hyperledger.org/r/#/c/fabric/+/32449/2/core/ledger/ledgerstorage/store.go@348;;;","14/Aug/19 7:11 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32706/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end failure: The chaincode language node is not supported by this script,FAB-16212,41637,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,vijaypunugubati,denyeart,denyeart,05/Aug/19 10:03 PM,06/Aug/19 10:12 PM,28/Oct/23 3:09 AM,06/Aug/19 10:12 PM,,,,,,,,,,fabric-samples,,,,,0,ci-blocker,,,,"fabric-merge-end-2-end job is failing since August 2nd due to:


{code:java}
15:38:19 The chaincode language node is not supported by this script
15:38:19 Supported chaincode languages are: go, javascript, java
15:38:19 ERROR !!!! Test failed
{code}


e.g. see:
https://jenkins.hyperledger.org/job/fabric-merge-end-2-end-x86_64/6004/consoleFull
https://gerrit.hyperledger.org/r/#/c/fabric/+/32575/

Perhaps this is related to fabric-samples
https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/32665/ ?",,denyeart,sstone1,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w7f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sstone1,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Aug/19 10:05 PM;denyeart;[~sstone1] Can you take a look?;;;","05/Aug/19 10:29 PM;vijaypunugubati;I saw the [~sstone1] CR merged [https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/32665/]  if this is correct I have to make changes on CI scripts used in fabric merge and daily jobs.;;;","05/Aug/19 10:57 PM;sstone1;[~vijaypunugubati] yes, please change the CI jobs from `node` to `javascript` - sorry, I wasn't aware the BYFN sample was used in these jobs!;;;","06/Aug/19 10:12 PM;vijaypunugubati;[https://gerrit.hyperledger.org/r/#/c/ci-management/+/32711/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove ext/entities from the go chaincode packages,FAB-16213,41638,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Aug/19 10:54 PM,09/Feb/20 11:04 PM,28/Oct/23 3:09 AM,19/Aug/19 11:06 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,ipm,,,,"The dependency on bccsp prevents proper structuring of the code and will result in a rewrite of the package. The proposal from [~mastersingh24] is to remove the code and, if we need to recreate it, we can do it when the package has been extracted from fabric.

Acceptance: there are no fabric dependencies in shim extensions other than the protos.",,davidkhala,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16016,FAB-16017,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r3",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Yes,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,scottz,sykesm,,,,,,,,,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,mergify/bp/release-2.2/pr-4374,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,true,"06/Aug/19 7:15 AM;sykesm;fabric test: https://gerrit.hyperledger.org/r/c/fabric-test/+/32726 FAB-16213 remove encc_example code and test
fabric: https://gerrit.hyperledger.org/r/c/fabric/+/32727 FAB-16213 remove shim/ext/entities;;;","06/Aug/19 7:21 AM;sykesm;System test impact: we no longer have the {{github.com/hyperledger/fabric/core/chaincode/shim/ext/entities}} package. If there are system tests that exploit this functionality, we need to discuss.

/cc [~scottz];;;","06/Aug/19 8:29 AM;scottz;The only impacted tests we have are those two Behave daily test scenarios in fabric-test/feature/chaincodes.feature.
To replace them with equivalents in fabric IT, I had created two testtasks FAB-16016 and FAB-16017.
If we are removing the code, then we could abandon/close those two issues, as well as disable those two tests now.;;;","09/Feb/20 3:44 PM;davidkhala;Is there a recent plan to recover the removed 
{code:go}
github.com/hyperledger/fabric/core/chaincode/shim/ext/entities
{code}
back in somewhere else?

;;;","09/Feb/20 11:04 PM;sykesm;No. If you wish you use that package, you’ll need to vendor it (and its dependency tree) from the 1.4 tree using the tools of your choice. The package was removed as it required bccsp - a package that is not intended for consumption by applications or chaincode.

We are, however, open to contributions that provide a data-compatible implementation which does not add additional dependencies to fabric-chaincode-go.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove pkg/errors dependency from shim/ext packages,FAB-16214,41639,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,mastersingh24,mastersingh24,05/Aug/19 11:12 PM,06/Aug/19 3:22 AM,28/Oct/23 3:09 AM,06/Aug/19 3:22 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15947,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w7n:",,,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Aug/19 11:47 PM;mastersingh24;https://gerrit.hyperledger.org/r/c/fabric/+/32707;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External builder build should not need to parse flags,FAB-16215,41642,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,06/Aug/19 12:33 AM,14/Sep/19 8:34 AM,28/Oct/23 3:09 AM,14/Sep/19 8:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The first pass of the detect, compile, launch infrastructure was implemented with a collection of  command line switches. This will become unwieldy over time as implementers will have difficulties ignoring unknown flags and parameters - especially flags that accept values.

Instead we should remain consistent with the buildpack model that already exists - namely, we provide a list of directories that contain extracted files. If we need to provide more data, we can add an additional argument or populate additional files. This means that implementations should ignore extra arguments as a general rule until they know what they point to.

build should receive receive arguments for the metadata directory, a directory containing the extracted source, and a directory for it to store its output.

Acceptance: external scripts do not need to process flags; existing parameters are reworked to fit this model.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:rui9o",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External builder launch should not need to parse flags,FAB-16216,41643,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,06/Aug/19 12:34 AM,14/Sep/19 8:34 AM,28/Oct/23 3:09 AM,14/Sep/19 8:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The first pass of the detect, compile, launch infrastructure was implemented with a collection of  command line switches. This will become unwieldy over time as implementers will have difficulties ignoring unknown flags and parameters - especially flags that accept values.

Instead we should remain consistent with the buildpack model that already exists - namely, we provide a list of directories that contain extracted files. If we need to provide more data, we can add an additional argument or populate additional files. This means that implementations should ignore extra arguments as a general rule until they know what they point to.

launch receives directory containing metadata, the source the directory, the output directory from build, and an artifacts directory that contains file necessary for launch (key, cert, address, etc.). The artifacts must have well known names.

Acceptance: external scripts do not need to process flags; existing parameters are reworked to fit this model.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16206,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:rui9u",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix peer node cmd preamble/postscript,FAB-16218,41645,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,06/Aug/19 1:06 AM,24/Aug/19 3:52 AM,28/Oct/23 3:09 AM,24/Aug/19 3:52 AM,,,,,,v1.4.3,v2.0.0,,,fabric-peer,,,,,0,,,,,need to update the peer node command preamble and postscrip.,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w8b:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 1:30 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32712/ merged in master.

[~Senthil1] Still needed in release-1.4, I think it will not be simply cherry pickable due to other differences between the releases.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests for DeliverWithPrivateData,FAB-16219,41646,33852,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,06/Aug/19 2:28 AM,04/Oct/19 12:38 AM,28/Oct/23 3:09 AM,04/Oct/19 12:38 AM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w8j:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/19 12:31 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/32796/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add GOPATH in connection profile generated by networkLauncher,FAB-16220,41647,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rameshthoomu,rameshthoomu,rameshthoomu,06/Aug/19 2:29 AM,07/Aug/19 10:44 PM,28/Oct/23 3:09 AM,07/Aug/19 10:44 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add GOPATH in connection profile generated by networkLauncher. The existing launcher.go code doesn't add GOPATH in the connection profile so the installation of  ""node"" and ""java"" chaincodes are not working. https://github.com/hyperledger/fabric-test/blob/master/tools/PTE/CITest/CIConnProfiles/test-network/config.yaml#L8

I have tested both chaincodes adding GOPATH in the connection profile and observed it's working as expected.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w8r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/19 10:44 PM;rameshthoomu;The output of this task will block the common connection profile. So, it's a good idea to update PTE client code to make this work or use some workaround.

for now I have added a workaround here https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32393/9/tools/PTE/CITest/k8s_testsuite/scripts/operator.sh@72;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert fabric-test daily pte test driver from python to go,FAB-16222,41649,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,bharadwajambati1,scottz,scottz,06/Aug/19 2:53 AM,04/Dec/19 12:02 AM,28/Oct/23 3:09 AM,04/Dec/19 12:02 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Convert fabric-test/regression/daily/systest_pte.py, which is used for the cron job daily test suite.
 Once systestsuite is running, we can abandon the python wrapper and use go test driver.

For all supported releases 1.4 and master/2.0.",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzxr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/19 6:03 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34445/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consensus type can be changed on a running network after bootstrapping [Kafka -> Raft] - documentation needs correction,FAB-16223,41650,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,pvrbharg,pvrbharg,06/Aug/19 2:54 AM,19/Apr/20 2:12 PM,28/Oct/23 3:09 AM,,v1.4.0,,,,,,,,,fabric-docs,fabric-orderer,,,,0,,,,,"The documentation has contradictory and inconsistent information and we need to correct it. Specifically - please remove statements indicated below in double quotes ["" ""].

 

First link has the incorrect statement. 

Second link is the proof that the statement is incorrect [since on a running network - after bootstrapping - we can change consensus from Kafka to Raft - using configtxn]

https://hyperledger-fabric.readthedocs.io/en/release-1.4/config_update.htmlhttps://hyperledger-fabric.readthedocs.io/en/release-1.4/config_update.html

""Note that once the consensus type has been defined and the network has been bootstrapped, it is not possible to change it through a configuration update.""

[https://hyperledger-fabric.readthedocs.io/en/release-1.4/kafka_raft_migration.html]

 

Please remove all references else where as well. Thanks.",,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00w9f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Golang Test Driver for fabric-test for LTE, replacing py drivers",FAB-16224,41651,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,06/Aug/19 2:55 AM,14/Nov/19 6:19 AM,28/Oct/23 3:09 AM,14/Nov/19 6:19 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Convert fabric-test/regression/smoke/ledger_lte_smoke.py for the verify job (smoke test suite).
Convert fabric-test/regression/daily/ledger_lte.py for the daily job.

For all supported releases.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16895,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|i00w9n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/19 6:19 AM;scottz;LTE is being removed from fabric-test. No need for this. Refer to FAB-16895.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private data reconciliation intelligence to suppress indefinite retries,FAB-16225,41652,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,denyeart,denyeart,06/Aug/19 2:57 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,08/Jan/20 1:31 PM,,,,,,,,,,fabric-gossip,fabric-ledger,,,,0,,,,,"Reconciliation should be intelligent enough to not retry pulling private data forever, based on some new configuration settings.

This may be important in the following scenarios:
 * private data is not available on any collection member, either because it was missing from the start, the peers that had the private data have gone away from the network, or peers had archived old blocks or have been more recently bootstrapped from a later snapshot.
 * In some network level backup/restore scenarios, it may be acceptable to restore peers to a lower height than ordering service, implying that the private data between the heights is now missing.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzwqfn:x",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create constructors for SimpleCollection,FAB-16226,41653,41582,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,06/Aug/19 2:58 AM,15/Aug/19 10:09 PM,28/Oct/23 3:09 AM,15/Aug/19 10:09 PM,,,,,,,,,,,,,,,0,,,,,"In many places we do the following:

```
 sc := &SimpleCollection{}

err := sc.Setup(...)

```
 This seems unnecessary and we should encapsulate this behavior in a constructor. Let's create the following:

```
 NewSimpleCollection(...) // takes same arguments and executes same behavior as Setup(), requires a CollectionConfig to be passed and will be used by PrivateDataProvider

NewSimpleCollectionByCollectionCriteria(...) // this constructor allows us to pass in the SimpleQueryExecutor, ChaincodeInfoProvider, and IdentityDeserializerFactory dependencies to fetch the CollectionConfig directly from the constructor

```

 

For now let's keep Setup as is for consumers that already have a SimpleCollection beyond an empty SimpleCollection so they can still call Setup as needed.",,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wa3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable fabric-test OTE tests in all releases,FAB-16227,41654,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,06/Aug/19 3:04 AM,03/Dec/19 12:55 PM,28/Oct/23 3:09 AM,03/Dec/19 12:55 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Rather than convert fabric-test/regression/smoke/orderer_ote.py from python to golang, since we are deprecating OTE in master already, just disable it in all releases.

For all supported releases.
Note: OTE is disabled in master branch.",,bharadwajambati1,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16896,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzyi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/19 12:18 AM;rameshthoomu;When we don't maintain them in future, why to keep them in code repository. [~scottz];;;","15/Nov/19 3:50 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34375/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Golang Test Driver for fabric-test daily job CATestSuite, replacing py driver",FAB-16228,41655,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,06/Aug/19 3:09 AM,22/Jan/20 6:32 AM,28/Oct/23 3:09 AM,22/Jan/20 6:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Convert fabric-test/regression/daily/ca_tests.py from python to golang.

For all supported releases.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16897,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rbi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/19 7:23 AM;scottz;Note: we may move this to fabric-ca repo, instead of maintaining it in fabric-test. If so, then it is unclear how we would run these tests, or what test driver will be needed. TBD.

Contacts: Gari S., Brett Logan, Scott Z.;;;","05/Dec/19 4:55 AM;scottz;It would be desirable to do this at same time as FAB-16897 (moving this suite to the fabric-ca repo, and integrating it into their merge job).;;;","22/Jan/20 6:32 AM;scottz;Even in the event that the maintainers decide to keep the tests in the fabric-ca repo, I would expect them to be included in the merge job to be run directly by the CI with every merge. (If a go test driver would be required after all, then this task could be reopened.);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Clarify documentation,FAB-16229,41656,40544,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,06/Aug/19 4:00 AM,08/Aug/19 3:10 AM,28/Oct/23 3:09 AM,08/Aug/19 3:10 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00war:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in orderer/common/cluster/comm_test - panic,FAB-16230,41657,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,06/Aug/19 9:58 AM,24/Mar/20 11:37 PM,28/Oct/23 3:09 AM,24/Mar/20 11:37 PM,,,,,,,,,,fabric-orderer,,,,,0,ci-flake,,,,"{code}
19:32:36 panic: runtime error: invalid memory address or nil pointer dereference
19:32:36 [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x13ee20a]
19:32:36 
19:32:36 goroutine 552 [running]:
19:32:36 github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).addExpectPullAssert.func1(0xc0003f9040, 0xc00044a3c0, 0x9)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:275 +0x14a
19:32:36 github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).Deliver(0xc000403040, 0x188f160, 0xc000075a80, 0x18729e0, 0xc000403040)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:184 +0x19a
19:32:36 github.com/hyperledger/fabric/protos/orderer._AtomicBroadcast_Deliver_Handler(0x16b75e0, 0xc000403040, 0x188be60, 0xc00039be00, 0x2cb6488, 0xc0003c2f00)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:660 +0xce
19:32:36 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc00001d980, 0x1890ba0, 0xc000374180, 0xc0003c2f00, 0xc00034c510, 0x2223be0, 0x0, 0x0, 0x0)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1202 +0x166a
19:32:36 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc00001d980, 0x1890ba0, 0xc000374180, 0xc0003c2f00, 0x0)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1282 +0x12e6
19:32:36 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc00044a2e0, 0xc00001d980, 0x1890ba0, 0xc000374180, 0xc0003c2f00)
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:717 +0xad
19:32:36 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
19:32:36 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:715 +0xb9
19:32:36 FAIL	github.com/hyperledger/fabric/orderer/common/cluster	11.172s
{code}

",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/19 9:58 AM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17637/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00waz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Mar/20 11:37 PM;sykesm;It's been six months and nobody has indicated this has happened again. Given nobody has bumped in that duration and the fact that the tests have changed over that time, closing this out.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
chaincode shim-api example,FAB-16231,41659,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jaehyun 4,jaehyun 4,jaehyun 4,06/Aug/19 2:37 PM,21/Aug/19 9:44 AM,28/Oct/23 3:09 AM,21/Aug/19 9:44 AM,,,,,,,,,,,,,,,0,,,,,"Currently, there are about 30 hyperledger fabric shim api.

But according to [https://github.com/hyperledger/fabric-samples/] , 

I can't find some examples of shim api below.(GoLang)
 # GetArgsSlice() ([]byte, error) 
 # GetChannelID() string  

   !image-2019-08-06-15-18-36-155.png!

!image-2019-08-06-15-19-03-553.png!

 

For hyperledger users, there should be more examples of functions in the sample source.

Best regards!

 ",,jaehyun 4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Aug/19 3:18 PM;jaehyun 4;image-2019-08-06-15-18-36-155.png;https://jira.hyperledger.org/secure/attachment/17641/image-2019-08-06-15-18-36-155.png","06/Aug/19 3:19 PM;jaehyun 4;image-2019-08-06-15-19-03-553.png;https://jira.hyperledger.org/secure/attachment/17640/image-2019-08-06-15-19-03-553.png",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i00wbf:",,,,No,Unset,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jaehyun 4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 9:44 AM;jaehyun 4;won't Do;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove FabToken sample,FAB-16232,41660,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,06/Aug/19 5:13 PM,08/Aug/19 10:37 PM,28/Oct/23 3:09 AM,08/Aug/19 10:37 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,"The FabToken sample needs to be removed, as the FabToken code itself is being removed/disabled by [~adc] due to it not being included in Fabric v2.0. Additionally, the FabToken sample is subject to sporadic CI failures, which we are trying to clean up.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wbn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent UT failure in orderer/common/cluster: panic: timed out waiting for seek assertions to receive a value,FAB-16233,41662,,Bug,In Progress,FAB,Fabric,software,denyeart,,,Highest,,guoger,guoger,guoger,06/Aug/19 8:57 PM,11/Jan/21 10:49 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-orderer,,,,,0,ci-flake,,,,"The original issue was that unit tests in orderer/common/cluster would be timed out and panic after 20 minutes. Many of the older logs will highlight this condition.

Since opening the issue, two changes have been made that may impact how this condition is identified.
1. The tests in the package are no longer executed in parallel. When tests were in parallel, the number of active go routines made it difficult to find the root cause.
2. The common cause of the timeout (blocking receive on a channel with no expiration) was changed to receive against a timer. This caps the timeout at one minute. When this timer hits, it is reported as a panic with the ""timed out waiting for seek assertions to receive a value"" message.",,denyeart,dereckluo,guoger,jyellick,manish-sethi,sykesm,tock,wenjian,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Sep/20 12:09 AM;wlahti;09-29-2020-fab-16233-flake.txt;https://jira.hyperledger.org/secure/attachment/18820/09-29-2020-fab-16233-flake.txt","06/Dec/20 11:55 PM;guoger;20201206.txt;https://jira.hyperledger.org/secure/attachment/18862/20201206.txt","12/Mar/20 12:15 AM;dereckluo;3-11.txt;https://jira.hyperledger.org/secure/attachment/18165/3-11.txt","13/Mar/20 2:22 AM;dereckluo;3-12.txt;https://jira.hyperledger.org/secure/attachment/18167/3-12.txt","20/Mar/20 11:42 PM;dereckluo;3-20.txt;https://jira.hyperledger.org/secure/attachment/18177/3-20.txt","28/Apr/20 11:09 PM;wenjian;4-28-20.log.zip;https://jira.hyperledger.org/secure/attachment/18313/4-28-20.log.zip","24/Nov/20 1:00 AM;sykesm;PR2156.log;https://jira.hyperledger.org/secure/attachment/18849/PR2156.log","06/Jan/21 4:35 AM;jyellick;cluster-flake.txt;https://jira.hyperledger.org/secure/attachment/18871/cluster-flake.txt","18/Mar/20 6:01 AM;tsharris;clustertest3-17-20.log;https://jira.hyperledger.org/secure/attachment/18175/clustertest3-17-20.log","06/Aug/19 8:58 PM;guoger;console.log.gz;https://jira.hyperledger.org/secure/attachment/17654/console.log.gz","16/Jan/20 3:52 AM;manish-sethi;logs.txt.zip;https://jira.hyperledger.org/secure/attachment/18055/logs.txt.zip","26/Feb/20 9:30 PM;sykesm;timeout.log;https://jira.hyperledger.org/secure/attachment/18142/timeout.log",,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wc3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dereckluo,guoger,jyellick,manish-sethi,sykesm,tock,wenjian,wlahti,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Dec/19 6:46 PM;guoger;Reopen if resurface;;;","16/Jan/20 3:53 AM;manish-sethi;[^logs.txt.zip]

Observed again. Logs attached. Reopening this Jira;;;","26/Feb/20 9:25 PM;sykesm;Hit this again - locally this time.

[~guoger] - are you looking into this? I'd like to at least see something go in that does not rely on the 20m timeout to detect the issue.;;;","04/Mar/20 1:58 AM;sykesm;Hit it again: https://dev.azure.com/Hyperledger/Fabric/_build/results?buildId=9132&view=logs&jobId=a11cdf60-0d11-5130-c801-1b4953009464&j=a11cdf60-0d11-5130-c801-1b4953009464&t=849b73ad-cbaa-5065-7214-c0ac3d42920d

With the timeout mitigation, it times out faster. Woohoo!

{code}
goroutine 1839 [running]:
github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).Deliver(0xc0001b6680, 0x1361d20, 0xc000476b50, 0x0, 0x0)
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:191 +0x691
github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/orderer._AtomicBroadcast_Deliver_Handler(0x11a79c0, 0xc0001b6680, 0x135ed20, 0xc000289140, 0x2688610, 0xc0019ac600)
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/orderer/ab.pb.go:674 +0xce
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc0000dcdc0, 0x13637c0, 0xc000478600, 0xc0019ac600, 0xc0002078c0, 0x1be7060, 0x0, 0x0, 0x0)
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1199 +0x1522
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc0000dcdc0, 0x13637c0, 0xc000478600, 0xc0019ac600, 0x0)
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1279 +0x12d8
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc00003f2b0, 0xc0000dcdc0, 0x13637c0, 0xc000478600, 0xc0019ac600)
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:710 +0xc9
created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
	/home/vsts/work/1/go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:708 +0xb9
FAIL	github.com/hyperledger/fabric/orderer/common/cluster	84.005s
{code};;;","12/Mar/20 12:16 AM;dereckluo;hit again, 3/11/2020;;;","13/Mar/20 2:22 AM;dereckluo; [^3-12.txt] hit again, logs attached.;;;","20/Mar/20 11:42 PM;dereckluo;hit again, 3/20/2020 [^3-20.txt] ;;;","08/Apr/20 9:49 PM;wlahti;Hit again today in CI. Looks like we have plenty of logs for it. :);;;","28/Apr/20 11:08 PM;wenjian;Hi again, 04/28/2020.;;;","02/Jun/20 3:46 AM;wenjian;Hit again, 06/01/2020, [https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/15114/logs/73];;;","02/Jul/20 12:21 AM;denyeart;Hit again https://dev.azure.com/Hyperledger/Fabric/_build/results?buildId=16827&view=logs&jobId=a11cdf60-0d11-5130-c801-1b4953009464&j=a11cdf60-0d11-5130-c801-1b4953009464&t=849b73ad-cbaa-5065-7214-c0ac3d42920d;;;","02/Jul/20 12:22 AM;denyeart;[~guoger] Is a fix in progress?;;;","10/Jul/20 9:27 PM;wenjian;Hit again, 07/10/2020,  [https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/17481/logs/60];;;","10/Aug/20 2:35 PM;tock;Hit again 10 Aug. 2020: [https://dev.azure.com/Hyperledger/Fabric/_build/results?buildId=19166&view=logs&j=6b58850f-3858-5a05-33e2-5e41cbf03c4e&t=bddec1cf-ba37-5883-9c3e-fd1e8608f9a1&l=3592]

 

[https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/19166/logs/49];;;","10/Aug/20 5:12 PM;tock;Looking at the logs, one of the things I see is the message ""oops, something went wrong"". This implies that the offending test case is `TestBlockPullerFailures`. This is a table test so it is hard to tell which test case is failing... however it also says ""Failed verifying received blocks: bad signature"" which means the failing test case is ""failure at verifying pulled block"". Lets add some additional logs around that test, ans increase its level to ""debug"" for the next time it fails.;;;","30/Sep/20 12:11 AM;wlahti;Hit this again today in CI and attached the logs. I'll try to take a look to see if the recent log changes help narrow things down.;;;","24/Nov/20 1:01 AM;sykesm;Looks like we hit it again on a PR from a member of the community.

[https://dev.azure.com/Hyperledger/Fabric/_build/results?buildId=25863&view=logs&jobId=6b58850f-3858-5a05-33e2-5e41cbf03c4e&j=6b58850f-3858-5a05-33e2-5e41cbf03c4e&t=bddec1cf-ba37-5883-9c3e-fd1e8608f9a1]

[^PR2156.log];;;","24/Nov/20 2:22 PM;guoger;it looks like this particular (latest) flake happens at test {{TestBlockPullerBadBlocks}}, within following case
{code}
		{
			name:           ""bad type"",
			corruptBlock:   statusType,
			expectedErrMsg: ""faulty node, received: status:INTERNAL_SERVER_ERROR"",
		},
{code}

when block puller makes *second* attempt to fetch last block seq, it got following error repeatedly every 10s, and eventually panics:
{code}
2020-11-22T19:29:24.4075999Z [31m2020-11-22 19:28:34.611 UTC [test] fetchLastBlockSeq -> ERRO 31a[0m Failed receiving the latest block from 127.0.0.1:46881: didn't receive a response within 10s
2020-11-22T19:29:24.4076983Z [33m2020-11-22 19:28:34.612 UTC [test] func1 -> WARN 31b[0m Received error of type 'didn't receive a response within 10s' from 127.0.0.1:46881
2020-11-22T19:29:24.4077946Z [33m2020-11-22 19:28:34.612 UTC [test] connectToSomeEndpoint -> WARN 31c[0m Could not connect to any endpoint of [{""CAs"":null,""Endpoint"":""127.0.0.1:46881""}]
{code}

somehow, {{deliverServer}} did not see the expected Seek enqueued;;;","24/Nov/20 3:13 PM;guoger;[https://github.com/hyperledger/fabric/pull/2157] adding more logs;;;","06/Dec/20 11:55 PM;guoger;https://github.com/hyperledger/fabric/pull/2196 gracefully fail test instead of panic;;;","06/Jan/21 4:35 AM;jyellick;Looks like we still see a panic because the test has already exited? Adding log.;;;","07/Jan/21 12:07 AM;guoger;[~jyellick] thx for the log. I'm not sure this particular failure is the same as the ones before, but thankfully it now reports which exact test case failed.

Even though it's still mysterious to me how mock deliverServer receives extraneous {{seek}}, created a [PR|https://github.com/hyperledger/fabric/pull/2241] to gracefully handle potential deadlock;;;",,,,,,,,,,,,,,
The lifecycle suite should not be nested under e2e,FAB-16234,41663,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,06/Aug/19 11:08 PM,07/Aug/19 8:24 AM,28/Oct/23 3:09 AM,07/Aug/19 8:24 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wcb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Aug/19 11:30 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32740 FAB-16234 the lifecycle suite should not be nested;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consolidate CollectionStore/MembershipInfoProvider's AmMemberOf logic,FAB-16235,41665,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,caod,caod,07/Aug/19 12:40 AM,07/Aug/19 12:41 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,Right now CollectionStore serves much of the same functionality that is done in the AmMemberOf function of the MembershipInfoProvider. We should try to consolidate the logic for processing access policies for use in both places,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wcr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/19 12:41 AM;caod;/cc [~manish-sethi] [~ales];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create initial release notes for v2.0.0,FAB-16236,41668,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,07/Aug/19 2:52 AM,07/Aug/19 7:37 AM,28/Oct/23 3:09 AM,07/Aug/19 7:37 AM,,,,,,v2.0.0,,,,fabric-release,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wdf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Aug/19 2:54 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32747/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
document the configuration,FAB-16238,41670,41526,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Aug/19 5:21 AM,08/Aug/19 12:46 AM,28/Oct/23 3:09 AM,08/Aug/19 12:46 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wdv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External builders should run in controlled environment,FAB-16239,41671,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,sykesm,sykesm,07/Aug/19 5:40 AM,20/Sep/19 5:05 AM,28/Oct/23 3:09 AM,20/Sep/19 5:05 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"By default, when a process is started, it inherits the environment of its caller. In the context of external chaincode, the environment of the peer is propagated to the builder. Given most users of the peer rely on environment variables to influence the configuration, it's quite likely that sensitive information is accessible in the environment.

In order to reduce the likelihood of information leaks via the environment, the external build configuration element in the peer should be extended to support and environment variable name whitelist. Any environment keys in that list will be propagated to the external builder.

The default list should contain PATH, LIBPATH, and TMPDIR. It's likely that environment variables like http_proxy/HTTP_PROXY will be added by users.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruibi",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 1:09 AM;sykesm;@enyeart - please don’t assign items from the IPM backlog.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Simplify System Test Framework,FAB-16240,41672,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,07/Aug/19 5:55 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Use golang drivers and templates/scripts for usability and maintainability.
Replace python drivers and many bash scripts.",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16061,,,FAB-15393,FAB-15392,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-11,,Simplify System Test Framework,To Do,No,,Not Required,No,,,"1|hzx30f:a",,,,No,Not Required,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/19 10:19 PM;scottz;We are in the midst of enhancing the PTE and tools framework to make it simpler for users to run traffic with their own chaincode on their own network by providing a way to read in the wallet pem files and connectionprofile and a simple test spec file. Most of this work is identified in this epic FAB-16240 in addition to tasks FAB-15392 and FAB-15393. Target completion is 4th quarter this year.;;;","11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric ReadTheDocs updates,FAB-16241,41675,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jganobsik,mahoney1,mahoney1,07/Aug/19 8:30 PM,14/Oct/19 9:59 PM,28/Oct/23 3:09 AM,14/Oct/19 9:59 PM,v1.4.0,v1.4.1,v1.4.2,,,v1.4.4,v2.0.0,,,fabric-docs,,,,,0,,,,,"# I believe the 1.4 BYFN help/usage text [here]([https://hyperledger-fabric.readthedocs.io/en/release-1.4/build_network.html#want-to-run-it-now]) needs updating,  to reflect the usage in the `byfn.sh` script [https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/byfn.sh#L37] - eg. make users aware they can start a CA (-a) for example etc.
 # The FabCar docs [https://hyperledger-fabric.readthedocs.io/en/release-1.4/understand_fabcar_network.html#components-of-the-fabcar-network] should mention its using BYFN `first-network` and not  `basic-network` . ",,mahoney1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wej:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mahoney1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix orderer listener reuse for non cluster orderers,FAB-16242,41677,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Aug/19 11:59 PM,09/Aug/19 1:33 AM,28/Oct/23 3:09 AM,09/Aug/19 1:33 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,"A solo/kafka orderer might crash with:

 
{code:java}
[34m2019-08-07 12:33:13.823 UTC [orderer.common.server] extractSysChanLastConfig -> INFO 003[0m Bootstrapping because no existing channels
[34m2019-08-07 12:33:13.825 UTC [orderer.common.server] initializeServerConfig -> INFO 004[0m Starting orderer with TLS enabled
[34m2019-08-07 12:33:13.837 UTC [fsblkstorage] newBlockfileMgr -> INFO 005[0m Getting block information from block storage
[34m2019-08-07 12:33:14.020 UTC [orderer.commmon.multichannel] Initialize -> INFO 006[0m Starting system channel 'byfn-sys-channel' with genesis block hash 38d3bfd643fd1a119c1b0051913ee867d45868aaa07f71ddb781b4e3a7815da1 and orderer type solo
[34m2019-08-07 12:33:14.020 UTC [orderer.common.server] Main -> INFO 007[0m Starting orderer:
 Version: 2.0.0
 Commit SHA: 81ee0c6
 Go version: go1.12.5
 OS/Arch: linux/amd64
[34m2019-08-07 12:33:14.020 UTC [orderer.common.server] Main -> INFO 008[0m Starting cluster listener on [::]:7050
[35m2019-08-07 12:33:14.022 UTC [grpc] RegisterService -> FATA 009[0m grpc: Server.RegisterService after Server.Serve for ""orderer.AtomicBroadcast"" {code}",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wer:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 12:05 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/fabric/+/32765/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DRY up code to set a chaincode package id from the package file in integration tests,FAB-16243,41678,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,08/Aug/19 12:16 AM,13/Aug/19 7:02 PM,28/Oct/23 3:09 AM,13/Aug/19 7:02 PM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,,,denyeart,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wez:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/19 2:15 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32766/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Common certificate errors when creating a channel,FAB-16244,41680,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,pandrejko,pandrejko,08/Aug/19 1:44 AM,30/Aug/19 12:58 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"When channel creation fails, 9/10 times it is due to a certificate error.

 

Jason described 3 common cases that we could include in the documentation and how to resolve the problem. 

 

 ",,negupta,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrm:1",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Aug/19 12:27 AM;pandrejko;Brainstorming with Nik on where this information should live:

 
 * Stackoverflow
 * Mailing list (with link to content on Stackoverflow)
 * Fabric FAQ (with link to content on Stackoverflow)
 * BYFN - after we break it up into separate topics

 ;;;","30/Aug/19 12:58 AM;negupta;Currently added to stack overflow here: https://stackoverflow.com/questions/57662562/when-i-try-to-create-a-channel-using-hyperledger-fabric-the-request-fails/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-svt-weekly-pte job: After 3 hours, PTE client failed to sendTransaction due to error: Stream removed",FAB-16245,41681,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,vijaypunugubati,vijaypunugubati,vijaypunugubati,08/Aug/19 2:05 AM,12/Oct/19 12:39 AM,28/Oct/23 3:09 AM,12/Oct/19 12:39 AM,,,,,,,,,,fabric-quality,,,,,0,ci-failure,ci-flake,,,"*Error* *observed:*

The leader orderer was unreachable by the orderer to send transactions with error `

invoke_move_dist_evtBlock] failed to sendTransaction status: \{""status"":""SERVICE_UNAVAILABLE"",""info"":""cannot enqueue""}

`

And followed the error leads to grpc failure in Orderer failover from (grpcs://localhost:5007) to (grpcs://localhost:5005)

The orderers became unreachable. First error was reported after a little more than 3 hours (see the “cannot enqueue” errors with SERVICE_UNAVAILABLE” response codes) indicates the leader orderer was unreachable by the orderer to which we were sending transactions. Then finally all of the orderers because unreachable (hence the grpc errors) - at which point the client threads started “failover” steps, continually trying different orderers but could not connect to any of them (and thus the “REQUEST_TIMEOUT” failures for the rest of the test logs). Step one: we could try to get better info about the particular grpc failures messages. Step 2: to get to root cause, we may need to see logs in the orderers, which means someone needs to run a long test outside of the CI. Also we may want to try a long run in the k8s cluster too, instead of a single VM. We need to determine if the grpc failures were a result of orderers problems, or if they were due to a “networking issue” (unlikely since using single VM), or if caused by some sort of resource contention/exhaustion issue on the VM.
{code:java}
/13:19:54.638 =================================== FAILURES ===================================
13:19:54.638 ___________ TimedRun_12Hr.test_FAB_7204_samplejsCC_2chan_x_2_x_10tps ___________
13:19:54.638 
13:19:54.638 self = <12HrTest.TimedRun_12Hr testMethod=test_FAB_7204_samplejsCC_2chan_x_2_x_10tps>
13:19:54.638 
13:19:54.638     def test_FAB_7204_samplejsCC_2chan_x_2_x_10tps(self):
13:19:54.638         # Assert and confirm that the sh script finished and exited cleanly,
13:19:54.638         # else suggest where to find the logs
13:19:54.638         returncode = subprocess.call(""./FAB-7204-4i.sh"", cwd=scenarios_directory, shell=True)
13:19:54.638 >       self.assertEqual(returncode, 0, msg=""Test Failed; check for errors in fabric-test/tools/PTE/CITest/Logs/"")
13:19:54.638 E       AssertionError: Test Failed; check for errors in fabric-test/tools/PTE/CITest/Logs/
13:19:54.638 
13:19:54.638 12HrTest.py:24: AssertionError/ code placeholder{code}
*Error from logs:*
{code:java}
/[32minfo[39m: [2019-08-06T18:50:50.083Z PTE 1 main]: stderr: [31merror[39m: [2019-08-06T18:50:50.075Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel2:org2:0 invoke_move_dist_evtBlock] Failed to send transaction due to error:  Error: 2 UNKNOWN: Stream removed
    at Object.exports.createStatusError (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/common.js:91:15)
    at ClientDuplexStream._emitStatusIfDone (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:233:26)
    at ClientDuplexStream._receiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:211:8)
    at Object.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1306:15)
    at InterceptingListener._callNext (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:568:42)
    at InterceptingListener.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:618:8)
    at /w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1123:18/ code placeholder{code}
 
{code:java}
/[32minfo[39m: [2019-08-06T18:50:50.083Z PTE 1 main]: stdout: [32minfo[39m: [2019-08-06T18:50:50.077Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel2:org2:0 ordererFailover] Orderer failover from (grpcs://localhost:5005) to (grpcs://localhost:5006):[32minfo[39m: [2019-08-06T18:50:50.083Z PTE 0 main]: stderr: 2019-08-06T18:50:50.075Z - [31merror[39m: [Orderer.js]: sendBroadcast - on error: ""Error: 2 UNKNOWN: Stream removed\n    at Object.exports.createStatusError (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/common.js:91:15)\n    at ClientDuplexStream._emitStatusIfDone (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:233:26)\n    at ClientDuplexStream._receiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:211:8)\n    at Object.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1306:15)\n    at InterceptingListener._callNext (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:568:42)\n    at InterceptingListener.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:618:8)\n    at /w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1123:18""
[31merror[39m: [2019-08-06T18:50:50.075Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_move_dist_evtBlock] Failed to send transaction due to error:  Error: 2 UNKNOWN: Stream removed
    at Object.exports.createStatusError (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/common.js:91:15)
    at ClientDuplexStream._emitStatusIfDone (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:233:26)
    at ClientDuplexStream._receiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:211:8)
    at Object.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1306:15)
    at InterceptingListener._callNext (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:568:42)
    at InterceptingListener.onReceiveStatus (/w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:618:8)
    at /w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1123:18/ code placeholder
{code}
[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-svt-weekly-pte-x86_64/lastFailedBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/FAB-7204-4i_0805120147.log]

 ",,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16486,,,FAB-16070,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzcs",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Aug/19 11:07 PM;rameshthoomu;I have tested below scenario for 12 hrs in the IKS cluster and it ran successfully. See the below test scenario and results.

Samplecc - Go chaincode - 2 channels with 2 threads and sent invokes for 12 hrs using gen_cfgInputs.sh scripts. See the below command.

./gen_cfgInputs.sh -d ""$ConnProfile"" --nchan 2 --chan0 0 --norg 1 --chanprefix testorgschannel --chantxpath ""$Chantxpath"" -a sample_cc --freq 10 --rundur 43200 --nproc 2 --keystart 100 --targetpeers ORGANCHOR -t move

It ran fro 12 hrs of invokes and sent around 326K transactions. 

=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 4
    CONSTANT INVOKE *Overall transactions: sent 3263181 received 3263181*
    CONSTANT INVOKE Overall failures: proposal 0 transactions 0
    CONSTANT INVOKE Overall event: received 3263181 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1566002361053 end 1566045562693 duration 43201640
    CONSTANT INVOKE Overall CONSTANT *INVOKE TPS 75.53*;;;","20/Aug/19 7:24 AM;scottz;[~rameshthoomu] Since it works in k8s lab, then could it be caused by resource exhaustion on vm in the weekly run? Can you tell from the logs? If not, then how about we tweak the config (eliminate some of the nodes) and reduce the traffic rate from 10 tps to only 1 tps and reduce the payload size. (See below.) Do you think it would be a good test if you submit this change to alter the 12Hr weekly test?

In fabric-test/tools/PTE/CITest/FAB-7204-4i/test_nl.sh
change from
    ./networkLauncher.sh -o 3 -x 2 -r 2 -p 2 -k 4 -z 3 -n 2 -e 3 -t kafka -f test -w localhost -S enabled -c 2s -l INFO -B 500
to
    ./networkLauncher.sh -o 1 -x 0 -r 2 -p 1 -k 3 -z 1 -n 2 -e 3 -t kafka -f test -w localhost -S enabled -c 2s -l INFO -B 500

and in fabric-test/tools/PTE/CITest/FAB-7204-4i/samplejs/samplejs-chan1-FAB-7204-4i-TLS.json
change from
        ""constFreq"": ""100"",
to
        ""constFreq"": ""1000"",

and change from
        ""payLoadMin"": ""1024"",
        ""payLoadMax"": ""2048""
to
        ""payLoadMin"": ""8"",
        ""payLoadMax"": ""256""
;;;","21/Aug/19 10:28 PM;rameshthoomu;[~scottz] This seems reproducing in community jenkins infra. See below log. After sending 100K transactions, observed Service Unavailable error.

{code:java}
[32minfo[39m: [2019-08-19T15:02:37.954Z PTE 0 main]: stdout: [32minfo[39m: [2019-08-19T15:02:37.953Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 isExecDone] invokes(Move) sent: number=102000, evtTimeoutCnt=0, elapsed time= 11112652

[32minfo[39m: [2019-08-19T15:03:54.987Z PTE 0 main]: stdout: [32minfo[39m: [2019-08-19T15:03:54.986Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_move_dist_evtBlock] failed to sendTransaction status: {""status"":""SERVICE_UNAVAILABLE"",""info"":""cannot enqueue""} 
{code}

I will try to duplicate the same test configuration when I try this in k8s lab.
;;;","30/Aug/19 1:17 AM;rameshthoomu;Executed same test case in k8s environment. I don't see any error even after sending 1million tx. [~vijaypunugubati] Could you please provide the system info from jenkins job (df -h and free -m) when you observe this again.;;;","30/Aug/19 2:54 AM;vijaypunugubati;Present we don't have the latest build failed with the above error, last week build was failed with missing image nodeenv to pull from nexus, and the next build info will be available on 2nd september on prod, i will run this job on sandbox now to get the req info.;;;","30/Aug/19 11:12 PM;vijaypunugubati;The ""12HrTest.py::TimedRun_12Hr::test_FAB_7204_samplejsCC_2chan_x_2_x_10tps PASSED"" was passed yesterday on prod.

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-svt-weekly-pte-x86_64/54/console]

 ;;;","30/Aug/19 11:34 PM;scottz;No. It failed, even though it claims to have passed ""12HrTest.py::TimedRun_12Hr::test_FAB_7204_samplejsCC_2chan_x_2_x_10tps PASSED"". Refer to 

{{File ""/home/jenkins/.local/lib/python2.7/site-packages/lftools/deploy.py"", line 293, in deploy_logs
03:56:48     output = subprocess.check_output(c).decode('utf-8')
03:56:48   File ""/usr/lib/python2.7/subprocess.py"", line 574, in check_output
03:56:48     raise CalledProcessError(retcode, cmd, output=output)
03:56:48 subprocess.CalledProcessError: Command '['sar', '-b', '-r', '-n', 'DEV']' returned non-zero exit status 2
}}
and refer to link: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-svt-weekly-pte-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/FAB-7204-4i-pteReport.log

{{=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 4
    CONSTANT INVOKE Overall transactions: sent 452999 received 410928
    CONSTANT INVOKE Overall *failures: proposal 41932 transactions 2*
    CONSTANT INVOKE Overall event: received 410928 timeout 0 unreceived 137
    CONSTANT INVOKE Overall time: start 1567104855371 end 1567116534623 duration 11679252
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 35.18
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 452999 min 6 ms max 45008 ms avg 294.86 ms
        CONSTANT INVOKE Overall transactions latency 411067 min 4 ms max 10115 ms avg 19.70 ms
        CONSTANT INVOKE Overall events latency 410928 min 104 ms max 1107435 ms avg 107430.09 ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED}}
;;;","30/Aug/19 11:41 PM;scottz;It started sending TX at 18:54:15, and got to around 20,000 TX in each of the 4 threads before starting to see the first failures at 19:30:44, then errors stopped for a whild when we got to 30,000 TX... and more later.
;;;","30/Aug/19 11:44 PM;vijaypunugubati;""subprocess.CalledProcessError: Command '['sar', '-b', '-r', '-n', 'DEV']' returned non-zero exit status 2""

The error is from post-build script after the test passes which maybe python process error because of server down or Internet down.;;;","31/Aug/19 12:48 AM;scottz;That is one explanation for one problem.  That is why the build was marked unstable (yellow instead of blue dot).
But the test should not say PASSED because of that line `failures: proposal 41932 transactions 2`. We need to add a check in 12HrTest.py that checks for the string in the output `Overall failures: proposal 0 transactions 0` or else it should fail. I created bug for that:  FAB-16486

So this bug should remain open because there were transaction failures. Note: this time the test encountered the first failures after only 35 minutes instead of the 3+ hours seen previously.;;;","13/Sep/19 12:06 AM;scottz;the fab-16486 solution was merged. you should see failures appropriately identified now in the weekly test suite results. 

Have we gotten any further understanding why the 12 hour test encounters failures in the CI, despite a similar test passing in k8s environment?;;;","13/Sep/19 10:41 PM;scottz;The retest with FAB-16486 in sandbox last night failed; two-thirds of the transactions were errors, as indicated in console logs [https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-svt-weekly-pte-x86_64/5/console] :
*03:26:32* E       AssertionError: Test Failed: INVOKE failures; refer to fabric-test/tools/PTE/CITest/Logs/FAB-7204-4i*.log for details
The pteReport.log [https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-svt-weekly-pte-x86_64/lastFailedBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/FAB-7204-4i-pteReport.log] shows:
 *CONSTANT INVOKE Overall transactions: sent 1293921 received 413351*
 *CONSTANT INVOKE Overall failures: proposal 866046 transactions 14489*
 *CONSTANT INVOKE Overall event: received 413351 timeout 0 unreceived 35*

 
The write failure occurs when dumping out the test stdout to terminal at the end of the test seems to indicate it is unable to write to the stdout terminal anymore:
03:26:32   File ""/usr/lib/python2.7/dist-packages/py/_io/terminalwriter.py"", line 333, in write_out
03:26:32     fil.write(msg)
03:26:32 IOError: [Errno 11] Resource temporarily unavailable
Note: the wordcount on the output is not that high:  1293    7687  123011
 
And then after that exits, the job archives the logs and dumps some basic data like ""df -h"", ""free -m"", ""ipconfig"", and encounters another write error:
*03:27:45*   File ""/usr/lib/python2.7/subprocess.py"", line 574, in check_output*03:27:45*     raise CalledProcessError(retcode, cmd, output=output)*03:27:45* subprocess.CalledProcessError: Command '['sar', '-b', '-r', '-n', 'DEV']' returned non-zero exit status 2;;;","12/Oct/19 12:39 AM;scottz;This fails most likely due to resource exhaustion. Since we are moving to Azure and to testing this on k8s (where it works), let's close this.;;;",,,,,,,,,,,,,,,,,,,,,,,
add wrapper in ledgerstorage to simplfy test,FAB-16246,41682,37913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,08/Aug/19 2:24 AM,17/Mar/20 1:17 AM,28/Oct/23 3:09 AM,17/Mar/20 1:17 AM,,,,,,,,,,,,,,,0,,,,,"Currently, we have duplicate code among test functions in the ledgerstorage package. We need to use wrapper/utilities to avoid such duplication. ",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wff:",,,,Unset,Unset,v1.4.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Mar/20 1:17 AM;denyeart;We might remove ledger storage (which encapsulated both block store and pvt store), therefore I'll close this task for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update jenkins-scripts to withdraw support on Zplatform for fabric-chaincode-node,FAB-16247,41684,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,vijaypunugubati,vijaypunugubati,08/Aug/19 2:57 AM,10/Sep/19 11:05 PM,28/Oct/23 3:09 AM,10/Sep/19 11:05 PM,,,,,,,,,,,,,,,0,,,,,"Update jenkins-scripts to withdraw support on Zplatform for fabric-chaincode-node.

Removing the s390x supporting files on chaincode-node source repo.",,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wfv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
k8s pods are restarting consistently when use 2.0.0 docker images,FAB-16248,41685,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,rameshthoomu,rameshthoomu,08/Aug/19 4:14 AM,15/Aug/19 6:36 AM,28/Oct/23 3:09 AM,15/Aug/19 6:36 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"k8s pods (peer, orderer and ca) are restarting or crashloopbackoff consistently when use 2.0.0 docker images

{code:java}
    Command:
      /bin/sh
    Args:
      -c
      cd /etc/hyperledger/fabric/ && cp certparser/certs-parser.sh . && chmod +x ./certs-parser.sh && ./certs-parser.sh peer1-org1.json && peer node start
    State:          Terminated
      Reason:       Error
{code}
",,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16276,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:44",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/19 5:46 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32845/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rewrite fabric-test operator to conform to better coding practices,FAB-16249,41686,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 5:41 AM,28/Jan/20 1:32 AM,28/Oct/23 3:09 AM,28/Jan/20 1:32 AM,,,,,,,,,,,,,,,0,,,,,,,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16250,FAB-16251,FAB-16252,FAB-16253,FAB-16254,FAB-16312,FAB-16311,FAB-16308,FAB-16275,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00wgb:",,,,No,Unset,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove hard coded values in launcher,FAB-16250,41687,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 6:00 AM,28/Aug/19 5:25 AM,28/Oct/23 3:09 AM,28/Aug/19 5:25 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"12/Aug/19 10:21 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32936/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding helper functions to remove code complexity,FAB-16251,41688,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 6:01 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,15/Aug/19 5:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfn:y",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 3:28 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32783/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify read arguments in launcher.go and main.go ,FAB-16252,41689,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 6:02 AM,15/Aug/19 5:28 AM,28/Oct/23 3:09 AM,15/Aug/19 5:28 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00wgz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 11:44 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32781/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify error handling and logging in operator tool,FAB-16253,41690,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 6:04 AM,15/Aug/19 5:23 AM,28/Oct/23 3:09 AM,15/Aug/19 5:23 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rz6",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"08/Aug/19 12:37 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32782/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify code for running the shell commands,FAB-16254,41691,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,08/Aug/19 6:05 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,15/Aug/19 5:41 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfn:z",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"12/Aug/19 10:20 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32842/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SIGSEV error after stopping 1 peer,FAB-16255,41692,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Duplicate,,icarrascol,icarrascol,08/Aug/19 6:20 AM,20/Aug/19 12:25 AM,28/Oct/23 3:09 AM,14/Aug/19 12:12 AM,v1.4.2,,,,,v1.4.3,v2.0.0,,,,,,,,0,fabric,,,,"i am using v1.4.2 and raft consensus if a peer is stopped after a couple of minutes the other peers throw this error and dc.

- network consist of 4 orgs with 1 peer each.
- stopped peer0.org1.

- this is a log from peer0.org3.  
{code:java}
// 2019-08-07 20:36:15.891 UTC [gossip.comm] func1 -> WARN 297 peer0.org1.autentia-bchain.com:7051, PKIid:d32e5b9141f599861f1bbe12f307d73f3fd52009a906ce6fdca9cd3b2baa2539 isn't responsive: EOF
2019-08-07 20:36:15.891 UTC [gossip.discovery] expireDeadMembers -> WARN 298 Entering [d32e5b9141f599861f1bbe12f307d73f3fd52009a906ce6fdca9cd3b2baa2539]
2019-08-07 20:36:15.891 UTC [gossip.discovery] expireDeadMembers -> WARN 299 Closing connection to Endpoint: peer0.org1.autentia-bchain.com:7051, InternalEndpoint: , PKI-ID: d32e5b9141f599861f1bbe12f307d73f3fd52009a906ce6fdca9cd3b2baa2539, Metadata: 
2019-08-07 20:36:15.891 UTC [gossip.discovery] expireDeadMembers -> WARN 29a Exiting
2019-08-07 20:36:16.890 UTC [gossip.channel] reportMembershipChanges -> INFO 29b Membership view has changed. peers went offline:  [[peer0.org1.autentia-bchain.com:7051 ]] , current view:  [[peer0.org4.autentia-bchain.com:10051 ] [peer0.org2.autentia-bchain.com:8051 ]]
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020]goroutine 130 [running]:
github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x7fe1d4070530, 0x10)
	/opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40
github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc00479c740)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfd
github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc0005a1f00)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34c
github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc0005a1f00)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141
created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2

{code}",,icarrascol,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16292,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00whn:",,,,Unset,Unset,,"*using fabric v1.4.2 and raft consensus
- mount a raft based network with 4 orgs with 1 peer each
- stop only one peer container
- wait a few minutes
- all the other peers fail with sigsev error",,Unset,,,,,,Unset,,Unset,,(Please add usage information),icarrascol,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/19 12:12 AM;wlahti;A fix was recently merged for FAB-16292 to resolve this error. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v2.0 System Testing,FAB-16256,41694,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,08/Aug/19 8:57 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"In addition to the tests included in the k8s system test suite and NL+PTE Daily test suite, identify and execute other system tests, pulling from our pte test library and experiences in previous releases.

Revise charts to show their status on v2.0 Release page ([https://jira.hyperledger.org/secure/Dashboard.jspa?selectPageId=11700]). And, improve that page:
 * remove the ""Fabric-SVT-1.2-Must-Have"" chart
 * keep SVT-New chart, to just show all 2.0 fixVersion items; we are creating new testtasks in v2.0 for most tests
 * initially, keep SVT-Regression chart; after we create new testtasks in v2.0 for the items here that we want to keep and reuse, then we may change this chart filter to show only ""release test"" from past releases (so it will be empty for 2.0, but then could be used in future releases as a reference)
 * optionally create a similar SVT-Release chart for all those ""release test"" plus other SVT TestTasks that are not fixVersion=v2.0
 * keep the SVT-Regression-ContinuousDelivery chart for NL+PTE and k8s systests

 ",,btl5037,scottz,seyday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16061,FAB-16340,,FAB-16262,FAB-16986,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb8r",,,,No,Unset,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,seyday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"TC: Chaos testing: restart all components peers and raft, single and mult hits, mult channels, concurrency",FAB-16258,41703,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,09/Aug/19 12:36 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This testtask was created as a clone of FAB-14420, which was the v1.4.2 testtask. The implementation in v2.0 is expected to be different than the steps below which were used in 1.4.2. In v2.0, we plan to use the new k8s operator/test framework to build functions to do these restart tests.

chaos: restarts peers/orderers, singletons and multiples. Expect some lost TXs. Without servdisc, expect more TX lost.

At end, must confirm all peers/orderers same height.

It would be good to have a variety of traffic: samplecc, privatedata, some using service discovery. Overlay this restarts script with some of the other traffic testcases.

This will be similar to 10191, 12834, 12835, etc.
h2. Setup
 * Create a fabric network with 3 channels, 3 raft orderers, 2 orgs with 2 peer per org.
 * Set up the k8s cluster: set servicetype = LoadBalancer to allow bouncing the orderers.
 * Use our usual settings for batchsize = 500 , batchtimeout = 2s, and SnapshotInterval = 100 MB
 * Use fabric-test/tools/PTE/scripts/gen_cfgInputs.sh to create traffic generation files.
 * Do NOT use failover mode in PTE. We want the same clients to continue sending to the same orderers as initially selected. This means there will be multiple failures, but it also means that we will still be sending transactions to ALL the orderers at the end of the test after they have all recovered.

h2. Input
 # * Send transactions using multiple threads, with PTE settings for TargetPeers=OrgAnchor (to use one peer in every org), and TargetOrderers=RoundRobin (to use all the orderers, assuming there are at least that many total threads).
 # * To balance load among the peers as well as among the orderers, choose a number of threads to be Lowest Common Multiple of #orgs X #orderers, for each channel. In our case that means choose 6 per channel (this means 3 for peer1org1 and 3 for peer1org2, for each channel), 9 total per peer, and 6 per orderer.
 # * Use PTE in Constant Mode (to send the next transaction as soon as the TX response ACK for the previous one was received), to provide multiple transactions in flight simultaneously, for every thread.
 # * Start sending transactions for two hours.
 # * After a few minutes, start the chaos-kube tool to restart a random orderer every 2 minutes, for 90 minutes.
 # * Feb 27: modify: restart random orderer every 2 minutes, 2 orderers every 6 minutes, 3 orderers every 12 mins.

h2. Expectations
 * PTE tool does not resend transactions upon receiving NACK, nor when TXs are lost. Therefore there will be transaction failures (unreceived) in the pteReport counters. There will also be failures for the NACKs when sending transactions to an orderer that is stopped, and when sending to an orderer while the leader is stopped while the others are trying to elect a new leader.
 * Since the recovery of a single orderer is expected to take less than 20 seconds, we should never see a situation where consensus quorum is halted, because we are waiting 2 minutes before stopping the next one.
 * At the end of the test, all the orderers should be up, functioning well, processing transactions and blocks, and end with the same block height in all the channels. (We could look at the metrics to possibly help with this validation, or else connect a consumer to each orderer to retrieve the last block on each channel.)

 ",,btl5037,guoger,joaquimpedrooliveira,kchristidis,scottz,suryalnvs,,,,,,,,,,,,,FAB-14274,FAB-14454,FAB-16636,FAB-16087,,,,,,FAB-14220,,,,,,,,,FAB-14129,FAB-14221,FAB-14226,FAB-16263,FAB-17369,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb2y",,,,Unset,Unset,Test Cases,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),btl5037,guoger,joaquimpedrooliveira,kchristidis,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: Migrate from kafka to raft in one channel while traffic is running on other channels in network,FAB-16259,41705,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,09/Aug/19 12:43 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,v1.4.2,v2.0.0,,,,Future,,,,fabric-quality,,,,,0,,,,,"For this task in v2.0, we plan to use the operator function to help automate the migration steps when testing this in k8s lab with a few channels. Note: with FAB-16644, we automated migration test with few channels; however, there we only run invokes before and after the kafka-2-raft migration (not during maintenance mode). As such, all the transactions were expected to succeed. After we convert that and all other existing tests to use go test driver with FAB-16064, we should use this task to enhance the testcase to run traffic DURING the migration (The script converts each channel one at a time, with others being usable; when one is in maintenance mode, transactions on that channel should be rejected).

Once completed, verify the following: Send new transactions to verify invokes and queries on migrated channels.

 

For reference: The following description below was in the original issue FAB-15779 which was used for testing this in v1.4.2.
 * Create a network with 5 orderers, 5 kafka brokers, 3 zookeepers and 1 org with 1 peer
 * Create 100 channels, join peer to channel, install and instantiate samplecc and start sending invokes
 * While traffic is running, then migrate kafka to raft by following steps on orderer system channel and all 100 application channels:

 # Config update to change state from NORMAL to MAINTENANCE with kafka consensus type and leaving metadata to null
 # Config update with etcdraft as consensus type and raft metadata
 # Restart Ordering nodes and verify orderer logs for leader election
 # Config update to change state back to NORMAL from MAINTENANCE",,btl5037,rameshthoomu,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,FAB-15779,,,,,,FAB-15760,,,FAB-16644,FAB-16064,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb2zi",,,,Unset,Unset,Test Cases,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),btl5037,rameshthoomu,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/19 3:16 AM;rameshthoomu;Tested this test case in 2.0 kafka to raft with minimum number of channels. Observed some minor changes required in raft migration scripts. Submitting change to gerrit and add this test case to the system testsuite.;;;","24/Jan/20 3:22 AM;rameshthoomu;Automation part of this testcase moved to future work.

 ;;;","11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Reconfigure raft channels, add ordererorg, new orderers and remove orderers and ordererorg, then update config, onboard a new orderer",FAB-16260,41706,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,09/Aug/19 12:55 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"The following description is from the cloned v1.4 testtask FAB-14228. The implementation in v2.0 is expected to differ by using the k8s tool operator functions (yet to be implemented, so there are some dependencies), and the exact scenarios to add/remove may differ too.


Reconfigure to add a new orderer org to system channel some time after network has been running. Add new orderers in new org. Remove old org orderers.  
h2. Setup:
 # Define a fabric network with:
 ## etcd/raft with 3 OSNs (all in ordererorg1, defined in configtx.yml)
 ## minimum 1 peer in 1 org
 ## Set default value of Orderer.BatchSize.MaxMessgeCount = 10 in configtx.yaml
 # Configure the network with all the 3 OSNs in the {{orderersystemchannel}} consenter set.
 # Bring up all the orderers

h2. Inputs
 # Run traffic transactions using orderers 1, 2, 3.
 # OrdererOrg1 Admin will fetch the latest config.block from orderer1(orderersystemchannel), add ordererorg2 to the Orderer group section, and orderer4 to orderer system channel for ordererorg2 and send the config update to orderer1 to update the orderer system channel
 # Add orderer5 to orderer system channel for ordererorg2
 # OrdererOrg1 Admin will fetch the latest config.block from orderer1(channel1), add ordererorg2 to the Orderer group section, and orderer4 to channel1 for ordererorg2 and send the config update to orderer1 to update the channel1
 # Add orderer5 to channel1 for ordererorg2
 # Start up orderers 4, 5 to onboard
 # Add orderer6 to orderer system channel for ordererorg2
 # Add orderer6 to channel1 for ordererorg2
 # Start up orderer6 to onboard
 # Run traffic using orderers 4, 5, 6 (throughout remainder of test)
 # Stop traffic running to orderers 1, 2, 3.
 # Ordererorg1 Admin will remove orderer1.ordererorg1 from channel1, sending the update to orderer1
 # Ordererorg1 Admin will remove orderer2.ordererorg1 from channel1, sending the update to orderer3
 # Stop orderer1
 # Remove orderer1.ordererorg1 from orderersystemchannel, sending the update to orderer3
 # Remove orderer2.ordererorg1 from orderersystemchannel, sending the update to orderer2
 # Stop orderer2
 # Ordererorg1 Admin will remove orderer3.ordererorg1 from channel1, sending the update to orderer4
 # Remove orderer3.ordererorg1 from orderersystemchannel, sending update to orderer4
 # Leave orderer3 running, even though it has been removed from all channels
 # Remove the ordererorg1 group from the Orderer group section, and update the orderer system channel
 # *Ordererorg1* Admin will fetch the latest config block of *channel1*, change the Orderer.BatchSize.MaxMessgeCount to 2, and update channel1. This should be *rejected*.
 # *Ordererorg2* Admin will fetch the latest config block of *channel1*, change the Orderer.BatchSize.MaxMessgeCount to 2, and update channel1. This *should be successful*.
 # Ordererorg2 Admin will Onboard orderer7 to orderer system channel for ordererorg2
 # Onboard orderer7 to channel1 for ordererorg2
 # Start up orderer7

h2. Expectations
 # All three orderers in the ordererorg2 are successfully onboarded and remain in service without errors thereafter
 # No errors in the first 3 orderers logs
 # Observe in the metrics a higher rate of increasing blocks in channel1 in all 3 remaining orderers after the batchsize is changed.

 ",,bharadwajambati1,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14228,,,,,,FAB-14227,,,FAB-14695,FAB-14735,FAB-17358,FAB-17359,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000dy:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),bharadwajambati1,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Proto for new GRPC service for peer-scoped lifecycle functions,FAB-16261,41707,41548,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,wlahti,wlahti,09/Aug/19 1:33 AM,05/Dec/19 3:53 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Functions on the new service:

InstallChaincode
QueryInstalledChaincode
GetInstalledChaincodePackage
QueryInstalledChaincodes",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wjv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/19 4:35 AM;wlahti;An initial attempt, which defines the new service/functions and copies the Args/Result protos from lifecycle.proto: [https://gerrit.hyperledger.org/r/c/fabric/+/32802];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use new lifecycle APIs of node-sdk in Operator/PTE tools,FAB-16262,41708,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,09/Aug/19 1:49 AM,04/Dec/19 5:11 AM,28/Oct/23 3:09 AM,04/Dec/19 5:11 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"v2.0.0 will have the old (i.e. install, instantiate) and new (i.e. approve, commit...) APIs. Tools currently use the old APIs, but should be updated to work with the newer flow (and most certainly before 2.1 when the old APIs may be deprecated).

Some of the newer lifecycle items in node-sdk will be delayed, though, and may not be available in v2.0. Discussions about node-sdk support in fabric v2.0 are ongoing; here are some points stated recently:
 
* fabric-client (master) supports new fabric v2.0 lifecycle (just a few updates are required based on recent fabric changes).
* The intent is to publish fabric-client as a v1.5 release in parallel with fabric v2.0 (target end of September).
* fabric-client will be end-of-lifed at v1.5.x.
* node.js SDK v2.0 will continue to have fabric-network high level API, but will use a new reworked fabric-base low level API. We'll encourage everybody to use the high level API.
* node.js SDK v2.0 release will not be ready by end of September, but that's not a problem - it does not need to coincide with fabric v2.0 release, especially since the v1.5 SDK will have support for fabric v2.0 including new lifecycle.
* node.js SDK v2.0 should eventually have support for fabric v2.0 lifecycle (this will largely be a copy of the fabric-client v1.5 lifecycle code).
* node.js SDK v2.0 will not have backwards compatibility wrt node.js v1.x SDKs for applications using low level API...we will need to write guidance for users to shift their apps from using low level v1.x node.js SDK to high level v2.x node.js SDK

",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16770,,FAB-16256,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011l8:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/19 5:08 AM;scottz;This is essentially a dup of the Epic. This was written first, and contains a good description of what is needed. I am transferring this info to the epic.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaos testing: restart peer chaincode containers,FAB-16263,41709,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,09/Aug/19 4:26 AM,10/Jun/20 12:28 PM,28/Oct/23 3:09 AM,10/Jun/20 12:28 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"This will require another function to provide a way to find and select and kill cc containers inside the pods. The cc containers will be created automatically by the peer as needed, once another invoke/query is received on the peer.

Consider test failure scenarios using external launcher.",,scottz,,,,,,,,,,,,,,,,,,FAB-16087,,,,,,,,,,,,,,,FAB-16258,FAB-16072,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000dz:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE: update tools to use high level APIs of new programming model in node-sdk,FAB-16264,41710,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,09/Aug/19 4:30 AM,10/Jun/20 12:38 PM,28/Oct/23 3:09 AM,10/Jun/20 12:38 PM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Many tests will need to change to use the new interfaces, to remove the install/instantiation steps and replace with approve/commit etc. In the current format, that means editing lots of runCases files and json test description files under CITest/ directory. In the new system test framework for k8s, it means changing the test input specification file. In addition, the tools and command functions must all be added. There will likely be many pieces to merge for this.",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17430,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i011lc:",,,,No,Unset,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jan/20 1:11 AM;scottz;[Deferred until SDK team decides which APIs to implement and completes them.];;;","16/Apr/20 11:55 AM;btl5037;This is unlikely to be possible as the NodeSDK has decided it wont publish a Fabric-Admin module. But will keep open pending conversations about receiving an unofficial fabric-admin module.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Retiring Behave tests, part 1",FAB-16265,41711,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,09/Aug/19 4:56 AM,16/Aug/19 1:58 AM,28/Oct/23 3:09 AM,16/Aug/19 1:58 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"As we replace behave tests with IT tests, we can skip/disable/remove the behave tests from the fabric-test/feature/*.feature files.

Part 1 can be done now: disable the individual tests (mentioned in column B) that are color-coded as gray (unimportant) or green (already covered in other UT/IT tests). https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741

We could also go ahead and disable the bright green ones too, which have been resolved since we finished the initial analysis.

This applies to master branch, v2.0.0, so we don't waste compute resources in the next few weeks/months. Before end of year, we hope to have disabled all the behave tests, so it may be simpler to just wait until that happens and then disable them all at once in the older releases.

Update: More tests using NODE cc language were found to be unnecessary, so we can shut them off too: refer to FAB-16266.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16266,,,FAB-15932,FAB-15872,FAB-16050,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzf",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/19 5:00 AM;scottz;https://gerrit.hyperledger.org/r/c/fabric-test/+/32816;;;","10/Aug/19 5:13 AM;scottz;Removing the old replaced tests (along with many others that are unneeded) that were associated with these jira tasks being used to add tests to the fabric IT suite.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-master job: CouchDB Indexing with NODE test cases failed,FAB-16266,41713,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,vijaypunugubati,vijaypunugubati,09/Aug/19 12:27 PM,15/Aug/19 10:15 PM,28/Oct/23 3:09 AM,15/Aug/19 10:15 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,," 

fabric-test-daily-behave-master job: CouchDB Indexing with NODE, test cases failed with below error 
The first failure was observed from 2nd Aug 2019. 
{code:java}
fabric-test-daily-behave-master job: CouchDB Indexing with NODE test cases failed on 
Failing scenarios:
CouchDB_index.feature:32 FAB-7254: CouchDB Indexing, NODE with 1 channels and 1 index with 1 selector -- @1.2
CouchDB_index.feature:72 FAB-7255: CouchDB Indexing, NODE with 3 channels and 1 index with 3 selectors -- @1.2
CouchDB_index.feature:139 FAB-7256: CouchDB Indexing, NODE with 3 channels and 3 index with 1 selector -- @1.2
CouchDB_index.feature:238 FAB-7269: CouchDB Indexing, CC upgrade, NODE with 3 channels and 1 upgrade -- @1.2
CouchDB_index.feature:304 FAB-7270, FAB-7271, FAB-7272: CouchDB Indexing, CC upgrade, NODE with 3 channels and 3 upgrade -- @1.2
CouchDB_index.feature:364 FAB-7260, FAB-7261: CouchDB Indexing, install-after-instantiate, NODE with 3 channels and 1 index -- @1.2
CouchDB_index.feature:451 FAB-7262: CouchDB Indexing, install-after-instantiate, NODE with 3 channels and 3 indexes -- @1.2
{code}
 
{code:java}
And an admin deploys chaincode at path ""../../fabric-samples/chaincode/marbles02/node"" with args [""""] with name ""mycc1"" with language ""NODE"" on channel ""mychannel1""                                                                                                     # steps/endorser_impl.py:119
      Assertion Failed: The expected chaincode container 7918eff4b97b11e9a5bbfa163e1a53aa-peer0.org1.example.com-mycc1-0 is not running


/msg error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 ""cp: can\'t stat \'/chaincode/input/src/.\': No such file or directory\n""\n'}/ code placeholder
{code}
Logs:

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/314/Behave_Test_Logs/behave_tests.log.gz]

 

 ",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16265,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wkb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/19 11:21 PM;scottz;The NODE in the testcase titles refers to the chaincode language. These tests use fabric-samples/chaincode/marbles02/node. Looking in that repo now, it appears that cc no longer exists at that location.

The same test scenarios are also executed with golang chaincode. The cc language is not important, so we can disable these tests that are trying to use node version of marbles02.;;;","10/Aug/19 5:01 AM;scottz;https://gerrit.hyperledger.org/r/c/fabric-test/+/32816;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reducing lock contentions for transaction validation,FAB-16267,41714,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,nakaike,nakaike,nakaike,09/Aug/19 1:11 PM,09/Aug/19 5:03 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-peer,,,,,0,Perormance,,,,"In the current implementation, transactions are validated by multiple goroutines in parallel. Although the parallel transaction validation improves the performance, it has a room to improve the performance further by reducing lock contentions which occur when multiple validation goroutines access shared objects.

The procedure of the parallel validation is as follows.
 # A committer goroutine invokes multiple validation goroutines with assigning a transaction ID to each validation goroutine.
 # Each validation goroutine extracts dependencies from transactions which IDs are equal to or less than its own transaction ID. A dependency happens when a transaction changes an endorsement policy for the following transactions.
 # Each validation goroutine waits for all of the dependencies to be extracted from transactions which IDs are equal to or less than its own transaction ID.
 # Each validation goroutine validates its own transaction.

In Step 2 and 3, there are three shared objects that cause lock contentions.

Array of sync.Once: sync.Once is used to call a function, which extracts a dependency from a transaction, only once because multiple goroutines try to extract dependencies from the same transaction. sync.Once is stored in an array which is indexed by transaction IDs. Since the array is shared by multiple validation goroutines, lock contentions occur to acquire a lock for the array.

sync.Once: sync.Once has a flag to indicate whether a function is called. It tries to set the flag by using compare-and-swap in the fast path. When the compare-and-swap fails, synce.Once acquires a lock to set the flag. When multiple goroutines try to call a function by using the same sync.Once object in short timeframe, compare-and-swap fails frequently, and then lock contentions occur.

Map of dependencies: This map is protected by a reader/writer. If read accesses are dominant, lock contentions rarely occur. In this case, however, multiple validation goroutines continue to extract dependencies and store them in this map with acquiring the write lock, resulting in lock contentions.

Proposal for changes
 # Make each validation goroutine extract its own dependency (i.e. eliminate a loop to extract dependencies from transaction which IDs are less than a given transaction ID)
 # Use a reader/writer lock to access an array of sync.Once
 # Use sync.Map to store dependencies

This is a prototype of these changes [https://gerrit.hyperledger.org/r/c/fabric/+/32805.]

Performance improvements with these changes are as follows.
 * +13% TPS: Sending a single PutState transaction iteratively
 * +7% TPS: Sending a single GetState transaction iteratively",,nakaike,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wkj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nakaike,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable sync of LevelDB,FAB-16268,41715,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,nakaike,nakaike,nakaike,09/Aug/19 4:52 PM,02/Oct/19 6:00 AM,28/Oct/23 3:09 AM,02/Oct/19 5:59 AM,,,,,,,,,,fabric-orderer,fabric-peer,,,,0,Perormance,,,,"BlockIndex, StateLevelDB, and HistoryLevelDB enable sync when the data is written to the DBs. When sync enabled, a fsync system call is called after every write. The fsync system call flushes the data on a page cache (memory) to a disk. Although the fsync system call guarantees to persist the data, it has large overhead because it does not return during writing the data to a disk. Since the writes to the DBs are done by a single committer goroutine, they affect the performance significantly.

I propose to disable sync for BlockIndex, StateLevelDB, and HistoryDB. This should be possible because the DBs can be recovered from block files, which contents are still written to a disk with fsync system calls, even when a system crashes before writing the data to the DB files from memory.

This is a prototype for these changes [https://gerrit.hyperledger.org/r/c/fabric/+/32807.]

These changes gives 15% TPS improvement for a simple benchmark which sends a single PutState transaction iteratively.",,denyeart,nakaike,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wkr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nakaike,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/19 6:00 AM;denyeart;Won't do - See comments in https://gerrit.hyperledger.org/r/#/c/fabric/+/32807/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix protoc warns about unused includes,FAB-16269,41719,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,09/Aug/19 10:09 PM,13/Aug/19 5:27 AM,28/Oct/23 3:09 AM,13/Aug/19 5:27 AM,,,,,,,,,,,,,,,0,ipm,,,,"{code}
discovery/protocol.proto: warning: Import msp/identities.proto but not used.
peer/events.proto: warning: Import google/protobuf/timestamp.proto but not used.
{code}
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Aug/19 10:32 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32811 FAB-16269 remove unused imports and regen protos;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unit test flake in TestSpawnEtcdRaft on Master branch,FAB-16270,41722,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,guoger,denyeart,denyeart,10/Aug/19 3:23 AM,26/Aug/19 12:31 PM,28/Oct/23 3:09 AM,26/Aug/19 12:31 PM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,ci-flake,,,," 2nd time seeing in a couple days:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14350/console
{code:java}
10:36:09 2019-08-09 14:33:53.491 UTC [test] TrackChain -> INFO 04c Adding foo to the set of chains to track
10:36:09 2019-08-09 14:33:53.491 UTC [test] TrackChain -> PANI 04d Called with a nil genesis block
10:36:09 2019-08-09 14:33:53.494 UTC [test] loadVerifier -> PANI 04e Failed obtaining ledger for channel mychannel
10:36:09 2019-08-09 14:33:53.496 UTC [test] loadVerifier -> ERRO 04f Channel mychannel has no blocks, skipping it
10:36:09 2019-08-09 14:33:53.498 UTC [test] loadVerifier -> PANI 050 Failed retrieving block [99] for channel mychannel
10:36:09 2019-08-09 14:33:53.499 UTC [test] loadVerifier -> PANI 051 Failed retrieving config block [99] for channel mychannel
10:36:09 2019-08-09 14:33:53.501 UTC [test] loadVerifier -> PANI 052 Failed extracting configuration for channel mychannel from block [21]: empty block
10:36:09 2019-08-09 14:33:53.506 UTC [test] loadVerifier -> PANI 053 Failed creating verifier for channel mychannel from block [99]: failed initializing MSP
10:36:09 2019-08-09 14:33:53.510 UTC [test] loadVerifier -> INFO 054 Loaded verifier for channel mychannel from config block at index 99
10:36:09 2019-08-09 14:33:54.835 UTC [orderer.common.server] func1 -> ERRO 055 Broadcast client triggered panic: runtime error: invalid memory address or nil pointer dereference
10:36:09 goroutine 140 [running]:
10:36:09 runtime/debug.Stack(0x2d0be10, 0x1, 0x1)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/runtime/debug/stack.go:24 +0xab
10:36:09 github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast.func1()
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:152 +0x15f
10:36:09 panic(0x1be8d40, 0x2c125b0)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/runtime/panic.go:522 +0x1b5
10:36:09 github.com/hyperledger/fabric/orderer/common/server.(*broadcastMsgTracer).Context(0xc0004cb2f0, 0xc000204e00, 0x1)
10:36:09 	<autogenerated>:1 +0x59
10:36:09 github.com/hyperledger/fabric/orderer/common/broadcast.(*Handler).Handle(0x0, 0x1fbc860, 0xc0004cb2f0, 0x1e, 0x0)
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/broadcast/broadcast.go:67 +0x5d
10:36:09 github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast(0xc000204f40, 0x0, 0x0, 0x0, 0x0)
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:156 +0x217
10:36:09 github.com/hyperledger/fabric/orderer/common/server.TestBroadcastNoPanic(0xc000d68300)
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:30 +0x55
10:36:09 testing.tRunner(0xc000d68300, 0x1dc5958)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
10:36:09 created by testing.(*T).Run
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
10:36:09 2019-08-09 14:33:54.836 UTC [orderer.common.server] func1 -> ERRO 056 Deliver client triggered panic: runtime error: invalid memory address or nil pointer dereference
10:36:09 goroutine 141 [running]:
10:36:09 runtime/debug.Stack(0x2d0be10, 0x1, 0x1)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/runtime/debug/stack.go:24 +0xab
10:36:09 github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver.func1()
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:170 +0x15f
10:36:09 panic(0x1be8d40, 0x2c125b0)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/runtime/panic.go:522 +0x1b5
10:36:09 github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver(0xc0004f55c0, 0x0, 0x0, 0x0, 0x0)
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:198 +0x382
10:36:09 github.com/hyperledger/fabric/orderer/common/server.TestDeliverNoPanic(0xc000d68400)
10:36:09 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:35 +0x84
10:36:09 testing.tRunner(0xc000d68400, 0x1dc59e8)
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
10:36:09 created by testing.(*T).Run
10:36:09 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
10:36:09 2019-08-09 14:33:54.933 UTC [localconfig] completeInitialization -> INFO 057 Kafka.Version unset, setting to 0.10.2.0
10:36:09 2019-08-09 14:33:54.997 UTC [orderer.common.server] createSubDir -> PANI 058 Error creating sub dir: mkdir /tmp/foo/name: no such file or directory
10:36:09 2019-08-09 14:33:55.000 UTC [orderer.common.server] createTempDir -> PANI 059 Error creating temp dir: mkdir /tmp/foo/bar127401846: no such file or directory
10:36:09 --- FAIL: TestSpawnEtcdRaft (19.48s)
10:36:09     etcdraft_test.go:99: 
10:36:09         No future change is possible.  Bailing out early after 0.022s.
10:36:09         Got stuck at:
10:36:09             
10:36:09             	General.Cluster.TLSHandshakeTimeShift = 0s
10:36:09             	General.Keepalive.ServerMinInterval = 1m0s
10:36:09             	General.Keepalive.ServerInterval = 2h0m0s 
...
10:36:09             	Metrics.Statsd.WriteInterval = 30s
10:36:09             	Metrics.Statsd.Prefix = """"
10:36:09             2019-08-09 14:34:13.203 UTC [orderer.common.server] Main -> PANI 003 failed to initialize operations subsystem: listen tcp 127.0.0.1:8443: bind: address already in use
10:36:09             panic: failed to initialize operations subsystem: listen tcp 127.0.0.1:8443: bind: address already in use
10:36:09             
10:36:09             goroutine 1 [running]:
10:36:09             github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc0001d51e0, 0x0, 0x0, 0x0)
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x546
10:36:09             github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc000146308, 0x176fb04, 0x1620182, 0x2d, 0xc0003ddad8, 0x1, 0x1, 0x0, 0x0, 0x0)
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0x101
10:36:09             github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(...)
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159
10:36:09             github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(...)
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74
10:36:09             github.com/hyperledger/fabric/orderer/common/server.Main()
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/main.go:96 +0x440
10:36:09             main.main()
10:36:09             	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
10:36:09             
10:36:09         Waiting for:
10:36:09             EvictionSuspicion not set, defaulting to 10m
10:36:09     --- FAIL: TestSpawnEtcdRaft/EtcdRaft_launch_success (0.24s)
10:36:09         testing.go:820: test executed panic(nil) or runtime.Goexit: subtest may have called FailNow on a parent test
...
...
10:36:09 FAIL	github.com/hyperledger/fabric/orderer/common/server	61.870s
{code}
 ",,denyeart,guoger,tijohnson,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wm3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,tijohnson,yacovm,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/19 10:23 PM;denyeart;Seen again:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14528/console;;;","19/Aug/19 3:15 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/32982;;;","22/Aug/19 3:29 AM;denyeart;I realize the CR above was merged, but the flake still occurs, e.g.:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14686/console

Putting back to In Progress.;;;","23/Aug/19 12:13 AM;guoger;[~denyeart] thx Dave for reporting this... that CR only solves conflicting port, but not conflicting leveldb resource. I'll dig into it and push another CR.

Although, i'm generally no a fan of mixing this integration-test-like tests with other UTs. we will likely keep building code around it to avoid conflicts, and end up with another nwo, which can be executed in parallel...

thoughts? [~sykesm] [~yacovm];;;","23/Aug/19 2:11 AM;yacovm;why do we need operations to be active with this test ? we can disable the operations;;;","23/Aug/19 11:01 AM;guoger;[~yacovm] but we still have leveldb, no? and of course we can find a way to dodge that too, i.e. with ram ledger probably. but what i was saying is that i think this is a slippery slope to full blown integration tests...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure - orderer/common/server.TestBroadcastNoPanic panics,FAB-16271,41723,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,sykesm,sykesm,10/Aug/19 5:17 AM,12/Nov/19 4:39 AM,28/Oct/23 3:09 AM,12/Nov/19 4:39 AM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,ci-flake,ipm,,,"{code}
15:44:43 2019-08-09 19:42:26.550 UTC [orderer.common.server] func1 -> ERRO 055 Broadcast client triggered panic: runtime error: invalid memory address or nil pointer dereference
15:44:43 goroutine 97 [running]:
15:44:43 runtime/debug.Stack(0x2cfebd0, 0x1, 0x1)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/runtime/debug/stack.go:24 +0xab
15:44:43 github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast.func1()
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:152 +0x15f
15:44:43 panic(0x1be16e0, 0x2c055b0)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/runtime/panic.go:522 +0x1b5
15:44:43 github.com/hyperledger/fabric/orderer/common/server.(*broadcastMsgTracer).Context(0xc00023de60, 0xc0004bc000, 0xc000b8ce08)
15:44:43 	<autogenerated>:1 +0x59
15:44:43 github.com/hyperledger/fabric/orderer/common/broadcast.(*Handler).Handle(0x0, 0x1fb3e20, 0xc00023de60, 0x1e, 0x0)
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/broadcast/broadcast.go:67 +0x5d
15:44:43 github.com/hyperledger/fabric/orderer/common/server.(*server).Broadcast(0xc000b8cf40, 0x0, 0x0, 0x0, 0x0)
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:156 +0x217
15:44:43 github.com/hyperledger/fabric/orderer/common/server.TestBroadcastNoPanic(0xc00043eb00)
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:30 +0x55
15:44:43 testing.tRunner(0xc00043eb00, 0x1dbd3b0)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
15:44:43 created by testing.(*T).Run
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
15:44:43 2019-08-09 19:42:26.551 UTC [orderer.common.server] func1 -> ERRO 056 Deliver client triggered panic: runtime error: invalid memory address or nil pointer dereference
15:44:43 goroutine 139 [running]:
15:44:43 runtime/debug.Stack(0x2cfebd0, 0x1, 0x1)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/runtime/debug/stack.go:24 +0xab
15:44:43 github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver.func1()
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:170 +0x15f
15:44:43 panic(0x1be16e0, 0x2c055b0)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/runtime/panic.go:522 +0x1b5
15:44:43 github.com/hyperledger/fabric/orderer/common/server.(*server).Deliver(0xc0004813e0, 0x0, 0x0, 0x0, 0x0)
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server.go:198 +0x382
15:44:43 github.com/hyperledger/fabric/orderer/common/server.TestDeliverNoPanic(0xc00010c100)
15:44:43 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/server/server_test.go:35 +0x84
15:44:43 testing.tRunner(0xc00010c100, 0x1dbd440)
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:865 +0x164
15:44:43 created by testing.(*T).Run
15:44:43 	/opt/go/go1.12.5.linux.amd64/src/testing/testing.go:916 +0x65b
{code}",,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Aug/19 5:17 AM;sykesm;console.log.txt;https://jira.hyperledger.org/secure/attachment/17662/console.log.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzy",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 3:58 AM;MHBauer;Test prints the stacktrace, but passes as it's printing from inside of a recover. Seems to be working as intended from the test comment.

Failing test in log looks like TestSpawnEtcdRaft. I don't see the same tests in the current codebase. Looks like they've been renamed and updated since opening this bug.;;;","12/Nov/19 4:39 AM;sykesm;I have not seen this issue in recent memory and running locally for 50 iterations did not fail.

I did open FAB-17052 to improve a message that was written during the test execution.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow update batch to merger into another,FAB-16272,41724,41747,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/Aug/19 8:29 AM,14/Aug/19 12:22 AM,28/Oct/23 3:09 AM,14/Aug/19 12:22 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,The intention is to merge the update batch prepared by one transaction into block level update batch.,,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wmj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/19 9:48 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32836/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Serialize metadata associated with key in the form of a map,FAB-16273,41725,41748,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/Aug/19 11:05 AM,14/Aug/19 12:22 AM,28/Oct/23 3:09 AM,14/Aug/19 12:22 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"In transaction simulation we allow setting the metadata associated with a key as a map<metadatakey:metadatavalue>. This is used currently by the feature key based endorsement. In the simulation, the read write set builder converts this map into kvrwset.KVMetadataWrite which then gets serialized during commit. 

In the validation refactoring work, a transaction processor could set the metadata directly in the form of a map during its execution during commit phase and hence it would be required to serialize the metadata directly from the map.",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wmr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/19 10:05 PM;denyeart;Even though the Epic likely won't be done until v2.1, tasks/subtasks like this can be merged into v2.0. Updated FixVersion as such.;;;","10/Aug/19 10:06 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32838/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add link to off_chain_data sample in couchDB tutoral,FAB-16274,41728,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,11/Aug/19 11:19 PM,25/Sep/19 5:18 AM,28/Oct/23 3:09 AM,20/Sep/19 12:12 AM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,,,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wnf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 1:12 AM;negupta;https://gerrit.hyperledger.org/r/#/c/fabric/+/32848/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify operator for running the k8s commands,FAB-16275,41734,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,12/Aug/19 10:09 PM,22/Aug/19 3:14 AM,28/Oct/23 3:09 AM,22/Aug/19 3:14 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzci",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 3:43 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32857/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove running cert-parser.sh inside fabric components for creating msp directory structure,FAB-16276,41735,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,12/Aug/19 10:39 PM,15/Aug/19 6:36 AM,28/Oct/23 3:09 AM,15/Aug/19 6:36 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Remove running cert-parser.sh inside fabric components for creating msp directory structure as future fabric images may not contain external tools

Instead of cert-parser.sh script, use ConfigMap to create msp ConfigMap and tls ConfigMap and then mount to peers, orderers and ca to have msp directory structure.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15189,,,FAB-16248,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00woz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/19 5:45 AM;suryalnvs;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32845/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BYFN w/ Raft orderers not discoverable outside of Docker,FAB-16277,41736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,13/Aug/19 12:05 AM,21/Aug/19 12:56 AM,28/Oct/23 3:09 AM,21/Aug/19 12:56 AM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"Same problem as FAB-14268 - the 5 orderers created when you start BYFN w/ Raft:
- All have different hostnames inside the Docker network (orderer, orderer2, ..., orderer5) 
- All have the same port inside the Docker network (7050)
- All have different ports outside the Docker network (7050, 8050, ..., 11050)

The configuration blocks contain the hostnames and ports inside the Docker network, and this is the information the SDKs use to access those ordering nodes. The Node.js SDK, when running outside the Docker network, can be configured to force the hostnames to localhost - but this means such applications just see 5 orderers all with a hostname of localhost and a port of 7050. 

This requires the same fix as FAB-14268 - make the orderers use the same port inside and outside the Docker network - so this problem doesn't occur.",,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wp7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sstone1,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 12:55 AM;denyeart;Looks like this was merged in master: https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/32846/

[~sstone1] Did you want this in release-1.4 as well?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Store packages on the filesystem in appropriately named files,FAB-16278,41737,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Aug/19 12:10 AM,20/Aug/19 12:56 PM,28/Oct/23 3:09 AM,20/Aug/19 12:56 PM,,,,,,,,,,,,,,,0,ipm,,,,"Today, we are storing packages on the filesystem as '.bin' files.  Since they are in fact tar.gz files, this doesn't make a ton of sense.  This should be a fairly trivial change.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wpf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Audit for use of '+ "":"" +' in constructing legacy chaincode package names",FAB-16279,41738,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sykesm,jyellick,jyellick,13/Aug/19 12:10 AM,14/Nov/19 2:58 AM,28/Oct/23 3:09 AM,14/Nov/19 2:58 AM,,,,,,,,,,,,,,,0,ipm,,,,,,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zc9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/19 3:44 AM;jyellick;[~sykesm] I seem to recall you mentioning that you had done this, is this item still relevant?;;;","09/Nov/19 5:30 AM;sykesm;I looked a while ago but I'll look again really quickly.;;;","11/Nov/19 11:44 PM;sykesm;I've honestly forgotten what the intent of this task was to be. Here are the places I found us joining name and version by a colon literal:
{code}
core/ledger/kvledger/metrics_test.go:119: ""chaincode"", ""mycc:1.0"",core/ledger/kvledger/metrics_test.go:119: ""chaincode"", ""mycc:1.0"",
core/ledger/kvledger/metrics.go:65:			chaincodeName = txstat.ChaincodeID.Name + "":"" + txstat.ChaincodeID.Version
core/chaincode/container_runtime_test.go:29: err := cr.Start(""chaincode-name:chaincode-version"")core/chaincode/container_runtime_test.go:29: err := cr.Start(""chaincode-name:chaincode-version"")core/chaincode/container_runtime_test.go:34: assert.Equal(t, ""chaincode-name:chaincode-version"", packageID)core/chaincode/container_runtime_test.go:38: assert.Equal(t, ""chaincode-name:chaincode-version"", ccid)core/chaincode/container_runtime_test.go:44: err = cr.Start(""chaincode-name:chaincode-version"")core/chaincode/container_runtime_test.go:84: err := cr.Stop(""chaincode-id-name:chaincode-version"")core/chaincode/container_runtime_test.go:89: assert.Equal(t, ""chaincode-id-name:chaincode-version"", ccid)core/chaincode/container_runtime_test.go:119: exitCode, err := cr.Wait(""chaincode-id-name:chaincode-version"")core/chaincode/container_runtime_test.go:123: assert.Equal(t, ""chaincode-id-name:chaincode-version"", fakeRouter.WaitArgsForCall(0))core/chaincode/container_runtime_test.go:126: code, err := cr.Wait(""chaincode-id-name:chaincode-version"")
core/chaincode/exectransaction_test.go:162:				ChaincodeID: name + "":0"",
core/chaincode/exectransaction_test.go:585:	cName := ccContext.Name + "":"" + ccContext.Version
core/chaincode/exectransaction_test.go:654:				ChaincodeID: name + "":0"",
core/chaincode/exectransaction_test.go:767:	chaincodeSupport.Runtime.Stop(chaincodeCtx.Name + "":"" + chaincodeCtx.Version)
core/chaincode/exectransaction_test.go:790:				ChaincodeID: name + "":0"",
core/chaincode/exectransaction_test.go:808:	defer chaincodeSupport.Runtime.Stop(cID1.Name + "":"" + cID1.Version)
core/chaincode/exectransaction_test.go:833:	defer chaincodeSupport.Runtime.Stop(cID2.Name + "":"" + cID2.Version)
core/chaincode/exectransaction_test.go:890:	defer chaincodeSupport.Runtime.Stop(cID.Name + "":"" + cID.Version)
core/chaincode/exectransaction_test.go:944:	defer chaincodeSupport.Runtime.Stop(cID.Name + "":"" + cID.Version)
core/chaincode/chaincode_support.go:139:	ccid := ccName + "":"" + ccVersion
core/chaincode/lifecycle/deployedcc_infoprovider.go:97:		Hash:                        util.ComputeSHA256([]byte(chaincodeName + "":"" + definedChaincode.EndorsementInfo.Version)),
core/chaincode/chaincode_support_test.go:222:				ChaincodeID: name + "":0"",
core/container/dockercontroller/dockercontroller.go:482:	// pre-2.0 used ""-"" as the separator in the ccid, so replace "":"" with
core/container/dockercontroller/dockercontroller.go:484:	name = strings.ReplaceAll(name, "":"", ""-"")
core/common/ccprovider/ccprovider.go:218:		ccName := f.Name()[:i]      // Everything before the separator
core/common/ccprovider/ccprovider.go:219:		ccVersion := f.Name()[i+1:] // Everything after the separator
core/common/ccprovider/ccprovider.go:221:		ccPackage, err := ccFromPath(ccName+"":""+ccVersion, dir, cifs.GetHasher)
core/common/ccprovider/ccprovider.go:223:			ccproviderLogger.Warning(""Failed obtaining chaincode information about"", ccName, ccVersion, "":"", err)
core/common/ccprovider/ccprovider.go:320:			ccpack, err := GetChaincodeFromFS(ccname + "":"" + ccversion)
core/common/ccprovider/ccprovider.go:389:	return cd.Name + "":"" + cd.Version
core/scc/lscc/lscc.go:275:		ChaincodeID:       chaincodeData.Name + "":"" + chaincodeData.Version,
core/scc/lscc/lscc.go:438:		return errors.Errorf(""invalid collection configuration supplied for chaincode %s:%s"", cd.Name, cd.Version)
core/scc/lscc/lscc.go:456:		return errors.WithMessagef(err, ""error putting collection for chaincode %s:%s"", cd.Name, cd.Version)
core/scc/lscc/lscc.go:689:	ccid := ccpack.GetChaincodeData().Name + "":"" + ccpack.GetChaincodeData().Version
core/scc/lscc/lscc.go:760:	chaincodeNameVersion := chaincodeName + "":"" + chaincodeVersion
{code}
;;;","12/Nov/19 4:21 AM;sykesm;Excluding tests, we're down to these (?):

{code}
core/ledger/kvledger/metrics.go:65:			chaincodeName = txstat.ChaincodeID.Name + "":"" + txstat.ChaincodeID.Version
core/chaincode/chaincode_support.go:139:	ccid := ccName + "":"" + ccVersion
core/chaincode/lifecycle/deployedcc_infoprovider.go:97:		Hash:                        util.ComputeSHA256([]byte(chaincodeName + "":"" + definedChaincode.EndorsementInfo.Version)),
core/common/ccprovider/ccprovider.go:218:		ccName := f.Name()[:i]      // Everything before the separator
core/common/ccprovider/ccprovider.go:219:		ccVersion := f.Name()[i+1:] // Everything after the separator
core/common/ccprovider/ccprovider.go:221:		ccPackage, err := ccFromPath(ccName+"":""+ccVersion, dir, cifs.GetHasher)
core/common/ccprovider/ccprovider.go:223:			ccproviderLogger.Warning(""Failed obtaining chaincode information about"", ccName, ccVersion, "":"", err)
core/common/ccprovider/ccprovider.go:320:			ccpack, err := GetChaincodeFromFS(ccname + "":"" + ccversion)
core/common/ccprovider/ccprovider.go:389:	return cd.Name + "":"" + cd.Version
core/scc/lscc/lscc.go:275:		ChaincodeID:       chaincodeData.Name + "":"" + chaincodeData.Version,
core/scc/lscc/lscc.go:438:		return errors.Errorf(""invalid collection configuration supplied for chaincode %s:%s"", cd.Name, cd.Version)
core/scc/lscc/lscc.go:456:		return errors.WithMessagef(err, ""error putting collection for chaincode %s:%s"", cd.Name, cd.Version)
core/scc/lscc/lscc.go:689:	ccid := ccpack.GetChaincodeData().Name + "":"" + ccpack.GetChaincodeData().Version
core/scc/lscc/lscc.go:760:	chaincodeNameVersion := chaincodeName + "":"" + chaincodeVersion
{code};;;","14/Nov/19 2:58 AM;sykesm;There are several places where we are still joining by a colon but it's probably not worth the time to go back and change them all to use some sort of join function.

So, if ever we decide we need to, we can use the list in this issue as a starting point.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Change the system chaincode version to be a constant, and make the ccid sane",FAB-16280,41739,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,jyellick,jyellick,13/Aug/19 12:11 AM,24/Oct/19 10:45 PM,28/Oct/23 3:09 AM,24/Oct/19 10:45 PM,,,,,,,,,,,,,,,0,ipm,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wpv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Performance degradation with large ledger due to growing txid database,FAB-16281,41740,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,baohua,baohua,13/Aug/19 12:37 AM,01/May/20 3:04 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,"When doing the duplicate transaction checking for each transaction, it will query whether the transaction id exists in the indexDB.

With large ledger, there will be lots of existing transactions information in the indexDB, and the performance will go down. Since this is per-transaction behavior, it will affect the performance nonNegligible.

This issue will become worse with accumulating the transactions over time.

 

There may be several workarounds:

1) Enhance indexDB (which uses levelDB now) by using better DB in terms of large-scale.

2) Design specific data structure to enhance this duplication checking.

3) Re-design the existing transaction id generation mechanism, e.g., add timestamp to allow storing with separate smaller DB size.

 

Till now, i feel the flexible solution is to encode the time information into the transaction id, e.g., timestamp, block height, epoch etc. To keep compatibility with the existing one, need to include the new information as optional. If there's no such information, then follow legacy mechanism to check the entire indexDB.",,baohua,denyeart,Pancham,silliman,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i00wq3:",,,,No,Unset,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,Pancham,silliman,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 2:10 PM;denyeart;Potentially transaction epoch could be used, such that concatenation of epoch and txid within epoch would uniquely identify transaction. Then txids from prior epochs could be removed from txid database.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade/What's New for 1.4.3,FAB-16282,41741,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,13/Aug/19 12:52 AM,27/Aug/19 3:18 AM,28/Oct/23 3:09 AM,27/Aug/19 3:18 AM,v1.4.3,,,,,v1.4.3,,,,fabric-docs,,,,,0,,,,,Doc updates to reflect 1.4.3 release — focusing mainly on node OU enhancements.,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wqb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 6:04 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/fabric/+/32864;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples: stale script name in interest rate swaps ,FAB-16283,41742,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,13/Aug/19 1:00 AM,13/Aug/19 2:47 AM,28/Oct/23 3:09 AM,13/Aug/19 2:47 AM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,The interest rate swaps sample accidentally still refers to simulate-commit.sh instead of the newly renamed check-commit-readiness.sh. ,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wqj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove E2E and Docker Compose file option from BYFN for Fabric v2.0,FAB-16284,41743,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,13/Aug/19 1:20 AM,28/Nov/19 6:03 PM,28/Oct/23 3:09 AM,27/Aug/19 6:42 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,"The docker-compose-e2e-template.yaml file and generated docker-compose-e2e.yaml file should not be used any more, and should be removed. The associated Docker Compose file argument (-f docker-compose-e2e.yaml) should also be removed. ",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16981,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wqr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 6:42 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/32850;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update blacklisted versions from BYFN for Fabric v2.0,FAB-16285,41745,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,13/Aug/19 1:31 AM,27/Aug/19 6:42 PM,28/Oct/23 3:09 AM,27/Aug/19 6:42 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,"There are checks in BYFN for ensuring that you don't run on v1.0.0, v1.1.0-preview, or v1.1.0-alpha. These checks are clearly well out of date, but they should be updated so that users do not accidentally use Fabric v1.x with BYFN from Fabric v2.0, or vice-versa.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wr7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 6:42 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/32852;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add an integration test for failing instantiation policy,FAB-16286,41746,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Aug/19 2:23 AM,19/Nov/19 11:13 AM,28/Oct/23 3:09 AM,19/Nov/19 12:26 AM,,,,,,,,,,,,,,,0,ipm,,,,"The security check that renders the 1.x lifecycle its security guarantees is the instantiation policy.  However, to my knowledge, nowhere in our integration tests do we actually verify that violating the instantiation policy prevents chaincode execution.  It is very likely that a custom RW set will need to be generated in order to exercise this path.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzz",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 1:49 AM;sykesm;Context Notes:

- The legacy lifecycle does validation through post-order execution by re-simulating the chaincode instantiation that was executed by lscc (but without the context and data that was available at simulation time).
- At instantiation time, lscc has access to the chaincode bytes - but not all peers have the chaincode so they don't have access to the bytes at validation time - that means they trust the RWSet at validation time.
- When you instantiate,  you include an instantiation policy that is validated...
- Once a chaincode has been instantiated, the goal is to prevent updates that would do things like modify the endorsement policy.

----
The test could exploit a ""weird"" (but expected) behavior: if you do not specify an instantiation policy, an implicit instantiation policy is created based on the current membership of the channel. After expanding the membership of the channel, if the new organization attempts to upgrade, the upgrade should fail.

Q: Does the upgrade fail at invoke time? If yes, we need to revisit with a custom RW set.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow transaction processor to access to latest state,FAB-16287,41747,,Task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,13/Aug/19 3:24 AM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,"In the current form, both the validation code and post order custom transaction processing operate on the state as of last committed block. In other words, the state modification caused by the preceding valid transactions in the block are not considered.

In the new code, allow a transaction processor to access to the above mentioned latest state.",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyzr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow transaction processor to set state similar to transaction simulator,FAB-16288,41748,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,manish-sethi,manish-sethi,13/Aug/19 3:34 AM,09/Nov/20 11:22 PM,28/Oct/23 3:09 AM,,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,"A transaction processor that would typically be implemented for executing a post order transaction (e.g, token transaction) should be offered APIs for setting the state/ state metadata. ",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyzw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate PackageProvider code comment,FAB-16289,41750,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,13/Aug/19 10:36 AM,16/Nov/19 4:10 AM,28/Oct/23 3:09 AM,16/Nov/19 4:10 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,https://gerrit.hyperledger.org/r/c/fabric/+/32833/4/internal/peer/node/start.go#313,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzzzk",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Make chaincode package metadata JSON fields lower case,FAB-16290,41751,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,13/Aug/19 11:27 AM,20/Sep/19 4:33 AM,28/Oct/23 3:09 AM,20/Sep/19 4:33 AM,,,,,,,,,,,,,,,0,ipm,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wsj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/endorser,FAB-16291,41755,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,13/Aug/19 4:49 PM,11/Sep/19 12:04 AM,28/Oct/23 3:09 AM,11/Sep/19 12:04 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"core/endorser$ staticcheck
endorser.go:120:3: var elapsedMilliseconds is of type time.Duration; don't use unit-specific suffix ""Milliseconds"" (ST1011)
endorser.go:357:9: empty branch (SA9003)
endorser_test.go:790:6: type support is unused (U1000)
support.go:18:2: should not use dot imports (ST1001)",,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wtf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All peers crash after one peer is brought down for certain amount of time,FAB-16292,41758,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,yacovm,guoger,guoger,13/Aug/19 7:47 PM,20/Aug/19 7:06 AM,28/Oct/23 3:09 AM,14/Aug/19 12:09 AM,v1.4.2,,,,,v1.4.3,v2.0.0,,,fabric-gossip,,,,,0,,,,," 

This happens in 1.4.2 if you have peers from other organizations that go offline and as a result their messages get garbage collected and the peer tries to access the secret envelope which doesn't exist, and it panics as a result.

 

I think it can be worked around by putting the *aliveExpirationTimeout* to a very high value, but I haven't checked.

 

 
{code:java}
   388	[33m2019-08-13 10:06:37.841 UTC [gossip.discovery] expireDeadMembers -> WARN 070[0m Entering [d87ff79603d9a50f5788d0727dca141dcdb44f0625f97c712844d410e69645d8]
   389	[33m2019-08-13 10:06:37.841 UTC [gossip.discovery] expireDeadMembers -> WARN 071[0m Closing connection to Endpoint: peer0.org1.sitech.com:7051, InternalEndpoint: , PKI-ID: d87ff79603d9a50f5788d0727dca141dcdb44f0625f97c712844d410e69645d8, Metadata: 
   390	[33m2019-08-13 10:06:37.841 UTC [gossip.discovery] expireDeadMembers -> WARN 072[0m Exiting
   391	[34m2019-08-13 10:06:42.690 UTC [gossip.channel] reportMembershipChanges -> INFO 073[0m Membership view has changed. peers went offline:  [[peer0.org1.sitech.com:7051 ]] , current view:  []
   392	panic: runtime error: invalid memory address or nil pointer dereference
   393	[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xaed020]
   394	
   395	goroutine 91 [running]:
   396	github.com/hyperledger/fabric/protos/gossip.(*SecretEnvelope).InternalEndpoint(0x0, 0x40c445, 0x7f7eb42e7390)
   397		/opt/gopath/src/github.com/hyperledger/fabric/protos/gossip/extensions.go:480 +0x40
   398	github.com/hyperledger/fabric/gossip/discovery.newAliveMsgStore.func4(0x1243280, 0xc003ccd360)
   399		/opt/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:1032 +0xfd
   400	github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expireMessages(0xc000964280)
   401		/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:212 +0x34c
   402	github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc000964280)
   403		/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:253 +0x141
   404	created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
   405		/opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
{code}",,abel23,denyeart,guoger,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,FAB-16255,FAB-16054,,,,,,,FAB-16340,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wu3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,denyeart,guoger,yacovm,ymlbright,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Aug/19 8:29 PM;yacovm;well... the good news is that it only effects 1.4.2 as this is a new bug introduced in a bug fix.

 

[https://gerrit.hyperledger.org/r/#/c/fabric/+/32874/]

[https://gerrit.hyperledger.org/r/#/c/fabric/+/32875/]

 

 ;;;","16/Aug/19 4:56 PM;guoger;although, do we want to note users that this patch should be applied to 1.4.2 if they want to put it into production now? [~yacovm] [~denyeart];;;","16/Aug/19 5:01 PM;yacovm;That is correct...

 

If we only had integration tests that test gossip...;;;","20/Aug/19 7:05 AM;denyeart;Note that with default aliveExpirationTimeout (CORE_PEER_GOSSIP_ALIVEEXPIRATIONTIMEOUT) of 25s, peers remove reference to a stopped peer after 25s x 20 = 500s. Therefore other peers in the channel will crash after about 500 seconds (8 minutes) after any peer in the channel is stopped. Due to the severity of this issue, release v1.4.3 will be expedited for delivery by end of August.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove GetLastUpdatedOldBlockList() from pvtdataStore,FAB-16293,41762,43840,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,Senthil1,Senthil1,Senthil1,13/Aug/19 9:42 PM,19/Feb/20 11:27 AM,28/Oct/23 3:09 AM,,,,,,,Future,,,,fabric-ledger,,,,,0,cleanup,,,,"GetLastUpdatedOldBlockList() is used by kvLedger to sync stateDB with pvtdataStore to recover a peer after a failure. 

Due to FAB-16104 , kvLedger does not need to use GetLastUpdatedOldBlockList(). However, we still keep it to support rolling upgrade from v142 to v2.0. We can remove this function when we either move to v2.1 or in v2.0 if we decide to rebuild stateDB (as rebuilding would always ensure that the stateDB is synched with pvtdataStore without using GetLastUpdatedOldBlockList()). ",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wuz:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/19 1:01 AM;manish-sethi;For more context - https://gerrit.hyperledger.org/r/#/c/fabric/+/32792/1/core/ledger/pvtdatastorage/store_impl.go@578;;;","19/Feb/20 11:15 AM;Senthil1;In release 1.4, the commit of pvtData of old block execute the following steps:
 # commit the pvtData of old blocks to the pvtdata store and a marker denoting the set of pvtData being added to the pvtDataStore.
 # commit the pvtData of old blocks to stateDB.
 # remove the marker from the pvtdata store.
 # If the peer fails after storing the data in pvtdatastore, the marker helps in
 synching the stateDB with the pvtdataStore. _GetLastUpdatedOldBlockList()_ is used by the kvledger during startup to see any pending old pvtData that needs to be applied to the stateDB.

In release 2.0, we have simplified this flow as follows (by removing the marker):
 # commit the pvtData of old blocks to stateDB
 # commit the pvtData of old blocks to the pvtDataStore.
 # If the peer fails after storing the pvtData in the stateDB, we don't need to do any special operation to recover the states. The reconciler would fetch the data as the pvtData is missing in the pvtdata Store. While committing the pvtData to the stateDB, at the worst case, we overwrite existing data but there is no consistency issues.
 # we don't store any marker in the pvtDataStore in this approach.

However, during the rolling upgrade from 1.4 LTS to v2.x LTS, the marker can exist in the pvtDataStore. Hence, the recovery logic in 2.x still need to use _GetLastUpdatedOldBlockList()_ to ensure correct recovery. When we move from v2.x to v2.x+1, we can be sure that there is no marker. Hence, in v2.x+1, we can safely remove _GetLastUpdatedOldBlockList()_

_Assumption: user would move from 1.4 LTS to 2.x LTS_;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove ResetLastUpdatedOldBlockList() from pvtdataStore,FAB-16294,41763,43840,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,Senthil1,Senthil1,Senthil1,13/Aug/19 9:49 PM,19/Feb/20 11:27 AM,28/Oct/23 3:09 AM,,,,,,,Future,,,,fabric-ledger,,,,,0,,,,,"ResetLastUpdatedOldBlocksList() can be removed in v2.1. From v2.0 onwards, we do not store the last updatedBlksList (refer to FAB-16104). Only to support the rolling upgrade from v142 to v2.0, we retain the ResetLastUpdatedOldBlocksList() in v2.0.",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wv7:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Aug/19 1:01 AM;manish-sethi;For more context - https://gerrit.hyperledger.org/r/#/c/fabric/+/32792/1/core/ledger/pvtdatastorage/store_impl.go@578;;;","19/Feb/20 11:18 AM;Senthil1;In release 1.4, the commit of pvtData of old block execute the following steps:
 # commit the pvtData of old blocks to the pvtdata store and a marker denoting the set of pvtData being added to the pvtDataStore.
 # commit the pvtData of old blocks to stateDB.
 # remove the marker from the pvtdata store using _ResetLastUpdatedOldBlockList()_.
 # If the peer fails after storing the data in pvtdatastore, the marker helps in synching the stateDB with the pvtdataStore. _GetLastUpdatedOldBlockList()_ is used by the kvledger during startup to see any pending old pvtData that needs to be applied to the stateDB. Further, it uses _ResetLastUpdatedOldBlockList() to remove the marker once the recovery is completed._

In release 2.0, we have simplified this flow as follows (by removing the marker):
 # commit the pvtData of old blocks to stateDB
 # commit the pvtData of old blocks to the pvtDataStore.
 # If the peer fails after storing the pvtData in the stateDB, we don't need to do any special operation to recover the states. The reconciler would fetch the data as the pvtData is missing in the pvtdata Store. While committing the pvtData to the stateDB, at the worst case, we overwrite existing data but there is no consistency issues.
 # we don't store any marker in the pvtDataStore in this approach.

However, during the rolling upgrade from 1.4 LTS to v2.x LTS, the marker can exist in the pvtDataStore. Hence, the recovery logic in 2.x still need to use _GetLastUpdatedOldBlockList()_ and __ _ResetLastUpdatedOldBlockList()_ to ensure correct recovery. When we move from v2.x to v2.x+1, we can be sure that there is no marker. Hence, in v2.x+1, we can safely remove _ResetLastUpdatedOldBlockList()_

_Assumption: user would move from 1.4 LTS to 2.x LTS_;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
investigate why Handler#deregister and Handler#registerTxID need to deal with empty chaincodeID and handle error,FAB-16295,41764,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,dereckluo,sykesm,sykesm,13/Aug/19 10:08 PM,07/Sep/19 10:00 PM,28/Oct/23 3:09 AM,07/Sep/19 10:00 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The code in question:
{code}
func (h *Handler) deregister() {
	if h.chaincodeID != """" {
		h.Registry.Deregister(h.chaincodeID)
	}
}
{code}

afaict, that should never happen in production and, if it does, we need to understand why. Also, there should be an error check there because if we didn't find a handler in the registry, we get back an error.

So, task is to remove the check and simply drive deregister, run all tests, and see what breaks. If nothing seems to break, remove the check since it seems to be redundant. Regardless, add error handling and address fallout as necessary.

Also, the following code lives in {{registerTxID}}. Again, the check really shouldn't be needed:

{code}
	chaincodeID := ""unknown""
	if h.chaincodeID != """" {
		chaincodeID = h.chaincodeID
	}
{code}

Note: This may be related to ""dev mode."" If so, let's discuss options.",,dereckluo,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui9y",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dereckluo,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/19 5:06 AM;dereckluo;self note: initial investigation, with removing of the checks lead to no error in both unit-test and integration-test;;;","07/Sep/19 2:00 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33163;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Issue with Interest rate sample on Fabric 1.4,FAB-16296,41766,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,13/Aug/19 10:28 PM,14/Aug/19 11:01 PM,28/Oct/23 3:09 AM,14/Aug/19 11:01 PM,,,,,,v1.4.2,,,,fabric-samples,,,,,0,,,,,"When running the interest rate sample on Fabric 1.4.2, I get the following error:

######### Generating Orderer Genesis block ##############
mkdir: channel-artifacts: File exists
2019-08-13 09:26:27.379 EDT [common.tools.configtxgen] main -> FATA 001 Missing channelID, please specify it with '-channelID'
Failed to generate orderer genesis block...",,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wvf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/19 11:37 PM;negupta;https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/32881/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove pvtdataStore init,FAB-16297,41767,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,13/Aug/19 10:40 PM,13/Mar/20 3:18 AM,28/Oct/23 3:09 AM,13/Mar/20 3:18 AM,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,cleanup,,,,"The private data feature became stable from v1.2 onwards. To allow the initiation of pvtdata store with non-zero block height (mainly during a rolling upgrade from an existing v1.1 network to v1.2), we introduced pvtdata Init() function which would take the height of block store and set it as a height of pvtdataStore. 

We can remove the pvtdataStore Init() function in v2.0",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:1r",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/20 7:03 AM;manish-sethi;Just a correction... This function exists since the introduction of pvtdata code. So, unless someone is upgrading straight from 1.0 release to 2.0 (unlikely, I guess), we can safely remove this function (and any transitive functions that are called only from this)

The code location of the function - [https://github.com/hyperledger/fabric/blob/ff7c083b21a94f1a17bc196c6d328ee2ee457f61/core/ledger/ledgerstorage/store.go#L291:17|https://github.com/hyperledger/fabric/blob/ff7c083b21a94f1a17bc196c6d328ee2ee457f61/core/ledger/ledgerstorage/store.go#L291:17)];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cleanup pendingBatch from pvtdataStore,FAB-16298,41768,43840,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,Senthil1,Senthil1,Senthil1,13/Aug/19 10:47 PM,19/Feb/20 11:28 AM,28/Oct/23 3:09 AM,,,,,,,Future,,,,fabric-ledger,,,,,0,cleanup,,,,"From v2.1 onwards, we can remove the concept of pendingBatch in pvtdataStore. This is mainly due to FAB-16211 

We had to retain the concept in v2.0 to support rolling upgrade from v142 to v2.0",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wvc:",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/20 4:38 AM;manish-sethi;Adding concrete condition and code location - 

If we guarantee that upgrade to 2.1 is from 2.0 only (i.e., not directly from 1.4.x to 2.1), the code between

[https://github.com/hyperledger/fabric/blob/92af234c977e0208d550500bf48de710296813de/core/ledger/pvtdatastorage/store_impl.go#L159] and L177 can be deleted in version 2.0;;;","19/Feb/20 11:23 AM;Senthil1;With the introduction of peer reset/rollback, we make the gossip to fetch pvtData from the local store if available. Further, we make the pvtdata reconciler to not fetch pvtData when the pvtstore is ahead of the blockstore. As we allow the pvtDataStore height to be greater than the blockstore height, we have removed the synchronization between pvtstore and blockstore in release 2.0 but not in release 1.4. As a result, when we do rolling upgrade from 1.4 LTS to 2.x LTS, the pendingBatch marker can still present in the pvtDataStore. Hence, we need the associated cleanup code in 2.x LTS. From 2.x+1, we can safely remove pendingBatch marker related code from the pvtDataStore.

_Assumption: user would move from 1.4 LTS to 2.x LTS_;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-chaincode-java-merge job: gsed command not found,FAB-16299,41769,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,13/Aug/19 11:26 PM,15/Aug/19 11:53 PM,28/Oct/23 3:09 AM,15/Aug/19 11:53 PM,,,,,,,,,,,,,,,0,ci-failure,,,,"`gsed command not found` error from the fabric-chaincode-java-merge job in publishing jar's to nexus script (include-raw-publish-image-jar.sh)
{code:java}
/00:00:16.252 /tmp/jenkins3917533966038960438.sh: line 30: gsed: command not found/ code placeholder
{code}",,btl5037,heatherp,jtonline,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,dd456dc7e7d364eff8eb4df1448c5b64ab9849c1,Unset,No,,,"1|i00ww3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,heatherp,jtonline,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Aug/19 11:45 PM;vijaypunugubati;1) The above error is observed from the builds after this CR merge [FABN-1320] Fix git_tag.sh

2) I see build.gradle is having different code for getting `version` from different branches, which doesn't work.

These changes were made on release-1.4 ([FABN-1320] Fix git_tag.sh) and please make these changes in all branches, CI script tries to pull `version` while publishing jar's to nexus from a common script (include-raw-publish-image-jar.sh).;;;","15/Aug/19 11:53 PM;vijaypunugubati;[https://gerrit.hyperledger.org/r/#/c/fabric-chaincode-java/+/32883/]

[https://gerrit.hyperledger.org/r/#/c/ci-management/+/32925/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor ValidateTransaction - remove unused argument,FAB-16300,41770,41607,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,14/Aug/19 12:42 AM,14/Aug/19 6:02 PM,28/Oct/23 3:09 AM,14/Aug/19 6:02 PM,,,,,,,,,,,,,,,0,,,,,The ValidateTransaction function in core/common/validation/msgvalidation.go has an extra argument which is unused. It should be removed,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wwb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused error return from ComputeTxID,FAB-16301,41771,41607,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,14/Aug/19 12:59 AM,14/Aug/19 6:02 PM,28/Oct/23 3:09 AM,14/Aug/19 6:02 PM,,,,,,,,,,,,,,,0,,,,,ComputeTxID returns an error which is always nil - we don't need an error return value then,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wwj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change historydb key format to prevent key collision and false key in history range query,FAB-16302,41772,39960,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,14/Aug/19 2:25 AM,22/Aug/19 1:15 PM,28/Oct/23 3:09 AM,22/Aug/19 1:15 PM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wwr:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Aug/19 2:58 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/26155/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GetHistoryForKey to return entries in the order of newest to oldest,FAB-16303,41773,39960,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,14/Aug/19 2:26 AM,10/Sep/20 10:49 PM,28/Oct/23 3:09 AM,06/Sep/19 9:57 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"GetHistoryForKey() chaincode API should return results from newest to oldest.
In prior releases there were no guarantees about the order of results.",,denyeart,manish-sethi,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wwz:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,wenjian,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,purge-pd,main-emeritius,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,correct-nodeenv-version,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 6:32 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/32986/;;;","06/Sep/19 2:22 AM;denyeart;Release note:
https://gerrit.hyperledger.org/r/#/c/fabric/+/33385/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests for GetHistoryForKey,FAB-16304,41774,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,14/Aug/19 2:30 AM,27/Sep/19 12:14 AM,28/Oct/23 3:09 AM,27/Sep/19 12:14 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,,,manish-sethi,scottz,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15499,,,No,,Unset,No,,,"1|i00wx7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),manish-sethi,scottz,wenjian,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 3:13 AM;wenjian;CR: -[https://gerrit.hyperledger.org/r/#/c/fabric/+/33070/]-;;;","24/Aug/19 3:17 AM;manish-sethi;Any reason why this is a sub-task of FAB-15490?;;;","24/Aug/19 4:40 AM;wenjian;As we discussed at the scrum, we need an end2end test for GetHistoryForKey. Since FAB-15490 updates historydb key, this ticket was created as a subtask to complete e2e test for GetHistoryForKey.;;;","24/Aug/19 4:44 AM;wenjian;This subtask may be moved to FAB-15894 because item 44 is about getHistoryForMarble.;;;","06/Sep/19 5:47 AM;scottz;I changed subtask to a testtask, so it can stand on its own.;;;","12/Sep/19 12:58 AM;wenjian;New CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33443/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
query enhancements to CheckCommitReadiness,FAB-16305,41778,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wlahti,harrisob@us.ibm.com,harrisob@us.ibm.com,14/Aug/19 3:30 AM,23/Aug/19 3:26 AM,28/Oct/23 3:09 AM,23/Aug/19 3:26 AM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"
Have CheckCommitReadiness not return an error when the status is false, maybe include a message to indicate why it is ready or why it is not ready along with the status of each org.",,harrisob@us.ibm.com,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15821,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wy3:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harrisob@us.ibm.com,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/19 3:26 AM;wlahti;Discussed with Bret. If we were to change the functionality of CheckCommitReadiness here, we'd also need to change the behavior of CommitChaincodeDefinition. We both agreed that isn't something we intended to do with this task so marking this as ""Won't Do"". ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document how to use separate orderers per channel,FAB-16306,41787,,Documentation,To Do,FAB,Fabric,software,denyeart,,,Medium,,joe-alewine,hakan.eryargi,hakan.eryargi,14/Aug/19 6:40 PM,06/May/20 3:56 PM,28/Oct/23 3:09 AM,,,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,,,hakan.eryargi,MariWade,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008rj:iwyy",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),hakan.eryargi,MariWade,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Aug/19 7:09 AM;pandrejko;Problem as reported:

These are the steps I followed:
 * Created a new orderer org
 * Updated the system channel, added new org to Orderer groups with its certificates
 * Updated the system channel again, added new orderer endpoint
 * This went well, I can see from logs it fetched system channel blocks from other orderers
 * Then followed the same procedure for a regular channel called *common*
 * At this point, another orderer started to try sending stuff to new orderer, but new orderer complains channel *common* does not exist, logs are below. Continuing all the time. Also I can see relevant chain folder does not exist in new orderer.

Say we have a standard set of Raft orderers serving for all channels and at some point, some channel wants to use a new and separate orderer.

We can create a new orderer organization and add its node(s) to that channel. This new node(s) will catch up and receive all the blocks from other orderer nodes and after that we can remove old orderer nodes from that channel. Right?

Gari:
 {{For Solo and Kafka orderers, you will actually need to use separate ordering services if you want to have channels managed by different orderers.  You can't map channels to a subset of orderer nodes that belong to a single Kafka-based ordering service.}}

{{With Raft, it is possible to have each channel managed by a subset of the Raft consenter nodes.  I noticed that this is not currently clearly documented.  I'd suggest posting in the #fabric-order channel for now and it would be great if you could open a JIRA ticket to add this info to the documentation.}}


{{{{I’m still unclear for how to configure this.}}
 {{ }}
 {{Orderer address(es) is encoded in the genesis block which is inherited by all the channels. Shell we use separate genesis blocks for each orderer? Or maybe perform a config update in  the channel and change the orderer address after the channel is created? Not sure if this will work, maybe possible with Solo orderers.}}
 {{ }}
 {{What about Raft orderers? Say we have R Raft orderer nodes, can we configure channels to use N < R consenters for a specific channel?}}}}

 

You need to bootstrap the orderers in the new orderer org with the latest config block, did you do it?

 

For system channel, it automatically receives the config block as joined to channel.
For regular channel, how should I do it?

 

I mean when you boot your new orderers that were not part of the system channel since its genesis - you give them the last config block of the system channel instead of the genesis block of the system channel

 

But why? I can see it already has all the blocks in the system channel. 

 

orderers that were added to the network after its creation and were not there since its genesis, need to boot with the configuration block that is after the transaction that added them.

Are you saying that the orderer was booted with a config block that is the genesis block? That should be impossible because it means it can't find itself in the Raft configuration.... 

 

What does booting an orderer with a configuration block mean exactly?

I'm providing genesis block to the new orderer (same like other orderers) and it receives all the later blocks from system channel.

 

This is not what you're supposed to do. See these instructions:

[{color:#0000FF}https://hyperledger-fabric.readthedocs.io/en/release-1.4/raft_configuration.html{color}|https://urldefense.proofpoint.com/v2/url?u=https-3A__hyperledger-2Dfabric.readthedocs.io_en_release-2D1.4_raft-5Fconfiguration.html&d=DwMFaQ&c=jf_iaSHvJObTbx-siA1ZOg&r=g2TmmAGPlDZEnJj18lhpjA&m=IBMHp_np3dc9fEWbx6n4z3oBBnC0IV2upOYv-u6WuPc&s=GX4L4VvAv14gvKTLyDm-2RgZqSvBzAI5Oiek_vIcYVo&e=]

{color:#0000FF}you don't put in [{color:#0000FF}https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/orderer.yaml#L96{color}|https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_hyperledger_fabric_blob_release-2D1.4_sampleconfig_orderer.yaml-23L96&d=DwMFaQ&c=jf_iaSHvJObTbx-siA1ZOg&r=g2TmmAGPlDZEnJj18lhpjA&m=IBMHp_np3dc9fEWbx6n4z3oBBnC0IV2upOYv-u6WuPc&s=-1jSFIm7K9gextILlF5hTihPvThfQv7wd2tf5m4g-AU&e=]the genesis block. you put the latest config block of the system channel.{color}

 

 
Ah, now it makes sense and it works! I overlooked the documentation, sorry! And thanks! :) 
A final question, is it okay not adding this new orderer to consenter set of system channel? Looks like adding it to consenter set of desired channel is enough. I dont want to add it to consenter set of system channel because in that case, it will be a consenter by default at every new channel created afterwards.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid multiple unmarshalling of proto messages,FAB-16307,41788,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,ales,ales,14/Aug/19 6:43 PM,04/Dec/20 2:29 PM,28/Oct/23 3:09 AM,04/Dec/20 2:29 PM,,,,,,,,,,,,,,,0,,,,,"See 

https://gerrit.hyperledger.org/r/#/c/fabric/+/32804/1/core/tx/processor_factory.go@43

and TODO below for more context",,ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14645,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zywi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/20 2:29 PM;denyeart;Tactical approach would be to cache the unmarshaled block.

Strategic approach would be to completely refactor validation/commit path.

Both are covered by other work items, therefore closing as dup.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove sleeps from operator code,FAB-16308,41798,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,15/Aug/19 12:50 AM,28/Aug/19 5:25 AM,28/Oct/23 3:09 AM,28/Aug/19 5:25 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00x23:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 10:23 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33076/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add capability to download fabric run time images in remote network (k8s),FAB-16309,41799,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,rameshthoomu,rameshthoomu,15/Aug/19 12:54 AM,23/Aug/19 2:56 AM,28/Oct/23 3:09 AM,21/Aug/19 11:14 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"The existing launcher script doesn't download fabric run time images while the instantiation is happening. The tags of these images are different in fabric branches. See the tags of ccenv, baseos, nodeenv and javaenv images

https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/core.yaml#L477-L517

https://github.com/hyperledger/fabric/blob/master/sampleconfig/core.yaml#L481-L515",,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzcr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/19 6:25 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32934/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-Samples need to have `go mod vendor` included in their launch scripts,FAB-16310,41801,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,btl5037,btl5037,15/Aug/19 3:57 AM,27/Aug/19 6:06 PM,28/Oct/23 3:09 AM,27/Aug/19 6:06 PM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"The migration to modules in Fabric Samples for 2.0 requires `GO111MODULE=on go mod vendor` to be run from the Go chaincode directory in the scripts used to launch networks. Fabcar/startFabric.sh has had this done, but other scripts, like first-network/byfn.sh do not.

We need to add the vendoring command to the launch scripts that use Go chaincode.",,btl5037,sstone1,,,,,,,,,,,,,,,,,,,,,FAB-5177,FAB-15732,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x2r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,sstone1,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 6:06 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/32939;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Restructuring k8s and docker in operator tools,FAB-16311,41802,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,15/Aug/19 4:08 AM,28/Aug/19 5:25 AM,28/Oct/23 3:09 AM,28/Aug/19 5:25 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Tasks:

Use strconv and fmt.Xscanf; alternatively use -o json and parse it into an appropriate ""thin"" struct",,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzcz",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/19 10:12 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32936/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove PrintLogs and FatalLogs wrap and use log package,FAB-16312,41803,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,15/Aug/19 4:33 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,22/Aug/19 3:13 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16249,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfo:",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"15/Aug/19 12:14 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32950/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
token/tms/quantity.go line 26 ,FAB-16313,41804,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,TopJohn,TopJohn,TopJohn,15/Aug/19 3:19 PM,05/Dec/19 3:50 AM,28/Oct/23 3:09 AM,05/Dec/19 3:50 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"// Cmd compare this with b  ==> 

// Cm{color:#FF0000}p{color} compare this with b",,denyeart,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x37:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Dec/19 3:50 AM;denyeart;Token code removed from master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid passing entire Bundle to the Preprocess function,FAB-16314,41814,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,15/Aug/19 10:57 PM,15/Aug/19 10:57 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"The Preprocess function in pkg/tx/interfaces.go

Preprocess(latestChannelConfig *channelconfig.Bundle) error

receives a pointer to the entire channel config bundle which is a superset of what is needed and makes things very hard to mock. We recommend passing in one or more interfaces with dependencies",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|i00x4j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Inaccurate documentation - resulting in unnecessary extra work, risk, waste of resources",FAB-16316,41818,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,pvrbharg,pvrbharg,16/Aug/19 12:49 AM,19/Apr/20 2:06 PM,28/Oct/23 3:09 AM,19/Apr/20 2:06 PM,,,,,,,,,,fabric-docs,fabric-release,,,,0,,,,,"Hi,

 

The following URL indicates that when we try to upgrade the live network involving binaries, images and channel capabilities - to move from v1.2.1 to v1.4.x - we need to necessarily upgrade to v1.3.0 release.

 

This is incorrect and wrong. We have upgraded a live network from v1.2.1 release to v1.4.x release directly - multiple times.

 

Also these instructions are wrong and do not work - when customers use IBM certified and supplied Hyperledger Fabric supported images [not the open and free community supplied images]. This is because there are no IBM supplied certified supported V1.3.0 images built by IBM. 

 

As they stand in current format - the instructions lead to confusion, unnecessary work, unnecessary exposure/risk when upgrading live systems and wasted resources. 

 

Please fix these misstated instructions for everyone's benefit.

 

[https://hyperledger-fabric.readthedocs.io/en/release-1.4/upgrading_your_network_tutorial.html]

+++

Also, if your network is not yet at Fabric v1.3, follow the instructions for [Upgrading Your Network to v1.3|http://hyperledger-fabric.readthedocs.io/en/release-1.3/upgrading_your_network_tutorial.html]. The instructions in this documentation only cover moving from v1.3 to v1.4.x or from an earlier version of v1.4.x to a later version to v1.4.x.

+++

 

Thanks.

 ",,denyeart,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x5f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 2:06 PM;denyeart;The intent is to document upgrade to next minor version as well as LTS to LTS upgrade. To prepare for the latter, the v2.1 docs have been updated to say that you can upgrade from v1.4.x. If there are specific clarifications required in the latest docs, please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-test maintainers file,FAB-16317,41819,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,16/Aug/19 12:59 AM,21/Jan/20 6:11 AM,28/Oct/23 3:09 AM,21/Jan/20 6:11 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x5n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/19 3:07 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32945/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
GetChaincodeHeaderExtension should not unmarshal ChannelHeader,FAB-16318,41820,41607,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,16/Aug/19 1:01 AM,21/Aug/19 3:28 AM,28/Oct/23 3:09 AM,21/Aug/19 3:28 AM,,,,,,,,,,,,,,,0,,,,,"The current implementation of GetChaincodeHeaderExtension takes a header instance, unmarshals the channel header within and then proceeds to finally unmarshalling the ChaincodeHeaderExtension. The first unmarshalling is unnecessary since in all cases the channel header has already been unmarshalled.",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x5v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bulk rename of unmarshalers,FAB-16319,41822,41607,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,16/Aug/19 2:07 AM,21/Aug/19 3:28 AM,28/Oct/23 3:09 AM,21/Aug/19 3:28 AM,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x6b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement TxProcessorFactory,FAB-16320,41823,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,muralisr,manish-sethi,manish-sethi,16/Aug/19 2:49 AM,09/Nov/20 11:21 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,manish-sethi,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyzc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,muralisr,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/19 2:50 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/32804/3/core/tran/processor_factory.go@41;;;","17/Aug/19 9:54 PM;muralisr;With [https://gerrit.hyperledger.org/r/#/c/fabric/+/32804/] in, will pick this up.;;;","18/Aug/19 12:21 AM;muralisr;[https://gerrit.hyperledger.org/r/#/c/fabric/+/32976/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable NodeOU's for orderer organizations in Launcher,FAB-16321,41824,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,16/Aug/19 3:21 AM,27/Aug/19 9:47 PM,28/Oct/23 3:09 AM,27/Aug/19 9:47 PM,v1.4.3,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,"At present, orderer organization NodeOU's are disabled in launcher. Enable them once code is merged to fabric master.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzcy",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 2:57 AM;scottz;And ensure we enable the v1.4.3 channel capability in release-1.4 and master/v2.0 testing.;;;","27/Aug/19 9:47 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32997/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-samples to V1_4_3 channel capability,FAB-16322,41826,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,16/Aug/19 12:41 PM,12/Nov/19 1:42 AM,28/Oct/23 3:09 AM,12/Nov/19 1:42 AM,,,,,,v1.4.3,v2.0.0,,,fabric-samples,,,,,0,,,,,Update fabric-samples to V1_4_3 channel capability to enable the new NodeOU support.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x6z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/19 3:22 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/32955/] merged to release-1.4. master also updated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChainID to ChannelID - common/configtx,FAB-16323,41828,17833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,16/Aug/19 3:23 PM,22/Aug/19 6:12 AM,28/Oct/23 3:09 AM,22/Aug/19 6:12 AM,,,,,,,,,,,,,,,0,,,,,,,denyeart,iamksseo2,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x7f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,iamksseo2,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 6:12 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/32962/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"configtxgen should have subcommand `version`, instead of flag `--version`",FAB-16324,41835,,Task,Backlog,FAB,Fabric,software,denyeart,,,Low,,,guoger,guoger,16/Aug/19 7:28 PM,06/Sep/19 10:24 PM,28/Oct/23 3:09 AM,,,,,,,Future,,,,fabric-tools,,,,,0,,,,,To be consistent with all other binaries in Fabric.,,denyeart,guoger,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x8j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/19 8:52 PM;mastersingh24;configtxgen simply uses flags and does not actually use any 3rd party cli packages.   I don't think we want to make any changes to the existing tool but rather we should address when we finally get to an overall of all of the various cli-based utilities we have.  So marking this as ""future"";;;","06/Sep/19 10:24 PM;denyeart;Plan to address consistency in the future when we revisit tooling.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove .travis.yaml file from release and master branches,FAB-16325,41838,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,16/Aug/19 9:41 PM,25/Aug/19 9:57 PM,28/Oct/23 3:09 AM,25/Aug/19 9:57 PM,,,,,,,,,,fabric-build,,,,,0,,,,,remove .travis.yaml file from release and master branches,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x97:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/19 10:01 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric/+/32963/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-test git submodules with latest commits,FAB-16326,41839,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,16/Aug/19 9:52 PM,17/Aug/19 5:11 AM,28/Oct/23 3:09 AM,17/Aug/19 5:11 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Update fabric-test git submodules with latest commits,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"16/Aug/19 9:56 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32964/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Discovery failed when ordering service endpoints only in OrdererOrg groups,FAB-16327,41840,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,ymlbright,ymlbright,16/Aug/19 9:54 PM,23/Aug/19 5:32 PM,28/Oct/23 3:09 AM,22/Aug/19 6:45 AM,v1.4.2,,,,,v1.4.3,v2.0.0,,,fabric-peer,,,,,0,bft,discovery,raft,,"There has a check in discovery implementation: [ValidateConfigEnvelope|https://github.com/hyperledger/fabric/blob/release-1.4/discovery/support/config/support.go#L267]
It checks that config block must has OrdererAddressesKey in channel_group values. This assertion in `ValidateConfigEnvelope` maybe wrong in v1.4.2.

[FAB-7559|https://jira.hyperledger.org/browse/FAB-7559] and v1.4.2 release note say ""it is possible and highly recommended to define
orderer endpoints at the organization level (new 'OrdererEndpoints' stanza
within the channel configuration of an organization) and not at the global
'Orderer.Addresses' section of channel configuration"". ",,denyeart,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00x9f:",,,,Unset,Unset,,"1. Generate a genesis block which ordering service endpoints only in OrdererOrg groups
2. Use discovery tool ./discover --configFile discovery_config.yaml config --server peer1.org1.example.com:7051 --channel test
3. Error log shows in peer log
2019-08-16 10:27:19.910 UTC [discovery] configQuery -> ERRO 066 Failed fetching config for channel test: config envelope is invalid: field Config.ChannelGroup.Values is empty",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yacovm,ymlbright,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 12:53 AM;denyeart;[~yacovm] Any ideas?;;;","21/Aug/19 1:03 AM;yacovm;[~ymlbright] - as a workaround you can set both, and then discovery prefers to use the per organizational ones. 

 

I can fix it for 1.4.3 quite easily.... [~denyeart] when is 1.4.3 being released?;;;","21/Aug/19 1:24 AM;denyeart;[~yacovm] Likely v1.4.3 will be early next week. Go ahead and fix this week.;;;","21/Aug/19 4:50 AM;yacovm;[https://gerrit.hyperledger.org/r/#/c/fabric/+/33049/]
https://gerrit.hyperledger.org/r/#/c/fabric/+/33056/;;;","23/Aug/19 5:32 PM;ymlbright;[~yacovm] Thanks,  I have used this method to bypass;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove auction chaincode tests from Fabric-test repo,FAB-16328,41843,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,16/Aug/19 10:03 PM,17/Aug/19 4:27 AM,28/Oct/23 3:09 AM,17/Aug/19 4:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Remove auction chaincode tests from Fabric-test repo,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xa3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"17/Aug/19 4:04 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/32967/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New Raft orderer crashes when it cannot pull system channel blocks,FAB-16329,41844,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,hakan.eryargi,hakan.eryargi,16/Aug/19 10:30 PM,10/Jun/21 12:36 PM,28/Oct/23 3:09 AM,17/Aug/19 1:44 AM,v1.4.2,,,,,,,,,fabric-orderer,,,,,0,,,,,"We have added a new Raft orderer to the network, also added it to a regular channel. All was good until here.

Then we needed to restart all the orderer nodes. New Raft orderer couldn't connect to old ones, hence couldn't pull system channel blocks and kept crashing until old ones are up.

I believe this is not intended, it should just keep trying preferably with an exponential backoff. 

Logs are attached.

Note, new orderer recovers when old orderers are up again. Recover logs are at: new_orderer_success_logs.txt",,guoger,hakan.eryargi,jyellick,silliman,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/19 10:30 PM;hakan.eryargi;new_orderer_logs.txt;https://jira.hyperledger.org/secure/attachment/17690/new_orderer_logs.txt","16/Aug/19 11:53 PM;hakan.eryargi;new_orderer_logs_pull.txt;https://jira.hyperledger.org/secure/attachment/17692/new_orderer_logs_pull.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,hakan.eryargi,jyellick,silliman,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Aug/19 10:48 PM;yacovm;Why does it say:

 
{quote}[35m2019-08-16 13:19:54.811 UTC [orderer.common.cluster] ReplicateChains -> PANI 040[0m Failed pulling system channel: failed obtaining the latest block for channel testchainid
{quote}
 

?

Are you sure this is really the name of the system channel?

 ;;;","16/Aug/19 10:52 PM;hakan.eryargi;Yes, it's the name of the system channel.

Also, I've added the logs when new orderer recovers after old orderers are up again.;;;","16/Aug/19 10:52 PM;yacovm;I think the problem here is that your Raft orderer certificate is not in the system channel or your system channel block is not the system channel block.;;;","16/Aug/19 10:53 PM;yacovm; 
{code:java}
[33m2019-08-16 13:19:30.813 UTC [orderer.consensus.etcdraft] detectSelfID -> WARN 014[0m Could not find -----BEGIN CERTIFICATE-----
MIICVDCCAfugAwIBAgIRAJbwjlwAZWKPKnhdxNselZ0wCgYIKoZIzj0EAwIwaDEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xEjAQBgNVBAoTCXNpa3Nvay50cjEYMBYGA1UEAxMPdGxzY2Euc2lr
c29rLnRyMB4XDTE5MDgxNjExNDYwMFoXDTI5MDgxMzExNDYwMFowVzELMAkGA1UE
BhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBGcmFuY2lz
Y28xGzAZBgNVBAMTEm9yZGVyZXIwLnNpa3Nvay50cjBZMBMGByqGSM49AgEGCCqG
SM49AwEHA0IABMc0+7a0ziiaAB0LGfGD5DLKYbK3T7HBxlfdc++3ufLF8VkhgX1+
vlIixlqYDoaiWEqhjHpz+qQ5jdjbzWN++VajgZYwgZMwDgYDVR0PAQH/BAQDAgWg
MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMCsG
A1UdIwQkMCKAIEFnKJ9VJekxOhJkNn53wfwcujUG1wRWvQbgiTerlG+YMCcGA1Ud
EQQgMB6CEm9yZGVyZXIwLnNpa3Nvay50coIIb3JkZXJlcjAwCgYIKoZIzj0EAwID
RwAwRAIgFWzn0NSid7trZkvqOqb6XOPDP4gQJRqDOmkHQ3dRrhICICNpzrOQmEi1
5ihryoqthiBVo6X/yV5tdtYfR/3g7b8c
-----END CERTIFICATE-----
 among [-----BEGIN CERTIFICATE-----
MIICTDCCAfOgAwIBAgIRAMloeHUGct5TuSyYFjdHrsMwCgYIKoZIzj0EAwIwZDEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xEDAOBgNVBAoTB3BpdnQubmwxFjAUBgNVBAMTDXRsc2NhLnBpdnQu
bmwwHhcNMTkwODE2MTEzNTAwWhcNMjkwODEzMTEzNTAwWjBVMQswCQYDVQQGEwJV
UzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZyYW5jaXNjbzEZ
MBcGA1UEAxMQb3JkZXJlcjAucGl2dC5ubDBZMBMGByqGSM49AgEGCCqGSM49AwEH
A0IABBp0v0nhbN1YXaC0tIqmA42c8ZAEk0HIdACE/PL8fRFNJuLPrdLeg64aNS2z
MnQIePWeZ7atRzRtMarxlp1kxW2jgZQwgZEwDgYDVR0PAQH/BAQDAgWgMB0GA1Ud
JQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8EAjAAMCsGA1UdIwQk
MCKAIMNa4cNa3mVmdmcLjz2gKkvoJP4iRDqsdCIPwdnzXOeuMCUGA1UdEQQeMByC
EG9yZGVyZXIwLnBpdnQubmyCCG9yZGVyZXIwMAoGCCqGSM49BAMCA0cAMEQCIARz
16Wu3b75FyUg9uP83rrFaPWvhBGkHPotybhtoVvNAiAMNAQYFGLtgSs4as5oA6is
ovkjQiEVs4cq8yvwV/MapQ==
-----END CERTIFICATE-----
 -----BEGIN CERTIFICATE-----
MIICbDCCAhOgAwIBAgIRAN2ru5zhn3HCT8fWvAjZkT4wCgYIKoZIzj0EAwIwdDEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xGDAWBgNVBAoTD2dyb2VpZmFicmllay5ubDEeMBwGA1UEAxMVdGxz
Y2EuZ3JvZWlmYWJyaWVrLm5sMB4XDTE5MDgxNjExMzUwMFoXDTI5MDgxMzExMzUw
MFowXTELMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcT
DVNhbiBGcmFuY2lzY28xITAfBgNVBAMTGG9yZGVyZXIwLmdyb2VpZmFicmllay5u
bDBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABCayHR8mWVgxI5qeEIH5K+NWHxjq
qWhVwLabCKKB/Of/HCbhq5thv4H5mnfI5UCTVIE0USexXkUptnAjkAKYzRijgZww
gZkwDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcD
AjAMBgNVHRMBAf8EAjAAMCsGA1UdIwQkMCKAIDfKQV/a5ZE0kBA/jfnWI5j2lYCy
cIToX2vNKu98uJoqMC0GA1UdEQQmMCSCGG9yZGVyZXIwLmdyb2VpZmFicmllay5u
bIIIb3JkZXJlcjAwCgYIKoZIzj0EAwIDRwAwRAIgQbDiY44WM9TIWhJsey4HD8U0
4DBGN+Nj3pSnwU8cZx0CIC/CtywLUB1a1aWM2nTAlrCr6KAp6bLuGT+JwPuEazwy
-----END CERTIFICATE-----
 -----BEGIN CERTIFICATE-----
MIICazCCAhKgAwIBAgIQIJXYm7sSvXdMANLGiyruhzAKBggqhkjOPQQDAjB0MQsw
CQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMNU2FuIEZy
YW5jaXNjbzEYMBYGA1UEChMPZ3JvZWlmYWJyaWVrLm5sMR4wHAYDVQQDExV0bHNj
YS5ncm9laWZhYnJpZWsubmwwHhcNMTkwODE2MTEzNTAwWhcNMjkwODEzMTEzNTAw
WjBdMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN
U2FuIEZyYW5jaXNjbzEhMB8GA1UEAxMYb3JkZXJlcjEuZ3JvZWlmYWJyaWVrLm5s
MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEyT1G3BXSctzk4mSbrB+m7+J13J/8
FIp+7a3Eh/gIBQY3qAqfr1DNRSHS+bDeWyVJmM9j4+U53d/EtqW0sZJ8kaOBnDCB
mTAOBgNVHQ8BAf8EBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC
MAwGA1UdEwEB/wQCMAAwKwYDVR0jBCQwIoAgN8pBX9rlkTSQED+N+dYjmPaVgLJw
hOhfa80q73y4miowLQYDVR0RBCYwJIIYb3JkZXJlcjEuZ3JvZWlmYWJyaWVrLm5s
gghvcmRlcmVyMTAKBggqhkjOPQQDAgNHADBEAiAm7qbx/5SrR8Hy6j7S1IYz5sKX
crT78oeMIuNQkcSJOQIgfBtaQyz0At5DGvZHcP+RkJ7jOSRwknvGXsMW2caPQp4=
-----END CERTIFICATE-----
]
[34m2019-08-16 13:19:30.813 UTC [orderer.common.server] TrackChain -> INFO 015[0m Adding testchainid to the set of chains to track {code};;;","16/Aug/19 10:54 PM;hakan.eryargi;But see the success logs, it recovers when old orderers are up again.

PS: New orderer is in system channel but not among consenters of system channel.;;;","16/Aug/19 10:57 PM;yacovm;But it *should* be among the consenters of the system channel.;;;","16/Aug/19 11:00 PM;hakan.eryargi;But why? I want it to follow the system channel, not vote for system channel, and more importantly not become a default consenter of channels created afterwards.

Anyway, I will try same scenario but will also add new orderer to the system channel consenters.;;;","16/Aug/19 11:06 PM;yacovm;Because Fabric doesn't support follower orderers. Every orderer is a consenter.

[~jyellick] - what do we do with this one?

 

We can easily enforce crashing the orderer when its certificate isn't detected in the system channel once it finished replication via [1].

And then people won't try things that are not supported (yet)...

[1]
{code:java}
diff --git a/orderer/common/server/main.go b/orderer/common/server/main.go
index 328bee56b..137a88444 100644
--- a/orderer/common/server/main.go
+++ b/orderer/common/server/main.go
@@ -320,7 +320,12 @@ func createReplicator(
                onBlockCommit: vr.BlockCommitted,
        }
        return &replicationInitiator{
-               registerChain:     vr.RegisterVerifier,
+               registerChain:     func (chain string) {
+                       if chain == systemChannelName {
+                               logger.Panicf(""Every orderer node should be part of the system channel"")
+                       }
+                       vr.RegisterVerifier(chain)
+               },
                verifierRetriever: vr,
                logger:            logger,
                secOpts:           secOpts,
 {code};;;","16/Aug/19 11:58 PM;hakan.eryargi;I verified, new orderer doesnt crash when it's among consenters in system channel.

{quote}
Because Fabric doesn't support follower orderers. Every orderer is a consenter.
{quote}
Are you sure about this? New orderer sucessfully pulls all the new blocks from system channel as in the logs [^new_orderer_logs_pull.txt];;;","17/Aug/19 12:12 AM;yacovm;I'm pretty sure, yes.;;;","17/Aug/19 12:15 AM;hakan.eryargi;How is it pulling then? Unintended behavior? I like/prefer it as it is :);;;","17/Aug/19 12:21 AM;yacovm;It is an unintended side effect of you not following the rules ;)

 

The only solution is to simply crash the orderer if it doesn't find itself in the consenters when it initializes the system channel. ;;;","17/Aug/19 12:35 AM;hakan.eryargi;Why not keep pulling as it is and fix crashing when not among consenters? Its MSP is already in system channel, so I believe it has the right to pull. Much like a peer in a channel.

 

Maybe not now, but later this will have a strong use case in our project.

 

Due to privacy concerns and GDPR, we have private channels between all the peer organizations. I'm checking the scenario when a channel wants to have a separate dedicated orderer.

 

If being a consenter in system channel is enforced, this means all the channels created afterwards by default will have new orderers as consenters too, which is just the opposite of what we need. Sure, can be workaround by removing those orderers from consenter set, or using profiles with consenter sets, but that will be really inconvenient.

 

There are ~30 Pension Providers in NL and if all of them join the network, then we are talking about ~900 channels to manage.;;;","17/Aug/19 12:53 AM;yacovm;{quote}Why not keep pulling as it is and fix crashing when not among consenters? Its MSP is already in system channel, so I believe it has the right to pull. Much like a peer in a channel.
{quote}
 

Because when someone else will create a channel you won't see it. You will just replicate the blocks of the system channel without consuming them and applying them. 
Remember the problem you had where channel *common* was not in the file system? that was because of that.

 
{quote}Due to privacy concerns and GDPR, we have private channels between all the peer organizations. I'm checking the scenario when a channel wants to have a separate dedicated orderer.
{quote}
 

Yes, the fact you have to have a system channel isn't great, I know. Take a look at FAB-15713 . Hopefully in the future you can have orderers that don't have a system channel, but this is how it is today.

 
{quote}There are ~30 Pension Providers in NL and if all of them join the network, then we are talking about ~900 channels to manage.
{quote}
I'm glad pension is a service provided by the free market and not by the government in NL, but why (or ... what) are you putting it on a Blockchain?;;;","17/Aug/19 1:39 AM;hakan.eryargi;{quote}Because when someone else will create a channel you won't see it.
{quote}
This is perfectly fine and also the preferred case for our scenario actually ;)
{quote}Take a look at FAB-15713 . Hopefully in the future you can have orderers that don't have a system channel, but this is how it is today.
{quote}
No worries, we can live with it for now. As mentioned this is a future requirement.
{quote}I'm glad pension is a service provided by the free market and not by the government in NL, but why (or ... what) are you putting it on a Blockchain?
{quote}
Thanks for asking :)

There are multiple actors in the pension ecosystem in NL, pension providers, employers, identity providers and of course employees. Any interaction with this system typically results in relevant actors communicating each other in conventional ways, regular post, and taking lots of time.

Eventual goal is, to transfer all the pension infrastructure (PI) to blockchain. Calculations (business logic) are done by chaincodes and interactions are signed and stored in blockchain. So, there are no assets, only the interactions.

ATM, we are implementing the pilot part: PIVT, PI Value Transfer. When an employee changes his employer and the new employer has agreement with a different pension provider, employee has the option to transfer his funds to the new pension provider, hence the term ""value transfer"".

 ;;;","17/Aug/19 1:44 AM;yacovm;I'm marking this Jira as a ""works as expected""... as this is by design.;;;","17/Aug/19 1:45 AM;hakan.eryargi;Fine for me!;;;","17/Aug/19 1:55 AM;yacovm;{quote}This is perfectly fine and also the preferred case for our scenario actually ;)
{quote}
 

You can just have smaller groups of orderers with smaller subsets of system channels though.;;;","17/Aug/19 2:06 AM;hakan.eryargi;Multiple system channels possible? How to configure it?;;;","17/Aug/19 2:14 AM;yacovm;What I mean is, let's assume you have 30 organizations, 1 for each pension provider.

 

You can have 6 orderer clusters, each cluster with 5 orderers (1 from each organization).

So total 6 system channels, but 30 channels in total divided among the 6 clusters.

 

You can then have any peer of the 30 organizations, join any combination of the application channels.

 

The only caveat is that you must not have channels with the same name among the 6 clusters.;;;","17/Aug/19 2:23 AM;hakan.eryargi;Should I need 6 different genesis blocks to launch this?;;;","17/Aug/19 2:28 AM;yacovm;yes. obviously. with entirely different sets of consenters.;;;","17/Aug/19 2:35 AM;hakan.eryargi;I see, thanks!

Btw, why 5 orderers per cluster, arbitrary number? I guess large number of orderers per cluster will impact performance, but possibly not in 5-10 range, right?;;;","17/Aug/19 2:43 AM;yacovm;5 is the lowest number to achieve fault tolerance of 2 nodes;;;","17/Aug/19 2:48 AM;hakan.eryargi;I see. Initially we will provide this as a managed service, that is, we will run all the peer/orderer nodes. So this practically means, either all the nodes will be up or all down ;);;;","17/Aug/19 5:07 AM;jyellick;In the future, we do have plans to allow operation without a system channel, to simply explicitly join orderers to channels.  However, this is an unplanned feature with no scheduled delivery date.  I expect this will ultimately be the best answer to use cases like this.  For now, [~yacovm] provides the best option available.;;;","17/Aug/19 11:00 AM;hakan.eryargi;{quote}However, this is an unplanned feature with no scheduled delivery date
{quote}
[~jyellick], in this case I will suggest re-open this ticket and allow orderers just to be followers in the system channel.

The side effect [~yacovm] mentioned, _""new orderers wont see new channels created afterwards""_ *is exactly what we need.* 

What Yacov suggested, different orderer clusters, provides no help for our case. Let me re-phrase our case:
 * We are the service provider, running all the peer nodes and orderer nodes initially
 * We have one public and several 2-org private channels between for each combination of some actors (+ more but not relevant)
 * These private channels exist, because it's not allowed to be aware of something happened between actor X and actor Y
 * At some point, actor X decides, PIVT as an orderer, has access to data of actor X's actions with other actors and this is not acceptable. And he requests to run his own orderer
 * We create an orderer org for actor X, assign it to relevant channels, and remove default orderers from those channels
 * Actor X is happy, as its private data is not accessible by other orderers
 * PIVT will be also happy if that new orderer orders blocks for actor X related channels, let it do what it wants in its *isolated world,* dont mess with system channel and other channnels created afterwards
 * But, this new orderer is forced to be a consenter in the system channel, which will make it a default consenter of all the private channels created afterwards. Which is the exact opposite of what we intended.

So again what is wrong if some orderer is part of of system channel but not a conserter?

 

 

 

 ;;;","18/Aug/19 11:29 PM;guoger;bq. But, this new orderer is forced to be a consenter in the system channel, which will make it a default consenter of all the private channels created afterwards. Which is the exact opposite of what we intended.

You actually *can* create new channels with a subset of consenters in sys channel, although not explicitly documented yet (see FAB-16306). Would that solve your problem above?

bq. So again what is wrong if some orderer is part of of system channel but not a conserter?

I don't exactly understand the difference between *being part of sys channel* and *being a consenter in sys channel*... could you be more explicit?;;;","19/Aug/19 12:11 AM;yacovm;I think he wants orderers to be observers/learners, meaning - to only get block updates but never take part in consensus.;;;","19/Aug/19 12:18 AM;guoger;{quote}I think he wants orderers to be observers/learners, meaning - to only get block updates but never take part in consensus.
{quote}
hmmm, ok, in this case we could consider leveraging learner from etcd/raft to improve performance.... Although I thought his main concern was data privacy?;;;","19/Aug/19 12:22 AM;yacovm;His concern is indeed data privacy but he wants something else to be done, I'm not really sure why.;;;","19/Aug/19 1:32 AM;hakan.eryargi;{quote}I don't exactly understand the difference between *being part of sys channel* and *being a consenter in sys channel*... could you be more explicit?
{quote}
Being part of sys channel means, adding MSP of that org to system channel. We cannot do anything else without doing this first. After that, we can add the org to other channells to.
{quote}I think he wants orderers to be observers/learners, meaning - to only get block updates but never take part in consensus.
{quote}
Right, I dont actually even care if it gets system block updates, but wont hurt for sure.
{quote}You actually can create new channels with a subset of consenters in sys channel, although not explicitly documented yet (see FAB-16306). Would that solve your problem above?
{quote}
Right, this is possible but not much convenient. It will be difficult to maintain large number of channels in that case.;;;","19/Aug/19 10:56 AM;guoger;[~hakan.eryargi] adding an Org to channel is orthogonal to adding an orderer and we have a tutorial [here|https://hyperledger-fabric.readthedocs.io/en/latest/channel_update_tutorial.html].;;;","19/Aug/19 6:14 PM;hakan.eryargi;Org in my above comment refers to orderer org, not peer org.

;;;","22/Aug/19 5:14 PM;guoger;[~hakan.eryargi] why is that different? it's basically adding and org to channel, and you can have peer or orderer or both in that org.;;;","22/Aug/19 8:42 PM;hakan.eryargi;[~guoger] well, the procedure for adding an orderer org and a peer org to a regular channel is similar but different.

But, for adding an orderer org, there is a prerequisite, you need to first add orderer org’s MSP to the system channel.

Then we come to our problem, it’s fine to add orderer org’s MSP to the system channel, but I dont want to add it as a consenter to the system channel.;;;"
Unable to create channel with multiple orgs in gen_cfgInputs script,FAB-16330,41846,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rameshthoomu,rameshthoomu,17/Aug/19 12:04 AM,20/Aug/19 11:51 PM,28/Oct/23 3:09 AM,20/Aug/19 11:51 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Observed below error while creating a channel with multiple orgs using gen_cfgInputs.sh. Below are the commands

./gen_cfgInputs.sh -d <ConnectionProfileDIR> --nchan 3 --chan0 0 --chanprefix testorgschannel --norg 2 -c


jenkins@rtpjenkins:~/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/CIConnProfiles/test-network$ tree
.
├── connection_profile_org1.yaml
└── connection_profile_org2.yaml

{code:java}
2019-08-16T15:01:25.839Z - debug: [utils.CryptoKeyStore]: This class requires a CryptoKeyStore to save keys, using the store: {""opts"":{""path"":""/tmp/hfc-test-kvs_0_org1""}}
2019-08-16T15:01:25.839Z - debug: [FileKeyValueStore.js]: constructor path=/tmp/hfc-test-kvs_0_org1
error: [2019-08-16T15:01:25.840Z PTE 0 main]: TypeError: Cannot read property 'hasOwnProperty' of undefined
    at findOrgCA (/var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-util.js:256:22)
    at getOrgEnrollId (/var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-util.js:273:17)
    at Object.module.exports.getOrgEnrollIdSubmitter (/var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-util.js:283:12)
    at /var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:1049:35
    at new Promise (<anonymous>)
    at channelOrgName.forEach (/var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:1046:25)
    at Array.forEach (<anonymous>)
    at hfc.newDefaultKeyValueStore.then (/var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:1045:24)
    at <anonymous>
{code}
",,dongming,rameshthoomu,,,,,,,,,,,,,,,,,,,,,FAB-16070,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzczr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 5:02 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33002/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configtxgen/encoder integration test ,FAB-16331,41848,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,dereckluo,dereckluo,17/Aug/19 2:40 AM,11/Sep/19 4:28 AM,28/Oct/23 3:09 AM,11/Sep/19 4:28 AM,,,,,,,,,,,,,,,0,ipm,,,," internal/configtxgen/encoder/integration_test.go integration test are not correctly structured for ginkgo. This should use the table extension for ginkgo.


{code:java}
var _ = Describe(""Integration"", func() {
	for _, profile := range []string{
		genesisconfig.SampleInsecureSoloProfile,
		genesisconfig.SampleSingleMSPSoloProfile,
		genesisconfig.SampleDevModeSoloProfile,
		genesisconfig.SampleInsecureKafkaProfile,
		genesisconfig.SampleSingleMSPKafkaProfile,
		genesisconfig.SampleDevModeKafkaProfile,
	} {
		It(fmt.Sprintf(""successfully parses the %s profile"", profile), func() {
			config := configtxgentest.Load(profile)
			group, err := encoder.NewChannelGroup(config)
			Expect(err).NotTo(HaveOccurred())

			cryptoProvider, err := sw.NewDefaultSecurityLevelWithKeystore(sw.NewDummyKeyStore())
			Expect(err).NotTo(HaveOccurred())
			_, err = channelconfig.NewBundle(""test"", &cb.Config{
				ChannelGroup: group,
			}, cryptoProvider)
			Expect(err).NotTo(HaveOccurred())

			err = hasModPolicySet(""Channel"", group)
			Expect(err).NotTo(HaveOccurred())
		})
	}
{code}
",,dereckluo,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui9l",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dereckluo,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/19 11:02 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33137;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generating orderer genesis block for Raft returns unclear logs,FAB-16332,41852,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,guoger,ArtemSkliarov,ArtemSkliarov,17/Aug/19 11:51 PM,22/Aug/19 1:52 PM,28/Oct/23 3:09 AM,22/Aug/19 1:52 PM,v1.4.2,,,,,,,,,,,,,,0,,,,,"Trying to generate genesis block for Raft by the following command

 

{{./configtxgen -profile SampleMultiNodeEtcdRaft -channelID testchannel -outputBlock ./channel-artifacts/genesis.block}}

And in the output I see

 
{code}
2019-08-17 15:40:19.453 CEST [common.tools.configtxgen] main -> INFO 001 Loading configuration
2019-08-17 15:40:19.528 CEST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002 orderer type: etcdraft
2019-08-17 15:40:19.529 CEST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 Orderer.EtcdRaft.Options unset, setting to tick_interval:""500ms"" election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:20971520
2019-08-17 15:40:19.529 CEST [common.tools.configtxgen.localconfig] Load -> INFO 004 Loaded configuration: /Volumes/dr/hyperledger/testnetwork/configtx.yaml
2019-08-17 15:40:19.609 CEST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 005 orderer type: solo
2019-08-17 15:40:19.609 CEST [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 006 Loaded configuration: /Volumes/dr/hyperledger/testnetwork/configtx.yaml
2019-08-17 15:40:19.612 CEST [common.tools.configtxgen] doOutputBlock -> INFO 007 Generating genesis block
2019-08-17 15:40:19.613 CEST [common.tools.configtxgen] doOutputBlock -> INFO 008 Writing genesis block
{code}

As you can see step INFO 002 says it is raft orderer type, but then INFO 005 says it is solo. Why it has two initializations and two different orderer types?

*EDIT*: log output should be improved

V1_4_2 of hyperledger is used.",,ArtemSkliarov,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16090,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xbf:",,,,Unset,Unset,,"1. Copy sources of HLF
2. Run ./configtxgen -profile SampleMultiNodeEtcdRaft -channelID testchannel -outputBlock ./channel-artifacts/genesis.block",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ArtemSkliarov,guoger,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Aug/19 11:14 PM;guoger;Thanks for reporting, the log is indeed misleading... although this is not a functional bug, rather an user experience problem. you should be able to bring up orderer network, right?

config is loaded twice:
1) [first|https://github.com/hyperledger/fabric/blob/65eb54d884a368ee57aadbd3b290f419d12f0a75/common/tools/configtxgen/main.go#L268-L272] to construct actual profile, whose consensus type is properly overridden be selected profile
2) and [second|https://github.com/hyperledger/fabric/blob/65eb54d884a368ee57aadbd3b290f419d12f0a75/common/tools/configtxgen/main.go#L274-L279] to prepare TopLevel config to be printed. Profile is not involved here, hence whatever in {{Orderer}} section is printed;;;","21/Aug/19 1:30 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/33073;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adjust the parameter order,FAB-16333,41865,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,asaningmaxchain123,asaningmaxchain123,asaningmaxchain123,19/Aug/19 6:48 PM,19/Aug/19 10:29 PM,28/Oct/23 3:09 AM,19/Aug/19 10:29 PM,,,,,,,,,,,,,,,0,,,,,adjust the parameter orderer when logger.Fatalf(),,asaningmaxchain123,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xeb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),asaningmaxchain123,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Aug/19 10:28 PM;sykesm;In the future, please include details about what's being fixed. In this case, the message that's incorrect. This provides absolutely no context.

Thanks.;;;","19/Aug/19 10:29 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/32985;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer etcdraft_test passes the wrong *testing.T to test functions,FAB-16334,41873,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,btl5037,sykesm,sykesm,19/Aug/19 10:45 PM,27/Aug/19 7:48 PM,28/Oct/23 3:09 AM,27/Aug/19 7:48 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,,0,help-wanted,ipm,,,"Whe t.Run is used for subtests, the function if provided a new instance of *testing.T. This instance is not the same as the one used to ""Run"" the subtest.

Given the above, this code is using the wrong instance:

{code}
	t.Run(""Invalid bootstrap block"", func(t *testing.T) {
		testEtcdRaftOSNFailureInvalidBootstrapBlock(gt, tempDir, orderer, fabricRootDir)
	})

	t.Run(""No TLS single listener"", func(t *testing.T) {
		testEtcdRaftOSNNoTLSSingleListener(gt, tempDir, orderer, fabricRootDir, configtxgen)
	})

	t.Run(""No TLS dual listener"", func(t *testing.T) {
		testEtcdRaftOSNNoTLSDualListener(gt, tempDir, orderer, fabricRootDir, configtxgen)
	})

	t.Run(""EtcdRaft launch success"", func(t *testing.T) {
		testEtcdRaftOSNSuccess(gt, tempDir, configtxgen, cwd, orderer, fabricRootDir)
	})
{code}

There may be others.

{{orderer/common/server/etcdraft_test.go}} needs to be audited for use of the incorrect {{*testing.T}} and fixed to use the correct one.
",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui9m",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 5:24 PM;guoger;if i understand correctly, in the given code snippet, we should create a *new* {{GomegaWithT}} using {{t}} in *subtest*, instead of directly use that from parent test. So when the test fails, it fails correct subtest, instead of parent test. Right? [~sykesm];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adjust the parameter order,FAB-16335,41875,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,asaningmaxchain123,asaningmaxchain123,asaningmaxchain123,19/Aug/19 10:57 PM,19/Apr/20 2:02 PM,28/Oct/23 3:09 AM,19/Apr/20 2:02 PM,,,,,,,,,,,,,,,0,,,,,adjust the parameter orderer when print the error msg,,asaningmaxchain123,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xfn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),asaningmaxchain123,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 2:02 PM;denyeart;Not clear what the intent of this issue is.
Please add detailed description if you'd like to re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
launch pte threads processes inside k8s cluster,FAB-16336,41876,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,19/Aug/19 11:19 PM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,Future,,,,,Future,,,,fabric-quality,,,,,0,,,,,"Launch pte threads processes inside k8s cluster containers instead of on local machine wherever tests are started (which may be a small capacity VM). Doing this should increase performance significantly, or at least eliminate a potential bottleneck that could prevent stress load testing.

Integrate this option into the k8s launcher tool to be done automatically. Document this appropriately. Also, ensure the user can see the pte logs.

This will require retrieving data from all the pte containers to be put together and reported at the end of the test.

It also may be easier after standardizing a report structure with FAB-16167.",,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15692,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwr66",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 3:38 AM;rameshthoomu;Marking this as a future work.;;;","11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement portworx as a storage class for k8s environment in launcher scripts,FAB-16338,41879,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,19/Aug/19 11:35 PM,23/Jan/20 4:46 AM,28/Oct/23 3:09 AM,23/Jan/20 4:46 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Implement portworx as a storage class for k8s environment in launcher scripts.  See this for information on portworx https://github.ibm.com/IBM-Blockchain/blockchain-deployer/tree/master/entryplan/tools/portworx

Here are the comments from Surya on the above implementation.

I suppose you are not running any restart tests or any performance runs so there is no need to enable persistence
if you need data-persistence for your tests... based on test type, either you can use file storage or block storage... (edited) 
it is not compulsory to use data persistence for your tests
and we are creating and deleting pvc's which are charged hourly during its run (edited) ",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iy",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:46 AM;scottz;Not needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: Failed to build fabric-tools image,FAB-16339,41880,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,19/Aug/19 11:50 PM,27/Aug/19 3:32 AM,28/Oct/23 3:09 AM,27/Aug/19 3:32 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,ci-failure,,,,"Error observed `No rule to make target 'token' stop` while building fabric-tools image after the Fabtoken was removed from the code base.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:07:33.799 CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/tools/idemixgen/metadata.CommitSHA=7a1fe06e6"" github.com/hyperledger/fabric/common/tools/idemixgen
00:07:36.180 Binary available as .build/bin/idemixgen
00:07:36.183 [91mmake: *** No rule to make target 'token'.  Stop.
00:07:36.766 [0mRemoving intermediate container 3a5cfb36ad59
00:07:37.071 The command '/bin/sh -c make configtxgen configtxlator cryptogen peer discover idemixgen token' returned a non-zero code: 2
00:07:37.078 Makefile:264: recipe for target '.build/images/tools/.dummy-amd64-2.0.0-snapshot-7a1fe06' failed/ code placeholder
{code}
Build: [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6145/console]",,btl5037,mastersingh24,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,7a1fe06e6ee14893a3a68c3796a9ce114da15dfb,Unset,No,,,"1|i00xgb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,mastersingh24,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop a peer and keep it down for a long time,FAB-16340,41881,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,scottz,scottz,20/Aug/19 1:00 AM,27/Aug/19 5:52 AM,28/Oct/23 3:09 AM,27/Aug/19 5:52 AM,v1.4.3,v2.0.0,,,,v1.4.3,,,,fabric-quality,,,,,0,,,,,"Verify other peers continue to run fine.
Ensure testcase covers appropriate configuration by referring to FAB-16292.

When doing this in k8s cluster, save the commands to halt the stateful sets and attach the info to the development item FAB-16345, as they will be needed when implementing the operator tool function and automating the test later.",,denyeart,rameshthoomu,scottz,,,,,,,,,,,,,,,,FAB-16371,,,,,,,,,,,,,,,FAB-16292,FAB-16345,,FAB-16256,FAB-16343,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczo",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),denyeart,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/19 2:31 AM;rameshthoomu;Executed this test case in IKS k8s environment. Below are the network details

1. 5 worker nodes on K8s cluster. Each worknode has 16cores*32GB memory
2. See the pod resources here https://github.com/rameshthoomu/fabric-test/blob/master/tools/PTE/CITest/k8s_testsuite/networkSpecFiles/kafka_couchdb_tls.yaml#L95-L131 (Most of the pods has 2CPU and memory 4gb resource allocation)

peer0 of org1 stopped after 10 mins of the start of the test and then restarted after 8 hrs. 

Observation: I see none of the peers stopped/crashed after the default timeout of ""aliveExpirationTimeout"" and then the restarted peer is synced and verified the total no.of blocks.

Issue: I see total of 10334 blocks were created during 6hrs invoke test but the restarted peer took almost *35 mins *get the latest block (10334). Anyone help me in understanding why it took so long to syncup. Is this a known issue?  if yes, do I need to modify any parameters to improvise this? [~denyeart];;;","24/Aug/19 3:35 AM;denyeart;[~rameshthoomu], given 6 hours worth of high volume blocks, 35 minutes to catch up to 10334 blocks is within normal timeframe given peer with CouchDB.

One interesting thing to try would be to disable gossip state transfer and peer-to-peer block sharing. We know this improves memory footprint of peers that are catching up. It may improve catchup speed as well.  You can try the following settings:

CORE_PEER_GOSSIP_USELEADERELECTION = false 
CORE_PEER_GOSSIP_ORGLEADER = true 
CORE_PEER_GOSSIP_STATE_ENABLED = false;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Token from Fabric tools,FAB-16341,41882,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,btl5037,btl5037,20/Aug/19 1:06 AM,14/Jan/20 12:29 AM,28/Oct/23 3:09 AM,14/Jan/20 12:29 AM,,,,,,,,,,,,,,,0,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xgj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Fabtoken Doc,FAB-16342,41884,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,20/Aug/19 3:04 AM,20/Aug/19 5:49 AM,28/Oct/23 3:09 AM,20/Aug/19 5:49 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,0,,,,,,,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xgz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Aug/19 5:17 AM;negupta;https://gerrit.hyperledger.org/r/#/c/fabric/+/33000/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test week long traffic with some restarts combinations,FAB-16343,41885,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,suryalnvs,scottz,scottz,20/Aug/19 3:49 AM,05/Nov/19 6:05 AM,28/Oct/23 3:09 AM,01/Oct/19 4:12 AM,v1.4.3,,,,,v1.4.3,,,,fabric-quality,,,,,0,,,,,"Long run traffic test in k8s cluster, with multiple threads and channels, (2 peers per 2 orgs) and (5) raft orderers nodes. Use mutual TLS and service discovery.

Use chaos-kube to include restarts of most peers and orderers, singles and simultaneous multiple restarts. (Save the chaos script for use in subsequent release testing, and attach to FAB-16087 which will implement the operator tool function to allow automation of chaos tests).

Avoid restarting at least one peer and one orderer, to use them to help find any small memory/file leaks. Use the metrics to monitor.",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,FAB-17002,,,,,,,,FAB-16340,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uze:rzczo9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Pass,"Completed week long run successfully using fabric 1.4.3. Completed the following steps in longrun: 1. Started network as described above. 2. Created two channels, joined all peers, installed and instantiated samplecc chain code. 3. Started PTE to send invokes on channel1 using mutual tls and invokes on channel2 using service discovery for a week. 4. After couple of days, started chaos kube for peers. 5. Observed that PTE was able to route requests to other peers using discovery results. 6. Also ran chaos kube against orderers.",System Test,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/19 11:22 PM;rameshthoomu;Tested on above said network configuration for about 48 hrs and then restarted orderers and peers one by one manually. Also, stopped the peer for an hour and restarted. Did not find any errors while doing the above test scenarios. A minor observation is, when we don't maintain the persistent on the couchdb, the restarted peer will start recommitting starting from the oldest blocks first. Observed that this process is taking 3 mins to recommit 1000 blocks.

;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to v1.4.3,FAB-16344,41886,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bharadwajambati1,scottz,scottz,20/Aug/19 3:53 AM,26/Aug/19 10:17 PM,28/Oct/23 3:09 AM,26/Aug/19 10:17 PM,v1.4.3,,,,,v1.4.3,,,,fabric-quality,,,,,0,,,,,"Test upgrades in v1.4.3 using the BYFN scripts:
* Enable NodeOUs; use cryptogen to generate certs
* Add v1.4.3 channel capability
* Test the upgrade to 1.4.3",,denyeart,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczk",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),denyeart,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 4:19 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33077/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add option to operator client to implement any command,FAB-16345,41888,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,20/Aug/19 4:15 AM,24/Mar/20 6:43 PM,28/Oct/23 3:09 AM,24/Mar/20 6:43 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add option to operator client to implement any kubectl command, in particular for stopping stateful set for a specified peer or orderer node, so the peer will remain stopped for a long time when we restart the pod (which lacks stateful set to allow it to start another peer in its place).",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16340,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzuw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"28/Feb/20 12:55 AM;suryalnvs;https://github.com/hyperledger/fabric-test/pull/101;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move lifecycle integration test helper to the lifecycle suite,FAB-16346,41890,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,20/Aug/19 5:41 AM,23/Aug/19 5:12 AM,28/Oct/23 3:09 AM,23/Aug/19 5:12 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"{{GenerateOrgUpdateMaterials}} is only used by lifecycle; move it to where it's used and, if it's needed somewhere else, promote it as a utility instead of a method on the network.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xhn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 5:43 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33004 Move GenerateOrgUpdateMaterials off network;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer exited on 1.4 latest commit,FAB-16347,41891,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,rameshthoomu,rameshthoomu,20/Aug/19 5:51 AM,20/Aug/19 11:59 PM,28/Oct/23 3:09 AM,20/Aug/19 11:59 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,"On latest 1.4 code base, run ./byfn.sh -m down && ./byfn.sh -m up

2019-08-19 20:43:34.131 UTC [orderer.common.server] extractSysChanLastConfig -> INFO 003 Bootstrapping because no existing channels
2019-08-19 20:43:34.151 UTC [orderer.common.server] initializeServerConfig -> INFO 004 Starting orderer with TLS enabled
2019-08-19 20:43:34.155 UTC [fsblkstorage] newBlockfileMgr -> INFO 005 Getting block information from block storage
2019-08-19 20:43:34.173 UTC [orderer.commmon.multichannel] checkResourcesOrPanic -> PANI 006 [channel byfn-sys-channel] config requires unsupported channel capabilities: Channel capability V1_4_3 is required but not supported: Channel capability V1_4_3 is required but not supported
panic: [channel byfn-sys-channel] config requires unsupported channel capabilities: Channel capability V1_4_3 is required but not supported: Channel capability V1_4_3 is required but not supported

goroutine 1 [running]:",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xhv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric Tools Dockerfile should call a release target,FAB-16348,41892,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,,btl5037,btl5037,20/Aug/19 6:27 AM,25/Feb/21 2:00 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,ipm,,,,"Today the fabric tools Dockerfile calls `RUN make configtxgen configtxlator cryptogen peer discover idemixgen`. This should be changed to point to a make target that encapsulates all of these items so we don't have to make changes in multiple places in the future.

We need to look at the available release targets and choose the appropriate target accordingly.",,btl5037,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xi3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,sykesm,,,,,,,,,,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Feb/21 4:12 AM;sykesm;https://github.com/hyperledger/fabric/pull/2441;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup historydb code ,FAB-16349,41896,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,20/Aug/19 7:15 AM,22/Aug/19 12:14 AM,28/Oct/23 3:09 AM,22/Aug/19 12:14 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"- Historydb code (which is not very big) is unnecessarily split across two packages that causes confusion at time. Consolidate files into one package. This will also help in removing unnecessary deep folder structure of historydb code in a later CR.

- Consolidate the logic of kv encoding (formation and splitting) in a readable way. In the current code, this logic is spread across

- Trim empty folders in the historydb code path",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xiz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 10:46 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/33006/
https://gerrit.hyperledger.org/r/#/c/fabric/+/33046/
https://gerrit.hyperledger.org/r/#/c/fabric/+/33054/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adjust the parameter order,FAB-16350,41907,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,asaningmaxchain123,asaningmaxchain123,asaningmaxchain123,20/Aug/19 9:42 AM,08/Oct/19 9:08 PM,28/Oct/23 3:09 AM,08/Oct/19 9:08 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"in the `orderer/common/server/main.go`,using panicf method to print the message,should adjust the parameter orderer",,asaningmaxchain123,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xlf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),asaningmaxchain123,caod,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/19 4:51 AM;caod;[~asaningmaxchain123] please address the comments in [https://gerrit.hyperledger.org/r/c/fabric/+/33014] specifically regarding the commit message, unit test failure, and this Jira ticket description regarding what needs to be changed. Moving this to in progress in the meantime;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow ephemeral port for orderer,FAB-16351,41909,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,guoger,guoger,20/Aug/19 12:03 PM,26/Aug/19 12:29 PM,28/Oct/23 3:09 AM,26/Aug/19 12:29 PM,,,,,,,,,,fabric-orderer,,,,,0,help-wanted,,,,"Some tests do not care about the port number that orderer listens on, and using ephemeral ports in this case could avoid conflict.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16404,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xlv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Raft IT flake: [It] refuses to reconfig if it results in quorum loss,FAB-16352,41910,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,20/Aug/19 12:46 PM,22/Aug/19 12:06 AM,28/Oct/23 3:09 AM,22/Aug/19 12:06 AM,,,,,,,,,,fabric-orderer,,,,,0,ci-flake,,,,"if reconfig is submitted too fast before *_{{Active Nodes}}_* is properly updated, the error returned would be *_{{0 out of 3 nodes are alive}}_*, instead of *_{{2 out of 3 nodes are alive}}_*.
{code:java}
Expected
11:11:38       <string>: [34m2019-08-20 03:11:37.948 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
11:11:38       Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'systemchannel': consensus metadata update for channel config update is invalid: 0 out of 3 nodes are alive, configuration will result in quorum loss
11:11:38       
11:11:38   to contain substring
11:11:38       <string>: 2 out of 3 nodes are alive, configuration will result in quorum loss[0m
{code}",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xm3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 12:51 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/33018;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dependency on ccprovider.ChaincodeDefinition everywhere and delete it.,FAB-16353,41911,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Aug/19 1:01 PM,11/Sep/19 12:02 AM,28/Oct/23 3:09 AM,11/Sep/19 12:02 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,,,jyellick,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8z",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MHBauer,sykesm,,,,,,,,,mergify/bp/release-2.2/pr-4374,dependabot/bundler/docs/nokogiri-1.14.3,0.2.x,dependabot/bundler/docs/activesupport-6.0.6.1,dependabot/go_modules/bindings/go-apiv1/golang.org/x/text-0.3.8,0.1.x,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/text-0.3.8,dependabot/go_modules/bindings/go-apiv1/golang.org/x/net-0.7.0,dependabot/bundler/docs/commonmarker-0.23.9,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/bindings/go-apiv2/golang.org/x/net-0.7.0,release-2.3,release-2.2,dependabot/go_modules/bindings/go-apiv2/golang.org/x/text-0.3.8,release-2.5,release-2.4,github-settings,dependabot/go_modules/bindings/go-apiv2/golang.org/x/sys-0.1.0,dependabot/go_modules/golang.org/x/sys-0.1.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/bindings/go-apiv1/golang.org/x/sys-0.1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Aug/19 8:54 PM;sykesm;[~jyellick] please don't forget to label stories that someone on our team (including yourself) will pickup.

Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adding chaincode excution comments ,FAB-16354,41913,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jaehyun 4,jaehyun 4,jaehyun 4,20/Aug/19 4:30 PM,21/Aug/19 9:56 AM,28/Oct/23 3:09 AM,21/Aug/19 9:56 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,"As a hyperledger fabric user, I have a suggection for chaincode ""marbles02_private"" in fabric-samples .

 

In the front of source, 

!image-2019-08-20-16-12-16-036.png!

When I started the tutorial using that chaincode command,

but i recieved error massesge below. 

 (environmet : host O/S- windows7, virtual O/S - ubuntu, I think that some users will have same errors)

 

<json parsing error>

!image-2019-08-20-16-18-39-179.png!

So, I suggest that add one more comment.

// When parsing error ""invalid character '\n'"", adds tr -d \\n

// ex) export MARBLE=$(echo -n ""\{\""name\"":\""marble1\"",\""color\"":\""blue\"",\""size\"":35,\""owner\"":\""tom\"",\""price\"":99}"" | base64 | tr -d \\n) 

 

 

!image-2019-08-20-16-25-27-076.png!

 

Change export expression, it works!

!image-2019-08-20-16-27-50-488.png!

 

 ",,jaehyun,jaehyun 4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Aug/19 4:12 PM;jaehyun 4;image-2019-08-20-16-12-16-036.png;https://jira.hyperledger.org/secure/attachment/17701/image-2019-08-20-16-12-16-036.png","20/Aug/19 4:18 PM;jaehyun 4;image-2019-08-20-16-18-39-179.png;https://jira.hyperledger.org/secure/attachment/17700/image-2019-08-20-16-18-39-179.png","20/Aug/19 4:24 PM;jaehyun 4;image-2019-08-20-16-24-15-439.png;https://jira.hyperledger.org/secure/attachment/17699/image-2019-08-20-16-24-15-439.png","20/Aug/19 4:25 PM;jaehyun 4;image-2019-08-20-16-25-27-076.png;https://jira.hyperledger.org/secure/attachment/17698/image-2019-08-20-16-25-27-076.png","20/Aug/19 4:27 PM;jaehyun 4;image-2019-08-20-16-27-50-488.png;https://jira.hyperledger.org/secure/attachment/17697/image-2019-08-20-16-27-50-488.png",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i00xmr:",,,,No,Unset,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jaehyun,jaehyun 4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 9:56 AM;jaehyun;won't do;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB channel application capability - As a channel administrator, I want to ensure all channel transactions conform to CouchDB requirements",FAB-16355,41914,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,wenjian,denyeart,denyeart,20/Aug/19 9:22 PM,25/Apr/20 11:09 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,"*Background*:

Chaincode written to work against LevelDB will also work against CouchDB, as the CouchDB state database supports a superset of the chaincode APIs – everything LevelDB state database supports plus JSON query (GetQueryResult API).

There is one caveat - chaincode execution on CouchDB state database performs additional validation (at endorsement and validation time):

1) Check for CouchDB reserved fields in the top level of the JSON (FAB-8006): _id, _rev, _deleted, ~version.

2) Check for CouchDB valid keys - keys must be valid UTF8, and not start with underscore.

A mixed network with some LevelDB peers and some CouchDB peers could therefore result in state forks, if all the endorsers of a transaction are using LevelDB, and their read/write set includes invalid CouchDB keys or fields (would be validated on LevelDB peers and invalidated on CouchDB peers).

*Proposal*:

To protect against this possibility, a new CouchDB validation ""application capability"" will be added to the channel configuration.  With the capability enabled, all transactions  must adhere to the CouchDB restrictions in order to be successfully endorsed. Note that this will not be re-checked at validation time, since peers without access to private data will not be able to validate the endorsed data. That is, the endorsement policy must be strong enough to ensure that the endorsed transactions adhere to the CouchDB validations.

*Notes:*

A LevelDB based peer can still join a channel with CouchDB capability and can even endorse transactions, but any data endorsed on this peer must adhere to CouchDB restrictions. Of course, older LevelDB peers will not enforce the CouchDB capability, therefore it is advised that channel administrators also enable a minimum application capability matching the release where the CouchDB capability was added. e.g. if the CouchDB validation capability was added in v1.4.3, it would be advised to set channel application capability of v1.4.3 as well as the CouchDB capability.

A CouchDB based peer can still join a channel without CouchDB capability, however this is not recommended and the peer owner needs to be aware that their peer's state may not match other peers in the channel. If a fork does result on this peer, the BlockCommitHash for this peer will be different than the other LevelDB peers, and the fork will therefore be detectable.

For existing channels, the channel administrators must validate that all channel data conforms to CouchDB before enabling the capability.  This can be accomplished by joining an existing channel from a CouchDB peer  and from a LevelDB peer and ensuring that their BlockCommitHash's match (any invalidations only on the CouchDB peer would result in a BlockCommitHash mismatch relative to the LevelDB peers).


",,denyeart,joe-alewine,jyellick,kopaygorodsky,mastersingh24,silliman,wenjian,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17163,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:0o",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,jyellick,kopaygorodsky,mastersingh24,silliman,wenjian,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/19 9:22 PM;mastersingh24;I'm honestly not sure why we did not have the same restrictions for keys from the beginning ... oh well.
I think this makes sense ... although we should think about what we want to call the capability .... it should not be named/tied to Couch as I believe we should always be able to have a common set of key/state validation regardless of the underlying database (this of course assumes we will eventually add other state databases).  So the capability should be named something like *VXXDBValidation* as this will allow us to change this if other DBs require more restrictions.;;;","19/Dec/19 11:00 PM;wenjian;The capability framework requires the capabilities to be true/false. Talked to [~denyeart] and we agreed to name the capability as *V2_0_COUCHDB_VALIDATION*. ;;;","02/Jan/20 10:32 PM;wenjian;PR: https://github.com/hyperledger/fabric/pull/441;;;","03/Jan/20 12:04 AM;jyellick;If we decide a vanilla capability is the way to go with this, then I'm fine with that, but what we had discussed at one point, was adding an explicit ""database type"" to the application configuration in the channel config.  Essentially require that all peers run on the same statedb for a particular channel.

If we go with capabilities alone, it's probably more flexible, but the support matrix becomes a little concerning.  If a channel has V2_0_COUCHDB_VALIDATION and V3_0_POSTGRESS_VALIDATION (the latter being hypothetical), do we really want to try to support this configuration when running level?  Note, that capabilities are dumb strings, and application capabilities are not validated in any way by ordering, so there is no obvious way to enforce in channel config that only one db-type validation capability is set.

Although it's a bit more work, if we were to go ahead and specify the required statedb type as an application channel config value, then we could go with a simple enum.  By default, if unset, we get ""Unenforced"" or similar (the current behavior), but, if set, we can specify which statedb type peers must be running to safely participate in this channel.

I guess the fundamental question is ""Do we want to allow mixed statedb types on a single channel?"".  If the answer is ""yes"", then the capability route probably makes the most sense (though I worry there are corner cases of couch which we will not properly emulate on level and vice-versa).  If the answer is ""no"", then I'd think we should explicitly set a DB type.;;;","03/Jan/20 3:39 AM;denyeart;[~jyellick] My thinking is that we'd have to allow mixed statedb types on a single channel, for at least two reasons:
1) We know that there are already users with channels of mixed peers of leveldb and couchdb (for example, when it makes sense for some orgs to have query ability while other orgs do not need it)
2) We know that occasionally a channel will want to switch their statedb, e.g. from leveldb to couchdb in order to support rich queries for new chaincodes. And potentially to support switching to new supported databases in the future. Allowing mixed state dbs on a channel would be the path to switching over peers on a rolling basis.

I do agree that channels of mixed statedbs introduces some complexity and risk (which needs to be properly documented for users), but I don't see any alternatives due to the above points. Do you see any other alternatives?  Would it be possible to use an endorsement validation application capability as described in this Jira, but have the capability value be an enum instead of a boolean? Would that be a possible compromise?;;;","03/Jan/20 6:07 AM;jyellick;So I think I need to understand exactly what our goal is here?

Are we:

A) Trying to ensure that all statedbs are key/value compatible to some common denominator. And, if you were starting a network from scratch, the assumption would be that you would enable this capability in order to ensure that you may safely choose either statedb.
 B) Trying to specifically make it safe for leveldb peers to mix on couch networks, and, you would _only_ enable this capability if you were going to run some couchdbs on your network.

If it's (A), then I think that the capability, as [~mastersingh24] suggests _not_ be named after couchdb, but simply implying stronger DB key/value restrictions. Any existing user can/should enable this after auditing that it will not break their application. Any new user should enable this to save themselves headaches in the future.

It it's (B), then I'm not so sure a capability is a good idea. What we're really saying is ""Our application data targets Couch formatting, less restrictive DBs should pretend they enforce things like Couch"". Because for the next richer database which is not Couch, you're going to need a different capability, and it's going to need to be able to mix with Couch as well. And we'll end up with a matrix of ""You can mix Level and Couch, if you enabled the V2_0_COUCH capability, and you can mix Postgress and Couch if you enabled the V3_0_POSTGRESS capability, but you can't mix Postgress with Level, unless you also enable V3_1_LEVEL capability, but then you may no longer mix Level and Couch"" (Obviously all made up, but the point being, it becomes difficult to understand, and error prone to implement, because there are so many different permutations). If it's (B), I would say we go back to ""specify the statedb type, and require all peers use that DB"".

So, if it's (A), I think it's a simple rename of this capability, and some documentation that it should be enabled for all new applications. If it's (B), let's continue on below the bar:
----
Re (1), just because users are doing it, doesn't mean it's a good idea :). For backwards compatibility reasons, I don't think we can/should take this ability away, and I wouldn't advocate it. However, I think it would have been a perfectly reasonable design decision to say ""when you create a channel, you must pick your backing state database"", and I'm reluctant to immediately take it off the table purely because we've always allowed mixed envs. I'd like to hear some feedback from users on why (1) is done. Is it because couch is somehow a performance bottleneck so endorsers are running level, and dedicated read-only peers are handling queries via couch? Or, (and I suspect this is the case), is it simply that non-endorsing peers don't need couch, so people don't bother to configure it (ie, there's no compelling reason to use level, it's just a default).

Re (2). switching a statedb (safely) is not in general as easy as a rolling upgrade. For instance, this JIRA demonstrates that if the statedb ever contained any non-UTF8 keys, or any JSON values with reserved fields, it would be effectively impossible to migrate from level to couch without an outage (and possibly, at all). After all, I assume the migration path would be to drop the leveldb, restart the peer with couch, and let it rebuild things. But, you can't go back in time and make all transactions couch compliant. In order to migrate safely, I expect it would minimally require some sort of pruning and snapshotting, and likely some sort of kafka->raft style migration strategy where the peers agree on a particular point in time on the ledger when everyone is going to stop processing in the old level way, populate Couch from a snapshot, and then resume processing. I guess my point being that doing a migration via a simple rolling upgrade assumes that all state data is (and always has been valid), which, if that's the case, why have this capability at all?  If doing a migration isn't simple, and requires other non-existent features like snapshotting and pruning, we can always design it properly and extend whatever we decide to use here.
{quote}Do you see any other alternatives? Would it be possible to use an endorsement validation application capability as described in this Jira, but have the capability value be an enum instead of a boolean? Would that be a possible compromise?
{quote}
Regardless, we need a new capability – an application capability only, which changes the way the peer commits, or, a channel capability, which allows us to add a new application channel config value which is richer than a plain string. Since we have yet to release v2.0, we could piggyback on the existing V2_0 channel capability, so it would really just be adding a new application config value.;;;","04/Jan/20 12:33 AM;denyeart;[~jyellick]

The goal is (B), to allow channel administrators to enable the more restrictive CouchDB validation when they expect some peers to be running CouchDB while other peers are running LevelDB, so that state forks due to database differences as mentioned in the Description can be avoided. I don't think we'd want to shift towards a least common denominator model, as that would get progressively more restrictive over time.

In terms of WHY channels want to use a mix of databases... each use case is slightly different, but the general pattern that I've seen is that people don't want to require CouchDB-based peers for endorsements/transactions on all peers (due to the performance implications or extra setup required), but want to enable individual organizations/peers to utilize CouchDB if they prefer it, for the advanced (read-only) JSON query support. It is common for consortium members to have different query requirements, e.g. a consortirum leader versus normal transactor versus regulator/auditor may agree to common transaction logic but all have very different query requirements to support their enterprises. In this way, the CouchDB usage is well aligned with the v2.0 chaincode model where each organization can customize chaincode functions based on their requirements (we've also discussed an option to support JSON queries outside of chaincode, although the ability to customize chaincode per-organization in v2.0 somewhat reduces this need).

In terms of a single application capability that could evolve to support any future JSON database in addition to CouchDB (MongoDB, PostgreSQL, etc), I personally don't think that is a good idea.  They each have slightly different data requirements/limitations, and I don't think we'd want to repeatedly add more restrictions that could break existing applications at each step. This implies the design as written up - a V2_0_COUCHDB_VALIDATION application capability for now, and potentially other database-specific application capabilities in the future.

The potential migration to other future supported dastabases does indeed get tricky. I don't think Fabric would make guarantees about cross-database support. If a channel administrator wanted to add support for a new database (e.g. PostgreSQL JSON support), to see if their channel data was compatible they would have to bring up a new peer with the database and see if they get the same state commit hash as the existing peers. If so, then they could add another application capability (like V3_0_POSTRESQL_VALIDATION), and let the members know that they could use either CouchDB or PostgreSQL going forward, potentially as part of a rolling migration from CouchDB to PostgreSQL. As you say, it may turn out that their channel data is not compatible with the new database and it would therefore not be possible for them to do such a rolling migration, but I don't think Fabric should do anything to rule out such a migration (deployments may very well have avoided the problematic edge cases that are different on each database, especially since CouchDB happens to be one of the more restrictive JSON databases).;;;","04/Jan/20 2:22 AM;jyellick;[~denyeart] You're the database expert here, so if you still think a per DB type application capability is the way to go, I'll defer to you.

But, before I go, a couple thoughts:

* It sounds to me much less like a ""DB Type"" and more of a set of ""StateDB Restrictions"". The restrictions limit both the valid keyspace and valuespace which chaincodes can access.  Level's keyvaluespace is essentially unrestricted (I believe), so it should be compatible with any subset of the keyvaluespace, while couch has restriction and therefor to safely run couchdb you must have at least the couchdb restrictions in place.  In this sense I find 'COUCHDB_VALIDATION' to be a fairly misleading name -- it's really more of 'COUCHDB_DATA_RESTRICTIONS' or something like that.
* If we go this route then my take would be: move all of these checks (which currently exist in the couch path) out into the common path, and _only_ enforce them if a) the capability is enabled, b) the capability is disabled and the V2_0+ application capability is not enabled.  Then, in the couchdb path we can/should treat any errors due to illegal keys/values as fatal -- if we do not, these errors are forking (as they are today).  As a  side-effect, if you are running couch and enable the V2_0 application capability, you _must_ also enable the corresponding couchdb capability to ensure your transactions do not trigger the fatal couch errors.
* I don't love the upgrade story of rebuilding a statedb and checking hashes to see that they match, if instead we treat illegal key/values as fatal in the DB commit path (always for new DBs, and if V2_0 application capability is on for couchdb), then I think the story improves.  Instead of getting a divergent statedb, you simply get a peer which declares ""I can't commit valid transaction a8234bc because it contains illegal key/values for this statedb type"" and gives up.;;;","04/Jan/20 5:09 AM;denyeart;[~jyellick] I agree with the suggestions.

V2_0_COUCHDB_DATA_RESTRICTIONS is a better capability name than V2_0_COUCHDB_VALIDATION, especially since it is enforced at endorsement time rather than validation time, due to the requirement to check private data which won't be available on all peers at validation time (similar to the direction we've taken with validating lifecycle rules at endorsement time, rather than a hybrid of endorsement time and validation time). I had V2_0_ in the name so that the data restrictions could be extended over time if something is discovered, but I guess we could drop the V2_0_ part and consider any new discoveries as defects to fix in the COUCHDB_DATA_RESTRICTIONS checks.

With it being a channel level config, I agree the CouchDB peer level checks get moved to common checks on all peers when the capability is enabled. And I agree that we document that channels with CouchDB peers should enable COUCHDB_DATA_RESTRICTIONS at the same time as enabling V2_0_0 app capability, with the V2_0_0 app capability being the trigger to stop the existing peer-specific CouchDB validations. And like other unexpected issues at commit time, have peer panic (or stop processing channel blocks) if an issue is hit while committing to database, rather than silently forking the state.

It's not a perfect story since there could still be database specific unknowns (unexpected data limitations in a specific database, unexpected differences in range query behavior), but I think it is an improvement over the larger existing risk of state forks. We'll need to document that the general guidance is still to use a common database type on all peers to completely eliminate risk of database specific unknowns - chaincode authors are still responsible for ensuring that their chaincodes work across databases if they'd like to support peers with different databases.;;;","04/Jan/20 5:48 AM;jyellick;+1 sounds good to me.;;;","09/Jan/20 3:30 AM;denyeart;After discussing with Manish, we have decided to put this one on hold and investigate more stringent config options that would allow for ensuring all channel members were either on leveldb or couchdb.

[https://github.com/hyperledger/fabric/pull/441] has been closed for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Add fullflow.go style integration test,FAB-16356,41917,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,jyellick,jyellick,20/Aug/19 11:47 PM,20/Aug/19 11:47 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"This story is to add a non-e2e style integration test connecting the proposal generation, proposal validation, proposal response generation, proposal response validation, tx generation, and tx validation components of Fabric.

This used to exist in v1.4.x as {{core/common/validation/fullflow_test.go}} but was poorly written and relied on singletons, so was dismantled.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xnf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create genesis block with latest binaries when using orderer NodeOU,FAB-16357,41918,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,suryalnvs,suryalnvs,20/Aug/19 11:51 PM,22/Aug/19 12:03 AM,28/Oct/23 3:09 AM,22/Aug/19 12:02 AM,v1.4.3,v2.0.0,,,,v1.4.3,v2.0.0,,,,,,,,0,,,,,"Unable to create genesis block with latest master binaries when using orderer NodeOU. Policies used for orderer organization:
{code:java}
Policies:
  Admins:
    Rule: OR('OrdererOrgExampleCom.admin')      
    Type: Signature    
  Readers:      
    Rule: OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')
    Type: Signature
  Writers:      
    Rule: OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.client')
    Type: Signature
{code}
and seen following error:
{code:java}
2019-08-20 12:17:16.464 EDT [common.tools.configtxgen.encoder] New -> PANI 005 Error creating channel group: could not create orderer group: failed to create orderer org: error adding policies to orderer org group 'ordererorg1': invalid signature policy rule 'OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')': Unable to parse numeric value '.' to float64
2019-08-20 12:17:16.464 EDT [common.tools.configtxgen] func1 -> PANI 006 Error creating channel group: could not create orderer group: failed to create orderer org: error adding policies to orderer org group 'ordererorg1': invalid signature policy rule 'OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')': Unable to parse numeric value '.' to float64
panic: Error creating channel group: could not create orderer group: failed to create orderer org: error adding policies to orderer org group 'ordererorg1': invalid signature policy rule 'OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')': Unable to parse numeric value '.' to float64
 [recovered]
        panic: Error creating channel group: could not create orderer group: failed to create orderer org: error adding policies to orderer org group 'ordererorg1': invalid signature policy rule 'OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')': Unable to parse numeric value '.' to float64
goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000289ef0, 0x0, 0x0, 0x0)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000aa240, 0xc000195804, 0xc0000b89a0, 0x144, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000aa240, 0xc0000b89a0, 0x144, 0x0, 0x0, 0x0)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panic(0xc0000aa248, 0xc000195998, 0x1, 0x1)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:73 +0x75
main.main.func1()
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:260 +0x1a9
panic(0x163e3c0, 0xc0000d3e90)
        /opt/go/go1.11.5.linux.amd64/src/runtime/panic.go:513 +0x1b9
github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000289ef0, 0x0, 0x0, 0x0)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000aa230, 0x4, 0x176930f, 0x20, 0xc000195d38, 0x1, 0x1, 0x0, 0x0, 0x0)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000aa230, 0x176930f, 0x20, 0xc000195d38, 0x1, 0x1)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc0000aa238, 0x176930f, 0x20, 0xc000195d38, 0x1, 0x1)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
github.com/hyperledger/fabric/common/tools/configtxgen/encoder.New(0xc0000a12c0, 0xc0000d3560)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/encoder/encoder.go:569 +0xa1
main.doOutputBlock(0xc0000a12c0, 0x7ffeefbff867, 0x14, 0x7ffeefbff889, 0x7a, 0xc0000a12c0, 0x62)
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:34 +0x40
main.main()
        /w/workspace/fabric-nightly-release-job-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric/common/tools/configtxgen/main.go:294 +0xb72
2019/08/20 12:17:16 Failed to create orderer genesis block; err: exit status 2
{code}",,angelo.decaro,denyeart,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12620,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,"f926333 (2.0.0), 9b2fde0 (1.4.3)",Unset,No,,,"1|i00xnn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,suryalnvs,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 1:16 PM;angelo.decaro;Nice catch. The bug seems to be in the parser. Indeed when I execute the following test, it fails:


{code:java}
func Test1(t *testing.T) {
	_, err := FromString(""OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.orderer', 'OrdererOrgExampleCom.client')"") // error after 1st Evaluate()
	assert.NoError(t, err)
}
{code}
;;;","21/Aug/19 1:23 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/33072/ - master
https://gerrit.hyperledger.org/r/#/c/fabric/+/33074/ - release-1.4
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Don't set security object on CouchDB system databases,FAB-16358,41919,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,chris.elder,denyeart,denyeart,20/Aug/19 11:54 PM,09/Nov/20 11:19 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,"Peers sets security object on each CouchDB database as of FAB-10048.
However, peer shouldn't set security object on CouchDB system databases (e.g. _users). In future versions of CouchDB this will be enforced.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10048,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:3",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 1:33 AM;denyeart;[~chris.elder] Can you point to the CouchDB doc recommendations related to this (I think you mentioned a recent doc change) and to the upcoming change in future CouchDB versions?

I see at https://docs.couchdb.org/en/2.2.0/intro/security.html#authentication-database that security object doesn't seem to be needed for _users database since it is already secured by default. How about the other two databases? Are they secured by default?

Also, will there be any issues for existing peer/couchdb instances that already have the security object set, when they upgrade to a future version of CouchDB?;;;","06/Sep/19 1:34 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33257/ release-1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the configtxlator sanitycheck function,FAB-16359,41920,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,21/Aug/19 12:56 AM,22/Aug/19 12:32 AM,28/Oct/23 3:09 AM,22/Aug/19 12:32 AM,,,,,,,,,,,,,,,0,ipm,,,,"The sanitycheck function was a well intentioned bit of function that was never completed.  As such, it's a maintenance burden and drags a number of unwanted fabric dependencies into the configtxlator tool.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xnv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 12:31 AM;sykesm;Just doing paperwork...

https://gerrit.hyperledger.org/r/c/fabric/+/33047;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Update PTE to read multiple ""query or invoke"" function(fcn) names.",FAB-16360,41923,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,21/Aug/19 5:40 AM,23/Jan/20 4:46 AM,28/Oct/23 3:09 AM,23/Jan/20 4:46 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"sbe chaincode supports multiple query functions but the PTE doesn't support to read multiple function names from this file ex: https://github.com/rameshthoomu/fabric-test/blob/master/tools/PTE/CITest/FAB-11615-2iSBE/sbe_cc/sbecc-chan1-constant-iSBE-TLS.json#L75. While working on converting gen_cfgInputs.sh script in go language, provide ""invoke function value"" in the test plan sepc file and program should be able to read the user input and generate a template with the given value.
",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5ix",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Logger package errors observed in launcher,FAB-16361,41924,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,rameshthoomu,rameshthoomu,21/Aug/19 9:17 AM,23/Aug/19 3:41 AM,28/Oct/23 3:09 AM,23/Aug/19 3:41 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Start Network
# github.com/hyperledger/fabric-test/tools/operator/launcher/nl
nl/k8s.go:155:15: cannot use ""Failed to get the current working directory"" (type string) as type error in argument to logger.CRIT:
    string does not implement error (missing Error method)
nl/networkcleanup.go:8:2: imported and not used: ""fmt""
nl/networkcleanup.go:11:2: imported and not used: ""github.com/hyperledger/fabric-test/tools/operator/logger""",,bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5ixi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"21/Aug/19 10:37 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33061/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
adding chaincode excution comments ,FAB-16362,41925,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jaehyun,jaehyun,jaehyun,21/Aug/19 9:48 AM,06/Sep/19 10:16 PM,28/Oct/23 3:09 AM,06/Sep/19 10:16 PM,,,,,,v1.4.4,v2.0.0,,,fabric-samples,,,,,0,,,,,"As a hyperledger fabric user, I have a suggection for chaincode ""marbles02_private"" in fabric-samples .

 

In the front of source, 

!image-2019-08-21-09-53-44-824.png!

When I started the tutorial using that chaincode command,

but i recieved error massesge below. 

 (environmet : host O/S- windows7, virtual O/S - ubuntu, I think that some users will have same errors)

 

<json parsing error>

!image-2019-08-21-09-53-18-785.png!

So, I suggest that add ""tr -d \\n"" at the back of export sentences.

!image-2019-09-02-14-19-23-179.png!

 

Change export expression, it works!

!image-2019-08-21-09-52-46-211.png!

 

 ",,abel23,jaehyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 9:52 AM;jaehyun;image-2019-08-21-09-52-26-342.png;https://jira.hyperledger.org/secure/attachment/17702/image-2019-08-21-09-52-26-342.png","21/Aug/19 9:52 AM;jaehyun;image-2019-08-21-09-52-46-211.png;https://jira.hyperledger.org/secure/attachment/17703/image-2019-08-21-09-52-46-211.png","21/Aug/19 9:53 AM;jaehyun;image-2019-08-21-09-53-18-785.png;https://jira.hyperledger.org/secure/attachment/17704/image-2019-08-21-09-53-18-785.png","21/Aug/19 9:53 AM;jaehyun;image-2019-08-21-09-53-44-824.png;https://jira.hyperledger.org/secure/attachment/17705/image-2019-08-21-09-53-44-824.png","02/Sep/19 2:19 PM;jaehyun;image-2019-09-02-14-19-23-179.png;https://jira.hyperledger.org/secure/attachment/17746/image-2019-09-02-14-19-23-179.png",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xoj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,jaehyun,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/19 1:36 PM;abel23;I suggest you add it for all of the export commands. Also if you read the Using private data tutorial, the export command given on the documentation website has the fix you have recommended. In my opinion it is good to be consistent everywhere.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
handler.go: Typo in comment,FAB-16363,41926,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,san1ker,san1ker,san1ker,21/Aug/19 10:30 AM,22/Aug/19 3:32 AM,28/Oct/23 3:09 AM,22/Aug/19 3:32 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"From /core/chaincode/handler.go

{code:go}
// QueryResponeBuilder is used to build query responses
QueryResponseBuilder QueryResponseBuilder
{code}

""QueryResponeBuilder"" should be changed to ""QueryResponseBuilder"".",,san1ker,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xor:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),san1ker,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 12:28 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33066;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/ledger,FAB-16364,41928,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,21/Aug/19 11:54 AM,22/Aug/19 12:10 AM,28/Oct/23 3:09 AM,22/Aug/19 12:10 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"core/ledger$ staticcheck
 ../../../go/src/github.com/hyperledger/fabric/core/ledger/ledger_interface.go:543:3: should replace loop with combinedColls = append(combinedColls, dci.ExplicitCollectionConfigPkg.Config...) (S1011)",,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xp7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Data is not consistent on all peers,FAB-16365,41930,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,abel23,abel23,21/Aug/19 3:27 PM,26/Sep/19 4:00 AM,28/Oct/23 3:09 AM,25/Sep/19 3:30 AM,v1.4.2,,,,,,,,,fabric-ledger,,,,,0,,,,,"I created a fabric network using solo ordering consisting of 2 orgs. The containers are distributed across 2 hosts using docker swarm. [orderer, org1ca, {color:#4c9aff}peer0org1{color}, peer1org1, corresponding cli] in host 1 and [org2ca, {color:#4c9aff}peer0org2{color}, peer1org2, corresponding cli]in host 2. The peers highlighted in ""blue"" are the anchor peers. I used the fabcar chaincode from fabric-samples to test.

I executed the ""initLedger"" function to add the set of hardcoded data. This data was same across all the peers. But i noted that peers other than anchor peers are prone to the following error during query. i used ""queryAllCars"" function.
{code:java}
root@6203436d81fd:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n fabcarcc -c '{""Args"":[""queryAllCars""]}'
Error: endorsement failure during query. response: status:500 message:""GET_STATE_BY_RANGE failed: transaction ID: f0eeb7bacb2b316fee84ce5c5d14583458c63018205f7c3f190adef9fafd5ce9: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
{code}
I executed the query after some time, the query was a success but the error repeats again, but this often happens to the peer that is not an anchor peer in both the orgs. I don't think this is normal since querying from the anchor peers never results in such an error.

Now i added new data using ""createCar "" function from {color:#4c9aff}{color:#ff0000}peer0org1 {color}{color}which is an anchor peer. The chaincode invoke was success. The data was updated in the anchor peer of both orgs, but the other peers (not anchor) were showing the above error during query. Like i said sometimes the query is a success. The new data was
{code:java}
{""Key"":""CAR10"", ""Record"":{""colour"":""stradale"",""make"":""red"",""model"":""ferrari"",""owner"":""Abel""}
{code}
After this, i added new data from {color:#0747a6}peer1org1 {color}which is not an anchor peer. While i executed this, the above error was there during querying. The chaincode invoke was a success. The new data was
{code:java}
{""Key"":""CAR12"", ""Record"":{""colour"":""heavy"",""make"":""blue"",""model"":""chevy"",""owner"":""bumbum""}
{code}
Now anchor peers have data with owner ""Abel"" and the other peers have data with owner ""bumbum"". The error during query happens usually on peers that are not anchor.

After a long time, the anchor peers got updated with both the data, but the remaining peers were still in the same state. {color:#0747a6}peer1org1 {color}had data with owner ""bumbum"", ""Abel"" is not there. {color:#0747a6}peer1org2 {color}has error during query. Even {color:#0747a6}peer1org1 {color}ends up having query issues.

After some time, the anchor peers removes the data with owner ""bumbum"", the other peers have data with owner ""bumbum"" but ""abel"" is not there.

i noted that the data in anchor peers are the same. both of them will be in the same state while querying. Same with non anchor peers. but the non anchor peers aren't consistent with the anchor peers. They never end up in sync. The data just bounces around. but exists in some peer.

I think this is bad if data across all peers are not consistent. The query error is also an issue. We cannot get data from that peer.

!peer0org1datainc_withmarking.png!

!peer1org1datainc_withmarking.png!

!peer1org2_withmarking.png!

!peer0org2_withmarking.png!

*Note*: I restarted the peers after the network connection was lost. All peers crashed due to this issue jira.hyperledger.org/browse/FAB-16292 . Is it related to these?",,abel23,denyeart,jyellick,mplisov,silliman,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,FAB-16369,,,,,,,,,,,,,,,,,,,,,"26/Aug/19 3:28 PM;abel23;couchdb0_peer0_org2.log;https://jira.hyperledger.org/secure/attachment/17730/couchdb0_peer0_org2.log","26/Aug/19 3:28 PM;abel23;couchdb1_peer1_org2.log;https://jira.hyperledger.org/secure/attachment/17731/couchdb1_peer1_org2.log","26/Aug/19 3:28 PM;abel23;couchdb_peer0_org1.log;https://jira.hyperledger.org/secure/attachment/17732/couchdb_peer0_org1.log","26/Aug/19 3:28 PM;abel23;couchdb_peer1_org1.log;https://jira.hyperledger.org/secure/attachment/17733/couchdb_peer1_org1.log","26/Aug/19 3:28 PM;abel23;peer0_org1_example_com.log;https://jira.hyperledger.org/secure/attachment/17734/peer0_org1_example_com.log","26/Aug/19 3:28 PM;abel23;peer0_org2_example_com.log;https://jira.hyperledger.org/secure/attachment/17735/peer0_org2_example_com.log","21/Aug/19 2:39 PM;abel23;peer0org1datainc_withmarking.png;https://jira.hyperledger.org/secure/attachment/17709/peer0org1datainc_withmarking.png","21/Aug/19 3:08 PM;abel23;peer0org2_withmarking.png;https://jira.hyperledger.org/secure/attachment/17706/peer0org2_withmarking.png","26/Aug/19 3:28 PM;abel23;peer1_org1_example_com.log;https://jira.hyperledger.org/secure/attachment/17736/peer1_org1_example_com.log","26/Aug/19 3:28 PM;abel23;peer1_org2_example_com.log;https://jira.hyperledger.org/secure/attachment/17737/peer1_org2_example_com.log","21/Aug/19 2:49 PM;abel23;peer1org1datainc_withmarking.png;https://jira.hyperledger.org/secure/attachment/17708/peer1org1datainc_withmarking.png","21/Aug/19 3:00 PM;abel23;peer1org2_withmarking.png;https://jira.hyperledger.org/secure/attachment/17707/peer1org2_withmarking.png",,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xpn:",,,,Unset,Unset,,"1) start docker swarm
2)Add a second host as manager
3)Create an overlay network
4)Create the required containers in host one and host 2
5)Add all peers to the same channel
6)Install fabcar chaincode on all the peers 
7)Instantiate on the channel
8)call initLedger fn
9)try quering from all the peers using queryAllCars fn
10)Add a new data from peer0 of org1 which is an anchor peer
11)Try querying from all the peers
12)Add second data from peer1 of org1. When i added the data, i couldn't  query due to the said error
13)try quering data from all the peers

Note: At some point the network went down and all the peers crashed. ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,denyeart,jyellick,mplisov,silliman,yacovm,ymlbright,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 1:47 AM;yacovm;Why do you think this is related to gossip? How are the peers configured? can you attach logs?;;;","22/Aug/19 1:47 AM;yacovm;also... do the peers see each other?;;;","22/Aug/19 1:48 AM;yacovm;and have all peers joined the channel? [~denyeart] what does ""database not exist"" mean?;;;","22/Aug/19 6:28 AM;denyeart;""Database does not exist"" means the peer can connect to CouchDB but there is no CouchDB database for the channel/chaincode as there should be.  I've never seen this occur intermittently like this.  If peer gets this error when trying to commit a block it will indeed crash after retries are exhausted since it can't proceed with block processing. This is unexpected and needs to be resolved first.

Please attach peer log and couchdb log showing peer start, channel join, chaincode instantiation, and invokes/queries.;;;","22/Aug/19 2:28 PM;abel23;[~yacovm] I restarted the peers after all of them crashed. I thought it'll be an issue in gossip because if anchor peers of an org has the data, should'nt that be the data the non anchor peers also gets? I was pretty surprised to see peer1 of org1 and peer 1 of org 2 has the same data during query, but is not the same with the anchor peers. I added the second data from peer 1 org 1, that's the same data that comes during querying from peer1 org2. I was thinking how peer 1 org 2 got the data without the anchor peer of org 2 getting that data. While querying data from the anchor peers, data is the same in both of them. They both get and lose data together. 

peer0.org1.example.com - anchor peer org 1

peer1.org1.example.com

peer0.org2.example.com - anchor peer org 2

peer1.org2.example.com

Obviously the peers see each other. I saw the logs with gossip msgs. Also if they couldn't see each other, we'll be unable to query the data from other peers right.

Yes, they all have joined the same channel. If you look at the query executed on all the peers, they all are from channel ""mychannel"" and chaincode ""fabcarcc""

I will attach the logs after i try to reproduce this issue. I shut the network down and restarted with a new one to achieve what i was actually trying. :D;;;","22/Aug/19 7:47 PM;abel23;Today i noticed that the *endorsement failure error during query* comes only for chaincodes that are instantiated with policies. I tried the same chaicode without policy and it was working like charm. All peers were getting data perfectly. No querying issues and all. I instantiated another chaincode with policy, that gets this *endorsement failure* during query at different time.
{code:java}
Error: endorsement failure during query. response: status:500 message:""{\""Error\"":\""Marble does not exist: marble1\""}""
{code}
Sometimes you're able to query. Other times, you end up with this error

peer error logs when executing query.
{code:java}
2019-08-22 11:12:29.084 UTC [couchdb] handleRequest -> DEBU ebbbd Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing
2019-08-22 11:12:29.084 UTC [couchdb] ReadDoc -> DEBU ebbbe [mychannel_marblesp$$pcollection$marbles] Document not found (404), returning nil value instead of 404 error
2019-08-22 11:12:29.099 UTC [couchdb] handleRequest -> DEBU ebbc5 Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-22 11:12:29.099 UTC [couchdb] ReadDoc -> DEBU ebbc6 [mychannel_marblesp$$hcollection$marbles] Document not found (404), returning nil value instead of 404 error
2019-08-22 11:12:29.103 UTC [endorser] ProcessProposal -> ERRO ebbd0 [mychannel][bab8f93e] simulateProposal() resulted in chaincode name:""marblesp""  response status 500 for txid: bab8f93ea2a75e82a7506e03ca2bfd6d5b809de1b818c90179c6d829bac3889c
2019-08-22 11:12:29.110 UTC [grpc] infof -> DEBU ebbd5 transport: loopyWriter.run returning. connection error: desc = ""transport is closing""
2019-08-22 11:12:29.110 UTC [grpc] infof -> DEBU ebbd4 transport: loopyWriter.run returning. connection error: desc = ""transport is closing""

{code}
How can a peer lose the document and after some time gets it and then again lose it? Is this expected behaviour? Looks strange to a user.;;;","22/Aug/19 8:40 PM;abel23;[~denyeart] How should i filter the logs using grep?;;;","23/Aug/19 9:05 AM;denyeart;Again, the root problem is the couchdb ""Database does not exist"" error. This should not be happening. It causes the retrieve to fail which bubbles up as ""Marble does not exist"".

Please reproduce with 
FABRIC_LOGGING_SPEC=couchdb=debug
and attach complete peer log as well as couchdb process log.;;;","26/Aug/19 3:32 PM;abel23;[~denyeart] Here are the logs of all 4 peers and their corresponding couch db's.

[^peer0_org1_example_com.log]

^[^couchdb_peer0_org1.log]^

^^[^peer1_org1_example_com.log]^^

^^[^couchdb_peer1_org1.log]^^

[^peer0_org2_example_com.log]

[^couchdb0_peer0_org2.log]

^[^peer1_org2_example_com.log]^

^[^couchdb1_peer1_org2.log]^

 Please ask if you guys require more information. Its really difficult to run and experiment on a network that constantly have peer crashes and the querying issues.;;;","03/Sep/19 5:48 PM;abel23;[~denyeart] On a positive note. I did not experience the above when i set up the network in host mode. Looks like it is present only while using docker swarm.;;;","24/Sep/19 4:29 AM;jyellick;[~denyeart] The requested logs have been posted, but I've not seen any movement.  Is this something someone familiar with the ledger code can look at?

[~abel23] Is this still a problem for you, or has it been resolved?

Until we have some idea of an underlying cause or minimal steps to reproduce, decreasing severity from 'highest'->'medium'.;;;","24/Sep/19 4:32 PM;abel23;[~jyellick] The issues i have posted only occurs when you have the containers running in docker swarm mode.  The issues i reported are FAB-16365, FAB-16367, FAB-16369, FAB-16368. Once i started running the docker containers in host mode, none of these issues appear. THIS IS NOT A PROBLEM FOR ME NOW.;;;","25/Sep/19 3:30 AM;jyellick;Reported as no longer a problem;;;","26/Sep/19 4:00 AM;denyeart;In case we see this problem in the future, here is my assessment from the logs...

Peer logs:

{code:java}
CREATE DATABASE SUCCESSFUL
{""log"":""\u001b[36m2019-08-26 05:07:43.694 UTC [couchdb] handleRequest -\u003e DEBU 208\u001b[0m HTTP Request: PUT /mychannel_marblesp$$hcollection$marbles HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 0 | Accept: application/json | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Content-Type: application/json | Accept-Encoding: gzip |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:43.694775949Z""}
{""log"":""\u001b[34m2019-08-26 05:07:43.927 UTC [couchdb] CreateDatabaseIfNotExist -\u003e INFO 211\u001b[0m Created state database mychannel_marblesp$$hcollection$marbles\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:43.927333816Z""}

BATCH RETRIEVE USING _ALL_DOCS API SUCCESSFUL
{""log"":""\u001b[36m2019-08-26 05:07:46.099 UTC [couchdb] BatchRetrieveDocumentMetadata -\u003e DEBU 21e\u001b[0m [mychannel_marblesp$$hcollection$marbles] Entering BatchRetrieveDocumentMetadata()  keys=[Xh+Ub+BxXeA2bQnoSAutdnKiNVFXApsN37yVhQ8EVw4=]\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.099539466Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.099 UTC [couchdb] handleRequest -\u003e DEBU 221\u001b[0m HTTP Request: POST /mychannel_marblesp$$hcollection$marbles/_all_docs?include_docs=true HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 57 | Accept: application/json | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Content-Type: application/json | Accept-Encoding: gzip |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.100126335Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.104 UTC [couchdb] BatchRetrieveDocumentMetadata -\u003e DEBU 226\u001b[0m [mychannel_marblesp$$hcollection$marbles] HTTP Response: HTTP/1.1 200 OK | Transfer-Encoding: chunked | Cache-Control: must-revalidate | Content-Type: application/json | Date: Mon, 26 Aug 2019 05:07:46 GMT | Server: CouchDB/2.2.0 (Erlang OTP/18) | X-Couch-Request-Id: b5dfbf4d4d | X-Couchdb-Body-Time: 0 |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.104534137Z""}

BATCH RETRIEVE USING _ALL_DOCS API SUCCESSFUL
{""log"":""\u001b[36m2019-08-26 05:07:46.897 UTC [couchdb] BatchRetrieveDocumentMetadata -\u003e DEBU 255\u001b[0m [mychannel_marblesp$$hcollection$marbles] Entering BatchRetrieveDocumentMetadata()  keys=[a9kzW+4LAaRXiC45hTQeYYEI2SZAMUb60auSe2/F60E=]\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.898943317Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.898 UTC [couchdb] handleRequest -\u003e DEBU 25a\u001b[0m HTTP Request: POST /mychannel_marblesp$$hcollection$marbles/_all_docs?include_docs=true HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 57 | Accept: application/json | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Content-Type: application/json | Accept-Encoding: gzip |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.899137278Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.908 UTC [couchdb] BatchRetrieveDocumentMetadata -\u003e DEBU 268\u001b[0m [mychannel_marblesp$$hcollection$marbles] HTTP Response: HTTP/1.1 200 OK | Transfer-Encoding: chunked | Cache-Control: must-revalidate | Content-Type: application/json | Date: Mon, 26 Aug 2019 05:07:46 GMT | Server: CouchDB/2.2.0 (Erlang OTP/18) | X-Couch-Request-Id: 44dc68e903 | X-Couchdb-Body-Time: 0 |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.909039588Z""}

BATCH UPDATE USING _BULK_DOCS API FAILS WITH ""Database does not exist"".
{""log"":""\u001b[36m2019-08-26 05:07:46.911 UTC [couchdb] BatchUpdateDocuments -\u003e DEBU 275\u001b[0m [mychannel_marblesp$$hcollection$marbles] Entering BatchUpdateDocuments()  document ids=[Xh+Ub+BxXeA2bQnoSAutdnKiNVFXApsN37yVhQ8EVw4=,a9kzW+4LAaRXiC45hTQeYYEI2SZAMUb60auSe2/F60E=]\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.911370756Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.911 UTC [couchdb] handleRequest -\u003e DEBU 27b\u001b[0m HTTP Request: POST /mychannel_marblesp$$hcollection$marbles/_bulk_docs HTTP/1.1 | Host: couchdb0:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 432 | Accept: application/json | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Content-Type: application/json | Accept-Encoding: gzip |  | \n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.91167221Z""}
{""log"":""\u001b[36m2019-08-26 05:07:46.962 UTC [couchdb] handleRequest -\u003e DEBU 286\u001b[0m Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.962879729Z""}
{""log"":""panic: error during commit to txmgr: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.966323049Z""}
{code}


Associated couchdb logs:

{code:java}
CREATE DATABASE SUCCESSFUL
{""log"":""[notice] 2019-08-26T05:07:43.787400Z nonode@nohost \u003c0.31490.0\u003e 2da5d3b397 couchdb0:5984 10.0.0.13 uvionics PUT /mychannel_marblesp$$hcollection$marbles 201 ok 92\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:43.788702798Z""}

BATCH RETRIEVE USING _ALL_DOCS API SUCCESSFUL
{""log"":""[notice] 2019-08-26T05:07:46.104432Z nonode@nohost \u003c0.31490.0\u003e b5dfbf4d4d couchdb0:5984 10.0.0.13 uvionics POST /mychannel_marblesp$$hcollection$marbles/_all_docs?include_docs=true 200 ok 4\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.104875442Z""}

BATCH RETRIEVE USING _ALL_DOCS API SUCCESSFUL
{""log"":""[notice] 2019-08-26T05:07:46.909206Z nonode@nohost \u003c0.31490.0\u003e 44dc68e903 couchdb0:5984 10.0.0.13 uvionics POST /mychannel_marblesp$$hcollection$marbles/_all_docs?include_docs=true 200 ok 9\n"",""stream"":""stderr"",""time"":""2019-08-26T05:07:46.909712262Z""}

BATCH UPDATE USING _BULK_DOCS API CALLS NEVER SHOWS UP IN COUCHDB LOG... 

NEXT REQUEST IS 4 MINUTES LATER WHEN PEER RESTARTS
{""log"":""[notice] 2019-08-26T05:11:34.274003Z nonode@nohost \u003c0.4718.1\u003e dec4076caf couchdb0:5984 10.0.0.20 uvionics GET / 200 ok 28\n"",""stream"":""stderr"",""time"":""2019-08-26T05:11:34.274451318Z""}
{code}

So, the database was created and existed, a few APIs against the database worked, and then the next API call to the database failed with ""Database does not exist"". On the couchdb side, we see no error for the failing API call, and then messages resume 4 minutes later when the peer is restarted.

If this problem can be reproduced again, we would need to open an issue against CouchDB and ask in what scenarios a ""database does not exist"" error may be returned when the database does in fact exist.;;;",,,,,,,,,,,,,,,,,,,,,,
Update Kafka client library,FAB-16366,41932,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Coada,Coada,21/Aug/19 5:58 PM,17/Apr/21 12:32 AM,28/Oct/23 3:09 AM,17/Apr/21 12:32 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,"Updating `sarama` should be done on a more regular basis, preferably on each new release of Fabric.

[Amazon Managed Streaming for Kafka (MSK)|https://aws.amazon.com/msk] has reached general availability, providing users with the option of picking between Apache Kafka version 1.1.1 and version 2.1.0.

Today the latest version supported by Fabric is Kafka 1.0.0. This isn't even reaching the lowest version that AWS provides. Although Kafka brokers are backward compatible, it's time to upgrade the Kafka client to support the 2.x.x versions.",,Coada,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11573,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xq3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Coada,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Apr/21 12:32 AM;denyeart;Closing since the recommendation has been to shift to Raft as of v1.4.1.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer crashed while trying to add peer to a channel,FAB-16367,41934,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,abel23,abel23,21/Aug/19 7:57 PM,25/Sep/19 2:08 AM,28/Oct/23 3:09 AM,24/Sep/19 5:32 AM,v1.4.2,,,,,,,,,fabric-ledger,,,,,0,Needs-Review,,,,"I created a network using solo ordering consisting of 2 orgs. The network is similar to the one in BYFN example. 2 peers for each org. I created the ordering service , certificate authority for org1, peers for org1 on host 1 and the rest on host 2. The network is a docker network in overlay mode using docker swarm.

I created a channel in peer 1 of org 1 and joined that peer to that channel. I fetched the newest block from each of the other peers and used it to join the channel. In the case of peer 1 of org 1, the peer crashed.

The following were the output from the cli of peer1.org1.example.com
{code:java}
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel fetch newest -o orderer.example.com:7050 -c mychannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2019-08-21 10:06:45.669 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
2019-08-21 10:06:45.699 UTC [cli.common] readBlock -> INFO 002 Received block: 0
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel_newest.block 
2019-08-21 10:06:53.265 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.)
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel_newest.block 
2019-08-21 10:07:10.860 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: proposal failed (err: rpc error: code = Unavailable desc = transport is closing)
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel_newest.block 
Error: error getting endorser client for channel: endorser client failed to connect to peer1.org1.example.com:8051: failed to create new connection: context deadline exceeded
{code}
The logs of peer1.org1.example.com are the following
{code:java}
2019-08-21 10:07:11.677 UTC [couchdb] handleRequest -> DEBU 23f2 Exiting handleRequest()
2019-08-21 10:07:11.677 UTC [couchdb] EnsureFullCommit -> DEBU 23f3 [mychannel_] Exiting EnsureFullCommit()
2019-08-21 10:07:11.677 UTC [couchdb] SaveDoc -> DEBU 23f4 [mychannel_] Entering SaveDoc() id=[statedb_savepoint]
2019-08-21 10:07:11.677 UTC [couchdb] ReadDoc -> DEBU 23f5 [mychannel_] Entering ReadDoc()  id=[statedb_savepoint]
2019-08-21 10:07:11.677 UTC [couchdb] WarmIndexAllIndexes -> DEBU 23f6 [mychannel_] Entering WarmIndexAllIndexes()
2019-08-21 10:07:11.677 UTC [couchdb] handleRequest -> DEBU 23f7 Entering handleRequest()  method=GET  url=http://couchdb1:5984  dbName=mychannel_
2019-08-21 10:07:11.677 UTC [couchdb] handleRequest -> DEBU 23f8 Request URL: http://couchdb1:5984/mychannel_/statedb_savepoint?attachments=true
2019-08-21 10:07:11.677 UTC [couchdb] ListIndex -> DEBU 23f9 [%s] Entering ListIndex() mychannel_
2019-08-21 10:07:11.678 UTC [couchdb] handleRequest -> DEBU 23fa Entering handleRequest()  method=GET  url=http://couchdb1:5984  dbName=mychannel_
2019-08-21 10:07:11.678 UTC [couchdb] handleRequest -> DEBU 23fb Request URL: http://couchdb1:5984/mychannel_/_index
2019-08-21 10:07:11.678 UTC [couchdb] handleRequest -> DEBU 23fc HTTP Request: GET /mychannel_/statedb_savepoint?attachments=true HTTP/1.1 | Host: couchdb1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Accept-Encoding: gzip |  | 
2019-08-21 10:07:11.678 UTC [couchdb] handleRequest -> DEBU 23fd HTTP Request: GET /mychannel_/_index HTTP/1.1 | Host: couchdb1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Accept-Encoding: gzip |  | 
2019-08-21 10:07:11.681 UTC [couchdb] handleRequest -> DEBU 23fe Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:missing
2019-08-21 10:07:11.681 UTC [couchdb] ReadDoc -> DEBU 23ff [mychannel_] Document not found (404), returning nil value instead of 404 error
2019-08-21 10:07:11.681 UTC [couchdb] handleRequest -> DEBU 2400 Entering handleRequest()  method=PUT  url=http://couchdb1:5984  dbName=mychannel_
2019-08-21 10:07:11.681 UTC [couchdb] handleRequest -> DEBU 2401 Request URL: http://couchdb1:5984/mychannel_/statedb_savepoint
2019-08-21 10:07:11.681 UTC [couchdb] handleRequest -> DEBU 2402 HTTP Request: PUT /mychannel_/statedb_savepoint HTTP/1.1 | Host: couchdb1:5984 | User-Agent: Go-http-client/1.1 | Content-Length: 24 | Accept: application/json | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Content-Type: application/json | Accept-Encoding: gzip |  | 
2019-08-21 10:07:11.701 UTC [couchdb] handleRequest -> DEBU 2403 Exiting handleRequest()
2019-08-21 10:07:11.701 UTC [couchdb] ListIndex -> DEBU 2404 [mychannel_] Exiting ListIndex()
2019-08-21 10:07:11.701 UTC [couchdb] WarmIndexAllIndexes -> DEBU 2405 [mychannel_] Exiting WarmIndexAllIndexes()
2019-08-21 10:07:11.740 UTC [couchdb] handleRequest -> DEBU 2406 Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 10:07:11.740 UTC [statecouchdb] ensureFullCommitAndRecordSavepoint -> ERRO 2407 Failed to save the savepoint to DB error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 10:07:11.740 UTC [statecouchdb] ApplyUpdates -> ERRO 2408 Error during recordSavepoint: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 10:07:11.741 UTC [pvtstatepurgemgmt] prepareWorkingsetFor -> DEBU 2409 Preparing potential purge list working-set for expiringAtBlk [1]
2019-08-21 10:07:11.741 UTC [leveldbhelper] GetIterator -> DEBU 240b Getting iterator for range [[]byte{0x6d, 0x79, 0x63, 0x68, 0x61, 0x6e, 0x6e, 0x65, 0x6c, 0x2f, 0x30, 0x0, 0x31, 0x1, 0x1, 0x0}] - [[]byte{0x6d, 0x79, 0x63, 0x68, 0x61, 0x6e, 0x6e, 0x65, 0x6c, 0x2f, 0x30, 0x0, 0x31, 0x1, 0x2, 0x0}]
2019-08-21 10:07:11.741 UTC [statecouchdb] executeBatches -> DEBU 240c Executing batches = []
2019-08-21 10:07:11.741 UTC [lockbasedtxmgr] func1 -> DEBU 240a launched the background routine for preparing keys to purge with the next block
2019-08-21 10:07:11.741 UTC [statecouchdb] LoadCommittedVersions -> DEBU 240d nsKeysMap=map[]
2019-08-21 10:07:11.741 UTC [statecouchdb] LoadCommittedVersions -> DEBU 240e nsMetadataMap=map[]
panic: error during commit to txmgr: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
	panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x28 pc=0xd15686]goroutine 1102 [running]:
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).triggerNextState(0xc0022b1860, 0x0, 0xc0022d44e0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:35 +0x26
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1.1(0xc0022b1860, 0xc0024f1eb0, 0xc0022d44e0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:247 +0x42
panic(0x10e5440, 0xc002bbe0e0)
	/opt/go/src/runtime/panic.go:513 +0x1b9
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc00221e5b0, 0xc002690840, 0xc0021b1380, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:402 +0xd5b
github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Create(0xc0001ea240, 0xc0021f8880, 0x27, 0xc0024f17a8, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:132 +0x331
github.com/hyperledger/fabric/core/ledger/ledgermgmt.CreateLedger(0xc0021f8880, 0x0, 0x0, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:102 +0x17b
github.com/hyperledger/fabric/core/peer.CreateChainFromBlock(0xc0021f8880, 0x13ca500, 0xc0003d4238, 0x13d5e20, 0xc0004334a0, 0x1, 0x1)
	/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:501 +0x7b
github.com/hyperledger/fabric/core/scc/cscc.joinChain(0xc0021ff500, 0x9, 0xc0021f8880, 0x13ca500, 0xc0003d4238, 0x13d5e20, 0xc0004334a0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:236 +0x79
github.com/hyperledger/fabric/core/scc/cscc.(*PeerConfiger).InvokeNoShim(0xc0004338b0, 0xc002b40e70, 0x2, 0x2, 0xc002714e60, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:164 +0x692
github.com/hyperledger/fabric/core/scc/cscc.(*PeerConfiger).Invoke(0xc0004338b0, 0x13e32e0, 0xc0021c5080, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
	/opt/gopath/src/github.com/hyperledger/fabric/core/scc/cscc/configure.go:120 +0x29b
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc0022b1860, 0xc0022d44e0, 0xc0003edf00)
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4eb
created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:242 +0x53

{code}
This caused the peer to crash. It was surprising to note that after i restarted the peer, i tried to fetch the newest block to join the channel. Then used ""peer channel join -b mychannelnewest.block"". the output was as follows
{code:java}
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel_newest.block 
2019-08-21 10:50:17.449 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Error: proposal failed (err: bad proposal response 500: cannot create ledger from genesis block: LedgerID already exists)

{code}
i then check ""peer channel list"" the output was as follows
{code:java}
2019-08-21 10:50:28.999 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
Channels peers has joined: 
mychannel
{code}
The peer has already joined the channel. The cause of the crash has to be handled i guess. Are you guys aware of such an issue?

 ",,abel23,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xqj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 12:13 AM;sykesm;Excellent comment in the shim:

{code}
		//better not be nil
		var nextStateMsg *pb.ChaincodeMessage

		defer func() {
			handler.triggerNextState(nextStateMsg, errc)
		}()
{code}

[1] https://github.com/hyperledger/fabric/blob/6f64c22f644da6226665972b6590ab0cf3b2d399/core/chaincode/shim/handler.go#L243-L248;;;","22/Aug/19 12:22 AM;sykesm;kvledger terminated the peer with a panic and the recover function in the shim dereferenced a nil during recovery.

The shim code no longer exists in master. The ledger panic looks appropriate.;;;","22/Aug/19 1:17 PM;abel23;But terminating the peer doesn't look like a solution. Wouldn't that cause denial of service if the peer goes down.;;;","24/Sep/19 5:32 AM;jyellick;This looks like an underlying couchdb error caused the peer to crash because it could not perform the necessary channel join operations.  The recourse seems correct.  I see no denial of service here, as only an admin can trigger the join channel path, and if couch is unavailable, then unavoidably, there will be a denial of service.;;;","24/Sep/19 5:23 PM;abel23;[~jyellick] These issues reported by me occurs only in docker swarm mode;;;","25/Sep/19 2:08 AM;jyellick;[~abel23] yes, I realize you only observe this when using docker swarm.  However, it seems to me as if the peer is working as expected – when it encounters an irrecoverable couchdb error, it panics and exits, rather than continue operating and risk corruption.  So, I do not see this as a Fabric bug.

As this only appears in docker swarm, it seems likely to me that this is some swarm configuration issue or other incompatibility.  As much as we would like to provide support for all configurations, if the error is due to integration with another toolset (be it docker swarm, kubernetes, etc.) such that we cannot easily reproduce the problem, then there is very little we can do.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer crashed during commit to txmgr,FAB-16368,41935,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,abel23,abel23,21/Aug/19 8:25 PM,25/Sep/19 3:30 AM,28/Oct/23 3:09 AM,25/Sep/19 3:30 AM,v1.4.2,,,,,,,,,fabric-ledger,,,,,0,Needs-Review,,,,"The error logs of the crashed peer as are follows:
{code:java}
2019-08-21 11:03:43.117 UTC [gossip.comm] createConnection -> DEBU 167ca Entering peer0.org1.example.com:7051 46540f179e02cf340eaae091ca92af6b698831e5b0d296f85820487b8d8bb3b9
2019-08-21 11:03:43.118 UTC [grpc] infof -> DEBU 167cb transport: loopyWriter.run returning. connection error: desc = ""transport is closing""
2019-08-21 11:03:43.121 UTC [grpc] DialContext -> DEBU 167cc parsed scheme: """"
2019-08-21 11:03:43.121 UTC [grpc] DialContext -> DEBU 167cd scheme """" not registered, fallback to default scheme
2019-08-21 11:03:43.122 UTC [grpc] watcher -> DEBU 167ce ccResolverWrapper: sending new addresses to cc: [{peer0.org1.example.com:7051 0  <nil>}]
2019-08-21 11:03:43.122 UTC [grpc] switchBalancer -> DEBU 167cf ClientConn switching balancer to ""pick_first""
2019-08-21 11:03:43.122 UTC [grpc] HandleSubConnStateChange -> DEBU 167d0 pickfirstBalancer: HandleSubConnStateChange: 0xc00338c6a0, CONNECTING
2019-08-21 11:03:43.161 UTC [couchdb] handleRequest -> DEBU 167d1 Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 11:03:43.161 UTC [pvtstatepurgemgmt] prepareWorkingsetFor -> DEBU 167d2 Preparing potential purge list working-set for expiringAtBlk [2]
2019-08-21 11:03:43.161 UTC [leveldbhelper] GetIterator -> DEBU 167d3 Getting iterator for range [[]byte{0x6d, 0x79, 0x63, 0x68, 0x61, 0x6e, 0x6e, 0x65, 0x6c, 0x2f, 0x30, 0x0, 0x31, 0x1, 0x2, 0x0}] - [[]byte{0x6d, 0x79, 0x63, 0x68, 0x61, 0x6e, 0x6e, 0x65, 0x6c, 0x2f, 0x30, 0x0, 0x31, 0x1, 0x3, 0x0}]
2019-08-21 11:03:43.161 UTC [lockbasedtxmgr] func1 -> DEBU 167d4 launched the background routine for preparing keys to purge with the next block
2019-08-21 11:03:43.161 UTC [statecouchdb] executeBatches -> DEBU 167d5 Executing batches = []
2019-08-21 11:03:43.162 UTC [statecouchdb] LoadCommittedVersions -> DEBU 167d6 nsKeysMap=map[]
panic: error during commit to txmgr: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.goroutine 1516 [running]:
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc00015cd90, 0xc002797360, 0xc00279e58c, 0x0, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:402 +0xd5b
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc00248a2e0, 0xc002797360, 0xc00279e58c, 0x15d, 0xbf4f6732b1583903)
	/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:95 +0x75
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc00024f6c0, 0xc002ad27c0, 0x0, 0x0, 0x0, 0x41, 0xc002c12e70)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:281 +0x16a9
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc0023aea00, 0xc002ad27c0, 0x0, 0x0, 0x0, 0x3, 0x0)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:810 +0xa2
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc0023aea00)
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:598 +0x3d5
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
	/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:284 +0x714

{code}",,abel23,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xqr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 5:29 AM;jyellick;[~manish-sethi] Can you triage?;;;","24/Sep/19 5:22 PM;abel23;[~jyellick] These issues happen only while in docker swarm mode

 ;;;","25/Sep/19 2:10 AM;jyellick;This looks like it might be a duplicate of FAB-16365 ?;;;","25/Sep/19 3:30 AM;jyellick;Reported as no longer a problem via the above bug.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to query data from a non anchor peer. Error endorsing query,FAB-16369,41936,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,abel23,abel23,21/Aug/19 9:07 PM,24/Sep/19 4:35 PM,28/Oct/23 3:09 AM,24/Sep/19 5:27 AM,v1.4.2,,,,,,,,,fabric-ledger,,,,,0,Needs-Review,,,,"output from cli of peer
{code:java}
root@bc9e9fc55e86:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n fabcarcc -c '{""Args"":[""queryAllCars"",""a""]}'
Error: endorsement failure during query. response: status:500 message:""GET_STATE_BY_RANGE failed: transaction ID: 92783ba2b60882a77eb6f7e1433c05ce25c9b10ea5f094e356e745a634abd22f: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist."" 
{code}
the logs from the peer that can't query the data
{code:java}
2019-08-21 11:44:00.189 UTC [lockbasedtxmgr] NewTxSimulator -> DEBU 4cc5b constructing new tx simulator
2019-08-21 11:44:00.189 UTC [lockbasedtxmgr] newLockBasedTxSimulator -> DEBU 4cc5c constructing new tx simulator txid = [702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809]
2019-08-21 11:44:00.189 UTC [endorser] SimulateProposal -> DEBU 4cc5d [mychannel][702ca90d] Entry chaincode: name:""fabcarcc"" 
2019-08-21 11:44:00.189 UTC [statecouchdb] GetState -> DEBU 4cc5e GetState(). ns=lscc, key=fabcarcc
2019-08-21 11:44:00.189 UTC [statecouchdb] getState -> DEBU 4cc5f key:[fabcarcc] found in the lsccStateCache
2019-08-21 11:44:00.189 UTC [ccprovider] GetChaincodeData -> DEBU 4cc60 Getting chaincode data for <fabcarcc, 1.0> from cache
2019-08-21 11:44:00.189 UTC [endorser] callChaincode -> INFO 4cc61 [mychannel][702ca90d] Entry chaincode: name:""fabcarcc"" 
2019-08-21 11:44:00.189 UTC [chaincode] Execute -> DEBU 4cc62 Entry
2019-08-21 11:44:00.190 UTC [chaincode] handleMessage -> DEBU 4cc63 [702ca90d] Fabric side handling ChaincodeMessage of type: GET_STATE_BY_RANGE in state ready
2019-08-21 11:44:00.190 UTC [chaincode] HandleTransaction -> DEBU 4cc64 [702ca90d] handling GET_STATE_BY_RANGE from chaincode
2019-08-21 11:44:00.190 UTC [statecouchdb] GetStateRangeScanIteratorWithMetadata -> DEBU 4cc65 Entering GetStateRangeScanIteratorWithMetadata  namespace: fabcarcc  startKey: CAR0  endKey: CAR999  metadata: map[]
2019-08-21 11:44:00.190 UTC [couchdb] ReadDocRange -> DEBU 4cc66 [mychannel_fabcarcc] Entering ReadDocRange()  startKey=CAR0, endKey=CAR999
2019-08-21 11:44:00.190 UTC [couchdb] handleRequest -> DEBU 4cc67 Entering handleRequest()  method=GET  url=http://couchdb1:5984  dbName=mychannel_fabcarcc
2019-08-21 11:44:00.190 UTC [couchdb] handleRequest -> DEBU 4cc68 Request URL: http://couchdb1:5984/mychannel_fabcarcc/_all_docs?attachments=true&endkey=%22CAR999%22&include_docs=true&inclusive_end=false&limit=1001&startkey=%22CAR0%22
2019-08-21 11:44:00.191 UTC [couchdb] handleRequest -> DEBU 4cc69 HTTP Request: GET /mychannel_fabcarcc/_all_docs?attachments=true&endkey=%22CAR999%22&include_docs=true&inclusive_end=false&limit=1001&startkey=%22CAR0%22 HTTP/1.1 | Host: couchdb1:5984 | User-Agent: Go-http-client/1.1 | Accept: multipart/related | Authorization: Basic dXZpb25pY3M6dXZpb25pY3MxMjM= | Accept-Encoding: gzip |  | 
2019-08-21 11:44:00.222 UTC [couchdb] handleRequest -> DEBU 4cc6a Error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 11:44:00.223 UTC [statecouchdb] rangeScanFilterCouchInternalDocs -> DEBU 4cc6b Error calling ReadDocRange(): error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
2019-08-21 11:44:00.224 UTC [chaincode] HandleTransaction -> ERRO 4cc6c [702ca90d] Failed to handle GET_STATE_BY_RANGE. error: error handling CouchDB request. Error:not_found,  Status Code:404,  Reason:Database does not exist.
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchInstance).handleRequest
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:1847
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).handleRequest
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:1650
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).ReadDocRange
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:919
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.rangeScanFilterCouchInternalDocs
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:392
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*queryScanner).getNextStateRangeScanResults
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:375
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.newQueryScanner
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:709
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*VersionedDB).GetStateRangeScanIteratorWithMetadata
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:364
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*VersionedDB).GetStateRangeScanIterator
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/statecouchdb.go:333
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/privacyenabledstate.(*CommonStorageDB).GetStateRangeScanIterator
	<autogenerated>:1
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.newResultsItr
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:344
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).getStateRangeScanIterator
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:79
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).GetStateRangeScanIterator
	/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:46
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:771
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange-fm
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:215
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:774
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange-fm
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:215
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:272
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
GET_STATE_BY_RANGE failed: transaction ID: 702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809
github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:276
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
2019-08-21 11:44:00.224 UTC [chaincode] HandleTransaction -> DEBU 4cc6d [702ca90d] Completed GET_STATE_BY_RANGE. Sending ERROR
2019-08-21 11:44:00.227 UTC [chaincode] handleMessage -> DEBU 4cc6e [702ca90d] Fabric side handling ChaincodeMessage of type: COMPLETED in state ready
2019-08-21 11:44:00.227 UTC [chaincode] Notify -> DEBU 4cc6f [702ca90d] notifying Txid:702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809, channelID:mychannel
2019-08-21 11:44:00.227 UTC [chaincode] Execute -> DEBU 4cc70 Exit
2019-08-21 11:44:00.227 UTC [gossip.gossip] handleMessage -> DEBU 4cc71 Entering, 10.0.0.11:40284 68991bb92b1699d8358468e7ec3c59ed2a6888c0c185faf89b6d783448130d64 sent us GossipMessage: tag:EMPTY hello:<nonce:4060876422085626696 msg_type:IDENTITY_MSG > , Envelope: 16 bytes, Signature: 0 bytes
2019-08-21 11:44:00.227 UTC [endorser] callChaincode -> INFO 4cc72 [mychannel][702ca90d] Exit chaincode: name:""fabcarcc""  (38ms)
2019-08-21 11:44:00.227 UTC [lockbasedtxmgr] GetTxSimulationResults -> DEBU 4cc73 Simulation completed, getting simulation results
2019-08-21 11:44:00.227 UTC [lockbasedtxmgr] Done -> DEBU 4cc75 Done with transaction simulation / query execution [702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809]
2019-08-21 11:44:00.228 UTC [endorser] SimulateProposal -> DEBU 4cc76 [mychannel][702ca90d] Exit
2019-08-21 11:44:00.227 UTC [gossip.pull] HandleMessage -> DEBU 4cc74 GossipMessage: tag:EMPTY hello:<nonce:4060876422085626696 msg_type:IDENTITY_MSG > , Envelope: 16 bytes, Signature: 0 bytes
2019-08-21 11:44:00.228 UTC [msp] DeserializeIdentity -> DEBU 4cc77 Obtaining identity
2019-08-21 11:44:00.229 UTC [msp] DeserializeIdentity -> DEBU 4cc78 Obtaining identity
2019-08-21 11:44:00.228 UTC [endorser] ProcessProposal -> ERRO 4cc79 [mychannel][702ca90d] simulateProposal() resulted in chaincode name:""fabcarcc""  response status 500 for txid: 702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809
2019-08-21 11:44:00.229 UTC [lockbasedtxmgr] Done -> DEBU 4cc7a Done with transaction simulation / query execution [702ca90d821e57e0523e588b933363a0112ac8239ad615dac5f112fa16884809]
2019-08-21 11:44:00.229 UTC [endorser] func1 -> DEBU 4cc7b Exit: request from 10.0.0.14:52528
2019-08-21 11:44:00.230 UTC [comm.grpc.server] 1 -> INFO 4cc7c unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=10.0.0.14:52528 grpc.code=OK grpc.call_duration=42.744787ms
2019-08-21 11:44:00.229 UTC [msp] DeserializeIdentity -> DEBU 4cc7d Obtaining identity
2019-08-21 11:44:00.230 UTC [msp] DeserializeIdentity -> DEBU 4cc7e Obtaining identity
2019-08-21 11:44:00.230 UTC [msp] DeserializeIdentity -> DEBU 4cc7f Obtaining identity
2019-08-21 11:44:00.231 UTC [msp] DeserializeIdentity -> DEBU 4cc80 Obtaining identity
2019-08-21 11:44:00.231 UTC [gossip.pull] SendDigest -> DEBU 4cc81 Sending IDENTITY_MSG digest: [d7924c098600121e2150e89b67fd3d51b0e6daf85476da053e09de1681ee103c 46540f179e02cf340eaae091ca92af6b698831e5b0d296f85820487b8d8bb3b9 df57ccabae7e8e5cf4de97ab737c7f748b02cdc4b8e0d6b00b37125e86d4cf5b 68991bb92b1699d8358468e7ec3c59ed2a6888c0c185faf89b6d783448130d64] to 10.0.0.11:40284 68991bb92b1699d8358468e7ec3c59ed2a6888c0c185faf89b6d783448130d64
2019-08-21 11:44:00.231 UTC [gossip.gossip] handleMessage -> DEBU 4cc82 Exiting
2019-08-21 11:44:00.236 UTC [grpc] warningf -> DEBU 4cc83 transport: http2Server.HandleStreams failed to read frame: read tcp 10.0.0.19:8051->10.0.0.14:52528: read: connection reset by peer
2019-08-21 11:44:00.236 UTC [grpc] infof -> DEBU 4cc84 transport: loopyWriter.run returning. connection error: desc = ""transport is closing""
2019-08-21 11:44:00.236 UTC [grpc] infof -> DEBU 4cc85 transport: loopyWriter.run returning. connection error: desc = ""transport is closing""
{code}
This error is prone to all peers of orgs that are not anchor peers.

If you try to query the data after a long time, you might get the data. But it  takes a really long time. like 15mins.

Anchor peers are not prone to this issue.

I also noticed that when when you're able to query from a non anchor peer of org1, the non anchor peer of org2 will have query error and vice-versa.

Is this an issue or is it meant to be like this?

My fabric network is similar to BYFN, but the network was created using docker swarm. Peers are distributed across 2 hosts in the same network.

PS: Now i'm able to query the data from all the 4 peers. But it took a really long time. like 30 mins. Is this normal?",,abel23,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16365,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xqz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),abel23,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 5:27 AM;jyellick;Same author, same content, it appears.  If this is being marked a duplicate in error, please expand on how these differ.;;;","24/Sep/19 4:35 PM;abel23;[~jyellick] These issues happen only when the containers are in docker swarm mode. Please see the latest comment in FAB-16365

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create channel with writers policy not satisfied when enabled orderer organization node ou's,FAB-16370,41937,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,suryalnvs,suryalnvs,21/Aug/19 9:57 PM,22/Aug/19 11:31 PM,28/Oct/23 3:09 AM,22/Aug/19 11:29 PM,v1.4.3,v2.0.0,,,,v1.4.3,v2.0.0,,,,,,,,0,,,,,"Description: Unable to create channel with writers policy not satisfied when enabled orderer organization node ou's with error:
{code:java}
Error: got unexpected status: FORBIDDEN -- implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied{code}
Steps:
 # Set channel capabilities to be v1.4.3 in configtx.yml and enable NodeOU's in crypto-config.yml before generating channel artifacts and certificates. Policies for orderer org should look like the following

{code:java}
Policies: 
 Admins:
   Rule: OR('OrdererOrgExampleCom.admin') 
   Type: Signature 
 Readers: 
   Rule: OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.client')
   Type: Signature 
 Writers: 
   Rule: OR('OrdererOrgExampleCom.admin', 'OrdererOrgExampleCom.client') 
   Type: Signature {code}
Policies for peer org should look like following: 
{code:java}
Policies: 
 Admins: 
   Rule: OR('Org1ExampleCom.admin')
   Type: Signature 
 Readers: 
   Rule: OR('Org1ExampleCom.admin', 'Org1ExampleCom.peer', 'Org1ExampleCom.client') 
   Type: Signature
 Writers: 
   Rule: OR('Org1ExampleCom.admin', 'Org1ExampleCom.client') 
   Type: Signature{code}
2. Launch fabric network with solo orderer, 2 orgs with 1 peer in each 
 3. Generate a channel config transaction 
 4. Set the following environment variables: 
{code:java}
export CORE_PEER_LOCALMSPID=""Org1ExampleCom"" 
export CORE_PEER_MSPCONFIGPATH=""$PWD/crypto-config/peerOrganizations/org1/users/Admin@org1/msp/"" 
export CORE_PEER_TLS_ROOTCERT_FILE=""$PWD/crypto-config/peerOrganizations/org1/peers/peer0-org1.org1/msp/tlscacerts/tlsca.org1-cert.pem"" {code}
5. Run the following command to create the channel using channel config transaction generated in step 3: 
{code:java}
peer channel create -c testorgschannel0 --cafile $PWD/crypto-config/ordererOrganizations/ordererorg1/tlsca/tlsca.ordererorg1-cert.pem -o orderer0-ordererorg1:7050 --tls true -f $PWD/channel-artifacts/testorgschannel0.tx{code}",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,"f926333 (2.0.0), 9b2fde0 (1.4.3)",Unset,No,,,"1|i00xr7:",,,,Unset,Unset,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 11:31 PM;suryalnvs;With the merge of [https://gerrit.hyperledger.org/r/#/c/fabric/+/33074/] and adding orderer role to WRITERS policy solved this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Launcher is failing to create msp's for peer0-org1,FAB-16371,41938,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,rameshthoomu,rameshthoomu,21/Aug/19 9:58 PM,23/Aug/19 2:47 AM,28/Oct/23 3:09 AM,23/Aug/19 2:47 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Used 1.4.3 latest code base, observed below error while creating msp for peer orgs.

{code:java}
error: error reading /var/lib/jenkins/workspace/k8s_systemTest/gopath/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/crypto-config/peerOrganizations/org1/peers/peer0-org1.org1/msp/admincerts/Admin@org1-cert.pem: no such file or directory
2019/08/20 23:02:02 Failed to create msp configmap for peer0-org1
2019/08/20 23:02:02 Failed to create msp; err: exit status 1
exit status 1
{code}",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,FAB-16340,FAB-16066,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5ixr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Avoid recomputation of channel ID,FAB-16372,41939,41607,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,21/Aug/19 10:34 PM,22/Aug/19 2:20 AM,28/Oct/23 3:09 AM,22/Aug/19 2:20 AM,,,,,,,,,,,,,,,0,,,,,The channel ID is recomputed several times despite the fact that the caller always seems to know it already. This fab tracks the work that reduces the number of computation of the channel ID and reuses the results determined upstream,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xrf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consenter for channel is exiting,FAB-16373,41941,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,guptasndp10,guptasndp10,21/Aug/19 11:14 PM,23/Aug/19 1:39 AM,28/Oct/23 3:09 AM,23/Aug/19 1:39 AM,v1.4.2,,,,,,,,,fabric-orderer,,,,,0,fabric-orderer,,,,"I have setup fabric-network with 1.4.2 just 2 days back. Network has 2 orgs with 3 peers in each org, 3 zookeepers, 4 kafka brokers and 4 orderers. we created 4 channels out of which 3 are dedicated channels(org1-1 channel, org2- 2 channels) and one joint channel between org1 and org2. Everything worked fine till today morning. All of a sudden, when we pushed transactions to 2 dedicated channels one from each org, we found that transaction didn't get stored in org1 and org2 peers ledger while all other channels are still working fine. I am not able to reproduce this issue. When i checked one of the orderer node logs, I found below logs for one of the dedicated channel

{code}
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processTimeToCut -> DEBU 989 [channel: fatico-dedicated] It's a time-to-cut message for block [15]
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processTimeToCut -> DEBU 98a [channel: fatico-dedicated] Ignoring stale time-to-cut-message for block [15]
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processMessagesToBlocks -> DEBU 98b [channel: fatico-dedicated] Successfully unmarshalled consumed message, offset is 64. Inspecting type...
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processTimeToCut -> DEBU 98c [channel: fatico-dedicated] It's a time-to-cut message for block [18]
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processMessagesToBlocks -> WARN 98d [channel: fatico-dedicated] got larger time-to-cut message (18) than allowed/expected (16) - this might indicate a bug
2019-08-21 09:17:28.019 UTC [orderer.consensus.kafka] processMessagesToBlocks -> ERRO 98e [channel: fatico-dedicated] Consenter for channel exiting
{code}

Please find attached all of the orderer nodes logs.",,guptasndp10,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Aug/19 11:10 PM;guptasndp10;orderer1-orderer.log;https://jira.hyperledger.org/secure/attachment/17710/orderer1-orderer.log","21/Aug/19 11:11 PM;guptasndp10;orderer2-orderer.log;https://jira.hyperledger.org/secure/attachment/17713/orderer2-orderer.log","21/Aug/19 11:11 PM;guptasndp10;orderer3-orderer.log;https://jira.hyperledger.org/secure/attachment/17712/orderer3-orderer.log","21/Aug/19 11:11 PM;guptasndp10;orderer4-orderer.log;https://jira.hyperledger.org/secure/attachment/17711/orderer4-orderer.log",,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xrv:",,,,Unset,Unset,,Not able to reproduce this issue,,Unset,,,,,,Unset,,Unset,,(Please add usage information),guptasndp10,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Aug/19 1:38 AM;jyellick;The only time I have ever witnessed this message, is when there has been data loss in the Kafka brokers.  Most often, because the Kafka brokers are all being executed on a single VM or other host which can cause them to die concurrently.

Fabric is much more tolerant of ungraceful cluster exits than Kafka.  Because Kafka brokers do not call fsync, but Orderers do, it's possible that in the right crash conditions that some orderers get ahead of the Kafka brokers.  In this case, any orderer which is lagging behind will encounter the gap of missing data in the broker logs, and will report this message.

This would not be a bug, because Kafka is working as designed, and it's important when deploying Kafka that some in-sync replica is always alive.  If all Kafka brokers must be stopped, then they need to be shut-down gracefully, after the orderers have been shut down so as to prevent new traffic from being brought onto them.

The only real remedy for this situation is to pick an orderer as the source of truth for the ledger, copy its ledger, and use this ledger to recover your failed nodes and when bootstrapping new orderer nodes.  Because there has been data loss in Kafka, there is no way to bootstrap a new orderer purely from Kafka.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Github ID for Jonathan Levi (HACERA) is now invalid,FAB-16374,41944,,Bug,In Progress,FAB,Fabric,software,denyeart,,,Medium,,JonathanLevi,ryjones,ryjones,22/Aug/19 1:08 AM,21/Nov/19 4:44 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"The file:

https://github.com/hyperledger/fabric/blob/master/MAINTAINERS.md

points to a github ID for Jonathan Levi which is invalid.",,denyeart,JonathanLevi,jyellick,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xsj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,JonathanLevi,jyellick,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 1:08 AM;ryjones;[~JonathanLevi] probably you should update this?;;;","24/Sep/19 5:17 AM;jyellick;[~JonathanLevi] I'm going to go ahead and propose a change which removes your github ID.  When you want to add it back, feel free.;;;","24/Sep/19 5:29 AM;JonathanLevi;Thanks Jason, we have upgraded our githubs to GH Enterprise. We can simply use one of my other accounts, such as:

https://github.com/JonathanLevi;;;","25/Sep/19 1:59 AM;jyellick;Hey [~JonathanLevi] can you go ahead and submit the CR changing your github ID? For posterity it will be much more clear that the change has your consent if you originate it.;;;","25/Sep/19 2:01 AM;JonathanLevi;Sure thing. Will do it tomorrow (Tel-Aviv time), thanks.;;;","08/Oct/19 9:07 PM;denyeart;[~JonathanLevi] Is it tomorrow yet?;;;","23/Oct/19 2:43 AM;ryjones;[~denyeart] [~jyellick] could we either fix this, or remove [~JonathanLevi] and re-add him later?;;;","23/Oct/19 3:09 AM;JonathanLevi;[~ryjones] sure. I will actually use ""hacera-jonathan"" on GitHub. It had the other history. I can push it myself rn. Sorry I dropped this.;;;","30/Oct/19 5:47 AM;ryjones;[~JonathanLevi] any update;;;","21/Nov/19 4:44 AM;wlahti;[~JonathanLevi] Just a friendly reminder for the month. :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Fix docker for fabric run time images in launcher,FAB-16375,41945,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,22/Aug/19 1:09 AM,24/Oct/19 7:08 AM,28/Oct/23 3:09 AM,24/Oct/19 7:08 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Fix docker for fabric run time images in launcher,,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16378,,,,,FAB-16378,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xsr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"22/Aug/19 5:38 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33093/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Admin OU support: When Admin OU is enabled, admins should be identified by either OU or admincerts directory",FAB-16376,41948,39710,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,denyeart,denyeart,22/Aug/19 2:03 AM,03/Apr/21 8:28 AM,28/Oct/23 3:09 AM,03/Dec/19 1:40 AM,,,,,,v1.4.3,v2.0.0,,,,,,,,1,,,,,"With the initial implementation of admin OU support, once it is enabled ONLY certificates having the OU will be identified as admins (admincerts directory will be ignored).

It would be better to identify admins based on meeting EITHER criteria:
- admin OU
- admincerts directory",,angelo.decaro,denyeart,hakan.eryargi,j4ys0n,nnao,siddjain,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xtf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,hakan.eryargi,j4ys0n,nnao,siddjain,ymlbright,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/19 2:59 PM;angelo.decaro;[~denyeart], the current implementation supports both. In particular, the certificates in the admincerts folder are required to either carry the ClientOU or the AdminOU to be considered valid. Notice that, for MSP version < 1.4.3, it was already enforced that the certificates in admincerts folder had to carry the ClientOU identifier, in the case the Node OU classification was enabled.;;;","23/Aug/19 3:14 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/33155/ release-1.4 merged;;;","29/Aug/19 10:22 PM;denyeart;Need CR for master still.;;;","16/Sep/19 3:58 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/fabric/+/33527/ - master;;;","23/Sep/19 11:30 PM;hakan.eryargi;With this behavior when _EnableNodeOUs=true_ in _crypto-config.yaml_,  *peer's admincerts* are not copied either and this makes created crypto material unusable by peer.  Peer crashes with the below error. Is this intended? If  so, what is the correct configuration in this case?

 
{code:java}
2019-09-23 14:22:01.504 UTC [msp] getPemMaterialFromDir -> WARN 001 Failed reading file /etc/hyperledger/fabric/msp/admincerts/cert.pem: no pem content for file /etc/hyperledger/fabric/msp/admincerts/cert.pem
2019-09-23 14:22:01.505 UTC [main] InitCmd -> ERRO 002 Cannot run peer because error when setting up MSP of type bccsp from directory /etc/hyperledger/fabric/msp: administrators must be declared when no admin ou classification is set{code};;;","26/Sep/19 3:18 PM;angelo.decaro;Hi [~hakan.eryargi], the error seems to point to the fact that the MSP configuration does have EnableNodeOUs=true (or the AdminOU classification) cause the errors says that no admin ou classification is set, therefore the admin folder must be populated. 

Could you attach the content of the MSP folder that produces the failure, please?;;;","30/Sep/19 10:22 PM;hakan.eryargi;Hi [~angelo.decaro], below are the contents of relevant peer's MSP folder, as can bee seen contents of the _admincerts_ folder is missing

 
{code:java}
$ tree crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/
crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/
├── admincerts
├── cacerts
│   └── ca.aptalkarga.tr-cert.pem
├── config.yaml
├── keystore
│   └── 4e1cac1894b7a44360e4fe956fa8129e389bbea865f2fe57ae88df043de03093_sk
├── signcerts
│   └── peer0.aptalkarga.tr-cert.pem
└── tlscacerts
 └── tlsca.aptalkarga.tr-cert.pem
5 directories, 5 files

{code}
 ;;;","02/Oct/19 3:12 PM;angelo.decaro;[~hakan.eryargi], which Fabric branch are you using?;;;","02/Oct/19 5:24 PM;hakan.eryargi;[~angelo.decaro] not branch but release.

This was working with *cryptogen* 1.4.1 and 1.4.2 but broken at 1.4.3 release.;;;","02/Oct/19 5:40 PM;angelo.decaro;alright, would it be possible to get the content of your configuration, please?;;;","02/Oct/19 5:43 PM;hakan.eryargi;you mean the contents of crypto-config.yaml? [here it is|[https://github.com/APGGroeiFabriek/PIVT/blob/master/fabric-kube/samples/simple/crypto-config.yaml]] and also pasted below:

 

 
{code:java}
# ---------------------------------------------------------------------------
# ""OrdererOrgs"" - Definition of organizations managing orderer nodes
# ---------------------------------------------------------------------------
OrdererOrgs:
 # ---------------------------------------------------------------------------
 # Orderer
 # ---------------------------------------------------------------------------
 - Name: Groeifabriek
 Domain: groeifabriek.nl
 Specs:
 - Hostname: orderer0
# ---------------------------------------------------------------------------
# ""PeerOrgs"" - Definition of organizations managing peer nodes
# ---------------------------------------------------------------------------
PeerOrgs:
 - Name: Karga
 Domain: aptalkarga.tr
 EnableNodeOUs: true
 Template:
 Count: 1
 Users:
 Count: 1
 
 - Name: Nevergreen
 Domain: nevergreen.nl
 EnableNodeOUs: true
 Template:
 Count: 1
 Users:
 Count: 1
- Name: Atlantis
 Domain: atlantis.com
 EnableNodeOUs: true
 Template:
 Count: 1
 Users:
 Count: 1
{code}
 ;;;","24/Oct/19 9:22 AM;siddjain;Also ran into the bug reported by [~hakan.eryargi]contents of the _admincerts_ folder is missing. It sucks! ;;;","24/Oct/19 6:07 PM;angelo.decaro;[~hakan.eryargi], if you use cryptogen shipped with 1.4.3, you have to enable NodeOUs everywhere, also at the ordering organisations. Could try that and see if it works. please? :);;;","24/Oct/19 6:16 PM;hakan.eryargi;[~angelo.decaro] a sample configuration is in the [above comment|#comment-64255].  _NodeOUs_ is enabled for peer organizations. It's peer organizations failing, not related to orderer organizations.;;;","24/Oct/19 6:33 PM;hakan.eryargi;I have created a [Jira ticket|FAB-16933] for this one, I guess it needs more visibility;;;","28/Oct/19 7:43 PM;denyeart;Merged in release-1.4 but not yet merged to master.

[~angelo.decaro] I'm a little confused by the Description... it sounds like the Jira intended to change behavior, but the CR is only a test. Can you clarify?;;;","29/Oct/19 6:05 PM;angelo.decaro;[~denyeart], cause, if I'm not wrong, when this Jira Item appeared we had already implemented that behaviour. So, the CR was to produce an integration test (that was missing) to show that the functionality was working as this Jira item also requested.;;;","03/Apr/21 8:28 AM;j4ys0n;Is there a solution to this? I'm currently stuck here and it's not clear what the solution is. thank you!;;;",,,,,,,,,,,,,,,,,,
Perform validation of channel ID,FAB-16377,41949,41607,Sub-task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,ales,ales,ales,22/Aug/19 2:33 AM,21/Nov/19 3:29 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,The channel header contains the channel ID - this field must be validated against acceptable chars/length,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xtn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Peer containers are ""exiting"" when use nexus 1.4.3-stable images",FAB-16378,41950,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,suryalnvs,rameshthoomu,rameshthoomu,22/Aug/19 2:51 AM,23/Aug/19 5:12 AM,28/Oct/23 3:09 AM,22/Aug/19 5:39 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"peer containers are exiting when use 1.4.3-stable images.

Surya observed that peer image tag is not replacing with nexus stable images. It's always taking hyperledger/fabric-peer image tag.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,FAB-16070,,,,,,FAB-16375,,,,,FAB-16375,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 5:38 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33093/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-master job: lifecycle.feature failed on test case FAB-13983,FAB-16379,41952,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,22/Aug/19 3:13 AM,29/Aug/19 4:37 AM,28/Oct/23 3:09 AM,29/Aug/19 4:37 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,,"The test case `FAB-13983: Test new chaincode lifecycle - Chaincode calling chaincode in diff chan` failed due to chaincode container is not started within the delay time of 30 sec's.

And this error was first observed on 19 and 20 August.
{code:java}
/And a user invokes on the channel ""channel1"" using chaincode named ""ex04"" with args [""init"",""Event"",""1""]                                                   # steps/endorser_impl.py:682
    And I wait up to ""30"" seconds for deploy to complete                                                                                                       # steps/basic_impl.py:30
      Assertion Failed: The expected chaincode container 84fabc72c3c011e99341fa163e22704b-peer0.org1.example.com-ex04-7c8acd05827b82480ac97965e34124329cb0e36a82f9ac15e59ea14ea3562182 is not running/ code placeholder
{code}
Whereas it ran successfully on the local machine
{code:java}
/ When each organization admin approves the ""ex04"" chaincode package on ""channel1"" with policy ""OR ('org1.example.com.member','org2.example.com.member')""    # steps/end    When each organization admin approves the ""ex04"" chaincode package on ""channel1"" with policy ""OR ('org1.example.com.member','org2.example.com.member')""    # steps/endorser_impl.py:1035 8.247s
    And an admin commits the chaincode package to the channel ""channel1""                                                                                       # steps/end    And an admin commits the chaincode package to the channel ""channel1""                                                                                       # steps/endorser_impl.py:1116 3.764s
    And I wait up to ""10"" seconds for the chaincode to be committed                                                                                            # steps/bas    And I wait up to ""10"" seconds for the chaincode to be committed                                                                                            # steps/basic_impl.py:100 1.593s
    And a user invokes on the channel ""channel1"" using chaincode named ""ex04"" with args [""init"",""Event"",""1""]                                                   # steps/end    And a user invokes on the channel ""channel1"" using chaincode named ""ex04"" with args [""init"",""Event"",""1""]                                                   # steps/endorser_impl.py:682 17.641s
    And I wait up to ""30"" seconds for deploy to complete                                                                                                       # steps/bas    And I wait up to ""30"" seconds for deploy to complete                                                                                                       # steps/basic_impl.py:30 5.061s
    When a user queries on the channel ""channel2"" using chaincode named ""ex02"" with args [""query"",""a""]                                                         # steps/end    When a user queries on the channel ""channel2"" using chaincode named ""ex02"" with args [""query"",""a""]                                                         # steps/endorser_impl.py:522 3.778s
    Then a user receives a success response of 1000                                                                                                            # steps/end    Then a user receives a success response of 1000                                                                                                            # steps/endorser_impl.py:1183 0.000s/ code placeholder
{code}
And this test case was covered in the IT in fabric, and the work is in progress for ref: see this Jira numbers FAB-15903.",,scottz,vijaypunugubati,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xu3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Aug/19 5:06 AM;scottz;Since it passes on my laptop, I think we can close this and write it off to the problems that we often see intermittently on LF VMs - timeouts while deploying / creating containers. [~wlahti] did you get your similar fabric IT test working? If so, then that would be further evidence that there is no problem with the fabric software.;;;","22/Aug/19 5:38 AM;wlahti;[~dongming] has a CR on gerrit for cc2cc across channels: [https://gerrit.hyperledger.org/r/c/fabric/+/32890];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Health check mechanisam to verify for the active containers in PTE,FAB-16381,41954,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,22/Aug/19 6:08 AM,24/Jan/20 4:38 AM,28/Oct/23 3:09 AM,24/Jan/20 4:38 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add a health check mechanism in PTE to check the active status of the containers.
Existing PTE long run tests, keeps sending traffic to the end points irrespective of the status of the containers. Take an example of 12 hr long run test,

After 1-2 hrs if the containers are stopped/crashed, then the PTE keeps sending the transactions till 12 hrs. This approach consumes system resources unnecessarily till the completion of the test. Instead of that, if we implement a mechanism of checking the health of the docker containers frequently while the test is running.",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000e4:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/19 5:51 AM;rameshthoomu;This is what I am thinking to implement this task in PTE.

While the PTE is client is sending transactions to the network, we have to launch an another thread to perform health check (Check whether the containers are up and running or not with for every 15 to 30 mins interval). This thread has to stop the running PTE client.

The above step avoids sending false transactions to the network even though the network is not ready to accept the transactions. This avoids unnecessary billing when running network on a cloud instances where every sec is important from billing POV.

cc [~dongming] [~scottz];;;","24/Jan/20 4:38 AM;scottz;Implementation would be complicated, depending on usecase. Cost savings not significant.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want to consume the go protobuf bindings that live in fabric-protos-go",FAB-16382,41955,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,22/Aug/19 6:59 AM,11/Sep/19 4:23 AM,28/Oct/23 3:09 AM,11/Sep/19 4:23 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,,,sykesm,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15946,,,FAB-16490,FAB-16545,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rtk",,,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,troyronda,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 4:57 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33279 Move to hyperledger/fabric-protos-go;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/transientstore,FAB-16383,41958,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,22/Aug/19 10:33 AM,20/Sep/19 9:02 PM,28/Oct/23 3:09 AM,20/Sep/19 9:02 PM,,,,,,,,,,,,,,,0,,,,,"core/transientstore/store.go:412:2: this value of filteredTxPvtRWSet is never used (SA4006)
core/transientstore/store_test.go:281:2: should use for {} instead of for true {} (S1006)
core/transientstore/store_test.go:310:3: should merge variable declaration with assignment on next line (S1021)
core/transientstore/store_test.go:331:2: should use for {} instead of for true {} (S1006)
core/transientstore/store_test.go:359:3: should merge variable declaration with assignment on next line (S1021)
core/transientstore/store_test.go:445:2: should use for {} instead of for true {} (S1006)
core/transientstore/store_test.go:478:2: this value of actualMinTransientBlkHt is never used (SA4006)",,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xv7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/ledger/ledgermgmt,FAB-16384,41959,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,22/Aug/19 10:34 AM,27/Aug/19 12:02 AM,28/Oct/23 3:09 AM,27/Aug/19 12:02 AM,,,,,,,,,,,,,,,0,,,,,"core/ledger/ledgermgmt/ledger_mgmt.go:109:2: this value of l is never used (SA4006)
core/ledger/ledgermgmt/ledger_mgmt_test.go:59:2: this value of l is never used (SA4006)
core/ledger/ledgermgmt/ledger_mgmt_test.go:62:2: this value of l is never used (SA4006)
core/ledger/ledgermgmt/ledger_mgmt_test.go:69:2: this value of l is never used (SA4006)",,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xvf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/ledger/ledgerstorage,FAB-16385,41960,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,22/Aug/19 10:35 AM,20/Sep/19 12:10 AM,28/Oct/23 3:09 AM,20/Sep/19 12:10 AM,,,,,,,,,,,,,,,0,,,,,core/ledger/ledgerstorage/store_test.go:160:9: this value of err is never used (SA4006),,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xvn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Check Historydb format,FAB-16386,41961,39960,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,22/Aug/19 1:17 PM,04/Sep/19 5:08 AM,28/Oct/23 3:09 AM,04/Sep/19 5:08 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00xvv:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-1.1,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/19 3:14 AM;manish-sethi;For generating historydb from release1.1 code - https://gerrit.hyperledger.org/r/#/c/fabric/+/33194/
Format check code in master - https://gerrit.hyperledger.org/r/#/c/fabric/+/33111/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update log message for CheckCommitReadiness,FAB-16389,41982,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,22/Aug/19 11:49 PM,26/Aug/19 6:17 AM,28/Oct/23 3:09 AM,26/Aug/19 6:17 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Forgot to update the log message after changing the function name from SimulateCommitChaincodeDefinition to CheckCommitReadiness:
{code:java}
logger.Infof(""successfully simulated committing chaincode definition %s, name '%s' on channel '%s'"", cd, ccname, chname) logger.Infof(""successfully simulated committing chaincode definition %s, name '%s' on channel '%s'"", cd, ccname, chname) {code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y0b:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rejected transactions update off-chain database,FAB-16390,41984,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,varunagarwal,varunagarwal,varunagarwal,22/Aug/19 11:53 PM,26/Aug/19 10:14 PM,28/Oct/23 3:09 AM,26/Aug/19 7:45 PM,,,,,,v1.4.3,v2.0.0,,,fabric-samples,,,,,0,help-wanted,quality,,,"Transactions that are in a block may still be rejected during commit phase. In this case the `block.metadata.metadata` stores an array with integer values for each transaction. Only if the value === 0 does the rwset update world state.

In current implementation at [https://github.com/hyperledger/fabric-samples/blob/release-1.4/off_chain_data/blockProcessing.js#L38] there should be a check for transaction status. When an MVCC_CONFLICT or PHANTON_READ_CONFLICT is duplicated using high-throughput transactions the off-chain data is still updated.

it is a simple fix and I have it at [https://github.com/varunagarwal315/fabric-samples/commit/2da6c52e9f22b26e4ad2a8cef34e79bbc1fd9e40] . Please can someone verify and guide me how to commit this?",,denyeart,varunagarwal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y0r:",,,,Unset,Unset,,"1) Run the code as outlined in the ReadME
2) Sent multiple transactions in quick succession similar to that in `high-throughput` example
3) I replaced https://github.com/hyperledger/fabric-samples/blob/release-1.4/off_chain_data/transferMarble.js#L58 with hardcoded values and transfered the same marble between multiple owners
4) All TX go to block but due to MVCC_CONFLICT only 1 updates the world state. The off-chain database has a different owner when compared to blockchain",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,varunagarwal,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/19 4:37 AM;denyeart;[~varunagarwal] The change looks important and correct. 

You can contribute the change to Gerrit, see the contribution instructions here: https://hyperledger-fabric.readthedocs.io/en/latest/CONTRIBUTING.html

We'd like to get this change into release-1.4 branch as soon as possible, so if you need help maybe the author [~chris.elder] could help to push it quickly.

I also see some other updates that could be made in this code location.

Right above it, 'Block timestamp is not defined' should really be 'Transaction timestamp is not defined'.

Right below it, the 'break' should probably be 'continue'.  wdyt [~chris.elder] 
;;;","24/Aug/19 5:15 PM;varunagarwal;Thank you [~denyeart] and [~chris.elder]. Just going through the tutorial and should push it this weekend. In the code after a transaction is found valid, it iterates through all the `actions` followed by the `rwsets` in each one. It is my understanding that for a transaction all the `actions` should have the same `rwsets` for the endorsement to go through. In this [sample block explorer|https://github.com/hyperledger/blockchain-explorer/blob/master/app/platform/fabric/sync/SyncService.js#L519-#L534] only the `action[0]` is taken for capturing the new `rwset`. Should I make a similar change here?;;;","25/Aug/19 1:14 AM;denyeart;[~varunagarwal] Great news. Please push a fix to fabric-samples release-1.4 branch first since we'd like this to go into the v1.4.3 tagged release early in the week, then we can show you how to cherry pick to master branch.

To work a CR in release-1.4 branch, here's what I do:

{code:java}
git checkout -b release-1.4 origin/release-1.4
git checkout -b my_local_branch
<make code changes>
git add <file changed>
git commit -s
<edit commit message>
git push origin HEAD:refs/for/release-1.4
{code}

Concerning your question - In current Fabric every transaction will have one and only one action, therefore you can use action[0], or to make it future proof if Fabric adds support for multiple actions in a transaction in the future, you could iterate through the actions, knowing that for now there will only be one action in the loop.

Note, even if there are N endorsements for a transaction, there will only be one action with one rwset in the transaction (the client picks one of the endorser's rwsets to include). The transaction will include all N endorser signatures.  Then at validation/commit time, each Fabric peer ensures that the N signatures match the data, and that the number of endorsers meets the endorsement policy for the chaincode.

You can ping me (dave.enyeart) on rocketchat if you have any doubts this weekend.;;;","25/Aug/19 6:03 PM;varunagarwal;Hi [~denyeart] , I followed your instructions and made the changes. The commit is at [https://gerrit.hyperledger.org/r/c/fabric-samples/+/33175] . Please let me know if I need to do anything else.

Thanks.;;;","25/Aug/19 11:35 PM;denyeart;[~varunagarwal]
Perfect, I've approved and merged into release-1.4. You can now click the Cherry Pick button in Gerrit and type 'master' to get it over to master branch as well.;;;","26/Aug/19 7:45 PM;denyeart;Merged in master as well: https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33176/;;;","26/Aug/19 9:40 PM;varunagarwal;[~denyeart] Hey just got a message saying CI test failed? Did I do something wrong or change some files I wasn't supposed to? I don't understand why manual verification was needed.

The link for the jenkins logs is not loading, giving me a 404 error.;;;","26/Aug/19 10:14 PM;denyeart;[~varunagarwal] Don't worry... it hit a problem unrelated to your change, we are looking into it. 
This issue is Done!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Flatten and extend tx.Envelope,FAB-16391,41985,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ales,ales,22/Aug/19 11:58 PM,26/Aug/19 11:50 PM,28/Oct/23 3:09 AM,26/Aug/19 11:50 PM,,,,,,,,,,,,,,,0,,,,,See discussion in https://gerrit.hyperledger.org/r/#/c/fabric/+/32976/4/core/tx/processor_factory.go@94,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|i00y0z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix cert names with config.yaml for k8s in launcher ,FAB-16392,41986,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,23/Aug/19 2:48 AM,28/Aug/19 5:42 AM,28/Oct/23 3:09 AM,27/Aug/19 9:37 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Fix cert names with config.yaml for k8s in launcher,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16394,,,,,,,,FAB-16394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00y17:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 9:37 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33141/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chore: Cleanup endorser logging and add logging tests,FAB-16393,41987,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tsharris,jyellick,jyellick,23/Aug/19 3:35 AM,14/Jan/20 1:32 AM,28/Oct/23 3:09 AM,14/Jan/20 1:32 AM,,,,,,,,,,,,,,,0,ipm,,,,"The endorser.go file recently underwent some refactoring.  The refactor thread however didn't have time to address the log statements.  There are lots of 'entry/exit' style logs and confusing conventions like 'chaincode-name/channel'.

Probably, we should be creating a logger for a request that has the request context like address,channel, chaincode, etc. at the beginning and wiring that through.  We should also evaluate whether all of this logging is necessary.",,jyellick,tsharris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzzzi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,tsharris,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/19 5:37 AM;tsharris;[https://github.com/hyperledger/fabric/pull/320];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect cert file names,FAB-16394,41988,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,suryalnvs,rameshthoomu,rameshthoomu,23/Aug/19 3:43 AM,28/Aug/19 5:42 AM,28/Oct/23 3:09 AM,28/Aug/19 5:42 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Observed below logs while trying `peer channel list` command

```
root@peer0-org1-0:/# peer channel list
2019-08-22 17:55:15.994 UTC [msp] loadCertificateAt -> INFO 001 Failed loading ClientOU certificate at [/etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem]: [could not read file /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: open /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: no such file or directory]
2019-08-22 17:55:15.995 UTC [msp] loadCertificateAt -> INFO 002 Failed loading PeerOU certificate at [/etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem]: [could not read file /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: open /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: no such file or directory]
2019-08-22 17:55:15.995 UTC [msp] loadCertificateAt -> INFO 003 Failed loading AdminOU certificate at [/etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem]: [could not read file /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: open /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: no such file or directory]
2019-08-22 17:55:15.995 UTC [msp] loadCertificateAt -> INFO 004 Failed loading OrdererOU certificate at [/etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem]: [could not read file /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: open /etc/hyperledger/fabric/artifacts/msp/cacerts/ca.org1-cert.pem: no such file or directory]
```

",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16392,,FAB-16392,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y1n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update launcher script to ignore pulling baseos and nodeenv images from nexus when fabric code base is 1.4,FAB-16395,41989,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,rameshthoomu,rameshthoomu,23/Aug/19 4:12 AM,21/Nov/19 5:34 AM,28/Oct/23 3:09 AM,21/Nov/19 5:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"""baseos"" and ""nodeenv"" images are not available in 1.4 code base, so when a user tries to instantiate test using the following code, it will fail to download above said images. Update this file to check for 1.4 code base.

https://github.com/hyperledger/fabric-test/blob/master/tools/operator/templates/k8s/fabric-k8s-pods.yaml#L158-L161",,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16672,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r63",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/19 5:33 AM;suryalnvs;We cannot launch 1.4 network with master because of nodeenv and javaenv images. In order to launch 1.4 network, user should checkout to 1.4 branch which has versions updated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-release-1.4 job: Failed to create channel on network launch,FAB-16396,41990,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,vijaypunugubati,vijaypunugubati,23/Aug/19 4:55 AM,23/Aug/19 10:28 PM,28/Oct/23 3:09 AM,23/Aug/19 10:28 PM,v1.4.2,,,,,v1.4.3,,,,fabric-quality,,,,,0,ci-failure,,,,"fabric-test-daily-pte-release-1.4 job: Failed to create channel on network launch.

First build failure was observed on 17 August and the failure is consistent.



*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
/[1B2019-08-17T00:39:09.194Z - [31merror[39m: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930 2019-08-17T00:39:09.195Z - [31merror[39m: [Orderer.js]: Orderer grpcs://localhost:5005 has an error Error: Failed to connect before the deadline URL:grpcs://localhost:5005 
02:55:36.930 [31merror[39m: [PTE 0 main]: Failed to create/update the channel (testorgschannel1) 
02:55:36.930 [31merror[39m: [PTE 0 main]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930     at checkState (/w/workspace/fabric-test-daily-pte-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:835:16)
02:55:36.930 2019-08-17T00:40:13.262Z - [31merror[39m: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930 [31merror[39m: [PTE 0 main]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930     at checkState (/w/workspace/fabric-test-daily-pte-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:835:16)
02:55:36.930 2019-08-17T00:40:13.263Z - [31merror[39m: [Remote.js]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930 [31merror[39m: [PTE 0 main]: Error: Failed to connect before the deadline URL:grpcs://localhost:5005
02:55:36.930     at checkState (/w/workspace/fabric-test-daily-pte-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client.js:835:16)
02:55:36.930 2019-08-17T00:43:15.518Z - [31merror[39m: [Channel.js]: Error: 2 UNKNOWN: access denied: channel [testorgschannel1] creator org [PeerOrg1]
02:55:36.930 [31merror[39m: [PTE 0 main]: [chaincodeInstantiate:Nid=0] Failed to initialize channel[testorgschannel1] due to error:  Error: 2 UNKNOWN: access denied: channel [testorgschannel1] creator org [PeerOrg1]/ code placeholder
{code}
*Build Logs:* 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.4-x86_64/198/PTE_Test_Logs/FAB-3832-4i_0817004833.log.gz]",,rameshthoomu,scottz,suryalnvs,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y23:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,suryalnvs,vijaypunugubati,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Aug/19 5:11 AM;scottz;Looks like some NodeOU code was propped to 1.4 which is leading to failures. Tests use Enabled NodeOUs for the peers already. The tests do not use 1.4.3 channel capabilities yet. Tests regen the cryptoconfig, which means the admin certs will be missing, which leads to failure to create channels.

We can use this bug to update tests to turn on capabilities for v1.4.3 so the code will find the adminOUs certs in their new location for the peers. And we can enable NodeOUs for the orderers too, to use the full feature.;;;","23/Aug/19 5:17 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33140/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a linting step to check for spaces in file names,FAB-16397,41993,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tsharris,btl5037,btl5037,23/Aug/19 11:59 AM,26/Nov/19 11:00 PM,28/Oct/23 3:09 AM,26/Nov/19 11:00 PM,,,,,,,,,,,,,,,0,help-wanted,ipm,,,Having spaces in file names breaks Makes target pattern matching. We should add a step in golinter to make sure no filenames have spaces in them when they are uploaded,,btl5037,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzzr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/19 5:18 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34406;;;","16/Nov/19 5:44 AM;sykesm;I see this task says ""golinter"" but it should really be a script executed by {{make basic-checks}} dependencies.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Explain how to update msp admin certificates,FAB-16398,42001,,Task,To Do,FAB,Fabric,software,denyeart,,,Medium,,pandrejko,Ratnakar,Ratnakar,23/Aug/19 10:42 PM,23/Aug/19 11:54 PM,28/Oct/23 3:09 AM,,Not a Bug,,,,,Not a Bug,,,,fabric-docs,,,,,0,,,,,"*Summary*

There is good documentation out there about [channel configuration updates|https://hyperledger-fabric.readthedocs.io/en/latest/config_update.html]  , and the process is very common for most of the cases. However it would be nice to explain with a note about cases like updating org admin certs, where the updated proto must be signed with the old admin certs, as channel has information about the old org admin signed certs",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y4b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong capability name in error message,FAB-16399,42002,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/Aug/19 11:08 PM,24/Aug/19 8:40 PM,28/Oct/23 3:09 AM,24/Aug/19 8:40 PM,,,,,,v1.4.3,v2.0.0,,,,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y4j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Capabilities in configtx.yaml are not current for v2.0,FAB-16400,42003,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,23/Aug/19 11:19 PM,24/Aug/19 5:31 AM,28/Oct/23 3:09 AM,24/Aug/19 5:31 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y4r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a consumer of fabric samples, I expect go chaincode to use fabric-protos-go and fabric-chaincode-go",FAB-16401,42004,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,24/Aug/19 2:09 AM,24/Aug/19 2:59 AM,28/Oct/23 3:09 AM,24/Aug/19 2:59 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,ipm-planned,,,Update fabric-samples.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mti:",,,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Aug/19 2:10 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric-samples/+/33164;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabcar only needs two endorsements,FAB-16402,42007,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,24/Aug/19 6:54 AM,27/Aug/19 10:56 PM,28/Oct/23 3:09 AM,27/Aug/19 10:56 PM,,,,,,v1.4.4,,,,,,,,,0,,,,,Fabcar test currently invokes on 4 peers. Only need endorsement on 2 peers. This will help the CLI invokes to finish sooner.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y5f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Aug/19 7:46 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33172/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChainID to ChannelID - common/ledger,FAB-16403,42012,17833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,26/Aug/19 11:20 AM,03/Sep/19 6:35 PM,28/Oct/23 3:09 AM,03/Sep/19 6:35 PM,,,,,,,,,,,,,,,0,,,,,,,iamksseo2,,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y6j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow Fabric components to listen on ephemeral ports,FAB-16404,42013,,Task,Backlog,FAB,Fabric,software,denyeart,,,Low,,,guoger,guoger,26/Aug/19 12:19 PM,25/Nov/19 11:58 PM,28/Oct/23 3:09 AM,,,,,,,Future,,,,,,,,,0,help-wanted,ipm,,,"By allowing port configuration to be zero, conflicts can be avoided if we don't care about actual port numbers, i.e. {{orderer/common/server/etcdraft_test.go}}",,guoger,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16351,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zwi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/19 1:15 AM;jyellick;This should apply to the peer, orderer, and configtxlator.  When 0 is specified as the listen port, the process should use the standard go calls to bind to an ephemeral port and print this to the log.

The implementor may choose to break this out into multiple tasks depending on the complexity of wiring the config through the assorted processes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Using Dev Mode Not working in 1.4.2,FAB-16405,42014,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,pankajcheema,pankajcheema,26/Aug/19 2:54 PM,27/Aug/19 11:15 PM,28/Oct/23 3:09 AM,27/Aug/19 12:16 AM,,,,,,,,,,,,,,,0,Documentation,,,,"Hi All ,

Dev mode is not working in 1.4.2 . I tested the same with 4 fresh Linux installation but no luck . I am getting this error
{code:java}
2019-08-26 11:01:05.419 IST [orderer.common.server] Start -> PANI 006 Failed validating bootstrap block: initializing channelconfig failed: could not create channel Orderer sub-group config: Orderer Org SampleOrg cannot contain endpoints value until V2_0+ capabilities have been enabled
 panic: Failed validating bootstrap block: initializing channelconfig failed: could not create channel Orderer sub-group config: Orderer Org SampleOrg cannot contain endpoints value until V2_0+ capabilities have been enabled{code}
when running the command 
{code:java}
ORDERER_GENERAL_GENESISPROFILE=SampleDevModeSolo orderer{code}
 ",,akshay.sood,jyellick,knagware9,pankajcheema,sahilgoel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y6z:",,,,Unset,Unset,,"1. Fresh Linux Machine 
2. Setup and pull the binary required for Fabric 1.4.2
3. run this command go get -u github.com/hyperledger/fabric/core/chaincode/shim
it will pull the source code for fabric
4. Go to  go/src/github.com/hyperledger/fabric/sampleconfig/ directory
5. run the command  export FABRIC_CFG_PATH=$PWD
6. now run the command  ORDERER_GENERAL_GENESISPROFILE=SampleDevModeSolo orderer
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),akshay.sood,jyellick,knagware9,pankajcheema,sahilgoel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/19 12:16 AM;jyellick;Just checked out and built v1.4.2 with SampleDevModeSolo and there is no crash at startup.

Please ensure you have deleted any existing ledger, usually under /var/hyperledger/production

This error indicates that you used a configtx.yaml that did not have V1_4_2 set in the channel capabilities, but that orderer endpoints were specified at the org level.  The stock v1.4.2 configtx.yaml has both the capability and endpoints specified.;;;","27/Aug/19 7:37 PM;pankajcheema;This is the code in my configtx.yaml  [~jyellick]

 
{code:java}
# Copyright IBM Corp. All Rights Reserved.
 #
 # SPDX-License-Identifier: Apache-2.0
 #
—
 ################################################################################
 #
 # ORGANIZATIONS
 #
 # This section defines the organizational identities that can be referenced
 # in the configuration profiles.
 #
 ################################################################################
 Organizations:
# SampleOrg defines an MSP using the sampleconfig. It should never be used
 # in production but may be used as a template for other definitions.
  - &SampleOrg
 # Name is the key by which this org will be referenced in channel
 # configuration transactions.
 # Name can include alphanumeric characters as well as dots and dashes.
 Name: SampleOrg
# ID is the key by which this org's MSP definition will be referenced.
 # ID can include alphanumeric characters as well as dots and dashes.
 ID: SampleOrg
# MSPDir is the filesystem path which contains the MSP configuration.
 MSPDir: msp
# Policies defines the set of policies at this level of the config tree
 # For organization policies, their canonical path is usually
 # /Channel/<Application|Orderer>/<OrgName>/<PolicyName>
 Policies: &SampleOrgPolicies
 Readers:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 # If your MSP is configured with the new NodeOUs, you might
 # want to use a more specific rule like the following:
 # Rule: ""OR('SampleOrg.admin', 'SampleOrg.peer', 'SampleOrg.client')""
 Writers:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 # If your MSP is configured with the new NodeOUs, you might
 # want to use a more specific rule like the following:
 # Rule: ""OR('SampleOrg.admin', 'SampleOrg.client')""
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.admin')""
# OrdererEndpoints is a list of all orderers this org runs which clients
 # and peers may to connect to to push transactions and receive blocks respectively.
 OrdererEndpoints:
  - ""127.0.0.1:7050""
# AnchorPeers defines the location of peers which can be used for
 # cross-org gossip communication. Note, this value is only encoded in
 # the genesis block in the Application section context.
 AnchorPeers:
  - Host: 127.0.0.1
 Port: 7051
################################################################################
 #
 # CAPABILITIES
 #
 # This section defines the capabilities of fabric network. This is a new
 # concept as of v1.1.0 and should not be utilized in mixed networks with
 # v1.0.x peers and orderers. Capabilities define features which must be
 # present in a fabric binary for that binary to safely participate in the
 # fabric network. For instance, if a new MSP type is added, newer binaries
 # might recognize and validate the signatures from this type, while older
 # binaries without this support would be unable to validate those
 # transactions. This could lead to different versions of the fabric binaries
 # having different world states. Instead, defining a capability for a channel
 # informs those binaries without this capability that they must cease
 # processing transactions until they have been upgraded. For v1.0.x if any
 # capabilities are defined (including a map with all capabilities turned off)
 # then the v1.0.x peer will deliberately crash.
 #
 ################################################################################
 Capabilities:
 # Channel capabilities apply to both the orderers and the peers and must be
 # supported by both.
 # Set the value of the capability to true to require it.
 Channel: &ChannelCapabilities
 # V1.4.3 for Channel is a catchall flag for behavior which has been
 # determined to be desired for all orderers and peers running at the v1.4.3
 # level, but which would be incompatible with orderers and peers from
 # prior releases.
 # Prior to enabling V1.4.3 channel capabilities, ensure that all
 # orderers and peers on a channel are at v1.4.3 or later.
 V1_4_3: true
 # V1.3 for Channel enables the new non-backwards compatible
 # features and fixes of fabric v1.3
 V1_3: false
 # V1.1 for Channel enables the new non-backwards compatible
 # features and fixes of fabric v1.1
 V1_1: false
# Orderer capabilities apply only to the orderers, and may be safely
 # used with prior release peers.
 # Set the value of the capability to true to require it.
 Orderer: &OrdererCapabilities
 # V1.4.2 for Orderer is a catchall flag for behavior which has been
 # determined to be desired for all orderers running at the v1.4.2
 # level, but which would be incompatible with orderers from prior releases.
 # Prior to enabling V1.4.2 orderer capabilities, ensure that all
 # orderers on a channel are at v1.4.2 or later.
 V1_4_2: true
 # V1.1 for Orderer enables the new non-backwards compatible
 # features and fixes of fabric v1.1
 V1_1: false
# Application capabilities apply only to the peer network, and may be safely
 # used with prior release orderers.
 # Set the value of the capability to true to require it.
 Application: &ApplicationCapabilities
 # V1.4.2 for Application enables the new non-backwards compatible
 # features and fixes of fabric v1.4.2
 V1_4_2: true
 # V1.3 for Application enables the new non-backwards compatible
 # features and fixes of fabric v1.3.
 V1_3: false
 # V1.2 for Application enables the new non-backwards compatible
 # features and fixes of fabric v1.2 (note, this need not be set if
 # later version capabilities are set)
 V1_2: false
 # V1.1 for Application enables the new non-backwards compatible
 # features and fixes of fabric v1.1 (note, this need not be set if
 # later version capabilities are set).
 V1_1: false
################################################################################
 #
 # APPLICATION
 #
 # This section defines the values to encode into a config transaction or
 # genesis block for application-related parameters.
 #
 ################################################################################
 Application: &ApplicationDefaults
 ACLs: &ACLsDefault
 # This section provides defaults for policies for various resources
 # in the system. These ""resources"" could be functions on system chaincodes
 # (e.g., ""GetBlockByNumber"" on the ""qscc"" system chaincode) or other resources
 # (e.g.,who can receive Block events). This section does NOT specify the resource's
 # definition or API, but just the ACL policy for it.
 #
 # User's can override these defaults with their own policy mapping by defining the
 # mapping under ACLs in their channel definition
#--Lifecycle System Chaincode (lscc) function to policy mapping for access control--#
# ACL policy for lscc's ""getid"" function
 lscc/ChaincodeExists: /Channel/Application/Readers
# ACL policy for lscc's ""getdepspec"" function
 lscc/GetDeploymentSpec: /Channel/Application/Readers
# ACL policy for lscc's ""getccdata"" function
 lscc/GetChaincodeData: /Channel/Application/Readers
# ACL Policy for lscc's ""getchaincodes"" function
 lscc/GetInstantiatedChaincodes: /Channel/Application/Readers
#--Query System Chaincode (qscc) function to policy mapping for access control--#
# ACL policy for qscc's ""GetChainInfo"" function
 qscc/GetChainInfo: /Channel/Application/Readers
# ACL policy for qscc's ""GetBlockByNumber"" function
 qscc/GetBlockByNumber: /Channel/Application/Readers
# ACL policy for qscc's ""GetBlockByHash"" function
 qscc/GetBlockByHash: /Channel/Application/Readers
# ACL policy for qscc's ""GetTransactionByID"" function
 qscc/GetTransactionByID: /Channel/Application/Readers
# ACL policy for qscc's ""GetBlockByTxID"" function
 qscc/GetBlockByTxID: /Channel/Application/Readers
#--Configuration System Chaincode (cscc) function to policy mapping for access control--#
# ACL policy for cscc's ""GetConfigBlock"" function
 cscc/GetConfigBlock: /Channel/Application/Readers
# ACL policy for cscc's ""GetConfigTree"" function
 cscc/GetConfigTree: /Channel/Application/Readers
# ACL policy for cscc's ""SimulateConfigTreeUpdate"" function
 cscc/SimulateConfigTreeUpdate: /Channel/Application/Readers
#--Miscellanesous peer function to policy mapping for access control--#
# ACL policy for invoking chaincodes on peer
 peer/Propose: /Channel/Application/Writers
# ACL policy for chaincode to chaincode invocation
 peer/ChaincodeToChaincode: /Channel/Application/Readers
#--Events resource to policy mapping for access control###--#
# ACL policy for sending block events
 event/Block: /Channel/Application/Readers
# ACL policy for sending filtered block events
 event/FilteredBlock: /Channel/Application/Readers
# Organizations lists the orgs participating on the application side of the
 # network.
 Organizations:
# Policies defines the set of policies at this level of the config tree
 # For Application policies, their canonical path is
 # /Channel/Application/<PolicyName>
 Policies: &ApplicationDefaultPolicies
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""
# Capabilities describes the application level capabilities, see the
 # dedicated Capabilities section elsewhere in this file for a full
 # description
 Capabilities:
 <<: *ApplicationCapabilities
################################################################################
 #
 # ORDERER
 #
 # This section defines the values to encode into a config transaction or
 # genesis block for orderer related parameters.
 #
 ################################################################################
 Orderer: &OrdererDefaults
# Orderer Type: The orderer implementation to start.
 # Available types are ""solo"" and ""kafka"".
 OrdererType: solo
# Addresses used to be the list of orderer addresses that clients and peers
 # could connect to. However, this does not allow clients to associate orderer
 # addresses and orderer organizations which can be useful for things such
 # as TLS validation. The preferred way to specify orderer addresses is now
 # to include the OrdererEndpoints item in your org definition
 Addresses:
 # - 127.0.0.1:7050
# Batch Timeout: The amount of time to wait before creating a batch.
 BatchTimeout: 2s
# Batch Size: Controls the number of messages batched into a block.
 # The orderer views messages opaquely, but typically, messages may
 # be considered to be Fabric transactions. The 'batch' is the group
 # of messages in the 'data' field of the block. Blocks will be a few kb
 # larger than the batch size, when signatures, hashes, and other metadata
 # is applied.
 BatchSize:
# Max Message Count: The maximum number of messages to permit in a
 # batch. No block will contain more than this number of messages.
 MaxMessageCount: 500
# Absolute Max Bytes: The absolute maximum number of bytes allowed for
 # the serialized messages in a batch. The maximum block size is this value
 # plus the size of the associated metadata (usually a few KB depending
 # upon the size of the signing identities). Any transaction larger than
 # this value will be rejected by ordering. If the ""kafka"" OrdererType is
 # selected, set 'message.max.bytes' and 'replica.fetch.max.bytes' on
 # the Kafka brokers to a value that is larger than this one.
 AbsoluteMaxBytes: 10 MB
# Preferred Max Bytes: The preferred maximum number of bytes allowed
 # for the serialized messages in a batch. Roughly, this field may be considered
 # the best effort maximum size of a batch. A batch will fill with messages
 # until this size is reached (or the max message count, or batch timeout is
 # exceeded). If adding a new message to the batch would cause the batch to
 # exceed the preferred max bytes, then the current batch is closed and written
 # to a block, and a new batch containing the new message is created. If a
 # message larger than the preferred max bytes is received, then its batch
 # will contain only that message. Because messages may be larger than
 # preferred max bytes (up to AbsoluteMaxBytes), some batches may exceed
 # the preferred max bytes, but will always contain exactly one transaction.
 PreferredMaxBytes: 2 MB
# Max Channels is the maximum number of channels to allow on the ordering
 # network. When set to 0, this implies no maximum number of channels.
 MaxChannels: 0
Kafka:
 # Brokers: A list of Kafka brokers to which the orderer connects. Edit
 # this list to identify the brokers of the ordering service.
 # NOTE: Use IP:port notation.
 Brokers:
  - kafka0:9092
  - kafka1:9092
  - kafka2:9092
# EtcdRaft defines configuration which must be set when the ""etcdraft""
 # orderertype is chosen.
 EtcdRaft:
 # The set of Raft replicas for this network. For the etcd/raft-based
 # implementation, we expect every replica to also be an OSN. Therefore,
 # a subset of the host:port items enumerated in this list should be
 # replicated under the Orderer.Addresses key above.
 Consenters:
  - Host: raft0.example.com
 Port: 7050
 ClientTLSCert: path/to/ClientTLSCert0
 ServerTLSCert: path/to/ServerTLSCert0
  - Host: raft1.example.com
 Port: 7050
 ClientTLSCert: path/to/ClientTLSCert1
 ServerTLSCert: path/to/ServerTLSCert1
  - Host: raft2.example.com
 Port: 7050
 ClientTLSCert: path/to/ClientTLSCert2
 ServerTLSCert: path/to/ServerTLSCert2
# Options to be specified for all the etcd/raft nodes. The values here
 # are the defaults for all new channels and can be modified on a
 # per-channel basis via configuration updates.
 Options:
 # TickInterval is the time interval between two Node.Tick invocations.
 TickInterval: 500ms
# ElectionTick is the number of Node.Tick invocations that must pass
 # between elections. That is, if a follower does not receive any
 # message from the leader of current term before ElectionTick has
 # elapsed, it will become candidate and start an election.
 # ElectionTick must be greater than HeartbeatTick.
 ElectionTick: 10
# HeartbeatTick is the number of Node.Tick invocations that must
 # pass between heartbeats. That is, a leader sends heartbeat
 # messages to maintain its leadership every HeartbeatTick ticks.
 HeartbeatTick: 1
# MaxInflightBlocks limits the max number of in-flight append messages
 # during optimistic replication phase.
 MaxInflightBlocks: 5
# SnapshotIntervalSize defines number of bytes per which a snapshot is taken
 SnapshotIntervalSize: 20 MB
# Organizations lists the orgs participating on the orderer side of the
 # network.
 Organizations:
# Policies defines the set of policies at this level of the config tree
 # For Orderer policies, their canonical path is
 # /Channel/Orderer/<PolicyName>
 Policies:
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""
 # BlockValidation specifies what signatures must be included in the block
 # from the orderer for the peer to validate it.
 BlockValidation:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
# Capabilities describes the orderer level capabilities, see the
 # dedicated Capabilities section elsewhere in this file for a full
 # description
 Capabilities:
 <<: *OrdererCapabilities
################################################################################
 #
 # CHANNEL
 #
 # This section defines the values to encode into a config transaction or
 # genesis block for channel related parameters.
 #
 ################################################################################
 Channel: &ChannelDefaults
 # Policies defines the set of policies at this level of the config tree
 # For Channel policies, their canonical path is
 # /Channel/<PolicyName>
 Policies:
 # Who may invoke the 'Deliver' API
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 # Who may invoke the 'Broadcast' API
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 # By default, who may modify elements at this config level
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""
# Capabilities describes the channel level capabilities, see the
 # dedicated Capabilities section elsewhere in this file for a full
 # description
 Capabilities:
 <<: *ChannelCapabilities
################################################################################
 #
 # PROFILES
 #
 # Different configuration profiles may be encoded here to be specified as
 # parameters to the configtxgen tool. The profiles which specify consortiums
 # are to be used for generating the orderer genesis block. With the correct
 # consortium members defined in the orderer genesis block, channel creation
 # requests may be generated with only the org member names and a consortium
 # name.
 #
 ################################################################################
 Profiles:
# SampleSingleMSPSolo defines a configuration which uses the Solo orderer,
 # and contains a single MSP definition (the MSP sampleconfig).
 # The Consortium SampleConsortium has only a single member, SampleOrg.
 SampleSingleMSPSolo:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 Organizations:
  - *SampleOrg
 Consortiums:
 SampleConsortium:
 Organizations:
  - *SampleOrg
# SampleSingleMSPKafka defines a configuration that differs from the
 # SampleSingleMSPSolo one only in that it uses the Kafka-based orderer.
 SampleSingleMSPKafka:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 OrdererType: kafka
 Organizations:
  - *SampleOrg
 Consortiums:
 SampleConsortium:
 Organizations:
  - *SampleOrg
# SampleInsecureSolo defines a configuration which uses the Solo orderer,
 # contains no MSP definitions, and allows all transactions and channel
 # creation requests for the consortium SampleConsortium.
 SampleInsecureSolo:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 Consortiums:
 SampleConsortium:
 Organizations:
# SampleInsecureKafka defines a configuration that differs from the
 # SampleInsecureSolo one only in that it uses the Kafka-based orderer.
 SampleInsecureKafka:
 <<: *ChannelDefaults
 Orderer:
 OrdererType: kafka
 <<: *OrdererDefaults
 Consortiums:
 SampleConsortium:
 Organizations:
# SampleDevModeSolo defines a configuration which uses the Solo orderer,
 # contains the sample MSP as both orderer and consortium member, and
 # requires only basic membership for admin privileges. It also defines
 # an Application on the ordering system channel, which should usually
 # be avoided.
 SampleDevModeSolo:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Application:
 <<: *ApplicationDefaults
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Consortiums:
 SampleConsortium:
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
# SampleDevModeKafka defines a configuration that differs from the
 # SampleDevModeSolo one only in that it uses the Kafka-based orderer.
 SampleDevModeKafka:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 OrdererType: kafka
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Application:
 <<: *ApplicationDefaults
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Consortiums:
 SampleConsortium:
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
# SampleSingleMSPChannel defines a channel with only the sample org as a
 # member. It is designed to be used in conjunction with SampleSingleMSPSolo
 # and SampleSingleMSPKafka orderer profiles. Note, for channel creation
 # profiles, only the 'Application' section and consortium # name are
 # considered.
 SampleSingleMSPChannel:
 Consortium: SampleConsortium
 Application:
 <<: *ApplicationDefaults
 Organizations:
  - *SampleOrg
# SampleDevModeEtcdRaft defines a configuration that differs from the
 # SampleDevModeSolo one only in that it uses the etcd/raft-based orderer.
 SampleDevModeEtcdRaft:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 OrdererType: etcdraft
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Application:
 <<: *ApplicationDefaults
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
 Consortiums:
 SampleConsortium:
 Organizations:
  - <<: *SampleOrg
 Policies:
 <<: *SampleOrgPolicies
 Admins:
 Type: Signature
 Rule: ""OR('SampleOrg.member')""
{code}

  Can you please guide me that what is wrong in this . this is the default one provided by hyperledger 

 

Thanks

 ;;;","27/Aug/19 7:48 PM;pankajcheema;after  the below changes in configtx.yaml . it works fine

 
{code:java}
V1_4_3: false
 V1_4_2: true
 # V1.3 for Channel enables the new non-backwards compatible
 # features and fixes of fabric v1.3
 V1_3: false
 # V1.1 for Channel enables the new non-backwards compatible
 # features and fixes of fabric v1.1
 V1_1: false{code};;;","27/Aug/19 11:15 PM;jyellick;I've checked both the code and re-run the test with the latest v1.4.3 images, neither seem to exhibit what you describe, and I see no changes needed.  I'm glad that you've resolved your problem, but the changes you enumerated should not have been necessary.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Statedb supports MongoDB,FAB-16406,42018,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,Berith,Berith,Berith,26/Aug/19 4:36 PM,22/Nov/19 2:49 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,fabric-peer,,,,0,,,,,"We have edited the code so that StateDB can support MongoDB.

We will be supporting MongoDB from version 3.4. We have determined the version on the basis of [https://hub.docker.com/_/mongo] Shared Tags.

The added code was programmed similar to the content of leveldb and touchdb to maintain compatibility with previous versions and minimize necessary changes.

The test has been carried successfulle on first-network sameple of Fabric 1.4.2 version without any problem. Also, it appeared as twice as higher as CouchDB in the TPS test result when thoroughly checked.

The following content is about integrating MongoDB with first-network sameple of Fabric 1.4.2 version in Ubuntu 18.04.
h2. *Prerequisite*
 # curl(sudo apt-get update && sudo apt-get install curl)
 # git(sudo apt-get update && sudo apt-get install git)
 # docker([https://docs.docker.com/install/linux/docker-ce/ubuntu/])
 # docker-compose([https://docs.docker.com/compose/install/])
 # golang([https://golang.org/doc/install#install])
 # Setting for GOPATH's environment variables

h2. *Installation of Hyperledger Fabric First Network Sample*

Download Fabric Sample of the Fabric with version v1.4.2.
{code:java}
curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.2 1.4.2 0.4.15{code}
After successfully downloading please move fabric-samples to directory and then make a clone of first-network sample which supports MongoDB.
{code:java}
cd fabric-samples
git remote add -f mongodb https://github.com/developer-Berith/fabric-samples.git
git pull mongodb v1.4.2-mongodb
{code}
h2. *Build Peer, Tools MongoDB*

Create src/github.com/hyperledger as a subdirectory from the directory you set for the GOPATH environment variable.
{code:java}
mkdir -p $GOPATH/src/github.com/hyperledger
{code}
Create src/github.com/hyperledger as a subdirectory from the directory you set for the GOPATH environment variable.
{code:java}
git clone -b v1.4.2-mongodb https://github.com/developer-Berith/fabric.git
{code}
Once the git clone is complete, move to fabric directory and process Build.
{code:java}
make clean ; make peer ; make peer-docker
make tools-docker
{code}
Once the Build is completed, the images which were originally in hyperledger/fabric-tools, hyperledger/fabric-peer will be deleted and will be saved to the newly built hyperledger/fabric-tools, hyperledger/fabric-peer. Check if the time of creation is the latest or not from the properties of CREATED using the command of docker images.
{code:java}
docker images
{code}
h2. *Run Hyperledger Fabric First Network Sample*

Go to the directory of fabric-samples and run the First Network Sample after entering the option value as mongodb in [byfn.sh|http://byfn.sh/] script.
{code:java}
./byfn.sh up -s mongodb
{code}
If this is processed correctly then it will perform the same operation as the original First Network Sample.",,Berith,denyeart,magpie73,mastersingh24,oopsliu,seyday,yixinhuo,,,,,,,,,,,,,,,,FAB-8665,FAB-6263,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i00y7v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Berith,denyeart,magpie73,mastersingh24,oopsliu,seyday,yixinhuo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/19 8:44 PM;mastersingh24;[~Berith]  Are you looking to add this to a future release of Fabric?;;;","27/Aug/19 12:48 PM;Berith;[~mastersingh24]Yes. I'm trying to add it to a future release of Fabric.;;;","22/Nov/19 2:49 PM;denyeart;See comments in https://gerrit.hyperledger.org/r/#/c/fabric/+/33984/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
a fatal error occured when I update the system channel in etcd mode,FAB-16407,42019,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,ritel126,ritel126,26/Aug/19 5:09 PM,23/Sep/19 12:12 PM,28/Oct/23 3:09 AM,23/Sep/19 12:12 PM,v1.4.2,,,,,,,,,fabric-common,,,,,0,node-SDK,,,,"I update the node sdk,and the error was disappeard. I am sorroy !

 ",,denyeart,ritel126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00y83:",,,,Unset,Unset,,"1、I create a network with the endorsement  of etcd.
2、I want to add a new organization to the network.so I update the system channel with the new org. but then the error appeared.
3、There are not the same appearance with the endorsement of kafka and solo.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ritel126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Aug/19 7:41 PM;denyeart;[~ritel126] Please update the Description with details of the error message.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Deprecate the Kafka-based orderer,FAB-16408,42024,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,mastersingh24,mastersingh24,26/Aug/19 8:36 PM,24/Jun/20 9:08 PM,28/Oct/23 3:09 AM,03/Dec/19 8:51 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,,0,,,,,"We need to announce deprecation of the Kafka-based orderer given Raft provides the equivalent trust model, has additional features and is easier to manage and operate.
Fabric 1.4.2+ has the ability to migrate from Kafka to Raft.

Personally, I'd like to actually remove Kafka support in Fabric 2.0.0 but if not, we should announce and then remove in a 2.x version.",,denyeart,huxd,joaquimpedrooliveira,jyellick,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-18023,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15337,,,No,,Unset,No,,,"1|i00y97:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,huxd,joaquimpedrooliveira,jyellick,mastersingh24,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/19 1:38 AM;denyeart;[~jyellick] Could you update the v2.0.0.txt release notes with deprecation message.;;;","03/Dec/19 4:07 AM;jyellick;https://github.com/hyperledger/fabric/pull/347;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix missing couchdb persistence for k8s in launcher,FAB-16409,42025,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,27/Aug/19 12:51 AM,27/Aug/19 9:38 PM,28/Oct/23 3:09 AM,27/Aug/19 9:38 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Fix missing couchdb persistence for k8s in launcher,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00y9f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 9:38 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33183/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.4.3 release,FAB-16410,42028,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Aug/19 4:08 AM,15/Nov/19 4:28 AM,28/Oct/23 3:09 AM,29/Aug/19 2:46 AM,,,,,,v1.4.3,,,,fabric-release,,,,,0,,,,,"Prepare and publish the release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,Berith,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,FAB-17069,,FAB-15995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00y9v:",,,,,,,,,,,,,,,,,,,,Berith,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support release,FAB-16411,42029,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,rameshthoomu,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:30 AM,28/Oct/23 3:09 AM,27/Aug/19 4:12 AM,,,,,,,,,,fabric-ci,fabric-release,,,,0,fabric-ci,,,,"Make sure all the release jobs & multiarch jobs are ready for the release.

*fabric* – fabric-release-jobs-x86_64 & fabric-release-jobs-s390x (included docker images and binaries)
 *fabric-ca* --fabric-ca-image-release-x86_64 & fabric-ca-image-release-s390x & fabric-ca-binaries-x86_64 (for binaries)
 *fabric-chaincode-java* – fabric-chaincode-java-release-x86_64 ( javaenv image on x platform)

Multiarch jobs:
 [https://jenkins.hyperledger.org/view/multi-arch/]",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ya3:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric,FAB-16412,42030,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:30 AM,28/Oct/23 3:09 AM,27/Aug/19 6:19 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yab:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-16413,42031,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,29/Aug/19 2:26 AM,28/Oct/23 3:09 AM,29/Aug/19 2:26 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.4.0-rc1 release.

Update Makefile

BASE_VERSION = 1.4.0-rc1

PREV_VERSION = 1.3.0

 

Also, update master branch to have BASE_VERSION=1.4.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yaj:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-ca,FAB-16414,42032,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:30 AM,28/Oct/23 3:09 AM,27/Aug/19 6:19 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.4.0-rc1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0 v1.4.0-rc1

update release_notes/v1.4.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yar:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-16415,42033,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,29/Aug/19 2:24 AM,28/Oct/23 3:09 AM,29/Aug/19 2:24 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yaz:",,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-16416,42034,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,rameshthoomu,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:58 AM,28/Oct/23 3:09 AM,27/Aug/19 6:58 AM,,,,,,,,,,fabric-ci,fabric-release,,,,0,,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yb7:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-16417,42035,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:58 AM,28/Oct/23 3:09 AM,27/Aug/19 6:58 AM,,,,,,,,,,fabric-build,,,,,0,,,,,BASE_VERSION=1.4.0-rc2 TWO_DIGIT_VERSION=1.4 scripts/multiarch.sh user password,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ybf:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node,FAB-16422,42040,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,andrew-coleman,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,29/Aug/19 2:45 AM,28/Oct/23 3:09 AM,29/Aug/19 2:45 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh 2b862d7 v1.3.0 (have to use hash as there is no tag to find)

update release_notes/v1.3.0.txt

update package.json files with the release identifier

./package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""testFabricVersion"": ""master"",  -> ""testFabricVersion"": ""1.3.0"",

./fabric-ca-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.30"",

   ""tag"": ""unstable"" -> ""latest""

./fabric-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""tag"": ""unstable"" -> ""latest""

 ",,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ycj:",,,,,,,,,,,,,,,,,,,,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for next release,FAB-16423,42041,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,harrisob@us.ibm.com,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,29/Aug/19 2:45 AM,28/Oct/23 3:09 AM,29/Aug/19 2:45 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"update package.json files with the SNAPSHOT release identifier

  ./package.json

  fabric-client/package.json

  fabric-ca-client/package.json",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ycr:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-samples,FAB-16424,42042,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Aug/19 4:08 AM,27/Aug/19 7:22 AM,28/Oct/23 3:09 AM,27/Aug/19 7:22 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.4 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ycz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.4.0""",FAB-16425,42043,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Aug/19 4:08 AM,27/Aug/19 7:22 AM,28/Oct/23 3:09 AM,27/Aug/19 7:22 AM,,,,,,,,,,fabric-samples,,,,,0,,,,,"*AFTER V1.4.0 ONLY... NOT AFTER V1.4.0-RC1.*

After creating release-1.4 branch, pin the fabric samples to use version ""~1.4.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.4 branch with the 1.4.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.4 branch, before fabric-samples is tagged with ""v1.4.0"".

 

*Clarification - for v1.4.0-rc1 node sdk had a release, therefore we pinned at ""1.4.0-rc1"" until final release.*",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yd7:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag all repositories for release,FAB-16426,42044,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,27/Aug/19 7:21 AM,28/Oct/23 3:09 AM,27/Aug/19 7:21 AM,,,,,,,,,,fabric-release,,,,,0,,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.4.0-rc1 -F release_notes/v1.4.0-rc1.txt

{{% git push origin v1.4.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java, fabric-chaincode-node, fabric-sdk-node, fabric-samples (use v1.4.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.4.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.4.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.4.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ydf:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric master references for release,FAB-16427,42045,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Aug/19 4:08 AM,27/Aug/19 6:32 AM,28/Oct/23 3:09 AM,27/Aug/19 6:20 AM,,,,,,,,,,,,,,,0,,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ydn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-16428,42046,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,27/Aug/19 10:14 AM,28/Oct/23 3:09 AM,27/Aug/19 7:22 AM,,,,,,,,,,fabric-release,,,,,0,,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ydv:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/19 10:14 AM;vijaypunugubati;[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-postrelease-x86_64/4/consoleFull]

[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-postrelease-s390x/8/consoleFull];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-16429,42047,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,rameshthoomu,denyeart,27/Aug/19 4:08 AM,27/Aug/19 7:22 AM,28/Oct/23 3:09 AM,27/Aug/19 7:22 AM,,,,,,,,,,fabric-ci,fabric-docs,fabric-release,,,0,,,,,Verify readthedocs version release-1.4 gets built and published from release-1.4 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00ye3:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-16430,42048,42028,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,27/Aug/19 4:08 AM,29/Aug/19 2:45 AM,28/Oct/23 3:09 AM,29/Aug/19 2:45 AM,,,,,,,,,,fabric-release,,,,,0,,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00yeb:",,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Display specific reason why the launch failed,FAB-16431,42049,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,rameshthoomu,rameshthoomu,27/Aug/19 7:00 AM,29/Aug/19 10:55 AM,28/Oct/23 3:09 AM,29/Aug/19 10:55 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"To display the specific reason in the logs, why the network launching is failed",,bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00yej:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"27/Aug/19 11:48 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33206/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove HeaderBytes field in pkg/tx/interfaces.go:Envelope,FAB-16432,42050,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,27/Aug/19 7:56 AM,31/Aug/19 4:19 AM,28/Oct/23 3:09 AM,31/Aug/19 4:19 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,There's no marshalled Header field in common.Payload.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|i00yer:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove ansicolor from evm repo,FAB-16434,42053,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,27/Aug/19 9:44 AM,27/Aug/19 11:03 AM,28/Oct/23 3:09 AM,27/Aug/19 11:03 AM,,,,,,,,,,,,,,,0,,,,,,,btl5037,MHBauer,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,MHBauer,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Aug/19 9:52 AM;MHBauer;When and why and where was this changed?;;;","27/Aug/19 9:57 AM;btl5037;About 100 times in the Fabric Maintainers and Fabric CI channel, Ramesh came in and submitted the change after it was asked once again in the channel why the job was failing;;;","27/Aug/19 10:05 AM;btl5037;[https://gerrit.hyperledger.org/r/c/fabric-chaincode-evm/+/33197/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve default configuration for gossip,FAB-16435,42055,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Aug/19 1:06 PM,08/Jul/20 11:52 PM,28/Oct/23 3:09 AM,01/Jul/20 9:21 PM,,,,,,v2.2.0,,,,fabric-gossip,,,,,0,operator,,,,"*Overview*

Some Fabric networks have seen issues with excessive gossip communications, memory usage, or grpc max message size.

We have an opportunity to improve some of the default peer settings, for example I propose:
{code:java}
CORE_PEER_GOSSIP_USELEADERELECTION = false 
CORE_PEER_GOSSIP_ORGLEADER = true 
CORE_PEER_GOSSIP_MAXBLOCKCOUNTTOSTORE = 10 
CORE_PEER_GOSSIP_STATE_ENABLED = false
CORE_PEER_GOSSIP_STATE_BLOCKBUFFERSIZE = 20  
CORE_PEER_GOSSIP_STATE_BATCHSIZE = 10
{code}
*More details*

We have found that unless there are a large number of peers in an organization, it is more efficient to have peers pull blocks directly from orderer nodes, by using this configuration:
{code:java}
CORE_PEER_GOSSIP_USELEADERELECTION = false 
CORE_PEER_GOSSIP_ORGLEADER = true 
CORE_PEER_GOSSIP_STATE_ENABLED = false
{code}
If there are a large number of channels or large block sizes, reduce the size of these configurations from default of 100 to improve memory usage (the latter setting is not needed if CORE_PEER_GOSSIP_STATE_ENABLED is false):
{code:java}
CORE_PEER_GOSSIP_MAXBLOCKCOUNTTOSTORE = 10 
CORE_PEER_GOSSIP_STATE_BLOCKBUFFERSIZE = 20  
{code}
And if the block sizes are so large that you risk hitting grpc 100MB limit, reduce this setting (again, not needed if CORE_PEER_GOSSIP_STATE_ENABLED is false):
{code:java}
CORE_PEER_GOSSIP_STATE_BATCHSIZE = 10
{code}
The CORE_PEER_GOSSIP_STATE_* settings were added in v1.4.1 and above.

These are proposed tactical improvements, while longer term improvements are identified in FAB-15317.",,denyeart,idiota101,jyellick,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15317,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15337,,,No,,Unset,No,,,"1|i00yfn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,idiota101,jyellick,yacovm,ymlbright,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Mar/20 3:19 AM;jyellick;One thing to be cognizant of here.   Historically, we've always set 'use leader election' to true, because without it, an org which was not a member of the channel at creation time would have problems pulling blocks and would not gossip because it did not detect its org in the channel.  I'm not certain if that problem still exists in the codebase, but it's certainly worth testing.;;;","10/Jun/20 11:20 PM;denyeart;[~jyellick]The proposal here is that each peer by default would be an org leader and pull blocks from orderer. So I'm not understanding your concern about pulling blocks from your own org... Could you clarify the concern?;;;","12/Jun/20 1:00 PM;jyellick;In Fabric v1.0/v1.1 if you attempted to join a peer to a channel, and that peer's org was not a member of the channel at genesis, then unless you set leader election to true, the peer would never sync blocks.  I _believe_ that this included setting leader to true, and not setting leader election to false and leader to false (which, obviously would result in the peer not trusting any of its own peers in the network, and never receiving blocks).  The details of why setting leader to true didn't work elude me, but it is my recollection that the defaults at this time were to disable leader election and have everyone as static leaders, so I _think_ this was a real problem.

For reference, leader election configuration defaults for v1.0 https://github.com/hyperledger/fabric/blob/v1.0.0/sampleconfig/core.yaml#L118-L128

later changed in v1.1 to https://github.com/hyperledger/fabric/blob/v1.1.0/sampleconfig/core.yaml#L144-L154

Regardless, of whether my recollection is correct, we should ensure that we have an integration test of some sort, that includes onboarding a peer, whose organization is not in the genesis block, since we saw this problem historically, and tweaked these defaults in response.;;;","13/Jun/20 2:00 AM;yacovm;{quote} I _believe_ that this included setting leader to true
{quote}
 

Why do you think that is the case?;;;","13/Jun/20 3:49 AM;jyellick;Purely my recollection of the bug.  As I said, perhaps it only applied to the other case, it has been almost 3 years.

I'm not certain why the pushback on confirming that our new defaults work for late join via a test?  This is a normal scenario and one that we should have a test for, and we should change this test to use the new defaults.  If one does not already exist we should add it.;;;","13/Jun/20 9:37 PM;yacovm;I am not pushing back anything. we should have had these test cases years ago...;;;","27/Jun/20 7:05 AM;denyeart;First PR - change leader election defaults:  https://github.com/hyperledger/fabric/pull/1475;;;","27/Jun/20 5:33 PM;denyeart;Next PR - change buffer size defaults: https://github.com/hyperledger/fabric/pull/1477;;;","27/Jun/20 7:01 PM;denyeart;Next PR - disable state transfer by default: https://github.com/hyperledger/fabric/pull/1478;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
"Correct doc ""Contract Names""",FAB-16436,42058,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,paranjan,paranjan,paranjan,27/Aug/19 2:59 PM,31/Aug/19 7:59 AM,28/Oct/23 3:09 AM,31/Aug/19 7:59 AM,,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,"Doc Link: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/contractname.html]

 

1) Correct {{contract.getContract() to network.getContract() in line:}}

_""See how the application accesses the smart contract with the {{-contract-.getContract()}} method._ {{""}}

{{}}

2) Remove the first ""the"" from line:

{{_""The first smart contract defined in a chaincode is -the- called the default smart contract.""_}}",,caod,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ygb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,paranjan,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/19 3:54 AM;caod;Looks like there's already work being done on this, moving to in progress.

[https://gerrit.hyperledger.org/r/c/fabric/+/33198];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove common/mocks,FAB-16437,42067,,Task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,27/Aug/19 9:58 PM,05/Dec/19 11:37 AM,28/Oct/23 3:09 AM,,,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"Mocks should be generated where used / needed

{quote}./core/mocks/txvalidator/support.go
./core/endorser/endorser_test.go
./core/endorser/plugin_endorser_test.go
./core/ledger/kvledger/tests/util.go
./core/peer/mock_helpers.go
./core/chaincode/exectransaction_test.go
./core/chaincode/chaincode_support_test.go
./core/common/privdata/store_test.go
./core/committer/txvalidator/v14/plugin_validator_test.go
./core/committer/txvalidator/v14/validator_test.go
./core/committer/txvalidator/v14/txvalidator_test.go
./core/committer/txvalidator/v20/plugindispatcher/plugin_validator_test.go
./core/committer/txvalidator/v20/validator_test.go
./core/committer/txvalidator/v20/txvalidator_test.go
./core/scc/lscc/lscc_test.go
./core/handlers/validation/builtin/v12/validation_logic_test.go
./core/handlers/validation/builtin/v13/validation_logic_test.go
./core/handlers/validation/builtin/v20/validation_logic_test.go
./internal/peer/gossip/mocks/mocks.go
./orderer/mocks/common/multichannel/multichannel.go
./orderer/consensus/solo/consensus_test.go
./orderer/consensus/kafka/chain_test.go
./orderer/consensus/kafka/consenter_test.go
./orderer/consensus/etcdraft/chain_test.go
./orderer/consensus/etcdraft/consenter_test.go
./orderer/common/cluster/util_test.go
./orderer/common/multichannel/registrar_test.go
./orderer/common/multichannel/chainsupport_test.go
./orderer/common/multichannel/blockwriter_test.go
./orderer/common/msgprocessor/systemchannel_test.go
./orderer/common/msgprocessor/standardchannel_test.go
./orderer/common/msgprocessor/systemchannelfilter_test.go
./orderer/common/msgprocessor/maintenancefilter_test.go
./orderer/common/msgprocessor/sigfilter_test.go
./orderer/common/msgprocessor/sizefilter_test.go
./orderer/common/msgprocessor/expiration_test.go
./common/mocks/scc/sccprovider.go
./common/ledger/testutil/test_helper.go
./protoutil/txutils_test.go{quote}",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yn7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/19 1:37 AM;denyeart;Some merged, some remaining.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric contributor, I'd like a more standard project layout",FAB-16438,42069,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,mastersingh24,mastersingh24,27/Aug/19 10:39 PM,03/Dec/19 1:35 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,hygiene,,,,"See [https://github.com/golang-standards/project-layout] for what we want to strive for here.

We need to stop using ""core"", ""common"", etc and move to more standard ""pkg"", ""internal"", ""internal/pkg"", etc structure",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ynf:",,,,Unset,Unset,,(Please add steps to reproduce),4.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Port changes on 1.4 node OU doc back to master,FAB-16439,42071,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,27/Aug/19 10:53 PM,24/Sep/19 10:41 PM,28/Oct/23 3:09 AM,24/Sep/19 10:41 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,,,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ynv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add chaincode lifecycle commands,FAB-16440,42072,38926,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,bpbuch,bpbuch,28/Aug/19 12:28 AM,28/Aug/19 12:28 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Fabric v2.0 brought changes to chaincode lifecycle.  These changes should be handled by the CLI. 

Existing commands:
https://hyperledger-fabric.readthedocs.io/en/master/commands/peerlifecycle.html",,bpbuch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yo3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bpbuch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use fabric-protos-go module,FAB-16441,42073,38926,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,bpbuch,bpbuch,bpbuch,28/Aug/19 12:30 AM,03/Oct/19 4:34 AM,28/Oct/23 3:09 AM,03/Oct/19 4:34 AM,,,,,,,,,,,,,,,0,,,,,"The CLI should be updated to use the new external protos module. 

https://github.com/hyperledger/fabric-protos-go",,bpbuch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yob:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bpbuch,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify pte to read in objects for admin actions,FAB-16442,42075,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,bharadwajambati1,bharadwajambati1,bharadwajambati1,28/Aug/19 12:46 AM,28/Aug/19 2:28 AM,28/Oct/23 3:09 AM,28/Aug/19 2:27 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yoj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add structs to read in yaml file and creating objects for PTE,FAB-16443,42076,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,28/Aug/19 12:52 AM,12/Sep/19 2:48 AM,28/Oct/23 3:09 AM,12/Sep/19 2:48 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczq9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/19 11:48 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33229/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"PTE API to receive command inputs via object, instead of reading json/yaml input files",FAB-16444,42077,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,28/Aug/19 1:28 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,11/Sep/19 1:50 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"As part of our plan to remove all those json input files under CITest/FAB* folders for each admin action and test steps (create channel, update channel, install cc, instantiate cc, upgrade cc, invokes, queries, ...), we can create an API for PTE to receive an object containing the commands, args, and artifacts paths. The operator/launcher (FAB-16078) can use this to pass commands to PTE to create channels, install chaincodes, anchorpeer updates, etc, using the node-sdk API.

The https://github.com/hyperledger/fabric-test/blob/master/tools/PTE/pte-input.yml is the input file that the user will create, to specify invokes/queries traffic commands as well as admin actions such as createChannel, joinPeers, etc.",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfo:1",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"28/Aug/19 11:44 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33228/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove fabtoken conceps from glossary,FAB-16445,42084,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,28/Aug/19 4:14 AM,30/Aug/19 11:02 PM,28/Oct/23 3:09 AM,30/Aug/19 11:02 PM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,Part of removing fabtoken from 2.0,,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yqb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update docs to point to new repositories,FAB-16446,42085,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Aug/19 4:25 AM,10/Sep/19 12:50 AM,28/Oct/23 3:09 AM,10/Sep/19 12:50 AM,v2.0.0,,,,,,,,,,,,,,0,ipm,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8z4",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 12:50 AM;sykesm;change ID Iaa0f316eb3846f2e6651a114663f0c635e33695b;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Launcher: add choice of gossip leader selection mode,FAB-16447,42086,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,28/Aug/19 4:30 AM,10/Sep/19 11:10 PM,28/Oct/23 3:09 AM,10/Sep/19 11:10 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Per FAB-16435, we should provide option in launcher and networkspec file to use gossipLeaderElection=true (or false, and assign every peer as a leader).

Change one of our automated k8s test networks to use the option, such as the kafka-tls network, in fabric-test/regression/systemtest/.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16518,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwy",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add query functions to interest rate sample,FAB-16448,42087,,Task,To Do,FAB,Fabric,software,denyeart,,,Medium,,negupta,negupta,negupta,28/Aug/19 4:35 AM,04/Dec/19 4:29 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,"Playing around, and think this would be helpful in the public sample",,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yqr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
tls clientkey file is not available inside peer container launched with network launcher - mutual tls,FAB-16449,42088,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,suryalnvs,rameshthoomu,rameshthoomu,28/Aug/19 4:43 AM,29/Aug/19 12:41 AM,28/Oct/23 3:09 AM,29/Aug/19 12:41 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,--keyfile is not available inside peer container launched with network launcher - mutual tls. Unable to execute `peer channel list` command when mututal TLS is enabled.,,rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00yqz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Aug/19 9:57 PM;suryalnvs;We are not placing tls client key file intentionally in peer and orderer. Instead you can try to run `peer` cli commands from local after setting necessary environment variables.

For example: peer channel list command
{code:java}
export CORE_PEER_TLS_CLIENTCERT_FILE=/Users/suryalanka/gopath/src/github.com/hyperledger/fabric-test/tools/operator/configFiles/crypto-config/peerOrganizations/org1/ca/ca.org1-cert.pem
export CORE_PEER_TLS_ROOTCERT_FILE=/Users/suryalanka/gopath/src/github.com/hyperledger/fabric-test/tools/operator/configFiles/crypto-config/peerOrganizations/org1/peers/peer0-org1.org1/tls/ca.crt
export CORE_PEER_LOCALMSPID=Org1ExampleCom
export CORE_PEER_TLS_CLIENTKEY_FILE=/Users/suryalanka/gopath/src/github.com/hyperledger/fabric-test/tools/operator/configFiles/crypto-config/peerOrganizations/org1/ca/ca-priv_sk
export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_TLS_CLIENTAUTHREQUIRED=true
export CORE_PEER_MSPCONFIGPATH=/Users/suryalanka/gopath/src/github.com/hyperledger/fabric-test/tools/operator/configFiles/crypto-config/peerOrganizations/org1/users/Admin@org1/msp/
export CORE_PEER_ADDRESS=peer0-org1:30731
peer channel list {code};;;","29/Aug/19 12:41 AM;rameshthoomu;When Mutual TLS is enabled, peer channel list command won;t work in k8s environment as we are not mounting the tls client key files.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to create configmaps for ordererorg in 2.0.0 with network launcher,FAB-16450,42089,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,rameshthoomu,rameshthoomu,28/Aug/19 4:45 AM,23/Jan/20 4:50 AM,28/Oct/23 3:09 AM,23/Jan/20 4:50 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Observe below error while creating configmaps for ordererorg in 2.0 with network launcher. See the below error log

{code:java}
configmap/orderer4-ordererorg1-tls created
error: ""Admin@ordererorg1-cert.pem"" is not a valid key name for a ConfigMap: a valid config key must consist of alphanumeric characters, '-', '_' or '.' (e.g. 'key.name',  or 'KEY_NAME',  or 'key-name', regex used for validation is '[-._a-zA-Z0-9]+')
ERROR: 2019/08/27 14:30:31 Failed to create admincerts configmap for ordererorg1
CRIT: 2019/08/27 14:30:31 Failed to create config maps; err: exit status 1
exit status 1
{code}",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00yr7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 4:50 AM;scottz;functionality already completed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - core/deliverservice,FAB-16451,42091,39221,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,iamksseo2,iamksseo2,iamksseo2,28/Aug/19 11:56 AM,04/Nov/19 12:36 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"$ staticcheck -checks=""inherit,-ST1005"" ./...

 ",,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yrn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"aggregation related, ",FAB-16452,42094,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,leeseunghyun,leeseunghyun,28/Aug/19 5:08 PM,29/Aug/19 3:34 AM,28/Oct/23 3:09 AM,29/Aug/19 3:34 AM,,,,,,,,,,,,,,,0,,,,,"hi as i know fabric chaincode dev team is developing couch db map-reduce functionality by chaincode,  

 

is there any other way for get aggregated information from chaincode with couchdb???

 

for example, total count, grouped by some field etc... 

 ",,denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5528,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ysb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/19 3:34 AM;denyeart;Maintainers discussed and determined best practice for aggregate queries is to utilize a downstream data store rather than support aggregate queries in fabric core.

See pattern recommended at https://hyperledger-fabric.readthedocs.io/en/release-1.4/couchdb_as_state_database.html#good-practices-for-queries.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bookmark pagination and last page,FAB-16453,42095,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,leeseunghyun,leeseunghyun,28/Aug/19 5:14 PM,19/Apr/20 1:58 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,"in current fabric chaincode implementation(using bookmark),  there is no way to know whether this page is last page(when last page records is same as page size). when returned records array size is zero, i just know that previous page was last page because bookmark always returned  regardless of returned bookmark's validity

 

is there any other way?? 

 

 

 ",,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ysj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
need to  add pagination functionality to ChaincodeStub#getHistoryForKey() ,FAB-16454,42096,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,leeseunghyun,leeseunghyun,28/Aug/19 5:19 PM,29/Aug/19 3:36 AM,28/Oct/23 3:09 AM,29/Aug/19 3:36 AM,,,,,,,,,,,,,,,0,,,,,"in case that so many transactions occurred for same key, i think getHistoryForKey() method is not good for performance,, because ChaincodeStub#getHistoryForKey() method return all modified history(tx id, timestamp) for key. At worst, peer application will meet memory out ",,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12881,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ysr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
couch db rich query(mango query) with 'execution_stats' : true,FAB-16455,42097,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,leeseunghyun,leeseunghyun,28/Aug/19 5:27 PM,19/Apr/20 1:57 PM,28/Oct/23 3:09 AM,19/Apr/20 1:57 PM,,,,,,,,,,,,,,,0,,,,,"couch db doc said, when mango query field 'execution_stats' set true couch db return some statistic responses (for exmaple, 'total_docs_examed') but in response, 

there is no such fields

 

i think this fields good for some aggregation purpose",,denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ysz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 1:57 PM;denyeart;CouchDB specific metadata is not supported in chaincode APIs.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
is there any way for modify current state?,FAB-16456,42098,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,leeseunghyun,leeseunghyun,28/Aug/19 5:53 PM,19/Apr/20 1:56 PM,28/Oct/23 3:09 AM,19/Apr/20 1:56 PM,,,,,,,,,,,,,,,0,,,,,"ChaincodeStub function has putState() method, but this is just put new state not modifying exising one

 

if i want to change some state, i have to read current state and update based retrieved state

 

 ",,denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yt7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 1:56 PM;denyeart;PutState() is used for both initial write and update write of keys.  You can optionally retrieve before writing, which will trigger mvcc checks to ensure serializable transaction behavior (conflicting transaction would be invalidated).;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize protoutil,FAB-16457,42100,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:28 PM,22/Sep/19 2:48 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric client developer, there are useful utilities in protoutil that I would like to use in my application.

With the protos being externalized into fabric-protos-go, it would be beneficial to also externalize protoutil (e.g., into fabric-lib-go).

Context: we had a downstream developer of the SDK ask about usage of proto utils. https://chat.hyperledger.org/channel/fabric-sdk-go?msg=hDpwE7YPvr4Hbf4Q6

The Fabric Go SDK, itself, maintains an internal copy of the utilities (https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/protoutil). It is preferable to stop needing to copy from Fabric and instead be able to make usage of common components.",,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-899,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00ytf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/19 2:48 AM;mastersingh24;I really do not know why we need this package in the first place inside Fabric.  So I don't think that I would directly take this and make it a package.
If we chose to have some common functions used by a client pkg within the fabric tree then this could be exported as part of that.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize bccsp,FAB-16458,42101,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:36 PM,29/Aug/19 12:45 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of BCCSP rather than copying & modifying the code into the SDK.

We currently have a modified version of BCCSP in the Go SDK: https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/bccsp",,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00ytn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize msp,FAB-16459,42102,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:37 PM,29/Aug/19 12:45 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of MSP rather than copying & modifying the code into the SDK.

We currently have a modified version of MSP in the Go SDK: https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/msp",,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00ytv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize discovery client,FAB-16460,42103,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:39 PM,16/Oct/19 4:29 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of discovery client rather than copying & modifying the code into the SDK.

We currently have a modified version of discovery client in the Go SDK: https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/discovery",,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yu3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 4:28 AM;yacovm;What part of it isn't external? The discover CLI uses the client too... so you should be able to use it too, no?;;;","16/Oct/19 4:29 AM;yacovm;Or do you mean to move it to fabric commons?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize common Fabric Go components,FAB-16461,42104,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:41 PM,22/Feb/20 12:50 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,1,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of common components rather than copying & modifying the code into the SDK.

We currently have a modified version of Fabric and Fabric CA code in the Go SDK: [https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/]

From Fabric, the Go SDK uses:
 * protoutil
 * BCCSP
 * msp
 * discovery client
 * gossip utilities
 * cauthdsl
 * CC Provider structures
 * ledger structures
 * common utilities
 * configtxgen functions
 * configtxlator functions

Downstream developers of the Go SDK use:
 * protoutil
 * cauthdsl
 * CC provider structures
 * ledger structures
 * configtxgen functions
 * configtxlator functions

Historically (partially due to usage of a copy of the protos – no longer the case as of FABG-899), we have exposed a subset of the modified version of Fabric code in the Go SDK: [https://github.com/hyperledger/fabric-sdk-go/tree/master/third_party/github.com/hyperledger/fabric]. We would prefer downstream developers use a canonical source rather than rely on a copy.",,kopaygorodsky,mastersingh24,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABG-899,FABC-840,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-7,,Common Go,To Do,No,,Unset,No,,,"1|i00yub:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kopaygorodsky,mastersingh24,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/19 2:45 AM;mastersingh24;[~troyronda]  - I agree with the overall sentiment for sure. I'll have to dig as this might be a duplicate / related to another entry on this subject, but we can just mark the other as a dup if it exists.

I do think that you have WAY too many things being externalized here.  Most of these should never have been imported / used outside of Fabric.  Specifically:

- bccsp - this is just a mess ... I could possibly see some common crypto pkg needing to externally linkable
- protoutils - most of these are silly wrappers
- msp 
- cauthdsl

I'm not sure which subset of ledger structures ... I imagine the ones that show up as return values for chaincode functions and/or via the channel event log (blocks, etc)?;;;","16/Oct/19 4:34 AM;yacovm;What's the use case of consuming the MSP and gossip utilities in the Go SDK ? ;;;","22/Feb/20 12:37 AM;kopaygorodsky;I think top priority in this list is configtxgen
https://jira.hyperledger.org/browse/FAB-16840;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize gossip utilities and protoext,FAB-16462,42105,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,28/Aug/19 10:44 PM,16/Oct/19 4:33 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of gossip utilities protoext rather than copying & modifying the code into the SDK.

We currently have a modified version of discovery client in the Go SDK: https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/gossip",,troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yuj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 4:33 AM;yacovm;What is the use case of the SDK consuming gossip messages? ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize cauthdsl,FAB-16463,42106,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,29/Aug/19 12:22 AM,29/Aug/19 12:40 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-common,,,,,0,,,,,"As a Fabric client developer, there are useful utilities in cauthdsl that I would like to use in my application.

The Fabric Go SDK currently maintains a copy of the utilities (https://github.com/hyperledger/fabric-sdk-go/tree/master/third_party/github.com/hyperledger/fabric/common/cauthdsl). It is preferable to stop needing to copy from Fabric and instead be able to make usage of common components.",,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yur:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize CC Provider Structures,FAB-16464,42107,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,29/Aug/19 12:40 AM,29/Aug/19 12:42 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"As a Fabric client developer, there are useful structures in ccprovider that I would like to use in my application.

The Fabric Go SDK currently maintains a copy of the utilities (https://github.com/hyperledger/fabric-sdk-go/tree/master/third_party/github.com/hyperledger/fabric/core/common/ccprovider). It is preferable to stop needing to copy from Fabric and instead be able to make usage of common components.",,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yuz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize Ledger Structures,FAB-16465,42108,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,29/Aug/19 12:44 AM,29/Aug/19 12:44 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"As a Fabric client developer, there are useful structures in ledger that I would like to use in my application.

The Fabric Go SDK currently maintains a copy of the utilities (https://github.com/hyperledger/fabric-sdk-go/tree/master/third_party/github.com/hyperledger/fabric/core/ledger). It is preferable to stop needing to copy from Fabric and instead be able to make usage of common components.",,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yv7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize common utilities,FAB-16466,42109,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,29/Aug/19 12:48 AM,22/Sep/19 2:52 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of common utilities rather than copying & modifying the code into the SDK.

We currently have a modified version of common utilities in the Go SDK:
* https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/common
* https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/core",,mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i00yvf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Sep/19 2:52 AM;mastersingh24;We are on a long, arduous journey of killing common and core. 
I don't think we would export most of these directly anyway ... I could see them as being internal pkgs for client pkgs we would make available.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused chaincode from fabriic-test repository,FAB-16467,42111,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,29/Aug/19 1:08 AM,03/Sep/19 11:35 PM,28/Oct/23 3:09 AM,03/Sep/19 11:35 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:r9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/19 2:30 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33238 Remove auctionapp chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33239 Remove autovendor chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33240 Remove badimport chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33241 Remove eventsender chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33242 Remove example03 chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33243 Remove marbles chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33244 Remove marbles02_private chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33245 Remove shim-vendored chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33246 Remove shimApiDriver chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33247 Remove sleeper chaincode
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33251 Remove example04 chaincode and disable test
remote:   https://gerrit.hyperledger.org/r/c/fabric-test/+/33252 Remove example05 chaincode and disable test
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-master job: CouchDB_iindex feature fails on test case FAB-7253,FAB-16468,42112,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,29/Aug/19 4:10 AM,29/Aug/19 11:48 PM,28/Oct/23 3:09 AM,29/Aug/19 11:48 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,,"fabric-test-daily-behave-master job: CouchDB_iindex feature fails on test case FAB-7253 and the error observed is unable to find chaincode packages from the repo fabric-chaincode-go which is a new repository created recently and this new repo is not cloning into fabric-test before starting the test case.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/Error: error getting chaincode deployment spec for mycc1: error getting chaincode package bytes: Error obtaining dependencies for github.com/hyperledger/fabric-chaincode-go/shim: command <go list -f {{ join .Deps ""\n""}} github.com/hyperledger/fabric-chaincode-go/shim>: failed with error: ""exit status 1""
      can't load package: package github.com/hyperledger/fabric-chaincode-go/shim: cannot find package ""github.com/hyperledger/fabric-chaincode-go/shim"" in any of:
      	/usr/local/go/src/github.com/hyperledger/fabric-chaincode-go/shim (from $GOROOT)
      	/opt/gopath/src/github.com/hyperledger/fabric-chaincode-go/shim (from $GOPATH)
      / code placeholder
{code}

{code:java}
/And an admin deploys chaincode at path ""github.com/hyperledger/fabric-samples/chaincode/marbles02/go"" with args [""""] with name ""mycc1"" with language ""GOLANG"" on channel ""mychannel1""                                                                                    # steps/endorser_impl.py:119
      Assertion Failed: The expected chaincode container 2d0a04b2c60b11e9b8c2fa163eb6c7cc-peer0.org1.example.com-mycc1-0 is not running/ code placeholder
{code}
*Build Logs:* [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/330/Behave_Test_Logs/behave_tests.log.gz]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15847,FAB-15846,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yvv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/19 4:11 AM;vijaypunugubati;And the changes were made on fabric-samples moving out chaincode/shim to new repo and the commit is

[https://github.com/hyperledger/fabric-samples/commit/1d3e267bbdaea70b1a38026ce06a0b1cef534386];;;","29/Aug/19 10:19 AM;scottz;FAB-16468 is a bug written against a behave test, because the test target got moved. Instead of fixing it, we will disable the test and close this issue because that test is being replaced by the IT test FAB-15846/FAB-15847 which is expected to be done probably this week.;;;","29/Aug/19 10:19 PM;scottz;https://gerrit.hyperledger.org/r/c/fabric-test/+/33269 remove the test from daily suite;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
membership tracker to print channel name in the logs,FAB-16469,42113,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Aug/19 5:04 AM,01/Sep/19 9:12 PM,28/Oct/23 3:09 AM,01/Sep/19 9:12 PM,,,,,,v2.0.0,,,,fabric-gossip,,,,,0,,,,,,,caod,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yw3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,yacovm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/19 3:51 AM;caod;Looks like this is already being worked, moving to in progress.

[https://gerrit.hyperledger.org/r/c/fabric/+/33255];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change client in operator folder to networkclient,FAB-16470,42114,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,29/Aug/19 5:28 AM,29/Aug/19 10:56 AM,28/Oct/23 3:09 AM,29/Aug/19 10:56 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Renaming the client folder in opeartor to networkclient and modifying the code inside the operator folder,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00ywb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/19 5:45 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33258/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add peer node command to drop dbs of old format,FAB-16471,42117,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,manish-sethi,manish-sethi,29/Aug/19 10:57 AM,04/Oct/19 4:44 AM,28/Oct/23 3:09 AM,27/Sep/19 12:13 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"* Add a peer node command so that the dbs in old format can be dropped
 * Improve the log message pointing to the above command, in case user forgets to execute the above command and starts the peer

Specifically:
- Added peer node command upgrade-dbs to upgrade ledgerProvider db and drop other dbs that will be rebuilt upon peer restart
- Added peer node command rebuild-dbs to drop dbs so that they will be rebuilt upon peer restart",,manish-sethi,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16506,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15499,,,No,,Unset,No,,,"1|i00ywz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,wenjian,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 11:51 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33544/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
connection-org1.json missing in fabric-samples\fabcar\javascript\enrollAdmin.js,FAB-16472,42118,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,paranjan,paranjan,29/Aug/19 4:46 PM,25/Sep/19 12:39 AM,28/Oct/23 3:09 AM,12/Sep/19 4:29 PM,,,,,,,,,,fabric-sdk-node,,,,,0,,,,,"File is referred but not provided.

 
{color:#56b6c2}const{color}{color:#bbbbbb} ccpPath {color}{color:#e06c75}={color} {color:#61afef}path{color}{color:#bbbbbb}.{color}{color:#98c379}resolve{color}{color:#bbbbbb}({color}{color:#56b6c2}__dirname{color}{color:#bbbbbb}, {color}{color:#e5c07b}'..'{color}{color:#bbbbbb}, {color}{color:#e5c07b}'..'{color}{color:#bbbbbb}, {color}{color:#e5c07b}'first-network'{color}{color:#bbbbbb}, {color}{color:#e5c07b}'connection-org1.json'{color}{color:#bbbbbb});{color}",,caod,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yx7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/19 3:23 AM;caod;Looks like this is already being worked, moving to in progress. 

[https://gerrit.hyperledger.org/r/c/fabric-samples/+/33264];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
marbles02 chaincode function name typo and parameter,FAB-16474,42120,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rthatcher,rthatcher,29/Aug/19 7:35 PM,25/Sep/19 1:38 AM,28/Oct/23 3:09 AM,25/Sep/19 1:38 AM,v1.4.3,v2.0.0,,,,,,,,fabric-samples,,,,,0,chaincode,,,,"The marbles02 sample chaincode has 2 errors in its function *queryMarblesWithPagination* 

The first error shows:
TypeError: stub.GetQueryResultWithPagination is not a function

and the second error shows:


Error: Illegal value for Message.Field .protos.QueryMetadata.pageSize: NaN (TypeError: Illegal value: NaN (not an integer))"" 


The problems in the code are:

1.  The function calls *stub.**GetQueryResultWithPagination* - with a Capital G when it should use *stub.getQueryResultWithPagination*

2. The same function uses parameters args[0] args[2] and args[3] whereas it should use 0,1,2",,caod,jyellick,rthatcher,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yxn:",,,,Unset,Unset,,Run the sample and test using the provided chaincode invoke and chaincode query commands.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,jyellick,rthatcher,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Aug/19 3:19 AM;caod;Looks like it's fine on master: [https://github.com/hyperledger/fabric-samples/blob/master/chaincode/marbles02/javascript/marbles_chaincode.js#L464-L468]

appears to still be an issue in 1.4: [https://github.com/hyperledger/fabric-samples/blob/release-1.4/chaincode/marbles02/node/marbles_chaincode.js#L464-L468];;;","31/Aug/19 3:35 AM;rthatcher;I will add the fix to the 1.4 stream too.;;;","24/Sep/19 5:16 AM;jyellick;[~rthatcher] Were you still going to fix this?;;;","25/Sep/19 12:35 AM;rthatcher;Change made - waiting for +2 review.;;;","25/Sep/19 1:38 AM;jyellick;I show [https://gerrit.hyperledger.org/r/q/FAB-16474] as merged in release-1.4 and master.  Closing as done.  Feel free to re-open and point to the still pending CRs if this is incorrect.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Parameterize EnableNodeOU's option in network spec file in Launcher,FAB-16475,42122,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,29/Aug/19 10:29 PM,19/Sep/19 10:04 PM,28/Oct/23 3:09 AM,19/Sep/19 10:04 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Parameterize EnableNodeOU's option in network spec file in Launcher. Right now, it is hardcoded as true in crypto-config template.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 10:04 PM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/33271];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in anchor peer update section from yaml input file",FAB-16476,42123,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,29/Aug/19 11:38 PM,25/Sep/19 11:18 PM,28/Oct/23 3:09 AM,25/Sep/19 11:18 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00yyb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"29/Aug/19 11:40 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33274/];;;","12/Sep/19 4:37 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33466/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use bootstrap block for raft consensus,FAB-16477,42124,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,30/Aug/19 1:28 AM,17/Apr/21 12:33 AM,28/Oct/23 3:09 AM,17/Apr/21 12:33 AM,v1.4.3,,,,,v2.0.0,,,,fabric-orderer,,,,,1,,,,,"The orderer's config 

general.genesisfile was used in solo and kafka mode, as in both mode it requires a new orderer to start from the beginning genesis block.

However, in terms of the raft consensus, the bootstrap block can not only be a genesis block, but also (more popular) be a latest config block.

Hence we should use bootstrap file to replace the genesis file for avoid confusion.

 

There can be further revision on the genesis method, but we can consider to do it in another separate patchset if needed.",,baohua,denyeart,guoger,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17124,,,,,FAB-17124,,,FAB-17116,FAB-17121,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yyj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,guoger,MHBauer,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 2:19 AM;baohua;https://gerrit.hyperledger.org/r/c/fabric/+/33276;;;","21/Nov/19 8:26 AM;guoger;could you submit a CR to update fabric-samples as well? It's currently broken due to the change (both GenesisFile and BootstrapFile are set) [~baohua];;;","21/Nov/19 8:58 AM;baohua;Open issue https://jira.hyperledger.org/browse/FAB-17121 to track the fabric-sample update.;;;","22/Nov/19 6:05 AM;denyeart;It's very confusing that the 'Genesis'Method of type file uses a 'Bootstrap'File config option whose default value is 'genesis'block. We've changed only one of the three names from 'genesis' to bootstrap', and now people won't be able to associate these options together. I realize that was done in a prior CR and should have mentioned there.

Also, nobody will know that the default value is 'genesisblock' since it has been removed from the yaml, and is not an intuitive default name for a 'BootstrapFile'.

I think the whole change to BootstrapFile needs to be reconsidered... if we want to proceed with the change, it should be changed consistently.;;;","22/Nov/19 6:16 AM;denyeart;Looks like there is a Part2 Jira / CR to get to the consistent naming: [https://gerrit.hyperledger.org/r/#/c/fabric/+/34437/]

I'm good with that, as long as we mention in release notes.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration test optimization: combine ITs in pvtdata,FAB-16478,42126,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,30/Aug/19 2:29 AM,11/Sep/19 1:45 AM,28/Oct/23 3:09 AM,11/Sep/19 1:45 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Optimize by combining APIs, hash, and collection ACL into one IT",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Interoperability Test,,(Please add usage information),dongming,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 3:14 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric/+/33124/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replacement for ledger.feature tests of functions covered getHistoryKey of marbles02_private,FAB-16479,42127,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,dongming,dongming,dongming,30/Aug/19 2:35 AM,06/Sep/19 5:23 AM,28/Oct/23 3:09 AM,06/Sep/19 5:23 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"This task is to ensure coverage in the fabric/integration/e2e tests for Item 44 of the ""Behave Testcases"" tab of https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741.

Add an IT test in pvtdata to test getHistoryKey.  This test will be included in the ""additional marble APIs"" section in pvtdata_test.go.

Other APIs of marbles02_private chaincode are covered in FAB-15894, item 43 in the above spreadsheet",,denyeart,dongming,,,,,,,,,,,,,,,,,FAB-16480,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqrr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 5:23 AM;denyeart;GetHistoryForKey is not supported for private data, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
marbles02_private supports getHistoryKey,FAB-16480,42128,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,dongming,dongming,30/Aug/19 2:37 AM,06/Sep/19 5:21 AM,28/Oct/23 3:09 AM,06/Sep/19 5:21 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Request marbles02_private support getHistoryKey

Fix this in fabric-samples and make sure all copies are updated and in sync (e.g. in fabric or in fabric-test/chaincodes/)",,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,FAB-16479,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqri",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 5:21 AM;denyeart;GetHistoryForKey is not supported for private data. Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove release test suite from fabric-test repo,FAB-16481,42129,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,30/Aug/19 5:23 AM,04/Sep/19 11:18 PM,28/Oct/23 3:09 AM,04/Sep/19 11:18 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Release test suite is a dead code in fabric-test repo. In future, we may not use this test suite to execute release test suite.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iws",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"03/Sep/19 10:26 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33280/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test: update base version to 1.4.4 on release 1.4 branch after 1.4.3 was released,FAB-16482,42130,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,scottz,scottz,30/Aug/19 7:46 AM,30/Aug/19 7:50 AM,28/Oct/23 3:09 AM,30/Aug/19 7:50 AM,,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,,,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwu",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 7:47 AM;scottz;https://gerrit.hyperledger.org/r/c/fabric-test/+/33281;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"peer channel create throws an error with non relevant error message with creating CHANNEL_NAME of ""mychannel""",FAB-16483,42131,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,ravinayag,ravinayag,30/Aug/19 1:46 PM,26/Sep/19 4:03 PM,28/Oct/23 3:09 AM,25/Sep/19 5:20 AM,v1.4.1,v1.4.2,v1.4.3,,,v1.4.4,v2.0.0,,,fabric-cli,fabric-orderer,fabric-peer,fabric-tools,,0,Needs-Review,,,,"*My environment:*

*Binary files at* 1.4.2

*Fabric images at* 1.4.1, 1.4.2,  1.4.3

*OS* : Ubuntu 16.4

*Fabric setup 1* : Org1 with 2 peers, orderer and CA   - Single node

*Fabric setup 2 :* Org1 with 2 peers, Org2 with a peer, Orderer and CA  - single node

My Configtx, crypto-config.yml and docker settings are similar settings from sample network.  you can reference here  [https://stackoverflow.com/questions/57291538/generating-new-channel-configtx/57720304#57720304]

I mapped my cli to peer0.org1, After i started my docker images, i tried to execute peer channel command as shown below and ended with errors. I also tried with TLS settings but no luck

docker exec cli peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx

*The intention of filing the bug here to change the verbiage of the error messages.* 

I tried with both fabric setup 1 and 2 and ended with same error messages. 

*How I fixed :  As the curious researcher i tried with different channel name, that helps me to create the channel name.*

*From Orderer Logs :* 

```

{{2019-08-28 10:13:50.847 UTC [core.comm] ServerHandshake -> ERRO 016 TLS handshake failed with error tls: first record does not look like a TLS handshake server=Orderer remoteaddress=172.21.0.9:55802
 2019-08-28 10:18:23.071 UTC [orderer.common.broadcast] ProcessMessage -> WARN 017 [channel: mychannel] Rejecting broadcast of config message from 172.21.0.9:55818 because of error: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
 2019-08-28 10:18:23.071 UTC [comm.grpc.server] 1 -> INFO 018 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.21.0.9:55818 grpc.code=OK grpc.call_duration=529.651µs
 2019-08-28 10:18:23.074 UTC [common.deliver] Handle -> WARN 019 Error reading from 172.21.0.9:55816: rpc error: code = Canceled desc = context canceled}}

{{```}}

*From Native OS*

``` 

{{ravi@lab:~/hypldgr$ docker exec cli peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls true --cafile $ORDERER_CA
 2019-08-28 10:29:35.604 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
 Error: got unexpected status: FORBIDDEN – implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
 ravi@lab:~/hypldgr$}}

```

 

*From CLI*

```

 

{{root@e36b98503955:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx --tls true --cafile $ORDERER_CA
 2019-08-28 10:28:49.049 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
 2019-08-28 10:28:49.493 UTC [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /etc/hyperledger/fabric/configtx.yaml
 2019-08-28 10:28:49.493 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 003 Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
 2019-08-28 10:28:49.494 UTC [common.tools.configtxgen.encoder] NewChannelGroup -> WARN 004 Default policy emission is deprecated, please include policy specifications for the channel group in configtx.yaml
 Error: got unexpected status: BAD_REQUEST – Attempted to include a member which is not in the consortium}}

{{```}}",,caod,jyellick,ravinayag,steveLiuu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 11:29 PM;ravinayag;sample_config_FAB-16483.tar;https://jira.hyperledger.org/secure/attachment/17844/sample_config_FAB-16483.tar",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yzn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,jyellick,ravinayag,steveLiuu,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Aug/19 6:13 PM;steveLiuu;It may be configtx.yaml problem. You can try to use this one. [https://jicki.me/fabric,kubernetes/2019/01/21/hyperledger-fabric-1.4-to-k8s/]

 ;;;","30/Aug/19 11:36 PM;ravinayag;I don't think so,  because of same configtx.yaml file works with the new channel name.;;;","31/Aug/19 4:13 AM;caod;[~jyellick] do you think there's an area where the error messages can be improved for implicit meta policies? Or any ideas on why it was failing in the first place with the default channel name?;;;","03/Sep/19 10:10 AM;jyellick;The client is deliberately/explicitly given a fairly vague error message.  The problem with more specific messages, is that it allows users who are not a member of a channel to do things like probe for membership.

The orderer logs are usually more helpful, in this case, it says that it was trying to process a config message from the client, but that it was rejected, because the client does not satisfy the Writers policy for this channel.  Had this user been authorized to broadcast on the channel, you would have seen a slightly more explicit message indicating that ""could not apply config update for existing channel"" or something similar.

My strong suspicion is that you are attempting to create a channel which already exists.  Because the orderer detects that the channel already exists, it treats your 'create' as an update, leading to the slightly odd error you see.

Of course error messages can and should be improved.  We had already tackled this particular issue in another path, but that path was for the same user trying to recreate the channel, in this case, it appears the user does not have write access to the extant channel.;;;","05/Sep/19 8:20 PM;ravinayag;I have ran this again and took the Orderer logs and console logs for ref. again. 

I 'm not sure what you mean by User access, As i was running Admin privileges. My MSP Config for ref. 

If you want to have specific user test, Do share those details i can trail this  in my lab.

*orderer Container :*

- ORDERER_GENERAL_LOCALMSPDIR=/var/hyperledger/orderer/msp

*Volumes :*

- ./channel-artifacts/genesis.block:/var/hyperledger/orderer/orderer.genesis.block
 - ./crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/msp:/var/hyperledger/orderer/msp
 - ./crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/tls/:/var/hyperledger/orderer/tls

*Cli Container :*
 * CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp

 
h3. {{+*From Orderer*+}}
{quote}{{```}}
{{2019-09-05 09:26:05.225 UTC [orderer.common.server] Start -> INFO 005 Starting orderer:}}
{{ Version: 1.4.1}}
{{ Commit SHA: 87074a7}}
{{ Go version: go1.11.5}}
{{ OS/Arch: linux/amd64}}
{{2019-09-05 09:26:05.225 UTC [orderer.common.server] Start -> INFO 006 Beginning to serve requests}}
{{2019-09-05 10:50:22.647 UTC [orderer.common.broadcast] ProcessMessage -> WARN 007 [channel: syschannel] Rejecting broadcast of config message from 172.21.0.10:50284 because of error: implicit policy evaluation failed - 0 sub-policies were satisfi ed, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied}}
{{2019-09-05 10:50:22.647 UTC [comm.grpc.server] 1 -> INFO 008 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.21.0.10:50284 grpc.code=OK grpc.call_duration=82.138364ms}}
{{2019-09-05 10:50:22.655 UTC [common.deliver] Handle -> WARN 009 Error reading from 172.21.0.10:50282: rpc error: code = Can celed desc = context canceled}}
{{2019-09-05 10:50:22.661 UTC [comm.grpc.server] 1 -> INFO 00a streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.21.0.10:50282 error=""rpc error: code = Canceled desc = context canceled"" grpc.cod e=Canceled grpc.call_duration=108.539913ms}}
{{2019-09-05 10:54:11.617 UTC [orderer.common.broadcast] ProcessMessage -> WARN 00b [channel: syschannel] Rejecting broadcast of config message from 172.21.0.10:50300 because of error: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied}}
{{2019-09-05 10:54:11.618 UTC [comm.grpc.server] 1 -> INFO 00c streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.21.0.10:50300 grpc.code=OK grpc.call_duration=706.89µs}}
{{2019-09-05 10:54:11.621 UTC [common.deliver] Handle -> WARN 00d Error reading from 172.21.0.10:50298: rpc error: code = Canceled desc = context canceled}}
{{2019-09-05 10:54:11.621 UTC [comm.grpc.server] 1 -> INFO 00e streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.21.0.10:50298 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=49.191268ms}}
{{2019-09-05 10:59:13.785 UTC [orderer.common.broadcast] ProcessMessage -> WARN 00f [channel: syschannel] Rejecting broadcast of config message from 172.21.0.10:50312 because of error: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied}}
{{2019-09-05 10:59:13.789 UTC [comm.grpc.server] 1 -> INFO 012 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.21.0.10:50310 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=24.702718ms}}
{{2019-09-05 11:01:31.884 UTC [comm.grpc.server] 1 -> INFO 013 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=172.21.0.10:50328 grpc.code=OK grpc.call_duration=176.672662ms}}
{{2019-09-05 11:01:31.910 UTC [fsblkstorage] newBlockfileMgr -> INFO 014 Getting block information from block storage}}
{{2019-09-05 11:01:31.915 UTC [orderer.commmon.multichannel] newChain -> INFO 015 Created and starting new chain appchannel}}
{{2019-09-05 11:01:31.922 UTC [comm.grpc.server] 1 -> INFO 016 streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=172.21.0.10:50326 grpc.code=OK grpc.call_duration=215.381986ms}}{quote}
h3. 
{{+*From native OS :*+}}
h3. 
{{ravi@lab:~/hypldgr$ export CHANNEL_NAME1=""syschannel""}}
{{ravi@lab:~/hypldgr$ export CHANNEL_NAME2=""appchannel""}}
{{ravi@lab:~/hypldgr$ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME1}}
{{2019-09-05 16:19:25.448 IST [common.tools.configtxgen] main -> INFO 001 Loading configuration}}
{{2019-09-05 16:19:25.670 IST [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:19:25.744 IST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 orderer type: solo}}
{{2019-09-05 16:19:25.744 IST [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 004 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:19:25.744 IST [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 005 Generating new channel configtx}}
{{2019-09-05 16:19:25.810 IST [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 006 Writing new channel tx}}
{{ravi@lab:~/hypldgr$ configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID $CHANNEL_NAME1 -asOrg Org1MSP}}
{{2019-09-05 16:23:47.457 IST [common.tools.configtxgen] main -> INFO 001 Loading configuration}}
{{2019-09-05 16:23:47.526 IST [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:23:47.633 IST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 orderer type: solo}}
{{2019-09-05 16:23:47.633 IST [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 004 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:23:47.633 IST [common.tools.configtxgen] doOutputAnchorPeersUpdate -> INFO 005 Generating anchor peer update}}
{{2019-09-05 16:23:47.634 IST [common.tools.configtxgen] doOutputAnchorPeersUpdate -> INFO 006 Writing anchor peer update}}
{{ravi@lab:~/hypldgr$ docker exec cli peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME1 -f ./channel-artifacts/channel-artifacts/channel.tx}}
{{2019-09-05 10:54:11.572 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized}}
{{Error: got unexpected status: FORBIDDEN -- implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied}}
{{ravi@lab:~/hypldgr$}}
{{ravi@lab:~/hypldgr$ configtxgen -version}}
{{configtxgen:}}
{{ Version: 1.4.2}}
{{ Commit SHA: c6cc550}}
{{ Go version: go1.11.5}}
{{ OS/Arch: linux/amd64}}
{{ravi@lab:~/hypldgr$ docker exec cli peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME1 -f ./channel-artifacts/channel-artifacts/channel.tx}}
{{2019-09-05 10:59:13.760 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized}}
{{Error: got unexpected status: FORBIDDEN -- implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission deniedravi@lab:~/hypldgr$}}
{{ravi@lab:~/hypldgr$}}
{{ravi@lab:~/hypldgr$}}
{{ravi@lab:~/hypldgr$}}
{{ravi@lab:~/hypldgr$ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME2}}
{{2019-09-05 16:30:49.340 IST [common.tools.configtxgen] main -> INFO 001 Loading configuration}}
{{2019-09-05 16:30:49.434 IST [common.tools.configtxgen.localconfig] Load -> INFO 002 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:30:49.506 IST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 003 orderer type: solo}}
{{2019-09-05 16:30:49.507 IST [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 004 Loaded configuration: /home/ravi/hypldgr/configtx.yaml}}
{{2019-09-05 16:30:49.507 IST [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 005 Generating new channel configtx}}
{{2019-09-05 16:30:49.508 IST [common.tools.configtxgen] doOutputChannelCreateTx -> INFO 006 Writing new channel tx}}
{{ravi@lab:~/hypldgr$ docker exec cli peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME2 -f ./channel-artifacts/channel-artifacts/channel.tx}}
{{2019-09-05 11:01:31.705 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized}}
{{2019-09-05 11:01:31.919 UTC [cli.common] readBlock -> INFO 002 Received block: 0}}

 

 
{quote}{{*From configtx.yaml :*}}

Organizations:


 - &OrdererOrg
 Name: OrdererOrg
 ID: OrdererMSP
 MSPDir: crypto-config/ordererOrganizations/example.com/msp
 Policies:
 Readers:
 Type: Signature
 Rule: ""OR('OrdererMSP.member')""
 Writers:
 Type: Signature
 Rule: ""OR('OrdererMSP.member')""
 Admins:
 Type: Signature
 Rule: ""OR('OrdererMSP.admin')""

- &Org1
 Name: Org1MSP
 ID: Org1MSP
 MSPDir: crypto-config/peerOrganizations/org1.example.com/msp
 Policies:
 Readers:
 Type: Signature
 Rule: ""OR('Org1MSP.admin', 'Org1MSP.peer', 'Org1MSP.client')""
 Writers:
 Type: Signature
 Rule: ""OR('Org1MSP.admin', 'Org1MSP.client')""
 Admins:
 Type: Signature
 Rule: ""OR('Org1MSP.admin')""
 AnchorPeers:
 - Host: peer0.org1.example.com
 Port: 7051

Channel: &ChannelDefaults
 Policies:
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""
 Capabilities:
 <<: *ChannelCapabilities
Profiles:

TwoOrgsOrdererGenesis:
 <<: *ChannelDefaults
 Orderer:
 <<: *OrdererDefaults
 Organizations:
 - *OrdererOrg
 Capabilities:
 <<: *OrdererCapabilities
 Consortiums:
 SampleConsortium:
 Organizations:
 - *Org1
 TwoOrgsChannel:
 Consortium: SampleConsortium
 <<: *ChannelDefaults
 Application:
 <<: *ApplicationDefaults
 Organizations:
 - *Org1
 Capabilities:
 <<: *ApplicationCapabilities
{quote};;;","24/Sep/19 5:14 AM;jyellick;The above orderer logs are incomplete.  Please post (as a file to the description of the JIRA) the complete orderer logs for when your error occurs.  As mentioned above, it seems most likely that this channel already exists.;;;","24/Sep/19 11:27 PM;ravinayag;[~jyellick],  you right, the channel already exists.. The description of this Jira is to give the right informational verbiage to the operator when the channel already exists. 

 

I'm sharing my complete work environment you can replicate/duplicate at your machine.

console.logs, env.logs and configtx, crypto-config.yaml, docker-compose file.

 

filename attached to this jira : sample_config_FAB-16483.tar

 

 

 ;;;","25/Sep/19 2:00 AM;jyellick;I've submitted a CR which decorates the error with a little bit more information, saying the channel exists.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Channel creation failed when processMessagesToBlocks didn't work,FAB-16484,42133,,Bug,Returned,FAB,Fabric,software,denyeart,,,Medium,,,steveLiuu,steveLiuu,30/Aug/19 6:02 PM,20/Nov/20 7:21 AM,28/Oct/23 3:09 AM,,v1.4.2,v1.4.3,,,,,,,,fabric-orderer,,,,,0,bug,kafka,orderer,,"*Development environment:* Kubernetes, fabric node sdk

*Fabric network:* one orderer, two orgs with 2 peers

*Fabric version:* 1.4.2

*Kafka consensus:* 4 kafka brokers, 3 zookeepers

We have built a fabric network successfully several times but the success probability is around 50/50. Sometimes the channel can't be created. Sometimes query chaincode is unavailable after instantiating chaincode but the configs are exactly the same. After tracing orderer logs, we found that the `processMessagesToBlocks` function didn't work properly. The orderer didn't invoke the processMessagesToBlocks function when errors occur. On the contrary, everything works fine when processMessagesToBlocks shows in the orderer log. The followings are the logs: 
{code:java}
# successfully create channel

[34m2019-08-29 06:04:31.912 UTC [orderer.consensus.kafka] startThread -> INFO 649[0m [channel: mychannel] Start phase completed successfully
[36m2019-08-29 06:04:31.912 UTC [orderer.consensus.kafka] processMessagesToBlocks -> DEBU 64a[0m [channel: mychannel] Successfully unmarshalled consumed message, offset is 0. Inspecting type...
[36m2019-08-29 06:04:31.912 UTC [orderer.consensus.kafka] processConnect -> DEBU 64b[0m [channel: mychannel] It's a connect message - ignoring

# fail to create channel
[34m2019-08-29 08:52:57.604 UTC [orderer.consensus.kafka] startThread -> INFO 636[0m [channel: mychannel] Start phase completed successfully
[36m2019-08-29 08:52:57.604 UTC [orderer.consensus.kafka.sarama] func1 -> DEBU 637[0m Closed connection to broker kafka-2.broker.kafka:9092{code}
The error only occurs when using the kafka consensus. Everything works fine when using solo.

startThread logs are uploaded to Attachments.

 ",,caod,guoger,jyellick,steveLiuu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/19 6:58 PM;steveLiuu;20190829_fail_query2.zip;https://jira.hyperledger.org/secure/attachment/17762/20190829_fail_query2.zip","04/Sep/19 3:55 PM;steveLiuu;20190829_success_kafka.zip;https://jira.hyperledger.org/secure/attachment/17758/20190829_success_kafka.zip","30/Aug/19 6:01 PM;steveLiuu;configtx.yaml;https://jira.hyperledger.org/secure/attachment/17739/configtx.yaml","25/Sep/19 5:44 PM;steveLiuu;consumer-fail.zip;https://jira.hyperledger.org/secure/attachment/17847/consumer-fail.zip","25/Sep/19 5:44 PM;steveLiuu;consumer-success.zip;https://jira.hyperledger.org/secure/attachment/17848/consumer-success.zip","01/Oct/19 11:36 AM;steveLiuu;kafka_sts.json;https://jira.hyperledger.org/secure/attachment/17859/kafka_sts.json","03/Sep/19 12:33 PM;steveLiuu;orderer-fail.log;https://jira.hyperledger.org/secure/attachment/17749/orderer-fail.log","03/Sep/19 12:33 PM;steveLiuu;orderer-success.log;https://jira.hyperledger.org/secure/attachment/17750/orderer-success.log","31/Aug/19 3:39 AM;steveLiuu;startThread-fail.log;https://jira.hyperledger.org/secure/attachment/17741/startThread-fail.log","31/Aug/19 3:39 AM;steveLiuu;startThread-success.log;https://jira.hyperledger.org/secure/attachment/17740/startThread-success.log",,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z03:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,guoger,jyellick,steveLiuu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Aug/19 12:32 AM;caod;[~jyellick] any ideas? fwiw I think even in the failure case it is invoking `processMessagesToBlocks` but it's hard to see where it fails in that function (or even if it is failing) without a logger message [https://github.com/hyperledger/fabric/blob/release-1.4/orderer/consensus/kafka/chain.go#L339];;;","31/Aug/19 1:05 AM;caod;[~steveLiuu] can you post any other logs from further above in the startThread if there are any? Curious to see if maybe it failed to setup the topic for channel;;;","31/Aug/19 3:41 AM;steveLiuu;Hi, [~caod]

I have uploaded the logs.;;;","31/Aug/19 4:38 AM;caod;[~steveLiuu] any other logs afterwards? It seems the connection is closed to the broker in both cases so it might be unrelated as to why `processMessagesToBlock` isn't showing any logs. Rather if it's not logging anything it's likely that there is nothing in the stream of ordered messages for the kafka consumer;;;","01/Sep/19 7:13 PM;steveLiuu;[~caod] There is no other logs afterward. Why the stream of ordered messages are missing sometimes?

BTW, sometimes the orderer fails at the beginning. Thus, we restart the orderer and then the orderer works fine. ;;;","03/Sep/19 10:14 AM;jyellick;The {{processMessagesToBlock}} seems like a red herring to me.  My guess is that some command is failing early on, perhaps channel creation, and your scripts are not detecting the failure and retrying or aborting?

Kafka takes time to start up, so, for the first few seconds through first few minutes, your requests will see a response of SERVICE_UNAVAILABLE.  It sounds to me like perhaps you are sending in a channel creation request which is being rejected because Kafka is not yet up (about half the time), and everything fails from thereon out.  It might not be exactly that, but carefully walking through looking for uncaught errors would be where I would start.  Because Solo does not have any dependencies, it almost never returns SERVICE_UNAVAILABLE.;;;","03/Sep/19 12:32 PM;steveLiuu;Hi, [~jyellick]

*[UPDATE]* The warning log below isn't showing up in every orderer error logs

After walking through the orderer log again, we found a warning log.
{code:java}
[33m2019-08-29 08:53:15.853 UTC [orderer.common.broadcast] ProcessMessage -> WARN 668[0m [channel: mychannel] Rejecting broadcast of config message from 10.42.0.1:58076 because of error: error applying config update to existing channel 'mychannel': error authorizing update: error validating ReadSet: proposed update requires that key [Group] /Channel/Application be at version 0, but it is currently at version 1
{code}
This is the only error log which is different from the successful logs and we didn't find the SERVICE_UNAVAILABLE error. 

BTW, we upload both successful and failed orderer logs. :);;;","03/Sep/19 1:31 PM;jyellick;Are you certain that you're clearing your persistent volumes (both orderers and brokers)? The error above looks like you're attempting to create a channel which already exists.;;;","03/Sep/19 5:53 PM;steveLiuu;[~jyellick] Yes, the persistent volumes are clearing. That error didn't show up in every error logs. Maybe, that was the accidents.

We found that keeping restarting the orderer with the same settings can solve this {{processMessagesToBlock }}problem. However, we still wonder what happen to the orderer.;;;","03/Sep/19 11:10 PM;jyellick;To re-iterate, {{processMessagesToBlock}} is almost definitely not the problem.  

Looking closely at both your success and failure logs, the channel is created successfully in both cases.  In the failure log, it appears there is an attempt to create the channel a second time, which (correctly) fails.

Are you trying to send the channel creation or other transactions to multiple orderers? In the Fabric ordering model, you need only submit to a single orderer.;;;","04/Sep/19 12:23 PM;steveLiuu;[~jyellick] No, we use only one orderer in this scenario.

Sorry, I didn't describe the scenario of channel creation failure clearly making you confused. The channel creation failure in this scenario means that some of the channel functionalities didn't work properly. The channel is ""built"" but it didn't work as expected.

For example, as long as {{processMessagesToBlock}} and {{processConnect}} didn't appear in the log, {{joinChannel}} may work but {{waitForBlockNum}} will not increase. Even though we have {{instantiated}} or {{invoked}} the chaincode, the block seems not to be created. That's what I was asking. 

The log below is also in the attachment.
{code:java}
[36m2019-08-29 08:25:37.841 UTC [fsblkstorage] waitForBlock -> DEBU 7ba[0m Going to wait for newer blocks. maxAvailaBlockNumber=[0], waitForBlockNum=[1]{code}
Thank you so much for your reply.;;;","04/Sep/19 2:19 PM;jyellick;According to the orderer logs: The Kafka producer is setup correctly and sends a connect message, the consumer is setup correctly on both testchainid and mychannel, and receives messages on testchainid, but not on mychannel.

It's almost as if the Kafka cluster the producer is connecting to is different from the one the consumer is connecting to.  Can you check your Kafka broker logs to look for anything suspicious? Are the the partition offsets growing / are messages getting produced to the Kafka partitions? (You may inspect the topic with the channel name 'mychannel'). What happens if you restart your orderer? What happens if you send more transactions to the orderer?

The behavior is very odd, and had we not executed this exact test with Kafka networks thousands of times, I would think it is a bug in Fabric.  However, this scenario is exactly what's done in byfn, as well as our integration tests, so I suspect a deployment issue.;;;","04/Sep/19 7:24 PM;steveLiuu;[~jyellick] I have checked the kafka brokers and zookeepers log. It seems the logs are similar both in failure and success. I also uploaded the file to the attachment. 

*What happens if you restart your orderer?*
 The orderer may work after several restarts. 

*What happens if you send more transactions to the orderer?*
 Under the failed creation situation, only the grpc call log of channel creation appears in orderer's log. I also have tried to send repeatedly {{instantiate txs}} to the orderer. When I check the peer {{chaincode list --instantiated -C mychannel}}, there is no any instantiated chaincode there. However, Installed chaincode is searchable in {{peer chaincode list --install}}.

I am curious about why the same deployment and procedure to have a different result.

*Attachment*

[^20190829_fail_query2.zip]

[^20190829_success_kafka.zip];;;","05/Sep/19 2:05 AM;jyellick;There's nothing obvious in the logs which indicate why you'd be seeing this failure.  I'd suggest the next debugging step is to use the Kafka console producer and console consumer to see if the brokers are behaving as you would expect them to.  I would start by consuming the mychannel topic on the brokers.  If you see a bunch of binary data, including a PEM encoded cert, then the message made it to Kafka, if you do not, then the message produced by the orderer did not make it to the broker.  We can debug from there.

You can see the console consumer documentation here: https://kafka.apache.org/quickstart#quickstart_consume;;;","24/Sep/19 5:01 AM;jyellick;Is this still an issue? Were you able to debug using the console consumer?;;;","25/Sep/19 5:54 PM;steveLiuu;[~jyellick] Yes, I saw the binary data when channel creation is fine. It seems that the message didn't make it to kafka when creating channel failed to finish the process. I have uploaded the log of both situations.

[^consumer-fail.zip]

[^consumer-success.zip];;;","26/Sep/19 1:36 AM;jyellick;I have a guess as to what may be the culprit here.  Your Kafka configuration specifies {{num.partitions=4}}, typically we would specify that {{num.partitions=1}}, as we require a total order across all messages (and messages distributed across partitions have no relative order).  The code _should_ be ensuring that the messages get sent to the right partition, but, given a lot of different factors, (which partitioning scheme is being used, which API style Sarama is using under the covers), so I think it's worth trying with that Kafka parameter tuned to 1.;;;","01/Oct/19 11:36 AM;steveLiuu;[~jyellick] Hi, it seems that didn't work. The channel still not built properly. Below are the exec command and k8s YAML of the orderer.

*Attachment*

[^kafka_sts.json]
{code:java}
let execCommand = ""exec kafka-server-start.sh /opt/kafka/config/server.properties --override zookeeper.connect="" + zooConnect + "" --override default.replication.factor=1 --override  min.insync.replicas=1 --override broker.id=${HOSTNAME##*-}  --override listeners=PLAINTEXT://:9092     --override log.dir=/var/lib/kafka   --override auto.create.topics.enable=true    --override auto.leader.rebalance.enable=true   --override background.threads=10    --override compression.type=producer   --override delete.topic.enable=false   --override leader.imbalance.check.interval.seconds=300   --override leader.imbalance.per.broker.percentage=10    --override log.flush.interval.messages=9223372036854775807    --override log.flush.offset.checkpoint.interval.ms=60000    --override log.flush.scheduler.interval.ms=9223372036854775807   --override log.retention.bytes=-1   --override log.retention.hours=168   --override log.roll.hours=168   --override log.roll.jitter.hours=0  --override log.segment.bytes=1073741824   --override log.segment.delete.delay.ms=60000  --override message.max.bytes=1000012  --override num.io.threads=8   --override num.network.threads=3   --override num.recovery.threads.per.data.dir=1   --override num.replica.fetchers=1  --override offset.metadata.max.bytes=4096  --override offsets.commit.required.acks=-1  --override offsets.commit.timeout.ms=5000  --override offsets.load.buffer.size=5242880   --override offsets.retention.check.interval.ms=600000   --override offsets.retention.minutes=1440   --override offsets.topic.compression.codec=0   --override offsets.topic.num.partitions=50   --override offsets.topic.replication.factor=3  --override offsets.topic.segment.bytes=104857600  --override queued.max.requests=500  --override quota.consumer.default=9223372036854775807  --override quota.producer.default=9223372036854775807  --override replica.fetch.min.bytes=1  --override replica.fetch.wait.max.ms=500   --override replica.high.watermark.checkpoint.interval.ms=5000  --override replica.lag.time.max.ms=10000 --override replica.socket.receive.buffer.bytes=65536  --override replica.socket.timeout.ms=30000  --override request.timeout.ms=30000  --override socket.receive.buffer.bytes=102400  --override socket.request.max.bytes=104857600  --override socket.send.buffer.bytes=102400 --override unclean.leader.election.enable=true --override zookeeper.session.timeout.ms=6000 --override zookeeper.set.acl=false --override broker.id.generation.enable=true --override connections.max.idle.ms=600000 --override controlled.shutdown.enable=true --override controlled.shutdown.max.retries=3 --override controlled.shutdown.retry.backoff.ms=5000 --override controller.socket.timeout.ms=30000  --override fetch.purgatory.purge.interval.requests=1000  --override group.max.session.timeout.ms=300000 --override group.min.session.timeout.ms=6000 --override inter.broker.protocol.version=2.2.0 --override log.cleaner.backoff.ms=15000 --override log.cleaner.dedupe.buffer.size=134217728 --override log.cleaner.delete.retention.ms=86400000 --override log.cleaner.enable=true --override log.cleaner.io.buffer.load.factor=0.9 --override log.cleaner.io.buffer.size=524288 --override log.cleaner.io.max.bytes.per.second=1.7976931348623157E308 --override log.cleaner.min.cleanable.ratio=0.5 --override log.cleaner.min.compaction.lag.ms=0 --override log.cleaner.threads=1 --override log.cleanup.policy=delete --override log.index.interval.bytes=4096 --override log.index.size.max.bytes=10485760 --override log.message.timestamp.difference.max.ms=9223372036854775807 --override log.message.timestamp.type=CreateTime --override log.preallocate=false --override log.retention.check.interval.ms=300000 --override max.connections.per.ip=2147483647 --override num.partitions=1 --override producer.purgatory.purge.interval.requests=1000 --override replica.fetch.backoff.ms=1000 --override replica.fetch.max.bytes=1048576 --override replica.fetch.response.max.bytes=10485760 --override reserved.broker.max.id=1000""
{code}
 ;;;","08/Oct/19 4:13 PM;guoger;I'm seeing this error in the log you provided

{code}
[2019-09-25 08:20:33,176] ERROR [KafkaApi-0] Number of alive brokers '2' does not meet the required replication factor '3' for the offsets topic (configured via 'offsets.topic.replication.factor'). This error can be ignored if the cluster is starting up and not all brokers are up yet. (kafka.server.KafkaApis)
{code}

can you make sure all brokers are up and running before attempting channel creation?;;;",,,,,,,,,,,,,,,,,
"In fabric-test, remove dependencies on chaincodes and artifacts in other repositories",FAB-16485,42135,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,scottz,scottz,30/Aug/19 10:34 PM,16/Apr/20 11:57 AM,28/Oct/23 3:09 AM,16/Apr/20 11:57 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"The goal is to make our test environment self-sufficient and more stable, not to test other chaincodes such as those in fabric-samples or fabric repositories. If a cc exists in another repo, that other repo owns it and should have their own tests to verify it works.

Review current cc usage for all tests inside fabric-test, and if necessary create our own chaincodes that exercise the logic funtionality desired, or make local copies in fabric-test/chaincodes/. We don't want our tests to break when the test chaincodes get changed by others.

An argument could be made for exceptions for marbles02 and marbles02_private, which are fully supported by fabric team (currently and intended to provide full API coverage and expect to be maintained continually; we could consider using these from remote repositories (currently fabric-samples). Discuss with the leads as appropriate. However, even for these, it may still be preferable to contain local copies within fabric-test repo. If for some reason the cc evolves, then we could update our own copies and fix our tests together in a controlled manner at aa convenient and appropriate time, to avoid unexpected test failures and CI disruptions.",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwri",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 11:57 AM;btl5037;This work was completed as part of general cleanup;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test 12hr test says PASSED when tx failures occurred,FAB-16486,42139,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,31/Aug/19 12:47 AM,12/Sep/19 10:33 PM,28/Oct/23 3:09 AM,12/Sep/19 10:33 PM,,,,,,,,,,fabric-quality,,,,,0,ci-failure,,,,The test results in the pteReport log file summary should not say PASSED when there are failures in this line such as:`CONSTANT INVOKE Overall failures: proposal 41932 transactions 2`. We need to add an assertion in 12HrTest.py that checks for the string in the output `Overall failures: proposal 0 transactions 0` or else the test should fail.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16245,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzy",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 10:33 PM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/33351];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update packages,FAB-16487,42145,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,ryjones,ryjones,31/Aug/19 4:09 AM,07/Sep/19 4:04 AM,28/Oct/23 3:09 AM,04/Sep/19 7:40 PM,,,,,,v1.4.4,v2.0.0,,,fabric-samples,,,,,0,,,,,https://gerrit.hyperledger.org/r/c/fabric-samples/+/33302,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z1v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to 2.0 doc,FAB-16488,42146,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,joe-alewine,joe-alewine,joe-alewine,31/Aug/19 4:14 AM,04/Dec/19 1:46 AM,28/Oct/23 3:09 AM,04/Dec/19 1:46 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,0,,,,,Break the current upgrade doc into one doc for channel upgrades (capabilities) and another for node upgrades.,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:6a",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add CODEOWNERS,FAB-16489,42147,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,31/Aug/19 4:40 AM,18/Sep/19 10:42 PM,28/Oct/23 3:09 AM,12/Sep/19 6:38 PM,,,,,,,,,,fabric-test,homebrew-fabric,,,,0,,,,,,,ryjones,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16634,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z2b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,swetharepakula,,,,,,,,,,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/crypto-0.1.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,main,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dev,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/go_modules/test/performance/golang.org/x/net-0.7.0,main-emeritius,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,purge-pd,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/github.com/prometheus/client_golang-1.11.1,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,correct-nodeenv-version,mergify/bp/release-2.5/pr-3782,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,mergify/bp/release-2.4/pr-3646,true,"04/Sep/19 1:42 AM;swetharepakula;[https://gerrit.hyperledger.org/r/#/c/fabric-chaincode-evm/+/33323/];;;","07/Sep/19 4:02 AM;ryjones;[https://gerrit.hyperledger.org/r/#/c/fabric-test-resources/+/33327/]

[https://gerrit.hyperledger.org/r/#/c/homebrew-fabric/+/33317/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-maste job: Failure on complete regression test suite.,FAB-16490,42148,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,vijaypunugubati,vijaypunugubati,31/Aug/19 5:27 AM,13/Sep/19 11:10 PM,28/Oct/23 3:09 AM,13/Sep/19 11:10 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"The complete regression test suite was failed with the error ''unable to get the chaincode packages (dependencies)"" from fabric as they were recently moved to new repo's named *""fabric-protos, fabric-chaincode-go""*

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*

{color:#de350b}*This is one failure observed across all the feature tests fail.*{color}
{code:java}
/Error: error getting chaincode deployment spec for mycc: error getting chaincode package bytes: failed to calculate dependencies: incomplete package: github.com/hyperledger/fabric/core/chaincode/shim/ code placeholder
{code}
*Links for the new repo's:* 

[https://github.com/hyperledger/fabric-protos]

[https://github.com/hyperledger/fabric-chaincode-go]

*Ref for the files has to be changed in the fabric-test repo:*

[https://github.com/hyperledger/fabric-test/search?q=protos&unscoped_q=protos]

*Ref for the commit that changed in fabric repo:*

[https://github.com/hyperledger/fabric/commit/957e218dc468b1c099a7733a73f66931dae742c4]

As in future there won't be using the vendor from fabric repo i.e. GOPATH, planning to do much of using the modules from new repo's mentioned above.

*Build logs:*

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/336/consoleFull]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/336/Behave_Test_Logs/]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16382,,,FAB-16545,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z2j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/19 1:04 AM;scottz;I think this will be fixed when FAB-16382 story is finished. The initial update to move the protos broke the tests, and Matt is working on other updates to fix the fabric-test test failures among other things.
https://gerrit.hyperledger.org/r/c/fabric-test/+/33352;;;","13/Sep/19 11:10 PM;scottz;This problem was solved by [https://gerrit.hyperledger.org/r/c/fabric-test/+/33352];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Link to JavaDoc broken,FAB-16492,42151,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,paranjan,paranjan,01/Sep/19 4:01 AM,14/Nov/19 9:56 AM,28/Oct/23 3:09 AM,06/Sep/19 1:17 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Link to java doc broken for Chaincode and ChainCodeStub.

CR provided.",,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z37:",,,,Unset,Unset,,"The ""Java"" links for Chaincode API at this page are broken: https://hyperledger-fabric.readthedocs.io/en/release-1.4/chaincode4ade.html",,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ChainID -> ChannelID - core/chaincode,FAB-16499,42171,17833,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,03/Sep/19 8:09 PM,12/Sep/19 7:58 PM,28/Oct/23 3:09 AM,12/Sep/19 7:58 PM,,,,,,,,,,,,,,,0,,,,,,,iamksseo2,sykesm,,,,,,,,,,,,,,,,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z7f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),iamksseo2,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 4:01 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33376;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing java_package statements,FAB-16501,42173,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bestbeforetoday,bestbeforetoday,bestbeforetoday,03/Sep/19 11:59 PM,04/Sep/19 12:25 AM,28/Oct/23 3:09 AM,04/Sep/19 12:24 AM,,,,,,,,,,,,,,,0,,,,,"_java_package_ statements are missing from the following protobuf definitions in the *fabric-protos* repository:
 * protocol.proto
 * message.proto",,bestbeforetoday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z7v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,,,,,,,,,,,dependabot/bundler/docs/nokogiri-1.14.3,0.2.x,dependabot/bundler/docs/activesupport-6.0.6.1,dependabot/go_modules/bindings/go-apiv1/golang.org/x/text-0.3.8,0.1.x,dependabot/go_modules/golang.org/x/net-0.7.0,main,dependabot/go_modules/golang.org/x/text-0.3.8,dependabot/go_modules/bindings/go-apiv1/golang.org/x/net-0.7.0,dependabot/bundler/docs/commonmarker-0.23.9,dependabot/go_modules/bindings/go-apiv2/golang.org/x/net-0.7.0,release-2.3,release-2.2,dependabot/go_modules/bindings/go-apiv2/golang.org/x/text-0.3.8,github-settings,dependabot/go_modules/bindings/go-apiv2/golang.org/x/sys-0.1.0,dependabot/go_modules/golang.org/x/sys-0.1.0,dependabot/go_modules/bindings/go-apiv1/golang.org/x/sys-0.1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 12:23 AM;bestbeforetoday;PR: [https://github.com/hyperledger/fabric-protos/pull/6];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FabCar javascript script query.js returns error,FAB-16502,42174,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,ashish.cppdev,ashish.cppdev,04/Sep/19 1:42 AM,12/Sep/19 3:01 AM,28/Oct/23 3:09 AM,12/Sep/19 3:01 AM,,,,,,,,,,,,,,,0,,,,,"Hi,

I have successfully instantiated the chaincode for FabCar and I can see all of the peers are up and running. I can also check the docker logs and can see that the sample invoke works and the ledger successfully initializes when the peers are brought up.

 

However, when I move over to the FabCar application directory (fabric-samples/fabcar/javascript), I am not able to get query.js to run successfully.

 

I am able to run enrollAdmin and registerUser, but when I run node query.js, I get the following error:
{quote}2019-09-03T16:00:10.737Z - error: [Channel.js]: TypeError: Incorrectly typed arguments to startBatch
 2019-09-03T16:00:10.749Z - error: [Channel.js]: TypeError: Incorrectly typed arguments to startBatch
 2019-09-03T16:00:10.749Z - error: [Network]: _initializeInternalChannel: Unable to initialize channel. Attempted to contact 2 Peers. Last error was TypeError: Incorrectly typed arguments to startBatch
 Failed to submit transaction: Error: Unable to initialize channel. Attempted to contact 2 Peers. Last error was TypeError: Incorrectly typed arguments to startBatch
{quote}
 

I am able to run the query on the chaincode directly by invoking peer chaincode query in the docker container:

 
{quote}[root@sd-d5d8-da85 javascript]# docker exec cli peer chaincode query -C mychannel -n fabcar -c '\{""function"":""queryAllCars"",""Args"":[]}'
[\{""Key"":""CAR0"",""Record"":{""color"":""blue"",""docType"":""car"",""make"":""Toyota"",""model"":""Prius"",""owner"":""Tomoko""}},\{""Key"":""CAR1"",""Record"":{""color"":""red"",""docType"":""car"",""make"":""Ford"",""model"":""Mustang"",""owner"":""Brad""}},\{""Key"":""CAR2"",""Record"":{""color"":""green"",""docType"":""car"",""make"":""Hyundai"",""model"":""Tucson"",""owner"":""Jin Soo""}},\{""Key"":""CAR3"",""Record"":{""color"":""yellow"",""docType"":""car"",""make"":""Volkswagen"",""model"":""Passat"",""owner"":""Max""}},\{""Key"":""CAR4"",""Record"":{""color"":""black"",""docType"":""car"",""make"":""Tesla"",""model"":""S"",""owner"":""Adriana""}},\{""Key"":""CAR5"",""Record"":{""color"":""purple"",""docType"":""car"",""make"":""Peugeot"",""model"":""205"",""owner"":""Michel""}},\{""Key"":""CAR6"",""Record"":{""color"":""white"",""docType"":""car"",""make"":""Chery"",""model"":""S22L"",""owner"":""Aarav""}},\{""Key"":""CAR7"",""Record"":{""color"":""violet"",""docType"":""car"",""make"":""Fiat"",""model"":""Punto"",""owner"":""Pari""}},\{""Key"":""CAR8"",""Record"":{""color"":""indigo"",""docType"":""car"",""make"":""Tata"",""model"":""Nano"",""owner"":""Valeria""}},\{""Key"":""CAR9"",""Record"":{""color"":""brown"",""docType"":""car"",""make"":""Holden"",""model"":""Barina"",""owner"":""Shotaro""}}]


{quote}
 

It appears to be related to grpc because I the error is coming from its libraries, but I am not sure what/where, and how to resolve it.

 

*Environment*:

Node: v8.16.0

Go: 1.12.7

Docker: CE 18.09.7

Linux: RHEL 7.6",,ashish.cppdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z83:",,,,Unset,Unset,,"1. cd <...>/fabric-samples/fabcar
2. ./startFabric.sh javascript

After the peers for fabcar come up and the script complets successfully, execute the following:

1. cd <...>/fabric-samples/fabcar/javascript
2. node query.js",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashish.cppdev,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Sep/19 3:01 AM;ashish.cppdev;It turned out to be an environmental issue on my end. I had mixed up grpc node binary between v1.17.0 which is used by the fabric runtime, and v1.21.1 which is used by the sample applications.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade idStore data format,FAB-16503,42175,41318,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,04/Sep/19 2:08 AM,11/Sep/19 8:05 PM,28/Oct/23 3:09 AM,11/Sep/19 8:05 PM,,,,,,,,,,,,,,,0,,,,,Add new keys for channel status (active vs. inactive) and peer will not start if idStore has old format.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15499,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z8b:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 2:16 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33300/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add pause/resume commands (peer node commands),FAB-16504,42176,41318,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,04/Sep/19 2:09 AM,19/Sep/19 4:00 AM,28/Oct/23 3:09 AM,19/Sep/19 4:00 AM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z8j:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 2:24 AM;wenjian;[CR:  |https://gerrit.hyperledger.org/r/#/c/fabric/+/33270/] [https://gerrit.hyperledger.org/r/#/c/fabric/+/33270/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests to pause/resume channels,FAB-16505,42177,41318,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,04/Sep/19 2:10 AM,04/Oct/19 4:36 AM,28/Oct/23 3:09 AM,04/Oct/19 4:36 AM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z8r:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 2:29 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33354/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a dedicated command `upgrade_format` to update db formats to v2.0 version,FAB-16506,42178,41318,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,wenjian,wenjian,wenjian,04/Sep/19 2:13 AM,04/Oct/19 4:44 AM,28/Oct/23 3:09 AM,04/Oct/19 4:42 AM,,,,,,,,,,,,,,,0,,,,,"For now, the command will only update idStore. More db format updates will be add later for v2.0.",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16471,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z8z:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Skip preResetHeight checking for paused channels ,FAB-16507,42179,41318,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,04/Sep/19 2:21 AM,04/Oct/19 4:37 AM,28/Oct/23 3:09 AM,04/Oct/19 4:37 AM,,,,,,,,,,,,,,,0,,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00z97:",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Sep/19 2:22 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33296/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Return  statement mentioned in document is not matching with actual return type,FAB-16508,42181,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,negupta,Shahidnx,Shahidnx,04/Sep/19 10:26 AM,12/Feb/20 7:21 AM,28/Oct/23 3:09 AM,12/Feb/20 7:21 AM,v1.4.3,,,,,,,,,fabric-docs,fabric-samples,,,,0,,,,,"In the Commercial paper application sample, return  statement mentioned in document is not matching with actual return type.

[Link: https://hyperledger-fabric.readthedocs.io/en/release-1.4/tutorial/commercial_paper.html|https://hyperledger-fabric.readthedocs.io/en/release-1.4/tutorial/commercial_paper.html]

In the above document under 'Smart Contract' section , it is stated that issue method returns 'return paper.toBuffer();' whereas in the actual example issue() method return object of Commercial paper.

Code: nods.js and java both.

In the document :

!image-2019-09-04-06-46-07-045.png!

In the code:

!image-2019-09-04-06-46-58-808.png!

 ",,negupta,Shahidnx,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/19 10:16 AM;Shahidnx;image-2019-09-04-06-46-07-045.png;https://jira.hyperledger.org/secure/attachment/17756/image-2019-09-04-06-46-07-045.png","04/Sep/19 10:17 AM;Shahidnx;image-2019-09-04-06-46-58-808.png;https://jira.hyperledger.org/secure/attachment/17755/image-2019-09-04-06-46-58-808.png",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:6c",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,Shahidnx,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Feb/20 7:21 AM;negupta;Fixed in both release 1.4 and 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in invoke section from yaml input file",FAB-16509,42182,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,04/Sep/19 11:37 AM,12/Nov/19 6:57 AM,28/Oct/23 3:09 AM,25/Sep/19 11:19 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16083,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqg",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 5:18 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33422/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in query section from yaml input file",FAB-16510,42183,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,04/Sep/19 11:38 AM,12/Nov/19 6:57 AM,28/Oct/23 3:09 AM,25/Sep/19 11:19 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16084,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqx",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 5:18 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33422/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the fabric-ca module into the fabric-samples,FAB-16511,42184,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,bjzhang03,bjzhang03,bjzhang03,04/Sep/19 11:45 AM,04/Sep/19 6:58 PM,28/Oct/23 3:09 AM,04/Sep/19 6:58 PM,v1.4.0,,,,,,,,,,,,,,0,,,,,Add the fabric-ca demo into the fabric-samples,,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Sep/19 6:58 PM;bjzhang03;rejected by the authors;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error creating consenter: failed to restore persisted raft data: failed to create or read WAL: failed to open WAL: fileutil: file already locked,FAB-16513,42186,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Works as Expected,,narendranathreddy,narendranathreddy,05/Sep/19 12:21 AM,20/Sep/21 12:48 AM,28/Oct/23 3:09 AM,05/Sep/19 4:45 PM,v1.4.1,v1.4.3,,,,,,,,fabric-orderer,,,,,0,fabric-orderer,hyperledger-fabric,,,"Two of Three orderers went to Panic State by leaving below logs 

`: [1 2 3] channel=testchainid node=12019-09-04 14:16:22.389 UTC [orderer.consensus.etcdraft] writeBlock -> INFO 030 Writing block [1] (Raft index: 5) to ledger channel=testchainid node=12019-09-04 14:16:22.392 UTC [orderer.consensus.etcdraft] HandleChain -> INFO 031 EvictionSuspicion not set, defaulting to 10m0s2019-09-04 14:16:22.392 UTC [orderer.consensus.etcdraft] createOrReadWAL -> INFO 032 Found WAL data at path '/var/hyperledger/production/orderer/etcdraft/wal/check', replaying it channel=check node=12019-09-04 14:16:22.393 UTC [orderer.commmon.multichannel] newChainSupport -> PANI 033 [channel: check] Error creating consenter: failed to restore persisted raft data: failed to create or read WAL: failed to open WAL: fileutil: file already lockedpanic: [channel: check] Error creating consenter: failed to restore persisted raft data: failed to create or read WAL: failed to open WAL: fileutil: file already locked
 goroutine 67 [running]:github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc00019a0b0, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000b4340, 0x4, 0x1040dcc, 0x2a, 0xc000409548, 0x2, 0x2, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000b4340, 0x1040dcc, 0x2a, 0xc000409548, 0x2, 0x2) /opt/gopath/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc0000b4348, 0x1040dcc, 0x2a, 0xc000409548, 0x2, 0x2) /opt/gopath/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60github.com/hyperledger/fabric/orderer/common/multichannel.newChainSupport(0xc00011e000, 0xc00029d780, 0xc0005c7b60, 0x1145580, 0x1b8f970, 0xc0001a1830, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/chainsupport.go:74 +0x710github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).newChain(0xc00011e000, 0xc00029acd0) /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:327 +0x1dfgithub.com/hyperledger/fabric/orderer/common/multichannel.(*BlockWriter).WriteConfigBlock(0xc00007a680, 0xc0003a0700, 0xc0005c41a0, 0x9, 0x9) /opt/gopath/src/github.com/hyperledger/fabric/orderer/common/multichannel/blockwriter.go:118 +0x2f3github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).writeConfigBlock(0xc00018c280, 0xc0003a0700, 0x5) /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:1266 +0x1b4github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).writeBlock(0xc00018c280, 0xc0003a0700, 0x5) /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:839 +0x18fgithub.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).apply(0xc00018c280, 0xc000296448, 0x5, 0x6) /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:1030 +0x250github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest(0xc00018c280) /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:748 +0x954created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start /opt/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:336 +0x1e0`

 

Complete Orderer Logs: [http://ideone.com/3S3UTj]",,kopaygorodsky,narendranathreddy,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zar:",,,,Unset,Unset,,"(Please add steps to reproduce)(Please add steps to reproduce)

Setup HLF consortium by below-mentioned procedure
 - Three orderer
 - kubernetes
 - raft consensus
 - 1.4.3 ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),kopaygorodsky,narendranathreddy,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Sep/19 4:45 PM;narendranathreddy;Its resolved, Error due to multiple versions of genesis blocks;;;","17/Sep/21 12:34 AM;kopaygorodsky;[~narendranathreddy] I've just got the same error and trying to debug it. What did you mean with multiple versions of genesis block? I had my network up and running, then on an orderer, I needed to resize my disk due to low space and after a restart, all files are in there, but orderer throws this error for some channel. Other channels were restored just fine. ;;;","20/Sep/21 12:48 AM;yacovm;Will be fixed in [https://github.com/hyperledger/fabric/pull/2934];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I would like the creation of docker images to take far less time than it does",FAB-16514,42187,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Sep/19 2:34 AM,13/Jan/20 10:59 PM,28/Oct/23 3:09 AM,13/Jan/20 10:58 PM,,,,,,v2.0.0,,,,fabric-build,,,,,0,ipm,,,,"Building docker images seems to take an extremely long time. Without digging in too deeply, it looks like much of that time is related to repeatedly sending build contexts to the daemon. In most cases that seems to be the fabric build.

I _believe_ we can greatly reduce the time it takes to build by creating an image with all assets and that using that as a base for each of the targeted peer, orderer, tools, etc. images.

{code}
$ rm -rf .build/images/ && make native docker && cp ./.build/bin/* ~/go/bin/
.build/bin/peer
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=2.0.0 -X github.com/hyperledger/fabric/common/metadata.CommitSHA=d9b0ac2 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.15 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/cmd/peer
Binary available as .build/bin/peer
.build/bin/orderer
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=2.0.0 -X github.com/hyperledger/fabric/common/metadata.CommitSHA=d9b0ac2 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.15 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/orderer
Binary available as .build/bin/orderer
.build/bin/configtxgen
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/configtxgen/metadata.CommitSHA=d9b0ac2"" github.com/hyperledger/fabric/cmd/configtxgen
Binary available as .build/bin/configtxgen
.build/bin/cryptogen
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/cryptogen/metadata.CommitSHA=d9b0ac2"" github.com/hyperledger/fabric/cmd/cryptogen
Binary available as .build/bin/cryptogen
.build/bin/idemixgen
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/tools/idemixgen/metadata.CommitSHA=d9b0ac2"" github.com/hyperledger/fabric/common/tools/idemixgen
Binary available as .build/bin/idemixgen
.build/bin/configtxlator
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/configtxlator/metadata.CommitSHA=d9b0ac2"" github.com/hyperledger/fabric/cmd/configtxlator
Binary available as .build/bin/configtxlator
.build/bin/discover
CGO_CFLAGS="" "" GOBIN=/home/vagrant/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/discover/metadata.Version=2.0.0-snapshot-d9b0ac2"" github.com/hyperledger/fabric/cmd/discover
Binary available as .build/bin/discover
Docker:  building peer image
docker build --force-rm  -f images/peer/Dockerfile \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	--build-arg GO_TAGS= \
	-t hyperledger/fabric-peer .
Sending build context to Docker daemon  201.5MB
Step 1/25 : ARG GO_VER
Step 2/25 : ARG ALPINE_VER
Step 3/25 : FROM alpine:${ALPINE_VER} as base
 ---> 961769676411
Step 4/25 : RUN apk add --no-cache tzdata
 ---> Using cache
 ---> 0709844ebdc3
Step 5/25 : RUN addgroup chaincode && adduser -D -h /chaincode -G chaincode chaincode
 ---> Using cache
 ---> 591dcb2ab4cd
Step 6/25 : USER chaincode
 ---> Using cache
 ---> 318a55bd4309
Step 7/25 : FROM alpine:${ALPINE_VER} as peer-base
 ---> 961769676411
Step 8/25 : RUN apk add --no-cache tzdata
 ---> Using cache
 ---> 0709844ebdc3
Step 9/25 : FROM golang:${GO_VER}-alpine${ALPINE_VER} as golang
 ---> 6b21b4c6e7a3
Step 10/25 : RUN apk add --no-cache 	gcc 	musl-dev 	git 	bash 	make;
 ---> Using cache
 ---> ec959b41d2c5
Step 11/25 : ADD . $GOPATH/src/github.com/hyperledger/fabric
 ---> c52c960a6718
Step 12/25 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric
 ---> Running in 90249d7b8480
Removing intermediate container 90249d7b8480
 ---> fb27fb2b312f
Step 13/25 : ENV EXECUTABLES go git
 ---> Running in f20c64ac5025
Removing intermediate container f20c64ac5025
 ---> bad6be7234bd
Step 14/25 : FROM golang as peer
 ---> bad6be7234bd
Step 15/25 : ARG GO_TAGS
 ---> Running in da89ac151ae9
Removing intermediate container da89ac151ae9
 ---> 2989da30cd00
Step 16/25 : RUN make peer GO_TAGS=${GO_TAGS}
 ---> Running in b47f54fbb689
.build/bin/peer
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=2.0.0 -X github.com/hyperledger/fabric/common/metadata.CommitSHA=d9b0ac2c3 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.15 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/cmd/peer
Binary available as .build/bin/peer
Removing intermediate container b47f54fbb689
 ---> 7ad60d260416
Step 17/25 : FROM peer-base
 ---> 0709844ebdc3
Step 18/25 : ENV FABRIC_CFG_PATH /etc/hyperledger/fabric
 ---> Using cache
 ---> d178958f12eb
Step 19/25 : VOLUME /etc/hyperledger/fabric
 ---> Using cache
 ---> 2226ab92bc5d
Step 20/25 : VOLUME /var/hyperledger
 ---> Using cache
 ---> e3330f1f72a6
Step 21/25 : COPY --from=peer /go/src/github.com/hyperledger/fabric/.build/bin /usr/local/bin
 ---> a5c331f85b7f
Step 22/25 : COPY --from=peer /go/src/github.com/hyperledger/fabric/sampleconfig/msp ${FABRIC_CFG_PATH}/msp
 ---> fa5474052b18
Step 23/25 : COPY --from=peer /go/src/github.com/hyperledger/fabric/sampleconfig/core.yaml ${FABRIC_CFG_PATH}
 ---> 66972c52f819
Step 24/25 : EXPOSE 7051
 ---> Running in 86ffc2fe8c0f
Removing intermediate container 86ffc2fe8c0f
 ---> 28e2795c5728
Step 25/25 : CMD [""peer"",""node"",""start""]
 ---> Running in 990f885fdf2b
Removing intermediate container 990f885fdf2b
 ---> 88289732440d
Successfully built 88289732440d
Successfully tagged hyperledger/fabric-peer:latest
docker tag hyperledger/fabric-peer hyperledger/fabric-peer:2.0.0
docker tag hyperledger/fabric-peer hyperledger/fabric-peer:amd64-2.0.0-snapshot-d9b0ac2
Docker:  building orderer image
docker build --force-rm  -f images/orderer/Dockerfile \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	--build-arg GO_TAGS= \
	-t hyperledger/fabric-orderer .
Sending build context to Docker daemon  201.5MB
Step 1/22 : ARG GO_VER
Step 2/22 : ARG ALPINE_VER
Step 3/22 : FROM alpine:${ALPINE_VER} as base
 ---> 961769676411
Step 4/22 : RUN apk add --no-cache tzdata
 ---> Using cache
 ---> 0709844ebdc3
Step 5/22 : FROM golang:${GO_VER}-alpine${ALPINE_VER} as golang
 ---> 6b21b4c6e7a3
Step 6/22 : RUN apk add --no-cache 	gcc 	musl-dev 	git 	bash 	make;
 ---> Using cache
 ---> ec959b41d2c5
Step 7/22 : ADD . $GOPATH/src/github.com/hyperledger/fabric
 ---> Using cache
 ---> c52c960a6718
Step 8/22 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric
 ---> Using cache
 ---> fb27fb2b312f
Step 9/22 : ENV EXECUTABLES go git
 ---> Using cache
 ---> bad6be7234bd
Step 10/22 : FROM golang as orderer
 ---> bad6be7234bd
Step 11/22 : ARG GO_TAGS
 ---> Using cache
 ---> 2989da30cd00
Step 12/22 : RUN make orderer GO_TAGS=${GO_TAGS}
 ---> Running in 16ab9a75f836
.build/bin/orderer
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=2.0.0 -X github.com/hyperledger/fabric/common/metadata.CommitSHA=d9b0ac2c3 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.15 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/orderer
Binary available as .build/bin/orderer
Removing intermediate container 16ab9a75f836
 ---> ed08f25de036
Step 13/22 : FROM base
 ---> 0709844ebdc3
Step 14/22 : ENV FABRIC_CFG_PATH /etc/hyperledger/fabric
 ---> Using cache
 ---> d178958f12eb
Step 15/22 : VOLUME /etc/hyperledger/fabric
 ---> Using cache
 ---> 2226ab92bc5d
Step 16/22 : VOLUME /var/hyperledger
 ---> Using cache
 ---> e3330f1f72a6
Step 17/22 : COPY --from=orderer /go/src/github.com/hyperledger/fabric/.build/bin /usr/local/bin
 ---> Using cache
 ---> 994e97b54f3f
Step 18/22 : COPY --from=orderer /go/src/github.com/hyperledger/fabric/sampleconfig/msp ${FABRIC_CFG_PATH}/msp
 ---> Using cache
 ---> 4e74ee5bcd24
Step 19/22 : COPY --from=orderer /go/src/github.com/hyperledger/fabric/sampleconfig/orderer.yaml ${FABRIC_CFG_PATH}
 ---> Using cache
 ---> 483cff75c358
Step 20/22 : COPY --from=orderer /go/src/github.com/hyperledger/fabric/sampleconfig/configtx.yaml ${FABRIC_CFG_PATH}
 ---> Using cache
 ---> 79573018a29a
Step 21/22 : EXPOSE 7050
 ---> Using cache
 ---> 10eb3a24cc1b
Step 22/22 : CMD [""orderer""]
 ---> Using cache
 ---> e4255807a299
Successfully built e4255807a299
Successfully tagged hyperledger/fabric-orderer:latest
docker tag hyperledger/fabric-orderer hyperledger/fabric-orderer:2.0.0
docker tag hyperledger/fabric-orderer hyperledger/fabric-orderer:amd64-2.0.0-snapshot-d9b0ac2
Docker:  building baseos image
docker build --force-rm  -f images/peer/Dockerfile \
	--target base \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	-t hyperledger/fabric-baseos images/peer
Sending build context to Docker daemon  3.072kB
Step 1/6 : ARG GO_VER
Step 2/6 : ARG ALPINE_VER
Step 3/6 : FROM alpine:${ALPINE_VER} as base
 ---> 961769676411
Step 4/6 : RUN apk add --no-cache tzdata
 ---> Using cache
 ---> 0709844ebdc3
Step 5/6 : RUN addgroup chaincode && adduser -D -h /chaincode -G chaincode chaincode
 ---> Using cache
 ---> 591dcb2ab4cd
Step 6/6 : USER chaincode
 ---> Using cache
 ---> 318a55bd4309
Successfully built 318a55bd4309
Successfully tagged hyperledger/fabric-baseos:latest
docker tag hyperledger/fabric-baseos hyperledger/fabric-baseos:2.0.0
docker tag hyperledger/fabric-baseos hyperledger/fabric-baseos:amd64-2.0.0-snapshot-d9b0ac2
Docker:  building ccenv image
docker build --force-rm  -f images/ccenv/Dockerfile \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	 \
	-t hyperledger/fabric-ccenv .
Sending build context to Docker daemon  201.5MB
Step 1/8 : ARG GO_VER
Step 2/8 : ARG ALPINE_VER
Step 3/8 : FROM golang:${GO_VER}-alpine${ALPINE_VER}
 ---> 6b21b4c6e7a3
Step 4/8 : RUN apk add --no-cache 	g++ 	gcc 	musl-dev 	git;
 ---> Using cache
 ---> 750786734c23
Step 5/8 : RUN mkdir -p /chaincode/output /chaincode/input
 ---> Using cache
 ---> 816d9821cf4c
Step 6/8 : RUN addgroup -g 500 chaincode && adduser -u 500 -D -h /home/chaincode -G chaincode chaincode
 ---> Using cache
 ---> 312ae08886af
Step 7/8 : RUN chown -R chaincode:chaincode /chaincode
 ---> Using cache
 ---> 5bed6c88225b
Step 8/8 : USER chaincode
 ---> Using cache
 ---> 8402f0e9069b
Successfully built 8402f0e9069b
Successfully tagged hyperledger/fabric-ccenv:latest
docker tag hyperledger/fabric-ccenv hyperledger/fabric-ccenv:2.0.0
docker tag hyperledger/fabric-ccenv hyperledger/fabric-ccenv:amd64-2.0.0-snapshot-d9b0ac2
Docker:  building buildenv image
docker build --force-rm  -f images/buildenv/Dockerfile \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	 \
	-t hyperledger/fabric-buildenv .
Sending build context to Docker daemon  201.5MB
Step 1/12 : ARG GO_VER
Step 2/12 : ARG ALPINE_VER
Step 3/12 : FROM golang:${GO_VER}-alpine${ALPINE_VER} as golang
 ---> 6b21b4c6e7a3
Step 4/12 : RUN apk add --no-cache 	gcc 	musl-dev 	git 	bash 	curl 	make;
 ---> Using cache
 ---> ef1981b52a00
Step 5/12 : ADD . $GOPATH/src/github.com/hyperledger/fabric
 ---> 1579b8a109ef
Step 6/12 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric
 ---> Running in 70061dff446b
Removing intermediate container 70061dff446b
 ---> d76b171bb72e
Step 7/12 : ENV EXECUTABLES go git curl
 ---> Running in 0ad751b40cbe
Removing intermediate container 0ad751b40cbe
 ---> cd88836335f2
Step 8/12 : RUN make gotools
 ---> Running in 1e1a56f68d77
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/maxbrunsfeld/counterfeiter -> counterfeiter
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/golang/dep v0.5.3 -> dep
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building golang.org/x/lint/golint -> golint
GOBIN=/go/bin go install ./vendor/golang.org/x/lint/golint
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building golang.org/x/tools/cmd/goimports -> goimports
GOBIN=/go/bin go install ./vendor/golang.org/x/tools/cmd/goimports
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/golang/protobuf/protoc-gen-go -> protoc-gen-go
GOBIN=/go/bin go install ./vendor/github.com/golang/protobuf/protoc-gen-go
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/onsi/ginkgo/ginkgo -> ginkgo
GOBIN=/go/bin go install ./vendor/github.com/onsi/ginkgo/ginkgo
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/axw/gocov/gocov -> gocov
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/AlekSi/gocov-xml -> gocov-xml
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/client9/misspell/cmd/misspell -> misspell
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/vektra/mockery/cmd/mockery -> mockery
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
make[1]: Entering directory '/go/src/github.com/hyperledger/fabric'
Building github.com/estesp/manifest-tool -> manifest-tool
make[1]: Leaving directory '/go/src/github.com/hyperledger/fabric'
Removing intermediate container 1e1a56f68d77
 ---> 6ff2b999a848
Step 9/12 : FROM golang:${GO_VER}-alpine
 ---> 6b21b4c6e7a3
Step 10/12 : RUN apk add --no-cache 	gcc 	musl-dev 	git 	bash 	protobuf-dev 	make;
 ---> Using cache
 ---> fdc82bd67728
Step 11/12 : COPY --from=golang /go/bin /usr/local/bin
 ---> Using cache
 ---> 132a4a21a781
Step 12/12 : ENV GOCACHE ""/tmp""
 ---> Using cache
 ---> 87561e3861f7
Successfully built 87561e3861f7
Successfully tagged hyperledger/fabric-buildenv:latest
docker tag hyperledger/fabric-buildenv hyperledger/fabric-buildenv:2.0.0
docker tag hyperledger/fabric-buildenv hyperledger/fabric-buildenv:amd64-2.0.0-snapshot-d9b0ac2
Docker:  building tools image
docker build --force-rm  -f images/tools/Dockerfile \
	--build-arg GO_VER=1.12.7 \
	--build-arg ALPINE_VER=3.10 \
	 \
	-t hyperledger/fabric-tools .
Sending build context to Docker daemon  201.5MB
Step 1/15 : ARG GO_VER
Step 2/15 : ARG ALPINE_VER
Step 3/15 : FROM golang:${GO_VER}-alpine as golang
 ---> 6b21b4c6e7a3
Step 4/15 : RUN apk add --no-cache 	gcc 	musl-dev 	git 	bash 	make;
 ---> Using cache
 ---> ec959b41d2c5
Step 5/15 : ADD . $GOPATH/src/github.com/hyperledger/fabric
 ---> Using cache
 ---> c52c960a6718
Step 6/15 : WORKDIR $GOPATH/src/github.com/hyperledger/fabric
 ---> Using cache
 ---> fb27fb2b312f
Step 7/15 : ENV EXECUTABLES go git
 ---> Using cache
 ---> bad6be7234bd
Step 8/15 : FROM golang as tools
 ---> bad6be7234bd
Step 9/15 : RUN make configtxgen configtxlator cryptogen peer discover idemixgen
 ---> Running in 42a3fa5a17da
.build/bin/configtxgen
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/configtxgen/metadata.CommitSHA=d9b0ac2c3"" github.com/hyperledger/fabric/cmd/configtxgen
Binary available as .build/bin/configtxgen
.build/bin/configtxlator
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/configtxlator/metadata.CommitSHA=d9b0ac2c3"" github.com/hyperledger/fabric/cmd/configtxlator
Binary available as .build/bin/configtxlator
.build/bin/cryptogen
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/cryptogen/metadata.CommitSHA=d9b0ac2c3"" github.com/hyperledger/fabric/cmd/cryptogen
Binary available as .build/bin/cryptogen
.build/bin/peer
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/metadata.Version=2.0.0 -X github.com/hyperledger/fabric/common/metadata.CommitSHA=d9b0ac2c3 -X github.com/hyperledger/fabric/common/metadata.BaseVersion=0.4.15 -X github.com/hyperledger/fabric/common/metadata.BaseDockerLabel=org.hyperledger.fabric -X github.com/hyperledger/fabric/common/metadata.DockerNamespace=hyperledger -X github.com/hyperledger/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/cmd/peer
Binary available as .build/bin/peer
.build/bin/discover
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/cmd/discover/metadata.Version=2.0.0-snapshot-d9b0ac2c3"" github.com/hyperledger/fabric/cmd/discover
Binary available as .build/bin/discover
.build/bin/idemixgen
CGO_CFLAGS="" "" GOBIN=/go/src/github.com/hyperledger/fabric/.build/bin go install -tags """" -ldflags ""-X github.com/hyperledger/fabric/common/tools/idemixgen/metadata.CommitSHA=d9b0ac2c3"" github.com/hyperledger/fabric/common/tools/idemixgen
Binary available as .build/bin/idemixgen
Removing intermediate container 42a3fa5a17da
 ---> b3a60cd74ed6
Step 10/15 : FROM golang:${GO_VER}-alpine
 ---> 6b21b4c6e7a3
Step 11/15 : RUN apk add --no-cache 	tzdata 	jq 	bash;
 ---> Using cache
 ---> 59811de6544b
Step 12/15 : ENV FABRIC_CFG_PATH /etc/hyperledger/fabric
 ---> Using cache
 ---> 3bde90eaacea
Step 13/15 : VOLUME /etc/hyperledger/fabric
 ---> Using cache
 ---> 6f902819f9f7
Step 14/15 : COPY --from=tools /go/src/github.com/hyperledger/fabric/.build/bin /usr/local/bin
 ---> 6d32b79bc93f
Step 15/15 : COPY --from=tools /go/src/github.com/hyperledger/fabric/sampleconfig ${FABRIC_CFG_PATH}
 ---> abec1d6e9ff7
Successfully built abec1d6e9ff7
Successfully tagged hyperledger/fabric-tools:latest
docker tag hyperledger/fabric-tools hyperledger/fabric-tools:2.0.0
docker tag hyperledger/fabric-tools hyperledger/fabric-tools:amd64-2.0.0-snapshot-d9b0ac2
{code}",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/19 3:31 AM;denyeart;Two CRs merged: https://gerrit.hyperledger.org/r/#/q/FAB-16514
Anything else needed here?;;;","13/Jan/20 10:59 PM;sykesm;Our image build are still sub-optimal as we're building within a container with a large build context. The improvements we've made are marginal but we can revisit if needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Module introspection errors out of chaincode install/package are unclear,FAB-16515,42188,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Sep/19 3:11 AM,10/Sep/19 4:02 AM,28/Oct/23 3:09 AM,10/Sep/19 4:02 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"When {{git}} is not available on the path and GOPROXY is not set, {{go list -m all}} fails because {{go}} depends on {{git}} to get VCS information about modules.

<sigh/>

When this happens, we get a very simple message at the cli:

{{error getting chaincode deployment spec for mycc:0: exit status 1}}

That's not helpful... we need to add some context. We should also be logging the stderr of the failed command.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:v",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/19 3:42 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33399 Improve error messages from go list failures;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add git to the fabric tools image to enable use of `go list -m` in the tools image,FAB-16516,42189,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Sep/19 3:14 AM,05/Sep/19 10:02 AM,28/Oct/23 3:09 AM,05/Sep/19 10:02 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,ipm,,,,"{{go list -m all}} uses {{git}} to gather information about modules (when {{GOPROXY}} is not pointing to a proxy). To keep things working, add git to the {{fabric-tools}} image.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:u",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/19 3:22 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33370 FAB-16516 add git to tools image;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
run system tests in one network WITHOUT gossip,FAB-16518,42191,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,05/Sep/19 4:23 AM,10/Sep/19 11:10 PM,28/Oct/23 3:09 AM,10/Sep/19 3:56 AM,v1.4.4,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,"In our k8s system test lab: launch ""kafka-couchdb-tls"" network WITHOUT gossip enabled in peer orgs, so this configuration will be used for all the tests in that network.

1. Enhance the new operator to interpret another option in the networkSpec input file whether (true or false) to enable gossip election or not (and just use every peer as a leader).

2. Then edit this particular network spec file
fabric-test/tools/PTE/CITest/k8s_testsuite/networkSpecFiles/kafka_couchdb_tls.yaml 
to turn off gossip.

When disabling gossip, the operator tool should use these (and possibly other) settings:

CORE_PEER_GOSSIP_STATE_ENABLED: false
CORE_PEER_GOSSIP_ORGLEADER=true
CORE_PEER_GOSSIP_USELEADERELECTION=false

And discuss with design if we should avoid setting this or any others:

CORE_PEER_GOSSIP_BOOTSTRAP",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16447,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzczqu",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"05/Sep/19 9:45 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33377/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent UT failure - TestGetDeploymentPayload,FAB-16522,42198,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,caod,caod,06/Sep/19 12:00 AM,13/Nov/19 1:28 AM,28/Oct/23 3:09 AM,13/Nov/19 1:28 AM,,,,,,,,,,,,,,,0,ci-flake,,,,"{code:java}
19:46:13 ok github.com/hyperledger/fabric/core/chaincode/platforms 3.292s coverage: 93.7% of statements
19:46:13 — FAIL: TestGetDeploymentPayload (105.72s)
19:46:13 platform_test.go:279:
19:46:13 Error Trace: platform_test.go:279
19:46:13 Error: Received unexpected error:
19:46:13 signal: killed
19:46:13 Test: TestGetDeploymentPayload
19:46:13 Messages: expected success for path: testdata/ccmodule 
19:46:13 FAIL{code}",,caod,denyeart,dereckluo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Sep/19 12:02 AM;caod;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/17774/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zcj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,denyeart,dereckluo,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Sep/19 11:58 AM;jyellick;I've been seeing this frequently as well:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15046/console

[~sykesm] You were just in there, any chance this is obvious to you?;;;","11/Sep/19 7:54 PM;denyeart;Seen again:
https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15043/console;;;","13/Nov/19 1:25 AM;dereckluo;I ran the test for 500 iterations locally, and 100 iterations in Jenkins, and I'm not able to reproduce this failure.
Should we just close this for now, and reopen if this test fails again?


{code:java}
Successfully built 2005e2e0d2a3
Successfully tagged hyperledger/fabric-baseos:latest
docker tag hyperledger/fabric-baseos hyperledger/fabric-baseos:2.0.0
docker tag hyperledger/fabric-baseos hyperledger/fabric-baseos:amd64-2.0.0-snapshot-60f3b92
./scripts/run-unit-tests.sh
running UT TestGetDeploymentPayload for 100 runs
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	32.417s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.429s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.449s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.320s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.541s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.528s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.532s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.434s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.646s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.447s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.744s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.558s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.577s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.444s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.697s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.541s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.656s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.442s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.422s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.416s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.517s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.597s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.482s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.393s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.648s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.521s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.607s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.609s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.621s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.736s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.716s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.624s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.536s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.485s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.446s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.462s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.442s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.543s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.391s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.585s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.425s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.451s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.471s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.527s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.362s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.507s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.375s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.514s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.395s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.643s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.322s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.691s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.296s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.467s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.479s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.590s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.397s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.515s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.473s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.451s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.440s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.639s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.389s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.487s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.559s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.850s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.531s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.582s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.503s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.933s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.497s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.489s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.596s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.544s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.568s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.647s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.585s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.646s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.478s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.578s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.724s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.520s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.573s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.601s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.612s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.708s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.893s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.849s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.525s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.755s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.547s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.601s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.653s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.437s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.522s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.406s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.456s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.482s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.556s
ok  	github.com/hyperledger/fabric/core/chaincode/platforms/golang	2.411s

real	12m59.237s
user	9m19.080s
sys	1m50.184s
Warning: Permanently added '[gerrit.hyperledger.org]:29418,[35.161.63.138]:29418' (ECDSA) to the list of known hosts.
$ ssh-agent -k
unset SSH_AUTH_SOCK;
unset SSH_AGENT_PID;
echo Agent pid 2043 killed;
[ssh-agent] Stopped.
[PostBuildScript] - Executing post build scripts.
[fabric-verify-unit-tests-x86_64] $ /bin/bash /tmp/jenkins2391380714836622721.sh
---> sysstat.sh
[fabric-verify-unit-tests-x86_64] $ /bin/bash /tmp/jenkins1804943673544303119.sh
{code}
;;;","13/Nov/19 1:27 AM;caod;I'm fine with that, can always reopen if we see it again;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode metadata is placed in the wrong directory when the chaincode is in the module root,FAB-16523,42199,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Sep/19 1:29 AM,11/Sep/19 4:28 AM,28/Oct/23 3:09 AM,11/Sep/19 4:28 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"When packaging a module that only contains the chaincode main, go.mod, go.sum, and a META-INF folder, the generated package incorrectly prefixes the metadata folder with src.

The expected tar is:

- META-INF/
- META-INF/...
- src/
- src/go.mod
- src/go.sum
- src/main.go",,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:t",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/19 3:13 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33397 Fix metadata root for module packages;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Test with large payload sizes, interop",FAB-16524,42201,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,06/Sep/19 4:54 AM,02/Oct/19 5:42 AM,28/Oct/23 3:09 AM,02/Oct/19 5:42 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Create an interop test suite to replace the behave interop tests; refer to Items 71-74 of tab ""Behave Testcases"" of [https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=663331741].

Send transactions with 1k and <49M payload with <dbType> <ordererType> <tlsType>

This jira is to create a PTE testcase to send transactions with payload size ranging from 1k and <49M. It can be used in systest, and essentially replace the need for an interop test in the CI merge/publish pipelines. To cover as many components as possible, this should be done in all three of our planned networks for system test: kafka_leveldb_no_tls, kafka_couchdb_tls, raft_couchdb_mutualtls.
 # (Dongming, FAB-15822) Add option for payload size to gen_cfgInputs
 2. (Ramesh (suggested), FAB-16067) Add testcase to the 3 networks that sends 10 msgs with payload size 10K, then 4M, then 49M.

Update: After testing with variety of msg sizes and host containers GB RAM allocations, to automate a testcase that does not require too much (expensive) GB RAM in all fabric nodes in our hosts used for k8s cluster systemtests, we decided to send just two TX of size 50MB (using payload ~ 26 MB in the endorsement request), in two of our systemtest networks (kafka/leveldb/notls, and raft/couchdb/mutualtls). Refer to FAB-16720.",,dongming,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15967,FAB-15822,,FAB-16067,FAB-16641,FAB-16720,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,Automated,,Unset,No,,,"1|i00uze:rzczqzw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Pass,"Passed with 2 TX each 50MB (and automated with FAB-16720).
Passed with 40 TX each 8MB (and automated previously).
Tested with one 98MB TX - which initially looked successful but the logs require further investigation (using FAB-16641).",Interoperability Test,,(Please add usage information),dongming,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Sep/19 3:33 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33398/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
IT test additions to exercise all APIs of marbles02 chaincode,FAB-16525,42202,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,scottz,scottz,06/Sep/19 5:58 AM,26/Sep/19 10:45 PM,28/Oct/23 3:09 AM,26/Sep/19 10:45 PM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Similar to FAB-15894, we wish to exercise all the APIs, in order to provide test coverage for all the shim APIs.",,scottz,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,wenjian,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 12:56 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33443/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance block storage index to V2 format,FAB-16526,42204,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,06/Sep/19 9:17 AM,11/Sep/19 7:51 PM,28/Oct/23 3:09 AM,11/Sep/19 7:51 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,High level story for enhancing block storage index.,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15499,,,No,,Unset,No,,,"1|i00zdf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sync up marbles private cc in fabric-sample with the one in fabric integration,FAB-16528,42211,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,06/Sep/19 10:20 PM,19/Sep/19 4:09 AM,28/Oct/23 3:09 AM,07/Sep/19 3:07 AM,,,,,,v2.0.0,,,,fabric-quality,fabric-samples,,,,0,,,,,"There are changes of marbles private chaincode, FAB-15894, in fabric/integration/chaincode/marbles_private.  This task is to keep the chaincode in fabric-samples and fabric/integration in-sync",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqr9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/19 1:52 AM;dongming;https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33395/;;;","19/Sep/19 4:09 AM;dongming;part 2: https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33459/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test Verify job should exercise new Operator tool functions,FAB-16529,42212,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,06/Sep/19 10:48 PM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,31/Oct/19 12:20 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"In fabric-test, we are developing new launcher (network client), operator, and testdriver (test client) using networkSpec and testSpec input files. We should run a test as part of the CI verify job in fabric-test repo. Pull fabric images and binaries to do it. The main goal is to verify our tools work. Add to the ""make ci-smoke"" target.
 * Add a ""smoke test"" to fabric-test verify job, using new launcher (locally), with new small networkSpec file, confirm the connprofile generated, and the healthcheck passes (launcher does this automatically). 
 * From runSmokeTestSuite.sh, execute a golang test driver, not python, to run this new test with new golang launcher and operator tools.
 * This piece could also be used for interop testsuite, so refer to FAB-16719 for network config details.

We may want to open separate tasks for additional pieces:
 * Add and use a simple testSpec pteinput file to create, join, install, instantiate, updateanchor, invoke, query, and a healthcheck.
 * Instead of install and instantiate, or in addition, we may want to use the new lifecycle functions (yet to be developed in the Operator and in PTE), e.g. something like package, approve, commit.
 * Finally, add test steps for more functions as they are added. Consider items like upgradecc, configupdate, queryblockheights and compare in all peers (2 orgs with 1 peer), and fetch ledger heights or the final TX from all (1 or 3) raft orderers.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,FAB-16758,,,,,,,,,,FAB-16678,,,,,FAB-16718,,,FAB-16760,FAB-16929,FAB-16930,FAB-16977,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/19 11:08 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34103/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Configure agent forwarding for vagrant dev environment,FAB-16530,42216,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,07/Sep/19 1:57 AM,09/Sep/19 10:31 PM,28/Oct/23 3:09 AM,07/Sep/19 10:41 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,Agent forwarding simplifies gerrit interactions from within the virtual machine.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zf7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Sep/19 1:58 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33396 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate unused/low traffic repos from Gerrit to Github,FAB-16531,42222,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ryjones,ryjones,08/Sep/19 1:30 AM,23/Oct/19 2:38 AM,28/Oct/23 3:09 AM,23/Oct/19 2:38 AM,,,,,,,,,,,,,,,0,,,,,"In order to test the process of moving SCM, I propose a number of repos with low/0 CI implications move first",,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-13,,gerrit-to-github,To Do,No,,Unset,No,,,"1|i00zgj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move homebrew-fabric,FAB-16532,42223,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,08/Sep/19 1:31 AM,12/Sep/19 6:22 PM,28/Oct/23 3:09 AM,12/Sep/19 6:22 PM,,,,,,,,,,,,,,,0,,,,,"mark gerrit repo read-only

break mirror

make GitHub repo r/w",,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zgr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Sep/19 11:44 PM;btl5037;This repo will be migrated to GitHub, there are plans for future work around this;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric-amcl,FAB-16533,42224,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,08/Sep/19 1:32 AM,12/Sep/19 6:23 PM,28/Oct/23 3:09 AM,12/Sep/19 6:23 PM,,,,,,,,,,,,,,,0,,,,,"mark gerrit repo read-only

break mirror

make GitHub repo r/w",,btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14693,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zgz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 2:17 AM;btl5037;This repo will be migrated to GitHub;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Archive fabric-test-resources,FAB-16534,42225,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ryjones,ryjones,08/Sep/19 1:32 AM,12/Sep/19 4:06 AM,28/Oct/23 3:09 AM,12/Sep/19 4:06 AM,,,,,,,,,,,,,,,0,,,,,"mark gerrit repo read-only

break mirror

transfer to Hyperledger-archives org",,btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zh7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 2:17 AM;btl5037;This repo will be archived;;;","10/Sep/19 9:34 PM;ryjones;will there be any commits to not that, or no? if not, may I do that now?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric-chaintool,FAB-16535,42226,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,08/Sep/19 1:32 AM,13/Sep/19 1:36 AM,28/Oct/23 3:09 AM,12/Sep/19 6:31 PM,,,,,,,,,,,,,,,0,,,,,"mark gerrit repo read-only

break mirror

make GitHub repo r/w or transfer to Hyperledger-archives org as appropriate",,greg.haskins,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zhf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),greg.haskins,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 9:34 PM;ryjones;[~greg.haskins] input?;;;","12/Sep/19 12:18 AM;greg.haskins;The tool is still in use by a small, but faithful community.  It receives little updates to the repo due to it being code complete and stable.  My preference would be to keep this as prominent as the rest of Fabric components.

 

 ;;;","12/Sep/19 12:27 AM;ryjones;[~greg.haskins] OK. Are there any CI repercussions for archiving the repo today, breaking the mirror, and making the GitHub mirror into the primary development space?

 

https://github.com/hyperledger/fabric-chaintool;;;","12/Sep/19 12:58 AM;greg.haskins;Not that I can predict.  Happy to work with you after the move to sort out any issues that emerge.;;;","12/Sep/19 10:24 PM;ryjones;[~greg.haskins] The code is moved; I invited you (and I see you accepted) over on GitHub.

The two options we've been exploring are Azure Pipelines (which is very close to GitHub actions in implementation) and GitLab CI. Would you like me to invite you to the Azure group so you can experiment with CI over there?

 

https://dev.azure.com/Hyperledger;;;","13/Sep/19 12:03 AM;greg.haskins;Sure, thanks Ry.  FWIW,  I am familiar with Gitlab CI (as well as a few others, like Travis and CircleCI).  I'd be new to Azure, but thats fine.  One question:  Is the plan to try to unify all of Hyperledger (or at least -Fabric) on to one solution?  Or should I just seek to use whatever suits the -chaintool community?  If so, my inclination would be to just go with CircleCI as it is quite competent for the use case.  Let me know;;;","13/Sep/19 12:19 AM;ryjones;[~greg.haskins] I've added fabric-chaintool to CircleCI - it will need a yaml file.

 

https://circleci.com/gh/hyperledger/fabric-chaintool;;;","13/Sep/19 12:20 AM;greg.haskins;ty...ill PR one ASAP.  It might be a little bit.;;;","13/Sep/19 1:36 AM;ryjones;[~greg.haskins] You have admin powers over in GitHub, and I've disabled the requirement for a CR on a PR for now. If you like we have another org - hyperledger-cicd - where we have been testing stuff. I can add you there as an owner so you can test without worrying about the main repo. Let me know when you get that far;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,
Archive fabric-docs,FAB-16536,42227,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ryjones,ryjones,08/Sep/19 1:33 AM,12/Sep/19 4:07 AM,28/Oct/23 3:09 AM,12/Sep/19 4:07 AM,,,,,,,,,,,,,,,0,,,,,"mark gerrit repo read-only

break mirror

transfer to Hyperledger-archives org",,btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zhn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Sep/19 2:18 AM;btl5037;This repo will be archived;;;","10/Sep/19 9:34 PM;ryjones;will there be any commits to not that, or no? if not, may I do that now?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
https://github.com/hyperledger/fabric-samples/blob/v1.4.3/balance-transfer/artifacts/docker-compose.yaml,FAB-16537,42228,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,denyeart,pvrbharg,pvrbharg,08/Sep/19 11:44 AM,02/Dec/20 12:39 PM,28/Oct/23 3:09 AM,02/Dec/20 12:39 PM,,,,,,,,,,fabric-samples,,,,,0,ipm2,,,,"balance transfer sample - compose file - line # 38
    ports:
      - ""8054:7054""
should probably read:
    ports:
      - ""8054:8054""
",,denyeart,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zhv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pvrbharg,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Sep/19 12:38 PM;denyeart;[~sstone1] Should balance transfer be maintained in release-1.4?;;;","02/Dec/20 12:39 PM;denyeart;balance-transfer sample has been removed in master and is not actively being maintained in older release branches. As such we'll close this issue. However, PRs are still welcome to fix any issues.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a victim of go chaincode, I want additional magic that honors a go.mod during build even when my chaincode is not a module",FAB-16538,42236,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,09/Sep/19 10:00 PM,10/Sep/19 4:03 AM,28/Oct/23 3:09 AM,10/Sep/19 4:03 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"As a *temporary* workaround during the transition to modules, honor go.mod files that are part of a chaincode package. This is likely to do more harm than good so it needs to be short lived.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00mth:fc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Sep/19 10:20 PM;sykesm;Background: node and java SDK's package go chaincode by simply capturing the directory associated with the import path of the code relative to GOPATH. They do not gather dependencies like {{peer chaincode package|install}} does...

This would only work for stupidly simple chaincode implementations that had no deps outside of the shim, the protos, grpc, and the standard library. But, as you might imagine, this is all that most of the test chaincode uses.;;;","10/Sep/19 12:18 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33411 Honor go.mod in gopath packaged go chaincode;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples-merge job: endorsement failure during invoke on fabcar-java test,FAB-16539,42237,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,vijaypunugubati,vijaypunugubati,09/Sep/19 11:12 PM,12/Nov/19 5:50 AM,28/Oct/23 3:09 AM,12/Nov/19 5:50 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,chaincode,ci-failure,,,"On the first time failure observed on Sep 06 2019 The endorsement failure during {color:#de350b}invoke{color} on fabcar-java test

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/00:24:57.542  Error: endorsement failure during invoke. response: status:500 message:""error in simulation: failed to execute transaction 98754aa08e3500430f52bc32c62d61e98b501b51c6dd5f204224a9ff80820751: could not launch chaincode fabcarv1:3015ed9537e9e5ba022796c5ce8bb297dc46d87e545069e8efc76519c6eca56b: error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 \""Gradle build\nStarting a Gradle Daemon (subsequent builds will be faster)\nDownload https://plugins.gradle.org/m2/com/github/johnrengelman/shadow/com.github.johnrengelman.shadow.gradle.plugin/2.0.4/com.github.johnrengelman.shadow.gradle.plugin-2.0.4.pom\nDownload https://plugins.gradle.org/m2/com/github/jengelman/gradle/plugins/shadow/2.0.4/shadow-2.0.4.pom\nDownload https://plugins.gradle.org/m2/org/codehaus/groovy/groovy-backports-compat23/2.4.4/groovy-backports-compat23-2.4.4.pom\nDownload https://plugins.gradle.org/m2/com/github/jengelman/gradle/plugins/shadow/2.0.4/shadow-2.0.4.jar\nDownload https://plugins.gradle.org/m2/org/codehaus/groovy/groovy-backports-compat23/2.4.4/groovy-backports-compat23-2.4.4.jar\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'java-chaincode-bootstrap'.\n> Could not resolve all artifacts for configuration ':classpath'.\n   > Could not download shadow.jar (com.github.jengelman.gradle.plugins:shadow:2.0.4)\n      > Could not get resource 'https://plugins.gradle.org/m2/com/github/jengelman/gradle/plugins/shadow/2.0.4/shadow-2.0.4.jar'.\n         > Connection reset\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 15s\n\"""" 
00:24:57.542  [31m fabcar-java test case is FAILED [0m/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/Merge/job/fabric-samples-merge-x86_64/lastFailedBuild/artifact/fabcar/fabcar-java/]

[https://jenkins.hyperledger.org/view/Merge/job/fabric-samples-merge-x86_64/145/consoleFull]",,denyeart,dongming,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zjn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dongming,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/19 5:50 AM;vijaypunugubati;As this job was moved to the AZP, no point of reproducing again in Jenkins environment now so closing this issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
vagrant environment does not cleanup apt package lists before installing essentials,FAB-16540,42238,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,09/Sep/19 11:21 PM,10/Sep/19 4:02 AM,28/Oct/23 3:09 AM,10/Sep/19 4:02 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"... this can result in failures bringing up the VM if stale deps are left behind. (At least it happened when trying to install udev9...)

Making things work appears to be a simple as

{code:diff}
diff --git a/vagrant/essentials.sh b/vagrant/essentials.sh
index 1fbeb20ca..9d08da496 100644
--- a/vagrant/essentials.sh
+++ b/vagrant/essentials.sh
@@ -9,7 +9,7 @@ export DEBIAN_FRONTEND=noninteractive
 # ----------------------------------------------------------------
 # Update the entire system to the latest versions
 # ----------------------------------------------------------------
-apt-get -qq update && apt-get upgrade -y
+apt-get clean && apt-get -qq update && apt-get upgrade -y
 
 # ----------------------------------------------------------------
 # Install some basic utilities
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8z9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 2:54 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33414 apt-get clean before update and upgrade;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release note describing the removal of vendored code from ccenv and the migration options,FAB-16541,42240,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Sep/19 12:13 AM,10/Sep/19 4:02 AM,28/Oct/23 3:09 AM,10/Sep/19 4:02 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"While documentation updates are required to describe the packaging requirements for go chaincode (ie. module or vendored deps with vendored deps just shy of required), we also want a release note that highlights the change and some recommended steps to simplify the transition.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui91",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert transientstore interfaces into structs,FAB-16542,42241,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,10/Sep/19 12:36 AM,19/Sep/19 5:49 PM,28/Oct/23 3:09 AM,19/Sep/19 5:49 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,There's an overusage of interfaces with regards to the transient store. Let's convert to using and passing around a struct in gossip and update the corresponding tests to use reals instead of mocks,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtok:9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
LaunchConfig and buildMetadata keys should serialize in snake case instead of camel case,FAB-16543,42242,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,wlahti,sykesm,sykesm,10/Sep/19 1:19 AM,14/Sep/19 8:34 AM,28/Oct/23 3:09 AM,14/Sep/19 8:34 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,Snake case is a more conventional serialization of json based payloads.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruic9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need a way for new peers to know if orderer locations have changed,FAB-16544,42243,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,ptippett,ptippett,10/Sep/19 1:26 AM,25/Jun/20 7:33 PM,28/Oct/23 3:09 AM,19/Nov/19 12:26 AM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,ipm,,,,"*Background:*

Currently in Hyperledger Fabric, new peers joining a channel can only get the orderer locations from the channel genesis block.  Once joined to a channel, any change to orderer locations will be pushed as a channel config block so the peers are able to update.

 

The problem is, if the orderer locations have changed at any point during the life of the channel, new peers joining that channel have no way to get the current, correct location of the ordering nodes since the genesis block will have old information and the peers don't have access to anything else.

 

I believe there is work slated for maybe Fabric 2.0 (or later) to allow peers joining the channel to pull the orderer locations (and perhaps other data) from the latest channel config block vs only the genesis block.  This seems like the proper way to solve this long term, but we need a 1.x based solution to hold us over until then and this is what this story is meant to address.

 

*Proposed Change:*

After some internal discussions we believe that the best solution to this problem until the long term fix shows up is to add a section to core.yaml to provide an additional set of  orderer locations the peer could check when joining a channel if none of the original orderer locations were valid.

I say ""none"" because my thinking is as long as the peer was able to connect to one of the orderers and join the channel, it could then get the locations of the rest of the orderers from the channel configuration it gets after it joins.  The logic could of course be to check the core.yaml block if any of the orderers listed in the genesis block didn't exist or to check it every time.

I'm told there is precedence here since the same thing was done for TLS certificates, so I suspect the exact same logic would apply.",,denyeart,guoger,ptippett,sykesm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,FAB-16715,,,,,FAB-16715,FAB-5288,FAB-14420,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rs",,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,ptippett,sykesm,ymlbright,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/19 11:09 PM;sykesm;[~mastersingh24] - Is this something you're still planning to pick up for 1.4 or should we prioritize it to be done in the next little bit?

Thanks.;;;","04/Nov/19 2:54 PM;guoger;i believe this should have documentation impact?;;;","04/Nov/19 7:58 PM;denyeart;Agreed that it should be documented. --

[~jyellick] Could you also add 'caCertsFile' to the sample core.yaml file so that people know how to configure it?

https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/core.yaml#L331-L337;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
re-enable PTE tests in smoke,FAB-16545,42245,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Sep/19 2:22 AM,03/Dec/19 1:35 AM,28/Oct/23 3:09 AM,03/Dec/19 1:35 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16490,FAB-16382,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zl7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 2:26 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric-test/+/33413 FAB-16545 re-enable PTE in smoke tests

Depends on temporary workaround FAB-16538/ https://gerrit.hyperledger.org/r/c/fabric/+/33411;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to prometheus v1.0+,FAB-16546,42277,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,10/Sep/19 5:30 AM,11/Sep/19 4:21 AM,28/Oct/23 3:09 AM,11/Sep/19 4:21 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zsb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 5:34 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33423 Upgrade to prometheus/client_golang v1.1;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
publish images for fabric-test tools including PTE and Operator,FAB-16547,42278,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,10/Sep/19 6:19 AM,10/Jun/20 12:54 PM,28/Oct/23 3:09 AM,10/Jun/20 12:54 PM,v1.4.4,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,"Publish tools images for master (2.0) and our LTS release-1.4 of fabric-test, which will work with corresponding fabric repositories master and release-1.4.
 They could be used by internal and external users, and by CI automation.

 

This should probably include a Readme somewhere that describes how to obtain and use them, local or k8s, which releases available, etc.. Possibly also a wiki entry.",,btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15587,,,No,,Unset,No,,,"1|i0192g:",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 11:59 AM;btl5037;I really like this idea, I think we should prioritize this higher. There are talks with other Hyperledger teams that need a tool for standing up networks, they could make use of this image for doing this work.;;;","10/Jun/20 12:54 PM;btl5037;Since we are migrating to the Go SDK users can now simply do `go get u github.com/hyperledger/fabric-test/tools/operator` to install the operator tool locally;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test_listModuleInfo times out in unit tests,FAB-16548,42279,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,10/Sep/19 8:51 AM,11/Sep/19 4:21 AM,28/Oct/23 3:09 AM,11/Sep/19 4:21 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ci-flake,ipm,,,"{code}
21:23:42 --- FAIL: Test_listModuleInfo (86.96s)
21:23:42     list_test.go:87: 
21:23:42         	Error Trace:	list_test.go:87
21:23:42         	Error:      	Received unexpected error:
21:23:42         	            	signal: killed
21:23:42         	            	'go list' failed with: go: finding github.com/hyperledger/fabric-protos-go v0.0.0-20190823190507-26c33c998676
21:23:42         	            	go: finding github.com/hyperledger/fabric-chaincode-go v0.0.0-20190823162523-04390e015b85
{code}

This can be improved by

1. using a proxy to resolve modules
2. increasing the timeout",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zsj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Sep/19 8:55 AM;sykesm; https://gerrit.hyperledger.org/r/c/fabric/+/33424 Use GOPROXY in platform test and increase timeout;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add to operator client, reading in upgrade chaincode section from yaml input file",FAB-16549,42282,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,10/Sep/19 10:30 PM,25/Sep/19 11:20 PM,28/Oct/23 3:09 AM,25/Sep/19 11:20 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00zt7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/19 11:20 PM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33457/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Key metrics to monitor for fabric raft network in k8s,FAB-16550,42283,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,10/Sep/19 10:42 PM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Provide a list in fabric-test repository such as a Readme file to monitor during system test traffic runs. Include examples of recommended sort and display criteria on prometheus servers, of useful metrics from fabric, raft, and a few relevant ones from k8s cluster.

For example, we might suggest to look for metrics with these substrings in their names:
 * raft
 * cluster
 * kubernetes

or suggestions based on target area k8s cluster communication metrics
 * - EgressQueueSize          metrics.Gauge
 * - EgressWorkerCount        metrics.Gauge
 * - IngressStreamsCount      metrics.Gauge
 * - EgressStreamsCount       metrics.Gauge
 * - EgressTLSConnectionCount metrics.Gauge
 * - MessageSendTime          metrics.Histogram
 * - MessagesDroppedCount     metrics.Counter

or fabric metrics sent out by the raft orderers (filter per channel per orderer):
 * cluster_size
 * is_leader
 * committed_block_number
 * snapshot_block_number
 * # of leader_changes
 * # of proposal_failures
 *  data_persist_duration
 * # of normal_proposals_received
 * # of config_proposals_received

 

To start with, here are some samples of groups of recommendations used on prometheus server during previous testing efforts:

(1) general usage, counts

<your_prometheus_server>/graph?g0.range_input=1d&g0.expr=endorser_successful_proposals&g0.tab=0&g1.range_input=2w&g1.expr=consensus_etcdraft_committed_block_number&g1.tab=0&g2.range_input=1d&g2.expr=broadcast_processed_count%7Bexported_type%3D%22ENDORSER_TRANSACTION%22%7D&g2.tab=0&g3.range_input=2h&g3.expr=container_memory_usage_bytes%7Bcontainer_name%3D~%22peer.*%7Corderer.*%22%7D&g3.tab=0&g4.range_input=1d&g4.stacked=0&g4.expr=consensus_etcdraft_normal_proposals_received&g4.tab=0&g5.range_input=1d&g5.expr=consensus_etcdraft_is_leader&g5.tab=0

 

(2) consensus_etcdraft

https://<your-prometheus-server>/graph?g0.range_input=1d&g0.expr=consensus_etcdraft_cluster_size%7Bchannel%3D%22testorgschannel1%22%7D&g0.tab=0&g1.range_input=1d&g1.expr=consensus_etcdraft_committed_block_number%7Bchannel%3D%22testorgschannel1%22%7D&g1.tab=0&g2.range_input=1d&g2.expr=consensus_etcdraft_config_proposals_received&g2.tab=0&g3.range_input=1d&g3.expr=consensus_etcdraft_data_persist_duration_bucket%7Bchannel%3D%22testorgschannel1%22%7D&g3.tab=0&g4.range_input=1d&g4.expr=consensus_etcdraft_data_persist_duration_count%7Bchannel%3D%22testorgschannel1%22%7D&g4.tab=0&g5.range_input=1d&g5.expr=consensus_etcdraft_data_persist_duration_sum%7Bchannel%3D%22testorgschannel1%22%7D&g5.tab=0&g6.range_input=1d&g6.expr=consensus_etcdraft_is_leader%7Bchannel%3D%22testorgschannel1%22%7D&g6.tab=0&g7.range_input=1d&g7.expr=consensus_etcdraft_leader_changes%7Bchannel%3D%22testorgschannel1%22%7D&g7.tab=0&g8.range_input=1d&g8.expr=consensus_etcdraft_normal_proposals_received%7Bchannel%3D%22testorgschannel1%22%7D&g8.tab=0&g9.range_input=1d&g9.expr=consensus_etcdraft_snapshot_block_number%7Bchannel%3D%22testorgschannel1%22%7D&g9.tab=0

 

(3) etcd_disk_wal

https://<your-prometheus-server>/graph?g0.range_input=1d&g0.expr=etcd_disk_wal_fsync_duration_seconds_bucket%7Bk8s_app%3D~%22orderer1st.*%22%7D&g0.tab=0&g1.range_input=1d&g1.expr=consensus_etcdraft_data_persist_duration_count%7Bk8s_app%3D~%22orderer1st.*%22%7D&g1.tab=0&g2.range_input=1d&g2.expr=consensus_etcdraft_data_persist_duration_sum%7Bk8s_app%3D~%22orderer1st.*%22%7D&g2.tab=0

 

(4) cluster_comm

https://<your-prometheus-server>/graph?g0.range_input=1d&g0.expr=cluster_comm_egress_queue_capacity%7Bchannel%3D%22testorgschannel1%22%7D&g0.tab=0&g1.range_input=1d&g1.expr=cluster_comm_egress_queue_length%7Bchannel%3D%22testorgschannel1%22%7D&g1.tab=0&g2.range_input=1d&g2.expr=cluster_comm_egress_queue_workers%7Bchannel%3D%22testorgschannel1%22%7D&g2.tab=0&g3.range_input=1d&g3.expr=cluster_comm_ingress_stream_count&g3.tab=0&g4.range_input=1d&g4.expr=cluster_comm_egress_tls_connection_count&g4.tab=0&g5.range_input=1d&g5.expr=cluster_comm_msg_send_time_bucket%7Bchannel%3D%22testorgschannel1%22%7D&g5.tab=0&g6.range_input=1d&g6.expr=cluster_comm_msg_send_time_count%7Bchannel%3D%22testorgschannel1%22%7D&g6.tab=0&g7.range_input=1d&g7.expr=cluster_comm_msg_send_time_count%7Bchannel%3D%22testorgschannel1%22%7D&g7.tab=0

 ",,btl5037,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i000dx:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,nnao,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ability to execute parallel TestSpec actions with Operator tool,FAB-16551,42286,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,,scottz,scottz,10/Sep/19 11:06 PM,10/Jun/20 12:33 PM,28/Oct/23 3:09 AM,10/Jun/20 12:33 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Each test step is executed by test driver in sequential order. Each performs action(s) specified in TestSpec input file. Each is currently performed in sequential order. We need to implement a mechanism for the user to specify performing some actions in parallel, and proceed only after those identified actions are completed. For example, we may wish to run a traffic pattern for an hour, or for 100,000 transactions; meanwhile, we may wish to perform a different action such as running a script to restart a peer every 3 minutes until each peer has been restarted. Continue after both are finished.

Consider: we could require the ""parallel"" indication to be part of the TestSpec input file action descriptor. Or, it might be preferable for that knowledge/direction to be provided by the testdriver which calls the operator with a parameter telling it to run the actions from a testspec file together in parallel.

This issue blocks many complex test scenarios we have planned for the system test suite.

 

{color:#de350b}NOTE {color}(Dec 02): Azure should be able to run each it test in parallel, so we may not need to impement a test command option to do so. Instead, we may simply need to structure our tests to be able to run in parallel, and leverage the Azure capability to do so with our go tests.

 ",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwr9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove/Cleanup transient store functions,FAB-16552,42288,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,11/Sep/19 3:31 AM,12/Sep/19 3:39 AM,28/Oct/23 3:09 AM,12/Sep/19 3:39 AM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15499,,,No,,Unset,No,,,"1|i00ztv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/19 3:34 AM;manish-sethi;While adding the support for update to private data collection configuration, we needed to persist additional information in the transient store. As a result, the code for transient store happen to maintain both old and new value format - [https://github.com/hyperledger/fabric/blob/86f87ebcd8a1819e3832b289f2d94d4a88bb6e05/core/transientstore/store.go].

 

The functions dealing with old format should be deleted as the consumers have started using new functions.

 

Also, for cleanliness, rename the new functions to the regular names (that is currently used by the old functions).

 

Specifically, remove function ""Persist"" and rename function ""PersistWithConfig"" as ""Persist"". Similarly, remove function ""Next"" and rename function ""NextWithConfig"" as ""Next"";;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix paths and chaincodeID in PTE,FAB-16553,42289,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,11/Sep/19 11:54 AM,12/Sep/19 2:47 AM,28/Oct/23 3:09 AM,12/Sep/19 2:47 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00zu3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/19 11:58 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33444/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicate components in connection profile generated by launcher,FAB-16554,42290,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,11/Sep/19 12:01 PM,17/Sep/19 4:33 AM,28/Oct/23 3:09 AM,17/Sep/19 4:33 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00zub:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/19 10:27 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33369/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change the keystore to plugin structure,FAB-16555,42291,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,yjchang21,yjchang21,11/Sep/19 1:19 PM,11/Sep/19 1:19 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-crypto,,,,,1,,,,,"To use a custom keystore you need to implement a new bccsp plugin or implement keystore interface, modify sw bccsp, and then rebuild images.

So changing it to a pluggable keystore structure would be helpful.

In case of fabric-node-sdk, it supports custom class that implements KeyValueStore API and simply sets the path.

[https://fabric-sdk-node.github.io/release-1.4/CouchDBKeyValueStore.html]

 

In the pluggable structure, we can change just the keystore type (ex. DB, JKS) and reduce the scope of modification.

 ",,magpie73,yjchang21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i00zuj:",,,,No,Unset,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),magpie73,yjchang21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support disabling mvcc?,FAB-16556,42292,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,leeseunghyun,leeseunghyun,11/Sep/19 1:28 PM,19/Apr/20 1:54 PM,28/Oct/23 3:09 AM,19/Apr/20 1:54 PM,,,,,,,,,,,,,,,0,,,,,"i want just save transaction logs for same key but, HF uses mvcc for key collision

 

so in massive traffic scenario, i have no way conccurrent update for same key",,denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zur:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,leeseunghyun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Apr/20 1:54 PM;denyeart;You can do write-only transaction to avoid mvcc checks... latest ordered write would overwrite prior writes.
Alternatively, use separate keys.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - orderer/common/server,FAB-16557,42293,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,ynamiki,ynamiki,ynamiki,11/Sep/19 3:55 PM,06/Jun/20 4:53 PM,28/Oct/23 3:09 AM,06/Jun/20 4:53 PM,,,,,,,,,,,,,,,0,,,,,"{code}
orderer/common/server/main.go:502:26: this result of append is never used, except maybe in other appends (SA4010)
orderer/common/server/main_test.go:53:6: type signerSerializer is unused (U1000)
{code}
",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zuz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/20 4:53 PM;ynamiki;Too old issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
initializeServerConfig() in orderer/common/server: RootCAs Are Ignored,FAB-16558,42294,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,11/Sep/19 5:41 PM,22/Nov/19 7:31 AM,28/Oct/23 3:09 AM,26/Sep/19 10:27 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,,0,ipm,,,,"In the following code, a value of {{serverRootCAs}} is discarded. Should we have {{secureOpts.ServerRootCAs = serverRootCAs}} at the end of the block to store the value?

https://github.com/hyperledger/fabric/blob/b5ee3b689abe2edead890a1f74ec0c1d9dda08cd/orderer/common/server/main.go#L502
",,denyeart,jyellick,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zv7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,ynamiki,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/19 5:45 PM;ynamiki;[~jyellick], I have a question about your code. Could you please check the description of this issue?;;;","24/Sep/19 4:51 AM;jyellick;Yes, this looks like a bug to me.  In practice, all orderer operations have a channel context associated with them, which sets the TLS certificates as well, but, if we are bothering to build this set of TLS CAs, we should be referencing them.;;;","24/Sep/19 9:29 AM;ynamiki;Thanks, I will submit a patch.;;;","25/Sep/19 9:37 PM;ynamiki;https://gerrit.hyperledger.org/r/c/fabric/+/33712;;;","26/Sep/19 10:41 AM;ynamiki;v1.4 has this problem too. This is a patch for release-1.4 branch.
https://gerrit.hyperledger.org/r/c/fabric/+/33767;;;","22/Nov/19 7:31 AM;denyeart;Fixed in master branch. I don't think there is any need for this in v1.4.x LTS release.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for Go plugins as fabric-cli plugins,FAB-16559,42295,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bstasyszyn,bstasyszyn,bstasyszyn,11/Sep/19 9:23 PM,07/Nov/19 7:59 PM,28/Oct/23 3:09 AM,12/Sep/19 9:30 PM,,,,,,,,,,fabric-cli,,,,,0,,,,,"Currently a fabric-cli plugin is defined as an executable which is wrapped by a cobra command. This has its limitations in that custom flags for the command are ignored and long descriptions and examples cannot be provided.

The fabric-cli plugin mechanism should also recognize commands that are defined using Go plugins. A Go plugin can return a full cobra sub-command which provides all of the features mentioned above.",,bstasyszyn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i00zvf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bstasyszyn,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Sep/19 9:49 PM;bstasyszyn;[~bpbuch] [~lehors] I've added a PR for this: https://gerrit.hyperledger.org/r/c/fabric-cli/+/33450;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create helper function to convert SignedData to Identities,FAB-16560,42297,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Sep/19 10:38 PM,21/Nov/19 5:07 AM,28/Oct/23 3:09 AM,16/Oct/19 4:21 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i00zvv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document memberOnlyWrite,FAB-16561,42299,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,denyeart,denyeart,11/Sep/19 10:54 PM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,10/Dec/19 12:51 AM,,,,,,,,,,,,,,,0,,,,,e.g. at https://hyperledger-fabric.readthedocs.io/en/latest/private-data-arch.html,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:2",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration tests should successfully use the external builder,FAB-16562,42300,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,11/Sep/19 11:31 PM,20/Sep/19 11:17 PM,28/Oct/23 3:09 AM,15/Sep/19 8:59 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Currently, the e2e test to use the external builder fails and falls back to the docker build.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00zwj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-cli to latest SDK and fabric-protos-go,FAB-16563,42301,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bstasyszyn,bstasyszyn,bstasyszyn,12/Sep/19 12:18 AM,07/Nov/19 7:56 PM,28/Oct/23 3:09 AM,12/Sep/19 9:30 PM,,,,,,,,,,,,,,,0,,,,,Point to the latest fabric-sdk-go which uses the protos from hyperledger/fabric-protos-go.,,bstasyszyn,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i00zwr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bstasyszyn,lehors,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 7:56 PM;lehors;https://github.com/hyperledger/fabric-cli/pull/5;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Internal policy evaluator function takes slice of identities as argument,FAB-16564,42304,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ales,ales,ales,12/Sep/19 2:17 AM,04/Nov/19 6:58 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i00zxf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename policy.Evaluate function,FAB-16565,42307,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ales,ales,ales,12/Sep/19 2:55 AM,04/Nov/19 6:58 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i00zxn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate Fabric CA repo to GitHub,FAB-16566,42309,42222,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ryjones,ryjones,12/Sep/19 4:22 AM,23/Oct/19 2:38 AM,28/Oct/23 3:09 AM,23/Oct/19 2:38 AM,,,,,,,,,,fabric-ca,,,,,0,,,,,,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zy3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop referencing GOPATH in unit test script,FAB-16567,42310,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Sep/19 4:37 AM,02/Dec/19 5:56 PM,28/Oct/23 3:09 AM,02/Dec/19 5:56 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zyb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 5:01 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33467;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop referencing GOPATH in linter script,FAB-16568,42311,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Sep/19 5:06 AM,02/Dec/19 5:55 PM,28/Oct/23 3:09 AM,02/Dec/19 5:55 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zyj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 5:07 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33468 Stop referencing GOPATH in golinter.sh
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop referencing GOPATH in proto compilation script,FAB-16569,42313,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,12/Sep/19 6:00 AM,02/Dec/19 5:55 PM,28/Oct/23 3:09 AM,02/Dec/19 5:55 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,Most protos are moved out of the fabric repo. What's left is specific to a single component or to a test and neither requires a fixed root so we no longer need to reference GOPATH or a build root.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zyr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 6:01 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33469 Stop referencing GOPATH in compile_protos.sh;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Regenerate fakes/mocks with the current tooling,FAB-16570,42314,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Sep/19 6:33 AM,03/Dec/19 1:34 AM,28/Oct/23 3:09 AM,03/Dec/19 1:34 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:rui6",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 6:36 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33470 Regenerate fakes and mocks with current tooling;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer panic when package java chaincode,FAB-16571,42315,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ymlbright,ymlbright,ymlbright,12/Sep/19 10:37 AM,05/Oct/19 2:43 AM,28/Oct/23 3:09 AM,15/Sep/19 12:13 AM,v1.4.2,v2.0.0,,,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,peer,,,,"When I use this peer command line
{noformat}
./peer chaincode package java.cc -n java -v 1.0 -p $(pwd)/java -l java{noformat}
to package java chaincode, peer panic with the following log.
{code}
Unable to find source-code formatter for language: text. Available languages are: actionscript, ada, applescript, bash, c, c#, c++, cpp, css, erlang, go, groovy, haskell, html, java, javascript, js, json, lua, none, nyan, objc, perl, php, python, r, rainbow, ruby, scala, sh, sql, swift, visualbasic, xml, yamlpanic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x28 pc=0x14d897b]

goroutine 1 [running]:
github.com/hyperledger/fabric/core/container/util.WriteFolderToTarPackage.func1(0xc0004a5db0, 0x41, 0x0, 0x0, 0x1eeabe0, 0xc00050f350, 0x0, 0x0)
	/w/workspace/fabric-release-jobs-x86_64/gopath/src/github.com/hyperledger/fabric/core/container/util/writer.go:64 +0xcb
path/filepath.walk(0xc00003dd80, 0x39, 0x1f084c0, 0xc00013f450, 0xc0004d7da0, 0x0, 0x0)
	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:378 +0x21f
path/filepath.walk(0x7ffeefbffa57, 0x32, 0x1f084c0, 0xc00009f040, 0xc0004d7da0, 0x0, 0x60)
	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:382 +0x2fe
path/filepath.Walk(0x7ffeefbffa57, 0x32, 0xc0004d7da0, 0x2, 0x3)
	/opt/go/go1.11.5.linux.amd64/src/path/filepath/path.go:404 +0x105

{code}
In file [writer.go]([https://github.com/hyperledger/fabric/blob/v1.4.0/core/container/util/writer.go#L57]), function `walkFn` should check if there is an error when walk through the path. If an error occurred, the info variable will be nil, and the err shows the reason.",,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zyz:",,Yes,,Unset,Unset,,"1. peer command line environment with version v1.4.x
2. pick a java chaincode path, and change any directory file mode to 0644 in that path
3. use peer chaincode package to package chaincode",,Unset,,,,,,Unset,,Unset,,(Please add usage information),ymlbright,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 11:56 AM;ymlbright;Master: [https://gerrit.hyperledger.org/r/c/fabric/+/33472]

v1.4:  [https://gerrit.hyperledger.org/r/c/fabric/+/33473];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicate Fabtoken Entry,FAB-16572,42316,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,paranjan,paranjan,12/Sep/19 3:54 PM,12/Sep/19 4:03 PM,28/Oct/23 3:09 AM,12/Sep/19 4:03 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,"Fabtoken is present twice in Glossary at fabric\docs\source\glossary.rst

CR provided with fix.",,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zz7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Miscellaneous doc improvements,FAB-16573,42317,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,paranjan,paranjan,paranjan,12/Sep/19 4:21 PM,21/Nov/19 3:16 AM,28/Oct/23 3:09 AM,18/Oct/19 11:54 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Corrected grammar and added more context.

Multiple CRs will be provided.",,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00zzf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cache results of msp.Validate function,FAB-16574,42318,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ales,ales,ales,12/Sep/19 5:53 PM,21/Nov/19 4:51 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i00zzn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EvaluateIdentities policy function,FAB-16577,42323,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,ales,ales,ales,12/Sep/19 10:03 PM,04/Nov/19 6:58 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i0100b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add fake generation directives for discovery/support/mocks,FAB-16578,42324,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,12/Sep/19 10:08 PM,12/Nov/19 5:47 AM,28/Oct/23 3:09 AM,12/Nov/19 5:47 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,help-wanted,hygiene,ipm,,"The following fakes are generated by counterfeiter but do not seem to be associated with a go:generate directive.

We need to do two things:
1. Ensure that the fakes are actually used.
2. Add go:generate directives to regenerate them.
3. Regenerate the fakes with the current tooling",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8x",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove unused, generated fakes",FAB-16579,42325,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,12/Sep/19 10:24 PM,03/Dec/19 1:34 AM,28/Oct/23 3:09 AM,03/Dec/19 1:34 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8y",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 10:26 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33485 Remove unused, generated mocks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Hyperledger Composer from documentation,FAB-16580,42326,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,12/Sep/19 10:45 PM,13/Sep/19 1:51 AM,28/Oct/23 3:09 AM,13/Sep/19 1:51 AM,,,,,,,,,,fabric-docs,,,,,0,,,,,"Hyperledger Composer is now deprecated, and users should not use it. We mention it twice in the Hyperledger Fabric documentation, and these references need to be removed.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0100j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-Test Points to Gerrit Mirrors,FAB-16581,42327,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,bharadwajambati1,btl5037,btl5037,12/Sep/19 10:58 PM,04/Dec/19 12:30 AM,28/Oct/23 3:09 AM,04/Dec/19 12:30 AM,v1.4.0,v2.0.0,,,,,,,,fabric-quality,fabric-test,,,,0,,,,,"Today Fabric-Test Makefile has references to Gerrit for cloning repos. These references need to be updated to point to GitHub instead. We are migrating as early 9-16-2019 Fabric CA which will cause clones from the Fabric-Test repo to fail

For reference:
{code:java}
cd fabric-test
  grep -r gerrit regression
  grep -r gerrit tools
  grep gerrit [MR]*
{code}",,bharadwajambati1,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16614,,,,,,,,FAB-17172,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzxo",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,btl5037,scottz,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/19 8:26 AM;scottz;(For reference, this might help. This is what they changed in fabric repo documentation: https://jira.hyperledger.org/browse/FAB-17115).;;;","26/Nov/19 1:32 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34465/] for master branch

[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34466/] for release-1.4 branch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stop referencing GOPATH in go:generate directives,FAB-16582,42329,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,12/Sep/19 11:35 PM,03/Dec/19 1:34 AM,28/Oct/23 3:09 AM,03/Dec/19 1:34 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01017:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Sep/19 11:38 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33492 Stop referencing GOPATH in go:generate directives
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove stale main.go from ccenv image build directory,FAB-16583,42330,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,13/Sep/19 12:17 AM,03/Dec/19 1:33 AM,28/Oct/23 3:09 AM,03/Dec/19 1:33 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,No longer use it to vendor ccenv,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0101f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 12:18 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33494 Remove stale main.go from ccenv image build;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE to accept connection profile file path along with connection profile directory path,FAB-16584,42331,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,13/Sep/19 12:18 AM,25/Sep/19 11:20 PM,28/Oct/23 3:09 AM,25/Sep/19 11:20 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16078,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqwi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 12:45 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33458/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update connection profile with channel name after creating channel,FAB-16585,42332,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,13/Sep/19 12:20 AM,25/Sep/19 11:22 PM,28/Oct/23 3:09 AM,25/Sep/19 11:22 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 5:02 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33511/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update connection profile with peers to channel after joining peers to channel,FAB-16586,42333,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,13/Sep/19 12:21 AM,25/Sep/19 11:21 PM,28/Oct/23 3:09 AM,25/Sep/19 11:21 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqx9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 5:02 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33511/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update connection profile with chaincodes after instantiation,FAB-16587,42334,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,13/Sep/19 12:21 AM,25/Sep/19 11:23 PM,28/Oct/23 3:09 AM,25/Sep/19 11:23 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 4:32 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33539/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove noopmsp,FAB-16588,42336,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,13/Sep/19 2:02 AM,14/Jan/20 12:29 AM,28/Oct/23 3:09 AM,14/Jan/20 12:29 AM,,,,,,,,,,,,,,,0,,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0102r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused Dockerfile for fabric-testenv,FAB-16589,42337,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,13/Sep/19 2:32 AM,03/Dec/19 1:33 AM,28/Oct/23 3:09 AM,03/Dec/19 1:33 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,fabric-testenv is no longer built so cleanup the remnants.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0102z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 2:33 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33503 Remove unused fabric-testenv Dockerfile;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable implicit rules in the fabric make process,FAB-16590,42338,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,13/Sep/19 2:35 AM,03/Dec/19 1:33 AM,28/Oct/23 3:09 AM,03/Dec/19 1:33 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"When targets are evaluated, make evaluates the built-in implicit rules. Disabling that function makes debugging make issues a bit easier (less noise) and can reduce build times.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01037:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 2:37 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33504 Disable implicit make rules;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create separate Dockerfile for baseos image,FAB-16591,42339,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,,sykesm,sykesm,13/Sep/19 3:38 AM,05/Oct/19 5:39 AM,28/Oct/23 3:09 AM,05/Oct/19 5:39 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,Combining the peer and baseos results in the peer having a chaincode user.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zg",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 3:40 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33506 Create separate Dockerfile for baseos image;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the etcdraft in the configtx.yaml,FAB-16592,42343,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,13/Sep/19 4:41 PM,24/Oct/19 3:42 AM,28/Oct/23 3:09 AM,17/Sep/19 4:29 PM,v1.4.0,,,,,v1.4.4,,,,fabric-samples,,,,,0,fabric-samples,,,,Add the etcdraft config in the configtx.yaml in the project fabric-samples,,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Sep/19 4:41 PM;bjzhang03;Screenshot from 2019-09-13 15-38-41.png;https://jira.hyperledger.org/secure/attachment/17811/Screenshot+from+2019-09-13+15-38-41.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01043:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I expect my GOPROXY configuration to be honored during test",FAB-16593,42345,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,13/Sep/19 10:01 PM,16/Oct/19 4:34 AM,28/Oct/23 3:09 AM,16/Oct/19 4:34 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"in module mode, go will often access remote VCS repositories to validate pinned versions are valid with respect to expectations at the time the go.sum file was written. Alternatively, if a go.sum is not written, the repositories will be accessed to check for version information and tags. This is expensive.

To reduce the cost, go can be configured to point to a proxy that hosts indexes for packages and calculated sums. The google go team hosts proxy.golang.org for publicly accessible repositories.

Acceptance: During build and test, if I have {{$GOPROXY}} configured, it uses my configuration. This includes containerized chaincode builds. If the proxy is not explicitly configured, it should be conditionally set to [https://proxy.golang.org|https://proxy.golang.org/].

In addition to inheriting and honoring the calling environment, this should allow end-users to provide their own proxy configuration when using private repositories.

The environment variable only *needs* to be set for the golang platform.
 Integration test configuration should whitelist GOPROXY.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6ri",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric-test uses GOPATH but should not,FAB-16594,42346,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,13/Sep/19 11:01 PM,25/Sep/19 11:25 PM,28/Oct/23 3:09 AM,25/Sep/19 11:25 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Remove references to GOPATH from tools, scripts, tests, artifiacts paths, etc, throughout fabric-test repository. Redesign as needed.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16623,FAB-16625,FAB-16626,FAB-16627,FAB-16637,FAB-16638,FAB-16642,FAB-16654,FAB-16656,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxk",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move orderer and idexmixgen main packages under cmd/,FAB-16595,42347,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,13/Sep/19 11:05 PM,03/Dec/19 1:32 AM,28/Oct/23 3:09 AM,03/Dec/19 1:32 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0104r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Sep/19 11:11 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33514 Move orderer and idemixgen mains to cmd;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the error assertions in internal/peer/lifecycle/chaincode tests,FAB-16596,42348,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,13/Sep/19 11:29 PM,29/Oct/19 7:09 PM,28/Oct/23 3:09 AM,29/Oct/19 7:09 PM,,,,,,,,,,fabric-peer,,,,,0,hygiene,ipm,,,"Ginkgo+Gomega was chosen for the test implementation so we should use the idiomatic structures within that context.

In particular, this pattern:

{code}
Expect(err).To(HaveOccurred())
Expect(err.Error()).To(Equal(""some message""))
{code}

should be replaced with

{code}
Expect(err).To(MatchError(""some message""))
{code}

The tests should also be generally reviewed.

See https://onsi.github.io/gomega/#matcherrorexpected-interface for MatchError documentation.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/19 9:20 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34137 Use idiomatic matchers for error assertions;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: PTE failed testcase FAB-6813-4i (marbles02),FAB-16597,42349,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,dongming,dongming,13/Sep/19 11:35 PM,12/Oct/19 12:28 AM,28/Oct/23 3:09 AM,12/Oct/19 12:28 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,,"PTE failed to join the channel

Branch: Master
Platform: x86_64
Error Snippet:

/
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.705Z PTE 0 util]: [getConnProfileList] file: 0=CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.705Z PTE 0 util]: [readConfigFile] input File:  CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.705Z PTE 0 main]: [Nid=0 pte-main] cpList;  0=CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.706Z PTE 0 util]: [getNodetypeFromConnProfiles] input nodeType (orderers), File list:  0=CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.706Z PTE 0 util]: [readConfigFile] input File:  CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.709Z PTE 0 util]: [readConfigFile] set pointer to CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.709Z PTE 0 util]: [findOrgConnProfile] orgname(org1) found File:  CITest/CIConnProfiles/test-network/config.yaml
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.709Z PTE 0 main]: [joinChannel] Calling peers in organization (PeerOrg1) to join the channel (testorgschannel2)
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.710Z PTE 0 util]: [getConnProfilePropCnt] prop (certificateAuthorities) cnt: 4
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.710Z PTE 0 util]: [getConnProfilePropCnt] prop (certificateAuthorities) cnt: 4
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.710Z PTE 0 util]: [getConnProfilePropCnt] prop (certificateAuthorities) cnt: 4
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.710Z PTE 0 util]: [getConnProfilePropCnt] prop (certificateAuthorities) cnt: 4
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.710Z PTE 0 main]: [joinChannel] user=admin, secret=adminpw
00:17:40 [32minfo[39m: [2019-09-13T02:02:06.713Z PTE 0 util]: [findOrgConnProfile] orgname(org2), input File list:  0=CITest/CIConnProfiles/test-Traceback (most recent call last):
00:17:40   File ""/usr/bin/py.test"", line 9, in <module>
00:17:40     load_entry_point('pytest==2.8.7', 'console_scripts', 'py.test')()
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/config.py"", line 48, in main
00:17:40     return config.hook.pytest_cmdline_main(config=config)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 724, in __call__
00:17:40     return self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 338, in _hookexec
00:17:40     return self._inner_hookexec(hook, methods, kwargs)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 333, in <lambda>
00:17:40     _MultiCall(methods, kwargs, hook.spec_opts).execute()
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 596, in execute
00:17:40     res = hook_impl.function(*args)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/main.py"", line 115, in pytest_cmdline_main
00:17:40     return wrap_session(config, _main)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/main.py"", line 110, in wrap_session
00:17:40     exitstatus=session.exitstatus)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 724, in __call__
00:17:40     return self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 338, in _hookexec
00:17:40     return self._inner_hookexec(hook, methods, kwargs)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 333, in <lambda>
00:17:40     _MultiCall(methods, kwargs, hook.spec_opts).execute()
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 595, in execute
00:17:40     return _wrapped_call(hook_impl.function(*args), self.execute)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/vendored_packages/pluggy.py"", line 249, in _wrapped_call
00:17:40     wrap_controller.send(call_outcome)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/terminal.py"", line 369, in pytest_sessionfinish
00:17:40     self.summary_failures()
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/terminal.py"", line 463, in summary_failures
00:17:40     self._outrep_summary(rep)
00:17:40   File ""/usr/lib/python2.7/dist-packages/_pytest/terminal.py"", line 489, in _outrep_summary
00:17:40     self._tw.line(content)
00:17:40   File ""/usr/lib/python2.7/dist-packages/py/_io/terminalwriter.py"", line 201, in line
00:17:40     self.write(s, **kw)
00:17:40   File ""/usr/lib/python2.7/dist-packages/py/_io/terminalwriter.py"", line 198, in write
00:17:40     write_out(self._file, markupmsg)
00:17:40   File ""/usr/lib/python2.7/dist-packages/py/_io/terminalwriter.py"", line 333, in write_out
00:17:40     fil.write(msg)
00:17:40 IOError: [Errno 11] Resource temporarily unavailable
/ code placeholder

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/347/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/347/",,bharadwajambati1,dongming,scottz,suryalnvs,vijaypunugubati,,,,,,,,,,,,,,FABN-1393,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxy",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,dongming,scottz,suryalnvs,vijaypunugubati,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 5:21 AM;scottz;The noted error occurs when the dumped text to stdout exceeds 64K, so I see no evidence that the root cause of the test failure was because of a join failure. We really should split this into TWO bugs; one is just a problem displaying the logs - which also means we don't have enough logs to see where the problem DID occur.

Note: when looking in the logs, we see that the chaincode had not been instantiated successfully in the channel on the peer. We should put in a workaround for the data dumping problem (to redirect the logs to a file instead of stdout) in order to see all the logs, so we can see the exact error (whether join, or install, or instantiate, etc). Or, someone could run the test outside of the CI (locally or vlaunch) and collect logs.
{quote}[32minfo[39m: [2019-09-13T02:12:35.275Z PTE 1 main]: stdout: [32minfo[39m: [2019-09-13T02:12:35.275Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel2:org2:0 invoke_query_simple] query[1000] result[0]: Error: make sure the chaincode marbles02_go_ch2 has been successfully defined on channel testorgschannel2 and try again: chaincode marbles02_go_ch2 not found
{quote};;;","28/Sep/19 5:05 AM;suryalnvs;Installing marbles02 is failing with METADATA PATH. After recent changes with GOPATH, PTE is not able to find correct path for metadata file.;;;","02/Oct/19 4:10 AM;scottz;We need to change the PTE client to pass a root dir with the relative path to the chaincode, to the node sdk. We also require a change to the node sdk, so it handles it correctly. Refer to FABN-1393.;;;","02/Oct/19 5:23 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33840/;;;","12/Oct/19 12:28 AM;scottz;THis passes in CI, even without FABN-1393 solution, because CI defaults to using gopath.

We can close this because our own tests pass, but FABN-1393 still should be finished.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove EXECUTABLES check from make process,FAB-16598,42350,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,14/Sep/19 12:34 AM,03/Dec/19 1:31 AM,28/Oct/23 3:09 AM,03/Dec/19 1:31 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rx",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 12:36 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33517 Remove EXECUTABLES check from make process;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As an implementor of the external launch contract, I want to be able to provide index metadata for the ledger component to the peer",FAB-16599,42351,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,sykesm,sykesm,14/Sep/19 12:55 AM,22/Oct/19 2:21 AM,28/Oct/23 3:09 AM,22/Oct/19 2:21 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The existing chaincode platforms can package, carry, and extract _metadata_ associated with a chaincode. The ledger component uses this to documents necessary to create couch DB indexes.

The {{release}} or {{build}} phase of an external builder should be responsible for providing this information to the peer by populating a directory with the metadata documents. These documents must then be saved and provided to the ledger (where appropriate).

The current proposal reads like this:

{quote}
* Chaincode /bin/release (optional)

`release` is called to generate metadata necessary to control how the peer starts the application.

The executable is called with two arguments:

- the directory that was populated by `build` with the artifacts required to run the chaincode
- a directory to be populated by `release` with a metadata and assets

The details have not been worked out but there are two kinds of information we're expecting:

- metadata like CouchDB indices that have been extracted from chaincode to be consumed by the peer
- information about the location and assets necessary for a peer to connect to running chaincode that will not be started by the peer
{quote}

In retrospect, some of that seems a bit wrong. I believe we could actually use {{build}}/{{compile}} (whatever it's called) to populate the metadata as well as the runtime assets. That would mean that {{release}} is truly optional and only necessary to provide assets necessary for the peer to connect to chaincode.

Acceptance: The build script is provided a fourth directory to (optionally) populate with metadata. Upon completion of the build process, this metadata is captured and made available to the ledger. An existing chaincode that requires a CouchDB index can be deployed and executed using the external builder.",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,FAB-16737,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruicg",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove PROJECT_NAME macro logic from Makefile,FAB-16600,42352,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,14/Sep/19 1:01 AM,03/Dec/19 1:29 AM,28/Oct/23 3:09 AM,03/Dec/19 1:29 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,It looks like the macro was introduced to support some scenarios in fabric-test but I don't see anything in that tree that sets the macro or environment variable...,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruicc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 1:04 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33518 Remove PROJECT_NAME macro logic from Makefile;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove check-go-version dependency from binary targets,FAB-16601,42354,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,14/Sep/19 1:14 AM,03/Dec/19 1:29 AM,28/Oct/23 3:09 AM,03/Dec/19 1:29 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"The go version check appears intended to detect a mismatch between the expected and running versions. In this context, the check should really only be necessary in aggregation targets (all, release, native, etc) and not on the specific binaries.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01057:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 1:49 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33519 Isolate check_go_version to aggregate targets;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove enable_ci_only_tests target from Makefile,FAB-16603,42355,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,14/Sep/19 1:51 AM,03/Dec/19 1:28 AM,28/Oct/23 3:09 AM,03/Dec/19 1:28 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"There appear to be no users of this in fabric, ci-management, or fabric-test.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0105f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 1:52 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33520 Remove enable_ci_only_tests target from Makefile;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-organize and break out BYFN,FAB-16604,42356,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,negupta,negupta,negupta,14/Sep/19 3:21 AM,31/Mar/20 3:40 AM,28/Oct/23 3:09 AM,31/Mar/20 3:40 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,0,,,,,"Re-organize and break out the Build your first network tutorial. Tutorial has gotten too long, and to cumbersome to go into detail, or to use to surface new features.

Currently proposed outline and work plan is below:
",,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15768,,,,,,,,,,,,,"26/Nov/19 12:33 AM;negupta;Break up BYFN work plan.pptx;https://jira.hyperledger.org/secure/attachment/17972/Break+up+BYFN+work+plan.pptx",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,Remove BYFN,To Do,No,,Unset,No,,,"1|hzwrrq:66i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Mar/20 3:40 AM;negupta;Last issues moved to https://jira.hyperledger.org/browse/FAB-17563

Closing this Epic;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Improve the orderer log why the leader election happened, on error case when a block abandoned",FAB-16605,42357,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,rameshthoomu,rameshthoomu,14/Sep/19 5:00 AM,20/Sep/19 2:50 AM,28/Oct/23 3:09 AM,20/Sep/19 2:50 AM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,,,,,"While running the large payload 48MB ( total 98MB TX payload request and response) test, observed that the orderer leader election is dropped. Attached error log doesn't show detailed information on why the leader election happened.

Tested this case on 2.0.0 code base in IKS(k8s environment) with 1 CPU and 4GB memory peer pod limits. Below are the raft orderer settings.
orderer:
#! Consensus type
  orderertype: etcdraft
  batchsize:
    maxmessagecount: 100
    absolutemaxbytes: 99 MB
    preferredmaxbytes: 10 MB
  batchtimeout: 2s
#! Etcd raft options and this will be used when orderertype is
#! selected as etcdraft
  etcdraft_options:
    TickInterval: 500ms
    ElectionTick: 10
    HeartbeatTick: 1
    MaxInflightBlocks: 5
    SnapshotIntervalSize: 100 MB

Attached is the log.",,guoger,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/19 5:01 AM;rameshthoomu;Untitled;https://jira.hyperledger.org/secure/attachment/17812/Untitled","17/Sep/19 3:14 AM;scottz;orderer_leader_fab16605.log;https://jira.hyperledger.org/secure/attachment/17820/orderer_leader_fab16605.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,rameshthoomu,scottz,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 1:27 AM;rameshthoomu;https://gerrit.hyperledger.org/r/c/fabric/+/33523;;;","17/Sep/19 2:43 AM;scottz;We should expect to see the new warning log message in the orderer leader, only after the WAL write finally completes, and only once per slow write. If the write completes before a leader election occurs (before the 5 secs, when using default settings), then there should be no problem and no lost message. If the write takes longer than 5 secs and a leader election happens, then there is a good possibility that the block would be lost. Raft network operators should be aware that leadership elections could lead to dropped transactions/blocks, so the warning log should be enough for them to identify the slow-write as the cause for a lost block they might have observed.;;;","17/Sep/19 1:28 PM;guoger;Thanks for the log and comments in it, very helpful.

1. This log basically indicates a block being dropped for sure:
{code}
2019-09-11 22:09:59.550 UTC [orderer.consensus.etcdraft] findConflict -> INFO 0a0 found conflict at index 12 [existing term: 3, conflicting term: 4] channel=testorgschannel0 node=3
2019-09-11 22:09:59.550 UTC [orderer.consensus.etcdraft] truncateAndAppend -> INFO 0a1 replace the unstable entries from index 12 channel=testorgschannel0 node=3
{code}
although, we cannot directly get such notification from {{etcd/raft}}. what we could do is to add a tracker in our {{MemoryStorage}} to log such event

2. i think we should also log block hash along with {{""Writing block [%d]""}} and {{""Created block [%d]}}

3. I think Jason's CR is worth backporting to 1.4

cc [~jyellick] [~rameshthoomu] [~scottz];;;","18/Sep/19 11:52 PM;scottz;Those suggestions all sound like good things.

Ramesh tested the fix and it works as designed. Looks good.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace certs path with certs in the connection profile generated by launcher,FAB-16606,42358,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,14/Sep/19 5:02 AM,25/Sep/19 11:22 PM,28/Oct/23 3:09 AM,25/Sep/19 11:22 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/19 5:29 AM;bharadwajambati1;connectionProfileOld.yaml;https://jira.hyperledger.org/secure/attachment/17814/connectionProfileOld.yaml","14/Sep/19 5:29 AM;bharadwajambati1;connectionProfileUpdated.yaml;https://jira.hyperledger.org/secure/attachment/17815/connectionProfileUpdated.yaml",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 5:17 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33522/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples-verify job on master failing due to fabcar typescript error,FAB-16607,42359,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sstone1,denyeart,denyeart,14/Sep/19 9:26 PM,19/Sep/19 10:03 PM,28/Oct/23 3:09 AM,19/Sep/19 10:03 PM,,,,,,,,,,fabric-samples,,,,,0,ci-blocker,,,,"Repeated failure in verify job, e.g. see 
https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33459/ 

{code:java}
16:28:25  + npm run build
16:28:25  
16:28:25  > fabcar@1.0.0 build /w/workspace/fabric-samples-verify-x86_64/gopath/src/github.com/hyperledger/fabric-samples/chaincode/fabcar/typescript
16:28:25  > tsc
16:28:25  
16:28:30  src/fabcar.ts(118,54): error TS2554: Expected 0 arguments, but got 1.
16:28:30  src/fabcar.ts(123,66): error TS2554: Expected 0 arguments, but got 1.
16:28:30  src/fabcar.ts(126,55): error TS2554: Expected 0 arguments, but got 1.
16:28:30  npm ERR! code ELIFECYCLE
16:28:30  npm ERR! errno 2
16:28:30  npm ERR! fabcar@1.0.0 build: `tsc`
16:28:30  npm ERR! Exit status 2
16:28:30  npm ERR! 
16:28:30  npm ERR! Failed at the fabcar@1.0.0 build script.
16:28:30  npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
16:28:30  
16:28:30  npm ERR! A complete log of this run can be found in:
16:28:30  npm ERR!     /home/jenkins/.npm/_logs/2019-09-12T20_28_29_639Z-debug.log
16:28:30  [31m fabcar-typescript test case is FAILED [0m
{code}

Errors relate to the code at:
https://github.com/hyperledger/fabric-samples/blob/master/chaincode/fabcar/typescript/src/fabcar.ts#L118-L126
",,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0105v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sstone1,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Sep/19 9:29 PM;denyeart;[~sstone1] Please take a look.;;;","19/Sep/19 10:03 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/33572;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples verify job on release-1.4 failing due to hyperledger/fabric-javaenv:amd64-1.4.3-stable not found,FAB-16608,42361,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,vijaypunugubati,denyeart,denyeart,14/Sep/19 10:21 PM,17/Sep/19 12:10 AM,28/Oct/23 3:09 AM,17/Sep/19 12:10 AM,,,,,,v1.4.4,,,,,,,,,0,ci-failure,,,,"fabric-samples verify job on release-1.4 failing, e.g.:
https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/547/console


{code:java}
05:41:30  + docker pull nexus3.hyperledger.org:10001/hyperledger/fabric-javaenv:amd64-1.4.3-stable
05:41:30  Error response from daemon: manifest for nexus3.hyperledger.org:10001/hyperledger/fabric-javaenv:amd64-1.4.3-stable not found
{code}
",,btl5037,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0106b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Sep/19 10:22 PM;denyeart;[~btl5037] [~vijaypunugubati] [~mbwhite] Is this due to the javaenv getting deleted on nexus? What do we need to do to fix that?;;;","16/Sep/19 6:44 AM;btl5037;We don't have a stable build of 1.4.3, we've released 1.4.3 so its tag should just be 1.4.3, correct? Stable only applies to current development branches. Instead the verify job should be updated with a tag of 1.4.4, which has a stable image, correct?;;;","16/Sep/19 11:09 PM;vijaypunugubati;[https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33530/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fail to start with empty KeyStorePath when PKCS11 BCCSP is default,FAB-16609,42362,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,magpie73,magpie73,magpie73,16/Sep/19 10:29 AM,20/Sep/19 12:11 AM,28/Oct/23 3:09 AM,20/Sep/19 12:11 AM,v2.0.0,,,,,v2.0.0,,,,fabric-crypto,,,,,0,,,,,"*1. Symptoms*

When SW BCCSP is set as default BCCSP provider and 'fileKeystore.KeyStorePath' config for SW BCCSP is empty, the path '[MSP directory]/keystore' is used as keystore path without error.

But when Fabric is built with pkcs11 tag and PKCS11 BCCSP is default BCCSP provider, it causes error and Fabric node(peer/orderer) fails to start under same condition.
 The 'fileKeystore.KeyStorePath' config of both SW and PKCS11 should be set for removing the error.

Even though PKCS11 BCCSP does not need keystore, It fails to start because the logic in the PKCS11Factory only checks 'FileKeystore' config - it should also check 'KeyStorePath' under 'FileKeystore'.

*2. Enhancement suggestions*

I suggest 2 changes like below :
 - Set default keystore path( [MSP directory]/keystore ) for SW BCCSP not only default BCCSP provider is SW, but also BCCSP just when config for SW is set(not nil).
 - Check BCCSP 'FileKeystore.KeyStorePath' config of PKCS11 BCCSP, set DummyKeystore if the config is empty( zero length ).

  !image-2019-09-16-10-33-58-805.png!
  
  ",,joaquimpedrooliveira,magpie73,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15685,,,,,,,,,,,,,,,,"16/Sep/19 10:33 AM;magpie73;image-2019-09-16-10-33-58-805.png;https://jira.hyperledger.org/secure/attachment/17816/image-2019-09-16-10-33-58-805.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0106j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joaquimpedrooliveira,magpie73,mastersingh24,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 4:15 PM;mastersingh24;https://gerrit.hyperledger.org/r/33524;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Commit block to ledger hang when chaincode crash,FAB-16610,42363,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,ymlbright,ymlbright,16/Sep/19 11:36 AM,12/Nov/19 3:49 AM,28/Oct/23 3:09 AM,09/Nov/19 7:14 PM,v1.4.0,v2.0.0,,,,v1.4.4,v2.0.0,,,fabric-ledger,fabric-peer,,,,0,chaincode,ipm,ledger,,"Peer create a TxSimulator([https://github.com/hyperledger/fabric/blob/release-1.4/core/endorser/endorser.go#L466]) struct for each proposal which holds a read only lock in LockBasedTxMgr([https://github.com/hyperledger/fabric/blob/release-1.4/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_txmgr.go#L99]) object. When chaincode crash and ChaincodeStream([https://github.com/hyperledger/fabric/blob/release-1.4/core/chaincode/handler.go#L393]) ended, it hasn't release the TxSimulator object and it still holds the lock. When peer receive a new block and try to commit it to ledger, it hangs in there([https://github.com/hyperledger/fabric/blob/release-1.4/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_txmgr.go#L481]) until proposal timeout. 

 

Is it possible to return error response when chaincode stream failed and release the read only lock in LockBasedTxMgr?

 

Peer logs:
{code:java}
2019-09-16 02:10:36.002 UTC [chaincode] ProcessStream -> ERRO 4d5 handling chaincode support stream: rpc error: code = Canceled desc = context canceled
receive failed
github.com/hyperledger/fabric/core/chaincode.(*Handler).ProcessStream
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:427
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).HandleChaincodeStream
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:191
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Register
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:196
github.com/hyperledger/fabric/core/chaincode/accesscontrol.(*interceptor).Register
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/accesscontrol/interceptor.go:57
github.com/hyperledger/fabric/protos/peer._ChaincodeSupport_Register_Handler
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/chaincode_shim.pb.go:1069
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1124
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1212
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
2019-09-16 02:10:41.198 UTC [gossip.privdata] StoreBlock -> INFO 4d6 [channel3] Received block [8] from buffer
2019-09-16 02:10:41.199 UTC [committer.txvalidator] Validate -> INFO 4d7 [channel3] Validated block [8] in 0ms
2019-09-16 02:15:35.991 UTC [endorser] SimulateProposal -> ERRO 4d8 [channel3][6499f87c] failed to invoke chaincode name:""demo"" , error: timeout expired while executing transaction
github.com/hyperledger/fabric/core/chaincode.(*Handler).Execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1250
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:313
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:302
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:239
github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147
github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:146
github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:247
github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:500
github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler.func1
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:169
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31
github.com/hyperledger/fabric/core/comm.(*Throttle).UnaryServerIntercptor
	/opt/gopath/src/github.com/hyperledger/fabric/core/comm/throttle.go:54
github.com/hyperledger/fabric/core/comm.(*Throttle).UnaryServerIntercptor-fm
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:228
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34
github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1
	/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server.go:91
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34
github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1
	/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:30
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:171
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:982
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1208
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
error sending
failed to execute transaction 6499f87cbd868ff02be7b2070fca922be7f9c0ef4421ff303501c4e7ee3aa227
github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:245
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:240
github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147
github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:146
github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:247
github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:500
github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
	/opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler.func1
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:169
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31
github.com/hyperledger/fabric/core/comm.(*Throttle).UnaryServerIntercptor
	/opt/gopath/src/github.com/hyperledger/fabric/core/comm/throttle.go:54
github.com/hyperledger/fabric/core/comm.(*Throttle).UnaryServerIntercptor-fm
	/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:228
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34
github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1
	/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server.go:91
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34
github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1
	/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:30
github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
	/opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:171
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:982
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1208
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
	/opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686
runtime.goexit
	/opt/go/src/runtime/asm_amd64.s:1333
2019-09-16 02:15:36.029 UTC [kvledger] CommitWithPvtData -> INFO 4d9 [channel3] Committed block [8] with 1 transaction(s) in 294829ms (state_validation=63ms block_and_pvtdata_commit=10ms state_commit=294753ms) commitHash=[c6a74215fa2e864e2b50b22872b1d082b1d81bbc724e34e951ff229dcaa18cdf]
{code}
 ",,denyeart,jyellick,sykesm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Sep/19 11:31 AM;ymlbright;demo.go;https://jira.hyperledger.org/secure/attachment/17817/demo.go",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rvr",,Yes,,Unset,Unset,,"1. install and instantiate chaincode ""demo"" in channel(here ""channel3"" for example)
2. call ""exit"" function use peer command line: `peer chaincode query -C channel3 -n demo -c '{""Args"":[""exit""]}'`
3. use CTRL+C to interrupt query command
4. send a new transaction through ""demo"" chaincode: `peer chaincode invoke -C channel3 -n demo -c '{""Args"":[""set"", ""key"", ""value""]}' --tls --cafile /root.pem`
5. peer commit process hang until CORE_CHAINCODE_EXECUTETIMEOUT exceed",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,sykesm,ymlbright,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/19 12:35 PM;denyeart;[~sykesm] Can you assess?;;;","24/Sep/19 4:47 AM;jyellick;This looks pretty real to me, adding it to the ipm backlog and raising the priority.;;;","08/Nov/19 7:13 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34289 - 1.4
https://gerrit.hyperledger.org/r/c/fabric/+/34288 - master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer crash due to couch db timeout response,FAB-16611,42364,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,silentspark,silentspark,16/Sep/19 7:21 PM,20/Nov/20 7:16 AM,28/Oct/23 3:09 AM,20/Nov/20 6:04 AM,v1.4.1,,,,,,,,,fabric-ledger,,,,,0,ipm2,quality,,,"During block commit, couchdb somehow gets timeout but doesn't accept {{it}} as a possible response, then peer fails to process this response and crash.

There's a [couchdb fix|https://github.com/apache/couchdb/pull/2153] available but is not in release so far.  Fabric needs to package new couchdb image or tolerate the ""invalid"" response from couchdb.

peer fails with below error:

 
{code:java}
2019-09-10 07:34:40.768 UTC [gossip.state] commitBlock -> ERRO 231f Got error while committing(invalid byte in chunk length
error reading response body
github.com/hyperledger/fabric/core/ledger/util/couchdb.(*CouchDatabase).BatchRetrieveDocumentMetadata
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/couchdb/couchdb.go:1471
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*subNsMetadataRetriever).execute
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/metadata_retrieval.go:92
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.executeBatches
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/batch_util.go:26
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.retrieveNsMetadata
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/metadata_retrieval.go:67
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.(*nsMetadataRetriever).execute
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/metadata_retrieval.go:80
github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb.executeBatches.func1
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/batch_util.go:35
runtime.goexit
 /opt/go/src/runtime/asm_amd64.s:1333
commit failed{code}
couch db issues below error

 
{code:java}
{""log"":""[error] 2019-09-10T07:34:40.768246Z nonode@nohost \u003c0.5060.31\u003e 98bbb4d3fc req_err(1114665363) badmatch : timeout\n"",""stream"":""stderr"",""time"":""2019-09-10T07:34:40.769884261Z""}
{""log"":""    [\u003c\u003c\""fabric_view_all_docs:go/5 L107\""\u003e\u003e,\u003c\u003c\""chttpd_db:all_docs_view/4 L690\""\u003e\u003e,\u003c\u003c\""chttpd:handle_req_after_auth/2 L317\""\u003e\u003e,\u003c\u003c\""chttpd:process_request/1 L300\""\u003e\u003e,\u003c\u003c\""chttpd:handle_request_int/1 L240\""\u003e\u003e,\u003c\u003c\""mochiweb_http:headers/6 L124\""\u003e\u003e,\u003c\u003c\""proc_lib:init_p_do_apply/3 L240\""\u003e\u003e]\n"",""stream"":""stderr"",""time"":""2019-09-10T07:34:40.769897024Z""}
{code}
 

 ",,denyeart,kolayuk,manish-sethi,mastersingh24,Rajatsharma,silentspark,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Sep/20 6:28 PM;Rajatsharma;couch-logs.txt;https://jira.hyperledger.org/secure/attachment/18624/couch-logs.txt","30/Sep/19 8:17 PM;silentspark;image-2019-09-30-19-17-38-993.png;https://jira.hyperledger.org/secure/attachment/17858/image-2019-09-30-19-17-38-993.png","08/Sep/20 6:28 PM;Rajatsharma;peer-logs.txt;https://jira.hyperledger.org/secure/attachment/18625/peer-logs.txt","08/Sep/20 6:28 PM;Rajatsharma;peer-memory-sar.txt;https://jira.hyperledger.org/secure/attachment/18626/peer-memory-sar.txt","10/Sep/20 1:39 AM;Rajatsharma;peer-start.log;https://jira.hyperledger.org/secure/attachment/18629/peer-start.log",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:0idqxi",,,,Unset,Unset,v2.x,"hard to reproduce, try high TPS workload in env with limited cpu resource.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,kolayuk,manish-sethi,mastersingh24,Rajatsharma,silentspark,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Sep/19 12:11 PM;denyeart;[~silentspark]Any idea which CouchDB release will include the fix?;;;","30/Sep/19 8:21 PM;silentspark;I've no idea about CouchDB release plan. However, even I retrofitted couchdb v2.2.0 with timeout fix #2153 above and built a new image,  couchdb somehow still gets error during block commit which results in peer crash. Peer code should handle couchdb error properly.
{code:java}
{""log"":""[error] 2019-09-26T06:42:05.043417Z nonode@nohost \u003c0.19232.14\u003e e1b783c110 req_err(1436168396) unknown_error : function_clause\n"",""stream"":""stderr"",""time"":""2019-09-26T06:42:05.937923806Z""}
{""log"":""    [\u003c\u003c\""couch_mrview_http:view_cb/2 L338\""\u003e\u003e,\u003c\u003c\""chttpd_db:all_docs_view/4 L690\""\u003e\u003e,\u003c\u003c\""chttpd:handle_req_after_auth/2 L317\""\u003e\u003e,\u003c\u003c\""chttpd:process_request/1 L300\""\u003e\u003e,\u003c\u003c\""chttpd:handle_request_int/1 L240\""\u003e\u003e,\u003c\u003c\""mochiweb_http:headers/6 L124\""\u003e\u003e,\u003c\u003c\""proc_lib:init_p_do_apply/3 L240\""\u003e\u003e]\n"",""stream"":""stderr"",""time"":""2019-09-26T06:42:05.937972642Z""}{code}
 

!image-2019-09-30-19-17-38-993.png!;;;","21/Nov/19 11:32 PM;denyeart;[~silentspark] Do you expect a retry to couchdb would be successful? Do you know what HTTP response CouchDB returns in this scenario? Peer does retries for most CouchDB interactions, that can be investigated for this integration as well.;;;","26/Nov/19 1:48 PM;silentspark;Hi  David, after debug, it turn to the disk I/O problem causes abnormal response from couchdb，which makes the peer crash. I'll close this issue;;;","26/Nov/19 1:50 PM;silentspark;Caused by disk I/O problem;;;","27/Nov/19 4:56 PM;kolayuk;[~silentspark] Hello! What's exactly problem with I/O? Slow disk, lack of file handlers, etc? And could you point how to debug it, how did you understood that reason of couchdb's error is I/O?;;;","16/Dec/19 9:57 PM;Rajatsharma;[~denyeart] [~silentspark], Even I'm encountering this issue. This got resolved by restarting the peers. 
I didn't get why was this ticket closed?

This issue should be handled, from the peer. 

 ;;;","31/Jan/20 4:10 AM;denyeart;While the underlying issue is in CouchDB, I agree this ticket can be re-opened to investigate more graceful handling of the error from peer.;;;","31/Jan/20 4:11 AM;denyeart;Another occurrence reported at https://lists.hyperledger.org/g/fabric/message/7645;;;","01/May/20 7:08 PM;mastersingh24;Was the peer panicking here?  Not clear from the error if that's the case.
As I recall, if the peer cannot write the state from a valid commit to the state db, it will panic.
A better way to handle this would be to stop processing for the channel where this happens rather than bringing down the whole peer.;;;","17/Aug/20 6:10 PM;Rajatsharma;[~mastersingh24] [~denyeart], 
We're repeatedly getting this issue, while we did not find anything unusual in server usage. Is there any solution for this?

Is this issue resolved in any further versions?    ;;;","17/Aug/20 9:24 PM;denyeart;[~Rajatsharma] The root cause is a CouchDB error. Can you determine why your CouchDB returns an error in this environment?

Can you provide CouchDB log and peer log, ideally with peer logging set to
{code:java}
FABRIC_LOGGING_SPEC=info:statecouchdb,couchdb=debug{code}
When CouchDB returns this error, is the peer doing retries? Would you expect subsequent retries to be successful when CouchDB returns this error?

Can you be more specific on the fix you are looking for... what would you expect peer to do when CouchDB cannot commit.;;;","31/Aug/20 3:23 PM;Rajatsharma;[~denyeart], This issue is very aberrant. Still, we've changed the logging level and I'll send you logs as soon as we encounter this issue again.  We were running the peer with info logging and by seeing peer and CouchDB logs, we could only see a single request and on receiving that the peer goes down. 

Ideally, if it retries then it should work normally. We are just aiming to find a way that peers either retries for a while and the whole peer process are not killed just after a single try. ;;;","08/Sep/20 6:29 PM;Rajatsharma;[~denyeart] [~mastersingh24], 
Here I'm attaching the logs of the peers and couchDB. We experienced this issue on 2020-09-03 09:40:37.314. The sar memory output for that instance was high. Please look into the logs and let us know if there's any viable solution for this. 

[^couch-logs.txt]
[^peer-logs.txt]
[^peer-memory-sar.txt];;;","10/Sep/20 1:40 AM;Rajatsharma;[~denyeart] [~mastersingh24] , 
As Fabric still does not have support for couchDB 3.0.1. We're stuck with this issue and we're getting this repeatedly, earlier restarting the peer was solving this but we encountered this now even in the peer initialize and the peer is not starting. 
This is the log message:
[^peer-start.log];;;","17/Nov/20 3:08 AM;manish-sethi;[~wenjian] - can you take a look at this;;;","20/Nov/20 6:04 AM;denyeart;The root cause is an error returned from CouchDB during a chunked (streaming) response of all_docs query. For these types of responses, CouchDB initially returns back a 200 OK status and then streams the response back to the caller. In the logs provided, CouchDB hit a badmatch/timeout error after streaming the response for 10 seconds, and therefore peer was not able to process the commit. When peer cannot process a commit it crashes. Many operators prefer to automatically restart the peer and CouchDB containers in these situations. Retries against CouchDB may continue to fail when CouchDB is not responding.

Fabric v2.2 added support for CouchDB 3.1.x. The original poster thought the issue was resolved in this CouchDB version. Regardless, CouchDB 3.1.1 offers a new config option
[chttpd] buffer_response=true
which disables streaming, so that CouchDB can return the final error code and payload together. In these cases, CouchDB would return a 500. Peer performs retries on CouchDB responses of 500.

Suggestion is to move to Fabric v2.2.x (LTS release) with CouchDB 3.1.1, and if problem still occurs on CouchDB 3.1.1, enable [chttpd] buffer_response=true. As we expect this will resolve the problem, issue will be closed, but please re-open if you continue to see issue on Fabric v2.2.x with CouchDB 3.1.1.;;;",,,,,,,,,,,,,,,,,,,
Update Gerrit URL references to GitHub in fabric-test Makefile and submodules,FAB-16613,42368,42327,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/Sep/19 12:29 AM,22/Oct/19 1:11 AM,28/Oct/23 3:09 AM,18/Sep/19 4:16 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,Update gerrit references to GitHub in fabric-test Makefile and submodules.,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,FAB-16892,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0107f:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 1:27 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/33515];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Gerrit URL references to GitHub in fabric-test docs,FAB-16614,42369,42327,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,17/Sep/19 12:30 AM,04/Dec/19 12:29 AM,28/Oct/23 3:09 AM,04/Dec/19 12:29 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,Update Gerrit URL references to GitHub in fabric-test docs,,bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16581,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0107n:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Sep/19 6:05 AM;rameshthoomu;ATD and OTE has been removed from fabric-test directory with this change https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33556/. After this,  I don't see many Gerrit references other than in README.md in the root directory. Will update Gerrit reference, once the fabric-test is moved to GitHub.;;;","04/Dec/19 12:29 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34465/] for master branch

[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34466/] for release-1.4 branch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix broken doc links in fabric-test,FAB-16615,42371,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,17/Sep/19 3:30 AM,24/Jan/20 5:01 AM,28/Oct/23 3:09 AM,24/Jan/20 5:01 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Fix broken doc links in fabric-test. There are few broken links in the below doc.

https://github.com/hyperledger/fabric/blob/master/testingInfo.rst#system-test",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17172,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr6",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
protobuf compilation script is not passing the null option to xargs,FAB-16616,42372,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/Sep/19 4:53 AM,23/Sep/19 12:20 PM,28/Oct/23 3:09 AM,23/Sep/19 12:20 PM,,,,,,v2.0.0,,,,,,,,,0,hygiene,ipm,,,{{xargs: WARNING: a NUL character occurred in the input.  It cannot be passed through in the argument list.  Did you mean to use the --null option?}},,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zci",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 5:36 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33543 Fix protobuf compilation script;;;","23/Sep/19 12:20 PM;denyeart;Looks like it was merged... not sure why the Done trigger didn't work...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove buildenv image from fabric build process,FAB-16617,42373,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/Sep/19 4:55 AM,24/Sep/19 11:18 PM,28/Oct/23 3:09 AM,24/Sep/19 11:18 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,ipm,,,The tools we use for development are already built locally as part of the {{gotools}} project and can be used directly.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zd",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Sep/19 4:57 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33540 Remove buildenv image and use native tools;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Only use PKCS11 tag for tests,FAB-16618,42374,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,17/Sep/19 7:34 AM,03/Dec/19 1:28 AM,28/Oct/23 3:09 AM,,,,,,,v2.0.0,,,,,,,,,0,,,,,The pkcs11 package we use no longer requires libtool ... it simply makes a dlopen call to load 3rd party libraries.  This means we should be able to always build with the pkcs11 code enabled.,,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0108j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 3:01 AM;mastersingh24;will need to update the HSM docs as well as building custom images will no longer be required;;;","03/Dec/19 1:28 AM;denyeart;[~mastersingh24] Would you like to get this in for v2.0 beta? Need any help?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the policy into the org3 configtx.yaml,FAB-16619,42375,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,17/Sep/19 5:52 PM,24/Sep/19 10:09 PM,28/Oct/23 3:09 AM,23/Sep/19 12:47 PM,,,,,,,,,,,,,,,0,,,,,"When I use the eyfn.sh to add the org3 into the network, it tells the warn to specify the policy.",,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Sep/19 5:52 PM;bjzhang03;Screenshot from 2019-09-17 16-49-51.png;https://jira.hyperledger.org/secure/attachment/17821/Screenshot+from+2019-09-17+16-49-51.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0108r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Metadata link flags set at build no longer match the code,FAB-16621,42379,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,17/Sep/19 11:23 PM,30/Oct/19 9:50 PM,28/Oct/23 3:09 AM,30/Oct/19 9:50 PM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,hygiene,ipm,,,"Link flags are used to set the values of some variables at build time. These typically include version information and the commit hash.

Most of these exist in common.Metadata:
{code}
// Variables defined by the Makefile and passed in with ldflags                                                                                                                 
var Version string = ""latest""                                                                                                                                                   
var CommitSHA string = ""development build""                                                                                                                                      
var BaseDockerLabel string = ""org.hyperledger.fabric""                                                                                                                           
var DockerNamespace string = ""hyperledger""                                                                                                                                      
var BaseDockerNamespace string = ""hyperledger"" 
{code}

while others live in the package that hosts the tool main. Well, as the commands got moved around, the link flags were not updated...

All of the link flags used in the build need to be revisited. Where tool specific versions are needed, the variable names should declared in the main package.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqz",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/19 5:15 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34131 Consistently use metadata package and variables;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH in PTE directory,FAB-16623,42381,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,18/Sep/19 12:34 AM,26/Sep/19 4:38 AM,28/Oct/23 3:09 AM,25/Sep/19 11:23 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,FAB-16702,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxy",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 12:37 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33552/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup Makefile by using adopting patterns in targets and recipes,FAB-16624,42382,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,18/Sep/19 1:06 AM,24/Sep/19 11:19 PM,28/Oct/23 3:09 AM,24/Sep/19 11:19 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,ipm,,,There's a lot of boilerplate in the makefile that can be replaced with pattern substitutions.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8ze",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 4:22 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33557 Collapse some make targets and cleanup .PHONY deps;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH's in fabric-test/tools/NL directory,FAB-16625,42386,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,18/Sep/19 2:46 AM,25/Sep/19 11:23 PM,28/Oct/23 3:09 AM,25/Sep/19 11:23 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxyi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 3:04 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33554/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove OTE and ATD from fabric-test/tools,FAB-16626,42387,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,18/Sep/19 3:48 AM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010ab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 4:13 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33556/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/tools/CTE,FAB-16627,42388,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,18/Sep/19 3:54 AM,25/Sep/19 11:23 PM,28/Oct/23 3:09 AM,25/Sep/19 11:23 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqxz",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 4:26 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33558/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
staticcheck - common,FAB-16628,42389,39221,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,iamksseo2,iamksseo2,iamksseo2,18/Sep/19 3:02 PM,26/Sep/19 11:45 PM,28/Oct/23 3:09 AM,26/Sep/19 11:45 PM,,,,,,,,,,,,,,,0,,,,,"{{common/chaincode/metadata_test.go:51:7: this value of found is never used (SA4006)}}
 {{common/channelconfig/acls.go:29:6: don't use Yoda conditions (ST1017)}}
 {{common/channelconfig/channel_test.go:64:2: should merge variable declaration with assignment on next line (S1021)}}
 {{common/channelconfig/msp_test.go:43:6: should omit nil check; len() for nil maps is defined as zero (S1009)}}
 {{common/channelconfig/standardvalues_test.go:36:2: field msg is unused (U1000)}}
 {{common/channelconfig/util_test.go:322:2: this value of packed is never used (SA4006)}}
 {{common/configtx/validator_test.go:22:6: type policyManager is unused (U1000)}}
 {{common/configtx/validator_test.go:27:6: type policy is unused (U1000)}}
 {{common/crypto/tlsgen/ca_test.go:25:11: this value of err is never used (SA4006)}}
 {{common/crypto/tlsgen/ca_test.go:57:9: this value of err is never used (SA4006)}}
 {{common/deliver/deliver_suite_test.go:19:6: type filteredResponseSender is unused (U1000)}}
 {{common/deliver/deliver_suite_test.go:26:6: type privateDataResponseSender is unused (U1000)}}
 {{common/deliver/interfaces_test.go:14:6: type blockledgerReader is unused (U1000)}}
 {{common/deliver/interfaces_test.go:19:6: type blockledgerIterator is unused (U1000)}}
 {{common/flogging/fabenc/formatter.go:193:18: printf-style function with dynamic format string and no further arguments should use print-style function instead (SA1006)}}
 {{common/flogging/fabenc/formatter.go:195:18: printf-style function with dynamic format string and no further arguments should use print-style function instead (SA1006)}}
 {{common/flogging/fabenc/formatter.go:197:18: printf-style function with dynamic format string and no further arguments should use print-style function instead (SA1006)}}
 {{common/flogging/floggingtest/logger.go:71:2: should use copy() instead of a loop (S1001)}}
 {{common/flogging/floggingtest/logger.go:109:2: should use copy() instead of a loop (S1001)}}
 {{common/flogging/global.go:33:2: grpclog.SetLogger is deprecated: use SetLoggerV2. (SA1019)}}
 {{common/flogging/loggerlevels_test.go:125:4: this value of err is never used (SA4006)}}
 {{common/flogging/logging_test.go:51:6: type writeSyncer is unused (U1000)}}
 {{common/flogging/zap_test.go:294:18: grpclog.Logger is deprecated: use LoggerV2. (SA1019)}}
 {{common/flogging/zap_test.go:295:20: grpclog.Logger is deprecated: use LoggerV2. (SA1019)}}
 {{common/grpclogging/grpclogging_suite_test.go:37:6: type echoServiceServer is unused (U1000)}}
 {{common/grpclogging/server.go:100:31: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpclogging/server.go:132:31: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpclogging/server_test.go:90:5: the surrounding loop is unconditionally terminated (SA4004)}}
 {{common/grpcmetrics/grpcmetrics_suite_test.go:26:6: type echoServiceServer is unused (U1000)}}
 {{common/grpcmetrics/interceptor.go:34:50: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpcmetrics/interceptor.go:36:75: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpcmetrics/interceptor.go:67:50: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpcmetrics/interceptor.go:69:75: grpc.Code is deprecated: use status.Code instead. (SA1019)}}
 {{common/grpcmetrics/interceptor_test.go:290:31: grpc.Errorf is deprecated: use status.Errorf instead. (SA1019)}}
 {{common/grpcmetrics/interceptor_test.go:317:2: this value of msg is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/blockfile_mgr_test.go:142:2: should check returned error before deferring itr.Close() (SA5001)}}
 {{common/ledger/blkstorage/fsblkstorage/blockfile_scan_test.go:51:29: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/blockfile_scan_test.go:73:2: should check returned error before deferring file.Close() (SA5001)}}
 {{common/ledger/blkstorage/fsblkstorage/blockfile_scan_test.go:82:29: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/blocks_itr_test.go:40:2: should check returned error before deferring itr.Close() (SA5001)}}
 {{common/ledger/blkstorage/fsblkstorage/fs_blockstore_provider_test.go:122:18: this result of append is never used, except maybe in other appends (SA4010)}}
 {{common/ledger/blkstorage/fsblkstorage/reset_test.go:75:9: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/reset_test.go:108:5: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/reset_test.go:125:5: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/reset_test.go:175:9: this value of err is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/reset_test.go:206:2: this value of blk is never used (SA4006)}}
 {{common/ledger/blkstorage/fsblkstorage/rollback.go:122:10: this value of err is never used (SA4006)}}
 {{common/ledger/blockledger/fileledger/impl_test.go:152:2: this value of ledger1 is never used (SA4006)}}
 {{common/ledger/blockledger/ramledger/factory.go:86:2: redundant return statement (S1023)}}
 {{common/ledger/testutil/test_helper.go:31:2: should merge variable declaration with assignment on next line (S1021)}}
 {{common/ledger/testutil/test_helper.go:413:15: this value of err is never used (SA4006)}}
 {{common/ledger/testutil/test_util.go:67:53: argument err is overwritten before first use (SA4009)}}
 {{common/ledger/util/leveldbhelper/leveldb_helper_test.go:80:2: this value of val3 is never used (SA4006)}}
 {{common/metrics/gendoc/options.go:47:6: should use strings.Contains(c.Text(), ""gendoc:ignore"") instead (S1003)}}
 {{common/tools/protolator/integration/integration_test.go:48:18: should use buffer.String() instead of string(buffer.Bytes()) (S1030)}}
 {{common/tools/protolator/integration/integration_test.go:48:42: should use remarshaled.String() instead of string(remarshaled.Bytes()) (S1030)}}
 {{common/viperutil/config_util.go:237:6: should write fileI = d[""file""] instead of fileI, _ = d[""file""] (S1005)}}",,denyeart,iamksseo2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010aj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,iamksseo2,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Sep/19 6:29 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33685/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix some comment error,FAB-16630,42391,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,18/Sep/19 8:27 PM,22/Oct/19 7:30 PM,28/Oct/23 3:09 AM,24/Sep/19 5:02 PM,v1.4.3,,,,,v2.0.0,,,,,,,,,0,,,,,There are some comment errors,,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010az:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer and peer binaries are broken with the latest changes in the master branch,FAB-16631,42392,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,rameshthoomu,rameshthoomu,18/Sep/19 9:09 PM,20/Sep/19 3:23 AM,28/Oct/23 3:09 AM,20/Sep/19 3:23 AM,v2.0.0,,,,,,,,,fabric-build,,,,,0,,,,,"Branch: master
Commit# Date:   Mon Sep 16 16:14:33 2019 +0000
    Improve docker image creation time
    commit f270b729545b941d8fc2ef50eb7444113d887508

Observed peer and orderer binaries are starting while running these binaries or images. Below is the error..

jenkins@dongming3:~/gopath/src/github.com/hyperledger/fabric$ kubectl logs -f orderer0-ordererorg1-0 -c orderer0-ordererorg1
standard_init_linux.go:207: exec user process caused ""no such file or directory""

same as in peer.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16632,,,,,FAB-16632,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010b7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cross-compiled binaries incompatible with musl based alpine images,FAB-16632,42393,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,sykesm,sykesm,18/Sep/19 10:33 PM,20/Sep/19 3:23 AM,28/Oct/23 3:09 AM,19/Sep/19 5:51 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,ci-blocker,ci-failure,,,Need to revert some of FAB-16514 and rework to build images in the env and then copy out.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16631,,,,,FAB-16631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010bf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 11:38 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33575;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Repo fabric-test Codeowner update,FAB-16634,42395,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,18/Sep/19 10:42 PM,21/Sep/19 6:19 AM,28/Oct/23 3:09 AM,21/Sep/19 6:19 AM,,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,Add github id adnan-c to the codeowners and maintainers lists for existing maintainer Adnan Choudhury.,,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16489,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010bv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"18/Sep/19 10:45 PM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/33577];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding missing options for invoke and query in operator/testclient ,FAB-16636,42397,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,bharadwajambati1,bharadwajambati1,18/Sep/19 11:54 PM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Adding orderer options, failover options, timeout options, invokeCheck options for invoke and query in operator/testclient/invokequery.go

 
{code:java}
 FailoverOpt struct {
    Method string `json:""method,omitempty""`
    List   string `json:""list,omitempty""`
} `json:""failoverOpt,omitempty""`
InvokeCheckOpt struct {
    Peers        string `json:""peers,omitempty""`
    Transactions string `json:""transactions,omitempty""`
    TxNum        string `json:""txNum,omitempty""`
} `json:""invokeCheckOpt,omitempty""`
OrdererOpt struct {
    Method    string `json:""method,omitempty""`
    NOrderers string `json:""nOrderers,omitempty""`
} `json:""ordererOpt,omitempty""`
TimeoutOpt struct {
    PreConfig   string `json:""preConfig,omitempty""`
    Request     string `json:""request,omitempty""`
    GrpcTimeout string `json:""grpcTimeout,omitempty""`
} `json:""timeoutOpt,omitempty""`
{code}
 ",,bharadwajambati1,btl5037,,,,,,,,,,,,,,,,,,,,,FAB-16258,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5ix9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/tools/LTE,FAB-16637,42399,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,19/Sep/19 12:33 AM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010cj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 12:37 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33583/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/scripts,FAB-16638,42400,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,19/Sep/19 12:49 AM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010cr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 12:51 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33584/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Not able to submit channel update while changing consensus type on 1.4.3,FAB-16639,42401,,Bug,Returned,FAB,Fabric,software,denyeart,,,Medium,,,MohammedR,MohammedR,19/Sep/19 12:54 AM,04/Feb/21 9:11 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,1,,,,,"I am trying to migrate kafka to raft, when submitting peer channel update i'm getting following error. 

Error: got unexpected status: BAD_REQUEST – error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Value] /Channel/Orderer/ConsensusType not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied

 

following steps i've followed on 1.4.2 all works but same on 1.4.3 fails",,denyeart,jyellick,MohammedR,SadScheme,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010cz:",,,,Unset,Unset,,"export ORDERER_CA=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

export CHANNEL_NAME=mychannel

peer channel fetch config config_block.pb -o orderer.example.com:7050 -c $CHANNEL_NAME --tls --cafile $ORDERER_CA

configtxlator proto_decode --input config_block.pb --type common.Block | jq .data.data[0].payload.data.config > config.json

cp config.json config_mod.json

sed -i 's/NORMAL/MAINTENANCE/g' config_mod.json

configtxlator proto_encode --input config.json --type common.Config --output config.pb

configtxlator proto_encode --input config_mod.json --type common.Config --output modified_config.pb

configtxlator compute_update --channel_id $CHANNEL_NAME --original config.pb --updated modified_config.pb --output config_update.pb

configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate | jq . > config_update.json

echo '{""payload"":{""header"":{""channel_header"":{""channel_id"":""mychannel"", ""type"":2}},""data"":{""config_update"":'$(cat config_update.json)'}}}' | jq . > config_update_envelope.json

configtxlator proto_encode --input config_update_envelope.json --type common.Envelope --output config_update_in_envelope.pb

peer channel signconfigtx -f config_update_in_envelope.pb

export CORE_PEER_LOCALMSPID=""OrdererMSP""
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/users/Admin@example.com/msp/
export CORE_PEER_ADDRESS=peer0.org1.example.com:7051

peer channel update -f config_update_in_envelope.pb -c $CHANNEL_NAME -o orderer.example.com:7050 --tls --cafile $ORDERER_CA
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,MohammedR,SadScheme,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Sep/19 12:18 PM;denyeart;[~jyellick] Can you suggest troubleshooting steps?;;;","23/Sep/19 11:36 PM;jyellick;Based on the bug text, it looks like the admin of the orderer org is the one submitting the request.  However, the policy framework claims the user is not authorized according to the modification policy for this element.  Please set {{FABRIC_LOGGING_SPEC=info:policies=debug:cauthdsl=debug:msp=debug}}, reproduce, and paste the output of the orderer log.;;;","04/Feb/21 9:10 PM;SadScheme;I'm having the same problem

Here are the logs of the command
{code:java}
$peer channel update -f config_update_in_envelope.pb -c $CHANNEL_NAME -o orderer.example.com:7050 --tls --cafile $ORDERER_CA
2021-02-04 11:59:51.192 UTC [msp] getPemMaterialFromDir -> DEBU 001 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts
2021-02-04 11:59:51.193 UTC [msp] getPemMaterialFromDir -> DEBU 002 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/signcerts/Admin@org1.example.com-cert.pem
2021-02-04 11:59:51.202 UTC [msp] getPemMaterialFromDir -> DEBU 003 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts
2021-02-04 11:59:51.214 UTC [msp] getPemMaterialFromDir -> DEBU 004 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/cacerts/ca.org1.example.com-cert.pem
2021-02-04 11:59:51.215 UTC [msp] getPemMaterialFromDir -> DEBU 005 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/admincerts
2021-02-04 11:59:51.217 UTC [msp] getPemMaterialFromDir -> DEBU 006 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts
2021-02-04 11:59:51.217 UTC [msp] getMspConfig -> DEBU 007 Intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts]. Skipping. [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/intermediatecerts: no such file or directory]
2021-02-04 11:59:51.217 UTC [msp] getPemMaterialFromDir -> DEBU 008 Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlscacerts
2021-02-04 11:59:51.218 UTC [msp] getPemMaterialFromDir -> DEBU 009 Inspecting file /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlscacerts/tlsca.org1.example.com-cert.pem
2021-02-04 11:59:51.218 UTC [msp] getPemMaterialFromDir -> DEBU 00a Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts
2021-02-04 11:59:51.219 UTC [msp] getMspConfig -> DEBU 00b TLS intermediate certs folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts]. Skipping. [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/tlsintermediatecerts: no such file or directory]
2021-02-04 11:59:51.219 UTC [msp] getPemMaterialFromDir -> DEBU 00c Reading directory /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls
2021-02-04 11:59:51.219 UTC [msp] getMspConfig -> DEBU 00d crls folder not found at [/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls]. Skipping. [stat /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp/crls: no such file or directory]
2021-02-04 11:59:51.220 UTC [msp] getMspConfig -> DEBU 00e Loading NodeOUs
2021-02-04 11:59:51.223 UTC [msp] newBccspMsp -> DEBU 00f Creating BCCSP-based MSP instance
2021-02-04 11:59:51.223 UTC [msp] New -> DEBU 010 Creating Cache-MSP instance
2021-02-04 11:59:51.237 UTC [msp] loadLocaMSP -> DEBU 011 Created new local MSP
2021-02-04 11:59:51.239 UTC [msp] Setup -> DEBU 012 Setting up MSP instance Org1MSP
2021-02-04 11:59:51.239 UTC [msp.identity] newIdentity -> DEBU 013 Creating identity instance for cert -----BEGIN CERTIFICATE-----
MIICUTCCAfigAwIBAgIRAJSmIjZMK7d0/FjROKRFEKwwCgYIKoZIzj0EAwIwczEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh
Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw
WjBzMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN
U2FuIEZyYW5jaXNjbzEZMBcGA1UEChMQb3JnMS5leGFtcGxlLmNvbTEcMBoGA1UE
AxMTY2Eub3JnMS5leGFtcGxlLmNvbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IA
BNSJERlBdsYMxolhL4WgzdA5m6fR8L2Rka4mlVUYLY0w5ZPMw9JXnjOwRN3vKMMZ
ncFLocfgYQ20lk2MHhm2ZmmjbTBrMA4GA1UdDwEB/wQEAwIBpjAdBgNVHSUEFjAU
BggrBgEFBQcDAgYIKwYBBQUHAwEwDwYDVR0TAQH/BAUwAwEB/zApBgNVHQ4EIgQg
E2zsQgNI8wqpNWrVpO7NLnkaJptEUkt4q+PK6UZfi+wwCgYIKoZIzj0EAwIDRwAw
RAIgNhcOuk5BBW3JjGEvQctjjQPCgk28Ph3m81FycT8DAHgCIF8Z8LEywHMKsG9e
UDMgwW8SSkaRMu38i4ZubUKlo/sf
-----END CERTIFICATE-----
2021-02-04 11:59:51.240 UTC [msp.identity] newIdentity -> DEBU 014 Creating identity instance for cert -----BEGIN CERTIFICATE-----
MIICKjCCAdCgAwIBAgIRAKTRXITmss9th6m/tgltZA8wCgYIKoZIzj0EAwIwczEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh
Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw
WjBrMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN
U2FuIEZyYW5jaXNjbzEOMAwGA1UECxMFYWRtaW4xHzAdBgNVBAMMFkFkbWluQG9y
ZzEuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQYGagTRMuN
g+2lQK3cieQIKcwn0eI+WZQRULFGtZdn2bvpNJb/R8Zf9PYml60OvQ3XynfREkQc
djZVxTAI3rkno00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV
HSMEJDAigCATbOxCA0jzCqk1atWk7s0ueRomm0RSS3ir48rpRl+L7DAKBggqhkjO
PQQDAgNIADBFAiEAs0uwD6Bwgs0KInXZ812cJUM3ymBnM0FVvCCTj9zIqIgCIGEv
YXYzCLtYcHzy4Y6ZdSWVXMJtsAiK8mAk8XVYhCzo
-----END CERTIFICATE-----
2021-02-04 11:59:51.242 UTC [msp.identity] newIdentity -> DEBU 015 Creating identity instance for cert -----BEGIN CERTIFICATE-----
MIICKjCCAdCgAwIBAgIRAKTRXITmss9th6m/tgltZA8wCgYIKoZIzj0EAwIwczEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xGTAXBgNVBAoTEG9yZzEuZXhhbXBsZS5jb20xHDAaBgNVBAMTE2Nh
Lm9yZzEuZXhhbXBsZS5jb20wHhcNMjEwMjA0MTAzNzAwWhcNMzEwMjAyMTAzNzAw
WjBrMQswCQYDVQQGEwJVUzETMBEGA1UECBMKQ2FsaWZvcm5pYTEWMBQGA1UEBxMN
U2FuIEZyYW5jaXNjbzEOMAwGA1UECxMFYWRtaW4xHzAdBgNVBAMMFkFkbWluQG9y
ZzEuZXhhbXBsZS5jb20wWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAAQYGagTRMuN
g+2lQK3cieQIKcwn0eI+WZQRULFGtZdn2bvpNJb/R8Zf9PYml60OvQ3XynfREkQc
djZVxTAI3rkno00wSzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADArBgNV
HSMEJDAigCATbOxCA0jzCqk1atWk7s0ueRomm0RSS3ir48rpRl+L7DAKBggqhkjO
PQQDAgNIADBFAiEAs0uwD6Bwgs0KInXZ812cJUM3ymBnM0FVvCCTj9zIqIgCIGEv
YXYzCLtYcHzy4Y6ZdSWVXMJtsAiK8mAk8XVYhCzo
-----END CERTIFICATE-----
2021-02-04 11:59:51.242 UTC [msp] setupSigningIdentity -> DEBU 016 Signing identity expires at 2031-02-02 10:37:00 +0000 UTC
2021-02-04 11:59:51.243 UTC [msp] GetDefaultSigningIdentity -> DEBU 017 Obtaining default signing identity
2021-02-04 11:59:51.276 UTC [channelCmd] InitCmdFactory -> INFO 018 Endorser and orderer connections initialized
2021-02-04 11:59:51.292 UTC [msp] GetDefaultSigningIdentity -> DEBU 019 Obtaining default signing identity
2021-02-04 11:59:51.293 UTC [msp] GetDefaultSigningIdentity -> DEBU 01a Obtaining default signing identity
2021-02-04 11:59:51.293 UTC [msp.identity] Sign -> DEBU 01b Sign: plaintext: 0AB6060A074F7267314D535012AA062D...056B61666B6118011A0641646D696E73 
2021-02-04 11:59:51.293 UTC [msp.identity] Sign -> DEBU 01c Sign: digest: 1A3DFB34AE9C2549C3CC1EADFDF67064AF7AFE61D04CD676FC00A6BA7DC0FEBE 
2021-02-04 11:59:51.293 UTC [msp] GetDefaultSigningIdentity -> DEBU 01d Obtaining default signing identity
2021-02-04 11:59:51.293 UTC [msp] GetDefaultSigningIdentity -> DEBU 01e Obtaining default signing identity
2021-02-04 11:59:51.293 UTC [msp.identity] Sign -> DEBU 01f Sign: plaintext: 0AED060A1508021A0608B7C3EF800622...231B1787845EA9FFBB995C1064164DFF 
2021-02-04 11:59:51.293 UTC [msp.identity] Sign -> DEBU 020 Sign: digest: 91DF320B9FEF49C36EF081CF5C8145F8BB8F309849572094E88ADD6BAE3C69CA 
Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Value]  /Channel/Orderer/ConsensusType not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied
{code}
Here are the orderer logs
{code:java}
2021-02-04 11:59:51.330 UTC [comm.grpc.server] 1 -> INFO 04a streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Broadcast grpc.peer_address=192.168.144.9:49478 grpc.code=OK grpc.call_duration=27.21355ms
2021-02-04 11:59:51.344 UTC [common.deliver] Handle -> WARN 04b Error reading from 192.168.144.9:49476: rpc error: code = Canceled desc = context canceled
2021-02-04 11:59:51.344 UTC [comm.grpc.server] 1 -> INFO 04c streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=192.168.144.9:49476 error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=67.240466ms
{code}
 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: Large payload (98MB transaction block size) in kafka based networks,FAB-16641,42403,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,19/Sep/19 12:59 AM,14/Nov/19 3:33 AM,28/Oct/23 3:09 AM,14/Nov/19 3:33 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"As mentioned in the #FAB-16068 comments by [~scottz], create a new test case FAB-16720 to automate a test in kafka (and raft) based networks with out modifying the existing orderer config parameters (besides AbsoluteMaxBytes). This task will be used to execute and debug the testcase with max payload (nearly 100 MB), but not automation.

Refer also to the  Hyperledger Fabric wiki page for Quality Assurance ([https://wiki.hyperledger.org/display/fabric/Quality+Assurance%3A+Tests%2C+Strategy%2C+Reports%2C+Diskspace+Requirements]) for discussion of relevant config parameters useful for processing huge transactions: refer to section ""Handling Large Transactions""",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,FAB-16702,FAB-16759,,,,,,,,,,,,,,FAB-16067,FAB-16524,FAB-15967,FAB-16720,,,,,,,,,,,,,"26/Sep/19 4:36 AM;rameshthoomu;orderer.log;https://jira.hyperledger.org/secure/attachment/17851/orderer.log","26/Sep/19 4:36 AM;rameshthoomu;peer0-org1.log;https://jira.hyperledger.org/secure/attachment/17852/peer0-org1.log",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzczqzxr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/19 4:35 AM;rameshthoomu;Tested 98MB transaction block size on kafka_couchdb network and below are the observations..

Network has been configured with this networkspec file [https://github.com/rameshthoomu/fabric-test/blob/master/tools/PTE/CITest/k8s_testsuite/networkSpecFiles/kafka_couchdb_tls.yaml|https://github.com/rameshthoomu/fabric-test/blob/master/tools/PTE/CITest/k8s_testsuite/networkSpecFiles/kafka_couchdb_tls.yaml.]

create/join/install/instantiate on 1 channel with 2 orgs then sent invoke tx (one Tx) on 1 channel and 1 org with 1 thread.

After sending the first transaction, observed duplicate TxID in the peer log.. See the attached peer log and orderer log.

See this bug

FAB-16759;;;","14/Nov/19 3:33 AM;scottz;This test has been completed. We are not planning to automate a test with 98MB transactions because of the resources required. Based on the explanation in the mentioned bug, it does not affect external behavior; just that a block was delivered a 2nd time because of the way kafka works. Closing this task as ""Completed"".;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/regression,FAB-16642,42404,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,19/Sep/19 2:35 AM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010df:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 3:18 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33586/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer Fails to Restart when Missing the Private Write Set for a Committed Block,FAB-16643,42405,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,RyanMathison,RyanMathison,19/Sep/19 2:43 AM,12/Nov/19 3:49 AM,28/Oct/23 3:09 AM,21/Oct/19 10:54 AM,v1.4.1,v1.4.3,,,,v1.4.4,v2.0.0,,,fabric-ledger,,,,,1,gossip,peer,,,"There was a peer in the network that ended up committing a block without the private write sets as it could not reach the other peers that had it.  The peer then restarted and was unable to restart as it received a SIGSEGV. 

From going through the logs, see attached, the issue happens in lockbased_txmgr.go in the checkIfPrivateWriteIsState function.

{{{color:#172b4d}{{  vv, err := db.GetValueHash(ns, coll, keyHashBytes)}}
   if err != nil {     {color}}}

{{{color:#172b4d}   return true, err   {color}}}

{{{color:#172b4d}  }{color}}}

{{{color:#172b4d}  if bytes.Equal(vv.Value, util.ComputeHash(kvWrite.Value)) {
   // if hash of value matches, update version
   // and return true{color}}}

From the code I see that the peer is attempting to get the value hash from the database for the block with the missing .  Because the peer never received the private data, the database returns nil. It seems that the code is expecting in this case we could also get an error returned, but I don't believe that is the case. The peer doesn't get an error and continue onto the if statement where it does vv.value, which because vv is actually nil causes a SIGSEGV.

So digging into this a little bit more, I went down to statecouchdb.go in the GetState function. There we see the following

{{{color:#172b4d}  couchDoc, _, err := db.ReadDoc(key){color}}}
  {{{color:#172b4d}  if err != nil {{color}}}
  {{{color:#172b4d}    return nil, err{color}}}
  {{{color:#172b4d}  }{color}}}
  {{{color:#172b4d}  if couchDoc == nil {{color}}}
  {{{color:#172b4d}    return nil, nil{color}}}
 {{{color:#172b4d}  }{color}}}

If I followed the path correctly, this confirms the fact that we can get a nil hash returned while also getting a nil error.

So it seems that the peer needs to handle a nil return from the database during recovery.

 ",,Deepakbyrappa,denyeart,manish-sethi,psanket,RyanMathison,ScottAllan,silliman,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/19 2:14 AM;RyanMathison;PeerRestartError.log;https://jira.hyperledger.org/secure/attachment/17828/PeerRestartError.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwr6z:zz6r",,Yes,,Unset,Unset,v1.4.x,"Environment: 
Hyperledger Fabric Peer version 1.4.x, running on a kubernetes node with cocuhdb as the state store. We have tried this with both 1.4.1 and 1.4.3 and both have the same error.

A four org network with two peers in each org and all peers are marked as endorsers.

Steps:
A commit with private data between org1 and org 4 was submitted to the network.  The affected peer in org 1 was not chosen for endorsement so it did not receive the private details directly.  When it received the block to commit it attempted to get the private details through gossip, but was unable to reach the peers with the private data.  It then committed the block without the private data and logged the following message.

[33m2019-09-06 08:45:08.675 UTC [gossip.privdata] StoreBlock -> WARN 2a012[0m [common-channel] Could not fetch all missing collection private write sets from remote peers. Will commit block [41080] with missing private write sets:[txID: 0f7b91c4664db63961fb483a41bb2b495893caae9af37cf44400729a585969a5, seq: 0, namespace: mycc, collection: collectionorg1org4Details, hash: dc868ffd980f240d7ef885e7bb3e7b97b9282974f6a8ac138e7804d9d0fe7995 

Shortly after this the peer was restarted and while it was restarting it failed with a SIGSEV and the following message.

2019-09-09 13:36:37.854 UTC [gossip.comm] Stop -> INFO 186 Stopped
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xc2a5e5]
goroutine 1 [running]:

We are unable to get the peer restarted once it gets in this state",,Unset,,,,,,Unset,,Unset,,(Please add usage information),Deepakbyrappa,denyeart,manish-sethi,psanket,RyanMathison,ScottAllan,silliman,ymlbright,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/19 12:31 PM;denyeart;[~manish-sethi] Can you take a look?;;;","04/Oct/19 4:47 AM;ScottAllan;[~denyeart] [~manish-sethi] has anyone been able to verify this report yet.  It would seem to be a critical if verified.;;;","09/Oct/19 1:07 AM;manish-sethi;Yes, this seems to be a corner case bug which could hit if the key has been deleted (explicitly or because of expiry) before reconciliation for this takes place. I'll submit a CR with a fix.

Meanwhile [~RyanMathison] can you confirm on the deletion /expiry aspect - e.g., are you using BlockToLive for this data or the key was deleted explicitly?;;;","09/Oct/19 2:56 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/33904/ - release-1.4

https://gerrit.hyperledger.org/r/#/c/fabric/+/33908/ - master
 ;;;","09/Oct/19 3:03 AM;RyanMathison;[~manish-sethi] BlockToLive was set to 0 and no keys were deleted explicitly. I think what lead to our issue is that we had an entire 4 organization network running on a single kubernetes cluster.  This lead to the network becoming unstable when it went under stress testing. From looking at the logs, this caused peers to have very long response times which prevented the private data from being passed to the peer who was restarted.;;;","09/Oct/19 5:28 AM;manish-sethi;[~RyanMathison] Do you mean to say that your application never deletes keys? Then this should not have led to this panic. Because this would mean that the line you pointed out should return the existing hashed value and cannot be nil. 

Can you paste the dump stack so as to verify that is happening on the loc that you pointed out?  Also, it may be helpful to attach the logs of the affected peer.;;;","09/Oct/19 6:00 AM;RyanMathison;[~manish-sethi] I have already attached everything that I have available.

Before the peer restarted, for the affected block it logged ""_Could not fetch all missing collection private write sets from remote peers. Will commit block [41080] with missing private write sets:[txID:""_

Then in [^PeerRestartError.log]we can see ""_ReadDoc -> DEBU 17b [common-channel_mycc$$hcollectionorg1org4$details] Document not found (404), returning nil value instead of 404 error""_

This means it tried to read the hash of the private collection which it was missing when it did the original commit of block 41080.

This log is coming from {{{color:#172b4d}couchDoc, _, err := db.ReadDoc(key){color}}} which is exactly what I was pointing to

The next log is  ""_[gossip.gossip] Stop -> INFO 17c Stopping gossip""_ which is the first step to the peer stopping. This means that the peer failure to restart is caused by the not being able to find the private details hash because checkIfPrivateWriteIsState is not handling a nil return from ReadDoc

 

 ;;;","09/Oct/19 7:29 AM;manish-sethi;{quote}This means it tried to read the hash of the private collection which it was missing when it did the original commit of block 41080
{quote}
Hash of the key should never be missing (unless the key was deleted afterwards) because the hash is always present in the block that got committed. The loc you highlighted is trying to read the hash of the private key (not the actual private key that was missing) during reconciliation of the missing private key in order to verify whether the key was further updated and hence the older value should be ignored. Assuming the key was deleted, then yes, there was a bug and I have pushed a CR with a fix (see links in one of the above comments) that should fix your issue.

However, I wanted to verify with you on whether your application also deletes the keys to make sure that it's not some other hidden bug at any other place.;;;","10/Oct/19 1:18 AM;RyanMathison;[~manish-sethi] Thank you for all your help. 

I have looked through our settings and our application and I am unable to find anywhere where we are deleting the keys.;;;","11/Oct/19 1:12 AM;manish-sethi;[~RyanMathison] - Not able to think any situation other than a delete that could have caused this (unless there is some hidden bug in committing state to couchdb).

As an additional verification, can you check whether you set the value to a `nil` or an empty byte array. I vaguely recall that these two values could lead to an implicit delete. Also, is it possible for you to locate the transaction envelop / block that updated this keyhash last time before restarting the crashing peer - the rwset present in this transaction envelop can be checked for the last operation performed on this keyhash.;;;","02/Nov/19 6:07 AM;denyeart;I've reproduced the problem on v1.4.3 with following steps:
 * Start peer1
 * Use chaincode to create a private key
 * Use chaincode to delete a private key
 * Stop peer1
 * Start peer2
 * peer2 catches up to block height and commits blocks with missing private data (can't pull private data from peer1 since it is down)
 * Re-start peer1
 * peer2 private data reconciler now is able to pull the missing private data from peer1
 * However since the committed public hash has already been deleted on peer2, the committedVersion is nil and peer2 panics with nil pointer exception in findAndRemoveStalePvtData function.

To workaround the problem on v1.4.3, bring up a new peer (or delete all data in peer's fileSystemPath), and join it to the channel. This time the peer will pull all private data while catching up to block height.

I have also confirmed that if you hit the problem on a v1.4.3 peer, you can simply upgrade to v1.4.4 binary and the problem goes away - reconciler is able to pull missing private data correctly in v1.4.4, even if the key has since been deleted.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"TC: migrate from kafka to raft, automate in systest, using existing toolset and scripts",FAB-16644,42406,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,scottz,scottz,19/Sep/19 3:51 AM,01/Oct/19 12:17 AM,28/Oct/23 3:09 AM,01/Oct/19 12:17 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"This is a preliminary version of fab-16259, to get an automated test running with the systest suite now. Migrate a kafka-based network to raft: the test driver should call operator.sh to invoke existing migration scripts. No traffic running in parallel, since that capability is not available yet in the new testdriver tooling being developed.

(Later, fab-16259 will be used to migrate, with traffic running, and by using the testSpec input file to specify the channel reconfig action and other steps.)",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,FAB-16659,FAB-16702,,,,,,,,,,,,,,FAB-16259,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i00uze:rzczqzxw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/19 2:50 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33671/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ca user registration and enrollment details in the connection profile,FAB-16645,42407,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,19/Sep/19 5:30 AM,11/Jan/21 2:33 AM,28/Oct/23 3:09 AM,11/Jan/21 2:33 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,Add CA user registration and enrollment details in the connection profile to make it similar to the IBP generated channel based connection profile so that we can use PTE to send the transactions.,,btl5037,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwr5",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove unused flags in operator/main.go,FAB-16646,42408,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,19/Sep/19 5:39 AM,08/Nov/19 1:03 AM,28/Oct/23 3:09 AM,08/Nov/19 1:03 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,remove unused flags in operator/main.go,,bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqrk:5iwr5i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 5:40 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33587/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use build instead of .build for building,FAB-16647,42409,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,sykesm,sykesm,sykesm,19/Sep/19 5:54 AM,03/Dec/19 1:26 AM,28/Oct/23 3:09 AM,03/Dec/19 1:26 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"Now that we've removed the cruft from the build directory, we can actually go back to a sensible name.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010dv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove explicit management of GOCACHE,FAB-16648,42410,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,19/Sep/19 5:58 AM,03/Dec/19 1:25 AM,28/Oct/23 3:09 AM,03/Dec/19 1:25 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,hygiene,,,,"Now that we no longer run tests inside of containers, we can get rid of our explicit cache redirect to the build tree and rely on whatever is available in the build environment.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010e3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 9:56 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33589;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
README of eventclient has two not aligned sentence,FAB-16650,42412,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,shitaibin,shitaibin,shitaibin,19/Sep/19 4:08 PM,11/Nov/19 11:00 PM,28/Oct/23 3:09 AM,11/Nov/19 11:00 PM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,,v1.4.4,,,,fabric-peer,,,,,0,,,,," 

Readme has contents like this:
 * {color:#4c9aff}If TLS is enabled:{color}
 ** {color:#4c9aff}to receive full blocks:{color}

{color:#4c9aff}... codes{color} * {color:#4c9aff}to receive filtered blocks:{color}

 

{color:#ff0000}to receive filtered blocks{color} should align with to receive full blocks。

 

The file link: 

[https://github.com/hyperledger/fabric/tree/release-1.4/examples/events/eventsclient]",,denyeart,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010ej:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,shitaibin,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Nov/19 11:00 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/fabric/+/33595/] merged into release-1.4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer opens too many connections,FAB-16651,42413,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,nkalichynskyi,nkalichynskyi,19/Sep/19 5:28 PM,19/Nov/19 11:43 AM,28/Oct/23 3:09 AM,10/Oct/19 6:32 PM,,,,,,v1.4.4,v2.0.0,,,fabric-gossip,,,,,0,,,,,"I'm having some weird issues with peers, when one of them restarts. Once one of the peers restarts other peers start to open extra connections to it and at some point they reach the limit of connections fails and get restarted. The more peer gets restarted, the more connections are being opened to it by other peers. Also after restart peer starts opening connections to itself.

Reproducible on versions: 1.4.1, 1.4.2, 1.4.3

Haven't tried on versions lover then 1.4.1.",,baohua,denyeart,jooskim1,nkalichynskyi,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,FAB-16699,,,,,,,,FAB-15557,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010er:",,Yes,,Unset,Unset,," - start network with 2+ peers
 - restart one of the peers
 - log in into peer and check open connections with some interval",,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,jooskim1,nkalichynskyi,yacovm,ymlbright,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/19 12:24 PM;denyeart;[~yacovm] Do you have any recommendations for troubleshooting?;;;","23/Sep/19 2:43 PM;yacovm;Yes, please follow the following thread on rocket chat

https://chat.hyperledger.org/channel/fabric?msg=vWdkzXhdGLfSEkbzY;;;","09/Oct/19 4:42 AM;yacovm; OK I think I cracked it... I managed to reproduce the problem with this test:

 
{code:java}
Describe(""gossip"", func() {
	It(""gossip"", func() {
		network = nwo.New(nwo.BasicEtcdRaft(), testDir, client, BasePort(), components)
		network.GenerateConfigTree()
		network.Bootstrap()		orderers := network.OrdererGroupRunner()
		ordererProcesses = ifrit.Invoke(orderers)
		Eventually(ordererProcesses.Ready(), network.EventuallyTimeout).Should(BeClosed())
		defer ordererProcesses.Signal(syscall.SIGTERM)		var peers []*nwo.Peer
		for _, org := range []string{""Org1"", ""Org2""} {
			for _, p := range []string{""peer0"", ""peer1""} {
				peers = append(peers, network.Peer(org, p))
			}
		}		var peerProcesses []ifrit.Process		launchPeer := func(p *nwo.Peer) ifrit.Process {
			pr := network.PeerRunner(p)
			proc := ifrit.Invoke(pr)
			Eventually(proc.Ready(), network.EventuallyTimeout).Should(BeClosed())
			return proc
		}		for _, p := range peers {
			pp := launchPeer(p)
			peerProcesses = append(peerProcesses, pp)
		}		defer func() {
			for _, p := range peerProcesses {
				p.Signal(syscall.SIGTERM)
			}
		}()		orderer := network.Orderer(""orderer"")
		peer := network.Peer(""Org1"", ""peer0"")		channel := ""testchannel""
		network.CreateAndJoinChannel(orderer, channel)		network.UpdateChannelAnchors(orderer, channel)		assertMembership := func(exected int) {
			peer := network.Peer(""Org1"", ""peer1"")
			Eventually(func() int {
				membership := nwo.DiscoverPeers(network, peer, ""User1"", channel)
				return len(membership())
			}, network.EventuallyTimeout).Should(Equal(exected))
		}		By(""Waiting for membership to be established"")
		assertMembership(4)		By(""Taking down a peer"")
		peerProcesses[0].Signal(syscall.SIGTERM)
		Eventually(peerProcesses[0].Wait(), network.EventuallyTimeout).Should(Receive())		assertMembership(3)		By(""Re-Newing its certificate"")
		peerDomain := network.Organization(peer.Organization).Domain		peerCACertPath := filepath.Join(network.RootDir, ""crypto"", ""peerOrganizations"",
			peerDomain, ""ca"", fmt.Sprintf(""ca.%s-cert.pem"", peerDomain))
		peerCACert, err := ioutil.ReadFile(peerCACertPath)
		Expect(err).NotTo(HaveOccurred())		peerCAKeyPath := filepath.Join(network.RootDir, ""crypto"", ""peerOrganizations"",
			peerDomain, ""ca"", privateKeyFileName(peerCACert))		peerCAKey, err := ioutil.ReadFile(peerCAKeyPath)
		Expect(err).NotTo(HaveOccurred())		peerCert, err := ioutil.ReadFile(network.PeerCert(peer))
		Expect(err).NotTo(HaveOccurred())		peerNewCert := reNewCertificate(peerCert, peerCACert, peerCAKey)		// Overwrite the old certificate
		err = ioutil.WriteFile(network.PeerCert(peer), peerNewCert, 600)
		Expect(err).NotTo(HaveOccurred())		// Copy the old private key to the new private key name
		peerKey, err := ioutil.ReadFile(filepath.Join(network.PeerLocalMSPDir(peer), ""keystore"", privateKeyFileName(peerCert)))
		Expect(err).NotTo(HaveOccurred())		err = ioutil.WriteFile(filepath.Join(network.PeerLocalMSPDir(peer), ""keystore"", privateKeyFileName(peerNewCert)), peerKey, 600)
		Expect(err).NotTo(HaveOccurred())		By(""Restarting the peer"")
		peerProcesses[0] = launchPeer(peer)		By(""Waiting for membership to be re-established"")
		assertMembership(4)		time.Sleep(time.Minute * 15)
		Fail(""bla"")
	})
})
func reNewCertificate(certPEM, caCertPEM, caKeyPEM []byte) []byte {
	keyAsDER, _ := pem.Decode(caKeyPEM)
	caKeyWithoutType, err := x509.ParsePKCS8PrivateKey(keyAsDER.Bytes)
	Expect(err).NotTo(HaveOccurred())
	caKey := caKeyWithoutType.(*ecdsa.PrivateKey)	caCertAsDER, _ := pem.Decode(caCertPEM)
	caCert, err := x509.ParseCertificate(caCertAsDER.Bytes)
	Expect(err).NotTo(HaveOccurred())	certAsDER, _ := pem.Decode(certPEM)
	cert, err := x509.ParseCertificate(certAsDER.Bytes)
	Expect(err).NotTo(HaveOccurred())	cert.Raw = nil
	cert.NotBefore = time.Now()
	cert.NotAfter = time.Now().Add(time.Hour)	// The CA signs the certificate
	certBytes, err := x509.CreateCertificate(rand.Reader, cert, caCert, cert.PublicKey, caKey)
	Expect(err).NotTo(HaveOccurred())	return pem.EncodeToMemory(&pem.Block{Bytes: certBytes, Type: ""CERTIFICATE""})
}{code}
Now, indeed the connections started to leak:
{code:java}
yacovm@~ $ ps -ef | grep peer | grep -v grep | awk '{print $2}' | while read pid; do ls -l /proc/$pid/fd |  grep socket | wc -l; echo $pid; done
12
20146
14
20162
13
20178
23
22348
yacovm@~ $ netstat -nlop | grep 22348
(Not all processes could be identified, non-owned process info
 will not be shown, you would have to be root to see it all.)
tcp        0      0 127.0.0.1:31004         0.0.0.0:*               LISTEN      22348/peer           off (0.00/0/0)
tcp        0      0 127.0.0.1:31008         0.0.0.0:*               LISTEN      22348/peer           off (0.00/0/0)
tcp        0      0 127.0.0.1:39402         0.0.0.0:*               LISTEN      22348/peer           off (0.00/0/0)
tcp6       0      0 :::31005                :::*                    LISTEN      22348/peer           off (0.00/0/0)
yacovm@~ $ netstat -an | grep 31004 | grep ESTAB
tcp        0      0 127.0.0.1:31004         127.0.0.1:47874         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47956         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47642         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47652         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47380         ESTABLISHED
tcp        0      0 127.0.0.1:47394         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47906         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:46972         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47624         ESTABLISHED
tcp        0      0 127.0.0.1:47652         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47874         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47340         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47956         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47380         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:46972         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47984         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47340         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:48004         ESTABLISHED
tcp        0      0 127.0.0.1:47642         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47314         ESTABLISHED
tcp        0      0 127.0.0.1:47536         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47624         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47984         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47906         ESTABLISHED
tcp        0      0 127.0.0.1:47952         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47394         ESTABLISHED
tcp        0      0 127.0.0.1:46980         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47952         ESTABLISHED
tcp        0      0 127.0.0.1:48004         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47322         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:46980         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47536         ESTABLISHED
tcp        0      0 127.0.0.1:47314         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:47294         127.0.0.1:31004         ESTABLISHED
tcp        0      0 127.0.0.1:31004         127.0.0.1:47294         ESTABLISHED
tcp        0      0 127.0.0.1:47322         127.0.0.1:31004         ESTABLISHED
 {code}
 

I uploaded this fix:

https://gerrit.hyperledger.org/r/#/c/fabric/+/33907/

I think this also fixed FAB-16699.

You are welcome to try it and see if it works.

 ;;;","09/Oct/19 7:00 AM;baohua;This is very interesting, and drop my thoughts:

1) Is it helpful to expire the old peer quickly?

2) Should we introduce some kicking/replacing mechanism that a new pki-id to take the addr of an existing member?;;;","09/Oct/19 7:52 AM;yacovm;Just read the commit message in my change set, you will understand what's going on and what is the fix.;;;","10/Oct/19 4:45 PM;yacovm;[~nkalichynskyi] we merged this change, you can now check it by building a new peer image yourself (or, i can also build and push it to my docker hub namespace for you to pull, if you want);;;","10/Oct/19 5:58 PM;nkalichynskyi;Tested the fix locally, the bug is no longer reproducible. Peer maintains proper amount of connections.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Container Exiting after instantiation if any commands are executed against the peer,FAB-16652,42415,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,muralisr,soumyanayak,soumyanayak,19/Sep/19 9:23 PM,14/Oct/19 10:09 PM,28/Oct/23 3:09 AM,13/Oct/19 7:21 PM,v1.4.3,,,,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,,,,,"Fabric - v1.4.3

RAFT Orderer Set up ( 5 Orderers)

I am facing a issue where the chaincode container is exiting, not sure why. 
I have installed the same chaincode (different versions) many times and upgraded just to see if the issue is still replicating.

I have attached the Configtx.yaml also.[^configtx.yaml]

 

!ChaincodeContainerLogs.png!",,jyellick,muralisr,soumyanayak,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/19 9:16 PM;soumyanayak;ChaincodeContainerLogs.png;https://jira.hyperledger.org/secure/attachment/17833/ChaincodeContainerLogs.png","19/Sep/19 9:16 PM;soumyanayak;Peer_Logs.png;https://jira.hyperledger.org/secure/attachment/17832/Peer_Logs.png","26/Sep/19 5:12 PM;soumyanayak;chaincode_list_instantiated.txt;https://jira.hyperledger.org/secure/attachment/17855/chaincode_list_instantiated.txt","25/Sep/19 10:52 PM;soumyanayak;configtx.yaml;https://jira.hyperledger.org/secure/attachment/17849/configtx.yaml","19/Sep/19 9:21 PM;soumyanayak;configtx.yaml;https://jira.hyperledger.org/secure/attachment/17831/configtx.yaml","26/Sep/19 5:13 PM;soumyanayak;genesisBlockGeneration.log;https://jira.hyperledger.org/secure/attachment/17856/genesisBlockGeneration.log","26/Sep/19 5:08 PM;soumyanayak;orderer2.log;https://jira.hyperledger.org/secure/attachment/17853/orderer2.log","26/Sep/19 5:08 PM;soumyanayak;peer1.log;https://jira.hyperledger.org/secure/attachment/17854/peer1.log",,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010f7:",,,,Unset,Unset,,"Genesis block and other artififacts was generated using configtxgen tool from fabric-cli (1.4.3) from the attached configtx.yaml and the network was made up. (Orderer ord - 5 RAFT orderers and one application org with one anchor and one regular peer)

Step - 1 -- *Installed the chaincode* ---> peer chaincode install -n ldbc -v 1.8 -p ldbc
Step - 2 -- *Upgraded the chaincode* ---> peer chaincode upgrade -o $ORDERER_ADDRESS --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE -C legaldescriptionchannel -n ldbc -v 1.8 -c '{""Args"":[]}' --clientauth --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE --certfile $CORE_PEER_TLS_CLIENTCERT_FILE
Step -3 -- *List of Instantiated Chaincode* --> peer chaincode list --instantiated -C legaldescriptionchanneld steps to reproduce)

When the above Step-3 is executed the chaincode container created is exiting. 

Please find attached the Peer and chaincode exited container logs.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,muralisr,soumyanayak,ymlbright,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Sep/19 10:29 PM;muralisr;[~soumyanayak] You mentioned the steps above worked after a change to configtx.yaml (if I understood you correctly). Can you also add the modified configtx.yaml please ?

Also, curious, step 2 is ""upgrade"" instead of ""instantiate"" ... was this chaincode already instantiated earlier ? I'm wondering if we are chasing something else entirely. If indeed you were upgrading, did you make sure the old chaincode docker image was deleted ?

Can you add the actual logs instead of the screen shot snippet ? The full logs may reveal the real culprit.

 

Thanks!;;;","25/Sep/19 10:59 PM;soumyanayak;Hi Srinivasan , 

Please find attached the configtx.yaml file which was causing the issue.[^configtx.yaml].

Line no 111 was where i corrected the allignment in the attached YAMl file.

 

The first time i used instantiated command post which also this issues was there. Later just to replicate the error i was installing the same chaincode with different versions and using the upgrade command.

 

After upgrading , i did not delete the old containers but they were in exited state and the new container was in the list of active containers, but the very next moment when i run the command to list out the instantiated chaincodes, the active chaincode contaienr exited and there is a panic in peer with the logs as attached already - Peer_logs.png.

 

But correcting the allignment of line no 111 , everything got resolved.

Configtxgen tool also did not detect this allignment issue.

 

Will try to replicate again and attach the complete logs.

Regards,

Soumya;;;","25/Sep/19 11:29 PM;muralisr;[~soumyanayak] Thank you for the details... will look for logs.

Also when you get the new set of logs, please include all the CLI commands executed (including channel commands please).;;;","26/Sep/19 5:07 PM;soumyanayak;Hi Srinivasan,

Below are the commands used for generation of genesis block, channel transaction file and anchor peer

 
 * *Genesis Block* *Generation*

configtxgen -profile LegalDescriptionGenesis -outputBlock ./legaldescription-genesis.block -channelID ordererchannel

 
 * *Legal Descripton Channel Transaction File –* 

configtxgen -profile LegalDescriptionChannel -outputCreateChannelTx ./legaldescription-channel.tx -channelID legaldescriptionchannel

 
 * *Anchor Peer Update Transaction File* –

configtxgen -profile LegalDescriptionChannel -outputAnchorPeersUpdate ./Org1anchors.tx -channelID legaldescriptionchannel -asOrg Org1

 

Post the above - the *legaldescription-genesis.block* file generated was copied to all the orderer machines and all the 5 RAFT orderers was started.

 

Then in peer machine -

*CLI Container Login* – sudo docker exec -it tools /bin/bash

*Channel Create Command - #Mutual TLS Mode*
peer channel create -c legaldescriptionchannel -f /var/hyperledger/config/legaldescription-channel.tx --orderer $ORDERER_ADDRESS --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE --clientauth --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE --certfile $CORE_PEER_TLS_CLIENTCERT_FILE

 

*Channel JOIN Command - #Mutual TLS Mode*

peer channel fetch 0 -c legaldescriptionchannel --orderer $ORDERER_ADDRESS --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE --clientauth --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE --certfile $CORE_PEER_TLS_CLIENTCERT_FILE

peer channel join -o $ORDERER_ADDRESS -b ./legaldescriptionchannel_0.block

 

*Anchor Peer Update Command -* *#Mutual TLS Mode*

 peer channel update -f /var/hyperledger/config/Org1anchors.tx -c legaldescriptionchannel -o $ORDERER_ADDRESS --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE --clientauth --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE --certfile $CORE_PEER_TLS_CLIENTCERT_FILE

 

*Chaincode Installation Command* – peer chaincode install -n ldbc -v 1.0 -p ldbc

*Chaincode Instantiate Command –* 
 * peer chaincode instantiate -o $ORDERER_ADDRESS --tls --cafile $CORE_PEER_TLS_ROOTCERT_FILE -C legaldescriptionchannel -n ldbc -v 1.0 -c '\{""Args"":[]}' --clientauth --keyfile $CORE_PEER_TLS_CLIENTKEY_FILE --certfile $CORE_PEER_TLS_CLIENTCERT_FILE

 

*Chanicode Instantiated List Command --*

peer chaincode list --instantiated -C legaldescriptionchannel

 

Post the above command there was a panic in peer logs where peer exited and again the peer docker container was restarted automatcially as in peer docker-compose (restart: always). This leads to the chaincode container exiting. 

 

Please find attached the logs of peer and orderer.;;;","26/Sep/19 5:11 PM;soumyanayak;[^orderer2.log]

Around line no 2677 in Peer1.log . You can check.

 

Also the logs from CLI container ;;;","26/Sep/19 5:13 PM;soumyanayak;[^chaincode_list_instantiated.txt]

 

Also the logs of configtxgen tool which was able to generate the genesis blockc successfully even after the allignment issue – [^genesisBlockGeneration.log];;;","29/Sep/19 11:30 PM;muralisr;Thanks, [~soumyanayak] ... the full stack trace from peer log is

 
{code:java}
goroutine 682 [running]:  <--- the top shows chaincode stack but this is not the user chaincode ....
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).triggerNextState(0xc000275ec0, 0x0, 0xc0001bcfc0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:35 +0x26
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1.1(0xc000275ec0, 0xc002acfeb0, 0xc0001bcfc0)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:247 +0x42

panic(0x10b2c20, 0x1ed23f0) <---- ... this is the real culprit, crash coming from system chaincode
 /opt/go/src/runtime/panic.go:513 +0x1b9
github.com/hyperledger/fabric/common/channelconfig.newAPIsProvider(0xc0001c5890, 0x0)
 /opt/gopath/src/github.com/hyperledger/fabric/common/channelconfig/acls.go:29 +0x229
github.com/hyperledger/fabric/common/channelconfig.(*ApplicationConfig).APIPolicyMapper(0xc0023a9f40, 0x13ce140, 0xc0023a9f40)
 /opt/gopath/src/github.com/hyperledger/fabric/common/channelconfig/application.go:76 +0x35
github.com/hyperledger/fabric/core/aclmgmt.(*policyEvaluatorImpl).PolicyRefForAPI(0xc0023ea680, 0x1279c94, 0x1e, 0x1187301, 0xc0023ea680)
 /opt/gopath/src/github.com/hyperledger/fabric/core/aclmgmt/resourceprovider.go:53 +0x55
github.com/hyperledger/fabric/core/aclmgmt.(*aclmgmtPolicyProviderImpl).GetPolicyName(0xc002acf7e0, 0x1279c94, 0x1e, 0xc000278420, 0x12835b01d807aa98)
 /opt/gopath/src/github.com/hyperledger/fabric/core/aclmgmt/resourceprovider.go:88 +0x47
github.com/hyperledger/fabric/core/aclmgmt.(*resourceProvider).CheckACL(0xc00039e120, 0x1279c94, 0x1e, 0xc002321de0, 0x17, 0x11bcd60, 0xc0022fc640, 0xd, 0xc0024f0130)
 /opt/gopath/src/github.com/hyperledger/fabric/core/aclmgmt/resourceprovider.go:165 +0x183
github.com/hyperledger/fabric/core/aclmgmt.(*aclMgmtImpl).CheckACL(0xc00039d390, 0x1279c94, 0x1e, 0xc002321de0, 0x17, 0x11bcd60, 0xc0022fc640, 0xa89369e5f9b444a4, 0x4ed8aa4a391c0cb3)
 /opt/gopath/src/github.com/hyperledger/fabric/core/aclmgmt/aclmgmtimpl.go:31 +0x79
github.com/hyperledger/fabric/core/scc/lscc.(*LifeCycleSysCC).Invoke(0xc00037d310, 0x13e71c0, 0xc000139290, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
 /opt/gopath/src/github.com/hyperledger/fabric/core/scc/lscc/lscc.go:957 +0x1e8f
github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction.func1(0xc000275ec0, 0xc0001bcfc0, 0xc002479f80)
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:273 +0x4eb
created by github.com/hyperledger/fabric/core/chaincode/shim.(*Handler).handleTransaction
 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/handler.go:242 +0x53
{code}

This makes more sense now. It was the system chaincode (not user chaincode) crashing trying to access some config which could be affected by malformed configtx.yaml.

Will assign to self for investigation.;;;","29/Sep/19 11:34 PM;muralisr;Also, I see this now in the image snapshot as well [~soumyanayak] .... should have seen this earlier (in my defense, the full logs helped with search etc ;-) ).;;;","02/Oct/19 9:00 AM;muralisr;[~jyellick] At minimum, thinking we need at least the following fix to *common/channelconfig/acls.go*

{code:java}
@@ -26,7 +26,7 @@ func newAPIsProvider(acls map[string]*pb.APIResource) *aclsProvider {
        for key, acl := range acls {
                // If the policy is fully qualified, ie to /Channel/Application/Readers leave it alone
                // otherwise, make it fully qualified referring to /Channel/Application/policyName
-               if acl.PolicyRef[0] != '/' {
+               if len(acl.PolicyRef) > 0 && acl.PolicyRef[0] != '/' {
                        aclPolicyRefs[key] = ""/"" + ChannelGroupKey + ""/"" + ApplicationGroupKey + ""/"" + acl.PolicyRef
                } else {
                        aclPolicyRefs[key] = acl.PolicyRef
{code}

Is the above sufficient or should we go deeper ?

It will be nice to catch badly formatted configtx.yaml at `configtxgen` time but we probably don't want to do this now. 

;;;","02/Oct/19 10:59 PM;jyellick;[~muralisr] I'd suggest a more explicit check:

{noformat}
if len(acl.PolicyRef) == 0 {
    logger.Warningf(""Policy reference for resource '%s' is specified, but empty, falling back to default"", key)
    continue
}
{noformat}

It would also be nice to verify this during generation time, though as it's non-fatal, I'd prefer not to verify this at parse time (as changes to parsing logic are always a bit dangerous from a determinism perspective).;;;","08/Oct/19 11:10 PM;muralisr;
_It would also be nice to verify this during generation time, though as it's non-fatal, I'd prefer not to verify this at parse time (as changes to parsing logic are always a bit dangerous from a determinism perspective)._


[~jyellick] If I understood that correctly, the suggestion is to verify it during configtxgen in the post-parsing phase ? In any case I vote we open a separate lower priority task for that.



;;;","08/Oct/19 11:54 PM;muralisr;https://gerrit.hyperledger.org/r/#/c/fabric/+/33898/ for the runtime part of the fix;;;","14/Oct/19 10:09 PM;soumyanayak;Apart from runtime part of the fix - *Srinivasan  -* are you also providing the fix for configtxgen tool ?– like while generating the artifacts itself using configtxgen the error would show. ;;;",,,,,,,,,,,,,,,,,,,,,,,
fabric-end-2-end-daily-master job: byfn.sh fail to run with illegal option on customchannel-raft test.,FAB-16653,42416,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,19/Sep/19 10:15 PM,27/Sep/19 10:33 PM,28/Oct/23 3:09 AM,27/Sep/19 10:33 PM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,ci-failure,,,,"byfn.sh fail to run with illegal option --o on customchannel-raft test.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/00:21:19.207 ############## [1mC U S T O M-C H A N N E L-R A F T[0m ################
00:21:19.207 #########################################################
00:21:19.208 + echo y
00:21:19.208 + ./byfn.sh -m up -o etcdraft -c custom-channel-etcdraft -t 120 -d 20
00:21:19.213 ./byfn.sh: illegal option -- o
00:21:19.213 Usage: / code placeholder
{code}
*Build Logs: [https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-x86_64/211/console]*

*[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/211/]*",,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010ff:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/19 12:41 AM;denyeart;FAB-16133 removed the -o ordering options from byfn last month. It always uses raft now. The tests that explicitly call for ""-o etcdraft"" can therefore be removed, as they would be duplicating the tests that pass no ordering option.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/feature,FAB-16654,42418,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,19/Sep/19 11:01 PM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010fn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 11:02 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33607/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove GOPATH from fabric-test/fca-sample,FAB-16656,42420,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,19/Sep/19 11:04 PM,25/Sep/19 11:24 PM,28/Oct/23 3:09 AM,25/Sep/19 11:24 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16594,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010g3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"19/Sep/19 11:09 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33609/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-behave-master job: Fabric-ca feature, failed to launch chaincode container, only when using java cc shim",FAB-16657,42421,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,vijaypunugubati,vijaypunugubati,19/Sep/19 11:37 PM,01/Nov/19 10:09 PM,28/Oct/23 3:09 AM,26/Oct/19 12:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,fabric-quality,,,,0,ci-failure,quality,,,"fabric-test-daily-behave-master job: Fabric-ca feature FAB-11621, FAB-6489 failed to launch chaincode container due to docker image build failed with runtime_launcher exited.

The first-time failure was observed on Sep 14, 2019. (Build job 348 was clean; job 349 on Sep 14 showed the two tests failing, and every day since.) 

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error in simulation: could not launch chaincode mycc:0: error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 ""Gradle build/ code placeholder
{code}
*From peer logs:*
{code:java}
/docker image build failed
github.com/hyperledger/fabric/core/container/dockercontroller.(*DockerVM).Build
	/go/src/github.com/hyperledger/fabric/core/container/dockercontroller/dockercontroller.go:195
github.com/hyperledger/fabric/core/container.(*Router).Build
	/go/src/github.com/hyperledger/fabric/core/container/container.go:111
github.com/hyperledger/fabric/core/chaincode.(*ContainerRuntime).Start
	/go/src/github.com/hyperledger/fabric/core/chaincode/container_runtime.go:58
github.com/hyperledger/fabric/core/chaincode.(*RuntimeLauncher).Launch.func1
	/go/src/github.com/hyperledger/fabric/core/chaincode/runtime_launcher.go:41
runtime.goexit
	/usr/local/go/src/runtime/asm_amd64.s:1337
failed external (no builders defined) and docker build
error building image
error starting container
could not launch chaincode mycc:0/ code placeholder
{code}
*Build Logs:* 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/354/Behave_Test_Logs/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/354/consoleFull]

 ",,bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxx",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/19 3:22 AM;bharadwajambati1;Tested with the latest changes in fabric-samples/chaincode/abstore/java and observed the following errors while running the JavaSDK interoperability test using Java chaincode shim
{code:java}
steps/basic_impl.py:24
    When a user ""scott"" queries on the chaincode with args [""query"",""a""] from ""peer0.org2.example.com""                                                                  # steps/endorser_impl.py:546
Exception in thread ""main"" org.hyperledger.fabric.sdk.exception.InvalidArgumentException: Proposal response is invalid.
	at org.hyperledger.fabric.sdk.ProposalResponse.getChaincodeActionResponsePayload(ProposalResponse.java:272)
	at org.hyperledger.fabric_test.operations.PeerOperations.sendQuery(PeerOperations.java:347)
	at org.hyperledger.fabric_test.operations.PeerOperations.run(PeerOperations.java:179)
	at org.hyperledger.fabric_test.operations.PeerOperations.main(PeerOperations.java:112)
      Traceback (most recent call last):
        File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1329, in run
          match.run(runner.context)
        File ""/usr/local/lib/python2.7/dist-packages/behave/matchers.py"", line 98, in run
          self.func(context, *args, **kwargs)
        File ""steps/endorser_impl.py"", line 548, in step_impl
          query_impl(context, context.interface.TEST_CHANNEL_ID, context.chaincode[""name""], args, str(peer), user=user)
        File ""steps/endorser_impl.py"", line 464, in query_impl
          context.result = context.interface.query_chaincode(context, chaincode, peer, channel, targs, user=user, opts=opts)
        File ""/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/endorser_util.py"", line 362, in query_chaincode
          result = self.query_func(chaincode, channelId, user, org, [peer], opts)
        File ""/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/steps/endorser_util.py"", line 487, in query_func
          answer = subprocess.check_output(query_call, shell=True)
        File ""/usr/lib/python2.7/subprocess.py"", line 574, in check_output
          raise CalledProcessError(retcode, cmd, output=output)
      subprocess.CalledProcessError: Command 'java -jar /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/sdk/java/peer-javasdk.jar -o query -n peer0.org2.example.com -i 127.0.0.1 -p 7051 -r org2.example.com -c /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/87b5d270dfaa11e9847dfa163e612fc8 -a /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/87b5d270dfaa11e9847dfa163e612fc8/ordererOrganizations/example.com/ca/tls-cert.pem -s /w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/feature/configs/87b5d270dfaa11e9847dfa163e612fc8/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/server.crt -d orderer0.example.com -h behavesystest -m mycc -f query -g ['a'] -u scott -w th3r3' returned non-zero exit status 1{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-daily-behave-master-x86_64/ws/gopath/src/github.com/hyperledger/fabric-test/feature/behave_tests.log/*view*/]

[https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-daily-behave-master-x86_64/1/console]

 ;;;","09/Oct/19 12:07 AM;rameshthoomu;Increased the Query timeout to 15 secs in feature/fabric-ca.feature file for java chaincode tests. Tested the same in Jenkins/sandbox with 15 sec and it worked as expected. See the result here [https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-daily-behave-master-x86_64/3/consoleFull]

Later changed to 10 secs and one test case is failed here [https://jenkins.hyperledger.org/sandbox/view/All/job/fabric-test-daily-behave-master-x86_64/4/]

Pushed change here https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33899/;;;","09/Oct/19 11:23 PM;rameshthoomu;Patch has been merged and I see the tests are working as expected in the recent build. [~vijaypunugubati] Please verify this in the latest build and close this.;;;","22/Oct/19 1:32 AM;scottz;Today in daily tests results we see trouble downloading the jar file. That happens before we get to the point of running the tests, so it is not clear if this has been fixed. It looks like it is working better (passed a few times this week) but the two java cc tests have not both passed every day consistently yet. Let's fix the other jar download problem and see if these tests can stay green a few days. When we shut down behave, we can still reference this investigation from the interop tests (FAB-16719, still being developed) that will use a java cc and might possibly encounter the same problem.;;;","26/Oct/19 12:34 AM;scottz;Tests passed the last 4 days.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Peer panics with ""peer.tls.clientKey.file"" not found when mutual TLS is enabled",FAB-16659,42423,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,jyellick,rameshthoomu,rameshthoomu,20/Sep/19 12:33 AM,20/Sep/19 10:41 PM,28/Oct/23 3:09 AM,20/Sep/19 3:47 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,,,,,"When mutual TLS is enabled observed peer is getting panic with the below error.

{color:#FF0000}*panic: unable to load peer.tls.clientKey.file: open : no such file or directory *{color}
 *Commit SHA: 2e4566b*
 *Branch: master*
{code:java}
2019-09-19 15:08:55.706 UTC [nodeCmd] serve -> INFO 001 Starting peer:
Version: 2.0.0
Commit SHA: 2e4566b
Go version: go1.12.7
OS/Arch: linux/amd64
Chaincode:
 Base Docker Namespace: hyperledger
 Base Docker Label: org.hyperledger.fabric
 Docker Namespace: hyperledger
2019-09-19 15:08:55.707 UTC [peer] getLocalAddress -> INFO 002 Auto-detected peer address: 172.30.96.168:7051
2019-09-19 15:08:55.707 UTC [peer] getLocalAddress -> INFO 003 Returning peer0-org1:7051
2019-09-19 15:08:55.714 UTC [nodeCmd] serve -> INFO 004 Starting peer with TLS enabled
panic: unable to load peer.tls.clientKey.file: open : no such file or directory
goroutine 1 [running]:
github.com/hyperledger/fabric/core/deliverservice.(*DeliverServiceConfig).loadDeliverServiceConfig(0xc00014a2a0)
    /go/src/github.com/hyperledger/fabric/core/deliverservice/config.go:84 +0x5ba
github.com/hyperledger/fabric/core/deliverservice.GlobalConfig(...)
    /go/src/github.com/hyperledger/fabric/core/deliverservice/config.go:46
github.com/hyperledger/fabric/internal/peer/node.serve(0x26e8c98, 0x0, 0x0, 0x0, 0x0)
    /go/src/github.com/hyperledger/fabric/internal/peer/node/start.go:270 +0x10d2
github.com/hyperledger/fabric/internal/peer/node.glob..func5(0x25dd460, 0x26e8c98, 0x0, 0x0, 0x0, 0x0)
    /go/src/github.com/hyperledger/fabric/internal/peer/node/start.go:123 +0xf1
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x25dd460, 0x26e8c98, 0x0, 0x0, 0x25dd460, 0x26e8c98)
    /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:826 +0x465
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x25dd960, 0xc0003aff60, 0x1, 0x1)
    /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:914 +0x2fc
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(...)
    /go/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:864
main.main()
    /go/src/github.com/hyperledger/fabric/cmd/peer/main.go:54 +0x462 (edited)  
{code}
[https://github.com/hyperledger/fabric/blob/master/core/deliverservice/config.go#L84]",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,FAB-16644,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Sep/19 2:26 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric/+/33615/;;;","20/Sep/19 10:41 PM;rameshthoomu;Observed that above said issue is working as expected on the latest 2.0.0 images.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Plugin commands not respecting --home flag,FAB-16660,42425,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bstasyszyn,bstasyszyn,bstasyszyn,20/Sep/19 3:04 AM,17/Oct/19 10:15 PM,28/Oct/23 3:09 AM,17/Oct/19 10:15 PM,,,,,,,,,,,,,,,0,,,,,"The plugin commands (install, uninstall and list) always use the default home directory, regardless of the value in the home flag.",,bstasyszyn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i010gz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bstasyszyn,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consistently provide PEM encoded keys and certificates to chaincode platform implementations,FAB-16661,42426,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,sykesm,sykesm,20/Sep/19 3:16 AM,22/Oct/19 11:07 PM,28/Oct/23 3:09 AM,22/Oct/19 11:07 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"[~jyellick] highlighted something about the launch contract that we should try to address moving forward.

The client key and client cert that we provide to the chaincode are base64 encoded PEM blocks while the root certificate is simply the PEM block.

The base64 encoding of the PEM blocked (already encoded) certificate is really weird... Unfortunately, we can't just change it as existing chaincode will be decoding so we need to add mitigation/migration.

[https://github.com/hyperledger/fabric-chaincode-go/blob/8f8a45e6039e7bc0e03a042591b010317481f21d/shim/internal/config.go#L48-L67]

The thought is that we can create two new files that contain the pem blocks (instead of base 64 encoded pem blocks) and use new keys to reference them. The old config and format would be deprecated and ultimately removed.

This will impact the run step of the launcher as well (in a different story)...

The go shim should be updated to prefer the non-double-encoded certificates. Node and java should not.

Acceptance: I can run chaincode build with the old and new go chaincode shim.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruid",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.3,release-2.2,release-2.5,release-2.4,dependabot/go_modules/github.com/golang/protobuf-1.5.3,main,dependabot/go_modules/google.golang.org/grpc-1.54.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 4:09 AM;sykesm;[https://gerrit.hyperledger.org/r/c/fabric/+/33827]

https://github.com/hyperledger/fabric-chaincode-go/pull/8/files;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrate from Gerrit to Github,FAB-16662,42427,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,20/Sep/19 6:05 AM,11/Dec/19 2:49 AM,28/Oct/23 3:09 AM,11/Dec/19 2:49 AM,,,,,,,,,,,,,,,0,,,,,fabric-test,,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-3,,G2G,To Do,No,,Unset,No,,,"1|i010h7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric,FAB-16663,42428,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,20/Sep/19 6:07 AM,26/Nov/19 4:55 AM,28/Oct/23 3:09 AM,26/Nov/19 4:55 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010hf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-baseimage,FAB-16664,42429,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,20/Sep/19 6:08 AM,26/Nov/19 4:55 AM,28/Oct/23 3:09 AM,26/Nov/19 4:55 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010hn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-chaincode-evm,FAB-16665,42430,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,20/Sep/19 6:08 AM,16/Nov/19 6:24 AM,28/Oct/23 3:09 AM,23/Oct/19 2:40 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010hv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-chaincode-java,FAB-16666,42431,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,20/Sep/19 6:10 AM,29/Oct/19 7:30 AM,28/Oct/23 3:09 AM,29/Oct/19 7:30 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010i3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabcar chaincode modify console output source,FAB-16668,42434,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,SteveKIM,SteveKIM,SteveKIM,20/Sep/19 2:47 PM,26/Sep/19 7:31 PM,28/Oct/23 3:09 AM,26/Sep/19 7:31 PM,,,,,,v1.4.4,v2.0.0,,,fabric-samples,,,,,0,,,,,"fabcar invoke func which is queryAllCar,

modify console output assembly after query.",,SteveKIM,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010ir:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),SteveKIM,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node chaincode should not run as root,FAB-16670,42436,37576,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,20/Sep/19 7:40 PM,03/Dec/19 1:47 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14425,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010j7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/19 1:47 AM;denyeart;see proposed CR for FAB-14425;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Java chaincode should not run as root,FAB-16671,42437,37576,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,20/Sep/19 7:41 PM,20/Sep/19 7:41 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010jf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sync latest relevant changes in fabric-test to release-1.4 branch,FAB-16672,42441,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,rameshthoomu,rameshthoomu,20/Sep/19 11:47 PM,22/Oct/19 1:28 AM,28/Oct/23 3:09 AM,22/Oct/19 1:28 AM,v1.4.3,,,,,,,,,fabric-quality,,,,,0,,,,,"GOPATH related changes are updated in all the chaincodes in fabric-test/chaincodes folder which are in master branch, but this doesn't work when user try to use 1.4.3 images on fabric-test master branch.

To make this work, we need to add more tweaks in the code. Instead of this we better push all the changes related to release-1.4 branch and make it sync with the fabric 1.4.

Other changes were made recently as well. Most of the master branch fabric-test code changes can be ported to release-1.4, but not everything. Let's determine what is required (and what is incompatible) for running our existing automated tests (using NL) cleanly in v1.4.",,bharadwajambati1,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,FAB-16761,FAB-16780,,,,,,,,,,FAB-16395,,,FAB-16819,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxz4",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,scottz,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Sep/19 6:14 AM;scottz;Note: FAB-16395 may be unnecessary if we port the needed patchsets to 1.4.;;;","22/Oct/19 1:28 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33922/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can't start v2.0 orderer with a v1.4.3 channel config,FAB-16674,42444,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,denyeart,denyeart,21/Sep/19 12:20 AM,21/Sep/19 12:59 AM,28/Oct/23 3:09 AM,21/Sep/19 12:59 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,"I had a working v1.4.3 network.
Upgraded orderer binary to v2.0.
Upon start of orderer receive the following error:


{code:java}
2019-09-20 11:17:01.457 EDT [common.tools.configtxgen.localconfig] Load -> PANI 506 Error unmarshaling config into struct:  15 error(s) decoding:

* 'Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeEtcdRaft].Application.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeEtcdRaft].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeEtcdRaft].Orderer.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeKafka].Application.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeKafka].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeKafka].Orderer.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeSolo].Application.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeSolo].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleDevModeSolo].Orderer.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleSingleMSPChannel].Application.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleSingleMSPKafka].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleSingleMSPKafka].Orderer.Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleSingleMSPSolo].Consortiums[SampleConsortium].Organizations[0]' has invalid keys: SkipAsForeign
* 'Profiles[SampleSingleMSPSolo].Orderer.Organizations[0]' has invalid keys: SkipAsForeign
{code}
",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010kz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Sep/19 12:59 AM;denyeart;I was using an outdated orderer...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test Verify job should test new Operator functions,FAB-16678,42450,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,21/Sep/19 5:09 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,21/Sep/19 5:19 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add a ""smoke test"" to fabric-test verify job, using new launcher (locally), with new small networkSpec file, generate connprofile, and healthcheck. 

We may want to open separate tasks for additional pieces:

Second, add and use a simple testSpec pteinput file to create, join, install, instantiate, updateanchor, invoke, query.

Instead of install and instantiate, or in addition, we may want to use the new lifecycle functions (yet to be developed in the Operator and in PTE), e.g. something like package, approve, commit.

Third, add test steps for more functions as they are added. Consider items like upgradecc, configupdate, queryblockheights and compare in all peers (2 orgs with 1 peer), and fetch ledger heights or the final TX from all (1 or 3) raft orderers.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|hzwqfo:3",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Rename ""local-MSP"" to ""org-MSP""",FAB-16679,42451,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,paranjan,paranjan,21/Sep/19 7:47 PM,22/Sep/19 3:48 AM,28/Oct/23 3:09 AM,22/Sep/19 3:48 AM,,,,,,,,,,,,,,,0,,,,,"I propose to rename ""local-MSP"" as ""org-MSP"".

While channel MSP clearly signifies what it does, local-MSP provides an impression that the MSP on the peer, orderer and client/user of the same org can differ.

I found it difficult to grasp as a new user, and hence I propose to change name of ""local-MSP"" to ""org-MSP"" or something representing that local MSPs are org specific and same on the local nodes for the org.",,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Inconsistencies in the ""Writing Your First Application"" tutorial",FAB-16681,42462,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,negupta,francisco-rojas,francisco-rojas,24/Sep/19 6:35 AM,10/Mar/20 10:28 PM,28/Oct/23 3:09 AM,10/Mar/20 10:28 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,"In the ""Enrolling the admin user"" section ([https://hyperledger-fabric.readthedocs.io/en/release-1.4/write_first_app.html]) there is a note that says:


_""You may find it useful to stream the CA logs when running the upcoming programs by opening a new terminal shell and running `docker logs -f_ [_ca.example.com`_|http://ca.example.com/]""

However, after launching the network with the {{`./startFabric.sh javascript}}` command there is no [_ca.example.com_|http://ca.example.com/] container therefore the command fails. There are, however, two CAs: _ca_peerOrg1_ and _ca_peerOrg2_. After checking the source code of _enrollAdmin.js_ you can see that it uses: [_ca.org1.example.com_|http://ca.org1.example.com/] which corresponds to _ca_peerOrg1_ according to the _first-network/docker-compose-ca.yaml_ file.So the actual command to inspect the logs is `docker logs -f ca_peerOrg1`

 

Also, in the ""Querying the ledger"" section ([https://hyperledger-fabric.readthedocs.io/en/release-1.4/write_first_app.html#querying-the-ledger])
there are some references to the _../../basic-network/connection.json_ file when in reality the code references _../../first-network/connection-org1.json_ as you can see in f_abcar/javascript/query.js_",,francisco-rojas,negupta,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010ob:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),francisco-rojas,negupta,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Feb/20 1:35 AM;negupta;This will be fixed with this PR in 2.0: https://github.com/hyperledger/fabric/pull/522/files#diff-87b3bc69e542a1b0f02d466f183fd7a8L166

Will make edits to the release-1.4 branch with this PR: https://github.com/hyperledger/fabric/pull/634;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create AZP YAML File for Verify and Merge Jobs,FAB-16682,42463,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,btl5037,btl5037,24/Sep/19 12:03 PM,24/Sep/19 12:03 PM,28/Oct/23 3:09 AM,24/Sep/19 12:03 PM,,,,,,,,,,,,,,,0,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010oj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create AZP YAML File for Verify and Merge Jobs,FAB-16683,42464,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,btl5037,btl5037,24/Sep/19 12:03 PM,31/Jan/20 4:18 PM,28/Oct/23 3:09 AM,31/Jan/20 4:18 PM,,,,,,,,,,,,,,,0,,,,,,,btl5037,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010or:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/19 6:40 AM;MHBauer;Not sure if this was fabric in general or specific to some project, but [https://github.com/hyperledger/fabric-chaincode-evm] is complete and merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
error “no such file or directory“ occurs when running configtxgen without directory,FAB-16684,42465,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yjchang21,yjchang21,yjchang21,24/Sep/19 4:55 PM,16/Oct/19 4:39 AM,28/Oct/23 3:09 AM,16/Oct/19 4:39 AM,v1.4.3,,,,,v2.0.0,,,,fabric-tools,,,,,0,configtxgen,,,,"When you run configtxgen, if a file already exists in the output path, the new contents are automatically overwritten.

However, if no directory exists for the output path, an error occurs.

It seems inconvenient to have to create a directory before running it.

 

=========================================================================================

✗ configtxgen -profile TwoOrgsOrdererGenesis -channelID byfn-sys-channel -outputBlock ./output/genesis.block
2019-10-01 18:27:25.450 KST [common.tools.configtxgen] main -> INFO 001 Loading configuration
2019-10-01 18:27:25.503 KST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 002 orderer type: solo
2019-10-01 18:27:25.504 KST [common.tools.configtxgen.localconfig] Load -> INFO 003 Loaded configuration: /Users/lgcns/hyperledger/v1.4.1/fabric-samples/first-network/configtx.yaml
2019-10-01 18:27:25.547 KST [common.tools.configtxgen.localconfig] completeInitialization -> INFO 004 orderer type: solo
2019-10-01 18:27:25.547 KST [common.tools.configtxgen.localconfig] LoadTopLevel -> INFO 005 Loaded configuration: /Users/lgcns/hyperledger/v1.4.1/fabric-samples/first-network/configtx.yaml
2019-10-01 18:27:25.553 KST [common.tools.configtxgen] doOutputBlock -> INFO 006 Generating genesis block
2019-10-01 18:27:25.553 KST [common.tools.configtxgen] doOutputBlock -> INFO 007 Writing genesis block
2019-10-01 18:27:25.553 KST [common.tools.configtxgen] main -> FATA 008 Error on outputBlock: Error writing genesis block: open ./output/genesis.block: no such file or directory

 ",,yjchang21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010oz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yjchang21,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename core.yaml to peer.yaml,FAB-16685,42467,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,paranjan,paranjan,24/Sep/19 8:18 PM,24/Sep/19 9:55 PM,28/Oct/23 3:09 AM,,Future,,,,,,,,,fabric-peer,,,,,0,,,,,I suggest to rename core.yaml to peer.yaml for sake of readability and consistency i.e. peer.yaml is aligned with orderer.yaml,,paranjan,sykesm,,,,,,,,,,,,,,,,,FAB-16686,,,,FAB-16686,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010p7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 8:18 PM;paranjan;If agreed, I can provide CR.;;;","24/Sep/19 9:52 PM;sykesm;These will not happen in release-1.x.

The next community call will be used to discuss some configuration updates.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename configtx.yaml to channel.yaml,FAB-16686,42468,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,paranjan,paranjan,24/Sep/19 8:26 PM,24/Sep/19 9:55 PM,28/Oct/23 3:09 AM,,Future,,,,,,,,,,,,,,0,,,,,"Rename configtx.yaml to channel.yaml for sake of readability and consistency i.e. channel.yaml is aligned with orderer.yaml or peer.yaml

Have opened one more issue to rename core.yaml to peer.yaml: https://jira.hyperledger.org/browse/FAB-16685",,paranjan,sykesm,,,,,,,,,,,,,,,,,FAB-16685,,,,FAB-16685,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010pf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),paranjan,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Sep/19 8:27 PM;paranjan;If agreed, I can provide CR.;;;","24/Sep/19 9:54 PM;sykesm;Changes like this will not happen in a release-1.x branch because of their impact.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce mutex contention in current validator,FAB-16687,42469,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,24/Sep/19 8:48 PM,03/Dec/19 1:12 AM,28/Oct/23 3:09 AM,03/Dec/19 1:12 AM,v1.4.3,,,,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,,,,,,,denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|i010pn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Sep/19 8:51 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/33686;;;","30/Sep/19 10:01 PM;denyeart;release-1.4 CR is merged.
[~guoger] Do we expect a CR in master? If not go ahead and close.;;;","07/Oct/19 12:01 AM;guoger;[~denyeart] I think if we are not going to release the validator rework in 2.0, this change should be included in master. [~ales] wdyt?;;;","11/Nov/19 10:57 PM;denyeart;[~guoger] Validation refactor will not make v2.0, so please cherry pick this one to master.;;;","02/Dec/19 6:26 PM;guoger;cherry-picks to master via https://github.com/hyperledger/fabric/pull/341;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove whitelisted environment variables that should be configured,FAB-16688,42471,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,24/Sep/19 10:30 PM,28/Sep/19 9:14 PM,28/Oct/23 3:09 AM,28/Sep/19 9:14 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"GOCACHE, GOPATH, and HOME should be removed from the default variable whitelist.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruicr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Find and scrub references to the json file ledger,FAB-16691,42476,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Works as Expected,,sykesm,sykesm,24/Sep/19 11:54 PM,24/Oct/19 11:49 PM,28/Oct/23 3:09 AM,24/Oct/19 11:49 PM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,help-wanted,ipm,,,"The sample configuration for the orderer still references the json ledger type that has been removed from the tree; there may be other references.

Find and scrub the references.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16887,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rpi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/19 11:49 PM;sykesm;Looks like Jay's changes for the ram ledger have resolved the references to the json ledger as well.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add test coverage for nil action,FAB-16694,42481,41607,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,25/Sep/19 4:52 AM,25/Sep/19 4:52 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"This code

{code:java}
	if txAction == nil {
		return nil, errors.New(""nil action"")
	}
{code}
in parser.go is untested because of the inability to produce a proto message with a repeated field with a nil element,

At this stage it's not clear whether it's a hard impossibility for protobufs in general or there's a way to craft such message manually even though the go marshaler won't produce it. This work tracks the work required to either code that test or remove that check",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010rv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Orderer panics on enabling prometheus and having separate TLS certs for RAFT node  ,FAB-16695,42482,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,rhegde,rhegde,25/Sep/19 5:34 AM,24/Sep/20 9:07 PM,28/Oct/23 3:09 AM,01/Oct/19 4:33 AM,v1.4.3,v2.0.0,,,,v1.4.4,v2.0.0,,,,,,,,0,,,,,"I am getting  orderer panic upon enabling promethus and having different client and  server TLS certificate for RAFT node.

Fabric Release - v1.4.2.

*Orderer log showing panic*
{code:java}
2019-09-23 22:59:43.634 UTC [orderer.common.cluster] loadVerifier -> INFO 00c Loaded verifier for channel public from config block at index 5
2019-09-23 22:59:43.640 UTC [orderer.common.cluster] loadVerifier -> INFO 00d Loaded verifier for channel testchainid from config block at index 7
2019-09-23 22:59:43.640 UTC [orderer.common.server] initializeServerConfig -> INFO 00e Starting orderer with TLS enabled
panic: duplicate metrics collector registration attempted
goroutine 1 [running]:
github.com/hyperledger/fabric/vendor/github.com/prometheus/client_golang/prometheus.(*Registry).MustRegister(0xc0000d5d10, 0xc00097d9b0, 0x1, 0x1)
 /go/src/github.com/hyperledger/fabric/vendor/github.com/prometheus/client_golang/prometheus/registry.go:387 +0xad
github.com/hyperledger/fabric/vendor/github.com/prometheus/client_golang/prometheus.MustRegister(0xc00097d9b0, 0x1, 0x1)
 /go/src/github.com/hyperledger/fabric/vendor/github.com/prometheus/client_golang/prometheus/registry.go:172 +0x53
github.com/hyperledger/fabric/vendor/github.com/go-kit/kit/metrics/prometheus.NewCounterFrom(0x148371a, 0x4, 0x148363a, 0x4, 0x1489869, 0xb, 0x14c6470, 0x4f, 0x0, 0x0, ...)
 /go/src/github.com/hyperledger/fabric/vendor/github.com/go-kit/kit/metrics/prometheus/prometheus.go:24 +0xe3
github.com/hyperledger/fabric/common/metrics/prometheus.(*Provider).NewCounter(0x1de4b18, 0x148371a, 0x4, 0x148363a, 0x4, 0x1489869, 0xb, 0x14c6470, 0x4f, 0x0, ...)
 /go/src/github.com/hyperledger/fabric/common/metrics/prometheus/provider.go:20 +0x138
github.com/hyperledger/fabric/core/comm.NewServerStatsHandler(0x15bde60, 0x1de4b18, 0x2)
 /go/src/github.com/hyperledger/fabric/core/comm/metrics.go:29 +0x74
github.com/hyperledger/fabric/core/comm.NewGRPCServerFromListener(0x15c3820, 0xc0000b4958, 0x12a05f200, 0xc0001ca2d0, 0x1d86bc0, 0xc000521ca0, 0x2, 0x2, 0xc000521cb0, 0x2, ...)
 /go/src/github.com/hyperledger/fabric/core/comm/server.go:152 +0x87e
github.com/hyperledger/fabric/core/comm.NewGRPCServer(0xc0006d1980, 0xc, 0x0, 0xc0001ca2d0, 0x1d86bc0, 0xc000521ca0, 0x2, 0x2, 0xc000521cb0, 0x2, ...)
 /go/src/github.com/hyperledger/fabric/core/comm/server.go:55 +0x14b
github.com/hyperledger/fabric/orderer/common/server.configureClusterListener(0xc000203200, 0x0, 0xc0001ca240, 0x1d86bc0, 0xc000521ca0, 0x2, 0x2, 0xc000521cb0, 0x2, 0x2, ...)
 /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:376 +0x78c
github.com/hyperledger/fabric/orderer/common/server.Start(0x148462a, 0x5, 0xc000203200)
 /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:141 +0xdf9
github.com/hyperledger/fabric/orderer/common/server.Main()
 /go/src/github.com/hyperledger/fabric/orderer/common/server/main.go:91 +0x1ce
main.main()
 /go/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
{code}
 

Relevant orderer configuration indicating prometheus + certificates definitions where orderer process panic.

 
{code:java}
- ORDERER_OPERATIONS_LISTENADDRESS=:36001
 - ORDERER_METRICS_PROVIDER=prometheus
 - ORDERER_OPERATIONS_TLS_ENABLED=false
 - ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE=/var/hyperledger/orderer/tlsclient/ord03.clsorder.cit.clsnet.pem
 - ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY=/var/hyperledger/orderer/tlsclient/ord03.clsorder.cit.clsnet.sk
 - ORDERER_GENERAL_CLUSTER_ROOTCAS=[/var/hyperledger/orderer/tlsintermediatecerts/tls.ca01.cit.clsnet.pem]
 - ORDERER_GENERAL_CLUSTER_SERVERCERTIFICATE=/var/hyperledger/orderer/tlsserver/ord03.clsorder.cit.clsnet.pem
 - ORDERER_GENERAL_CLUSTER_SERVERPRIVATEKEY=/var/hyperledger/orderer/tlsserver/ord03.clsorder.cit.clsnet.sk
 - ORDERER_GENERAL_CLUSTER_LISTENPORT=5555
 - ORDERER_GENERAL_CLUSTER_LISTENADDRESS=0.0.0.0{code}
 

If I disable metrics provider, orderer stands up and passes all our tests.

 
{code:java}
#- ORDERER_OPERATIONS_LISTENADDRESS=:36001
 #- ORDERER_METRICS_PROVIDER=prometheus
 - ORDERER_OPERATIONS_TLS_ENABLED=false
 - ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE=/var/hyperledger/orderer/tlsclient/ord03.clsorder.cit.clsnet.pem
 - ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY=/var/hyperledger/orderer/tlsclient/ord03.clsorder.cit.clsnet.sk
 - ORDERER_GENERAL_CLUSTER_ROOTCAS=[/var/hyperledger/orderer/tlsintermediatecerts/tls.ca01.cit.clsnet.pem]
 - ORDERER_GENERAL_CLUSTER_SERVERCERTIFICATE=/var/hyperledger/orderer/tlsserver/ord03.clsorder.cit.clsnet.pem
 - ORDERER_GENERAL_CLUSTER_SERVERPRIVATEKEY=/var/hyperledger/orderer/tlsserver/ord03.clsorder.cit.clsnet.sk
 - ORDERER_GENERAL_CLUSTER_LISTENPORT=5555
 - ORDERER_GENERAL_CLUSTER_LISTENADDRESS=0.0.0.0{code}",,denyeart,mastersingh24,rhegde,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010s3:",[~jyellick] Could you write a small release note explaining the problem and the fix in a user friendly way. This could be written here or in a release_notes/v1.4.4.txt file.,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,rhegde,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 4:34 AM;denyeart;Merged in release-1.4 and master.
[~jyellick] Please see release note field.;;;","24/Sep/20 9:07 PM;mastersingh24;marking as security issue as submitter has security concerns due to the nature of their business;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename configtxgen for readability,FAB-16698,42486,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,paranjan,paranjan,25/Sep/19 3:56 PM,08/Oct/19 5:26 AM,28/Oct/23 3:09 AM,08/Oct/19 5:26 AM,v1.4.3,,,,,,,,,,,,,,0,refactoring,REFACTORING,,,"Rename configtxgen command to some readable name. eg. ""channel""

 

configtxgen is not readable.",,denyeart,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010sr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,paranjan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 5:26 AM;denyeart;It is expected that channel configuration and the associated tooling will be refactored in a future release. Since this is not actually a bug, I will close for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip membership has conflict between pki-ids at the same address.,FAB-16699,42488,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,yacovm,jooskim1,jooskim1,25/Sep/19 6:30 PM,14/Feb/20 11:33 PM,28/Oct/23 3:09 AM,19/Nov/19 11:43 AM,v1.4.1,v1.4.2,v1.4.3,,,,,,,fabric-gossip,,,,,0,gossip,,,,"I am opening the new issue because the issue I reported previously(https://jira.hyperledger.org/browse/FAB-15557) had wrong description.

 

This is what exactly happening:

 

When the peers are communicating via gossip, it uses pki-ids. If one of the peers re-joins the channel with new certificate(in case of the original certificate was compromised and revoked) at the same peer IP address, it joins with new pki-id.

 

However, the gossip membership still has the old, not expiring pki-id mapped with the peer IP address even though the peer joined with the new pki-id at the same ip address.

 

Because the gossip membership has both the old pki-id and new pki-id at the same ip address, the ip address mapped with the old pki-id is taken offline from the gossip membership.

Meanwhile, the peer with the new pki-id keeps sending requests to join the gossip membership and becomes online on the gossip membership temporarily.

 

These two contradictory offline/online action happens repeatedly until it drains all local ports available on the host machine. When it drains all the local ports, the peer gets isolated.

 

These are the exact steps to reproduce the issue I described above:

 

1. A channel has two orgs. Let's call them ""Org1"" and ""Org2""

2. Org1 has two peers and Org2 has one peer.

3. All peers join the channel (with the anchor peers set)

4. Stop the peer on Org2

5. Re-start the peer with !!NEW CERTIFICATE!!. Must be restarted with the same ip address as before.

6. Re-join the channel. This will make the peer to join with the new pki-id.

7. If you check the logs of peers of Org1, you can see offline/online issue about the Org2 peer.

 

Thus, it should be possible to keep the peer with the new pki-id and same ip address online from the gossip membership, even if the  ip address was already mapped with the old pki-id.",,denyeart,jooskim1,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16651,,FAB-15557,,,FAB-15557,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010t7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jooskim1,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 5:23 AM;denyeart;[~yacovm] Could you provide your thoughts?;;;","08/Oct/19 5:39 AM;yacovm;Gossip was never good at managing endpoints conflicts, however what is un-exepcted (to me) is that he claims that connections are piling up even after the grace period :( 

 

I'll try to reproduce it this week and report back.;;;","08/Oct/19 7:42 AM;yacovm;[~denyeart] I just realized I commented on the wrong JIRA... I meant to comment on FAB-16651 

I was confused because I talked with the guy from FAB-16651 today and he has a similar incident.;;;","09/Oct/19 4:45 AM;yacovm;and I think that the fix to FAB-16651 may fix this too.;;;","10/Oct/19 3:30 PM;yacovm;[~jooskim1] we merged it in v1.4 branch, do you want to check?;;;","11/Oct/19 2:56 PM;jooskim1;[~yacovm]  Thanks for solving the problem. Also sorry about making you confused giving you wrong descriptions at the first time(FAB-15557). When can I get peer images version 1.4.4?;;;","11/Oct/19 5:03 PM;yacovm;No worries!

You can build them yourself by cloning the release-1.4 branch and then running *make docker*, or if you want i can build them for you and upload them to my docker repository.;;;","21/Oct/19 7:23 PM;yacovm;[~jooskim1] any updates?;;;","04/Nov/19 12:32 PM;jooskim1;Hi [~yacovm],
 This issue/bug has made too many opened ports problem on the production environment, and we need to fix the problem as soon as possible.
 I cannot use the master version on the production environment because it is not the official version yet after 1.4.3. When are you planning to release official 1.4.4 version with this issue/bug fix?;;;","04/Nov/19 5:25 PM;yacovm;[~denyeart] , [~mastersingh24] when are we dropping 1.4.4 ? ;;;","05/Nov/19 4:59 AM;denyeart;Trying to merge last fixes this week and then release next week.;;;","05/Nov/19 6:32 AM;denyeart;[~jooskim1] Please confirm FAB-16651  fixed the issue.;;;","16/Nov/19 5:00 AM;yacovm;[~jooskim1] - v1.4.4 is out. You can test it your problem is solved or not.;;;","19/Nov/19 11:19 AM;jooskim1;[~yacovm] 

I've tested v1.4.4 and updated my product environment. 

Thanks for solving this issue.  ;;;",,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-ca-master job: Certificates missing in crl_test.sh for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows,FAB-16701,42498,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,26/Sep/19 3:32 AM,07/Oct/19 10:18 AM,28/Oct/23 3:09 AM,07/Oct/19 10:18 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-ca-master job: Certificates missing in crl_test.sh for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows

While running test:{color:#de350b}ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows {color:#172b4d}FABRIC_CA server failed to initialize and certificates missing in starting openLDAP.{color}{color}

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/ * Starting OpenLDAP slapd
2019-09-25T01:30:04.959901Z mysqld_safe Logging to syslog.
2019-09-25T01:30:04.964831Z mysqld_safe Logging to '/var/log/mysql/error.log'.
2019-09-25T01:30:04.987152Z mysqld_safe Starting mysqld daemon with databases from /var/lib/mysql
   ...done.
Wed Sep 25 01:31:00 UTC 2019
testUser Revoke date ==========> Wed Sep 25 01:32:00 UTC 2019
Wed Sep 25 01:32:00 UTC 2019
testUser2 Revoke date ==========> Looking for certificates ()
Looking for certificates ()
Looking for certificates ()
Looking for certificates ()
Looking for certificates ()
Looking for certificates ()/ code placeholder
{code}
{code:java}
/LOG:  redirecting log output to logging collector process
HINT:  Future log output will appear in directory ""pg_log"".
Connection to 127.0.0.1 5432 port [tcp/*] succeeded!
nc: connect to 127.0.0.1 port 3306 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 3306 (tcp) failed: Connection refused
Connection to 127.0.0.1 3306 port [tcp/*] succeeded!
Connection to 127.0.0.1 389 port [tcp/*] succeeded!
/tmp/test/crl_test.sh: line 14: /tmp/test/fabric-ca/scripts/fvt/fabric-ca_utils: No such file or directory
/tmp/test/crl_test.sh: line 41: /tmp/test/fabric-ca/scripts/fvt/fabric-ca_setup.sh: No such file or directory
/tmp/test/crl_test.sh: line 42: /tmp/test/fabric-ca/scripts/fvt/fabric-ca_setup.sh: No such file or directory
sed: can't read /tmp/gencrl/runFabricCaFvt.yaml: No such file or directory
/tmp/test/crl_test.sh: line 49: /tmp/gencrl/runFabricCaFvt.yaml: No such file or directory
/tmp/test/crl_test.sh: line 58: /tmp/test/fabric-ca/scripts/fvt/fabric-ca_setup.sh: No such file or directory
/tmp/test/crl_test.sh: line 101: enroll: command not found
/tmp/test/crl_test.sh: line 105: enroll: command not found
2019/09/25 01:31:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml
2019/09/25 01:31:00 [ERROR] Enrollment check failed: Idemix enrollment information does not exist
Error: Enrollment information does not exist. Please execute enroll command first. Example: fabric-ca-client enroll -u http://user:userpw@serverAddr:serverPort
Error opening Certificate /tmp/gencrl/testUser/msp/signcerts/cert.pem
140192770070168:error:02001002:system library:fopen:No such file or directory:bss_file.c:398:fopen('/tmp/gencrl/testUser/msp/signcerts/cert.pem','r')
140192770070168:error:20074002:BIO routines:FILE_CTRL:system lib:bss_file.c:400:
unable to load certificate/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/lastUnstableBuild/testReport/ca_tests/FabricCaTests/test_FAB7206_GenCrlWindows/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/354/consoleFull]",,bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,8b593b4d3eaeb23e17dddfe5ecb1f5567bdc3ad6,Unset,No,,,"1|i00uze:rzczqzxz9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 7:11 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33828/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: Failed to install chaincode on testcases FAB7329_4i and FAB7333_4i,FAB-16702,42499,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,26/Sep/19 3:45 AM,08/Oct/19 12:41 AM,28/Oct/23 3:09 AM,08/Oct/19 12:41 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-pte-master job: Failed to install chaincode on testcases FAB7329_4i and FAB7333_4i with wrong file PATH.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/+ set +exo pipefail
2019-09-25T03:16:36.181Z - #x1B[31merror#x1B[39m: [Client.js]: installChaincode error ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node'
#x1B[31merror#x1B[39m: [2019-09-25T03:16:36.181Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (testorgschannel1:PeerOrg1) due to error:  message=ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node', stack=Error: ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node', errno=-2, code=ENOENT, syscall=scandir, path=github.com/hyperledger/fabric-test/chaincodes/samplecc/node
 
/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/357/testReport/systest_pte/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/357/consoleFull]",,bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,FAB-16720,FAB-16641,FAB-16644,,,,,,,,,FAB-16623,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010uz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/19 3:49 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33762/;;;","28/Sep/19 1:26 AM;rameshthoomu;On the latest fabric-test commits, Observed instantiation on samplecc node chaincodes is not working.  Below is the error log.
{code:java}
2019-09-25T18:51:22.101Z - error: [Client.js]: installChaincode error ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node'
error: [2019-09-25T18:51:22.101Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (testorgschannel0:org1) due to error:  message=ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node', stack=Error: ENOENT: no such file or directory, scandir 'github.com/hyperledger/fabric-test/chaincodes/samplecc/node', errno=-2, code=ENOENT, syscall=scandir, path=github.com/hyperledger/fabric-test/chaincodes/samplecc/node
instantiate chaincode on CITest/CIConnProfiles/test-network{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v1.4 chaincode image is not found after upgrading to v2.0,FAB-16703,42500,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wenjian,wenjian,26/Sep/19 4:15 AM,12/Oct/19 4:14 PM,28/Oct/23 3:09 AM,12/Oct/19 4:14 PM,,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"I had a v1.4 network, deployed a chaincode, invoked and queried the chaincode successfully.

Upgraded the v1.4 network to v2.0. However, v2.0 was not able to find the chaincode image built in v1.4 and tried to rebuild. The rebuild failed due to shim package change in 2.0. 
{quote}Error: endorsement failure during query. response: status:500 message:""error in simulation: failed to execute transaction 4e58b95994ea0e2e8ae67fe53ead9d35a87f1893501264ca744c89c33a488d07: could not launch chaincode marblesp:1: error starting container: error building image: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 \""/chaincode/input/src/github.com/hyperledger/fabric-samples/chaincode/marbles02_private/go/marbles_chaincode_private.go:99:2: cannot find package \""github.com/hyperledger/fabric/core/chaincode/shim\"" in any of:\n\t/usr/local/go/src/github.com/hyperledger/fabric/core/chaincode/shim (from $GOROOT)

......
{quote}
 

Jason has helped to debug the problem and he found the following inconsistency. This needs to be fixed so that 2.0 can find the cc image built in 1.4.
 * in v2.0, the hashcode was from {{""<network>\-<peer>\-<chaincode-name>:<chaincode-version>""}}
 * in v1.4.x, the hashcode was from {{""<network>\-<peer>\-<chaincode\-name>\-<chaincode\-version>}""}}

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16721,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6r",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document and/or automate the process for generating the block fixtures used in the orderer tests,FAB-16704,42501,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,26/Sep/19 7:50 AM,12/Nov/19 6:49 AM,28/Oct/23 3:09 AM,12/Nov/19 6:49 AM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,ipm,,,,"orderer/common/server/testdata contains three fixtures:
- genesis.block
- mychannel.block
- system.block

There appear to be no commands or instructions for generating these blocks. The genesis block, in particular, references a channel name that overlaps with a test channel name that is being removed...

Let's document the process for acquiring or building the block fixtures.

/cc [~jyellick]",,jyellick,sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16952,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8ru",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,wlahti,yacovm,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/19 11:27 PM;jyellick;[~yacovm] do you recall how these were generated?;;;","26/Sep/19 11:33 PM;yacovm;I would guess, with e2e_cli :);;;","08/Nov/19 1:00 AM;wlahti;[https://gerrit.hyperledger.org/r/c/fabric/+/34274];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the validate ledger interface on the release-1.4,FAB-16705,42502,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,bjzhang03,bjzhang03,bjzhang03,26/Sep/19 2:47 PM,26/Sep/19 2:54 PM,28/Oct/23 3:09 AM,26/Sep/19 2:54 PM,,,,,,,,,,,,,,,0,,,,,"When I read the resource code, find the validate ledger interface is not used any and have been removed on the branch master.

So I want to remove it, in case of confused other people.",,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010v7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove the validate ledger interface on the release-1.4,FAB-16706,42503,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,26/Sep/19 2:49 PM,27/Sep/19 10:49 AM,28/Oct/23 3:09 AM,27/Sep/19 10:49 AM,v1.4.3,,,,,v1.4.4,,,,,,,,,0,,,,,"When I read the resource code, find the validate ledger interface is not used anywhere and have been removed on the branch master.

So I want to remove it, in case of confused other people.",,bjzhang03,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010vf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,denyeart,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Sep/19 12:34 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33768/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-lte-master job: Fail to copy logs in test results for BenchmarkReadWriteTxs,FAB-16708,42513,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,26/Sep/19 11:55 PM,02/Oct/19 5:03 AM,28/Oct/23 3:09 AM,02/Oct/19 5:03 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-lte-master job: Fail to copy logs in test results for BenchmarkReadWriteTxs

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/00:03:38.664 /w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumWritesPerTx.log
00:03:38.668 cp: cannot stat '/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/LTE/TestResults/experiments/BenchmarkReadWriteTxs/*': No such file or directory
00:03:38.669 Makefile:239: recipe for target 'svt-daily-lte-tests' failed/ code placeholder
{code}
*Build Logs:* 

*[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/356/console]*",,bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqyr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 3:04 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33825/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change logging for connection profile in PTE,FAB-16709,42514,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,27/Sep/19 2:40 AM,01/Oct/19 9:57 PM,28/Oct/23 3:09 AM,01/Oct/19 9:57 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Change logging for connection profile in PTE,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i010xv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/19 5:02 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33798/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove extra ""be"" in Endorsement policy section of the blockchain network page.",FAB-16710,42515,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tlee38,tlee38,tlee38,27/Sep/19 4:25 PM,30/Sep/19 10:00 PM,28/Oct/23 3:09 AM,28/Sep/19 1:38 PM,v1.4.3,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,"In our sample network, transactions can -be- only be accepted onto ledger L1 if R1 or R2 endorse them.

[Paragraph link|[https://hyperledger-fabric.readthedocs.io/en/release-1.4/network/network.html#endorsement-policy]]",,tlee38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16728,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010y3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tlee38,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix npm audit warnings in JavaScript/TypeScript samples,FAB-16713,42518,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,sstone1,sstone1,sstone1,27/Sep/19 6:57 PM,07/Oct/19 5:16 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010yr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use npm ci to install Node.js chaincode dependencies,FAB-16714,42519,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,27/Sep/19 7:11 PM,05/Oct/19 1:18 AM,28/Oct/23 3:09 AM,03/Oct/19 1:27 AM,,,,,,,,,,fabric-peer,,,,,0,,,,,"https://docs.npmjs.com/cli/ci.html

Main benefit:
- It can be significantly faster than a regular npm install by skipping certain user-oriented features.",,baohua,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i010yz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,sstone1,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,purge-pd,main-emeritius,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,correct-nodeenv-version,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 6:07 AM;baohua;Maybe it would be better to allow specifying the build/start command in configuration by users.

Hard-coded is not that flexible.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow statically configured orderer endpoints,FAB-16715,42524,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,mastersingh24,mastersingh24,mastersingh24,27/Sep/19 9:43 PM,25/Jun/20 7:32 PM,28/Oct/23 3:09 AM,05/Nov/19 1:05 AM,,,,,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,ipm,,,,"The peer currently uses the orderer endpoints it obtains from the channel config to communicate with orderers.  If the orderer addresses change, new peers will not be able to join channels as join channel requires the initial configuration block for a channel which will have endpoints which no longer exist.

As a stop gap, we will add an orderer endpoint override section to the peer config.  It will be a map of ""old address""->""new address"".",,ahmedsajid,denyeart,jyellick,mastersingh24,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16544,,FAB-5288,FAB-14420,,FAB-16757,FAB-16544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6ru",,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ahmedsajid,denyeart,jyellick,mastersingh24,ymlbright,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 1:23 AM;denyeart;Merged in release-1.4.

[~mastersingh24], I assume you intend to cherry pick to master...;;;","21/Oct/19 11:06 AM;denyeart;[~mastersingh24] I assume this should be cherry picked to master?;;;","25/Oct/19 7:05 PM;mastersingh24;may not be a cherry-pick per se ... but yes need to add this to 2.0;;;","30/Oct/19 4:25 AM;jyellick;It would be nice to add one more field here, rather than simply:

{code}
from: <address>
to: <address>
{code}

It's probably a good idea to also add:

{code}
caChain: <path-to-pem>
{code}

If we don't also allow association of a particular TLS CA with an orderer endpoint, then we'd have to fall back to sticking the orderer TLS certs into the local MSP.  But, adding another org's TLS CAs into the local MSP implies a bit more trust in the TLS CAs of other organizations than we want to grant.  Another org could for instance intercept and replay requests to a channel they're not authorized to read.

I'm happy to tackle forward porting this feature to v2.0, but wanted to make sure we're settled on a configuration format first.

What do you think [~mastersingh24] ?;;;","25/Jun/20 7:32 PM;denyeart;Note - the overrides were finished in FAB-16544.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update to baseimage 0.4.16,FAB-16716,42526,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,27/Sep/19 9:56 PM,25/Oct/19 2:28 AM,28/Oct/23 3:09 AM,25/Oct/19 2:28 AM,,,,,,v1.4.4,,,,,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0110j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Azure pipeline configuration (fabric-cli),FAB-16717,42528,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,troyronda,troyronda,troyronda,27/Sep/19 10:36 PM,14/Jan/20 12:28 AM,28/Oct/23 3:09 AM,14/Jan/20 12:28 AM,,,,,,,,,,,,,,,0,,,,,,,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0110z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Golang test driver to run interop test automation suite,FAB-16718,42532,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,28/Sep/19 12:14 AM,10/Jun/20 12:32 PM,28/Oct/23 3:09 AM,10/Jun/20 12:32 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Interop test suite will use this, as will the verify job.

[This is ON HOLD until we decide if this is the chosen implementation.]",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15392,,,FAB-16719,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Interop test suite,FAB-16719,42533,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,28/Sep/19 12:20 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Write an interop test suite (using various make targets, depending on which repo the triggering update was merged) in fabric-test/Makefile to execute a group of tests from whatever repositories, which can be used in interop jobs in CI pipeline for fabric project repositories.

To cover node-sdk, inside fabric-test, write golang test driver, using operator and launcher to launch a network with RAFT orderering service with CouchDB.  Then use PTE to interact with node-sdk to perform the following test
 * private data
 * service discovery

To cover java-sdk, execute the e2e Integration test from that repo. The tests will include the following on a network with solo orderering service with levelDB using sample chaincodes in various languages
 * e2e golang chaincode
 * e2e java chaincode
 * e2e node js chaincode
 * idemix

The detail of the tests and their associated network configuration are given in [https://docs.google.com/spreadsheets/d/1MIz_E0iFC3lCJGCmXCmRvSYt5yvMhzhSK6Bop0QJOAY/edit#gid=192492918]",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16718,FAB-16074,,FAB-16022,FAB-15967,FAB-15392,FAB-16775,FAB-16786,FAB-16787,FAB-16788,FAB-16790,FAB-16791,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-15745,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb2zk",,,,No,Unset,Test Cases,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: Large payload (50MB transaction block size) automated test,FAB-16720,42534,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,28/Sep/19 1:20 AM,02/Oct/19 5:36 AM,28/Oct/23 3:09 AM,02/Oct/19 5:06 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"As mentioned in the #FAB-16068 comments by [~scottz], create a new test case and run the same test in kafka based networks with out modifying the existing orderer config parameters.

 

Update: After testing with variety of msg sizes and host containers GB RAM allocations, to automate a standard testcase that does not require too much (expensive) GB RAM in all fabric nodes in our hosts used for k8s cluster systemtests, we decided to send just two TX of size 50MB (using payload ~ 26 MB in the endorsement request), in two of our systemtest networks (kafka/leveldb/notls, and raft/couchdb/mutualtls).",,rameshthoomu,,,,,,,,,,,,,,,,,,FAB-16702,,,,,,,,,,,,,,,FAB-16641,FAB-16524,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i0111v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 5:06 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33796/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure that go chaincode can be used with the release 1.4 ccenv,FAB-16721,42535,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,28/Sep/19 1:37 AM,12/Oct/19 4:14 PM,28/Oct/23 3:09 AM,12/Oct/19 4:14 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"With the removal of the fabric/chaincode/shim and dependencies from the v2 ccenv, chaincode packaged for previous releases can't be built with by a 2.0 peer.

It's inevitable that previously built chaincode docker images will be removed and, when that happens, the previously installed 1.x chaincode will need to be built by a 2.x peer. This will fail for go chaincode when using the 2.x version of ccenv.

To help get out of this mess, we need to verify that the peer can be successfully configured to use the hyperledger/fabric-ccenv-1.4 as the builder image.

/cc [~mastersingh24], [~jyellick]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16703,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6s",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove the ""provisional"" system channel genesis block support from the orderer",FAB-16722,42536,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,28/Sep/19 2:27 AM,09/Nov/19 3:56 AM,28/Oct/23 3:09 AM,09/Nov/19 3:56 AM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,hygiene,ipm,,,"The generation of a system channel genesis block is not a core function of the orderer. Even though it could be somewhat useful in test environments, from a technical perspective, it requires the orderer to include and use the ""sample"" {{configtx.yaml}} in addition to the orderer's own {{orderer.yaml}}.

From a process and deployment perspective, it's better to have the system channel genesis block explicitly created by administrators with real names than to rely on fixtures that were originally intended for test.

For these reasons, we should remove the provisional genesis method from the orderer, it's associated artifacts, and documentation. The removal should be highlighted in release notes.

Acceptance: code supporting ""provisional"" is gone, documentation for the feature is removed, and a release note highlighting the removal is created.",,denyeart,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15337,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqr","""provisional"" genesis method is removed",Yes,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,sykesm,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Oct/19 5:29 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34118;;;","04/Nov/19 1:18 AM;denyeart;[~guoger]

I'd like us to start updating release notes as part of CRs that require release notes. I've re-opened until a release note is complete, and added a subtask to track it.

FYI [~jyellick] and [~sykesm].;;;","04/Nov/19 11:18 AM;guoger;Roger that [~denyeart];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Stale references to fabric/protos need updates to point to the fabric-protos repository,FAB-16723,42537,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,sykesm,sykesm,28/Sep/19 2:30 AM,30/Oct/19 5:30 AM,28/Oct/23 3:09 AM,30/Oct/19 5:30 AM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,ipm,,,,"While looking through the {{configtx}} documentation, I noticed that we have several references to proto definitions within the fabric tree. Each of these references should be evaluated and updated to point to the corresponding file in the fabric-protos repository.

{code}
$ ag -l 'fabric/protos' docs
docs/source/policies.rst
docs/source/chaincode4ade.rst
docs/source/configtx.rst
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rry",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.3,release-2.2,release-2.5,release-2.4,dependabot/go_modules/github.com/golang/protobuf-1.5.3,main,dependabot/go_modules/google.golang.org/grpc-1.54.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Convert fabric-test verify smoke test driver for NL and PTE test from python to go,FAB-16724,42538,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,bharadwajambati1,rameshthoomu,rameshthoomu,28/Sep/19 3:00 AM,04/Dec/19 5:20 AM,28/Oct/23 3:09 AM,04/Dec/19 12:03 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Convert regression/smoke/systest_pte.py to a golang test driver. This uses the NL and PTE.

At same time, we could improve/modify the test, such as converting to use raft instead of kafka. And, ensure the PTE returns a pass/fail response that includes validation as currently done with the assertions in the systest_pte.py python file.

Note: The runSmokeTestSuite.sh already incorporates an end-to-end test using operator/launcher/PTE tools (after FAB-16997 gets merged). We could also run another golang test to execute the existing NL/PTE smoke test.",,bharadwajambati1,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16977,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16160,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzxw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/19 4:33 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34467/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update capabilities in NL with NodeOU's,FAB-16725,42539,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,28/Sep/19 4:54 AM,06/Nov/19 7:19 AM,28/Oct/23 3:09 AM,12/Oct/19 12:21 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Update capabilities in NL with NodeOU's,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16795,FAB-17010,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i0112b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"28/Sep/19 5:01 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33799/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-release-1.4 job: Failed test cases on different features consistently,FAB-16726,42540,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,vijaypunugubati,vijaypunugubati,28/Sep/19 5:13 AM,21/Oct/19 10:58 AM,28/Oct/23 3:09 AM,02/Oct/19 12:20 AM,v1.4.4,,,,,,,,,fabric-quality,,,,,0,ci-failure,quality,,,"*Branch:* release-1.4

*Platform:* x86_64

Strange behavior on the fabric-test-daily-behave-release-1.4 job: Failed test cases FAB-4663 FAB-4664 FAB-4665 in gossip.feature, couldn't able to debug more detail because of test case logs are not available for the above, and did not continue the build to the next feature tests after this failure happened on sep 27, 2019
{code:java}
/    And I wait ""30"" seconds                                                                                                                                                                                   # steps/basic_impl.py:21
    And an admin deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" on the initial leader peer of ""org1"" # steps/endorser_impl.py:93/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/211/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/behave_tests.log]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/211/]

And on the previous day, the same happened to stop running the test on feature tests in build after the error occurred in FAB-3888 chaincode.feature.
{code:java}
/When the initial non-leader peer of ""org1"" is taken down                                                                                                             # steps/basic_impl.py:266
    And a user invokes on the chaincode named ""mycc"" with args [""transferMarble"",""marble111"",""jerry""] on the initial leader peer of ""org1""                               # steps/endorser_impl.py:642
      Assertion Failed: Error: After polling for 15 seconds, no gossip-leader found by looking at the logs, for org1/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/210/artifact/gopath/src/github.com/hyperledger/fabric-test/feature/behave_tests.log]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/210/]

!Screen Shot 2019-09-27 at 4.12.59 PM.png|width=287,height=152!

From the logs of failures, observed common fail in the step {color:#de350b}*initial non-leader peer of ""org1""*{color} in different steps like invoke and deploy.

 ",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Sep/19 5:12 AM;vijaypunugubati;Screen Shot 2019-09-27 at 4.12.59 PM.png;https://jira.hyperledger.org/secure/attachment/17857/Screen+Shot+2019-09-27+at+4.12.59+PM.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0112j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/19 12:20 AM;scottz;The job has executed fully through all the behave tests, for the last two days, so it appears the strange problem has disappeared. And the pass/fail results are consistent for the past two days as well (20 failures out of 136 tests). I would normally recommend opening specific bugs for the remaining specific test failures - however we will be deprecating the behave tests soon anyways and shutting down most of these 1.4 tests due to aging/incompatible tools that have not kept up with fabric changes. For now, we will just monitor for steady results in the behave 1.4 test suite.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove extra ""be"" in Endorsement policy section of the blockchain network page.",FAB-16728,42542,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tlee38,tlee38,tlee38,28/Sep/19 1:43 PM,30/Sep/19 10:00 PM,28/Oct/23 3:09 AM,30/Sep/19 10:00 PM,,,,,,v1.4.4,,,,fabric-docs,,,,,0,,,,,Previously fixed typo in master branch. I want to fix the same typo in release 1.4 docs.,,tlee38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16710,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0112z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tlee38,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove extra ""now"" in Changing policy section of the network.md docs.",FAB-16729,42545,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tlee38,tlee38,tlee38,29/Sep/19 6:31 PM,09/Oct/19 9:34 PM,28/Oct/23 3:09 AM,09/Oct/19 9:34 PM,v1.4.3,,,,,,,,,fabric-docs,,,,,0,,,,,"This second power is much more powerful than the first, because -now- R1 now has *full control*over the network configuration NC4!",,tlee38,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0113n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tlee38,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in integration/lifecycle,FAB-16731,42552,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,30/Sep/19 11:03 PM,13/Dec/19 11:21 PM,28/Oct/23 3:09 AM,13/Dec/19 11:21 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ci-flake,ipm,,,"{code:java}
03:36:24 [1mSTEP[0m: setting a bad package ID to temporarily disable endorsements on org1
03:36:24 [91m[e][37m[org1.peer2][0m [34m2019-09-30 07:36:23.156 UTC [endorser] callChaincode -> INFO 31e[0m [testchannel][1634f222] Entry chaincode: _lifecycle
03:36:24 [91m[e][37m[org1.peer2][0m [31m2019-09-30 07:36:23.157 UTC [chaincode] HandleTransaction -> ERRO 31f[0m [1634f222] Failed to handle GET_STATE. error: private data matching public hash version is not available. Public hash version = {BlockNum: 4, TxNum: 0}, Private data version = <nil>
03:36:24 [91m[e][37m[org1.peer2][0m github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetState
03:36:24 [91m[e][37m[org1.peer2][0m 	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:604
03:36:24 [91m[e][37m[org1.peer2][0m github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
03:36:24 [91m[e][37m[org1.peer2][0m 	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:241
03:36:24 [91m[e][37m[org1.peer2][0m runtime.goexit
03:36:24 [91m[e][37m[org1.peer2][0m 	/opt/go/go1.12.5.linux.amd64/src/runtime/asm_amd64.s:1337
03:36:24 [91m[e][37m[org1.peer2][0m GET_STATE failed: transaction ID: 1634f222be0650d0d8bbd62b3f065b9e362f508aabb029f3f913add789e98c5b
03:36:24 [91m[e][37m[org1.peer2][0m github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction
03:36:24 [91m[e][37m[org1.peer2][0m 	/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:245
03:36:24 [91m[e][37m[org1.peer2][0m runtime.goexit
03:36:24 [91m[e][37m[org1.peer2][0m 	/opt/go/go1.12.5.linux.amd64/src/runtime/asm_amd64.s:1337 {code}",,sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/19 5:49 AM;wlahti;private-data-flake-log1.txt;https://jira.hyperledger.org/secure/attachment/17907/private-data-flake-log1.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rr",,,,Unset,Unset,,"Can be reproduced locally by focusing the test in lifecycle_test.go and using ""ginkgo -untilItFails"" (usually occurs after four or five times for me)",,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,yacovm,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/19 1:09 AM;wlahti;Hit again today: [https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/12339/console];;;","29/Oct/19 5:20 AM;sykesm;Again: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/12394/console;;;","29/Oct/19 5:21 AM;sykesm;[~yacovm] it looks like this is related to gossip. Any chance you can take a peek?;;;","29/Oct/19 5:26 AM;yacovm;yeah i noticed them appearing.  This is private data related and you guys have been messing with it lately ;) 
basically "" error: private data matching public hash version is not available."" means that the peer hasn't received the private data.

If you can tell me the sub-test to focus on (ginkgo --focus) I can try and have a look... ;;;","29/Oct/19 5:33 AM;wlahti;Re-running locally with some of the gossip loggers set to debug. Once I hit the flake again, I'll share those.

When the flake occurs, the two peers in Org1 are no longer connected via gossip (i.e. they have both called ""expireDeadMembers"" for the other peer in the org). This causes the peer that wasn't involved in the approval step to be unable to retrieve the private data from the other peer in its org. ;;;","29/Oct/19 5:35 AM;sykesm;And again.

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/12395/;;;","29/Oct/19 5:36 AM;wlahti;I'm able to replicate this locally by focusing ""deploys and executes chaincode using _lifecycle and upgrades it"" in  lifecycle_test.go and running ""ginkgo -untilItFails"". It can happen anywhere between 3 and 40+ runs of the test, so I have everything commented out below where the failure occurs (aka starting with ""// By(""setting the correct package ID to restore the chaincode"")"") to save a little time.;;;","29/Oct/19 5:52 AM;wlahti;Added the logs with the following spec: ""gossip.privdata,gossip.comm,gossip.discovery=DEBUG:INFO"".

The error occurs while Org1.peer1 is validating block 4. 
{code:java}
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] listMissingPrivateData -> DEBU 144 Retrieving private write sets for 1 transactions from transient store
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] StoreBlock -> DEBU 145 [testchannel] Could not find all collection private write sets in local peer transient store for block [4].
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] StoreBlock -> DEBU 146 [testchannel] Fetching 1 collection private write sets from remote peers for a maximum duration of 15s
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] func1 -> DEBU 147 Fetching {2587fd87cdfae2ba7068d1f8783a366ee509a1cad9ad27aca8ff4eb549cf2075 0 _lifecycle _implicit_org_Org1MSP 76bb731cba4046413906bdaee4f98f4a210c21a13dedb1207c0158b2f02a281b} from peers
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] fetchPrivateData -> DEBU 148 Total members in channel: [Endpoint: 127.0.0.1:22019, InternalEndpoint: , PKI-ID: 5f4cd15f35c33a735f4c82e00d5d146eec2eba93674ea0ad13cd0079efc928cc, Metadata:  Endpoint: 127.0.0.1:22014, InternalEndpoint: , PKI-ID: b969f93560cc9c72f91ee3b441ea4b2368c4d6a399d4f5c64d2f431589987b95, Metadata: ]
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] fetchPrivateData -> DEBU 149 Total members that fit some digest: []
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] fetchPrivateData -> WARN 14a Do not know any peer in the channel( testchannel ) that matches the policies , aborting
[e][Org1.peer1] 2019-10-28 16:47:23.316 EDT [gossip.privdata] fetchFromPeers -> WARN 14b Failed fetching private data for block 4 from peers: Empty membership {code};;;","29/Oct/19 7:56 AM;yacovm;I think that:
{quote}[e][Org1.peer0] 2019-10-28 16:47:22.587 EDT [gossip.comm] createConnection -> DEBU 1d4 Entering 9.27.111.31:22009 7b3a51ac125fcf06ace7d6af1795e686911fa9fd63c6152d6c7d5c952618b422{quote}

might be the problem... I'll take another glance tomorrow ;;;","30/Oct/19 5:50 AM;wlahti;After looking at entirely too many logs, I noticed that it was taking just over 15 seconds for most of the successful test runs to retrieve the private data from the other peer in the org. Increasing the gossip.pvtData.pullRetryThreshold from 15 to 30 seconds seems to have helped locally so far, so I've pushed a CR to see if the same appears to be true in CI: [https://gerrit.hyperledger.org/r/c/fabric/+/34152].;;;",,,,,,,,,,,,,,,,,,,,,,,,,,
Remove channel from installing chaincode in PTE and test client,FAB-16732,42555,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,01/Oct/19 12:52 AM,15/Oct/19 12:03 AM,28/Oct/23 3:09 AM,15/Oct/19 12:03 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Remove channel from installing chaincode in PTE and test client,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i0114j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"01/Oct/19 12:56 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33818/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cleanup tests and initial implementation in PvtdataProvider,FAB-16733,42556,41308,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,01/Oct/19 1:37 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,09/Oct/19 7:34 AM,,,,,,,,,,,,,,,0,,,,,See comments on [https://gerrit.hyperledger.org/r/c/fabric/+/32892],,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:4",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-release-1.4 job: Failed to instantiate transaction on test FAB-7329-4i,FAB-16734,42557,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,vijaypunugubati,vijaypunugubati,vijaypunugubati,01/Oct/19 2:02 AM,12/Oct/19 12:35 AM,28/Oct/23 3:09 AM,12/Oct/19 12:35 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,ci-flake,quality,,"fabric-test-daily-pte-release-1.4 job: Failed to instantiate transaction on test FAB-7329-4i

*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
/03:15:54.761 [31merror[39m: [PTE 0 main]: [chaincodeInstantiate] Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
03:15:54.761 [31merror[39m: [PTE 0 main]: [chaincodeInstantiate(Nid=0)] Failed to instantiate transaction on testorgschannel1 due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
03:15:54.761     at /w/workspace/fabric-test-daily-pte-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:710:23
03:15:54.761     at <anonymous>
03:15:54.761 ==================== 1 failed, 7 passed in 11530.26 seconds ====================/ code placeholder
{code}
*Build Logs:* 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.4-x86_64/214/PTE_Test_Logs/FAB-7329-4i_0930025545.log.gz]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.4-x86_64/214/consoleFull]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxzi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/19 12:22 AM;scottz;All 8 pte tests passed last night. The test failure identified by this bug failed only yesterday. If similar failure occurs again within next few days, then please reopen with more data, else close this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify legacy path in StoreBlock to use PvtdataProvider,FAB-16735,42558,41306,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,01/Oct/19 2:05 AM,31/Oct/19 5:20 AM,28/Oct/23 3:09 AM,31/Oct/19 5:20 AM,,,,,,,,,,,,,,,0,,,,,We can build the txPvtDataInfo from the block data and use the PvtdataProvider to retrieve private data in the legacy path. This would allow us to completely remove the duplicate code in coordinator.,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01157:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transient store PurgeByTxID should take additional input,FAB-16736,42559,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Low,,,manish-sethi,manish-sethi,01/Oct/19 2:21 AM,26/Apr/20 2:04 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,fabric-peer,,,,0,ipm2,,,,"Transient store PurgeByTxID deletes all the entries in the transient store that are associated with the given TxID. However, in a remote case, there could be more than one transactions with the same TxID and the `PurgeByTxID` may end up deleting the unintended entries in the transient store.

One option is that the transient store returns an identifier with each result and the private data provider passes that back with the purge command so as to make sure that only entries that are deleted are the one that are consumed by the private data provider.

Not purging the unused data has a downside that this requires the transient store to keep the unwanted data for long (till retention period). However, in practice, both the scenario should be a remote possibility and hence perhaps better to prefer the prevention of data loss.

 

[https://gerrit.hyperledger.org/r/#/c/fabric/+/32892/32/gossip/privdata/pvtdataprovider.go@53] for more context",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0115f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want my tests that use DB indexes to use the external binary launcher to reduce the time necessary to test ",FAB-16737,42561,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,sykesm,sykesm,01/Oct/19 4:20 AM,22/Oct/19 2:21 AM,28/Oct/23 3:09 AM,22/Oct/19 2:21 AM,,,,,,v2.0.0,,,,fabric-common,fabric-peer,,,,0,ipm,,,,"Acceptance:

An end-to-end test against a solo network and Golang chaincode can be executed without docker. In particular, the chaincode binary is compiled for the host platform, the peer that is launched points to a custom no-op builder, and the launcher simply executes the chaincode with the correct flags and environment variables.",,MHBauer,sykesm,,,,,,,,,,,,,,,,,FAB-16599,,,,,,,,,FAB-14494,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruick",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a developer of an external launcher, I would like the TLS keys and certificates available as files",FAB-16738,42562,,Story,Backlog,FAB,Fabric,software,denyeart,,,Low,,,sykesm,sykesm,01/Oct/19 4:43 AM,30/Jan/20 12:09 AM,28/Oct/23 3:09 AM,,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"The run contract provides TLS information as part of the `chaincode.json` file.

{code}
// RunConfig is serialized to disk when launching 
type RunConfig struct {                           
    CCID        string `json:""chaincode_id""`      
    PeerAddress string `json:""peer_address""`      
    ClientCert  []byte `json:""client_cert""`       
    ClientKey   []byte `json:""client_key""`        
    RootCert    []byte `json:""root_cert""`         
}                                                 
{code}

Current chaincode implementations rely on this information getting populated into files. If we want to make it easier on implementors, we could populate files with this information and create them prior to running.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8zsr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove automatic environment variable config overrides from configtxgen,FAB-16739,42567,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/Oct/19 12:12 AM,10/Oct/19 4:27 PM,28/Oct/23 3:09 AM,10/Oct/19 4:27 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"In preparation for viper removal, remove ""auto env"" support for configtxgen.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rwi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 12:15 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33772;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update configtest.GetDevConfigDir to panic instead of returning errors,FAB-16740,42568,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/Oct/19 12:16 AM,10/Oct/19 4:27 PM,28/Oct/23 3:09 AM,10/Oct/19 4:27 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0116z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 12:19 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33774
https://gerrit.hyperledger.org/r/c/fabric/+/33777
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove configtxgentest package,FAB-16741,42569,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Oct/19 12:19 AM,10/Oct/19 4:34 PM,28/Oct/23 3:09 AM,10/Oct/19 4:34 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01177:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 12:21 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33775
https://gerrit.hyperledger.org/r/c/fabric/+/33776;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove configtxgen/localconfig.TestChannelID literal,FAB-16742,42570,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Oct/19 12:22 AM,10/Oct/19 11:31 PM,28/Oct/23 3:09 AM,10/Oct/19 11:31 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,There's nothing magical about the literal so remove the shared constant.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0117f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 12:25 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33778
https://gerrit.hyperledger.org/r/c/fabric/+/33782;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename configtxgen/localconfig to genesisconfig,FAB-16743,42571,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Oct/19 12:26 AM,10/Oct/19 11:55 PM,28/Oct/23 3:09 AM,10/Oct/19 11:55 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,Nearly all imports were renaming to genesisconfig so give the people what they want...,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0117n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 12:28 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33821 rename configtxgen/localconfig to genesisconfig ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rename BlockPvtData type,FAB-16746,42574,41306,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,02/Oct/19 12:34 AM,04/Oct/19 5:38 AM,28/Oct/23 3:09 AM,03/Oct/19 5:45 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,We now have a BlockPvtData type used in reconciler and a BlockPvtdata used in PvtdataProvider for returning fetched private data. Let's rename the former to something more descriptive,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0118b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove gomaxprocs configuration from peer,FAB-16747,42579,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Oct/19 4:46 AM,02/Oct/19 11:19 PM,28/Oct/23 3:09 AM,02/Oct/19 11:19 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,,,,,"It's unnecessary; if someone wishes to set it, they can do so by using the environment variable.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0119f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 5:07 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33838;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
master fix -- pvtDataProvider_test,FAB-16748,42580,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,dereckluo,dereckluo,02/Oct/19 5:10 AM,02/Oct/19 7:30 AM,28/Oct/23 3:09 AM,02/Oct/19 7:30 AM,,,,,,,,,,,,,,,0,,,,,fixing pvtDataProvider_test.go in master. ,,dereckluo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruic2",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dereckluo,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 5:12 AM;dereckluo;https://gerrit.hyperledger.org/r/c/fabric/+/33837;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bump the go version in ci.properties to 1.13.1 for release-1.4,FAB-16749,42581,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,darrensessions,darrensessions,darrensessions,02/Oct/19 6:43 AM,05/Nov/19 4:43 AM,28/Oct/23 3:09 AM,05/Nov/19 4:43 AM,v1.4.4,,,,,v1.4.4,,,,,,,,,0,,,,,"Go >= 1.13 adds a wealth of optimizations, speed improvements, and new features including: full mod packaging support, a more uniform set of number literal prefixes, error wrapping, and much much more. 

The Go FabSDK has recently been updated to support Go 1.13. Teams using go for chaincode and the sdk would benefit significantly by having uniform tooling, packaging, and build environments.

Given that the Fabric 1.4 release is an LTS, we were originally hesitant to jump from the current specified go version (1.11) to 1.13, however, we've noticed zero negative impact.",,darrensessions,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0119n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),darrensessions,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Oct/19 7:01 AM;darrensessions;[https://gerrit.hyperledger.org/r/c/fabric/+/33842];;;","05/Nov/19 4:43 AM;denyeart;Bumping fabric to 1.12.12 in v1.4.4 via FAB-16852 , I'll close this as won't do for v1.4.4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide a subset of java/node chaincode tests for fabric to run,FAB-16750,42583,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,heatherp,heatherp,02/Oct/19 6:48 PM,27/Nov/19 11:26 PM,28/Oct/23 3:09 AM,27/Nov/19 11:26 PM,,,,,,,,,,,,,,,0,,,,,"We need to agree on a subset of our cucumber tests to give to the fabric base repository, replacing the tests it currently runs.

Need to liaise with the integration refactoring going on in fabric currently too",,heatherp,,,,,,,,,,,,,,,,,,FABCJ-128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-6,,,No,,Unset,No,,,"1|i011a3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/19 1:16 AM;heatherp;This will be revisited when I've heard from the fabric test team on their plans to refactor fabric's integration test suite;;;","27/Nov/19 11:26 PM;heatherp;Based on discussions with the interop team, I don't think this is relevant, so closing. Will revisit if needed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Collection Validation: Error message is wrong,FAB-16752,42586,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,Senthil1,Senthil1,02/Oct/19 9:01 PM,03/Oct/19 12:09 AM,28/Oct/23 3:09 AM,03/Oct/19 12:09 AM,,,,,,v1.4.4,v2.0.0,,,fabric-peer,,,,,0,,,,,"{{maximum peer count (0) cannot be *greater* than the required peer count (2)}} should be 
{{maximum peer count (0) cannot be *lesser* than the required peer count (2)}} 

Thanks to Matthew B. White for reporting the same.",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011ar:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Oct/19 11:56 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33846/ merged to master.
[~Senthil1] Please prepare a release-1.4 CR as well. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve configuration consistency across fabric components and enable generation of sample config documents,FAB-16753,42595,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,02/Oct/19 11:30 PM,26/Oct/19 1:48 AM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,config,,,,"The following is a point in time copy of https://gist.github.com/sykesm/3a841471ab24ff711540dd78af2bf01d and may be out of date.

------

h1. Fabric Configuration

Fabric configuration is currently implemented around a configuration library
called [viper][viper]. Viper reads configuration from files, environment
variables, and flags, and exposes an API that uses dot qualified keys to
reference the configuration values (think System Properties on steroids).

When configuration is read from files, the segments of the configuration key
are used to walk config file stanzas to the data. Values read from the
configuration file can be overridden by setting an environment variable that
maps to the configuration key. Config values can also be sourced from flags.
Flags take precedence over environment variables and values source from files.

h2. General Issues with Fabric Configuration

Most of the issues we have with our configuration aren't problems with viper
as much as how we use it.

h3. Viper Everywhere

Viper provides a function based API that makes it easy for Fabric components
to retrieve configuration values. Unfortunately, the API is so easy to use
that it has proliferated throughout the code base like a virus. What was
initially a light touch, easy to use pattern has become a core component with
several issues:
- Config is a global singleton that impacts concurrent testing of
  multiple config values
- Easy access to global configuration resulted in code that could not be
  explicitly configured without using the viper API
- Creation of ""utility"" layers on top of viper resulted in multiple entry
  points to the configuration data
- Config information is spread throughout the system without good
  documentation or a single source for the config schema

h3. Default Configuration

While viper enables programs to set default configuration values by calling
{{SetDefault}}, Fabric has chosen to use ""sample configuration"" documents as
configuration defaults. This results in poor configuration defaults and less
than ideal sample config documents.

In many cases, default values were chosen based on assumptions in test cases
rather than utility in production scenarios.

h3. Inconsistencies

Even though the orderer and the peer use viper for configuration, are
documented together, and live in the same source tree, they use similar, but
different patterns to obtain configuration information.

For example, [{{core.yaml}}][core.yaml] uses _camelCase_ for configuration keys
while the orderer's [{{orderer.yaml}}][orderer.yaml] uses _PascalCase_.
While the difference isn't particularly significant[^1], the arbitrary case
difference makes it harder to template shared configuration values between
the two.

In TLS configuration, the orderer allows users to specify a PEM encoded
certificate block or a path to a file. While this is very flexible, using
""magic"" instead of separate keys requires non-standard config processing and
error handling.

Fabric-CA also uses viper but, instead of using _camelCase_ or
_UpperCamelCase_, it uses _lowercase_ for configuration keys. It's default
configuration is also handled differently. If a config file does not exist, it
will write one to the working directory for future customization.

There are also places where the names of required configuration values are
different for no really good reason. An example of this is the MSP
configuration path. In the peer it's called {{mspConfigPath}} while in the
orderer it's called {{LocalMSPDir}}.

h3. Reflect Based Extensions

The orderer configuration attempted to avoid some of the viper proliferation
problems that the peer suffers from. As part of that, a new {{viperutil}}
package with an [{{EnhancedExactUnmarshal}}][enhanced-unmarshal] function
was created. This package uses a combination of reflection, {{viper}}, _and_
{{mapstructure}} to discover viper configuration keys.

Unfortunately, the road to hell is paved with good intentions. In addition to
violating the ""[clear is better than clever][clear-proverb]"" proverb, the
config parsing implementation of the orderer ended up relying on
case-preserving behavior in viper that was deemed to be a bug.  This
bug-as-feature behavior pinned us to an ancient version of viper.

h3. Environment Variable Overrides

Historically, fabric has primarily been distributed as docker images. Since
these images only contain the sample, default configuration values,
environment variables were used to override the defaults. This is a perfectly
reasonable mechanism, however, these overrides quickly got out of hand. Take,
for example, a command we document in our ""bring your first network"" sample:

{code}
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
CORE_PEER_ADDRESS=peer0.org1.example.com:7051
CORE_PEER_LOCALMSPID=""Org1MSP""
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
{code}

In addition to the odd gopath references, the reliance on explicit, repeated,
configuration with differing values while working across peers is error prone
and confusing - especially when using command line tools.

Our configuration model and viper further complicate things when mapping
configuration values to environment variables. For example, the list of client
root CA certificates for the operations service looks like this in config
documents:

{code}
operations:
  tls:
    # paths to PEM encoded ca certificates to trust for client authentication
    clientRootCAs:
      files: []
{code}

The variable associated with this config is
{{prefix_OPERATIONS_TLS_CLIENTROOTCAS_FILES}}. Since the key is associated with a list,
how should the list be encoded? Well, in the peer, it looks like this:

{code}
CORE_OPERATIONS_TLS_CLIENTROOTCAS_FILES: '/certs/tls/cacerts/cacert.pem /certs/msp/operationscerts/operationscert-1.pem'
{code}

and in the orderer it looks like this:

{code}
ORDERER_OPERATIONS_TLS_CLIENTROOTCAS: '[/certs/tls/cacerts/cacert.pem,/certs/msp/operationscerts/operationscert-1.pem]'
{code}

Ignoring the slight variation in environment key name, the encoding of the
values are quite different. The peer requires a space separated list of files
while the orderer requires a comma separated list of values enclosed in square
brackets.

Another problem area is where we use variable values as keys in a map. The
peer system chaincode element is a good example:

{code:yaml}
    # system chaincodes whitelist. To add system chaincode ""myscc"" to the
    # whitelist, add ""myscc: enable"" to the list below, and register in
    # chaincode/importsysccs.go
    system:
        _lifecycle: enable
        cscc: enable
        lscc: enable
        escc: enable
        vscc: enable
        qscc: enable
{code}

When the keys are variable, it may not be possible to map it to a valid
environment variable. This was highlighted when we called the new lifecycle
chaincode {{+lifecycle}} because {{+}} is not part of the POSIX portable character
set definition for environment variables.

h2. Goals

These are the goals of the configuration work:
- Provide a consistent, YAML serialization of configuration for the peer,
  orderer, and CA.
- Consistent use of {{camelCase}} (or {{snake_case1}}) for configuration keys.
- Identical configuration schema for TLS and MSP for all Fabric programs.
- Remove automatic mapping of environment variable overrides for config
  elements and move to explicitly named overrides where appropriate.
- Provide a simple mechanism to reference environment variables as values in
  the configuration files.
- Enable a portable configuration and runtime tree
- Use the current working directory as the default configuration directory.
- Ensure all file references within configuration are relative to the
    configuration document.
- Enable automated generation of documentation and default configuration
  documents directly from code.
- Rename core.yaml to peer.yaml

h3. Stretch Goals
- Extract {{peer}} subcommands to a new CLI (called {{fabric}} or {{fabcli}}) and
  associated with a correspondingly named file for configuration. Config and
  data for this tool should be sourced from [XDG][XDG] compliant locations by
  default. (e.g. {{$HOME/.config/fabcli.yaml}})
- Implement an alternative local MSP that is sourced from a single YAML
  document instead of a configuration tree.
- Stop using [{{mapstructure}}][mapstructure] when decoding config
- Remove viper from Fabric

h3. Out of Scope

These are explicitly out of scope:
- Dynamic reloading of configuration
- Updates to the channel config transaction tooling
- General UX improvements to the command line

h2. Rules of the Road

h3. YAML Configuration Documents

We continue to use YAML for our configuration documents. In addition to
allowing JSON elements, it supports comments and multi-line block values.

h3. Default Config Location

Long running processes will no longer use {{/etc/hyperledger/fabric}} as the
default config location; instead, the current working directory will be used.
An explicit configuration _directory_ can still be specified by setting
{{FABRIC_CFG_PATH}} in the environment.

Command line flags should be provided to specify a specific configuration
file. The flag will override any default location or environment variable
value.

h3. Relative Paths are Context Sensitive

When relative paths are used in a configuration file, the paths are to be
interpreted relative to the directory containing the configuration file.

When relative paths are used on command line flags, the paths are to be
interpreted relative to the working directory.

h3. Consistent Naming Convention

Configuration keys and command line flags will use a consistent naming
convention. The choice of convention matters much less than ensuring it's used
consistently.

The leading candidates for config file keys are {{camelCase}}, {{snake_case}}, and
{{PascalCase}}.

The leading candidates for long command line flags are {{nodelimeter}},
{{hyphen-delimited}}, and {{camelCase}}.

h3. Config Keys are Constants

When mapping a set of configuraiton values to some entity, avoid patterns
where an input value is treated as a key:

{code:yaml}
  mapping:
    1.2.3.4: 5.6.7.8
    9.8.7.6: 4.3.2.1
{code}

Instead, use lists of objects with explicit field names:

{code:yaml}
  mappings:
  - from: 1.2.3.4
    to: 5.6.7.8
  - from 9.8.7.6
    to: 4.3.2.1
{code}

The latter form promotes type safety and extensibility.

The major exception to this rule is when the config model is carrying generic
or opaque configuration elements. In these cases, an opaque
{{map[string]interface{}}} is appropriate.

h3. Certificates and Keys

Certificate and key values in configuration will be PEM encoded blocks. If
certificate chains are used, a multi-block value should be used. The blocks
must be concatenated such that each certificate certifies the preceding it;
the root CA shall be the last certificate in the list.

Separate keys must be used for certificates and key values and for files that
contain certificate and  key values. For example:

{code:yaml}
  tls:
    cert: |
      -----BEGIN CERTIFICATE-----
      Base64–encoded certificate
      -----END CERTIFICATE-----
    certfile: ~
    key: ~
    keyfile: tls/private.key
{code}

Notice {{cert}} and {{certfile}}  are elements of the {{tls}} configuration. When an
inline certificate is used, it should be the value associated with {{cert}};
when a file reference is used, the path should be associated with {{certfile}}.

It is an error to provide values for inline and file references for the same
configuration element. In the example above, {{certfile}} is explicitly nil.

Certificate pools should always support multiple PEM encoded blocks.

h3. Referencing Environment Variables

Instead of exposing all configuration as environment variables, we will allow
configuration values to be sourced from environment variables by using a value
of {{${env.ENVIRONMENT_NAME}}} as a value in the configuration file.

{code:yaml}
  id: ${env.MY_ENV_VAR}
{code}

The {{${env.NAME}}} format is will not interpreted if used within a value. For
example, whem MESSAGE_ENV_VAR is set to ""msg"":

{code:yaml}
  msg: ${env.MESSAGE_ENV_VAR}
  message: my message is ${env.MESSAGE_ENV_VAR}.
{code}

will result in {{message=""my message is ${env.MESSAGE_ENV_VAR}""}} and
{{msg=""msg""}}.

Referencing environment variables is only supported for the basic types used
in leaf nodes of the configuration.

h3. Durations

Durations must always include units compatible with {{go}}'s
[time.ParseDuration][parse-duration] function. A value without a suffix is
expressed in nanoseconds and is rarely appropriate.

This means, by extension, that configuration keys should not contain units for
the duration. (e.g. {{timeoutInSeconds}} should not be used)

h3. Structure Defines Schema

To support automatic generation of documentation, configuration will be
expressed as a set of structures in code.

A {{config}} package will be provided decode configuration documents. The
package will expose types and functions to resolve relative paths and apply
configuration defaults to values omitted from the config.

The {{config}} package will also expose functions to write example configuration
documents with comments. Field level godoc will be used to document the config
keys and tags will be used to provide the default value and, when required,
the name of the environment variable that can be used to override what is read
from configuration.

{code:go}
// MyConfig is my configuration.
type MyConfig struct {
    // ID provides a unique identifier.
    ID string `yaml:""id"" example:""example-id"" env:""MY_CONFIG_ID""`

    // Timeout is the maximum time the service will wait for a response.
    Timeout time.Duration `yaml:""timeout"" default:""30s""`

    // Subsystem configures the subsystem.
    Subsystem *SubsystemConfig `yaml:""subsystem""`
}

// SubystemConfig is the configuration structure for subsystem.
type SubsystemConfig struct {
    // Timeout is the maximum amount of time the subysstem will wait for a
    // response.
    Timeout time.Duration `yaml:""timeout"" default:""10s""`

    // WorkingStoragePath points to the directory to store temporary data.
    WorkingStoragePath config.Path `yaml:""workingStoragePath"" default:""subsys""`
}
{code}

The generated documentation  will replace occurrences of the struct field name
with the appropriate YAML config element name.

The default configuration for {{MyConfig}} would look like this:

{code:yaml}
---
# id provides a unique identifier
id: example-id

# timeout is the maximum time the service will wait for a response.
timeout: 30s

# subsystem configures the subsystem
subsystem:
  # timeout is the maximum amount of time the subsystem will wait for a
  # response.
  timeout: 10s

  # workingStoragePath points the directory to store temporary data.
  workingStoragePath: subsys
{code}


[clear-proverb]: https://www.youtube.com/watch?v=PAAkCSZUG1c&t=14m35s
[core.yaml]: https://raw.githubusercontent.com/hyperledger/fabric/release-1.4/sampleconfig/core.yaml
[enhanced-unmarshal]: https://github.com/hyperledger/fabric/blob/0b3146451b92658a6caf45b104d20dc89b46c33f/common/viperutil/config_util.go#L311-L346
[mapstructure]: https://github.com/mitchellh/mapstructure
[orderer.yaml]: https://raw.githubusercontent.com/hyperledger/fabric/release-1.4/sampleconfig/orderer.yaml
[parse-duration]: https://golang.org/pkg/time/#ParseDuration
[viper]: https://github.com/spf13/viper
[XDG]: https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html

[^1]: In the case of the orderer, yaml tags were not specified so the case
      doesn't matter when decoding but does matter when using the viper API.

",,baohua,davidkhala,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Proposed,https://gist.github.com/sykesm/3a841471ab24ff711540dd78af2bf01d,Available,Unset,Required,ghx-label-12,,Configuration Consistency,To Do,No,,Unset,No,,,"1|i011cr:",,,,No,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,davidkhala,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Oct/19 3:45 AM;sykesm;At a high level, this will be done in a few phases:

1. Create structures that hold the configuration data that are tagged with default values and yaml names.
2. Create a package that populates the configuration data using default values tagged on the structure.
3. Transition the source of truth from viper to the new configuration package.
4. Create tool that generates example yaml documents and reference documentation from a top level structure.
5. Incrementally normalize the configuration structure to use consistent keys and stanzas.
6. Remove legacy references to viper.;;;","26/Oct/19 1:48 AM;baohua;Good suggestions, and besides the yaml config file, we still need the environment variable way, which is nice to support cloud-native deployment.

In terms of the configurations inside the code, I think we should expose all of them with the default value to the users, instead of hiding some by design.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
v2.0 upgrade documentation,FAB-16754,42598,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,denyeart,denyeart,03/Oct/19 2:54 AM,13/Dec/19 5:05 AM,28/Oct/23 3:09 AM,13/Dec/19 5:05 AM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,,,,,0,Documentation,,,,"+*Capabilities*+

Similar to past upgrades, there are new capabilities to enable.

*Application* V2_0 capability controls new lifecycle.

*Channel* V2_0 capability is defined but doesn't appear to do anything new in v2.0 yet. Will likely be used to require that orderer endpoints are configured at the org level - see below item *Define Orderer endpoint per org.*

*Orderer* V2_0 capability controls UseChannelCreationPolicyAsAdmins
 // UseChannelCreationPolicyAsAdmins determines whether the orderer should use the name
 // ""Admins"" instead of ""ChannelCreationPolicy"" in the new channel config template.

 

+*Peer databases upgrade*+
 Peer databases need to be upgraded before peer v2.0 becomes operational. Initial start of peer v2.0 will rebuild the databases.
 However, to trigger the rebuild upon peer start, the databases need to be dropped before peer start using local command *peer node upgrade-dbs*.
 If the databases are not dropped, the peer start will return an error message stating that databases are in the old format and must be dropped.

Note that the database rebuild may take a long time for long chains.

 

+*Capability update and new lifecycle*+
 When all peers in a channel have moved to v2.0 (or at least a sufficient number of them), then update channel's application capability to V2_0.
 After application capability update, you must use v2.0 lifecycle procedures to package, install, approve, and commit new chaincode on the channel. Therefore, ensure you are prepared for new lifecycle before updating the channel capability.

The new lifecycle defaults to using the endorsement policy configured in the channel config (e.g. majority of orgs), therefore it should be added when enabling capabilities. Also add endorsement policy for each org.

Below are the instructions to add the endorsement policy. 

*1.* +Add endorsement policies to each org in the channel+

An endorsement policy must be added to every org under the system channel and application channels that have been upgraded to V2_0 capabilities. Refer to a sample endorsement policy `org1Policies` in attached policies.json.
 - For the system channel, add it under `channel_group/groups/Consortiums/groups/<consortium>/groups/<org>/policies`
 - For an application channel, add it under *`*channel_group/groups/Application/""groups/<org>/policies`.

*2.* +Add application endorsement policies to the channel+

Endorsement policies must be added to each application channel that has been upgraded to V2_0 capabilities, under *`*channel_group/groups/Application/policies*`*. Refer to `appPolicies` in attached policies.json.

*3.* +Enable new lifecycle in core.yaml+
Under chaincode/system, add *`*_lifecycle: enable*`* to the system chaincodes whitelist.



+*Chaincode shim changes in v2.0 (Go chaincode only)*+
 If you vendor the shim in v1.4 chaincode before the peer/channel upgrades, no action is needed for the chaincode, this is the recommended approach.
 If you did not vendor the shim (fabric/core/chaincode/shim) in the v1.4 chaincode, the old v1.4 chaincode images will still work after upgrade, but you are in a risky state. If the chaincode image gets deleted from your environment for whatever reason, the next invoke on v2.0 peer will try to rebuild the chaincode image and you'll get cannot find fabric/core/chaincode/shim error. You have two options at this point:

1) Fix Option (if the entire channel is ready to upgrade chaincode) - Upgrade the chaincode on all peers and on the channel (using either old lifecycle or new lifecycle depending on capability). Note that you should vendor the new shim fabric-chaincode-go/shim , and it's recommended to use modules when vendoring the shim.

2) Workaround Option (in case the channel cannot yet upgrade the chaincode) - Peer environment variable can indicate that v1.4 ccenv be used for building old chaincode images. The old v1.4 ccenv should still work with peer v2.0.

 

+*Chaincode logger (Go chaincode only...maybe for Node going forward)*+
 If chaincodes used the logger from the shim, the chaincode must shift to use their own logger before being upgraded to use the new shim.

 

+*Define Orderer endpoint per org*+
 Orderer endpoint in channel config has moved from global to org scoped - see release notes [https://github.com/hyperledger/fabric/releases/tag/v1.4.2] , we'll want similar text in the upgrade doc.

 ",,denyeart,joe-alewine,jyellick,negupta,pandrejko,wenjian,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14387,,FAB-15499,FAB-15337,,,,,,,,,,,,,,,"24/Nov/19 2:47 PM;wenjian;orglevelEndpoints.json;https://jira.hyperledger.org/secure/attachment/17970/orglevelEndpoints.json","20/Nov/19 5:10 AM;wenjian;policies.json;https://jira.hyperledger.org/secure/attachment/17951/policies.json","20/Nov/19 5:17 AM;wenjian;upgrade20.tar;https://jira.hyperledger.org/secure/attachment/17954/upgrade20.tar","20/Nov/19 5:11 AM;wenjian;upgradePolicies.md;https://jira.hyperledger.org/secure/attachment/17953/upgradePolicies.md","24/Nov/19 2:57 PM;wenjian;upgrade_endpoints.sh;https://jira.hyperledger.org/secure/attachment/17971/upgrade_endpoints.sh","20/Nov/19 5:10 AM;wenjian;upgrade_to_20policies.sh;https://jira.hyperledger.org/secure/attachment/17952/upgrade_to_20policies.sh",,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i008rj:iwzi",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,jyellick,negupta,pandrejko,wenjian,ymlbright,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/19 4:01 AM;joe-alewine;[~pandrejko] [~sykesm] [~jyellick] [~denyeart] [~wenjian] [~negupta]

So my proposal for how to doc this:
 # Establish two ""standard"" docs. The first talks about how to upgrade the version of a node. The second talks about how to upgrade capabilities. These docs would have commands and scripts (leveraging BYFN) for people who want sample code and commands. We could use the current commands for how to upgrade to v1.4.x as the ""example"" in this case (having examples of how to upgrade all of the config groups would be particularly valuable). While these docs would serve as *examples* of how to upgrade, they wouldn't be the ""upgrade"" doc, per se, required for each release, as they would be largely release agnostic. After 1.x goes away, we could update these to a 2.0 context (leveraging what should be by then an update BYFN) and then only change these docs when we absolutely have to.
 # The new release-specific ""upgrade"" doc then, would be an entirely separate doc or docs that refer to the specific context and considerations that exist for *a particular release*. This is where, as Matt pointed out, we could talk about chaincode/application considerations, special processes specific to a particular release (state database cleanup requiring a 12 hour rebuild, potentially), the extra endorsement policy, etc. And then refer to the existing upgrade/update docs for guidance on how upgrades/updates work in a general way.;;;","03/Oct/19 4:34 AM;denyeart;[~joe-alewine] I like the proposal in general, but how to handle that each release has different capabilities at different levels that need to be upgraded each release? Unfortunately its the capability updates that require the most text changes each release.;;;","03/Oct/19 5:02 AM;joe-alewine;[~denyeart] So what I'm proposing is that if, say, the channel and application capabilities need to be updated to some level for a particular release that we point to the doc with the commands (that show how a channel update of capabilities is structured) and say that instead of the capability levels you see there, update these (ie, the channel and application capabilities) during your update for this release.

The doc with the commands becomes an example, not a tutorial that shows the commands for this particular update cycle. Of course, the processes and example commands would still have to be up to date with our current processes, but our sense of what ""upgrade"" means is less about running BYFN and arriving at a particular set end state and more about how to think about the impact of new features/capabilities on your existing network or components in terms of upgrading (which by now should be something that users are familiar with as a process).;;;","03/Oct/19 6:50 AM;negupta;Given how the versions are becoming more complicated, with 1.4.x and 2.x being released in tandem, I think this is a good direction to go in. We will need generic instructions on how do you upgrade that can be used from any version to version, or capability to capability, along with specifics on what need to be done between versions. This will become helpful as we begin to have more networks with channels at different capabilities.;;;","08/Oct/19 10:28 PM;joe-alewine;Barring additional comments I'd like to start along the lines I've discussed above, as it represents a refactoring of current documentation rather than the new stuff that we explicitly need to document for this release.;;;","20/Nov/19 5:17 AM;wenjian;I have added detail for how to upgrade endorsement policies to channel config. Also attached the following files:
* upgradePolicies.md: document on how to upgrade channel config 
* policies.json: contains sample endorsement policies
* upgrade_to_20policies.sh: top level script to upgrade system channel and application channel with endorsement policies.
* upgrade20.tar: complete scripts to upgrade capabilities and endorsement policies from V1.4.x to v2.0. 
It is based on a system test network in fabric-test. You will not able to run it unless you have the network.
;;;","21/Nov/19 5:00 AM;joe-alewine;[~denyeart] [~jyellick]

So what should be the message around the Orderer endpoints, if any?;;;","21/Nov/19 5:09 AM;jyellick;Orderer endpoints should be moved from the global section to the org specific section.  It's not strictly required to do the update, we still honor the global ones, but we'd like to deprecate and remove the global ones at some point.;;;","21/Nov/19 11:59 AM;denyeart;[~joe-alewine] We announced the deprecation in the v1.4.3 and v1.4.4 release notes already, and will include in v2.0.0 release notes as well. Would be nice to mention in the v2.0 upgrade doc since config has to be updated regardless... it would behoove people to do it at the same time as v2.0 config upgrade.;;;","21/Nov/19 10:31 PM;joe-alewine;[~denyeart] [~jyellick] [~wenjian] [~suryalnvs]

Sure, I'm happy to add this orderer endpoint stuff. I'd just need the relevant sample JSON file for jq to reference and then the jq command itself.;;;","24/Nov/19 2:40 PM;wenjian;[~joe-alewine] 
I have attached sample update_endpoints.sh and orglevelEndpoints.json to add the org level orderer endpoins.
;;;",,,,,,,,,,,,,,,,,,,,,,,,,
"Doc align with STATE_NORMAL, STATE_MAINTENANCE",FAB-16756,42605,39050,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,davidkhala,davidkhala,davidkhala,03/Oct/19 2:44 PM,20/Oct/19 8:07 PM,28/Oct/23 3:09 AM,20/Oct/19 8:07 PM,v1.4.3,v2.0.0,,,,,,,,fabric-docs,,,,,0,,,,,"in document
`docs/source/kafka_raft_migration.md`
and test source 
`integration/raft/migration_test.go`
STATE_NORMAL and STATE_MAINTENANCE is represented as NORMAL and MAINTENANCE
which will leads to readers confusion when error showing  `NORMAL` is not a valid optional state.
Meanwhile, I found additional configurations are required when restarting orderer as Raft node. We should also highlight them in migration docs

This happens in both master and release-1.4 with different locations.",,davidkhala,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12992,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011ez:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,pandrejko,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Oct/19 2:46 PM;davidkhala;https://gerrit.hyperledger.org/r/c/fabric/+/33956;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: Update orderer endpoints using addressOverrides in peers for delivery clients while traffic is running,FAB-16757,42609,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,03/Oct/19 9:07 PM,30/Oct/19 3:56 AM,28/Oct/23 3:09 AM,30/Oct/19 3:56 AM,v1.4.4,v2.0.0,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"With addressOverrides option in core.yaml, one can override orderer addresses for delivery clients in peers.
 # Start a network with 2 orgs with 2 peers each with 5 raft nodes.
 # Create a channel, join peers to the channel, install and instantiate a chaincode.
 # Start sending the invokes on the channel.
 # While doing so, update orderer addresses from using internal addresses to external addresses.",,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,Manual,,Unset,No,,,"1|i00uze:rzczqzxzr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 3:55 AM;bharadwajambati1;*Test Results:*

*Step 1:*
 #  Launched the network as per the description.
 # Created a channel named testorgschannel1 and joined all the peers
 # Installed and Instantiated samplecc on the peers
 # Started sending the invokes
 # While traffic is running, created a secret using the core.yaml, in which the addressoverride section as added as below (*x.x.x.x is the public IP address of the k8s cluster*)
{code:java}
addressOverrides:
  - from: orderer0-ordererorg1:7050
     to: x.x.x.x:31809
  - from: orderer1-ordererorg1:7050 
     to: x.x.x.x:30228
  - from: orderer2-ordererorg1:7050
     to: x.x.x.x:32547
  - from: orderer3-ordererorg1:7050
     to: x.x.x.x:30254
  - from: orderer4-ordererorg1:7050 
     to: x.x.x.x:32222{code}

 

*Step 2:*
 # Updated the pods YAML file with secret details and restart the peers
 # Exec into one of the peer and installed required tools like net-tools using the command apt-get install net-tools
 # Ran netstat -ntalp and observed that the orderer address have been overridden to x.x.x.x:32547
{code:java}
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:5984            0.0.0.0:*               LISTEN      -
tcp        0      0 0.0.0.0:5986            0.0.0.0:*               LISTEN      -
tcp        0      0 172.30.8.59:53902       x.x.x.x:32547      ESTABLISHED 1/peer{code}

 

*Step 3:*
 # Recreated a secret by reverting the changes in the core.yaml as below
{code:java}
addressOverrides:
  - from: x.x.x.x:31809
    to: orderer0-ordererorg1:7050
  - from: x.x.x.x:30228
    to: orderer1-ordererorg1:7050
  - from: x.x.x.x:32547
    to: orderer2-ordererorg1:7050
  - from: x.x.x.x:30254
    to: orderer3-ordererorg1:7050
  - from: x.x.x.x:32222
    to: orderer4-ordererorg1:7050{code}

 

*Step 4:*
 # Restarted the peers
 # Exec into one of the peer and installed required tools like net-tools using the command apt-get install net-tools
 # Ran netstat -ntalp and observed that the orderer address has been overridden and is listening to 172.21.116.208:7050 which is the initial orderer endpoint.
{code:java}
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:5984            0.0.0.0:*               LISTEN      -
tcp        0      0 0.0.0.0:5986            0.0.0.0:*               LISTEN      -
tcp        0      0 127.0.0.1:5984          127.0.0.1:40794         ESTABLISHED -
tcp        0      0 127.0.0.1:40830         127.0.0.1:5984          ESTABLISHED 1/peer
tcp        0      0 127.0.0.1:40794         127.0.0.1:5984          ESTABLISHED 1/peer
tcp        0      0 127.0.0.1:5984          127.0.0.1:40830         ESTABLISHED -
tcp        0      0 172.30.8.42:40818       172.21.116.208:7050     ESTABLISHED 1/peer{code}

 

 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Change using independent main package for launcher, testclient to use same main package from operation",FAB-16758,42611,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,03/Oct/19 9:10 PM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,28/Oct/19 6:34 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Change using independent main package for launcher, testclient to use same main package from operation",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxz",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/19 5:57 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33996/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DUPLICATE_TXID when sending 98MB payload on samplecc go on kafka - couch -tls network,FAB-16759,42612,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,03/Oct/19 10:35 PM,31/Oct/19 9:17 PM,28/Oct/23 3:09 AM,31/Oct/19 2:42 AM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,,,,,"Observed *DUPLICATE_TXID* in peer logs while executing below test case on fabric 2.0 code base. peer and orderer logs are attached.
{code:java}
Chaincode: samplecc go
No.Of Tx's: 1
No.of peers/orgs: 1/1
Network: Kafka - Couchdb with TLS enabled
Environment: IKS k8s
TX Payload Size: 98MB
Client: PTE
{code}
Error Log:
  
{code:java}
2019-10-03 14:25:49.229 UTC [committer.txvalidator] Validate -> INFO 11a [testorgschannel0] Validated block [4] in 1622ms
2019-10-03 14:25:50.180 UTC [valimpl] preprocessProtoBlock -> WARN 11b Channel [testorgschannel0]: Block [4] Transaction index [0] TxId [ad73a4a490db4219f499c8a09df2ff18d22bd4a8cdc2f0ffb6de2f1b88b41cb1] marked as invalid by committer. Reason code [DUPLICATE_TXID]{code}
I see the same TX ID is placed in 2 blocks

Installed and instantiated performed on samlepcc_go and samplecc_node chaincodes.

Observed total 4 blocks.

0 - genesis

1 & 2 are for samplecc go and node chaincode instantiations

but there are two blocks (3 & 4) created with same tx' id's
{code:java}
jenkins@dongming3:~$ cat 3.json | grep tx_id 
                             ""tx_id"": ""ad73a4a490db4219f499c8a09df2ff18d22bd4a8cdc2f0ffb6de2f1b88b41cb1"", 
 jenkins@dongming3:~$ cat 4.json | grep tx_id 
                             ""tx_id"": ""ad73a4a490db4219f499c8a09df2ff18d22bd4a8cdc2f0ffb6de2f1b88b41cb1"" {code}
 ",,denyeart,jyellick,rameshthoomu,,,,,,,,,,,,,,,,,,,,FAB-16641,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 2:05 AM;rameshthoomu;Orderer0-org1.log;https://jira.hyperledger.org/secure/attachment/17866/Orderer0-org1.log","08/Oct/19 2:05 AM;rameshthoomu;orderer1-org1.log;https://jira.hyperledger.org/secure/attachment/17867/orderer1-org1.log","08/Oct/19 2:05 AM;rameshthoomu;orderer2-org1.log;https://jira.hyperledger.org/secure/attachment/17868/orderer2-org1.log","04/Oct/19 12:47 AM;rameshthoomu;orderer_log.txt;https://jira.hyperledger.org/secure/attachment/17864/orderer_log.txt","04/Oct/19 12:47 AM;rameshthoomu;peer (1).log;https://jira.hyperledger.org/secure/attachment/17865/peer+%281%29.log",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011f7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 4:59 AM;denyeart;[~rameshthoomu] txid is created by submitting client and is based on the nonce. Can you ensure submitting client uses unique nonce for each transaction?;;;","09/Oct/19 12:28 AM;rameshthoomu;[~denyeart] In this scenario, client is sending only one transaction. See the test configuration in the above description.;;;","30/Oct/19 8:28 PM;denyeart;[~rameshthoomu] Can the problem be reproduced every time? Or intermittent? What percentage of time do you see it?

I know [~jyellick] has mentioned an edge case (e.g. exacerbated when transactions are larger than expected) in Kafka where a message will get persisted twice. The duplicate transaction will end up getting invalidated so it is not a data integrity issue, but still annoying. If you can reproduce on demand we could look into ways to further minimize the chance of occurring in Kafka.

If this is the same issue Jason mentioned, then it would not be an issue with Raft orderer, which is the recommendation for all new deployments.;;;","31/Oct/19 1:53 AM;jyellick;There are some Kafka settings we could tweak to potentially reduce the frequency of this problem.  However, since we've only noted this in test environments, and no production users have complained, I'm a little wary to invest development effort, and the associated risk of regression.  My vote would be a ""Won't Fix"", pending any real world reports.  As has been noted, this is an 'annoyance', not an integrity problem, so fixing it proactively does not seem like a requirement.;;;","31/Oct/19 2:41 AM;denyeart;If it is only showing up rarely in edge case system tests, I agree with 'Wont Fix'. I'll mark as such now, we can always re-open if we see real world evidence of this.;;;","31/Oct/19 9:17 PM;rameshthoomu;Yes this is reproducible all the time. I have tested this in raft based networks as well but I am not sure the result of the test. Will execute the same test case and post the results here.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric-test jobs from LFIT to Azure,FAB-16760,42620,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,suryalnvs,scottz,scottz,04/Oct/19 2:09 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Create new fabric-test build jobs in Azure environment, replacing LFIT jenkins jobs.

First step of each task is to identify which of the included tests will be ported as is, or modified, or left behind. i.e. Identify which tests and tools can be dropped (OTE, some of PTE, some with NL?). Others might be moved to other repos (possibly CTE to fabric-ca, LTE to fabric ledger component).

Port jobs in master branch and release-1.4. No older ones.

Also: Identify which tests are duplicates or otherwise no longer needed and thus can be dropped (OTE, some PTE, some with NL?), or moved to other repos (CTE, LTE).

Jobs to do:
 * Start with the verify/merge jobs, without the behave tests. After initial test framework is working, also include FAB-16529, after it is ready.
 * daily jobs
 * new k8s daily job
 * new interop job to be used with new CI pipeline and branching strategy
 * and consider porting a longrun job (under 6 hours, or more?) in k8s cluster
 * Repeat for release-1.4",,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,FAB-16063,,,,,,FAB-16062,,,,,FAB-15587,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-2,,Move fabric-test jobs from LFIT to Azure,To Do,No,,Not Required,No,,,"1|hzx30f:9i",,,,No,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jan/20 6:12 AM;rameshthoomu;Assigning this to Surya.;;;","11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include system test longrun in fabric-test azure pipeline template,FAB-16761,42621,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,04/Oct/19 2:40 AM,10/Jun/20 12:31 PM,28/Oct/23 3:09 AM,10/Jun/20 12:31 PM,,,,,,v1.4.7,v2.0.0,,,fabric-quality,,,,,0,,,,,"Replace the LFIT jenkins jobs with new Azure jobs for the k8s systest longrun jobs (5-12 hrs) in 1.4.5-stable and 2.0. This will have to be done after previous tasks are done (FAB-16672, FAB15587).

Verify/Merge, and PTE+NL Daily, jobs have already been completed.

CA/CTE, LTE, OTE jobs are not needed anymore.",,scottz,,,,,,,,,,,,,,,,,,FAB-16672,FAB-15587,,,,,,,,,,,,,,FAB-17423,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rci",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: Fail to install chaincode on test case FAB-6813-4i,FAB-16762,42622,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,04/Oct/19 3:51 AM,12/Oct/19 12:22 AM,28/Oct/23 3:09 AM,12/Oct/19 12:22 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"Fail to install chaincode on test case FAB-6813-4i, and observed the error on 27 Sep 2019.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/2019-09-27T02:10:49.207Z - #x1B[31merror#x1B[39m: [packager/BasePackager.js]: error while packaging item {""path"":""/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go/META-INF""} :: Error: ENOENT: no such file or directory, lstat '/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go/META-INF'
2019-09-27T02:10:49.207Z - #x1B[31merror#x1B[39m: [Client.js]: installChaincode error ENOENT: no such file or directory, lstat '/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go/META-INF'
#x1B[31merror#x1B[39m: [2019-09-27T02:10:49.208Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (testorgschannel2:PeerOrg1) due to error:  message=ENOENT: no such file or directory, lstat '/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/github.com/hyperledger/fabric-test/fabric-samples/chaincode/marbles02/go/META-INF'/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/359/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/359/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/]",,bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011hf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"04/Oct/19 3:55 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33857/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Investigate Fuzz testing with go-fuzz,FAB-16763,42623,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,yacovm,yacovm,04/Oct/19 4:44 AM,04/Oct/19 11:52 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"We might want to take a look at utilizing [go-fuzz|https://github.com/dvyukov/go-fuzz] to test validation paths, to ensure we don't have any nasty uncaught panics.

 

I guess the real hurdle here is to ensure we have a non instance function that unwraps a transaction from its marshaled protobuf envelope all the way to its application-level representation structs and then throw it to the fuzz test.

 

This can run in CI and be un-noticed until it finds something....

 

thoughts?

 

[~ales]

[~sykesm]

[~jyellick]",,jyellick,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011hn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Oct/19 11:52 PM;jyellick;We did fuzz testing in 0.5/0.6, and it did catch a few things.  Sounds like a good idea generally.  We can export the non-instance function in test only, I don't see that as a barrier.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: Fail to instantiate transaction on test case FAB-6813-4i,FAB-16764,42626,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,04/Oct/19 10:32 PM,08/Oct/19 12:34 AM,28/Oct/23 3:09 AM,08/Oct/19 12:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-pte-master job: Fail to instantiate transaction on test case FAB-6813-4i

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/#x1B[31merror#x1B[39m: [2019-10-04T02:00:41.326Z PTE 0 main]: [chaincodeInstantiate] Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
#x1B[31merror#x1B[39m: [2019-10-04T02:00:41.327Z PTE 0 main]: [chaincodeInstantiate(Nid=1)] Failed to instantiate transaction on testorgschannel2 due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
    at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:847:27
    at <anonymous>/ code placeholder
{code}
*Build Logs:* 

*[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/365/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q/]*",,bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,,,,,,,,FAB-16769,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011ib:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/19 3:34 AM;bharadwajambati1;This will resolve, once [https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33876/] gets merged.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should provide test results in stdout,FAB-16765,42629,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,05/Oct/19 12:47 AM,07/Nov/19 11:45 PM,28/Oct/23 3:09 AM,22/Oct/19 1:28 AM,,,,,,v1.4.4,v2.0.0,,,fabric-quality,,,,,0,,,,,Display the pteReport.txt test results including tps in the stdout (especially desired when executing runPTE.sh),,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16767,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00uze:rzczqzxzw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"17/Oct/19 4:39 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33995/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Combine tests under integration/ledger,FAB-16766,42630,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,05/Oct/19 12:50 AM,01/Nov/19 12:10 AM,28/Oct/23 3:09 AM,31/Oct/19 1:03 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"Combine related tests under integration/ledger to reduce the need of creating a new network and deploying chaincode.
 * combine reset and rollback tests (with pause/resume) into a single ""It""
 * each test in couchdb_indexes_test has its own way to install and instantiate chaincode; therefore, each test will still need to deploy its own chaincode even if they are combined. Given it, these tests will not be combined. ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011ir:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/19 12:10 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33887/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should return test result and counters,FAB-16767,42631,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,05/Oct/19 12:52 AM,04/Dec/19 12:01 AM,28/Oct/23 3:09 AM,04/Dec/19 12:01 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"PTE should return pass/fail test result (exit 1 if fail).

 ",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzui",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/19 6:28 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34440/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should enroll admins with CAs from connprofiles and use for admin actions,FAB-16768,42633,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,05/Oct/19 1:14 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"PTE should create/enroll admins for peer orgs and orderer orgs with CA(s) listed in the connprofile, and use those admins to join peers or submit config updates, etc.

This builds upon but is lower priority than fab-15393 for invokes/queries, since we could continue with current operation for now, and expect customers to have created their network peers, channels, instantiated chaincodes, etc. And this is more complicated because we may want to use separate admins for each org.",,btl5037,scottz,,,,,,,,,,,,,,,,,FAB-15393,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzwqrk:5iwr4yi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/19 5:51 AM;scottz;Let's work on this for 2.0 timeframe. 

PTE currently enrolls admin user and uses it for all config updates - as well as transaction proposals which normally would be done by a client user. Since our automation suites set our own policies, we can get away with continuing to use admin user for everything. But this should be fixed, to use correct type of user. This would allow others to use PTE for testing their own networks and policies.;;;","11/Jan/21 2:09 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add marbles02 chaincode to fabric-test/chaincodes,FAB-16769,42636,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,05/Oct/19 2:50 AM,08/Oct/19 12:34 AM,28/Oct/23 3:09 AM,08/Oct/19 12:34 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,FAB-16764,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i011k3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"05/Oct/19 3:31 AM;bharadwajambati1;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33876/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use cc lifecycle APIs in test tools,FAB-16770,42637,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,05/Oct/19 5:57 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Implement new code in our tools to use the new v2.0 cc lifecycle APIs (package/approve/commit chaincodes).
 * Add PTE functions and Operator functions to use new APIs in node-sdk APIs
 * Add/update functions in NL to use the CLI APIs
 * Add commands to testInput file and add functions in operator
 * Update all tests to use the new methods
 * And of course enable v2_0 application_capabilities in the networkSpec files used for any tests using new cc lifecycle

 

Below are some notes from FAB-16262 ""Use new lifecycle APIs of node-sdk in Operator/PTE tools"" (which was closed as dup).

v2.0.0 will have the old (i.e. install, instantiate) and new (i.e. approve, commit...) APIs. Tools currently use the old APIs, but should be updated to work with the newer flow (and most certainly before 2.1 when the old APIs may be deprecated).

Some of the newer lifecycle items in node-sdk will be delayed, though, and may not be available in v2.0. Discussions about node-sdk support in fabric v2.0 are ongoing; here are some points stated recently:
 * fabric-client (master) supports new fabric v2.0 lifecycle (just a few updates are required based on recent fabric changes).
 * The intent is to publish fabric-client as a v1.5 release in parallel with fabric v2.0 (target end of September).
 * fabric-client will be end-of-lifed at v1.5.x.
 * node.js SDK v2.0 will continue to have fabric-network high level API, but will use a new reworked fabric-base low level API. We'll encourage everybody to use the high level API.
 * node.js SDK v2.0 release will not be ready by end of September, but that's not a problem - it does not need to coincide with fabric v2.0 release, especially since the v1.5 SDK will have support for fabric v2.0 including new lifecycle.
 * node.js SDK v2.0 should eventually have support for fabric v2.0 lifecycle (this will largely be a copy of the fabric-client v1.5 lifecycle code).
 * node.js SDK v2.0 will not have backwards compatibility wrt node.js v1.x SDKs for applications using low level API...we will need to write guidance for users to shift their apps from using low level v1.x node.js SDK to high level v2.x node.js SDK

 

Confer with the node sdk dev team to get details. In 2.0, they will make some major changes, which we need to adapt to:
 * create a fabric-admin for APIs for the new cc lifecycle functions
 * eliminate fabric-client (no longer available, even in 2.0-beta)
 * must use cli commands for create-channel and join-channel functions
 * suggest using fabric-network or fabric-common for other functions",,btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16262,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Not Required,Unset,Not Required,ghx-label-4,,Use cc lifecycle APIs in test tools,To Do,No,,Not Required,No,,,"1|hzx30f:i",,,,No,Not Required,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE should support new cc lifecycle functions,FAB-16771,42638,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,05/Oct/19 6:00 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,," 

v2.0 feature: lifecycle: notes:
 *     node-sdk new lifecycle functions may land late January; check with bret harrison.
 *     create/join will be supported ONLY by peer-CLI commands.
 *     no more fabric-client (avail as unstable in 2.0, but not published)
 *     we should add code to fabric-test/Operator to do the admin functions:  fabric-admin (pkg, commit) and fabric-network and fabric-common
 *     PTE could and should use whatever APIs it needs (some low or some high level APIs of node-sdk); expect to probably use high-level for transactions only",,btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,FAB-16774,,,,,,,,,,,FAB-17430,,,FAB-16772,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16770,,,No,,Unset,No,,,"1|i011kj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,Matrixik,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 11:56 AM;btl5037;This is unlikely to be possible as the NodeSDK has decided it wont publish a Fabric-Admin module. But will keep open pending conversations about receiving an unofficial fabric-admin module.;;;","11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Operator tool in fabric-test should support new cc lifecycle functions,FAB-16772,42639,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,05/Oct/19 6:01 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"We will need to update the testInput file template to support option to specify the new cc lifecycle actions (versus the old way of install/instantiate).

In addition, add Operator functions to handle the requested actions, and pass the actions to PTE when needed.

 

v2.0 feature: lifecycle: notes:
 *     node-sdk new lifecycle functions may land late January; check with bret harrison.
 *     create/join will be supported ONLY by peer-CLI commands.
 *     no more fabric-client (avail as unstable in 2.0, but not published)
 *     we should add code to fabric-test/Operator to do the admin functions:  fabric-admin (pkg, commit) and fabric-network and fabric-common
 *     PTE could and should use whatever APIs it needs (some low or some high level APIs of node-sdk); expect to probably use high-level for transactions only",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,FAB-16774,,,,,,,,,,,FAB-16771,FAB-17430,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16770,,,No,,Unset,No,,,"1|i011kr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 11:56 AM;btl5037;This is unlikely to be possible as the NodeSDK has decided it wont publish a Fabric-Admin module. But will keep open pending conversations about receiving an unofficial fabric-admin module.;;;","11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
NL in fabric-test should support new cc lifecycle functions,FAB-16773,42640,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,05/Oct/19 6:02 AM,22/Jan/20 6:14 AM,28/Oct/23 3:09 AM,22/Jan/20 6:14 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,,,scottz,,,,,,,,,,,,,,,,,,,,,,FAB-16774,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16770,,,No,,Unset,No,,,"1|i011kz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/20 6:14 AM;scottz;NL is being sunset soon, replaced by operator. No more enhancements for NL.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
All tests in fabric-test should use new cc lifecycle functions,FAB-16774,42641,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,05/Oct/19 6:05 AM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Update the test steps in all tests to select the new cc lifecycle actions. In so doing, of course we will need to enable the v2_0 application_capabilities in the networkSpec files used for the tests.",,btl5037,scottz,,,,,,,,,,,,,,,,,FAB-16771,FAB-16772,FAB-16773,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16770,,,No,,Unset,No,,,"1|i011l7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: systest marbles private data,FAB-16775,42642,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,scottz,scottz,05/Oct/19 6:46 AM,05/Oct/19 6:52 AM,28/Oct/23 3:09 AM,05/Oct/19 6:52 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Create a marbles-private testcase, simple and providing good functional coverage; (refer FAB-10135); could use as interop test if desired with FAB-16719. Use as a basis for a test in the k8ssystest suite, using go test driver and operator functions and testInput file. 

Provide a nice description of a min config required including number of peers/orgs that are in or out of the collection; endorsements required, dissemination policy parameter values, etc. 

And with an eye on using with runPTE:  List any prerequisite steps (install, instantiate, etc) required to be done by the tester before test execution (or if they could/should be specified as optional in the testInput file) - to ensure for example that a retest with runPTE won't try to rerun steps such as instantiation and cause a test failure.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16074,,FAB-16719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5iwr4z",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end on master failing due to old capabilities in byfn,FAB-16776,42645,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,07/Oct/19 5:16 AM,08/Oct/19 4:39 AM,28/Oct/23 3:09 AM,07/Oct/19 9:59 PM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"BYFN capabilities are not yet at  V1_4_3 or V2_0 level.

Cryptogen is running with Node OU enabled, which no longer populates admincerts directory.

However the orderer and peers without the latest capabilities enabled will not be identifying admins via Node OUs, they will still be identifying admins via admincerts directory. Without the directory populated, BYFN fails with error: 
{code:java}
12:33:25 [34m2019-10-04 16:33:25.720 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
12:33:25 Error: got unexpected status: BAD_REQUEST -- error validating channel creation transaction for new channel 'mychannel', could not successfully apply update to template configuration: error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied
12:33:25 !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
12:33:25 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
12:33:25 
12:33:25 ERROR !!!! Test failed
{code}",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16779,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011lv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Oct/19 5:16 AM;denyeart;Fix by moving BYFN up to V2_0_0 capabilities.;;;","07/Oct/19 5:24 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric-samples/+/33882/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-samples-verify job failing on master in fabcar test: TypeError: FileSystemWallet is not a constructor,FAB-16777,42646,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,07/Oct/19 10:36 AM,07/Oct/19 10:18 PM,28/Oct/23 3:09 AM,07/Oct/19 10:18 PM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,ci-failure,,,,"fabric-samples-verify job failing on master: TypeError: FileSystemWallet is not a constructor

See failure in:
https://jenkins.hyperledger.org/job/fabric-samples-verify-x86_64/592/consoleFull


{code:java}
16:59:50  Failed to enroll admin user ""admin"": TypeError: FileSystemWallet is not a constructor
16:59:51  [31m fabcar-javascript-enrollAdmin test case is FAILED [0m 
{code}


 ",,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011m3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Oct/19 10:18 PM;sstone1;https://gerrit.hyperledger.org/r/c/fabric-samples/+/33883/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update BASE IMAGE VERSION to 0.4.16,FAB-16778,42647,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,07/Oct/19 10:36 PM,25/Oct/19 2:34 AM,28/Oct/23 3:09 AM,08/Oct/19 9:31 PM,,,,,,v1.4.4,,,,,,,,,0,,,,,Update BASE IMAGE VERSION to 0.4.16,,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011mb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,vijaypunugubati,,,,,,,,,,mergify/bp/release-2.2/pr-4374,dev,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Oct/19 9:43 PM;denyeart;Done in https://gerrit.hyperledger.org/r/#/c/fabric/+/33877/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: channel creation failed in default-channel test in byfn.,FAB-16779,42648,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,vijaypunugubati,vijaypunugubati,07/Oct/19 11:11 PM,08/Oct/19 4:39 AM,28/Oct/23 3:09 AM,08/Oct/19 4:39 AM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,ci-blocker,,,,"channel creation failed in default-channel test in byfn failed with policy evaluation.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
// code placeholde00:14:48.863 Build your first network (BYFN) end-to-end test
00:14:48.864 
00:14:48.865 Channel name : mychannel
00:14:48.867 Creating channel...
00:14:48.868 + peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
00:14:48.981 + res=1
00:14:48.981 + set +x
00:14:48.982 [34m2019-10-04 15:07:41.417 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
00:14:48.982 Error: got unexpected status: BAD_REQUEST -- error validating channel creation transaction for new channel 'mychannel', could not successfully apply update to template configuration: error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied
00:14:48.983 !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
00:14:48.983 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========r
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6505/console]

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6505/]",,angelo.decaro,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16776,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,0301bf4201964b7eaccd2b2859e294d7ae094e2a,Unset,No,,,"1|i011mj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 4:39 AM;denyeart;Fix was merged today in FAB-16776.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Run Daily system test suite in release-1.4 branch,FAB-16780,42653,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,08/Oct/19 4:31 AM,04/Dec/19 4:44 AM,28/Oct/23 3:09 AM,04/Dec/19 4:44 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Run Daily System Test Suite in fabric-test release-1.4 branch same as in master branch. Once the {color:#1d1c1d}FAB-1667{color} is ready, push system test suite to release-1.4 and make it run everyday.",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,FAB-16672,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011nn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/19 4:44 AM;scottz;This has been done already, by other multiple patchsets.

We are running the systest suite on internal jenkins server with k8s cluster in both master and 1.4.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix comments and error message in deliverevents.go,FAB-16781,42657,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,trevormcdonald,wenjian,wenjian,08/Oct/19 11:12 AM,10/Oct/19 11:56 PM,28/Oct/23 3:09 AM,,,,,,,v2.0.0,,,,fabric-peer,,,,,0,,,,,"A couple of wrong comments in deliverevents.go
 # line 79 should not have ""filtered"" for blockResponseSender
 # line 133 should be ""blockAndPrivateDataResponseSender""
 # line 460, add more context to the error message, ""cannot find IdentityDeserializer for channel [%s]"" ",,denyeart,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011oj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Oct/19 11:55 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/33902/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Kafka config params in Raft orderer logs,FAB-16782,42658,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Low,,,nileshdeotale,nileshdeotale,08/Oct/19 11:17 AM,26/Apr/20 2:02 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-orderer,,,,,0,raft,Raft,,,"Noticed that raft OSN node logs have Kafka config params printed. This is confusing to end user as it is irrelevant information in the log.

  ```
       Kafka.Retry.ShortInterval = 5s
        Kafka.Retry.ShortTotal = 10m0s
        Kafka.Retry.LongInterval = 5m0s
        Kafka.Retry.LongTotal = 12h0m0s
        Kafka.Retry.NetworkTimeouts.DialTimeout = 10s
        Kafka.Retry.NetworkTimeouts.ReadTimeout = 10s
        Kafka.Retry.NetworkTimeouts.WriteTimeout = 10s
        Kafka.Retry.Metadata.RetryMax = 3
        Kafka.Retry.Metadata.RetryBackoff = 250ms
        Kafka.Retry.Producer.RetryMax = 3
        Kafka.Retry.Producer.RetryBackoff = 100ms
        Kafka.Retry.Consumer.RetryBackoff = 2s
        Kafka.Verbose = false
        Kafka.Version = 0.10.2.0
        Kafka.TLS.Enabled = false
        Kafka.TLS.PrivateKey = """"
        Kafka.TLS.Certificate = """"
```

Please find attached orderer log.",,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Oct/19 11:17 AM;nileshdeotale;n7e73b9-orderer.log;https://jira.hyperledger.org/secure/attachment/17869/n7e73b9-orderer.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011or:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The Orderer  org Admin certificate generated by cryptogen tool ,""OU"" field value error",FAB-16783,42659,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,zouyunfeng,zouyunfeng,zouyunfeng,08/Oct/19 12:46 PM,14/Oct/19 9:35 PM,28/Oct/23 3:09 AM,14/Oct/19 9:25 PM,v1.4.3,,,,,v1.4.4,,,,fabric-tools,,,,,0,,,,,"The Orderer org Admin certificate generated by cryptogen tool ,The ""OU"" field is not admin but client, which results in the failure of orderer admin signature authentication when orderer nodes are added dynamically based on fabric-samples. 

Error msg:   Error: got unexpected status: BAD_REQUEST -- error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Value] /Channel/OrdererAddresses not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied",,angelo.decaro,denyeart,yacovm,zouyunfeng,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12620,FAB-16796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011oz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,yacovm,zouyunfeng,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/19 8:27 PM;zouyunfeng;[https://gerrit.hyperledger.org/r/c/fabric/+/33893];;;","11/Oct/19 5:52 PM;angelo.decaro;[~zouyunfeng] So, I wonder if the fix you pushed is the right one cause cryptogen puts the Admin OU only when NodeOU classification is enabled, otherwise it puts the Client OU. Look at common/tools/cryptogen/main.go#618. [~denyeart][~ales][~yacovm], what do you think?
What's the cryptogen configuration that causes the error?;;;","11/Oct/19 6:18 PM;zouyunfeng;It was found that when testing the addition of orderer node operations, based on fabric-samples(https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network), 
crypto-config.yaml:
 OrdererOrgs:
  # Orderer
  - Name: Orderer
    EnableNodeOUs: true
 
configtx.yaml:
Channel: &ChannelDefaults
    #   /Channel/<PolicyName>
    Policies:
        Admins:
            Type: ImplicitMeta
            Rule: ""MAJORITY Admins""
			
 I send the update block transaction with genesis orderer admin signature. result err:  sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied;;;","11/Oct/19 6:25 PM;yacovm;The way I understand the code you referenced, Angelo:
{code:java}
			if node.isAdmin && nodeOUs {
				currentNodeType = msp.ADMIN
			} {code}

Is that it still needs the isAdmin bit to be set, however without his change - it won't be set. ;;;","14/Oct/19 7:45 PM;denyeart;release-1.4 CR: https://gerrit.hyperledger.org/r/#/c/fabric/+/33893/;;;","14/Oct/19 8:09 PM;angelo.decaro;[~yacovm], got it, thanks. I think we need it then.;;;","14/Oct/19 9:25 PM;denyeart;Merged in release-1.4.
Looks like master already has the fix:
https://github.com/hyperledger/fabric/blob/master/cmd/cryptogen/main.go#L666;;;","14/Oct/19 9:35 PM;denyeart;[~zouyunfeng] By the way, if I understand correctly, the original Description was not correct... it was not that OU of ""admin"" was missing, it was that the certificate was not copied to admincerts directory (when EnableNodeOUs is false).
I've confirmed the fix copies the orderer cert to admincerts directory now.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer and orderer images cannot be used for dirty binaries in /usr/local/bin,FAB-16784,42661,,Bug,Returned,FAB,Fabric,software,denyeart,,,Medium,,,bh4rtp,bh4rtp,08/Oct/19 5:18 PM,18/Jan/20 5:11 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-build,,,,,0,,,,,"It can be reproduced as follows.
 1) Build local binaries and docker simultaneously
{code:java}
$ make configtxgen configtxlator cryptogen peer orderer docker
{code}
2) Binaries in /usr/local/bin of the peer and orderer images are dirty
 For example, /usr/local/bin in the peer image will have configtxgen, configtxlator, cryptogen and orderer executable files.

3) Peer and orderer images cannot be used
 For example, run peer image
{code:java}
$ docker run -it hyperledger/fabric-peer:amd64-latest sh
# /usr/local/bin/peer node start
standard_init_linux.go:211: exec user process caused ""no such file or directory"" 
{code}",,bh4rtp,btl5037,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011pf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bh4rtp,btl5037,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jan/20 11:33 PM;manish-sethi;/cc - [~btl5037];;;","17/Jan/20 11:40 PM;btl5037;Acknowledged, thanks [~manish-sethi];;;","18/Jan/20 5:09 AM;btl5037;[~bh4rtp] what version of fabric are you building? I can't recreate this on 1.4 or master. I checked the make process and it builds the binaries locally and then does an explicit copy 
{code:java}
COPY payload/peer /usr/local/bin
{code}
 not the entire payload directory, so I don't see a path to ending up with multiple binaries in the image.;;;","18/Jan/20 5:11 AM;btl5037;If you are on 1.4 or master can you please remove the `build` directory in the fabric repo and rerun the make command, but attach the output here;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tune Raft snapshot default config parameters to align with hardcoded wal SegmentFileSize,FAB-16785,42662,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,08/Oct/19 6:06 PM,30/Oct/19 1:30 PM,28/Oct/23 3:09 AM,30/Oct/19 1:30 PM,,,,,,,,,,fabric-orderer,,,,,0,ipm,,,,"etcd wal segment size is hardcoded to be 64MB in etcd/wal pkg. If we change {{SnapshotIntervalSize}} to 16MB, and {{MaxSnapshotFiles}} to 4, then in most cases (for small blocks), we would have no more than 2 segment files.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqs",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Oct/19 7:01 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/33895;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
interop: a bash script to execute both sdk-node and sdk-java interop test,FAB-16786,42667,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,08/Oct/19 10:16 PM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Write a bash script in fabric-test/regression/runInteropTestSuite.sh to execute the desired sdk-java and sdk-node/PTE interop tests

The sdk-node and sdk-java test are defined in FAB-16719",,btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16719,,,FAB-16787,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011pv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
interop: add a hook in Makefile to execute interop script,FAB-16787,42668,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,08/Oct/19 10:19 PM,10/Jun/20 12:39 PM,28/Oct/23 3:09 AM,10/Jun/20 12:39 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add a hook in fabric-test/Makefile to execute the interop targets and run the interop script created in FAB-16786.

The interop test are defined in FAB-16719",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16719,FAB-16786,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011q3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
interop: sdk-java integration test support raft orderering service,FAB-16788,42669,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,08/Oct/19 10:25 PM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"In order to execute interop test using sdk-java, sdk-java integration test needs to support raft orderering service configuration.  As today, only solo oderering service is supported in sdk-java integration.  It is desirable to update 

fabric-sdk-java/src/test/fixture/sdkintegration/docker-compose.yaml to support raft orderering service

The related interop tests are defined in FAB-16719.",,btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011qb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Join description incorrect in network key concept,FAB-16789,42670,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sijo.c,denyeart,denyeart,08/Oct/19 10:26 PM,27/Jun/20 12:21 AM,28/Oct/23 3:09 AM,25/Jun/20 9:54 PM,,,,,,,,,,fabric-docs,,,,,0,help-wanted,,,,"https://hyperledger-fabric.readthedocs.io/en/latest/network/network.html


{code:java}
A key part of a P1’s configuration is an X.509 identity issued by CA1 which associates P1 with organization R1. Once P1 is started, it can join channel C1 using the orderer O4. When O4 receives this join request, it uses the channel configuration CC1 to determine P1’s permissions on this channel. For example, CC1 determines whether P1 can read and/or write information to the ledger L1.
{code}


The join request does not go to orderer.",,denyeart,sijo.c,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011qj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sijo.c,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jun/20 3:59 AM;sijo.c;I can pickup this fix.

[~denyeart]  isn't the answer to the error you raised above:  Join requests need to go through endorser ?

 

The fix I am thinking: remove the orderer's participation description in the *join channel* section of the docs.

Instead, how about moving the orderers' participation description to the c*reate channel* section here https://hyperledger-fabric.readthedocs.io/en/latest/network/network.html#creating-a-channel-for-a-consortium

so describe that creating channel  C1 requires the orderer O4. The *channel creation transaction* is sent to the orderer.;;;","19/Jun/20 12:57 PM;denyeart;[~sijo.c] Thanks for picking this item up.

Just the text 
 ""Once P1 is started, it can join channel C1 using the orderer O4. When O4 receives this join request""
 needs to be removed.

Join is an API call on the peer (but not an 'endorser' call). The channel's genesis block is passed to the peer's join API. Then the peer attempts to retrieve blocks from an orderer for that joined channel. The orderer checks permissions against the channel configuration, as the text states, and feeds the peer the blocks if it has permission.  So it's just the mechanics of the join that needs to be fixed in these two sentences.;;;","22/Jun/20 4:09 AM;denyeart;https://github.com/hyperledger/fabric/pull/1427;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
interop: a script to execute only 4 integration test,FAB-16790,42671,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,dongming,dongming,08/Oct/19 10:29 PM,10/Jun/20 12:39 PM,28/Oct/23 3:09 AM,10/Jun/20 12:39 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"There are 4 integration test from sdk-java are selected for interop.  As today, the sdk-java will execute all integration test.  Hence a script is needed to execute only the 4 selected tests for interop job.  The 4 test are
 * End2endIT.java
 * End2endJavaIT.java
 * End2endNodeIT.java
 * End2endIdemixIT.java",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16719,FGJ-52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011qr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
interop: e2e with service discovery using PTE,FAB-16791,42672,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,08/Oct/19 10:34 PM,11/Jan/21 2:32 AM,28/Oct/23 3:09 AM,11/Jan/21 2:32 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"add golang code using ginkgo in fabric-test/regress/interop to
 * create channel
 * join channel
 * install chaincode (samplecc)
 * instantiate chaincode
 * invoke chaincode
 * query chaincode

The test is defined in FAB-16719.",,btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16719,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011qz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-master job: Failed orderer service feature test in test cases [FAB-4686],FAB-16793,42680,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,vijaypunugubati,vijaypunugubati,09/Oct/19 2:22 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,12/Oct/19 12:33 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,ci-flake,,,"fabric-test-daily-behave-master job: Failed orderer service feature test in test cases [FAB-4686] in querying fail with an unexpected response.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/ And I wait ""10"" seconds                                                                                                                          # steps/basic_impl.py:24
    When a user queries on the chaincode named ""mycc"" with args [""query"",""a""]                                                                        # steps/endorser_impl.py:510
    Then a user receives a success response of 970                                                                                                   # steps/endorser_impl.py:1183
      Assertion Failed: Expected response was 970; received 980
      / code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/368/testReport/orderer/Orderer%20Service/FAB_4686__Test_taking_down_all_kafka_brokers_and_bringing_back_last_3/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/368/consoleFull]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:5",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/19 12:33 AM;scottz;THis looks like a flake; it failed one day only, and passed the last two times.;;;","25/Oct/19 1:17 AM;scottz;Disable the flaky testcase:  [https://gerrit.hyperledger.org/r/c/fabric-test/+/34075];;;","06/Nov/19 8:10 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34255] prop to 1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-master job: Failed gossip service feature test in test cases [FAB-4683] [FAB-4684] [FAB-4685],FAB-16794,42681,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid: Environment Issue,,vijaypunugubati,vijaypunugubati,09/Oct/19 2:22 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,12/Oct/19 12:34 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,ci-flake,,,"fabric-test-daily-behave-master job: gossip.Gossip Service.[FAB-4683] [FAB-4684] [FAB-4685] With leaders assigned, disconnect leader peer for 90 secs -- @1.6 with failure in kafka containers to be ready in allotted 300 seconds time.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/[34m2019-10-08 02:47:15.801 UTC [nodeCmd] func6 -> INFO 01b[0m Starting profiling server with listenAddress = 0.0.0.0:6060
[34m2019-10-08 02:47:16.928 UTC [nodeCmd] func6 -> INFO 019[0m Starting profiling server with listenAddress = 0.0.0.0:6060
      Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
      Captured stdout:
      test e9126e96e97511e9baf5fa163e240809 already exists!!!
      test e9126e96e97511e9baf5fa163e240809 already exists!!!/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/368/testReport/gossip/Gossip%20Service/_FAB_4683___FAB_4684___FAB_4685__With_leaders_assigned__disconnect_leader_peer_for_90_secs_____1_6_/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/368/consoleFull]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:6",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/19 12:31 AM;scottz;This failed today, and a few days ago, but passes other days. And other similar tests pass. Marking this as a flake.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-pte-master job: All 8 test cases failed with common error ""channel creation"".",FAB-16795,42682,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,vijaypunugubati,vijaypunugubati,09/Oct/19 2:37 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,12/Oct/19 12:20 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,,"fabric-test-daily-pte-master job: All 8 test cases failed with common error ""channel creation"".

Similar error was observed in fabric project and the bug was already fixed please refer this Jira item https://jira.hyperledger.org/browse/FAB-16776

Test cases:
|[Test Name|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/#]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_CouchDB.test_FAB3832_4i_FAB3834_4q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB3832_4i_FAB3834_4q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_CouchDB.test_FAB3833_2i_FAB3810_2q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB3833_2i_FAB3810_2q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_CouchDB.test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB3807_4i_FAB3835_4q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB3807_4i_FAB3835_4q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB3808_2i_FAB3811_2q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB3808_2i_FAB3811_2q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB7329_4i_channel_events|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7329_4i_channel_events/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB7333_4i_filtered_block_events|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7333_4i_filtered_block_events/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB7647_1i_latency|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7647_1i_latency/]|

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/+ echo './pte_driver.sh CITest/FAB-3832-4i/preconfig/channels/runCases-chan-create-TLS.txt'
+ ./pte_driver.sh CITest/FAB-3832-4i/preconfig/channels/runCases-chan-create-TLS.txt
#x1B[31merror#x1B[39m: [2019-10-05T00:59:20.244Z PTE 0 main]: [createOrUpdateOneChannel] Failed to created/updated the channel (testorgschannel1) with result: {""status"":""BAD_REQUEST"",""info"":""error validating channel creation transaction for new channel 'testorgschannel1', could not successfully apply update to template configuration: error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied""}
fs.js:646
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);
                 ^

Error: ENOENT: no such file or directory, open '../../pteReport.txt'
    at Object.fs.openSync (fs.js:646:18)
    at Object.fs.readFileSync (fs.js:551:33)
    at Object.<anonymous> (/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/scripts/get_pteReport.js:68:16)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
    at Function.Module.runMain (module.js:693:10)
    at startup (bootstrap_node.js:191:16)
cat: ../../pteReport.txt: No such file or directory/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/366/consoleFull]

 ",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16725,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:7",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Oct/19 2:43 AM;vijaypunugubati;Same failure on the fabric-test-merge job since on 7 Oct 2019.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create channel with Permission Denied when enabled NodeOU's for orderer organizations - update doc/samples with guidance,FAB-16796,42688,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,denyeart,suryalnvs,suryalnvs,09/Oct/19 11:39 PM,01/Dec/20 6:18 AM,28/Oct/23 3:09 AM,,v2.0.0,,,,,,,,,fabric-orderer,fabric-tools,,,,0,ipm2,,,,"Description: Channel creation is failing with the following error when enabled NodeOU's for orderer organizations
{code:java}
""status"":""FORBIDDEN"",""info"":""implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied""{code}
Here is my crypto-config file used:
{code:java}
OrdererOrgs:
    - Name: Orderer
      Domain: example.com
      EnableNodeOUs: true
      Template:
        Count: 3
PeerOrgs:
    - Name: PeerOrg1
      Domain: org1.example.com
      EnableNodeOUs: true
      Template:
        Count: 2
      Users:
        Count: 1
    - Name: PeerOrg2
      Domain: org2.example.com
      EnableNodeOUs: true
      Template:
        Count: 2
      Users:
        Count: 1
{code}
and policies used for orderer organization:
{code:java}
        Policies:
            Readers:
                Type: Signature
                Rule: ""OR('OrdererOrg.admin', 'OrdererOrg.orderer', 'OrdererOrg.client')""
            Writers:
                Type: Signature
                Rule: ""OR('OrdererOrg.admin', 'OrdererOrg.client')""
            Admins:
                Type: Signature
                Rule: ""OR('OrdererOrg.admin')""
{code}
When `EnableNodeOUs` set to `false` for `OrdererOrgs` in crypto-config.yaml and change policies to use member role, then able to create channel.

Seeing the same in BYFN when enabled NodeOUs in ordererorgs
{code:java}
Error: got unexpected status: FORBIDDEN -- implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
{code}
 ",,angelo.decaro,denyeart,jyellick,scottz,suryalnvs,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12620,,,FAB-16783,FAB-17010,,,,,,,,,,,,"15/Oct/19 12:16 AM;suryalnvs;byfn output.png;https://jira.hyperledger.org/secure/attachment/17879/byfn+output.png","15/Oct/19 12:16 AM;suryalnvs;orderer logs.png;https://jira.hyperledger.org/secure/attachment/17880/orderer+logs.png",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,3fbc37a58,Unset,No,,,"1|i011tv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,jyellick,scottz,suryalnvs,ymlbright,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/19 5:56 PM;angelo.decaro;Hi [~suryalnvs], please, can you tell me which commits are you using for fabric and fabric-samples? Just to be sure to reproduce the same issue. Thanks :)
;;;","11/Oct/19 9:59 PM;suryalnvs;[~angelo.decaro] fabric-samples - a42b858bc44a963dd54495a452013bb86dc20894, fabric -  3fbc37a58;;;","14/Oct/19 12:57 PM;denyeart;[~suryalnvs] [~angelo.decaro]
Hmmm I'm not seeing this problem on latest master fabric and fabric-samples when setting EnableNodeOUs:true under the OrdererOrg.
Anybody have another data point?;;;","14/Oct/19 8:10 PM;angelo.decaro;[~suryalnvs]can you confirm what [~denyeart] reported?;;;","15/Oct/19 12:11 AM;suryalnvs;[~denyeart] Have you changed orderer organization policies in configtx.yaml as following:
{code:java}
Organizations:    # SampleOrg defines an MSP using the sampleconfig.  It should never be used
    # in production but may be used as a template for other definitions
    - &OrdererOrg
        # DefaultOrg defines the organization which is used in the sampleconfig
        # of the fabric.git development environment
        Name: OrdererOrg        # ID to load the MSP definition as
        ID: OrdererMSP        # MSPDir is the filesystem path which contains the MSP configuration
        MSPDir: crypto-config/ordererOrganizations/example.com/msp        # Policies defines the set of policies at this level of the config tree
        # For organization policies, their canonical path is usually
        #   /Channel/<Application|Orderer>/<OrgName>/<PolicyName>
        Policies:
            Readers:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin', 'OrdererMSP.orderer', 'OrdererMSP.client')""
            Writers:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin', 'OrdererMSP.client')""
            Admins:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin')""
{code}
I just tried again using latest master (commit: c78cccc) and fabric-samples, still see the same issue with create channel.

Attached the byfn output screenshot and orderer logs screenshot.;;;","06/Nov/19 4:40 AM;denyeart;[~suryalnvs] I get the same error with that config:
{code:java}
2019-11-05 14:34:57.927 EST [orderer.common.msgprocessor] Apply -> DEBU 275 SigFilter evaluation failed: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied, policyName: /Channel/Writers, ConsensusState: STATE_NORMAL
2019-11-05 14:34:57.927 EST [orderer.common.broadcast] ProcessMessage -> WARN 276 [channel: mychannel] Rejecting broadcast of config message from 127.0.0.1:65319 because of error: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Writers' sub-policies to be satisfied: permission denied
{code}
To get it working I had to add 'OrdererMSP.orderer' to the Writers policy as follows:
  
{code:java}
        Policies:
            Readers:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin', 'OrdererMSP.orderer', 'OrdererMSP.client')""
            Writers:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin', 'OrdererMSP.orderer', 'OrdererMSP.client')""
            Admins:
                Type: Signature
                Rule: ""OR('OrdererMSP.admin')""
{code}
I assume this is because the orderer is the one who actually takes the channel create request and 'writes' the config transaction.

[~jyellick] Is the requirement for orderer to have 'Writers' privilege something you'd expect? Can you describe how it works in some more detail?;;;","06/Nov/19 4:45 AM;jyellick;[~denyeart] Yes, in the default configuration, orderers must have write permission on all channels.  This is for two reasons.

1) The orderers process config update transactions into config transactions, and submit them under their own identity so that the processed config is attributable.
2) The default block validation policy requires that the orderer writers policy be satisfied.;;;","06/Nov/19 7:45 AM;scottz;Makes sense. Would it be appropriate to doc? Can you point us to any reminder or documentation or tutorial that mentions this? Maybe it is there with the MSP description, or is being added? As people enable Node OUs in v2.0 and remove *.member signees, our mistake might be made by others.;;;","06/Nov/19 1:13 PM;jyellick;Completeness of the channel config and policies documentation has always been a shortcoming of Fabric.  I'd say it could be improved.;;;","14/Nov/19 12:55 AM;scottz;I did some looking around. I think we could do two things.

1.  If I understand correctly, then as a first step I think we could edit this line in the sample config.yaml file to include  'SampleOrg.orderer' because an orderer must be a Writer.  [https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/configtx.yaml#L47]

2.  In readthedocs, I had trouble finding what/where to edit. I think a good place to start is here in the Operations Guide / MSP page in the ""Identify Classification"" section, near here:  [https://hyperledger-fabric.readthedocs.io/en/release-1.4/msp.html?highlight=ordererouidentifier.|https://hyperledger-fabric.readthedocs.io/en/release-1.4/msp.html?highlight=ordererouidentifier] The top section contains 4 bullets with statements like this:  ""An identity should be classified as an orderer if belongs to an ordering node.""  This could be more helpful. I am thinking we could expand on these statements to explain what these roles are for, i.e. what actions require them. In our case, we could say an MSP.orderer must be included as a writer in the OrganizationsPoliciesWriters section of the configtx.yaml, because it is required for config transactions. [~jyellick] Could you provide any additional words?;;;","14/Nov/19 3:20 AM;denyeart;[~scottz] I agree with the proposals, we can use this Jira for them. Additionally the sample at [https://github.com/hyperledger/fabric-samples/blob/release-1.4/first-network/configtx.yaml#L33-L42]  should be updated. The sample is a bit more realistic than [https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/configtx.yaml#L47] since it has separate orderer and application orgs. Ideally the sample configs would utilize the minimum permissions necessary.;;;",,,,,,,,,,,,,,,,,,,,,,,,,
Create Azure pipeline template for fabric-test verify and merge jobs - master,FAB-16799,42694,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,10/Oct/19 5:11 AM,03/Dec/19 2:47 AM,28/Oct/23 3:09 AM,21/Oct/19 11:56 PM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Create Azure pipeline templates (Includes dependency package installation yaml file) keeping only PTE, LTE and Operator (our first ginkgo based tests using new launcher and other tools). Initially, we will include PTE and LTE tests as part of smoke test verification, and add Operator tests as soon as they are ready via FAB-16529.

Once the ginkgo based framework is ready, we will replace the existing python wrappers with ginkgo test drivers to run the tests and generate xml. (Refer to epic FAB-16160).

Behave tests are out of scope from fabric-test CR verification POV.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|i011v7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"10/Oct/19 6:09 AM;rameshthoomu;Initial work has been created here and tested successfully on forked fabric-test repository. https://github.com/rameshthoomu/fabric-test/tree/master/ci;;;","11/Oct/19 10:40 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33942/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Azure pipeline template for fabric-test verify and merge jobs - release-1.4,FAB-16800,42695,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,10/Oct/19 5:12 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,08/Nov/19 1:03 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"Create Azure pipeline templates (Includes dependency package installation yaml file) keeping only PTE, LTE and ginkgo based tests. For now include PTE, LTE tests as part of smoke test verification. Once the ginkgo based framework is ready will replace the existing python wrapper.

Behave tests are out of scope from fabric-test CR verification POV.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16799,,,,,,FAB-16894,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|hzwqfo:8",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/19 5:21 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34079/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Azure pipeline template for fabric-test daily jobs - master,FAB-16801,42696,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,rameshthoomu,rameshthoomu,10/Oct/19 5:23 AM,03/Dec/19 6:21 AM,28/Oct/23 3:09 AM,03/Dec/19 6:21 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,"Once FAB-16799 is done, create daily jobs to verify the fabric-test PTE test cases in Azure pipeline.

Note: if maintainers of corresponding repositories agree, then instead of including LTE and CTE tests here, we could move the LTE tool and tests to fabric ledger integration test suite, and move the CTE FVT tool and tests to fabric-ca integration test suite. Those tests are scoped within a single repository, and as such could be contained within the test suites within those repositories.

NOTE: Before we implement this we need to get a confirmation from Matt Sykes on the publishing daily fabric* images and binaries to nexus repository. If we don't publish these images, we have to update fabric-test Makefile to build images instead of pulling them from Nexus repository.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16802,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzx9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/19 12:49 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34450/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create Azure pipeline template for fabric-test daily jobs - release-1.4,FAB-16802,42697,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,rameshthoomu,rameshthoomu,10/Oct/19 5:23 AM,03/Dec/19 6:21 AM,28/Oct/23 3:09 AM,03/Dec/19 6:21 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"Once FAB-16799 is done, create daily jobs to verify the fabric-test PTE test cases in Azure pipeline.

Note: if maintainers of corresponding repositories agree, then instead of including LTE and CTE tests here, we could move the LTE tool and tests to fabric ledger integration test suite, and move the CTE FVT tool and tests to fabric-ca integration test suite. Those tests are scoped within a single repository, and as such could be contained within the test suites within those repositories.

NOTE: Before we implement this we need to get a confirmation from Matt Sykes on the publishing daily fabric* images and binaries to nexus repository. If we don't publish these images, we have to update fabric-test Makefile to build images instead of pulling them from Nexus repository.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16801,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzxi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Nov/19 2:01 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34451/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include system test suite in fabric-test azure pipeline teamplate - master,FAB-16803,42698,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,10/Oct/19 5:30 AM,10/Jun/20 12:30 PM,28/Oct/23 3:09 AM,10/Jun/20 12:30 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"Before work on this tasks, first explore on how to keep kubeconfig file in Azure environment see this for more info. FAB-16060

Once the FAB-16060 is ready, Create an Include system test suite in the azure pipeline to run these tests in k8s environment. Once the tests are done, publish the results and build artifacts on the Azure pipeline.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16804,,,,,,,,FAB-17423,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rd",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include system test suite in fabric-test azure pipeline teamplate - release-1.4,FAB-16804,42699,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,10/Oct/19 5:30 AM,10/Jun/20 12:30 PM,28/Oct/23 3:09 AM,10/Jun/20 12:30 PM,v1.4.5,,,,,v1.4.7,,,,fabric-quality,,,,,0,,,,,"Before work on this tasks, first explore on how to keep kubeconfig file in Azure environment see this for more info. FAB-16060

Once the FAB-16060 is ready, Create an Include system test suite in the azure pipeline to run these tests in k8s environment. Once the tests are done, publish the results and build artifacts on the Azure pipeline.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16803,,,,,,FAB-17423,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16760,,,No,,Unset,No,,,"1|hzwqrk:5iwr4re",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix the comment error in fabric,FAB-16805,42702,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,10/Oct/19 6:01 PM,14/Oct/19 11:07 PM,28/Oct/23 3:09 AM,14/Oct/19 9:42 PM,v1.4.3,,,,,v2.0.0,,,,,,,,,0,,,,,"When I read the code,I found some spelling error, and want to correct it",,bjzhang03,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011wr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/19 11:46 PM;sykesm;[https://gerrit.hyperledger.org/r/c/fabric/+/33925] – requested a change against master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure - core/chaincode/lifecycle,FAB-16806,42703,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,guoger,guoger,10/Oct/19 6:46 PM,14/Oct/19 9:43 PM,28/Oct/23 3:09 AM,14/Oct/19 9:43 PM,,,,,,,,,,fabric-peer,,,,,0,ci-flake,ipm,,,"{code}
14:44:33 [90m------------------------------[0m
14:44:33 [91m[1m• Failure [0.013 seconds][0m
14:44:33 Custodian
14:44:33 [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/lifecycle/custodian_test.go:20[0m
14:44:33   [91m[1mnotifies on the build status [It][0m
14:44:33   [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/lifecycle/custodian_test.go:59[0m
14:44:33 
14:44:33   [91mExpected
14:44:33       <<-chan struct {} | len:0, cap:0>: 0xc00063a180
14:44:33   to be closed[0m
14:44:33 
14:44:33   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/chaincode/lifecycle/custodian_test.go:71
{code}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15551/console",,guoger,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011wz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,wlahti,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/19 2:49 AM;wlahti;Hit again here: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15571/];;;","12/Oct/19 4:00 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33952 FAB-16806 address flaky test with async execution
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address issues preventing the move to go 1.13 in master,FAB-16810,42713,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,10/Oct/19 11:53 PM,09/Apr/20 8:59 PM,28/Oct/23 3:09 AM,15/Oct/19 1:08 AM,,,,,,,,,,,,,,,0,ipm,,,,"When running with go 1.13.1, the bccsp tests are failing due to changes in error messages from the runtime.

Example:
{code}
          Expected
              <string>: failure [runtime error: index out of range [5] with length 5]
          to be equivalent to
              <string>: failure [runtime error: index out of range]
{code}

These are some of the failing tests:
{code}
Summarizing 13 Failures:

[Fail] Idemix Bridge issuer public key import [It] fails to unmarshal issuer public key 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:116

[Fail] Idemix Bridge credential request verify [It] panic on nil credential request 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:358

[Fail] Idemix Bridge revocation sign [It] fail on invalid handlers 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:464

[Fail] Idemix Bridge nym signature verify [It] panic on nil signature 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:587

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix signature [It] fails when the credential is nil 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1214

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause nonce does not encode a proper Big returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause nonce is nil returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofC is not encoded properly returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofC is nil returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofSRNym is not encoded properly returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofSRNym is nil returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofSSk is not encoded properly returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380

[Fail] Idemix Bridge setting up the environment with one issuer and one user producing an idemix nym signature the signature is malformed [AfterEach] cause ProofSSk is nil returns an error 
/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:1380
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rti",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/19 3:39 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/c/fabric/+/33950 [FAB-16810] bccsp test changes for go 1.13
remote:   https://gerrit.hyperledger.org/r/c/fabric/+/33951 [FAB-16810] comm test changes to support go 1.13;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: Failure in building nodeenv image while running SDK-node test,FAB-16811,42714,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,vijaypunugubati,vijaypunugubati,11/Oct/19 12:41 AM,12/Oct/19 4:22 AM,28/Oct/23 3:09 AM,12/Oct/19 4:22 AM,v2.0.0,,,,,v2.0.0,,,,fabric-sdk-node,,,,,0,ci-failure,,,,"fabric-merge-end-2-end job: Fail to find node modules from fabric-chaincode-node path when building nodeenv image while running SDK-node test.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/00:31:14.828 /home/jenkins/npm/bin/gulp -> /home/jenkins/npm/lib/node_modules/gulp/bin/gulp.js
00:31:15.035 npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/gulp/node_modules/fsevents):
00:31:15.036 npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {""os"":""darwin"",""arch"":""any""} (current: {""os"":""linux"",""arch"":""x64""})
00:31:15.036 
00:31:15.038 + gulp@4.0.2
00:31:15.038 added 314 packages from 217 contributors in 10.875s
00:31:15.448 [15:05:51] Local modules not found in /w/workspace/fabric-merge-end-2-end-x86_64/gopath/src/github.com/hyperledger/fabric-chaincode-node
00:31:15.448 [15:05:51] Try running: npm install/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6523/consoleFull]

 ",,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011yr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/19 2:57 AM;vijaypunugubati;In fabric-merge-end-2-end use to build nodeenv image to run sdk-node tests, gulp target in Fabric-chaincode-node ""gulp docker-build-image"" is no longer use to build nodeenv and the above error is observed. Fabric-chaincode-node project build system has been changed with a new tool called RUSH.

So, disabling this nodeenv image build command in CI script makes the sdk-node test to use an image from nexus.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
hyperledger/fabric-baseos:1.4.3 and hyperledger/fabric-nodeenv:1.4.3 not found,FAB-16812,42717,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,y3g0r,y3g0r,11/Oct/19 1:25 AM,23/Nov/19 12:24 AM,28/Oct/23 3:09 AM,23/Nov/19 12:24 AM,,,,,,,,,,,,,,,0,help-wanted,,,,"I'm following Install Samples, Binaries and Docker Images [guide|https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html]

I've tried command w/o specifying a version:
{code:java}
curl -sSL http://bit.ly/2ysbOFE | bash -s{code}
and with versions being specified:
{code:java}
curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.3 1.4.3 0.4.15
{code}
Step where docker images are pulled (Pulling fabric Images) shows errors for 2 images, as they don't exist on docker hub:
{code:java}
==> FABRIC IMAGE: baseos

Error response from daemon: manifest for hyperledger/fabric-baseos:1.4.3 not found
Error response from daemon: No such image: hyperledger/fabric-baseos:1.4.3
==> FABRIC IMAGE: nodeenv

Error response from daemon: manifest for hyperledger/fabric-nodeenv:1.4.3 not found
Error response from daemon: No such image: hyperledger/fabric-nodeenv:1.4.3
{code}
 ",,denyeart,rameshthoomu,y3g0r,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/19 1:05 AM;y3g0r;Screenshot_2019-10-11 hyperledger fabric-baseos Tags - Docker Hub.png;https://jira.hyperledger.org/secure/attachment/17875/Screenshot_2019-10-11+hyperledger+fabric-baseos+Tags+-+Docker+Hub.png","12/Oct/19 1:05 AM;y3g0r;Screenshot_2019-10-11 hyperledger fabric-nodeenv Tags - Docker Hub.png;https://jira.hyperledger.org/secure/attachment/17874/Screenshot_2019-10-11+hyperledger+fabric-nodeenv+Tags+-+Docker+Hub.png",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011zf:",,,,Unset,Unset,,"curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.3 1.4.3 0.4.15",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,y3g0r,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Oct/19 1:06 AM;y3g0r;bootstrap command full output (repeated):
{code:java}
➜  fabric curl -sSL http://bit.ly/2ysbOFE | bash -s

Installing hyperledger/fabric-samples repo

===> Checking out v1.4.3 of hyperledger/fabric-samples
HEAD is now at f86ec95 [FAB-16390] Added filter for invalid transactions

Installing Hyperledger Fabric binaries

===> Downloading version 1.4.3 platform specific fabric binaries
===> Downloading:  https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/linux-amd64-1.4.3/hyperledger-fabric-linux-amd64-1.4.3.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 52.0M  100 52.0M    0     0   674k      0  0:01:19  0:01:19 --:--:-- 3428k
==> Done.
===> Downloading version 1.4.3 platform specific fabric-ca-client binary
===> Downloading:  https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric-ca/hyperledger-fabric-ca/linux-amd64-1.4.3/hyperledger-fabric-ca-linux-amd64-1.4.3.tar.gz
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 6382k  100 6382k    0     0  1722k      0  0:00:03  0:00:03 --:--:-- 1722k
==> Done.

Installing Hyperledger Fabric docker images

===> Pulling fabric Images
==> FABRIC IMAGE: peer

1.4.3: Pulling from hyperledger/fabric-peer
Digest: sha256:fc11964a5201fc559bcee573e601753bf6218e35ded2f5259d86bc73cdc38976
Status: Image is up to date for hyperledger/fabric-peer:1.4.3
==> FABRIC IMAGE: orderer

1.4.3: Pulling from hyperledger/fabric-orderer
Digest: sha256:efbcd38e7a09066621a16e6da0e35329c02c3491046538cfd1107a96f0c750cf
Status: Image is up to date for hyperledger/fabric-orderer:1.4.3
==> FABRIC IMAGE: ccenv

1.4.3: Pulling from hyperledger/fabric-ccenv
Digest: sha256:33068b526a06eea57e131a86472f1117d8d525245ff7b66d436b18a5a53dbb4e
Status: Image is up to date for hyperledger/fabric-ccenv:1.4.3
==> FABRIC IMAGE: tools

1.4.3: Pulling from hyperledger/fabric-tools
Digest: sha256:eda7bc6d79d55bcbae248333f3275c46f57ccab610251b55f8e6845ebe8fcf52
Status: Image is up to date for hyperledger/fabric-tools:1.4.3
==> FABRIC IMAGE: baseos

Error response from daemon: manifest for hyperledger/fabric-baseos:1.4.3 not found
Error response from daemon: No such image: hyperledger/fabric-baseos:1.4.3
==> FABRIC IMAGE: nodeenv

Error response from daemon: manifest for hyperledger/fabric-nodeenv:1.4.3 not found
Error response from daemon: No such image: hyperledger/fabric-nodeenv:1.4.3
==> FABRIC IMAGE: javaenv

1.4.3: Pulling from hyperledger/fabric-javaenv
Digest: sha256:3370332ba1a0240ec21738ec25daab506205dbc75b4f3d001aa00acfb3aabbfe
Status: Image is up to date for hyperledger/fabric-javaenv:1.4.3
===> Pulling fabric ca Image
==> FABRIC CA IMAGE

1.4.3: Pulling from hyperledger/fabric-ca
Digest: sha256:82a7f653ed0de520bf3ee565a07a76aac8b91ed80869b33dddfec39652c9d183
Status: Image is up to date for hyperledger/fabric-ca:1.4.3
===> Pulling thirdparty docker images
==> THIRDPARTY DOCKER IMAGE: couchdb

0.4.15: Pulling from hyperledger/fabric-couchdb
Digest: sha256:f6c724592abf9c2b35d2f4cd6a7afcde9c1052cfed61560b20ef9e2e927d1790
Status: Image is up to date for hyperledger/fabric-couchdb:0.4.15
==> THIRDPARTY DOCKER IMAGE: kafka

0.4.15: Pulling from hyperledger/fabric-kafka
Digest: sha256:62418a885c291830510379d9eb09fbdd3d397052d916ed877a468b0e2026b9e3
Status: Image is up to date for hyperledger/fabric-kafka:0.4.15
==> THIRDPARTY DOCKER IMAGE: zookeeper

0.4.15: Pulling from hyperledger/fabric-zookeeper
Digest: sha256:180553e88d09167370aa62a41587a9a95b819b981ad74cad218689412b85f130
Status: Image is up to date for hyperledger/fabric-zookeeper:0.4.15

===> List out hyperledger docker images
hyperledger/fabric-tools                                              1.4.3               18ed4db0cd57        6 weeks ago         1.55GB
hyperledger/fabric-tools                                              latest              18ed4db0cd57        6 weeks ago         1.55GB
hyperledger/fabric-ca                                                 1.4.3               c18a0d3cc958        6 weeks ago         253MB
hyperledger/fabric-ca                                                 latest              c18a0d3cc958        6 weeks ago         253MB
hyperledger/fabric-ccenv                                              1.4.3               3d31661a812a        6 weeks ago         1.45GB
hyperledger/fabric-ccenv                                              latest              3d31661a812a        6 weeks ago         1.45GB
hyperledger/fabric-orderer                                            1.4.3               b666a6ebbe09        6 weeks ago         173MB
hyperledger/fabric-orderer                                            latest              b666a6ebbe09        6 weeks ago         173MB
hyperledger/fabric-peer                                               1.4.3               fa87ccaed0ef        6 weeks ago         179MB
hyperledger/fabric-peer                                               latest              fa87ccaed0ef        6 weeks ago         179MB
hyperledger/fabric-javaenv                                            1.4.3               5ba5ba09db8f        2 months ago        1.76GB
hyperledger/fabric-javaenv                                            latest              5ba5ba09db8f        2 months ago        1.76GB
hyperledger/fabric-zookeeper                                          0.4.15              20c6045930c8        6 months ago        1.43GB
hyperledger/fabric-zookeeper                                          latest              20c6045930c8        6 months ago        1.43GB
hyperledger/fabric-kafka                                              0.4.15              b4ab82bbaf2f        6 months ago        1.44GB
hyperledger/fabric-kafka                                              latest              b4ab82bbaf2f        6 months ago        1.44GB
hyperledger/fabric-couchdb                                            0.4.15              8de128a55539        6 months ago        1.5GB
hyperledger/fabric-couchdb                                            latest              8de128a55539        6 months ago        1.5GB
hyperledger/fabric-baseos                                             amd64-0.4.15        9d6ec11c60ff        6 months ago        145MB

{code};;;","13/Oct/19 7:13 PM;denyeart;It is a benign error message since those images are not used in v1.4.x. Unfortunately the same master bootstrap.sh script file is used for v1.4.x and v2.0, but we could use this Jira issue to suppress the pull when doing v1.4.x or at least include a message that the images are not needed for v1.4.x.;;;","30/Oct/19 7:04 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric/+/34158/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Contributing Docs should indicate Fabric-Chaincode-EVM is on Github,FAB-16813,42718,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,swetharepakula,swetharepakula,11/Oct/19 4:17 AM,31/Oct/19 10:21 PM,28/Oct/23 3:09 AM,31/Oct/19 10:21 PM,Future,,,,,Future,,,,fabric-docs,,,,,0,,,,,Update the contributing docs to know that the fabric-chaincode-evm repo has been moved to Github and contributions are expected on the Github repo.,,swetharepakula,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011zn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),swetharepakula,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Oct/19 4:19 AM;swetharepakula;https://gerrit.hyperledger.org/r/#/c/fabric/+/33937/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
lifecycle integration tests should use a standard network configuration instead of its own solo.yaml,FAB-16814,42719,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,11/Oct/19 5:54 AM,12/Oct/19 4:14 PM,28/Oct/23 3:09 AM,12/Oct/19 4:14 PM,,,,,,v2.0.0,,,,fabric-common,,,,,0,ipm,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i011zv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Flip sarama `idempotent` switch to leverage exactly-once semantic,FAB-16815,42720,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,guoger,guoger,11/Oct/19 12:00 PM,17/Apr/21 12:34 AM,28/Oct/23 3:09 AM,17/Apr/21 12:34 AM,,,,,,,,,,fabric-orderer,,,,,0,,,,,"This is to avoid transactions being duplicated in kafka, if something goes wrong during producer sending them to broker.",,denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01203:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/19 12:04 PM;guoger;an attempt was made here: https://gerrit.hyperledger.org/r/c/fabric/+/33896

per [~jyellick] 's comment:
{quote}
I imagine we could get this tested to see if it fixes the problem, the tricky part as always is getting an image built with the fix in it for test.

My bigger concern is more about regressions.  What (if any) impact will this have on performance? Are there any other possible negative side effects? The fact that Sarama does not default to flipping this bit on makes me wonder why.

I think my inclination would be to hold this in our back pocket in case the issue is reported and a problem in the field.  But, as our emphasis on testing is away from Kafka now, just changing it without investing in regression worries me.
{quote}

leave this in backlog for now, and reopen when the issue resurfaces;;;","17/Apr/21 12:34 AM;denyeart;Closing since recommendation is to use Raft as of v1.4.1.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Segmentation violation on Peer process,FAB-16816,42721,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,Tecnalia,Tecnalia,11/Oct/19 4:17 PM,25/Nov/19 7:54 PM,28/Oct/23 3:09 AM,22/Oct/19 4:26 AM,,,,,,,,,,,,,,,0,,,,,"I have found a segmentation violation fatal error on peer bootup process. The reason is still unclear but here is the stack trace reported by go

 
{{2019-10-09 10:41:52.253 UTC [couchdb] handleRequest -> DEBU 073 Exiting handleRequest()}}
{{2019-10-09 10:41:52.253 UTC [couchdb] CreateDatabaseIfNotExist -> INFO 074 Created state database _replicator}}
{{2019-10-09 10:41:52.253 UTC [couchdb] CreateDatabaseIfNotExist -> DEBU 075 [_replicator] Exiting CreateDatabaseIfNotExist()}}
{{2019-10-09 10:41:52.253 UTC [couchdb] VerifyCouchConfig -> DEBU 076 Exiting VerifyCouchConfig()}}
{{2019-10-09 10:41:52.254 UTC [kvledger] recoverUnderConstructionLedger -> DEBU 077 Recovering under construction ledger}}
{{2019-10-09 10:41:52.254 UTC [kvledger] recoverUnderConstructionLedger -> DEBU 078 No under construction ledger found. Quitting recovery}}
{{2019-10-09 10:41:52.254 UTC [ledgermgmt] initialize -> INFO 079 ledger mgmt initialized}}
{{2019-10-09 10:41:52.254 UTC [nodeCmd] serve -> INFO 07a Running in chaincode development mode}}
{{2019-10-09 10:41:52.254 UTC [nodeCmd] serve -> INFO 07b Disable loading validity system chaincode}}
{{2019-10-09 10:41:52.254 UTC [peer] func1 -> INFO 07c Auto-detected peer address: 172.18.0.9:7051}}
{{2019-10-09 10:41:52.254 UTC [peer] func1 -> INFO 07d Returning peer0.org1:7051}}
{{2019-10-09 10:41:52.256 UTC [peer] func1 -> INFO 07e Auto-detected peer address: 172.18.0.9:7051}}
{{2019-10-09 10:41:52.256 UTC [peer] func1 -> INFO 07f Returning peer0.}}{{org1}}{{:7051}}
{{fatal error: unexpected signal during runtime execution}}
{{[signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x7fbb605ea259]}}{{runtime stack:}}
{{runtime.throw(0x123f0ff, 0x2a)}}
{{ /opt/go/src/runtime/panic.go:608 +0x72}}
{{runtime.sigpanic()}}
{{ /opt/go/src/runtime/signal_unix.go:374 +0x2f2}}{{goroutine 96 [syscall]:}}
{{runtime.cgocall(0xe1bdc0, 0xc000458e00, 0x29)}}
{{ /opt/go/src/runtime/cgocall.go:128 +0x5e fp=0xc000458dc8 sp=0xc000458d90 pc=0x4039ee}}
{{net._C2func_getaddrinfo(0xc000041500, 0x0, 0xc0002c5380, 0xc000136410, 0x0, 0x0, 0x0)}}
{{ _cgo_gotypes.go:92 +0x55 fp=0xc000458e00 sp=0xc000458dc8 pc=0x615b95}}
{{net.cgoLookupIPCNAME.func1(0xc000041500, 0x0, 0xc0002c5380, 0xc000136410, 0x20, 0x20, 0xc00003a680)}}
{{ /opt/go/src/net/cgo_unix.go:149 +0x131 fp=0xc000458e48 sp=0xc000458e00 pc=0x61b2b1}}
{{net.cgoLookupIPCNAME(0xc0000420d8, 0x1f, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)}}
{{ /opt/go/src/net/cgo_unix.go:149 +0x153 fp=0xc000458f38 sp=0xc000458e48 pc=0x617153}}
{{net.cgoIPLookup(0xc0002ba900, 0xc0000420d8, 0x1f)}}
{{ /opt/go/src/net/cgo_unix.go:201 +0x4d fp=0xc000458fc8 sp=0xc000458f38 pc=0x61780d}}
{{runtime.goexit()}}
{{ /opt/go/src/runtime/asm_amd64.s:1333 +0x1 fp=0xc000458fd0 sp=0xc000458fc8 pc=0x45dc81}}
{{created by net.cgoLookupIP}}
{{ /opt/go/src/net/cgo_unix.go:211 +0xad}}{{goroutine 1 [select]:}}
{{net.(*Resolver).LookupIPAddr(0x1f2ccc0, 0x1380620, 0xc000048090, 0xc0000420d8, 0x1f, 0xc0000420f8, 0x4, 0x1b8b, 0x0, 0x0)}}
{{ /opt/go/src/net/lookup.go:227 +0x55f}}
{{net.(*Resolver).internetAddrList(0x1f2ccc0, 0x1380620, 0xc000048090, 0x120a1ae, 0x3, 0xc0000420d8, 0x24, 0x0, 0x0, 0x0, ...)}}
{{ /opt/go/src/net/ipsock.go:279 +0x614}}
{{net.(*Resolver).resolveAddrList(0x1f2ccc0, 0x1380620, 0xc000048090, 0x120cfc8, 0x6, 0x120a1ae, 0x3, 0xc0000420d8, 0x24, 0x0, ...)}}
{{ /opt/go/src/net/dial.go:202 +0x4fb}}
{{net.(*ListenConfig).Listen(0xc0000293d8, 0x1380620, 0xc000048090, 0x120a1ae, 0x3, 0xc0000420d8, 0x24, 0x8, 0x203000, 0xc000461080, ...)}}
{{ /opt/go/src/net/dial.go:591 +0xaa}}
{{net.Listen(0x120a1ae, 0x3, 0xc0000420d8, 0x24, 0x20, 0x20, 0x11208c0, 0xc0000294c8)}}
{{ /opt/go/src/net/dial.go:674 +0x7e}}
{{github.com/hyperledger/fabric/core/comm.NewGRPCServer(0xc0000420d8, 0x24, 0x0, 0xc000212a20, 0x1e64b20, 0xc00045f850, 0x2, 0x2, 0xc00045f810, 0x2, ...)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/core/comm/server.go:50 +0xd8}}
{{github.com/hyperledger/fabric/core/peer.NewPeerServer(0xc0000420d8, 0x24, 0x0, 0xc000212a20, 0x1e64b20, 0xc00045f850, 0x2, 0x2, 0xc00045f810, 0x2, ...)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:698 +0x6d}}
{{github.com/hyperledger/fabric/peer/node.serve(0xc0004b35c0, 0x0, 0x1, 0x0, 0x0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:225 +0xb6f}}
{{github.com/hyperledger/fabric/peer/node.glob..func1(0x1e3fbe0, 0xc0004b35c0, 0x0, 0x1, 0x0, 0x0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:119 +0x9c}}
{{github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1e3fbe0, 0xc0004b35a0, 0x1, 0x1, 0x1e3fbe0, 0xc0004b35a0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:762 +0x473}}
{{github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1e40300, 0x8, 0x0, 0x1e3f4c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:852 +0x2fd}}
{{github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1e40300, 0xc000029f40, 0x1)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:800 +0x2b}}
{{main.main()}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:53 +0x2f7}}{{goroutine 34 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc0001962a0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 7 [syscall]:}}
{{os/signal.signal_recv(0x0)}}
{{ /opt/go/src/runtime/sigqueue.go:139 +0x9c}}
{{os/signal.loop()}}
{{ /opt/go/src/os/signal/signal_unix.go:23 +0x22}}
{{created by os/signal.init.0}}
{{ /opt/go/src/os/signal/signal_unix.go:29 +0x41}}{{goroutine 10 [IO wait]:}}
{{internal/poll.runtime_pollWait(0x7fbb682fef00, 0x72, 0x0)}}
{{ /opt/go/src/runtime/netpoll.go:173 +0x66}}
{{internal/poll.(*pollDesc).wait(0xc00013a518, 0x72, 0xc00003a100, 0x0, 0x0)}}
{{ /opt/go/src/internal/poll/fd_poll_runtime.go:85 +0x9a}}
{{internal/poll.(*pollDesc).waitRead(0xc00013a518, 0xffffffffffffff00, 0x0, 0x0)}}
{{ /opt/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d}}
{{internal/poll.(*FD).Accept(0xc00013a500, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)}}
{{ /opt/go/src/internal/poll/fd_unix.go:384 +0x1a0}}
{{net.(*netFD).accept(0xc00013a500, 0x7fbb6bd6dd80, 0x0, 0xc00005f6b0)}}
{{ /opt/go/src/net/fd_unix.go:238 +0x42}}
{{net.(*TCPListener).accept(0xc000180da0, 0xc00005f6b8, 0x40d1d8, 0x30)}}
{{ /opt/go/src/net/tcpsock_posix.go:139 +0x2e}}
{{net.(*TCPListener).Accept(0xc000180da0, 0x11456e0, 0xc0002c00c0, 0x1048300, 0x1e32170)}}
{{ /opt/go/src/net/tcpsock.go:260 +0x47}}
{{net/http.(*Server).Serve(0xc0000afe10, 0x137f620, 0xc000180da0, 0x0, 0x0)}}
{{ /opt/go/src/net/http/server.go:2826 +0x22f}}
{{created by github.com/hyperledger/fabric/core/operations.(*System).Start}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/core/operations/system.go:121 +0x1a3}}{{goroutine 11 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc000142680)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 12 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc000142680)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 13 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc000142680)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 14 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc000142680)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 15 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc000196380)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 51 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc000142820)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 52 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc000142820)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 53 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc000142820)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 54 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc000142820)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 55 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc000196540)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 56 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc0001429c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 57 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc0001429c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 58 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc0001429c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 59 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc0001429c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 60 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc000196700)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 61 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc000142b60)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 62 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc000142b60)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 63 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc000142b60)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 64 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc000142b60)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 65 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc0001968c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 66 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc000143520)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 67 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc000143520)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 68 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc000143520)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 69 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc000143520)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 70 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc000196a80)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x12a}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x177}}{{goroutine 71 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc0001436c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xd3}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x40c}}{{goroutine 72 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc0001436c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0xe7}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x42e}}{{goroutine 73 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc0001436c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x331}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x58c}}{{goroutine 74 [select]:}}
{{github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc0001436c0)}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x12e}}
{{created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB}}
{{ /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x5ae}}{{goroutine 83 [IO wait]:}}
{{internal/poll.runtime_pollWait(0x7fbb682fee30, 0x72, 0xc000017a88)}}
{{ /opt/go/src/runtime/netpoll.go:173 +0x66}}
{{internal/poll.(*pollDesc).wait(0xc000185118, 0x72, 0xffffffffffffff00, 0x1369320, 0x1e62ed0)}}
{{ /opt/go/src/internal/poll/fd_poll_runtime.go:85 +0x9a}}
{{internal/poll.(*pollDesc).waitRead(0xc000185118, 0xc00048a000, 0x1000, 0x1000)}}
{{ /opt/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d}}
{{internal/poll.(*FD).Read(0xc000185100, 0xc00048a000, 0x1000, 0x1000, 0x0, 0x0, 0x0)}}
{{ /opt/go/src/internal/poll/fd_unix.go:169 +0x179}}
{{net.(*netFD).Read(0xc000185100, 0xc00048a000, 0x1000, 0x1000, 0xc000017b70, 0x45a870, 0xc000000300)}}
{{ /opt/go/src/net/fd_unix.go:202 +0x4f}}
{{net.(*conn).Read(0xc000136300, 0xc00048a000, 0x1000, 0x1000, 0x0, 0x0, 0x0)}}
{{ /opt/go/src/net/net.go:177 +0x68}}
{{net/http.(*persistConn).Read(0xc0003f9e60, 0xc00048a000, 0x1000, 0x1000, 0xc000017c70, 0x405a35, 0xc00021aae0)}}
{{ /opt/go/src/net/http/transport.go:1497 +0x75}}
{{bufio.(*Reader).fill(0xc0004624e0)}}
{{ /opt/go/src/bufio/bufio.go:100 +0x106}}
{{bufio.(*Reader).Peek(0xc0004624e0, 0x1, 0x0, 0x0, 0x1, 0xc00021b5c0, 0x0)}}
{{ /opt/go/src/bufio/bufio.go:132 +0x3f}}
{{net/http.(*persistConn).readLoop(0xc0003f9e60)}}
{{ /opt/go/src/net/http/transport.go:1645 +0x1a2}}
{{created by net/http.(*Transport).dialConn}}
{{ /opt/go/src/net/http/transport.go:1338 +0x941}}{{goroutine 84 [select]:}}
{{net/http.(*persistConn).writeLoop(0xc0003f9e60)}}
{{ /opt/go/src/net/http/transport.go:1885 +0x113}}
{{created by net/http.(*Transport).dialConn}}
{{ /opt/go/src/net/http/transport.go:1339 +0x966}}{{goroutine 95 [select]:}}
{{net.cgoLookupIP(0x13805e0, 0xc00003ad40, 0xc0000420d8, 0x1f, 0x0, 0x1, 0xc00018716f, 0x4, 0x0, 0x27)}}
{{ /opt/go/src/net/cgo_unix.go:212 +0x17b}}
{{net.(*Resolver).lookupIP(0x1f2ccc0, 0x13805e0, 0xc00003ad40, 0xc0000420d8, 0x1f, 0x2, 0xc000093c80, 0xc000130d80, 0xc000133068, 0xc000458f2a)}}
{{ /opt/go/src/net/lookup_unix.go:95 +0x166}}
{{net.(*Resolver).lookupIP-fm(0x13805e0, 0xc00003ad40, 0xc0000420d8, 0x1f, 0x42bd62, 0x8, 0xc000130d80, 0xc00003a680, 0xc000458ea0)}}
{{ /opt/go/src/net/lookup.go:207 +0x56}}
{{net.glob..func1(0x13805e0, 0xc00003ad40, 0xc00045f860, 0xc0000420d8, 0x1f, 0xc0002c4101, 0xc000458ee8, 0x49d056, 0xc0002c8eb8, 0x1)}}
{{ /opt/go/src/net/hook.go:19 +0x52}}
{{net.(*Resolver).LookupIPAddr.func1(0x0, 0x0, 0x0, 0x0)}}
{{ /opt/go/src/net/lookup.go:221 +0xd8}}
{{internal/singleflight.(*Group).doCall(0x1f2ccd0, 0xc0002c9590, 0xc0000420d8, 0x1f, 0xc0002c5320)}}
{{ /opt/go/src/internal/singleflight/singleflight.go:95 +0x2e}}
{{created by internal/singleflight.(*Group).DoChan}}
{{ /opt/go/src/internal/singleflight/singleflight.go:88 +0x2a0}}

 

If it helps, my system is:

{{lsb_release -a}}
{{No LSB modules are available.}}
{{Distributor ID: Ubuntu}}
{{Description: Ubuntu 18.04.3 LTS}}
{{Release: 18.04}}
{{Codename: bionic}}

 ",,denyeart,Tecnalia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15026,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0120b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Tecnalia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Oct/19 5:11 PM;yacovm;Looks like this is a DNS resolver issue .... you can try setting the following environment variable for each of the entries in the environment variables
{code:java}
GODEBUG=netdns=go {code}
 ;;;","22/Oct/19 4:25 AM;denyeart;This should be resolved in release-1.4 branch with FAB-15026 and will be delivered in v1.4.4.

Can you try building a new image from release-1.4 and see if the problem is resolved?;;;","25/Nov/19 7:54 PM;Tecnalia;[~denyeart] I was using docker images 1.4. I suppose release-14 tag contains the same code as docker image 1.4.

Do I need to manually build from sources or should it be fixed in that Docker version? Just let me know to try it;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix logger messages in PvtdataProvider,FAB-16818,42730,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,12/Oct/19 12:28 AM,12/Oct/19 3:59 AM,28/Oct/23 3:09 AM,12/Oct/19 3:59 AM,,,,,,,,,,,,,,,0,,,,,"Some formatted strings aren't using the correct logger api call, as a matter of fact we should just go ahead and standardize the logging here to just use formatted strings and the appropriate logger function call when necessary.",,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0121v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add k8s_testsuite to release-1.4 branch in master,FAB-16819,42733,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,12/Oct/19 4:45 AM,05/Nov/19 8:16 AM,28/Oct/23 3:09 AM,05/Nov/19 8:16 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,,,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16672,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxz6",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Oct/19 11:51 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33953/];;;","05/Nov/19 8:16 AM;scottz;Also a second patchset with same Jira number:

[https://gerrit.hyperledger.org/r/c/fabric-test/+/34188];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-ca-master job: Fail to start container ""$PWD/../../tools/CTE/"" for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows",FAB-16820,42734,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,scottz,vijaypunugubati,vijaypunugubati,12/Oct/19 5:05 AM,07/Nov/19 8:35 AM,28/Oct/23 3:09 AM,07/Nov/19 3:53 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,,,,"fabric-test-daily-ca-master job: Fail to start container ""$PWD/../../tools/CTE/"" for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows.

This error was first observed on 8th Oct 2019.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/cmd = ['mkdir -p /tmp/logs/FAB7206; chmod 777 /tmp/logs/FAB7206;docker run -v $PWD/../../tools/CTE/:/tmp/test -v /tmp/logs/F...$PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt /tmp/test/crl_test.sh']

    def check_output(*popenargs, **kwargs):
        r""""""Run command with arguments and return its output as a byte string.
    
        If the exit code was non-zero it raises a CalledProcessError.  The
        CalledProcessError object will have the return code in the returncode
        attribute and output in the output attribute.
    
        The arguments are the same as for the Popen constructor.  Example:
    
        >>> check_output([""ls"", ""-l"", ""/dev/null""])
        'crw-rw-rw- 1 root root 1, 3 Oct 18  2007 /dev/null\n'
    
        The stdout argument is not allowed as it is used internally.
        To capture standard error in the result, use stderr=STDOUT.
    
        >>> check_output([""/bin/sh"", ""-c"",
        ...               ""ls -l non_existent_file ; exit 0""],
        ...              stderr=STDOUT)
        'ls: non_existent_file: No such file or directory\n'
        """"""
        if 'stdout' in kwargs:
            raise ValueError('stdout argument not allowed, it will be overridden.')
        process = Popen(stdout=PIPE, *popenargs, **kwargs)
        output, unused_err = process.communicate()
        retcode = process.poll()
        if retcode:
            cmd = kwargs.get(""args"")
            if cmd is None:
                cmd = popenargs[0]
>           raise CalledProcessError(retcode, cmd, output=output)
E           CalledProcessError: Command '['mkdir -p /tmp/logs/FAB7206; chmod 777 /tmp/logs/FAB7206;docker run -v $PWD/../../tools/CTE/:/tmp/test -v /tmp/logs/FAB7206:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt /tmp/test/crl_test.sh']' returned non-zero exit status 24

/usr/lib/python2.7/subprocess.py:574: CalledProcessError/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/365/testReport/ca_tests/FabricCaTests/test_FAB7206_GenCrlWindows/]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16960,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxz7i",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/19 5:23 AM;scottz;debug (cat config for gen_crl test, in patchset2) with [https://gerrit.hyperledger.org/r/c/fabric-test/+/34061];;;","23/Oct/19 11:00 PM;scottz;Status update: I see both the clustering and gencrl tests have failed every day in the CI daily job for at least a week. However, I can successfully run the gencrl test on my laptop today, after clone and build fabric-ca. (I skipped the clustering test.) Has anyone else tried to run it locally? [~btl5037] [~vijaypunugubati] We can explore what is different between my environment and the CI job.
{quote}$ date  ; ./runCATestSuite.sh ; date; ls -l results_fabric-ca_tests.xml

Wed Oct 23 09:37:55 EDT 2019

======== Fabric-CA tests...========

*========================================================================= test session starts ==========================================================================*

platform darwin -- Python 2.7.16, pytest-4.6.4, py-1.8.0, pluggy-0.12.0 -- /usr/local/opt/python@2/bin/python2.7

cachedir: .pytest_cache

rootdir: /Users/scottz@us.ibm.com/go/src/github.com/hyperledger/fabric-test/regression/daily

*collected 2 items *                                                                                                                                                     

 

ca_tests.py::FabricCaTests::test_FAB6863_BasicCAClustering SKIPPED                                                                                               [ 50%]

ca_tests.py::FabricCaTests::test__FAB7206_GenCrlWindows PASSED                                                                                                   [100%]

 

----------------- generated xml file: /Users/scottz@us.ibm.com/go/src/github.com/hyperledger/fabric-test/regression/daily/results_fabric-ca_tests.xml ------------------

*================================================================ 1 passed, 1 skipped in 309.84 seconds =================================================================*

------> Fabric-CA tests completed.

Wed Oct 23 09:43:05 EDT 2019
{quote};;;","24/Oct/19 5:04 AM;scottz;STATUS: The original problem is not seen anymore. There are two groupings of tests. Both are failing daily now. Data in the CI job results show only the errors for the BasicCAClustering tests because the output exceeds 64K and then the IOError is displayed when the tool aborts.

Currently retesting, using [https://gerrit.hyperledger.org/r/c/fabric-test/+/34072]. The GenCRL tests pass on my laptop; I am using an older version of openssl than the CI. This may be a factor, but still trying to confirm if that is the only factor, and if using the newer openssl version requires updates to the script tools/CTE/crl_test.sh.

 
{quote}Errors for GenCRL tests in CI:
 ca_tests.py::FabricCaTests::test_FAB7206_GenCrlWindows FAILED

CalledProcessError: Command '['mkdir -p /tmp/logs/FAB7206; chmod 777 /tmp/logs/FAB7206;docker run -v $PWD/../../tools/CTE/:/tmp/test -v /tmp/logs/FAB7206:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt /tmp/test/crl_test.sh']' returned non-zero exit status 24
{quote}
{quote}Error: Failed to parse response: Client sent an HTTP request to an HTTPS server. : invalid character 'C' looking for beginning of value Can't open /tmp/gencrl/admin/msp/crls/crl.pem for reading, No such file or directory{quote}
 
{quote}Errors opening files (steady stream of them) for the BasicCAClustering tests:
 ca_tests.py::FabricCaTests::test_FAB6863_BasicCAClustering FAILED


CalledProcessError: Command '['mkdir -p /tmp/logs/FAB6863; chmod 777 /tmp/logs/FAB6863;docker run -v /tmp/logs/FAB6863:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt ./scripts/fvt/cluster_test.sh 4 4 8 128']' returned non-zero exit status 56


 Can't open /tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem for reading, No such file or directory*00:42:11.182* 140310278988928:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:69:fopen('/tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem','r')*00:42:11.182* 140310278988928:error:2006D080:BIO routines:BIO_new_[file:no|file:///no] such [file:../crypto/bio/bss_file.c:76:*00:42:11.182*|file:///crypto/bio/bss_file.c:76:*00:42:11.182*] unable to load certificate
{quote};;;","30/Oct/19 12:00 AM;vijaypunugubati;Refer this [https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34072/] to get the error log which are not captured in the jenkins builds.;;;","07/Nov/19 3:53 AM;scottz;fabric-ca changes were made. This error is no longer seen in our fabric-test job. Refer to other bugs for new failures investigations.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support skipPullingInvalidTransactions flag in PvtdataProvider,FAB-16821,42735,41306,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,12/Oct/19 5:33 AM,21/Oct/19 6:22 PM,28/Oct/23 3:09 AM,21/Oct/19 6:22 PM,,,,,,,,,,,,,,,0,,,,,"This optimization used to exist in the coordinator path, let's add it back to PvtdataProvider",,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0122z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The fabric-samples /first-network/docker-compose-kafka.yaml error,FAB-16822,42736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,TopJohn,TopJohn,TopJohn,12/Oct/19 4:41 PM,26/Apr/20 1:57 PM,28/Oct/23 3:09 AM,26/Apr/20 1:57 PM,v1.4.3,,,,,,,,,fabric-samples,,,,,0,config,,,,"the environment:
 ZOOKEEPER_CLIENT_PORT and  ZOOKEEPER_TICK_TIME should start with ZOO_ ,not  ZOOKEEPER_. It depends on docker image's  script `docker-entrypoint.sh` .",,denyeart,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01237:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/19 7:06 PM;denyeart;Note that Kafka support was removed from the master (v2.0.0) sample since the recommendation is to use Raft now.;;;","26/Apr/20 1:57 PM;denyeart;Maintainers have decided to only invest in Raft for samples going forward.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Intermittent test failure - Raft ""removes leader from replica set""",FAB-16823,42737,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,guoger,guoger,guoger,12/Oct/19 8:28 PM,28/Nov/19 6:21 PM,28/Oct/23 3:09 AM,28/Nov/19 6:21 PM,v1.4.3,,,,,v1.4.4,v2.0.0,,,fabric-orderer,,,,,0,ci-flake,,,,https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15587/consoleFull,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Oct/19 8:29 PM;guoger;consoleText.txt;https://jira.hyperledger.org/secure/attachment/17876/consoleText.txt",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0123f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/19 6:21 PM;guoger;Re-open if it resurfaces;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unused deliver client,FAB-16824,42738,41558,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nnao,nnao,nnao,13/Oct/19 2:31 PM,23/Oct/19 9:17 PM,28/Oct/23 3:09 AM,23/Oct/19 9:17 PM,v1.4.3,v2.0.0,,,,v1.4.4,v2.0.0,,,fabric-cli,,,,,0,,,,,Channel update command does not use the deliver client.,,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0123n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Oct/19 2:38 PM;nnao;[https://gerrit.hyperledger.org/r/c/fabric/+/33960];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Some cli command forget to close gRPC connection,FAB-16825,42739,41558,Sub-task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,nnao,nnao,nnao,13/Oct/19 2:33 PM,03/Dec/19 9:03 AM,28/Oct/23 3:09 AM,,v1.4.3,v2.0.0,,,,v2.0.0,,,,fabric-cli,fabric-peer,,,,0,,,,,"""approveformyorg"", ""commit"" and ""fetch"" CLIs",,denyeart,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0123v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Oct/19 2:42 PM;nnao;[https://gerrit.hyperledger.org/r/c/fabric/+/33961];;;","03/Dec/19 9:03 AM;denyeart;abandoned, please resubmit in GitHub.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Can't work ""defer""  for connection close",FAB-16826,42740,41558,Sub-task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,nnao,nnao,nnao,13/Oct/19 2:49 PM,11/Nov/19 10:52 PM,28/Oct/23 3:09 AM,,v1.4.3,v2.0.0,,,,v2.0.0,,,,fabric-cli,fabric-common,,,,0,,,,,"some CLI commands use ""defer"" to close a connection. However, there is not working and are showing some warning message.",,nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01243:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nnao,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Question: Python chaincode?,FAB-16827,42744,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Invalid,DaniGuardiola,DaniGuardiola,DaniGuardiola,14/Oct/19 6:19 PM,19/Apr/20 1:48 PM,28/Oct/23 3:09 AM,19/Apr/20 1:48 PM,,,,,,,,,,,,,,,0,,,,,"Hello there!

 

I'm interested in helping develop the required software modules to make Python chaincode a reality. I've been investigating the issues and I haven't seen anything on the matter. The only related thing I spotted is the Python SDK but I don't think that covers it.

 

Can someone point me to the right direction? Is there any issue or message board where this is being discussed? And if there is not a project of this kind in progress already, how can I go about getting it started? Who should I talk to / where can I find the development guidelines?

 

Thank you! :)",,DaniGuardiola,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0124z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),DaniGuardiola,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Oct/19 7:13 PM;yacovm;[~ChristopherFerris]  ;;;","14/Oct/19 7:15 PM;yacovm;A good place to ask these things - is in the contributor call (webex) on Wednesday, 4 PM (GMT+3) - https://zoom.us/my/hyperledger.community.3 is the link 

or in https://chat.hyperledger.org/channel/fabric-maintainers ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create configuration package of structures that represent the current contents of core.yaml,FAB-16828,42748,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 3:59 AM,24/Oct/19 8:34 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-peer,,,,,0,,,,,"Create a {{peerconfig}} package that holds structures that {{core.yaml}} can be decoded into. Several small structures will be required to hold the elements that are aggregated in stanzas.

The godoc for each field will become the user consumable documentation (where the field name is rewritten to the configuration key) so care should be taken to make it as clear as possible.

Each field needs yaml, default, and example tags as appropriate. 

The {{yaml}} tag controls the yaml encoding and decoding process as documented by go-yaml.
The {{default}} tag determines the default configuration value. When omitted, the zero value for the field is the default value for the element.
The {{example}} tag determines the value to provide in the example configuration document. If the value is not specified, the default value will be used in the example document. If the example should show the field as commented, the specification can end with a {{,comment}} flag.

An example:

{code}
// Peer holds the peer confguration.
type Peer struct {
	// ID provides a name for this peer instance. When docker is used to build
	// and host chaincode, the ID is included as part of the name.
	ID string `yaml:""id,omitempty"" example:""jdoe""`

	// NetworkID is used to enable logical seggregation of netorks. It is only used
	// when naming docker resources.
	NetworkID string `yaml:""networkId,omitempty"" example:""dev""`

	// ListenAddress controls the network address (and interface) the peer
	// listens on. By default, the peer will listen on all local interfaces.
	ListenAddress string `yaml:""listenAddress,omitempty"" default:"":7051""`

	// ChaincodeListenAddress controls the address (and interface) the peer
	// listens on for chaincode connections. If omitted, ListenAddress is used.
	ChaincodeListenAddress string `yaml:""chaincodeListenAddress,omitempty"" example:""0.0.0.0:7052,comment""`
...
{code}

A {{defaultValue}} tag can be used to reference an exported var that holds the default structure by providing the name of the variable. The variable must be in the same package.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16829,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6ro",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/19 4:10 AM;wlahti;[https://gerrit.hyperledger.org/r/c/fabric/+/34045];;;","24/Oct/19 8:34 PM;sykesm;Work has been abandoned.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create configuration package of structures that represent the current contents of orderer.yaml,FAB-16829,42749,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 4:00 AM,24/Oct/19 8:35 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-orderer,,,,,0,,,,,"Create an {{ordererconfig}} package that holds structures that {{orderer.yaml}} can be decoded into. Several small structures will be required to hold the elements that are aggregated in stanzas.

The godoc for each field will become the user consumable documentation (where the field name is rewritten to the configuration key) so care should be taken to make it as clear as possible.

Each field needs yaml, default, and example tags as appropriate. 

The {{yaml}} tag controls the yaml encoding and decoding process as documented by go-yaml.
The {{default}} tag determines the default configuration value. When omitted, the zero value for the field is the default value for the element.
The {{example}} tag determines the value to provide in the example configuration document. If the value is not specified, the default value will be used in the example document. If the example should show the field as commented, the specification can end with a {{,comment}} flag.

An example:

{code}
// Peer holds the peer confguration.
type Peer struct {
	// ID provides a name for this peer instance. When docker is used to build
	// and host chaincode, the ID is included as part of the name.
	ID string `yaml:""id,omitempty"" example:""jdoe""`

	// NetworkID is used to enable logical seggregation of netorks. It is only used
	// when naming docker resources.
	NetworkID string `yaml:""networkId,omitempty"" example:""dev""`

	// ListenAddress controls the network address (and interface) the peer
	// listens on. By default, the peer will listen on all local interfaces.
	ListenAddress string `yaml:""listenAddress,omitempty"" default:"":7051""`

	// ChaincodeListenAddress controls the address (and interface) the peer
	// listens on for chaincode connections. If omitted, ListenAddress is used.
	ChaincodeListenAddress string `yaml:""chaincodeListenAddress,omitempty"" example:""0.0.0.0:7052,comment""`
...
{code}

A {{defaultValue}} tag can be used to reference an exported var that holds the default structure by providing the name of the variable. The variable must be in the same package.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16828,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rp",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Create configuration package that is capable of decoding yaml into a structure and applying defaults from the ""default"" tag",FAB-16830,42750,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 4:28 AM,24/Oct/19 8:35 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"As part of the drive to make configuration more centralized and explicit, configuration structures will be defined with {{yaml}} tags and, optionally, a {{default}} value tag.

We need a configuration package that implements a thin veneer over the yaml package to populate unspecified configuration data with values from the {{default}} tag when the yaml document does not specify a value.

For example, decoding
{code:yaml}
---
stringOne: my special string
{code}

into a reference to a zero value of this structure:
{code:go}
type StringsAndNumbers struct {
	StringOne string   `yaml:""stringOne"" default:""one""`
	StringTwo string   `yaml:""stringTwo"" default:""two""`
	Numbers   *Numbers `yaml:""numbers,omitempty""`
}
{code}

where {{Numbers}} is defined as:
{code:go}
type Numbers struct {
	NumberOne int `yaml:""numberOne"" default:""1""`
	NumberTwo int `yaml:""numberTwo"" default:""2""`
}
{code}

should result in a value that is equivalent to one that is decoded from this yaml:
{code:yaml}
---
stringOne: my special string
stringTwo: two
numbers:
  numberOne: 1
  numberTwo: 2
{code}

Notice the default values from the {{Numbers}} structure are populated.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rq",,,,Unset,Unset,,(Please add steps to reproduce),5.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 11:35 PM;sykesm;Additional note: The ""default"" tag is just the ""default"" tag and not defaultValue.
Additional note: The default tag contains string representations that need to be converted to the receiving type. Consider when the conversion fails.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace configtxgen usage of viper with explicit decoding into yaml structures,FAB-16831,42751,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 4:48 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"The configtxgen packages use {{viper}} and {{viperutil.EnhancedExactUnmarshal}} to parse {{configtx.yaml}}. With the move away from viper, this should be replaced with vanilla yaml unmarshalling and path reference handling.

As there are a number of places where {{configtx.yaml}} uses maps of a user provided name to some structured data (instead of lists of structured data with names), there may be some complications.

It is extremely important that we do not break backward compatibility with the legacy configuration file format but we are removing the ability to override configuration data from environment variables.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rqi",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decode core.yaml into peer configuration structure when starting the peer node or cli,FAB-16832,42752,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 4:59 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-peer,,,,,0,,,,,"Where viper is initialized today (in cmd/peer/main.go), using the new configuration package, parse {{core.yaml}} into the peer configuration structures. Explicitly pass the configuration to the command constructors to enable future changes that have the commands pull their configuration from the struct instead of viper.

The viper infrastructure should remain active to prevent modifications to tests and existing implementations that rely on environment variables.

Acceptance: 

Parsing of existing core.yaml should be successful in the main.

Out of scope: removing viper from anything or rewiring to use the new config. Future stories/tasks will be created for that work.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rq1i",,,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove viper references from core/chaincode/config.go,FAB-16833,42753,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,15/Oct/19 5:07 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-peer,,,,,0,,,,,"{{chaincode.GlobalConfig}} re-initializes viper and uses it to acquire configuration data. Instead of loading the global config, the appropriate configuration data should be provided to the components out of peer/node/start.go.

The tests that continue to use viper to setup or query configuration that was part of the {{chaincode.Config}} struct should be updated to stop using viper.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rqc",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
typo fix,FAB-16834,42754,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,15/Oct/19 10:39 AM,21/Oct/19 12:18 PM,28/Oct/23 3:09 AM,21/Oct/19 12:18 PM,v1.4.3,,,,,v2.0.0,,,,,,,,,0,,,,,"when I read the resource code, I found some spelling error, I want to correct it.",,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0125v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Policy evaluation should return complete set of warning messages so that any abnormalities may be placed in the right scope/context,FAB-16835,42756,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,ales,ales,15/Oct/19 7:39 PM,19/Apr/20 1:46 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-crypto,,,,,0,,,,,"See discussion here

https://gerrit.hyperledger.org/r/#/c/33454/3/common/policies/policy.go@345",,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|i0126b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Plugin builds done for integration tests can take longer than 1 minute,FAB-16836,42758,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,15/Oct/19 10:39 PM,16/Oct/19 2:14 AM,28/Oct/23 3:09 AM,16/Oct/19 2:14 AM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,ci-flake,,,,"It looks like the plugins can take longer than a minute to compile. This results in the plugin integration tests failing in CI.

{code}
14:25:11 [1571060318] [1mPluggable endorsement and validation EndToEnd Suite[0m - 1/1 specs 
14:25:11 [90m------------------------------[0m
14:25:11 [91m[1m• Failure in Spec Setup (BeforeEach) [84.235 seconds][0m
14:25:11 [90mEndToEnd [0m[91m[1m[BeforeEach] executes a basic solo network with specified plugins [0m
14:25:11 [37m/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pluggable/pluggable_test.go:116[0m
14:25:11 
14:25:11   [91mTimed out after 60.002s.
14:25:11   Expected process to exit.  It did not.[0m
14:25:11 
14:25:11   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pluggable/pluggable_test.go:138
14:25:11 [90m------------------------------[0m
14:25:11 
14:25:11 
14:25:11 [91m[1mSummarizing 1 Failure:[0m
14:25:11 
14:25:11 [91m[1m[Fail] [0m[90mEndToEnd [0m[91m[1m[BeforeEach] executes a basic solo network with specified plugins [0m
14:25:11 [37m/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pluggable/pluggable_test.go:138[0m
14:25:11 
14:25:11 [1m[91mRan 1 of 1 Specs in 84.278 seconds[0m
14:25:11 [1m[91mFAIL![0m -- [32m[1m0 Passed[0m | [91m[1m1 Failed[0m | [33m[1m0 Pending[0m | [36m[1m0 Skipped[0m
14:25:11 --- FAIL: TestPluggable (84.28s)
14:25:11 FAIL
{code}

I believe it's just taking too long since we see no output from the command it the error really is a timeout.

Two actions:
- Enable verbose output for the command
- Extend the timeout to 2 minutes",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0126r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Oct/19 10:59 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/33973 [FAB-16836] plugin builds may take longer than 60s;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change logging in PTE to appropriate levels,FAB-16838,42761,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,15/Oct/19 11:29 PM,07/Nov/19 11:45 PM,28/Oct/23 3:09 AM,24/Oct/19 7:07 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Change logging in PTE to appropriate levels (from info to error for exit 1),,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxzs",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/19 1:42 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/33976/;;;","06/Nov/19 8:08 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34254] prop to 1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize configtxgen,FAB-16840,42763,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,aleksandar.likic,aleksandar.likic,16/Oct/19 4:25 AM,16/Oct/19 4:29 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,1,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of configtxgen functions rather than copying & modifying the code into the SDK.

We currently have a modified version of configtxgen functions in the Go SDK:
 * [https://github.com/hyperledger/fabric-sdk-go/blob/master/pkg/fab/resource/configtx.go]
 * [https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/sdkinternal/configtxgen]",,aleksandar.likic,kopaygorodsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i0127v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,kopaygorodsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Externalize configtxlator,FAB-16841,42764,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,aleksandar.likic,aleksandar.likic,16/Oct/19 4:31 AM,16/Oct/19 4:31 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"As a Fabric Go SDK maintainer, we would prefer to use an externalized copy of configtxlator functions rather than copying & modifying the code into the SDK.

We currently have a modified version of configtxlator functions in the Go SDK:
 * [https://github.com/hyperledger/fabric-sdk-go/tree/master/internal/github.com/hyperledger/fabric/sdkinternal/configtxlator]",,aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16461,,,No,,Unset,No,,,"1|i01283:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aleksandar.likic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare external builder support for configuring external chaincode,FAB-16842,42765,37468,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,16/Oct/19 7:02 AM,22/Nov/19 6:25 AM,28/Oct/23 3:09 AM,22/Nov/19 6:25 AM,,,,,,,,,,,,,,,0,,,,,"External Builder support in 2.0 allows users to inject custom deployment of chaincodes using scripts. This task will pave way for specifying ""external"" chaincode as the connectivity mechanism.",,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0128b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
orderer container crashed when creating orderer block with Idemix,FAB-16843,42767,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,,justformorefun,justformorefun,16/Oct/19 4:19 PM,22/Oct/19 4:27 AM,28/Oct/23 3:09 AM,22/Oct/19 4:27 AM,,,,,,,,,,,,,,,0,,,,,"I came across the same problem as [FAB-15108|https://jira.hyperledger.org/browse/FAB-15108] encountered.  But from that, I cannot know viable ways for my problem. I run  docker-compose -f docker-compose.yaml up -d to bootstrap a fabric network with idemix orgs. But I found that orderer container exited with docker ps -a while other components(eg, CA, peer) are up. The key logs from the orderer container are as follows:

panic: Failed validating bootstrap block: initializing channelconfig failed: could not create channel Consortiums sub-group config: creating the MSP manager failed: Invalid *IdemixNewOpts. Version not recognized [0]

Other useful background:
 * Fabric v1.4.1

See  orderer-log.txt for all log that  the orderer  container printed:

[^orderer-log.txt]

^See configtx.yaml for config file.^

[^configtx.yaml]

 

^Any potential replies will be appreciated, thanks.^

 ",,justformorefun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 4:06 PM;justformorefun;configtx.yaml;https://jira.hyperledger.org/secure/attachment/17883/configtx.yaml","16/Oct/19 4:13 PM;justformorefun;orderer-log.txt;https://jira.hyperledger.org/secure/attachment/17882/orderer-log.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0128r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),justformorefun,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 6:12 PM;justformorefun;I found the reason. I forget updating config dir. Please ignore. I will close it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
byfn.sh cleans previously chaincode containers but only 'mycc',FAB-16844,42769,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,16/Oct/19 6:49 PM,16/Dec/19 8:20 PM,28/Oct/23 3:09 AM,16/Dec/19 8:20 PM,v1.4.3,,,,,,,,,fabric-samples,,,,,0,,,,,"Docker images for other chaincodes eg fabcar won't be cleaned up. 

The script makes an assumption that the name matches `dev-peer.*mycc*` which won't match fabcar",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0128z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Oct/19 6:56 PM;mbwhite;https://gerrit.hyperledger.org/r/c/fabric-samples/+/33985 [FAB-16844] Modify pattern for cc images;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to create channel with Permission Denied when enabled NodeOU's and define Organizational Units,FAB-16846,42771,,Bug,To Do,FAB,Fabric,software,denyeart,,,Medium,,denyeart,ChaoZhang99,ChaoZhang99,16/Oct/19 10:08 PM,01/Dec/20 6:05 AM,28/Oct/23 3:09 AM,,v1.4.0,v1.4.1,v1.4.2,v1.4.3,,,,,,fabric-crypto,fabric-peer,,,,1,ipm,,,,"Channel creation is failing with the following error enable NodeOU's and modify msp/config.yaml file to define my own Organizational Units.
{code:java}
error validating channel creation transaction for new channel 'mychannel', could not succesfully apply update to template configuration: error authorizing update: error validating DeltaSet: policy for [Group]  /Channel/Application not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 1 of the 'Admins' sub-policies to be satisfied
{code}
Here is the identity check failed：
{code:java}
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number:
            a9:f9:13:88:17:22:64:ff:5a:ec:cd:5d:a0:5b:3c:e9
    Signature Algorithm: ecdsa-with-SHA256
        Issuer: C=US, ST=California, L=San Francisco, O=org1.example.com, CN=ca.org1.example.com
        Validity
            Not Before: Oct 11 02:33:00 2019 GMT
            Not After : Oct  8 02:33:00 2029 GMT
        Subject: C=US, ST=California, L=San Francisco, OU=admin, CN=Admin@org1.example.com
        Subject Public Key Info:
            Public Key Algorithm: id-ecPublicKey
                Public-Key: (256 bit)
                pub: 
                    04:84:de:91:6c:77:b1:7b:99:2b:1d:37:dd:23:58:
                    52:34:6f:06:15:70:cb:8b:c3:5e:d4:39:d1:80:a8:
                    9e:f4:6e:12:67:72:04:36:6c:8e:f0:b2:c6:b1:e4:
                    15:63:7c:c1:6f:66:52:2a:60:1a:09:d0:ae:0d:61:
                    b4:f2:f5:75:b0
                ASN1 OID: prime256v1
                NIST CURVE: P-256
        X509v3 extensions:
            X509v3 Key Usage: critical
                Digital Signature
            X509v3 Basic Constraints: critical
                CA:FALSE
            X509v3 Authority Key Identifier: 
                keyid:89:13:7F:F5:7D:B9:7C:E5:2B:8B:16:A9:C2:3C:70:68:14:DE:A8:5D:4C:98:AD:F4:D5:5E:12:F8:28:B6:88:48


    Signature Algorithm: ecdsa-with-SHA256
         30:44:02:20:4b:06:d5:c8:dd:45:3a:98:a7:55:ed:be:bc:f1:
         a2:5f:d7:7b:77:1a:81:18:31:98:52:cd:5d:6a:54:f8:96:6e:
         02:20:37:29:c0:9a:22:af:11:bf:e6:87:4b:39:77:9d:e0:97:
         50:05:fa:71:d6:15:21:3e:38:c4:43:d7:21:26:d8:74{code}
Indeed the problem is that the identity with nodeOU 'admin' validation is failed, because `msp.Validate(id)` will run `msp.validateIdentityOUsV1(id)` which checks that the identity's OUs are compatible with those recognized by this MSP. 
{code:java}
if len(msp.ouIdentifiers) > 0 {
   found := false

   for _, OU := range id.GetOrganizationalUnits() {
      certificationIDs, exists := msp.ouIdentifiers[OU.OrganizationalUnitIdentifier]

      if exists {
         for _, certificationID := range certificationIDs {
            if bytes.Equal(certificationID, OU.CertifiersIdentifier) {
               found = true
               break
            }
         }
      }
   }

   if !found {
      if len(id.GetOrganizationalUnits()) == 0 {
         return errors.New(""the identity certificate does not contain an Organizational Unit (OU)"")
      }
      return errors.Errorf(""none of the identity's organizational units [%v] are in MSP %s"", id.GetOrganizationalUnits(), msp.name)
   }
}
{code}
consider I have define my own ou, the array msp.ouIdentifiers are not empty （only contain the OrganizationalUnits I've defined and not contain node ou).So 'admin' ou will not be found.

 

To fix this check node_ou and user define OrganizationalUnits in just one loop.",,angelo.decaro,ChaoZhang99,hanesoliveira,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Oct/19 8:54 PM;ChaoZhang99;config.yaml;https://jira.hyperledger.org/secure/attachment/17886/config.yaml","16/Oct/19 9:05 PM;ChaoZhang99;ordererlog;https://jira.hyperledger.org/secure/attachment/17884/ordererlog","16/Oct/19 9:00 PM;ChaoZhang99;org1msp.json;https://jira.hyperledger.org/secure/attachment/17885/org1msp.json",,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zs04",,,,Unset,Unset,,"generate crypto-config

modify crypto-config/peerOrganizations/org1.example.com/msp/config.yaml

copy ou crypto artifacts

generate Genesis.block and mychannel.tx

build network up

create channel use org1 admin
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,ChaoZhang99,hanesoliveira,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/20 5:47 PM;angelo.decaro;Hi [~tsharris] and [~ChaoZhang99], [~yacovm] assigned me the review of your PR.

Before doing that, I would need to see the configtx.yaml file and the configuration file you use for cryptogen. Would it be possible to attach those files to this Jira item as well? Thanks much :);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer cert/key fallback inconsistent.,FAB-16847,42773,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,dereckluo,dereckluo,dereckluo,16/Oct/19 11:01 PM,18/Oct/19 10:53 PM,28/Oct/23 3:09 AM,18/Oct/19 10:53 PM,,,,,,,,,,,,,,,0,,,,,"*_clientKey_* and *_clientCert_* for peers should be fallback to use *_peer.tls.key_* and *_peer.tls.cert_* when not being set in config. 

This fallback action is not being enforced consistently throughout the code base, specifically in integration test when *mutualTLS* being enabled.",,dereckluo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0129v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dereckluo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge-end-2-end job: Intermittent failure in channel creation failed in default-channel test in byfn.,FAB-16848,42774,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,vijaypunugubati,vijaypunugubati,16/Oct/19 11:11 PM,14/Nov/19 1:11 AM,28/Oct/23 3:09 AM,14/Nov/19 1:11 AM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,ci-blocker,,,,"fabric-merge-end-2-end job: channel creation failed in default-channel test in byfn.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
/00:15:16.531 Creating channel...
00:15:16.531 + peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls true --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
00:15:26.715 + res=1
00:15:26.715 + set +x/ code placeholder
00:15:26.719 [34m2019-10-15 19:38:51.142 UTC [cli.common] readBlock -> INFO 05e[0m Expect block, but got status: &{NOT_FOUND}
00:15:26.719 [34m2019-10-15 19:38:51.147 UTC [channelCmd] InitCmdFactory -> INFO 05f[0m Endorser and orderer connections initialized
00:15:26.719 [34m2019-10-15 19:38:51.348 UTC [cli.common] readBlock -> INFO 060[0m Expect block, but got status: &{NOT_FOUND}
00:15:26.719 [34m2019-10-15 19:38:51.351 UTC [channelCmd] InitCmdFactory -> INFO 061[0m Endorser and orderer connections initialized
00:15:26.719 [34m2019-10-15 19:38:51.552 UTC [cli.common] readBlock -> INFO 062[0m Expect block, but got status: &{NOT_FOUND}
00:15:26.719 [34m2019-10-15 19:38:51.556 UTC [channelCmd] InitCmdFactory -> INFO 063[0m Endorser and orderer connections initialized
00:15:26.719 Error: timeout waiting for channel creation
00:15:26.719 !!!!!!!!!!!!!!! Channel creation failed !!!!!!!!!!!!!!!!
00:15:26.719 ========= ERROR !!! FAILED to execute End-2-End Scenario ===========
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6543/console|https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6562/console]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6543/|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6562/]",,btl5037,denyeart,vijaypunugubati,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,5715466a8300f4ab8425800d937799e15a096461,Unset,No,,,"1|i012a3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,vijaypunugubati,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 2:45 AM;vijaypunugubati;The above error hit again in recent builds and the failure is occurring intermittently. 
*Build logs:*

*[|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6625/Docker_Container_Logs/]*[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6625/Docker_Container_Logs/]

 

[https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-end-2-end-x86_64/6625/console];;;","30/Oct/19 10:43 PM;vijaypunugubati;[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6625/Docker_Container_Logs/orderer-default-channel.log.gz|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/6632/Docker_Container_Logs/orderer-default-channel.log.gz]

*Error from the orderer-default-channel-log.*
{code:java}
/[36m2019-10-29 17:12:13.257 UTC [viperutil] getKeysRecursively -> DEBU 001[0m Found map[interface{}]interface{} value for general
[36m2019-10-29 17:12:13.257 UTC [viperutil] unmarshalJSON -> DEBU 002[0m Unmarshal JSON: value cannot be unmarshalled: invalid character 'O' looking for beginning of value
[36m2019-10-29 17:12:13.257 UTC [viperutil] getKeysRecursively -> DEBU 003[0m Found real value for general.LocalMSPID setting to string OrdererMSP
[36m2019-10-29 17:12:13.257 UTC [viperutil] unmarshalJSON -> DEBU 004[0m Unmarshal JSON: value cannot be unmarshalled: invalid character '/' looking for beginning of value
[36m2019-10-29 17:12:13.257 UTC [viperutil] getKeysRecursively -> DEBU 005[0m Found real value for general.GenesisFile setting to string /var/hyperledger/orderer/orderer.genesis.block/ code placeholder
{code};;;","08/Nov/19 6:57 AM;wenjian;I did the tests on my laptop and 2 ubuntu VMs, but was not able to reproduce the problem.

Ran tests using a sandbox Jenkins job: [https://jenkins.hyperledger.org/sandbox/view/All/job/Wenijan/].

Below is the observation. Although javaenv and nodeenv images have nothing to do with byfn tests, somehow pulling javaenv/nodeenv images seems to trigger the channel creation failure. I added a sleep (60s) after pulling javaenv/nodeenv images and before running byfn tests, the problem was fixed on the sandbox.
 # When the job did not include the build sections pulling javaenv or nodeenv, the byfn tests passed (no error)
 # When the job included the build sections pulling javaenv or nodeenv, the tests failed with creating channel error
 # After pulling javaenv and nodeenv, if I added 60s sleep, the byfn tests passed - (no error) ([https://jenkins.hyperledger.org/sandbox/view/All/job/Wenijan/19/consoleFull])

Why did a short sleep fix the problem? Probably some resources on the VM are not released immediately. After a short delay, these resources are released. 

 ;;;","08/Nov/19 11:10 PM;wenjian;Looked at the logs of all 5 orderers. There were the following warning. 
{quote}orderer-default-channel.log:2019-11-07 20:47:59.911 UTC [orderer.consensus.etcdraft] run -> WARN 7df WAL sync took 2.8505559050000002 seconds and the network is configured to start elections after 5 seconds. Your disk is too slow and may cause loss of quorum and trigger leadership election. channel=byfn-sys-channel node=1

orderer3-default-channel.log:2019-11-07 20:47:59.995 UTC [orderer.consensus.etcdraft] run -> WARN 4de WAL sync took 2.934159198 seconds and the network is configured to start elections after 5 seconds. Your disk is too slow and may cause loss of quorum and trigger leadership election. channel=byfn-sys-channel node=3

orderer4-default-channel.log:2019-11-07 20:47:59.911 UTC [orderer.consensus.etcdraft] run -> WARN 4db WAL sync took 2.85021231 seconds and the network is configured to start elections after 5 seconds. Your disk is too slow and may cause loss of quorum and trigger leadership election. channel=byfn-sys-channel node=4

orderer5-default-channel.log:2019-11-07 20:47:59.879 UTC [orderer.consensus.etcdraft] run -> WARN 6cf WAL sync took 7.332300035 seconds and the network is configured to start elections after 5 seconds. Your disk is too slow and may cause loss of quorum and trigger leadership election. channel=byfn-sys-channel node=5
{quote}
 

and the leader was lost
{quote}{{orderer5-default-channel.log:2019-11-07 20:47:28.551 UTC [orderer.consensus.etcdraft] logSendFailure -> ERRO 433 Failed to send StepRequest to 2, because: rpc error: code = Unavailable desc = all SubConns are in TransientFailure, latest connection error: connection error: desc = ""transport: Error while dialing dial tcp 172.18.0.8:8050: connect: connection refused"" channel=byfn-sys-channel node=5 orderer-default-channel.log:^[[34m2019-11-07 20:47:56.592 UTC^}}{{[orderer.consensus.etcdraft] run -> INFO 765[[0m raft.node: 1 lost leader 5 at term 2 channel=byfn-sys-channel node=1 orderer2-default-channel.log:^[[34m2019-11-07 20:47:56.921 UTC [orderer.consensus.etcdraft] run -> INFO 4d5^[[0m raft.node: 2 lost leader 5 at term 2 channel=byfn-sys-channel node=2 orderer3-default-channel.log:^[[34m2019-11-07 20:47:57.061 UTC [orderer.consensus.etcdraft] run -> INFO 4d9^[[0m raft.node: 3 lost leader 5 at term 3 channel=byfn-sys-channel node=3 orderer4-default-channel.log:^[[34m2019-11-07 20:47:57.061 UTC [orderer.consensus.etcdraft] run -> INFO 4d6^[[0m raft.node: 4 lost leader 5 at term 3 channel=byfn-sys-channel node=4 orderer5-default-channel.log:^[[34m2019-11-07 20:47:59.882 UTC [orderer.consensus.etcdraft] run -> INFO 6dd^[[0m raft.node: 5 lost leader 5 at term 3 channel=byfn-sys-channel node=5}}
{quote}
 

new leader election:
{quote}orderer5-default-channel.log:2019-11-07 20:47:28.561 UTC [orderer.consensus.etcdraft] becomeLeader -> INFO 45e 5 became leader at term 2 channel=byfn-sys-channel node=5

orderer2-default-channel.log:2019-11-07 20:47:59.913 UTC [orderer.consensus.etcdraft] becomeLeader -> INFO 506 2 became leader at term 3 channel=byfn-sys-channel node=2
{quote};;;","09/Nov/19 11:24 PM;wenjian;On the sandbox build, I have increased TickInterval from 500ms to 2000ms. However, it didn't fix the problem - channel creation still failed. Looking at the orderer logs, it was very slow (took 7s) for raft to send ConsensusRequest. 

1. orderer started to handle the channel creation request
{quote}[[36m2019-11-08 14:05:17.736 UTC [orderer.common.cluster] NewStream -> DEBU 676^[[0m Created new stream to orderer5.example.com:11050 with ID of 2 and buffer size of 10

^[[36m2019-11-08 14:05:17.736 UTC [orderer.consensus.etcdraft] submitSent -> DEBU 677^[[0m Sending msg of 28517 bytes to 5 on channel byfn-sys-channel took 161.926µs

^[[36m2019-11-08 14:05:17.736 UTC [orderer.common.broadcast] ProcessMessage -> DEBU 678^[[0m [channel: mychannel] Broadcast has successfully enqueued message of type CONFIG_UPDATE from 172.18.0.11:40656

^[[36m2019-11-08 14:05:17.737 UTC [orderer.common.cluster.step] sendMessage -> DEBU 679^[[0m Send of SubmitRequest for channel byfn-sys-channel with payload of size 28517 to orderer5.example.com(orderer5.example.com:11050) took 810.439µs

^[[36m2019-11-08 14:05:17.740 UTC [orderer.common.broadcast] Handle -> DEBU 67a^[[0m Received EOF from 172.18.0.11:40656, hangup

^[[36m2019-11-08 14:05:17.740 UTC [orderer.common.server] func1 -> DEBU 67b^[[0m Closing Broadcast stream

 
{quote}
2. in next 7 seconds, it kept waiting for ConsensusRequest, but got the following
{quote}^[[36m2019-11-08 14:05:17.746 UTC [orderer.common.server] Deliver -> DEBU 680^[[0m Starting new Deliver handler

^[[36m2019-11-08 14:05:17.746 UTC [common.deliver] Handle -> DEBU 681^[[0m Starting new deliver loop for 172.18.0.11:40658 ^[[36m2019-11-08 14:05:17.746 UTC [common.deliver] Handle -> DEBU 682^[[0m Attempting to read seek info message from 172.18.0.11:40658

^[[36m2019-11-08 14:05:17.947 UTC [common.deliver] deliverBlocks -> DEBU 683^[[0m Rejecting deliver for 172.18.0.11:40658 because channel mychannel not found

^[[36m2019-11-08 14:05:17.947 UTC [orderer.common.server] func1 -> DEBU 684^[[0m Closing Deliver stream
{quote}
3. after 7 seconds, it received ConsensusRequest
{quote}^[[36m2019-11-08 14:05:24.711 UTC [orderer.common.cluster.step] handleMessage -> DEBU 743^[[0m Received message from orderer5.example.com(172.18.0.4:59408): ConsensusRequest for channel byfn-sys-channel with payload of size 28727

^[[36m2019-11-08 14:05:24.713 UTC [orderer.common.cluster.step] handleMessage -> DEBU 744^[[0m Received message from orderer5.example.com(172.18.0.4:59408): ConsensusRequest for channel byfn-sys-channel with payload of size 28

^[[36m2019-11-08 14:05:24.728 UTC [orderer.common.server] replicateDisabledChains -> DEBU 745^[[0m No inactive chains to try to replicate
{quote}
 

Increasing channel creation timeout to 30s didn't fix the problem.  ;;;","09/Nov/19 11:42 PM;wenjian;Summary of sandbox tests and results

Test 1: Jenkins job does not include the scripts that pull javaenv&nodeenv - no error
 * Result: byfn tests passed (no error)

Test 2: Jenkins job includes the scripts that pull javaenv&nodeenv
 * Result: channel creation failed

Test 3: Jenkins job includes the scripts that pull javaenv&nodeenv, increase TickInterval to 2000ms
 * Result: channel creation failed

Test 4: Jenkins job includes the scripts that pull javaenv&nodeenv, increase TickInterval to 2000ms & set 30s timeout for 'peer channel create'
 * Result: channel creation failed

Test 5: Jenkins job includes the scripts that pull javaenv&nodeenv, add 60s sleep in Jenkins job after pulling javaenv/nodeenv scripts and before running byfn - no error
 * Result: byfn tests passed (no error)

Test 6: Jenkins job includes the scripts that pull javaenv&nodeenv, increase wait time in byfn.sh from 15s to 60s - no error
 * Result: byfn tests passed (no error)

 

Add clarification to the above results:

The following byfn tests were all passed with 60s sleep on the sandbox build. 
 * defaultchannel
 * customchannel
 * couchdb
 * javascriptchaincode

However, build still failed at sdk tests (after passing byfn tests) that was a different issue.

 

 

 

 

 ;;;","10/Nov/19 2:32 AM;denyeart;[~btl5037] Got any insight on the environment slowness and if it has gotten worse recently? What difference would we expect in Azure Pipelines? I'm hesitant to invest in this if we expect it to only be a problem on the infrastructure we are moving away from.;;;","11/Nov/19 11:36 PM;btl5037;Personally, I don't see any stock in continuing triaging it, there are some interesting tidbits here (most of all the fact this failure started occurring after we upgraded the version of Go we are using). Our intent once we moved to AZP with Fabric was to kill off the BYFN job on merge anyway and replace it with Unit Tests. We could just as easily do that now (run Unit Test on merge).;;;","12/Nov/19 12:06 AM;btl5037;[~wenjian] can you confirm for me, in the post above it says if you add 60s sleep after the pull then the tests pass, is this true? In particular, does the entire test run pass, not just the defaultChannel?;;;","12/Nov/19 12:45 AM;wenjian;[~btl5037] I meant the 'byfn tests' passed. In the sandbox jenkins job, it ran the following byfn tests and they were passed with 60s sleep.
 * defaultchannel
 * customchannel
 * couchdb
 * javascriptchaincode

However, the entire build still failed at sdk tests:
{quote}
 *10:46:03* at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)

*10:46:03* at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)

*10:46:03* at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)

*10:46:03* at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)*10:46:03* at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)

*10:46:03* Tests run: 50, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 790.368 sec <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite*10:46:03* setup(org.hyperledger.fabric.sdkintegration.End2endNodeIT) Time elapsed: 23.219 sec <<< FAILURE!

*10:46:03* java.lang.AssertionError:

*10:46:03* Not enough endorsers for install :1. could not build chaincode: failed external (no builders defined) and docker build: docker image build failed: docker build failed: Error returned from build: 1 ""+ INPUT_DIR=/chaincode/input
  
{quote};;;","14/Nov/19 1:11 AM;vijaypunugubati;[https://gerrit.hyperledger.org/r/#/c/ci-management/+/34296/];;;",,,,,,,,,,,,,,,,,,,,,,,,,
Updates for Java version of FabCar,FAB-16849,42775,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,sstone1,sstone1,sstone1,17/Oct/19 1:09 AM,17/Oct/19 8:01 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,"* Update .gitignore
* Use builds on Sonatype, not Nexus
* Enable new discovery as localhost flag",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move fabric-samples to Azure Pipelines,FAB-16850,42776,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,17/Oct/19 1:16 AM,19/Apr/20 1:45 PM,28/Oct/23 3:09 AM,19/Apr/20 1:45 PM,,,,,,,,,,fabric-samples,,,,,0,,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012aj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade release-1.4 to the latest go 1.12.12,FAB-16852,42785,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,sykesm,sykesm,17/Oct/19 10:08 PM,12/Nov/19 3:49 AM,28/Oct/23 3:09 AM,09/Nov/19 2:19 AM,,,,,,v1.4.4,,,,,,,,,0,ipm,,,,"With the release of go 1.13, go 1.11 no longer receives regular fixes. As an ""LTS"" release branch, we want to use supported versions of go that will receive critical bug and security fixes.

go 1.12.12 is the latest version at the time of writing.",,denyeart,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8ror",,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,sykesm,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/19 3:20 AM;denyeart;Copying [~guoger] comments from the merged CR [https://gerrit.hyperledger.org/r/#/c/fabric/+/34125/]

 
{code:java}
while this LGTM, i think we probably need to update them in prereqs.txt & devenv.rst
we have cc module in our tests specifying go1.12
golang.org/x/tools is fixed to go1.12 currently, should that be upgraded?
{code}
The doc updates were made in https://gerrit.hyperledger.org/r/#/c/fabric/+/34282/ 

Jay which cc module are you referring to?;;;","08/Nov/19 1:03 PM;guoger;[~denyeart] sorry, i meant to comment on https://gerrit.hyperledger.org/r/c/fabric/+/34190 but had both CRs open and cross posted...;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add support to the configuration package to honor ""defaultValue"" tags",FAB-16853,42786,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,17/Oct/19 10:19 PM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"As part of the drive to make configuration more centralized and explicit, configuration structures will be defined with {{yaml}} tags and, optionally, {{defaultValue}} tags.

The configuration package support for the {{default}} tag needs to be extended to support a {{defaultValue}} tag.  The {{defaultValue}} tag should reference an exported var that holds a literal containing the complex default value to use in configuration.

The difference is that the {{default}} tag is used to provide simple values to leaf nodes while {{defaultValue}} is used to provide complex literal defaults like structures or maps. Where possible, {{default}} should be preferred but there are a handful of places where {{defaultValue}} is required.

For example, decoding
{code:yaml}
---
stringOne: one string
{code}

into a reference to a zero value of this structure:
{code:go}
type Config struct {
	StringOne string `yaml:""stringOne"" default:""one""`
	Plugins []Plugin `yaml:""plugins"" defaultValue:""DefaultPlugins""`
}
{code}

where {{Plugins}} is defined as:
{code:go}
type Plugins struct {
	Name string `yaml:""name""`
	Path string `yaml:""path""`
}
{code}

and {{DefaultPlugins}} is:
{code:go}
var DefaultPlugins = []Plugins{
	{Name: ""pluginOne"", Path: ""/path/to/one""},
	{Name: ""pluginTwo"", Path: ""/path/to/two""},
}
{code}

should result in a value that is equivalent to one that is decoded from this yaml:
{code:yaml}
---
stringOne: one string
plugins:

- name: pluginOne
  path: /path/to/one
- name: pluginTwo
  path: /path/to/two
{code}

Notice the default values from the {{DefaultPlugins}} var are populated.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rq2",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add field to config structs that will be populated with ""unknown"" keys",FAB-16854,42787,,Story,Backlog,FAB,Fabric,software,denyeart,,,Low,,,sykesm,sykesm,17/Oct/19 10:27 PM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"An ""inline"" element can be used as a catch-all element for config elements that do not match any of the structured fields.
{code}
ExtraProperties map[string]interface{} `yaml:"",inline,omitempty""`
{code}
If a user provides an unknown configuration key, this field can be used to detect that.

Where appropriate, add a field to structures that may receive unexpected values. After parsing config, issue warning messages if any {{ExtraProperties}} map contains data to point out the likely incorrect configuration.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Token-based authentication for gRPC services,FAB-16855,42788,,Task,To Do,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,17/Oct/19 11:14 PM,09/Jan/21 1:04 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,jmason900,mastersingh24,,,,,,,,,,,,,,,,,,,,,FAB-16154,,,,,,,,,,,,,,FAB-18393,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012cb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jmason900,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/19 11:20 PM;mastersingh24;In order to have more consumable gRPC services, Fabric needs some type of mechanism to authenticate users other than using the generic Envelope (serialize protos) with a signature.  While client/mutual auth could be used, it adds additional (and unnecessary complexity).  

A cleaner implementation which still keeps authentication at the transport layer is to use token-based auth.  gRPC allows you to provide different types of credentials for authentication and these are typically token-based.  We do not want to require an external identity / authentication service, so the implementation will also include a built-in authentication service which will consume a signed request and return a token which can then be used to authenticate to token-enabled services.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-pte-master job: channel creation failed intermittently in test case ""systest_pte.Perf_Stress_CouchDB.test_FAB3832_4i_FAB3834_4q """,FAB-16856,42789,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,17/Oct/19 11:33 PM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,31/Oct/19 11:41 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,ci-flake,,,"fabric-test-daily-pte-master job: channel creation failed in test case ""systest_pte.Perf_Stress_CouchDB.test_FAB3832_4i_FAB3834_4q "" and the error was first observed on 12 Oct, 2019.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/#x1B[31merror#x1B[39m: [2019-10-13T01:19:22.719Z PTE 0 main]: [createOrUpdateOneChannel] Failed to created/updated the channel (testorgschannel1) with result: {""status"":""SERVICE_UNAVAILABLE"",""info"":""backing Kafka cluster has not completed booting; try again later""}
fs.js:646
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);
                 ^

Error: ENOENT: no such file or directory, open '../../pteReport.txt'
    at Object.fs.openSync (fs.js:646:18)
    at Object.fs.readFileSync (fs.js:551:33)
    at Object.<anonymous> (/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/scripts/get_pteReport.js:68:16)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12)
    at Function.Module._load (module.js:497:3)
    at Function.Module.runMain (module.js:693:10)
    at startup (bootstrap_node.js:191:16)
cat: ../../pteReport.txt: No such file or directory/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/371/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB3832_4i_FAB3834_4q/]",,rameshthoomu,scottz,suryalnvs,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:9",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,suryalnvs,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Oct/19 11:34 PM;vijaypunugubati;Same error was observed again on 16 Oct.
{code:java}
/#x1B[31merror#x1B[39m: [2019-10-17T01:02:54.133Z PTE 0 main]: [createOrUpdateOneChannel] Failed to created/updated the channel (testorgschannel1) with result: {""status"":""SERVICE_UNAVAILABLE"",""info"":""backing Kafka cluster has not completed booting; try again later""}
fs.js:646
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);/ code placeholder
{code};;;","29/Oct/19 2:18 AM;rameshthoomu;[~vijaypunugubati] Seems kafka network is not bootstraped before proceed to the next steps. This could be a network latency issue. I see the latest builds have been passing. If possible, increase the kafka network bootstrap timeout and try again in Sandbox.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: Consistent failure to send install Proposal in 3 of the PTE test cases ,FAB-16857,42790,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,18/Oct/19 12:26 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,22/Oct/19 6:57 AM,v2.0.0,,,,,v1.4.4,v2.0.0,,,fabric-quality,,,,,0,ci-failure,,,,"Build Logs: fabric-test-daily-pte-master job: Failed to send install Proposal in 4 of the PTE test cases, same error is observed in below test cases
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_CouchDB.test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/373/testReport/systest_pte/Perf_Stress_CouchDB/test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB7329_4i_channel_events|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/373/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7329_4i_channel_events/]|
|!https://jenkins.hyperledger.org/static/d3ce8872/images/16x16/document_add.png!  [systest_pte.Perf_Stress_LevelDB.test_FAB7333_4i_filtered_block_events|https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/373/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7333_4i_filtered_block_events/]|

Error was consistent and first observed on 12 oct 2019.

 

Note: In some other testcases, FAB-16866, it appears that subsequent instantiations and invokes succeeded anyways after the install errors were seen.

 

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/+ echo './pte_driver.sh CITest/FAB-6813-4i/preconfig/channels/runCases-chan-join-TLS.txt'
+ ./pte_driver.sh CITest/FAB-6813-4i/preconfig/channels/runCases-chan-join-TLS.txt
+ sleep 60s
+ set +exo pipefail
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.685Z PTE 0 main]: [chaincodeInstall] org(org2): install proposal was bad
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.686Z PTE 0 main]: [chaincodeInstall] org(org2): install proposal was bad
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.686Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (PeerOrg2) due to error:  message=[chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting..., stack=Error: [chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting...
    at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:684:27
    at <anonymous>
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.754Z PTE 0 main]: [chaincodeInstall] org(org1): install proposal was bad
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.755Z PTE 0 main]: [chaincodeInstall] org(org1): install proposal was bad
#x1B[31merror#x1B[39m: [2019-10-15T02:10:07.755Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (PeerOrg1) due to error:  message=[chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting..., stack=Error: [chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting...
    at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:684:27
    at <anonymous>/ code placeholder
{code}
 Build Logs: 
{code:java}
/[32minfo[39m: [2019-10-15T03:26:17.813Z PTE 0 main]: stdout: [32minfo[39m: [2019-10-15T03:26:17.812Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_query_simple] query[10000] result[0]: Error: make sure the chaincode sample_js_ch1 has been successfully defined on channel testorgschannel1 and try again: chaincode sample_js_ch1 not found

[32minfo[39m: [2019-10-15T03:26:17.813Z PTE 0 main]: stdout: [32minfo[39m: [2019-10-15T03:26:17.813Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 isExecDone] invokes(Query) sent: number=10000, elapsed time= 315039

[32minfo[39m: [2019-10-15T03:26:17.813Z PTE 0 main]: stdout: [32minfo[39m: [2019-10-15T03:26:17.813Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_query_simple] query result[0]: Error: make sure the chaincode sample_js_ch1 has been successfully defined on channel testorgschannel1 and try again: chaincode sample_js_ch1 not found
/ code placeholder
{code}
[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/372/PTE_Test_Logs|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/372/PTE_Test_Logs/FAB-7329-4i_1015032028.log.gz]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/372/testReport/systest_pte/]",,bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16866,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:a",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,vijaypunugubati,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"19/Oct/19 5:28 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34026/];;;","06/Nov/19 8:07 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34253] prop to 1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Generate user consumable documentation for external builder/fabric buildpack/external launcher,FAB-16858,42793,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,18/Oct/19 3:02 AM,07/Jan/20 11:09 PM,28/Oct/23 3:09 AM,07/Jan/20 11:09 PM,v2.0.0,,,,,v2.0.0,,,,fabric-docs,fabric-peer,,,,0,ipm,,,,"Create draft of documentation for the external build and launch infrastructure for Fabric. This should include introductory material, rationale, and reference data for implementors.

The documentation will need to be massaged by the technical writing team for Fabric and adapted for use in the correct locations.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2c:ruie",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add legacy lifecycle, external builder, with chaincode db indices.",FAB-16859,42794,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,18/Oct/19 3:17 AM,08/Nov/19 12:23 AM,28/Oct/23 3:09 AM,08/Nov/19 12:23 AM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"One of the bits not covered by FAB-16599 was to add an externalbuilder for use with legacy chaincodes.  Likely we could restore some version of the removed golang external builder.

This covers two cases which are important to support for migration purposes (1) the use of the legacy lifecycle and external builders, and (2) the loading of external builder metadata in the legacy chaincode context.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rpw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Nov/19 1:12 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34215 Add legacy lifecycle, external builder, index test;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Audit and ensure that at least one new lifecycle test still uses the platforms package and chaincode db indices,FAB-16860,42795,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,18/Oct/19 3:19 AM,01/Nov/19 3:04 AM,28/Oct/23 3:09 AM,01/Nov/19 3:04 AM,,,,,,,,,,,,,,,0,ipm,,,,"In an effort to speed up our integration tests, we have begun using external builder for all of our new lifecycle integration tests.  This is good for speed, but we need to ensure that the existing platforms based approach does not break.  We also need to ensure that the existing metadata parsing from within a platform style package does not break.

This task may hopefully be fulfilled simply by modifying one of the existing new lifecycle tests to use the platform style packaging.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rt6",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/19 5:12 AM;wlahti;[https://gerrit.hyperledger.org/r/c/fabric/+/34172];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not require the META-INF prefix in the metadata dir for external builders,FAB-16861,42796,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,18/Oct/19 3:21 AM,01/Nov/19 3:29 AM,28/Oct/23 3:09 AM,01/Nov/19 3:29 AM,,,,,,,,,,,,,,,0,ipm,,,,"The internal representation of the metadata supplied to the ledger is a tar file, where all files are in the sub-path of `META-iNF/...`.  There's really no reason we need this prefix, it's confusing, and redundant.  This task is to fix the packaging code to automatically include this prefix and to modify the integration test release scripts to no longer use it.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rrw",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/19 4:56 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34150 'release' output does not require META-INF prefix;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix integration tests that don't properly set up channel membership,FAB-16862,42798,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,caod,caod,18/Oct/19 4:49 AM,19/Apr/20 1:44 PM,28/Oct/23 3:09 AM,19/Apr/20 1:44 PM,,,,,,,,,,fabric-ledger,,,,,0,,,,,"Turns out there are some integration tests (notably in e2e and lifecycle) that end up hitting the pull retry threshold when attempting to fetch some private data from peers, this is largely due to the fact that channel membership isn't properly set up, when peers attempt to fetch from other peers they first try to check the members in the channel. Seems like in the tests that hit this threshold, that membership list is always empty because it's not properly set up (whether because there are no anchor peers or some other issue). The tests normally don't care because after hitting the retry threshold they will just proceed as if the private data were missing since the data is irrelevant to the test. We can probably save a couple minutes in the tests if we fix all of the places that have this issue so they never end up hitting the retry threshold.

 

Furthermore for tests that need to pull pvtdata, we should figure out if and why they need to enter the pull retry loop since we don't expect it to fail fetching on the first call.",,caod,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012dn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Oct/19 4:55 AM;caod;[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-integration-tests-x86_64/12271/console-timestamp.log.gz] logs from a test that hit the retry threshold and failed because the elapsed time ended up longer than the Eventually timeout;;;","18/Oct/19 4:56 AM;caod;This is not necessarily a bug/flake since the failure linked above is specific to how the pvtdataProvider was handling the retry logic (introducing a small delta that ended up going beyond the threshold). It has since been readjusted to drop the delta.;;;","03/Dec/19 6:19 AM;caod;/cc [~denyeart] [~btl5037] this may be related to the CI flakes;;;","06/Dec/19 3:35 AM;caod;Adding to this, we should figure out why when we decreased the pull retry threshold in [https://github.com/hyperledger/fabric/pull/367] why were the tests that needed pvtdata flaking anyways on pull retry. (See Jason's comment on linked PR);;;","19/Apr/20 1:44 PM;denyeart;Recent private data test improvements may have fixed this. Will close for now, please re-open if the issue is seen again.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I want service discovery integration tests to use a single network to reduce the time necessary to test",FAB-16863,42799,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,18/Oct/19 5:23 AM,21/Oct/19 5:19 PM,28/Oct/23 3:09 AM,21/Oct/19 5:19 PM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"The service discovery tests currently take around 240 seconds to run locally on my machine.

We should use a single (standard) network configuration as the base, removing the second peer for each org and appending org3 and a single peer. The tested functionality should be collapsed into a single It() test to reduce the overall test time. With these changes in place, the test time is reduced to around 130 seconds on my machine.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2c:ruico",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a package that generates a model of configuration from the source tree,FAB-16864,42800,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,18/Oct/19 5:28 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"When provided with a reference to a go struct in the source tree, introspect the definition and generate a model that describes the configuration.

The model should include:
- The struct field name
- The struct field type
- The yaml key name of the configuration element
- The documentation comment associated with the field
- The example value for the field (if any)
- The default value for the field (if any) from the {{default}} or {{defaultValue}} tag
- For nested structs, an additional model object

As code comments need to be parsed, I expect {{go/ast}} and {{go/doc}} will be required to build the model.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rqa",,,,Unset,Unset,,(Please add steps to reproduce),5.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a program that generates example configuration documents from annotated source,FAB-16865,42801,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,18/Oct/19 5:33 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"Using the configuration model, create a program that will generate a valid yaml document that contains the example and/or default configuration for a structure.

The program should be provided the name of the package containing the root structure and the name of the root structure type.

The doc comments for each field should be used to comment each of the configuration elements. Where the field name is used in the godoc, it is replaced with the name of the configuration key. The documentation should properly flow to an appropriate line width while still preserving blank lines from the godoc.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rqb",,,,Unset,Unset,,(Please add steps to reproduce),5.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode instantiation works even though install fails,FAB-16866,42802,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,bharadwajambati1,bharadwajambati1,18/Oct/19 5:41 AM,26/Apr/20 1:50 PM,28/Oct/23 3:09 AM,26/Apr/20 1:50 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,,,,,"Below are the logs observed while installing the chain code(samplecc)
{code:java}
2019-10-17 20:35:53.434 UTC [comm.grpc.server] 1 -> INFO 040 unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=192.168.192.1:59852 grpc.code=OK grpc.call_duration=30.001171172s2019-10-17 20:35:53.434 UTC [comm.grpc.server] 1 -> INFO 040 unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=192.168.192.1:59852 grpc.code=OK grpc.call_duration=30.001171172s2019-10-17 20:35:53.695 UTC [endorser] callChaincode -> INFO 041 [][133fb534] Exit chaincode: lscc (30003ms)2019-10-17 20:35:53.695 UTC [endorser] SimulateProposal -> ERRO 042 [][133fb534] failed to invoke chaincode lscc, error: timeout expired while executing transactiongithub.com/hyperledger/fabric/core/chaincode.(*Handler).Execute /go/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1201github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).execute /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:269github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:198github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute /go/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:151github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute /go/src/github.com/hyperledger/fabric/core/endorser/support.go:126github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:114github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:174github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposalSuccessfullyOrError /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:379github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal /go/src/github.com/hyperledger/fabric/core/endorser/endorser.go:324github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal /go/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler.func1 /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:107github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:31github.com/hyperledger/fabric/common/grpclogging.UnaryServerInterceptor.func1 /go/src/github.com/hyperledger/fabric/common/grpclogging/server.go:92github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1.1 /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:34github.com/hyperledger/fabric/common/grpcmetrics.UnaryServerInterceptor.func1 /go/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor.go:31github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware.ChainUnaryServer.func1 /go/src/github.com/hyperledger/fabric/vendor/github.com/grpc-ecosystem/go-grpc-middleware/chain.go:39github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer._Endorser_ProcessProposal_Handler /go/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer/peer.pb.go:109github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:998github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1278github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1 /go/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:717runtime.goexit /usr/local/go/src/runtime/asm_amd64.s:1337error sendingfailed to execute transaction 133fb53419f715d89e03e9be18a794088a2d79aff0e2159303ef5f0b183c701fgithub.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult
{code}
But after this, instantiation, invokes and queries are working",,bharadwajambati1,denyeart,guoger,jyellick,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16857,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012dv:","In v2.0 chaincode install also builds the chaincode image. This may result in a timeout where the client receives an error, even though the install and chaincode image build ultimately succeeds on the peer.",Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,denyeart,guoger,jyellick,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/19 7:02 AM;scottz;Changing ""duplicates"" to ""relates to"", because although the same bug caused both behaviors, we should track the two issues separately. The fix for FAB-16857 lengthens a timeout value to allow the installs to succeed within an expected timeframe; whereas this issue 16866 is really about why the instantiation and invokes succeeded. If the install did not finish in the allotted time as specifiec by CORE_CHAINCODE_EXECUTETIMEOUT, then one might expect the peer to have aborted the install (instead of potentially completing successfully).;;;","28/Oct/19 7:58 PM;denyeart;[~sykesm] [~jyellick] Similar to  FAB-16880 , if the install returns error due to timeout, should it still continue on the server side and succeed?;;;","03/Dec/19 12:45 PM;jyellick;In the old lifecycle, we have chosen not to modify the existing behavior.  The existing behavior is that the install lays the code on the filesystem, regardless of whether it builds.  We did make the (breaking) change that we now return an error indicating that the build failed if it fails, but for fear of breaking existing users relying on the 'build at install need not work' behavior, we left it as is.  For the new lifecycle, if the build fails, we will delete the package from the filesystem.;;;","03/Dec/19 8:31 PM;denyeart;The new install behavior and potential for timeout has been added to v2.0 release notes.;;;","04/Dec/19 12:12 AM;scottz;OK, [~denyeart]. Agree the comment in the release notes helps: If the instantiation / build succeeds, the install timeout error can be ignored.

Moving to new lifecycle means the user can no longer ignore errors like that. Should we say that too?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create a 'fabric' CLI that is a subset of the current 'peer' CLI,FAB-16867,42803,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,18/Oct/19 6:13 AM,24/Oct/19 8:32 PM,28/Oct/23 3:09 AM,,v2.0.0,,,,,Future,,,,fabric-common,,,,,0,,,,,"Using the 'peer' binary as the cli has caused much confusion. (At least it's confused me...) In addition to being used to interact with the orderer, it relies on configuration data from {{core.yaml}} - something that is intended to be consumed by a server side component.

We want to decouple the server side configuration from the client configuration and, in support of that goal, we want to move {{peer}} subcommands to a new {{fabric}} cli.

The new cli should support {{chaincode}}, {{channel}}, {{version}}, and {{lifecycle}} subcommands. The {{node}} command should not be present.

For this first phase, the behavior and configuration of the {{fabric}} sub-commands should be exactly the same as they are for the {{peer}} command. We will use this overlap to aid with the transition from {{peer}} to {{fabric}} in tests and other consuming components.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i00n2e:6rqbi",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo error `createchannel.txn` in documents,FAB-16868,42805,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,shitaibin,shitaibin,shitaibin,18/Oct/19 9:14 AM,22/Oct/19 2:31 AM,28/Oct/23 3:09 AM,22/Oct/19 2:31 AM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,v2.0.0,v1.4.4,v2.0.0,,,,,,,,0,,,,,"The transaction file extension should be `tx` not `txn`. Does`createchannel.txn` should be `createchannel.tx`?

 

Example in `peerchannel.md`：

 

Create a sample channel `mychannel` defined by the configuration transaction
 contained in file {color:#de350b}`./createchannel.txn`{color}. Use the orderer at `orderer.example.com:7050`.",,denyeart,guoger,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012eb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,shitaibin,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/19 3:02 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34010;;;","21/Oct/19 6:48 PM;denyeart;cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/fabric/+/34031/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Version Command,FAB-16869,42806,31201,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TopJohn,TopJohn,TopJohn,18/Oct/19 11:59 AM,07/Nov/19 8:03 PM,28/Oct/23 3:09 AM,07/Nov/19 8:03 PM,,,,,,,,,,fabric-cli,,,,,0,,,,,"Just like Peer command, We need a version command to show the meta info.",,lehors,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ej:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/19 8:03 PM;lehors;https://github.com/hyperledger/fabric-cli/pull/4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add samples to list of Github repos in Doc,FAB-16872,42813,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,btl5037,btl5037,18/Oct/19 11:04 PM,19/Apr/20 2:09 PM,28/Oct/23 3:09 AM,19/Apr/20 2:09 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,,,btl5037,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012gb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,denyeart,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Apr/20 1:42 PM;denyeart;Which doc page?;;;","19/Apr/20 2:09 PM;btl5037;This was already done;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cryptogen allocate server tls certificates to admin users when NodeOU enabled,FAB-16873,42814,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,dereckluo,dereckluo,19/Oct/19 12:03 AM,24/Oct/19 3:44 AM,28/Oct/23 3:09 AM,24/Oct/19 3:44 AM,v1.4.3,,,,,v1.4.4,v2.0.0,,,,,,,,0,,,,,,,denyeart,dereckluo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012gj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dereckluo,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Oct/19 6:32 PM;denyeart;[~dereckluo] Please fix in release-1.4 as well (in file generator.go in release-1.4).;;;","21/Oct/19 6:32 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/34021/ for master.
Need a fix for release-1.4 as well.;;;","22/Oct/19 12:19 AM;dereckluo;fix for release-1.4: https://gerrit.hyperledger.org/r/c/fabric/+/34037;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
connector instances do not need peer connection info,FAB-16874,42816,37468,Sub-task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,muralisr,muralisr,muralisr,19/Oct/19 2:44 AM,06/Dec/19 4:16 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,The current Peer as server model needs connection info supplied to launched chaincode. The new Chaincode as server model does not need this for connecting to chaincode. Don't generate and supply connection information to connector instances.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012gr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Retire usage of Fabric-Zookeeper and Fabric-Kafka,FAB-16875,42818,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,btl5037,btl5037,19/Oct/19 2:45 AM,18/Jan/20 12:55 PM,28/Oct/23 3:09 AM,18/Jan/20 12:55 PM,,,,,,,,,,,,,,,0,,,,,"Today we use Kafka and Zookeeper images published from the Hyperledger Fabric-baseimage repository. Instead of maintaining those images ourselves, I propose we replace them with publicly available images.

Apache now publishes an official Zookeper image. And Bitnami publishes their own kafka images. Bitnami (now part of the VMWare family) has been publishing since the 0.x timeframe and has a daily release cycle where they republish any images where Kafka has merged any new code, regardless of the release. ",,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012gz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric operator, I don't want my chaincode installs to timeout when they would otherwise be successful.",FAB-16876,42819,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,19/Oct/19 3:04 AM,12/Nov/19 2:36 AM,28/Oct/23 3:09 AM,08/Nov/19 7:55 PM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,"We have seen in many of our tests, that shifting the build from the first invoke to install, that many existing automated scripts now fail with a timeout.  It would be nice if we could automatically increase the timeout for chaincode install operations.",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17014,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8rvi",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 12:40 AM;sykesm;Do we want to have the timeout associated with the chaincode or with the operation?

If it's based on the chaincode name/namespace, it would be relatively easy to structure the configuration to be a little more generalized.

[~jyellick] - your thoughts?;;;","07/Nov/19 6:23 AM;sykesm;We discussed and I'm going to use the targeted install approach instead of something more generic. We don't want to imply that execution timeouts should be a fine-grained tunable; instead we want to set the expectation that chaincode completes execution within reasonably short durations.;;;","08/Nov/19 12:12 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34279 Add timeout configuration for chaincode install;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Modify endorsers to be meaningful in pvtdataProvider tests,FAB-16877,42820,41306,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,caod,caod,caod,19/Oct/19 3:08 AM,21/Nov/19 6:12 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,Right now the endorser values are hard coded to the identity of the selfSignedData of the peer. Let's actually fake out some peer endorsers to use instead.,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012hf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in lifecycle suite,FAB-16878,42821,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,19/Oct/19 3:13 AM,22/Oct/19 4:50 AM,28/Oct/23 3:09 AM,22/Oct/19 4:50 AM,v2.0.0,,,,,,,,,fabric-peer,,,,,0,ci-flake,ipm,,,"{code}
• Failure [115.824 seconds]                                                                                                                                                          
Release interoperability solo network [It] deploys and executes chaincode (simple), upgrades the channel application capabilities to V2_0 and uses _lifecycle to update the endorseme
nt policy                                                                                                                                                                            
/home/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/integration/lifecycle/interop_test.go:73                                                                             
                                                                                                                                                                                     
  Got stuck at:                                                                                                                                                                      
      80                                                                                                                                                                             
                                                                                                                                                                                     
  Waiting for:                                                                                                                                                                       
      70                                                                                                                                                                             
                                                                                                                                                                                     
  github.com/hyperledger/fabric/integration/lifecycle/lifecycle_suite_test.go:114  
{code}

The query does not see the committed value because a different peer was used for the query than executed the transactions. This is related to the structure of {{RunQueryInvokeQuery}} vs {{RunQueryInvokeQueryWithAddresses}}.

If the {{WithAddressess} variant is used, the peer that's used for query *must* be one of the peers that the invocation was done against.

Adding an assertion to {{RunQueryInvokeQueryWithAddresses}} that validates the query peer is a member of the endorsing peers
{code}
diff --git a/integration/lifecycle/lifecycle_suite_test.go b/integration/lifecycle/lifecycle_suite_test.go
index 26740ba61..2246acc6d 100644
--- a/integration/lifecycle/lifecycle_suite_test.go
+++ b/integration/lifecycle/lifecycle_suite_test.go
@@ -82,6 +82,9 @@ func RunQueryInvokeQuery(n *nwo.Network, orderer *nwo.Orderer, peer *nwo.Peer, c
 }
 
 func RunQueryInvokeQueryWithAddresses(n *nwo.Network, orderer *nwo.Orderer, peer *nwo.Peer, chaincodeName string, initialQueryResult int, addresses ...string) {
+       By(""validating query is executed against an endorser"")
+       Expect(addresses).To(ContainElement(n.PeerAddress(peer, nwo.ListenPort)), ""query must be executed against an endorser"")
+
        By(""querying the chaincode"")
        sess, err := n.PeerUserSession(peer, ""User1"", commands.ChaincodeQuery{
                ChannelID: ""testchannel"",
{code}

results in the following failures:
{code}
Summarizing 4 Failures:

[Fail] Release interoperability solo network [It] deploys and executes chaincode (simple), upgrades the channel application capabilities to V2_0 and uses _lifecycle to update the endorsement policy 
/home/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/integration/lifecycle/lifecycle_suite_test.go:86

[Fail] Release interoperability solo network Interoperability scenarios [It] deploys a chaincode with the legacy lifecycle, invokes it and the tx is committed only after the chaincode is upgraded via _lifecycle 
/home/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/integration/lifecycle/lifecycle_suite_test.go:86

[Fail] Release interoperability solo network using ccenv-1.4 [It] deploys and executes chaincode (simple) 
/home/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/integration/lifecycle/lifecycle_suite_test.go:86

[Fail] Lifecycle [It] deploys and executes chaincode using _lifecycle and upgrades it 
/home/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/integration/lifecycle/lifecycle_suite_test.go:86
{code}

",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rq1",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 2:23 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34041;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
No context provided for some low level ledger errors,FAB-16879,42901,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,19/Oct/19 7:52 AM,10/Apr/20 12:37 PM,28/Oct/23 3:09 AM,10/Apr/20 12:37 PM,,,,,,v1.4.7,v2.1.0,v2.2.0,,fabric-ledger,,,,,0,,,,,"Some low level ledger errors get returned to higher levels with no context.
For example if connection to CouchDB cannot be established, higher level APIs return an error like:


{code:java}
Get http://127.0.0.1:5984/mychannel__lifecycle/namespaces%2Fmetadata%2Fmarblesp?attachments=true: dial tcp 127.0.0.1:5984: connect: connection refused
{code}


Need to provide some context back up the stack so that people troubleshooting know what was going on when the error was hit.  If the lowest level annotated the error with stack trace upon hitting the error, and the highest level printed the stack trace, this would be sufficient context in many scenarios.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrme:z",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,release-2.1,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Apr/20 6:14 AM;denyeart;It appears that most of the high level code locations that handle ledger errors already print the error with  ""%+f"" , meaning stack traces will already get printed if the low level code that hits the error adds the stack trace. Therefore this issue will focus on adding stack trace to CouchDB errors.;;;","08/Apr/20 6:25 AM;denyeart;[https://github.com/hyperledger/fabric/pull/1013] master

[https://github.com/hyperledger/fabric/pull/1015] release-2.1

[https://github.com/hyperledger/fabric/pull/1048] release-1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Transaction proposal simulation continues after the corresponding gRPC request is canceled,FAB-16880,42902,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,,bmatsuo,bmatsuo,19/Oct/19 11:41 AM,06/May/20 11:21 PM,28/Oct/23 3:09 AM,,v1.4.2,,,,,v2.x,,,,fabric-peer,,,,,0,ipm,,,,"If a request to endorse a transaction proposal has been canceled (e.g. due to the client crashing or another upstream timeout) the chaincode will continue the simulation even though there is no longer a client to receive the simulation result.

 

 

The problem we have encountered is that a client will call our fabric-backed service with a request timeout that is too short for the transaction they are trying to have processed. After their timeout has elapsed they are canceling the request and retrying. The client's retries all time out because their timeout is just too short. But, each retry causes a new simulation to begin and we end up seeing simulations stacking up in our chaincode container which causes a spike in resource utilization (CPU and memory). In the worst case this can cause other, unrelated transactions to begin timing out as the CPU has become fully saturated.

 

We are using fabric-sdk-go to issue transactions and tried connecting the context of the proposal endorsement to that of the incoming request using the package github.com/hyperledger/fabric-sdk-go/pkg/context (the WithParent function). When the incoming request is canceled the SDK immediately recognizes this, logs that the context was canceled, and returns.

 
{code:java}
 [fabsdk/fab] 2019/10/19 01:29:03 UTC - peer.(*peerEndorser).sendProposal -> ERRO process proposal failed [rpc error: code = Canceled desc = context canceled]
 [fabsdk/fab] 2019/10/19 01:29:03 UTC - peer.(*peerEndorser).sendProposal -> ERRO process proposal failed [rpc error: code = Canceled desc = context canceled]
{code}
 

However, the chaincode container continues to process the canceled transaction and consume system resources.",,bmatsuo,denyeart,jyellick,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zs1s",,,,Unset,Unset,,"Write a chaincode function which contains a long loop that does the following:

- logs a message

- does a GET_STATE or PUT_STATE

- sleeps for 1 second

Invoke this function via a client and kill the client program after a short time.

The chaincode logs should show that the loop is still being executed despite the client disappearing. ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),bmatsuo,denyeart,jyellick,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/19 7:53 PM;denyeart;[~sykesm] [~jyellick] Is it possible to stop chaincode execution in these cases?;;;","03/Dec/19 12:41 PM;jyellick;I agree it would be nice to halt chaincode execution in these cases, but there's no obvious way to accomplish this today.  It wouldn't be a tremendous amount of work (though, it would admittedly, be work) to send a message to the chaincode indicating that a particular tx has been aborted, and to stop servicing state requests from that chaincode.  However, getting the chaincode to actually stop executing would require modifications to the chaincode itself.  Depending on the execution environment, this would need to be handled in different ways (for instance, a golang chaincode vs. a node chaincode has a very different notion of how you would check to see whether execution should stop).  I don't disagree that it would be a nice feature to have, but addressing it is well beyond a simple bug fix.;;;","25/Mar/20 11:15 PM;sykesm;{quote} It wouldn't be a tremendous amount of work {quote}

I think it's more than a trivial amount of work. Marking the simulation as terminated may be possible but sending a message to the chaincode would require the introduction of another message type and appropriate changes to all chaincode implementations.

{quote}I don't disagree that it would be a nice feature to have, but addressing it is well beyond a simple bug fix.{quote}

Totally agree here. Unfortunately, the current mechanism used for peer<->chaincode communication is very fragile. The choice of multiplexing multiple interactions over a single bi-directional channel (instead of using a channel per transaction) really prevents this style of pre-emptive cancelation without significant breaking changes to the chaincode API.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add etcdraft as available ordererType in configtx YAML,FAB-16881,42903,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,davidkhala,davidkhala,davidkhala,20/Oct/19 8:50 PM,22/Oct/19 4:02 PM,28/Oct/23 3:09 AM,22/Oct/19 4:02 PM,,,,,,,,,,,,,,,0,,,,,"As titled, even though we could see in below section `when the ""etcdraft"" orderertype is chosen.`",,davidkhala,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ib:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix typo error,FAB-16882,42904,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,21/Oct/19 12:19 PM,24/Oct/19 3:50 PM,28/Oct/23 3:09 AM,24/Oct/19 3:50 PM,v1.4.3,,,,,v2.0.0,,,,,,,,,0,,,,,"when I read the source code, I found some typo error, and I want to solve it.",,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ij:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix kafka.rst formatting,FAB-16883,42908,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,guoger,guoger,guoger,21/Oct/19 7:41 PM,22/Oct/19 4:49 AM,28/Oct/23 3:09 AM,22/Oct/19 4:49 AM,v1.4.3,,,,,v1.4.4,v2.0.0,,,fabric-docs,,,,,0,,,,,,,denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ir:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 2:27 AM;denyeart;Merged in master: https://gerrit.hyperledger.org/r/#/c/fabric/+/34033/
Cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/fabric/+/34043/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding new peers to org results in constant stream of errors in peer's log,FAB-16884,42910,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Highest,,,arman19940326,arman19940326,21/Oct/19 11:21 PM,19/May/20 10:15 PM,28/Oct/23 3:09 AM,,v1.4.3,,,,,,,,,fabric-docs,fabric-gossip,,,,0,,,,,"I deployed a Fabric network with one organization that initially has two peers: peer0-org1-example-com and peer1-org1-example-com with service discovery enabled on peers. After setting up the network and creating a channel, I successfully added a new peer (peer2-org1-example-com) to the org with the help of Fabric Node SDK but the thing is when I checked peer1-org1-example-com and peer2-org1-example-com logs they were both full of errors like this:

 
{code:java}
2019-10-21 14:17:09.710 UTC [gossip.comm] sendToEndpoint -> WARN 2ce Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:09.710 UTC [gossip.discovery] expireDeadMembers -> WARN 2cf Entering [0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed]
2019-10-21 14:17:09.710 UTC [gossip.discovery] expireDeadMembers -> WARN 2d0 Closing connection to Endpoint: peer2-org1-example-com:7051, InternalEndpoint: 10.1.0.200:7051, PKI-ID: 0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed, Metadata: 
2019-10-21 14:17:09.710 UTC [gossip.discovery] expireDeadMembers -> WARN 2d1 Exiting
2019-10-21 14:17:10.393 UTC [gossip.comm] sendToEndpoint -> WARN 2d2 Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:10.707 UTC [core.comm] ServerHandshake -> ERRO 2d3 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52756
2019-10-21 14:17:11.221 UTC [core.comm] ServerHandshake -> ERRO 2d4 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52762
2019-10-21 14:17:11.390 UTC [gossip.comm] sendToEndpoint -> WARN 2d5 Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:11.708 UTC [core.comm] ServerHandshake -> ERRO 2d6 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52770
2019-10-21 14:17:11.866 UTC [gossip.comm] sendToEndpoint -> WARN 2d7 Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:11.866 UTC [gossip.discovery] expireDeadMembers -> WARN 2d8 Entering [0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed]
2019-10-21 14:17:11.866 UTC [gossip.discovery] expireDeadMembers -> WARN 2d9 Closing connection to Endpoint: peer2-org1-example-com:7051, InternalEndpoint: 10.1.0.200:7051, PKI-ID: 0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed, Metadata: 
2019-10-21 14:17:11.866 UTC [gossip.discovery] expireDeadMembers -> WARN 2da Exiting
2019-10-21 14:17:12.385 UTC [gossip.channel] reportMembershipChanges -> INFO 2db Membership view has changed. peers went offline:  [[peer2-org1-example-com:7051 10.1.0.200:7051]] , current view:  [[peer0-org1-example-com:7051 10.1.1.92:7051]]
2019-10-21 14:17:13.205 UTC [core.comm] ServerHandshake -> ERRO 2dc TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52788
2019-10-21 14:17:13.711 UTC [core.comm] ServerHandshake -> ERRO 2dd TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52792
2019-10-21 14:17:14.393 UTC [gossip.comm] sendToEndpoint -> WARN 2de Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:14.707 UTC [gossip.comm] sendToEndpoint -> WARN 2df Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:14.710 UTC [core.comm] ServerHandshake -> ERRO 2e0 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52804
2019-10-21 14:17:14.731 UTC [core.comm] ServerHandshake -> ERRO 2e1 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52806
2019-10-21 14:17:14.869 UTC [gossip.comm] sendToEndpoint -> WARN 2e2 Failed obtaining connection for 10.1.0.200:7051, PKIid:0a4d9d32c338733f2e834439eb2c9e2ce5b9f5a3083ded3c587937430db456ed reason: context deadline exceeded
2019-10-21 14:17:15.732 UTC [core.comm] ServerHandshake -> ERRO 2e3 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=10.1.0.200:52820{code}
 

After googling around I suspected that this might somehow be related to the settings of Gossip protocol in peers especially the CORE_PEER_GOSSIP_BOOTSTRAP environment variable. 

I set this env to peer1-org1-example-com in peer0-org1-example-com and in peer1-org1-example-com to peer0-org1-example-com. In the new added peer (peer2-org1-example-com) I set this env to peer0-org1-example-com and got the above errors. Then I set :

 
{code:java}
CORE_PEER_GOSSIP_BOOTSTRAP = peer0-org1-example-com peer1-org1-example-com{code}
 

in the new peer and the issue kinda resolved. Then I added another new peer (peer3-org1-example-com) with the above CORE_PEER_GOSSIP_BOOTSTRAP value and this time the aforementioned errors appeared in the logs of peer2-org1-example-com and peer3-org1-example-com.

Somehow I need to set this env to all the current peers that are present in the network to make the errors go away.

What should I do to resolve this problem? Is this related to service discovery too?

I use a template Kubernetes deployment yaml file to deploy new peers and I'm kinda reluctant to change the variable CORE_PEER_GOSSIP_BOOTSTRAP value to all the current peers every time I want to add a new peer.",,arman19940326,chintanr11,rangak,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012j7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),arman19940326,chintanr11,rangak,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/19 3:55 AM;arman19940326;For anyone having this issue, I was able to solve this problem by setting the environment variable CORE_PEER_GOSSIP_ENDPOINT to [domain name]:7051. For example, in case of adding peer2-org1-example-com to the channel set this env to peer2-org1-example-com:7051;;;","19/May/20 10:15 PM;chintanr11;Hi [~arman19940326], I tried your proposed solution, but then I start getting following error in the newly added peer:

 


{code:java}
2020-05-19 13:13:54.704 UTC [gossip.discovery] func1 -> WARN 0c2 Could not connect to Endpoint: 127.0.0.1:7051, InternalEndpoint: 127.0.0.1:7051, PKI-ID: <nil>, Metadata: : cont
ext deadline exceeded
2020-05-19 13:14:19.707 UTC [core.comm] ServerHandshake -> ERRO 0c3 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=127.0.0.1:3
4034
2020-05-19 13:14:20.707 UTC [core.comm] ServerHandshake -> ERRO 0c4 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=127.0.0.1:3
4042
2020-05-19 13:14:22.555 UTC [core.comm] ServerHandshake -> ERRO 0c5 TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=127.0.0.1:3
4052
2020-05-19 13:14:22.706 UTC [gossip.discovery] func1 -> WARN 0c6 Could not connect to Endpoint: 127.0.0.1:7051, InternalEndpoint: 127.0.0.1:7051, PKI-ID: <nil>, Metadata: : cont
ext deadline exceeded{code};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Document that solutions should add salt to their private data,FAB-16885,42912,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,21/Oct/19 11:57 PM,22/Oct/19 10:47 PM,28/Oct/23 3:09 AM,22/Oct/19 10:46 PM,,,,,,v1.4.4,v2.0.0,,,fabric-docs,fabric-ledger,,,,0,,,,,"Per FAB-5101 Fabric does not automatically manage salt for private data to prevent dictionary attacks. Solutions should ensure that their private data has sufficient entropy to avoid dictionary attacks, for example by adding a salt field into their private data. This should be made clear in the private data documentation.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5101,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012jn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 10:20 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/34055/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"PTE simplify IDoneMsg log; fix buggy code: avoid early exit",FAB-16886,42913,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,dongming,dongming,22/Oct/19 12:04 AM,07/Nov/19 11:45 PM,28/Oct/23 3:09 AM,22/Oct/19 5:00 AM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,,,,,"Simplify IDoneMsg() when complete invoke transactions,

and do not exit from this function, which is called when done sending transactions (and at that time we still expect that we have not received all events yet, so we should not exit if events-received counter is nonzero).",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i012jv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 4:58 AM;scottz;[FIX  =  https://gerrit.hyperledger.org/r/c/fabric-test/+/34036|https://gerrit.hyperledger.org/r/c/fabric-test/+/34036]

This code bug was introduced recently by FAB-16838 [https://gerrit.hyperledger.org/r/c/fabric-test/+/33976];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove ledger 'type' from orderer config,FAB-16887,42916,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,jyellick,jyellick,22/Oct/19 12:33 AM,28/Oct/19 5:31 PM,28/Oct/23 3:09 AM,28/Oct/19 5:31 PM,,,,,,,,,,,,,,,0,ipm,,,,"The orderer used to have the ramledger, the jsonledger, and the fileledger.  Both of the former types have been removed, so requiring a type to be specified is confusing and unnecessary.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15337,,,FAB-16691,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15337,,,No,,Unset,No,,,"1|i00n2e:6rq3",Ledger Type config option is now removed and orderer will always use file ledger as backend,Yes,,Unset,Unset,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation updates for new node config ,FAB-16889,42918,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,pandrejko,pandrejko,22/Oct/19 12:58 AM,04/Feb/20 2:57 AM,28/Oct/23 3:09 AM,04/Feb/20 2:57 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,0,,,,,,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16753,,,No,,Unset,No,,,"1|i012kz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Feb/20 2:57 AM;pandrejko;Decision has been made not to implement this, so no doc required.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
build should be independent of container start,FAB-16890,42919,37468,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,22/Oct/19 12:59 AM,22/Nov/19 6:29 AM,28/Oct/23 3:09 AM,22/Nov/19 6:29 AM,,,,,,,,,,,,,,,0,,,,,The build process is common to both container and connector models and decides which model applies (based on if build specifies chaincode connection properties). We need to extract the build out of container runtime.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012l7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric 1.4.4 Release documentation updates,FAB-16891,42920,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,22/Oct/19 1:01 AM,03/Dec/19 8:53 PM,28/Oct/23 3:09 AM,03/Dec/19 8:53 PM,,,,,,v1.4.4,,,,fabric-docs,,,,,0,,,,,"Document:
 * New slimmer Debian images
 * Updates to the 1.4 upgrade doc",,denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012lf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/19 3:23 AM;joe-alewine;[~denyeart]

There's nothing required here other than adding a link to v1.4.4 release notes to the What's New doc, right?;;;","02/Nov/19 7:59 PM;denyeart;[~joe-alewine] Correct.;;;","03/Dec/19 6:46 AM;pandrejko;[~denyeart]I think this can be closed now. https://hyperledger-fabric.readthedocs.io/en/release-1.4/whatsnew.html#release-notes;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Gerrit URL references to GitHub in fabric-test release-1.4 Makefile and submodules,FAB-16892,42921,42327,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,22/Oct/19 1:11 AM,08/Nov/19 1:01 AM,28/Oct/23 3:09 AM,08/Nov/19 1:01 AM,v2.0.0,,,,,,,,,fabric-quality,,,,,0,,,,,Update gerrit references to GitHub in fabric-test Makefile and submodules.,,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16613,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ln:",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/19 1:01 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34040/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing provider.Close calls,FAB-16893,42922,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,22/Oct/19 1:27 AM,27/Nov/19 7:38 PM,28/Oct/23 3:09 AM,27/Nov/19 7:38 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,There are missing provider.Close calls in core/ledger/kvledger package. Close them.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012lv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 1:28 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/fabric/+/33998];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Abandon Behave test jobs and remove from fabric-test,FAB-16894,42925,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,22/Oct/19 5:51 AM,06/Dec/19 1:10 AM,28/Oct/23 3:09 AM,06/Dec/19 1:10 AM,v1.4.4,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,"After finishing the other tasks in this epic by rewriting all the required Behave tests in the Fabric Integration golang, we must clean up the following, on master branch AND in release-1.4 :
 * +CI+:  Abandon the CI job for fabric-test behave daily tests
 * +CI+: Remove the behave results from the fabric-test daily results job
 * +fabric-test+: Remove scripts/install_behave.sh and remove all references to behave tests from Makefile and README and regression/daily/ and regression/smoke/. Remove any associated build targets that are not used elsewhere (e.g. consider removing fabric-ca-client - although I think that one is still used by CTE). Clean up the scripts/pull* bash scripts. (Note the behave tests were already removed from the master branch smoke test suite here - but the Makefile was not cleaned up, and the daily tests are still running: [https://gerrit.hyperledger.org/r/c/fabric-test/+/33942/6/regression/smoke/runSmokeTestSuite.sh])
 * +fabric-test+: Remove all test code in feature/ and feature-upgrade/.

 ",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16800,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-15745,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzu",,,,No,Unset,In Progress,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/19 4:12 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34389/] for master branch;;;","15/Nov/19 4:19 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34390/] for release-1.4 branch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Abandon LTE test jobs from fabric-test,FAB-16895,42926,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,22/Oct/19 6:06 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,28/Jan/20 1:22 AM,,,,,,v2.0.0,,,,fabric-ledger,fabric-quality,,,,0,,,,,"The LTE tool is valuable for testing performance impact of changes to specifically the ledger code functions inside the peer. It is a useful developer tool, but that is all. It belongs inside the fabric repo. It is not a system test tool, and does not really belong in fabric-test repo. Clean up the following, on master branch AND in release-1.4 :
 * +CI+:  Abandon the CI job for fabric-test LTE tests
 * +CI+: Remove the LTE results from the fabric-test daily results job
 * +fabric-test+: Remove all references to LTE tool and tests from Makefile and README and regression/daily/ and regression/smoke/.
 * +fabric-test+: Remove fabric-test/tools/LTE/, and
 * fabric:  Place LTE tools and test scripts in fabric repository in a ledger test folder. The plan is to keep the tool for developers to use on an as-needed basis, but not run all of the tests as part of any regular CI job. It would make sense to incorporate a small test using LTE (such as that executed in the fabric-test smoke test suite) into fabric integration tests folder in ledger domain, to help ensure the tool is maintained.",,denyeart,scottz,,,,,,,,,,,,,,,,,FAB-17223,FAB-17224,FAB-17225,,,,,,,,,,,,,,,,FAB-16224,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:b",,,,No,Unset,To Do,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,scottz,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/19 12:53 AM;denyeart;Manish has been fixing up LTE for latest fabric and will move it and a simple test to fabric repo.;;;","15/Jan/20 8:29 PM;denyeart;https://github.com/hyperledger/fabric/pull/498 merged LTE to fabric repo.
Now LTE can be removed from fabric-test. ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Abandon OTE test jobs and remove OTE tool from fabric-test,FAB-16896,42927,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,22/Oct/19 6:12 AM,04/Dec/19 12:28 AM,28/Oct/23 3:09 AM,04/Dec/19 12:28 AM,v1.4.4,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,"The Orderer Test Engine (OTE) tool is an extension of a developer tool. System tests can be done using other available test performance tools (e.g. fabric-test tools NL, PTE, and Operator, and HFRD), so we seek to remove the burden of maintaining this tool. Clean up the following, on master branch AND in release-1.4 :
 * +CI+:  Abandon the daily CI job for fabric-test OTE tests (Note: it should be already abandoned in master branch; remove it from 1.4 too.)
 * +CI+: Remove the OTE results from the fabric-test daily results job
 * +fabric-test+: Remove all references to OTE tool and tests from the Makefile and README and regression/daily/ and regression/smoke/.
 * +fabric-test+: Remove fabric-test/tools/OTE/",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16227,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzz",,,,No,Unset,In Progress,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/19 6:38 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34375/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move CTE tool from fabric-test to fabric-ca,FAB-16897,42928,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,22/Oct/19 6:42 AM,16/Apr/20 12:01 PM,28/Oct/23 3:09 AM,16/Apr/20 12:01 PM,,,,,,,,,,fabric-ca,fabric-quality,,,,0,,,,,"The CA Test Engine (fabric-test/tools/CTE/) contains crl_test.sh and mycatest.sh, scripts to test the timings and operations of the CA. Since it only requires code in the CA repository, it belongs not in fabric-test repo but in fabric-ca repo.

The maintainers of fabric-ca may of course make final decision about whether to keep or abandon the tool and when to trigger the scripts. This proposal is to move the CTE tool to the fabric-ca repo, where it can be used by developers to catch errors immediately. We propose also to continue to execute the existing CTE daily test job until an alternative job in fabric-ca is provided to execute these tests.

On master branch AND in release-1.4:
 * +fabric-ca+:  Add CTE (and any useful parts of the Makefile/Readme information) to fabric-ca repo
 * +CI+: modify the CI daily job for CTE, to find the scripts in the fabric-ca repo., and to be triggered when appropriate.
 * +fabric-test+: Remove all references to CTE tool and tests from the Makefile and README and regression/daily/ and regression/smoke/.
 * +fabric-test+: Remove fabric-test/tools/CTE/.

Refer to the CTE test results of the daily job here: [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/] ",,btl5037,scottz,,,,,,,,,,,,,,,,,FAB-17302,,,,,,,,,,,,,,,FAB-17423,,,FAB-17018,FAB-16228,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4t",,,,No,Unset,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Apr/20 12:01 PM;btl5037;After discussions with Gari, this tool was retired;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove invalid test,FAB-16898,42930,42916,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,22/Oct/19 4:53 PM,22/Oct/19 11:34 PM,28/Oct/23 3:09 AM,22/Oct/19 11:34 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"[this UT|https://github.com/hyperledger/fabric/blob/4b786b4fe4019315170fe2d48231932f9a626203/orderer/common/multichannel/registrar_test.go#L129-L145] should be removed

{code}
	// Tests a chain which contains blocks with multi-transactions mixed with config txs,
	// and a single tx which is not a config tx, none count as config blocks so nil should return
	t.Run(""GetConfigTx - failure"", func(t *testing.T) {
		_, rl := newRAMLedgerAndFactory(10, ""testchannelid"", genesisBlockSys)
		for i := 0; i < 10; i++ {
			rl.Append(blockledger.CreateNextBlock(rl, []*cb.Envelope{
				makeNormalTx(""testchannelid"", i),
				makeConfigTx(""testchannelid"", i),
			}))
		}
		rl.Append(blockledger.CreateNextBlock(rl, []*cb.Envelope{makeNormalTx(""testchannelid"", 11)}))
		assert.Panics(t, func() { configTx(rl) }, ""Should have panicked because there was no config tx"")

		block := blockledger.CreateNextBlock(rl, []*cb.Envelope{makeNormalTx(""testchannelid"", 12)})
		block.Metadata.Metadata[cb.BlockMetadataIndex_LAST_CONFIG] = []byte(""bad metadata"")
		assert.Panics(t, func() { configTx(rl) }, ""Should have panicked because of bad last config metadata"")
	})
{code}

- it only works for ram ledger whose capacity can be set
- the second sub-test passes due to the same reason as the first, not what it claimed",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012nn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 5:11 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34047;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When {{FsBlockstoreProvider}} is constructed, subdir _chains_ should also be created, if not exist",FAB-16899,42931,42916,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,22/Oct/19 4:54 PM,28/Oct/19 5:29 AM,28/Oct/23 3:09 AM,28/Oct/19 5:29 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012nv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 5:11 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34048;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove ram ledger and ledger type from codebase,FAB-16900,42932,42916,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,22/Oct/19 4:55 PM,28/Oct/19 5:29 AM,28/Oct/23 3:09 AM,28/Oct/19 5:29 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012o3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 5:11 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34049;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove ledger type from docs,FAB-16901,42933,42916,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,22/Oct/19 4:55 PM,28/Oct/19 5:29 AM,28/Oct/23 3:09 AM,28/Oct/19 5:29 AM,,,,,,v2.0.0,,,,fabric-docs,fabric-ledger,,,,0,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012ob:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 5:11 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34050;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove ledger type from samples,FAB-16902,42934,42916,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,guoger,guoger,guoger,22/Oct/19 5:09 PM,28/Oct/19 5:30 PM,28/Oct/23 3:09 AM,28/Oct/19 5:30 PM,,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,,,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012oj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/19 5:30 PM;guoger;I don't think Fabric samples are affected;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure - etcdraft - should not disturb current running timer upon incorrect revalidation,FAB-16903,42937,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,guoger,guoger,guoger,22/Oct/19 5:58 PM,22/Oct/19 10:43 PM,28/Oct/23 3:09 AM,22/Oct/19 10:43 PM,v1.4.3,,,,,v1.4.4,v2.0.0,,,fabric-orderer,,,,,0,ci-flake,,,,"{code}
16:46:39 {""level"":""info"",""msg"":""Created block [1], there are 0 blocks in flight"",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""debug"",""msg"":""Proposed block [1] to raft consensus"",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""warn"",""msg"":""slow fdatasync"",""channel"":""test-channel"",""node"":1,""took"":""1.617046155s"",""expected-duration"":""1s""}
16:46:39 {""level"":""info"",""msg"":""Writing block [1] (Raft index: 3) to ledger"",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""info"",""msg"":""Raft node stopped"",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""info"",""msg"":""Stop serving requests"",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""info"",""msg"":""Periodic check is stopping."",""channel"":""test-channel"",""node"":1}
16:46:39 {""level"":""debug"",""msg"":""Quit proposing blocks, discarded 0 blocks in the queue"",""channel"":""test-channel"",""node"":1}
16:46:39 
16:46:39 [90m------------------------------[0m
16:46:39 [91m[1m• Failure [2.059 seconds][0m
16:46:39 Chain
16:46:39 [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:78[0m
16:46:39   Single Raft node
16:46:39   [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:98[0m
16:46:39     when Raft leader is elected
16:46:39     [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:282[0m
16:46:39       Config updates
16:46:39       [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:473[0m
16:46:39         when a type A config update comes
16:46:39         [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:479[0m
16:46:39           for existing channel
16:46:39           [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:481[0m
16:46:39             with revalidation (i.e. incorrect config sequence)
16:46:39             [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:549[0m
16:46:39               [91m[1mshould not disturb current running timer upon incorrect revalidation [It][0m
16:46:39               [90m/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:572[0m
16:46:39 
16:46:39               [91mTimed out after 1.000s.
16:46:39               Expected
16:46:39                   <int>: 0
16:46:39               to equal
16:46:39                   <int>: 1[0m
16:46:39 
16:46:39               /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:589
{code}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/15660/consoleFull


eventually timeout is not lenient enough:
{code}
16:46:39 {""level"":""warn"",""msg"":""slow fdatasync"",""channel"":""test-channel"",""node"":1,""took"":""1.617046155s"",""expected-duration"":""1s""}
{code}",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012p7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Oct/19 6:01 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34052;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent IT failure - deploys and executes chaincode using _lifecycle and upgrades it,FAB-16904,42938,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,guoger,guoger,22/Oct/19 6:07 PM,19/Mar/20 4:51 AM,28/Oct/23 3:09 AM,19/Mar/20 4:51 AM,,,,,,,,,,fabric-peer,,,,,0,ci-flake,,,,"{code}
03:11:01 [90m------------------------------[0m
03:11:01 [91m[1m• Failure [58.786 seconds][0m
03:11:01 [90mLifecycle [0m[91m[1m[It] deploys and executes chaincode using _lifecycle and upgrades it [0m
03:11:01 [37m/w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/lifecycle/lifecycle_test.go:98[0m
03:11:01 
03:11:01   [91mNo future change is possible.  Bailing out early after 0.176s.
03:11:01   Expected
03:11:01       <int>: 1
03:11:01   to match exit code:
03:11:01       <int>: 0[0m
03:11:01 
03:11:01   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/deploy.go:229
{code}

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/12316/console",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012pf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/19 5:57 PM;guoger;hit again: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/12408/consoleFull

seems that db creation was delayed that causes {{ApproveChaincodeDefinitionForOrg}} to fail. i think adding retry to IT should solve it? [~jyellick];;;","19/Mar/20 4:51 AM;sykesm;While I expect the root cause is still valid, there's nowhere near enough information in here to do anything with it. The logs were never captured and the links are dead so all we have is the output that says a command failed. It's really important that we gather logs and attach them to issues because the builds go away...

The comments imply ""ApproveChaincodeDefinitionForOrg"" but that function looks to have been retired before this issue was open.

When we see something like this again, someone will open it.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documentation for External chaincode builder and launcher,FAB-16906,42940,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,22/Oct/19 9:38 PM,10/Jan/20 4:38 AM,28/Oct/23 3:09 AM,10/Jan/20 4:38 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,1,,,,,,,MHBauer,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i012pv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MHBauer,pandrejko,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/19 6:40 AM;pandrejko;https://github.com/hyperledger/fabric/pull/386;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Split validation/commit path out from gossip,FAB-16907,42942,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,caod,caod,22/Oct/19 11:35 PM,10/Nov/20 12:17 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-peer,,,,,0,,,,,"Currently validation/commit requires Gossiping the block to Gossip and then running through gossip state's deliverPayload -> coordinator.StoreBlock. For blocks that originate from the ordering service for dissemination, there shouldn't be a need to Gossip to ourselves first just to hit this path. Lets move coordinator's StoreBlock functionality out into a shared path on a BlocksRouter that both Gossip can use as well as the BlocksProvider so that BlocksProvider no longer has a dependency on going through Gossip first to commit the block. This has some implications for how we want to Gossip the message after committing in StoreBlock and preventing a commit loop that keeps going back to Gossip for dissemination, but there are various ways we can tackle this whether by storing some metadata indicating the source of where the block came from, or splitting out the AddPayload and DeliverPayload functionality so it never loops back on itself.

 

/cc [~jyellick] [~denyeart] [~sykesm] [~mastersingh24]",,caod,wlahti,xuqiang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12221,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb0zyx",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,wlahti,xuqiang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a discovery role of a peer to the docs,FAB-16908,42121,,Documentation,To Do,FAB,Fabric,software,denyeart,,,Medium,,,yuriiuhlanov,yuriiuhlanov,29/Aug/19 9:18 PM,13/Jan/21 3:56 AM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-docs,fabric-samples,,,,0,sdk-triaged,v1.4.1,,,"There in the sample and structure of a connection profile for Gateway in the docs ([https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/connectionprofile.html#sample]) the fifth role of a peer is missing.
 This role is ""discover"" and meant to mark the peer responsible for service discovery.
 Without this role set to true on at least one peer the service discovery will not work.

The other question is why this role is called *discover* ([https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/NetworkConfig.java#L807]) and not *serviceDiscovery* ([https://github.com/hyperledger/fabric-sdk-java/blob/master/src/main/java/org/hyperledger/fabric/sdk/Peer.java#L602]) in the code.",,bestbeforetoday,yuriiuhlanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00yxv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,yuriiuhlanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Sep/19 5:35 PM;bestbeforetoday;Please could you give me a pointer to the docs you mention in the description?;;;","20/Sep/19 12:06 AM;yuriiuhlanov;[~bestbeforetoday] I have updated the description and will copy the link to the document here:
https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/connectionprofile.html#sample;;;","23/Oct/19 12:02 AM;bestbeforetoday;Thanks for the link. I don't know the history of why the role is called *discover* rather than *serviceDiscovery*, but at least this is consistent with the documented roles in the Node SDK: [https://fabric-sdk-node.github.io/release-1.4/global.html#ChannelPeerRoles]

The simplest way to use discovery with the Gateway is to omit the *channels* section of the connection profile entirely and just include one or more bootstrap peers for the organization associated with your client identity. This way you don't need to worry about roles and all peers will be assigned all roles by default. See this connection profile for an example: [https://github.com/hyperledger/fabric-gateway-java/blob/v1.4.0/src/test/java/org/hyperledger/fabric/gateway/connection-discovery.json]

The docs and/or samples could probably benefit from reflecting this.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-svt-weekly-pte 12hr test fails: orderer3 tlscacerts not found,FAB-16909,42943,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,rameshthoomu,scottz,scottz,23/Oct/19 1:12 AM,16/Nov/19 3:08 AM,28/Oct/23 3:09 AM,16/Nov/19 3:08 AM,,,,,,,,,,fabric-quality,,,,,0,ci-failure,,,," 
This failure is from the weekly test result, running a single NL / PTE test 12HrTest.py (FAB-7204). ALL proposals are rejected. The first error indication is is:
{quote}*tls_cacerts* does not exist: caRootsPath: /w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/crypto-config/ordererOrganizations/example.com/orderers/*orderer3*.example.com/msp/tlscacerts/tlsca.example.com-cert.pem{quote}
 
This failure at first seemed to be a pathname issue, with PTE looking for tls_cacerts whereas cryptogen generated pathname without the underscore (tlscacerts). HOWEVER, tls_cacerts is a hardcoded string printed by the logger statement, which I believe is simply outdated and so this may be just a typo and red herring.
 
I think the real clue is that PTE function getTLSCert cannot find any certs for *orderer3*. The PTE/CITest/FAB-7204-4i/test_nl.sh script launches the network with 3 orderers, not 4, and they are zero-indexed, so PTE should be using one of the first 3 orderers, not a non-existent orderer. We should examine what leads it to look for orderer3 certs: it seems the function chainAddOrderer apparently finds an orderer3 in the connection profile and uses that for all 4 of the threads, so the generated connection profile seems wrong. Why does it contain orderer3 but not orderer0 or 1 or 2?
 
Another question: why is it only this test that fails in this manner? The other NL / PTE tests in the daily test suite ran successfully last night.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Oct/19 1:33 AM;scottz;consolelogs.txt;https://jira.hyperledger.org/secure/attachment/17902/consolelogs.txt","23/Oct/19 1:13 AM;scottz;faillogs.txt;https://jira.hyperledger.org/secure/attachment/17901/faillogs.txt",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r6",,,,Unset,Unset,,"Run the 12hr test job. It does this:
  cd fabric-test && make svt-weekly-pte-12hr-test",,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/19 9:54 PM;scottz;The same error was seen again yesterday in the weekly test logfile

[https://jenkins.hyperledger.org/job/fabric-test-svt-weekly-pte-x86_64/66/artifact/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/CITest/Logs/FAB-7204-4i_1028120419.log]
{quote}[32minfo[39m: [2019-10-28T12:04:42.042Z PTE 0 main]: stderr: [31merror[39m: [2019-10-28T12:04:42.042Z PTE 1572264297584 util]: [getTLSCert] tls_cacerts does not exist: caRootsPath: /w/workspace/fabric-test-svt-weekly-pte-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/crypto-config/ordererOrganizations/example.com/orderers/orderer3.example.com/msp/tlscacerts/tlsca.example.com-cert.pem, key: orderer, subkey: orderer3
{quote};;;","09/Nov/19 12:49 AM;scottz;Looking to deprecate this test.

For releases, plan to run long test in k8s cluster. Let's do one now in 1.4.4 to make sure is stable and successful. Then can close this as infrastructure issue.;;;","14/Nov/19 3:14 AM;scottz;12hour test passed in k8s cluster last night. Now that we have that running regularly, let's delete this NL/PTE 12hour test and stop the job, which is apparently failing due to infrastructure/resources reasons.

Possible alternative: we could run in the Azure environment - but that does not allow jobs more than 6 hours.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-cli,FAB-16910,42945,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:47 AM,29/Oct/19 7:27 AM,28/Oct/23 3:09 AM,29/Oct/19 7:27 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012qr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-gateway-java,FAB-16911,42946,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:47 AM,29/Oct/19 7:30 AM,28/Oct/23 3:09 AM,29/Oct/19 7:30 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012qz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-lib-go,FAB-16912,42947,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:47 AM,26/Nov/19 4:55 AM,28/Oct/23 3:09 AM,26/Nov/19 4:55 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012r7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-go,FAB-16913,42948,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:47 AM,29/Oct/19 7:30 AM,28/Oct/23 3:09 AM,29/Oct/19 7:30 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012rf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-java,FAB-16914,42949,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:47 AM,29/Oct/19 7:30 AM,28/Oct/23 3:09 AM,29/Oct/19 7:30 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012rn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-node,FAB-16915,42950,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:48 AM,26/Nov/19 4:55 AM,28/Oct/23 3:09 AM,26/Nov/19 4:55 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012rv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-sdk-py,FAB-16916,42951,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ryjones,ryjones,ryjones,23/Oct/19 2:48 AM,16/Nov/19 6:15 AM,28/Oct/23 3:09 AM,16/Nov/19 6:15 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012s3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test,FAB-16917,42952,42427,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,ryjones,ryjones,23/Oct/19 2:48 AM,11/Dec/19 2:49 AM,28/Oct/23 3:09 AM,11/Dec/19 2:49 AM,,,,,,,,,,,,,,,0,,,,,"# decide to migrate or archive
 # if migrate, do the thing
 # if archive, do the other thing

 ",,btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012sb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,ryjones,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add orderersystemchannel name in testinput file for fabric-test operator,FAB-16920,42955,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,23/Oct/19 3:41 AM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,30/Oct/19 10:14 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"For now, for all our automation tests to be successful, NL and Operator-Launcher tools must both use the same name for the orderersystemchannel, so PTE (which runs with networks started with either of those launchers) can assume the correct name. PTE needs that information when creating a channel, to fetch genesis block from the system channel. With this task, we should add a line to the pte/test Input file to specify the name of the orderer system channel, and pass it to PTE from operator. That way, PTE could be used with any network created by our operator launcher. 

The systemchannel name is needed only when creating a channel, so it is not needed by others who launch their own network and who want to use PTE to run traffic - as long as they create their own channels beforehand, without using PTE to do it.

One example of a network launched without using operator launcher is a network launched with NL, as is currently done in our CI tests. We can continue to use PTE with NL - but note that requires NL and PTE to use the same default name of the orderersystemchannel, since there is no way for NL to pass that information to PTE today.",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxzr9",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/19 5:09 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34095/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test ledger data upgrade with state couchDB ,FAB-16921,42956,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,23/Oct/19 5:23 AM,21/Nov/19 4:35 AM,28/Oct/23 3:09 AM,21/Nov/19 4:35 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"# Generate sample ledger data using state couchDB in an older release
 # Implement unit tests to verify ledger data upgrade in latest release  (similar to [https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/tests/v11_test.go])",,manish-sethi,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15499,,,No,,Unset,No,,,"1|i008rj:iwxi",,,,Unset,Unset,v2.0,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,wenjian,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Oct/19 5:34 AM;manish-sethi;CR for generating sample data - https://gerrit.hyperledger.org/r/#/c/fabric/+/34062/;;;","24/Oct/19 4:42 AM;wenjian;CR for generating sample data using couchdb - [https://gerrit.hyperledger.org/r/#/c/fabric/+/34078/]

CR for upgrading test - [https://gerrit.hyperledger.org/r/#/c/fabric/+/34116/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Symbol encoding format error  in documents,FAB-16922,42957,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,zouyunfeng,zouyunfeng,zouyunfeng,23/Oct/19 12:26 PM,24/Oct/19 3:01 PM,28/Oct/23 3:09 AM,24/Oct/19 3:00 PM,v1.4.3,v1.4.4,v2.0.0,,,v1.4.4,,,,,,,,,0,,,,,"in `config_update.md`：

the symbol   """"  encoding format error   causes direct copy to command line execution errors

eg:

 jq “$MAXBATCHSIZEPATH = 20” config.json > modified_config.json
 jq “$MAXBATCHSIZEPATH” modified_config.json",,zouyunfeng,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012tf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zouyunfeng,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Oct/19 12:51 PM;zouyunfeng;https://gerrit.hyperledger.org/r/c/fabric/+/34064;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rebuild of state database fails,FAB-16923,42962,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,denyeart,denyeart,23/Oct/19 11:23 PM,05/Nov/19 12:38 AM,28/Oct/23 3:09 AM,05/Nov/19 12:38 AM,v2.0.0,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"If state database is dropped, upon next restart of peer the state database attempts to get rebuilt. But for a block that includes a chaincode commit (using new lifecycle), the state fails to get written to state database and the recovery of the channel fails. 
{code:java}
2019-10-23 10:12:03.027 EDT [kvledger] recommitLostBlocks -> INFO 10d Recommitting lost blocks - firstBlockNum=0, lastBlockNum=28, recoverables=[]kvledger.recoverable{(*lockbasedtxmgr.LockBasedTxMgr)(0xc002dd60a0)}
...
2019-10-23 10:12:03.489 EDT [cceventmgmt] HandleStateUpdates -> INFO 2c5 Channel [mychannel]: Handling deploy or update of chaincode [marblesp]
2019-10-23 10:12:03.489 EDT [peer] Initialize -> ERRO 2c6 Failed to load ledger mychannel(could not create implicit collections for channel: could not get channelconfig for channel mychannel)
2019-10-23 10:12:03.489 EDT [peer] Initialize -> DEBU 2c7 Error while loading ledger mychannel with message could not create implicit collections for channel: could not get channelconfig for channel mychannel. We continue to the next ledger rather than abort.
{code}
 

 ",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012u3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 12:38 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/fabric/+/34186/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UpdateOrdererConfigSession should not wait for the program to exit before returning,FAB-16924,42964,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,24/Oct/19 3:32 AM,01/Nov/19 9:23 PM,28/Oct/23 3:09 AM,01/Nov/19 9:23 PM,,,,,,,,,,fabric-common,,,,,0,ipm,,,,"The network method {{UpdateOrdererConfigSession}} waits for the process to terminate before returning to the caller. This violates the expectations of XXXSession methods that return the Session created when launching a process.

Update the method and the callers to adhere to the implied contract and be consistent with the rest of the network methods.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rrr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/19 7:16 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34136 UpdateOrdererConfigSession returns without waiting;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Evaluate intent and behavior of assertNoErrorsAreLogged in integration/raft/config_test.go,FAB-16925,42965,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,24/Oct/19 3:42 AM,07/Nov/19 12:24 PM,28/Oct/23 3:09 AM,07/Nov/19 12:24 PM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,ipm,,,,{{assertNoErrorsAreLogged}} uses an eventually on a negative assertion. There seems to be a fair bit of munging around it and the intent from the method name may not match the implementation.,,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rui",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/19 5:00 PM;guoger;I don't exactly understand the description... it asserts no error has been logged from runners. Could you pls elaborate a bit? thx

 

[~sykesm];;;","01/Nov/19 9:16 PM;sykesm;1. Eventually Should Not Contain raises red flags. It could happen immediately and then an error is written.
2. Polling on a 5 second interval seems suspect.
3. Why isn't Consistently the correct approach.
4. Does the assertion need to be in the middle of the test or can it be done after the runners exit?;;;","05/Nov/19 5:01 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34225 Cleanup some idioms in the raft config tests

Ended up removing the assertions. It looks like the code would eat the logs until they were gone and then asserted there were no errors (in the now empty) logs.

Also fixed up some grouper references that were unnecessary.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
remove Architecture origins from Fabric 2.0 docs,FAB-16926,42966,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,pandrejko,pandrejko,24/Oct/19 4:24 AM,15/Nov/19 12:06 PM,28/Oct/23 3:09 AM,26/Oct/19 3:53 PM,,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,"Suggestion to remove this content from the Fabric 2.0 content since it is not in the code.

 [https://hyperledger-fabric.readthedocs.io/en/latest/arch-deep-dive.html]

{color:#172b4d}Checking with maintainers to see if they agree.{color}",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:65i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Oct/19 2:50 AM;pandrejko;I did a search on arch-deep-dive across the docs and found it is referenced in 3 places:
1. Developing apps: https://hyperledger-fabric.readthedocs.io/en/latest/developapps/architecture.html#physical-representation
2. Developing apps: https://hyperledger-fabric.readthedocs.io/en/latest/developapps/connectionoptions.html#considerations
3. Fabcar: https://hyperledger-fabric.readthedocs.io/en/latest/understand_fabcar_network.html#for-more-information;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peer token command should be removed from documentation,FAB-16927,42967,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,24/Oct/19 6:32 AM,25/Oct/19 9:19 PM,28/Oct/23 3:09 AM,25/Oct/19 9:19 PM,,,,,,v2.0.0,,,,,,,,,0,ipm,,,,The token work has been removed from v2 but some of the doc remains.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqx",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/19 6:38 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34082 Remove doc for the token command  ;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Operator to take relative path for paths related to artifacts in input files,FAB-16928,42968,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,suryalnvs,suryalnvs,24/Oct/19 7:39 AM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,30/Oct/19 10:14 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Operator to take relative path for paths related to artifacts in input files such as artifacts location, channel artifacts, connection profiles",,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxzri",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"25/Oct/19 2:58 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34093/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move CRIT logs to Error in operator,FAB-16929,42969,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,24/Oct/19 7:42 AM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,05/Nov/19 8:17 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,Move CRIT logs to Error in operator and return error as CRIT is using exit 1 which is killing ginkgo tests when there is any failure.,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/19 12:21 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34104/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change PTE to wait for until channels are ready,FAB-16930,42970,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,24/Oct/19 7:46 AM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,29/Oct/19 11:07 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Change PTE to wait for until orderer system channel is ready before submitting channel creation request and application channels are ready before sending join peers request,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/19 11:07 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34025/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Typo in Document (Chaincode Instantiation Command),FAB-16932,42978,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,chill37,chill37,chill37,24/Oct/19 5:23 PM,26/Oct/19 3:53 PM,28/Oct/23 3:09 AM,26/Oct/19 3:53 PM,v1.4.3,,,,,v1.4.3,,,,,,,,,0,,,,,"There is a type in document regarding 'Chaincode Instantiation Command' which leads to error when doing the tutorial.

 

original:

peer chaincode instantiate -n sacc -v 1.0 -c '\{""Args"":[""john"",""0""]}' -P ""AND ('Org1.member','Org2.member')""

 

correct: (need to add channel)

peer chaincode instantiate -n sacc -v 1.0 -c '\{""Args"":[""john"",""0""]}' -C mychannel -P ""AND ('Org1.member','Org2.member')""",,chill37,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012vn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chill37,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cryptogen does not create peer's admincerts anymore,FAB-16933,42979,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,hakan.eryargi,hakan.eryargi,24/Oct/19 6:32 PM,29/Oct/19 6:12 PM,28/Oct/23 3:09 AM,28/Oct/19 7:49 PM,,,,,,,,,,,,,,,0,,,,,"Starting from version 1.4.3, when _EnableNodeOUs=true_ in _crypto-config.yaml_,  *cryptogen* does not create peer's admincerts anymore and this makes created crypto material unusable by peer.  Peer crashes with the below error. 
{code:java}
2019-09-23 14:22:01.504 UTC [msp] getPemMaterialFromDir -> WARN 001 Failed reading file /etc/hyperledger/fabric/msp/admincerts/cert.pem: no pem content for file /etc/hyperledger/fabric/msp/admincerts/cert.pem
 2019-09-23 14:22:01.505 UTC [main] InitCmd -> ERRO 002 Cannot run peer because error when setting up MSP of type bccsp from directory /etc/hyperledger/fabric/msp: administrators must be declared when no admin ou classification is set{code}
Below are the contents of relevant peer's MSP folder, as can bee seen contents of the _admincerts_ folder is missing.
{code:java}
$ tree crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/
crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/
├── admincerts
├── cacerts
│ └── ca.aptalkarga.tr-cert.pem
├── config.yaml
├── keystore
│ └── 4e1cac1894b7a44360e4fe956fa8129e389bbea865f2fe57ae88df043de03093_sk
├── signcerts
│ └── peer0.aptalkarga.tr-cert.pem
└── tlscacerts
 └── tlsca.aptalkarga.tr-cert.pem
5 directories, 5 files{code}
 

Please see this comment and next ones for more information.
https://jira.hyperledger.org/browse/FAB-16376?focusedCommentId=63968&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-63968",,angelo.decaro,denyeart,hakan.eryargi,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012vv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,hakan.eryargi,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Oct/19 7:49 PM;angelo.decaro;So, the error message is clearly saying that NodeOU is not enabled and the admin folder is empty. Can you give us a way to reproduce your scenario? Is /etc/hyperledger/fabric/msp pointing to crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/?
What's inside crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/config.yaml?;;;","24/Oct/19 8:00 PM;hakan.eryargi;[~angelo.decaro] where does it saying _NodeOU is not enabled_?

below is the contents of msp/_config.yaml_
{code:java}
raft@CPX-A19YRWYW4YK:~/PIVT/network/fabric-kube/samples/simple$ cat crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp
/config.yaml
NodeOUs:
  Enable: true
  ClientOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: client
  PeerOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: peer
{code}
For reproducing, you can try to run any sample in our [Git repo|https://github.com/APGGroeiFabriek/PIVT]. it just runs with cryptogen 1.4.1 and 1.4.2 but fails with 1.4.3

I guess you can also run any Fabric provided sample.;;;","24/Oct/19 8:26 PM;hakan.eryargi;And yes, _/etc/hyperledger/fabric/msp/_ got contents from _aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/_;;;","24/Oct/19 9:14 PM;angelo.decaro;so, how can your scenario happening? The code speaks clearly
{code:java}
fabric/msp/mspimplsetup.go

func (msp *bccspmsp) setupAdminsV143(conf *m.FabricMSPConfig) error {
	// make and fill the set of admin certs (if present)
	if err := msp.setupAdminsPreV143(conf); err != nil {
		return err
	}

	if len(msp.admins) == 0 && (!msp.ouEnforcement || msp.adminOU == nil) {
		return errors.New(""administrators must be declared when no admin ou classification is set"")
	}

	return nil
}
{code}
;;;","24/Oct/19 9:21 PM;hakan.eryargi;can you please just run cryptogen 1.4.3 and see yourself admincerts folder is empty? :);;;","24/Oct/19 9:22 PM;angelo.decaro;Are you using commit: b8c4a6aa7da1deac0672e3bc54d429172ace9016 for v1.4.3?;;;","24/Oct/19 9:24 PM;angelo.decaro;Oh, here is the issue, your configuration does not tell the MSP how to classify administrator. The configuration is missing the admin subsection
{code:java}
  AdminOUIdentifier:
    Certificate: cacerts/ca.org1.example.com-cert.pem
    OrganizationalUnitIdentifier: admin
{code}
;;;","24/Oct/19 9:25 PM;hakan.eryargi;yes, downloaded from https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html

{code:java}
raft@CPX-A19YRWYW4YK:~/cryptogen version
cryptogen:
 Version: 1.4.3
 Commit SHA: b8c4a6a <<<<----
 Go version: go1.11.5
 OS/Arch: linux/amd64
{code}

just try it yourself please!;;;","24/Oct/19 9:26 PM;angelo.decaro;and cryptogen generates that configuration. Look at common/tools/cryptogen/msp/generator.go line 262;;;","24/Oct/19 9:28 PM;hakan.eryargi;sorry which configuration is that? _crypto-config.yaml_ is the configuration file for _cryptogen_, and it doesnt have such a thing to my knowledge

 

_msp/config.yaml_ is created by cryptogen itself;;;","24/Oct/19 9:32 PM;angelo.decaro;but the msp/config.yaml you posted is missing the admin subsection. So, the error you see is caused by the content of msp configuration and this is expected behaviour. That configuration was generated by previous version of cryptogen.;;;","24/Oct/19 9:37 PM;hakan.eryargi;ah right, it was created by older cryptogen, here is the config.yaml by 1.4.3


{code:java}
raft@CPX-A19YRWYW4YK:~/PIVT/network/fabric-kube$ cat samples/simple/crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/config.yaml
NodeOUs:
  Enable: true
  ClientOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: client
  PeerOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: peer
  AdminOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: admin
  OrdererOUIdentifier:
    Certificate: cacerts/ca.aptalkarga.tr-cert.pem
    OrganizationalUnitIdentifier: orderer
{code}

still no admincerts!

{code:java}
raft@CPX-A19YRWYW4YK:~/PIVT/network/fabric-kube$ tree samples/simple/crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/ms
p/
samples/simple/crypto-config/peerOrganizations/aptalkarga.tr/peers/peer0.aptalkarga.tr/msp/
├── admincerts
├── cacerts
│   └── ca.aptalkarga.tr-cert.pem
├── config.yaml
├── keystore
│   └── 5520e62fad16ac005b24250f120b41661d6df3d92ce66f982df418c375683ddd_sk
├── signcerts
│   └── peer0.aptalkarga.tr-cert.pem
└── tlscacerts
    └── tlsca.aptalkarga.tr-cert.pem

5 directories, 5 files

{code}

just try it yourself please!!
;;;","24/Oct/19 11:42 PM;angelo.decaro;and that's okay, now the peer knows that admins can be recognised by looking at their OU. Indeed, if you look at the output of cryptogen, the administrators' cert has *admin* as one of their OU.;;;","25/Oct/19 1:15 AM;hakan.eryargi;ah, okay, so we need to provide _msp/config.yaml_ also to peer. now makes sense.

thanks for clarification, wrong alert, closing the issue;;;","25/Oct/19 1:51 AM;siddjain;{quote}and that's okay, now the peer knows that admins can be recognised by looking at their OU. Indeed, if you look at the output of cryptogen, the administrators' cert has *admin* as one of their OU.
{quote}
no its not okay. Its not okay because even though administrator's cert has OU=admin in it, the Fabric backend is not setup to recognize that OU. See this task which is still pending: https://jira.hyperledger.org/browse/FAB-16376

Anyway and nevertheless, one would expect cryptogen to also populate the admincerts folder. For one, it maintains backward compatibility. This is a minor release so backward compatibility must be maintained.

This ticket ought to be reopened.;;;","25/Oct/19 1:57 AM;hakan.eryargi;{quote}Anyway and nevertheless, one would expect cryptogen to also populate the admincerts folder. For one, it maintains backward compatibility. This is a minor release so backward compatibility must be maintained.
{quote}
 
[~siddjain] agree!;;;","25/Oct/19 1:59 AM;siddjain;also created this bug affecting cryptogen 1.4.3: https://jira.hyperledger.org/browse/FAB-16936;;;","25/Oct/19 10:03 PM;angelo.decaro;But  FAB-16376 is done, it is not related to cryptogen. [~denyeart], what do you think?;;;","28/Oct/19 7:47 PM;denyeart;FAB-16376 is merged in release-1.4, not yet in master. Regardless, cryptogen is not a production utility, it is a test utility. It was updated in v1.4.3 to test the new admin OU support - to test the admin OU support you must not have a cert in admincerts directory so that you can know that the admin OU is working. Closing.;;;","28/Oct/19 9:43 PM;hakan.eryargi;[~denyeart] is there an issue about using cryptogen for production? I found it handy for creating initial certificates.;;;","29/Oct/19 2:19 AM;siddjain;[~hakan.eryargi] I am also experimenting with using cryptogen to generate initial certificates. I started using this tool only recently. Do you know if there is a way to customize the attributes of the X.509 certificate generated by cryptogen? E.g., by default cryptogen generates a certificate with `C=US, ST=California, L=San Francisco`. How can I change these to something else?;;;","29/Oct/19 4:04 AM;denyeart;[~hakan.eryargi] [~siddjain] You have no control over what cryptogen generates beyond the few things in crypto-config.yaml. This is why it is intended to be used for simple tests but not actual production usage.;;;","29/Oct/19 6:12 PM;hakan.eryargi;[~denyeart] to my knowledge, cryptogen is the most convenient tool for now to create the initial certificates.

I dont want to create the certificates manually, nor want to write some scripts for certificate creation. Maybe cryptogen is not intended for this purpose but best option for now, especially if you dont need additional stuff in certificates.

So, if there is no *real* issue with it, like a security threat or whatever, we plan to go production with that. 

It will also be nice if cryptogen is even more developed to cover other needs too :) ;;;",,,,,,,,,,,,,
Remove PROJECT_FILES macro from make process,FAB-16934,42980,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,24/Oct/19 10:57 PM,28/Oct/19 5:29 AM,28/Oct/23 3:09 AM,28/Oct/19 5:29 AM,,,,,,v2.0.0,,,,fabric-build,,,,,0,ipm,,,,"Our make process is essentially a number of phony targets used to generate a handful of artifacts. Further, the go toolchain already understands what packages/files should cause packages to be recompiled and binaries relinked.

When putting the two together, it doesn't make much sense for the make process to define recipes that rely on all of the go files in the project.

To simplify things and remove any assumption that we have dependency based builds, drop PROJECT_FILES from the make process.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:6rqyi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Oct/19 11:01 PM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34087;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Token Commands,FAB-16935,42981,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,negupta,negupta,negupta,24/Oct/19 11:09 PM,25/Oct/19 10:42 PM,28/Oct/23 3:09 AM,25/Oct/19 10:42 PM,,,,,,,,,,fabric-docs,,,,,0,,,,,Token commands are still in the dos,,negupta,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012wb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Oct/19 6:55 AM;sykesm;Dupe of FAB-16927. 
https://gerrit.hyperledger.org/r/c/fabric/+/34082;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cryptogen does not set OU=admin attribute on X.509 certificate of an ordering node's administrator,FAB-16936,42983,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,siddjain,siddjain,25/Oct/19 1:57 AM,29/Nov/19 10:14 PM,28/Oct/23 3:09 AM,29/Nov/19 10:14 PM,v1.4.3,,,,,v1.4.4,,,,fabric-crypto,,,,,0,cryptogen,,,,,,angelo.decaro,denyeart,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012wr:",,,,Unset,Unset,,"1. Use cryptogen 1.4.3 to generate crypto material. 
2. View the X.509 certificate of the orderer's administrator

Observed
----------
Subject: C=US, ST=California, L=San Francisco, OU=client, CN=Admin@foo.com

Expected
----------
Subject: C=US, ST=California, L=San Francisco, OU=admin, CN=Admin@foo.com",,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Oct/19 7:48 PM;denyeart;[~angelo.decaro] Can you take a look?;;;","29/Oct/19 6:00 PM;angelo.decaro;[~siddjain], which commit are you using, please? Just to be sure :);;;","30/Oct/19 1:15 AM;siddjain;we are using 1.4.3 of cryptogen that we installed using the Fabric install script https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh;;;","06/Nov/19 2:54 AM;denyeart;I've tested v1.4.3 cryptogen:

./byfn.sh generate

openssl x509 -in ./crypto-config/ordererOrganizations/example.com/users/Admin@example.com/msp/signcerts/Admin@example.com-cert.pem -noout -text

For the orderer org admin certificate I get:

Subject: C=US, ST=California, L=San Francisco, OU=admin, [CN=Admin@example.com|mailto:CN=Admin@example.com]

It looks as expected to me.

[~siddjain] Since I can't reproduce the problem, I'll have to close as 'Works as Expected'. If you can reproduce please re-open and provide exact reproduction step statements so that we can investigate further.;;;","28/Nov/19 10:58 AM;siddjain;This bug repros for us and you can watch our repro steps in this video [https://www.youtube.com/watch?v=X4ETc8GS2TQ];;;","29/Nov/19 3:23 AM;siddjain;also here is log of running `./byfn.sh generate` and you can again see the `OU=admin` is missing.

[https://gist.github.com/siddjain/0bbc2626837a870290152a213d90ed72]

What version of cryptogen are you using? You evidently seem to be using a version that does not have this bug.;;;","29/Nov/19 3:37 AM;siddjain;i verified this bug is fixed in v1.4.4 of cryptogen

https://jira.hyperledger.org/browse/FAB-16783;;;","29/Nov/19 10:14 PM;denyeart;Ok, set FixVersion to v1.4.4 and closed.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
hook all parts together,FAB-16937,42984,37468,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,25/Oct/19 3:17 AM,06/Dec/19 4:15 AM,28/Oct/23 3:09 AM,06/Dec/19 4:15 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"With the external builder and chaincode support prepared for chaincode-as-server model this task finally fills in the remaining pieces to complete the model
* import latest protos to bring in chaincode as server service
* adjust chaincode support for client gRPC stream
* implement Start/Stop on connector instance to connect to remote server",,denyeart,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012wz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,muralisr,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/19 8:22 AM;denyeart;https://github.com/hyperledger/fabric/pull/300;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add integration test,FAB-16938,42985,37468,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,muralisr,muralisr,muralisr,25/Oct/19 3:25 AM,21/Nov/19 9:43 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,Once the dependent shim PR https://github.com/hyperledger/fabric-chaincode-go/pull/6  is merged we can complete the work with an integration test.,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012x7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Policy not endorsed as expected in IntegrationTest,FAB-16939,42986,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dereckluo,dereckluo,dereckluo,25/Oct/19 3:45 AM,08/Nov/19 12:28 AM,28/Oct/23 3:09 AM,08/Nov/19 12:28 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,"Chaincode Policy are not being endorsed as expected in IntegrationTest, specifically when testing for chaincode transactions with unauthorized peers. 

Failure reproduce setups:
- Enable NodeOU for Org1 and disable NodeOU for Org2.
- Deploy chaincode with policy _*AND(Org1ExampleCome.peer, Org2ExampleCome.peer)*_
- A user invokes on the chaincode with args [""invoke"",""a"",""b"",""10""] on Org1Peer1 and Org2Peer1. 

The expected behavior for chaincode invoke is returning with exit code 1 with error message since Org2Peer1 has identity as _*.member*_, but requires _*.peer*_ for chaincode policy. 
However, the test behaves that this chaincode invoke and transaction endorsed successfully. 


{code:java}
No future change is possible.  Bailing out early after 0.149s.
  Expected
      <int>: 0
  to match exit code:
      <int>: 1
{code}

",,denyeart,dereckluo,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012xf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dereckluo,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/19 4:27 AM;dereckluo;It turns out there is a small inconsistency in integration test with new lifecycle using old chaincode definition. ;;;","30/Oct/19 5:32 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/34149/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""Illegal characters in key"" error - Orderer swallowing underlying error message",FAB-16940,42988,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,denyeart,denyeart,25/Oct/19 11:24 AM,09/Nov/19 5:58 AM,28/Oct/23 3:09 AM,09/Nov/19 5:58 AM,v1.4.3,v2.0.0,,,,v2.0.0,,,,fabric-orderer,,,,,1,ipm,,,,"User hit error:

 
{code:java}
2019-10-25 00:20:00.915 UTC [orderer.common.server] Start -> PANI 003 Failed validating bootstrap block: initializing configtx manager failed: error converting config to map: Illegal characters in key: [Group]

panic: Failed validating bootstrap block: initializing configtx manager failed: error converting config to map: Illegal characters in key: [Group]{code}
 
Unfortunately looks like orderer is swallowing the underlying error message and therefore user cannot troubleshoot further.


 [https://github.com/hyperledger/fabric/blob/release-1.4/common/configtx/configmap.go#L55-L57]",,denyeart,guoger,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rvs",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,siddjain,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 6:35 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34256;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove vledger doc,FAB-16941,42989,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,bjzhang03,bjzhang03,bjzhang03,25/Oct/19 11:58 AM,26/Oct/19 1:00 AM,28/Oct/23 3:09 AM,26/Oct/19 1:00 AM,v1.4.3,,,,,,,,,,,,,,0,,,,,"Validated ledger interface have been removed from the project.

So, we should remove it from doc, in case of confusing other people.",,bjzhang03,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012y3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/19 1:00 AM;denyeart;This document contains outdated information (as mentioned in the Note at the top of the document), but was kept for historical documentation of the original v1.0 proposal. As such, we have not been updating the outdated information here.
The maintainers have recently agreed that it is time to entirely remove this document from master branch as of v2.0. It will remain in prior release branches for historical record.
Let's abandon this change in favor of the entire removal in master.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"""Developing Applications""  section missing java code snippets/examples",FAB-16942,42999,,Documentation,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,heatherp,heatherp,25/Oct/19 10:59 PM,12/Mar/20 7:57 PM,28/Oct/23 3:09 AM,,v1.4.3,v2.0.0,,,,v1.4.7,v2.0.0,,,fabric-sdk-java,,,,,0,sdk-triaged,,,,"[https://hyperledger-fabric.readthedocs.io/en/master/developapps/application.html] - I think the examples provided here in node should also exist for java

Much like these updates for java smart contracts: https://gerrit.hyperledger.org/r/c/fabric/+/32640",,anhngo,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012yr:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),anhngo,heatherp,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jan/20 4:28 PM;anhngo;agreed;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
change protobuf import to the correct one in gossip's proto extensions and others,FAB-16943,43001,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Oct/19 4:05 AM,26/Oct/19 7:52 AM,28/Oct/23 3:09 AM,26/Oct/19 7:52 AM,,,,,,,,,,,,,,,0,,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012z7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update dependencies,FAB-16944,43002,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/Oct/19 5:49 PM,08/Nov/19 8:35 PM,28/Oct/23 3:09 AM,08/Nov/19 8:35 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,"before releasing, update major dependencies to latest versions",,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012zf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update grpc-go version,FAB-16945,43003,43002,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/Oct/19 5:50 PM,30/Oct/19 12:49 AM,28/Oct/23 3:09 AM,30/Oct/19 12:49 AM,,,,,,,,,,,,,,,0,,,,,move to v1.24.0,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012zn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update pkcs11 version,FAB-16946,43004,43002,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/Oct/19 6:01 PM,30/Oct/19 12:49 AM,28/Oct/23 3:09 AM,30/Oct/19 12:49 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,Move to v1.0.3,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012zv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update go-grpc-middleware,FAB-16947,43005,43002,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,26/Oct/19 6:04 PM,30/Oct/19 2:09 AM,28/Oct/23 3:09 AM,30/Oct/19 2:09 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,v1.1.0,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01303:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update sarama version,FAB-16949,43007,43002,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mastersingh24,mastersingh24,mastersingh24,26/Oct/19 6:14 PM,08/Nov/19 8:35 PM,28/Oct/23 3:09 AM,08/Nov/19 8:35 PM,,,,,,v2.0.0,,,,,,,,,0,,,,,v1.24.0,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0130b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 8:35 PM;mastersingh24;won't do for 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add SDK and Chaincode projects to Github contributions section,FAB-16950,43009,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,btl5037,btl5037,28/Oct/19 10:33 AM,29/Oct/19 4:14 AM,28/Oct/23 3:09 AM,29/Oct/19 4:14 AM,,,,,,,,,,,,,,,0,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0130r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for alternative mechanisms for locating pkcs11 keys,FAB-16951,43011,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,ldesrosi,mastersingh24,mastersingh24,28/Oct/19 6:31 PM,09/Jun/23 1:39 AM,28/Oct/23 3:09 AM,09/Jun/23 1:39 AM,,,,,,v1.4.7,v2.x,,,fabric-crypto,,,,,0,ipm,,,,"The pkcs11 implementation in Fabric currently generates a key via pkcs11, then creates a X509 certificate with an SKI and then updates the CKA_ID attribute of the key via pkcs11.  The problem is that this assumes that the CKA_ID attribute is always writable and this is not always the case (e.g. AWS CloudHSM).",,ahmedsajid,ashutosh_kumar,denyeart,lakshaygaur,ldesrosi,mastersingh24,rhegde,seyday,silliman,silveraid,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:0idqwi4",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ahmedsajid,ashutosh_kumar,denyeart,lakshaygaur,ldesrosi,mastersingh24,rhegde,seyday,silliman,silveraid,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 4:30 AM;denyeart;[~mastersingh24] Planning a v1.4.4 release for next week, does this need to go in? Looks like [~ldesrosi] is working on it.;;;","07/Nov/19 12:42 AM;mastersingh24;We can do this in v1.4.5 ... no need for this in v1.4.4 at this point;;;","15/Nov/19 3:51 AM;ashutosh_kumar;Cannot we make a copy of the object , update CKA_id with SKI value and delete Original copy ? What do you think [~mastersingh24] ?;;;","18/Nov/19 7:48 PM;ldesrosi;Unfortunately, not all HSM providers implement C_CopyObject.  It is the case for the AWS CloudHSM. None of the methods that allows a copy or a modification after creation are implemented.;;;","03/Dec/19 9:09 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/34221/ abandoned. 
[~ldesrosi] Do you intend to submit a PR to GitHub master (v2.0) and release-1.4 (v1.4.5)?;;;","03/Dec/19 11:08 PM;ldesrosi;[~denyeart] Yes, I will submit a new PR before 05/12. Thanks;;;","05/Dec/19 3:04 AM;ldesrosi;[~denyeart] sorry for the delay.  I have submitted this PR: [https://github.com/hyperledger/fabric/pull/364] to release-1.4.  I can look at adjusting the code for v2.0 but it would be good to get a consensus on the approach/code of 1.4 first.  

Is that OK?;;;","30/Mar/20 10:28 PM;denyeart;Merged into release-1.4. Let's allow some more testing in release-1.4 and then consider what approach should be taken for v2.x.;;;","22/May/20 1:12 AM;silveraid;I am just wondering if you guys considered using the CKA_LABEL to identify objects instead of CKA_ID.;;;","26/Feb/21 1:49 AM;denyeart;The support has been in v1.4.x for a while now and it seems to work well for people. Luc mentioned he could port to main next, but we could use another volunteer to test using AWS CloudHSM.;;;","07/Apr/21 6:13 AM;denyeart;Discussed port to main here: https://github.com/hyperledger/fabric/pull/2479;;;","06/Jun/23 4:22 AM;lakshaygaur;Hi, is this issue still active ? I can see that [https://github.com/hyperledger/fabric/pull/2479] is merged already.;;;","09/Jun/23 1:39 AM;denyeart;The actual fix was merged in [https://github.com/hyperledger/fabric/pull/2486|https://github.com/hyperledger/fabric/pull/2486.]

and backported to release-2.2 and later branches.

""Add support for mapping subject key identifiers to cryptoki object CKA_ID attributes. This allows Fabric to use keys from token providers that do not support CKA_ID attribute modification."";;;",,,,,,,,,,,,,,,,,,,,,,,
"Produce genesis blocks on the fly during test, instead of testdata/genesis.block",FAB-16952,43013,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,guoger,guoger,guoger,28/Oct/19 10:49 PM,01/Nov/19 5:04 PM,28/Oct/23 3:09 AM,01/Nov/19 5:04 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,,0,ipm,,,,"there are some UT relying on testdata/*.block files, which might be outdated over time (i.e. configs like orderer addresses are moved around). They are produced with configtx.yaml anyway, we should produce them on the fly instead of storing them statically",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16704,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zfzzz",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TLS certificate renewal deadlock after expiry,FAB-16953,43015,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,ihormudryy,ihormudryy,29/Oct/19 1:23 AM,26/Apr/20 1:46 PM,28/Oct/23 3:09 AM,26/Apr/20 1:46 PM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,,,,,,fabric-ca,,,,,0,,,,,"I run a fabric network which consists of a single RCA controlled by 'governor' organization and several 'regular' organization with their own ICA:s.

When TLS certificates on orderers get expired it is not possible to renew them as they are embedded into genesis blocks of the channels including system one (client/server certs, admins_certs, root_certs, tls_intermediate_certs, intermediate_certs).

This is a *deadlock* because the update of the channel config is being rejected after the TLS are expired.

When TLS certs are still valid there is no straight-forward solution for their renewal. Org Admin has to make a lot of steps on its own for each channel where MSP organization is added:
 # Reenroll all the new tls cryptomaterial aside using fabric-ca-client
 # Fetch channel config using peer cli
 # Create config update payload with base64 encoded tls certs using configtxgen and configtxlator
 # Update system config block using peer cli
 # Replace current node certificates with the new one
 # Restart orderer

Using an infinite date is not a good option because this is risky and bad practice in case keys get compromised.

IMHO signing TLS cert and signing an enrollment cert by the same CA's root cert is not a good solution. TLS should be signed by a separate root TLS certificate which exists separately on CA node.",,denyeart,ihormudryy,joaquimpedrooliveira,ScottAllan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15700,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0131f:",,,,Unset,Unset,,"1. Start fabric with RCA, ICA, orderer and peer and short FABRIC_CA_CSR_CA_EXPIRY values
2. Wait until certificates get expired
3. Try to renew them",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ihormudryy,joaquimpedrooliveira,ScottAllan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/19 4:51 AM;denyeart;[~ihormudryy] See {{TLSHandshakeTimeShift}} orderer config option at:

[https://hyperledger-fabric.readthedocs.io/en/latest/raft_configuration.html#local-configuration]

And related discussion in FAB-15700.

It is available since v1.4.3.

Does that resolve the concern?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove NEXUS_REPO macro from Makefile,FAB-16954,43019,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,29/Oct/19 3:50 AM,30/Oct/19 4:33 AM,28/Oct/23 3:09 AM,30/Oct/19 4:33 AM,v2.0.0,,,,,,,,,fabric-build,,,,,0,ipm,,,,The macro is defined and isn't used.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0131n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/19 3:51 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34126 Remove dead NEXUS_REPO;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove exitCode var from configtxgen,FAB-16955,43020,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,29/Oct/19 3:55 AM,30/Oct/19 4:32 AM,28/Oct/23 3:09 AM,30/Oct/19 4:32 AM,,,,,,v2.0.0,,,,fabric-tools,,,,,0,,,,,It's a package level var that's only referenced as ane xit code of zero. It's unnecessary.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0131v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/19 3:57 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34127;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move pvtdataprovider to internal/pkg/peer,FAB-16956,43021,42942,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,caod,caod,caod,29/Oct/19 3:56 AM,21/Nov/19 4:19 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,Let's also convert the tests to ginkgo to be consistent with the other tests around this path,,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01323:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure - orderer/common/cluster/deliver_test,FAB-16957,43023,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,caod,sykesm,sykesm,29/Oct/19 5:06 AM,23/Jul/20 10:45 AM,28/Oct/23 3:09 AM,25/Feb/20 10:38 PM,v2.0.0,,,,,,,,,fabric-orderer,,,,,0,ci-flake,ipm,,,"The following code:
{code}
 272 func (ds *deliverServer) addExpectPullAssert(seq uint64) {                                                                                                                      
 273   ds.seekAssertions <- func(info *orderer.SeekInfo, _ string) {
 274     assert.NotNil(ds.t, info.GetStart().GetSpecified())
 275     assert.Equal(ds.t, seq, info.GetStart().GetSpecified().Number)
 276     assert.Equal(ds.t, info.ErrorResponse, orderer.SeekInfo_BEST_EFFORT)
 277   }
 278 } 
{code}

panics in test:
{code}
15:19:40 [31m2019-10-28 19:18:21.556 UTC [test] fetchLastBlockSeq -> ERRO 1a9[0m Failed receiving the latest block from 127.0.0.1:37985: EOF
15:19:40 [33m2019-10-28 19:18:21.556 UTC [test] func1 -> WARN 1aa[0m Received error of type 'EOF' from {127.0.0.1:37985 []}
15:19:40 [33m2019-10-28 19:18:21.557 UTC [test] connectToSomeEndpoint -> WARN 1ab[0m Could not connect to any endpoint of [{127.0.0.1:37985 []}]
15:19:40 panic: runtime error: invalid memory address or nil pointer dereference
15:19:40 [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xed817a]
15:19:40 
15:19:40 goroutine 1085 [running]:
15:19:40 github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).addExpectPullAssert.func1(0xc0000336c0, 0xc000138600, 0x15)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:275 +0x14a
15:19:40 github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).Deliver(0xc0000d5600, 0x132f8e0, 0xc0001a5630, 0x1319820, 0xc0000d5600)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:184 +0x19a
15:19:40 github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/orderer._AtomicBroadcast_Deliver_Handler(0x116c920, 0xc0000d5600, 0x132ca60, 0xc0004ce780, 0x2702590, 0xc00037d000)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/orderer/ab.pb.go:674 +0xce
15:19:40 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc00053ea80, 0x13312c0, 0xc000414180, 0xc00037d000, 0xc000419fb0, 0x1c70c60, 0x0, 0x0, 0x0)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1202 +0x166a
15:19:40 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc00053ea80, 0x13312c0, 0xc000414180, 0xc00037d000, 0x0)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1282 +0x12e6
15:19:40 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc000335850, 0xc00053ea80, 0x13312c0, 0xc000414180, 0xc00037d000)
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:717 +0xad
15:19:40 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
15:19:40 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:715 +0xb9
15:19:40 FAIL	github.com/hyperledger/fabric/orderer/common/cluster	1.614s
{code}",,caod,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17237,,,,,,,,,,,,,,,,,,,,,"23/Jul/20 10:45 AM;wenjian;20200723.log;https://jira.hyperledger.org/secure/attachment/18437/20200723.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8znqzi",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,sykesm,wenjian,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Feb/20 2:21 AM;caod;[https://github.com/hyperledger/fabric/pull/704];;;","23/Jul/20 10:41 AM;wenjian;Hit a flake in [https://dev.azure.com/Hyperledger/0227bd2c-c4f6-478f-be00-ee519f115180/_apis/build/builds/18235/logs/68]

2020-07-23T00:42:56.5387187Z panic: timed out waiting for seek assertions to receive a value 2020-07-23T00:42:56.5387366Z 2020-07-23T00:42:56.5387514Z goroutine 1842 [running]: 2020-07-23T00:42:56.5387862Z github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).Deliver(0xc00241a900, 0x1411a00, 0xc0003249f0, 0x0, 0x0) 2020-07-23T00:42:56.5388259Z /home/vsts/work/1/fabric/orderer/common/cluster/deliver_test.go:190 +0x691 2020-07-23T00:42:56.5388930Z github.com/hyperledger/fabric-protos-go/orderer._AtomicBroadcast_Deliver_Handler(0x1237600, 0xc00241a900, 0x140e0a0, 0xc0003c2600, 0x27ecaa0, 0xc000355200) 2020-07-23T00:42:56.5389581Z /home/vsts/work/1/fabric/vendor/github.com/hyperledger/fabric-protos-go/orderer/ab.pb.go:674 +0xce 2020-07-23T00:42:56.5390027Z google.golang.org/grpc.(*Server).processStreamingRPC(0xc000096820, 0x1412f00, 0xc0000d4c00, 0xc000355200, 0xc000234cc0, 0x1cac080, 0x0, 0x0, 0x0) 2020-07-23T00:42:56.5390452Z /home/vsts/work/1/fabric/vendor/google.golang.org/grpc/server.go:1329 +0x15b4 2020-07-23T00:42:56.5390816Z google.golang.org/grpc.(*Server).handleStream(0xc000096820, 0x1412f00, 0xc0000d4c00, 0xc000355200, 0x0) 2020-07-23T00:42:56.5391169Z /home/vsts/work/1/fabric/vendor/google.golang.org/grpc/server.go:1409 +0x1252 2020-07-23T00:42:56.5391564Z google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc0015272a0, 0xc000096820, 0x1412f00, 0xc0000d4c00, 0xc000355200) 2020-07-23T00:42:56.5391938Z /home/vsts/work/1/fabric/vendor/google.golang.org/grpc/server.go:746 +0xd9 2020-07-23T00:42:56.5392231Z created by google.golang.org/grpc.(*Server).serveStreams.func1 2020-07-23T00:42:56.5392539Z /home/vsts/work/1/fabric/vendor/google.golang.org/grpc/server.go:744 +0xb9;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-cli README  remove gerrit,FAB-16958,43026,31201,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TopJohn,TopJohn,TopJohn,29/Oct/19 11:55 AM,07/Nov/19 8:02 PM,28/Oct/23 3:09 AM,07/Nov/19 7:58 PM,,,,,,,,,,fabric-cli,,,,,0,,,,,,,lehors,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0132z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,TopJohn,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 7:57 PM;lehors;https://github.com/hyperledger/fabric-cli/pull/2;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-cli to latest fabric-sdk-go,FAB-16959,43029,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,,troyronda,troyronda,29/Oct/19 10:38 PM,05/Nov/19 10:38 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,,,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0133n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-ca-master job: Consistent failure in testcase ""ca_tests.FabricCaTests.test_FAB6863_BasicCAClustering""",FAB-16960,43031,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,btl5037,vijaypunugubati,vijaypunugubati,29/Oct/19 11:40 PM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,14/Jan/20 12:53 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-ca-master job: ca_tests.fail in testcase FabricCaTests.test_FAB6863_BasicCAClustering

*Branch:* Master

*Platform:* x86_64

*Error Snippet:* 
{code:java}
Errors opening files (steady stream of them) for the BasicCAClustering tests:
ca_tests.py::FabricCaTests::test_FAB6863_BasicCAClustering FAILEDCalledProcessError: Command '['mkdir -p /tmp/logs/FAB6863; chmod 777 /tmp/logs/FAB6863;docker run -v /tmp/logs/FAB6863:/tmp -v $PWD/../../fabric-ca:/opt/gopath/src/github.com/hyperledger/fabric-ca hyperledger/fabric-ca-fvt ./scripts/fvt/cluster_test.sh 4 4 8 128']' returned non-zero exit status 56Can't open /tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem for reading, No such file or directory*00:42:11.182* 140310278988928:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:69:fopen('/tmp/cluster/users/testuser1-4/msp/signcerts/cert.pem','r')00:42:11.182 140310278988928:error:2006D080:BIO routines:BIO_new_file:no such file:../crypto/bio/bss_file.c:76:00:42:11.182 unable to load certificate
{code}
Build:

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/383/testReport/ca_tests/FabricCaTests/test_FAB6863_BasicCAClustering/]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16820,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:c",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-cli tests fail due to timing,FAB-16961,43032,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,troyronda,troyronda,29/Oct/19 11:55 PM,19/Apr/20 1:37 PM,28/Oct/23 3:09 AM,19/Apr/20 1:37 PM,,,,,,,,,,,,,,,0,,,,,,,troyronda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0134b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),troyronda,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove CollectionCriteria proto and move type,FAB-16963,43034,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,30/Oct/19 2:41 AM,01/Nov/19 11:28 PM,28/Oct/23 3:09 AM,01/Nov/19 10:35 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,"It seems we aren't using the TxID field for anything with regards to the CollectionCriteria type. Dave mentioned that this was originally added to the proto for potential future use; just checking in to see if we still want this field or if it's ok to go ahead and remove it

/cc [~yacovm] [~ales]",,ales,caod,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0134j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,caod,yacovm,,,,,,,,,mergify/bp/release-2.2/pr-4374,dependabot/bundler/docs/nokogiri-1.14.3,0.2.x,dependabot/bundler/docs/activesupport-6.0.6.1,dependabot/go_modules/bindings/go-apiv1/golang.org/x/text-0.3.8,0.1.x,main,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/text-0.3.8,dependabot/go_modules/bindings/go-apiv1/golang.org/x/net-0.7.0,dependabot/bundler/docs/commonmarker-0.23.9,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/bindings/go-apiv2/golang.org/x/net-0.7.0,release-2.3,release-2.2,dependabot/go_modules/bindings/go-apiv2/golang.org/x/text-0.3.8,release-2.5,release-2.4,github-settings,dependabot/go_modules/bindings/go-apiv2/golang.org/x/sys-0.1.0,dependabot/go_modules/golang.org/x/sys-0.1.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,dependabot/go_modules/bindings/go-apiv1/golang.org/x/sys-0.1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/19 3:48 AM;yacovm;Isn't it useful for debugging? ;;;","30/Oct/19 4:04 AM;caod;It doesn't need to go into the collection criteria for that. We still have access to the txid for logging purposes.;;;","30/Oct/19 6:03 PM;ales;It doesn't seem to be used anywhere so yeah, let's remove it. Incidentally: does CollectionCriteria even need to be a protobuf? Do we send it over the wire or marshal it anywhere?;;;","30/Oct/19 11:35 PM;caod;Doesn't look like it, I'll change this issue to remove it from the protos and move the type to CollectionStore since it seems to be mostly used there.;;;","31/Oct/19 5:04 PM;ales;Excellent, thanks Danny!;;;","01/Nov/19 10:36 PM;caod;[https://github.com/hyperledger/fabric-protos/pull/14];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-chaincode-go and fabric-chaincode-protos dependencies,FAB-16964,43036,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,30/Oct/19 5:07 AM,30/Oct/19 9:50 PM,28/Oct/23 3:09 AM,30/Oct/19 9:50 PM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,,0,hygiene,ipm,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0134z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/19 5:10 AM;sykesm; https://gerrit.hyperledger.org/r/c/fabric/+/34151 Update fabric chaincode and protos dependencies;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE service discovery local host setting,FAB-16965,43037,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,dongming,dongming,30/Oct/19 5:29 AM,12/Nov/19 3:52 AM,28/Oct/23 3:09 AM,11/Nov/19 8:23 AM,,,,,,,,,,fabric-quality,,,,,0,,,,,"For service discovery on containers, localHost has to be set to true.

 ",,bharadwajambati1,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1409,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxz7",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,dongming,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 1:31 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34160/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Shadow core/peer/ExternalBuilder in the config package of the integration test network,FAB-16966,43038,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,30/Oct/19 6:44 AM,30/Oct/19 5:39 PM,28/Oct/23 3:09 AM,30/Oct/19 5:39 PM,v2.0.0,,,,,v2.0.0,,,,fabric-test,,,,,0,ipm,,,,"The config package in network contains the structures we use to maintain and manage yaml constructs. As long as the production code does not have a user consumable configuration package, we want these to be separate.

So, for external builders, we should actually have a struct within the integration tests instead of using the ones that are in the core/peer pacakge.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rt8",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/19 6:53 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34154 Shadow ExternalBuilder config in nwo/fabricconfig;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix network sample with docker compose,FAB-16968,43040,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,SamYuan1990,SamYuan1990,30/Oct/19 3:23 PM,19/Apr/20 1:36 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-samples,,,,,0,,,,,"A identity mix network sample similar as BYFN.
Will have 1 CA, orderer, peer, cli.
Channel Org org1 and Idemix org1
A chaincode in golang language with cid.getX509cert(), invoke chaincode two times by x509 cert and idemix cert.

Once completed, as sample guide for idemix network sample.",,SamYuan1990,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0135n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),SamYuan1990,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
common/metadata/metadata.go type can be omitted,FAB-16969,43041,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,TopJohn,TopJohn,TopJohn,30/Oct/19 5:00 PM,21/Nov/19 4:28 AM,28/Oct/23 3:09 AM,21/Nov/19 4:28 AM,,,,,,v2.0.0,,,,,,,,,0,,,,,common/metadata/metadata.go type can be omitted,,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0135v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TopJohn,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix some spelling error,FAB-16970,43042,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bjzhang03,bjzhang03,bjzhang03,30/Oct/19 6:23 PM,25/Nov/19 5:53 PM,28/Oct/23 3:09 AM,25/Nov/19 5:53 PM,,,,,,,,,,,,,,,0,,,,,fix some spelling error,,bjzhang03,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01363:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjzhang03,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Security Event Logging,FAB-16971,43043,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,guoj76,j.on,j.on,30/Oct/19 7:33 PM,19/Apr/20 1:36 PM,28/Oct/23 3:09 AM,19/Apr/20 1:36 PM,,,,,,,,,,,,,,,0,Documentation,help-wanted,Security,,"
1) We'd like to understand whether Fabric applications currently produce any of the below event logs and what these are. 

(appreciate that not every one of these will be universally applicable to Fabric constituents)

* Privileged user commands and activities
* Security and audit policy changes
* User logon failure
* User logon success
* Service account logon failure
* Service account logon success
* User or group added
* User or group deleted
* User or group modified
* User password change
* User role modified
* Concurrent user sessions
* Persistent user session
* Unauthorised activity attempt
* Unauthorised data modification / modification attempt
* System time change

2) Then more generically, is there a class of security events that may be deemed 'suspicious' that any of the Fabric constituents currently produce?

",,denyeart,guoj76,j.on,jyellick,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0136b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoj76,j.on,jyellick,rhegde,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/19 1:16 AM;jyellick;As a bit of pre-amble, Fabric logging is not considered to be a stable API. All log messages emitted are subject to change, and although we endeavor not to modify logging formats indiscriminately and without purpose, log messages could be changed in severity, grammar, or structure to improve usability.

As a longer term goal of Fabric, it would be great to move towards a more structured logging format, though I don't think we're there yet.

So, any 'logging events' published by Fabric should only be considered stable down to the Fabric patch level.

That being said, allow me to do a quick first pass on what you've requested.
{quote}User or group added
 User or group deleted
 User or group modified
 User password change
 User role modified
{quote}
These would be fabric-CA related.
{quote}Concurrent user sessions
 Persistent user session
{quote}
Although Fabric doesn't really do 'sessions', it's typical for a user to be making multiple authenticated calls (some of which are long lived) at any given time.
{quote}User logon failure
 User logon success
 System time change
{quote}
There is no real notion of logon.  And system time changes would be an OS level event, not Fabric related.
{quote}Unauthorised activity attempt
{quote}
I would likely think this falls into a two broad categories.

1) Unauthorized invocation of Broadcast or Deliver on the orderer
 2) Unauthorized invocation of Propose or Deliver on the peer
{quote}Unauthorised data modification / modification attempt
{quote}
As Fabric is a blockchain, data modification is done through a consented process.  The closest thing here is probably an endorsement policy failure.
{quote}Privileged user commands and activities
{quote}
What would you consider privileged? Chaincode install jumps to mind, join channel would be another.
{quote}Security and audit policy changes
{quote}
This is a little broad, do you have more specific requirements?;;;","31/Oct/19 2:17 AM;j.on;That's a very helpful pre-amble Jason, thank you. 

Looking at unauthorised data invocation and endorsement policy failure, would such events be manifest in logs and how?
Aim being capturing through regex.

{{privileged user commands and activities}} and {{security and audit policy changes}} are related. We'd like to understand if the Chaincode contains runtime configuration which may be altered by a privileged user, and if misused, could prove or at least indicate a threat to its integrity, confidentiality, or availability. 
The aim again being capturing these events (if such are logged) and parsing with regex.


Concerning: 

""User or group added
User or group deleted
User or group modified
User password change
User role modified

These would be fabric-CA related""

Should I post these questions under fabric-CA?


Thank you.
-Jon;;;","19/Apr/20 1:36 PM;denyeart;This is too broad for a story. If you would like to pursue, please only a fabric-rfc with proposal: https://github.com/hyperledger/fabric-rfcs/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update integration test gossip parameters in core_template to be consistent with sampleconfig,FAB-16972,43044,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,30/Oct/19 11:30 PM,31/Oct/19 3:47 AM,28/Oct/23 3:09 AM,31/Oct/19 3:47 AM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"In light of the recent change for the private data pull retry threshold parameter for integration tests, it highlighted the fact that our integration tests and sample config have widely different values for at least some of the gossip parameters. This task will align the values since the integration tests seem like a good place to help us determine if some of the parameters in the sample config are set to reasonable values.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0136j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/19 12:07 AM;wlahti;[https://gerrit.hyperledger.org/r/c/fabric/+/34162];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Informational messages from HandleChaincodeDeploy are not user friendly,FAB-16974,43047,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,31/Oct/19 12:54 AM,07/Nov/19 12:24 PM,28/Oct/23 3:09 AM,07/Nov/19 12:24 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,Usability,,,"Examples:

{code}
[e][Org2.peer1] 2019-10-30 15:46:38.606 UTC [cceventmgmt] HandleChaincodeDeploy -> INFO 046 Channel [testchannel]: Chaincode [Name=marbles, Version=0.0, Hash=[]byte{0xc6, 0x9b, 0xa4
, 0xd2, 0x9d, 0xda, 0xf2, 0x24, 0x69, 0x74, 0x9b, 0x1b, 0x6c, 0x5f, 0x84, 0xfa, 0xe, 0x7, 0x26, 0xf, 0x31, 0xdb, 0x39, 0x46, 0xb8, 0xb6, 0x1f, 0xd0, 0xd5, 0xa9, 0x55, 0xd4}] is not 
installed hence no need to create chaincode artifacts for endorsement
{code}
 
and

{code}
[e][Org1.peer1] 2019-10-30 15:46:38.605 UTC [cceventmgmt] HandleChaincodeDeploy -> INFO 05e Channel [testchannel]: Chaincode [Name=marbles, Version=0.0, Hash=[]byte{0xc6, 0x9b, 0xa4
, 0xd2, 0x9d, 0xda, 0xf2, 0x24, 0x69, 0x74, 0x9b, 0x1b, 0x6c, 0x5f, 0x84, 0xfa, 0xe, 0x7, 0x26, 0xf, 0x31, 0xdb, 0x39, 0x46, 0xb8, 0xb6, 0x1f, 0xd0, 0xd5, 0xa9, 0x55, 0xd4}] is not
installed hence no need to create chaincode artifacts for endorsement
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rv9",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 4:42 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34246 Improve user facing lifecycle/cceventmgmt messages;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Integration test nwo/fabricconfig gossip structs missing fields,FAB-16975,43048,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,31/Oct/19 12:57 AM,31/Oct/19 3:50 AM,28/Oct/23 3:09 AM,31/Oct/19 3:50 AM,,,,,,v2.0.0,,,,fabric-common,,,,,0,,,,,"The GossipPvtData struct in integration/nwo/fabricconfig/core.go is missing the following fields:

btlPullMargin, reconcileBatchSize, reconcileSleepInterval, reconciliationEnabled, skipPullingInvalidTransactionsDuringCommit

This can lead to missing parameters when reading in the peer config, modifying it, and writing it back to the core.yaml file in integration tests (such as in lifecycle/lifecycle_test.go, which reads and modifies the config to set one peer to use CouchDB). The following errors are observed:
{code:java}
[e][Org1.peer1] 2019-10-30 12:13:02.779 EDT [gossip.privdata] loadPrivDataConfig -> WARN 029 Configuration key peer.gossip.pvtData.reconcileSleepInterval isn't set, defaulting to 1m0s
[e][Org1.peer1] 2019-10-30 12:13:02.780 EDT [gossip.privdata] loadPrivDataConfig -> WARN 02a Configuration key peer.gossip.pvtData.reconcileBatchSize isn't set, defaulting to 10 {code}",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0137f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/19 1:18 AM;wlahti;[https://gerrit.hyperledger.org/r/c/fabric/+/34166];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External builder RunCommand should decorate the logger with the context about which command is running,FAB-16976,43049,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,31/Oct/19 1:11 AM,07/Nov/19 12:24 PM,28/Oct/23 3:09 AM,07/Nov/19 12:24 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,Usability,,,"When debugging an external builder/launcher/whatnot, the logs capture stderr from execution but there's no context available that indicates when we change the command we're running or which command is running.

To improve this situation, we should decorate the logger with a With(""command"", command)..",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rvf",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 4:55 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34247 Add command name as context to builder log lines;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include ginkgo test suite for operator in verify job script ,FAB-16977,43050,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,31/Oct/19 3:08 AM,04/Dec/19 1:43 AM,28/Oct/23 3:09 AM,04/Dec/19 1:43 AM,v1.4.4,v2.0.0,,,,,,,,fabric-quality,,,,,0,,,,,Include ginkgo test suite for operator in verify job script.,,bharadwajambati1,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16724,,,,,FAB-16529,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyy",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,suryalnvs,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/19 3:21 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34169/;;;","21/Nov/19 4:13 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34439/] for release-1.4 branch;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update MSP key concepts documentation,FAB-16978,43052,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,pandrejko,pandrejko,31/Oct/19 3:53 AM,07/Apr/20 2:26 AM,28/Oct/23 3:09 AM,07/Apr/20 2:26 AM,,,,,,v2.0.0,,,,fabric-docs,,,,,0,KeyConcept,,,,"Add the following to the topic:
Why is an MSP required/ What problem does it solve?

Explain the difference between an OU and a role. Explain Fabric 1.4.3 NodeOU admin and implications.


Add visualization tying roles, organization, MSP, & CA 

Add MSP folder visualization

 

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9425,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:65r",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Nov/19 10:26 PM;pandrejko;Draft PR: https://github.com/hyperledger/fabric/pull/307;;;","07/Apr/20 2:26 AM;pandrejko;Merged. Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
deliverServiceImpl#UpdateEndpoints does not take a lock,FAB-16980,43056,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,31/Oct/19 9:45 PM,05/Nov/19 4:36 AM,28/Oct/23 3:09 AM,05/Nov/19 4:36 AM,v1.4.3,,,,,v1.4.4,,,,fabric-peer,,,,,0,,,,,"The deliverServiceImpl#UpdateEndpoints method neglects to take a lock when accessing the d.deliverClients map.

Other methods take d.lock when accessing d.deliverClients.

 

[From fabric/core/deliveryservice/deliveryclient.go |https://github.com/hyperledger/fabric/blob/3b7b8f0f1fe246d70a9f5350363353566399a10c/core/deliverservice/deliveryclient.go#L175]

 

func (d *deliverServiceImpl) UpdateEndpoints(chainID string, connCriteria ConnectionCriteria) error {
     // Use chainID to obtain blocks provider and pass endpoints
     // for update
     if dc, ok := d.deliverClients[chainID]; ok

{         // We have found specified channel so we can safely update it         dc.bclient.UpdateEndpoints(connCriteria.toEndpointCriteria())         return nil     }

    return errors.New(fmt.Sprintf(""Channel with %s id was not found"", chainID))
 }",,sykesm,tock,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0138j:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tock,ymlbright,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/19 3:39 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34177;;;","01/Nov/19 3:40 AM;sykesm;I also noticed this method is essentially dead in master but was never removed.;;;","01/Nov/19 4:45 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34184 Remove UpdateEndpoints - dead code / FAB-16989;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
replacePrivateKey: command not found,FAB-16981,43057,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,31/Oct/19 10:07 PM,28/Nov/19 6:03 PM,28/Oct/23 3:09 AM,28/Nov/19 6:03 PM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,,0,,,,,"Observed ""replacePrivateKey: command not found"" error message while generating certs using cryptogen in byfn.sh script. See the below error log from fabric-merge-end-2-end job.
*5:04:55* + cryptogen generate --config=./crypto-config.yaml*15:04:55* org1.example.com*15:04:55* org2.example.com*15:04:55* + res=0*15:04:55* + set +x*15:04:55* *15:04:55* Generate CCP files for Org1 and Org2*15:04:55* ./byfn.sh: line 156: replacePrivateKey: command not found",,guoger,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16284,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrp:ia",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/19 6:03 PM;guoger;fixed in https://github.com/hyperledger/fabric-samples/pull/69;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect fabric docker images used in release-1.4 behave daily tests,FAB-16982,43058,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,rameshthoomu,rameshthoomu,31/Oct/19 11:00 PM,08/Nov/19 1:00 AM,28/Oct/23 3:09 AM,08/Nov/19 1:00 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,,,,Observed 1.2.1 code base images are used in behave release-1.4 daily tests. The script is pulling the 1.4.4-stable images but I see the peer image is using 1.2.1 code,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16984,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrp:i9i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-behave-master job: Testcase ""orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 10MB with Configuration Tweaks -- @1.7"" fail in orderer.feature",FAB-16983,43059,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,31/Oct/19 11:31 PM,13/Nov/19 1:33 AM,28/Oct/23 3:09 AM,13/Nov/19 1:33 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"Testcase ""orderer.Orderer Service.FAB-3859: Kafka Network with Large Message Size 10MB with Configuration Tweaks -- @1.7"" fail in orderer.feature with failure in BCCSP falling back to boot BCCSP.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/   ('Error: ', '\x1b[36m2019-10-30 03:55:10.432 UTC [bccsp] GetDefault -> DEBU 001\x1b[0m Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.\n\x1b[36m2019-10-30 03:55:10.448 UTC [bccsp] GetDefault -> DEBU 002\x1b[0m Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.\n\x1b[36m2019-10-30 03:55:10.450 UTC [bccsp_sw] openKeyStore -> DEBU 003\x1b[0m KeyStore opened at [/var/hyperledger/configs/e964c3c6fac811e9bfa8fa163ef52b08/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/keystore]...done\n\x1b[36m2019-10-30 03:55:10.450 UTC [bccsp] initBCCSP -> DEBU 004\x1b[0m Initialize BCCSP [SW]\n\x1b[36m2019-10-30 03:55:10.450 UTC [msp] getPemMaterialFromDir -> DEBU 005\x1b[0m Reading directory /var/hyperledger/configs/e964c3c6fac811e9bfa8fa163ef52b08/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp/signcerts\n\x1b[36m2019-10-30 03:55:10.451 UTC [msp] getPemMaterialFromDir -> DEBU 006\x1b[0m Inspecting file / code placeholder
{code}
Build Logs: 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/388/Behave_Test_Logs/behave_tests.log.gz]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/388/consoleFull]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r4",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/19 12:30 AM;scottz;It looks like we most likely received no response. This test uses 10MB, which is the largest payload test we run. This test has passed many days in a row. And the 4MB test passed ok. Maybe it is a problem with slow resources. Let's see what happens tomorrow. And let's check if the large payload tests pass in k8s cluster.

 
{quote}And an admin deploys chaincode at path ""../../fabric-test/chaincodes/mapkeys/go"" with args [""init""] with name ""mapIt"" on channel ""configsz"" # steps/endorser_impl.py:143 

 When a user invokes on the channel ""configsz"" using chaincode named ""mapIt"" with random args [""put"",""g"",""\{random_value}""] of length 10485760 # steps/endorser_impl.py:752 

[""ok"",""request is set""] [""ok"",""proposal sent""] 

Proposal Response 0 of 1 responses. All good Now send transaction

Results '[object Object]'.

[""ok"",""22c6e70c64e457668a6f7205b29938d96c7d91f4ccc32ed5274558b8a6c6bdff""] --------make-runnable-output--------

[""ok"",""22c6e70c64e457668a6f7205b29938d96c7d91f4ccc32ed5274558b8a6c6bdff""] ------------------------------------

And I wait ""10"" seconds # steps/basic_impl.py:24

And a user queries on the channel ""configsz"" using chaincode named ""mapIt"" for the random key with args [""get"",""g""] on ""peer0.org1.example.com"" # steps/endorser_impl.py:423

Then a user receives a response containing a value of length 10485760 # steps/endorser_impl.py:1215 

 Assertion Failed: Expected response to be of length 10485760; received length 0;

Result:

Captured stdout:

 ... 

 

Query Result:

 

Memory Info Before Network Teardown:

 Free: 3360059392 Used: 5888262144 Percentage: 47.3
{quote};;;","13/Nov/19 1:33 AM;vijaypunugubati;Working as expected from the recent builds. Closing the issue.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-release-1.4 job: Consistent failure in 1.4 branch behave crash.,FAB-16984,43060,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,vijaypunugubati,vijaypunugubati,31/Oct/19 11:55 PM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,08/Nov/19 12:50 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-behave-release-1.4 job: Consistent failure in 1.4 branch behave crash.

*Platform:* x86_64

*Build Logs:* 

*[|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/228/Behave_Test_Logs/]*[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/228/Behave_Test_Logs/]

!Screen Shot 2019-10-31 at 10.55.55 AM.png|width=541,height=138!",,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16982,,,,,,,,,,,,,,,,"31/Oct/19 11:54 PM;vijaypunugubati;Screen Shot 2019-10-31 at 10.55.55 AM.png;https://jira.hyperledger.org/secure/attachment/17908/Screen+Shot+2019-10-31+at+10.55.55+AM.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:d",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,vijaypunugubati,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 2:31 AM;scottz;Seems to be choking on control characters in the output whenever a test fails. And too much output, too. One thing we can do (at least temporarily) is stop collecting all those logs and directing to stdout/stderr. e.g. try commenting out this code [https://github.com/hyperledger/fabric-test/blob/release-1.4/feature/environment.py#L61-L70] which should avoid the problem and the tests can run to completion.;;;","05/Nov/19 5:08 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34223/] Patch has been submitted to update the peer and orderer image versions.;;;","08/Nov/19 12:50 AM;scottz;Hmmm. Yes, using the current fabric-peer (instead of an old version of fabric-ca-peer that was still in nexus) certainly makes a difference!;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enable stale bot for fabric-protos-go to effectively disable pull requests,FAB-16985,43061,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tsharris,sykesm,sykesm,01/Nov/19 12:51 AM,05/Dec/19 4:50 AM,28/Oct/23 3:09 AM,05/Dec/19 4:50 AM,,,,,,,,,,,,,,,0,ipm,,,,"hyperledger/fabric-protos-go is maintained by build automation. When a commit is merged into hyperledger/fabric-protos, the generated code is merged into fabric-protos-go.

Given this merge forward processing, pull requests should generally not be made against fabric-protos-go...

The only valid pull requests would be ones like the one required by this task - to setup some sort of metadata for automation or scm. In this case, we'll create the .github/stale.yaml for stable bot to mark PRs as stale very quickly indicating PRs go against fabric-protos, and close them immediately or after 1 day.

Where PR's are needed, we'll have to create a label that is ignored by stalebot and can be applied to a PR before reopening.",,sykesm,tsharris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zk",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tsharris,,,,,,,,,,release-2.3,0.2.x,release-2.2,0.1.x,dependabot/go_modules/golang.org/x/net-0.7.0,dependabot/go_modules/golang.org/x/text-0.3.8,github-settings,dependabot/go_modules/golang.org/x/sys-0.1.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/19 4:25 AM;tsharris;[https://github.com/hyperledger/fabric-protos-go/pull/5];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade v1.4 to v2.0,FAB-16986,43062,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,suryalnvs,scottz,scottz,01/Nov/19 1:00 AM,26/May/20 3:07 PM,28/Oct/23 3:09 AM,27/Mar/20 6:26 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"This task is for creating all tooling and scripts necessary to automate the required upgrade scenarios for 1.4 to 2.0. Separate TestTasks are used for the completion of the upgrade test scenarios themselves.

 

Perform all steps to do a live network (in-service) upgrade from 1.4.4 to 2.0. For more details, refer also to file fabric-test/tools/operator/scripts/upgradeNetwork.sh, and look for command ""operator -a upgradeNetwork"".
 # Launch a network with CA, peers, and raft orderers. (Repeat test with kafka.)
 # Run transactions using different chaincode languages.
 # Stop one orderer at a time, while network remains fully functional, for a live network upgrade. _Or stop all at once during a maintenance window for an Out-Of-Service network upgrade._ Backup ledger if desired. Adjust appropriate config parameters for the orderer. Upgrade the software images/binaries to v2.0. Restart the orderer(s).
 # Stop peer(s); do NOT delete the v14 cc container and cc image yet. Execute ""peer node upgrade-dbs"" (using new v20 binaries) on ledger file system for each peer. Backup ledger if desired. Adjust appropriate config parameters for the peer. Upgrade the software images/binaries to v2.0. Launch peer(s) again with v20; the next TX will trigger recreation of cc container which will still be the v14-shim-compatible version. _(See notes below for test step variations.)_
 # Update the V2_0 capabilities with a channel config update transaction.
 # Note chaincode TXs still use the existing v1.4 version of chaincode. Verify the proposals and transactions that were successful in 1.4 can still run successfully.
 # Update the policies for consortium, organizations, app policies, ACLs - on orderersystemchannel and all applic channels. (Mostly required for new lifecycle actions.) _Note: If wish to continue with old lifecycle (leaving application capabilities at v1.4.2), then skip this step of updating policies._
 # Upgrade all chaincodes in all channels to a version compatible with v20 shim (new lifecycle, commit) with a channel config update. When commit, a v20 cc container should be automatically launched, using new v20 *ccenv*. Verify:
{noformat}
    ""peer chaincode list""  ---  shows v14
    ""peer lifecycle chaincode querycommitted""  ---  shows v20  
{noformat}

 # Verify the config updates, proposals and transactions using new functionalities (such as new _lifecycle) are successful.
 # Cleanup: delete the old v14-compatible versions of cc container and cc image on each peer (which are no longer used).

 

*Related test variations for Step 4:*
 * *Upgrade Enforcement*:  Don't upgrade a peer or orderer with v20 before submit the channel config update to move to v20; then non-upgraded peers or orderers should panic.
 * *Upgrade-DB Enforcement:*  Don't run ""peer node upgrade-dbs"" before upgrade the peer; then peer should panic. (See comments section.)

 ",,deepakwipro,scottz,seyday,siddjain,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16256,,,FAB-17341,FAB-17342,FAB-17346,FAB-17345,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10085,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzzv",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),deepakwipro,scottz,seyday,siddjain,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/20 4:04 AM;scottz;Note: Although we did not create a separate testtask and automate it, Surya did manually test successfully for *Upgrade-DB Enforcement, i.e.:*   Don't run ""peer node upgrade-dbs"" in step 4, before upgrade the peer; then peer should panic when upgrade. \It should recover after completing that command along with the rest of the upgrade steps correctly, as documented.

Also, there is test coverage for this in the fabric repository in ledger UT:  [https://github.com/hyperledger/fabric/blob/master/core/ledger/kvledger/tests/v1x_test.go#L113]

This test step ""peer node upgrade-dbs"" is required when upgrading to 2.0, so this is a useful and effective test whenever upgrading across the 2.0 boundary; that is, for upgrades from 1.4.x to 2.x.;;;","26/May/20 3:05 PM;deepakwipro;I am following the same steps but when i am trying to update the V2_0 capabilities with a channel config update transaction(STEP 5). I am facing this error:-

 

_Error: got unexpected status: BAD_REQUEST – error applying config update to existing channel 'mychannel': error authorizing update: error validating DeltaSet: policy for [Value] /Channel/Capabilities not satisfied: implicit policy evaluation failed - 0 sub-policies were satisfied, but this policy requires 2 of the 'Admins' sub-policies to be satisfied_

 

What can be the reason?I already checked configtx.yaml. It is correct. I have also attached it below.

 

Organizations:
 - &OrdererOrg
 Name: OrdererMSP
 ID: OrdererMSP
 MSPDir: crypto-config/ordererOrganizations/example.com/orderers/orderer.example.com/msp
 Policies:
 Readers:
 Type: Signature
 Rule: ""OR('OrdererMSP.member')""
 Writers:
 Type: Signature
 Rule: ""OR('OrdererMSP.member')""
 Admins:
 Type: Signature
 Rule: ""OR('OrdererMSP.admin')""

 - &Org2
 Name: Org2MSP
 ID: Org2MSP
 MSPDir: crypto-config/peerOrganizations/org2.example.com/msp
 Policies:
 Readers:
 Type: Signature
 Rule: ""OR('Org2MSP.member')""
 Writers:
 Type: Signature
 Rule: ""OR('Org2MSP.member')""
 Admins:
 Type: Signature
 Rule: ""OR('Org2MSP.admin')""
 AnchorPeers:
 - Host: peer0.org2.example.com
 Port: 7051

 - &Org1
 Name: Org1MSP
 ID: Org1MSP
 MSPDir: crypto-config/peerOrganizations/org1.example.com/msp
 Policies:
 Readers:
 Type: Signature
 Rule: ""OR('Org1MSP.member')""
 Writers:
 Type: Signature
 Rule: ""OR('Org1MSP.member')""
 Admins:
 Type: Signature
 Rule: ""OR('Org1MSP.admin')""
 AnchorPeers:
 - Host: peer0.org1.example.com
 Port: 7051

Capabilities:

Application: &ApplicationDefaults
 Organizations:
 Policies:
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""

Orderer: &OrdererDefaults
 OrdererType: solo
 Addresses:
 - orderer.example.com:7050
 BatchTimeout: 2s
 BatchSize:
 MaxMessageCount: 200
 AbsoluteMaxBytes: 98 MB
 PreferredMaxBytes: 512 KB
 Kafka: 
 Brokers:
 Organizations:
 Policies:
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""

 # BlockValidation specifies what signatures must be included in the block
 # from the orderer for the peer to validate it.
 BlockValidation:
 Type: ImplicitMeta
 Rule: ""ANY Writers""

Channel: &ChannelDefaults
 # Policies defines the set of policies at this level of the config tree
 # For Channel policies, their canonical path is
 # /Channel/<PolicyName>
 Policies:
 # Who may invoke the 'Deliver' API
 Readers:
 Type: ImplicitMeta
 Rule: ""ANY Readers""
 # Who may invoke the 'Broadcast' API
 Writers:
 Type: ImplicitMeta
 Rule: ""ANY Writers""
 # By default, who may modify elements at this config level
 Admins:
 Type: ImplicitMeta
 Rule: ""MAJORITY Admins""
 # Capabilities:
 <<: *ChannelCapabilities

Profiles:
 TwoOrgsOrdererGenesis:
 <<: *ChannelDefaults
 Capabilities:
 <<: *ChannelCapabilities
 Orderer:
 <<: *OrdererDefaults
 Organizations:
 - *OrdererOrg
 Capabilities:
 <<: *OrdererCapabilities
 Consortiums:
 SampleConsortium:
 Organizations:

 - *Org2
 - *Org1

TwoOrgsChannel:
 Consortium: SampleConsortium
 Application:
 <<: *ApplicationDefaults
 Organizations:
 - *Org2
 - *Org1

Capabilities:
 <<: *ApplicationCapabilities;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update master to go 1.13,FAB-16987,43063,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,btl5037,btl5037,01/Nov/19 1:19 AM,15/Feb/20 7:19 AM,28/Oct/23 3:09 AM,01/Nov/19 8:01 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,,,btl5037,guoger,LF4Hull,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0139n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,guoger,LF4Hull,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/19 2:18 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34190 bumps from 1.13.3 to 1.13.4

just curious, are we depending on some fixes from this patch release?;;;","04/Nov/19 3:04 PM;btl5037;We had just bumped from 1.12.5 to 1.13.3 the exact same day 1.13.4 was released. 1.13.3 got caught by Mac's new Gatekeeper tool requiring all software to be notarized, as it was not notarized. So we pick up that fix which hits anyone who wants to install Go 1.13 on Mac OS Catalina. Historically speaking, the cause for our slow move from Go version to version was the complexity installing it in CI. I recently pushed changes to CI that negate that complexity, so we can bump Go versions as frequently as we wish now. ;;;","04/Nov/19 3:39 PM;guoger;[~btl5037] gotcha, thx for the details!!;;;","15/Feb/20 7:19 AM;LF4Hull;Hi - not sure if you can answer this, but the comment above is apparently the only mention of Mac OSX Catalina in this Fabric Jira site. 

I have been trying to set up Fabric release-1.4 on my newish MAC running Catalina, and seem to be getting in trouble with the upgraded Gatekeeper.  I am running with Go1.12.16 darwin/amd64.  I get an error when invoking code that invokes configtxlator/main.go (specifically around lines 44 to 52).  The error I get is

------------

configtxlator: error: open /dev/stdout: permission denied, try --help

----------------

Do you know if there is a patch or work-around that I could use to resolve this?  (If not I will probably switch to Ubuntu on Virtualbox).

 

Thanks;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
go run: cannot run non-main package,FAB-16988,43066,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,rameshthoomu,rameshthoomu,01/Nov/19 3:59 AM,12/Nov/19 3:31 AM,28/Oct/23 3:09 AM,05/Nov/19 7:47 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,,,,,"While launching the network using operator/launcher script in fabric-test master branch observed below error.

go run: cannot run non-main package",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrp:i99",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 7:46 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34182];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dead UpdateEndpoints method from deliver service,FAB-16989,43067,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,01/Nov/19 4:44 AM,01/Nov/19 8:14 AM,28/Oct/23 3:09 AM,01/Nov/19 8:14 AM,,,,,,v2.0.0,,,,,,,,,0,hygiene,ipm,,,"FAB-16980 added locking in 1.4; looked in master and noticed the code is dead. Time to remove.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013ab:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/19 4:45 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34184 Remove UpdateEndpoints - dead code;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a debug statement that includes command and args to nwo.Network#StartSession,FAB-16990,43070,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,02/Nov/19 2:11 AM,02/Nov/19 8:14 PM,28/Oct/23 3:09 AM,02/Nov/19 8:14 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,,0,hygiene,ipm,,,"Knowing the args to the command can be helpful; it also makes it clear that something was executed when no output is written.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013ar:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/19 2:14 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34204 Add debug statement to log command and args;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
pre-setup fail to install govendor in fabric-test verify and merge builds.,FAB-16991,43074,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,vijaypunugubati,vijaypunugubati,02/Nov/19 3:18 AM,06/Nov/19 2:23 AM,28/Oct/23 3:09 AM,06/Nov/19 2:23 AM,,,,,,,,,,fabric-ci,,,,,0,ci-failure,quality,,,"Pre-setup fail to install govendor in fabric-test verify and merge builds.
{code:java}
/00:00:54.223 Install govendor
00:00:54.224 /w/workspace/fabric-test-merge-x86_64/gopath/src/github.com/hyperledger/fabric-test/scripts/pre_setup.sh: line 26: go: command not found
00:00:54.224 Makefile:76: recipe for target 'pre-setup' failed
00:00:54.224 make: *** [pre-setup] Error 127/ code placeholder
{code}
 

 ",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013bn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Failure in external build does not fail chaincode deployment,FAB-16992,43075,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/Nov/19 3:42 AM,08/Nov/19 6:54 AM,28/Oct/23 3:09 AM,08/Nov/19 6:54 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"I have configured an external chaincode builder and launcher that successfully detects but fails to build golang chaincode. When this happens, the installation is still considered ""successful"" because the peer fell back to using the platform logic within the peer. This is unexpected.

When an external builder has taken responsibility for an instance of chaincode, there should not be a fallback to the platform.

Snippets from a build failure followed by platform:
{code}
[d][peer-chaincode-install] starting peer chaincode install /var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/ledger658970306/marbles_legacy.tar.gz --name marbles --version 0.0 --path github.com/hyperledger/fabric/integration/chaincode/marbles/cmdwithindexspecs
[e][Org1.peer0] 2019-11-01 13:23:21.330 EDT [endorser] callChaincode -> INFO 0d5 [][37aea090] Entry chaincode: lscc
[e][Org1.peer0] 2019-11-01 13:23:21.330 EDT [chaincode] CheckInvocation -> DEBU 0d6 [37aea090] getting chaincode data for lscc on channel 
[e][Org1.peer0] 2019-11-01 13:23:21.332 EDT [chaincode] Execute -> DEBU 0d7 Entry
[e][Org1.peer0] 2019-11-01 13:23:21.554 EDT [chaincode.externalbuilders.binary] RunCommand -> INFO 0d8 binary is the only supported type
[e][Org1.peer0] 2019-11-01 13:23:21.555 EDT [chaincode.externalbuilders] Detect -> DEBU 0d9 Detection for builder 'binary' detect failed: exit status 1
[e][Org1.peer0] 2019-11-01 13:23:21.593 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0da {""path"":""github.com/hyperledger/fabric/integration/chaincode/marbles/cmdwithindexspecs"",""type"":""GOLANG"",""package_id"":""marbles:0.0""}
[e][Org1.peer0] 2019-11-01 13:23:21.599 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0db + '[' 3 -ne 3 ']'
[e][Org1.peer0] 2019-11-01 13:23:21.599 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0dc + SOURCE=/var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/fabric-marbles-0.0273266929/src
[e][Org1.peer0] 2019-11-01 13:23:21.599 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0dd + METADATA=/var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/fabric-marbles-0.0273266929/metadata
[e][Org1.peer0] 2019-11-01 13:23:21.599 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0de + OUTPUT=/var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/fabric-marbles-0.0273266929/bld
[e][Org1.peer0] 2019-11-01 13:23:21.600 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0df ++ jq -r .path /var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/fabric-marbles-0.0273266929/metadata/metadata.json
[e][Org1.peer0] 2019-11-01 13:23:21.629 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0e0 + GO_PACKAGE_PATH=github.com/hyperledger/fabric/integration/chaincode/marbles/cmdwithindexspecs
[e][Org1.peer0] 2019-11-01 13:23:21.629 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0e1 + '[' -f /var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/fabric-marbles-0.0273266929/src/src/go.mod ']'
[e][Org1.peer0] 2019-11-01 13:23:21.629 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0e2 + echo 'Chaincode is not a module'
[e][Org1.peer0] 2019-11-01 13:23:21.629 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0e3 Chaincode is not a module
[e][Org1.peer0] 2019-11-01 13:23:21.629 EDT [chaincode.externalbuilders.external-golang] RunCommand -> INFO 0e4 + exit 1
[e][Org1.peer0] 2019-11-01 13:23:21.682 EDT [chaincode.platform] GenerateDockerfile -> DEBU 0e5 
[e][Org1.peer0] FROM hyperledger/fabric-baseos:latest
[e][Org1.peer0] ADD binpackage.tar /usr/local/bin
[e][Org1.peer0] LABEL org.hyperledger.fabric.chaincode.type=""GOLANG"" \
[e][Org1.peer0]       org.hyperledger.fabric.version=""latest""
[e][Org1.peer0] ENV CORE_CHAINCODE_BUILDLEVEL=latest
[e][Org1.peer0] 2019-11-01 13:23:21.695 EDT [chaincode.platform.util] DockerBuild -> DEBU 0e6 Attempting build with image hyperledger/fabric-ccenv:latest
[e][Org2.peer0] 2019-11-01 13:23:22.098 EDT [gossip.election] stopBeingLeader -> INFO 06f b7c12c8016d5606f440619d6cdd39f188cbbdd768dde0b8c31a67fe4073d61c5 Stopped being a leader
[e][Org2.peer0] 2019-11-01 13:23:22.099 EDT [gossip.service] func1 -> INFO 070 Renounced leadership, stopping delivery service for channel testchannel
[e][Org2.peer0] 2019-11-01 13:23:22.099 EDT [peer.blocksprovider] func1 -> WARN 071 Encountered an error reading from deliver stream: rpc error: code = Canceled desc = context canceled channel=testchannel orderer-address=127.0.0.1:21500
[e][OrdererOrg.orderer] 2019-11-01 13:23:22.099 EDT [comm.grpc.server] 1 -> INFO 01e streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=127.0.0.1:57762 error=""context finished before block retrieved: context canceled"" grpc.code=Unknown grpc.call_duration=5.006626091s
[e][Org1.peer0] 2019-11-01 13:23:25.815 EDT [gossip.channel] reportMembershipChanges -> INFO 0e7 [[testchannel] Membership view has changed. peers went online:  [[127.0.0.1:21509 9.27.116.57:21509]] , current view:  [[127.0.0.1:21514 ] [127.0.0.1:21509 9.27.116.57:21509] [127.0.0.1:21519 ]]]
[e][Org1.peer1] 2019-11-01 13:23:25.949 EDT [gossip.channel] reportMembershipChanges -> INFO 068 [[testchannel] Membership view has changed. peers went online:  [[127.0.0.1:21504 9.27.116.57:21504]] , current view:  [[127.0.0.1:21504 9.27.116.57:21504] [127.0.0.1:21514 ] [127.0.0.1:21519 ]]]
[e][Org1.peer1] 2019-11-01 13:23:26.828 EDT [gossip.election] stopBeingLeader -> INFO 069 8a807a217cac6fcb8980b77f9c9d16d4d10fc36ee7bfacff803ae9da1735f62e Stopped being a leader
[e][Org1.peer1] 2019-11-01 13:23:26.828 EDT [gossip.service] func1 -> INFO 06a Renounced leadership, stopping delivery service for channel testchannel
[e][Org1.peer1] 2019-11-01 13:23:26.828 EDT [peer.blocksprovider] func1 -> WARN 06b Encountered an error reading from deliver stream: rpc error: code = Canceled desc = grpc: the client connection is closing channel=testchannel orderer-address=127.0.0.1:21500
[e][OrdererOrg.orderer] 2019-11-01 13:23:26.828 EDT [comm.grpc.server] 1 -> INFO 01f streaming call completed grpc.service=orderer.AtomicBroadcast grpc.method=Deliver grpc.peer_address=127.0.0.1:57750 error=""context finished before block retrieved: context canceled"" grpc.code=Unknown grpc.call_duration=9.868717903s
[e][Org1.peer0] 2019-11-01 13:23:29.583 EDT [chaincode.platform.util] DockerBuild -> DEBU 0e8 Build output is github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/grpcsync
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/grpcrand
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/encoding
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/text/transform
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/sys/unix
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/proto
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/internal/timeseries
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/grpclog
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/credentials/internal
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/metadata
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/codes
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/connectivity
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/trace
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/backoff
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/balancerload
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/envconfig
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/text/unicode/bidi
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/serviceconfig
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/text/unicode/norm
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/http2/hpack
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/keepalive
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/text/secure/bidirule
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/stats
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/tap
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/naming
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver/dns
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/resolver/passthrough
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/idna
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/syscall
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/http/httpguts
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/golang.org/x/net/http2
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes/timestamp
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/encoding/proto
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/credentials
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/ledger/rwset
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/msp
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes/any
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes/duration
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/genproto/googleapis/rpc/status
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/golang/protobuf/ptypes
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/binarylog/grpc_binarylog_v1
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/channelz
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer/base
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/status
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/common
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/balancer/roundrobin
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/peer
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/ledger/queryresult
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/binarylog
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/google.golang.org/grpc
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-protos-go/peer
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-chaincode-go/shim/internal
[e][Org1.peer0] github.com/hyperledger/fabric/vendor/github.com/hyperledger/fabric-chaincode-go/shim
[e][Org1.peer0] github.com/hyperledger/fabric/integration/chaincode/marbles
[e][Org1.peer0] github.com/hyperledger/fabric/integration/chaincode/marbles/cmdwithindexspecs
[e][Org1.peer0] Done!
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0e9 Found index object: ""ddoc"":""indexColorSortDoc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0ea Found index object: ""name"":""indexColorSortDesc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0eb Found index object: ""type"":""json""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0ec Found index field name: ""color"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0ed Found index field name: ""docType"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0ee Found index field name: ""owner"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0ef Found index object: ""type"":""json""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0f0 Found index field name: ""size"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0f1 Found index field name: ""docType"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateFieldMap -> DEBU 0f2 Found index field name: ""owner"":""desc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0f3 Found index object: ""ddoc"":""indexSizeSortDoc""
[e][Org1.peer0] 2019-11-01 13:23:31.685 EDT [chaincode.platform.metadata] validateIndexJSON -> DEBU 0f4 Found index object: ""name"":""indexSizeSortDesc""
[e][Org1.peer0] 2019-11-01 13:23:31.715 EDT [couchdb] CreateDatabaseIfNotExist -> INFO 0f5 Created state database testchannel_lscc
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [lscc] executeInstall -> INFO 0f6 Installed Chaincode [marbles] Version [0.0] to peer
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [chaincode] handleMessage -> DEBU 0f7 [37aea090] Fabric side handling ChaincodeMessage of type: COMPLETED in state ready
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [chaincode] Notify -> DEBU 0f8 [37aea090] notifying Txid:37aea090a19ea01fb901e6c47ad0bcb23c59c541fda1b76739dd835f50360e8e, channelID:
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [chaincode] Execute -> DEBU 0f9 Exit
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [endorser] callChaincode -> INFO 0fa [][37aea090] Exit chaincode: lscc (10388ms)
[e][Org1.peer0] 2019-11-01 13:23:31.718 EDT [comm.grpc.server] 1 -> INFO 0fb unary call completed grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=127.0.0.1:57881 grpc.code=OK grpc.call_duration=10.406751562s
[e][peer-chaincode-install] 2019-11-01 13:23:31.718 EDT [chaincodeCmd] submitInstallProposal -> INFO 001 Installed remotely: response:<status:200 payload:""OK"" > 
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8rvc",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 12:33 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34258 External build failure are terminal;;;","07/Nov/19 6:21 AM;sykesm;The CR that's out there won't cut it since the approach was to return a {{nil}} instance when external buildpacks didn't _detect_ the chaincode. That doesn't work because the VM interface is used to perform the build and the nil that goes back ends up being a typed nil.

So, instead of resorting to crazy hacks, we should probably stop using the interfaces and just use the implementations.;;;","08/Nov/19 1:03 AM;sykesm;Decided to go with the easy path and just add a nil check to the adapter function. Moving on...;;;","08/Nov/19 5:10 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34284 Add integration test for failing external builder;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update baseimage to 0.4.18 in fabric-test,FAB-16993,43076,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,scottz,scottz,02/Nov/19 4:46 AM,05/Nov/19 7:44 AM,28/Oct/23 3:09 AM,05/Nov/19 7:34 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"Update baseimage to 0.4.18 in fabric-test/Makefile in release-1.4

BASEIMAGE_RELEASE=0.4.18

This can be done once that baseimage is pushed and available for use, possibly this weekend.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxz8",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 7:44 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34210];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ExternalBuilder configuration is tagged with json instead of yaml,FAB-16994,43077,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,02/Nov/19 8:59 AM,02/Nov/19 10:04 PM,28/Oct/23 3:09 AM,02/Nov/19 10:04 PM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,Change the tags to yaml in the integration tests and in core/peer/config.go,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013c3:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/19 9:42 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34211 Change json to yaml in ExternalBuilder;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add release note to releasse_notes/v2.0.0.txt,FAB-16995,43078,42536,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,denyeart,denyeart,04/Nov/19 1:16 AM,09/Nov/19 3:55 AM,28/Oct/23 3:09 AM,09/Nov/19 3:55 AM,,,,,,v2.0.0,,,,fabric-orderer,,,,,0,,,,,"Mention the ""provisional"" system channel genesis block creation removal in release notes.",,denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013cb:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/19 11:18 AM;guoger;[~denyeart] couldn't find 2.0.0-beta.txt yet, i'll CR once that file is created (or should I create one?);;;","06/Nov/19 3:37 AM;denyeart;[~guoger] Please just add to:

[https://github.com/hyperledger/fabric/blob/master/release_notes/v2.0.0.txt]

When we cut beta (or any other release), I'll take the content from v2.0.0.txt.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"BYFN has removed solo and kafka support, but BYFN doc still mentions them",FAB-16996,43079,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,idiota101,denyeart,denyeart,04/Nov/19 1:34 AM,07/Dec/19 1:48 AM,28/Oct/23 3:09 AM,07/Dec/19 1:48 AM,,,,,,v2.0.0,,,,fabric-docs,,,,,0,,,,,"BYFN tutorial still mentions solo and kafka instructions, even though BYFN has been updated to use raft only.

Need to remove all references to solo and kafka including in the configtxgen sections that refer to the removed profiles:

{{TwoOrgsOrdererGenesis (solo)}}

{{SampleDevModeKafka}} (kafka)",,denyeart,guoger,idiota101,joe-alewine,lehors,mastersingh24,negupta,pandrejko,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16132,FAB-16133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013cj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,idiota101,joe-alewine,lehors,mastersingh24,negupta,pandrejko,sstone1,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/19 2:55 AM;pandrejko;[~joe-alewine] Would you be able to take a look at this one?;;;","05/Nov/19 5:37 AM;joe-alewine;Hey [~idiota101]. Thanks for taking this one on! Feel free to tag me as a reviewer when you get the CR out there.;;;","28/Nov/19 5:51 PM;guoger;[~idiota101] hey, are you still planning to work on this? thx;;;","30/Nov/19 2:57 AM;idiota101;Yes , I am still planning to work on this , Something came up so I was a bit  distracted. ;;;","06/Dec/19 11:40 PM;mastersingh24;[https://github.com/hyperledger/fabric/pull/374];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove code causing err msg to be printed out twice,FAB-16997,43092,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TopJohn,TopJohn,TopJohn,04/Nov/19 3:19 PM,07/Nov/19 7:52 PM,28/Oct/23 3:09 AM,07/Nov/19 5:45 PM,,,,,,,,,,,,,,,0,,,,,"fabric.go line 68 will let the error output twice. we should remove it ,cobra will output the error.",,lehors,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i013ff:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,TopJohn,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 7:52 PM;lehors;https://github.com/hyperledger/fabric-cli/pull/7;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cmd/commands/network/view.go unuseful code should be remove,FAB-16998,43093,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TopJohn,TopJohn,TopJohn,04/Nov/19 3:37 PM,04/Nov/19 3:45 PM,28/Oct/23 3:09 AM,04/Nov/19 3:45 PM,,,,,,,,,,,,,,,0,,,,,line 48 to line 55 .It's no necessary to check the currentcontext.,,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i013fn:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fabric network delete command enhance,FAB-16999,43094,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,TopJohn,TopJohn,TopJohn,04/Nov/19 4:13 PM,07/Nov/19 7:54 PM,28/Oct/23 3:09 AM,07/Nov/19 5:45 PM,,,,,,,,,,,,,,,0,,,,,before delete network we should check wheteher the network is exist.,,lehors,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i013fv:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,TopJohn,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 7:54 PM;lehors;https://github.com/hyperledger/fabric-cli/pull/8;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Provide notification to users if certs are about to expire,FAB-17000,43097,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,ptippett,ptippett,05/Nov/19 1:38 AM,21/Jan/22 5:50 AM,28/Oct/23 3:09 AM,08/Nov/19 10:55 PM,,,,,,v1.4.4,v2.0.0,,,fabric-ca,fabric-orderer,fabric-peer,,,0,,,,,"There are a lot of certs to keep up with in fabric and when they expire, it's exceedingly bad.

The issue is fabric does nothing to help with this that I've seen.

I have heard that with Raft, the orderer will log when the raft TLS certs are about to expire.  Can the same be done for enrollment certs for all components?

 

One possible issue here is if every component is logging cert expiration warnings, that could get pretty chatty in the logs.  My counter argument here is if it were my prod environment and the certs were about to expire, I think I would want it to be pretty chatty.  Also I think we could limit the time that the logging starts to maybe 1 week before the certs expire?  I think if you get that close, you'd want to be notified even if it's noisy.

 

Another better option if it's possible might be to provide a metric for cert expiration time.

Then a user could monitor this in a graph and set alerts if it gets below a certain threshold and also control how they get alerted based on the remaining time (page if < 1 week, slack if < 2 weeks for example)  Finally, the metrics approach would cause much less noise than the logs.

 

The holy grail might be to do both, since metrics is better, but requires more knowledge by the operator to enable, whereas logs you get pretty much for free.",,joaquimpedrooliveira,jyellick,kentbull,ptippett,yacovm,yingmsky,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17497,,,FAB-18188,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013gj:",,Yes,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joaquimpedrooliveira,jyellick,kentbull,ptippett,yacovm,yingmsky,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.2,release-2.5,release-2.4,release-2.1,main,release-2.0,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Nov/19 1:43 AM;yacovm;What if every node would monitor expiration for its own enrollment certificate? It should be quite easily implemented and tested. 
This would only exclude admin certificate warnings and client certificate warnings, and I think it's a good start. ;;;","05/Nov/19 2:02 AM;ptippett;[~yacovm] that makes sense to me if it's easy and could be done pretty quickly.  Then the rest could follow in the future.;;;","05/Nov/19 2:23 AM;jyellick;Adding a warning for the node's signer-cert is definitely an easy one to do.  That being said, it's probably also the least useful of the warnings.  The only expiration checks we make are against client certs at Proposal, Broadcast, or Deliver time, because otherwise, we don't have a reliable way to know when the actual signature was generated and agree to whether the cert was expired at that time.  Even if these certs caused problems when expired (which, I don't think they do), they're also easy to fix after the fact by simply replacing them.

The local TLS server certs I would think would be more useful to log than signercerts (though fortunately, a fix there after breakage is fairly straightforward)

The most useful cert expirations to check though would be the admin certs, and CA/intermediate CA certs.  These are also the hardest to correct if they are expired.  It would produce a lot of noise (all nodes, logging every near-expiration) though it's probably better than accidentally having them expire.;;;","05/Nov/19 4:04 AM;yacovm;{quote}The only expiration checks we make are against client certs at Proposal, Broadcast, or Deliver time
{quote}
But Jason,the *Deliver* API serves not only clients but also peers and other orderer nodes. In addition, if a node has an expired cert it [won't be able to launch|https://github.com/hyperledger/fabric/blob/719e8929cc6dc724ab072991d40c5d64d423d7cc/msp/mspimplsetup.go#L381] at all.

{quote}they're also easy to fix after the fact by simply replacing them.{quote}
The question is whether it is always easy to replace them. The whole idea here is to prevent a downtime of the system and alert the operator early on to do a controlled maintenance that might not even require a downtime. 

{quote}The local TLS server certs I would think would be more useful to log than signercerts (though fortunately, a fix there after breakage is fairly straightforward){quote}
That can be done too. 

{quote}
The most useful cert expirations to check though would be the admin certs, and CA/intermediate CA certs.  These are also the hardest to correct if they are expired.  It would produce a lot of noise (all nodes, logging every near-expiration) though it's probably better than accidentally having them expire.{quote}
Actually if they expire you can just restart the orderers in a mode that doesn't check expiration at Broadcast and then you're good. 

However, since now we can issue new admin certs without interaction with Fabric (via issuing a new certificate for the admin OU) I think this is less critical than before.

;;;","05/Nov/19 5:39 AM;jyellick;{quote}
But Jason,the Deliver API serves not only clients but also peers and other orderer nodes. In addition, if a node has an expired cert it won't be able to launch at all.
{quote}

Yes, agreed, those are both good reasons to warn on signercert expiration.  And I agree on your other points as well.  I was simply trying to say that of the cert expirations which are possible, the signercert is probably the most benign and least impactful.  CAs expiring is worse, and although i sincerely hope the entire world transitions to the new admin OU support, for those MSPs which still rely on explicitly enumerated admin certs, their expiration is probably the most likely to occur, and the least likely to be noticed.

The question is what should we prioritize to report on?  The local MSP ones are certainly easiest, though I'd argue the channel config ones aren't much harder.;;;","05/Nov/19 8:26 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/fabric/+/34229/ 

Here you go, [~ptippett] - warns you a week before, for enrollment certificate and TLS client and server certificates. 
;;;","08/Nov/19 10:56 PM;yacovm;and backported to 1.4 https://gerrit.hyperledger.org/r/#/c/fabric/+/34295/ ;;;","20/Jan/22 9:16 AM;kentbull;After being bit by this in production I can say we should have more than a week, at least a month, and then more and more chatty logs as the the date of expiration approaches. I favor adding a startup failure once a week is left with a manual startup override configuration necessary in order to enable startup.

Remediation to this can create unrecoverable states. Thus there should be warnings added ahead of time, much ahead of expiration.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,
New lifecycle should cleanup from failed build during install,FAB-17001,43098,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,sykesm,sykesm,05/Nov/19 1:43 AM,16/Nov/19 5:17 AM,28/Oct/23 3:09 AM,16/Nov/19 5:17 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"When using the new lifecycle to install chaincode, if the build fails due to timeout or some other reason such that the ""endorsement"" fails at the peer, the chaincode package should be removed from the local file system.

This prevents an odd behavior where the invoke of a chaincode that failed to build (during install) succeeds.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rvu",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"System Test privatedata traffic, raft, service discovery, prometheus",FAB-17002,43102,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,scottz,scottz,05/Nov/19 6:05 AM,10/Jan/20 9:10 AM,28/Oct/23 3:09 AM,27/Nov/19 5:25 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"Using fabric 1.4.4-stable images, complete the following steps:
 # Launch network: minimum 2 peers per 3 orgs, and 5 raft orderers. Enable gossip leader election in each org. Connect to *prometheus*. Use *mutual TLS* and *service discovery*. Enable *NodeOUs* and all latest 1.4.4 capabilities.
 # Create two channels, join all peers to both channels, install chaincodes on all peers in org1 and org2, and instantiate samplecc chaincode in one channel and in another channel run fabric-test/chaincodes/*map_private* chaincode (copied from fabric/examples/chaincode/go/map/map.go, or, optionally use marbles02_private).
 # Send invokes on channel1 using map_private chaincode while using service discovery.
 # Send invokes on channel2 using samplecc and samplejs (without service discovery).
 # Examine the *metrics* in prometheus server, and the pte test driver traffic counters. Verify all transactions succeed. Ensure there are no error logs in the peers and orderers, and ensure no peers or orderers panic or restart.

 ",,rameshthoomu,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,FAB-17003,,FAB-16343,,,,,,,,,FAB-17367,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uze:rzczqzxyzk",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Pass,"Tested Nov 11-13 using 1.4.4-stable.

Steps:
1. Launched network as described in below with 3 orgs and 2 peers in each on kubernetes cluster with mutual tls enabled 
2. Created two channels testorgschannel1, testorgschannel2 and joined all peers to both channels
3. Installed map_private on org1, org2 peers and instantiated on testorgschannel1 channel
4. Installed samplecc and samplejs chaincode on org1, org2,  org3 peers and instantiated on testorgschannel2 channel
5. Started sending invokes with private data on testorgschannel1 using service discovery to run for 3 hours with 2 threads per org1 and org2
6. Started sending invokes for samplecc and samplejs chaincodes on testorgschannel2 without service discovery to run for 3 hours with 1 thread to org3
7. After completion of invokes, verified that no transactions are failed on both channels",System Test,,(Please add usage information),rameshthoomu,scottz,suryalnvs,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/19 5:25 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34464/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TC: System Test privatedata traffic during restarts,FAB-17003,43103,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,scottz,scottz,05/Nov/19 6:44 AM,11/Jan/21 2:31 AM,28/Oct/23 3:09 AM,11/Jan/21 2:31 AM,v1.4.4,,,,,v1.4.7,v2.0.0,,,fabric-quality,,,,,0,,,,,"Start a network and verify it can handle traffic as described in FAB-17002.

This testcase extends that by adding restarts of the peers and orderers.

After confirming all traffic can be handled without errors and the network is stable, per FAB-17002, apply the *map_private cc* traffic again and include *restarts* of *peers* and *orderers* (suggest by using chaos kube.) _(Share the chaos restarts scripts with FAB-16087 which is being used to implement the operator tool function to allow automation of chaos tests)._

Verify that all proposal requests were routed by sdk to functioning peers using discovery layouts and were processed successfully. Also confirm the transactions are routed to active functioning orderers, and verify transactions all succeed.

 ",,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17002,,,,,,FAB-16087,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|hzwqrk:5iwr4rb2x",,,,Unset,Unset,Test Cases,(Please add steps to reproduce),,Unset,,,,,,Pass,"Restarts test pass, so far. We will still be running more restarts tests with heavier traffic load this evening. Final analyses of logs and failures (to determine if they are acceptable/expected based on the exact test scenarios) will be provided and available Nov 14.

Steps:
1. After FAB-17002 is completed, started invokes with 1 thread to org1 with 1 second gap between each invoke.
2. While sending invokes, ran `helm install --set labels='type=peer',namespaces='default',dryRun=false,rbac.create=true,interval=4m,minimumAge=2m --name chaos-peer-set1 stable/chaoskube` for all peer restarts and `helm install --kubeconfig=kubeconfig.regression  --set labels='type=orderer',namespaces='default',dryRun=false,rbac.create=true,interval=2m,minimumAge=8m --name chaos-orderer-set1 stable/chaoskube` to restart all orderers
3. After sending invokes for 6 hours during restarts, observed transactional failures with TCP read failed during restart of the peer or orderer to which client is sending transactions and endorsement failures because of unavailability. Rest of them are successful.
",System Test,,(Please add usage information),btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:08 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System Test upgrades to v1.4.4,FAB-17004,43104,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,05/Nov/19 7:06 AM,14/Nov/19 11:33 PM,28/Oct/23 3:09 AM,14/Nov/19 6:10 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"Using the BYFN scripts, test the upgrade scenario from v1.3 to v1.4.4.

 

(If necessary, create another task to modify the scripts if needed.)",,scottz,seyday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,Manual,,Unset,No,,,"1|i00uze:rzczqzxyzp",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Pass,"Tested using byfn
Steps followed:
1. Downloaded 1.3 binaries
2. git checkout release-1.3
3. ./byfn.sh up -i 1.3.0

This command ran cli container

4. git checkout release-1.4
5. Pulled 1.4.4 images from nexus and tagged to appropriate image names
6. export CH_NAME=testchainid
7. ./byfn.sh upgrade

upgrade_to_14.sh ran successfully.",System Test,,(Please add usage information),scottz,seyday,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External go builder should use the non-double encoded flow for chaincode certificates,FAB-17005,43105,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Nov/19 7:30 AM,07/Nov/19 10:54 PM,28/Oct/23 3:09 AM,07/Nov/19 10:54 PM,v2.0.0,,,,,v2.0.0,,,,,,,,,0,ipm,,,,https://gerrit.hyperledger.org/r/c/fabric/+/34215/1/integration/externalbuilders/golang/bin/run#29,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rur",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 12:51 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34239 Use PEM encoded files for external go chaincode;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Match Go Versions With Fabric Core in Fabric-Test,FAB-17006,43111,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,btl5037,btl5037,06/Nov/19 12:19 AM,06/Nov/19 5:26 AM,28/Oct/23 3:09 AM,06/Nov/19 5:26 AM,,,,,,,,,,,,,,,0,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013ib:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
External chaincode metadata.json should not base64 encode certificates,FAB-17007,43115,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/19 12:53 AM,14/Nov/19 2:58 AM,28/Oct/23 3:09 AM,14/Nov/19 2:58 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,The metadata generated for external chaincode is encoding the PEM certificates as byte slices instead of strings. This results in a base64 encoding of the already-PEM encoded certificates that needs to be unwrapped by builders at launch.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8zfzyr",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 6:29 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34338 External launch metadata uses PEM encoding;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused orderer subcommands,FAB-17008,43134,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tsharris,sykesm,sykesm,06/Nov/19 3:44 AM,07/Nov/19 3:08 AM,28/Oct/23 3:09 AM,07/Nov/19 3:08 AM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,ipm,,,,"The orderer server main uses unnamed variables to hold ""start"" and ""benchmark"" commands that are no longer supported.

With the move to 2.0, these commands should likely be removed.

[~jyellick] Any concerns with this?",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-15337,,,No,,Unset,No,,,"1|i013n7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/19 4:34 AM;jyellick;No concerns;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update CI to allow Fabric-Test to use new versions of Go,FAB-17009,43135,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,btl5037,btl5037,06/Nov/19 5:27 AM,19/Apr/20 2:08 PM,28/Oct/23 3:09 AM,19/Apr/20 2:08 PM,,,,,,,,,,fabric-ci,fabric-quality,,,,0,,,,,,,btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013nf:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),btl5037,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EnableNodeOUs = true in CI tests using NL,FAB-17010,43136,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,bharadwajambati1,scottz,scottz,06/Nov/19 7:19 AM,14/Nov/19 4:22 AM,28/Oct/23 3:09 AM,14/Nov/19 4:22 AM,v1.4.4,v2.0.0,,,,v1.4.4,v2.0.0,,,fabric-quality,,,,,0,,,,,"Followup to FAB-16725.

Affects both master and 1.4 branches in fabric-test.

Impact: the fabric-test verify job (smoke test suite) and daily test suite.

Below is the set of changes I believe are required.

For the tools/NL/:
 * gen_configtx_cfg.sh: Add 'OrdererMSP.orderer' to the Writers policy, based on explanation given in FAB-16796 (which is in effect a bug in the test config).
 * gen_crypto_cfg.sh: Set EnableNodeOUs: true

For tools/operator/:
 * templates/configtx.yaml: add OrdererMSP.orderer to Writers policy
 * testdata/smoke-network-spec.yml (as part of FAB-16977): enable Node OUs

For current k8s systest suites which use operator:
 * tools/PTE/CITest/k8s_testsuite/networkSpecFiles/<all networkspec files> : enable Node OUs

 

 ",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16725,FAB-16796,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzw",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 6:43 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34339/];;;","14/Nov/19 12:57 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34344] the remaining changes for release-1.4;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add description and add set orderer flags in context/set.go,FAB-17011,43141,,Task,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,TopJohn,TopJohn,TopJohn,06/Nov/19 6:54 PM,14/Aug/20 3:54 AM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"We need complete the description of the fabric cli ,add  orderer flag in context/set.go",,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i013oj:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TopJohn,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-release-1.4 job: Failure on complete Fabric-CA Service.,FAB-17012,43180,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,vijaypunugubati,vijaypunugubati,07/Nov/19 1:00 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,12/Nov/19 2:13 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-behave-release-1.4 job: Failure on complete Fabric-CA Service with the executable file missing in the path.

*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
/testConfigs: configs/f5ec791a005711ea9952fa163ec83a64
Output Enroll: {'peer0.org1.example.com': 'OCI runtime exec failed: exec failed: container_linux.go:345: starting container process caused ""exec: \\""fabric-ca-client\\"": executable file not found in $PATH"": unknown\r\n'}
user register: {'peer0.org1.example.com': 'OCI runtime exec failed: exec failed: container_linux.go:345: starting container process caused ""exec: \\""fabric-ca-client\\"": executable file not found in $PATH"": unknown\r\n'}
Output: {'peer0.org1.example.com': 'OCI runtime exec failed: exec failed: container_linux.go:345: starting container process caused ""exec: \\""fabric-ca-client\\"": executable file not found in $PATH"": unknown\r\n'}
Cert Output: {'peer0.org1.example.com': 'OCI runtime exec failed: exec failed: container_linux.go:345: starting container process caused ""exec: \\""fabric-ca-client\\"": executable file not found in $PATH"": unknown\r\n'}
Checking file ownership: /var/hyperledger/users/latitia@org1.example.com ...
Existing stat:: ['1001', '1001']
New stat:: ['']/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/1/testReport/]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/1/Behave_Test_Logs/]",,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:e",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,vijaypunugubati,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 11:06 PM;rameshthoomu;In release-1.4 test, behave is not pulling fabric-ca-peer and fabric-ca-orderer images as these images are not available in dockerhub or nexus. As these images or binaries are not available in the test environment, the above is test is failing while trying to use fabric-ca-client binary.

I suggest to disable these tests if possible, as these images are not available in release-1.4 release.;;;","09/Nov/19 12:53 AM;scottz;Agree to disable the 6 tests.;;;","12/Nov/19 2:13 AM;rameshthoomu;Patch has been submitted [https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34304/] and merged;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
refactor kv_ledger_provider,FAB-17013,43181,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,Senthil1,Senthil1,Senthil1,07/Nov/19 1:11 AM,02/Dec/19 9:09 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,_NewProvider()_ function in kv_ledger_provider is quite long now. We can break into multiple functions each initiating a single store for better readability and maintainability.,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i013x7:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System_Tests_Kafka_Couchdb_TLS: test_07sbecc_go_2chan_endorse failed due to incorrect number of transactions received,FAB-17014,43184,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,07/Nov/19 4:58 AM,12/Nov/19 3:57 AM,28/Oct/23 3:09 AM,12/Nov/19 3:57 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"h3. This test is ran using make k8s-sys-test in release-1.4 branch
h3. *Error Message*

AssertionError: Error: incorrect number of INVOKE transactions sent or received
h3. *Stacktrace*
{code:java}
self = <sysTestSuite_pte.System_Tests_Kafka_Couchdb_TLS testMethod=test_07sbecc_go_2chan_endorse> def test_07sbecc_go_2chan_endorse(self): # Run the test scenario: Execute invokes and query tests. returncode = subprocess.call(""./operator.sh -t sbecc_go_2chan_endorse"", cwd=k8s_testsuite, shell=True) self.assertEqual(returncode, 0, msg=testScriptFailed) # check the counts count = subprocess.check_output( ""grep \""CONSTANT INVOKE Overall transactions: sent 8000 received 8000\"" sbecc_go_2chan_endorse_i_pteReport.txt | wc -l"", cwd=logs_directory, shell=True) > self.assertEqual(int(count.strip()), 1, msg=invokeFailure) E AssertionError: Error: incorrect number of INVOKE transactions sent or received sysTestSuite_pte.py:87: AssertionError
{code}
*Report File:*
{code:java}
======= PTE 0 main Test Summary: executed at Wed Nov 06 2019 04:31:41 GMT-0500 (EST) =======
(testorgschannel3:sbe_cc_ch3): CONSTANT INVOKE transaction stats
(testorgschannel3:sbe_cc_ch3):	Total processes 1
(testorgschannel3:sbe_cc_ch3):	Total transactions sent 4000  received 3999
(testorgschannel3:sbe_cc_ch3):	failures: proposal 1  transactions 0
(testorgschannel3:sbe_cc_ch3):	event: received 3999  timeout 0  unreceived 0
(testorgschannel3:sbe_cc_ch3):	start 1573032714621  end 1573033008377  duration 293756 ms 
(testorgschannel3:sbe_cc_ch3):	TPS 13.61
(testorgschannel3:sbe_cc_ch3): peer latency stats (endorsement)
(testorgschannel3:sbe_cc_ch3):	total transactions: 4000  total time: 184745 ms 
(testorgschannel3:sbe_cc_ch3):	min: 23 ms  max: 45025 ms  avg: 46.19 ms 
(testorgschannel3:sbe_cc_ch3): orderer latency stats (transaction ack)
(testorgschannel3:sbe_cc_ch3):	total transactions: 3999  total time: 101440 ms 
(testorgschannel3:sbe_cc_ch3):	min: 22 ms  max: 93 ms  avg: 25.37 ms 
(testorgschannel3:sbe_cc_ch3): event latency stats (end-to-end)
(testorgschannel3:sbe_cc_ch3):	total transactions: 3999  total time: 4545659 ms 
(testorgschannel3:sbe_cc_ch3):	min: 130 ms  max: 2700 ms  avg: 1136.70 ms 

=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 1
    CONSTANT INVOKE Overall processes: 1
    CONSTANT INVOKE Overall transactions: sent 4000 received 3999
    CONSTANT INVOKE Overall failures: proposal 1 transactions 0
    CONSTANT INVOKE Overall event: received 3999 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1573032714621 end 1573033008377 duration 293756
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 13.61
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 4000 min 23 ms max 45025 ms avg 46.19 ms
        CONSTANT INVOKE Overall transactions latency 3999 min 22 ms max 93 ms avg 25.37 ms
        CONSTANT INVOKE Overall events latency 3999 min 130 ms max 2700 ms avg 1136.70 ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED{code}",,bharadwajambati1,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16876,,,,,,,,,,,,,,,,"07/Nov/19 5:32 AM;bharadwajambati1;Screen Shot 2019-11-06 at 3.31.41 PM.png;https://jira.hyperledger.org/secure/attachment/17911/Screen+Shot+2019-11-06+at+3.31.41+PM.png","07/Nov/19 5:32 AM;bharadwajambati1;Screen Shot 2019-11-06 at 3.31.50 PM.png;https://jira.hyperledger.org/secure/attachment/17912/Screen+Shot+2019-11-06+at+3.31.50+PM.png",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyz",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,scottz,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 11:44 PM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34278/];;;","12/Nov/19 2:36 AM;scottz;Change test to use only the organchor: (first peer), where the install and instantiation was done so the cc containers running already. In future tests, we may wish to send traffic to diff peers, so may need to suggestions per FAB-16876 setting env var core_chaincode_installTimeout.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sysTestSuite_pte.System_Tests_Kafka_Leveldb_NOTLS: test_06samplejs_orgAnchor_2chan failed due to incorrect number of transactions received,FAB-17015,43185,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Not Supported,,bharadwajambati1,bharadwajambati1,07/Nov/19 5:02 AM,16/Apr/20 12:01 PM,28/Oct/23 3:09 AM,16/Apr/20 12:01 PM,v1.4.4,,,,,v1.4.7,,,,fabric-quality,,,,,0,azp-migrate,,,,"h3. This test is ran using make k8s-sys-test in release-1.4 branch
h3. *Error Message*

AssertionError: Error: incorrect number of INVOKE transactions sent or received
h3. *Stacktrace*
{code:java}
self = <sysTestSuite_pte.System_Tests_Kafka_Leveldb_NOTLS testMethod=test_06samplejs_orgAnchor_2chan> def test_06samplejs_orgAnchor_2chan(self): # Run the test scenario: Execute invokes and query tests. returncode = subprocess.call(""./operator.sh -t samplejs_node_2chan"", cwd=k8s_testsuite, shell=True) self.assertEqual(returncode, 0, msg=testScriptFailed) # check the counts count = subprocess.check_output( ""grep \""CONSTANT INVOKE Overall transactions: sent 8000 received 8000\"" samplejs_node_2chan_i_pteReport.txt | wc -l"", cwd=logs_directory, shell=True) > self.assertEqual(int(count.strip()), 1, msg=invokeFailure) E AssertionError: Error: incorrect number of INVOKE transactions sent or received sysTestSuite_pte.py:272: AssertionError
{code}
 ** 
{code:java}
^[[32minfo^[[39m: [2019-11-06T11:42:51.815Z PTE 1 main]: stdout: ^[[32minfo^[[39m: [2019-11-06T11:42:51.814Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:1 execModeDistribution] tStart 1573040571790, tLocal 1573040571814^[[32minfo^[[39m: [2019-11-06T11:42:53.028Z PTE 1 main]: stdout: ^[[32minfo^[[39m: [2019-11-06T11:42:53.028Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 queryValidation] query return: Error: 14 UNAVAILABLE: TCP Read failed^[[32minfo^[[39m: [2019-11-06T11:42:53.080Z PTE 1 main]: stdout: ^[[32minfo^[[39m: [2019-11-06T11:42:53.080Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 queryValidation] query return: Error: transaction returned with failure: Error: [object Object]^[[32minfo^[[39m: [2019-11-06T11:42:53.102Z PTE 1 main]: stdout: ^[[32minfo^[[39m: [2019-11-06T11:42:53.101Z PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:1 queryValidation] query return: Error: transaction returned with failure: Error: [object Object]^[[32minfo^[[39m: [2019-11-06T11:42:53.109Z PTE 0 main]: stdout: ^[[32minfo^[[39m: [2019-11-06T11:42:53.109Z PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel0:org2:1 queryValidation] query return: Error: transaction returned with failure: Error: [object Object]
{code}
 

*Pte Report:*
{code:java}
======= PTE 1 main Test Summary: executed at Wed Nov 06 2019 06:40:02 GMT-0500 (EST) =======
(testorgschannel1:sample_js_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:sample_js_ch1):	Total processes 4
(testorgschannel1:sample_js_ch1):	Total transactions sent 4000  received 3992
(testorgschannel1:sample_js_ch1):	failures: proposal 8  transactions 0
(testorgschannel1:sample_js_ch1):	event: received 3992  timeout 0  unreceived 0
(testorgschannel1:sample_js_ch1):	start 1573040419519  end 1573040523248  duration 103729 ms 
(testorgschannel1:sample_js_ch1):	TPS 38.48
(testorgschannel1:sample_js_ch1): peer latency stats (endorsement)
(testorgschannel1:sample_js_ch1):	total transactions: 4000  total time: 142587 ms 
(testorgschannel1:sample_js_ch1):	min: 19 ms  max: 192 ms  avg: 35.65 ms 
(testorgschannel1:sample_js_ch1): orderer latency stats (transaction ack)
(testorgschannel1:sample_js_ch1):	total transactions: 3992  total time: 109352 ms 
(testorgschannel1:sample_js_ch1):	min: 17 ms  max: 257 ms  avg: 27.39 ms 
(testorgschannel1:sample_js_ch1): event latency stats (end-to-end)
(testorgschannel1:sample_js_ch1):	total transactions: 3992  total time: 5410199 ms 
(testorgschannel1:sample_js_ch1):	min: 196 ms  max: 2576 ms  avg: 1355.26 ms 

======= PTE 0 main Test Summary: executed at Wed Nov 06 2019 06:40:02 GMT-0500 (EST) =======
(testorgschannel0:sample_js_ch0): CONSTANT INVOKE transaction stats
(testorgschannel0:sample_js_ch0):	Total processes 4
(testorgschannel0:sample_js_ch0):	Total transactions sent 4000  received 3997
(testorgschannel0:sample_js_ch0):	failures: proposal 3  transactions 0
(testorgschannel0:sample_js_ch0):	event: received 3997  timeout 0  unreceived 0
(testorgschannel0:sample_js_ch0):	start 1573040419517  end 1573040523455  duration 103938 ms 
(testorgschannel0:sample_js_ch0):	TPS 38.46
(testorgschannel0:sample_js_ch0): peer latency stats (endorsement)
(testorgschannel0:sample_js_ch0):	total transactions: 4000  total time: 142498 ms 
(testorgschannel0:sample_js_ch0):	min: 19 ms  max: 188 ms  avg: 35.62 ms 
(testorgschannel0:sample_js_ch0): orderer latency stats (transaction ack)
(testorgschannel0:sample_js_ch0):	total transactions: 3997  total time: 103189 ms 
(testorgschannel0:sample_js_ch0):	min: 17 ms  max: 89 ms  avg: 25.82 ms 
(testorgschannel0:sample_js_ch0): event latency stats (end-to-end)
(testorgschannel0:sample_js_ch0):	total transactions: 3997  total time: 5437812 ms 
(testorgschannel0:sample_js_ch0):	min: 182 ms  max: 2527 ms  avg: 1360.47 ms 

=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 2
    CONSTANT INVOKE Overall processes: 8
    CONSTANT INVOKE Overall transactions: sent 8000 received 7989
    CONSTANT INVOKE Overall failures: proposal 11 transactions 0
    CONSTANT INVOKE Overall event: received 7989 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1573040419517 end 1573040523455 duration 103938
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 76.86
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 8000 min 19 ms max 192 ms avg 35.64 ms
        CONSTANT INVOKE Overall transactions latency 7989 min 17 ms max 257 ms avg 26.60 ms
        CONSTANT INVOKE Overall events latency 7989 min 182 ms max 2576 ms avg 1357.87 ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED
{code}",,bharadwajambati1,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,FAB-17131,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4rb8",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,btl5037,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/19 8:05 AM;scottz;In the CI test results, I see 8 proposal failures in channel1, and 3 proposal failures in channel0. If it is just the first few transaction proposals that are failing, but if it passes on local machine, then it seems like we are starting invokes before everything is initialized.

But I wonder if the first transaction is failing, or others. Try a test in the CI with just one invoke transaction per thread per peer, and turn on PTE debug logs to see each transaction. If that succeeds, then observe how long it takes (TPS). Maybe it is the 2nd and 3rd invokes that are failing (while the cc container is still being started by the 1st invoke on a given peer). I am not sure if this makes sense, because I thought the cc container initiated during the install, but something is going on here. What factors could cause it to fail only in the ""no tls"" network? We need to narrow down the problem to identify exactly what is failing and when and why.;;;","21/Nov/19 7:10 AM;rameshthoomu;Tested with 1 single tx and it worked as expected. I see the below error while executing the above test case. Below is the PTE log with the debug mode.

 
{code:java}
^[[32minfo^[[39m: [2019-11-20T21:58:34.455Z PTE 1 main]: stderr: 2019-11-20T21:58:34.450Z - ^[[34mdebug^[[39m: [Peer.js]: sendProposal - Received proposal response from peer ""grpc://169.63.151.28:31002"": status - 500
2019-11-20T21:58:34.450Z - ^[[34mdebug^[[39m: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: transaction returned with failure: Error: [object Object]
2019-11-20T21:58:34.451Z - ^[[34mdebug^[[39m: [Channel.js]: queryByChaincode - results received
^[[32minfo^[[39m: [2019-11-20T21:58:34.455Z PTE 1 main]: stderr: 2019-11-20T21:58:34.450Z - ^[[34mdebug^[[39m: [Peer.js]: sendProposal - Received proposal response from peer ""grpc://169.63.151.28:31001"": status - 500
2019-11-20T21:58:34.451Z - ^[[34mdebug^[[39m: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: transaction returned with failure: Error: [object Object]
2019-11-20T21:58:34.451Z - ^[[34mdebug^[[39m: [Channel.js]: queryByChaincode - results received
{code}
 ;;;","21/Nov/19 10:05 AM;scottz;Did GRPC give any details in a response field? Maybe SDK could return that, instead of just the status field (""status - 500""). This is not much help. We could ask for a better response; the node sdk could even wrap the grpc error in something more useful and relevant. Maybe: could not set up connection, or connection dropped, or service not available yet, or something...

Have you enabled PTE debug logs yet to figure out if it is the first few transactions that failed?;;;","16/Apr/20 12:00 PM;btl5037;This test suite was retired;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 sysTestSuite_pte.System_Tests_Kafka_Leveldb_NOTLS: test_08samplecc_go_50MB_TX failed due to incorrect number of transactions sent or received,FAB-17016,43186,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,07/Nov/19 5:07 AM,20/Nov/19 7:54 AM,28/Oct/23 3:09 AM,12/Nov/19 3:58 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"h3. *Error Message*

AssertionError: Error: incorrect number of INVOKE transactions sent or received
h3. *Stacktrace*
{code:java}
self = <sysTestSuite_pte.System_Tests_Raft_Couchdb_Mutual testMethod=test_08samplecc_go_50MB_TX>

    def test_08samplecc_go_50MB_TX(self):
    
        # Run the test scenario: Execute invokes and query tests.
        returncode = subprocess.call(""./operator.sh -t samplecc_go_50MB_TX"", cwd=k8s_testsuite, shell=True)
        self.assertEqual(returncode, 0, msg=testScriptFailed)
    
        # check the counts
        count = subprocess.check_output(
                ""grep \""CONSTANT INVOKE Overall transactions: sent 2 received 2\"" samplecc_go_50MB_i_pteReport.txt | wc -l"",
                cwd=logs_directory, shell=True)
>       self.assertEqual(int(count.strip()), 1, msg=invokeFailure)
E       AssertionError: Error: incorrect number of INVOKE transactions sent or received

sysTestSuite_pte.py:213: AssertionError
{code}
*Pte Report:*


{code:java}
======= PTE 0 main Test Summary: executed at Wed Nov 06 2019 06:46:21 GMT-0500 (EST) =======
(testorgschannel0:sample_cc_ch0): CONSTANT INVOKE transaction stats
(testorgschannel0:sample_cc_ch0):	Total processes 1
(testorgschannel0:sample_cc_ch0):	Total transactions sent 2  received 0
(testorgschannel0:sample_cc_ch0):	failures: proposal 1  transactions 0
(testorgschannel0:sample_cc_ch0):	event: received 0  timeout 0  unreceived 1
(testorgschannel0:sample_cc_ch0):	start 1573040794387  end 1573044456647  duration 3662260 ms 
(testorgschannel0:sample_cc_ch0):	TPS 0.00
(testorgschannel0:sample_cc_ch0): peer latency stats (endorsement)
(testorgschannel0:sample_cc_ch0):	total transactions: 2  total time: 5039 ms 
(testorgschannel0:sample_cc_ch0):	min: 1718 ms  max: 3321 ms  avg: 2519.50 ms 
(testorgschannel0:sample_cc_ch0): orderer latency stats (transaction ack)
(testorgschannel0:sample_cc_ch0):	total transactions: 1  total time: 4226 ms 
(testorgschannel0:sample_cc_ch0):	min: 4226 ms  max: 4226 ms  avg: 4226.00 ms 
(testorgschannel0:sample_cc_ch0): event latency stats (end-to-end)
(testorgschannel0:sample_cc_ch0):	total transactions: 0  total time: 0 ms 
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 1
    CONSTANT INVOKE Overall processes: 1
    CONSTANT INVOKE Overall transactions: sent 2 received 0
    CONSTANT INVOKE Overall failures: proposal 1 transactions 0
    CONSTANT INVOKE Overall event: received 0 timeout 0 unreceived 1
    CONSTANT INVOKE Overall time: start 1573040794387 end 1573044456647 duration 3662260
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 0.00
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 2 min 1718 ms max 3321 ms avg 2519.50 ms
        CONSTANT INVOKE Overall transactions latency 1 min 4226 ms max 4226 ms avg 4226.00 ms
        CONSTANT INVOKE Overall events latency 0 min 0 ms max 0 ms avg NaN ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED
{code}
 

 

 ",,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/19 5:43 AM;bharadwajambati1;Screen Shot 2019-11-06 at 3.42.22 PM.png;https://jira.hyperledger.org/secure/attachment/17914/Screen+Shot+2019-11-06+at+3.42.22+PM.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzqc",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 2:47 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34322/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
sysTestSuite_pte.System_Tests_Raft_Couchdb_Mutual: test_08samplecc_go_50MB_TX failed due to incorrect number of transactions sent or received,FAB-17017,43188,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,bharadwajambati1,bharadwajambati1,07/Nov/19 5:10 AM,19/Nov/19 11:52 PM,28/Oct/23 3:09 AM,12/Nov/19 3:58 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,,,,,"h3. *Error Message*

AssertionError: Error: incorrect number of INVOKE transactions sent or received

*Stacktrace*
{code:java}
self = <sysTestSuite_pte.System_Tests_Kafka_Leveldb_NOTLS testMethod=test_08samplecc_go_50MB_TX>

    def test_08samplecc_go_50MB_TX(self):
    
        # Run the test scenario: Execute invokes and query tests.
        returncode = subprocess.call(""./operator.sh -t samplecc_go_50MB_TX"", cwd=k8s_testsuite, shell=True)
        self.assertEqual(returncode, 0, msg=testScriptFailed)
    
        # check the counts
        count = subprocess.check_output(
                ""grep \""CONSTANT INVOKE Overall transactions: sent 2 received 2\"" samplecc_go_50MB_i_pteReport.txt | wc -l"",
                cwd=logs_directory, shell=True)
>       self.assertEqual(int(count.strip()), 1, msg=invokeFailure)
E       AssertionError: Error: incorrect number of INVOKE transactions sent or received

sysTestSuite_pte.py:301: AssertionError
{code}
 

*Pte Report:*
{code:java}
======= PTE 0 main Test Summary: executed at Wed Nov 06 2019 05:17:02 GMT-0500 (EST) =======
(testorgschannel0:sample_cc_ch0): CONSTANT INVOKE transaction stats
(testorgschannel0:sample_cc_ch0):	Total processes 1
(testorgschannel0:sample_cc_ch0):	Total transactions sent 2  received 0
(testorgschannel0:sample_cc_ch0):	failures: proposal 1  transactions 0
(testorgschannel0:sample_cc_ch0):	event: received 0  timeout 0  unreceived 1
(testorgschannel0:sample_cc_ch0):	start 1573035435278  end 1573039097197  duration 3661919 ms 
(testorgschannel0:sample_cc_ch0):	TPS 0.00
(testorgschannel0:sample_cc_ch0): peer latency stats (endorsement)
(testorgschannel0:sample_cc_ch0):	total transactions: 2  total time: 3940 ms 
(testorgschannel0:sample_cc_ch0):	min: 1175 ms  max: 2765 ms  avg: 1970.00 ms 
(testorgschannel0:sample_cc_ch0): orderer latency stats (transaction ack)
(testorgschannel0:sample_cc_ch0):	total transactions: 1  total time: 2856 ms 
(testorgschannel0:sample_cc_ch0):	min: 2856 ms  max: 2856 ms  avg: 2856.00 ms 
(testorgschannel0:sample_cc_ch0): event latency stats (end-to-end)
(testorgschannel0:sample_cc_ch0):	total transactions: 0  total time: 0 ms 
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 1
    CONSTANT INVOKE Overall processes: 1
    CONSTANT INVOKE Overall transactions: sent 2 received 0
    CONSTANT INVOKE Overall failures: proposal 1 transactions 0
    CONSTANT INVOKE Overall event: received 0 timeout 0 unreceived 1
    CONSTANT INVOKE Overall time: start 1573035435278 end 1573039097197 duration 3661919
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 0.00
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 2 min 1175 ms max 2765 ms avg 1970.00 ms
        CONSTANT INVOKE Overall transactions latency 1 min 2856 ms max 2856 ms avg 2856.00 ms
        CONSTANT INVOKE Overall events latency 0 min 0 ms max 0 ms avg NaN ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED
{code}",,bharadwajambati1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/19 5:44 AM;bharadwajambati1;Screen Shot 2019-11-06 at 3.43.53 PM.png;https://jira.hyperledger.org/secure/attachment/17915/Screen+Shot+2019-11-06+at+3.43.53+PM.png",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzqo",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 2:24 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34321/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-ca-release-1.4 job: HTTP transport connection broken for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows,FAB-17018,43189,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,vijaypunugubati,vijaypunugubati,07/Nov/19 5:19 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,15/Nov/19 3:22 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-ca-release-1.4 job: HTTP transport connection broken for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows.

*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
/Error: POST failure of request: POST http://localhost:7054/revoke
{""id"":""testUser2""}: Post http://localhost:7054/revoke: net/http: HTTP/1.x transport connection broken: malformed HTTP response ""\x15\x03\x01\x00\x02\x02\x16""
Error: no such table: CERTIFICATES
Error: no such table: AFFILIATIONS
2019/11/06 02:23:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml
Error: POST failure of request: POST http://localhost:7054/gencrl
{""revokedafter"":""2019-11-06T02:21:00Z"",""revokedbefore"":""2019-11-06T02:21:50Z"",""expireafter"":""2019-11-06T02:21:00Z"",""expirebefore"":""2019-11-06T02:21:50Z""}: Post http://localhost:7054/gencrl: net/http: HTTP/1.x transport connection broken: malformed HTTP response ""\x15\x03\x01\x00\x02\x02\x16""
Can't open /tmp/gencrl/admin/msp/crls/crl.pem for reading, No such file or directory
140261442093504:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:72:fopen('/tmp/gencrl/admin/msp/crls/crl.pem','r')
140261442093504:error:2006D080:BIO routines:BIO_new_file:no such file:../crypto/bio/bss_file.c:79:
2019/11/06 02:23:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml/ code placeholder
{code}
*Build Logs:* 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-release-1.4-x86_64/229/testReport/ca_tests/FabricCaTests/test_FAB7206_GenCrlWindows/]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17019,,,,,FAB-16897,,,FAB-17019,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:f",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/19 4:44 AM;scottz;Gari suggested we disable this gencrl test, indicating adequate coverage exists in fabric-ca repo. This would reduce the number of tests we need to maintain. The failure does not appear to be a problem with the code, but rather with setting up the test environment.;;;","09/Nov/19 7:30 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34306]  Skipping the gencrl test in the fabricca job. This leaves one fvt cluster test as part of our fabricca daily test job. We can delete the entire CTE tool at a later date if we are comfortable with its removal - maybe with https://jira.hyperledger.org/browse/FAB-16897.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-ca-master job: HTTP request Failed to parse response for test:ca_tests.FabricCaTests.test_FAB7206_GenCrlWindows,FAB-17019,43193,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,vijaypunugubati,vijaypunugubati,07/Nov/19 5:40 AM,09/Nov/19 7:15 AM,28/Oct/23 3:09 AM,09/Nov/19 7:15 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"*Branch:* Master

*Platform:* x86_64

*Error Snippet:*

*Build Logs:* 
{code:java}
/2019/11/06 01:38:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml
Error: Failed to parse response: Client sent an HTTP request to an HTTPS server.
: invalid character 'C' looking for beginning of value
Error: no such table: CERTIFICATES
Error: no such table: AFFILIATIONS
2019/11/06 01:39:00 [INFO] TLS Enabled
2019/11/06 01:39:00 [INFO] generating key: &{A:ecdsa S:256}
2019/11/06 01:39:00 [INFO] encoded CSR
2019/11/06 01:39:00 [INFO] Stored client certificate at /tmp/gencrl/admin/msp/signcerts/cert.pem
2019/11/06 01:39:00 [INFO] Stored root CA certificate at /tmp/gencrl/admin/msp/cacerts/localhost-7054.pem
2019/11/06 01:39:00 [INFO] Stored Issuer public key at /tmp/gencrl/admin/msp/IssuerPublicKey
2019/11/06 01:39:00 [INFO] Stored Issuer revocation public key at /tmp/gencrl/admin/msp/IssuerRevocationPublicKey
2019/11/06 01:39:00 [INFO] Created a default configuration file at /tmp/gencrl/testUser2/enroll.yaml
2019/11/06 01:39:00 [INFO] TLS Enabled
2019/11/06 01:39:00 [INFO] generating key: &{A:ecdsa S:256}
2019/11/06 01:39:00 [INFO] encoded CSR
2019/11/06 01:39:00 [INFO] Stored client certificate at /tmp/gencrl/testUser2/msp/signcerts/cert.pem
2019/11/06 01:39:00 [INFO] Stored root CA certificate at /tmp/gencrl/testUser2/msp/cacerts/localhost-7054.pem
2019/11/06 01:39:00 [INFO] Stored Issuer public key at /tmp/gencrl/testUser2/msp/IssuerPublicKey
2019/11/06 01:39:00 [INFO] Stored Issuer revocation public key at /tmp/gencrl/testUser2/msp/IssuerRevocationPublicKey
2019/11/06 01:39:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml
Error: Failed to parse response: Client sent an HTTP request to an HTTPS server.
: invalid character 'C' looking for beginning of value
Error: no such table: CERTIFICATES
Error: no such table: AFFILIATIONS
2019/11/06 01:39:00 [INFO] Configuration file location: /tmp/gencrl/admin/fabric-ca-client-config.yaml
Error: Failed to parse response: Client sent an HTTP request to an HTTPS server.
: invalid character 'C' looking for beginning of value
Can't open /tmp/gencrl/admin/msp/crls/crl.pem for reading, No such file or directory
140461755704448:error:02001002:system library:fopen:No such file or directory:../crypto/bio/bss_file.c:69:fopen('/tmp/gencrl/admin/msp/crls/crl.pem','r')
140461755704448:error:2006D080:BIO routines:BIO_new_file:no such file:../crypto/bio/bss_file.c:76:/ code placeholder
{code}
[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ca-master-x86_64/386/testReport/ca_tests/FabricCaTests/test_FAB7206_GenCrlWindows/]",,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17018,,FAB-17018,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r3",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/19 4:44 AM;scottz;Gari suggested we disable this gencrl test, indicating adequate coverage exists in fabric-ca repo. This would reduce the number of tests we need to maintain. The failure does not appear to be a problem with the code, but rather with setting up the test environment.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-behave-release-1.4 job: Query failed in chaincodes feature test in testcases FAB-5791 with NODE lang @1.3 and 1.4,FAB-17020,43194,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,vijaypunugubati,vijaypunugubati,07/Nov/19 5:51 AM,08/Nov/19 5:21 AM,28/Oct/23 3:09 AM,08/Nov/19 5:21 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-behave-master job: Failed chaincodes feature test in testcases FAB-5791 with NODE lang @1.3 and 1.4

*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
/Failing step: Then a user receives a response containing ""TxId"" ... failed in 0.000s
Location: chaincodes.feature:513
Assertion Failed: Expected response was ""TxId""; received Error occurred ['docker exec peer0.org1.example.com sh -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/35a57184005711ea9952fa163ec83a64/peerOrganizations/org1.example.com/users/User1@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode query --name mycc --ctor \'{\\""Args\\"": [\\""getHistoryForMarble\\"",\\""marble1\\""]}\' --channelID behavesystest ""']: Error: endorsement failure during query. response: status:500 message:""transaction returned with failure: TypeError: Cannot read property 'toString' of undefined"" 
/ code placeholder
{code}
*Build Logs:* 

*[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/1/testReport/chaincodes/Chaincodes%20Testing/FAB_5791__Test_API_in_SHIM_interface_using_marbles02_and_shimApiDriver_chaincodes_for_kafka_orderer_couchdb_db_NODE_lang_____1_4_/]*",,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxz79",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,vijaypunugubati,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/19 10:37 PM;rameshthoomu;The test is failing only when executing function ""getHistoryForMarble"" in 1.4 but the same test is not active in the master branch. The same test was in master branch in 2018, but later this was disabled. [https://github.com/hyperledger/fabric-test/blob/ad9846f5e8e7cbeeed08745c73916b9b6fb53440/feature/chaincodes.feature]

 ;;;","08/Nov/19 12:27 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34280/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove unused items from fabric test: ATD, cello submodule",FAB-17021,43195,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,scottz,scottz,scottz,07/Nov/19 8:42 AM,10/Dec/19 5:50 AM,28/Oct/23 3:09 AM,10/Dec/19 5:47 AM,v1.4.4,v2.0.0,,,,v1.4.4,v2.0.0,,,fabric-quality,,,,,0,,,,,"Remove unused items from fabric test: ATD, cello submodule

(Probably should consider creating another task to remove all the submodules and remove dependencies on them by PTE or other tools and tests.)",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i012mz:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),scottz,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/19 1:23 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34347] in v1.4;;;","10/Dec/19 5:50 AM;scottz;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34409]  in master;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reinstall chaincode  with same name and same version gets error: chaincode is exists,FAB-17022,43207,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,shitaibin,shitaibin,07/Nov/19 5:23 PM,10/Nov/19 1:40 AM,28/Oct/23 3:09 AM,10/Nov/19 1:38 AM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,,,,,,fabric-peer,,,,,0,,,,,"After installed chaincode, but not instantiated. If we found some bug in chiancode, and fixed it. Then, reinstall the new chaincode, but we got the error: chaincode is exists.

 

For example, After installed chaincode mycc 2.0 on peer0.org1, ant not instantiate the chaincode. Modify the chaincode, and install it again with {color:#de350b}same name and same version{color} in CLI.

 

_root@2b4730026260:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n mycc -v 2.0 -l golang -p github.com/chaincode/chaincode_example02/go/_
_use default log._
_2019-11-06 03:40:55.883 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc_
_2019-11-06 03:40:55.883 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc_
_Error: Bad response: 500 - {color:#de350b}error installing chaincode code mycc:2.0(chaincode /var/hyperledger/production/chaincodes/mycc.2.0 exists){color}_

 

{color:#de350b}The name and version of not instantiated chaincode should be used again, instead of using a new version of tag for the chaincode.{color}

 

 

 ",,denyeart,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01423:",,,,Unset,Unset,,"1. install chaincode mycc 1.0
2. modify chaincode
3. install chaincode mycc 1.0 again",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Nov/19 1:38 AM;denyeart;Not a bug, working as designed, closing...but I do agree it should be possible to remove a chaincode from a peer so that it could be re-installed. I've added a note to consider RemoveChaincode function when the APIs are reconsidered in FAB-16154.

Note, in the interim you can simply delete the chaincode from the peer file system and reinstall, e.g. in /var/hyperledger/production/chaincodes directory.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric network set usage is incorrect,FAB-17023,43211,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,07/Nov/19 9:12 PM,21/Nov/19 11:28 PM,28/Oct/23 3:09 AM,21/Nov/19 11:28 PM,,,,,,,,,,fabric-cli,,,,,0,,,,," 
{code:java}
$ bin/fabric network set foo
Error: network configuration path not specified
Usage:
 fabric network set <network-name> [flags]
Flags:
 -h, --help help for set
 --path string set the path to the network configurations
Global Flags:
 --context string override the current context (default ""foo"")
 --disable-plugins disable plugins
 --home string set path to configuration files (default ""/Users/lehors/.fabric"")
{code}
Given that the path isn't optional, it ought not to be set through what seems to be an optional flag but instead be a mandatory argument of the command line as in:
{code:java}
 fabric network set <network-name> <path> [flags]{code}",,denyeart,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i0142r:",,,,Unset,Unset,,"
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,lehors,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Nov/19 1:25 AM;denyeart;https://github.com/hyperledger/fabric-cli/pull/10;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove RequiresInit mocks and references ,FAB-17024,43213,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,tsharris,tsharris,tsharris,07/Nov/19 10:55 PM,08/Nov/19 7:10 AM,28/Oct/23 3:09 AM,08/Nov/19 7:10 AM,,,,,,,,,,,,,,,0,,,,,"The RequiresInit() mock is unused, for hygiene this should be removed. ",,tsharris,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01437:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tsharris,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
refactor statecouchdb committer,FAB-17025,43214,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,08/Nov/19 1:02 AM,11/Nov/19 9:45 PM,28/Oct/23 3:09 AM,11/Nov/19 9:45 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,,0,,,,,The goal of the CR is to make the committer code more readable.,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0143f:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-behave-release-1.4 job: gRpc ""context canceled"" error in four test cases of peer service ""FAB-8379, FAB-8380, FAB-8381, FAB-8382""",FAB-17026,43215,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,rameshthoomu,vijaypunugubati,vijaypunugubati,08/Nov/19 1:03 AM,16/Nov/19 3:20 AM,28/Oct/23 3:09 AM,16/Nov/19 3:20 AM,v1.4.4,,,,,v1.4.4,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-behave-release-1.4 job: gRpc ""context canceled"" error in four test cases of peer service ""FAB-8379, FAB-8380, FAB-8381, FAB-8382""

gRpc ""context canceled"" error between the server and the client leads to test case failures consistent above four.

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/[comm.grpc.server] 1 -> INFO 026[0m unary call completed grpc.service=gossip.Gossip grpc.method=Ping grpc.request_deadline=2019-11-07T11:07:51.139Z grpc.peer_address=172.18.0.14:38746 grpc.peer_subject=""CN=Admin@org1.example.com,L=San Francisco,ST=California,C=US"" grpc.code=OK grpc.call_duration=164.582Âµs
[34m2019-11-07 11:07:49.143 UTC [comm.grpc.server] 1 -> INFO 027[0m streaming call completed grpc.service=gossip.Gossip grpc.method=GossipStream grpc.request_deadline=2019-11-07T11:07:59.14Z grpc.peer_address=172.18.0.14:38746 grpc.peer_subject=""CN=Admin@org1.example.com,L=San Francisco,ST=California,C=US"" error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=2.588426ms/ code placeholder
{code}
*Build Logs:* [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/test_results_analyzer/]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/2/Behave_Test_Logs/]",,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqrk:5iwr4r6i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 5:20 AM;rameshthoomu;I see these tests are failing consistently timeout, while trying to spinup the network. See the below log

And an admin deploys chaincode with args [""init"",""a"",""1000"",""b"",""2000""] with policy ""OR ('org1.example.com.client','org2.example.com.client')"" ... failed in *317.614s*

Error Message

The kafka containers are not ready in the allotted time (300 seconds);;;","09/Nov/19 1:04 AM;scottz;Try to reproduce locally and debug.;;;","09/Nov/19 4:32 AM;rameshthoomu;I reproduced this issue in local network.. Didn't find much information from the logs. Debugging this further and will share the details.;;;","16/Nov/19 3:15 AM;scottz;I also reproduced the failures, and i even enabled the latest capabilities for v1.4.4 along with enabling NodeOUs, but still failed to install due to permissions.

Note: tests passed when using operator tool with NodeOUs enabled; and fabric UT tests cover MSP Identity and NodeOUs and serv discov, so therefore these are duplicate tests.

Rather than debugging the setup configuration for these behave tests, I think we can disable them without risk.;;;","16/Nov/19 3:18 AM;scottz;{quote}2019-11-14 21:58:05.920 UTC [gossip.discovery] func1 -> WARN 028^[[0m Could not connect to Endpoint: peer1.org1.example.com:7051, InternalEndpoint: peer1.org1.example.com:7051, PKI-ID: <nil>, Metadata:  : context deadline exceeded

2019-11-14 21:58:30.938 UTC [comm.grpc.server] 1 -> INFO 029^[[0m streaming call completed grpc.service=gossip.Gossip grpc.method=GossipStream grpc.peer_address=192.168.16.12:39030 grpc.peer_subject=""CN=Admin@org1.example.com,L=San Francisco,ST=California,C=US"" error=""rpc error: code = Canceled desc = context canceled"" grpc.code=Canceled grpc.call_duration=25.5947506s

2019-11-14 21:58:33.243 UTC [core.comm] ServerHandshake -> ERRO 02a^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39048

2019-11-14 21:58:34.244 UTC [core.comm] ServerHandshake -> ERRO 02b^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39052

2019-11-14 21:58:35.902 UTC [gossip.comm] sendToEndpoint -> WARN 02c^[[0m Failed obtaining connection for 192.168.16.12:7051, PKIid:c4a85e42f7e7a784c97f50ea87b1610ee2b3eecd2332357048eaf2ffff35ca24 reason: context deadline exceeded

2019-11-14 21:58:35.902 UTC [gossip.discovery] expireDeadMembers -> WARN 02d^[[0m Entering [c4a85e42f7e7a784c97f50ea87b1610ee2b3eecd2332357048eaf2ffff35ca24]

2019-11-14 21:58:35.902 UTC [gossip.discovery] expireDeadMembers -> WARN 02e^[[0m Closing connection to Endpoint: , InternalEndpoint: 192.168.16.12:7051, PKI-ID: c4a85e42f7e7a784c97f50ea87b1610ee2b3eecd2332357048eaf2ffff35ca24, Metadata:

2019-11-14 21:58:35.902 UTC [gossip.discovery] expireDeadMembers -> WARN 02f^[[0m Exiting

2019-11-14 21:58:35.945 UTC [core.comm] ServerHandshake -> ERRO 030^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39058

2019-11-14 21:58:36.247 UTC [core.comm] ServerHandshake -> ERRO 031^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39060

2019-11-14 21:58:37.247 UTC [core.comm] ServerHandshake -> ERRO 032^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39064

2019-11-14 21:58:38.894 UTC [core.comm] ServerHandshake -> ERRO 033^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39068

2019-11-14 21:58:38.904 UTC [gossip.comm] sendToEndpoint -> WARN 034^[[0m Failed obtaining connection for 192.168.16.12:7051, PKIid:c4a85e42f7e7a784c97f50ea87b1610ee2b3eecd2332357048eaf2ffff35ca24 reason: context deadline exceeded

2019-11-14 21:58:39.249 UTC [core.comm] ServerHandshake -> ERRO 035^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39072

2019-11-14 21:58:40.251 UTC [core.comm] ServerHandshake -> ERRO 036^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39076

2019-11-14 21:58:41.839 UTC [core.comm] ServerHandshake -> ERRO 037^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39080

2019-11-14 21:58:41.908 UTC [gossip.comm] sendToEndpoint -> WARN 038^[[0m Failed obtaining connection for 192.168.16.12:7051, PKIid:c4a85e42f7e7a784c97f50ea87b1610ee2b3eecd2332357048eaf2ffff35ca24 reason: context deadline exceeded

2019-11-14 21:58:55.238 UTC [core.comm] ServerHandshake -> ERRO 039^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39086
{quote}
^[[31m2019-11-14 21:58:56.238 UTC [core.comm] ServerHandshake -> ERRO 03a^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39090

^[[31m2019-11-14 21:58:58.063 UTC [core.comm] ServerHandshake -> ERRO 03b^[[0m TLS handshake failed with error remote error: tls: bad certificate server=PeerServer remoteaddress=192.168.16.12:39092;;;","16/Nov/19 3:20 AM;scottz;Per earlier comment, these tests are essentially duplicates, and we would like to halt development of the test framework which is being deprecated.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fabric-test-daily-pte-master job: Failed to install chaincode on testcases FAB-6813-4i,FAB-17027,43217,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,vijaypunugubati,vijaypunugubati,08/Nov/19 3:27 AM,21/Nov/19 4:25 AM,28/Oct/23 3:09 AM,21/Nov/19 4:25 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,,0,ci-failure,quality,,,"fabric-test-daily-pte-master job: Failed to install chaincode on testcases FAB-6813-4i 

*Branch:* Master

*Platform:* x86_64

*Error Snippet:*
{code:java}
/03:11:33.712 + set +exo pipefail
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.324Z PTE 0 main]: [chaincodeInstall] org(org1): install proposal was bad
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.325Z PTE 0 main]: [chaincodeInstall] org(org1): install proposal was bad
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.325Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (PeerOrg1) due to error:  message=[chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting..., stack=Error: [chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting...
03:11:33.712     at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:685:31
03:11:33.712     at <anonymous>
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.577Z PTE 0 main]: [chaincodeInstall] org(org2): install proposal was bad
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.578Z PTE 0 main]: [chaincodeInstall] org(org2): install proposal was bad
03:11:33.712 [31merror[39m: [2019-11-07T02:28:10.578Z PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (PeerOrg2) due to error:  message=[chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting..., stack=Error: [chaincodeInstall] Failed to send install Proposal in (%s) or receive valid response. Response null or status is not 200. exiting...
03:11:33.712     at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:685:31
03:11:33.712     at <anonymous>/ code placeholder
{code}
Build Logs: 

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/389/consoleFull]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/389/PTE_Test_Logs/]",,bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17117,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzs",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bharadwajambati1,rameshthoomu,scottz,vijaypunugubati,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,lindluni-patch-1,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/19 5:01 AM;rameshthoomu;Observed below error log in PTE logs. tlsca certs are not available..

```
 [32minfo[39m: [2019-11-07T02:30:50.820Z PTE 1 main]: stderr: [31merror[39m: [2019-11-07T02:30:50.819Z PTE 1573093867259 util]: [getTLSCert] tls_cacerts does not exist: caRootsPath: /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/internal/cryptogen/crypto-config/ordererOrganizations/example.com/orderers/orderer3.example.com/msp/tlscacerts/tlsca.example.com-cert.pem, key: orderer, subkey: orderer3
 ```

Look at these logs https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/389/PTE_Test_Logs/FAB-6813-4i_1107023029.log.gz;;;","09/Nov/19 1:31 AM;scottz;Execute locally. See if the certs are all generated correctly or not. Check if the path is correctly specified to find the certs.;;;","12/Nov/19 7:24 AM;scottz;Similar error ""install proposal was bad"" as FAB-16857, but the fix for that was merged many days ago (increased a timeout), so it must be a different root cause bug.;;;","16/Nov/19 3:55 AM;bharadwajambati1;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34408/];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to pass different fcn for chaincode from test input file,FAB-17028,43220,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,08/Nov/19 5:46 AM,12/Nov/19 11:07 PM,28/Oct/23 3:09 AM,12/Nov/19 11:07 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,"Add ability to pass different fcn for chaincode from test input file. Currently, operator has fcn set to invoke for move and query for query, which may change from chaincode to chaincode.",,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzi",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/19 5:58 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34285/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add missing AnchorPeer action to operator,FAB-17029,43221,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,08/Nov/19 5:50 AM,12/Nov/19 11:07 PM,28/Oct/23 3:09 AM,12/Nov/19 11:07 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Add missing AnchorPeer action to operator,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzr",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/19 5:59 AM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34286/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The introduction of etcdraft is missing in orderer/README.md,FAB-17030,43223,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,shitaibin,shitaibin,shitaibin,08/Nov/19 9:04 AM,02/Dec/19 6:40 PM,28/Oct/23 3:09 AM,02/Dec/19 6:40 PM,v1.4.0,v1.4.1,v1.4.2,v1.4.3,v2.0.0,v1.4.4,v2.0.0,,,fabric-orderer,,,,,0,,,,,"In `Service Type`, solo, kafa and pbft have been introduced. But etcd raft is missing.",,denyeart,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0144z:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,shitaibin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/19 1:39 AM;denyeart;merged in master, I cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/fabric/+/34320/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Use Viper to simplify the code, clear the code",FAB-17031,43226,,Task,In Progress,FAB,Fabric,software,denyeart,,,Medium,,TopJohn,TopJohn,TopJohn,08/Nov/19 4:04 PM,08/Nov/19 4:06 PM,28/Oct/23 3:09 AM,,,,,,,,,,,,,,,,0,,,,,"Use Viper to simplify the code, clear the code",,TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i0145n:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),TopJohn,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Some error in the doc ""Developing Applications",FAB-17032,43227,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,superbull,superbull,superbull,08/Nov/19 5:48 PM,15/Nov/19 6:02 AM,28/Oct/23 3:09 AM,15/Nov/19 5:46 AM,,,,,,v1.4.4,v2.0.0,,,,,,,,0,,,,,"[docs/source/developapps/analysis.md|https://github.com/hyperledger/fabric/pull/287/files#diff-b40ba6457beff5db30c0e98668f4b670]

Current owner should be the initiator, change ""HedgeMatic"" to ""DigiBank"".

 

[docs/source/developapps/application.md|https://github.com/hyperledger/fabric/pull/288/files#diff-b94f822c839bd293a5bd980a9094c2f0]

Link to ""architecture topic"" should be changed from ""architecture.md"" to ""architecture.html"".

There is no ""sell"" transaction, should be changed to ""buy"".",,pandrejko,superbull,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0145v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,superbull,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/19 5:46 AM;pandrejko;[https://gerrit.hyperledger.org/r/#/c/fabric/+/34292/]

https://gerrit.hyperledger.org/r/#/c/fabric/+/34293/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Compare readset values during commitment,FAB-17033,43229,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,yuriiuhlanov,yuriiuhlanov,08/Nov/19 7:26 PM,19/Apr/20 1:31 PM,28/Oct/23 3:09 AM,19/Apr/20 1:31 PM,,,,,,,,,,,,,,,0,,,,,"As a user
I want a transaction to be invalidated if an endorsing peer has tampered read set
So that tampered data is not propagated among other peers

 

The read set contains only the keys and the versions of the data read during chaincode execution. Thus if the world state of let's say single endorsing peer was tampered, all peers will commit an updated invalid value. On the other hand, if along with the versions there were values in the readset, the peers could compare them with their own and discard a transaction if needed.

the use case is well described in the article 

[https://medium.com/@kctheservant/exploring-the-behaviour-of-hyperledger-fabric-when-world-state-is-tampered-764676fe90f2]",,denyeart,yuriiuhlanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0146b:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yuriiuhlanov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 7:26 PM;yuriiuhlanov;Please let me know what you think!

 ;;;","19/Apr/20 1:31 PM;denyeart;The entire point of requiring endorsements from multiple organizations is to ensure that one bad peer cannot cause these types of problems.
If the design above were implemented, the result would be a fork on the 'bad' peer that would only continue the problem.
Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to download node packages while instantiating marbel02/node chaincode. ,FAB-17034,43231,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,rameshthoomu,rameshthoomu,08/Nov/19 9:02 PM,08/Nov/19 10:22 PM,28/Oct/23 3:09 AM,08/Nov/19 10:22 PM,,,,,,,,,,,,,,,0,,,,,"Unable to download node packages while instantiating marbel02/node chaincode in fabric-test CouchDB index test
{code:java}
03:23:52.739 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002\x1b[0m Using default vscc\nError: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""\n> @ampretia/x509@0.4.0 install /chaincode/output/node_modules/@ampretia/x509\n> node-gyp rebuild\n\ngyp WARN install got an error, rolling back install\ngyp ERR! configure error \ngyp ERR! stack Error: read ECONNRESET\ngyp ERR! stack     at TLSWrap.onread (net.js:622:25)\ngyp ERR! System Linux 4.4.0-97-generic\ngyp ERR! command ""/usr/local/bin/node"" ""/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js"" ""rebuild""\ngyp ERR! cwd /chaincode/output/node_modules/@ampretia/x509\ngyp ERR! node -v v8.16.1\ngyp ERR! node-gyp -v v5.0.5\ngyp ERR! not ok \nnpm WARN notsup Unsupported engine for fabric-shim@1.4.2: wanted: {""node"":""^8.9.0"",""npm"":""^5.5.1""} (current: {""node"":""8.16.1"",""npm"":""6.12.0""})\nnpm WARN notsup Not compatible with your version of node/npm: fabric-shim@1.4.2\nnpm WARN marbles@1.0.0 No repository field.\n\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! @ampretia/x509@0.4.0 install: `node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the @ampretia/x509@0.4.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-11-07T03_24_06_183Z-debug.log\n""\n'}{code}
With the above error, I see all the Couchdb index tests are failing with chaincode container not existed error message.

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/2/testReport/junit/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7260__FAB_7261__Test_CouchDB_indexing_using_install_after_instantiate_with_marbles_chaincode_using_NODE_with_3_channels_and_1_index_____1_2_/]",,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0146r:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 10:22 PM;mbwhite;Might have to mark this down as an 'oddity' with npm... the versions of node and npm required and those given are semver compatible.

Plus I've installed those exact versions and all is well.

 

I understand builds re now moving forward again; as this was output in the chaincode build container sadly the npm log has been lost. ;;;","08/Nov/19 10:22 PM;mbwhite;Will have address again if this comes up.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip error: Could not acquire policy manager for channel mychannel,FAB-17035,43232,,Bug,To Do,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,08/Nov/19 9:58 PM,23/Nov/20 11:38 PM,28/Oct/23 3:09 AM,,v1.4.3,v1.4.4,,,,,,,,fabric-gossip,fabric-peer,,,,2,ipm2,,,,"I have four peers joined to channel 'mychannel':

127.0.0.1:7051 org1

127.0.0.1:7053 org1

127.0.0.1:7055 org2

127.0.0.1:7057 org2

My two peers in org2 seem to come up fine, but throw the following error in the logs:
{code:java}
2019-11-08 07:47:18.942 EST [ledgermgmt] OpenLedger -> INFO 041 Opened ledger with id = mychannel
2019-11-08 07:47:18.945 EST [gossip.gossip] JoinChan -> INFO 042 Joining gossip network of channel mychannel with 2 organizations
2019-11-08 07:47:18.945 EST [gossip.gossip] learnAnchorPeers -> INFO 043 No configured anchor peers of Org2MSP for channel mychannel to learn about
2019-11-08 07:47:18.945 EST [gossip.gossip] learnAnchorPeers -> INFO 044 Learning about the configured anchor peers of Org1MSP for channel mychannel : [{127.0.0.1 7051}]
2019-11-08 07:47:18.948 EST [gossip.comm] authenticateRemotePeer -> ERRO 048 Failed verifying signature from 127.0.0.1:7051 : Could not acquire policy manager for channel mychannel
2019-11-08 07:47:18.948 EST [gossip.comm] Handshake -> WARN 049 Authentication failed: Could not acquire policy manager for channel mychannel
2019-11-08 07:47:18.949 EST [gossip.gossip] func1 -> WARN 04a Deep probe of 127.0.0.1:7051 failed: Could not acquire policy manager for channel mychannel
github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).learnAnchorPeers.func1
 /Users/denyeart/work/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:251
github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1
 /Users/denyeart/work/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:153
runtime.goexit
 /usr/local/go/src/runtime/asm_amd64.s:1337
2019-11-08 07:47:18.949 EST [gossip.discovery] func1 -> WARN 04b Could not connect to Endpoint: 127.0.0.1:7051, InternalEndpoint: 127.0.0.1:7051, PKI-ID: <nil>, Metadata: : Could not acquire policy manager for channel mychannel{code}
127.0.0.1:7051 is the only one configured as an anchor peer.

Gossip network is working fine, e.g. peer 127.0.0.1:7057 can see the other three peers:
{code:java}
2019-11-08 07:47:23.946 EST [gossip.channel] reportMembershipChanges -> INFO 05d Membership view has changed. peers went online: [[127.0.0.1:7053 ] [127.0.0.1:7055] [127.0.0.1:7051 ]] , current view: [[127.0.0.1:7053 ] [127.0.0.1:7055] [127.0.0.1:7051 ]]{code}
So is the error about *Failed verifying signature from 127.0.0.1:7051 : Could not acquire policy manager for channel mychannel* benign? Why is it thrown?",,denyeart,jyellick,siddjain,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i01h82:i",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,siddjain,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 10:06 PM;yacovm;The *Could not acquire policy manager* error means that your peer hasn't joined the channel. 
Given that this happens while anchor peers are probed, it means you joined it to the channel, so it's not benign for sure... ;;;","08/Nov/19 10:15 PM;yacovm;i think it's somewhat related to initialization order in:
{code}
	cs.bundleSource = channelconfig.NewBundleSource(
		bundle,
		gossipCallbackWrapper,
		trustedRootsCallbackWrapper,
		mspCallback,
		peerSingletonCallback,
		cp.updateChannelConfig,
	)
{code};;;","08/Nov/19 10:16 PM;yacovm; What do you think [~jyellick] ?;;;","09/Nov/19 1:09 AM;jyellick;If you are joined to a channel, then absolutely the policy manager for that channel should be available.

In general, our startup/joinchannel logic is poorly structured.  To me, the most likely thing is that we're seeing a race between channel initialization completing and acquiring the policy manager.

As a rule, we should really be getting our dependencies pushed to us, not receiving an event that triggers us to go poll for our dependencies, as it invites this sort of bug. ;;;","12/Feb/20 1:42 AM;denyeart;Other deployments have also reported this error, although it seems that gossip recovers and peer functions as normal after startup.;;;","17/Jun/20 8:35 AM;siddjain;we are also seeing this error when a peer node boots up. example:

{{$ ./run-xxx-peer.sh && docker logs -f peer0.xxx.com}}
{{31283094c5a0e3f8bc2fbd8d238b13189cff101da8b43fd289ce804d994a7100}}
{{peer0.xxx.com}}
{{2020-06-16 23:24:58.751 UTC [nodeCmd] serve -> INFO 001 Starting peer:}}
{{ Version: 2.0.1}}
{{ Commit SHA: 1cfa5da}}
{{ Go version: go1.13.4}}
{{ OS/Arch: linux/amd64}}
{{ Chaincode:}}
{{ Base Docker Namespace: hyperledger}}
{{ Base Docker Label: org.hyperledger.fabric}}
{{ Docker Namespace: hyperledger}}
{{2020-06-16 23:24:58.751 UTC [peer] getLocalAddress -> INFO 002 Auto-detected peer address: 172.18.0.11:8055}}
{{2020-06-16 23:24:58.751 UTC [peer] getLocalAddress -> INFO 003 Returning peer0.xxx.com:8055}}
{{2020-06-16 23:24:58.857 UTC [gossip.service] New -> INFO 004 Initialize gossip with endpoint peer0.xxx.com:8055}}
{{2020-06-16 23:24:58.858 UTC [gossip.gossip] New -> INFO 005 Creating gossip service with self membership of Endpoint: peer0.xxx.com:8055, InternalEndpoint: peer0.xxx.com:8055, PKI-ID: f42d70c3282398833314d4c23ba2931ec716b527b27d282f11be89b7b7528bdb, Metadata:}}
{{2020-06-16 23:24:58.859 UTC [gossip.gossip] start -> INFO 006 Gossip instance peer0.xxx.com:8055 started}}
{{2020-06-16 23:24:58.861 UTC [ledgermgmt] NewLedgerMgr -> INFO 007 Initializing LedgerMgr}}
{{2020-06-16 23:24:59.367 UTC [ledgermgmt] NewLedgerMgr -> INFO 008 Initialized LedgerMgr}}
{{2020-06-16 23:24:59.378 UTC [lifecycle] InitializeLocalChaincodes -> INFO 009 Initialized lifecycle cache with 2 already installed chaincodes}}
{{2020-06-16 23:24:59.378 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00a Entering computeChaincodeEndpoint with peerHostname: peer0.xxx.com}}
{{2020-06-16 23:24:59.378 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00b Exit with ccEndpoint: peer0.xxx.com:8056}}
{{2020-06-16 23:24:59.381 UTC [sccapi] DeploySysCC -> INFO 00c deploying system chaincode 'lscc'}}
{{2020-06-16 23:24:59.381 UTC [sccapi] DeploySysCC -> INFO 00d deploying system chaincode 'cscc'}}
{{2020-06-16 23:24:59.381 UTC [sccapi] DeploySysCC -> INFO 00e deploying system chaincode 'qscc'}}
{{2020-06-16 23:24:59.381 UTC [sccapi] DeploySysCC -> INFO 00f deploying system chaincode '_lifecycle'}}
{{2020-06-16 23:24:59.381 UTC [nodeCmd] serve -> INFO 010 Deployed system chaincodes}}
{{2020-06-16 23:24:59.381 UTC [peer] Initialize -> INFO 011 Loading chain mychannel}}
{{2020-06-16 23:24:59.381 UTC [ledgermgmt] OpenLedger -> INFO 012 Opening ledger with id = mychannel}}
{{2020-06-16 23:24:59.494 UTC [lifecycle] update -> INFO 013 Updating cached definition for chaincode 'test3' on channel 'mychannel'}}
{{2020-06-16 23:24:59.559 UTC [lifecycle] update -> INFO 014 Updating cached definition for chaincode 'my_awesome_cc' on channel 'mychannel'}}
{{2020-06-16 23:24:59.578 UTC [lifecycle] update -> INFO 015 Chaincode with package ID 'mycc_2.0:422ce5cb243752226c86e04815f8e0725fba5574b576622e82aad21fb25ae2b2' now available on channel mychannel for chaincode definition my_awesome_cc:1.0}}
{{2020-06-16 23:24:59.578 UTC [lifecycle] update -> INFO 016 Updating cached definition for chaincode 'my_awesome_chaincode' on channel 'mychannel'}}
{{2020-06-16 23:24:59.602 UTC [lifecycle] update -> INFO 017 Chaincode with package ID 'mycc_2.0:422ce5cb243752226c86e04815f8e0725fba5574b576622e82aad21fb25ae2b2' now available on channel mychannel for chaincode definition my_awesome_chaincode:1.0}}
{{2020-06-16 23:24:59.602 UTC [lifecycle] update -> INFO 018 Updating cached definition for chaincode 'mycc' on channel 'mychannel'}}
{{2020-06-16 23:24:59.621 UTC [lifecycle] update -> INFO 019 Chaincode with package ID 'mycc_2.0:422ce5cb243752226c86e04815f8e0725fba5574b576622e82aad21fb25ae2b2' now available on channel mychannel for chaincode definition mycc:2.0}}
{{2020-06-16 23:24:59.622 UTC [lifecycle] update -> INFO 01a Updating cached definition for chaincode 'mycc2' on channel 'mychannel'}}
{{2020-06-16 23:24:59.640 UTC [lifecycle] update -> INFO 01b Chaincode with package ID 'mycc_2.0:422ce5cb243752226c86e04815f8e0725fba5574b576622e82aad21fb25ae2b2' now available on channel mychannel for chaincode definition mycc2:1.0}}
{{2020-06-16 23:24:59.647 UTC [ledgermgmt] OpenLedger -> INFO 01c Opened ledger with id = mychannel}}
{{2020-06-16 23:24:59.669 UTC [peer.orderers] Update -> WARN 01d Config defines both orderer org specific endpoints and global endpoints, global endpoints will be ignored channel=mychannel}}
{{2020-06-16 23:24:59.669 UTC [gossip.gossip] JoinChan -> INFO 01e Joining gossip network of channel mychannel with 3 organizations}}
{{2020-06-16 23:24:59.669 UTC [gossip.gossip] learnAnchorPeers -> INFO 01f Learning about the configured anchor peers of org2MSP for channel mychannel : [\{peer0.org2.com 8053}]}}
{{2020-06-16 23:24:59.669 UTC [gossip.gossip] learnAnchorPeers -> INFO 020 Learning about the configured anchor peers of xxxMSP for channel mychannel : [\{peer0.xxx.com 8055}]}}
{{2020-06-16 23:24:59.669 UTC [gossip.gossip] learnAnchorPeers -> INFO 021 Anchor peer with same endpoint, skipping connecting to myself}}
{{2020-06-16 23:24:59.669 UTC [gossip.gossip] learnAnchorPeers -> INFO 022 Learning about the configured anchor peers of org1MSP for channel mychannel : [\{peer0.org1.com 8051}]}}
{{2020-06-16 23:24:59.675 UTC [gossip.comm] authenticateRemotePeer -> ERRO 023 Failed verifying signature from 172.18.0.9:8053 : Could not acquire policy manager for channel mychannel}};;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor Version and Revision Cache in State CouchDB,FAB-17036,43235,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,Senthil1,Senthil1,Senthil1,09/Nov/19 12:03 AM,30/Jan/20 11:42 PM,28/Oct/23 3:09 AM,30/Jan/20 11:42 PM,,,,,,v2.1.0,,,,fabric-ledger,,,,,0,,,,,"Among ValidateAndPrepare(), PrepareExpiringKeys(), and RemoveStaleAndCommitPvtDataOfOldBlocks(), we can allow only one function to execute at a time. The reason is that each function calls LoadCommittedVersions() which would clear the existing entries in the transient buffer and load new entries (such a transient buffer is not
 applicable for the golevelDB). As a result, these three functions can interleave and nullify the optimization provided by the bulk read API.
 
Once the ledger cache (FAB-103) is introduced and existing LoadCommittedVersions() would be refactored to return a map. Then, we can allow these three functions to execute parallely.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10794,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:4",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HLF peer not handling chaincode docker container endpoint staying connected after container was deleted,FAB-17037,43236,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,manish-sethi,RyanMathison,RyanMathison,09/Nov/19 12:08 AM,01/Dec/20 7:20 AM,28/Oct/23 3:09 AM,,v1.4.1,,,,,,,,,fabric-peer,,,,,0,ipm,,,,"When we were running a test where peers were brought up and down randomly, one of the peers failed to restart with the following error


 _{color:#bb0000}ERRO 2bca{color} [common-channel][aae5b25b] failed to invoke chaincode name:""mycc"" , error: API error (403): endpoint with name nid1-peer1-org2-mycc-1.0 already exists in network host._

When we went and looked at our worker nodes, we could not find the container on any of them, yet the error persisted.  We next turned on debugging on for the peer, see [^peer1-org2.log], which shows that the container is being created successfully and after the error is being deleted correctly so that was not the issue. I eventually found the [following post|https://github.com/moby/moby/issues/31768#issuecomment-338806433] on the docker github, and it said that it could be that the network endpoint was left open.  I queried the network endpoints and did find the entry.

_,
 ""dac72130eba0ad3067b005ece0797910130ca23c7ff95b38eac30d74eb44da4f"": {
 ""Name"": ""nid1-peer0-org2-mycc-1.0"",
 ""EndpointID"": ""fdd8b47942c882d825715077a8f412cb8f4df69ced34a4c72d49809f98218891"",
 ""MacAddress"": """",
 ""IPv4Address"": """",
 ""IPv6Address"": """"
 }_

The manual workaround ends up being

1.Exec into the peer container

2. Install curl if not already installed

3. Run the following command - Replace the container name with the one causing the problem

 

_curl -X POST --unix-config /host/var/run/docker.sock [http://localhost/networks/host/disconnect] -d '\{""Container"":""nid1-peer1-org2-mycc-1.0"",""Force"":true}' -H ""Content-Type: application/json""_

I think that the hlf peer needs to be able to handle this situation as it seems to be a fairly common issue in docker. I think there a couple possible solutions.
 # Always try to remove the network entry after deleting the container
 # Catch the error, and remove the network entry

 

 

 ",,denyeart,RyanMathison,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/19 11:45 PM;RyanMathison;peer1-org2.log;https://jira.hyperledger.org/secure/attachment/17921/peer1-org2.log",,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zs1rr",,,,Unset,Unset,,"I don't have exact step so do this and it happened during random testing.

The general conditions are:
1. Peer is restarted
2. Chaincode container was deleted
3. Chaincode container network entry was not deleted
4. Running in Kubernetes",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,RyanMathison,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/19 9:14 PM;denyeart;[~sykesm] [~jyellick] Could you add your thoughts please?;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update ApplicationPolicy references,FAB-17038,43237,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,caod,caod,caod,09/Nov/19 12:48 AM,22/Nov/19 10:42 PM,28/Oct/23 3:09 AM,21/Nov/19 4:19 AM,,,,,,,,,,,,,,,0,,,,,"As part of FAB-15066, the proto for {{peer.ApplicationPolicy}} will move from {{peer}} package to {{common}} to prevent future import cycles. The peer type has been left alone but marked as deprecated and new/existing references will need to use the new {{common.ApplicationPolicy}} type.

 

[https://github.com/hyperledger/fabric-protos/pull/15]",,caod,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0147v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),caod,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Inconsistencies in Log for ""No Collection Config ... """,FAB-17039,43242,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,wenjian,RyanMathison,RyanMathison,09/Nov/19 4:57 AM,19/Dec/20 1:54 AM,28/Oct/23 3:09 AM,11/Dec/20 2:35 AM,v1.4.1,,,,,v1.4.10,v2.2.2,v2.3.1,v2.4.0,fabric-gossip,fabric-ledger,,,,0,gossip,ipm2,,,"When we were running a test where peers were brought up and down randomly, we would see the following error off and on

_2019-11-07 19:57:12.140 UTC [gossip.privdata] fromTransientStore -> ERRO 6f2 No collection config was found for chaincode mycc collection name mycc txID_

Now this coupled with logs saying that a block was committed without made us very concerned that somehow we were losing private data.  After days of looking through the source code for the hlf peer and working to reproduce I was able to determine that in fact no private data had been lost and it was just the order in which things went down. However, I have some concerns with how the error is being logged

1. The collection name is not being logged.

In the fromTransientStore function of dataretriever.go we see

_if !found {_
   _logger.Error(""No collection config was found for chaincode"", dig.Namespace, ""collection   name"",_
 _dig.Namespace, ""txID"", dig.TxId)_
   _continue_
_}_

What we see is that the dog.Namespace is getting reported for the collection name instead of dig.Collection

2. Is Error really the correct level for this log? I feel it is more of a warning

What I found is that this error occurs when you have an non-anchor peer that is far enough behind the ledger that it using the pull gossip protocol and it tries to pull blocks from an anchor peer that is even farther behind the ledger than the non-anchor peer.  The peers with the private data are either down or not able to be contacted by either peer.

What happens is the anchor peer gets the request and it sees that the requested block is > than its current ledger height so it goes to check its transient store.  It doesn't have any of the transient data so it logs the error.  Once the peers with the private data come up again everything recovers and the error goes away. 

I just wonder if it is really valid for this to be logged as an error when all it means is that the peer has never had the private data and not that it somehow lost it.

3. Why is the transaction id null?

This log is supposed to contain the transaction id that we are fetching the private data, however the log we got had no transaction id. We also get this log

_2019-11-07 19:57:12.140 UTC [transientstore] GetTxPvtRWSetByTxid -> DEBU 6f3 Getting private data from transient store for transaction_

Any ideas as to why there is no transaction id?

 

 

 ",,RyanMathison,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0148z:",,,,Unset,Unset,,"1. Create a 4 org network, assume peer 0 is anchor peer in each org.
2. Create a channel with a private collection between org 1 and org 4
3. Submit 200 private transactions between org 1 and org 4
4. Take down peer 0 in org 1
5. Submit 200 private transactions between org 1 and org 4
6. Take down peer 1 in org 4
7. Submit 200 private transactions between org 1 and org 4
8. Take down peer 1 in org 1 and peer 0 in org 4. Bring up peer 0 in org 1 and peer 1 in org 4.
9. You should see the error logged in peer 0 org 1",,Unset,,,,,,Unset,,Unset,,(Please add usage information),RyanMathison,wenjian,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.3,release-1.4,release-2.2,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/20 4:46 AM;wenjian;PR: [https://github.com/hyperledger/fabric/pull/2183]

1) The collection name is not being logged?

A: fixed

2) Is Error really the correct level for this log?

A: The specific message should be at error level, but fromTransientStore should not be called when txid is empty (see next question).

3) Why is the transaction id null?

A: there are 2 scenarios (commit and reconciliation) when `height <= blockNum` is true. In the reconciliation case, the transaction id is null and SeqInBlock is used. In this case, we should not retrieve from transient store. The PR has updated the code to log a message and skip calling fromTransientStore.;;;","09/Dec/20 5:30 AM;wenjian;release-2.3 PR: https://github.com/hyperledger/fabric/pull/2200

release-2.2 PR: https://github.com/hyperledger/fabric/pull/2201

release-1.4 PR: https://github.com/hyperledger/fabric/pull/2203;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private data dissemination property 'requiredPeerCount' not behaving as expected ,FAB-17040,43243,,Bug,To Do,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,09/Nov/19 5:52 AM,11/Jan/21 3:22 PM,28/Oct/23 3:09 AM,,v1.4.1,,,,,,,,,fabric-gossip,fabric-ledger,,,,0,ipm2,,,,"FAB-12982 changed the meaning of requiredPeerCount and maximumPeerCount in private data dissemination.

As of FAB-12982, it chooses 'required' and 'not required' peers statically before attempting to disseminate. That's not the intent of requiredPeerCount. The intent is that an endorsing peer tries to disseminate to <maximumPeerCount> peers, and you need dissemination to succeed for at least ANY <requiredPeerCount> of them for endorsement to succeed.
The current implementation of statically picking required peers will result in more endorsement failures than expected.",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12982,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:0idqxqu",,,,Unset,Unset,v2.x,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Nov/20 4:01 AM;manish-sethi;[~denyeart] - assigning this to you.;;;","20/Nov/20 9:06 AM;denyeart;The issue is still valid, returning to general backlog.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reduce use of common/ledger/testutil,FAB-17041,43246,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,mastersingh24,mastersingh24,mastersingh24,10/Nov/19 9:29 PM,19/Apr/20 1:27 PM,28/Oct/23 3:09 AM,,,,,,,,,,,fabric-ledger,,,,,0,,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0149v:",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cannot close gRPC stream for server when client calling stream  /protos.Deliver/DeliverFiltered,FAB-17042,43247,,Bug,Returned,FAB,Fabric,software,denyeart,,,High,,,justformorefun,justformorefun,11/Nov/19 11:58 AM,26/Mar/20 2:10 AM,28/Oct/23 3:09 AM,,v1.4.3,,,,,,,,,fabric-peer,,,,,0,common-components,,,,"h6. 1 Issue Description

A fabric network bootstrapped with two channel created. And instaintiate a chaincode on two channels. When I invoke a chaincode' on a channel continually(such as, JMeter tool), at the same time I call other channel's chaincode once with tool,like Postman.  The surprising thing is the request from postman is over, but the peer side did not close method /protos.Deliver/DeliverFiltered stream for server. 
h6. 2 Associated code and guess

The associated code is in common/deliver/deliver.go file. The (*Handler) Handle method body  has a for loop , within that loop calling (*Handler) deliverBlocks. When a client's incoming stream came, the server receives it and call deliverBlocks. And cannot exit from deliverBlocks due to seekInfo.Stop is math.MaxUint64.  In other words, server side cannot receive io.EOF. So the server side cannot close stream.

3 desired results

When client close the stream, so does the gRPC server side.

 

If more info needed for reproducing, I will add more.

 ",,justformorefun,manish-sethi,nao,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i014a3:",,,,Unset,Unset,,"1 bootstrap a fabric network
2 create two channel with every chaincode deployed on them
3 invoke either channel's chaincode continullay using tools like JMeter
4 invoke another channel's chaincode once
5 observe log from server. 
that's all steps.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),justformorefun,manish-sethi,nao,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 5:59 AM;manish-sethi;[~wlahti] / [~jyellick] - can one of you have look and comment on this Jira.;;;","26/Mar/20 2:10 AM;sykesm;It looks like the context is wired down to {{deliverBlocks}} and is selected on so f the client connection goes away, things will be cleaned up. If the client simply closes its envelope stream, the server will continue to run until the stop height is reached. This is working as designed.

Closing the client stream simply means the client has nothing more to send but it must continue to receive until the server stream is closed. Based on the information you've provided, your first (and only) request is for all blocks until until the end of time.

Basically, the deliver service does not pipeline requests; it simply handles them sequentially.

If I've misunderstood anything about your scenario, please let me know. Thanks.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add performance measuring strategy to Documentation,FAB-17043,43273,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,11/Nov/19 10:49 PM,13/Jan/21 2:52 AM,28/Oct/23 3:09 AM,13/Jan/21 2:52 AM,v2.0.0,,,,,,,,,fabric-docs,,,,,0,,,,,Add an overview of a performance measurement strategy and point to https://hyperledger.github.io/caliper-benchmarks/content/fabric-performance/approach/,,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:65k",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/19 2:24 AM;pandrejko;On the doc work group call this morning we talked about how we could best do this:
 # Concepts, Tasks and Reference as framework. Useful concept material can be in Fabric Docs.  Reference should refer  to Fabric Performance Site.  Thoughts required on Task material – i.e. how to use.
 # Wait for 2.0 and RAFT to document work as best advise.
 # Q1 timeframe for new Performance topic.;;;","13/Jan/21 2:52 AM;pandrejko;The Caliper documentation now includes a [Fabric tutorial |{color:#000000}[https://hyperledger.github.io/caliper/v0.4.2/fabric-tutorial/tutorials-fabric-existing/]{color}]for performance measurement.

Canceling this work item.;;;","13/Jan/21 2:52 AM;pandrejko;Covered by Caliper Fabric tutorial.;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"When chaincode defined with the new lifecycle are no longer defined in any channel, they should be stopped",FAB-17046,43277,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,12/Nov/19 1:32 AM,28/Jan/20 6:05 AM,28/Oct/23 3:09 AM,28/Jan/20 6:05 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"There is a state listener in the new lifecycle that tracks when chaincode is invocable (or not). Today, when a chaincode becomes invocable, we call the custodian to start it... A similar call needs to be made when a chaincode is no longer invocable to request the custodian to stop it.

The lifecycle cache already has a reference counted list of channel references to chaincode.

Acceptance:
1. Install chaincode with a name and package-ID ""A""
2. Define chaincode
3. Install chaincode with name and package-ID ""B""
4. Upgrade chaincode definition to ""B""
5. Observe that chaincode container for package-ID ""A"" is stopped.

This story applies to internal platform chaincode and externally built and launched chaincode.",,sykesm,wlahti,,,,,,,,,,,,,,,,,FAB-17372,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8zlr",,,,Unset,Unset,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-2.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Jan/20 12:30 AM;wlahti;master: [https://github.com/hyperledger/fabric/pull/508 |https://github.com/hyperledger/fabric/pull/508](merged)

release-2.0: [https://github.com/hyperledger/fabric/pull/545 |https://github.com/hyperledger/fabric/pull/545](awaiting review);;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RuntimeLauncher needs to be extended to support Stopping or disconnecting from chaincode,FAB-17047,43278,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,12/Nov/19 1:36 AM,27/Jan/20 11:57 PM,28/Oct/23 3:09 AM,16/Jan/20 1:31 AM,v2.0.0,,,,,v2.0.0,,,,fabric-peer,,,,,0,ipm,,,,"Chaincode execution is currently managed through RuntimeLauncher. The launcher needs to be extended to include a ""Stop"" verb to properly disconnect from / shutdown running chaincode that is launched through the external/container/platform packages.",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13584,,,No,,Unset,No,,,"1|i00n2e:8zli",,,,Unset,Unset,,(Please add steps to reproduce),3.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,release-2.0,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jan/20 12:51 AM;wlahti;[https://github.com/hyperledger/fabric/pull/499];;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move k8s networkspec files into operator/testdata,FAB-17048,43279,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,12/Nov/19 3:35 AM,12/Jun/20 12:31 AM,28/Oct/23 3:09 AM,28/Nov/19 12:03 AM,v1.4.4,,,,,,,,,fabric-quality,,,,,0,,,,,"Existing network spec files are placed in k8s_testsuite directory but after operator ginkgo based framework is ready it's better to keep k8s test suite/networkspecfiles in operator/testdata directory for less maintenance of these files.

 

Also move the operator.sh script to operator/script directory and rename networkspec yaml files.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfo:g",,,,Unset,Unset,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/19 12:48 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34444/]

https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34452/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Relocate orderer specific nwo functions to the consuming suite,FAB-17049,43280,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,12/Nov/19 3:42 AM,16/Nov/19 5:15 AM,28/Oct/23 3:09 AM,16/Nov/19 5:15 AM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,,0,ipm,,,,"AddConsenter, RemoveConsenter, and UpdateEtcdRaftMetadata are only used in the raft test suite. These functions do not appear to be generally useful across domains and, as such, should be moved to the suites.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zm",,,,Unset,Unset,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 5:01 AM;sykesm;https://gerrit.hyperledger.org/r/c/fabric/+/34335 Relocate raft config specific helpers to raft tests
;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix private key name to read dynamically in operator,FAB-17050,43281,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,suryalnvs,suryalnvs,12/Nov/19 3:45 AM,12/Nov/19 10:59 PM,28/Oct/23 3:09 AM,12/Nov/19 10:59 PM,,,,,,,,,,fabric-quality,,,,,0,,,,,Fix private key name to read dynamically in operator,,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i00uze:rzczqzxyzri",,,,Unset,Unset,In Progress,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),suryalnvs,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/19 10:59 PM;suryalnvs;https://gerrit.hyperledger.org/r/#/c/fabric-test/+/34326/;;;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
