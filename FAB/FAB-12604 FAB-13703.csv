Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Fix Version/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Description,Environment,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Watchers,Log Work,Original Estimate,Remaining Estimate,Time Spent,Work Ratio,Σ Original Estimate,Σ Remaining Estimate,Σ Time Spent,Security Level,Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Inward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Outward issue link (Blocks),Inward issue link (Cloners),Inward issue link (Cloners),Outward issue link (Cloners),Inward issue link (Duplicate),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Issue split),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Inward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Outward issue link (Relates),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Authorized Watchers),Custom field (Business Value),Custom field (Commit Levels),Custom field (Current Status),Custom field (Design),Custom field (Design Status),Custom field (Documentation Impact),Custom field (Documentation Status),Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Executed),Custom field (Found in Commit),Custom field (Function Test Status),Custom field (Must Fix),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Custom field (Release Note),Custom field (Release Note Required),Custom field (Root Cause Analysis),Custom field (SDK Impact),Custom field (Sample/Tutorial),Sprint,Sprint,Custom field (Steps to Reproduce),Custom field (Story Points),Custom field (System Test Impact),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (Team),Custom field (Test Plan),Custom field (Test Result),Custom field (Test Result Details),Custom field (Test Type),Custom field (Triaged),Custom field (Usage),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Watchers),Custom field (Workaround),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitBranch),Custom field (gitCommitsReferenced),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
The EncoderConfig used by fabenc does not populate all of the required encoders,FAB-12604,34885,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,25/Oct/18 10:59 PM,19/Nov/18 1:56 PM,28/Oct/23 3:04 AM,19/Nov/18 1:56 PM,,,,,,v1.4.0,,,,,,,,0,,,,"These are all required to get proper formatting of fields:

{{code}}
	EncodeTime     TimeEncoder     `json:""timeEncoder"" yaml:""timeEncoder""`
	EncodeDuration DurationEncoder `json:""durationEncoder"" yaml:""durationEncoder""`
{{code}}

The key fields, however, must remain omitted because of how the formatters work.

We need to add the required formatters and a comment about why it's structured the way it is.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwb3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 1:56 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27195/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Chaincode instantiate request requires a chaincode type, but does not use it",FAB-12606,30010,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,mastersingh24,varadatibm,varadatibm,08/May/18 1:46 AM,03/Dec/18 2:42 PM,28/Oct/23 3:04 AM,03/Dec/18 2:42 PM,,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"Currently in order to use NodeJS chaincode, the client need to pass the chaincodeType to install and instantiate.

I don't think it is optimal to ask the user to pass it in both calls... (user could possibly say NodeJS during install and during instantiate he could pass golang, by accident and there is not a lot of ways we can tell the user that this is not right)

 

Ideally, we could get the chaincode type during install...and use that same type during instantiate without requiring user to pass the type during instantiate.",,denyeart,dshuffma,harrisob@us.ibm.com,mastersingh24,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/18 12:00 AM;dshuffma;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/16170/screenshot-1.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Unset,,,,,,,,,,,,"1|hzz91j:",,,,Unset,,,,,,Unset,,,,,,,,,,,denyeart,dshuffma,harrisob@us.ibm.com,mastersingh24,sstone1,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/May/18 1:49 AM;harrisob@us.ibm.com;This would help separate the two concepts ... the users of chaincode, who just what to get it running on their system and the creators who care about the programming model and what it takes to get it installed on a system.;;;","22/Oct/18 11:22 PM;sstone1;[~varadatibm] whilst the API looks like you need to send in a chaincode type, you don't need to - and it works just fine if you just specify the name and the version, for example this is how we create the instantiate transaction:

const instantiateRequest: Client.ChaincodeInstantiateUpgradeRequest = {
            chaincodeId: name,
            chaincodeVersion: version,
            txId: transactionId,
            fcn: fcn,
            args: args
        };

As far as I know, the instantiate transaction uses the language that was specified in the install request.

Have you tried not specifying a chaincode type in the instantiate request and instantiating node chaincode?;;;","26/Oct/18 12:02 AM;dshuffma;[~sstone1] leaving chaincode type to null in the instantiate proposal will lead to this error:

{code:java}
""chaincode error (status: 500, message: Unknown chaincodeType: UNDEFINED)""
{code}

If you are using the fabric-sdk you are probably getting the default of ""golang"". SDK screen shot below:
 !screenshot-1.png|thumbnail! 

ie: the chaincode type is required in the so called ""ChaincodeDeploymentSpec"";;;","26/Oct/18 12:10 AM;sstone1;[~dshuffma] we are using the SDK, so it must be defaulting to ""golang""... but it still works and spins up Node.js chaincode ;-);;;","26/Oct/18 12:19 AM;sstone1;Bouncing this to the Fabric queue; it's not an SDK problem. It seems like:

1) The instantiate request to the LSCC requires a valid chaincode type; as above, UNDEFINED doesn't work.
2) The LSCC does not actually *seem* to use the chaincode type in determining what to do; as above, a value of GOLANG still successfully launches a NODE chaincode container if ""node"" was specified during chaincode install.

Someone needs to validate whether or not the instantiate request to the LSCC actually needs a chaincode type? If not, can it be removed from the protos? If so, why can't it just use the chaincode type specified at chaincode package/install time?

;;;","26/Oct/18 12:20 AM;sstone1;[~jyellick] [~sykesm] is this something you guys could take a look at please?;;;","26/Oct/18 12:48 AM;dshuffma;[~sstone1] aha, good to know.  mystery almost solved.;;;","29/Nov/18 6:56 AM;denyeart;[~muralisr] Do you have some historical context on this one?;;;","01/Dec/18 9:21 PM;mastersingh24;These are all leftovers from the old style of doing things pre v1.0.0 and we simply kept most of the proto structures intact when switching to the install / instantiate model.

This is definitely not a bug and I don't think we should do anything given we are *finally* going to update chaincode lifecycle *hopefully* in v2.0.0.;;;","02/Dec/18 1:02 AM;mastersingh24;[~sstone1] [~dshuffma]  - While instantiating with type Go works for Node, if you actually instantiated with Node and had Go it would fail I believe ... see https://github.com/hyperledger/fabric/blob/master/core/scc/lscc/lscc.go#L866

 ;;;","02/Dec/18 6:06 AM;mastersingh24;https://gerrit.hyperledger.org/r/27864  should handle this;;;",,,,,,,,,,,,,,
"Documentation uses ""deploy"", which no longer exists",FAB-12607,34888,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mcoblenz,mcoblenz,26/Oct/18 12:24 AM,29/Nov/18 8:23 AM,28/Oct/23 3:04 AM,29/Nov/18 8:23 AM,v1.3.0,,,,,,,,,fabric-docs,,,,0,,,,"On this page: [https://openblockchain.readthedocs.io/en/latest/Setup/Chaincode-setup/]

there are several references to deploying chaincode. In Fabric 1.3, it appears one needs some combination of ""install"" and ""instantiate"". The documentation should be updated accordingly.",,denyeart,mcoblenz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwbj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mcoblenz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/18 11:48 AM;denyeart;openblockchain is a very outdated and dead doc.  [~ChristopherFerris] Can the old doc be removed now?  Do you have access to do it?;;;","02/Nov/18 11:51 AM;mcoblenz;openblockchain is the second result from a google search for ""fabric java chaincode"", and the first is to the Git repository. Where is the revised documentation?;;;","02/Nov/18 12:19 PM;denyeart;Latest doc can be found at: https://hyperledger-fabric.readthedocs.io/en/release-1.3/;;;",,,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts in fabric-samples (release-1.2),FAB-12608,34889,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,26/Oct/18 12:39 AM,03/Nov/18 12:08 AM,28/Oct/23 3:04 AM,03/Nov/18 12:08 AM,,,,,,,,,,,,,,0,,,,Update pipeline scripts in fabric-samples (release-1.2),,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxenz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Change all logger registrations from the older / separator to dots,FAB-12610,34892,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,26/Oct/18 1:43 AM,30/Oct/18 11:37 PM,28/Oct/23 3:04 AM,30/Oct/18 11:37 PM,,,,,,,,,,,,,,0,,,,,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwc7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/18 1:10 AM;wlahti;https://gerrit.hyperledger.org/r/c/27257/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Introduce custom Check method in core and LevelEnabler returns the lowest active log level,FAB-12611,34893,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,26/Oct/18 2:10 AM,02/Nov/18 6:02 AM,28/Oct/23 3:04 AM,02/Nov/18 6:02 AM,,,,,,,,,,,,,,0,,,,"The existing code associates a level enabler with each logger and assumes the logger names never change. This assumption doesn't really hold when we start creating named loggers with parents.

As such, we want the LevelEnabler returned by ModuleLevels to use the most detailed level as the fast check and we want a custom core implementation to do a detailed check based on the logger name in the zapcore.Entry.",,inatatsu,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),inatatsu,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 12:52 AM;wlahti;https://gerrit.hyperledger.org/r/c/27273/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Find and adjust all callers of viper.GetString(""logging.level"") and friends",FAB-12612,34894,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,26/Oct/18 2:22 AM,01/Nov/18 12:17 AM,28/Oct/23 3:04 AM,01/Nov/18 12:17 AM,,,,,,,,,,,,,,0,,,,For example: peer/common/ordererenv.go,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwcn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 3:50 AM;wlahti;https://gerrit.hyperledger.org/r/c/27276/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Data race in tx simulator checks for ""done""",FAB-12613,34895,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,26/Oct/18 6:00 AM,17/Jan/19 12:25 AM,28/Oct/23 3:04 AM,17/Jan/19 12:25 AM,,,,,,,,,,fabric-ledger,fabric-peer,,,0,,,,"If I disable the debug level logging in the chaincode package, {{TestQueries}} fails with races ^1.
{code:java}
==================
WARNING: DATA RACE
Write at 0x00c0032338f0 by goroutine 16:
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).done.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:289 +0x67
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:294 +0x78
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).Done()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:101 +0xda
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedTxSimulator).Done()
      <autogenerated>:1 +0x43
  github.com/hyperledger/fabric/core/chaincode.endTxSimulation()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:272 +0x67
  github.com/hyperledger/fabric/core/chaincode.endTxSimulationCIS()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:258 +0x266
  github.com/hyperledger/fabric/core/chaincode.invokeWithVersion.func1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:500 +0x18f
  github.com/hyperledger/fabric/core/chaincode.invokeWithVersion()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:524 +0x788
  github.com/hyperledger/fabric/core/chaincode.invoke()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:478 +0xef
  github.com/hyperledger/fabric/core/chaincode.TestQueries()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:1075 +0x167d
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:130 +0xa00
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage.(*fileStorage).List()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/storage/file_storage.go:458 +0x279
...
  github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.OpenFile()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:219 +0xa5
  github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).Open()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:78 +0x1bb
  github.com/hyperledger/fabric/core/ledger/kvledger.openIDStore()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:263 +0x24e

Previous read at 0x00c0032338f0 by goroutine 108:
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).checkDone()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:316 +0x47
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*queryHelper).getStateRangeScanIterator()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/helper.go:76 +0x50
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedQueryExecutor).GetStateRangeScanIterator()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_query_executer.go:46 +0xa9
  github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.(*lockBasedTxSimulator).GetStateRangeScanIterator()
      <autogenerated>:1 +0xa2
  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:672 +0xc3b
  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleGetStateByRange-fm()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:210 +0x59
  github.com/hyperledger/fabric/core/chaincode.(*Handler).HandleTransaction()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:257 +0xabb

Goroutine 16 (running) created at:
  testing.(*T).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:878 +0x650
  testing.runTests.func1()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1119 +0xa8
  testing.tRunner()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:827 +0x162
  testing.runTests()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1117 +0x4ee
  testing.(*M).Run()
      /usr/local/Cellar/go/1.11.1/libexec/src/testing/testing.go:1034 +0x2ee
  github.com/hyperledger/fabric/core/chaincode.TestMain()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/exectransaction_test.go:1402 +0x11c
  main.main()
      _testmain.go:82 +0x221

Goroutine 108 (finished) created at:
  github.com/hyperledger/fabric/core/chaincode.(*Handler).handleMessageReadyState()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:210 +0x403
  github.com/hyperledger/fabric/core/chaincode.(*Handler).handleMessage()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:179 +0x22c
  github.com/hyperledger/fabric/core/chaincode.(*Handler).ProcessStream()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/handler.go:416 +0x655
  github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).HandleChaincodeStream()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:182 +0x6d5
  github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Register()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:187 +0x74
  github.com/hyperledger/fabric/protos/peer._ChaincodeSupport_Register_Handler()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/peer/chaincode_shim.pb.go:1066 +0xcd
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1124 +0x11e0
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1212 +0x1318
  github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1()
      /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686 +0xac
==================
{code}
In this test, grpc server is started to host the ChaincodeSupport server. A GetStateByRange query is executed that holds an iterator open. The chaincode then sleeps and the execute timeout occurs on the peer side and the caller invoking the chaincode gets control (with an async error) while the query continues to execute. Later, the chaincode wakes up and calls Next on the iterator.

Between the two, the simulator is checked for ""done"" during GetStateByRange on one go routine and it's closed on the invoker side in a separate go routine. There is no serialization on the simulator.

1: the extra logging seems to force some write barrier that's preventing the race from getting flagged.",,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11967,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwcv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 11:43 AM;manish-sethi;A txsimulator is not designed for concurrent access. As the primary purpose this serves is to allow a transaction simulation, which is a linear execution by nature. Any special cases such as chaincode timeouts are best handled by an external synchronization. Just for this special case making `done` only synchronized would cause confusion in the ledger code. [~sykesm] - is it difficult synchronizing between the chaincode call and the timeout handler call?;;;","17/Jan/19 12:25 AM;sykesm;> is it difficult synchronizing between the chaincode call and the timeout handler call?
Yes. Saying that something can only be accessed from one go routine necessarily means you can't asynchronously cancel it.

I'm closing this issue for now as I will be taking no action and it's apparently not causing any pain.;;;",,,,,,,,,,,,,,,,,,,,,,,
Improve Chaincode’s MockStub: MockPeerChaincode receives channel name for CC2CC on other channel,FAB-12614,34896,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yuki-kon,yuki-kon,yuki-kon,26/Oct/18 6:37 AM,08/Mar/19 7:11 PM,28/Oct/23 3:04 AM,08/Mar/19 7:11 PM,v1.3.0,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"In Chaincode’s MockStub, MockPeerChaincode should receive channel name as an additional parameter for CC2CC on other channel.

h2. Issue
Chaincode’s MockStub has an API “InvokeChaincode”, which is used for unit tests invoking another chaincode.
This function regards chaincodeName as a composite name internally: chaincodeName = chaincodeName + ""/"" + channel.

{noformat}
func (stub *MockStub) InvokeChaincode(chaincodeName string, args [][]byte, channel string) pb.Response {
                // Internally we use chaincode name as a composite name
                if channel != """" {
                                chaincodeName = chaincodeName + ""/"" + channel
                }
                otherStub := stub.Invokables[chaincodeName]
                res := otherStub.MockInvoke(stub.TxID, args)
                return res
}
{noformat}

Before calling another chaincode from “InvokeChaincode”, it is required to register another MockStub by calling “MockPeerChaincode”.
This function assumes to get invokableChaincodeName as a composite name according to the internal rule described above.
{noformat}
func (stub *MockStub) MockPeerChaincode(invokableChaincodeName string, otherStub *MockStub) {
                stub.Invokables[invokableChaincodeName] = otherStub
}
{noformat}

When a chaincode invokes a chaincode on another channel, developers have to use a composite name following the rule manually.
In addition, the rule is not described in API usage.
{noformat}
stub.MockPeerChaincode(""othercc/mychan"", stub2)
{noformat}

h2. Proposal
To improve usability, “MockPeerChaincode” should receive channel name as a parameter.
In addition, we need to update chaincode samples invoking another chaincode to follow the change.
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwd3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Oct/18 11:46 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/27215/;;;",,,,,,,,,,,,,,,,,,,,,,,,
fix fabric-common module name,FAB-12615,34898,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,26/Oct/18 7:15 AM,26/Oct/18 8:18 AM,28/Oct/23 3:04 AM,26/Oct/18 8:18 AM,,,,,,,,,,,,,,0,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxenr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Oct/18 8:18 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27210/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Support TLS in dev mode,FAB-12616,34900,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,kutenglaoshu,kutenglaoshu,kutenglaoshu,26/Oct/18 11:25 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"The purpose is to generate TLS certificates for chaincode on local machine, in orderer to g{color:#172b4d}enerate chaincode tls certs, need to set chaincode name and version, but how, the easy way is to set in core.yaml. If we put chaincode in different machine, we need to set TLS, just for safety.{color}",,guoger,kutenglaoshu,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwdj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kutenglaoshu,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 12:31 PM;guoger;why is TLS necessary *in dev mode*, please elaborate in the description.;;;","31/Oct/18 10:16 PM;mastersingh24;Still do not understand the issue here;;;","04/Nov/18 10:51 PM;mastersingh24;It seems that there's going to be some type of ""exception"" path for dev mode regardless of supporting TLS or not.  So not sure it makes sense to add TLS support (what purpose does it serve) without taking a wholistic look at improving dev mode if that' the real goal?

 ;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts - fabric-sdk-node,FAB-12617,34901,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,26/Oct/18 12:21 PM,22/Jan/19 11:58 PM,28/Oct/23 3:04 AM,22/Jan/19 11:58 PM,,,,,,,,,,,,,,0,,,,"Update fabric-sdk-node pipeline scripts.
 * add timeouts
 * Update publish API docs",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxenj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jan/19 11:58 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/q/FAB-12617;;;",,,,,,,,,,,,,,,,,,,,,,,,
fabric samples first-network always give the warning ,FAB-12618,34902,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,bjzhang03,bjzhang03,bjzhang03,26/Oct/18 12:53 PM,04/Sep/19 11:31 AM,28/Oct/23 3:04 AM,04/Sep/19 11:31 AM,,,,,,,,,,fabric-tools,,,,0,,,,"when I use the fabric sample first network,it always tell the warning,when I join an another org into the current network,so I solved this problem.

on the other hand it always tell me that donot provide the channelid,so I want to solve the problem",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10407,,,,,,,,"26/Oct/18 3:45 PM;bjzhang03;add_org_warn.png;https://jira.hyperledger.org/secure/attachment/16173/add_org_warn.png","26/Oct/18 3:45 PM;bjzhang03;gen_genesis_warn.png;https://jira.hyperledger.org/secure/attachment/16174/gen_genesis_warn.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwdr:",,,,Unset,Unset,,,"just run the ./byfn.sh up,and will get the warning",,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 6:34 AM;jyellick;I just checked this against the latest version of first-network and it appears to be gone.  Can you supply any additional recreate info, such as the versions you are running?;;;",,,,,,,,,,,,,,,,,,,,,,,,
Prepare for chaincode-node publish,FAB-12619,34903,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,davidkel,davidkel,davidkel,26/Oct/18 3:57 PM,31/Oct/18 4:34 PM,28/Oct/23 3:04 AM,31/Oct/18 4:34 PM,v1.1.3,v1.2.0,v1.3.0,,,,,,,,,,,0,,,,,,davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkel,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 4:34 PM;davidkel;release-1.1
https://gerrit.hyperledger.org/r/#/c/27218/

release-1.2
https://gerrit.hyperledger.org/r/#/c/27219/

release-1.3
https://gerrit.hyperledger.org/r/#/c/27220/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"OU support for orderers: As a Fabric deployer or administrator, I want to specify an OU to identify ordering service nodes",FAB-12620,34904,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,elli-androulaki,elli-androulaki,26/Oct/18 4:10 PM,14/Oct/19 7:43 PM,28/Oct/23 3:04 AM,21/Aug/19 2:48 AM,,,,,,v1.4.3,v2.0.0,,,fabric-crypto,,,,0,,,,"This item requires extending the MSP configuration to accept an OU specification for orderers in the system. So far, we offer this configuration ability only for peers and clients.",,denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15388,,,,,,,,,,,,,,FAB-16357,FAB-16796,FAB-16783,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8792,,,No,,Unset,No,,,"1|hzzwe7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,elli-androulaki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jul/19 7:40 PM;denyeart;master https://gerrit.hyperledger.org/r/#/c/fabric/+/32186/;;;",,,,,,,,,,,,,,,,,,,,,,,,
configtxlator needs to support CORS,FAB-12621,34917,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,varadatibm,varadatibm,26/Oct/18 10:29 PM,20/Nov/18 1:32 AM,28/Oct/23 3:04 AM,20/Nov/18 1:32 AM,,,,,,v1.4.0,,,,fabric-tools,,,,0,,,,"We need to use configtxlator from a web browser... and configtxlator runs from a different domain than the UI...

 

We need to be able to setup configtxlator with CORS to allow 
 # specific the application domain
 # allow wildcard domains",,dshuffma,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Oct/18 10:37 PM;dshuffma;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/16177/screenshot-1.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwgf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dshuffma,varadatibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Oct/18 10:37 PM;dshuffma;fyi its a simple change.  in my testing we only need to touch these 3 lines:

 !screenshot-1.png|thumbnail! 

and imported 

{code:java}
""github.com/gorilla/handlers""
{code};;;",,,,,,,,,,,,,,,,,,,,,,,,
Failure to instantiate chaincodes on channels,FAB-12622,34918,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Invalid: Environment Issue,chris.elder,GeorgeXie2018,GeorgeXie2018,26/Oct/18 10:48 PM,16/Jun/19 2:15 AM,28/Oct/23 3:04 AM,16/Jun/19 2:15 AM,,,,,,Not a Bug,,,,fabric-crypto,,,,0,,,,This pertains to Hyperledger Fabric 1.2 and 1.3. The app run very well on HLF1.1. After updating to 1.2.1 or 1.3.0 with HLF first-network sample configtx.yaml. It fails at chanincode instantiation.,,chris.elder,GeorgeXie2018,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 5:09 AM;GeorgeXie2018;errors.zip;https://jira.hyperledger.org/secure/attachment/16220/errors.zip",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwgn:",,,,Unset,Unset,,,"Steps to reproduce
1. Generate artifacts by running generate-artifacts.sh attached
2. Startup local network with docker-compose.yaml attached
3. Startup the CLI
4. Run the channel-config.sh attached
5. Query the chaincode instantiated: peer chaincode list --instantiated -C  csd",,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,GeorgeXie2018,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/18 11:42 PM;chris.elder;channel-config.sh is not attached to the Jira item.

This will be necessary to reproduce.;;;","31/Oct/18 12:29 AM;Clayton Sims;Chris I assume you will need logs?

 ;;;","31/Oct/18 1:03 AM;chris.elder;Attaching logs from the orderer and peers would help speed up diagnostics.

I am attempting to recreate locally. 

On my first attempt, the orderer and peers fail to start successfully.  It looks like a credentials issue, but it may be a mistake in my environment.;;;","02/Nov/18 12:43 AM;GeorgeXie2018;Attached channel-config.sh and orderer/peer logs.;;;","02/Nov/18 12:47 AM;GeorgeXie2018;While testing from my side, I am able to see all orderer, org peer, org ca, and org db are started successfully. It fails at chaincode instantiation;;;","02/Nov/18 11:26 PM;chris.elder;I see this entry in the bank1-peer log:
2018-11-01 15:20:00.700 UTC [blocksProvider] DeliverBlocks -> ERRO 057 [csd] Got error &\{FORBIDDEN}

This indicates that the peer does not have permission to deliver blocks.

This entry appears in the orderer log:

2018-11-01 15:27:08.870 UTC [cauthdsl] func2 -> DEBU 375b 0xc42000e7e8 identity 0 does not satisfy principal: The identity is not a [CLIENT] under this MSP [csdMSP]: NodeOUs not activated. Cannot tell apart identities.

I believe that the generated crypto does not contain the appropriate organizational identifiers.  See the doc here for details:

[https://hyperledger-fabric.readthedocs.io/en/release-1.3/msp.html#identity-classification]

The solution may be as simple as adding EnableNodeOUs to the cryto-config.yaml for each of the domains and regenerating the crypto.  Example shown for the domain csd.VotingProxy.com:

PeerOrgs:
 - Name: csd
 Domain: csd.VotingProxy.com
 EnableNodeOUs: true
 Template:
 Count: 1
 Users:
 Count: 1

 ;;;","03/Nov/18 5:52 AM;GeorgeXie2018;Attached the logs sent by Vitaly;;;","16/Jun/19 2:15 AM;mastersingh24;I'm pretty sure this was a config issue so closing;;;","16/Jun/19 2:15 AM;mastersingh24;user config error;;;",,,,,,,,,,,,,,,,
Incorrect number of INVOKE transactions in fabric-test-daily-pte-master-x86_64 job,FAB-12623,34920,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,26/Oct/18 11:50 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Nov/18 11:42 PM,v1.3.0,,,,,v1.3.0,,,,fabric-quality,,,,0,ci-failure,,,"AssertionError: incorrect number of INVOKE transactions sent or received

Test case: test_FAB7329_4i
{code:java}
/systest_pte.Perf_Stress_LevelDB.test_FAB7329_4i_channel_events (from pytest)/ code placeholder
AssertionError: Error: incorrect number of INVOKE transactions sent or received

#x1B[31merror#x1B[39m: [PTE 0 main]: [chaincodeInstantiate] Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
#x1B[31merror#x1B[39m: [PTE 0 main]: [chaincodeInstantiate(Nid=0)] Failed to instantiate transaction on testorgschannel1 due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
    at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:710:23
    at <anonymous>

{code}
*Build log:* 

[https://jenkins.hyperledger.org/view/Daily/job/fabric-test-daily-pte-master-x86_64/66/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7329_4i_channel_events/]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/66/]

 ",,dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a980c8f659051280c4e71f92fc6808ccff49e5d1,Unset,No,,,"1|hzzwh3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Nov/18 11:42 PM;vijaypunugubati;Test is working as expected;;;",,,,,,,,,,,,,,,,,,,,,,,,
Show container status when a container fails to start successfully,FAB-12624,34922,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,27/Oct/18 1:06 AM,20/Dec/18 7:11 AM,28/Oct/23 3:04 AM,20/Dec/18 7:11 AM,,,,,,,,,,,,,,0,,,,"There are some intermittent timing failures in CI when starting kafka and chaincode containers. When this occurs, it would help in the debugging process to see what containers are running.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"./runPTE.sh failed:    error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: chaincode error (status: 500, message: Error installing chaincode code ... chaincodes/sample_cc_ch1.v0 exists))",FAB-12625,34923,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,dongming,nileshdeotale,nileshdeotale,27/Oct/18 1:11 AM,06/Nov/18 7:26 AM,28/Oct/23 3:04 AM,06/Nov/18 7:26 AM,v1.1.0,v1.2.0,,,,,,,,fabric-tools,,,,0,,,," 

 

 

/runPTE.sh --dir connectionprofile -t FAB-3808-2i

....

....

....

 

PTE@1.0.0 /Users/nileshdeotale/helper-repos/fabric-test-12/tools/PTE

├─┬ fabric-ca-client@1.2.0

└─┬ fabric-client@1.2.0

 

          *****************************************************************************

          *                       connection profile conversion                       *

          *****************************************************************************

 

Error: cannot find adminPrivateKey in org key org1 in connection profile

[cProfConversion] Error: failed to execute: node convert.js

 

USAGE: ./runPTE.sh [options] [values]

 

-h, --help View this help message

 

--no-npm skip npm re-install fabric-client packages

 

--dir absolute path or relative path from .../fabric-test/tools/networktest/ to the directory that contains the network connection profiles to be converted

 (Default: ./connectionprofile/)

 

--channel <channel name>

 (Must match channel name in connection profile. Default: defaultchannel)

 

--org <list of org names>

 (Must match org names in connection profile. Default: org1 org2)

 

-t, --testcase <list of testcases>

 

-s, --sanity execute a sanity test of 2 predefined testcases: FAB-3808-2i FAB-3811-2q (~30 min)

 

-a, --all execute all predefined testcases (~3.5 hrs)

 

Examples:

./runPTE.sh --dir connectionprofile -t FAB-3808-2i FAB-3811-2q

./runPTE.sh -s

./runPTE.sh -a

 

Available predefined testcases: FAB-3808-2i FAB-3811-2q FAB-3807-4i FAB-3835-4q FAB-4038-2i FAB-4036-2q FAB-7329-4i FAB-7333-4i

For more details, refer to jira or ../PTE/CITest/.

 

Notes:

All the listed testcases require only one channel and 2 orgs.

Use options --channel and --org only if your connection profile uses something other than defaultchannel and org1 and org2.

To run additional predefined testcases, or custom testcases, that are not listed here, use care to join peers to all the correct channels as used by the testcases.

 

The tool installs/instantiates chaincode every time, so you may ignore these errors if the chaincode is already installed/instantiated:

 

    error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: chaincode error (status: 500, message: Error installing chaincode code ... chaincodes/sample_cc_ch1.v0 exists))

 

    error: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: 2 UNKNOWN: chaincode error (status: 500, message: chaincode exists sample_cc_ch1)

 

Nileshs-MacBook-Pro:networktest nileshdeotale$",,dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzwhr:",,,,Unset,Unset,,,"1. Create a stater network v1.2
2. Download connection profile and save it to tools/networktest/connectionprofile directory
3. ./runPTE.sh --dir connectionprofile -t FAB-3808-2i",,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"27/Oct/18 2:42 AM;dongming;This is caused by missing adminPrivateKey in the connection profile.;;;","30/Oct/18 6:17 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27263/;;;",,,,,,,,,,,,,,,,,,,,,,,
Fix couchdb_test.go debug,FAB-12626,34924,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,denyeart,denyeart,denyeart,27/Oct/18 3:15 AM,27/Oct/18 6:59 AM,28/Oct/23 3:04 AM,27/Oct/18 6:59 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Oct/18 3:17 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27230/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Confusion around the number of transaction files per channel,FAB-12627,34925,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,pandrejko,pandrejko,pandrejko,27/Oct/18 4:13 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,,,,,,,,,,,,,,0,stale-item,,,"The answer is there is no limit.

 

The transaction file limitation by default is 64Mbyte. And the file name is like: blockfile_XXXXXX (it starts 000000 and probably ends with 999999). So  it would see m that the transaction log limitation is 64Mbyte x 999999 = 61Tbyte and  we are limited to 1 million of these files, but in fact  it is not the case at all.  
See: https://play.golang.org/p/3084Se2oTyf
The zero padding  on the filename is simply to make the files ordered when viewing on file system, it is not a limit.
There have been enough questions and incorrect assumptions in this area, that it is worth documenting in the ledger topic.

 

Other suggested locations would be to
 * create an FAQ around transactions and include this.
 * add a sentence in the Blockchain network key concept indicating that there is no limit to the number of transaction files.
 * Update ledger architecture topic
 * Add sentence to new transaction key concept topic.

 ",,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
./runPTE.sh failed -  E1026 14:32:27.058292607   28985 ssl_transport_security.cc:989] Handshake failed with fatal error SSL_ERROR_SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca.,FAB-12628,34926,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,dongming,nileshdeotale,nileshdeotale,27/Oct/18 4:32 AM,30/Oct/18 6:08 AM,28/Oct/23 3:04 AM,30/Oct/18 6:08 AM,,,,,,,,,,fabric-tools,,,,0,,,,"```clc@clc-ThinkPad-T470p:~/Workplace/Lab/fabric-test/tools/networktest$  ./runPTE.sh --dir connectionprofile -t FAB-3808-2i```clc@clc-ThinkPad-T470p:~/Workplace/Lab/fabric-test/tools/networktest$  ./runPTE.sh --dir connectionprofile -t FAB-3808-2i - Specify ConnProfDir: connectionprofile
 - Specify TestCases: FAB-3808-2i[./runPTE.sh] starts at Fri Oct 26 14:31:49 EDT 2018
test setupCWD: /home/clc/Workplace/Lab/fabric-test/tools/networktestPTEDir: /home/clc/Workplace/Lab/fabric-test/tools/networktest/../PTELOGSDir: /home/clc/Workplace/Lab/fabric-test/tools/networktest/Logsnpm installation: yesTestCases: FAB-3808-2ichaincode installation/instantiation: yesconnection profile dir: connectionprofileuse default channel: defaultchanneluse default org list: org1 org2Channel: defaultchannelOrganizations: org1 org2
          *****************************************************************************          *                              NPM installation                             *          *****************************************************************************

> dtrace-provider@0.8.7 install /home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/dtrace-provider> node-gyp rebuild || node suppress-error.js
make: Entering directory '/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/dtrace-provider/build'  TOUCH Release/obj.target/DTraceProviderStub.stampmake: Leaving directory '/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/dtrace-provider/build'
> pkcs11js@1.0.16 install /home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/pkcs11js> node-gyp rebuild
make: Entering directory '/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/pkcs11js/build'  CXX(target) Release/obj.target/pkcs11/src/main.o  CXX(target) Release/obj.target/pkcs11/src/dl.o  CXX(target) Release/obj.target/pkcs11/src/const.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/error.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/v8_convert.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/template.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/mech.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_aes.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_rsa.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_ecdh.o  CXX(target) Release/obj.target/pkcs11/src/pkcs11/pkcs11.o  CXX(target) Release/obj.target/pkcs11/src/async.o  CXX(target) Release/obj.target/pkcs11/src/node.o  SOLINK_MODULE(target) Release/obj.target/pkcs11.node  COPY Release/pkcs11.nodemake: Leaving directory '/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/pkcs11js/build'
> grpc@1.10.1 install /home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/grpc> node-pre-gyp install --fallback-to-build --library=static_library
[grpc] Success: ""/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/grpc/src/node/extension_binary/node-v57-linux-x64-glibc/grpc_node.node"" is installed via remotenpm notice created a lockfile as package-lock.json. You should commit this file.npm WARN PTE@1.0.0 No repository field.
added 310 packages from 319 contributors and audited 786 packages in 34.98sfound 2 vulnerabilities (1 low, 1 moderate)  run `npm audit fix` to fix them, or `npm audit` for detailsPTE@1.0.0 /home/clc/Workplace/Lab/fabric-test/tools/PTE├─┬ fabric-ca-client@1.2.0└─┬ fabric-client@1.2.0
          *****************************************************************************          *                       connection profile conversion                       *          *****************************************************************************
Successfully wrote PTE configuration file to /home/clc/Workplace/Lab/fabric-test/tools/PTE/cprof-convert/pte-config.json[testPreProc] executes test pre-process: testcase FAB-3808-2i, chaincode samplecc[testPreProc] replace testorgschannel1 with defaultchannel[testPreProc] replace org1 with org1[testPreProc] replace org2 with org2[ccProc] executes test chaincode process: FAB-3808-2i samplecc[ccProc] ./pte_driver.sh CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-install-TLS.txt./pte_driver.sh inFile= CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-install-TLS.txt, tStart=0 iPTE=0 sdk type supported: sdk=nodesdk type supported: sdk=nodeNode Array: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install1-TLS.json CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install2-TLS.jsonexecuting 2 node requestsiPTE: 0, nInstances: 2, tStart: 1540578763480execution: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install1-TLS.jsonexecution: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install2-TLS.jsonno python requestsno java requestsinfo: [PTE 0 main]: input parameters: Nid=1, uiFile=CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install2-TLS.json, tStart=1540578763480 PTEid=0info: [PTE 0 util]: [setTLS] TLSin: ENABLED, TLS: 1info: [PTE 0 main]: [Nid=1 pte-main] TLS= 1info: [PTE 0 main]: channelName: defaultchannelinfo: [PTE 0 main]: channelOrgName.length: 1, channelOrgName: org2info: [PTE 0 main]: svcFile;  CITest/CISCFiles/config-chan1-TLS.jsoninfo: [PTE 0 main]: GOPATH: info: [PTE 0 main]: main - cfgTimeout: 200000info: [PTE 0 main]: [performance_main] org= org2, org Name= org2info: [PTE 0 main]: chaincode language: golang, path: github.com/hyperledger/fabric-test/chaincodes/samplecc/goinfo: [PTE 0 main]: [performance_main] Deploy: user= admin, secret= f6b6c99a9binfo: [PTE 0 util]:  >>>> getting the org admininfo: [PTE 0 main]: input parameters: Nid=0, uiFile=CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install1-TLS.json, tStart=1540578763480 PTEid=0info: [PTE 0 util]:  org2 admin_cert definedinfo: [PTE 0 util]: [setTLS] TLSin: ENABLED, TLS: 1info: [PTE 0 main]: [Nid=0 pte-main] TLS= 1info: [PTE 0 main]: channelName: defaultchannelinfo: [PTE 0 main]: channelOrgName.length: 1, channelOrgName: org1info: [PTE 0 main]: svcFile;  CITest/CISCFiles/config-chan1-TLS.jsoninfo: [PTE 0 main]: GOPATH: info: [PTE 0 main]: main - cfgTimeout: 200000info: [PTE 0 main]: [performance_main] org= org1, org Name= org1info: [PTE 0 main]: chaincode language: golang, path: github.com/hyperledger/fabric-test/chaincodes/samplecc/goinfo: [PTE 0 main]: [performance_main] Deploy: user= admin, secret= 918d039508info: [PTE 0 util]:  >>>> getting the org admininfo: [PTE 0 util]:  org1 admin_cert definedinfo: [PTE 0 main]: [performance_main:Nid=1] Successfully enrolled user 'admin'info: [PTE 0 main]: [chaincodeInstall] org: org2, org Name: org2, channel name: defaultchannelinfo: [PTE 0 main]: [chainAddOrderer] channel name:  defaultchannelinfo: [PTE 0 util]: [getTLSCert] key: orderer, subkey: ordererinfo: [PTE 0 main]: [performance_main:Nid=0] Successfully enrolled user 'admin'info: [PTE 0 main]: [chaincodeInstall] org: org1, org Name: org1, channel name: defaultchannelinfo: [PTE 0 main]: [chainAddOrderer] channel name:  defaultchannelinfo: [PTE 0 util]: [getTLSCert] key: orderer, subkey: ordererinfo: [PTE 0 main]: [channelAddPeer] channel name:  defaultchannelinfo: [PTE 0 util]: [getTLSCert] key: org1, subkey: org1-peer1info: [PTE 0 main]: [getCCID] Nid: 0, chaincode_id: sample_cc_ch1, chaincode_ver: v0info: [PTE 0 main]: [channelAddPeer] channel name:  defaultchannelinfo: [PTE 0 util]: [getTLSCert] key: org2, subkey: org2-peer1info: [PTE 0 main]: [getCCID] Nid: 1, chaincode_id: sample_cc_ch1, chaincode_ver: v0error: [PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (defaultchannel:org1) due to error:  message=Path must be a string. Received undefined, stack=TypeError: Path must be a string. Received undefined    at assertPath (path.js:28:11)    at Object.join (path.js:1236:7)    at GolangPackager.package (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/packager/Golang.js:34:22)    at /home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Packager.js:59:33    at new Promise (<anonymous>)    at Object.module.exports.package (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Packager.js:32:9)    at _getChaincodePackageData (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Client.js:1851:42)    at Client.installChaincode (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Client.js:1080:10)    at chaincodeInstall (/home/clc/Workplace/Lab/fabric-test/tools/PTE/pte-main.js:531:12)    at /home/clc/Workplace/Lab/fabric-test/tools/PTE/pte-main.js:1220:25error: [PTE 0 main]: [chaincodeInstall] Failed to install chaincode in (defaultchannel:org2) due to error:  message=Path must be a string. Received undefined, stack=TypeError: Path must be a string. Received undefined    at assertPath (path.js:28:11)    at Object.join (path.js:1236:7)    at GolangPackager.package (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/packager/Golang.js:34:22)    at /home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Packager.js:59:33    at new Promise (<anonymous>)    at Object.module.exports.package (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Packager.js:32:9)    at _getChaincodePackageData (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Client.js:1851:42)    at Client.installChaincode (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Client.js:1080:10)    at chaincodeInstall (/home/clc/Workplace/Lab/fabric-test/tools/PTE/pte-main.js:531:12)    at /home/clc/Workplace/Lab/fabric-test/tools/PTE/pte-main.js:1220:25[ccProc] instantiate chaincode: samplecc[ccProc] ./pte_driver.sh CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-instantiate-TLS.txt./pte_driver.sh inFile= CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-instantiate-TLS.txt, tStart=0 iPTE=0 sdk type supported: sdk=nodeNode Array: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-instantiate-TLS.jsonexecuting 1 node requestsiPTE: 0, nInstances: 1, tStart: 1540578760167execution: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-instantiate-TLS.jsonno python requestsno java requestsinfo: [PTE 0 main]: input parameters: Nid=0, uiFile=CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-instantiate-TLS.json, tStart=1540578760167 PTEid=0info: [PTE 0 util]: [setTLS] TLSin: ENABLED, TLS: 1info: [PTE 0 main]: [Nid=0 pte-main] TLS= 1info: [PTE 0 main]: channelName: defaultchannelinfo: [PTE 0 main]: channelOrgName.length: 1, channelOrgName: org1info: [PTE 0 main]: svcFile;  CITest/CISCFiles/config-chan1-TLS.jsoninfo: [PTE 0 main]: GOPATH: info: [PTE 0 main]: main - cfgTimeout: 200000info: [PTE 0 main]: [performance_main] org= org1, org Name= org1info: [PTE 0 main]: chaincode language: golang, path: github.com/hyperledger/fabric-test/chaincodes/samplecc/goinfo: [PTE 0 main]: [performance_main] instantiate: user= admin, secret= 918d039508info: [PTE 0 util]:  >>>> getting the org admininfo: [PTE 0 util]:  org1 admin_cert definedinfo: [PTE 0 main]: [performance_main:Nid=0] Successfully enrolled user 'admin'info: [PTE 0 main]: [chaincodeInstantiate] org= org1, org name=undefined, channel name=defaultchannelinfo: [PTE 0 main]: [chainAddOrderer] channel name:  defaultchannelinfo: [PTE 0 util]: [getTLSCert] key: orderer, subkey: ordererinfo: [PTE 0 main]: [channelAddPeer1] channel name: defaultchannel, org: org1info: [PTE 0 util]: [getTLSCert] key: org1, subkey: org1-peer1info: [PTE 0 main]: [chaincodeInstantiate:Nid=0] ready to initialize channel[defaultchannel]E1026 14:32:27.058221748   28985 ssl_transport_security.cc:188] ssl_info_callback: error occured.
E1026 14:32:27.058292607   28985 ssl_transport_security.cc:989] Handshake failed with fatal error SSL_ERROR_SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca.E1026 14:32:28.050291527   28985 ssl_transport_security.cc:188] ssl_info_callback: error occured.
E1026 14:32:28.050349492   28985 ssl_transport_security.cc:989] Handshake failed with fatal error SSL_ERROR_SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca.E1026 14:32:29.361334446   28985 ssl_transport_security.cc:188] ssl_info_callback: error occured.
E1026 14:32:29.361400914   28985 ssl_transport_security.cc:989] Handshake failed with fatal error SSL_ERROR_SSL: error:14094418:SSL routines:ssl3_read_bytes:tlsv1 alert unknown ca.error: [Remote.js]: Error: Failed to connect before the deadlineerror: [client-utils.js]: sendPeersProposal - Promise is rejected: Error: Failed to connect before the deadline    at checkState (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/grpc/src/client.js:838:16)error: [Channel.js]: getChannelConfig - Failed getting channel config. Error: Error: Failed to connect before the deadline    at checkState (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/grpc/src/client.js:838:16)error: [Channel.js]: Error: Failed to connect before the deadline    at checkState (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/grpc/src/client.js:838:16)error: [PTE 0 main]: [chaincodeInstantiate:Nid=0] Failed to initialize channel[defaultchannel] due to error:  Error: Error: Failed to connect before the deadline    at getChannelConfig.then.catch (/home/clc/Workplace/Lab/fabric-test/tools/PTE/node_modules/fabric-client/lib/Channel.js:356:27)    at <anonymous>    at process._tickCallback (internal/process/next_tick.js:189:7)
          *****************************************************************************          *                  executing priming: FAB-query-TLS/samplecc                            *          *****************************************************************************
[testPreProc] executes test pre-process: testcase FAB-query-TLS, chaincode samplecc[testPreProc] replace testorgschannel1 with defaultchannel[testPreProc] replace org1 with org1[testPreProc] replace org2 with org2[restoreCITestcase] restore testcase FAB-query-TLS
          *****************************************************************************          *                  executing testcase: FAB-3808-2i                            *          *****************************************************************************

 

 


```

 

Collapse JumpMark as read (esc)Message Input
Message @Dongming Hwang Mr
About this conversation
Dongming Hwang Mr dmingTime zone 3:30 PM local time",,dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzwi7:",,,,Unset,Unset,,,"(Please add steps to reproduce)
1. Create starter network
2. download connection profile 
3. add admin pvt keys 
4.  ./runPTE.sh --dir connectionprofile -t FAB-3808-2i`",,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/18 6:08 AM;dongming;Cluster does not update proxy setting.;;;",,,,,,,,,,,,,,,,,,,,,,,,
runPTE.sh -s always fails on Mac Darwin OS,FAB-12629,34927,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,nileshdeotale,nileshdeotale,27/Oct/18 4:43 AM,20/Nov/18 6:02 AM,28/Oct/23 3:04 AM,12/Nov/18 11:51 PM,v1.1.0,v1.2.0,,,,,,,,fabric-quality,,,,0,,,,"added 310 packages in 23.889s

PTE@1.0.0 /Users/nileshdeotale/helper-repos/fabric-test-12/tools/PTE

├─┬ fabric-ca-client@1.2.0

└─┬ fabric-client@1.2.0

 

          *****************************************************************************

          *                       connection profile conversion                       *

          *****************************************************************************

 

Successfully wrote PTE configuration file to /Users/nileshdeotale/helper-repos/fabric-test-12/tools/PTE/cprof-convert/pte-config.json

[testPreProc] executes test pre-process: testcase FAB-3808-2i, chaincode samplecc

[testPreProc] replace testorgschannel1 with defaultchannel

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/samp ..."": invalid command code C

[testPreProc] replace org1 with org1

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/samp ..."": invalid command code C

[testPreProc] replace org2 with org2

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3808-2i/samp ..."": invalid command code C

[ccProc] executes test chaincode process: FAB-3808-2i samplecc

[ccProc] ./pte_driver.sh CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-install-TLS.txt

./pte_driver.sh inFile= CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-install-TLS.txt, tStart=0 iPTE=0 

sdk type supported: sdk=node

sdk type supported: sdk=node

Node Array: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install1-TLS.json CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-install2-TLS.json

executing 2 node requests

./pte_driver.sh: line 75: 1540582667N: value too great for base (error token is ""1540582667N"")

no python requests

no java requests

[ccProc] instantiate chaincode: samplecc

[ccProc] ./pte_driver.sh CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-instantiate-TLS.txt

./pte_driver.sh inFile= CITest/FAB-3808-2i/preconfig/samplecc/runCases-samplecc-instantiate-TLS.txt, tStart=0 iPTE=0 

sdk type supported: sdk=node

Node Array: CITest/FAB-3808-2i/preconfig/samplecc/samplecc-chan1-instantiate-TLS.json

executing 1 node requests

./pte_driver.sh: line 75: 1540582667N: value too great for base (error token is ""1540582667N"")

no python requests

no java requests

 

          *****************************************************************************

          *                  executing priming: FAB-query-TLS/samplecc                            *

          *****************************************************************************

 

[testPreProc] executes test pre-process: testcase FAB-query-TLS, chaincode samplecc

[testPreProc] replace testorgschannel1 with defaultchannel

sed: 1: ""CITest/FAB-query-TLS/sa ..."": invalid command code C

[testPreProc] replace org1 with org1

sed: 1: ""CITest/FAB-query-TLS/sa ..."": invalid command code C

[testPreProc] replace org2 with org2

sed: 1: ""CITest/FAB-query-TLS/sa ..."": invalid command code C

[restoreCITestcase] restore testcase FAB-query-TLS

 

          *****************************************************************************

          *                  executing testcase: FAB-3808-2i                            *

          *****************************************************************************

 

[restoreCITestcase] restore testcase FAB-3808-2i

[testPreProc] executes test pre-process: testcase FAB-3811-2q, chaincode samplecc

[testPreProc] replace testorgschannel1 with defaultchannel

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/samp ..."": invalid command code C

[testPreProc] replace org1 with org1

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/samp ..."": invalid command code C

[testPreProc] replace org2 with org2

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/prec ..."": invalid command code C

sed: 1: ""CITest/FAB-3811-2q/samp ..."": invalid command code C

[ccProc] executes test chaincode process: FAB-3811-2q samplecc

[ccProc] samplecc was installed/instantiated

 

          *****************************************************************************

          *                  executing testcase: FAB-3811-2q                            *

          *****************************************************************************

 

[restoreCITestcase] restore testcase FAB-3811-2q

 

          *****************************************************************************

          *                              TEST COMPLETED                               *

          *****************************************************************************

 

 

          *****************************************************************************

          test logs dir: /Users/nileshdeotale/helper-repos/fabric-test-12/tools/networktest/Logs

          test results: /Users/nileshdeotale/helper-repos/fabric-test-12/tools/networktest/Logs/pteReport-20181026153720.log

          *****************************************************************************

 

[./runPTE.sh] ends at Fri Oct 26 15:37:47 EDT 2018

Nileshs-MacBook-Pro:networktest nileshdeotale$",,dongming,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzwif:",,,,Unset,Unset,,,"1. Create starter network
2. Download connection profile
3. Add admin pvt keys to connection profile
4. ./runPTE.sh -s on Mac Darwin machine.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.1,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.3,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"03/Nov/18 8:39 AM;scottz;To get our Linux commands using ""sed -i"" to work on platform mac OSX (FreeBSD),

we need to provide an extension parameter to the -i option.

Use ""-e"". It could serve as a file extension string on mac, while

on Linux (GNU) it will be interpreted differently but will end up 

producing the same result as we do today without the -e

(as long as we do only one thing within the command string).

On mac, it will create/overwrite a backup file with the extension ""-e"" 

before editing each file, e.g.:  chan1-create-TLS.json-e

Of course you can just ignore those backup files. Or afterwards do a ""rm *-e"".

So we must insert the -e after the -i. 

And, in case you want to rerun runPte.sh to rerun testcases without making too many

backups of backups, we could just remove the ""-e"" backups after the sed command. 

OR, we could restrict our filematching to only the json and txt files, by

appending ""[nt]"". In other words:

 

Edit runPte.sh (or any other scripts using ""sed -i""); replace lines like these:

    sed -i ""s/a/b/g"" *

    sed -i ""s/testorgschannel$idx1/${Channel[$idx]}/g"" CITest/$tcase/preconfig/channels/*

with:

    sed -i -e ""s/a/b/g"" *[nt]

    sed -i -e ""s/testorgschannel$idx1/${Channel[$idx]}/g"" CITest/$tcase/preconfig/channels/*[nt]

    // (leaves a single backup filename-e for each edited txt or json filename)

OR with:

    sed -i -e ""s/a/b/g"" *

    sed -i -e ""s/testorgschannel$idx1/${Channel[$idx]}/g"" CITest/$tcase/preconfig/channels/*

    rm  *-e

    rm  CITest/$tcase/preconfig/channels/*-e

    // (leaves no backup files, but could remove other files in the directories if they end in ""-e"");;;","03/Nov/18 8:42 AM;scottz;For simple language, useful reference:

https://unix.stackexchange.com/questions/13711/differences-between-sed-on-mac-osx-and-other-standard-sed;;;","09/Nov/18 8:36 AM;scottz;[https://gerrit.hyperledger.org/r/#/c/27481/] is the solution in branch release-1.2 to make runPTE.sh and any other scripts using ""sed -i"" to be portable to work on mac and linux.;;;","17/Nov/18 4:36 AM;scottz;Prop forward to release-1.3  https://gerrit.hyperledger.org/r/#/c/27607/
Prop forward to master  https://gerrit.hyperledger.org/r/#/c/27606/;;;",,,,,,,,,,,,,,,,,,,,,
Improve install instructions,FAB-12630,34928,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,27/Oct/18 5:03 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,29/Oct/18 11:13 AM,,,,,,v1.1.2,v1.2.2,v1.4.0,,,,,,0,,,,"Clarify binary install directory.
Clarify version passing per component.
Clarify binaries installed.",,denyeart,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12317,FAB-12302,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,pdina,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 6:30 AM;denyeart;release-1.1: https://gerrit.hyperledger.org/r/#/c/27324/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Programming model - Improve Fabric samples,FAB-12631,34929,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,sstone1,denyeart,denyeart,27/Oct/18 6:37 AM,05/Aug/20 8:46 PM,28/Oct/23 3:04 AM,05/Aug/20 8:46 PM,,,,,,v1.4.0,v2.0.0,,,,,,,2,,,,Improve Fabric samples to demonstrate the latest programming model improvements as well as good practices in general.,,denyeart,gregnotso,grice_32,latitiah,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12705,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Updated Fabcar and Commercial Paper sample in v1.4. More improvements in v2.0.,(Please add high level design or a link to the design),Not Required,Unset,Required,ghx-label-3,,Programming model - Improve Fabric samples,To Do,No,,Required,No,,,"1|hzzwiv:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,Still Needed.,Unset,,Unset,,(Please add usage information),denyeart,gregnotso,grice_32,latitiah,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 10:18 PM;latitiah;This epic still needs a test plan summary associated with it. Here is a quick guide for what the summary should contain. Thanks!
{code}
Functional Tests:
 - FAB-XXX1: Make sure config is accepted and turns on feature (Integration) - PersonA
 - FAB-XXX2: What happens when config is set wrong (unit) - PersonA
 - FAB-XXX3: When FeatureX is turned on in both ComponentA and ComponentB (End-to-end) - PersonB
 - FAB-XXX4: When FeatureX is turned on in ComponentA and not ComponentB (End-to-end) - PersonA

System Tests:
 - FAB-XXX5: How is performace impacted when sending 5 packets per second for 3 hours? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
   * Be sure to send the messages using the foo SDK
 - FAB-XXX6: Is the feature and component stable when executing 10 packets per second for 1 week? - PersonC
   * Be sure to set the following config values on ComponentA as such:
     - FEATUREX=true
     - FEATURE_PATH=/some/path/for/my/feature
{code};;;","23/Jan/19 11:03 AM;denyeart;[~sstone1] As samples improvement work continues, I've tagged as v1.4.0 AND v2.0.  Please scrub the epic children for correctness...close/open/refactor as needed.;;;",,,,,,,,,,,,,,,,,,,,,,,
Fix missing defer in PrepareForExpiringKeys,FAB-12632,34930,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,tyanj,tyanj,tyanj,27/Oct/18 11:26 AM,29/Oct/18 11:22 PM,28/Oct/23 3:04 AM,29/Oct/18 11:22 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"{color:#569cd6}func{color}{color:#d4d4d4} (p {color}{color:#d4d4d4}*{color}{color:#d4d4d4}purgeMgr) {color}{color:#dcdcaa}PrepareForExpiringKeys{color}{color:#d4d4d4}(expiringAtBlk {color}{color:#4ec9b0}uint64{color}{color:#d4d4d4}) {{color}
 {color:#d4d4d4}    p.waitGrp.{color}{color:#dcdcaa}Add{color}{color:#d4d4d4}({color}{color:#b5cea8}1{color}{color:#d4d4d4}){color}
 {color:#d4d4d4}    {color}{color:#c586c0}go{color} {color:#569cd6}func{color}{color:#d4d4d4}() {{color}
 {color:#d4d4d4}        p.lock.{color}{color:#dcdcaa}Lock{color}{color:#d4d4d4}(){color}
 {color:#d4d4d4}      - -p.waitGrp.-{color}-{color:#dcdcaa}Done{color}{color:#d4d4d4}(){color}-
 {color:#d4d4d4}      + {color}{color:#c586c0}defer{color}{color:#d4d4d4} p.waitGrp.{color}{color:#dcdcaa}Done{color}{color:#d4d4d4}(){color}
 {color:#d4d4d4}        {color}{color:#c586c0}defer{color}{color:#d4d4d4} p.lock.{color}{color:#dcdcaa}Unlock{color}{color:#d4d4d4}(){color}
 {color:#d4d4d4}        {color}{color:#9cdcfe}p.workingset{color} {color:#d4d4d4}={color}{color:#d4d4d4} p.{color}{color:#dcdcaa}prepareWorkingsetFor{color}{color:#d4d4d4}(expiringAtBlk){color}
 {color:#d4d4d4}    }(){color}
 {color:#d4d4d4}    p.waitGrp.{color}{color:#dcdcaa}Wait{color}{color:#d4d4d4}(){color}

{color:#d4d4d4}}{color}",,manish-sethi,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Oct/18 11:20 PM;manish-sethi;This is not a bug. line of code - ""p.waitGrp.Done()"" is without defer by design.
The main motivation to keep it so is to do the actual job of loading the expiring keys in the background - not in the caller routine (which happens to be the 'commit' routine).

However, at the same time, we want to make sure in the caller routing that the background job is indeed launched. This is because, before the next 'commit', we check for the completion of this background job and we may get a false positive (because perhaps, it was not yet launched)...

Marking this Jira as invalid;;;",,,,,,,,,,,,,,,,,,,,,,,,
Use a fixed version of required Go tools,FAB-12634,34933,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,mastersingh24,mastersingh24,mastersingh24,28/Oct/18 6:39 PM,01/Nov/18 3:20 AM,28/Oct/23 3:04 AM,31/Oct/18 11:50 PM,,,,,,v1.4.0,,,,,,,,0,hygiene,,,"We need to stop using the ""master"" versions of tools; *dep*, *goimports* and *golint* are the main concerns.

# One option is to publish a ""gotools"" container version per release / branch.
# A second option is to vendor the proper versions and build from there.
# A third option is to use the the version aware form of *go get* in Go 1.11 (this approach will only work for master).",,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12659,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/18 4:33 AM;mastersingh24;selected option 2 as it aligns more closely with what is already there;;;","31/Oct/18 11:50 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27239/;;;",,,,,,,,,,,,,,,,,,,,,,,
Ability to inspect all channels inside a system chain,FAB-12635,34934,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,28/Oct/18 8:17 PM,30/Oct/18 5:21 AM,28/Oct/23 3:04 AM,30/Oct/18 5:21 AM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Oct/18 8:12 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27240/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Replace balance transfer sample with a new sample that demonstrates good application practices,FAB-12636,34936,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,28/Oct/18 10:18 PM,05/Aug/20 8:46 PM,28/Oct/23 3:04 AM,05/Aug/20 8:46 PM,,,,,,v2.0.0,,,,fabric-samples,,,,0,,,,"A new sample should focus on good application practices, such that Fabric application developers can use it as an example and starting point for their own applications.

The new sample should:
 * utilize Service Discovery with preferred orgs/peers configured.  For example if endorsement requires two orgs, the application may want to utilize one random peer from it's own organization, and one random peer from any other org (see FABN-982 for related SDK service discovery improvements).  The 'randomness' ensures load balancing across peers. Additionally it should be possible to specify exact endorser organizations, for example state-based endorsement scenarios will require this.
 * Do proposal retries for certain proposal failures like gRPC errors. Chaincode errors may or may not benefit from a retry, depending on the problem. (see FABN-984 for SDK retry improvements).
 * Check that all proposal responses are consistent before submitting transaction to orderer (and if not consistent, request another proposal and throw out the 'bad' proposal response).
 * Use channel events to ensure submitted transactions are validated
 * Do transaction retries for invalidated transactions (such as upon MVCC_READ_CONFLICT invalidations)
 * Reuse channels, channel event hub registrations, etc instead of obtaining a new one for each transaction.

The new sample should not:
 * have extra layers on top which will only distract sample consumers (REST APIs, UI).",,denyeart,grice_32,joaquimpedrooliveira,joe-alewine,silliman,vitorduarte,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12080,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzwk7:",,,,Yes,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,grice_32,joaquimpedrooliveira,joe-alewine,silliman,vitorduarte,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/18 11:43 PM;joe-alewine;So this feels like a sample that replaces some of the old samples for people who aren't using the new programming model (yet) and/or are using previous versions of Fabric generally. Would it makes sense then to cherry pick this app back to previous releases?

I would likewise assume that building an app using the programming model will be the recommended application development path?;;;","07/Apr/19 5:14 AM;denyeart;v1.4 updated fabcar with both high level and low level programming model samples (beginner sample).

v1.4 also introduced commercial paper sample using high level programming model (intermediate sample).

v2.0 will continue the evolution on these samples, and will remove balance-transfer in sub-task FAB-14784.;;;",,,,,,,,,,,,,,,,,,,,,,,
"As a token client library developer, I would like to implement the processing of authenticated token transactions",FAB-12637,34946,32192,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,wenjian,wenjian,wenjian,29/Oct/18 11:08 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,14/Nov/18 5:33 AM,,,,,,v2.0.0,,,,,,,,0,,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:q",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 5:33 AM;wenjian;This has been covered by CR https://gerrit.hyperledger.org/r/#/c/26461/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fix panic on passing wrong key,FAB-12638,34948,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,29/Oct/18 4:38 PM,02/Nov/18 9:21 AM,28/Oct/23 3:04 AM,02/Nov/18 9:21 AM,v1.1.0,v1.2.0,v1.3.0,,,v1.4.0,,,,fabric-common,,,,0,,,,"Passing wrong formatted key file to common/tools/cryptogen/csp/csp.go

causes panic.",,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwlz:",,,,Unset,Unset,,,"1. Create directory.
2. Create key file of wrong format, such as ""wrong key"" in the directory.
3. Call csp.LoadPrivateKey(directory) of common/tools/cryptgen/csp/csp.go
4. On func LoadPrivateKey(), block, _ := pem.Decode(rawKey) returns nil.
5. Panic occurs on resolving 1st parameter value of csp.KeyImport(block.Bytes, &bccsp.ECDSAPrivateKeyImportOpts{Temporary: true}).
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
MVCC_READ_CONFLICT in stub.InvokeChaincode corner case,FAB-12639,34949,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,davidkhala,davidkhala,29/Oct/18 4:47 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.3.0,,,,,,,,,,,,,0,stale-item,,,"I find a corner case during writing complex system with multiple chaincode and cross chaincode calling

Environments
 - set individual couchdb(as docker container) for each peer (as docker container)
 - org ASTRI.org, has 1 peer, `peer0.ASTRI.org`
 - org icdd, has 1 peer, `peer0.icdd`
 - we have 3 golang smartContract, all 3 are installed on each peer,
 - chaincode：mainCC
 ** `chaincodePath`: [https://github.com/davidkhala/chaincode/tree/master/golang/mainChain]
 - chaincode：sideCC
 ** `chaincodePath`: [https://github.com/davidkhala/chaincode/tree/master/golang/sideChain]
 - chaincode：sideCC2
 ** `chaincodePath`: [https://github.com/davidkhala/chaincode/tree/master/golang/sideChain2|https://github.com/davidkhala/chaincode/tree/master/golang/sideChain2]

 - instantiate： both `peer0.ASTRI.org` and `peer0.icdd` are target peers
 - all parts are under 1 channel `allchannel`

How to reproduce
 * follow README in my own fabric-sdk-node based project
 ** [https://github.com/davidkhala/delphi-fabric]
 * Or if a fabric network exist, please choose your own way to do that
 ## invoke chaincode `sideCC` with
 *** fcn: 'put'
 *** target peers: [`peer0.ASTRI.org`]
 ## Get the response of invoke as `key`
 ## invoke chaincode `sideCC2` with
 ### fcn: 'get'
 ### target peers: [`peer0.icdd`]
 ### args: [key]

 the txEvent after the second invoke will prompt with code 'MVCC_READ_CONFLICT'

 

More details
 * What those chaincode do
 ## mainCC: simple key-value setter, getter
 *** fcn=='put': setter
 *** fcn=='get': putter
 ## sideCC: when invoked with fcn=='put',
 ###   generate a new key not exist in mainCC
 #### randomly generate a new string `rKey`
 #### use stub.InvokeChaincode to call mainCC with fcn='get', args=[rkey]
 #### if non-empty response from mainCC, recurse the process; other wise, return the `rKey`.
 ### use stub.InvokeChaincode to call mainCC with fcn='put', args=[rkey,${anything}]
 ## sideCC2: when invoked with fcn=='get', use stub.InvokeChaincode to call mainCC with fcn='get', args=[params[0]]

 * timing: after half a second passed, we could retry the the second invoke and get a success
 * couchdb exclusive: this error will not appear when we use default leveldb for all peers",,davidkhala,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwm7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),davidkhala,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add stricter eslint rules to fabric-sdk-node,FAB-12640,34950,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,SamRasha,SamRasha,SamRasha,29/Oct/18 5:39 PM,07/Nov/18 1:54 AM,28/Oct/23 3:04 AM,02/Nov/18 7:24 PM,,,,,,,,,,fabric-sdk-node,,,,0,,,,Similar changes as done to the fabric-chaincode-node repository. See FAB-12456.,,SamRasha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwmf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),SamRasha,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Allow plugins to vendor fabric packages,FAB-12641,34951,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,mastersingh24,gotoxu,gotoxu,29/Oct/18 6:17 PM,10/Nov/19 8:00 PM,28/Oct/23 3:04 AM,10/Nov/19 8:00 PM,v1.2.0,,,,,WON'T FIX,,,,fabric-peer,,,,0,,,,"I added the configuration of the system chaincode plugins in the core.yaml file.

 
{code:java}
//代码占位符
# system chaincodes whitelist. To add system chaincode ""myscc"" to the    
# whitelist, add ""myscc: enable"" to the list below, and register in    
# chaincode/importsysccs.go
system:        
    cscc: enable        
    lscc: enable        
    escc: enable        
    vscc: enable        
    qscc: enable        
    ccscc: enable

# System chaincode plugins: in addition to being imported and compiled    
# into fabric through core/chaincode/importsysccs.go, system chaincodes    
# can also be loaded as shared objects compiled as Go plugins.    
# See examples/plugins/scc for an example.    
# Like regular system chaincodes, plugins must also be white listed in the    
# chaincode.system section above.
systemPlugins:
    - enabled: true
      name: ccscc
      path: /opt/lib/ccscc.so
      invokableExternal: true
      invokableCC2CC: true{code}
When I start the peer node, fabric reported the following error to me:
{code:java}
//代码占位符
2018-10-29 09:06:29.677 UTC [nodeCmd] serve -> INFO 001 Starting peer:
 Version: 1.2.1
 Commit SHA: 937b2bc47
 Go version: go1.10
 OS/Arch: linux/amd64
 Experimental features: false
 Chaincode:
  Base Image Version: 0.4.10
  Base Docker Namespace: hyperledger
  Base Docker Label: org.hyperledger.fabric
  Docker Namespace: hyperledger

2018-10-29 09:06:29.678 UTC [ledgermgmt] initialize -> INFO 002 Initializing ledger mgmt
2018-10-29 09:06:29.678 UTC [kvledger] NewProvider -> INFO 003 Initializing ledger provider
2018-10-29 09:06:29.813 UTC [kvledger] NewProvider -> INFO 004 ledger provider Initialized
2018-10-29 09:06:29.814 UTC [ledgermgmt] initialize -> INFO 005 ledger mgmt initialized
2018-10-29 09:06:29.815 UTC [peer] func1 -> INFO 006 Auto-detected peer address: 172.17.0.2:7051
2018-10-29 09:06:29.815 UTC [peer] func1 -> INFO 007 Host is 0.0.0.0 , falling back to auto-detected address: 172.17.0.2:7051
2018-10-29 09:06:29.816 UTC [peer] func1 -> INFO 008 Auto-detected peer address: 172.17.0.2:7051
2018-10-29 09:06:29.817 UTC [peer] func1 -> INFO 009 Host is 0.0.0.0 , falling back to auto-detected address: 172.17.0.2:7051
2018-10-29 09:06:29.819 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00a Entering computeChaincodeEndpoint with peerHostname: 172.17.0.2
2018-10-29 09:06:29.820 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00c Exit with ccEndpoint: 172.17.0.2:7052
2018-10-29 09:06:29.820 UTC [nodeCmd] createChaincodeServer -> WARN 00d peer.chaincodeListenAddress is not set, using 172.17.0.2:7052
2018-10-29 09:06:29.819 UTC [eventhub_producer] start -> INFO 00b Event processor started
panic: /debug/requests is already registered. You may have two independent copies of golang.org/x/net/trace in your binary, trying to maintain separate state. This may involve a vendored copy of golang.org/x/net/trace.

goroutine 1 [running]:goroutine 1 [running]:git.querycap.com/cloudchain/chaincode/vendor/golang.org/x/net/trace.init.0() /home/xql/gopath/src/git.querycap.com/cloudchain/chaincode/vendor/golang.org/x/net/trace/trace.go:116 +0x151plugin.open(0xc4204e6840, 0xe, 0xc420099380, 0x0, 0x0) /opt/go/src/plugin/plugin_dlopen.go:113 +0xb21plugin.Open(0xc4204e6840, 0x11, 0x157c5c0, 0xc420099380, 0x0) /opt/go/src/plugin/plugin.go:32 +0x35github.com/hyperledger/fabric/core/scc.loadPlugin(0xc4204e6840, 0x11, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:70 +0x175github.com/hyperledger/fabric/core/scc.loadSysCCsWithConfig(0xc42000e518, 0x1, 0x1) /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:51 +0xa6github.com/hyperledger/fabric/core/scc.loadSysCCs.func1() /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:44 +0x97sync.(*Once).Do(0x1d9b850, 0x14dec68) /opt/go/src/sync/once.go:44 +0xbegithub.com/hyperledger/fabric/core/scc.loadSysCCs(0xc42049bc20, 0xc42000e4e0, 0xc42049bc20, 0x1560ec0) /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:38 +0x39github.com/hyperledger/fabric/core/scc.CreateSysCCs(0x1579800, 0xc42000e4e0, 0xc42049bc20, 0x1560ec0, 0xc4203429f0, 0x25f, 0x3c0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/core/scc/register_pluginsenabled.go:20 +0x98github.com/hyperledger/fabric/peer/node.registerChaincodeSupport(0xc4201c35e0, 0xc4205326d0, 0xf, 0x1572580, 0xc42000e3f0, 0x1560ec0, 0xc4203429f0, 0x0, 0x0, 0x12de6e0, ...) /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:633 +0x5dfgithub.com/hyperledger/fabric/peer/node.serve(0x1d9b768, 0x0, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:231 +0xaf8github.com/hyperledger/fabric/peer/node.glob..func1(0x1c94ce0, 0x1d9b768, 0x0, 0x0, 0x0, 0x0) /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:111 +0x9cgithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1c94ce0, 0x1d9b768, 0x0, 0x0, 0x1c94ce0, 0x1d9b768) /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46dgithub.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1c95340, 0x1d7dc70, 0xf, 0x1) /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1c95340, 0x1, 0xffffffffffffffff) /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2bmain.main() /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:97 +0x5bf{code}
 

 ",,gotoxu,jamesxql,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12031,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwmn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),gotoxu,jamesxql,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Oct/18 12:49 PM;gotoxu;Maybe because of this problem: https://github.com/golang/go/issues/24137?;;;","01/Nov/18 5:26 PM;gotoxu;Using Go modules in Go 1.11 may solve this problem, otherwise I can only put the plugin code and fabric code into the same project.;;;","01/Dec/18 11:43 PM;mastersingh24;You can also try building with fabric in your GOPATH rather than vendoring the shim;;;","01/Dec/18 11:47 PM;mastersingh24;This is not really a bug ... it's a limitation of using Go plugins combined with the tangled tree of dependencies for the chaincode shim.   As I mentioned in the comment above, I believe building with fabric in your path rather than vendoring the shim with your plugin;;;","10/Nov/19 8:00 PM;mastersingh24;Go is simply not doing much to further plugins as a first-class citizen.
Given that, we will be removing support for Go plugins;;;",,,,,,,,,,,,,,,,,,,,
Put channel info to WAL metadata so it can be used to identify WAL data while transferring,FAB-12642,34952,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,guoger,guoger,29/Oct/18 6:19 PM,11/May/21 11:08 PM,28/Oct/23 3:04 AM,11/May/21 11:08 PM,,,,,,Future,,,,fabric-orderer,,,,0,ipm,raft,,"While transferring WAL from one machine to another (starting orderer node from another machine, etc), it may be nice to have channel information in WAL metadata.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i00n2e:9r",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/May/21 11:08 PM;guoger;It would work by simply copying all data to new location and start orderer normally;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update private marbles example for transient data,FAB-12643,34953,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,chris.elder,chris.elder,chris.elder,29/Oct/18 6:31 PM,07/Jan/19 6:43 AM,28/Oct/23 3:04 AM,07/Jan/19 6:43 AM,,,,,,,,,,fabric-samples,,,,0,,,,"The marbles02_private example needs to be updated to pass all attributes as transient data instead of arguments.  This will prevent identifiable information being sent to the orderer.

Relates to comment at:
https://jira.hyperledger.org/browse/FAB-10231?focusedCommentId=48564&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-48564",,chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12056,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),chris.elder,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/19 6:42 AM;denyeart;Will be worked on in FAB-12056;;;",,,,,,,,,,,,,,,,,,,,,,,,
fabric-merge unit test is failing consistently from 4 builds as gossip test timed out.,FAB-12644,34954,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,29/Oct/18 10:24 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,06/Nov/18 2:13 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"The fabric-merge unit tests are failing from last 4 builds, as the timeout expired while connecting to anchor peers in gossip test.

{code:java}
17:12:41 --- FAIL: TestConnectToAnchorPeers (367.05s)
17:12:41     gossip_test.go:1529: 
17:12:41         	Error Trace:	gossip_test.go:1529
17:12:41         	            				asm_amd64.s:1333
17:12:41         	Error:      	Didn't stop within a timely manner
17:12:41         	Test:       	TestConnectToAnchorPeers
17:12:41     gossip_test.go:1589: 
17:12:41         	Error Trace:	gossip_test.go:1589
17:12:41         	            				gossip_test.go:473
17:12:41         	Error:      	Timeout expired!
17:12:41         	Test:       	TestConnectToAnchorPeers
17:12:41     gossip_test.go:1589: 
17:12:41         	Error Trace:	gossip_test.go:1589
17:12:41         	            				gossip_test.go:483
17:12:41         	Error:      	Timeout expired!
17:12:41         	Test:       	TestConnectToAnchorPeers
17:12:41 2018-10-28 21:12:14.430 UTC [gossip.comm#8611] sendToEndpoint -> WARN 2e6a Failed obtaining connection for localhost:8619, PKIid:[108 111 99 97 108 104 111 115 116 58 56 54 49 57] reason: ConnStore is closing
17:12:41 2018-10-28 21:12:14.431 UTC [gossip.comm#8611] sendToEndpoint -> WARN 2e6c Failed obtaining connection for localhost:8614, PKIid:[108 111 99 97 108 104 111 115 116 58 56 54 49 52] reason: ConnStore is closing
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/4860/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-x86_64/4860/",,C0rWin,denyeart,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,0387dc4dd64023b6de8e9606970a614d1c79446a,Unset,No,,,"1|hzzwn3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 2:14 AM;sambhavdutt;The fabric-merge jobs have been passing  without running into the timeout error.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Tests: Use the new log level setup in fabric-test,FAB-12645,34956,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,latitiah,latitiah,latitiah,29/Oct/18 11:55 PM,30/Oct/18 1:00 AM,28/Oct/23 3:04 AM,30/Oct/18 1:00 AM,,,,,,,,,,,,,,0,,,,There is a new log level variable and configuration setup. The test tools need to reflect using this new config value.,,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12487,FAB-12556,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwnj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix broken link in developing applications topic,FAB-12646,34958,33080,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,odowdaibm,pandrejko,pandrejko,30/Oct/18 12:30 AM,14/Jan/20 2:43 AM,28/Oct/23 3:04 AM,14/Jan/20 2:43 AM,,,,,,,,,,fabric-docs,,,,0,stale-item,,,"*12:38:30* writing output... [ 44%] developapps/smartcontract*12:38:30* *12:38:30* (line   10) -local-   ../install.html*12:38:30* (line   46) -local-   ./transactioncontext.html*12:38:30* (line   46) -local-   ./transactionhandler.html*12:38:30* (line   51) -local-   ./namespace.html*12:38:30* (line   89) -local-   ./application.html*12:38:30* (line   96) -local-   ./transactioncontext.html*12:38:30* (line  325) -local-   ./architecture.html*12:38:30* (line  352) -local-   ../readwrite.html*12:38:30* (line  381) -local-   ./application.html*12:38:30* (line   32) broken    
[https://fabric-shim.github.io/fabric-contract-api.Contract.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/fabric-contract-api.Contract.html]",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwnz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 2:43 AM;pandrejko;Url https://fabric-shim.github.io/fabric-contract-api.Contract.html is no longer present in the documentation. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
10-29 report  broken links,FAB-12647,34959,33080,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtclark,pandrejko,pandrejko,30/Oct/18 12:35 AM,03/Dec/18 11:20 PM,28/Oct/23 3:04 AM,03/Dec/18 11:20 PM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"*Idemix:*
*12:38:32* (line  155) broken    
[https://github.com/hyperledger/fabric-sdk-java/blob/release-1.3/src/test/fixture/sdkintegration/gocc/sample1/src/github.com/example_cc/example_cc.go]
 - 404 Client Error: Not Found for url: 
[https://github.com/hyperledger/fabric-sdk-java/blob/release-1.3/src/test/fixture/sdkintegration/gocc/sample1/src/github.com/example_cc/example_cc.go]

 

 

build_network:
*12:38:14* writing output... [ 13%] build_network*12:38:14* *12:38:14* (line  162) ok       
*12:38:14* (line  175) broken    
[https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]

 

chaincode4ade:

 
*12:38:15* writing output... [ 16%] chaincode4ade*12:38:15* *12:38:15* (line    7) redirect 
*12:38:15* (line   43) broken    
[https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]
*12:38:15* (line   56) broken    
[https://fabric-shim.github.io/fabric-shim.ChaincodeStub.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/fabric-shim.ChaincodeStub.html]",,jtclark,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtclark,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/18 9:22 PM;pandrejko;*00:01:47.524* (line  175) broken    [https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html] - 404 Client Error: Not Found for url: [https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]
 
The above URL (and the others in this report with a similar URL pattern) is reached without a redirect via the following URL:
 
[https://fabric-shim.github.io/ChaincodeInterface.html] -- without the ""_*fabric-shim.*_"". 
 
Can we update each of the fabric-shim.github.io links in the documentation with this URL?
 
Second would be this link:
 
*00:01:57.011* (line   51) broken    [https://www.virtualbox.org/] - ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
 
This link reported as broken. I checked it and it works, but yesterday, it took a longer time for the page to load. With that, I'll submit a patch that will increase the link timeout value.
 
Last is this one:
 
*00:02:00.397* (line  155) broken    [https://github.com/hyperledger/fabric-sdk-java/blob/release-1.3/src/test/fixture/sdkintegration/gocc/sample1/src/github.com/example_cc/example_cc.go] - 404 Client
 
The above link reports as broken, which is correct- it indeed returns a 404.;;;","04/Nov/18 2:42 AM;pandrejko;[https://gerrit.hyperledger.org/r/27347]

 

Also I searched all the docs for `[https://fabric-shim.github.io/fabric-shim.|https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html]` and found no other hits.

Still outstanding:

Checking with [~rickr] to see what the correct link would be for the Java SDK in the in  idemix.rst and then I will update it.;;;","13/Nov/18 12:06 AM;jtclark;/cc [~pandrejko], [~rameshthoomu], [~odowdaibm]

After running the linkchecker on the Sandbox, we discovered that this change was still broken. There are 3 URLs that still need to be addressed:

- https://fabric-shim.github.io/fabric-contract-api.Contract.html  {color:red}<-- cannot find this one at all.{color}
- https://fabric-shim.github.io/fabric-shim.ChaincodeInterface.html
- https://fabric-shim.github.io/ChaincodeStub.html

The last two fabric-shim URLs were fixed with the following patch set:
https://gerrit.hyperledger.org/r/#/c/27504/

The linkchecker runs on the Sandbox now, only failing with 1 broken link reported- which is the URL mentioned above:
https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-docs-build-x86_64/3/console.log.gz

[~pandrejko] Can we find out what this URL should be? I have a patch that I can use to update it, I just need to know what the URL should be. This way we can finally get this JIRA task completed/merged.;;;","13/Nov/18 2:13 AM;jtclark;All 3 URLs have now been updated. Patch set is ready for *MERGE*.;;;","29/Nov/18 2:51 AM;jtclark;[~denyeart] has commented on the patch set that modifies the [broken links | https://gerrit.hyperledger.org/r/#/c/27504/]:

""Ok, let's ignore these checks which have the redirects that we desire.""

That said, this patch has been *ABANDONED*, and a new patch will be submitted to enable ignores on the _offending_ links.

;;;","29/Nov/18 3:00 AM;jtclark;Patch has been submitted and is ready for review: https://gerrit.hyperledger.org/r/#/c/27787/;;;","03/Dec/18 11:20 PM;jtclark;Patch has been *MERGED.* Marking this item as *{color:#0747A6}""Done""{color}*.;;;",,,,,,,,,,,,,,,,,,
Upgrade Homebrew installer for tools to 1.3,FAB-12648,34962,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,alexvicegrab,alexvicegrab,alexvicegrab,30/Oct/18 1:43 AM,21/Feb/19 3:53 AM,28/Oct/23 3:04 AM,21/Feb/19 3:53 AM,,,,,,,,,,,,,,0,,,,,,alexvicegrab,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),alexvicegrab,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Address minor code review comments,FAB-12649,34963,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,30/Oct/18 3:36 AM,30/Nov/18 1:40 AM,28/Oct/23 3:04 AM,30/Oct/18 5:21 AM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/18 3:38 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27262/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Admin service should use grpc/status.Errorf with the InvalidArgument code and a meaningful message,FAB-12650,34966,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,wlahti,sykesm,sykesm,30/Oct/18 6:53 AM,03/Nov/18 12:57 AM,28/Oct/23 3:04 AM,03/Nov/18 12:57 AM,,,,,,v1.4.0,,,,,,,,0,,,,"Right now errors setting the log level just get back codes.Unknown; should really be InvalidArgument if the spec is bad.",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/18 4:29 AM;wlahti;https://gerrit.hyperledger.org/r/c/27317/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pseudonym-based Signer/Verifier,FAB-12651,34971,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,30/Oct/18 5:32 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,16/Nov/18 9:02 PM,,,,,,v1.3.0,,,,fabric-crypto,,,,0,bccsp,idemix,Security,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9838,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzwqfm:r",,,,,,May2018 - Security,To Do,,,,,,,,,,,,,,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Oct/18 5:34 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/21105/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Bridge with fabric/idemix,FAB-12652,34972,28611,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,30/Oct/18 5:35 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,26/Nov/18 4:24 PM,,,,,,,,,,,,,,0,idemix,,,Implement the idemix-bccsp local interfaces that face fabric/idemix.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:s",,,,Unset,Unset,May2018 - Security,To Do,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 4:23 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27268/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Send etcd/raft messages in parallel,FAB-12653,34973,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,guoger,guoger,30/Oct/18 6:00 PM,28/Jan/19 6:47 PM,28/Oct/23 3:04 AM,28/Jan/19 6:47 PM,,,,,,,,,,fabric-orderer,,,,0,,,,"[This code chunk|https://github.com/hyperledger/fabric/blob/1d6a15dc9ee945e3d0c5a08d708f92c5074876d1/orderer/consensus/etcdraft/chain.go#L516-L521] should be done in parallel, so that if RPC is block waiting for message to be sent to disconnected node, it does not prevent subsequent messages to be sent to connected nodes.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11161,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Jan/19 6:46 PM;guoger;Once https://jira.hyperledger.org/browse/FAB-13805 is done, this is not necessary anymore.;;;",,,,,,,,,,,,,,,,,,,,,,,,
gocov-xml: command not found Error in unit-test/run.sh . fails the job fabric-unit-test-coverage,FAB-12655,34980,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,vijaypunugubati,vijaypunugubati,30/Oct/18 11:01 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,07/Nov/18 5:15 AM,v1.4.0,,,,,v1.4.0,,,,fabric-ci,,,,0,ci-failure,,,"fabric-unit-test-coverage-daily-master-x86_64 job fails due to gocov-xml not found in unit-test/run.sh 

*Commit:* 7ff25efff553709c6347047af1a3f6ce52014324

*Build log:* https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/247/console
{code:java}
/10:02:15 unit-test/run.sh: line 141: gocov: command not found
10:02:15 unit-test/run.sh: line 141: gocov-xml: command not found
10:02:15 Makefile:183: recipe for target 'unit-test' failed
10:02:15 make: *** [unit-test] Error 127/ code placeholder{code}",,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwsf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 12:50 PM;sambhavdutt;CR Submitted, Merged.

https://gerrit.hyperledger.org/r/#/c/27377/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Enable `PreVote` etcd/raft,FAB-12656,34981,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,31/Oct/18 12:57 AM,27/Nov/18 4:47 AM,28/Oct/23 3:04 AM,27/Nov/18 4:47 AM,,,,,,,,,,,,,,0,,,,"From etcd/raft:
bq. PreVote enables the Pre-Vote algorithm described in raft thesis section 9.6. This prevents disruption when a node that has been partitioned away rejoins the cluster.

UT scenario:
- rejoin a lagged node and expect no leader change to be observed.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Nov/18 10:08 PM;guoger;https://gerrit.hyperledger.org/r/27349 Adds {{PreVote}};;;","04/Nov/18 10:10 PM;guoger;Adding {{CheckQuorum}} makes UT a bit tricky, cuz it requires all clocks on connected nodes to advance, in order to expire lease on all nodes so they could proceed to next leader election. This prevents us from ticking *only* one node in cluster to guarantee election outcome.;;;","05/Nov/18 11:07 PM;guoger;Created a separate sub-task for {{CheckQuorum}} https://jira.hyperledger.org/browse/FAB-12709;;;",,,,,,,,,,,,,,,,,,,,,,
Update docs to reflect the new logging configuration,FAB-12657,34984,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,31/Oct/18 1:18 AM,11/Nov/18 11:27 PM,28/Oct/23 3:04 AM,11/Nov/18 11:27 PM,,,,,,,,,,,,,,0,,,,"* Remove references in peer docs to CORE_LOGGING_LEVEL and related explanatory text, which in most cases will no longer be applicable
* Remove references in orderer docs to General.LogLevel and related text
* Add info about the FABRIC_LOGGING_SPEC env variable and what a spec is
* Add info about the FABRIC_LOGGING_FORMAT env variable
* Refine release note attached to FAB-12357",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6170,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwtb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Nov/18 1:52 AM;wlahti;https://gerrit.hyperledger.org/r/c/27311;;;",,,,,,,,,,,,,,,,,,,,,,,,
Flaky test core/comm/server_test.go,FAB-12658,34986,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Duplicate,,skarim,skarim,31/Oct/18 2:50 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,02/Nov/18 11:17 AM,,,,,,,,,,,,,,0,ci-flake,,,"{code:java}
17:01:45 --- FAIL: TestServerInterceptors (0.01s)
17:01:45     <autogenerated>:1: 
17:01:45         	Error Trace:	server_test.go:1832
17:01:45         	Error:      	Not equal: 
17:01:45         	            	expected: ""EOF""
17:01:45         	            	actual  : ""error from interceptor""
17:01:45         	            	
17:01:45         	            	Diff:
17:01:45         	            	--- Expected
17:01:45         	            	+++ Actual
17:01:45         	            	@@ -1 +1 @@
17:01:45         	            	-EOF
17:01:45         	            	+error from interceptor
17:01:45         	Test:       	TestServerInterceptors
17:01:45         	Messages:   	Expected error from second ssi {code}",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12178,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwtr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
gotools dep is not supporting s390x arch,FAB-12659,34989,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,denyeart,vijaypunugubati,vijaypunugubati,31/Oct/18 4:24 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Nov/18 3:20 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"Unable to build gotools.mk as this doesn't support s390x arch. Please see the reference [https://raw.githubusercontent.com/golang/dep/master/install.sh]

This is failing in all the builds which are building ccenv image on s390x arch.

Commit: 52c82cc028dd5394cf771ef2079a237961f1fd09
{code:java}
/12:06:16 make[1]: *** [gotool.dep] Error 1
12:06:16 make: *** [/opt/gotools/bin/dep] Error 2
12:06:16 Architecture s390x is not supported by this installation script
12:06:16 gotools.mk:51: recipe for target 'gotool.dep' failed
12:06:16 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric'
12:06:16 gotools.mk:61: recipe for target '/opt/gotools/bin/dep' failed
12:06:16 Makefile:239: recipe for target '.build/docker/gotools' failed
12:06:16 make: *** [.build/docker/gotools] Error 2
12:06:16 ERROR !!!! --------> make ccenv failed <---------/ code placeholder
{code}
Build log: [https://jenkins.hyperledger.org/view/fabric-sdk-node/job/fabric-sdk-node8-merge-master-s390x/200/consoleFull]

 ",,denyeart,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12634,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwuf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Oct/18 11:05 PM;denyeart;Looks like it is caused by https://gerrit.hyperledger.org/r/#/c/27239/;;;","31/Oct/18 11:44 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/27286/]

 

Revert dep change made in FAB-12634.

dep install script is not available for s390.

Switch back to build approach like it was pre-FAB-12634.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,
Enhancement to  runPTE script (Chaincode version),FAB-12660,34990,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,ChandraLekhaChavva,ChandraLekhaChavva,31/Oct/18 6:03 AM,06/Nov/18 7:27 AM,28/Oct/23 3:04 AM,06/Nov/18 7:27 AM,,,,,,,,,,fabric-quality,,,,0,,,,"Need to update the Chaincode version with the User input 
 Variable: 'chaincode_ver'

For example :
 !image-2018-10-30-16-42-23-271.png!",,ChandraLekhaChavva,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Oct/18 5:42 AM;ChandraLekhaChavva;image-2018-10-30-16-42-23-271.png;https://jira.hyperledger.org/secure/attachment/16189/image-2018-10-30-16-42-23-271.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzwun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"01/Nov/18 3:05 AM;dongming;runPTE.sh adds options for chaincode version and chaincode prefix

https://gerrit.hyperledger.org/r/#/c/27263/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Orderer should use FABRIC_LOGGING_SPEC and FABRIC_LOGGING_FORMAT env variable,FAB-12663,34998,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,31/Oct/18 10:33 PM,04/Nov/18 7:44 AM,28/Oct/23 3:04 AM,02/Nov/18 11:42 PM,,,,,,,,,,,,,,0,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzww7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 1:00 AM;wlahti;https://gerrit.hyperledger.org/r/c/27289/;;;",,,,,,,,,,,,,,,,,,,,,,,,
NWO network should return ginkgomon.Runner instances instead of ifrit.Runner,FAB-12664,34999,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,skarim,sykesm,sykesm,31/Oct/18 10:38 PM,09/Nov/18 11:50 PM,28/Oct/23 3:04 AM,09/Nov/18 11:50 PM,,,,,,,,,,,,,,0,,,,I noticed that the CFT test case was using error text to ensure that a particular exit code was being returned after a kill instead of asserting directly on the ExitCode. The reason for that is probably that the network is returning the interface types instead of the concrete implementations and would require type assertions for exit processing.,,kchristidis,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 5:42 AM;skarim;https://gerrit.hyperledger.org/r/c/27477/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add example to cid Readme and fabric ca Readme,FAB-12665,35000,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,skarim,skarim,31/Oct/18 10:53 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,Add an example of how you can use the cid library to get the 'hf.Affiliation' attribute which can then be used to make access control decisions in chaincode.,,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
"TestRunner FAIL detected in the following suite ""runner ./integration/runner""",FAB-12666,35001,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,vijaypunugubati,vijaypunugubati,31/Oct/18 11:13 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,06/Nov/18 3:44 AM,v1.2.0,,,,,v1.2.0,,,,fabric-build,,,,0,ci-failure,,,"TestRunner FAIL detected in the following suite ""runner ./integration/runner"" error fails to build integration test in fabric-nightly-release-job-release-1.2-x86_64.

This is an Intermittent failure no commits were seen in the release-1.2 branch.
{code:java}
/21:54:59 Summarizing 1 Failure:
21:54:59 
21:54:59 [Fail] CouchDB Runner [It] starts and stops a docker container with the specified image 
21:54:59 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/runner/couchdb_test.go:198
21:54:59 
21:54:59 Ran 40 of 40 Specs in 66.004 seconds
21:54:59 FAIL! -- 39 Passed | 1 Failed | 0 Pending | 0 Skipped
21:54:59 --- FAIL: TestRunner (66.01s)
21:54:59 FAIL
21:55:30 [1540950509] World Suite - 3/3 specs ••• SUCCESS! 30.995147729s PASS
21:55:30 
21:55:30 There were failures detected in the following suites:
21:55:30 	runner ./integration/runner
21:55:30 
21:55:30 Ginkgo ran 6 suites in 7m1.718516263s
21:55:30 Test Suite Failed
21:55:30 Makefile:187: recipe for target 'integration-test' failed
21:55:30 make: *** [integration-test] Error 1/ code placeholder
{code}
*Build log:* [https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.2-x86_64/164/console]

*For release-1.3 branch:*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.3-x86_64/45/console]
{code:java}
/22:43:19 Summarizing 1 Failure:
22:43:19 
22:43:19 [Fail] Network kafka network [It] deploys and executes chaincode (the hard way) 
22:43:19 /w/workspace/fabric-nightly-release-job-release-1.3-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:160
22:43:19 
22:43:19 Ran 2 of 2 Specs in 130.391 seconds
22:43:19 FAIL! -- 1 Passed | 1 Failed | 0 Pending | 0 Skipped
22:43:19 --- FAIL: TestNewWorldOrder (130.39s)
22:43:19 FAIL/ code placeholder
{code}
 

 ",,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwwv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 3:45 AM;sambhavdutt;The nightly build jobs are passing now on multiple counts for release-1.2 , release-1.3 branches without running in to the errors detailed above.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove FAQ reference to /examples/e2e_cli,FAB-12667,35002,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,31/Oct/18 11:28 PM,01/Nov/18 1:27 AM,28/Oct/23 3:04 AM,01/Nov/18 1:27 AM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"/examples/e2e_cli was removed, therefore need to fix this doc link in the FAQ:

 
{code:java}
:Question:
 **Where can I find a Docker composition for a network that uses the
 Kafka-based ordering service?**
:Answer:
 Consult `the end-to-end CLI example`_.
.. _the end-to-end CLI example: https://github.com/hyperledger/fabric/blob/master/examples/e2e_cli/docker-compose-e2e.yaml
{code}
 ",,denyeart,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 1:27 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27287/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fix references to /examples/e2e_cli in /examples/events/eventsclient/README.md,FAB-12668,35003,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,denyeart,denyeart,31/Oct/18 11:34 PM,02/Dec/18 6:57 AM,28/Oct/23 3:04 AM,02/Dec/18 6:57 AM,,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,/examples/e2e_cli was removed.  Need to fix the references in /examples/events/eventsclient/README.md.,,denyeart,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzwxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 12:29 AM;denyeart;[~wlahti] Could you take a look?;;;","30/Nov/18 5:08 AM;wlahti;https://gerrit.hyperledger.org/r/c/27821/;;;",,,,,,,,,,,,,,,,,,,,,,,
Update fabric-samples to use new logging env variables,FAB-12669,35025,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,01/Nov/18 4:40 AM,10/Dec/18 10:01 AM,28/Oct/23 3:04 AM,08/Dec/18 4:51 AM,,,,,,v1.4.0,,,,,,,,0,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 10:48 PM;wlahti;https://gerrit.hyperledger.org/r/c/27304/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Consistent fails observed in the fabric-daily-s390x job and on Mac OS due to initialization error.,FAB-12670,35028,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,rameshthoomu,sambhavdutt,sambhavdutt,01/Nov/18 5:10 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,29/Dec/18 11:00 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-build,,,,0,ci-failure,,,"There daily unit-tests in s390x are failing intermittently due to the initialization error in BCCSP package in fabric/bccsp/pkcs11

{code:java}
09:36:15 ?   	github.com/hyperledger/fabric/bccsp/mocks	[no test files]
09:36:15 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.047s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/351/

",,ashutosh_kumar,C0rWin,denyeart,dthom,harrijk,harsha544,JonathanLevi,rameshthoomu,richardwang,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13182,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13164,FAB-13182,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,f995aae,Unset,No,,,"1|hzzx2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,C0rWin,denyeart,dthom,harrijk,harsha544,JonathanLevi,rameshthoomu,richardwang,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 1:05 PM;sambhavdutt;There is another fail in the fabric-daily-s390x unit-tests due to error in the BCCSP package, 

{code:java}
23:56:29 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.033s
23:56:29 ok  	github.com/hyperledger/fabric/bccsp/signer	(cached)	coverage: 100.0% of statements

23:57:02 ok  	github.com/hyperledger/fabric/bccsp/sw	38.250s	coverage: 89.9% of statements
23:57:02 ?   	github.com/hyperledger/fabric/bccsp/sw/mocks	[no test files]
23:57:02 ok  	github.com/hyperledger/fabric/bccsp/utils	(cached)	coverage: 85.5% of statements
23:57:02 Makefile:183: recipe for target 'unit-test' failed
23:57:02 make: *** [unit-test] Error 1
{code}
 
*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/358/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/358/;;;","01/Nov/18 10:21 PM;ashutosh_kumar;looks like the softHsm library is not loaded. [~sambhavdutt] , is there any change recently ? 

 ;;;","01/Nov/18 10:58 PM;rameshthoomu;[~ashutosh_kumar] It seems this change is causing the problem  [https://github.com/hyperledger/fabric/commit/f995aaed7f8b9470ac881be85368a1d243fbd036]

Before this change, we used to run unit-tests in a docker container and the softhsm library is available in baseimage.. The above change tries to run tests on native machine..It seems softhsm is not installed on s390x builds.

[~dthom] Could you please install softhsm in all s390x builds. I found installation steps here [https://github.com/hyperledger/fabric/blob/c45fde94b72a0f2fad7db37dff54d08ed4b280a8/images/testenv/install-softhsm2.sh]

Could you please work with [~ashutosh_kumar];;;","02/Nov/18 5:26 AM;ashutosh_kumar;[~dthom] , any update ? [~rameshthoomu] , did you try it local ? 

 ;;;","05/Nov/18 11:35 PM;sambhavdutt;The daily unit-tests on the s390x platform, in master branch still fail with the same error,

*fabric commit: 0125e23*
{code:java}
22:55:46 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.061s
22:55:46 ok  	github.com/hyperledger/fabric/bccsp/signer	(cached)	coverage: 100.0% of statements
22:56:18 ok  	github.com/hyperledger/fabric/bccsp/sw	35.988s	coverage: 89.9% of statements
22:56:18 ?   	github.com/hyperledger/fabric/bccsp/sw/mocks	[no test files]
22:56:18 ok  	github.com/hyperledger/fabric/bccsp/utils	(cached)	coverage: 85.5% of statements
22:56:18 Makefile:183: recipe for target 'unit-test' failed
22:56:18 make: *** [unit-test] Error 1
22:56:18 Build step 'Execute shell' marked build as failure
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/362/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/362/;;;","06/Nov/18 12:36 AM;ashutosh_kumar;The problem needs fix , which is to install softhsm in s390 base image.;;;","07/Nov/18 11:28 PM;rameshthoomu;Getting below error while installing softhsm https://github.com/hyperledger/fabric/blob/release-1.3/images/testenv/install-softhsm2.sh
{code:java}
ading package lists... Done
W: Target Packages (main/binary-s390x/Packages) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
W: Target Packages (main/binary-all/Packages) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
W: Target Translations (main/i18n/Translation-en) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
W: GPG error: http://ftp.us.debian.org/debian sid InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 8B48AD6246925553 NO_PUBKEY 7638D0442B90D010 NO_PUBKEY 04EE7237B7D453EC
W: The repository 'http://ftp.us.debian.org/debian sid InRelease' is not signed.
N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.
N: See apt-secure(8) manpage for repository creation and user configuration details.
W: Target Packages (main/binary-s390x/Packages) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
W: Target Packages (main/binary-all/Packages) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
W: Target Translations (main/i18n/Translation-en) is configured multiple times in /etc/apt/sources.list:57 and /etc/apt/sources.list:58
root@hyperledger-05:~# {code};;;","09/Nov/18 12:17 AM;harrijk;I took a quick look at the softhsm2 issue...
Since we are now using debian stretch, softhsm2 is available by default and therefore, there is no need to have the following lines inside the [install-softhsm2.sh|http://install-softhsm2.sh/] script:


ARCH=`uname -m`
if [ $ARCH = ""s390x"" ]; then  
    echo ""deb http://ftp.us.debian.org/debian sid main"" >> /etc/apt/sources.list
fi;;;","09/Nov/18 1:40 PM;harsha544;We run Unit-tests as non-root user, as such whilst initializing token we invariably try access default{color:#de350b} /etc/softhsm/softhsm2.conf{color} which points tokens to be staged under {color:#de350b}/var/lib/softhsm/tokens{color} whose ownership/permission is limited to be used by root and it's associated groups. Changing ownership/permission of {color:#de350b}/var/lib/softhsm/tokens{color} doesn't solve the problem as we cannot access {color:#de350b}/etc/softhsm/softhsm2.conf{color} in first place given the access limitation, we should be doing this instead:-

_cd $HOME_
_mkdir -p $HOME/lib/softhsm/tokens_
_cd $HOME/lib/softhsm/_
_echo ""directories.tokendir = $PWD/tokens"" > softhsm2.conf_
_export SOFTHSM2_CONF=$HOME/lib/softhsm/softhsm2.conf_

softhsm2-util --init-token --slot 0 --label ""ForFabric"" --so-pin 1234 --pin 98765432

And if we explicitly test pkcs11 via

go test -cover -count=1 -tags ' pkcs11' github.com/hyperledger/fabric/bccsp/pkcs11

jenkins@blockchain-6:~/go/src/github.com/hyperledger/fabric$ go test -cover -count=1 -tags ' pkcs11' github.com/hyperledger/fabric/bccsp/pkcs11
ok github.com/hyperledger/fabric/bccsp/pkcs11 83.905s coverage: 78.3% of statements
jenkins@blockchain-6:~/go/src/github.com/hyperledger/fabric$

 

or make unit-test should now pass, this workaround works well on x86/s390x/ppc64le as well.

 ;;;","27/Nov/18 2:54 AM;rameshthoomu;[~harsha544], Could you please push this change to fabric? s390x jobs are failing since many days.;;;","30/Nov/18 11:08 PM;harsha544;https://gerrit.hyperledger.org/r/#/c/27759/;;;","02/Dec/18 1:42 PM;JonathanLevi;[~rameshthoomu] [~harsha544] and everybody - thank you very much.


We could not run the unit-tests successfully on Macs and on some of our native platforms (that we deploy without vagrant/VBox).

The error is the same:
?   github.com/hyperledger/fabric/bccsp/mocks [no test files]
Immutable = [false]Failed initiliazing BCCSP at [\{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL github.com/hyperledger/fabric/bccsp/pkcs11 0.034s
ok   github.com/hyperledger/fabric/bccsp/signer (cached) coverage: 100.0% of statements

Can confirm that I ran the submitted CR and it bypasses the initialization issues.
 
Thanks again!;;;","05/Dec/18 12:07 AM;tock;The change in the Makefile in the recent merge breaks the local build because softhsm2-util is not installed. And to top it off, you allow yourself to mkdir on $HOME. This is very intrusive.;;;","05/Dec/18 12:26 AM;harsha544;The local build *never fails*, it's rather UT that fails, the PR introduces changes to fixate issue post testenv target removal from Makefile.

If you go through the suggestions that went in we have updated documentation that suggests Developers to update the environment with softhsm installation.

Any user specific change, as recommended in this change should be specific to a user's $HOME directory and not globally, as such SOFTHSM2_CONF was update to leverage $HOME directory path.;;;","05/Dec/18 3:01 AM;tock;Got it. I installed softhsm2 per the instructions and it works.

I still think that this script has no business modifying the users $HOME directory. I think it will be safer to create a directory (.softhsm2 maybe?) next to the .build directory under the hyperledger/fabric folder. you can add that to the .gitignore and point SOFTHSM2_CONF  there.   ;;;","05/Dec/18 7:39 AM;sykesm;I've opened https://jira.hyperledger.org/browse/FAB-13164 to revert this change. We also need to revert the corresponding CI change in FABCI-227.

I agree with Yoav that writing to files outside of the build tree is an extremely unfriendly, somewhat arrogant act. These changes have also broken existing, functional local unit tests (which is what devs care about when we ""build"") on MacOS.

We need a solution that does not modify files outside of the build tree and that works consistently across Linux and Darwin.;;;","05/Dec/18 7:41 AM;sykesm;[~JonathanLevi] Setting these environment variables (pointing to the correct library location on Darwin) would allow the tests to run:

{code}
# This enables bccsp pkcs11 tests:
# softhsm2-util --init-token --label ForFabric --pin 98765432 --slot 0 --so-pin 1234
if [ -f /usr/local/Cellar/softhsm/2.5.0/lib/softhsm/libsofthsm2.so ]; then
    export PKCS11_LIB=""/usr/local/Cellar/softhsm/2.5.0/lib/softhsm/libsofthsm2.so""
    export PKCS11_PIN=98765432
    export PKCS11_LABEL=""ForFabric""
fi
{code};;;","05/Dec/18 11:36 AM;harsha544;Agreed with Yoav, we can point SOFTHSM in build tree, this PR did sit out for quiet for sometime for reviews, and have incorporated changes based on suggestions/feedback.

It might solve intermittent issues on MAC but this doesn't allow softhsm2 token to be generated for pkcs11 tests on CI/Ubuntu Systems, as mentioned.
 # This enables bccsp pkcs11 tests:
 # softhsm2-util --init-token --label ForFabric --pin 98765432 --slot 0 --so-pin 1234if [ -f /usr/local/Cellar/softhsm/2.5.0/lib/softhsm/libsofthsm2.so ]; then
 export PKCS11_LIB=""/usr/local/Cellar/softhsm/2.5.0/lib/softhsm/libsofthsm2.so"" export PKCS11_PIN=98765432
 export PKCS11_LABEL=""ForFabric""

fi

 

 

Probably having a conditional statement that identifies underlying Linux/Darwin should suffice.

 ;;;","08/Dec/18 7:20 AM;rameshthoomu;Re-open this issue as the fix is reverted in fabric and CI config.;;;","13/Dec/18 11:16 AM;sambhavdutt;I see the unit-test , <s390x>, <release-1.4> branch and the <master> are failing with the same error, *Softhsm* is not installed. This is expected but just want to update the status.

*fabric commit <release-1.4>* c10e00c7cd7d031b654dcb115db3267b5b5dcc39

{code:java}
19:46:09 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library:/usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library /usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so ForFabric: Could not get Slot List [pkcs11: 0x190: CKR_CRYPTOKI_NOT_INITIALIZED]]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.040s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.4-s390x/1/;;;","19/Dec/18 11:29 PM;vijaypunugubati;*Unit-test fails* consistently on the *release-1.4* branch due to *softhsm* from last 6 days.
{code:java}
/19:46:52 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library:/usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library /usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so ForFabric: Could not get Slot List [pkcs11: 0x190: CKR_CRYPTOKI_NOT_INITIALIZED]]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.037s
19:46:52 ok  	github.com/hyperledger/fabric/bccsp/signer	(cached)	coverage: 100.0% of statements
19:47:27 ok  	github.com/hyperledger/fabric/bccsp/sw	37.842s	coverage: 90.2% of statements
19:47:27 ?   	github.com/hyperledger/fabric/bccsp/sw/mocks	[no test files]
19:47:27 ok  	github.com/hyperledger/fabric/bccsp/utils	(cached)	coverage: 85.5% of statements
19:47:27 Makefile:187: recipe for target 'unit-test' failed/ code placeholder
{code}
Build logs:

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.4-s390x/4/console]

 ;;;","19/Dec/18 11:33 PM;JonathanLevi;While I know that nobody believes me ;-), as of course, I don't have an s390 laptop version ;-)

But, we have repeatedly observed similar inconaisinco behaviour if that token directory is not in place.

I am tempted to push a CR that may prevent this, or at the very least, do no harm.

While I don't mind thia specific error in general, I am usually very concerned when things are not deterministic.;;;","20/Dec/18 2:22 AM;JonathanLevi;I have self-assigned this and may need some help with somebody with access to an s390 machine...

Otherwise, please feel free to grab this.

 ;;;","29/Dec/18 9:48 AM;rameshthoomu;This has been fixed in s390x job by intiatializing the token. Here is the change https://gerrit.hyperledger.org/r/#/c/28389/2/jjb/fabric/fabric-macros.yaml;;;","29/Dec/18 10:59 AM;rameshthoomu;https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/;;;"
Track leadership changes of Raft cluster,FAB-12672,35031,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,C0rWin,C0rWin,C0rWin,01/Nov/18 8:02 AM,25/Nov/18 9:52 PM,28/Oct/23 3:04 AM,25/Nov/18 9:52 PM,v1.4.0,,,,,v1.4.0,,,,fabric-orderer,,,,0,,,,"In order to properly support leader failover during reconfiguration of the Raft cluster, Raft Chain, should be able to track leadership changes. Chain should introduce capability to trigger notification upon leader change to handle leader changes to take over and handle reconfiguration. 

Currently chain receives channel via constructor such that external observer could be notified upon leader changes. However this channel could not be used internally for the purpose of taking care of failover. 

Therefore there is a need to devise a method to track changes to being able to support leadership failover while re-configuring cluster.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Establish connections to remote nodes asynchronously,FAB-12673,35033,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,01/Nov/18 8:32 AM,16/Nov/18 4:56 AM,28/Oct/23 3:04 AM,02/Nov/18 7:22 PM,,,,,,,,,,,,,,0,,,,"Currently, the cluster's egress communication connects to a remote node synchronously and lazily upon demand.

This creates a problem for etcdraft chains, because it sends all communication from the same goroutine (specifically - by reading the *Ready()* channel from the *etcdraft.Node* which emits commands from the Raft library) , and thus - whenever a node is down, the connection attempt to it returns only when the dial timeout expires, and this slows down the entire raft core, namely - things like leader heartbeats, consensus, and more.

Therefore, the communication layer needs to connect to remote nodes asynchronously, and whenever a node is unreachable - try to reconnect it in the background.

This can be solved by creating the gRPC connection without an explicit requirement for blocking via omitting the gRPC.WithBlock dial option.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Nov/18 9:28 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27307/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer service with the ability to accommodate transferFrom proof requests using mock transactor",FAB-12675,35036,34676,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,01/Nov/18 7:45 PM,03/Dec/18 11:06 PM,28/Oct/23 3:04 AM,03/Dec/18 11:06 PM,,,,,,,,,,,,,,0,fabtoken,,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 11:23 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27252/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Include way to access console output in email of documentation broken links,FAB-12677,35038,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jtclark,pandrejko,pandrejko,01/Nov/18 9:41 PM,13/Nov/18 12:18 AM,28/Oct/23 3:04 AM,13/Nov/18 12:18 AM,,,,,,,,,,fabric-ci,,,,0,,,,Current links in the new email don't provide a way to view the console output to see which links are broken.,,jtclark,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrr3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtclark,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/18 12:22 AM;rameshthoomu;[~pandrejko] When we send an email, we are not expanding the console log as we would like to see HTML directory at the root.. 

In the email, you see 

Console Logs URL:
 [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/972]

from the above link, click on `console.log.gz` to see the failed console log

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/972/console.log.gz]

 ;;;","08/Nov/18 6:34 AM;jtclark;[~pandrejko] Have you had a chance to review Ramesh's comments above?;;;","08/Nov/18 9:34 AM;pandrejko;[~rameshthoomu] - OK. But if I click on

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/972/console.log.gz]

 and search on the word Broken nothing comes up.  So, either we have fixed all our broken links which I don't think so because my CR has not been merged yet, or I am looking at the wrong report or searching on the wrong text.

 

Let's try to sync up tomorrow if we can.;;;","08/Nov/18 12:05 PM;jtclark;[~pandrejko] - The example above is not the best example. This particular job run encountered an error with the tox tool itself:

{code:java}
*00:00:27.459* + ssh -p 29418 hyperledger-jobbuilder@gerrit.hyperledger.org gerrit review 26813,25 --notify '""NONE""' -m '""Starting documentation build""' -l F2-DocBuild=0*00:00:29.539* Warning: Permanently added the RSA host key for IP address '[34.217.168.255]:29418' to the list of known hosts.*00:00:30.220* + echo '---> Generating docs'*00:00:30.220* ---> Generating docs*00:00:30.220* + cd /w/workspace/fabric-docs-build-x86_64/gopath/src/github.com/hyperledger/fabric*00:00:30.220* + tox -edocs*00:00:30.459* Traceback (most recent call last):*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/pluggy/manager.py"", line 267, in load_setuptools_entrypoints*00:00:30.460*     plugin = ep.load()*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/pkg_resources/__init__.py"", line 2228, in load*00:00:30.460*     self.require(*args, **kwargs)*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/pkg_resources/__init__.py"", line 2245, in require*00:00:30.460*     items = working_set.resolve(reqs, env, installer)*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/pkg_resources/__init__.py"", line 834, in resolve*00:00:30.460*     raise VersionConflict(dist, req).with_context(dependent_req)*00:00:30.460* pkg_resources.VersionConflict: (tox 2.9.1 (/tmp/v/tox/lib/python3.5/site-packages), Requirement.parse('tox<4,>=3.5'))*00:00:30.460* *00:00:30.460* During handling of the above exception, another exception occurred:*00:00:30.460* *00:00:30.460* Traceback (most recent call last):*00:00:30.460*   File ""/tmp/v/tox/bin/tox"", line 11, in <module>*00:00:30.460*     sys.exit(cmdline())*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/tox/session.py"", line 39, in main*00:00:30.460*     config = prepare(args)*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/tox/session.py"", line 27, in prepare*00:00:30.460*     config = parseconfig(args)*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/tox/config.py"", line 205, in parseconfig*00:00:30.460*     pm = get_plugin_manager(plugins)*00:00:30.460*   File ""/tmp/v/tox/lib/python3.5/site-packages/tox/config.py"", line 44, in get_plugin_manager*00:00:30.460*     pm.load_setuptools_entrypoints(""tox"")
{code}

This error is indeed observable from the link that [~rameshthoomu] provided. However, here is a better example of a fabric-docs-build job that executes tox correctly, yes reports broken errors:
https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-docs-build-x86_64/3/console.log.gz

To add, here is a URL that shows a successful fabric-docs-build job run:
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/963/console.log.gz;;;","08/Nov/18 10:22 PM;pandrejko;[~jtclark] - That works for me. Thank you.;;;","13/Nov/18 12:18 AM;jtclark;Marking this issue as *DONE*, since the email sent provides a link to the console output.;;;",,,,,,,,,,,,,,,,,,,
Update explanatory comment for flogging Core to highlight the behavior of Check,FAB-12678,35042,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wlahti,wlahti,01/Nov/18 11:09 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,The explanatory comment for the Core struct in https://github.com/hyperledger/fabric/blob/master/common/flogging/core.go should make sure to highlight the behavior of the Check() function.,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzzx6f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update logging nomenclature - loggers instead of modules,FAB-12679,35043,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,01/Nov/18 11:11 PM,13/Nov/18 12:21 AM,28/Oct/23 3:04 AM,13/Nov/18 12:21 AM,,,,,,,,,,,,,,0,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 3:50 AM;wlahti;https://gerrit.hyperledger.org/r/c/27443/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"ledger_lte_smoke test_FAB_9708 (""varyNumTxs"") is failing",FAB-12680,35044,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,sambhavdutt,sambhavdutt,01/Nov/18 11:14 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,08/Nov/18 12:57 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"Observed the following errors in FAB_9708 Couchdb and LevelDB, in fabric-test-merge jobs

*Failing consistently*
{code:java}
ledger_lte_smoke.smoke_ledger.test_FAB_9708_CouchDB_VaryNumTxs (from pytest) 

                ""./runbenchmarks.sh -f parameters_couchdb_smoke_CI.sh ""
                ""varyNumTxs"",
                shell=True, stderr=subprocess.STDOUT, stdout=logfile,
                cwd=tool_directory)
        logfile.close()
        self.assertEqual(returncode, 0, msg=""VaryNumTxs ""
                ""performance test failed. \nPlease check the logfile ""
{code}
{code:java}
ledger_lte_smoke.smoke_ledger.test_FAB_9708_LevelDB_VaryNumTxs (from pytest) 

AssertionError: VaryNumTxs performance test failed.  Please check the logfile output_Smoke_LevelDB_VaryNumTxs.log for more details.
.
.
>               +logfile.name+"" for more details."")
E       AssertionError: VaryNumTxs performance test failed. 
E       Please check the logfile output_Smoke_LevelDB_VaryNumTxs.log for more details.

ledger_lte_smoke.py:30: AssertionError
{code}
*Build Logs*

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/510/testReport/ledger_lte_smoke/smoke_ledger/test_FAB_9708_LevelDB_VaryNumTxs/]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/510/]",,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12560,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a37bfd954643b1983fa079cc0c8dbea428c4e667,Unset,No,,,"1|hzzx6v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,true,"06/Nov/18 1:52 AM;sambhavdutt;The fabric-test-merge job is still failing in the ledger_lte smoke tests, 

*Commit: 61397f2f12dce77fe2174871e86f488fb560d52c*

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/512/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/512/;;;","07/Nov/18 3:25 AM;AdnanChoudhury;This looks like the same failure as FAB-12560, linking them as duplicate and closing the other one.;;;","07/Nov/18 5:18 AM;AdnanChoudhury;https://gerrit.hyperledger.org/r/#/c/27404/;;;","08/Nov/18 12:56 AM;AdnanChoudhury;Closing this as the merge jobs and the verify job is passing and no longer show this error. The few verify jobs that failed need to rebase to get it passed. [~sambhavdutt] [~rameshthoomu];;;",,,,,,,,,,,,,,,,,,,,,
Configure a peer's MSP based on a YAML config file,FAB-12682,35048,33915,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sykesm,mne,mne,02/Nov/18 12:47 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,v2.0.0,,,,,,,,0,stale-item,,,"Currently the peer's MSP can be configured by a properly constructed directory structure pointed to by the CORE_PEER_MSPCONFIGPATH config option. Allow MSP to also be configured by pointing this config option to a YAML file that contains the required information.

Keys and certificates are represented as hex-encoded strings.

The yaml file has the following structure:


{{ Configuration:}}
{{   OrganizationalUnitIdentifiers:}}
{{     -Certificate:""hexstring""}}
{{   OrganizationalUnitIdentifier:""COP""}}
{{   NodeOUs:}}
{{     Enable:false}}
{{     ClientOUIdentifier:}}
{{       Certificate:""hexstring""}}
{{       OrganizationalUnitIdentifier:""OU_client""}}
{{     PeerOUIdentifier:}}
{{       Certificate:""hexstring""}}
{{       OrganizationalUnitIdentifier:""OU_peer""}}
{{ X509:}}
{{   SigningKey:""hexstring""}}
{{   SigningCertificate:""hexstring""}}
{{   AdminCertificates:}}
{{   - ""hexstring""}}
{{   CACertificates:}}
{{   - ""hexstring""}}
{{   TLSCACertificates:}}
{{   - ""hexstring""}}
{{  }}",,denyeart,mne,mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx7r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mne,mrshah-ibm,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Nov/18 1:16 AM;mne;[https://gerrit.hyperledger.org/r/#/c/27310/]

WIP for specifying JSON at CLI, abandoned;;;","08/Nov/18 2:11 AM;mne;https://gerrit.hyperledger.org/r/#/c/27437/;;;","06/Dec/18 1:13 AM;denyeart;Moving to v2.0 since there is still discussion ongoing around the encoding.;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
Add logger name validation,FAB-12685,35052,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,02/Nov/18 4:36 AM,08/Nov/18 11:47 PM,28/Oct/23 3:04 AM,08/Nov/18 11:47 PM,,,,,,,,,,,,,,0,,,,Logger names should be validated to be sure they don't include invalid characters or start/end with periods. This will be particularly useful to notify operators who use regular expressions to set log levels that this functionality is no longer supported.,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx8f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 1:47 AM;wlahti;https://gerrit.hyperledger.org/r/c/27401/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update Makefile in fabric-test to execute the correct setup for each repo,FAB-12686,35054,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,02/Nov/18 5:37 AM,11/Dec/18 11:13 PM,28/Oct/23 3:04 AM,11/Dec/18 11:13 PM,,,,,,v1.4.0,,,,,,,,0,,,,"In the Makefile, there needs to be a separate target for each repository that uses the interoperability tests.

interop-fabric should pull the latest versions of: 
* fabric-sdk-java
* fabric-sdk-node
* fabric-chaincode-shim
* fabric-node-shim
* fabric-ca
The fabric-ca-peer and fabric-ca-orderer images should be built based on the git commit hash in the latest fabric-ca image. 

interop-fabric-ca should pull the latest versions of: 
* fabric-sdk-java
* fabric-sdk-node
* fabric-chaincode-shim
* fabric-node-shim
* fabric-peer
* fabric-orderer
The fabric-ca-peer and fabric-ca-orderer images should be built based on the git commit hash of the merged CR. 

interop-fabric-sdk-node should pull the latest versions of: 
* fabric-sdk-java
* fabric-chaincode-shim
* fabric-node-shim
* fabric-ca-peer
* fabric-ca-orderer

interop-fabric-sdk-java should pull the latest versions of: 
* fabric-sdk-node
* fabric-chaincode-shim
* fabric-node-shim
* fabric-ca-peer
* fabric-ca-orderer
",,jtclark,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx8v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtclark,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,true,"27/Nov/18 1:03 PM;jtclark;This task is heavily dependent on LF to provide us with a way to upload non-maven artifacts to maven, as well as a way to access the API for tagging. Until these issues are resolved, the work on this JIRA item is *{color:red}BLOCKED{color}*.

RT Ticket references:

https://rt.linuxfoundation.org/SelfService/Display.html?id=63838
https://rt.linuxfoundation.org/SelfService/Display.html?id=63940;;;","28/Nov/18 7:50 AM;latitiah;This is the WIP that shows the proposed process and change that will allow the pulling of the correct artifacts for testing. https://gerrit.hyperledger.org/r/27767;;;",,,,,,,,,,,,,,,,,,,,,,,
Avoid polluting logs if there are disconnected nodes in cluster,FAB-12687,35059,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,02/Nov/18 4:38 PM,30/Jan/19 6:24 AM,28/Oct/23 3:04 AM,30/Jan/19 6:24 AM,,,,,,,,,,,,,,0,,,,"If a node is disconnected from cluster, every failed RPC call (in particular, {{Step}} for heartbeats) produces an error message, which pollute logs on both connected & disconnected nodes. We probably should devise a mechanism to log once for all.

Another case should be taken care of is that when a new node is catching up with the others, RPC calls to a channel created during its absence also produce fairly amount of logs, because this channel is missing on this newly connected node, until it applies the channel creation config block.",,guoger,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx9j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jan/19 2:41 AM;yacovm;I think a nice way of dealing this is to have a changing severity level for these log messages:

Let *n* be the number of times the RPC message failed to send.
If *n* < 3, log in error.
If 2 < *n* < 5, log in warning.
If 4 < *n* < 10, log in info.
If 9 < *n* , log in debug.

If it succeeds, then reset *n* to 0.
what do you think?;;;","12/Jan/19 4:13 AM;scottz;I like both ideas. How about something like:
* Print one ERR log when the connection first fails.
* Retry every 0.1 sec. Continue for 100s (or long enough for an orderer to restart; we want it to recover quickly in this situation). Print INFO or DEBUG logs for these if you want to see anything.
* After the 100sec, extend the retry interval to one per minute. From here on, print INFO or WARN logs every minute: ""failed to reconnect to orderer N; still down after X mins Y secs"", or ""down since xyz"".
* Upon reconnection, print a WARN log indicating the recovery, and report how long the connection had been down.;;;","12/Jan/19 4:33 AM;yacovm;The retry is done by etcdraft, not by fabric. We don't control it.;;;","12/Jan/19 5:27 AM;scottz;If all we can control is the log severity, then after the first ERR log, put the rest in debug, or nowhere, except an occasional (every minute? hour?) log in INFO or WARN saying we are continuing to try to reconnect to ordererN. Maybe include something like ""M failed attempts in the last N minutes"", so people can see that we are trying (without seeing a flood of logs.;;;","12/Jan/19 5:53 AM;yacovm;OK then how about:

We have a bit/flag per host.
* If we failed sending a message to a remote host, and the bit is off, we print in error, and then turn on the bit.
* If we failed sending a message to a remote host and the bit is on, we print in debug.
* If we succeed in sending a message while the bit is on, we print an info message that we succeeded in sending, and then turn off the bit.

[~kchristidis] [~guoger] wdyt?;;;","12/Jan/19 6:23 AM;kchristidis;^ I like this idea.;;;","12/Jan/19 10:22 PM;guoger;nice proposal!

i actually like a combination of both: Errorf the first failure and then every 10 consecutive failures. Reset when it succeeds.

This case, we don't pollute debug log neither, since very often we turn on debug log to find something useful, but overwhelmed by loads of failed message delivery. Also, whoever inspects the log at info level still gets periodically alerted that there are still messages failed to be deliver, something like:
ERRO: Failed to deliver N messages to x

wdyt?;;;","12/Jan/19 10:51 PM;yacovm;If we log in error every 10 consecutive failures, we're not solving the problem, we're only reducing it. 
If nothing is going on (no transactions) then we're still going to have only error logs, and lots of them.;;;","13/Jan/19 3:52 AM;scottz;Your solution seems good, [~yacovm].
And if anyone wants to throttle the debug logs further, it seems that could be helpful, from our perspective. Knowing we are continually retrying is enough, so we don't have to print a debug log every time - maybe only 1 out of every 10 (or 600 or 1000 or?) of the debug logs. Remember this could be overwhelming if it is happening for multiple channels for multiple stopped orderers. But I defer any decision about the debug logs to you all.;;;","22/Jan/19 4:21 PM;guoger;https://gerrit.hyperledger.org/r/c/28883/;;;",,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for transfer tokens",FAB-12688,35061,32186,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mathiasb303,mathiasb303,mathiasb303,02/Nov/18 7:08 PM,31/Jan/19 6:50 AM,28/Oct/23 3:04 AM,31/Jan/19 6:50 AM,,,,,,,,,,fabric-crypto,fabric-peer,,,0,fabtoken,,,"The test starts with a user issuing tokens for a recipient and then having the recipient leverage the list tokens functionality to check that the issued tokens were well-received. The issued tokens are then transferred, and finally, the list tokens functionality is used again to check that the tokens were correctly transferred.",,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12399,FAB-11292,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzx9z:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 6:51 PM;mathiasb303;CR: https://gerrit.hyperledger.org/r/27224;;;",,,,,,,,,,,,,,,,,,,,,,,,
pkcs11 `make unit-test` fails when run locally,FAB-12689,35062,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harsha544,sykesm,sykesm,03/Nov/18 12:02 AM,04/Dec/18 6:07 PM,28/Oct/23 3:04 AM,04/Dec/18 6:07 PM,,,,,,,,,,fabric-build,fabric-ci,,,0,,,,"{code:java}
pkcs11
ok  	github.com/hyperledger/fabric/bccsp	(cached)	coverage: 84.1% of statements
ok  	github.com/hyperledger/fabric/bccsp/factory	4.940s	coverage: 83.2% of statements
ok  	github.com/hyperledger/fabric/bccsp/idemix	(cached)	coverage: 92.9% of statements
?   	github.com/hyperledger/fabric/bccsp/idemix/mock	[no test files]
?   	github.com/hyperledger/fabric/bccsp/mocks	[no test files]
Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.034s
ok  	github.com/hyperledger/fabric/bccsp/signer	(cached)	coverage: 100.0% of statements
ok  	github.com/hyperledger/fabric/bccsp/sw	13.570s	coverage: 89.9% of statements
?   	github.com/hyperledger/fabric/bccsp/sw/mocks	[no test files]
ok  	github.com/hyperledger/fabric/bccsp/utils	(cached)	coverage: 85.5% of statements
make: *** [unit-test] Error 1 {code}",,harsha544,mastersingh24,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxa7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,mastersingh24,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/18 12:13 AM;sykesm;Doesn't seem like pkcs11 tests should be running on platforms that don't have a pkcs11 library available.

Inside of github.com/hyperledger/fabric/bccsp/pkcs11/impl.go, it looks for /usr/local/Cellar/softhsm/2.1.0/lib/softhsm/libsofthsm2.so on the mac. That version is way ancient.

Given the mac is one of the primary dev platforms, doesn't seem this should be failing.;;;","12/Nov/18 3:14 PM;rameshthoomu;softhsm was part of testenv image, as the image has been removed from fabric master, now the developer has to install softhsm package on his developement machine. I think we have to add these steps in fabric makefile to get it install in the dev platforms.. [https://github.com/hyperledger/fabric/blob/release-1.3/images/testenv/install-softhsm2.sh]

 ;;;","19/Nov/18 8:55 PM;harsha544;FWIW, have provided a work-around here https://jira.hyperledger.org/browse/FAB-12670?focusedCommentId=53242&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-53242;;;","30/Nov/18 1:34 PM;rameshthoomu;Assigned this to Harsha as he pushed a patchset related to this issue.;;;","30/Nov/18 6:19 PM;harsha544;https://gerrit.hyperledger.org/r/#/c/27759/;;;",,,,,,,,,,,,,,,,,,,,
PTE runPTE.sh reads chaincode name dynamically,FAB-12690,35063,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,03/Nov/18 12:12 AM,21/Dec/18 12:06 AM,28/Oct/23 3:04 AM,21/Dec/18 12:06 AM,,,,,,,,,,fabric-quality,,,,0,,,,"in order for runPTE.sh to support any chaincode name and version, need to read the chaincode name and version dynamically from PTE config json file. This will allow user to specify on command line option for runPTE.sh the chaincode name or version.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzxaf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/18 6:07 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28230/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Behave test daily for master branch is running into an infinite loop.,FAB-12691,35064,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,03/Nov/18 12:20 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,08/Nov/18 3:01 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The Behave daily tests are executing continuously for the master branch on the Jenkins x nodes during the gossip behave tests. This test fails and exits when executed on local machine,


{code:java}
And I wait ""30"" seconds                                                                                                                                                                                   # steps/basic_impl.py:21 30.004s
    And an admin deploys chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" on the initial leader peer of ""org1"" # steps/endorser_impl.py:93 15.004s
      Assertion Failed: Error: After polling for 15 seconds, no gossip-leader found by looking at the logs, for org1
      Captured stdout:
      testConfigs: configs/255889d1de0a11e8944ea45e60f04519
      [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer channel create --file /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.tx --channelID behavesystest --timeout 300s --orderer orderer0.example.com:7050 ""]: {'cli': ''}
      [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp peer channel fetch config /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.block --channelID behavesystest --orderer orderer0.example.com:7050 ""]: {'peer1.org1.example.com': ''}
      [/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer1.org1.example.com CORE_PEER_ADDRESS=peer1.org1.example.com:7051 peer channel join --blockpath /var/hyperledger/configs/255889d1de0a11e8944ea45e60f04519/behavesystest.block""]:

Memory Info Before Network Teardown:
	Free: 935235584
	Used: 13010665472
	Percentage: 75.1

total 68
drwxr-xr-x 4 adnanc staff   128 Nov  1 15:12 peerOrganizations
drwxr-xr-x 3 adnanc staff    96 Nov  1 15:12 ordererOrganizations
-rw-r--r-- 1 adnanc staff 17497 Nov  1 15:12 configtx.yaml
-rw-r--r-- 1 adnanc staff 15876 Nov  1 15:12 orderer.block
-rw-r--r-- 1 adnanc staff  1326 Nov  1 15:12 behavesyschan.tx
-rw-r--r-- 1 adnanc staff   307 Nov  1 15:13 org1.example.combehavesyschanAnchor.tx
-rw-r--r-- 1 adnanc staff   307 Nov  1 15:13 org2.example.combehavesyschanAnchor.tx
-rw-r--r-- 1 adnanc staff  1326 Nov  1 15:13 behavesystest.tx
-rw-r--r-- 1 adnanc staff 14325 Nov  1 15:13 behavesystest.block

configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org1.example.com/users:
total 0
drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 User1@org1.example.com
drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 Admin@org1.example.com

configs/255889d1de0a11e8944ea45e60f04519/peerOrganizations/org2.example.com/users:
total 0
drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 User1@org2.example.com
drwxr-xr-x 4 adnanc staff 128 Nov  1 15:12 Admin@org2.example.com


Memory Usage Info:
Filesystem     1K-blocks      Used Available Use% Mounted on
/dev/disk1s1   488347692 104004872 373169936  22% /
/dev/disk1s4   488347692  10485800 373169936   3% /private/var/vm


*** Memory Info:
	Free: 684437504
	Used: 13095698432
	Percentage: 76.6

.
.
.
.

Ending Memory Info:
	Free: 681648128
	Used: 13097263104
	Percentage: 76.6

Failing scenarios:
  gossip.feature:53  [FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by stop, comes back up and catches up eventually. -- @1.1 
  gossip.feature:54  [FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by pause, comes back up and catches up eventually. -- @1.2 
  gossip.feature:55  [FAB-4663] [FAB-4664] [FAB-4665] A non-leader peer goes down by disconnect, comes back up and catches up eventually. -- @1.3 

0 features passed, 1 failed, 0 skipped
0 scenarios passed, 3 failed, 20 skipped
12 steps passed, 3 failed, 761 skipped, 0 undefined
Took 5m28.442s
Adnans-MacBook-Pro:feature adnanc$ behave gossip.feature -n FAB-4665
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/70/",,AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,7ff25efff553709c6347047af1a3f6ce52014324,Unset,No,,,"1|hzzxan:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 2:03 AM;sambhavdutt;The last run for Behave daily tests is not failing due to timeout error, All tests in Behave daily were completed in 9 hours, 11 minutes. 

There are test case failures in CouchDB Index, Chaincodes, Gossip, Orderer tests . I will address this in new Jira items if they fail again. 

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/75/

;;;","06/Nov/18 6:49 AM;scottz;This issue should be closed (but we can wait until tomorrow to make sure the timeouts are captured correctly for a second successive day). The other test failures seen today should be flagged as new issues. If the CI team cannot investigate and provide an explanation as to why the timeouts never happened, then maybe close this (and reopen again if the problem resurfaces). The timeouts worked correctly on desktop, just not in the CI test runs, so it is not a testcase issue.;;;","07/Nov/18 3:17 AM;scottz;If you are investigating with LF team for root cause anyways, then can keep it open. Otherwise we can close this becuase I see two days in a row of timeout results: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-results-master-x86_64/test_results_analyzer/;;;","08/Nov/18 3:03 PM;sambhavdutt;The Behave daily tests are not failing with timeout from several builds. Not sure why the jobs were not exiting on the x VMs.;;;",,,,,,,,,,,,,,,,,,,,,
Update go-kit based metrics provider to include meter options,FAB-12692,35066,15982,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/Nov/18 1:52 AM,07/Nov/18 11:56 PM,28/Oct/23 3:04 AM,07/Nov/18 11:56 PM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxav:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Add prometheus metric provider,FAB-12694,35068,15982,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,03/Nov/18 2:00 AM,07/Nov/18 11:57 PM,28/Oct/23 3:04 AM,07/Nov/18 11:57 PM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Error trace on gossip-test in unit-test,FAB-12695,35070,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,03/Nov/18 2:57 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,06/Nov/18 3:48 AM,v1.3.0,,,,,v1.3.0,,,,fabric-gossip,,,,0,ci-failure,,,"Gossip-test fail to build in fabric-unit-test-daily-release-1.3-x86_64 job

No commit was observed relate to this error.
{code:java}
/09:46:38 unit-tests_1  | 
09:46:38 unit-tests_1  | goroutine 55170 [select]:
09:46:38 unit-tests_1  | github.com<<<TestConnectToAnchorPeers>>>
09:46:38 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (367.07s)
09:46:38 unit-tests_1  | 	assertions.go:247:  
	Error Trace:	gossip_test.go:1529
09:46:38 unit-tests_1  | 
			asm_amd64.s:2361
09:46:38 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
09:46:38 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
09:46:38 unit-tests_1  | 	assertions.go:247: 
	Error Trace:	gossip_test.go:1589
09:46:38 unit-tests_1  |
			gossip_test.go:473
09:46:38 unit-tests_1  | 		
	Error:      	Timeout expired!/ code placeholder
{code}
*Build log:* https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-x86_64/40/console",,David.Yan,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxbr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),David.Yan,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 3:47 AM;sambhavdutt;The unit test daily for release-1.3 has been passing from two builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Consider a validating test provider for metrics,FAB-12696,35071,15982,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,03/Nov/18 3:38 AM,28/Nov/18 11:13 PM,28/Oct/23 3:04 AM,28/Nov/18 11:13 PM,,,,,,,,,,,,,,0,,,,"When pure fake implementations of meters are used, there's no validation done on the label cardinality or on the validity of the resulting bucket names (stasd) or metric name (prometheus).

We should consider creating a provider explicitly for test that validates these requirements while recording the metric. (Could be a simple as using the stastsd write to implementation to get the results at the end of the test and validate all the contents.)

Additionally, the provider should attempt to validate label values for conflicts with the rules implemented by prometheus and statsd.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 11:13 PM;sykesm;Instead of implementing a validating provider, we're simply enabling prom in the integration test framework.;;;",,,,,,,,,,,,,,,,,,,,,,,,
The OTE tests are failing in all test cases for FAB_6996_30ktx_1ch_solo,FAB-12697,35072,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,sambhavdutt,sambhavdutt,03/Nov/18 4:05 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Nov/18 11:41 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"Observed the below test cases failing for the orderer performance tests, testMethod=test_FAB_6996_30ktx_1ch_solo,

{code:java}
11:44:27 orderer_ote.py::perf_orderer::test_FAB_6996_30ktx_1ch_solo FAILED
11:46:39 orderer_ote.py::perf_orderer::test_FAB_7024_30ktx_1ch_solo_500batchsize FAILED
11:48:54 orderer_ote.py::perf_orderer::test_FAB_7026_30ktx_3ch_solo FAILED
11:51:09 orderer_ote.py::perf_orderer::test_FAB_7027_30ktx_3ch_solo_500batchsize FAILED
11:53:34 orderer_ote.py::perf_orderer::test_FAB_7036_30ktx_1ch_3ord_5kb FAILED
11:56:02 orderer_ote.py::perf_orderer::test_FAB_7037_30ktx_1ch_3ord_5kb_500batchsize FAILED
11:58:30 orderer_ote.py::perf_orderer::test_FAB_7038_30ktx_3ch_3ord_5kb FAILED
12:00:56 orderer_ote.py::perf_orderer::test_FAB_7039_30ktx_3ch_3ord_5kb_500batchsize FAILED
12:03:23 orderer_ote.py::perf_orderer::test_FAB_7058_30ktx_1ch_6ord_5kb FAILED
12:05:51 orderer_ote.py::perf_orderer::test_FAB_7059_30ktx_1ch_6ord_5kb_500batchsize FAILED
12:08:24 orderer_ote.py::perf_orderer::test_FAB_7060_30ktx_3ch_6ord_5kb FAILED
12:10:58 orderer_ote.py::perf_orderer::test_FAB_7061_30ktx_3ch_6ord_5kb_500batchsize FAILED
12:13:14 orderer_ote.py::perf_orderer::test_FAB_7070_30ktx_1ch_solo_10kpayload FAILED
12:15:29 orderer_ote.py::perf_orderer::test_FAB_7071_30ktx_1ch_solo_500batchsize_10kpayload FAILED
12:17:45 orderer_ote.py::perf_orderer::test_FAB_7072_30ktx_3ch_solo_10kpayload FAILED
12:20:01 orderer_ote.py::perf_orderer::test_FAB_7073_30ktx_3ch_solo_500batchsize_10kpayload FAILED
12:22:23 orderer_ote.py::perf_orderer::test_FAB_7074_15ktx_1ch_3ord_5kb_10kpayload FAILED
12:24:48 orderer_ote.py::perf_orderer::test_FAB_7075_15ktx_1ch_3ord_5kb_500batchsize_10kpayload FAILED
12:27:14 orderer_ote.py::perf_orderer::test_FAB_7076_15ktx_3ch_3ord_5kb_10kpayload FAILED
12:29:37 orderer_ote.py::perf_orderer::test_FAB_7077_15ktx_3ch_3ord_5kb_500batchsize_10kpayload FAILED
12:31:59 orderer_ote.py::perf_orderer::test_FAB_7078_15ktx_1ch_6ord_5kb_10kpayload FAILED
12:34:29 orderer_ote.py::perf_orderer::test_FAB_7079_15ktx_1ch_6ord_5kb_500batchsize_10kpayload FAILED
12:37:08 orderer_ote.py::perf_orderer::test_FAB_7080_15ktx_3ch_6ord_5kb_10kpayload FAILED
12:39:45 orderer_ote.py::perf_orderer::test_FAB_7081_15ktx_3ch_6ord_5kb_500batchsize_10kpayload FAILED
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-master-x86_64/73/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ote-master-x86_64/73/console",,AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,35b6707affd376adf63f596e318aac5ad61a7fbe,Unset,No,,,"1|hzzxc7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/18 11:41 PM;sambhavdutt;The daily ote tests in the master branch have been passing in all test cases from 3 consecutive builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Generate documentation html content even if Doc build fails for broken links,FAB-12698,35073,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pandrejko,pandrejko,03/Nov/18 5:33 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-ci,,,,0,stale-item,,,"The new broken link checker is great, but even if broken links are detected, we still need the doc build to generate the HTML content.

 

Could the logic be modified to gen the HTML folder?

 ",,jtclark,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jtclark,pandrejko,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Nov/18 5:34 AM;pandrejko;[~odowdaibm] FYI;;;","13/Nov/18 1:20 AM;jtclark;Patch set is now *IN-REVIEW*:
https://gerrit.hyperledger.org/r/#/c/27511/

Here's a test run of this change on the sandbox:
https://logs.hyperledger.org/sandbox/vex-yul-hyp-jenkins-2/fabric-docs-build-x86_64/4/

You'll see that the HTML folder is still generated, even though the vote fails the DocBuild run.
;;;","27/Nov/18 3:45 AM;jtclark;[~odowdaibm], [~pandrejko] - Can either of you review the above patch? ;;;","27/Nov/18 7:20 AM;pandrejko;[~joe-alewine] We need to look at these.
[~jtclark] The weird thing is I thought we already fixed these, so I am confused why they are showing up again?


build network:
(line  175) broken    
[https://fabric-shim.github.io/ChaincodeInterface.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/ChaincodeInterface.html]

chaincode4ade:
(line   43) broken    
[https://fabric-shim.github.io/ChaincodeInterface.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/ChaincodeInterface.html

]
(line   56) broken    
[https://fabric-shim.github.io/ChaincodeStub.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/ChaincodeStub.html]

 

transactioncontext.html:
(line   34) broken    
[https://fabric-shim.github.io/fabric-contract-api.Contract.html]
 - 404 Client Error: Not Found for url: 
[https://fabric-shim.github.io/fabric-contract-api.Contract.html]

 

 

developing_applications.html:


(line  688) broken    
[https://www.npmjs.com/package/fabric-network]
 - HTTPSConnectionPool(host='www.npmjs.com', port=443): Read timed out. (read timeout=5);;;","03/Dec/18 11:24 PM;jtclark;[~pandrejko], [~joe-alewine], [~odowdaibm] - The issue regarding the links above has been addressed and merged in the following patchset:

[https://gerrit.hyperledger.org/r/#/c/27787/]

[~rameshthoomu] should be removing the -2 vote from this patch set to mark it Ready for Submission:

[https://gerrit.hyperledger.org/r/#/c/27511/]

 

 ;;;","04/Dec/18 2:09 AM;jtclark;As a final test, I ran the fabric-docs-build job on the sandbox with the linkchecker enabled, and it successfully completed 4 times in a row: https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,
Configtxgen fails when you leave off the MSP directory,FAB-12699,35074,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,pandrejko,pandrejko,03/Nov/18 5:37 AM,20/Feb/19 2:47 AM,28/Oct/23 3:04 AM,20/Feb/19 2:47 AM,,,,,,v2.0.0,,,,fabric-tools,,,,0,,,,"When configtx.yaml does not contain the organization MSP directory, configtxgen does not create channel transaction artifact.

This is an error because it should not need the MSP folder to create a transaction. Those certs should be in the system channel.

Nik Gupta [4:37 PM]
../bin/configtxgen -profile ThreeOrgsChannel -outputCreateChannelTx ./channel-artifacts/newchannel.tx -channelID newchannel


CRIT 008 Error on outputChannelCreateTx: config update generation failure: could not turn channel application profile into application group: failed to create application org: 1 - Error loading MSP configuration for org Org3MSP: %!s(MISSING): could not load a valid ca certificate from directory /Users/nikhilgupta/fabric-samples/first-network/cacerts: stat /Users/nikhilgupta/fabric-samples/first-network/cacerts: no such file or directory

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxcf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
System Behave Framework: Add the ability to revoke certificates using fabric-ca,FAB-12700,35076,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,jonathan,latitiah,latitiah,03/Nov/18 8:36 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,Future,,,,,,,,0,stale-item,,,fabric-ca has the ability to revoke certificates for a person as well as an organization. This ability needs to be added and tested.,,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxcn:",,,,Unset,Unset,,,(Please add steps to reproduce),5.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 11:06 PM;latitiah;Reassigning to Jonathan Levi, since he agreed to take this on in preparation for identity mixer revocation testing. Thanks Jonathan!;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
Check trailing spaces on local build,FAB-12702,35080,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,05/Nov/18 11:21 AM,02/Dec/18 2:45 AM,28/Oct/23 3:04 AM,02/Dec/18 2:45 AM,,,,,,v1.4.0,,,,fabric-ci,,,,0,,,,"CI process checks existence of trailing space(s).
 If trailing space(s) exist in modified ASCII-text file, VerifyBuild fails.
 On the other hand, local build does not check it.
 This patch adds checking for trailing space(s) existence in local build time.

This bug may occur on any previous version of fabric
that use ci-management code after Apr 12 2017 (added trailing space checking).
I don't know what ci-maangement version is used on each fabric version has pushed to gerrit,
so I keep JIRA's Affect Version/s empty.",,diizuka,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12598,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxdb:",,,,Unset,Unset,,,"1 Add tailing space to existing ASCII text file.
2. make on local. This succeeds.
3. git add && git commit && git push to gerrit
4. CI build fails at trailing space(s) checking.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Nov/18 11:17 PM;pandrejko;@Daisuke Iizuka Would this belong in the fabric-ci component instead of fabric-docs?;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Fix misspelling of “lauches""",FAB-12703,35082,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,diizuka,diizuka,diizuka,05/Nov/18 1:40 PM,15/Nov/18 11:18 PM,28/Oct/23 3:04 AM,15/Nov/18 11:18 PM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,v1.4.0,,,,fabric-samples,,,,0,,,,Fix misspelling of “lauches” to “launches”,,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxdr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Detect if current orderer is in channel,FAB-12704,35083,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,05/Nov/18 5:46 PM,16/Nov/18 4:45 AM,28/Oct/23 3:04 AM,16/Nov/18 4:45 AM,,,,,,,,,,,,,,0,,,,"Detect if the current orderer node is in a given channel, by:

* Pulling the last config block of the channel from some ordering node
* Inspecting the last config block and searching for one self's TLS certificate among the consenters",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/18 9:00 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27355/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Make all fabric samples that use SDK, use Private data Collections",FAB-12705,35085,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,khudeja,khudeja,05/Nov/18 8:09 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,Use private data in balance transfer example.,,khudeja,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12631,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzxef:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),khudeja,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
fix docs build error,FAB-12707,35087,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,05/Nov/18 9:47 PM,05/Nov/18 11:22 PM,28/Oct/23 3:04 AM,05/Nov/18 11:21 PM,,,,,,,,,,,,,,0,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Nov/18 11:21 PM;rameshthoomu;Updated tox version 3.5.0 from 2.9.1.. as the dtox module required tox >3.5.0;;;","05/Nov/18 11:21 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27358/;;;",,,,,,,,,,,,,,,,,,,,,,,
Add benchmark test for etcdraft,FAB-12708,35088,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,guoger,guoger,05/Nov/18 11:05 PM,11/May/21 11:06 PM,28/Oct/23 3:04 AM,11/May/21 11:06 PM,,,,,,Future,,,,fabric-orderer,,,,0,raft,,,"We should abandon [old orderer performance test|https://github.com/hyperledger/fabric/blob/release-1.3/orderer/common/server/benchmark_test.go] in favor of using nwo

 

 

tl;dr, flushing WAL data to disk *in parallel with* writing blocks to ledger significantly slows down ledger io throughput on OSX.

running this benchmark test on *OSX* give very surprising (disappointing) result.
{code:java}
package foo

import (
	""io/ioutil""
	""os""
	""syscall""
	""testing""
)

func Benchmark_No_WAL(b *testing.B) {
	dir, err := ioutil.TempDir("""", ""benchsync-*"")
	if err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	var ledger *os.File
	if ledger, err = ioutil.TempFile("""", ""sync-*""); err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	defer func() {
		os.Remove(dir)
	}()

	b.ResetTimer()
	for n := 0; n < b.N; n++ {
		ledger.Write(make([]byte, 1000))
		ledger.Sync()
	}
}

func Benchmark_WAL_OSX(b *testing.B) {
	dir, err := ioutil.TempDir("""", ""benchsync-*"")
	if err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	var wal, ledger *os.File
	if wal, err = ioutil.TempFile("""", ""sync-*""); err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	if ledger, err = ioutil.TempFile("""", ""sync-*""); err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	defer func() {
		os.Remove(dir)
	}()

	b.ResetTimer()
	go func() {
		for x := 0; x < b.N; x++ {
			wal.Write(make([]byte, 100))
			// etcd/wal uses this call on OSX to sync disk, instead of FD.Sync().
			// See this issue: https://github.com/golang/go/issues/26650
			syscall.Syscall(syscall.SYS_FCNTL, wal.Fd(), uintptr(syscall.F_FULLFSYNC), uintptr(0))
		}
	}()

	for n := 0; n < b.N; n++ {
		ledger.Write(make([]byte, 1000))
		ledger.Sync()
	}
}

func Benchmark_WAL_Linux(b *testing.B) {
	dir, err := ioutil.TempDir("""", ""benchsync-*"")
	if err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	var wal, ledger *os.File
	if wal, err = ioutil.TempFile("""", ""sync-*""); err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	if ledger, err = ioutil.TempFile("""", ""sync-*""); err != nil {
		b.Fatalf(""fail to benchmark: %s"", err)
	}

	defer func() {
		os.Remove(dir)
	}()

	b.ResetTimer()
	go func() {
		for x := 0; x < b.N; x++ {
			wal.Write(make([]byte, 100))
			wal.Sync()
		}
	}()

	for n := 0; n < b.N; n++ {
		ledger.Write(make([]byte, 1000))
		ledger.Sync()
	}
}
{code}",,guoger,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|hzzxf3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 12:52 AM;guoger;[https://gerrit.hyperledger.org/r/27844]
[https://gerrit.hyperledger.org/r/27845]
[https://gerrit.hyperledger.org/r/27846]
[https://gerrit.hyperledger.org/r/27857];;;","10/Jun/19 10:43 AM;jyellick;[~guoger] What do we want to do with this?;;;","10/Jun/19 11:00 AM;guoger;[~jyellick] i had a high throughput integration test during development, to ensure that orderer behaves (stop-recover, reconfig, etc) correctly under stress. It is also used for benchmarking purpose.

Although, it was thought to fall into system test bucket, therefore not merged (now abandoned). I personally still think it's valuable test, as normal integration test never actually put orderer under stress (multiple in-flight blocks), *nor did svt tests*. And we actually discovered bug running those tests.

So, IMO we should find a home, if not integration tests suite, for both stress-style integration tests and benchmark tests.;;;","10/Jun/19 11:16 AM;jyellick;[~sykesm] How does this fit into our overall test strategy?;;;","11/Jun/19 6:01 AM;sykesm;If it has to do with stress, operations, or long running environments, it belongs in system test.  It sounds like this has to do with stress and operations (recovery under stress).;;;","11/May/21 11:06 PM;guoger;Per discussion in this thread, perf test belongs to system test and does not fit into IT. ;;;",,,,,,,,,,,,,,,,,,,
Enable `CheckQuorum` in etcd/raft,FAB-12709,35089,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,05/Nov/18 11:07 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,30/Jan/19 2:06 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"bq. CheckQuorum specifies if the leader should check quorum activity. Leader steps down when quorum is not active for an electionTimeout.

UT scenario:
- disconnect leader, tick election timeout, and see it steps down",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13438,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxfb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jan/19 6:24 PM;guoger;https://gerrit.hyperledger.org/r/c/28778
https://gerrit.hyperledger.org/r/c/28628
https://gerrit.hyperledger.org/r/c/28783/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add server side interceptors that surface basic metrics,FAB-12710,35090,34519,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/18 12:21 AM,06/Nov/18 2:37 AM,28/Oct/23 3:04 AM,06/Nov/18 2:37 AM,,,,,,,,,,,,,,0,,,,"Introduce grpc interceptors for basic metrics
    
    These will surface the following:
    
- H: grpc_server_unary_request_duraion
- C: grpc_server_unary_requests_received
- C: grpc_server_unary_requests_completed
- H: grpc_server_stream_request_duration
- C: grpc_server_stream_requests_received
- C: grpc_server_stream_requests_completed
- C: grpc_server_stream_messages_sent
- C: grpc_server_stream_messages_received

All metrics include service and method labels/dimensions and metrics recorded at the end of a request/stream include the status code at completion.
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/18 1:43 AM;sykesm;https://gerrit.hyperledger.org/r/c/27360;;;",,,,,,,,,,,,,,,,,,,,,,,,
Wire grpc server interceptors into the peer grpc servers,FAB-12711,35091,34519,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/18 12:25 AM,10/Nov/18 2:32 AM,28/Oct/23 3:04 AM,10/Nov/18 2:32 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxfr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Wire grpc server interceptors into the orderer grpc server,FAB-12712,35092,34519,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sykesm,sykesm,06/Nov/18 12:25 AM,28/Nov/18 11:18 PM,28/Oct/23 3:04 AM,28/Nov/18 11:18 PM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12854,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxfz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire the metrics provider and stats handler into the peer grpc servers,FAB-12713,35093,34516,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,06/Nov/18 12:25 AM,10/Nov/18 2:32 AM,28/Oct/23 3:04 AM,10/Nov/18 2:32 AM,,,,,,,,,,,,,,0,,,,,,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Nov/18 12:57 AM;sykesm;When multiple grpc servers are used, the metric labels should be used to differentiate them. Example: admin server may be on separate endpoint from the peer; when counting connections, we want to know admin connections vs. peer connections.;;;","06/Nov/18 3:29 AM;skarim;https://gerrit.hyperledger.org/r/27361;;;",,,,,,,,,,,,,,,,,,,,,,,
Wire the metrics provider and the stats handler into the orderer grpc servers,FAB-12714,35094,34516,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,skarim,sykesm,sykesm,06/Nov/18 12:26 AM,28/Nov/18 11:16 PM,28/Oct/23 3:04 AM,28/Nov/18 11:16 PM,,,,,,,,,,,,,,0,,,,,,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12584,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxgf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/18 4:40 AM;skarim;https://gerrit.hyperledger.org/r/c/27367/;;;","28/Nov/18 11:16 PM;sykesm;The above CR was abandoned after being superseded by work in FAB-12584.;;;",,,,,,,,,,,,,,,,,,,,,,,
Extract GetLogSpec and SetLogSpec from the Admin server,FAB-12715,35096,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wlahti,sykesm,sykesm,06/Nov/18 1:04 AM,10/Dec/18 10:39 PM,28/Oct/23 3:04 AM,10/Dec/18 10:39 PM,,,,,,,,,,,,,,0,,,,"We want to distance ourselves a bit from the existing admin server that's exposed in the peer as the majority of what is there is either deprecated or does nothing.

These methods should remain on the existing admin service and the admin service should be deprecated for removal in the next major version.
{code}
    rpc GetStatus(common.Envelope) returns (ServerStatus) {}
    rpc StartServer(common.Envelope) returns (ServerStatus) {}
    rpc GetModuleLogLevel(common.Envelope) returns (LogLevelResponse) {}
    rpc SetModuleLogLevel(common.Envelope) returns (LogLevelResponse) {}
    rpc RevertLogLevels(common.Envelope) returns (google.protobuf.Empty) {}
{code}

With the legacy admin service deprecated, we can create a new {{LoggingAdmin}} service. This new service should be sharable between the orderer and the peer. It will include the following operations:

{code}
    rpc GetLogSpec(common.Envelope) returns (LogSpecResponse) {}
    rpc SetLogSpec(common.Envelope) returns (LogSpecResponse) {}
{code}

As part of this work
- the grpc service implementations for {Get,Set}LogSpec will be moved to common
- the corresponding code will be refactored out of the existing admin service
- the new service will be registered with the existing admin service server in the peer (new service, same server)

The dynamic orderer work should build on this by using the same service implementation in the orderer.",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12265,FAB-12842,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxgv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Nov/18 1:49 AM;wlahti;Create new Logging Admin Service - https://gerrit.hyperledger.org/r/c/27426
Move GetLogSpec/SetLogSpec to common - https://gerrit.hyperledger.org/r/c/27427
Register LoggingAdmin service on the peer - https://gerrit.hyperledger.org/r/c/27428
Update CLI to use LoggingAdmin service for Get/SetLogSpec - https://gerrit.hyperledger.org/r/c/27429;;;","10/Dec/18 10:39 PM;wlahti;This intent of this work item was handled by the work done to add the new operations endpoint, FAB-12842.;;;",,,,,,,,,,,,,,,,,,,,,,,
Add configuration for health checks,FAB-12716,35097,34512,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sykesm,sykesm,06/Nov/18 1:18 AM,10/Jan/19 3:49 AM,28/Oct/23 3:04 AM,10/Jan/19 3:49 AM,,,,,,,,,,,,,,0,,,,"Configuration should be extremely simple:
enabled: bool
listen_address: string / default to 127.0.0.1:9090 # something that doesn't conflict with current port defaults, ideally something like 8080 if it's available",,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxh3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 3:49 AM;sykesm;Health check configuration is done via the operations config that already exists.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Start the health check server in the peer,FAB-12717,35098,34512,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/18 1:19 AM,17/Nov/18 12:52 AM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,"We need to vendor the code from the new fabric library repository, create an instance of the health check, and start it if we're configured to do so.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 1:23 AM;sykesm;https://gerrit.hyperledger.org/r/27551;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add a docker health check,FAB-12718,35099,34512,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,sykesm,sykesm,06/Nov/18 1:21 AM,15/Nov/18 12:52 AM,28/Oct/23 3:04 AM,15/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,Create a health check that uses the docker configuration to drive the _ping endpoint on the configured docker daemon. A 200 status code should be considered healthy.,,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/18 9:43 PM;mastersingh24;https://gerrit.hyperledger.org/r/27534;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add orderer configuration for health checks,FAB-12719,35100,34513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sykesm,sykesm,06/Nov/18 1:23 AM,08/Dec/18 8:28 AM,28/Oct/23 3:04 AM,08/Dec/18 8:28 AM,,,,,,,,,,,,,,0,,,,"Configuration should be extremely simple:
enabled: bool
listen_address: string / default to 127.0.0.1:9090 # something that doesn't conflict with current port defaults, ideally something like 8080 if it's available",,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Start the health check server in the orderer,FAB-12720,35101,34513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/18 1:23 AM,17/Nov/18 12:52 AM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,"When configured to do so, configure and start the health check service in the orderer",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxhz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 1:23 AM;sykesm;https://gerrit.hyperledger.org/r/27551;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Upgrade Test Compatibility 1.3 vs 1.4, NodeJs SDK, fabric-ca, fabric peers and orderers",FAB-12721,35102,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,scottz,scottz,06/Nov/18 1:27 AM,20/Dec/18 6:41 AM,28/Oct/23 3:04 AM,20/Dec/18 6:41 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,Quality,SystemTestcase,,"This description was written in v1.2.0 FAB-10161, which was then cloned to v1.3 FAB-12001 and to this v1.4 FAB-12721. Simply reinterpret the versions in the table below (1.1 ~ prev version 1.3.0; 1.2 ~ new version 1.4.0).

 
||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA|| Description of the testcase||
|1.2|1.2.2|1.2|*1.3*|Refer [#Case 1] below|
|1.2|1.2.2|*1.3*|1.2|Refer Case 2 below|
|1.2|1.2.2|*1.3*|*1.3*|Refer Case 3 below|
|1.2|*1.3*|*1.3*|*1.3*|Refer Case 4 below|

 

_+Pre-requisite+_:

1. pull the the fabric-peer / fabric-orderer /fabric-ca docker images with tag *1.2.0*

2. Generate the latest images on master branch of *fabric* and *fabric-ca* repo

At the time of this test image versions are as following

fabric Image version      : *amd64-1.3.0-snapshot-e6bdd2321*

fabric-ca Image version : *amd64-1.3.0-snapshot-8ecada3*

 
----
[#Case 1]
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.2 & Fabric-CA is at 1.3 (snapshot)

Step 1 : Clone the repo 
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:1.2.0
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3
export THIRDPARTY_IMG_TAG=:0.4.10

Step 6: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 7: Execute the following command and make sure all the tests are passing now 

         ""gulp test""{code}
----
Case 2
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.3 & Fabric-CA is at 1.2

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321
export DOCKER_IMG_CA_TAG=:1.2.0
export THIRDPARTY_IMG_TAG=:0.4.12

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.2 network needs all the required crypto/channel artifacts that are available in master branch) 

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 3
{code:java}
Nodejs Integration Test Suite at 1.2 , Node.js SDK at 1.2.2, Fabric is at 1.3 & Fabric-CA is at 1.3 

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3
export THIRDPARTY_IMG_TAG=:0.4.12

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch
        (Fabric 1.3 network needs all the required crypto/channel artifacts that are available in master branch. check if this step is really required ?)

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}
----
Case 4:
{code:java}
Nodejs Integration Test Suite at 1.1 , Node.js SDK at 1.3, Fabric is at 1.3 & Fabric-CA is at 1.3

Step 1 : Clone the repo
git clone https://github.com/hyperledger/fabric-sdk-node
cd fabric-sdk-node 
git checkout release-1.2
(Default it points to release-1.1 branch)

Step 2: Install the node modules
npm install
make sure to use latest 1.3 node modules for the clients fabric-client and fabric-ca-client (As of this testing used the version: 1.3.0-snapshot.58)
rm -rf node_modules/fabric-c*
npm install fabric-client@1.3.0-snapshot.58
npm install fabric-ca-client@1.3.0-snapshot.59

Step 3: Commentout the following lines from build/tasks/test.js

//process.env.DOCKER_IMG_TAG = dockerImageTag;
//process.env.THIRDPARTY_IMG_TAG = thirdpartyImageTag;

please refer https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L64-L65

Step 4: As part of this compatibility tests we wouldn't want to run the unit tests
Remove the unit test section (see following) from gulp task i.e, from build/tasks/test.js
https://github.com/hyperledger/fabric-sdk-node/blob/release-1.1/build/tasks/test.js#L121-L125

Step 5: Export the following environment varibles to let your docker-compose use the docker tags. (Make sure replace with the right TAG )
export DOCKER_IMG_TAG=:amd64-1.3.0-snapshot-e6bdd2321 
export DOCKER_IMG_CA_TAG=:amd64-1.3.0-snapshot-8ecada3 
export THIRDPARTY_IMG_TAG=:0.4.12 

Step 6: replace the test/fixtures folder with test/fixtures folder of fabric-sdk-node master branch (Fabric 1.3 network needs all the required crypto/channel artifacts that are available in master branch. check if this step is really required ?)

Step 7: There needs a tweaking on the test/fixtures/docker-compose.yaml 
change the lines hyperledger/fabric-ca${DOCKER_IMG_TAG} to hyperledger/fabric-ca${DOCKER_IMG_CA_TAG}

Step 8: Execute the following command and make sure all the tests are passing now 

         ""gulp test""
{code}",,latitiah,nagap,n-horiguchi,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12001,,,,,,,,,,,,,,,,,,,,,FABN-1068,FABN-1065,FABN-1071,FABN-1072,FABN-1073,FABN-1074,FABN-1075,FABN-1076,"12/Dec/18 11:49 PM;latitiah;1.4.0-install.errors;https://jira.hyperledger.org/secure/attachment/16404/1.4.0-install.errors","12/Dec/18 11:44 PM;latitiah;case1.errors;https://jira.hyperledger.org/secure/attachment/16398/case1.errors","12/Dec/18 11:44 PM;latitiah;case2.errors;https://jira.hyperledger.org/secure/attachment/16399/case2.errors","12/Dec/18 11:44 PM;latitiah;case3.errors;https://jira.hyperledger.org/secure/attachment/16400/case3.errors","13/Dec/18 1:03 AM;latitiah;npm_list-c4-redo.results;https://jira.hyperledger.org/secure/attachment/16407/npm_list-c4-redo.results","13/Dec/18 1:03 AM;latitiah;npm_list-c4.results;https://jira.hyperledger.org/secure/attachment/16408/npm_list-c4.results","12/Dec/18 11:44 PM;latitiah;overall_case1.results;https://jira.hyperledger.org/secure/attachment/16401/overall_case1.results","12/Dec/18 11:44 PM;latitiah;overall_case2.results;https://jira.hyperledger.org/secure/attachment/16402/overall_case2.results","12/Dec/18 11:44 PM;latitiah;overall_case3.results;https://jira.hyperledger.org/secure/attachment/16403/overall_case3.results","13/Dec/18 1:03 AM;latitiah;overall_case4-redo.results;https://jira.hyperledger.org/secure/attachment/16409/overall_case4-redo.results","13/Dec/18 1:03 AM;latitiah;overall_case4.results;https://jira.hyperledger.org/secure/attachment/16410/overall_case4.results","17/Dec/18 2:57 PM;latitiah;rerun.txt;https://jira.hyperledger.org/secure/attachment/16436/rerun.txt","08/Dec/18 6:52 AM;latitiah;results.txt;https://jira.hyperledger.org/secure/attachment/16369/results.txt","08/Dec/18 6:53 AM;latitiah;stdout;https://jira.hyperledger.org/secure/attachment/16370/stdout",,,,,,,,,,,,,,,,,,Unset,,,FAB-10085,,,Manual,,,,,,"1|hzzxi7:",,,,Unset,,,,,,Unset,,,,,,Fail,"The attached documents show the exact failures. In summary, 
case1.errors:
- Bad Proposal (general)
- Bad proposal (transaction)
- Bad transient map was successful
- Failed to Instantiate chaincode when upgrading
- Missing chaincode
- Status 500 (Transaction Proposals)
case2.errors:
- Bad proposal
- Bad query result... Wrong value
- Bad transient map was successful
- Failed to instantiate upgraded network
- Failed to upgrade 
- Missing chaincode
- REQUEST_TIMEOUT error
- Status 500 error (transaction proposal)
case3.errors:
- Bad proposal
- Bad query result... Wrong value
- Bad transient map was successful
- Failed to instantiate upgraded network
- Failed to upgrade 
- Missing chaincode
- REQUEST_TIMEOUT error
- Status 500 error (transaction proposal)
case4.errors:
- typescript - fabric-network - Proposal response errors
",System Test,,,latitiah,nagap,n-horiguchi,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 4:13 AM;latitiah;||Integration
 Test Suite||Node.js SDK||Fabric (peer/orderer)||Fabric-CA|| Description of the testcase||
|1.3|1.3|1.3|*1.4*|Refer Case 1|
|1.3|1.3|*1.4*|1.3|Refer Case 2|
|1.3|1.3|*1.4*|*1.4*|Refer Case 3|
|1.3|*1.4*|*1.4*|*1.4*|Refer Case 4|

Executed these tests multiple times: I have attached the results.txt and stdout files to show the output seen when executing
{code:java}
gulp test{code}
for each of these cases for the first run.
 >> This saw issues with using gulp-v4.0.0. When setting gulp version to gulp-3.9.1 instead of gulp-^3.9.1. The tests were able to run through.

Case 1:
{code:java}
export DOCKER_IMG_TAG=:amd64-1.3.0
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}
Results: see attachments *overall_case1.results* and *case1.errors*

Case 2:
{code:java}
export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-47868b8
export DOCKER_IMG_CA_TAG=:amd64-1.3.1
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}
Results: see attachments *overall_case2.results* and *case2.errors*

Case 3:
{code:java}
export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-47868b8
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}
Results: see attachments *overall_case3.results* and *case3.errors*

Case 4: (Executed this twice - seeming issues with fabric-* installs)
{code:java}
rm -rf node_modules/fabric-*
npm install fabric-client@1.4.0-snapshot.132
npm install fabric-ca-client@1.4.0-snapshot.133
npm install fabric-network@1.4.0-snapshot.97

export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-47868b8
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}
Results: see attachments *overall_case4.results*, *case4.errors* and *overall_case4-redo.results*
;;;","17/Dec/18 12:57 PM;latitiah;Reran tests using the following exported versions: See the rerun.txt attachment for results.

Case 1:
{code}export DOCKER_IMG_TAG=:amd64-1.3.0
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}

Case 2:
{code}export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-3bcdac5
export DOCKER_IMG_CA_TAG=:amd64-1.3.1
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}

Case 3:
{code}export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-3bcdac5
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}

Case4:
{code}rm -rf node_modules/fabric-*
npm install fabric-client@1.4.0-rc3-snapshot.2
npm install fabric-ca-client@1.4.0-rc3-snapshot.2
npm install fabric-network@1.4.0-rc3-snapshot.4

export DOCKER_IMG_TAG=:amd64-1.4.0-snapshot-3bcdac5
export DOCKER_IMG_CA_TAG=:amd64-1.4.0-snapshot-b959937
export THIRDPARTY_IMG_TAG=:amd64-0.4.14{code}
;;;",,,,,,,,,,,,,,,,,,,,,,,
Memory issue,FAB-12723,35104,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,laurens,laurens,06/Nov/18 1:44 AM,14/Jan/20 2:07 AM,28/Oct/23 3:04 AM,14/Jan/20 2:07 AM,,,,,,,,,,fabric-ledger,fabric-peer,,,0,stale-item,,,"When experimenting with Hyperledger Fabric, I encountered an issue with memory consumption. As is visible in the attached visualizations, the memory consumption of the container executing the peer process raises significantly when a batch of transactions (e.g. 200 TXs) is injected in the network (Figure 1). After a few minutes, memory seems to get freed (Figure 2). The problem seems to be caused by the peer process, as it has a huge RSS (Figure 3). When enabling pprof, the parts of the code consuming a lot of memory become clear (Figure 4). The problem is that, for subsequent batches, the memory consumption keeps increasing, slowing down the processing of transactions. As such, I am not able to use the framework for continuous operation. Can anyone tell me if this is a problem from my side or if this is how the code is expected to work?

 

!question.png!",,laurens,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Nov/18 1:27 AM;laurens;question.png;https://jira.hyperledger.org/secure/attachment/16219/question.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxif:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),laurens,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Jan/19 12:43 AM;sykesm;The code you're highlighting is related to decoding protobuf messages. As protobuf was not designed for large messages (default max message size is 4MiB), the entire message is received from the wire, decoded, and carried forward to the server side components. Since fabric uses an envelope model that contains arbitrary bytes, most of that message is simply held in memory for the duration of the request. If you're making 200+ concurrent requests, that can be a lot of data - especially as the enveloped data will be further decoded meaning multiple copies are floating around on the heap.

The block storage is similar. When a block is retrieved from the file storage on the peer because of a query, it's read into memory. The block contents are held in storage until no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade script for 1.4,FAB-12724,35105,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,06/Nov/18 1:45 AM,08/Dec/18 8:19 AM,28/Oct/23 3:04 AM,08/Dec/18 8:19 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,fabric-samples,,,0,,,,"Revise and replace [https://github.com/hyperledger/fabric-samples/blob/master/first-network/scripts/upgrade_to_v13.sh] with a version that works with v14, for both scenarios: after 1.4 is released (upgrade 1.3 to 1.4), and while it is still in development (upgrade to ""latest""). 

Also, refer to earlier versions of this in v1.2 FAB-10199 and v1.3 FAB-11778 for more details of this upgrade test. Especially, refer to other tasks ""related to"" FAB-11778.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11778,FAB-12987,,,,,,,,,,,,,FAB-12728,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10085,,,No,,Unset,No,,,"1|hzzxin:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Handle malformed method strings in the interceptor,FAB-12725,35107,34519,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,06/Nov/18 2:38 AM,09/Nov/18 12:18 AM,28/Oct/23 3:04 AM,09/Nov/18 12:18 AM,,,,,,,,,,,,,,0,,,,https://gerrit.hyperledger.org/r/c/27360/1/common/grpcmetrics/interceptor.go#77,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 3:37 AM;sykesm;remote:   ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Provide gossip metrics,FAB-12727,35109,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,denyeart,denyeart,06/Nov/18 4:23 AM,20/Feb/19 7:45 AM,28/Oct/23 3:04 AM,20/Feb/19 7:45 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,ipm-planned,operations,serviceability,,,C0rWin,denyeart,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq7t:r",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 3:51 AM;sykesm;[~C0rWin] I think this is on your radar now. Please re-assign as appropriate.;;;",,,,,,,,,,,,,,,,,,,,,,,,
change fabric-test frameworks to start networks with V2_0 capabilities enabled by default,FAB-12728,35110,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,scottz,scottz,06/Nov/18 4:49 AM,10/Jun/20 12:34 PM,28/Oct/23 3:04 AM,10/Jun/20 12:34 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,,,,"Change fabric-test frameworks (NL, and Behave, and PTE) to start networks with V2_0 capabilities for channel and orderer enabled by default.
For now we can continue to use V1_4_2 for the application cap, since we need to continue to use the old lifecycle methods.
This will allow the new features to work and to ensure the existing basic functionality works with the new capabilities enabled in the new release.

V1_4_3 channel capability is new, needed for NodeOUs.
V2_0_0 application cap is for NodeOUs and tokens and new lifecycle methods - none of which we need to test currently in systests.
Here is a link to the docs added for NodeOUs; https://gerrit.hyperledger.org/r/c/fabric/+/32235
We might need to also change config files in fabric-samples or for examples in fabric itself too.
But I think it may already be done: refer to `https://github.com/hyperledger/fabric/blob/master/sampleconfig/configtx.yaml#L78` and `FAB-16322: fabric-samples to V1_4_3 channel capability`.
",,rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12724,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|hzwqrk:5iz",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 1:47 PM;scottz;It seems this may not be necessary, as there are no new capabilities yet to be enabled in v1.4.;;;","14/Dec/18 11:15 PM;scottz;This is not needed in v1.4, since that release has no new capabilities.
Repurpose this to v2.0.;;;","01/Aug/19 11:47 AM;scottz;Check and set the required capabilities in the different v1.4 releases, and v2.0 release.;;;","15/Aug/19 5:51 AM;scottz;Update: we should test using 2.0 images, but continue using the 1_4_2 capabilities. The v2_0 capabilities would turn on the new lifecycle code, which would require enhancements to the PTE and Operator tools which are still in our backlog, FAB-16262. It is ok to use v1_4_2 caps because the only other things that require the 2_0 caps besides lifecycle are functional in nature and are not being tested in our system traffic tests. We will put this in backlog for now, but of course at some point in future we will update the tools and test with the v2_0 caps enabled.;;;","16/Aug/19 2:59 AM;rameshthoomu;Apply 1_4_2 capabilities only on application capabilities the remaining capabilities should point to 2.0 caps.;;;","19/Sep/19 3:33 AM;rameshthoomu;Below are the capabilities we are using on 2.0 testing.

orderer_capabilities:
  V2_0: true
channel_capabilities:
  V2_0: true
application_capabilities:
  V1_4_2: true;;;",,,,,,,,,,,,,,,,,,,
Support membership that is a subset of system channel,FAB-12729,35111,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,06/Nov/18 5:30 AM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,12/Dec/18 6:34 PM,,,,,,,,,,,,,,0,,,,"Each raft OSN needs to be a member of the system channel.
 However - not every member of the system channel, needs to service all channels.
 For example - if a system channel contains 5 OSNs, we should support a channel that is serviced by 3 OSNs.

This is useful for use cases that involve:
 * Confidentiality requirements
 * Higher throughput of broadcast (block cutting) preferred over high availability
 * Low latency requirements

Even though all OSNs receive the transaction of the channel creation through the system channel, only some of them should process it, and some should ignore it, and not create a new chain for that channel.

This, however - cannot be achieved from the multichannel common code that creates the new chain, as it needs to stay oblivious of consensus-implementation.

Therefore, I propose to add logic in the etcdraft chain implementation to skip calling *support.WriteConfigBlock* (which triggers the creation of the genesis block of a new channel) in case the OSN isn't in the consenter set (via a certificate lookup).

Every chain knows its own name (ID) and the consenter has the *conf *localconfig.TopLevel* reference, which contains the system channel name.
 With this, we can have this check appear only in the system channel and not in every chain so that we minimize the performance hit on users.

As part of FAB-12704 I'm going to add a method in the etcdraft chain to detect whether our own OSN is in the consenter set given a config block, so we can just reuse it.

 

Thoughts? Comments?

[~jyellick] [~kchristidis] [~guoger] [~C0rWin]",,adarshsaraf123,jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11591,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/18 2:29 AM;kchristidis;[~yacovm]: Thanks for writing this up.

# How do we prevent a fork on the system chain if certain OSNs skip {{WriteConfigBlock}}?
# I also did not get this: ""It won't know the addition of itself through the system channel, because the transaction would point to the application channel.""

What do others think?;;;","13/Nov/18 3:20 AM;yacovm;1. We just call WriteBlock instead manually inside the chain. 
2. So, the channel is created and some blocks have been committed. Later on there is a config update. The config update doesn't reach the system chain, it reaches the application channel. the orderer that is outside of the channel is not aware of the update that makes it a part of the channel.;;;","13/Nov/18 3:26 AM;kchristidis;Thanks for clarifying. I do get that it's ridiculously crude, but if we were to restart that node, would it not be able to pick up its membership in that application channel, following the plan outlined in FAB-12555?;;;","13/Nov/18 4:18 AM;yacovm;Currently - no, unless you delete all chains in the orderer (because the deletion of the chains is the trigger for onboarding code that is to be launched at boot).
Since the OSN can be crash during the onboarding, I made the system channel be pulled last, so once a successful onboarding process has been completed without any interruptions, the system chain sequence in the ledge reaches the sequence the OSN is bootstrapped with, and this makes the OSN skip onboarding in the next reboot / after a crash.
Had it been in the opposite order, the OSN would need to persist some checkpoint information for each chain, and I wanted to keep things simple.

The code from FAB-12555 itself can certainly be reused to do what you ask.

However - I think that we should carefully weigh whether we want restarts to be drivers of channel addition, and if we were to do that we'd need to change some semantics in the orderer.
# Restarts disrupt clients. To the best of my knowledge, not all SDKs do retries for transaction submission, and that means restarts would effect customers. 
# Bootstrapping (chicken and egg) problem - Let's assume that we are an OSN and we were just rebooted. 
We have several chains - A, B, C and S (system chain) in our ledger.
Some of the chains might be so behind from the cluster that a chain object cannot be started, and we (the OSN) need to pull blocks from some orderer before it can start the chain.
That means that the OSN should probe the system channels and the application channels before it starts a new chain, figure out if it is in the channel, and if it is in the channel but it is too far away - pull the blocks and then start the chain object, or just start the chain if there is no need to pull anything, right? 
But, what if *all orderers* are now after a reboot, and they all try to probe the orderers of the system channel for (w.l.o.g) chain A.
There won't be a single orderer that will succeed to pull any block, because none of the chains have started, and every orderer would return: ""Rejecting deliver request because of consenter error"", because the chain hasn't started yet, and we would reach a livelock. 
We can, of course - change the semantics of the orderer to have the deliver decoupled from the chain (*) but I have a feeling this calls for a deeper discussion ;) 

Now, we could start the chain, and then somehow figuring out that the chain is ""in a bad state"", but that's a bit complex in my opinion, and therefore I suggest we defer this to a later time where we just add some admin API to the orderer that would make it add itself to a chain without needing a restart and would know to pull the blocks on its own before starting the chain object.

(*) Honestly i never understood that semantic... why would you care of transaction creation if all you want is to pull blocks? I guess it was built for Kafka to signal peers to find other orderers to connect to, as an orderer that cannot relay transactions also cannot pull them, but - I argue this decision should be revisited in the future. ;;;","13/Nov/18 4:35 AM;kchristidis;Right. I knew I was punting when I was wondering whether a restart would pick it up. Wasn't looking to that as a long-term solution. I get the problem. I'll think a bit about this.

In the meantime, expand on this?

{quote}We can, of course - change the semantics of the orderer to have the deliver decoupled from the chain.{quote};;;","13/Nov/18 4:49 AM;yacovm;If you agree that an OSN needs to first figure out whether it is too far from the cluster in terms of blocks before it starts the chain, it means that all orderers are live-locked when the entire cluster is rebooted.

However, if we assume that once an orderer sees itself ""in the ledger"" at boot time, it means it is not too far from the rest of the cluster and doesn't need to pull blocks before it starts the chain - we can get around the problem. However, it's not that easy as it seems and there can be corner cases where you are re-added to the cluster, and you will see yourself in the chain but you won't be able to connect to anyone, because the TLS certificates of the other nodes in the chain might have diverged too far from your current (last) chain. 
Therefore I suggest we defer this item for now :)


[~jyellick] what's your take on this?;;;","13/Nov/18 6:28 AM;kchristidis;Sorry for being slow, but I really don't get what ""some of the chains might be so behind from the cluster that a chain object cannot be started, and we (the OSN) need to pull blocks from some orderer before it can start the chain"" means.;;;","13/Nov/18 7:47 AM;yacovm;so, when you start up an OSN you might have 3 types of chains:
# Chains you are in sync with and all is good
# Chains you started to sync via the onboarding infrastructure, but you crashed and now you are resuming
# Chains you are not aware of yet, and you should pull.

You may be removed from a channel and then re-added again, and then how do you distinguish type 1 from type 2?
You need to distinguish in order to know whether to start a chain, or to pull the blocks before starting a chain.
Now, that means that you need anyway to reach out to another OSN and see what's good.
But - if the entire cluster has been restarted - you get into a livelock because all OSNs will reject the deliver requests.

I think that we should not support this case for the time being, and say that if you want to join an existing node that is already part of some chains, to another chain - you need to just wipe out the chains on that node so it will re-sync from a clean slate state.
It may sound bad, but - since orderers don't validate transactions, as long as you pull fast enough you should be good.

In a future version we should add an API that enables you to remove a channel from a node, and to signal a node to start syncing, and then we could have the admins easily invoke that API which would kickstart the code from FAB-12555 and things will be good. ;;;","13/Nov/18 9:35 AM;jyellick;[~yacovm] So, here is my two cents:

First, one minor point:
{quote}Every chain knows its own name (ID) and the consenter has the conf *localconfig.TopLevel reference, which contains the system channel name.
{quote}
This is actually not really true. The system channel name is only used _if_ the orderer has not already been bootstrapped and the orderer is bootstrapping itself on the fly (really only suitable for testing). Otherwise, the orderer detects the orderer system channel by looking at the current channel config for all the channels its aware of and picking the one which has a consortiums group defined, which may differ from the value defined in the *localconfig.TopLevel.
{quote}Therefore, I propose to add logic in the etcdraft chain implementation to skip calling support.WriteConfigBlock (which triggers the creation of the genesis block of a new channel) in case the OSN isn't in the consenter set (via a certificate lookup).
{quote}
As I see it, this is a non-starter, deriving from what [~kchristidis] began to explore.
{quote}How do we prevent a fork on the system chain if certain OSNs skip WriteConfigBlock?
{quote}
Consider 4 OSNs, OSN0, OSN1, OSN2, OSN3, spinning up channels with subsets of three. So, a user sends a request to OSN0 requesting that channel {{Foo}} be created with OSN0, OSN1, and OSN2. This is processed correctly, and there is now a new channel {{Foo}} but OSN3 skips writing it as a config block (not triggering the channel creation code). Now, another (or the same) user sends a request to OSN3 requesting that it create channel {{Foo}}. OSN3 deliberately skipped writing the config block, so, it has no idea that {{Foo}} exists, so, it says the tx is valid and orders it. We are now in a situation where OSN3 believes the tx is valid, while OSN\{0,1,2} believe it's invalid. The orderers may now choose to fork, or crash.
----
So, I would propose a different scheme. All orderers track the creation of all channels and create the genesis block for each channel. _However_, each orderer also performs a check of the latest config block before starting a consenter for a channel to see if that node is a consenter for that channel, and if not, skips it. Similarly in the Broadcast and Deliver paths, the OSN checks that it is a member of the consenting set for the channel before accepting requests, and if it is not returns something reasonable.  I don't believe this would be terribly much work to do at all.

We now have to tackle the same problem you were discussing about onboarding an OSN.  To me it seems easiest to me to tackle as an API or configuration to force the node to sync to a point in the configuration where it is aware of its membership in the consenter set. If we stick to the logic of always being up to date in the orderer system channel, and using the set of nodes there to pull blocks during catchup, I think it works reasonable as well.;;;","13/Nov/18 4:27 PM;yacovm;Thanks for your comment Jason. It hadn't occurred to me that the channel admins would try and create a channel with the same name twice :) 
I'm not really sure why the blockchain is forked, though - all OSNs are going to write the config block as a regular block in any case, so there is no real blockchain fork, or am I missing something?
{quote}However, each orderer also performs a check of the latest config block before starting a consenter for a channel to see if that node is a consenter for that channel, and if not, skips it{quote}

That's what I was trying to avoid. Checking whether you are in the channel is consensus specific, and starting a new chain is done in the common code.
That would involve expanding the Consenter API with a method that checks if the node is in the channel, no?;;;","13/Nov/18 11:58 PM;jyellick;{quote}I'm not really sure why the blockchain is forked, though - all OSNs are going to write the config block as a regular block in any case, so there is no real blockchain fork, or am I missing something?
{quote}
Depends on the approach I suppose.  I would say perhaps that it is not a 'blockchain fork' but a 'state fork', where the set of channels is part of the small set of state that an orderer maintains.  We might be able to get away with it for the CFT case, but it seems easy to get ourselves into a bad situation in the BFT case.  Network of 8 nodes (f=2), subsets of 4.  If 4 nodes believe the channel exists and 4 do not, then the network will be evenly split about the validity of the tx, and deadlock failing to reach 2f+1.  Maybe that's a far-fetched case, but regardless, having two different orderers with different versions of the same channel is likely to cause real problems for the peers.  Depending on the ""BlockValidationPolicy"" for instance, a peer could get a 'valid' block with a mismatched hash and panic during commit.  It just feels to me like we open ourselves up to all sorts of problems by having some orderers simply ignore the channel creation.
{quote}That's what I was trying to avoid. Checking whether you are in the channel is consensus specific, and starting a new chain is done in the common code.
 That would involve expanding the Consenter API with a method that checks if the node is in the channel, no?
{quote}
Yes, when I had penned my original response, I was thinking of the naive case where the OSNs and the consenters were 1-1.  And the multichannel code could simply iterate over the addresses of the OSNs to decide if it was a channel member or not.  But, I think there are a couple other options which does not significantly grow the consenter API but gives us what we need.
 # We could simply add a new error type to be returned by {{WaitReady}}{{Errored}}.  Today these indicate to {{Broadcast}}/{{Deliver}} that the consenter is not yet ready (but that the client should try back later).  This new error could be indicate ""Not yet ready and never will be, I don't serve this channel"".
 # We could extend the {{HandleChain}} call to return a specific error as well (and not panic when it is returned).

Or really, I don't think it would be so bad to simply add an {{IsMember() bool}} function or similar to the consenter interface.;;;","14/Nov/18 1:04 AM;yacovm;All right, then I think I'm going to add a new method to the consenter API that returns an error in case the OSN isn't in the channel, and nil otherwise.

[~kchristidis] [~jyellick] what do you say?;;;","14/Nov/18 2:20 AM;kchristidis;I like the {{IsMember}} method idea; I say we go for it.;;;","14/Nov/18 2:41 AM;jyellick;Works for me.;;;","06/Dec/18 10:31 PM;kchristidis;(Heads up: I took this last couple of paragraphs talking about the administrative API and the ability to have an OSN from the system channel join an _existing_ application channel, and moved them to FAB-13180.);;;","12/Dec/18 12:58 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28046/;;;","12/Dec/18 1:00 AM;yacovm;I decided to go for an approach which is similar to what [~jyellick] suggested - I made a new chain type that is an ""inactive chain"", which is returned from HandleChain of etcdraft consenters in case the certificate of the node is not in the channel. 


;;;",,,,,,,,
Use more restrained timeout for Raft chain tests,FAB-12730,35112,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,06/Nov/18 7:10 AM,24/Nov/18 9:12 PM,28/Oct/23 3:04 AM,24/Nov/18 9:12 PM,v1.4.0,,,,,v1.4.0,,,,fabric-orderer,,,,0,raft,,,In order to prevent CI failures which caused by slow IO introduce new variable to capture eventual timeout and increase default from 1s to 5s. ,,C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxjz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 7:39 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27372/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Decouple PvtStore Reconciliation from StateDB,FAB-12731,35113,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,06/Nov/18 11:38 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,08/Jan/20 7:57 AM,,,,,,Future,,,,fabric-ledger,,,,0,,,,"So far the design philosophy was that the scope of block storage is limited to storing and retrieving blocks data with certain guarantees and statedb is for the state management and a higher layer ('kvledger') coordinates the acts between the two. However, with maintaining the state of the consumption of blocks (for pvtstore reconciliation) within private data block storage breaks that assumption.

The knowledge of what blocks have been consumed for the purpose of state update should not lie with the source. Further with these two functions, it assumes that we are fixing the design for apply to the statedb in an on-line fashion.

Rather what we can do is that we maintain a list in a separate leveldb say ""OldBlocksAvailable"". For maintaining such coordination data, we already have a bookkeeper and it is passed on to the txmgr. As of now, it is used for maintaining for keeping track of the keys that are getting expired with the committing block. However, it is designed to maintain any bookkeeping. With this we can do the following.

In the online commit transaction for old blocks 
1) update the bookkeeper with the information ""OldBlocksAvailable"" 
2) Commit the blocks to pvtdata storage 
3) syncing of statedb with old data happens in a background goroutine",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:t",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jun/19 4:50 AM;manish-sethi;Adding context - https://gerrit.hyperledger.org/r/#/c/fabric/+/25923/8/core/ledger/pvtdatastorage/store.go@72;;;","08/Jan/20 7:57 AM;manish-sethi;This can be closed now. The flow of committing the private data is reversed via FAB–16104. Hence, now, it is no longer required to keep track of the data that has been applied to pvtdata storage but not yet to statedb.;;;",,,,,,,,,,,,,,,,,,,,,,,
Behave test failures in master branch,FAB-12732,35115,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,latitiah,sambhavdutt,sambhavdutt,06/Nov/18 1:16 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 11:50 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,This bug is to track the behave test failures.,,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,0125e23da8f144f124c7a5a5e4a331b57e2e2d48,Unset,No,,,"1|hzzxkn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:39 PM;rameshthoomu;This supposed to be story/epic but this FAB is created as bug and added multiple FAB's under this as sub-tasks. As we are tracking the progress in other FAB's it's better to remove these duplicate FAB's;;;","12/Nov/18 11:47 PM;rameshthoomu;FAB-12733 - Couchdb indexing bug;;;","12/Nov/18 11:49 PM;rameshthoomu;Moved all subtasks under this FAB to individual bugs..Closing this now.;;;","12/Nov/18 11:50 PM;rameshthoomu;Closing this as this is created as a Bug but the associated tasks have been moved to individual bugs.;;;",,,,,,,,,,,,,,,,,,,,,
"CouchDB indexing tests are failing in daily behave test cases in FAB-7251, FAB-7264, FAB-7269.",FAB-12733,35116,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,AdnanChoudhury,sambhavdutt,sambhavdutt,06/Nov/18 1:52 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,15/Nov/18 4:11 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"Observed the below errors for CouchDB Indexing,


{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7251: Test CouchDB indexing using marbles chaincode using GOLANG with 1 channels and 1 index with 1 selector -- @1.1

Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 338.880s
Location: CouchDB_index.feature:11
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
Captured stdout:
testConfigs: configs/5df6eb06e0a311e887d9fa163e428d48

@daily
  Scenario Outline: FAB-7251: Test CouchDB indexing using marbles chaincode using GOLANG with 1 channels and 1 index with 1 selector -- @1.1 
    Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 338.880s

{code}


*Build Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7251__Test_CouchDB_indexing_using_marbles_chaincode_using_GOLANG_with_1_channels_and_1_index_with_1_selector_____1_1_/



{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7264: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade -- @1.1 

Failing step: Then a user receives a response containing no_usable_index ... failed in 0.000s
Location: CouchDB_index.feature:170
Assertion Failed: Expected response was no_usable_index; received [{""Key"":""marble2"", ""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]

.
.
 When a user queries on the channel ""mychannel2"" using chaincode named ""mycc2"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""owner\\"":\\""alex\\""}, \\""use_index\\"":[\\""_design/indexdoc_behave_test_v1\\"", \\""index_behave_test_v1\\""]}""] on ""peer0.org1.example.com"" ... passed in 5.805s
    Then a user receives a response containing no_usable_index ... failed in 0.000s
    When a user queries on the channel ""mychannel3"" using chaincode named ""mycc3"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""docType\\"":\\""marble\\"",\\""owner\\"":\\""jose\\"", \\""color\\"":\\""red\\""}, \\""use_index\\"":[\\""_design/indexdoc_behave_test\\"", \\""index_behave_test\\""]}""] on ""peer0.org1.example.com"" ... skipped in 0.000s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/


{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2

Failing step: Then a user receives a response containing no_usable_index ... failed in 0.000s
Location: CouchDB_index.feature:170
Assertion Failed: Expected response was no_usable_index; received [{""Key"":""marble2"",""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]

When a user queries on the channel ""mychannel2"" using chaincode named ""mycc2"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""owner\\"":\\""alex\\""}, \\""use_index\\"":[\\""_design/indexdoc_behave_test_v1\\"", \\""index_behave_test_v1\\""]}""] on ""peer0.org1.example.com"" ... passed in 6.580s
    Then a user receives a response containing no_usable_index ... failed in 0.000s
    When a user queries on the channel ""mychannel3"" using chaincode named ""mycc3"" with args [""queryMarbles"", ""{\\""selector\\"":{\\""docType\\"":\\""marble\\"",\\""owner\\"":\\""jose\\"", \\""color\\"":\\""red\\""}, \\""use_index\\"":[\\""_design/indexdoc_behave_test\\"", \\""index_behave_test\\""]}""] on ""peer0.org1.example.com"" ... skipped in 0.000s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/",,latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12494,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxkv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:14 PM;rameshthoomu;[~latitiah] this seems failing since many days.. Below is the latest output. Could you please check


{code:java}
Error Message
Expected response was no_usable_index; received [{""Key"":""marble2"",""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]
Stacktrace
Failing step: Then a user receives a response containing no_usable_index ... failed in 0.000s
Location: CouchDB_index.feature:170
Assertion Failed: Expected response was no_usable_index; received [{""Key"":""marble2"",""Record"":{""color"":""yellow"",""docType"":""marble"",""name"":""marble2"",""owner"":""alex"",""size"":20}}]{code};;;","13/Nov/18 1:12 AM;latitiah;I have changed the assignee to Adnan. I believe that he reported that he is familiar with what is going on with this failure. There may actually be a change in the code that caused this.;;;","15/Nov/18 4:11 AM;scottz;Any test suite jobs that run these tests can be fixed by the change in couch query behavior.;;;",,,,,,,,,,,,,,,,,,,,,,
"Chaincodes testing is failing in the behave test, in test case FAB-3888, FAB-6211.",FAB-12734,35117,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,06/Nov/18 2:25 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 11:31 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"Observed the following test cases failing in the Chaincodes testing,

{code:java}
chaincodes.Chaincodes Testing.FAB-3888: State Transfer Test, bouncing a non-leader peer, using marbles02, for kafka orderer -- @1.2 , for solo orderer -- @1.1 
.
Failing step: And a user invokes on the chaincode named ""mycc"" with args [""transferMarble"",""marble111"",""jerry""] on the initial leader peer of ""org1"" ... failed in 15.001s
Location: chaincodes.feature:141
Assertion Failed: Error: After polling for 15 seconds, no gossip-leader found by looking at the logs, for org1
.
.
    Then a user receives a success response of {""docType"":""marble"",""name"":""marble111"",""color"":""pink"",""size"":55,""owner"":""jane""} ... passed in 0.000s
    When the initial non-leader peer of ""org1"" is taken down ... passed in 4.160s
    And a user invokes on the chaincode named ""mycc"" with args [""transferMarble"",""marble111"",""jerry""] on the initial leader peer of ""org1"" ... failed in 15.001s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/chaincodes/Chaincodes%20Testing/FAB_3888__State_Transfer_Test__bouncing_a_non_leader_peer__using_marbles02__for_kafka_orderer_____1_2_/



{code:java}
chaincodes.Chaincodes Testing.FAB-6211: Test example02 chaincode written using NODE with tls -- @1.3 

The expected chaincode container 70b89484e0bb11e887d9fa163e428d48-peer0.org1.example.com-mycc-0 is not running.

@daily
  Scenario Outline: FAB-6211: Test example02 chaincode written using NODE with tls -- @1.3 
    Given I have a bootstrapped fabric network of type solo with tls ... passed in 16.850s
    When an admin sets up a channel ... passed in 30.567s
    And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... failed in 324.399s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/chaincodes/Chaincodes%20Testing/FAB_6211__Test_example02_chaincode_written_using_NODE_with_tls_____1_3_/
",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:31 PM;rameshthoomu;This is passing consistently in the recent builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make chaincodes first class citizens on the platform by giving them identity,FAB-12739,35122,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,tparth,tparth,06/Nov/18 4:57 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,1,chaincode,stale-item,,"Currently, while chaincode-calling-chaincode is supported, the called chaincode doesn't know the identity of the calling chaincode. This prevents applications from developing ERC20-like features. Specifically, the applications cannot implement the {{tranferFrom()}} and {{approve()}} functions in case the addresses involved are those of smart contracts. In the Ethereum world, this is possible because smart contract accounts are not much different from user accounts. The same is not the case in Fabric.

In Fabric, chaincodes do have some form of identity, however. That is how one chaincode can call another chaincode - using its 'identity'. To solve the problem mentioned above, I propose that in chaincode-calling-chaincode scenarios, we make the caller chaincode information available to the callee chaincode, where the information can be some function of Channel and Chaincode Id.

While [this SO answer|https://stackoverflow.com/a/51808454] provides a partial solution, it requires extra work from the platform user and it doesn't handle the case where a complex chain of chaincodes invocation (e.g. C1 calling C2 calling C3)",,praveen.j,sykesm,tparth,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzxm7:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),praveen.j,sykesm,tparth,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/18 2:06 PM;praveen.j;This functionality is useful for any scenario where one chaincode is to be given trusted privileged access to the functions exposed by another chaincode (e.g., decentralized exchanges, escrows);;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, LevelDB baseline, no private data",FAB-12740,35127,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,06/Nov/18 8:25 PM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 
Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *LevelDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig :  *None; no private data*
*  Endorsement policy: 1 peer from two Orgs
*  Client Driver: PTE, node SDK
*  Number of threads (NT): 4
*  Number of transactions per thread (TPT): 1000
*  Number of transactions Total (TT): 4000
 
+*Test Steps:*+
 1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""put"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
 2) normal queries: each thread sends #TPT queries concurrently using ""get"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when applicable, orderers, kafka)
 4) Compare against SideDB Performance CouchDB Baseline and against other SideDB LevelDB performance tests (linked)


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12741,FAB-12742,FAB-12743,FAB-12936,FAB-12937,FAB-12938,FAB-12935,,,,,,,,FAB-12995,FAB-12262,,,,,,,"20/Nov/18 3:47 AM;scottz;testcase1.4-13.xlsx;https://jira.hyperledger.org/secure/attachment/16281/testcase1.4-13.xlsx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzxn3:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, LevelDB private data PULL",FAB-12741,35128,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,06/Nov/18 8:32 PM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 
*  Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *LevelDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig for *100% PULL* 
* --  Define 1 private data collection, with 4 orgs as members (all except org5)
* --  *requiredPeerCount:  0*
* --  *maxPeerCount:  0*
* --  blockToLive:  0
* --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

*  Client Driver:  PTE, node SDK
*  Number of threads (NT):  4
*  Number of transactions per thread (TPT):  1000
*  Number of transactions Total (TT):  4000
 
+*Test Steps:*+
 1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*puPrivt*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
 2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance LevelDB Baseline FAB-12740


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12742,FAB-12743,FAB-12937,FAB-12938,,,,,,,,,,,FAB-12740,FAB-12935,FAB-12936,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzxnb:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, LevelDB private data PUSH",FAB-12742,35129,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,06/Nov/18 8:33 PM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 

*  Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *LevelDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig for *100% PUSH*:
*   --  Define 1 private data collection, with 4 orgs as members (all except org5)
*   --  *requiredPeerCount:  7*
*   --  *maxPeerCount:  7*
*   --  blockToLive:  0
*   --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

*  Client Driver:  PTE, node SDK
*  Number of threads (NT):  4
*  Number of transactions per thread (TPT):  1000
*  Number of transactions Total (TT):  4000
 
+*Test Steps:*+

1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*putPriv*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2

2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance LevelDB Baseline FAB-12740 and LevelDB PULL FAB-12471


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12743,FAB-12938,FAB-12937,,,,,,,,,,,,FAB-12740,FAB-12741,FAB-12935,FAB-12936,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzxnj:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, LevelDB private data PUSH without wait",FAB-12743,35130,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,rlalgowdar,rlalgowdar,06/Nov/18 8:36 PM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 

* * Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *LevelDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
* Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
* CollectionConfig for *100% PUSH but none required, so no waiting; should be fastest option*:
*   --  Define 1 private data collection, with 4 orgs as members (all except org5)
*   --  *requiredPeerCount:  0*
*   --  *maxPeerCount:  7*
*   --  blockToLive:  0
*   --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

* Client Driver:  PTE, node SDK
* Number of threads (NT):  4
* Number of transactions per thread (TPT):  1000
* Number of transactions Total (TT):  4000


+*Test Steps:*+

1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*putPriv*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API

 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance LevelDB Baseline FAB-12740 and LevelDB PULL FAB-12471


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12938,,,,,,,,,,,,,,FAB-12740,FAB-12741,FAB-12742,FAB-12935,FAB-12936,FAB-12937,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzxnr:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"The Gossip tests are failing in the daily behave tests in FAB-4663, FAB-4664, FAB-4665",FAB-12744,35132,35115,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,06/Nov/18 11:28 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 11:36 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The gossip tests are failing in FAB-4663, FAB-4664, FAB-4665, FAB-4667, FAB-4671, FAB-4672, FAB-4673, FAB-4674, FAB-4675.

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/gossip/Gossip%20Service/",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxo7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:36 PM;rameshthoomu;The behave tests are failing in two places..1) The kafka containers are not ready in the allotted time (300 seconds)  FAB-12745 2) FAB-12733

Otherthan above two issues, all tests are passing as on today. Closing this bug as the bug is tracked in above two FAB's;;;",,,,,,,,,,,,,,,,,,,,,,,,
Orderer Service test FAB-3857 failed as the kafka containers are not ready in time.,FAB-12745,35133,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,latitiah,sambhavdutt,sambhavdutt,06/Nov/18 11:43 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,13/Nov/18 1:09 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"Noticed the test case fail in Orderer Service test, FAB-3857
{code:java}
orderer.Orderer Service.FAB-3857: 256 key/value pairs in Payloads of size 64 -- @1.2 

Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb ... failed in 324.440s
Location: orderer.feature:198
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
Captured stdout:
testConfigs: configs/ce81e5e0e0dc11e887d9fa163e428d48

@daily
 Scenario Outline: FAB-3857: 256 key/value pairs in Payloads of size 64 -- @1.2 
 Given I have a bootstrapped fabric network of type kafka using state-database couchdb ... failed in 324.440s
 And I use the NodeJS SDK interface ... skipped in 0.000s
 When an admin sets up a channel ... skipped in 0.000s{code}

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/75/testReport/orderer/Orderer%20Service/FAB_3857__256_key_value_pairs_in_Payloads_of_size_64_____1_2_/",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12421,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:18 PM;rameshthoomu;One more test case failed with timeout error. Below is the log

 
{code:java}
Error Message
The kafka containers are not ready in the allotted time (300 seconds)

Stacktrace
Failing step: And I have a bootstrapped fabric network of type kafka without tls ... failed in 370.978s Location: peer.feature:172 Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds) Captured stdout: testConfigs: configs/7cff0bdce66b11e8a9e1fa163ea78dd0
{code}
 

 

 
h3.  ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Behave test daily for release-1.3 branch is failing in CouchDB and Orderer ,FAB-12747,35136,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,latitiah,sambhavdutt,sambhavdutt,07/Nov/18 12:47 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,07/Nov/18 3:44 AM,v1.3.0,,,,,v1.3.0,,,,fabric-quality,,,,0,ci-failure,,,"The behave daily tests for the release-1.3 tests are failing in CouchDB and Orderer tests. 

{code:java}
*07:57:08* 5 features passed, 2 failed, 1 skipped*07:57:08* 128 scenarios passed, 3 failed, 22 skipped*07:57:08* 2954 steps passed, 3 failed, 798 skipped, 0 undefined*07:57:08* Took 517m59.661s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.3-x86_64/9/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.3-x86_64/9/consoleFull
",,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,306640d399bbea46d25bfa1673f35a3fa8187b49,Unset,No,,,"1|hzzxp3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Orderer Service tests in FAB-4808,FAB-3937,FAB-3938 failed as the kafka containers are not ready in time.",FAB-12748,35137,35136,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,latitiah,sambhavdutt,sambhavdutt,07/Nov/18 12:52 AM,07/Nov/18 3:45 AM,28/Oct/23 3:04 AM,07/Nov/18 3:45 AM,,,,,,,,,,,,,,0,,,,"Observed the below error in the Orderer, in behave daily test for release-1.3 branch.

{code:java}
Failing step: And I have a bootstrapped fabric network of type kafka ... failed in 320.564s
Location: orderer.feature:336
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)

  Scenario Outline: FAB-4808,FAB-3937,FAB-3938: Orderer_BatchTimeOut is honored, for kafka orderer -- @1.4 
    Given the CONFIGTX_ORDERER_BATCHTIMEOUT environment variable is 20 seconds ... passed in 0.001s
    And I have a bootstrapped fabric network of type kafka ... failed in 320.564s
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.3-x86_64/9/testReport/orderer/Orderer%20Service/FAB_4808_FAB_3937_FAB_3938__Orderer_BatchTimeOut_is_honored__for_kafka_orderer_____1_4_/",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxpb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mockstub.GetStateByRange does not return the same range iterator as actual ledger implementation,FAB-12749,35144,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yuki-kon,yuki-kon,yuki-kon,07/Nov/18 4:48 AM,10/Nov/18 8:47 AM,28/Oct/23 3:04 AM,10/Nov/18 8:47 AM,v1.3.0,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"In Chaincode’s MockStub, GetStateByRange does not behave as the actual ledger implementation.
 A range iterator should have keys between the startKey (inclusive) and endKey (exclusive).
 However, MockStub.GetStateByRange returns an iterator including endKey. The endKey should be exclusive.

+Expected:+
GetStateByRange returns a range iterator over a set of keys in the ledger.
 The iterator can be used to iterate over all keys between the startKey (inclusive) and {color:#FF0000}*endKey (exclusive)*{color}.

+Actual:+
MockStateRangeQueryIterator returns a range iterator between the startKey (inclusive) and {color:#FF0000}*endKey (inclusive)*{color}.

See fabric/core/chaincode/shim/mockstub.go in detail.

HasNext()
 [https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/mockstub.go#L478-L482]

Next()
 [https://github.com/hyperledger/fabric/blob/master/core/chaincode/shim/mockstub.go#L513-L516]",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxqv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 6:34 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/27410/;;;",,,,,,,,,,,,,,,,,,,,,,,,
runPTE.sh : add options to send transaction to proposal to specific  peer in an org.,FAB-12751,35146,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Won't Do,dongming,nileshdeotale,nileshdeotale,07/Nov/18 5:43 AM,30/Jul/19 11:47 AM,28/Oct/23 3:04 AM,30/Jul/19 11:47 AM,v1.1.0,v1.2.0,v1.3.0,v1.4.0,,,,,,fabric-quality,,,,0,,,,"For remote peer testing, we need to send transactions to specific remote peer.

runPTE.sh does not currently have this capability. Further for any local peer testing as well, it will be helpful to have this feature. Discussed and demonstrated issue to DongMing already. Creating this requirement in Jira for tracking.",,dongming,mastersingh24,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzxrb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,mastersingh24,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Nov/18 7:41 AM;scottz;runPTE is not designed to be a complete interface with all options to do anything with any network. It is simply an easy way to run existing testcases quickly against any network. To send transactions to specific peers, you need to run a testcase that already does what you want (and we could investigate adding more TCs to the supported list), or maybe use a testcase that sends transactions to all peers and requires endorsement from all of them (although I don't think we have an existing testcase that does this yet). Since the user cannot even specify their own peer names individually, I don't think we could satisfy this reqest easily; the control that you are requesting, and similar controls, requires us to step back and consider the architecture of what we are doing with this tool, and consider if there are other ways to do that.;;;","05/Dec/18 4:45 AM;scottz;When completing this, check again with Nilesh to see if it is still needed on v1.1. If he is no longer doing testing on 1.1 on any product, we could skip the propagation to that release.;;;","19/Dec/18 1:16 AM;dongming;Current runPTE.sh supports target peer option including: OrgAnchor, AllAnchors, OrgPeers, AllPeers.  You can see PTE README for the details of each option.

AllPeers option will send transaction to all peers included in the SC File.  Does this meet your need?;;;","30/Jul/19 11:47 AM;mastersingh24;No activity for around a year .... cleanup time;;;",,,,,,,,,,,,,,,,,,,,,
runPTE.sh: Remove peer name dependancy,FAB-12752,35147,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,nileshdeotale,nileshdeotale,07/Nov/18 5:46 AM,10/Nov/18 12:33 AM,28/Oct/23 3:04 AM,10/Nov/18 12:33 AM,,,,,,,,,,fabric-quality,,,,0,,,,"Currently runPTE.sh required peer name to include ""peer"". For remote peers, peer name does not have ""peer"" in it. Can runPTE be enhanced to work with any peer name.

 

 ",,dongming,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzxrj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"07/Nov/18 7:47 AM;scottz;This is a logical request, now that we can run tests against any network. Any peer names or org names should be allowed. The restriction is there only because of the original intent of the tool, for a single client to both create the network components and names and also choose which traffic to send to which one. I think this is doable, but will be a disruptive change to the internal storage model for the network components and therefore we should take care to run thorough regression test with PTE and its testcases.;;;","08/Nov/18 2:53 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27425/;;;",,,,,,,,,,,,,,,,,,,,,,,
UnitTest Coverage,FAB-12753,35151,,Task,Backlog,FAB,Fabric,software,denyeart,,,High,,angelo.decaro,angelo.decaro,angelo.decaro,07/Nov/18 4:27 PM,03/Dec/19 6:55 AM,28/Oct/23 3:04 AM,,v1.3.0,,,,,,,,,fabric-crypto,,,,0,idemix,,,"Currently, the fabric/idemix package has a test coverage of 74.6%. The goal of this task is to bring the test coverage to over 90%.

In order to so, the following steps are required:
 * Move compiled protobuf messages under fabric/protos/idemix
 * Isolate building blocks (WBB, ...)",,angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12312,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12758,,,No,,Unset,No,,,"1|hzzxrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/19 6:55 AM;denyeart;[~angelo.decaro] Please update with remaining details or close.;;;",,,,,,,,,,,,,,,,,,,,,,,,
CLONE - Move compiled protobuf messages under fabric/protos/idemix,FAB-12754,35152,35151,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,angelo.decaro,angelo.decaro,angelo.decaro,07/Nov/18 4:27 PM,03/Dec/19 6:54 AM,28/Oct/23 3:04 AM,,v1.3.0,,,,,,,,,fabric-crypto,,,,0,idemix,,,"fabric/idemix uses protobuf messages as objects manipulated by the cryptographic algorithms. With this task, we will break this dependency and have the protobuf messages used for transporting the cryptographic material and new will introduce new objects that will be manipulated by crypto algorithms.

 ",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxs7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"CLONE - Isolate building blocks (WBB, ...)",FAB-12755,35153,35151,Sub-task,To Do,FAB,Fabric,software,denyeart,,,Medium,,angelo.decaro,angelo.decaro,angelo.decaro,07/Nov/18 4:27 PM,03/Dec/19 6:54 AM,28/Oct/23 3:04 AM,,v1.3.0,,,,,,,,,fabric-crypto,,,,0,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxsf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLONE - Improve code documentation,FAB-12756,35154,35151,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,angelo.decaro,angelo.decaro,angelo.decaro,07/Nov/18 4:27 PM,07/Nov/18 4:39 PM,28/Oct/23 3:04 AM,07/Nov/18 4:39 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxsn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CLONE - Increase idemix unit tests coverage (also) by adding unit tests,FAB-12757,35155,35151,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,JonathanLevi,angelo.decaro,angelo.decaro,07/Nov/18 4:27 PM,07/Nov/18 4:46 PM,28/Oct/23 3:04 AM,07/Nov/18 4:46 PM,,,,,,,,,,,,,,0,,,,,,angelo.decaro,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxsv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix - Improve Test Coverage,FAB-12758,35156,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,07/Nov/18 4:32 PM,23/Jan/20 7:33 AM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,v1.3.0,,,,,Future,,,,fabric-crypto,,,,0,idemix,stale-item,,The goal of this epic is to improve test coverage of the idemix and related packages.,,angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Not Required,Unset,Unset,ghx-label-10,,Idemix - Improve Test Coverage,To Do,No,,Unset,No,,,"1|hzzxt3:",,,,No,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Idemix - Selective Attribute Disclosure ,FAB-12759,35157,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,07/Nov/18 4:42 PM,23/Jan/20 7:33 AM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,,,,,,,,,,,,,,0,idemix,stale-item,,,,angelo.decaro,huxd,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-12,,idimix-attribute-disclosure,To Do,No,,Unset,No,,,"1|hzzxtb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,huxd,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pull all channels from the system channel orderers,FAB-12760,35163,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Nov/18 7:54 PM,19/Nov/18 6:52 PM,28/Oct/23 3:04 AM,19/Nov/18 6:52 PM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxtj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 6:52 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27430/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Attach the onboarding to the orderer startup flow,FAB-12761,35164,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Nov/18 7:54 PM,05/Dec/18 2:55 AM,28/Oct/23 3:04 AM,05/Dec/18 2:55 AM,,,,,,,,,,,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxtr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 12:35 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27637/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add etcd/raft consensus-type to fabric-samples first-network,FAB-12762,35166,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,tock,tock,tock,07/Nov/18 8:33 PM,24/Mar/19 8:46 PM,28/Oct/23 3:04 AM,07/Mar/19 9:53 PM,v1.4.0,,,,,,,,,fabric-samples,,,,0,raft,watchlist,,"Augment the fabric-samples first-network sample to include a flag that allows a choice of  consensus-type.

Extend the flag -o to allow users to choose between the solo, kafka, or etcdraft consensus-type of the ordering service.

Use three orderer nodes.",,joe-alewine,kchristidis,tock,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13011,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxu7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,kchristidis,tock,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Nov/18 7:51 PM;tock;[https://gerrit.hyperledger.org/r/#/c/27391/]

 ;;;","13/Nov/18 12:14 AM;kchristidis;[~tock]: Thanks for this! Since we cannot merge this one yet, I will move it to FAB-11863. This will allow me to mark the current parent story (FAB-11474) as Done.;;;","28/Nov/18 6:36 PM;tock;I'll rebase this on top of https://jira.hyperledger.org/browse/FAB-13011 once it is merged.;;;","28/Nov/18 6:38 PM;tock;Need to rebase this one on top of https://jira.hyperledger.org/browse/FAB-13011;;;","24/Feb/19 5:33 AM;kchristidis;[~tock]: Can we prioritize this over the completion of the migration work? This will help with the imminent 1.4.1 release. Let me know what you think.;;;","24/Feb/19 4:24 PM;tock;[~kchristidis] Sure, no problem. I'll start with this ASAP.;;;",,,,,,,,,,,,,,,,,,,
test flake in TestStreamAbort ,FAB-12763,35169,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,07/Nov/18 10:28 PM,20/Mar/19 3:47 PM,28/Oct/23 3:04 AM,07/Nov/18 11:43 PM,,,,,,v1.4.0,,,,,,,,0,,,,"ps
14:48:40 --- FAIL: TestStreamAbort (0.16s)
14:48:40     --- FAIL: TestStreamAbort/Evicted_from_membership (0.08s)
14:48:40         <autogenerated>:1: 
14:48:40             	Error Trace:	comm_test.go:350
14:48:40             	            				asm_amd64.s:1333
14:48:40             	Error:      	Error message not equal:
14:48:40             	            	expected: ""rpc error: code = Canceled desc = context canceled""
14:48:40             	            	actual  : ""rpc error: code = Internal desc = grpc: error while marshaling: proto: Marshal called with nil""
14:48:40             	Test:       	TestStreamAbort/Evicted_from_membership",,C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Nov/18 10:53 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27420/;;;",,,,,,,,,,,,,,,,,,,,,,,,
runPTE.sh - Capability to send transactions to All peers in an org in the network,FAB-12765,35175,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,nileshdeotale,nileshdeotale,08/Nov/18 12:54 AM,09/Nov/18 6:59 AM,28/Oct/23 3:04 AM,09/Nov/18 6:59 AM,,,,,,,,,,fabric-quality,,,,0,,,,"Currently runPTE.sh does not send transactions to all peers in the network. It sends it only to the first peer. 

For remote peer testing, we need capability to send transactions to All peers such that remote peer also receives transactions.  

 ",,dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzxvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,release-1.1,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,release-1.2,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,true,"08/Nov/18 4:45 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27446/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test flake in new grpclogging suite,FAB-12766,35176,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,08/Nov/18 1:37 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,08/Nov/18 6:28 AM,,,,,,v1.4.0,,,,,,,,0,ci-flake,,,"{code}
00:04:56.573 ------------------------------
00:04:56.573 • Failure [0.937 seconds]
00:04:56.573 Server
00:04:56.574 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:33
00:04:56.574   StreamServerInterceptor
00:04:56.574   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:286
00:04:56.575     logs stream data [It]
00:04:56.575     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:302
00:04:56.575 
00:04:56.575     Expected
00:04:56.575         <time.Time>: 2018-11-07T15:21:14.365114137Z
00:04:56.575     to be ~
00:04:56.575         <time.Time>: 2018-11-07T15:21:14.355108037Z
00:04:56.575 
00:04:56.575     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:373
00:04:56.576 ------------------------------
00:04:56.579 •••••••••••
00:04:56.579 
00:04:56.580 Summarizing 1 Failure:
00:04:56.580 
00:04:56.581 [Fail] Server StreamServerInterceptor [It] logs stream data 
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxvz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 1:53 AM;sykesm;The default fudge is 1ms but we can clearly differ by 10ms or more so will create a threshold of 100ms.;;;","08/Nov/18 3:10 AM;sykesm;https://gerrit.hyperledger.org/r/27440 [FAB-12766] increase temporal threshold in tests;;;",,,,,,,,,,,,,,,,,,,,,,,
gossip tests are failing the daily unit-tests for 1.2.0 as validation failed.,FAB-12767,35179,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sambhavdutt,sambhavdutt,08/Nov/18 1:52 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 8:11 PM,v1.2.0,,,,,v1.2.0,,,,fabric-gossip,,,,0,ci-failure,,,"I noticed the below errors in the daily unit-tests for release-1.2 branch,

{code:java}
21:34:24 unit-tests_1  | 2018-11-06 02:33:53.096 UTC [gossip/privdata] StoreBlock -> ERRO 006 Validation failed: foobar
21:34:24 unit-tests_1  | --- FAIL: TestHaltChainProcessing (0.01s)
21:34:24 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	state_test.go:1658
21:34:24 unit-tests_1  | 		
	            	
			state_test.go:718
21:34:24 unit-tests_1  | 		
	Error:      	""Got nil message via end-to-end channel, should not happen![Got nil message via end-to-end channel, should not happen!]"" does not contain ""Got error while committing""
21:34:24 unit-tests_1  | 		
	Test:       	TestHaltChainProcessing
21:34:24 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	state_test.go:1658
21:34:24 unit-tests_1  | 		
	            	
			state_test.go:719
21:34:24 unit-tests_1  | 		
	Error:      	""Got error while committing(foobar)
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-release-1.2-x86_64/134/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-release-1.2-x86_64/134/",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c613a45198a5447a475b3baf6d8e754bd6043011,Unset,No,,,"1|hzzxwf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 8:11 PM;sambhavdutt;There are no errors observed from last two builds for the unit test code coverage tests.

 

*Build Logs*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-release-1.2-x86_64/140/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove logger name conversion,FAB-12768,35180,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,08/Nov/18 2:05 AM,08/Nov/18 6:47 AM,28/Oct/23 3:04 AM,08/Nov/18 6:47 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxwn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 3:10 AM;sykesm;https://gerrit.hyperledger.org/r/c/27436;;;",,,,,,,,,,,,,,,,,,,,,,,,
Rename ModuleLevels to LoggerLevels and handle fallout,FAB-12769,35183,34511,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,08/Nov/18 3:44 AM,12/Nov/18 11:33 PM,28/Oct/23 3:04 AM,12/Nov/18 11:33 PM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxxb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 3:58 AM;sykesm;https://gerrit.hyperledger.org/r/27444 [FAB-12769] Rename ModuleLevels to LoggerLevels;;;",,,,,,,,,,,,,,,,,,,,,,,,
Behave framework: add capability for testing service discovery using SDKs,FAB-12770,35184,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,08/Nov/18 4:14 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"More testing is needed in the area of Service Discovery using the different SDKs. This requires a network to configure to use service discovery and to call a SDK API that indicates that service discovery is in use. Then when 1 peer goes down, it should not cause errors when sending transactions on a channel. 

Be sure to test within an organization and across organizations and with different sdks. 

Note: there is an API that needs to be called that returns the list of available peers for service discovery.

Questions: 
1. Is there a way to set the retry timeout for the clients such that we can verify that a ""downed"" peer returns an error and a ""newly discovered"" peer is successful?",,latitiah,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxxj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,scottz,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test Scenario: Using Service Discovery with the Different SDKs,FAB-12771,35185,35184,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,08/Nov/18 4:16 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,"*Test Name*: Using Service Discovery with the <Interface> SDK
*Component*: fabric-sdk-node, fabric-sdk-java, orderer, peer
*Description*: When configuring a network to use service discovery, when 1 peer goes down, it should not cause errors when sending transactions on a channel. Be sure to test within an organization and across organizations and with different sdks. 
*Artifact Locations*: fabric/test/feature/peer.feature
*Network Topology*: solo-based orderer network, 2 organizations with 2 peers each, sdk-based clients
*Client Driver*: behave
*Input*: behave -n ""FAB-xxxx""
*Output*: 4 scenarios passed, 0 failed",,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxxr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add API call that returns the list of available peers for service discovery,FAB-12772,35186,35184,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,08/Nov/18 4:17 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,,,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add config that enables turning on Service Discovery,FAB-12773,35187,35184,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,08/Nov/18 4:18 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,Default should be Service Discovery turned off.,,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Change signature of internal evaluator function,FAB-12774,35188,28913,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,ales,ales,ales,08/Nov/18 4:52 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,"Towards a refactoring of the validation/committer, we need to decouple
signature/identity validation and policy checking. This change-set
enables this by changing the signature of the function that internally
evaluates the policy: instead of directly invoking functions to 
deserialize the supplied identity, checking compliance of the identity
with an MSP principal and verifying a signature, it calls functions
of a suitable interface. Implementers of the interface are then free
to perform any appropriate precomputation.
",,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:u",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update cobra,FAB-12775,35189,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,jyellick,jyellick,jyellick,08/Nov/18 5:06 AM,10/Nov/18 12:22 AM,28/Oct/23 3:04 AM,10/Nov/18 12:22 AM,,,,,,,,,,fabric-common,,,,0,,,,"Cobra is out of date, and running 'dep ensure' updates it.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzxyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Nov/18 12:22 AM;jyellick;Actually up to date;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address code review comment for token client,FAB-12776,35190,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,wenjian,wenjian,wenjian,08/Nov/18 5:17 AM,13/Jan/20 11:36 PM,28/Oct/23 3:04 AM,13/Jan/20 11:36 PM,,,,,,,,,,,,,,0,fabtoken,,,"Use this task to address code review comments for TxSubmitter in [https://gerrit.hyperledger.org/r/#/c/27227/ |https://gerrit.hyperledger.org/r/#/c/27227/]

Original CR for TxSubmitter: [https://gerrit.hyperledger.org/r/#/c/26461/. |https://gerrit.hyperledger.org/r/#/c/26461/]",,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzzxyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/18 11:13 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27447/]

 ;;;","13/Jan/20 11:36 PM;sykesm;Removed token from 2.0;;;",,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I want to be able to migrate my Kafka-based ordering service to the Raft-based one",FAB-12777,35195,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,kchristidis,kchristidis,08/Nov/18 7:45 AM,05/Jun/19 6:54 PM,28/Oct/23 3:04 AM,05/Jun/19 6:54 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,kafka,raft,,"*IMPORTANT*: The design presented here was replaced by: https://jira.hyperledger.org/browse/FAB-15041

Goal:
 * Migrate an existing kafka-based ordering service to a raft-based ordering service.
 * Assumptions:
 ** The migration is one way. Once migrated to etcd/raft it will not be possible to go back to kafka.
 ** Downtime is allowed during the migration.
 * Design & implement the mechanism in the orderer node
 * Provide tools that automate the process
 * Provide documentation and guidelines
 * Design guideline
 ** Make it simple and robust
 ** Migration is all or nothing – if something fails in the middle, the system should be able to revert to a kafka-base functioning network.

 

As part of this story, we'll need to provide tooling and documentation (a very concrete set of steps) that will allow ordering service administrators to do this transition.

We want to gate this transition behind an Orderer & Channel capability. 

 

See [High level design on Google Drive|https://docs.google.com/document/d/1sDSsehNR2vLf1cgZzsAjTCsoSyy0CpUg5rOb4YmXi00/edit?usp=sharing]

See [Detailed design on Google Drive (work in progress) |https://docs.google.com/document/d/1g_M8KO9cdbYMLBsscHd6ffv-X_ZRLeHvDcIEoV7YXUE/edit?usp=sharing]",,adarshsaraf123,C0rWin,davidkhala,grice_32,guoger,jyellick,kchristidis,qiang0723,tock,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 8:29 PM;tock;fabric-osn-kafka2raft-migration.v1.pdf;https://jira.hyperledger.org/secure/attachment/16258/fabric-osn-kafka2raft-migration.v1.pdf",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i008a7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,C0rWin,davidkhala,grice_32,guoger,jyellick,kchristidis,qiang0723,tock,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 8:34 PM;tock;[~kchristidis] [~jyellick]  [~guoger]  [~adarshsaraf123]

I attached a high level design that outlines how we plan to go about this. Please review and comment on this before we start implementing this feature.;;;","15/Nov/18 4:03 AM;kchristidis;[~tock]: Thanks for putting this together. I've gone through it, and I have a few questions. Can we get a Google Sheets version of this so that I can comment on specific bullet points?;;;","15/Nov/18 4:04 AM;kchristidis;Also, /cc [~adarshsaraf123] for review.;;;","15/Nov/18 7:30 PM;tock;Per [~kchristidis]'s request, I added a link (above) to a Google doc with comments enabled.;;;","16/Nov/18 4:12 AM;kchristidis;I left a few comments on the Google Doc. I was leaning towards Option 2 yesterday, but yeah, the point about needing access to the OSN storage is a good one. I think I'm good with Option 1. Let's hold off for another day or two to see if there are any objections. Thanks for putting this together.;;;","16/Nov/18 8:48 PM;adarshsaraf123;I do not see any description on how we are going to handle block metadata (kafka and raft related) during the migration. Are the details on that to follow later? 
Apart from that I too agree with the point about needing access to the OSN storage and therefore option 1 looks good.

Another question that I have been having is whether we enforce the raft migration across all the channels on a consortium (the way it is planned in the doc) or do we allow each channel to decide it's own orderer type (kafka vs raft)? Essentially I am wondering, once created, can we allow the application channels to decide upon their ordering service per their need and not be reliant on what the whole consortium decides. (Not sure if this does not have any practical value but I do believe giving each channel autonomy is a good idea.)
Also, if we allow each channel to decide on its own orderer type then does it simplify the design in any way (I do believe it should) and if so does it make sense to take this approach just for the simplicity it brings?;;;","17/Nov/18 8:16 AM;kchristidis;[~adarshsaraf123]: Good points, and thanks for giving this a look!

# Do you see any issue with a Raft network having Kafka-related metadata in its earlier blocks? (I don't, but I may be missing something.)
# I hadn't considered allowing each channel to decide on their orderer type _at this stage_, particularly because I want to move as many networks off of Kafka as possible. (This is admittedly not a good enough reason.) I'm  good with each channel deciding their orderer type (and I believe [~guoger] had echoed similar thoughts in the past), but I would ask that we don't list it as a requirement. What we must absolutely have is a tool for mass (i.e. all the channels) migration. If we can get something going for individual channels w/o wasting too many cycles, then I guess that could work. But I'll note again that we're better off moving to a consensus mechanism where we rely solely on our own (i.e. Fabric) binaries as soon as possible.;;;","17/Nov/18 9:27 PM;adarshsaraf123;[~kchristidis]
# I do not see an issue with Kafka-related metadata being present in the earlier blocks. However, I _think_ that not having the Raft-related metadata could cause us problems. It will be good if the proposal considers this. Either there are problems and then we need means to handle them, or there are no problems and we just describe why it will not be a problem.
# I in fact do agree that moving the networks off Kafka is a good reason. However, I was thinking of the case when admins from different channels do not consent on the migration and then we need the autonomy for each channel. I think if we provide a solution for migrating individual channels then it can be easily extended to migrate all of them at once. However, in case we do not, and we do need this feature in the future, then it might get difficult to support the same. I believe the design is quite amenable to support individual channel migration and considering a few more details should get us going. ;;;","18/Nov/18 4:54 PM;tock;* Supporting a ""mixed"" ordering service with both kafka and raft: 
 ** I think that it is technically possible to engineer a system that would do that. [~adarshsaraf123]
 ** *However*, I do think this will complicate the system to a level that is way beyond what we need. Part of the reason for the raft move is to reduce the dependency on a third party service (kafka) that has to be managed and hosted - as this adds to the complexity and cost of a system that is already quite complex. I would not consider going that way (mixed) unless there is a clear customer (user) demand for that. [~kchristidis]
 * W.r.t. channel admins not consenting and blocking a migration - that is a good point [~adarshsaraf123].
 ** I think that the choice of consensus type should be left to the decision of orderer-org admins (a majority, or any other modification policy they agree upon when they set up the ordering service), not channel admins. 
 ** Channel admins should be able to choose the consenter set, but not the consensus type. If they cannot agree, they will be left with a default set - all orderers.
 * The details of how we represent kafka & raft config metadata will be addressed once we elaborate the design further. In that context we'll also address the restart flow - when an OSN restarts after migration - and all failure scenarios that branch off from there. One of these failure scenarios is that the node cannot find (or fails to process) the raft config metadata. ;;;","25/Apr/19 7:37 PM;guoger;[~tock] is there a design doc/write-up for approach v2? thx!;;;","29/Apr/19 11:17 PM;tock;The approach described in this task is discontinued.
The work on the new approach (v2) to migration will be continued here https://jira.hyperledger.org/browse/FAB-15041;;;",,,,,,,,,,,,,,
Convert fabric-chaincode-node job configuration to pipeline,FAB-12778,32675,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Aug/18 1:44 AM,16/Nov/18 3:48 AM,28/Oct/23 3:04 AM,16/Nov/18 3:48 AM,,,,,,,,,,,,,,0,,,,Convert fabric-sdk-node verify and merge job configuration to pipeline,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-10067,,,No,,Unset,No,,,"1|hzzm2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 3:48 AM;rameshthoomu;Marking this as done as all the branches in fabric-chaincode-node now are on pipeline.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update fabric-chaincode-node Job configurations in SCM repository,FAB-12779,32676,32675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Aug/18 1:44 AM,08/Nov/18 2:48 PM,28/Oct/23 3:04 AM,17/Aug/18 3:39 AM,,,,,,,,,,,,,,0,,,,"The existing Job configuration has been placed in SCM repository. This needs to be converted to Shell scripts and Jenkinsfile in fabric SCM repository. Follow the sample created in fabric-samples repository [https://github.com/hyperledger/fabric-samples/commit/e95210e9bc209e61e83a7543d8d941081e80e470]

– Create shell script to checkout code, pull docker images, execute fabric tests.

– Create Jenkinsfile with multiple stages calling shell script function for each stage. See the above Jenkinsfile reference.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Aug/18 11:02 PM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/25415/]
https://gerrit.hyperledger.org/r/#/c/25411/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Convert fabric-chaincode-node verify job configuration to pipeline,FAB-12780,32677,32675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,09/Aug/18 1:44 AM,16/Nov/18 3:48 AM,28/Oct/23 3:04 AM,16/Nov/18 3:48 AM,,,,,,,,,,,,,,0,,,,"Convert fabric-chaincode-node verify & Merge job configuration to pipeline.

Same has been updated in fabric-samples job configuration. See the reference commit here [https://github.com/hyperledger/ci-management/commit/19595d62796c7a6833b4fad1969208cde51f9c87]",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzm3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Aug/18 11:33 PM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/25419/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline script to publish API docs and Npm modules - master branch,FAB-12781,35197,32675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,08/Nov/18 2:45 PM,16/Nov/18 3:47 AM,28/Oct/23 3:04 AM,16/Nov/18 3:47 AM,,,,,,,,,,,,,,0,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy0n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 11:39 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27475/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline script to publish API docs and Npm modules - release-1.3 branch,FAB-12782,35198,32675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,08/Nov/18 2:46 PM,12/Nov/18 3:28 PM,28/Oct/23 3:04 AM,12/Nov/18 3:28 PM,,,,,,,,,,,,,,0,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy0v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/18 11:38 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27476/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline script to publish API docs and Npm modules - release-1.2 branch,FAB-12783,35199,32675,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,08/Nov/18 2:46 PM,12/Nov/18 3:28 PM,28/Oct/23 3:04 AM,12/Nov/18 3:28 PM,,,,,,,,,,,,,,0,,,,,,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/18 11:38 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27482/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Provide an ephemeral in-memory keystore that does not persist key material on disk,FAB-12784,35205,33915,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,08/Nov/18 6:08 PM,06/Dec/18 1:15 AM,28/Oct/23 3:04 AM,19/Nov/18 1:40 PM,,,,,,v1.4.0,,,,,,,,0,,,,"The software BCCSP currently only supports a file-based keystore, which persists key material, such as the private signing key, on disk. One of the aspects of this story is to remove the need to persist key material on disk and just supply it on startup.

The goal of this task to add an additional keystore implementation that just keeps the key material in memory.",,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy1j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 7:36 PM;mne;https://gerrit.hyperledger.org/r/#/c/27461/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for approve",FAB-12785,35207,34271,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,08/Nov/18 6:17 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy1r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:31 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27432/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Ability to enable processing in the channel configuration,FAB-12786,35208,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,angelo.decaro,angelo.decaro,08/Nov/18 6:44 PM,08/Nov/18 7:13 PM,28/Oct/23 3:04 AM,08/Nov/18 7:12 PM,,,,,,,,,,,,,,0,,,,"Capabilities are used to gate features and functions that impact a network of peers. We need to establish a capability name (and associated configuration support) to enable the *token-chaincode interoperation* features of fabric.

Acceptance: I can define the new capability in an config update transaction, submit it, and observe the peer can support the new capability.",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy1z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Support,FAB-12787,35209,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,08/Nov/18 6:50 PM,03/Dec/19 3:03 AM,28/Oct/23 3:04 AM,02/Dec/19 11:14 PM,,,,,,,,,,,,,,0,,,,"A chaincode defines the business logic of an application running on a ledger. To allow a chaincode to interoperate with the token ecosystem, we need to allow the chaincode to request token operations.

On high level, we need the following actions:
 # New protobuf messages for token operations requested by a chaincode
 # A TokenStubInterface to allow the chaincode to set token operations.
 # Set the token operations in the proposal response
 # Update the chaincode execution path to propagate the token operations up to the endorser (bridge for 3.)",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13076,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11965,,,No,,Unset,No,,,"1|hzzy27:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Protobuf Messages for Token Expectation,FAB-12788,35210,35209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,08/Nov/18 6:54 PM,26/Nov/18 4:40 PM,28/Oct/23 3:04 AM,15/Nov/18 12:59 AM,,,,,,,,,,,,,,0,fabtoken,,,A chaincode needs to be able to set token expectations. We need to define protobuf messages for the expectation to be stored in the proposal response,,angelo.decaro,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12462,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy2f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 7:23 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27460/;;;","16/Nov/18 12:47 AM;mbwhite;Please can you review https://jira.hyperledger.org/browse/FAB-12885 

Node chaincode builds are broken.;;;",,,,,,,,,,,,,,,,,,,,,,,
Extend the proposal response to carry token expectation ,FAB-12789,35211,35209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,08/Nov/18 6:58 PM,26/Nov/18 4:39 PM,28/Oct/23 3:04 AM,26/Nov/18 4:39 PM,,,,,,,,,,,,,,0,fabtoken,,,The proposal response carries the response produced during endorsement. We need to modify the proposal response to carry also the token expectation.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy2n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Nov/18 7:42 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27462/;;;",,,,,,,,,,,,,,,,,,,,,,,,
TokenStubInterface,FAB-12790,35212,35209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,08/Nov/18 6:59 PM,02/Dec/19 11:14 PM,28/Oct/23 3:04 AM,02/Dec/19 11:14 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,This task is about introducing a TokenStubInterface to allow the chaincode to handle token operations. The client and server side of the stub will been updated to handle the new commands.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12791,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 5:02 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27465/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Bridge the token expectation and the proposal response,FAB-12791,35213,35209,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,08/Nov/18 7:00 PM,21/Mar/19 6:32 PM,28/Oct/23 3:04 AM,21/Mar/19 6:32 PM,,,,,,,,,,,,,,0,,,,"Once the chaincode sets and the simulation is completed, we need to allow the expectation to be set in the proposal response and being part of the endorsement",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12790,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy33:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prover Peer Support  for Token Expectation Request,FAB-12792,35214,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,angelo.decaro,angelo.decaro,08/Nov/18 7:03 PM,02/Dec/19 11:14 PM,28/Oct/23 3:04 AM,02/Dec/19 11:14 PM,,,,,,Future,,,,fabric-token,,,,0,fabtoken,,,"Once a client receives a proposal response containing a token expectation, the client needs to generate a token transaction that satisfies the expectation. We need to extend the prover peer capability to support the client needs.",,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11965,,,No,,Unset,No,,,"1|hzzy3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 10:36 PM;wenjian;CR is https://gerrit.hyperledger.org/r/#/c/27617/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Client Support,FAB-12793,35215,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,08/Nov/18 7:07 PM,02/Dec/19 11:15 PM,28/Oct/23 3:04 AM,02/Dec/19 11:15 PM,,,,,,,,,,,,,,0,fabtoken,,,"Once a client receives a proposal response containing a token expectation, We need to do the following things:
 # Allow the client to contact the prover peer to get a token transaction satisfying the token expectation;
 # Allow the client to generate a transaction carrying the endorsement and the token transaction",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11965,,,No,,Unset,No,,,"1|hzzy3j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Do not call make from a script that is called with make,FAB-12794,35224,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,08/Nov/18 11:05 PM,01/Dec/18 11:46 AM,28/Oct/23 3:04 AM,01/Dec/18 11:46 AM,,,,,,,,,,fabric-quality,,,,0,,,,"In fabric-test, the ""pull-images"" make target calls a script called ""pullDockerImages.sh"". The script then calls make with multiple targets.",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy47:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"08/Nov/18 11:07 PM;latitiah;https://gerrit.hyperledger.org/r/27466;;;",,,,,,,,,,,,,,,,,,,,,,,,
"The fabric-test-daily-pte-release-1.3 fails in (test_FAB3807_4i_FAB3835_4q, test_FAB7333_4i) due to incorrect number of Invoke transactions.",FAB-12795,35226,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,dongming,sambhavdutt,sambhavdutt,08/Nov/18 11:49 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 8:07 PM,v1.3.0,,,,,v1.3.0,,,,fabric-quality,,,,0,ci-failure,,,"Perf_Stress_LevelDB failed in *test_FAB3807_4i_FAB3835_4q*  , *test_FAB7333_4i_filtered_block_events* with this error, ""Incorrect number of INVOKE transactions sent or received""

{code:java}
systest_pte.Perf_Stress_LevelDB.test_FAB7333_4i_filtered_block_events (from pytest) 
.
.
        # check the counts
        count = subprocess.check_output(
                ""grep \""CONSTANT INVOKE Overall transactions: sent 40000 received 40000\"" FAB-7333-4i-pteReport.log | wc -l"",
                cwd=logs_directory, shell=True)
>       self.assertEqual(int(count.strip()), 1, msg=invokeFailure)
E       AssertionError: Error: incorrect number of INVOKE transactions sent or received

systest_pte.py:473: AssertionError
.
.

#x1B[31merror#x1B[39m: [PTE 0 main]: [chaincodeInstantiate] Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
#x1B[31merror#x1B[39m: [PTE 0 main]: [chaincodeInstantiate(Nid=0)] Failed to instantiate transaction on testorgschannel1 due to error:  Error: Failed to send instantiate Proposal or receive valid response. Response null or status is not 200. exiting...
    at /w/workspace/fabric-test-daily-pte-release-1.3-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/pte-main.js:710:23
{code}

*Build Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.3-x86_64/11/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7333_4i_filtered_block_events/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/11/",,dongming,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,306640d399bbea46d25bfa1673f35a3fa8187b49,Unset,No,,,"1|hzzy4n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Nov/18 6:29 AM;dongming;The PTE log shows proposal failed:

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_move_const_evtBlock] proposal failed 1, ""45420380ab22987473e78c6d2dac93ad9110b9764601dc7363cb31f072c04893""

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 invoke_move_const_evtBlock] proposal failed 1, ""3c8f5751df1edc816a244a8437d8b558ab7402e8bdee10cc2cde0e43643a01ec""

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:1 invoke_move_const_evtBlock] proposal failed 1, ""11d7fceb0280b1859f4a7a352e5f802bfbbcec7c0c7adf33a9d17c6fafddc4df""

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_move_const_evtBlock] proposal failed 2, ""4039b7b803bbb07a1077c469b9c5a89e952761612cb65ce6896d0c4a9887fe34""

 

However, install and instantiate chaincode successfully.  I attempted to recreate the failure on a vLaunch but the same testcase was executed successfully.

 

Let's re-run the testcase and see if the failure persists.;;;","09/Nov/18 11:30 AM;sambhavdutt;[~dongming]

I agree, the tests ran fine on your system. There are no changes or commit on the release-1.3 branch, and the tests were fine. I have run the test again in Sandbox, took a  long while , but it is failing again in the same test case. I am not sure why it is failing on the Jenkins x nodes. I will monitor the builds on production.

*Sandbox Build Logs*

https://jenkins.hyperledger.org/sandbox/job/fabric-test-daily-pte-release-1.3-x86_64/1/testReport/systest_pte/Perf_Stress_LevelDB/test_FAB7333_4i_filtered_block_events/

https://jenkins.hyperledger.org/sandbox/job/fabric-test-daily-pte-release-1.3-x86_64/test_results_analyzer/;;;","12/Nov/18 8:06 PM;sambhavdutt;*test_FAB3807_4i_FAB3835_4q* , *test_FAB7333_4i* There are no Assertion Errors observed starting Nov 10th (test time - 4 hours, 8 mins, starting 8:50 PM EST)

*Build Logs*


https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/14/PTE_Test_Logs/;;;",,,,,,,,,,,,,,,,,,,,,,
Pluggable endorsement and validation EndToEnd Test Suite fail in integration test ,FAB-12796,35227,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,09/Nov/18 12:01 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,12/Nov/18 11:36 PM,,,,,,,,,,fabric-build,,,,0,ci-failure,,,"Pluggable endorsement and validation EndToEnd Test Suite fail in integration test fails the fabric-nightly-release-job-release-1.2-x86_64 job consistently.
{code:java}
/19:55:42 Summarizing 1 Failure:
19:55:42 
19:55:42 [Fail] Network solo network [BeforeEach] deploys and executes chaincode (simple) 
19:55:42 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:67
19:55:42 
19:55:42 Ran 2 of 2 Specs in 64.767 seconds
19:55:42 FAIL! -- 1 Passed | 1 Failed | 0 Pending | 0 Skipped
19:55:42 --- FAIL: TestNewWorldOrder (64.77s)
19:55:42 FAIL
19:57:06 [1541638302] Pluggable endorsement and validation EndToEnd Suite - 1/1 specs 
19:57:06 ------------------------------
19:57:06 • [SLOW TEST:72.196 seconds]
19:57:06 EndToEnd executes a basic solo network with specified plugins 
19:57:06 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/pluggable/pluggable_test.go:112
19:57:06 ------------------------------
19:57:06  SUCCESS! 1m24.230034837s PASS
19:58:11 [1541638302] Runner Suite - 40/40 specs •••••••••••••••••••••••••••••••••••••••• SUCCESS! 1m4.755153382s PASS
19:58:51 [1541638302] World Suite - 3/3 specs ••• SUCCESS! 40.237418729s PASS
19:58:51 
19:58:51 There were failures detected in the following suites:
19:58:51 	nwo ./integration/nwo
19:58:51 
19:58:51 Ginkgo ran 6 suites in 7m9.510021633s
19:58:51 Test Suite Failed/
{code}
*Build log:*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.2-x86_64/172/consoleFull]

 ",,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy4v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 11:36 PM;vijaypunugubati;Works as expected;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instrument metrics into chaincode handler,FAB-12797,35228,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,09/Nov/18 12:18 AM,17/Nov/18 8:42 PM,28/Oct/23 3:04 AM,17/Nov/18 8:42 PM,,,,,,,,,,,,,,0,,,,"instrument metrics into HandleTransaction of the handler: received (count), completed (count), time (histogram). All have labels for the message type, channel, and chaincode; The completed and histogram also contain the response type (error or not).",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/18 11:34 PM;wlahti;https://gerrit.hyperledger.org/r/c/27496;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instrument chaincode launch,FAB-12798,35229,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,09/Nov/18 12:21 AM,20/Nov/18 3:47 AM,28/Oct/23 3:04 AM,20/Nov/18 3:47 AM,,,,,,,,,,,,,,0,,,,"Record how long it takes to launch chaincode and, when complete, whether or not it's successful. That should be a single histogram with labels.
All metrics for chaincode should include a chaincode name that includes its version; this string will need to be sanitized for use with Statsd and Prometheus. (Find a transform that works and consider a separate task that puts it into the statsd namer to keep people from having to concern themselves with it.)",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy5b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 2:19 AM;wlahti;https://gerrit.hyperledger.org/r/c/27562;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove TLS functions from MSP interface,FAB-12800,35234,28912,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ales,ales,09/Nov/18 6:22 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,,,ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:v",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create stats objects and populate initial set of metrics,FAB-12801,35235,33631,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,09/Nov/18 7:13 AM,01/May/19 3:05 AM,28/Oct/23 3:04 AM,27/Nov/18 12:09 AM,,,,,,v1.4.0,,,,,,,,0,,,,"Create stats objects and populate initial set of metrics listed below

- Blockchain Height
- Block Processing Time (includes versions validation for endorser txs and execution of post-order txs)
- Block storage commit time
- State DB commit time
",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15031,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 3:29 PM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/27486/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pass metrics provider to ledgermgmt,FAB-12802,35237,33631,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,09/Nov/18 3:14 PM,15/Nov/18 9:56 PM,28/Oct/23 3:04 AM,15/Nov/18 9:56 PM,,,,,,,,,,,,,,0,,,,Introduce dependency of metrics provider for ledger package and pass the metrics provider to ledgermgmt,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy73:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 3:28 PM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/27485/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add transactions level stats,FAB-12803,35238,33631,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,09/Nov/18 3:32 PM,11/Dec/18 12:55 AM,28/Oct/23 3:04 AM,11/Dec/18 12:55 AM,,,,,,,,,,,,,,0,,,,Add the stats at the level of individual transactions,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy7b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 4:48 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/27649/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add couchdb related stats,FAB-12804,35239,33631,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,manish-sethi,manish-sethi,09/Nov/18 3:33 PM,08/Dec/18 5:17 AM,28/Oct/23 3:04 AM,08/Dec/18 5:17 AM,,,,,,v1.4.0,,,,,,,,0,,,,Add stats for couchdb,,denyeart,manish-sethi,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzy7j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 4:04 AM;skarim;https://gerrit.hyperledger.org/r/c/27526/4;;;","21/Nov/18 5:32 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27640/;;;",,,,,,,,,,,,,,,,,,,,,,,
Bad Examples for Private Data Collection Configuration Files,FAB-12805,35244,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ivanovv,ivanovv,09/Nov/18 6:18 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.2.0,v1.3.0,,,,,,,,fabric-peer,,,,1,stale-item,,,"Hi,

maybe I'm wrong (using the wrong test set or wrong Jira Project) but the code on: [https://github.com/hyperledger/fabric/blob/master/core/handlers/validation/builtin/v13/lscc_validation_logic.go] and more specifically:
|// make sure that the signature policy is meaningful (only consists of ORs)|
|err := *validateSpOrConcat*(newCollection.MemberOrgsPolicy.GetSignaturePolicy().Rule)|
|if err != nil {|
|  return errors.WithMessage(err, fmt.Sprintf(""collection-name: %s -- error in member org policy"", collectionName))|
|}|
|}|
|return nil|
|}
 |
| |
|// validateSpOrConcat checks if the supplied signature policy is just an OR-concatenation of identities|
|func *validateSpOrConcat*(sp *common.SignaturePolicy) error {|
|  if sp.GetNOutOf() == nil {|
|    return nil|
|  }|
|  // check if N == 1 (OR concatenation)|
|  *if* *sp.**GetNOutOf**().N !=* *1* *{*|
|    return errors.New(fmt.Sprintf(""signature policy is not an OR concatenation, NOutOf %d"", sp.GetNOutOf().N))|
|  }
imples that ONLY ""1-of"" policy will be accepted.
All the examples (Java/Node SDK or yaml/json) like those on: [https://github.com/hyperledger/fabric-sdk-java/tree/master/src/test/fixture/collectionProperties] do not work with the network (throw exceptions when sent to the peer) or provide a wrong information ""1-of: # must be signed by at least one of these (OR) can *be 2-of for both (AND)*.""
Assuming there is a collaboration between the core & SDK developer, could you please make sure that the examples are consistent with the core design (or the core design could log a statement that certain functionalities are NOT supported YET)?!
Best regards,
Venko Ivanov|",,ivanovv,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzy7z:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),ivanovv,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Wallet topic,FAB-12806,35248,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,09/Nov/18 8:52 PM,28/Nov/18 12:52 PM,28/Oct/23 3:04 AM,28/Nov/18 12:52 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,Wallet topic for developing apps documentation,,grice_32,isaacwch,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzy8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),grice_32,isaacwch,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Nov/18 8:54 PM;odowdaibm;Hello [~andrew-coleman] [~SjirNijssen] [~isaacwch] [~EdProsser] Just to let you know I've started this topic to describe wallets. Will add you to review. First job to get basic structure in place per PPT diagrams. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,
fabric unit-test is failing in release-1.2 in the last build as Authentication failed due to timeout.,FAB-12807,35254,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,10/Nov/18 12:44 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,12/Nov/18 7:58 PM,v1.2.0,,,,,v1.2.0,,,,fabric-build,,,,0,ci-failure,,,"I noticed the below errors in the day's build for unit-test release-1.2 (*state_test.go*) 

{code:java}
20:15:46 unit-tests_1  | 2018-11-09 01:15:15.129 UTC [gossip/state] directMessage -> ERRO 004 Got nil message via end-to-end channel, should not happen!
.
.
20:15:46 unit-tests_1  | 2018-11-09 01:15:20.178 UTC [gossip/gossip#p4] validateMsg -> WARN 083 StateInfo message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp:<inc_num:1541726116153469734 seq_num:1541726116153568899 > pki_id:""localhost:6213"" channel_MAC:""\222\243.0\212=?\203\025\272N}\365\276A\310\225](\205Q\276h\020q\rEg\216\240\006C"" properties:<ledger_height:1 > > , Envelope: 80 bytes, Signature: 80 bytes is found invalid: PKIID wasn't found
20:15:46 unit-tests_1  | 2018-11-09 01:15:20.178 UTC [gossip/gossip#p4] handleMessage -> WARN 084 Message GossipMessage: tag:CHAN_OR_ORG state_info:<timestamp:<inc_num:1541726116153469734 seq_num:1541726116153568899 > pki_id:""localhost:6213"" channel_MAC:""\222\243.0\212=?\203\025\272N}\365\276A\310\225](\205Q\276h\020q\rEg\216\240\006C"" properties:<ledger_height:1 > > , Envelope: 80 bytes, Signature: 80 bytes isn't valid
20:15:46 unit-tests_1  | 2018-11-09 01:15:20.503 UTC [gossip/comm#6213] authenticateRemotePeer -> WARN 085 Failed reading messge from 127.0.0.1:45748, reason: Timed out waiting for connection message from 127.0.0.1:45748
20:15:46 unit-tests_1  | 2018-11-09 01:15:20.503 UTC [gossip/comm#6213] GossipStream -> ERRO 086 Authentication failed: Timed out waiting for connection message from 127.0.0.1:45748
.
.
20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC [gossip/state] NewGossipStateProvider -> ERRO 08c Could not read ledger info to obtain current ledger height due to:  Failed accessing ledger
20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC [gossip/privdata] NewCoordinator -> WARN 08d Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:15:46 unit-tests_1  | 2018-11-09 01:15:25.137 UTC [gossip/privdata] StoreBlock -> ERRO 08e Validation failed: foobar
20:15:46 unit-tests_1  | 2018-11-09 01:15:25.139 UTC [gossip/gossip#p0] NewGossipService -> WARN 091 External endpoint is empty, peer will not be accessible outside of its organization
20:15:46 unit-tests_1  | 2018-11-09 01:15:25.139 UTC [gossip/privdata] NewCoordinator -> WARN 092 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000
20:15:46 unit-tests_1  | 2018/11/09 01:15:25 proto: textWriter unindented too far
.
.
20:15:47 unit-tests_1  | --- FAIL: TestNewGossipStateProvider_BatchingOfStateRequest (21.58s)

{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.2-x86_64/48/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/48/",,C0rWin,denyeart,nramesh,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c613a45198a5447a475b3baf6d8e754bd6043011,Unset,No,,,"1|hzzyav:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,nramesh,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 7:58 PM;sambhavdutt;The fabric-unit-test-release-1.2 job has passed in the last build. No issues observed in the gossip tests.

*Build Log*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.2-x86_64/51/consoleFull]

 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/51/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
error log using wrong string ,FAB-12809,35258,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sca2606,muralisr,muralisr,10/Nov/18 1:19 AM,28/Nov/18 12:34 AM,28/Oct/23 3:04 AM,28/Nov/18 12:34 AM,,,,,,v1.4.0,,,,,,,,0,,,,"Log  https://github.com/hyperledger/fabric/blob/release-1.3/core/chaincode/handler.go#L583 should use `getState.key` instead of `key` to log the state key (noticed this when a log showed up with an newline once).

(There may be other places with this issue.)",,muralisr,sca2606,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzybr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,sca2606,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Nov/18 4:36 AM;sca2606;https://gerrit.hyperledger.org/r/#/c/27493/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Sanitize statsd label values,FAB-12811,35261,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,10/Nov/18 4:45 AM,17/Nov/18 12:52 AM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,"Label values for certain metrics (e.g. channel and chaincode ids) in Fabric may contain characters that are not allowed by statsd. The statsd namer should sanitize these values, replacing any invalid characters with an underscore, so that anyone implementing metrics doesn't need to concern themselves with sanitizing the values themselves.  ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzycf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/18 11:34 PM;wlahti;https://gerrit.hyperledger.org/r/c/27495/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-pte-daily-master failed in Perf_Stress_LevelDB test_FAB3808_2i_FAB3811_2q, Assertion error 0 transactions received",FAB-12812,35262,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,scottz,sambhavdutt,sambhavdutt,10/Nov/18 5:10 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Nov/18 7:52 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The pte daily test suite job starting Nov 8 at 8:32 PM EST completed after four hours; all the other pte test cases passed. And on the previous day, the same test passed.

*23:27:16* systest_pte.py::Perf_Stress_LevelDB::test_FAB3808_2i_FAB3811_2q FAILED



*{{Observed assertion error:}}*
{{ *00:40:24* count = subprocess.check_output(}}{{""grep \""CONSTANT INVOKE Overall transactions: sent 20000 received 20000\"" FAB-3808-2i-pteReport.log | wc -l"",*00:40:24* cwd=logs_directory, shell=True)}}

{{*00:40:24* self.assertEqual(int(count.strip()), 1, msg=invokeFailure)*00:40:24* E AssertionError: Error: incorrect number of INVOKE transactions sent or received}}


{{Moreover upon inspection of the logs, it was seen that 20000 TX were sent, *but zero were received*.}}

 

*Error Log*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/79/PTE_Test_Logs/FAB-3808-2i_1109041638.log.gz]

Also observed these errors,
{code:java}
Creating orderer2.example.com   ... done
Creating peer0.org1.example.com ... 
00:40:25 
Creating peer0.org2.example.com ... done
Creating peer1.org2.example.com ... 
00:40:25 
Creating peer0.org1.example.com ... done
Creating peer1.org1.example.com ... 
00:40:25 
Creating peer1.org2.example.com ... done

Creating peer1.org1.example.com ... done
2018-11-09T04:08:17.883Z - error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND
00:40:25 error: [PTE 0 main]: Error: Invalid results returned ::NOT_FOUND
00:40:25     at ClientDuplexStream.deliver.on (/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/fabric-client/lib/Orderer.js:266:23)
00:40:25     at emitOne (events.js:116:13)
00:40:25     at ClientDuplexStream.emit (events.js:211:7)
00:40:25     at addChunk (_stream_readable.js:263:12)
00:40:25     at readableAddChunk (_stream_readable.js:250:11)
00:40:25     at ClientDuplexStream.Readable.push (_stream_readable.js:208:10)
00:40:25     at Object.onReceiveMessage (/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:1276:19)
00:40:25     at InterceptingListener.recvMessageWithContext (/w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:603:19)
00:40:25     at /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric-test/tools/PTE/node_modules/grpc/src/client_interceptors.js:702:14
00:40:25 2018-11-09T04:08:18.024Z - error: [Orderer.js]: sendDeliver - rejecting - status:NOT_FOUND 
{code}
 

 

*Build Logs*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/79/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/79/consoleFull]",,dongming,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,9b4aad84e8c4a5958172a3b859a80e55ce6de6c5,Unset,No,,,"1|hzzycn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Nov/18 7:52 PM;sambhavdutt;Perf_Stress_LevelDB test_FAB3808_2i_FAB3811_2q test case has been passing successfully from two builds(starting from Nov 11, 8:29 P EST, Test completion time 4 hours 46 mins). No Assertion errors observed. The number of transactions invoked is the number of transactions received.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI should allow querying chainless SysCC's.,FAB-12813,35265,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tparth,tparth,tparth,10/Nov/18 6:31 PM,08/Jan/19 5:05 AM,28/Oct/23 3:04 AM,08/Jan/19 5:05 AM,,,,,,,,,,fabric-peer,,,,0,,,,"Peer CLI errors out when using it to query chainless SysCC. There are two reasons for this error:
 # Incorrect parsing of \{{peer chaincode query -C"""" -n""qscc"" -c ' {""Args"": [""foo""]}'}}. Instead of taking {{-C}} as empty string, it sets channelID to {{-n}}

 # Peer CLI requires {{-C}} to be non empty. This was introduced in commit: d2038953d, meant to address FAB-5604 (remove all instances of testchainid). The commit made -C a required parameter, but that prevents chainless SysCCs from being called.

I'm not sure what can be done about first problem. I tried digging up viper, but couldn't find much.",,denyeart,tparth,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5604,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzycv:",,,,Unset,Unset,,,"1. Run `peer chaincode query -C"""" -n ""my-chainless-scc"" -c '{ ""Args"": [ ""a"", ""b"", ""c"" ] }`. It doesn't matter what the values of `a`, `b`, `c` are. The CLI will instead show the Help message, with this error: ""Must supply value for chaincode name field"".

2. If you leave out the `-C""""` bit, it shows a different error message: ""The required parameter 'channelID' is empty.""",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,tparth,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 7:26 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27500/;;;","04/Dec/18 7:26 AM;denyeart;[~wlahti] What's your opinion of what needs to be done here? See the comments in the CR...;;;","05/Dec/18 12:49 AM;wlahti;This seems like an ""improvement"" request and not a bug. The CLI is not intended to support every possible use case of Fabric. And I agree with Ale's comment that an SDK should be used for this functionality at this point in time. ;;;","08/Jan/19 5:05 AM;denyeart;Not planned for immediate future.

Will revisit once the next generation CLI becomes available.;;;",,,,,,,,,,,,,,,,,,,,,
Remove misleading log error messages in validation path,FAB-12814,35267,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,11/Nov/18 9:03 AM,12/Nov/18 1:05 AM,28/Oct/23 3:04 AM,12/Nov/18 1:05 AM,,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"There are misleading log error messages has been added since FAB-11940 corresponding CR.

{code}
func markTXIdDuplicates(txids []string, txsfltr ledgerUtil.TxValidationFlags) {
	txidMap := make(map[string]struct{})

	for id, txid := range txids {
		logger.Error("" txid"", txid, ""found"")
		if txid == """" {
			continue
		}

		_, in := txidMap[txid]
		if in {
			logger.Error(""Duplicate txid"", txid, ""found, skipping"")
			txsfltr.SetFlag(id, peer.TxValidationCode_DUPLICATE_TXID)
		} else {
			txidMap[txid] = struct{}{}
		}
	}
}
{code}

and {{committer/txvalidator/validator.go:197}}

{code}
			// if there was no error, we set the txsfltr and we set the
			// txsChaincodeNames and txsUpgradedChaincodes maps
			logger.Debugf(""got result for idx %d, code %d"", res.tIdx, res.validationCode)

			txsfltr.SetFlag(res.tIdx, res.validationCode)

			if res.validationCode == peer.TxValidationCode_VALID {
				if res.txsChaincodeName != nil {
					txsChaincodeNames[res.tIdx] = res.txsChaincodeName
				}
				if res.txsUpgradedChaincode != nil {
					txsUpgradedChaincodes[res.tIdx] = res.txsUpgradedChaincode
				}
				logger.Error(""res.txid"", res.txid, """")
				txidArray[res.tIdx] = res.txid
			}
{code}

while no error has happened.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzydb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Nov/18 9:12 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27502/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update fabcar sample to use new programming model,FAB-12815,35274,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,12/Nov/18 7:58 PM,06/Mar/19 11:44 PM,28/Oct/23 3:04 AM,06/Mar/19 11:44 PM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"The fabcar sample should be updated to use the new programming model; this story will update both the Node.js sample applications, and the Node.js smart contract.",,grice_32,mbwhite,silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzyef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),grice_32,mbwhite,silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 7:08 PM;mbwhite;https://jira.hyperledger.org/browse/FAB-13175  also a task created to add in the updated metadata 

^ waiting on CR;;;",,,,,,,,,,,,,,,,,,,,,,,,
cluster.RPC stream mapping should be per destination and not global,FAB-12816,35275,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,12/Nov/18 8:19 PM,27/Nov/18 4:47 AM,28/Oct/23 3:04 AM,27/Nov/18 4:47 AM,,,,,,,,,,,,,,0,raft,,,"The egress wrapper for the cluster communication caches the last Submit stream and only reacquires it if a Send() or Recv() was attempted and failed.

This is problematic because a leader may change while there is no call to Send() or Recv() in a follower node, and then the stream will be mapped to a node that is no longer the leader. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Nov/18 8:33 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27503/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Integration test flake: FAIL: TestNewWorldOrder - ""Network kafka network [It] deploys and executes chaincode (the hard way)""",FAB-12819,35279,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,rameshthoomu,rameshthoomu,12/Nov/18 10:40 PM,18/Jun/19 11:04 PM,28/Oct/23 3:04 AM,18/Jun/19 11:04 PM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Integration tests are failing intermittently on release-1.2 branch. Below is the console output.

 
{code:java}
19:17:40 GIT_COMMIT=c613a45198a5447a475b3baf6d8e754bd6043011
19:17:40 GERRIT_REFSPEC=refs/heads/release-1.2
{code}
 
{code:java}
19:53:07 • Failure [16.646 seconds]
19:53:07 Network kafka network [It] deploys and executes chaincode (the hard way) 
19:53:07 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:128
19:53:07 
19:53:07 Timed out after 1.000s.
19:53:07 Expected process to exit. It did not.
19:53:07 
19:53:07 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network.go:530
19:53:07 ------------------------------
19:53:07 
19:53:07 
19:53:07 Summarizing 1 Failure:
19:53:07 
19:53:07 [Fail] Network kafka network [It] deploys and executes chaincode (the hard way) 
19:53:07 /w/workspace/fabric-nightly-release-job-release-1.2-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network.go:530
19:53:07 
19:53:07 Ran 2 of 2 Specs in 76.940 seconds
19:53:07 FAIL! -- 1 Passed | 1 Failed | 0 Pending | 0 Skipped
19:53:07 --- FAIL: TestNewWorldOrder (76.94s)
19:53:07 FAIL
19:54:12 [1541983744] Pluggable endorsement and validation EndToEnd Suite - 1/1 specs • SUCCESS! 1m5.57972356s PASS
19:55:06 [1541983744] Runner Suite - 40/40 specs •••••••••••••••••••••••••••••••••••••••• SUCCESS! 54.050209157s PASS
19:55:35 [1541983744] World Suite - 3/3 specs ••• SUCCESS! 28.927128274s PASS
19:55:35 
19:55:35 There were failures detected in the following suites:
19:55:35 nwo ./integration/nwo{code}",,denyeart,guoger,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyfj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,rameshthoomu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Apr/19 4:14 AM;denyeart;Looks like a dup of FAB-12666.

Hit again in release-1.4:
https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/7877/consoleFull


{code:java}
1:40:15 Network kafka network [It] deploys and executes chaincode (the hard way) 
11:40:15 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:126
11:40:15 
11:40:15   Timed out after 60.000s.
11:40:15   Expected
11:40:15       <<-chan struct {} | len:0, cap:0>: 0xc00048c1e0
11:40:15   to be closed
11:40:15 
11:40:15   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:158
11:40:15 ------------------------------
11:40:15 
11:40:15 
11:40:15 Summarizing 1 Failure:
11:40:15 
11:40:15 [Fail] Network kafka network [It] deploys and executes chaincode (the hard way) 
11:40:15 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/network_test.go:158
11:40:15 
11:40:15 Ran 2 of 2 Specs in 160.454 seconds
11:40:15 FAIL! -- 1 Passed | 1 Failed | 0 Pending | 0 Skipped
11:40:15 --- FAIL: TestNewWorldOrder (160.45s)
{code}

It seems TestNewWorldOrder often fails in ""Network kafka network""... therefore I've labeled as fabric-orderer for initial triage, but the problem may not be orderer specific...;;;","28/May/19 11:38 AM;guoger;Maybe we could close for now and reopen if it's hit again?;;;","18/Jun/19 11:04 PM;sykesm;Given this is on release-1.2 and 1.4 is our LTS, I don't think we want to invest time in this unless it's showing up in 1.4 or master.;;;",,,,,,,,,,,,,,,,,,,,,,
"Unit-test is failing ""intemittently"" on release-1.3 - s390x",FAB-12822,35282,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,rameshthoomu,rameshthoomu,12/Nov/18 10:50 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,30/Jan/19 3:29 AM,v1.4.0,,,,,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,"One of the unit-test  (integration_test.go) is failing in release-1.3 branch on s390x..

This is an intermittent issue and not failing too oftenly.

Build URL: [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-s390x/29/consoleFull]

Below is the error log on the Jenkins output
{code:java}
19:52:06 unit-tests_1 | --- FAIL: TestLeaderYield (117.02s)
19:52:06 unit-tests_1 | integration_test.go:156: p0 started its delivery service
19:52:06 unit-tests_1 | integration_test.go:161: p0 stopped its delivery service
19:52:06 unit-tests_1 | integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
19:52:06 unit-tests_1 | 2018-11-11 00:51:18.627 UTC [gossip/service] updateAnchors -> ERRO 06f Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.{code}",,C0rWin,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,306640d399bbea46d25bfa1673f35a3fa8187b49,Unset,No,,,"1|hzzyg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 7:29 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28992/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Gossip.service fail for unit-test in fabric-unit-test-coverage-daily-master,FAB-12823,35283,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,12/Nov/18 10:50 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Nov/18 2:31 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"Gossip.service fail intermittently for unit-test in fabric-unit-test-coverage-daily-master-x86_64
{code:java}
/19:37:28 	/w/workspace--- FAIL: TestLeaderYield (117.05s)
19:37:28     integration_test.go:156: p0 started its delivery service
19:37:28     integration_test.go:161: p0 stopped its delivery service
19:37:28     integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
19:37:28 2018-11-12 00:36:39.744 UTC [gossip.service] updateAnchors -> ERRO 081 Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting./ code placeholder
{code}
*Build log:*

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/261/consoleFull]

[https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-s390x/29/console]

 

 ",,denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d9241b36006af1350c7ac14629249daa6dfef16f,Unset,No,,,"1|hzzygf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 11:26 PM;rameshthoomu;Latest build worked as expected [https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-s390x/30/consoleFull] Will see few more builds and if this bug is not occuring again, will close this.;;;","20/Nov/18 2:31 AM;vijaypunugubati;Works as expected;;;",,,,,,,,,,,,,,,,,,,,,,,
Write WAL and snapshots in temp dir when testing,FAB-12824,35287,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,kchristidis,sykesm,sykesm,13/Nov/18 12:05 AM,13/Nov/18 7:43 AM,28/Oct/23 3:04 AM,13/Nov/18 7:43 AM,,,,,,,,,,fabric-orderer,,,,0,raft,unit-test,,"/var is not an unprivileged user writable directory on almost any platform. The unit tests should explicitly target temporary directories. Not only does it prevent this kind of issue, it keeps test stuff isolated from the rest of the world.

{color:#DE350B}{{panic: [channel: system] Error creating consenter: failed to restore persited raft data: failed to initialize WAL: mkdir /var/hyperledger: permission denied}}{color}

Also, note the typo: persited instead of persisted.

{code}
--- FAIL: TestSpawnEtcdRaft (12.92s)
    <autogenerated>:1: 
        No future change is possible.  Bailing out early after 0.132s.
        Got stuck at:
            2018-11-12 09:36:29.753 EST [localconfig] completeInitialization -> INFO 001 Kafka.Version unset, setting to 0.10.2.0
            2018-11-12 09:36:29.768 EST [orderer.common.server] prettyPrintStruct -> INFO 002 Orderer config values:
            	General.LedgerType = ""file""
            	General.ListenAddress = ""127.0.0.1""
            	General.ListenPort = 5611
            	General.TLS.Enabled = true
            	General.TLS.PrivateKey = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/server.key""
            	General.TLS.Certificate = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/server.crt""
            	General.TLS.RootCAs = [/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/ca.crt]
            	General.TLS.ClientAuthRequired = true
            	General.TLS.ClientRootCAs = []
            	General.Cluster.RootCAs = [/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/ca.crt]
            	General.Cluster.ClientCertificate = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/server.crt""
            	General.Cluster.ClientPrivateKey = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/testdata/tls/server.key""
            	General.Cluster.DialTimeout = 5s
            	General.Cluster.RPCTimeout = 7s
            	General.Cluster.ReplicationBufferSize = 20971520
            	General.Cluster.ReplicationPullTimeout = 5s
            	General.Cluster.ReplicationRetryTimeout = 5s
            	General.Keepalive.ServerMinInterval = 1m0s
            	General.Keepalive.ServerInterval = 2h0m0s
            	General.Keepalive.ServerTimeout = 20s
            	General.GenesisMethod = ""file""
            	General.GenesisProfile = ""SampleDevModeEtcdRaft""
            	General.SystemChannel = ""test-system-channel-name""
            	General.GenesisFile = ""/var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/etcdraft-orderer-launch880499694/genesis.block""
            	General.Profile.Enabled = false
            	General.Profile.Address = ""0.0.0.0:6060""
            	General.LocalMSPDir = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/sampleconfig/msp""
            	General.LocalMSPID = ""SampleOrg""
            	General.BCCSP.ProviderName = ""SW""
            	General.BCCSP.SwOpts.SecLevel = 256
            	General.BCCSP.SwOpts.HashFamily = ""SHA2""
            	General.BCCSP.SwOpts.Ephemeral = false
            	General.BCCSP.SwOpts.FileKeystore.KeyStorePath = ""/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/sampleconfig/msp/keystore""
            	General.BCCSP.SwOpts.DummyKeystore =
            	General.BCCSP.PluginOpts =
            	General.Authentication.TimeWindow = 15m0s
            	FileLedger.Location = ""/var/folders/tw/dsbwtnf50w7dhvhh0tkg7fwr0000gn/T/etcdraft-orderer-launch880499694/ledger""
            	FileLedger.Prefix = ""hyperledger-fabric-ordererledger""
            	RAMLedger.HistorySize = 1000
            	Kafka.Retry.ShortInterval = 5s
            	Kafka.Retry.ShortTotal = 10m0s
            	Kafka.Retry.LongInterval = 5m0s
            	Kafka.Retry.LongTotal = 12h0m0s
            	Kafka.Retry.NetworkTimeouts.DialTimeout = 10s
            	Kafka.Retry.NetworkTimeouts.ReadTimeout = 10s
            	Kafka.Retry.NetworkTimeouts.WriteTimeout = 10s
            	Kafka.Retry.Metadata.RetryMax = 3
            	Kafka.Retry.Metadata.RetryBackoff = 250ms
            	Kafka.Retry.Producer.RetryMax = 3
            	Kafka.Retry.Producer.RetryBackoff = 100ms
            	Kafka.Retry.Consumer.RetryBackoff = 2s
            	Kafka.Verbose = false
            	Kafka.Version = 0.10.2.0
            	Kafka.TLS.Enabled = false
            	Kafka.TLS.PrivateKey = """"
            	Kafka.TLS.Certificate = """"
            	Kafka.TLS.RootCAs = []
            	Kafka.TLS.ClientAuthRequired = false
            	Kafka.TLS.ClientRootCAs = []
            	Kafka.SASLPlain.Enabled = false
            	Kafka.SASLPlain.User = """"
            	Kafka.SASLPlain.Password = """"
            	Kafka.Topic.ReplicationFactor = 3
            	Debug.BroadcastTraceDir = """"
            	Debug.DeliverTraceDir = """"
            	Consensus = map[SnapDir:/var/hyperledger/production/orderer/etcdraft/snapshot WALDir:/var/hyperledger/production/orderer/etcdraft/wal]
            2018-11-12 09:36:29.775 EST [orderer.common.server] initializeServerConfig -> INFO 003 Starting orderer with mutual TLS enabled
            2018-11-12 09:36:29.783 EST [fsblkstorage] newBlockfileMgr -> INFO 004 Getting block information from block storage
            2018-11-12 09:36:29.792 EST [orderer.consensus.etcdraft] Restore -> INFO 005 No WAL data found, creating new WAL at path '/var/hyperledger/production/orderer/etcdraft/wal/system' {""channel"": ""system"", ""node"": 1}
            2018-11-12 09:36:29.792 EST [orderer.commmon.multichannel] newChainSupport -> PANI 006 [channel: system] Error creating consenter: failed to restore persited raft data: failed to initialize WAL: mkdir /var/hyperledger: permission denied
            panic: [channel: system] Error creating consenter: failed to restore persited raft data: failed to initialize WAL: mkdir /var/hyperledger: permission denied
            
            goroutine 1 [running]:
            github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore.(*CheckedEntry).Write(0xc000103080, 0x0, 0x0, 0x0)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/zapcore/entry.go:229 +0x515
            github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).log(0xc0000da210, 0x4, 0x4a874df, 0x2a, 0xc0004b98f0, 0x2, 0x2, 0x0, 0x0, 0x0)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:234 +0xf6
            github.com/hyperledger/fabric/vendor/go.uber.org/zap.(*SugaredLogger).Panicf(0xc0000da210, 0x4a874df, 0x2a, 0xc0004b98f0, 0x2, 0x2)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/go.uber.org/zap/sugar.go:159 +0x79
            github.com/hyperledger/fabric/common/flogging.(*FabricLogger).Panicf(0xc0000da218, 0x4a874df, 0x2a, 0xc0004b98f0, 0x2, 0x2)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/flogging/zap.go:74 +0x60
            github.com/hyperledger/fabric/orderer/common/multichannel.newChainSupport(0xc0002303f0, 0xc00053b500, 0xc00026a5d0, 0x4b70ee0, 0x52d1f28, 0x0)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/chainsupport.go:70 +0x4da
            github.com/hyperledger/fabric/orderer/common/multichannel.(*Registrar).Initialize(0xc0002303f0, 0xc00026a5d0)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/multichannel/registrar.go:150 +0x301
            github.com/hyperledger/fabric/orderer/common/server.initializeMultichannelRegistrar(0x48ed801, 0xc000031aa0, 0x0, 0xc0002307e0, 0x5261340, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:353 +0x2f5
            github.com/hyperledger/fabric/orderer/common/server.Start(0x4a634e2, 0x5, 0xc000194900)
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:110 +0x35f
            github.com/hyperledger/fabric/orderer/common/server.Main()
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/server/main.go:79 +0x1ce
            main.main()
            	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/main.go:15 +0x20
            
        Waiting for:
            Beginning to serve requests
FAIL
coverage: 80.8% of statements
FAIL	github.com/hyperledger/fabric/orderer/common/server	38.798s
{code}",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Nov/18 1:11 AM;kchristidis;300",,0,300,,,0,300,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzygv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/18 1:11 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27513/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make updates to fabric Makefile.,FAB-12826,35291,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sambhavdutt,sambhavdutt,sambhavdutt,13/Nov/18 12:59 AM,12/Jan/19 4:26 AM,28/Oct/23 3:04 AM,12/Jan/19 4:26 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,fabric-build,,,"The fabric Makefile can be modified to,

1. Use the preset variable to build the binaries in ""native"" target. 

2. Use a loop to pull the thirdparty images in ""docker-thirdparty"" target.",,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 10:01 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/27516/

CR Merged. Waiting for reviews;;;",,,,,,,,,,,,,,,,,,,,,,,,
ErrIncompleteResponse loop for Kafka-based OSNs,FAB-12827,35293,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,kchristidis,kchristidis,13/Nov/18 1:30 AM,16/Nov/18 8:44 AM,28/Oct/23 3:04 AM,16/Nov/18 8:44 AM,v1.1.0,,,,,v1.1.1,,,,fabric-orderer,,,,0,kafka,,,"In some Kafka-based networks, the OSNs may go through this sequence of {{ERROR}}/{{WARN}} lines in the log over and over again:
{code:java}
[31m2018-11-01 14:48:24.679 UTC [orderer/consensus/kafka] processMessagesToBlocks -> ERRO 068[0m [channel: foo] Error during consumption: kafka: error while consuming foo/0: kafka: response did not contain all the expected topic/partition blocks
[33m2018-11-01 14:48:24.679 UTC [orderer/consensus/kafka] processMessagesToBlocks -> WARN 069[0m [channel: foo] Deliver sessions will be dropped if consumption errors continue.
[33m2018-11-01 14:48:26.680 UTC [orderer/consensus/kafka] processMessagesToBlocks -> WARN 06a[0m [channel: foo] Consumption will resume.{code}",,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";13/Nov/18 1:34 AM;kchristidis;18000",,0,18000,,,0,18000,Not a security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyi7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,release-1.1,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Nov/18 1:33 AM;kchristidis;These three lines correspond to the following sequence of events:

 # The partition consumer for {{foo/0}} errors. We receive a message from the {{chain.channelConsumer.Errors()}} channel.
 # In response to that, we set up a listener for subscriptions on that partition. That listener comes with a timeout. (If we hit that timeout, we'll try to re-establish our connection to that partition/channel in a slower, more gentle manner, via the {{CONNECT}} message path.)
 # We hear back from that listener _in time_, i.e. we receive from the {{topicPartitionSubscriptionResumed}} channel. We reset the timer, and go back to the normal mode of doing business.;;;","13/Nov/18 1:33 AM;kchristidis;The error that sarama spits out is: ""[response did not contain all the expected topic/partition blocks|https://github.com/Shopify/sarama/blob/46cf3e2cf1acef7876068f66cf69ec31aad2d0b2/errors.go#L17]"" ({{ErrIncompleteResponse}}).

See [issue 1087|https://github.com/Shopify/sarama/issues/1087] which seems partly relevant. What throws me off is that both folks affected by 1087 had log compaction enabled, which is expected to break the continuity in message offset. This is _not_ the case for us however.;;;","13/Nov/18 1:36 AM;kchristidis;CR for 1.1: https://gerrit.hyperledger.org/r/c/27348;;;","14/Nov/18 5:56 AM;kchristidis;CR for 1.2: https://gerrit.hyperledger.org/r/c/27532/
CR for 1.3: https://gerrit.hyperledger.org/r/c/27533/;;;",,,,,,,,,,,,,,,,,,,,,
Enable NameSpace in Dockerfiles.,FAB-12829,35297,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sambhavdutt,sambhavdutt,13/Nov/18 3:44 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.4.0,,,,,,,,,fabric-build,,,,0,fabric,stale-item,,The Dockerfiles in fabric have been hard coded as hyperledger in some cases. Adding a namespace variable(_NS_) with a default valuw will allow us to push/pull custom docker images.,,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyj3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Modify the Dockerfiles to use custom tags.,FAB-12830,35298,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,sambhavdutt,sambhavdutt,13/Nov/18 4:02 AM,20/Sep/19 7:46 PM,28/Oct/23 3:04 AM,20/Sep/19 7:46 PM,,,,,,,,,,fabric-build,,,,0,fabric,,,"The Dockerfiles in fabric use fixed tag format. Modify the Dockerfiles to enable custom tags, this will allow us to tag an image as required in case we need a different tag value to be passed. ",,mastersingh24,rameshthoomu,sambhavdutt,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyjb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,rameshthoomu,sambhavdutt,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Nov/18 4:17 AM;rameshthoomu;Be more specific here.. Which project and docker-compose file you are referring here?;;;","20/Sep/19 7:46 PM;mastersingh24;You can simply re-tag images however you like.  No need to add additional gorp in the already bloated Makefile;;;",,,,,,,,,,,,,,,,,,,,,,,
fabric-ca is exited in fabric-chaincode-node builds (master),FAB-12831,35299,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,rameshthoomu,rameshthoomu,13/Nov/18 4:51 AM,23/Jan/20 3:47 AM,28/Oct/23 3:04 AM,23/Jan/20 3:47 AM,v1.4.0,,,,,v1.4.0,,,,fabric-ca,,,,0,,,,"fabric-ca is exited in fabric-chaincode-node builds (master) but the build is not failing. Are we not using fabric-ca in chaincode-node builds. See the below log
{code:java}
Error: Failed to find private key for certificate in '/etc/hyperledger/fabric-ca-server-config/ca.org1.example.com-cert.pem': Could not find matching private key for SKI: Failed getting key for SKI [[66 57 170 13 205 118 218 238 184 186 12 218 112 24 81 209 69 4 211 26 173 27 45 221 219 172 106 87 54 94 73 124]]: Key with SKI 4239aa0dcd76daeeb8ba0cda701851d14504d31aad1b2ddddbac6a57365e497c not found in /etc/hyperledger/fabric-ca-server/msp/keystore{code}
[https://jenkins.hyperledger.org/sandbox/job/fabric-chaincode-node-verify-x86_64/4/artifact/gopath/src/github.com/hyperledger/fabric-chaincode-node/ca.log]",,nkl199,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyjj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nkl199,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/18 7:54 PM;nkl199;Is this still occurring? the above link has expired;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Chaos, ServDisc, Stop and Start Peers Repeatedly for Hours",FAB-12833,35302,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,13/Nov/18 8:57 AM,31/Jul/19 4:14 AM,28/Oct/23 3:04 AM,31/Jul/19 4:14 AM,,,,,,v1.4.2,,,,fabric-quality,,,,0,,,,"Restart peers being used for endorsements, repeatedly. Minimum 12 hours; run longer if testbed can handle it.

Create a network with 2 orgs, 2 peers per org. Require endorsements from two peers including one peer in each org. Use service discovery.

Send a good load of traffic using multiple threads.

In org1: restart each peer, and when it recovers, restart the other peer in org1; bounce back and forth between them continuously.

In org2: stop a peer, and delay several minutes, then start it back up. When it recovers, do the other peer in org2; bounce back and forth between them continuously.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1058,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,Manual,,Unset,No,,,"1|hzzyjz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 10:19 AM;suryalnvs;Started the run and should have results by morning;;;",,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Chaos, ServDisc: Stop and Start Peers Repeatedly for Hours, push 100%",FAB-12834,35303,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,13/Nov/18 9:01 AM,11/Dec/19 7:47 AM,28/Oct/23 3:04 AM,01/Aug/19 12:51 AM,,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"Restart peers being used for endorsements, repeatedly. Minimum 12 hours; run longer if testbed can handle it.

Create a network with 2 orgs, 2 peers per org. Require endorsements from two peers including one peer in each org. Use service discovery.  Use private data, with all 4 peers inside the collection, and push all private data to 1 peer (so each peer will try to push to the other peer in its org).

Send a good load of traffic using multiple threads. 

In org1: restart each peer, and soon after it recovers, restart the other peer in org1; bounce back and forth between them continuously.

In org2: stop a peer, and delay several minutes, then start it back up. Soon after it recovers, do the other peer in org2; bounce back and forth between them continuously.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1058,,,,,,,,,,FAB-11447,,,,,,FAB-11772,FAB-16072,,,,,,,,,,,,,FAB-16074,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,Manual,,Unset,No,,,"1|i00uza:y",,,,Unset,Unset,In Progress,,(Please add steps to reproduce),,Unset,,,,,,Pass,"Although recovery was not optimal, this passed after modifying kube configuration settings to use LoadBalancer.",System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 10:18 AM;suryalnvs;Started the run and should have results by morning;;;",,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Chaos, ServDisc: Stop and Start Peers Repeatedly for Hours, pull 100% ",FAB-12835,35304,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,suryalnvs,scottz,scottz,13/Nov/18 9:04 AM,11/Dec/19 7:47 AM,28/Oct/23 3:04 AM,01/Aug/19 12:53 AM,,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"Restart peers being used for endorsements, repeatedly. Minimum 12 hours; run longer if testbed can handle it.

Create a network with 2 orgs, 2 peers per org. Require endorsements from two peers including one peer in each org. Use service discovery.  Use private data, with all 4 peers inside the collection, and PULL all private data at validation time. 

Send a good load of traffic using multiple threads.

In org1: restart each peer, and soon after it recovers, restart the other peer in org1; bounce back and forth between them continuously.

In org2: stop a peer, and delay several minutes, then start it back up. Soon after it recovers, do the other peer in org2; bounce back and forth between them continuously.",,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1058,,,,,,,,,,FAB-11447,,,,,,FAB-11772,FAB-16072,,,,,,,,,,,,,FAB-16074,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10084,,,Manual,,Unset,No,,,"1|i00uza:z",,,,Unset,Unset,In Progress,,(Please add steps to reproduce),,Unset,,,,,,Pass,"Although recovery was not optimal, this passed after modifying kube configuration settings to use LoadBalancer.",System Test,,(Please add usage information),scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 10:18 AM;suryalnvs;Started the run should have results by morning;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fabric Peer Panics with CouchDB Error due to key with empty string,FAB-12836,35306,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,david_dornseifer,david_dornseifer,13/Nov/18 5:48 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,29/Jan/19 7:42 AM,v1.2.0,,,,,v1.1.2,v1.2.2,v1.4.0,,fabric-ledger,,,,0,,,,"We have seen several peers panic with CouchDB errors:

A block is being added to a channel the peer is subscribed to then a panic happens:

{code}
11:20:53: [kvledger] CommitWithPvtData -> INFO 371fa Channel [test]: Committed block [107] with 2 transaction(s)
 
 
11:20:53: panic: Error during commit to txmgr:Couch DB Error:illegal_docid, Status Code:400, Reason:Document id must not be empty
 
11:20:53: 
goroutine 53726 [running]:
 
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData(0xc425162e10, 0xc42629a1e0, 0x0, 0x0)
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:273 +0x870
 
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData(0xc424c66d00, 0xc42629a1e0, 0xc42265dd40, 0xdf8475800)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:105 +0x6b
 
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock(0xc425b29860, 0xc424c9bbe0, 0x0, 0x0, 0x0, 0xc42265de78, 0x7329db)
 
/opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:236 +0xc3b
 
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock(0xc42539ff00, 0xc424c9bbe0, 0x0, 0x0, 0x0, 0x0, 0x0)
 
/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771 +0x6c
 
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads(0xc42539ff00)
 
/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558 +0x3c5
 
created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 
/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:239 +0x681
```

The peer reboots, loads the ledgers (chains) and gets stuck in a `restart` loop due to the error below: 

 

```
11:23:28: panic: Error during state DB recovery:Couch DB Error:illegal_docid, Status Code:400, Reason:Document id must not be empty
 
11:23:28: 
goroutine 1 [running]:
 
github.com/hyperledger/fabric/core/ledger/kvledger.newKVLedger(0xc4214b7380, 0x37, 0xc4238d70b0, 0x1153a20, 0xc4248be5f0, 0x114b6c0, 0xc421c43460, 0x114b680, 0xc4200b6220, 0xc421c43480, ...)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:77 +0x779
 
github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).openInternal(0xc420530310, 0xc4214b7380, 0x37, 0xc420f96101, 0x0, 0x0, 0xc400000008)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:158 +0x1c6
 
github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Open(0xc420530310, 0xc4214b7380, 0x37, 0x37, 0x19a20c0, 0x0, 0x237fac23fe)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:134 +0x130
 
 github.com/hyperledger/fabric/core/ledger/ledgermgmt.OpenLedger(0xc4214b7380, 0x37, 0x0, 0x0, 0x0, 0x0)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:111 +0x1b4
 
github.com/hyperledger/fabric/core/peer.Initialize(0xc4203a9170, 0x114a500, 0xc42000e148, 0x114cea0, 0xc4200b94a0, 0x1134720, 0xc4205b3110)
 
/opt/gopath/src/github.com/hyperledger/fabric/core/peer/peer.go:210 +0x218
 
github.com/hyperledger/fabric/peer/node.serve(0x19a09e8, 0x0, 0x0, 0x0, 0x0)
 
/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:356 +0x1712
 
github.com/hyperledger/fabric/peer/node.glob..func1(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x0, 0x0)
 
/opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:111 +0x9c
 
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1891cc0, 0x19a09e8, 0x0, 0x0, 0x1891cc0, 0x19a09e8)
 
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d
 
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1892320, 0x197c7b0, 0xf, 0x2)
 
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4
 
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1892320, 0x2, 0xffffffffffffffff)
 
/opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b
 
main.main()
 
/opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:97 +0x5bf
{code}

 ",,david_dornseifer,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,FAB-12597,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/18 4:15 PM;david_dornseifer;peer0_debug_log;https://jira.hyperledger.org/secure/attachment/16277/peer0_debug_log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzykv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),david_dornseifer,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Nov/18 11:24 PM;denyeart;[~david_dornseifer] Could you attach a peer debug.;;;","19/Nov/18 4:16 PM;david_dornseifer;Added peer0 log output that shows the panic after it has been joined to a channel. ;;;","22/Nov/18 10:40 PM;david_dornseifer;[~denyeart] can you please let me know if I can support the bug fixing process any further?;;;","28/Nov/18 3:17 AM;denyeart;[~david_dornseifer]It looks like you have a key that is an empty string. This is not allowed in CouchDB. Go chaincode shim validates for this, but it looks like other shims do not. A fix can be made to validate against keys that are empty strings. In the interim the validation can be added to your chaincode logic.;;;","28/Nov/18 5:03 PM;david_dornseifer;Hi [~denyeart], 

in this particular case just go chaincode was used. The error usually happens when we are changing the state of a batch key / value assignments. 

 

Best,

David ;;;","04/Dec/18 8:40 AM;manish-sethi;[https://gerrit.hyperledger.org/r/#/c/27895/] for master (v1.4.0);;;","29/Jan/19 2:31 AM;manish-sethi;Manual back port for release-1.1 https://gerrit.hyperledger.org/r/#/c/28982/;;;","29/Jan/19 7:47 AM;denyeart;Also backported to release-1.2 and release-1.3. All merged.;;;",,,,,,,,,,,,,,,,,
historyleveldb Unit-test case is failed release-1.1 branch,FAB-12838,35308,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,rameshthoomu,rameshthoomu,13/Nov/18 9:58 PM,25/Apr/19 12:14 AM,28/Oct/23 3:04 AM,25/Apr/19 12:14 AM,v1.1.0,,,,,v1.1.2,,,,fabric-ledger,,,,0,,,,"github.com/hyperledger/fabric/core/ledger/kvledger/history/historydb/*historyleveldb* Test case is failed.

FAILED on build [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/4948/consoleFull]

*Branch:* release-1.1
{code:java}
07:11:34 unit-tests_1 | --- FAIL: TestHistory (0.04s)
07:11:34 unit-tests_1 | panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory [recovered]
07:11:34 unit-tests_1 | panic: Error while trying to open DB: open /tmp/fabric/ledgertests/kvledger/history/historydb/historyleveldb/ledgersData/stateLeveldb: no such file or directory{code}",,manish-sethi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9222,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6c729d31e67bc33f4141d681c73883194e2e59e8,Unset,No,,,"1|hzzylb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/18 8:16 AM;mastersingh24;This was fixed in 1.2.0 ... we could backport if we still plan to continue supporting 1.1.x releases;;;","07/Dec/18 3:09 AM;manish-sethi;Backported to release-1.1 branch - https://gerrit.hyperledger.org/r/#/c/27991/;;;","25/Apr/19 12:14 AM;rameshthoomu;This has been fixed.. Latest 1.1 build passed successfully. https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-release-1.1-x86_64/318/console;;;",,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer service with the ability to accommodate allowance requests using TMS",FAB-12839,35309,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,13/Nov/18 10:11 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12267,,,No,,Unset,No,,,"1|hzzylj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token application developer (client) I want to extend client wallet library to support allowance requests,FAB-12840,35310,34271,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,KaoutarEL,KaoutarEL,13/Nov/18 10:12 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzylr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
As token application developer (client) I want to extend client wallet library to support allowance requests,FAB-12841,35311,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,13/Nov/18 10:13 PM,14/Jan/20 12:10 AM,28/Oct/23 3:04 AM,14/Jan/20 12:10 AM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|hzzylz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 7:50 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27569/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create http handler to get and set the active logspec,FAB-12842,35313,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,13/Nov/18 11:35 PM,10/Dec/18 10:39 PM,28/Oct/23 3:04 AM,15/Nov/18 12:58 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12530,FAB-12531,,,,,,,,,,,,,,,,,FAB-12715,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzym7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Wire https handler for logspec into the orderer,FAB-12843,35314,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,13/Nov/18 11:38 PM,19/Nov/18 1:51 PM,28/Oct/23 3:04 AM,19/Nov/18 1:45 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzymf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
A chaincode should allow to check ACL policies,FAB-12844,35315,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Tecnalia,Tecnalia,Tecnalia,13/Nov/18 11:51 PM,10/Apr/19 3:55 AM,28/Oct/23 3:04 AM,10/Apr/19 3:55 AM,v1.2.0,v1.3.0,,,,,,,,fabric-common,,,,0,,,,"Chaincode developers should be able to check ACL policies inside their code to manage access to resources.

ACL validation could be done as soon as a request comes via Invoke or inside a particular function.
This feature is implementation/use-case agnostic.

This way, any consortium can use declared access policies to add a function-level control that allows to use certificate attributes to restrict certain user actions.",,MichaelWang,sykesm,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|hzzymn:",,,,Yes,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),MichaelWang,sykesm,Tecnalia,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Nov/18 12:33 AM;Tecnalia;initial contribution added as agnostic library: https://gerrit.hyperledger.org/r/27524;;;","10/Apr/19 3:54 AM;sykesm;The CR stack provided as part of this story has been abandoned due to lack of updates.

{quote}
This chain of CRs has been out for review for several weeks (months). Some of the maintainers have already made comments on various pieces of the stack but I haven't seen any responses or work to address them.

Given the lack of updates, I'm going to abandon this work. Please feel free to restore these CRs when you're able to address the existing comments.

Thanks.
{quote}
;;;","10/Apr/19 3:55 AM;sykesm;Please feel free to reopen this story as needed.;;;",,,,,,,,,,,,,,,,,,,,,,
fabric-tools image used as a 'cli' container should have a non-root user,FAB-12847,35324,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,rameshthoomu,rameshthoomu,14/Nov/18 3:00 AM,25/Apr/19 12:21 AM,28/Oct/23 3:04 AM,,v1.4.0,,,,,,,,,fabric-tools,,,,1,,,,"* Observed root permissions are settingup after execute this step *{{DEVMODE=false gulp channel-init}}*
 

{code:java}
10:07:44 [15:07:44] Finished 'channel-init' after 2.87 s 10:07:44 ################################################################# 10:07:44 ------> Run Integration and Scenario Tests 10:07:44 ################################################################# 
10:07:44 total 4 10:07:44 drwxr-xr-x 3 root root 4096 Nov 13 15:07 peer 10:07:44 total 4 10:07:44 drwxr-xr-x 3 root root 4096 Nov 13 15:07 fabric {code}
 ",,jyellick,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyon:",,,,Unset,Unset,,,(Please add steps to reproduce),2.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Nov/18 6:55 PM;mbwhite;[~rameshthoomu] this is annoying certainly; I believe it's coming from mapping directories to the local system but then they are written to from the cli docker image. This then puts them as the root user. ;;;","30/Nov/18 7:20 PM;mbwhite;The `fabric-tools` docker image uses root to execute the channel init script; assertion that the issue is the container should provide a user account that isn't root to execute these commands. 

Partly a security exposure as well.. 

Going to transfer and rename this to the tools component. ;;;","01/Dec/18 6:36 AM;jyellick;If we want to allow the docker image to pick the user it's executing under, this seems like an enhancement not a bug.  Converting to such and unsetting the fix version.;;;","25/Apr/19 12:21 AM;rameshthoomu;We are not using this `DEVMODE=false gulp channel-init` target in CI builds now so, not seeing this issue now in CI builds.;;;",,,,,,,,,,,,,,,,,,,,,
Fix panic on wrong formatted key (cryptogen),FAB-12848,35329,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,14/Nov/18 3:29 PM,30/Apr/19 9:56 PM,28/Oct/23 3:04 AM,30/Apr/19 9:56 PM,v1.1.0,v1.2.0,v1.3.0,,,v1.4.1,v2.0.0,,,fabric-tools,,,,0,,,,"Passing wrong formatted key file to common/tools/cryptogen/ca/generator.go
causes panic.
",,denyeart,diizuka,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzypr:",,,,Unset,Unset,,,"1.	Create test directory with empty files.
2.	Create wrong formatted key file on the test directory,
with name “wrong_encoding.pem”, contains string of “wrong_encoding”.
3.	Call LoadcerificateECDSA(path_to_test_dir)
4.	Panic occurs on accessing block.Bytes, as block is nil.
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,diizuka,zRich,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 11:58 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27538/

[~diizuka] Please see the review comment.

I will lower to Medium since cryptogen is not a runtime component.;;;",,,,,,,,,,,,,,,,,,,,,,,,
rename CommitPvtData() ledger API to CommitPvtDataOfOldBlocks(),FAB-12849,35330,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,14/Nov/18 4:22 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,05/Dec/18 3:40 AM,,,,,,v1.4.0,,,,,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:w",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the prover peer service with the ability to accommodate allowance requests and implement the TMS allowance functionality",FAB-12850,35331,35309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,14/Nov/18 6:45 PM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:33 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27539/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add fabcar contract sample using new programming model (JavaScript),FAB-12851,35338,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,14/Nov/18 8:57 PM,18/Nov/18 1:44 AM,28/Oct/23 3:04 AM,18/Nov/18 1:44 AM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyrr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 11:30 PM;sstone1;https://gerrit.hyperledger.org/r/c/27571/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add fabcar contract sample using new programming model (TypeScript),FAB-12852,35339,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,14/Nov/18 8:57 PM,18/Nov/18 1:43 AM,28/Oct/23 3:04 AM,18/Nov/18 1:43 AM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyrz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 11:30 PM;sstone1;https://gerrit.hyperledger.org/r/c/27570/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I would like to enhance the tms transactor with the ability to accommodate allowance requests",FAB-12853,35340,35309,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,KaoutarEL,KaoutarEL,KaoutarEL,14/Nov/18 10:41 PM,14/Dec/18 7:46 PM,28/Oct/23 3:04 AM,14/Dec/18 7:46 PM,,,,,,,,,,,,,,0,fabtoken,,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzys7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
DRY up orderer and peer code related to operations,FAB-12854,35342,34266,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,14/Nov/18 11:12 PM,28/Nov/18 11:18 PM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,v1.4.0,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12712,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzysf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Update grpc-go to version 1.17.0,FAB-12855,35344,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,15/Nov/18 12:40 AM,02/Jan/19 9:42 PM,28/Oct/23 3:04 AM,02/Jan/19 9:42 PM,,,,,,v2.0.0,,,,,,,,0,,,,,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzysv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Dec/18 7:47 AM;mastersingh24;https://gerrit.hyperledger.org/r/28432;;;",,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-pte-daily-master failed in test_FAB8192_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q, Assertion error in ",FAB-12857,35347,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,15/Nov/18 1:04 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,19/Nov/18 11:44 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"*fabric-test Commit: 9b4aad8*

The pte daily test suite job starting on Nov 13 at 8:37 PM EST completed after five hours; all the other pte test cases passed. And on the previous day and before, the same test passed.
{code:java}
23:27:53 systest_pte.py::Perf_Stress_CouchDB::test_FAB8192_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q FAILED
{code}
There was invoke check error in FAB8192_4i

*Error Log*
 [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/83/PTE_Test_Logs/FAB-8192-4i_1114031243.log.gz]
{code:java}
[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 postEventProc:eventRegisterBlock] pte-exec:completed  Rcvd=1000 sent= 1000 proposal failure 0 tx orderer failure 0 INVOKE(MOVE) in 157131 ms, timestamp: start 1542165201229 end 1542165358360, #event timeout: 0, #event unreceived: 0, Throughput=6.36 TPS

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: Disconnecting the event hub: 0
{code}
These errors were also observed in the build,
{code:java}
20:39:05 Makefile:407: recipe for target 'orderer-docker-clean' failed
20:39:05 make[2]: [orderer-docker-clean] Error 123 (ignored)
20:39:05 docker images --quiet --filter=reference='hyperledger/fabric-ccenv:amd64-1.4.0-snapshot-*' | xargs docker rmi -f
20:39:05 ""docker rmi"" requires at least 1 argument.
20:39:05 See 'docker rmi --help'.

{code}
*Build Logs*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-master-x86_64/83/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-master-x86_64/83/consoleFull]",,dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8200,FAB-8192,FAB-6813,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzytj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"15/Nov/18 2:37 AM;scottz;It is interesting that 8200 had failures, but 8201 all passed, even though they are very similar, simply using different API calls for the same data sets. Even though 8201 passed, the queries were very slow (2 tps avg). This is probably because we do not use indexing on all these queries. Other things in the host CI VM probably caused the slowness; we have seen intermittent unexplained slowdowns before. For the purposes of this test, to avoid timeouts, we should consider changing this testcase to use indexes which would make the rich queries faster. To do this, we could essentially change 8192 to FAB-6813.

More details about this set of 4 testcases, seen in the PTE_Test_Logs and the console logs:
{{Description:
            Launch standard network with couchdb using 1 channel and marbles02 cc.
                FAB-8192-4i: 4 threads x 1000 invokes (initMarble)
            followed by three sets of queries:
                FAB-8199-4q: 4 threads queries: readMarble
                FAB-8200-4q: 4 threads rich queries: queryMarblesByOwner
                FAB-8201-4q: 4 threads rich queries: queryMarbles}}

* 8192 send 4000 invoke TXs - PASSED
* 8199 simple queries of all transactions - PASSED
* 8200 rich queries of all transactions - 114 FAILED (all TIMEOUTs 45 secs, shown in PTE logs), only 1.52 TPS
* 8201 rich queries of all transactions - PASSED, 4.96 TPS

I see many errors in the logs like this:
{{[32minfo[39m: [PTE 0 main]: stderr: 2018-11-14T03:58:29.512Z - [31merror[39m: [Peer.js]: sendProposal - timed out after:45000

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:0 queryValidation] query return: Error: REQUEST_TIMEOUT

[32minfo[39m: [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 queryValidation] query return: Error: failed to execute transaction 25e044a2501a48e80d876b6684b7b71daf3f371a65e31714daca95455e46017b: error sending: timeout expired while executing transaction
}}

Test summaries for 8200 and 8201:

{{PTE testcase: FAB-8200-4q (FAILURES)
======= PTE 0 main Test Summary: executed at Wed Nov 14 2018 03:25:15 GMT+0000 (UTC) =======
(testorgschannel1:marbles02_go_ch1): CONSTANT QUERY transaction stats
(testorgschannel1:marbles02_go_ch1):	Total processes 2
(testorgschannel1:marbles02_go_ch1):	Total transactions sent 2000  received 2000
(testorgschannel1:marbles02_go_ch1):	failures: query transactions 61
(testorgschannel1:marbles02_go_ch1):	start 1542165930882  end 1542168475292  duration 2544410 ms 
(testorgschannel1:marbles02_go_ch1):	TPS 0.76

======= PTE 1 main Test Summary: executed at Wed Nov 14 2018 03:25:15 GMT+0000 (UTC) =======
(testorgschannel2:marbles02_go_ch2): CONSTANT QUERY transaction stats
(testorgschannel2:marbles02_go_ch2):	Total processes 2
(testorgschannel2:marbles02_go_ch2):	Total transactions sent 2000  received 2000
(testorgschannel2:marbles02_go_ch2):	failures: query transactions 53
(testorgschannel2:marbles02_go_ch2):	start 1542165930896  end 1542168483584  duration 2552688 ms 
(testorgschannel2:marbles02_go_ch2):	TPS 0.76

=======  CONSTANT QUERY Overall Performance Summary  =======
    CONSTANT QUERY Overall number of PTE: 2
    CONSTANT QUERY Overall processes: 4
    CONSTANT QUERY Overall transactions: sent 4000 received 4000 failures 114
    CONSTANT QUERY Overall time: start 1542165930882 end 1542168483584 duration 2552702
    CONSTANT QUERY Overall CONSTANT QUERY TPS 1.52
    CONSTANT QUERY Overall TEST RESULTS FAILED}}
 
{{PTE testcase: FAB-8201-4q (PASSED)
======= PTE 0 main Test Summary: executed at Wed Nov 14 2018 04:12:06 GMT+0000 (UTC) =======
(testorgschannel1:marbles02_go_ch1): CONSTANT QUERY transaction stats
(testorgschannel1:marbles02_go_ch1):	Total processes 2
(testorgschannel1:marbles02_go_ch1):	Total transactions sent 2000  received 2000
(testorgschannel1:marbles02_go_ch1):	failures: query transactions 0
(testorgschannel1:marbles02_go_ch1):	start 1542168741836  end 1542169548108  duration 806272 ms 
(testorgschannel1:marbles02_go_ch1):	TPS 2.48

======= PTE 1 main Test Summary: executed at Wed Nov 14 2018 04:12:06 GMT+0000 (UTC) =======
(testorgschannel2:marbles02_go_ch2): CONSTANT QUERY transaction stats
(testorgschannel2:marbles02_go_ch2):	Total processes 2
(testorgschannel2:marbles02_go_ch2):	Total transactions sent 2000  received 2000
(testorgschannel2:marbles02_go_ch2):	failures: query transactions 0
(testorgschannel2:marbles02_go_ch2):	start 1542168741836  end 1542169548653  duration 806817 ms 
(testorgschannel2:marbles02_go_ch2):	TPS 2.48

=======  CONSTANT QUERY Overall Performance Summary  =======
    CONSTANT QUERY Overall number of PTE: 2
    CONSTANT QUERY Overall processes: 4
    CONSTANT QUERY Overall transactions: sent 4000 received 4000 failures 0
    CONSTANT QUERY Overall time: start 1542168741836 end 1542169548653 duration 806817
    CONSTANT QUERY Overall CONSTANT QUERY TPS 4.96
    CONSTANT QUERY Overall TEST RESULTS PASSED}};;;",,,,,,,,,,,,,,,,,,,,,,,,
"Rename the proto package for tokens to be ""tokens""",FAB-12858,35348,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bur,jyellick,jyellick,15/Nov/18 1:04 AM,07/Feb/19 2:39 AM,28/Oct/23 3:04 AM,07/Feb/19 2:39 AM,,,,,,v2.0.0,,,,fabric-token,,,,0,,,,"The ""protos/tokens"" proto files use a package name of ""protos"".  This isn't terribly informative and makes importing them into other packages challenging.  These token proto files should be renamed to be a package of ""tokens"" to make the namespacing more obvious when importing into other proto packages.",,bur,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13209,,,No,,Unset,No,,,"1|hzzytr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bur,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Feb/19 9:49 PM;bur;https://gerrit.hyperledger.org/r/#/c/29118/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Empheral Chaincode Build Container on wrong network,FAB-12859,35349,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mbwhite,mbwhite,15/Nov/18 1:17 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-peer,,,,0,stale-item,,,"Summary is that docker container used for building the chaincode docker container is not the same network that the chaincode container will be, nor does there seem a way to control this. 

 
 - Using a 2 organization fabric network
 - Created a docker network for the containers
 - Added a verdaccio server to it - to allow for local deployment of code; replicating what might be an internal npm server
 - the npm install that takes place in the empheral 'build' docker

{{Networks}}
{{ [~] docker network ls }}
{{NETWORK ID NAME DRIVER SCOPE}}
{{b76928574200 bridge bridge local}}
{{3cb876821d0b host host local}}
{{7f9ffdfc2174 none null local}}
{{2d45c7fce037 trade_network bridge local}}

After a full run, you get the following information on the network. 
You can see the chaincode containers that are setup, as well as all hte

{{[~] docker network inspect trade_network }}
{{[}}
{{{}}
{{""Name"": ""trade_network"",}}
{{""Id"": ""2d45c7fce037385bb468c06dc0b4178bb058a78ebbe03d64cdd80e1f1ef1dd87"",}}
{{""Created"": ""2018-11-14T13:15:07.457922816Z"",}}
{{""Scope"": ""local"",}}
{{""Driver"": ""bridge"",}}
{{""EnableIPv6"": false,}}
{{""IPAM"": {}}
{{""Driver"": ""default"",}}
{{""Options"": {},}}
{{""Config"": [}}
{{{}}
{{""Subnet"": ""172.28.0.0/16"",}}
{{""Gateway"": ""172.28.0.1""}}
{{}}}
{{]}}
{{},}}
{{""Internal"": false,}}
{{""Attachable"": true,}}
{{""Ingress"": false,}}
{{""ConfigFrom"": {}}
{{""Network"": """"}}
{{},}}
{{""ConfigOnly"": false,}}
{{""Containers"": {}}
{{""3d9b934fec45eef0060f119058b7ceac0985bfde7031acecaf39cc9bbc46b4f4"": {}}
{{""Name"": ""dev-peer0.org2.example.com-bank-network-0.0.10"",}}
{{""EndpointID"": ""609bd74ceb5437d01491f9342b3869125b7288897ced286bbe4660e51f6b26ab"",}}
{{""MacAddress"": ""02:42:ac:1c:00:0a"",}}
{{""IPv4Address"": ""172.28.0.10/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""6ddddc4ed371c226f50688d576189e72a43c22a62c81d4873aa5359be7803966"": {}}
{{""Name"": ""couchdb.org1.example.com"",}}
{{""EndpointID"": ""172fedf029c19ea3bf64f61a324d2d92af895702cdd405f4e2bfc73894dc0abf"",}}
{{""MacAddress"": ""02:42:ac:1c:00:07"",}}
{{""IPv4Address"": ""172.28.0.7/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""745eee52d1b7593a84a31014f8f1b75bd1a67a37d10b2c8de469f8cec693ac61"": {}}
{{""Name"": ""logspout"",}}
{{""EndpointID"": ""fcd60f1e889f316afdefc48e4ef57a32ba16360d87e9c06b00ceeb1cd93e673a"",}}
{{""MacAddress"": ""02:42:ac:1c:00:03"",}}
{{""IPv4Address"": ""172.28.0.3/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""8c21381a087387d9dae71c8b9ba5583a6ed2a6da73b743f74da83d559832c076"": {}}
{{""Name"": ""dev-peer0.org1.example.com-bank-network-0.0.10"",}}
{{""EndpointID"": ""6d56ad77a9b79f34744330bd90c260556728da853fad96fb4d2472865851cd6b"",}}
{{""MacAddress"": ""02:42:ac:1c:00:0b"",}}
{{""IPv4Address"": ""172.28.0.11/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""ae0d461b0bda1de27d4c951fc100d7e33fdd503b981750e42b54bae15f645d7c"": {}}
{{""Name"": ""ca.org1.example.com"",}}
{{""EndpointID"": ""5c4c89c2cc2f3f704bee2d00b01f700c1bc7e62805f9f080835f82e57c5ab237"",}}
{{""MacAddress"": ""02:42:ac:1c:00:05"",}}
{{""IPv4Address"": ""172.28.0.5/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""b4e855d8af38034303227fff15c688cd3aba38a43746b43938515da730d3cc4e"": {}}
{{""Name"": ""couchdb.org2.example.com"",}}
{{""EndpointID"": ""91fc9a6a05593d6ca830da1d8c69eb779dc59b47eebe3e70ea39f12c7f5744b0"",}}
{{""MacAddress"": ""02:42:ac:1c:00:06"",}}
{{""IPv4Address"": ""172.28.0.6/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""c184e211128008443b69f8bdf8ee577a9f95e308af8687d755e70775019e1025"": {}}
{{""Name"": ""peer0.org1.example.com"",}}
{{""EndpointID"": ""6a99bfa753813c985869b77acacf021db13bbf28ec8a1119d564acedb1c27c18"",}}
{{""MacAddress"": ""02:42:ac:1c:00:09"",}}
{{""IPv4Address"": ""172.28.0.9/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""e09364f034d5bd1711792f43c2161195fc7f6512044a426c92b66abb4c85b0d8"": {}}
{{""Name"": ""orderer.example.com"",}}
{{""EndpointID"": ""abfc4e0019d2b3ccf742269d356ecc1afb43c9f673973ba114d83a710e3e7683"",}}
{{""MacAddress"": ""02:42:ac:1c:00:04"",}}
{{""IPv4Address"": ""172.28.0.4/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""f129584c45239fbfa09d278b12ccd1d5ceabf3ee4b411ff0124e57a39aafedef"": {}}
{{""Name"": ""verdaccio"",}}
{{""EndpointID"": ""4514d84d34fbd903845972767b45b99ddb6eff2ea5b11d44f2d20785aee254b5"",}}
{{""MacAddress"": ""02:42:ac:1c:00:02"",}}
{{""IPv4Address"": ""172.28.0.2/16"",}}
{{""IPv6Address"": """"}}
{{},}}
{{""f89b740fa526607351ef41eff70338e91cf3142e66c13f93ac66eda95071f8a0"": {}}
{{""Name"": ""peer0.org2.example.com"",}}
{{""EndpointID"": ""5009a680b68497b8f2630fa31387792db3a9737f93a4ccb3a887047b09a2d0b7"",}}
{{""MacAddress"": ""02:42:ac:1c:00:08"",}}
{{""IPv4Address"": ""172.28.0.8/16"",}}
{{""IPv6Address"": """"}}
{{}}}
{{},}}
{{""Options"": {},}}
{{""Labels"": {}}}
{{}}}
{{]}}

When you look at the docker container for the build - you can see that this attached to a different network.

{{```}}
{{docker container inspect ecstatic_cray }}
{{[}}
{{{}}
{{""Id"": ""54a3d4773765eb383fa189628ff8208f56f7284ef17c4c4fa996423a94a85795"",}}
{{""Created"": ""2018-11-14T14:40:58.169067375Z"",}}
{{""Path"": ""/bin/sh"",}}
{{""Args"": [}}
{{""-c"",}}
{{""cp -R /chaincode/input/src/. /chaincode/output && cd /chaincode/output && npm install --production""}}
{{],}}
{{....}}
{{""NetworkSettings"": {}}
{{""Bridge"": """",}}
{{""SandboxID"": ""d8d7add8cecfe4f11f6bc5a005dc0d71d7a925229706fce9fcd96cc6258f5616"",}}
{{""HairpinMode"": false,}}
{{""LinkLocalIPv6Address"": """",}}
{{""LinkLocalIPv6PrefixLen"": 0,}}
{{""Ports"": {},}}
{{""SandboxKey"": ""/var/run/docker/netns/d8d7add8cecf"",}}
{{""SecondaryIPAddresses"": null,}}
{{""SecondaryIPv6Addresses"": null,}}
{{""EndpointID"": ""3c75a0f6d8b6b8e5150499dd59467ac1c8e42626e73fe293bb6067ae19cf7657"",}}
{{""Gateway"": ""172.17.0.1"",}}
{{""GlobalIPv6Address"": """",}}
{{""GlobalIPv6PrefixLen"": 0,}}
{{""IPAddress"": ""172.17.0.2"",}}
{{""IPPrefixLen"": 16,}}
{{""IPv6Gateway"": """",}}
{{""MacAddress"": ""02:42:ac:11:00:02"",}}
{{""Networks"": {}}
{{""bridge"": {}}
{{""IPAMConfig"": null,}}
{{""Links"": null,}}
{{""Aliases"": null,}}
{{""NetworkID"": ""b76928574200eaa54d1a8bea6966ae2abe94a7f5266d30c5eec53897fafef6e3"",}}
{{""EndpointID"": ""3c75a0f6d8b6b8e5150499dd59467ac1c8e42626e73fe293bb6067ae19cf7657"",}}
{{""Gateway"": ""172.17.0.1"",}}
{{""IPAddress"": ""172.17.0.2"",}}
{{""IPPrefixLen"": 16,}}
{{""IPv6Gateway"": """",}}
{{""GlobalIPv6Address"": """",}}
{{""GlobalIPv6PrefixLen"": 0,}}
{{""MacAddress"": ""02:42:ac:11:00:02"",}}
{{""DriverOpts"": null}}
{{}}}
{{}}}
{{}}}
{{}}}
{{]}}{{```}}",,mbwhite,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzytz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,silliman,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
"fabric-test-daily-ote-release-1.3 failed in test_FAB_7074_15ktx_1ch_3ord_5kb_10kpayload, Broadcast failed with Producer",FAB-12860,35350,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,scottz,sambhavdutt,sambhavdutt,15/Nov/18 1:46 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,15/Nov/18 3:16 AM,,,,,,,,,,fabric-quality,,,,0,ci-failure,,,"The ote daily test suite job starting at Nov 13 at 8:53 PM EST completed after an hour and 46 mins; all the other ote test cases passed. And on the previous day, the same test passed.


*22:07:38* orderer_ote.py::perf_orderer::test_FAB_7074_15ktx_1ch_3ord_5kb_10kpayload FAILED

Observed that 3 Producers were created but failed to Broadcast as service was unavailable at that time,

{code:java}
Starting Producer to send 5000 TXs to ord[0] ch[0] srvr=orderer0.example.com:5005 chID=testorgschannel1, 2018-11-14 03:00:12.549903606 +0000 UTC m=+13.156678217
Starting Producer to send 5000 TXs to ord[1] ch[0] srvr=orderer1.example.com:5006 chID=testorgschannel1, 2018-11-14 03:00:12.550419388 +0000 UTC m=+13.157193885
Starting Producer to send 5000 TXs to ord[2] ch[0] srvr=orderer2.example.com:5007 chID=testorgschannel1, 2018-11-14 03:00:12.558588768 +0000 UTC m=+13.165363276
Producer-o2-c0 failed to broadcast TX 0 (ACK=0 NACK=1), 2018-11-14 03:00:14.570399681 +0000 UTC m=+15.177174204, err: Got unexpected status: SERVICE_UNAVAILABLE
Producer-o0-c0 failed to broadcast TX 0 (ACK=0 NACK=1), 2018-11-14 03:00:14.570614609 +0000 UTC m=+15.177388980, err: Got unexpected status: SERVICE_UNAVAILABLE
Producer-o1-c0 failed to broadcast TX 0 (ACK=0 NACK=1), 2018-11-14 03:00:14.574490948 +0000 UTC m=+15.181265461, err: Got unexpected status: SERVICE_UNAVAILABLE
{code}

*Error Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-release-1.3-x86_64/16/OTE_Test_Logs/ote_FAB-7074_15ktx_1ch_3ord_5kb_10kpayload.log.gz



*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-release-1.3-x86_64/16/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ote-release-1.3-x86_64/16/console",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,5126acb,Unset,No,,,"1|hzzyu7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 3:14 AM;scottz;Just before we see the aforementioned logs indicating failures to create the 3 Consumer processes, we see logs showing we see an error which indicates the orderers are not ready. The other errors are logical consequences, not surprising (all 3 Producers got NACKs for all the msgs they tried to send to orderers).

Since this test passes every day, and other variations of this test passed on same day, we would have to troubleshoot this `consenter for this channel hasn't started yet` as an intermittent environment issue to determine what led to the failures to create the Consumers and to get the orderers up and running fully functional. Investigate if this occurs more often, or with a pattern, or coincides with failures with OTHER jobs (maybe at the SAME TIME, or on same machine, or some other common underlying factor).

{{
Creating Channels
1
[34m2018-11-14 02:58:56.597 UTC [channelCmd] InitCmdFactory -> INFO 001[0m Endorser and orderer connections initialized
Error: got unexpected status: SERVICE_UNAVAILABLE -- will not enqueue, consenter for this channel hasn't started yet
}};;;",,,,,,,,,,,,,,,,,,,,,,,,
logging and metrics endpoints should require a cert when TLS is enabled,FAB-12861,35352,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Nov/18 2:19 AM,17/Nov/18 12:52 AM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyun:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 2:24 AM;sykesm;https://gerrit.hyperledger.org/r/27552 [FAB-12861] fix client cert middleware logic;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Chaincodes testing is failing in FAB-5791 in the daily behave test master, NPM error",FAB-12862,35353,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,sambhavdutt,sambhavdutt,sambhavdutt,15/Nov/18 2:19 AM,30/Jul/19 1:15 PM,28/Oct/23 3:04 AM,30/Jul/19 1:15 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The behave feature daily test suite job starting Nov 13 at 8:38 PM EST failed in Chaincodes test in FAB-5791 with NPM error. The behave-tests completed after ten hours,  The same test case passed in the previous day build 


{code:java}
chaincodes.Chaincodes Testing.FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for solo orderer leveldb db NODE lang -- @1.3 

The expected chaincode container f6672ecae7cc11e8a0fafa163ef099cc-peer0.org1.example.com-mycc-0 is not running
.
.
.
CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode instantiate --name mycc --version 0 --lang NODE --channelID behavesystest --ctor \\\'{\\\\""Args\\\\"": [\\\\""\\\\""]}\\\' --orderer orderer0.example.com:7050 ""\']: \x1b[34m2018-11-14 05:21:36.908 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001\x1b[0m Using default escc\n\x1b[34m2018-11-14 05:21:36.908 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002\x1b[0m Using default vscc\nError: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\nnpm WARN deprecated boom@4.3.1: This version is no longer maintained. Please upgrade to the latest version.\nnpm ERR! cb() never called!\n\nnpm ERR! This is an error with npm itself. Please report this error at:\nnpm ERR!     <https://github.com/npm/npm/issues>\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-11-14T05_21_40_867Z-debug.log\n""\n'}}
{code}


*Error Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/82/Behave_Test_Logs/orderer0.example.com_FAB-5791:_Test_API_in_SHIM_interface_using_marbles02_and_shimApiDriver_chaincodes_for_solo_orderer_leveldb_db_NODE_lang_--_@1.3_.log

There are errors in CouchDB indexing(FAB-12733) and container timeout in peer tests.

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/82/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/82/consoleFull",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,9b4aad8,Unset,No,,,"1|hzzyuv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 4:33 AM;scottz;All other test variations of this scenario outline, and all other chaincode.feature tests passed today (including another one using node sdk). 
As for the test failure, the only one I see in the console logs for 5791 is scenario 1.3; the error indicates the chaincode container is not running.
{{
Failing step: When an admin deploys chaincode at path ""../../fabric-test/chaincodes/marbles/node"" with args [""""] with name ""mycc"" with language ""NODE"" ... failed in 318.123s
Location: chaincodes.feature:394
Assertion Failed: The expected chaincode container f6672ecae7cc11e8a0fafa163ef099cc-peer0.org1.example.com-mycc-0 is not running
}}

And the NPM error is included here, during the instantiation:
{{
05:21:36.908 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001\x1b[0m Using default escc\n\x1b[34m2018-11-14 05:21:36.908 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002\x1b[0m Using default vscc\nError: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\nnpm WARN deprecated boom@4.3.1: This version is no longer maintained. Please upgrade to the latest version.\nnpm ERR! cb() never called!\n\nnpm ERR! This is an error with npm itself. Please report this error at:\nnpm ERR!     <https://github.com/npm/npm/issues>\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-11-14T05_21_40_867Z-debug.log\n""\n'}}
}}

Did you report the error, as suggested, to npm?
Did you create a bug to upgrade the npm? [~vijaypunugubati] might have done that. Link that bug which relates to this one, and pasted in the bug for NPM if appropriate, and then we can close this.;;;","27/Nov/18 5:02 AM;scottz;Assigning to you Sambhav, to be sure you noticed that I analyzed and provided comments for you to follow up on them, and possibly close this IF it is a duplicate, or IF it is no longer occurring. Or, if you are not the right person to own this then please reassign to the correct person on the CI team.;;;","29/Jul/19 2:59 AM;vijaypunugubati;These behave tests are for older chaincode shim. The fabric/core/chaincode/shim/ contains tests for current shim.

The test case is covered in the fabric integration tests. Nothing to do but deprecate the behave test.;;;",,,,,,,,,,,,,,,,,,,,,,
Add integration tests for /healthz endpoint,FAB-12863,35354,34512,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Nov/18 2:22 AM,17/Nov/18 12:52 AM,28/Oct/23 3:04 AM,17/Nov/18 12:52 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyv3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 2:24 AM;sykesm;https://gerrit.hyperledger.org/r/27553 [FAB-12863] integration test for healthz endpoint;;;",,,,,,,,,,,,,,,,,,,,,,,,
division by zero error in gen_PTEcfg.sh when using nCA=0,FAB-12864,35356,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,15/Nov/18 3:30 AM,25/Sep/19 7:21 PM,28/Oct/23 3:04 AM,11/Jan/19 11:56 PM,v1.3.0,,,,,,,,,fabric-quality,,,,0,,,,"
When creating channels, trying to start up an OTE test, I see a divide-by-zero error (actually is a warning, since the test proceeds ok) in the logs. 

We may wish to use zero nCA to reduce overhead; this is acceptable for our OTE testcases, even though the certs are necessary.

{{
        ####################################################### 
        #             generate PTE sc cfg json                # 
        ####################################################### 
 
./gen_PTEcfg.sh -n 1 -o 3 -p 1 -r 1 -x 0 -C example.com -w localhost -b /w/workspace/fabric-test-daily-ote-release-1.3-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/common/tools/cryptogen 
number of channels: 1
nOrderer:  3
nPeersPerOrg: 1
nOrg:  1
number of CA: 0
comName:  example.com
HostIP:  localhost
MSPBaseDir:  /w/workspace/fabric-test-daily-ote-release-1.3-x86_64/gopath/src/github.com/hyperledger/fabric-test/fabric/common/tools/cryptogen
nOrderer=3, nPeersPerOrg=1, nOrg=1, nChannel=1, nCA=0
GOPATH: /w/workspace/fabric-test-daily-ote-release-1.3-x86_64/gopath
remove gopath from MSPBaseDir
MSPBaseDir=src/github.com/hyperledger/fabric-test/fabric/common/tools/cryptogen/crypto-config
nOrgPerChannel: 1
*./gen_PTEcfg.sh: line 256: (n-1) % nCA : division by 0 (error token is ""nCA "")*
Creating OTE ... 
}}",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzyvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"10/Jan/19 4:45 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28592/;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in grpclogging,FAB-12865,35357,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Nov/18 3:40 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,17/Nov/18 12:53 AM,,,,,,,,,,,,,,0,ci-flake,,,"{code}
00:04:35.932 ------------------------------
00:04:35.932 • Failure [1.810 seconds]
00:04:35.932 Server
00:04:35.932 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:35
00:04:35.932   StreamServerInterceptor
00:04:35.932   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:288
00:04:35.933     logs stream data [It]
00:04:35.933     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:304
00:04:35.933 
00:04:35.933     Expected error:
00:04:35.933         <*status.statusError | 0xc000064a50>: {
00:04:35.933             Code: 4,
00:04:35.933             Message: ""context deadline exceeded"",
00:04:35.933             Details: nil,
00:04:35.933             XXX_NoUnkeyedLiteral: {},
00:04:35.933             XXX_unrecognized: nil,
00:04:35.933             XXX_sizecache: 0,
00:04:35.933         }
00:04:35.933         rpc error: code = DeadlineExceeded desc = context deadline exceeded
00:04:35.933     not to have occurred
00:04:35.933 
00:04:35.933     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:308
00:04:35.933 ------------------------------
00:04:35.933 • Failure [1.710 seconds]
00:04:35.933 Server
00:04:35.933 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:35
00:04:35.933   StreamServerInterceptor
00:04:35.933   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:288
00:04:35.933     provides a decorated context [It]
00:04:35.933     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:395
00:04:35.933 
00:04:35.934     Expected error:
00:04:35.934         <*status.statusError | 0xc0002a0b90>: {
00:04:35.934             Code: 4,
00:04:35.934             Message: ""context deadline exceeded"",
00:04:35.934             Details: nil,
00:04:35.934             XXX_NoUnkeyedLiteral: {},
00:04:35.934             XXX_unrecognized: nil,
00:04:35.934             XXX_sizecache: 0,
00:04:35.934         }
00:04:35.934         rpc error: code = DeadlineExceeded desc = context deadline exceeded
00:04:35.934     not to have occurred
00:04:35.934 
00:04:35.934     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:399
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 3:41 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16269/console-timestamp.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyvr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 4:19 AM;sykesm;Also:

00:04:31.340 • Failure [1.119 seconds]
00:04:31.340 Server
00:04:31.340 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:35
00:04:31.340   StreamServerInterceptor
00:04:31.341   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:288
00:04:31.341     logs stream data [It]
00:04:31.341     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:304
00:04:31.341 
00:04:31.341     Expected
00:04:31.341         <[]string | len:2, cap:2>: [
00:04:31.341             ""received stream message"",
00:04:31.341             ""sending stream message"",
00:04:31.341         ]
00:04:31.341     to consist of
00:04:31.341         <[]interface {} | len:3, cap:3>: [
00:04:31.341             ""received stream message"",
00:04:31.341             ""sending stream message"",
00:04:31.341             ""streaming call completed"",
00:04:31.341         ]
00:04:31.342 
00:04:31.342     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:326;;;","15/Nov/18 4:34 AM;sykesm;https://gerrit.hyperledger.org/r/27560 [FAB-12865] address timeout flakes in grpclogging;;;",,,,,,,,,,,,,,,,,,,,,,,
Move NewCommonStorageDBProvider into initialize function,FAB-12866,35358,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,15/Nov/18 3:46 AM,08/Dec/18 5:16 AM,28/Oct/23 3:04 AM,08/Dec/18 5:16 AM,,,,,,,,,,,,,,0,,,,"In support for adding metrics, the metrics provider will be provided by the initializer which is passed into Initialize function. The NewCommonStorageDBProvider requires the metrics provider be passed into it. Thus moving the call to NewCommonStorageDBProvider into initialize function.",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyvz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Nov/18 4:04 AM;skarim;[https://gerrit.hyperledger.org/r/c/27558/];;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric operator, I need to be able to monitor the go runtime environment of an orderer process.",FAB-12867,35359,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Nov/18 4:13 AM,08/Dec/18 8:12 AM,28/Oct/23 3:04 AM,08/Dec/18 8:12 AM,,,,,,v1.4.0,,,,,,,,0,operations,,,"The go runtime provides hooks for monitoring that need to be wired into the metrics subsystem of choice.

Memory: https://golang.org/pkg/runtime/#ReadMemStats
Go routines: https://golang.org/pkg/runtime/#NumGoroutine

Surfacing these metrics as gauges will provide some basic insight into the process characteristics. As the data can only be retrieved from polling, collection will need to be associated with a ticker.
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12361,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzyw7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Nov/18 4:18 AM;sykesm;https://gerrit.hyperledger.org/r/c/27544/ starts the metrics providers in the orderer. The statsd implementation starts the go runtime collector and prometheus's client does that by default.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instrument chaincode container build,FAB-12868,35360,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,15/Nov/18 4:35 AM,21/Nov/18 8:57 PM,28/Oct/23 3:04 AM,21/Nov/18 8:57 PM,,,,,,,,,,,,,,0,,,,,,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzywf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 2:19 AM;wlahti;https://gerrit.hyperledger.org/r/c/27645;;;",,,,,,,,,,,,,,,,,,,,,,,,
PTE marbles02_private incorrect reference local var,FAB-12869,35361,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,15/Nov/18 5:43 AM,16/Nov/18 11:51 PM,28/Oct/23 3:04 AM,16/Nov/18 11:51 PM,,,,,,,,,,fabric-quality,,,,0,,,,"The local var, index, is referenced incorrectly.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzzywn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"15/Nov/18 5:51 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27561/;;;",,,,,,,,,,,,,,,,,,,,,,,,
another intermittent test failure in grpclogging,FAB-12870,35362,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,15/Nov/18 6:10 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,12/Dec/18 1:32 AM,,,,,,v2.0.0,,,,fabric-common,,,,0,ci-flake,,,"{code:java}
10:16:12 ------------------------------
10:16:12 • Failure in Spec Setup (BeforeEach) [0.876 seconds]
10:16:12 Server
10:16:12 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:36
10:16:12   StreamServerInterceptor
10:16:12   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:363
10:16:12     when the stream ends with a grpc status error
10:16:12     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:559
10:16:12       logs the corect code [BeforeEach]
10:16:12       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:575
10:16:12 
10:16:12       Expected error:
10:16:12           <*errors.errorString | 0xc000064040>: {s: ""EOF""}
10:16:12           EOF
10:16:12       not to have occurred
10:16:12 
10:16:12       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:570
{code}",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq9j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 12:41 AM;wlahti;Updated description with a recent failure since the line numbers have changed. ;;;","08/Dec/18 9:02 AM;sykesm;https://gerrit.hyperledger.org/r/28012;;;",,,,,,,,,,,,,,,,,,,,,,,
Serviceability - statsd metrics with network traffic,FAB-12871,35363,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,scottz,scottz,15/Nov/18 7:10 AM,14/Dec/18 6:18 AM,28/Oct/23 3:04 AM,10/Dec/18 9:10 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"Configure the peer and orderer to send statsd metrics to statsd and use something like graphite to record and graph the associated data.
 - Run a workload.
 - Verify that the metrics make sense for the workload and that the metrics have appropriate names.

Test Setup:
2 Org, 4 peer Docker network, with graphite-statsD container, Marbles02 chaincode with 500 transactions.

Tests Pass if Graphite shows metrics from all peers and all orderers.
A list of observed metrics and sample graphs to be added.",,AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13187,,,,,,,,,,,,,,,,FAB-3388,,,,,,,,,,,,,,FAB-12872,,,,,,,,"14/Dec/18 6:18 AM;AdnanChoudhury;metrics.txt;https://jira.hyperledger.org/secure/attachment/16420/metrics.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzywv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 9:09 AM;AdnanChoudhury;Each peer had the following env. setup:

{code:java}
CORE_METRICS_STATSD_ADDRESS=graphite:8125
CORE_METRICS_PROVIDER=statsd
CORE_METRICS_STATSD_PREFIX=PEER_{number}
{code}


Each orderer had the following env setup

{code:java}
ORDERER_METRICS_STATSD_ADDRESS=graphite:8125
ORDERER_METRICS_PROVIDER=statsd
ORDERER_METRICS_STATSD_PREFIX=ORDERER_{number}
{code}

The list and the graphs are to be added soon.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Serviceability - prometheus metrics with network traffic,FAB-12872,35364,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,AdnanChoudhury,scottz,scottz,15/Nov/18 7:11 AM,30/Jan/19 5:59 PM,28/Oct/23 3:04 AM,13/Dec/18 3:30 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"Configure the peer and orderer to use prometheus for metrics. Set up an instance of prometheus with the appropriate service scrape configuration to collect metrics from the peers and orderers.
 - Run a workload.
 - Verify that the metrics make sense for the workload and that the metrics have appropriate names, labels, and help text.

Test Setup:
2 Org, 4 peer Docker network, with graphite-statsD container, Marbles02 chaincode with 500 transactions.

Tests Pass if Graphite shows metrics from all peers and all orderers.
A list of observed metrics and sample graphs to be added.",,AdnanChoudhury,ChanderGovindarajan,nyet,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3388,FAB-12871,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 3:27 AM;AdnanChoudhury;Screen Shot 2018-12-12 at 12.10.22 PM.png;https://jira.hyperledger.org/secure/attachment/16411/Screen+Shot+2018-12-12+at+12.10.22+PM.png","13/Dec/18 4:12 AM;AdnanChoudhury;metrics.txt;https://jira.hyperledger.org/secure/attachment/16412/metrics.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10080,,,Manual,,Unset,No,,,"1|hzzyx3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,The scraped  metrics are listed in the attached text and also in the comments. Ongoing: verification of the metrics.,System Test,,(Please add usage information),AdnanChoudhury,ChanderGovindarajan,nyet,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 8:13 AM;AdnanChoudhury;The test is running, the metrics are visible through Prometheus+Grafana, will add results as they become available.;;;","13/Dec/18 1:18 AM;AdnanChoudhury;Tested at SHA: Commit SHA: fc2552930
Docker compose setup/Environment for Peer, Orderer, Prometheus, Grafana:
Docker compose based on fabric-test/feature/docker-compose/ the additions were:

{code:java}
diff --git a/feature/docker-compose/docker-compose-base.yml b/feature/docker-compose/docker-compose-base.yml
index 5550c95..b82122b 100644
--- a/feature/docker-compose/docker-compose-base.yml
+++ b/feature/docker-compose/docker-compose-base.yml
@@ -41,6 +41,9 @@ services:
     orderer:
         image: hyperledger/fabric-ca-orderer
         environment:
+            - ORDERER_OPERATIONS_TLS_ENABLED=false
+            - ORDERER_OPERATIONS_LISTENADDRESS=:9443
+            - ORDERER_METRICS_PROVIDER=prometheus
             - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=${CORE_PEER_NETWORKID}_behave
             - ORDERER_HOME=/var/hyperledger/orderer
             - ORDERER_GENERAL_LOGLEVEL=debug
@@ -79,6 +82,9 @@ services:
diff --git a/feature/docker-compose/docker-compose-base.yml b/feature/docker-compose/docker-compose-base.yml
index 5550c95..b82122b 100644
--- a/feature/docker-compose/docker-compose-base.yml
+++ b/feature/docker-compose/docker-compose-base.yml
@@ -41,6 +41,9 @@ services:
     orderer:
         image: hyperledger/fabric-ca-orderer
         environment:
+            - ORDERER_OPERATIONS_TLS_ENABLED=false
+            - ORDERER_OPERATIONS_LISTENADDRESS=:9443
+            - ORDERER_METRICS_PROVIDER=prometheus
             - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=${CORE_PEER_NETWORKID}_behave
             - ORDERER_HOME=/var/hyperledger/orderer
             - ORDERER_GENERAL_LOGLEVEL=debug
@@ -79,6 +82,9 @@ services:
     peer:
         image: hyperledger/fabric-ca-peer
         environment:
+            - CORE_OPERATIONS_TLS_ENABLED=false
+            - CORE_OPERATIONS_LISTENADDRESS=:9443
+            - CORE_METRICS_PROVIDER=prometheus
             - CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
             - CORE_PEER_NETWORKID=${CORE_PEER_NETWORKID}
             - CORE_VM_DOCKER_HOSTCONFIG_NETWORKMODE=${CORE_PEER_NETWORKID}_behave
diff --git a/feature/docker-compose/docker-compose-kafka.yml b/feature/docker-compose/docker-compose-kafka.yml
index 84bee29..c184049 100644
--- a/feature/docker-compose/docker-compose-kafka.yml
+++ b/feature/docker-compose/docker-compose-kafka.yml
@@ -414,3 +414,25 @@ services:
         ports:
           - 10051:7051
           - 10053:7053
+
+    prometheus:
+        image: prom/prometheus
+        container_name: prometheus
+        volumes:
+          - ../prometheus/:/etc/prometheus/
+        command:
+          - '--config.file=/etc/prometheus/prometheus.yml'
+        networks:
+          behave:
+             aliases:
+               - ${CORE_PEER_NETWORKID}
+        ports:
+          - 9090:9090
+    grafana:
+        image: grafana/grafana:3.0.0-beta7
+        environment:
+            - GF_SECURITY_ADMIN_PASSWORD=pass
+        depends_on:
+            - prometheus
+        ports:
+            - ""3000:3000""
{code}

List of metrics found:

{code:java}
    ""blockcutter_block_fill_duration_bucket"",
    ""blockcutter_block_fill_duration_count"",
    ""blockcutter_block_fill_duration_sum"",
    ""broadcast_enqueue_duration_bucket"",
    ""broadcast_enqueue_duration_count"",
    ""broadcast_enqueue_duration_sum"",
    ""broadcast_processed_count"",
    ""broadcast_validate_duration_bucket"",
    ""broadcast_validate_duration_count"",
    ""broadcast_validate_duration_sum"",
    ""chaincode_launch_duration_bucket"",
    ""chaincode_launch_duration_count"",
    ""chaincode_launch_duration_sum"",
    ""chaincode_shim_request_duration_bucket"",
    ""chaincode_shim_request_duration_count"",
    ""chaincode_shim_request_duration_sum"",
    ""chaincode_shim_requests_completed"",
    ""chaincode_shim_requests_received"",
    ""consensus_kafka_batch_size"",
    ""consensus_kafka_compression_ratio"",
    ""consensus_kafka_incoming_byte_rate"",
    ""consensus_kafka_outgoing_byte_rate"",
    ""consensus_kafka_record_send_rate"",
    ""consensus_kafka_records_per_request"",
    ""consensus_kafka_request_latency"",
    ""consensus_kafka_request_rate"",
    ""consensus_kafka_request_size"",
    ""consensus_kafka_response_rate"",
    ""consensus_kafka_response_size"",
    ""couchdb_processing_time_bucket"",
    ""couchdb_processing_time_count"",
    ""couchdb_processing_time_sum"",
    ""deliver_blocks_sent"",
    ""deliver_requests_completed"",
    ""deliver_requests_received"",
    ""deliver_streams_closed"",
    ""deliver_streams_opened"",
    ""dockercontroller_chaincode_container_build_duration_bucket"",
    ""dockercontroller_chaincode_container_build_duration_count"",
    ""dockercontroller_chaincode_container_build_duration_sum"",
    ""etcd_debugging_snap_save_marshalling_duration_seconds_bucket"",
    ""etcd_debugging_snap_save_marshalling_duration_seconds_count"",
    ""etcd_debugging_snap_save_marshalling_duration_seconds_sum"",
    ""etcd_debugging_snap_save_total_duration_seconds_bucket"",
    ""etcd_debugging_snap_save_total_duration_seconds_count"",
    ""etcd_debugging_snap_save_total_duration_seconds_sum"",
    ""etcd_disk_wal_fsync_duration_seconds_bucket"",
    ""etcd_disk_wal_fsync_duration_seconds_count"",
    ""etcd_disk_wal_fsync_duration_seconds_sum"",
    ""go_gc_duration_seconds"",
    ""go_gc_duration_seconds_count"",
    ""go_gc_duration_seconds_sum"",
    ""go_goroutines"",
    ""go_info"",
    ""go_memstats_alloc_bytes"",
    ""go_memstats_alloc_bytes_total"",
    ""go_memstats_buck_hash_sys_bytes"",
    ""go_memstats_frees_total"",
    ""go_memstats_gc_cpu_fraction"",
    ""go_memstats_gc_sys_bytes"",
    ""go_memstats_heap_alloc_bytes"",
    ""go_memstats_heap_idle_bytes"",
    ""go_memstats_heap_inuse_bytes"",
    ""go_memstats_heap_objects"",
    ""go_memstats_heap_released_bytes"",
    ""go_memstats_heap_sys_bytes"",
    ""go_memstats_last_gc_time_seconds"",
    ""go_memstats_lookups_total"",
    ""go_memstats_mallocs_total"",
    ""go_memstats_mcache_inuse_bytes"",
    ""go_memstats_mcache_sys_bytes"",
    ""go_memstats_mspan_inuse_bytes"",
    ""go_memstats_mspan_sys_bytes"",
    ""go_memstats_next_gc_bytes"",
    ""go_memstats_other_sys_bytes"",
    ""go_memstats_stack_inuse_bytes"",
    ""go_memstats_stack_sys_bytes"",
    ""go_memstats_sys_bytes"",
    ""go_threads"",
    ""grpc_comm_conn_closed"",
    ""grpc_comm_conn_opened"",
    ""grpc_server_stream_messages_received"",
    ""grpc_server_stream_messages_sent"",
    ""grpc_server_stream_request_duration_bucket"",
    ""grpc_server_stream_request_duration_count"",
    ""grpc_server_stream_request_duration_sum"",
    ""grpc_server_stream_requests_completed"",
    ""grpc_server_stream_requests_received"",
    ""grpc_server_unary_request_duration_bucket"",
    ""grpc_server_unary_request_duration_count"",
    ""grpc_server_unary_request_duration_sum"",
    ""grpc_server_unary_requests_completed"",
    ""grpc_server_unary_requests_received"",
    ""http_request_duration_microseconds"",
    ""http_request_duration_microseconds_count"",
    ""http_request_duration_microseconds_sum"",
    ""http_request_size_bytes"",
    ""http_request_size_bytes_count"",
    ""http_request_size_bytes_sum"",
    ""http_requests_total"",
    ""http_response_size_bytes"",
    ""http_response_size_bytes_count"",
    ""http_response_size_bytes_sum"",
    ""ledger_block_processing_time_bucket"",
    ""ledger_block_processing_time_count"",
    ""ledger_block_processing_time_sum"",
    ""ledger_blockchain_height"",
    ""ledger_blockstorage_commit_time_bucket"",
    ""ledger_blockstorage_commit_time_count"",
    ""ledger_blockstorage_commit_time_sum"",
    ""ledger_statedb_commit_time_bucket"",
    ""ledger_statedb_commit_time_count"",
    ""ledger_statedb_commit_time_sum"",
    ""ledger_transaction_count"",
    ""process_cpu_seconds_total"",
    ""process_max_fds"",
    ""process_open_fds"",
    ""process_resident_memory_bytes"",
    ""process_start_time_seconds"",
    ""process_virtual_memory_bytes"",
    ""process_virtual_memory_max_bytes"",
  
{code}


Sample graph from Grafana:
 !Screen Shot 2018-12-12 at 12.10.22 PM.png|thumbnail!  ;;;","30/Jan/19 5:59 PM;nyet;This no longer works due to https://github.com/prometheus/prometheus/issues/5043;;;",,,,,,,,,,,,,,,,,,,,,,
to fix the fabric version of fabric-samples.,FAB-12873,35367,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,nicezic,nicezic,nicezic,15/Nov/18 5:14 PM,16/May/19 9:17 PM,28/Oct/23 3:04 AM,04/Dec/18 5:40 AM,v1.2.0,,,,,v1.2.0,,,,fabric-samples,,,,0,,,,"In first-network sample, byfn uses lastest version of fabric docker images.

 

If you installed latest docker image, for example 1.3 version,

and go back to version 1.2 'git checkout release-1.2',

byfn sample uses latest version, instead of 1.2 version.

 

It needs to fix docker image tag for right versioning.",,denyeart,nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyxb:",,,,Unset,Unset,,,"$ cd ./fabric-samples
$ git checkout release-1.3
$ cd scripts
$ ./bootstrap.sh
# downloding latest(1.3) docker images.
$ cd ..
$ git checkout release-1.2
$ cd scripts
$ ./bootstrap.sh
# downloding latest(1.2) docker images.
$ cd ../first-network
$ ./byfn generate
$ ./byfn up
$ cat .env 
COMPOSE_PROJECT_NAME=net
IMAGE_TAG=latest
$ 
## byfn uses latest version, which installed 1.3 version of fabric. ##",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 5:40 AM;denyeart;byfn script supports passing in image tag with -i parameter, if you don't want to use latest. Closing.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Contract namespace topic,FAB-12874,35372,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,15/Nov/18 7:18 PM,29/Jan/19 11:37 PM,28/Oct/23 3:04 AM,29/Jan/19 11:37 PM,v1.4.0,,,,,v1.4.1,v2.0.0,,,fabric-docs,,,,0,,,,"Add subtopic for smart contract namespaces

 ",,denyeart,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzyxr:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/18 1:06 AM;odowdaibm;[~SjirNijssen] [~EdProsser] [~andrew-coleman] [~isaacwch] heads up on namespace topic;;;","23/Jan/19 12:58 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/27579/] merged in master... cherry picking to release-1.4...;;;",,,,,,,,,,,,,,,,,,,,,,,
Add automated tests for fabcar sample,FAB-12875,35373,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,15/Nov/18 7:38 PM,03/Dec/18 8:27 PM,28/Oct/23 3:04 AM,03/Dec/18 8:26 PM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 8:27 PM;sstone1;https://gerrit.hyperledger.org/r/c/27693/14;;;",,,,,,,,,,,,,,,,,,,,,,,,
Rebase fabcar sample on first-network,FAB-12876,35374,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,15/Nov/18 7:38 PM,14/Jul/20 11:13 PM,28/Oct/23 3:04 AM,14/Jul/20 11:13 PM,,,,,,v1.4.2,v2.0.0,,,fabric-samples,,,,0,,,,"Currently the FabCar sample deploys to the basic-network, but this is not ideal as it is not really a realistic network configuration. It only has a single organisation, and a single peer, and it is not configured with TLS. There is also no tutorial explaining the basic-network configuration.

I plan to rebase the FabCar sample on first-network (aka BYFN). This is a much more realistic network configuration, as it has two organisations, and two peers, and it is configured with TLS. There is also a tutorial explaining the first-network configuration - Building Your First Network - that we can nicely link to from the FabCar tutorial Writing Your First Application.",,denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|hzzyy7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/18 2:04 AM;sstone1;This is deferred until post Fabric v1.4.0; the BYFN tutorial and network does not have a CA, and FabCar uses a CA, which makes this not as trivial as one would hope - need to have a discussion about the future of BYFN and how we re-use it across different samples.;;;","27/Feb/19 7:51 PM;sstone1;My proposal for this one:

* Add connection profiles to BYFN, so that they can easily be connected to using one of the SDKs
* Add a new option to BYFN that allows you to deploy CAs (similar to the options for specifying CouchDB or Kafka)
* Add a new option to BYFN that allows you to skip the install & instantiate of the abstore chaincode
* Update startFabric.sh script in FabCar to use BYFN instead of basic-network
* Update the FabCar applications to use the BYFN connection profiles and credentials
* Update the Writing Your First Application tutorial to reference the Building Your First Network tutorial
* Remove basic-network;;;","29/Aug/19 3:02 AM;denyeart;[~sstone1] I think most of this went in during v1.4.2 timeframe.
Can you verify that the remaining sub-tasks are correct?;;;",,,,,,,,,,,,,,,,,,,,,,
Add fabcar application sample using new programming model (JavaScript),FAB-12877,35375,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,15/Nov/18 7:39 PM,10/Dec/18 8:21 PM,28/Oct/23 3:04 AM,10/Dec/18 8:21 PM,,,,,,,,,,,,,,0,,,,,,silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 8:44 PM;sstone1;https://gerrit.hyperledger.org/r/c/27876/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add fabcar application sample using new programming model (TypeScript),FAB-12878,35376,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,15/Nov/18 7:39 PM,10/Dec/18 8:21 PM,28/Oct/23 3:04 AM,10/Dec/18 8:21 PM,,,,,,,,,,,,,,0,,,,,,silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 8:28 PM;sstone1;https://gerrit.hyperledger.org/r/c/27802/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update fabcar sample to deploy contracts with new programming model,FAB-12879,35377,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,15/Nov/18 7:41 PM,29/Nov/18 7:08 PM,28/Oct/23 3:04 AM,29/Nov/18 7:08 PM,,,,,,,,,,,,,,0,,,,,,silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),silliman,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 1:46 AM;sstone1;https://gerrit.hyperledger.org/r/c/27691/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Rename code using old programming model in fabcar sample,FAB-12880,35378,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sstone1,sstone1,15/Nov/18 7:41 PM,19/Dec/18 11:07 PM,28/Oct/23 3:04 AM,19/Dec/18 11:07 PM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyz3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 2:03 AM;sstone1;https://gerrit.hyperledger.org/r/#/c/28038/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pagination of results for chaincode API GetHistoryForKey(),FAB-12881,35382,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,denyeart,denyeart,15/Nov/18 10:06 PM,30/Aug/19 12:21 AM,28/Oct/23 3:04 AM,,,,,,,Future,,,,fabric-ledger,,,,0,,,,As of v1.3 it is possible to paginate through results of GetStateByRange() and GetQueryResult().  Need to also add support for pagination of results for GetHistoryForKey().,,denyeart,leeseunghyun,nekia,silliman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16454,,,,,,FAB-2809,,,,,,,,,,,,,,FAB-12183,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzyzj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,leeseunghyun,nekia,silliman,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Aug/19 11:48 AM;leeseunghyun;where does history for key come from?? from block-chain?? or peers local level DB?? 

 

 ;;;","30/Aug/19 12:21 AM;denyeart;There is a history database in LevelDB that includes an index that maps keys to the transactions where they were updated. GetHistoryForKey() queries this index and then pulls the historical value from the transaction in the blockchain.;;;",,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in orderer/common/cluster,FAB-12882,35388,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,15/Nov/18 11:45 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,05/Dec/18 2:54 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"While running {{make unit-test}} locally, I have hit this failure (panic after failing to receive block) two or three times in the past day.

{code}
2018-11-15 09:39:53.283 EST [test] fetchLastBlockSeq -> INFO 001 127.0.0.1:62706 is at block sequence of 10
2018-11-15 09:39:53.283 EST [test] connectToSomeEndpoint -> INFO 002 Connected to 127.0.0.1:62706 with last block seq of 10
2018-11-15 09:39:53.284 EST [test] obtainStream -> INFO 003 Sending request for block 5 to 127.0.0.1:62706
2018-11-15 09:39:53.285 EST [test] pullBlocks -> INFO 004 Got block 5 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.285 EST [test] pullBlocks -> INFO 005 Got block 6 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.286 EST [test] pullBlocks -> INFO 006 Got block 7 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.286 EST [test] pullBlocks -> INFO 007 Got block 8 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.286 EST [test] pullBlocks -> INFO 008 Got block 9 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.287 EST [test] pullBlocks -> INFO 009 Got block 10 of size 0KB from 127.0.0.1:62706
2018-11-15 09:39:53.293 EST [test] fetchLastBlockSeq -> INFO 00a 127.0.0.1:62708 is at block sequence of 3
2018-11-15 09:39:53.294 EST [test] fetchLastBlockSeq -> INFO 00b 127.0.0.1:62708 is at block sequence of 3
2018-11-15 09:39:53.294 EST [test] byEndpoints -> WARN 00c Duplicate endpoint found(127.0.0.1:62708), skipping it
2018-11-15 09:39:53.295 EST [test] connectToSomeEndpoint -> INFO 00d Connected to 127.0.0.1:62708 with last block seq of 3
2018-11-15 09:39:53.295 EST [test] obtainStream -> INFO 00e Sending request for block 1 to 127.0.0.1:62708
2018-11-15 09:39:53.296 EST [test] pullBlocks -> INFO 00f Got block 1 of size 0KB from 127.0.0.1:62708
2018-11-15 09:39:53.296 EST [test] pullBlocks -> INFO 010 Got block 2 of size 0KB from 127.0.0.1:62708
2018-11-15 09:39:53.297 EST [test] pullBlocks -> INFO 011 Got block 3 of size 0KB from 127.0.0.1:62708
2018-11-15 09:39:53.302 EST [test] fetchLastBlockSeq -> INFO 012 127.0.0.1:62711 is at block sequence of 100
2018-11-15 09:39:53.302 EST [test] connectToSomeEndpoint -> INFO 013 Connected to 127.0.0.1:62711 with last block seq of 100
2018-11-15 09:39:53.302 EST [test] obtainStream -> INFO 014 Sending request for block 1 to 127.0.0.1:62711
2018-11-15 09:39:53.304 EST [test] pullBlocks -> INFO 015 Got block 1 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.304 EST [test] pullBlocks -> INFO 016 Got block 2 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.304 EST [test] pullBlocks -> INFO 017 Got block 3 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.305 EST [test] pullBlocks -> INFO 018 Got block 4 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.305 EST [test] pullBlocks -> INFO 019 Got block 5 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.305 EST [test] pullBlocks -> INFO 01a Got block 6 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.306 EST [test] pullBlocks -> INFO 01b Got block 7 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.306 EST [test] pullBlocks -> INFO 01c Got block 8 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.307 EST [test] pullBlocks -> INFO 01d Got block 9 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.307 EST [test] pullBlocks -> INFO 01e Got block 10 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.309 EST [test] pullBlocks -> INFO 01f Got block 11 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.309 EST [test] pullBlocks -> INFO 020 Got block 12 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.310 EST [test] pullBlocks -> INFO 021 Got block 13 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.310 EST [test] pullBlocks -> INFO 022 Got block 14 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.311 EST [test] pullBlocks -> INFO 023 Got block 15 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.311 EST [test] pullBlocks -> INFO 024 Got block 16 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.312 EST [test] pullBlocks -> INFO 025 Got block 17 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.312 EST [test] pullBlocks -> INFO 026 Got block 18 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.312 EST [test] pullBlocks -> INFO 027 Got block 19 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.313 EST [test] pullBlocks -> INFO 028 Got block 20 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.314 EST [test] pullBlocks -> INFO 029 Got block 21 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.314 EST [test] pullBlocks -> INFO 02a Got block 22 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.314 EST [test] pullBlocks -> INFO 02b Got block 23 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.315 EST [test] pullBlocks -> INFO 02c Got block 24 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.315 EST [test] pullBlocks -> INFO 02d Got block 25 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.315 EST [test] pullBlocks -> INFO 02e Got block 26 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.316 EST [test] pullBlocks -> INFO 02f Got block 27 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.316 EST [test] pullBlocks -> INFO 030 Got block 28 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.316 EST [test] pullBlocks -> INFO 031 Got block 29 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.317 EST [test] pullBlocks -> INFO 032 Got block 30 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.317 EST [test] pullBlocks -> INFO 033 Got block 31 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.318 EST [test] pullBlocks -> INFO 034 Got block 32 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.318 EST [test] pullBlocks -> INFO 035 Got block 33 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.318 EST [test] pullBlocks -> INFO 036 Got block 34 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.319 EST [test] pullBlocks -> INFO 037 Got block 35 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.319 EST [test] pullBlocks -> INFO 038 Got block 36 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.319 EST [test] pullBlocks -> INFO 039 Got block 37 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.319 EST [test] pullBlocks -> INFO 03a Got block 38 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.320 EST [test] pullBlocks -> INFO 03b Got block 39 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.320 EST [test] pullBlocks -> INFO 03c Got block 40 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.321 EST [test] pullBlocks -> INFO 03d Got block 41 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.322 EST [test] pullBlocks -> INFO 03e Got block 42 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.322 EST [test] pullBlocks -> INFO 03f Got block 43 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.322 EST [test] pullBlocks -> INFO 040 Got block 44 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.323 EST [test] pullBlocks -> INFO 041 Got block 45 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.323 EST [test] pullBlocks -> INFO 042 Got block 46 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.323 EST [test] pullBlocks -> INFO 043 Got block 47 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.324 EST [test] pullBlocks -> INFO 044 Got block 48 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.324 EST [test] pullBlocks -> INFO 045 Got block 49 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.324 EST [test] pullBlocks -> INFO 046 Got block 50 of size 1KB from 127.0.0.1:62711
2018-11-15 09:39:53.329 EST [test] fetchLastBlockSeq -> INFO 047 127.0.0.1:62714 is at block sequence of 100
2018-11-15 09:39:53.330 EST [test] connectToSomeEndpoint -> INFO 048 Connected to 127.0.0.1:62714 with last block seq of 100
2018-11-15 09:39:53.330 EST [test] obtainStream -> INFO 049 Sending request for block 1 to 127.0.0.1:62714
2018-11-15 09:39:53.331 EST [test] pullBlocks -> INFO 04a Got block 1 of size 0KB from 127.0.0.1:62714
2018-11-15 09:39:54.333 EST [test] fetchLastBlockSeq -> ERRO 04b Failed receiving the latest block from 127.0.0.1:62714: didn't receive a response within 1s
2018-11-15 09:39:54.334 EST [test] connectToSomeEndpoint -> WARN 04c Could not connect to any endpoint of [127.0.0.1:62714]
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x49f2524]

goroutine 144 [running]:
github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).addExpectPullAssert.func1(0xc000383800)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:225 +0x174
github.com/hyperledger/fabric/orderer/common/cluster_test.(*deliverServer).Deliver(0xc0001f97c0, 0x4d555a0, 0xc0004c13a0, 0x4d431c0, 0xc0001f97c0)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/common/cluster/deliver_test.go:163 +0x1a1
github.com/hyperledger/fabric/protos/orderer._AtomicBroadcast_Deliver_Handler(0x4bdd3e0, 0xc0001f97c0, 0x4d53860, 0xc0002f8420, 0x5e58670, 0xc0002071a0)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/protos/orderer/ab.pb.go:714 +0xce
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processStreamingRPC(0xc000001e00, 0x4d56680, 0xc00045f500, 0xc00039e100, 0xc00031f1a0, 0x547dba0, 0x0, 0x0, 0x0)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1124 +0x11e1
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream(0xc000001e00, 0x4d56680, 0xc00045f500, 0xc00039e100, 0x0)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1212 +0x1319
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1(0xc000175bf0, 0xc000001e00, 0x4d56680, 0xc00045f500, 0xc00039e100)
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:686 +0xad
created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1
	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:684 +0xb9
FAIL	github.com/hyperledger/fabric/orderer/common/cluster	1.698s
{code}

/cc [~kchristidis]",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz0f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/18 10:04 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27602/ please tell me if that fixes it;;;",,,,,,,,,,,,,,,,,,,,,,,,
"peer cli 1.2.1: Fatal error when initializing core config : error when reading core config file: Unsupported Config Type """"",FAB-12883,35389,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,nileshdeotale,nileshdeotale,16/Nov/18 12:27 AM,02/Dec/18 7:37 AM,28/Oct/23 3:04 AM,02/Dec/18 7:37 AM,v1.2.1,,,,,v1.3.0,,,,fabric-peer,,,,0,,,,"nileshs-mbp:bin nileshdeotale$ ./peer
2018-11-15 10:22:13.157 EST [main] main -> ERRO 001 Fatal error when initializing core config : error when reading core config file: Unsupported Config Type """"
nileshs-mbp:bin nileshdeotale$ ./peer --version
2018-11-15 10:22:15.541 EST [main] main -> ERRO 001 Fatal error when initializing core config : error when reading core config file: Unsupported Config Type """"
nileshs-mbp:bin nileshdeotale$ ",,mastersingh24,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10523,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz0n:",,,,Unset,Unset,,,"Step 1: Download fabric binaries
nileshs-mbp:quality nileshdeotale$ pwd

/Users/nileshdeotale/helper-repos/quality

nileshs-mbp:quality nileshdeotale$ curl -sSL http://bit.ly/2ysbOFE | bash -s 1.2.1 1.2.1 -d -s

 

Installing Hyperledger Fabric binaries

 

===> Downloading version 1.2.1 platform specific fabric binaries

===> Downloading:  https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric/hyperledger-fabric/darwin-amd64-1.2.1/hyperledger-fabric-darwin-amd64-1.2.1.tar.gz

  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current

                                 Dload  Upload   Total   Spent    Left  Speed

100 29.7M  100 29.7M    0     0  6970k      0  0:00:04  0:00:04 --:--:-- 7321k

==> Done.

===> Downloading version 1.2.1 platform specific fabric-ca-client binary

===> Downloading:  https://nexus.hyperledger.org/content/repositories/releases/org/hyperledger/fabric-ca/hyperledger-fabric-ca/darwin-amd64-1.2.1/hyperledger-fabric-ca-darwin-amd64-1.2.1.tar.gz

  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current

                                 Dload  Upload   Total   Spent    Left  Speed

100 3862k  100 3862k    0     0  2393k      0  0:00:01  0:00:01 --:--:-- 2394k

==> Done

I downloaded peer 

Step 2. Validate download is successful and run peer command
nileshs-mbp:bin nileshdeotale$ ls -lrt
total 207624
-rwxr-xr-x  1 nileshdeotale  staff  13132368 Sep 27 18:13 configtxgen
-rwxr-xr-x  1 nileshdeotale  staff   6876784 Sep 27 18:13 cryptogen
-rwxr-xr-x  1 nileshdeotale  staff   5525232 Sep 27 18:13 idemixgen
-rwxr-xr-x  1 nileshdeotale  staff  13720736 Sep 27 18:13 discover
-rwxr-xr-x  1 nileshdeotale  staff  14010656 Sep 27 18:13 configtxlator
-rwxr-xr-x  1 nileshdeotale  staff  23345440 Sep 27 18:13 peer
-rwxr-xr-x  1 nileshdeotale  staff  17209920 Sep 27 18:14 orderer
-rwxr-xr-x  1 nileshdeotale  staff       810 Sep 27 18:14 get-docker-images.sh
-rwxr-xr-x  1 nileshdeotale  staff  11358960 Sep 27 18:57 fabric-ca-client
nileshs-mbp:bin nileshdeotale$ ./peer
2018-11-15 10:22:13.157 EST [main] main -> ERRO 001 Fatal error when initializing core config : error when reading core config file: Unsupported Config Type """"
nileshs-mbp:bin nileshdeotale$ ./peer --version
2018-11-15 10:22:15.541 EST [main] main -> ERRO 001 Fatal error when initializing core config : error when reading core config file: Unsupported Config Type """"
nileshs-mbp:bin nileshdeotale$ 
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,nileshdeotale,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 5:08 AM;nileshdeotale;error is not helpful. Please provide relevant error message to indicate that FABRIC_CFG_PATH is not set.

 After setting FABRIC_CFG_PATH=/Users/nileshdeotale/helper-repos/quality/config, I get past this error. ;;;","02/Dec/18 7:37 AM;mastersingh24;This was fixed in v1.3.0 ... there are currently no plans to backport this fix so closing this;;;",,,,,,,,,,,,,,,,,,,,,,,
Token transfers with outputs containing no owner and/or a quantity of zero are not rejected,FAB-12884,35391,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mathiasb303,mathiasb303,mathiasb303,16/Nov/18 12:33 AM,04/Feb/19 9:41 PM,28/Oct/23 3:04 AM,04/Feb/19 9:41 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,"Creation of outputs with a quantity of zero, and outputs with no owner, is currently possible. This leads to scenarios where a well-intentioned user may end up losing his or her tokens (by creating a token transfer with no owner), or where a malicious user can flood the system with lots of tokens with no value.",,angelo.decaro,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|hzzz13:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Nov/18 9:00 PM;angelo.decaro;[~mathiasb303], could you check if this overlaps with FAB-12891, please?

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Chaincode Node Builds broken,FAB-12885,35392,,Story,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,,mbwhite,mbwhite,16/Nov/18 12:45 AM,16/Nov/18 8:42 PM,28/Oct/23 3:04 AM,16/Nov/18 8:42 PM,,,,,,,,,,fabric-crypto,,,,0,,,,"The following line is seen

Error: failed to import '/w/workspace/fabric-chaincode-node-verify-x86_64/gopath/src/[github.com/hyperledger/fabric-chaincode-node/fabric-shim/lib/protos/token/expectations.proto'|http://github.com/hyperledger/fabric-chaincode-node/fabric-shim/lib/protos/token/expectations.proto'] in 'peer/proposal.proto': file not found

 

In the node chaincode builds.

 

Believe this is connected to FAB-12787",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11965,,,No,,Unset,No,,,"1|hzzz1b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
filter stale pvtData and construct update batch,FAB-12887,35395,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,Senthil1,Senthil1,Senthil1,16/Nov/18 1:48 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,20/Nov/18 12:37 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Once the valid pvtData has been constructed at the kvledger, we need to pass the valid pvtData to the stateDB txmgr for further checks and commit. 
 * The txmgr needs to check for any stale pvtData (by comparing the version and hash of passed pvtData against the committed hashedKey version and hashedValue) and remove any such stale data.
 * Once all stale data has been removed, txmgr needs to create the update batch (for committing the data to the stateDB)",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:x",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
update BTL bookkeeping managed by purge mgr,FAB-12888,35396,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,16/Nov/18 1:58 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,20/Nov/18 11:56 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"As we commit the pvtData of old blocks to the stateDB, we must update the bookkeeping accordingly by creating appropriate expiryEntries. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11765,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:y",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Provide metrics for the committer,FAB-12889,35397,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,wlahti,wlahti,16/Nov/18 2:11 AM,30/Apr/19 11:45 PM,28/Oct/23 3:04 AM,30/Apr/19 11:45 PM,,,,,,,,,,fabric-peer,,,,0,operations,,,,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-3388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzu7z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Apr/19 11:45 PM;sykesm;I believe this has already been done via other CRs and stories.  (But, without details about which metrics and when they should be cut, it's hard to say...)

If not, we can revive it as appropriate.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address golint warnings in orderer/common/cluster,FAB-12890,35399,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/Nov/18 3:18 AM,05/Dec/18 12:34 AM,28/Oct/23 3:04 AM,05/Dec/18 12:34 AM,,,,,,v1.4.0,,,,fabric-orderer,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz2v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 6:51 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27585/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add verification for owner field in import and transfer outputs,FAB-12891,35401,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,16/Nov/18 3:40 AM,03/Dec/19 3:04 AM,28/Oct/23 3:04 AM,13/Dec/18 11:52 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,"For token transfer and import, we should report an error if an output owner is nil. For token redeem, output owner can be nil. To share the same method for both transfer and redeem, we pass in a boolean to indicate whether or not owner is required.",,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12897,,,,,,,,,,,,,,,,,,,,,,,FAB-12884,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|hzzz3b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/18 9:01 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27588/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric user, I need documentation to walk me through setting up the etcd/raft-based ordering service",FAB-12892,35404,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,kchristidis,kchristidis,16/Nov/18 4:59 AM,28/Mar/19 4:05 AM,28/Oct/23 3:04 AM,28/Mar/19 3:32 AM,,,,,,v1.4.1,v2.0.0,,,fabric-docs,fabric-orderer,,,0,raft,,,"This will be the ""Configuring Raft"" doc, the partner to the ""Bringing up a Kafka-based ordering service"": https://hyperledger-fabric.readthedocs.io/en/release-1.4/kafka.html",,guoger,joe-alewine,kchristidis,pandrejko,scottz,tock,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i008af:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,joe-alewine,kchristidis,pandrejko,scottz,tock,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Jan/19 8:44 AM;kchristidis;Discussed this with [~joe-alewine] earlier today.

Here's a rough outline of how I'm imagining this will look:
 # Title
 ## Short introductory blurb about the Raft-based ordering service and why we built it. (Joe's idea.)
 ## What you need to know if you're:
 ### A user/client:
 #### Just how the ACK contract is changing.
 ### A peer operator:
 #### Nothing :D
 ### An OSN operator:
 #### Instructions on how to configure/setup a Raft-based ordering service
 #### Instructions on how to migrate
 #### Things you can do with a Raft-based ordering service you couldn't do before (e.g. have a channel with OSNs 1-2-3 as its consenter set, and another channel with OSNs 2-3-4 as its consenter set). Joe's right that we'll need lots of diagrams.

 ;;;","11/Feb/19 11:17 PM;joe-alewine;So my current plan is to have a whole doc that will fit into the ""Key Concepts"" section about orderers and ordering. We can talk about what orderers do and their role in the transaction flow and cover the different implementations — SOLO, Kafka, and RAFT — conceptually. What are they good for? What are they less go for? Then in any subsequent doc(s) we have, we can reference back to this doc.

The next question is how much/how many other docs we want/need.

So we're definitely going to need some kind of doc that shows people how to set this up. The question is whether this should be a tutorial (using BYFN and talking people through the steps) or more of an ""operations guide"" type doc (as the current Kafka doc is). Or both.

And then there's the question of whether we will need architecture reference for RAFT. This is for information/details that go beyond the scope of a tutorial or operations guide and would only clutter those docs up.

As a model for what I mean, here are the docs we generated for Private Data back in v1.2/

Private data concept: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/private-data/private-data.html]

Private data tutorial: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/private_data_tutorial.html]

Private data architecture reference: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/private-data-arch.html]

 

This isn't the only way to organize product release information, obviously. I know [~kchristidis] mentioned that it might be more helpful to write the docs from the perspective of different kinds of users (developers versus architects versus operators). With a few exceptions, the Fabric community docs are organized more on a task basis (what is someone trying to do), versus the identity/job title of the person attempting to do it. Which isn't to say that we should do that for RAFT, just something worth mentioning

Definitely deserves more discussion either way. In the meantime, I'm beginning work in earnest on the ""key concept"" doc for orderers/ordering, which will add some new information in addition to synthesizing some information we had out there already in the ""Peers"" concept doc.;;;","12/Feb/19 12:52 AM;joe-alewine;Also worth wondering if we should add RAFT as an optional ordering service implementation to BYFN, similar to how BYFN gives you the option to use Java chaincode.;;;","12/Feb/19 2:50 AM;kchristidis;[~joe-alewine]: Thanks for the thoughts on this! I see your note about the documentation being task-oriented. Do you think it'd be a stretch to imply a 1-to-1 mapping between tasks and identities? If you're a client, you're reading/writing. If you're a peer, you're reading. If you're an OSN, you're ordering. If we can say that, then perhaps the identity-driven approach is not that big of a stretch. At any rate, _as a user/consumer_ I'm a fan of keeping the documentation as concise as possibly, so I'd vote for 1 document for Raft and that's it. (Other than the orderer concept doc you're working on.)

[~guoger], [~adarshsaraf123], [~yacovm]: What do you gentlemen think about how Raft should be documented? See comments above.

{quote}Also worth wondering if we should add RAFT as an optional ordering service implementation to BYFN, similar to how BYFN gives you the option to use Java chaincode.{quote}

Yes, good idea. [~tock] has actually done work on this. Keep track of FAB-12762.;;;","12/Feb/19 3:03 AM;yacovm;In my opinion we need to cover 2 different aspects:

# High level flow and architecture - how Raft OSN works, what are the assumptions, etc.
# Operations:
## Configuration of the bootstrap - configtx.yaml content
## Configuration of the consensus/cluster in orderer.yaml
## Reconfiguration - adding/removing nodes
## Onboarding 

As well as a section of ""known problems and workarounds"" / FAQ.;;;","12/Feb/19 4:05 AM;joe-alewine;[~kchristidis] Yes, to your first point. I think we should start being more explicit who the targets are of a doc, even if we are not going to organize the table of contents itself under this user-based model. We've talked about have parallel documentation tailored to particular types of users, but ultimately it's just too much to rewrite every topic for each user type, even if the result would be boilerplate of the ""as an application developer, you don't really give a damn about the ordering service implementation"" variety. We compensate for this by trying to adhere to a policy of progressive disclosure. If a doc is getting down into weeds you're not interested in, go ahead and stop reading! That kind of thing. Not perfect, but we can't contain it any other way. We're also somewhat limited by RTD.

I think [~yacovm]'s organization makes a lot of sense. The question, again, is where we're going to draw the line between this information and the tutorial. Perhaps the tutorial could be more of a demonstration, stripped of most of the contextual information, and point to an ""Operations"" doc for the heart of the ""whys"" and ""hows"".;;;","12/Feb/19 12:47 PM;guoger;{quote}the Fabric community docs are organized more on a task basis
{quote}
It's not very clear to me why this ""conflicts"" with role-based approach. Personally I'm more used to _Developer Guide_, _Operator Guide_, User Guide_ kind of docs, and normally I find particular tasks under each one of them. In this sense, I'm slightly inclined towards the proposal from [~kchristidis]

However, instead of documenting delta, I think we should think as a newcomer to Fabric, i.e. instead of _Just how the ACK contract is changing_, we should write _What does ACK mean_. This does impose a huge amount of work, although I had an impression that rework of orderer docs is already part of plan?
{quote}High level flow and architecture - how Raft OSN works, what are the assumptions, etc.
{quote}
+1 for this (esp. assumptions). i think it's worth to mention why Fabric is still BFT (to certain degree) whereas orderer itself is CFT for now. I personally was questioned a lot by this;;;","12/Mar/19 5:31 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/30010/;;;",,,,,,,,,,,,,,,,,
MSP erroneously reports missing SKI in non-CA certs.,FAB-12893,35405,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,16/Nov/18 5:54 AM,19/Nov/18 2:30 PM,28/Oct/23 3:04 AM,19/Nov/18 2:30 PM,,,,,,v1.4.0,,,,fabric-crypto,,,,0,serviceability,,,"The MSP claims ""CA Certificate did not have the Subject Key Identifier extension, (SN: %s)"" whenever a certificate does not have an SKI set _or_ when the certificate does not have the ""IsCA"" attribute set.  In the latter case, it is very confusing to the user because when they inspect the certificate the SKI will indeed be present while the error indicates otherwise.

Additionally, the error prints the cert serial number as decimal, which is very unhelpful because most tools display it in hex.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|hzzz4n:",,,,Unset,Unset,,,Attempt to add a non-CA cert as a CA root.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
fix node shim module export path error,FAB-12894,35408,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,zhaochy,zhaochy,zhaochy,16/Nov/18 12:10 PM,27/Nov/18 1:57 PM,28/Oct/23 3:04 AM,27/Nov/18 1:57 PM,,,,,,,,,,,,,,0,,,,"the master branch of node-shim has export class ""KeyEndorsementPolicy""

however if we want to use ""KeyEndorsementPolicy"" by 

{code:java}
const { KeyEndorsementPolicy } = require('fabric-shim');
new KeyEndorsementPolicy();
{code}


an exception ""KeyEndorsementPolicy is not a constructor"" throws.
",,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz53:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 1:57 PM;zhaochy;https://gerrit.hyperledger.org/r/#/c/27595/;;;",,,,,,,,,,,,,,,,,,,,,,,,
convert missingData slice to a map and rename certain variables to avoid confusion,FAB-12895,35410,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,16/Nov/18 1:27 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,17/Nov/18 1:12 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"For any internal usage, it is good to have map so that lookup and comparison code can be written with lesser lines of codes. If the order of the stored entries do not matter, then slice is not needed and adds a lot of complexity during lookups.

Given above, we need to change the slice used for missingData to a map.

In the BlockAndPvtData, we have Block, BlockPvtData, and Missing. These names are not very informative and get confused with another struct named BlockPvtData. Hence, we need to use proper names for readability and avoid confusion. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11805,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfm:z",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Gateway topic,FAB-12896,35411,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,16/Nov/18 8:44 PM,07/Dec/18 9:00 PM,28/Oct/23 3:04 AM,07/Dec/18 9:00 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,Gateway topic,,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzz5r:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Nov/18 8:45 PM;odowdaibm;[~SjirNijssen] [~isaacwch] [~andrew-coleman] Just started this topic.  Will try to have first pass available for Monday. Feel free to mention anything here you might find helpful. Thanks!;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add policy verification for owner field,FAB-12897,35412,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,16/Nov/18 8:57 PM,12/Mar/19 11:11 PM,28/Oct/23 3:04 AM,12/Mar/19 11:11 PM,,,,,,,,,,,,,,0,fabtoken,,,We should report an error if an output owner is not valid. This is to avoid that an honest user transfer her tokens to someone that cannot spend them.,,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12891,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz5z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for allowance",FAB-12898,35414,34271,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,16/Nov/18 11:54 PM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz6f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:43 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27605/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for transferFrom",FAB-12899,35415,34271,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,16/Nov/18 11:54 PM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz6n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:41 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27608/;;;",,,,,,,,,,,,,,,,,,,,,,,,
go:generate should never generate artifacts outside of the current directory,FAB-12900,35420,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,17/Nov/18 1:49 AM,19/Nov/18 1:47 PM,28/Oct/23 3:04 AM,19/Nov/18 1:47 PM,,,,,,v1.4.0,,,,,,,,0,,,,"FAB-9676 added the following to the chaincode shim:

{code}
//go:generate counterfeiter -o ../../scc/lscc/mock/chaincode_stub.go --fake-name ChaincodeStub . ChaincodeStubInterface
//go:generate counterfeiter -o ../../chaincode/lifecycle/mock/chaincode_stub.go --fake-name ChaincodeStub . ChaincodeStubInterface
{code}

These need to be removed. Fakes are never to be generated to a foreign package.

/cc [~mne]",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz7z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Nov/18 2:05 AM;sykesm; https://gerrit.hyperledger.org/r/27610;;;",,,,,,,,,,,,,,,,,,,,,,,,
Regenerate fakes in core/chaincode package,FAB-12901,35421,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/Nov/18 1:51 AM,19/Nov/18 1:47 PM,28/Oct/23 3:04 AM,19/Nov/18 1:47 PM,,,,,,,,,,,,,,0,,,,Use the newer version of counterfeiter to regenerate the fakes.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz87:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Nov/18 2:05 AM;sykesm;https://gerrit.hyperledger.org/r/27609;;;",,,,,,,,,,,,,,,,,,,,,,,,
Use consistent logger names across the chaincode packages,FAB-12902,35423,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,17/Nov/18 4:16 AM,18/Nov/18 10:25 PM,28/Oct/23 3:04 AM,18/Nov/18 10:25 PM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzz8n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Nov/18 4:19 AM;sykesm;https://gerrit.hyperledger.org/r/27612 [FAB-12902] update logger names in chaincode pkg;;;",,,,,,,,,,,,,,,,,,,,,,,,
Support TokenOperationRequest in issuer and transactor,FAB-12904,35428,35214,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,17/Nov/18 6:51 AM,28/Feb/19 5:02 PM,28/Oct/23 3:04 AM,08/Jan/19 10:00 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,Enhance tms issuer and transactor to support TokenOperation and create a token transaction for such a request.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzza7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Dec/18 5:36 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/27619/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Instantiation Slow Reponse Feedback,FAB-12905,35429,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,grice_32,grice_32,17/Nov/18 10:58 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-tools,,,,0,stale-item,,,"I have a channel with 900+ blocks on it. I am installing/instantiating new chaincode on this channel and the response time when instantiating is very slow as compared to a channel with > 100 blocks on it. Instantiating with 900+ blocks can take me 5+ minutes, whereas instantiating with > 100 blocks can take 5-10 seconds (normal response).  

 

I would think block height wouldn't matter when instantiating new chaincode, but I have found this to be the case every time.",,grice_32,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|hzzzaf:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),grice_32,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Adding new peer in existing organization causing new peer to fail,FAB-12906,35430,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,akshay.sood,akshay.sood,17/Nov/18 1:22 PM,02/Mar/19 2:32 AM,28/Oct/23 3:04 AM,02/Mar/19 2:32 AM,v1.3.0,v1.4.0,,,,,,,,fabric-gossip,,,,3,,,,"I am trying to add a new peer into the existing organization 
{code:java}
org1.example.com
{code}

I installed the chaincode on existing network before adding a new peer

I then changed the count of peers of 
{code:java}
org1.example.com
{code}
 from 2 to 3. Then I executed the following command:

{code:java}
cryptogen extend --input=""crypto-config"" --config=crypto-config.yaml
{code}

The output of this command was nothing.

Then I bootstrap the new peer with the following
{code:java}
 docker-compose
{code}
 configuration file:


{code:java}
version: '2'

volumes:
  peer2.org1.example.com:

networks:
  byfn:


services:

  couchdb4:
      container_name: couchdb4
      image: hyperledger/fabric-couchdb
      # Populate the COUCHDB_USER and COUCHDB_PASSWORD to set an admin user and password
      # for CouchDB.  This will prevent CouchDB from operating in an ""Admin Party"" mode.
      environment:
        - COUCHDB_USER=
        - COUCHDB_PASSWORD=
      # Comment/Uncomment the port mapping if you want to hide/expose the CouchDB service,
      # for example map it to utilize Fauxton User Interface in dev environments.
      ports:
        - ""5988:5984""
      networks:
        - byfn


  peer2.org1.example.com:
    container_name: peer2.org1.example.com
    extends:
      file: peer-base.yaml
      service: peer-base
    environment:
      - CORE_PEER_ID=peer2.org1.example.com
      - CORE_PEER_ADDRESS=peer2.org1.example.com:7051
      - CORE_PEER_GOSSIP_EXTERNALENDPOINT=peer2.org1.example.com:7051
      - CORE_PEER_GOSSIP_BOOTSTRAP=peer0.org1.example.com:7051
      - CORE_PEER_LOCALMSPID=Org1MSP
      - CORE_LEDGER_STATE_STATEDATABASE=CouchDB
      - CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=couchdb4:5984
      - CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=
      - CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=
    volumes:
        - /var/run/:/host/var/run/
        - ../crypto-config/peerOrganizations/org1.example.com/peers/peer2.org1.example.com/msp:/etc/hyperledger/fabric/msp
        - ../crypto-config/peerOrganizations/org1.example.com/peers/peer2.org1.example.com/tls:/etc/hyperledger/fabric/tls
        - peer2.org1.example.com:/var/hyperledger/production
    ports:
      - 11051:7051
      - 11053:7053
    networks:
      - byfn
{code}

But the logs keep showing:

{code:java}
peer2.org1.example.com    | 2018-11-15 17:51:38.952 UTC [gossip/gossip] handleMessage -> WARN 5bf Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer0.org2.example.com:7051"" pki_id:""\316\347\246\2250\0171\025\221\""=\266|V\037$ \265\213\037\220z`\303\351\257\001\017\216\370J>"" > timestamp:<inc_num:1542303654280601328 seq_num:736 > > , Envelope: 84 bytes, Signature: 71 bytes isn't valid
peer2.org1.example.com    | 2018-11-15 17:51:38.952 UTC [gossip/gossip] handleMessage -> WARN 5c0 Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer0.org2.example.com:7051"" pki_id:""\316\347\246\2250\0171\025\221\""=\266|V\037$ \265\213\037\220z`\303\351\257\001\017\216\370J>"" > timestamp:<inc_num:1542303654280601328 seq_num:736 > > , Envelope: 84 bytes, Signature: 71 bytes isn't valid
peer2.org1.example.com    | 2018-11-15 17:51:39.123 UTC [gossip/gossip] handleMessage -> WARN 5c1 Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1.org2.example.com:7051"" pki_id:""\262>\03566\350\330~\374\215(#\323\375\331\317\234%,\215-\024\316O\327v}\005\263\374\\\224"" > timestamp:<inc_num:1542303654503183827 seq_num:738 > > , Envelope: 84 bytes, Signature: 71 bytes isn't valid
peer2.org1.example.com    | 2018-11-15 17:51:39.124 UTC [gossip/gossip] handleMessage -> WARN 5c2 Message GossipMessage: tag:EMPTY alive_msg:<membership:<endpoint:""peer1.org2.example.com:7051"" pki_id:""\262>\03566\350\330~\374\215(#\323\375\331\317\234%,\215-\024\316O\327v}\005\263\374\\\224"" > timestamp:<inc_num:1542303654503183827 seq_num:738 > > , Envelope: 84 bytes, Signature: 71 bytes isn't valid
peer2.org1.example.com    | 2018-11-15 17:51:40.103 UTC [peer/gossip/mcs] Verify -> ERRO 5c3 Failed getting validated identity from peer identity [Peer Identity [0a 07 4f 72 67 32 4d 53 50 12 a6 06 2d 2d 2d 2d 2d 42 45 47 49 4e 20 43 45 52 54 49 46 49 43 41 54 45 2d 2d 2d 2d 2d 0a 4d 49 49 43 4a 7a 43 43 41 63 36 67 41 77 49 42 41 67 49 51 46 54 76 55 43 2b 6a 78 6a 32 50 4e 63 41 48 33 45 61 45 68 4d 7a 41 4b 42 67 67 71 68 6b 6a 4f 50 51 51 44 41 6a 42 7a 4d 51 73 77 0a 43 51 59 44 56 51 51 47 45 77 4a 56 55 7a 45 54 4d 42 45 47 41 31 55 45 43 42 4d 4b 51 32 46 73 61 57 5a 76 63 6d 35 70 59 54 45 57 4d 42 51 47 41 31 55 45 42 78 4d 4e 55 32 46 75 49 45 5a 79 0a 59 57 35 6a 61 58 4e 6a 62 7a 45 5a 4d 42 63 47 41 31 55 45 43 68 4d 51 62 33 4a 6e 4d 69 35 6c 65 47 46 74 63 47 78 6c 4c 6d 4e 76 62 54 45 63 4d 42 6f 47 41 31 55 45 41 78 4d 54 59 32 45 75 0a 62 33 4a 6e 4d 69 35 6c 65 47 46 74 63 47 78 6c 4c 6d 4e 76 62 54 41 65 46 77 30 78 4f 44 45 78 4d 54 55 78 4e 7a 4d 32 4d 44 42 61 46 77 30 79 4f 44 45 78 4d 54 49 78 4e 7a 4d 32 4d 44 42 61 0a 4d 47 6f 78 43 7a 41 4a 42 67 4e 56 42 41 59 54 41 6c 56 54 4d 52 4d 77 45 51 59 44 56 51 51 49 45 77 70 44 59 57 78 70 5a 6d 39 79 62 6d 6c 68 4d 52 59 77 46 41 59 44 56 51 51 48 45 77 31 54 0a 59 57 34 67 52 6e 4a 68 62 6d 4e 70 63 32 4e 76 4d 51 30 77 43 77 59 44 56 51 51 4c 45 77 52 77 5a 57 56 79 4d 52 38 77 48 51 59 44 56 51 51 44 45 78 5a 77 5a 57 56 79 4d 53 35 76 63 6d 63 79 0a 4c 6d 56 34 59 57 31 77 62 47 55 75 59 32 39 74 4d 46 6b 77 45 77 59 48 4b 6f 5a 49 7a 6a 30 43 41 51 59 49 4b 6f 5a 49 7a 6a 30 44 41 51 63 44 51 67 41 45 47 4d 4f 54 72 4b 35 48 5a 30 66 48 0a 43 6a 71 68 67 67 59 4e 30 6a 7a 39 5a 76 70 56 47 47 56 76 57 65 55 39 6b 33 4a 53 51 54 75 39 6f 6a 53 6d 6e 6e 44 30 4d 4d 55 77 50 4c 2b 4a 69 56 77 37 6d 55 30 51 71 42 44 64 4f 61 67 72 0a 69 78 48 39 54 47 78 37 4e 71 4e 4e 4d 45 73 77 44 67 59 44 56 52 30 50 41 51 48 2f 42 41 51 44 41 67 65 41 4d 41 77 47 41 31 55 64 45 77 45 42 2f 77 51 43 4d 41 41 77 4b 77 59 44 56 52 30 6a 0a 42 43 51 77 49 6f 41 67 50 75 6c 39 4e 37 6a 57 34 39 68 68 32 70 70 50 65 6f 52 54 2f 48 52 6b 4b 32 50 47 62 77 73 4b 35 58 41 6f 4f 57 45 4d 2b 44 6f 77 43 67 59 49 4b 6f 5a 49 7a 6a 30 45 0a 41 77 49 44 52 77 41 77 52 41 49 67 66 69 35 58 4a 58 4a 55 57 47 73 4b 5a 77 62 70 63 63 75 52 50 66 6c 31 4b 48 61 4b 44 42 30 69 2f 49 39 30 47 61 4d 72 55 6d 41 43 49 44 63 45 72 52 55 6e 0a 39 48 4c 66 73 45 55 6f 30 31 70 49 44 70 76 31 37 49 68 6f 43 4f 5a 6b 33 69 57 72 34 68 48 36 4a 78 79 30 0a 2d 2d 2d 2d 2d 45 4e 44 20 43 45 52 54 49 46 49 43 41 54 45 2d 2d 2d 2d 2d 0a] cannot be validated. No MSP found able to do that.]
peer2.org1.example.com    | 2018-11-15 17:51:40.104 UTC [gossip/gossip] handleMessage -> WARN 5c4 Failed validating identity message: Peer Identity [0a 07 4f 72 67 32 4d 53 50 12 a6 06 2d 2d 2d 2d 2d 42 45 47 49 4e 20 43 45 52 54 49 46 49 43 41 54 45 2d 2d 2d 2d 2d 0a 4d 49 49 43 4a 7a 43 43 41 63 36 67 41 77 49 42 41 67 49 51 46 54 76 55 43 2b 6a 78 6a 32 50 4e 63 41 48 33 45 61 45 68 4d 7a 41 4b 42 67 67 71 68 6b 6a 4f 50 51 51 44 41 6a 42 7a 4d 51 73 77 0a 43 51 59 44 56 51 51 47 45 77 4a 56 55 7a 45 54 4d 42 45 47 41 31 55 45 43 42 4d 4b 51 32 46 73 61 57 5a 76 63 6d 35 70 59 54 45 57 4d 42 51 47 41 31 55 45 42 78 4d 4e 55 32 46 75 49 45 5a 79 0a 59 57 35 6a 61 58 4e 6a 62 7a 45 5a 4d 42 63 47 41 31 55 45 43 68 4d 51 62 33 4a 6e 4d 69 35 6c 65 47 46 74 63 47 78 6c 4c 6d 4e 76 62 54 45 63 4d 42 6f 47 41 31 55 45 41 78 4d 54 59 32 45 75 0a 62 33 4a 6e 4d 69 35 6c 65 47 46 74 63 47 78 6c 4c 6d 4e 76 62 54 41 65 46 77 30 78 4f 44 45 78 4d 54 55 78 4e 7a 4d 32 4d 44 42 61 46 77 30 79 4f 44 45 78 4d 54 49 78 4e 7a 4d 32 4d 44 42 61 0a 4d 47 6f 78 43 7a 41 4a 42 67 4e 56 42 41 59 54 41 6c 56 54 4d 52 4d 77 45 51 59 44 56 51 51 49 45 77 70 44 59 57 78 70 5a 6d 39 79 62 6d 6c 68 4d 52 59 77 46 41 59 44 56 51 51 48 45 77 31 54 0a 59 57 34 67 52 6e 4a 68 62 6d 4e 70 63 32 4e 76 4d 51 30 77 43 77 59 44 56 51 51 4c 45 77 52 77 5a 57 56 79 4d 52 38 77 48 51 59 44 56 51 51 44 45 78 5a 77 5a 57 56 79 4d 53 35 76 63 6d 63 79 0a 4c 6d 56 34 59 57 31 77 62 47 55 75 59 32 39 74 4d 46 6b 77 45 77 59 48 4b 6f 5a 49 7a 6a 30 43 41 51 59 49 4b 6f 5a 49 7a 6a 30 44 41 51 63 44 51 67 41 45 47 4d 4f 54 72 4b 35 48 5a 30 66 48 0a 43 6a 71 68 67 67 59 4e 30 6a 7a 39 5a 76 70 56 47 47 56 76 57 65 55 39 6b 33 4a 53 51 54 75 39 6f 6a 53 6d 6e 6e 44 30 4d 4d 55 77 50 4c 2b 4a 69 56 77 37 6d 55 30 51 71 42 44 64 4f 61 67 72 0a 69 78 48 39 54 47 78 37 4e 71 4e 4e 4d 45 73 77 44 67 59 44 56 52 30 50 41 51 48 2f 42 41 51 44 41 67 65 41 4d 41 77 47 41 31 55 64 45 77 45 42 2f 77 51 43 4d 41 41 77 4b 77 59 44 56 52 30 6a 0a 42 43 51 77 49 6f 41 67 50 75 6c 39 4e 37 6a 57 34 39 68 68 32 70 70 50 65 6f 52 54 2f 48 52 6b 4b 32 50 47 62 77 73 4b 35 58 41 6f 4f 57 45 4d 2b 44 6f 77 43 67 59 49 4b 6f 5a 49 7a 6a 30 45 0a 41 77 49 44 52 77 41 77 52 41 49 67 66 69 35 58 4a 58 4a 55 57 47 73 4b 5a 77 62 70 63 63 75 52 50 66 6c 31 4b 48 61 4b 44 42 30 69 2f 49 39 30 47 61 4d 72 55 6d 41 43 49 44 63 45 72 52 55 6e 0a 39 48 4c 66 73 45 55 6f 30 31 70 49 44 70 76 31 37 49 68 6f 43 4f 5a 6b 33 69 57 72 34 68 48 36 4a 78 79 30 0a 2d 2d 2d 2d 2d 45 4e 44 20 43 45 52 54 49 46 49 43 41 54 45 2d 2d 2d 2d 2d 0a] cannot be validated. No MSP found able to do that.
peer2.org1.example.com    | Failed verifying message
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*certStore).validateIdentityMsg
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/certstore.go:103
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*certStore).handleMessage
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/certstore.go:75
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handleMessage
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:403
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:330
peer2.org1.example.com    | runtime.goexit
peer2.org1.example.com    |     /opt/go/src/runtime/asm_amd64.s:2361
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*certStore).handleMessage
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/certstore.go:76
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handleMessage
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:403
peer2.org1.example.com    | github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages
peer2.org1.example.com    |     /opt/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:330
peer2.org1.example.com    | runtime.goexit
peer2.org1.example.com    |     /opt/go/src/runtime/asm_amd64.s:2361

{code}


",,akshay.sood,baohua,harsha544,neha.sharma,pankajcheema,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzan:",,,,Unset,Unset,,,,,Unset,,,,,,Unset,,Unset,,(Please add usage information),akshay.sood,baohua,harsha544,neha.sharma,pankajcheema,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/18 5:25 PM;akshay.sood;The issue was fixed after new peer joined the channel. The error messages it was showing were not helpful.;;;","21/Nov/18 2:34 PM;harsha544;Bootstrapping a peer into blockchain-network is job half done, you `have` to ensure peer joins a channel before it can actively participate in further transactions.;;;","24/Jan/19 2:51 PM;baohua;The problem is that suppose some org A and org B joined the channel, when there's a peer belonging to org A that does not join the channel, it cannot verify the msg from peers of org B.

And this will trigger lots of resource waste.

I think it should be OK that for an org, that part of its peers joined a channel. We should reduce the resource waste to handle these unknown certificates.;;;","02/Mar/19 2:32 AM;yacovm;as [~akshay.sood] said:
""The issue was fixed after new peer joined the channel.""

This works as expected.;;;",,,,,,,,,,,,,,,,,,,,,
"Building windows binary is failing on ""make dist-all""",FAB-12907,35431,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,skarim,rameshthoomu,rameshthoomu,17/Nov/18 1:46 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Nov/18 5:51 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"Building windows binary is failing on make dist-all. Below is the error log.

Failing *Consistently* on *master* branch. This is issue is caused with this patch https://gerrit.hyperledger.org/r/#/c/27452/
{code:java}
/fabric/common/metadata.BaseDockerNamespace=hyperledger"" github.com/hyperledger/fabric/peer
19:41:17 # github.com/hyperledger/fabric/peer/node
19:41:17 peer/node/start.go:382:3: undefined: syscall.SIGUSR1
19:41:17 Makefile:372: recipe for target 'release/windows-amd64/bin/peer' failed
19:41:17 make: *** [release/windows-amd64/bin/peer] Error 2
19:41:17 ----------> make dist-all failed{code}
[https://github.com/hyperledger/fabric/blob/master/peer/node/start.go#L382]",,rameshthoomu,sambhavdutt,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzav:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 11:35 PM;sambhavdutt;[~skarim]

All the fabric build jobs still fail as the `dist-all` fails to build the windows binary.  Can you take a look at this

*Latest Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-x86_64/201/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-master-x86_64/201/


;;;","20/Nov/18 2:32 AM;skarim;https://gerrit.hyperledger.org/r/c/27647/;;;",,,,,,,,,,,,,,,,,,,,,,,
Add health check for CouchDB,FAB-12908,35432,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,mastersingh24,mastersingh24,17/Nov/18 8:31 PM,16/Jan/19 11:43 PM,28/Oct/23 3:04 AM,16/Jan/19 12:57 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,operations,,,Check that the peer can communicate with the configured CouchDB,,mastersingh24,skarim,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzzq7s:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,skarim,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Dec/18 11:25 PM;skarim;https://gerrit.hyperledger.org/r/c/28132/;;;","15/Jan/19 7:49 PM;mastersingh24;cherry picked to 1.4:  https://gerrit.hyperledger.org/r/28729;;;",,,,,,,,,,,,,,,,,,,,,,,
Add health check for gRPC endpoints,FAB-12909,35433,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,17/Nov/18 8:31 PM,23/Feb/19 6:18 PM,28/Oct/23 3:04 AM,23/Feb/19 6:18 PM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,,,mastersingh24,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzzzbb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jan/19 5:23 AM;mastersingh24;[https://gerrit.hyperledger.org/r/28431]  - master

will backport as well;;;","10/Jan/19 3:48 AM;sykesm;[~mastersingh24] - are you going to do the work to wire this in as well?;;;",,,,,,,,,,,,,,,,,,,,,,,
Document that node and java chaincode installation takes absolute path,FAB-12910,35434,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Nov/18 8:14 AM,18/Nov/18 11:02 PM,28/Oct/23 3:04 AM,18/Nov/18 11:02 PM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,Document that node and java chaincode installation takes absolute path,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzbj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/18 9:56 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27626/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Developing Applications topic: Tutorial fixes,FAB-12911,35435,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Nov/18 10:12 PM,20/Nov/18 6:06 PM,28/Oct/23 3:04 AM,20/Nov/18 12:16 PM,,,,,,v1.4.0,,,,,,,,0,,,,Minor tutorial fixes,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzzbr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/18 10:13 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27628/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fix golint issues with consenter.go,FAB-12912,35436,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,C0rWin,C0rWin,C0rWin,18/Nov/18 10:21 PM,03/Dec/18 8:46 PM,28/Oct/23 3:04 AM,03/Dec/18 8:46 PM,v1.4.0,,,,,v1.4.0,,,,fabric-orderer,,,,0,raft,,,"There are few warning/errors reported with golint and static checks:

{quote}
consenter.go:42:6: type name will be used as etcdraft.EtcdRaftConfig by other packages, and that stutters; consider calling this Config

consenter.go:119:16:warning: ineffectual assignment to err (ineffassign)
{quote}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzbz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Nov/18 10:25 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27629/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to write an e2e test for validating and committing atomic swap requests for tokens",FAB-12913,35439,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mathiasb303,mathiasb303,mathiasb303,19/Nov/18 5:35 PM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,"Two clients agree, out of band, on the terms of a swap. Using these terms, both clients first ask their prover peers to create atomic swap token transactions, which they then submit. After both transactions are successfully processed and committed, the tokens are atomically swapped.",,angelo.decaro,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11964,,,No,,Unset,No,,,"1|hzzzcn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 11:05 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27631/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Collections related gosisp metrics,FAB-12914,35440,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,C0rWin,C0rWin,19/Nov/18 6:26 PM,02/Apr/19 5:40 PM,28/Oct/23 3:04 AM,11/Feb/19 5:19 PM,,,,,,,,,,,,,,0,,,,"Expose following metrics related to dissemination of private data:

1. Time to push private data - amount of time it takes for endorsement peer to distribute private data during endorsement

2. Time to pull private data - amount of time it take for peer to pull missing private data",,C0rWin,hagarm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzcv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,hagarm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Jan/19 9:04 PM;hagarm;https://gerrit.hyperledger.org/r/#/c/28938/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Track gossip leader node,FAB-12915,35442,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,C0rWin,C0rWin,19/Nov/18 6:30 PM,02/Apr/19 5:40 PM,28/Oct/23 3:04 AM,11/Feb/19 5:18 PM,,,,,,,,,,,,,,0,,,,"Need to track which peer is currently taken role of the org leader to pull block from the ordering service and also keep count of leadership switches, i.e. how many times org leader has been changed during peer's uptime.",,C0rWin,hagarm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzdb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,hagarm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/18 4:05 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27708/;;;","21/Jan/19 8:40 PM;hagarm;https://gerrit.hyperledger.org/r/#/c/28779/;;;",,,,,,,,,,,,,,,,,,,,,,,
Add gossip metric for block handling path,FAB-12916,35443,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,C0rWin,C0rWin,19/Nov/18 6:33 PM,02/Apr/19 5:40 PM,28/Oct/23 3:04 AM,24/Jan/19 12:42 AM,,,,,,,,,,,,,,0,,,,"While handling new block we would like to expose following metrics:

1. Block validation time
2. Number of blocks if payload buffer
3. Sequence number of last committed block
4. Timestamp of last committed block",,C0rWin,hagarm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzdj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,hagarm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 11:18 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27761/;;;","15/Jan/19 12:34 AM;hagarm;https://gerrit.hyperledger.org/r/#/c/28692/;;;",,,,,,,,,,,,,,,,,,,,,,,
Gossip communication metrics,FAB-12917,35444,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,C0rWin,C0rWin,19/Nov/18 6:34 PM,02/Apr/19 5:40 PM,28/Oct/23 3:04 AM,11/Feb/19 5:18 PM,,,,,,,,,,,,,,0,,,,"
1. Blocks being dropped due to queue overflow",,C0rWin,hagarm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzdr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,hagarm,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 10:09 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/27784/;;;","21/Jan/19 8:39 PM;hagarm;https://gerrit.hyperledger.org/r/#/c/28784/;;;",,,,,,,,,,,,,,,,,,,,,,,
Channel membership,FAB-12918,35445,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,C0rWin,C0rWin,19/Nov/18 6:35 PM,02/Apr/19 5:40 PM,28/Oct/23 3:04 AM,14/Feb/19 7:27 PM,,,,,,,,,,,,,,0,,,,"We need to track metrics related to the gossip membership changes, i.e. nodes learned/added, nodes removed and etc...",,C0rWin,hagarm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzdz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,hagarm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 11:01 PM;yacovm;I think that reporting the number of peers that became online, and the number of peers that became offline, and the number of total peers known currently (all 3 metrics via gauges) is a good enough solution.

;;;","28/Nov/18 8:53 AM;yacovm;More specifically:
# Add a function *ReportMetrics(eventName string, count int)* to the [Adapter|https://github.com/hyperledger/fabric/blob/release-1.3/gossip/gossip/channel/channel.go#L94-L127] interface, that is invoked with:
## ""peers_went_online""
## ""peers_went_offline""
## ""total_peers_known""
# Implement the method in the [adapter implementation|https://github.com/hyperledger/fabric/blob/release-1.3/gossip/gossip/chanstate.go#L117-L188] that works in a similar fashion to the [election adapter implementation|https://gerrit.hyperledger.org/r/#/c/27708/15/gossip/election/adapter.go@96]. 
	

Of course, if someone here has a better idea (Artem/Inbar) - please feel free to say so.;;;","21/Jan/19 8:39 PM;hagarm;https://gerrit.hyperledger.org/r/#/c/28851/;;;",,,,,,,,,,,,,,,,,,,,,,
invocation of `SendSubmit` in orderer cluster rpc should be serialized,FAB-12919,35451,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,19/Nov/18 7:02 PM,01/Dec/18 11:49 PM,28/Oct/23 3:04 AM,01/Dec/18 11:49 PM,,,,,,,,,,fabric-orderer,,,,0,,,,"gRPC is not thread-safe, however {{Submit}} is potentially [accessed in parallel|https://github.com/hyperledger/fabric/blob/068b0e96ec94342e30ac02ba38b8072f14bdde89/orderer/consensus/etcdraft/chain.go#L305]. Therefore, we should have a mutex to protect the access, until it's done within RPC",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzze7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 12:53 AM;guoger;https://gerrit.hyperledger.org/r/27843;;;",,,,,,,,,,,,,,,,,,,,,,,,
The fabric fails to clone in the s390x platform resulting in consistent job fails,FAB-12921,35454,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dthom,sambhavdutt,sambhavdutt,19/Nov/18 10:03 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,30/Nov/18 1:28 PM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,v1.4.0,,,,,fabric-ci,,,,0,ci-failure,,,"The fabric jobs have been failing *Consistently* as the fabric repo origin could not be cloned in the s390x platform, Observed the below errors.


{code:java}
18:10:01 Cloning the remote Git repository
18:10:01 Cloning repository git://cloud.hyperledger.org/mirror/fabric.git
18:10:01  > git init /w/workspace/fabric-end-2-end-daily-release-1.3-s390x/gopath/src/github.com/hyperledger/fabric # timeout=10
18:10:01 Fetching upstream changes from git://cloud.hyperledger.org/mirror/fabric.git
18:10:01  > git --version # timeout=10
18:10:01 using GIT_SSH to set credentials Gerrit Checkout
18:10:01  > git fetch --tags --progress git://cloud.hyperledger.org/mirror/fabric.git +refs/heads/*:refs/remotes/origin/*
18:10:11 ERROR: Error cloning remote repo 'origin'
18:10:11 hudson.plugins.git.GitException: Command ""git fetch --tags --progress git://cloud.hyperledger.org/mirror/fabric.git +refs/heads/*:refs/remotes/origin/*"" returned status code 128:
{code}



*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-end-2-end-daily-master-s390x/214/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-s390x/214/
",,denyeart,harrijk,mbwhite,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12927,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzen:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,harrijk,mbwhite,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Nov/18 11:11 PM;holocron;Why's this assigned to me?;;;","20/Nov/18 3:40 AM;rameshthoomu;[~holocron] ignore this..Re-assinged to the right person.. ;;;","20/Nov/18 11:58 PM;mbwhite;Also a problem in the chaincode-node builds;;;","30/Nov/18 1:28 PM;rameshthoomu;This has been fixed recently. We are still not sure why s390x builds are unable to clone git://cloud.hyperledger.org/mirror/fabric.git

but with a work around we have fixed this by cloing fabric from github.com/hyperledger/fabric url with depth=1. Closing this issue for now.;;;",,,,,,,,,,,,,,,,,,,,,
filter stale private: optimisation,FAB-12922,35455,,Task,To Do,FAB,Fabric,software,denyeart,,,Medium,,,Senthil1,Senthil1,19/Nov/18 10:15 PM,08/Jan/20 1:34 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,0,,,,"Currently, to filter the stale missing pvtData, we use the hashedData and perform certain comparison using version and hashedValue. Ideally, we need to perform the privatedata version check first because it gives us a tighter condition than a loose one performed currently. As we back-fill missing data in the reverse order of the block numbers, pvtdata version check is expected to filter out much more stale entries. In fact, we would expect very few entries to be marked stale with the upper if-check.

Proposed Approach: 
 First, we need to check against version of pvtdata. In second round, for the remaining keys, using hashed version and third for the still remaining keys against hashed values. In each phase we would require performing bulkload of relevant data. 

The cost would be dependent on many factors: (a) size of the actual pvtData, (b) append only, (c) append + update, (d) update only
 # *size of the actual pvtData*: In the hashed value, we only store 32 bytes data. If the actual pvtData size is larger than 32 bytes, we might be loading more data during the bulk load of pvtData as compared to only hashedData.
 # *append only*: We might find no entries in the pvtstate for most of the time. Less cost lookup would be performed on the stateDB first followed by loading hashedData.
 # *append + update*: We might only find some entries in the pvtstate. Hence, we need to load both pvtData and hashedData (mostly for append only).
 # *update only*: most of the pvtData passed to the stateDB would be stale. load pvtData first – if passed version < committed version, filter the slate entry. if passed version > committed version, load hashedData and compare.

Say that we load only hashedData and compare (current approach): cost associated are
(1) loading of 64 bytes (hashedKey, hashedValue)
 (2) hash computation of passed pvtData (is cost proportional to the data size?)
 (3) comparison of 32 bytes
 – this approach is suitable when the pvtData size is larger and append only (not sure about the size though). Further, this would add less complex code.

Loading pvtData first is suitable when the pvtData size is smaller and update heavy.

As we all do these activities within an exclusive lock duration, we need to perform certain experiments before deciding on an approach.",,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzzzev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/18 12:28 AM;manish-sethi;For additional details see - https://gerrit.hyperledger.org/r/#/c/27580/6/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/lockbased_txmgr.go@303;;;",,,,,,,,,,,,,,,,,,,,,,,,
etcd/raft UT failure on ppc64le,FAB-12923,35460,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,harsha544,harsha544,19/Nov/18 10:56 PM,22/Jan/19 5:37 PM,28/Oct/23 3:04 AM,22/Jan/19 5:37 PM,v1.4.0,,,,,,,,,fabric-orderer,,,,0,raft,,,"•••••

2018-11-19 11:59:00.599 UTC [test] ReceiverByChain -> WARN 013 Chain notraftchain is of type *multichannel.ChainSupport and not etcdraft.Chain
•2018-11-19 11:59:00.601 UTC [test] ReceiverByChain -> PANI 014 Programming error - Chain badChainObject is nil although it exists in the mapping
•2018-11-19 11:59:00.603 UTC [test] Restore -> INFO 015 No WAL data found, creating new WAL at path '/tmp/wal-963070527' \{""channel"": """", ""node"": 1}
2018-11-19 11:59:00.878 UTC [test] Start -> INFO 016 Starting Raft node \{""channel"": """", ""node"": 1}
2018-11-19 11:59:00.879 UTC [test] Start -> INFO 017 starting new raft node 1 \{""channel"": """", ""node"": 1}
2018-11-19 11:59:00.879 UTC [test] becomeFollower -> INFO 018 1 became follower at term 0 \{""channel"": """", ""node"": 1}
2018-11-19 11:59:00.879 UTC [test] newRaft -> INFO 019 newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0] \{""channel"": """", ""node"": 1}
2018-11-19 11:59:00.879 UTC [test] becomeFollower -> INFO 01a 1 became follower at term 1 \{""channel"": """", ""node"": 1}
•2018-11-19 11:59:00.879 UTC [test] detectSelfID -> ERRO 01b Could not find cert.orderer0.org0 among [cert.orderer1.org1]
•••

Summarizing 1 Failure:

[Fail] Chain Single Raft node when Raft leader is elected [JustBeforeEach] produces blocks following batch rules 
/w/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:150

Ran 46 of 46 Specs in 104.155 seconds
FAIL! -- 45 Passed | 1 Failed | 0 Pending | 0 Skipped
--- FAIL: TestEtcdraft (104.16s)
FAIL
coverage: 85.4% of statements
{color:#de350b}FAIL github.com/hyperledger/fabric/orderer/consensus/etcdraft 106.377s{color}",,guoger,harsha544,kchristidis,rameshthoomu,SriramaSharma,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Nov/18 10:56 PM;harsha544;test.log;https://jira.hyperledger.org/secure/attachment/16279/test.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzfj:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,harsha544,kchristidis,rameshthoomu,SriramaSharma,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/18 3:42 AM;rameshthoomu;[~harsha544] Assign this to the fabric developers. Nothing I can do here with fabric-ci.;;;","20/Nov/18 2:51 PM;harsha544;[~rameshthoomu] Apologies, the Jira item auto picked up your name, have changed the required.;;;","21/Nov/18 10:20 AM;yacovm;[~kchristidis];;;","28/Nov/18 11:52 AM;guoger;worked with [~harsha544] a bit, although failed to reproduce the issue. I suggest we leave it unverified for now.;;;","22/Jan/19 5:37 PM;harsha544;Closing this Bug, as mentioned behavior is no longer seen. In case this comes up again, will open a new one.;;;",,,,,,,,,,,,,,,,,,,,
Drop pvtdatastore while reconstructing state and block store,FAB-12924,35461,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,19/Nov/18 11:41 PM,21/Jun/19 4:15 PM,28/Oct/23 3:04 AM,21/Jun/19 4:15 PM,,,,,,,,,,,,,,0,,,,"If a state fork occurs during a regular block commit, we have a mechanism to drop all blocks followed by refetching of blocks and re-processing them. In the current way of doing this, we only drop the block files (and related artifacts) but we do not drop/overwrite the pvtdatastorage - because the assumption so far was to store full data (for valid and invalid transactions).

Now, we will have to allow dropping of pvtdatastorage as well. However, the issue is that its shared across channels (unlike block files).

The side effect of not dropping pvtdatastorage is that we may actually have some missing data entries sitting in the pvtdatastore for the invalid transactions which break our goal of storing only the pvtdata of valid tx. We might also miss pvtData of a valid transaction. Note that the RemoveStaleAndCommitPvtDataOfOldBlocks() in txmgr expects only valid transactions. Hence, it is necessary to rebuild pvtdatastore along with the blockstore to keep only valid tx data in the pvtdatastore. 

 ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzfr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Commercial Paper Updates,FAB-12925,35463,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,odowdaibm,odowdaibm,odowdaibm,20/Nov/18 12:01 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,v1.4.0,,,,,v2.0.0,,,,fabric-samples,,,,0,stale-item,,,,,isaacwch,odowdaibm,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzzfz:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),isaacwch,odowdaibm,SjirNijssen,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Nov/18 12:04 AM;odowdaibm;[~rthatcher] [~SjirNijssen] [~isaacwch] [~andrew-coleman]

 

Hi Guys,

 Placeholder for fabric samples improvements
 * Add REST support
 * Add smart contract ownership checks
 * Minor tweaks from previous final reviews
 * Clarify use of PaperList from David Enyeart comments
 * npm install of paper and paperlist classes.
 * Use Rob Thatcher PaperNet configuration enhancements, as they become available.
 * Add sample connection profile for doc corresponding topic
 * Make DigiBank install smart contract
 * Update ordering orgs
 * Update smart contract orgs

 ;;;","23/Nov/18 3:27 PM;odowdaibm;[~Yogendrasri] [~shakti.pallai] [~carl] Additional suggestions
 * Make multi-user aspect clearer in CP tutorial;;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,
Validate hash chain when traversing the system chain,FAB-12926,35464,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,20/Nov/18 12:24 AM,06/Dec/18 12:50 AM,28/Oct/23 3:04 AM,06/Dec/18 12:50 AM,,,,,,,,,,,,,,0,,,,"We need to validate the hash chain (backward hash pointers) when iterating over the system channel when inspecting the channels that exist.
Even though the block puller that fetches the channels validates the hash chain in batches, it doesn't verify the hash pointers between the batches themselves.

Since the onboarding puller (unlike the etcdraft one) is equipped with a no-op signature validator and relies on the validity of the bootstrap block in conjunction with the integrity of the pulled hash chain, it doesn't verify the signature of the last block of a pulled batch, thus we need to add this check into the code of the ChainInspector",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzg7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 8:26 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27659/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Connection reset failure on cloning fabric repository on s390x platform,FAB-12927,35465,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,vijaypunugubati,vijaypunugubati,20/Nov/18 12:34 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Nov/18 12:56 AM,v1.4.0,,,,,v1.4.0,,,,fabric-peer,,,,0,ci-failure,,,"Connection reset failure while cloning fabric repository fails the fabric chaincode-node verify and merge on s390x platform.
{code:java}
/10:05:21 + git clone --single-branch -b master git://cloud.hyperledger.org/mirror/fabric-chaincode-node
10:05:21 Cloning into 'fabric-chaincode-node'...
10:05:22 + git clone --single-branch -b master git://cloud.hyperledger.org/mirror/fabric
10:05:22 Cloning into 'fabric'...
10:05:35 fatal: read error: Connection reset by peer
10:05:35 fatal: early EOF
10:05:35 fatal: index-pack failed/ code placeholder
{code}
Build log:

[https://jenkins.hyperledger.org/view/fabric-chaincode-node/job/fabric-chaincode-node-verify-s390x/37/console]

[https://jenkins.hyperledger.org/view/fabric-chaincode-node/job/fabric-chaincode-node-merge-s390x/8/console]

 ",,mbwhite,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12921,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzgf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE [Enhancement]:  Add failure threshold and abort when failure threshold is exceeded,FAB-12928,35466,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,nileshdeotale,nileshdeotale,20/Nov/18 12:39 AM,24/Jan/20 4:44 AM,28/Oct/23 3:04 AM,24/Jan/20 4:44 AM,,,,,,,,,,fabric-quality,,,,0,,,,"Currently PTE keeps running even if transactions fail due to underlying Fabric bug or due to any server side environment issue. There is no value in continuing the run when failures occur. Instead, it will help aborting the test and sending failure report to tester so a bug can be filed sooner than later.
 # Add parameter for failure threshold. This could either be % failures or absolute threshold count for # of failed transactions. 
 2. Check failure threshold value and abort test when threshold is crossed i.e. failure count > threshold.
 3. Save logs. This should include test client CPU, memory, disk and block chain network - peer, order and CA container - CPU, memory, disk utilization when threshold is crossed. test client stats required so we can isolate if it's client side issue or network side issue.
 4. Generate report to show total transactions, total successful transaction, total failed transactions, test name, network id (applicable for IBP), type of network (IBP - starter, EP. or simple non-IBP, if it can be determined).

 

At a more basic level, pte should abort when return non-zero exit codes for each step failure (e.g. instantiation).

 

Related: add option to operator/testInput to allow testers to specify threshhold.",,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-2247,,,No,,Unset,No,,,"1|hzwqrk:5iwr6k",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Jan/20 4:44 AM;scottz;Many variations of possible usecases requirements. Savings expected to be minimal, and not worth the code complications.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments on the prover server and the related protos,FAB-12929,35467,36747,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,KaoutarEL,KaoutarEL,KaoutarEL,20/Nov/18 1:03 AM,26/Feb/19 6:37 PM,28/Oct/23 3:04 AM,26/Feb/19 6:37 PM,,,,,,,,,,,,,,0,fabtoken,,,see comments in https://gerrit.hyperledger.org/r/#/c/27227/,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzgv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:39 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27660/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments on the tms transactor,FAB-12930,35468,36747,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,KaoutarEL,KaoutarEL,KaoutarEL,20/Nov/18 1:05 AM,26/Feb/19 6:42 PM,28/Oct/23 3:04 AM,26/Feb/19 6:42 PM,,,,,,,,,,,,,,0,fabtoken,,,comments in https://gerrit.hyperledger.org/r/#/c/27227/,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzh3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 11:37 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/27667/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments on the tms verifier ,FAB-12931,35469,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mathiasb303,KaoutarEL,KaoutarEL,20/Nov/18 1:05 AM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,comments in https://gerrit.hyperledger.org/r/#/c/27227/,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13209,,,No,,Unset,No,,,"1|hzzzhb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
FabToken: cleanup server prover_test.go to remove duplication of vars/setup,FAB-12932,35470,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wenjian,wenjian,20/Nov/18 1:54 AM,13/Jan/20 11:44 PM,28/Oct/23 3:04 AM,13/Jan/20 11:44 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,There is a lot of duplication of vars and setup in token/server/prover_test.go. Need to cleanup/refactor the tests to remove the duplication. ,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzhj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a developer, I want to be able to suppress grpc logging for some of my services",FAB-12933,35471,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Nov/18 2:23 AM,28/Nov/18 3:02 AM,28/Oct/23 3:04 AM,28/Nov/18 3:02 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzhr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 2:24 AM;sykesm;https://gerrit.hyperledger.org/r/27646;;;","22/Nov/18 10:27 AM;sykesm;https://gerrit.hyperledger.org/r/27700 Allow custom levelers for grpc interceptors;;;",,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Connection Profile topic,FAB-12934,35473,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,20/Nov/18 2:50 AM,19/Dec/18 3:16 AM,28/Oct/23 3:04 AM,12/Dec/18 2:53 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,Add a topic on connection profile,,isaacwch,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|hzzzin:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),isaacwch,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 2:52 AM;odowdaibm;[~SjirNijssen] [~isaacwch] [~EdProsser] [~andrew-coleman]

Heads up on new Connection Profile topic. Hope to have first pass soon to complement Gateway topic and connection options topic.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, CouchDB baseline, no private data",FAB-12935,35474,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,20/Nov/18 3:16 AM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 
Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *CouchDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig :  *None; no private data*
*  Endorsement policy: 1 peer from two Orgs
*  Client Driver: PTE, node SDK
*  Number of threads (NT): 4
*  Number of transactions per thread (TPT): 1000
*  Number of transactions Total (TT): 4000
 
+*Test Steps:*+
 1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""put"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
 2) normal queries: each thread sends #TPT queries concurrently using ""get"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when applicable, orderers, kafka)
 4) Compare against SideDB Performance LevelDB Baseline and against other SideDB CouchDB performance tests (linked)


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12741,FAB-12742,FAB-12743,FAB-12936,FAB-12937,FAB-12938,,,,,,,,,FAB-12740,FAB-12995,FAB-12262,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzziv:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, CouchDB private data PULL",FAB-12936,35475,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,20/Nov/18 3:17 AM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 
*  Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *CouchDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig for *100% PULL* 
* --  Define 1 private data collection, with 4 orgs as members (all except org5)
* --  *requiredPeerCount:  0*
* --  *maxPeerCount:  0*
* --  blockToLive:  0
* --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

*  Client Driver:  PTE, node SDK
*  Number of threads (NT):  4
*  Number of transactions per thread (TPT):  1000
*  Number of transactions Total (TT):  4000
 
+*Test Steps:*+
 1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*puPrivt*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
 2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance CouchDB Baseline FAB-12935


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13186,,,,,,,,,,,,,,,,FAB-12742,FAB-12743,FAB-12937,FAB-12938,FAB-12741,FAB-16074,,,,,,,,,FAB-12740,FAB-12935,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzzj3:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, CouchDB private data PUSH",FAB-12937,35476,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,20/Nov/18 3:17 AM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 

*  Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *CouchDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
*  Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
*  CollectionConfig for *100% PUSH*:
*   --  Define 1 private data collection, with 4 orgs as members (all except org5)
*   --  *requiredPeerCount:  7*
*   --  *maxPeerCount:  7*
*   --  blockToLive:  0
*   --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

*  Client Driver:  PTE, node SDK
*  Number of threads (NT):  4
*  Number of transactions per thread (TPT):  1000
*  Number of transactions Total (TT):  4000
 
+*Test Steps:*+

1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*putPriv*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2

2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API
 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance CouchDB Baseline and CouchDB PULL


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.
",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13186,,,,,,,,,,,,,,,,FAB-12743,FAB-12938,FAB-16074,,,,,,,,,,,,FAB-12740,FAB-12741,FAB-12935,FAB-12936,FAB-12742,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzzjb:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB Performance, CouchDB private data PUSH without wait",FAB-12938,35477,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,20/Nov/18 3:17 AM,01/Aug/19 11:02 AM,28/Oct/23 3:04 AM,01/Aug/19 11:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,help-wanted,SystemTestcase,,"+*Setup:*+ 

* * Network Topology: 1 channel, 5 orgs, 2 peers per org, 1 CA per org, *CouchDB*, 3 orderers, 5 kafka, 3 zookeepers, TLS enabled, running in IKS cloud
* Chaincode: ""getputcc"" GO chaincode installed on all peers and instantiated
* CollectionConfig for *100% PUSH but none required, so no waiting; should be fastest option*:
*   --  Define 1 private data collection, with 4 orgs as members (all except org5)
*   --  *requiredPeerCount:  0*
*   --  *maxPeerCount:  7*
*   --  blockToLive:  0
*   --  Private Data Collection Endorsement Policy:  1 peer from two Orgs in the collection

* Client Driver:  PTE, node SDK
* Number of threads (NT):  4
* Number of transactions per thread (TPT):  1000
* Number of transactions Total (TT):  4000


+*Test Steps:*+

1) invoke transactions: each thread sends #TPT queries concurrently on channel1 using ""*putPriv*"" API of getputcc chaincode to define new keys values
* thread 1 sends to org1 peer1 and org2 peer1
* thread 2 sends to org1 peer2 and org2 peer2
* thread 3 sends to org3 peer1 on org4 peer1
* thread 4 sends to org3 peer2 on org4 peer2
 
2) normal queries: each thread sends #TPT queries concurrently using ""*getPriv*"" API

 
+*Analyze Results*+:
 1) TPS (transactions per second) for invokes(move), measured from proposal to event
 2) TPS (transactions per second) for queries, measured from query proposal to response
 3) CPU and memory usage for all containers (peers, cc, couchdb when used, orderers, kafka, etc)
 4) Compare against SideDB Performance CouchDB Baseline and CouchDB PULL and CouchDB PUSH


+*Wish List To Do*+:  Scale up this test, using multiples of threads 4, 8, 12, 16, ... until throughput peaks. Consider adding more PTE drivers instead of just more threads, if the bottleneck is the PTE container.",,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13186,,,,,,,,,,,,,,,,FAB-16074,,,,,,,,,,,,,,FAB-12740,FAB-12741,FAB-12742,FAB-12935,FAB-12936,FAB-12937,FAB-12743,FAB-12995,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10083,,,Manual,,,,,,"1|hzzzjj:",,,,,,,,,,,,,,,,Pass,All sidedb tests with different configurations were performed and passed in earlier release. Only a few will be automated and incorporated into the system test suite. Refer to FAB-16074.,System Test,,,rlalgowdar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change handleRequest signature to accept more parameters,FAB-12939,35478,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,20/Nov/18 3:50 AM,06/Dec/18 11:51 PM,28/Oct/23 3:04 AM,06/Dec/18 11:51 PM,,,,,,v1.4.0,,,,,,,,0,,,,"Update handleRequest signature to allow for passing in database name, query parameters, and path elements. The construction of the request URL should happen inside handleRequest rather than depending on the caller to construct the URL.

This is going to be useful when implementing the metrics, as it will allow us to get the database name directly.",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzjr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 3:54 AM;skarim;https://gerrit.hyperledger.org/r/27648;;;",,,,,,,,,,,,,,,,,,,,,,,,
Cleanup orderer broadcast tests,FAB-12940,35481,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,20/Nov/18 5:04 AM,24/Nov/18 9:13 PM,28/Oct/23 3:04 AM,24/Nov/18 9:13 PM,,,,,,v1.4.0,,,,fabric-orderer,,,,0,hygiene,,,The orderer broadcast tests currently execute via bespoke mocks and cumbersome setup/teardown.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzk7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Make prometheus the default metrics provider in the integration tests,FAB-12941,35482,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Nov/18 5:49 AM,01/Dec/18 2:14 AM,28/Oct/23 3:04 AM,01/Dec/18 2:14 AM,,,,,,,,,,,,,,0,,,,This will help catch duplicate meter registrations,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzkf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 5:51 AM;sykesm;https://gerrit.hyperledger.org/r/27650;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As an operator, when I've enabled formatted logging, I would like to see context structured as logfmt when appropriate",FAB-12942,35483,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Nov/18 5:55 AM,22/Feb/19 5:09 AM,28/Oct/23 3:04 AM,22/Feb/19 5:09 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,ipm-planned,operations,Serviceability,"The zap console encoder uses JSON to represent the key/value pairs in logging context. While this usually works, most humans expect to see a logfmt style encoding of key=value.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzq7w:i",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Feb/19 12:39 AM;sykesm;Waiting for review of cherry-pick to 1.4: https://gerrit.hyperledger.org/r/c/29123/;;;",,,,,,,,,,,,,,,,,,,,,,,,
flaky test discovery/client/signer_test.og,FAB-12943,35484,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,skarim,skarim,20/Nov/18 6:35 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"{code:java}
21:06:00 2018-11-19 21:05:10.208 UTC [discovery] chaincodeQuery -> ERRO 002 Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination
21:06:00 --- FAIL: TestDifferentMessages (0.00s)
21:06:00     <autogenerated>:1: 
21:06:00         	Error Trace:	signer_test.go:79
21:06:00         	Error:      	Should be true
21:06:00         	Test:       	TestDifferentMessages
21:06:00 FAIL
21:06:00 coverage: 92.9% of statements
21:06:00 FAIL	github.com/hyperledger/fabric/discovery/client	0.713s
 {code}",,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzkv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Panic if pulling system chain as part of onboarding fails,FAB-12944,35485,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,20/Nov/18 7:11 AM,05/Dec/18 2:55 AM,28/Oct/23 3:04 AM,05/Dec/18 2:55 AM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzl3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 7:42 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27658/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add tests to cover nodes removal,FAB-12945,35487,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,20/Nov/18 9:38 AM,01/Mar/19 2:38 PM,28/Oct/23 3:04 AM,12/Dec/18 7:19 AM,,,,,,,,,,fabric-orderer,,,,0,,,,To expand on reconfiguration failover there are unit-test to be added which expected to cover the cases of node removal in particular removal of the leader node to test correct failover.,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzlj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 9:41 AM;C0rWin;https://gerrit.hyperledger.org/r/27656;;;",,,,,,,,,,,,,,,,,,,,,,,,
vm endpoint for non-docker configuration,FAB-12946,35488,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,pyraman,pyraman,20/Nov/18 1:13 PM,20/Sep/19 7:41 PM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-peer,,,,0,,,,"as mentioned in sample config - core.yaml.
###############################################################################
#
# VM section
#
###############################################################################
vm:

# *Endpoint of the vm management system. For docker can be one of the following in general*
# unix:///var/run/docker.sock
# http://localhost:2375
#[https://localhost:2376|https://localhost:2376/]
 
I wonder what are the options for non-docker configurations? We need to clarify further for this segment of configuration.
 ",,mastersingh24,pyraman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzlr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,pyraman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Sep/19 7:41 PM;mastersingh24;only Docker is currently supported;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Document gossip bootstrap, endpoint, and externalEndpoint",FAB-12947,35489,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,denyeart,denyeart,20/Nov/18 1:52 PM,09/Dec/18 2:08 AM,28/Oct/23 3:04 AM,09/Dec/18 2:08 AM,,,,,,v1.4.0,,,,fabric-gossip,,,,0,,,,"The gossip doc topic describes anchor peers, but not the related configuration around gossip bootstrap, endpoint, and externalEndpoint. There is a good answer in stackoverlow that needs to be merged into readthedocs:

[https://stackoverflow.com/questions/51377474/hyperledger-fabric-gossip-bootstrap-gossip-externalendpoints]",,denyeart,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12177,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|hzzzlz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Nov/18 1:55 PM;denyeart;[~C0rWin] [~yacovm] FYI, if possible in v1.4 timeframe...;;;","29/Nov/18 3:40 AM;denyeart;[~joe-alewine] [~pandrejko] FYI;;;","29/Nov/18 8:02 AM;joe-alewine;I'll take this one.;;;","29/Nov/18 11:21 PM;joe-alewine;[https://gerrit.hyperledger.org/r/c/27810/2];;;","30/Nov/18 6:02 AM;joe-alewine;[https://gerrit.hyperledger.org/r/c/27810/2];;;","03/Dec/18 3:18 PM;denyeart;I added some more comments to https://gerrit.hyperledger.org/r/#/c/27810/ that can be addressed in a subsequent CR.;;;","04/Dec/18 5:12 AM;joe-alewine;New CR: [https://gerrit.hyperledger.org/r/c/27892/]

 ;;;",,,,,,,,,,,,,,,,,,
Address comments for token e2e tests,FAB-12948,35496,35190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,20/Nov/18 11:20 PM,12/Mar/19 12:04 PM,28/Oct/23 3:04 AM,12/Mar/19 12:04 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,"Use this task to address code review comments for token e2e tests in [https://gerrit.hyperledger.org/r/#/c/27227/.] 

Original CR for token e2e tests: https://gerrit.hyperledger.org/r/#/c/26461/

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzznb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/18 5:35 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27664/]

 ;;;","12/Mar/19 12:04 PM;wenjian;Fixed by CR [https://gerrit.hyperledger.org/r/#/c/29458/];;;",,,,,,,,,,,,,,,,,,,,,,,
Restarted Raft cluster should be able to finish reconfiguration,FAB-12949,35498,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,C0rWin,C0rWin,21/Nov/18 12:08 AM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,12/Dec/18 7:19 AM,,,,,,,,,,,,,,0,,,,"Currently reconfiguration of Raft ordering service of type B, capable to handle {{failover}} as long as quorum is alive. Newly elected leader will take care of continuing to propose changes

{code}
			if rd.SoftState != nil {
				newLead := atomic.LoadUint64(&rd.SoftState.Lead)
				lead := atomic.LoadUint64(&c.leader)
				if newLead != lead {
					c.logger.Infof(""Raft leader changed: %d -> %d"", lead, newLead)
					atomic.StoreUint64(&c.leader, newLead)

					if lead == c.raftID {
						c.resignC <- struct{}{}
					}

					// becoming a leader and configuration change is in progress
					if newLead == c.raftID && c.configChangeInProgress {
						// need to read recent config updates of replica set
						// and finish reconfiguration
						c.handleReconfigurationFailover()
					}

					// notify external observer
					select {
					case c.observeC <- newLead:
					default:
					}
				}
			}
{code}


However if cluster has been restarted right after configuration block of type B committed, but before Raft config proposed, during the restart Raft nodes has to take care to complete second phase of reconfiguration, i.e. propose Raft configuration changes to the replica set.

During the bootstrap, nodes need to check whenever recently committed block is configuration and whenever there is a difference between Raft membership mapping persisted in block metadata differs from Raft cluster configuration. If there is such difference leader has to complete reconfiguration by proposing the change.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzznj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 8:28 PM;C0rWin;https://gerrit.hyperledger.org/r/27773;;;",,,,,,,,,,,,,,,,,,,,,,,,
refactor lockbased_txmgr.go,FAB-12950,35500,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,Senthil1,Senthil1,21/Nov/18 12:43 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,19/Dec/18 1:01 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Currently, lockbased_txmgr contains both the commit of blocks and the commit of oldPvtData. For better readability, it would be better to move old pvtdata handling code to a new file named old_pvtdata.go. Similar refactoring has to be done for the txmgr_test.go as well/ ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13354,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
store the next blocknum to be committed in txmgr struct,FAB-12951,35501,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,21/Nov/18 3:13 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,28/Nov/18 12:01 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:1",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Ensure grpc payload logging is not enabled when the log spec is debug,FAB-12952,35502,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,21/Nov/18 3:40 AM,28/Nov/18 3:02 AM,28/Oct/23 3:04 AM,28/Nov/18 3:02 AM,v1.4.0,,,,,,,,,,,,,0,,,,"Payload logging is very, very verbose. While we want a way to turn on it in the rare cases it is needed, given the amount of stuff we have at the debug level, it's not really feasible to use that level for payload as well.

One way to address this is to use use a custom log level for payload.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzof:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 10:27 AM;sykesm;https://gerrit.hyperledger.org/r/27700 Allow custom levelers for grpc interceptors;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Prevent verbose error reporting for ""context canceled"" errors in grpc interceptors",FAB-12953,35503,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,21/Nov/18 3:43 AM,28/Nov/18 3:02 AM,28/Oct/23 3:04 AM,28/Nov/18 3:02 AM,,,,,,,,,,,,,,0,,,,"We want the grpc logging interceptors to log at the completion of a request but I'm finding that we have a lot of code that does not properly shutdown and terminate streaming calls before just disappearing.

When a client disappears, the context associated with the client is canceled and the logging interceptors report it with a full stack trace. While the error is okay, the stack trace is simply too verbose.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzon:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Nov/18 11:22 PM;sykesm;https://gerrit.hyperledger.org/r/27707 Prevent verbose error reporting from grpc logging;;;",,,,,,,,,,,,,,,,,,,,,,,,
Give some love to the docker controller and make it a bit more idiomatic,FAB-12955,35507,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,21/Nov/18 4:56 AM,27/Nov/18 12:47 AM,28/Oct/23 3:04 AM,27/Nov/18 12:47 AM,,,,,,,,,,,,,,0,,,,There are some easy wins like extracting the container attach processing to a separate method and using a switch instead of a pile of nested if/else statements.,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzpj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Nov/18 6:27 AM;sykesm;https://gerrit.hyperledger.org/r/27683 [FAB-12955] move build time observation;;;",,,,,,,,,,,,,,,,,,,,,,,,
fix test comments in txmgr_test.go,FAB-12956,35508,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,21/Nov/18 1:06 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,28/Nov/18 1:36 AM,,,,,,v1.4.0,,,,,,,,0,,,,Need to fix certain things in txmgr_test.go as per the comments given in https://gerrit.hyperledger.org/r/c/27584/,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:2",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Implement infrastructure for gossip metrics,FAB-12957,35510,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,yacovm,yacovm,yacovm,21/Nov/18 6:11 PM,11/Feb/19 5:20 PM,28/Oct/23 3:04 AM,11/Feb/19 5:20 PM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzq7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/18 7:54 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27684/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Attach gossip metrics to the peer,FAB-12962,35522,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,yacovm,yacovm,yacovm,21/Nov/18 11:34 PM,11/Feb/19 5:19 PM,28/Oct/23 3:04 AM,11/Feb/19 5:19 PM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzsf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Nov/18 7:53 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27694/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Check token capability when processing token command in prover peer,FAB-12963,35535,33793,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,22/Nov/18 1:07 AM,12/Mar/19 12:01 PM,28/Oct/23 3:04 AM,23/Nov/18 3:42 AM,,,,,,,,,,,,,,0,fabtoken,,,"When Prover grpc service is called, add checking for token capability. If the capability is not enabled for the channel, return an error response.",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzuv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Mar/19 12:01 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/26892/]

 

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
add collelgnotifier to the list of stateUpdates' listener,FAB-12964,35536,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,22/Nov/18 1:31 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,23/Nov/18 5:22 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Currently, collelgnotifier is not added to the list of listener for the state updates. As a result, during collection config update, collection eligible check is not performed to send an event to the pvtdatastorage. Hence, we add collelgnotifier to the list of listener. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:3",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
System chaincode registration instructions not correct,FAB-12965,35537,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,denyeart,denyeart,22/Nov/18 1:50 AM,02/Mar/20 11:31 PM,28/Oct/23 3:04 AM,25/Sep/19 3:32 AM,,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,"System chaincode registration instructions not correct in sampleconfig/core.yaml [https://github.com/hyperledger/fabric/blob/release-1.3/sampleconfig/core.yaml#L561-L584] and in RTD topic: [https://hyperledger-fabric.readthedocs.io/en/release-1.3/systemchaincode.html].

This answer from rocket.chat needs to be incorporated into core.yaml and RTD:

https://chat.hyperledger.org/channel/fabric-chaincode-dev?msg=xBNGeKcoCmGeFSciK",,ChanderGovindarajan,denyeart,joe-alewine,jyellick,muralisr,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13010,,,,,,FAB-13010,FAB-13185,FAB-17564,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzvb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,denyeart,joe-alewine,jyellick,muralisr,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 1:50 PM;ChanderGovindarajan;A follow-up of the discussion in RocketChat: FAB-12975. Just FYI.;;;","06/Dec/18 10:42 PM;pandrejko;[~muralisr] If we plan to get this into 1.4 this needs to complete this week. Otherwise, we will need to move it out. Let us know if there is something we can do to help?;;;","07/Dec/18 1:50 AM;muralisr;[~pandrejko] There are two things to be done to clarify system chaincode usage
 * cleanup core.yaml documentation
 * add a sample (probably under fabric-samples)

The clean up of core.yaml can be done immediately. The sample would probably have to be done post 1.4. I will create tasks and checkin the docfix this week.;;;","07/Dec/18 3:19 AM;muralisr;[~pandrejko] https://jira.hyperledger.org/browse/FAB-13185 (https://gerrit.hyperledger.org/r/#/c/27992/) for the core.yaml fix.

Perhaps we could use this FAB for the static system chaincode + samples post 1.4.0 work ?;;;","25/Sep/19 1:11 AM;jyellick;[~pandrejko] [~muralisr] was there ever a resolution on this one?;;;","25/Sep/19 1:52 AM;pandrejko;[~jyellick] I believe the documentation work on this one is complete. Remaining work would be that second bullet that Murali mentions

- add a sample (probably under fabric-samples);;;","25/Sep/19 3:32 AM;jyellick;Extending Fabric via system chaincodes is something we're moving away from.  If the doc is there, I think we're okay to skip the sample.;;;",,,,,,,,,,,,,,,,,,
Decouple Prover Peer and Ledger Manager,FAB-12966,35538,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,22/Nov/18 3:20 AM,04/Feb/19 10:38 PM,28/Oct/23 3:04 AM,04/Feb/19 10:38 PM,,,,,,,,,,,,,,0,fabtoken,,,"Currently, the Prover Peer constructor (token/server/prover.go) has a direct dependency to the ledger. The goal of this task is to remove it by passing the dependency via the constructor.",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11149,,,No,,Unset,No,,,"1|hzzzvj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Feb/19 4:39 PM;angelo.decaro;https://gerrit.hyperledger.org/r/29097;;;",,,,,,,,,,,,,,,,,,,,,,,,
use proper collectionConfig data in the ledger integration test (kvledger/tests) ,FAB-12967,35539,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,22/Nov/18 3:28 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,23/Nov/18 5:22 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Currently, a local struct is defined for collection config and is used within kvledger/tests/sample_data_helper.go. Hence, not all values are set. This local struct is further converted to the actual collection config struct. So far, it has not created any issues. Now that we compare the existing collection config and new collection config (in kvledger) to send an event to pvtdatastorage on membership change, missing values like membership info creates nil pointer exception. 

However, we need to update the ledger integration test to use the proper collectionConfig struct with all values.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:4",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Bug in plugin validator,FAB-12968,35542,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sehoonyang,sehoonyang,sehoonyang,22/Nov/18 10:58 AM,24/Nov/18 12:35 PM,28/Oct/23 3:04 AM,24/Nov/18 4:42 AM,v1.3.0,,,,,,,,,,,,,0,,,,"There is a bug in core/committer/txvalidator/plugin_validator.go

iterator causes stack overflow  :
 ==========================================

runtime: goroutine stack exceeds 1000000000-byte limit
 fatal error: stack overflow

runtime stack:
 runtime.throw(0x10f06e2, 0xe)
  /opt/go/src/runtime/panic.go:616 +0x81
 runtime.newstack()
  /opt/go/src/runtime/stack.go:1054 +0x71f
 runtime.morestack()
  /opt/go/src/runtime/asm_amd64.s:480 +0x89

goroutine 514 [running]:
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:240 +0x62 fp=0xc443f7c378 sp=0xc443f7c370 pc=0xba9ac2
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c3b0 sp=0xc443f7c378 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c3e8 sp=0xc443f7c3b0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c420 sp=0xc443f7c3e8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c458 sp=0xc443f7c420 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c490 sp=0xc443f7c458 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c4c8 sp=0xc443f7c490 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c500 sp=0xc443f7c4c8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c538 sp=0xc443f7c500 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c570 sp=0xc443f7c538 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c5a8 sp=0xc443f7c570 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c5e0 sp=0xc443f7c5a8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c618 sp=0xc443f7c5e0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c650 sp=0xc443f7c618 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c688 sp=0xc443f7c650 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c6c0 sp=0xc443f7c688 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c6f8 sp=0xc443f7c6c0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c730 sp=0xc443f7c6f8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c768 sp=0xc443f7c730 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c7a0 sp=0xc443f7c768 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c7d8 sp=0xc443f7c7a0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c810 sp=0xc443f7c7d8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c848 sp=0xc443f7c810 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c880 sp=0xc443f7c848 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c8b8 sp=0xc443f7c880 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c8f0 sp=0xc443f7c8b8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c928 sp=0xc443f7c8f0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c960 sp=0xc443f7c928 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c998 sp=0xc443f7c960 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7c9d0 sp=0xc443f7c998 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ca08 sp=0xc443f7c9d0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ca40 sp=0xc443f7ca08 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ca78 sp=0xc443f7ca40 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cab0 sp=0xc443f7ca78 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cae8 sp=0xc443f7cab0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cb20 sp=0xc443f7cae8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cb58 sp=0xc443f7cb20 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cb90 sp=0xc443f7cb58 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cbc8 sp=0xc443f7cb90 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cc00 sp=0xc443f7cbc8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cc38 sp=0xc443f7cc00 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cc70 sp=0xc443f7cc38 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cca8 sp=0xc443f7cc70 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cce0 sp=0xc443f7cca8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cd18 sp=0xc443f7cce0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cd50 sp=0xc443f7cd18 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cd88 sp=0xc443f7cd50 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cdc0 sp=0xc443f7cd88 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cdf8 sp=0xc443f7cdc0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ce30 sp=0xc443f7cdf8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ce68 sp=0xc443f7ce30 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cea0 sp=0xc443f7ce68 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7ced8 sp=0xc443f7cea0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cf10 sp=0xc443f7ced8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cf48 sp=0xc443f7cf10 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cf80 sp=0xc443f7cf48 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cfb8 sp=0xc443f7cf80 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7cff0 sp=0xc443f7cfb8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d028 sp=0xc443f7cff0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d060 sp=0xc443f7d028 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d098 sp=0xc443f7d060 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d0d0 sp=0xc443f7d098 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d108 sp=0xc443f7d0d0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d140 sp=0xc443f7d108 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d178 sp=0xc443f7d140 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d1b0 sp=0xc443f7d178 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d1e8 sp=0xc443f7d1b0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d220 sp=0xc443f7d1e8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d258 sp=0xc443f7d220 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d290 sp=0xc443f7d258 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d2c8 sp=0xc443f7d290 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d300 sp=0xc443f7d2c8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d338 sp=0xc443f7d300 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d370 sp=0xc443f7d338 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d3a8 sp=0xc443f7d370 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d3e0 sp=0xc443f7d3a8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d418 sp=0xc443f7d3e0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d450 sp=0xc443f7d418 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d488 sp=0xc443f7d450 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d4c0 sp=0xc443f7d488 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d4f8 sp=0xc443f7d4c0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d530 sp=0xc443f7d4f8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d568 sp=0xc443f7d530 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d5a0 sp=0xc443f7d568 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d5d8 sp=0xc443f7d5a0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d610 sp=0xc443f7d5d8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d648 sp=0xc443f7d610 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d680 sp=0xc443f7d648 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d6b8 sp=0xc443f7d680 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d6f0 sp=0xc443f7d6b8 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d728 sp=0xc443f7d6f0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d760 sp=0xc443f7d728 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d798 sp=0xc443f7d760 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d7d0 sp=0xc443f7d798 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d808 sp=0xc443f7d7d0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d840 sp=0xc443f7d808 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d878 sp=0xc443f7d840 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d8b0 sp=0xc443f7d878 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d8e8 sp=0xc443f7d8b0 pc=0xba9a8b
 github.com/hyperledger/fabric/core/committer/txvalidator.(*ResultsIteratorImpl).Next(0xc42054f230, 0x0, 0x0, 0x0, 0x0)
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/plugin_validator.go:241 +0x2b fp=0xc443f7d920 sp=0xc443f7d8e8 pc=0xba9a8b
 ...additional frames elided...
 created by github.com/hyperledger/fabric/core/committer/txvalidator.(*TxValidator).Validate.func1
  /opt/gopath/src/github.com/hyperledger/fabric/core/committer/txvalidator/validator.go:155 +0x109

==========================================

 

I think line 241should be changed from
{quote}return it.Next()
{quote}
to
{quote}return it.ResultsIterator.Next(){quote}",,baohua,sehoonyang,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzwf:",,,,Unset,Unset,,,"1. Use GetStateRangeScanIterator function in VSCC.
2. Try to iterate with returned iterator. (call iter.Next())",,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,sehoonyang,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"24/Nov/18 2:58 AM;yacovm;Thanks. 
But I have to ask, how did you find this? we don't do ranged queries in validation... what did you try to do?;;;","24/Nov/18 12:35 PM;sehoonyang;I tried to implement validation logic for high throughput which is included in the fabric-samples. So I used range query to iterate through composite keys. I did it by change default validation logic. (in file   core/handlers/validation/builtin/v12/validation_logic.go; I have failed to do it with plugin) (https://github.com/SeHoonYang/fabric/commit/6b7ddc27f8ea84c12133fb6562fe16643b7a7921);;;",,,,,,,,,,,,,,,,,,,,,,,
regenerate ledger testdata using release-1.1 ,FAB-12969,35547,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,22/Nov/18 5:07 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,12/Dec/18 11:32 PM,,,,,,v1.4.0,,,,,,,,0,,,,"we need to regenerate the testdata using fabric-release v1.1 with the full definition of collection configs including MembersOrgsPolicy. This is necessary as one of the stateUpdate listener compares the existing MembersOrgsPolicy with the new MembersOrgsPolicy (during upgrade tx) to perform certain tasks in the ledger. As the existing test data does not contain MembersOrgsPolicy in the used collectionConfigPkg, it leads to nil pointer exception. 

Note that the testdata using fabric-release v1.1 can be done using [https://gerrit.hyperledger.org/r/#/c/22749/] ",,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:5",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/18 1:20 AM;denyeart;[~Senthil1] Do you want to convert to a subtask of FAB-11302, so that it can all be tracked from one place?;;;","23/Nov/18 1:29 AM;Senthil1;Yes [~denyeart] Its's done. ;;;",,,,,,,,,,,,,,,,,,,,,,,
Addressing comments on fabric/token/tms/manager/manager.go,FAB-12970,35552,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,angelo.decaro,angelo.decaro,angelo.decaro,22/Nov/18 7:26 PM,12/Mar/19 11:12 PM,28/Oct/23 3:04 AM,12/Mar/19 11:12 PM,,,,,,,,,,,,,,0,fabtoken,,,"The goal of this task is to address comments on [https://gerrit.hyperledger.org/r/#/c/27227/1/token/tms/manager/manager.go|https://gerrit.hyperledger.org/r/#/c/27227/1/token/tms/manager/manager_test.go]",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzxz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Disable Prover Peer end-point and custom tx processor before 1.4 is cut,FAB-12971,35555,33793,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,wenjian,angelo.decaro,angelo.decaro,22/Nov/18 11:09 PM,12/Dec/18 4:06 AM,28/Oct/23 3:04 AM,02/Dec/18 3:02 AM,,,,,,v1.4.0,,,,,,,,0,fabtoken,,,"The goal of this task is to disable the prover peer endpoint, enabled by [https://gerrit.hyperledger.org/r/#/c/26493/], and custom tx processor just before 1.4 is cut. This will allow fabtoken development to continue.

 ",,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzyf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 3:58 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27788/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Re-enable Prover Peer Endpoint after v1.4 is cut,FAB-12972,35556,33793,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,angelo.decaro,angelo.decaro,22/Nov/18 11:11 PM,08/Jan/19 10:57 PM,28/Oct/23 3:04 AM,08/Jan/19 10:57 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,The goal of this task is to re-enable the prover peer endpoint after 1.4 is cut cause it will be released for 2.0,,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzyn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Dec/18 4:27 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/28080/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
FABRIC_LOGGING_SPEC may not be working as intended,FAB-12973,35557,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,23/Nov/18 12:21 AM,07/Dec/18 11:48 PM,28/Oct/23 3:04 AM,07/Dec/18 11:48 PM,,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"While running the e2e suite with all logs disabled, there were several places where logs were being written. We need to understand what’s going on and, if appropriate, correct any issues.

For example, I have run across areas of the code where a logging level had been explicitly set in a command line environment; this may be appropriate in the right context.",,denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzyv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 7:41 AM;denyeart;[~wlahti] Can you take a look?;;;","05/Dec/18 3:53 AM;sykesm;I haven't seen any updates on this so I'll run again and see where it is.;;;","05/Dec/18 4:49 AM;sykesm;A few things so far.

1. The library isn't using the environment variable as a default so we get info unless someone changes it.
2. activating a spec without an explicit ""catch-all"" default resets the default level to info. This was intentional to keep the spec from having any statefulness.
3. There's code in localconfig that programmatically changes the logging spec. I believe this was only intended to run in the CLI but it appears to run in the orderer as well...

{code}
[e][orderer-org.orderer] goroutine 1 [running, locked to thread]:
[e][orderer-org.orderer] runtime/debug.Stack(0x18, 0xc0004a9d68, 0x1)
[e][orderer-org.orderer] 	/usr/local/Cellar/go/1.11.2/libexec/src/runtime/debug/stack.go:24 +0xa7
[e][orderer-org.orderer] runtime/debug.PrintStack()
[e][orderer-org.orderer] 	/usr/local/Cellar/go/1.11.2/libexec/src/runtime/debug/stack.go:16 +0x22
[e][orderer-org.orderer] github.com/hyperledger/fabric/common/flogging.(*LoggerLevels).ActivateSpec(0xc0000b1ad0, 0x4ab3d3e, 0x2a, 0x0, 0x0)
[e][orderer-org.orderer] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/flogging/loggerlevels.go:50 +0x1a9
[e][orderer-org.orderer] github.com/hyperledger/fabric/common/flogging.InitFromSpec(0x4ab3d3e, 0x2a, 0xc000142558, 0x8)
[e][orderer-org.orderer] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/flogging/legacy.go:53 +0x48
[e][orderer-org.orderer] github.com/hyperledger/fabric/common/tools/configtxgen/localconfig.init.0()
[e][orderer-org.orderer] 	/Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/common/tools/configtxgen/localconfig/config.go:33 +0x36
{code};;;","05/Dec/18 5:04 AM;sykesm;1: https://gerrit.hyperledger.org/r/27932 [FAB-12973] honor FABRIC_LOGGING_SPEC in library;;;","05/Dec/18 11:41 AM;sykesm;3: https://gerrit.hyperledger.org/r/c/27937/;;;",,,,,,,,,,,,,,,,,,,,
ls ,FAB-12974,35559,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,Rajatsharma,Rajatsharma,23/Nov/18 12:50 AM,01/Dec/18 8:15 PM,28/Oct/23 3:04 AM,01/Dec/18 8:15 PM,,,,,,,,,,,,,,0,,,,,,Rajatsharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzz3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Rajatsharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
System chaincode not deploying while using make peer-docker,FAB-12975,35561,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,Rajatsharma,Rajatsharma,23/Nov/18 1:29 AM,28/Nov/18 2:20 PM,28/Oct/23 3:04 AM,27/Nov/18 4:04 PM,,,,,,,,,,,,,,0,,,,"While trying to deploy a System Chaincode, First we build the peer docker image using

 
{code:java}
GO_TAGS+="" pluginsenabled"" make peer-docker
{code}
 which gave the following warnings:  
{code:java}
/tmp/go-link-205301799/000006.o: In function `pluginOpen':
/workdir/go/src/plugin/plugin_dlopen.go:19: warning: Using 'dlopen' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000021.o: In function `mygetgrouplist':
/workdir/go/src/os/user/getgrouplist_unix.go:15: warning: Using 'getgrouplist' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000020.o: In function `mygetgrgid_r':
/workdir/go/src/os/user/cgo_lookup_unix.go:38: warning: Using 'getgrgid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000020.o: In function `mygetgrnam_r':
/workdir/go/src/os/user/cgo_lookup_unix.go:43: warning: Using 'getgrnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000020.o: In function `mygetpwnam_r':
/workdir/go/src/os/user/cgo_lookup_unix.go:33: warning: Using 'getpwnam_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000020.o: In function `mygetpwuid_r':
/workdir/go/src/os/user/cgo_lookup_unix.go:28: warning: Using 'getpwuid_r' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking
/tmp/go-link-205301799/000004.o: In function `_cgo_f7895c2c5a3a_C2func_getaddrinfo':
/tmp/go-build/cgo-gcc-prolog:46: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking (cd sampleconfig && tar -jc *) > .build/sampleconfig.tar.bz2
{code}
 

 

The peer docker image was succesfully build.

we then used the above build peer docker image, to start a fabric network. To run our system chaincode the following changes were made: 

in the core.yaml file :

 
{code:java}
system:
myscc: enable
{code}
 
{code:java}
systemPlugins:
    - enabled: true
      name: myscc
      path: /opt/lib/myscc.so
      invokableExternal: true
      invokableCC2CC: true
{code}
and placed the specified chaincode at /opt/lib/myscc.so. After this, when we restart the peer, the peer container exits with the following log:

 
{code:java}
fatal error: unexpected signal during runtime execution
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x0]runtime stack:
runtime.throw(0x1115b0a, 0x2a)
        /opt/go/src/runtime/panic.go:616 +0x81
runtime.sigpanic()
        /opt/go/src/runtime/signal_unix.go:372 +0x28egoroutine 1 [syscall]:
runtime.cgocall(0xd24810, 0xc420446ca0, 0xec56a0)
        /opt/go/src/runtime/cgocall.go:128 +0x64 fp=0xc420446c70 sp=0xc420446c38 pc=0x402134
plugin._Cfunc_pluginOpen(0xc4203e0000, 0xc42000e248, 0x0)
        _cgo_gotypes.go:77 +0x4e fp=0xc420446ca0 sp=0xc420446c70 pc=0x8be3be
plugin.open.func1(0xc4203e0000, 0xc42000e248, 0xc420376a40)
        /opt/go/src/plugin/plugin_dlopen.go:74 +0xac fp=0xc420446cd8 sp=0xc420446ca0 pc=0x8bf58c
plugin.open(0xc4203761a0, 0x11, 0xc4203200d0, 0x0, 0x0)
        /opt/go/src/plugin/plugin_dlopen.go:74 +0x357 fp=0xc420446f90 sp=0xc420446cd8 pc=0x8be827
plugin.Open(0xc4203761a0, 0x11, 0x11e2800, 0xc4203200d0, 0x0)
        /opt/go/src/plugin/plugin.go:32 +0x35 fp=0xc420446fc8 sp=0xc420446f90 pc=0x8be095
github.com/hyperledger/fabric/core/scc.loadPlugin(0xc4203761a0, 0x11, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:70 +0x175 fp=0xc4204470f0 sp=0xc420446fc8 pc=0xcea265
github.com/hyperledger/fabric/core/scc.loadSysCCsWithConfig(0xc42000e238, 0x1, 0x1)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:51 +0x123 fp=0xc420447188 sp=0xc4204470f0 pc=0xce9f13
github.com/hyperledger/fabric/core/scc.loadSysCCs.func1()
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:44 +0x97 fp=0xc4204471e0 sp=0xc420447188 pc=0xcec727
sync.(*Once).Do(0x1ab93c0, 0x113f938)
        /opt/go/src/sync/once.go:44 +0xbe fp=0xc420447218 sp=0xc4204471e0 pc=0x463fde
github.com/hyperledger/fabric/core/scc.loadSysCCs(0xc4201c4550, 0x0, 0x1a95ae0, 0x1026460)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:38 +0x39 fp=0xc420447238 sp=0xc420447218 pc=0xce9db9
github.com/hyperledger/fabric/core/scc.CreatePluginSysCCs(0xc4201c4550, 0xc4204bf2a0, 0x11e2380, 0xc4201c4550)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/register_pluginsenabled.go:15 +0x40 fp=0xc4204472c8 sp=0xc420447238 pc=0xcea6a0
github.com/hyperledger/fabric/peer/node.registerChaincodeSupport(0xc4201e4000, 0xc420037c80, 0x1b, 0x11d9040, 0xc4204de120, 0xc4203f07e0, 0x11c72c0, 0xc4201bb980, 0xc420318280, 0xc42015cbd0, ...)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:593 +0x752 fp=0xc4204474f0 sp=0xc4204472c8 pc=0xd20f62
github.com/hyperledger/fabric/peer/node.startChaincodeServer(0xc420038102, 0x16, 0x11c72c0, 0xc4201bb980, 0xc420318280, 0xc42015cbc0, 0x0, 0x0, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:628 +0x34b fp=0xc420447610 sp=0xc4204474f0 pc=0xd2168b
github.com/hyperledger/fabric/peer/node.serve(0xc4204f6ea0, 0x0, 0x1, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:230 +0x9f0 fp=0xc420447c98 sp=0xc420447610 pc=0xd1d2a0
github.com/hyperledger/fabric/peer/node.glob..func1(0x19a8c40, 0xc4204f6ea0, 0x0, 0x1, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:112 +0x9c fp=0xc420447ce0 sp=0xc420447c98 pc=0xd230ec
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x19a8c40, 0xc4204f6e90, 0x1, 0x1, 0x19a8c40, 0xc4204f6e90)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d fp=0xc420447d88 sp=0xc420447ce0 pc=0xc721dd
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x19a92a0, 0x0, 0x19a85e0, 0x19a93e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4 fp=0xc420447eb8 sp=0xc420447d88 pc=0xc72954
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x19a92a0, 0xc420323f30, 0x1)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b fp=0xc420447ee8 sp=0xc420447eb8 pc=0xc7264b
main.main()
        /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:52 +0x2e5 fp=0xc420447f88 sp=0xc420447ee8 pc=0xd24525
runtime.main()
        /opt/go/src/runtime/proc.go:198 +0x212 fp=0xc420447fe0 sp=0xc420447f88 pc=0x42dec2
runtime.goexit()
        /opt/go/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc420447fe8 sp=0xc420447fe0 pc=0x45bb01goroutine 6 [syscall]:
os/signal.signal_recv(0x0)
        /opt/go/src/runtime/sigqueue.go:139 +0xa6
os/signal.loop()
        /opt/go/src/os/signal/signal_unix.go:22 +0x22
created by os/signal.init.0
        /opt/go/src/os/signal/signal_unix.go:28 +0x41goroutine 21 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc4201990a0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 9 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc420170820)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 10 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc420170820)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 11 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc420170820)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 12 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc420170820)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649goroutine 13 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc4201982a0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 14 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc420170ea0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 15 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc420170ea0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 16 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc420170ea0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 66 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc420170ea0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649goroutine 67 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc4201987e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 36 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc420171040)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 37 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc420171040)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 38 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc420171040)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 39 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc420171040)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649goroutine 40 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc4201989a0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 68 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc4201711e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 69 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc4201711e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 70 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc4201711e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 71 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc4201711e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649goroutine 24 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc420171520)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 51 [IO wait]:
internal/poll.runtime_pollWait(0x7f689523df00, 0x72, 0xc4203069a8)
        /opt/go/src/runtime/netpoll.go:173 +0x57
internal/poll.(*pollDesc).wait(0xc420396198, 0x72, 0xffffffffffffff00, 0x11caf00, 0x19cbe38)
        /opt/go/src/internal/poll/fd_poll_runtime.go:85 +0x9b
internal/poll.(*pollDesc).waitRead(0xc420396198, 0xc4202d2000, 0x1000, 0x1000)
        /opt/go/src/internal/poll/fd_poll_runtime.go:90 +0x3d
internal/poll.(*FD).Read(0xc420396180, 0xc4202d2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)
        /opt/go/src/internal/poll/fd_unix.go:157 +0x17d
net.(*netFD).Read(0xc420396180, 0xc4202d2000, 0x1000, 0x1000, 0x4579f0, 0xc420000180, 0x4)
        /opt/go/src/net/fd_unix.go:202 +0x4f
net.(*conn).Read(0xc4204de000, 0xc4202d2000, 0x1000, 0x1000, 0x0, 0x0, 0x0)
        /opt/go/src/net/net.go:176 +0x6a
net/http.(*persistConn).Read(0xc4203d3680, 0xc4202d2000, 0x1000, 0x1000, 0xc420306b98, 0x404195, 0xc42009a180)
        /opt/go/src/net/http/transport.go:1453 +0x136
bufio.(*Reader).fill(0xc4202b9020)
        /opt/go/src/bufio/bufio.go:100 +0x11e
bufio.(*Reader).Peek(0xc4202b9020, 0x1, 0x0, 0x0, 0x0, 0xc4201f4180, 0x0)
        /opt/go/src/bufio/bufio.go:132 +0x3a
net/http.(*persistConn).readLoop(0xc4203d3680)
        /opt/go/src/net/http/transport.go:1601 +0x185
created by net/http.(*Transport).dialConn
        /opt/go/src/net/http/transport.go:1237 +0x95agoroutine 52 [select]:
net/http.(*persistConn).writeLoop(0xc4203d3680)
        /opt/go/src/net/http/transport.go:1822 +0x14b
created by net/http.(*Transport).dialConn
        /opt/go/src/net/http/transport.go:1238 +0x97fgoroutine 23 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc4201988c0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 25 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc420171520)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 26 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc420171520)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 27 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc420171520)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649goroutine 28 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.(*BufferPool).drain(0xc420198c40)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:206 +0x152
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util.NewBufferPool
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/util/buffer_pool.go:237 +0x171goroutine 29 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).compactionError(0xc4201716c0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:90 +0xff
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:142 +0x49dgoroutine 30 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mpoolDrain(0xc4201716c0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_state.go:101 +0x127
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:143 +0x4bfgoroutine 31 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).tCompaction(0xc4201716c0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:834 +0x369
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:149 +0x627goroutine 32 [select]:
github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).mCompaction(0xc4201716c0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_compaction.go:762 +0x15d
created by github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.openDB
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:150 +0x649
{code}
 

If the peer binary alone was compiled using 
{code:java}
GO_TAGS+="" pluginsenabled"" make peer{code}
 

 

and copied to the peer docker image, everything works fine.

 ",,ChanderGovindarajan,Rajatsharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13010,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzzj:",,,,Unset,Unset,,, ,,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,Rajatsharma,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Nov/18 2:29 PM;ChanderGovindarajan;go-plugins can only be used with dynamically linked binaries. By default the Makefile `peer-docker` build target sets docker flags for a static build. This is the cause of the errors shown above.

So something like `DOCKER_DYNAMIC_LINK=true GO_TAGS+="" pluginsenabled"" make peer-docker` should work. 

`make peer` does not follow the above path (no docker involved) and does not have this issue.;;;","26/Nov/18 5:08 PM;Rajatsharma;still by building using  `DOCKER_DYNAMIC_LINK=true GO_TAGS+="" pluginsenabled"" make peer-docker` following error comes and peer exits :
{code:java}
panic: Error opening plugin at path /opt/lib/myscc.so: plugin.Open(""/opt/lib/myscc""): plugin was built with a different version of package internal/cpu

goroutine 1 [running]:
github.com/hyperledger/fabric/core/scc.loadPlugin(0xc4201aa2c0, 0x11, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:72 +0x54d
github.com/hyperledger/fabric/core/scc.loadSysCCsWithConfig(0xc4201a4878, 0x1, 0x1)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:51 +0x123
github.com/hyperledger/fabric/core/scc.loadSysCCs.func1()
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:44 +0x97
sync.(*Once).Do(0x1f0d100, 0x15c8418)
        /opt/go/src/sync/once.go:44 +0xbe
github.com/hyperledger/fabric/core/scc.loadSysCCs(0xc4201b6a50, 0x0, 0xc42009d800, 0x14aef40)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/loadsysccs.go:38 +0x39
github.com/hyperledger/fabric/core/scc.CreatePluginSysCCs(0xc4201b6a50, 0xc42046a5f0, 0x166ae60, 0xc4201b6a50)
        /opt/gopath/src/github.com/hyperledger/fabric/core/scc/register_pluginsenabled.go:15 +0x40
github.com/hyperledger/fabric/peer/node.registerChaincodeSupport(0xc42025e230, 0xc42017d5c0, 0x1b, 0x1661b20, 0xc420184230, 0xc4202603f0, 0x164fda0, 0xc420565db0, 0xc420242e40, 0xc4200164f0, ...)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:593 +0x752
github.com/hyperledger/fabric/peer/node.startChaincodeServer(0xc420038102, 0x16, 0x164fda0, 0xc420565db0, 0xc420242e40, 0xc4200164e0, 0x0, 0x0, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:628 +0x34b
github.com/hyperledger/fabric/peer/node.serve(0xc4205d9160, 0x0, 0x1, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:230 +0x9f0
github.com/hyperledger/fabric/peer/node.glob..func1(0x1e04c40, 0xc4205d9160, 0x0, 0x1, 0x0, 0x0)
        /opt/gopath/src/github.com/hyperledger/fabric/peer/node/start.go:112 +0x9c
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).execute(0x1e04c40, 0xc4205d9150, 0x1, 0x1, 0x1e04c40, 0xc4205d9150)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:698 +0x46d
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).ExecuteC(0x1e052a0, 0x0, 0x1e045e0, 0x1e053e0)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:783 +0x2e4
github.com/hyperledger/fabric/vendor/github.com/spf13/cobra.(*Command).Execute(0x1e052a0, 0xc4205b7f30, 0x1)
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/github.com/spf13/cobra/command.go:736 +0x2b
main.main()
        /opt/gopath/src/github.com/hyperledger/fabric/peer/main.go:52 +0x2e5

{code}
while it still works fine with peer-make.

 ;;;","26/Nov/18 5:51 PM;ChanderGovindarajan;Ya, this happens. The version of go used for compiling/building fabric (or any plugin host go program for that matter) and the plugin code should be exactly the same. 

You can try compiling the plugin inside the fabric container or upgrading your system golang version to match the version inside the peer container. It's go v1.11.1 for v1.3 as far as I can see.;;;","27/Nov/18 4:02 PM;Rajatsharma;This worked fine, the part related to System Chaincode is evasive. Thanks for helping, The documentation needs to be updated too.;;;",,,,,,,,,,,,,,,,,,,,,
Fabric UT Failure in package v12/v13 for ppc64le arch.,FAB-12976,35562,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,harsha544,harsha544,23/Nov/18 1:58 AM,09/Dec/18 12:09 PM,28/Oct/23 3:04 AM,05/Dec/18 7:50 PM,Future,v1.4.0,,,,Future,v1.4.0,,,fabric-build,,,,0,,,,"UTs under package {color:#444444}{{v12}}{color}{color:#444444}`{color}{color:#444444}, {color}{color:#444444}`{color}{color:#444444}{{v13}}{color} seems to show intermittent failures on ppc64le as all of UT's makes use of {color:#333333}/tmp/lscc-validation-test/mycc.1{color} , peculiar behavior is observed when one of the func testcase tries to stage/write into {color:#333333}/tmp/lscc-validation-test/mycc.1{color} and almost at the same time other func testcase deletes it.

unit-tests_1 | — FAIL: TestValidateUpgradeWithPoliciesOK (0.01s)
 unit-tests_1 | validation_logic_test.go:1533: 
 unit-tests_1 | Error Trace: validation_logic_test.go:1533
 unit-tests_1 | Error: Received unexpected error:
 unit-tests_1 | error putting package on the FS chaincode /tmp/lscc-validation-test/mycc.1 exists
 unit-tests_1 | Test: TestValidateUpgradeWithPoliciesOK
 unit-tests_1 | 2018-10-15 10:47:01.717 UTC [vscc] Validate -> ERRO 019 VSCC error: ValidateLSCCInvocation failed, err chaincode instantiation policy violated, error signature set did not satisfy policy
 unit-tests_1 | — FAIL: TestValidateUpgradeWithNewFailAllIP (0.02s)
 unit-tests_1 | validation_logic_test.go:1624: 
 unit-tests_1 | Error Trace: validation_logic_test.go:1624
 unit-tests_1 | validation_logic_test.go:1585
 unit-tests_1 | Error: Received unexpected error:
 unit-tests_1 | error putting package on the FS chaincode /tmp/lscc-validation-test/mycc.1 exists
 unit-tests_1 | Test: TestValidateUpgradeWithNewFailAllIP
 unit-tests_1 | 2018-10-15 10:47:01.739 UTC [vscc] Validate -> ERRO 01a VSCC error: ValidateLSCCInvocation failed, err chaincode instantiation policy violated, error signature set did not satisfy policy
 unit-tests_1 | FAIL
 unit-tests_1 | coverage: 85.6% of statements
 unit-tests_1 | FAIL github.com/hyperledger/fabric/core/handlers/validation/builtin/v12

 

FWIW, I think we should leverage *ioutil.TempDir* to stage chaincode and clean-up post completion of UT.",,ales,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzzr:",,,,Unset,Unset,,,make unit-test,,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 4:36 PM;harsha544;[https://gerrit.hyperledger.org/r/#/c/27888/];;;","05/Dec/18 7:51 PM;ales;[~wlahti]: we need to backport to 1.3 as well, correct?;;;",,,,,,,,,,,,,,,,,,,,,,,
Define StatsdFormat for gossip metrics,FAB-12977,35563,35109,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,yacovm,yacovm,yacovm,23/Nov/18 3:21 AM,11/Feb/19 5:19 PM,28/Oct/23 3:04 AM,11/Feb/19 5:19 PM,,,,,,,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzzzzz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 11:19 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/27709/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Develop Apps:Connection Options topic,FAB-12978,35564,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,23/Nov/18 4:14 PM,19/Dec/18 3:45 AM,28/Oct/23 3:04 AM,19/Dec/18 3:45 AM,v1.4.0,,,,,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,Add subtopic in Developing Applications chapter for connection options,,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|i00007:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Nov/18 4:18 PM;odowdaibm;[~SjirNijssen] [~isaacwch] [~andrew-coleman] [~EdProsser]

 

Connection Options topic.  We'll used the structure and approach we've established through discussion over the last few days
 * Scenario is roughly the same as Connection Profile topic
 * Diagram similar to CProfile topic
 * Classify options into categories
 * Visually link options to diagram via numbered identifiers
 * For each option explain
 ** What it is
 ** When to use it;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments that only affect the tms verifier and its unit tests,FAB-12979,35567,35469,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mathiasb303,mathiasb303,mathiasb303,23/Nov/18 7:52 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,Address comments that only affect the tms verifier and its unit tests,,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0000n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create TokenLedgerReader and TokenLedgerWriter that write to the token namespace,FAB-12980,35568,36029,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,mathiasb303,mathiasb303,23/Nov/18 7:54 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,stale-item,,"To avoid explicitly passing the token namespace in all the calls to the LedgerReader and LedgerWriter, add TokenLedgerReader and TokenLedgerWriter that internally only operate on the token namespace.",,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0000v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ledgermgmt.Initialize() called twice,FAB-12981,35570,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,manish-sethi,denyeart,denyeart,24/Nov/18 12:11 AM,21/Jun/19 6:12 AM,28/Oct/23 3:04 AM,21/Jun/19 6:11 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,0,,,,"ledgermgmt.Initialize() is called from both start.go and peer.go, the latter is a noop.

Unit tests require it to be in peer.go. It can be removed from start.go.",,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15755,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00013:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jun/19 5:27 PM;denyeart;Manish, I'm assuming this would be handled as part of the upcoming ledgermgmt rework.;;;","20/Jun/19 3:13 PM;manish-sethi;Handled as part of FAB-15755;;;",,,,,,,,,,,,,,,,,,,,,,,
Private data dissemination best effort attempt to distribute private data across orgs,FAB-12982,35571,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,denyeart,denyeart,24/Nov/18 2:18 AM,09/Nov/19 5:53 AM,28/Oct/23 3:04 AM,23/Jan/19 12:49 PM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,"Currently private data is disseminated randomly to collection member peers.
It would be better to make a best effort attempt to distribute the private data to as many orgs as possible, before sending to same org's 2nd, 3rd, etc peers.

This would provide a higher degree of data availability, for example in case a subset of orgs went offline.

On the commit pull side, peers would consequently want to prefer peers from their same org, as these peers are more likely to be co-located. For example for pull we may want to prioritize peers as follows:
1) endorsers from same org
2) endorsers from other orgs
3) non-endorsers from same org
4) non-endorsers from other orgs",,C0rWin,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15389,FAB-17040,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i0001b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/19 1:16 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27815/;;;","05/Nov/19 1:10 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/fabric/+/30578/] release-1.4;;;",,,,,,,,,,,,,,,,,,,,,,,
Add Orderer capabilities to enable/disable kafka to raft migration,FAB-12983,35574,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,25/Nov/18 5:55 PM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,09/Jan/19 12:10 AM,,,,,,,,,,,,,,0,,,,"Add Orderer capabilities that will disable or enable the possibility to perform migration from kafka to raft.

Capability *V2_0*
 * *V2_0* is required by a kafka-based Ordering Service Node in order to receive and process a config update with consensus-type change, from kafka to raft only. If not present, these config updates will be rejected.
 * *V2_0* is required by a etcd/raft-based OSN in order to be able to bootstrap from a kafka-based ledger that was successfully migrated to kafka.

 

Capability method *Kafka2RaftMigration()* will guard most of the code implementing migration.",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0001r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 1:24 AM;tock;[https://gerrit.hyperledger.org/r/#/c/27822/]

 ;;;","14/Feb/19 4:42 PM;tock;This will be fixed by FAB-14180;;;",,,,,,,,,,,,,,,,,,,,,,,
Allow a Kafka-based OSN to receive & process config transactions that change consensus-type protobuf,FAB-12984,35575,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,25/Nov/18 5:58 PM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,14/Jan/19 11:21 PM,,,,,,,,,,,,,,0,,,,"This task focuses mainly on the broadcast phase of the orderer. That is, from reception of a config-update-tx, its processing by the chain specific broadcast handler, until it goes into ordering by kafka. 

This task extends the orderer config proto-buff in the following way: 
 * In the orderer configuration proto-buff definition, extend ConsensusType to include:
 ** enum ""Migration State"" to command & record the state of the migration per channel
 ** uint64 ""Migration Context"" to correlate the system-channel config-update-tx with the following standard-channel config-update-tx(s)",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0001z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 1:29 AM;tock;[https://gerrit.hyperledger.org/r/#/c/28113/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Integration tests for kafka-to-raft migration: Abort path,FAB-12985,35576,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tock,tock,tock,25/Nov/18 5:59 PM,04/Apr/19 4:41 PM,28/Oct/23 3:04 AM,04/Apr/19 4:38 PM,,,,,,,,,,,,,,0,,,,"This task focuses on testing the consensus-type migration ""abort"" path, that was introduced in FAB-13245.

The main contribution is in adding two test cases to  migration_test.go, 

The two test-cases are:
 # A test that executes the migration abort-path flow on the Kafka side (from START-TX, via ABORT-TX until another START-TX), on the system channel only.
 # A test that executes the migration abort-path flow on the Kafka side (from START-TX, CONTEXT-TX via ABORT-TX until another START-TX), on the system channel and a single application channel. 

The tests are somewhat overlapping but are verifying different aspects of the expected behavior. Overall, the tests verify that the flow of:
 * START-TX => CONTEXT-TX (x #std-channels)=> ABORT-TX => (optional NONE-TX), system remains on kafka
 * START-TX => CONTEXT-TX (x #std-channels)=> ABORT-TX => START-TX ... => normal migration flow until restart on to Raft

 ",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00027:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/19 4:41 PM;tock;Switching to alternative  migration design - v2;;;",,,,,,,,,,,,,,,,,,,,,,,,
Each mock chain object should have its own mock ledger instance,FAB-12986,35577,32832,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,25/Nov/18 10:00 PM,01/Mar/19 3:53 PM,28/Oct/23 3:04 AM,12/Dec/18 7:19 AM,,,,,,,,,,,,,,0,,,,"Currently in order to test functionality introduced by {{chain.go}}, there was introduced testing facilities such as mocked network and mocked chains. In particular there is a functionality which mocks ledger, which implemented in the following way:

{code}
type network struct {
	leader uint64
	chains map[uint64]*chain

	// store written blocks to be returned by mock block puller
	ledger *sync.Map

	// used to determine connectivity of a chain.
	// the actual value type is `chan struct` because
	// it's used to skip assertion in `elect` if a
	// node is disconnected from network, therefore
	// no leader change should be observed
	connLock     sync.RWMutex
	connectivity map[uint64]chan struct{}
}
{code}

and each testing instance of {{chain}} uses it as following:

{code}
	c.support.WriteBlockStub = func(b *common.Block, meta []byte) {
		bytes, err := proto.Marshal(&common.Metadata{Value: meta})
		Expect(err).NotTo(HaveOccurred())
		b.Metadata.Metadata[common.BlockMetadataIndex_ORDERER] = bytes
		n.ledger.Store(b.Header.Number, b)
	}

	c.puller.PullBlockStub = func(i uint64) *common.Block {
		b, exist := n.ledger.Load(i)
		if !exist {
			return nil
		}

		return b.(*common.Block)
	}
{code}

meaning that ledger is shared among all instances of chain struct in {{chain_test.go}}. 

As a developer I'd like to have separate instance of the mocked ledger per chain, rather than relying on shared ledger common for all objects. Moreover I'd like to have mocked functionality to stub following APIs:

{code}
    Block()

    Height()

    WriteConfigBlock()
{code}",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0002f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Nov/18 10:20 PM;C0rWin;https://gerrit.hyperledger.org/r/27719;;;",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade from v1.2 to v1.3 fails for leveldb state database,FAB-12987,35578,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,denyeart,denyeart,26/Nov/18 1:30 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,28/Nov/18 12:50 PM,,,,,,v1.4.0,,,,,,,,0,,,,"Upon startup of v1.3 peer after upgrade, receive error:

2018-11-25 11:22:06.331 EST [peer] Initialize -> WARN 023 Failed to load chain myc(proto: msgs.VersionedValueProto: illegal tag 0 (wire type 0))

This makes a prior release channel in the peer unusable after upgrade.

Related change in v1.3: https://gerrit.hyperledger.org/r/#/c/21763/

Failing at this line:
https://github.com/hyperledger/fabric/blob/release-1.3/core/ledger/kvledger/txmgmt/statedb/stateleveldb/value_encoding.go#L37

It is failing if the latest channel config came from the genesis block (block 0). In that case the EncodedValue for  resourcesconfigtx.CHANNEL_CONFIG_KEY starts with 0x0 (representing block 0). 0x0 happens to be the indicator character for the 'new' versioned value format in v1.3. Peer therefore tries to decode the 'old v1.2' value using the 'new v1.3' proto and throws error proto: msgs.VersionedValueProto: illegal tag 0 (wire type 0).  If the latest channel config came from a later block (as in the byfn case, due to config updates for anchor peer), then things work fine.

Note also that we should wrap error messages to make errors easier to troubleshoot.

For users hitting this error, you can resolve it by stopping peer and deleting directory /var/hyperledger/production/ledgersData/stateLeveldb. Upon peer restart it will rebuild leveldb state database with correct format.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9746,,,,,,,,,,,,,,FAB-11778,FAB-12724,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0002n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Nov/18 2:10 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27721/ - master (for v1.4.0);;;",,,,,,,,,,,,,,,,,,,,,,,,
"Fix configuration ""key"" to ""cert"" string, when reading configuration entries using Viper",FAB-12988,35606,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,kutenglaoshu,kutenglaoshu,kutenglaoshu,26/Nov/18 5:55 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.2.0,v1.3.0,v1.4.0,,,,,,,,,,,0,stale-item,,,"*Expected*:

When either *""peer.tls.clientKey.file""* or *""peer.tls.clientKey.file""* we default to read the config as

keyFile.= viper.GetString(*""*peer.tls.key.file*""*) 
 certPath := viper.GetString(*{color:#00875a}""peer.tls.cert.file""{color}*) 

 

*Actual*:

Instead, by mistake, we need to read the cert path, from the ""cert"" file value.

 

*To do*:

Fix typo and default to read the *cert*.file is such a case
 *cert*Path *=* viper.GetString(""{color:#de350b}*peer.tls.key.file*{color}""*) 

 

 

NOTE: Change may affect already deployed Fabric 1.3.0 and 1.2.0 systems.

 

 ",,JonathanLevi,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00073:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),JonathanLevi,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Minor typos in eyfn tutorial,FAB-12989,35607,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,26/Nov/18 7:13 PM,26/Nov/18 9:33 PM,28/Oct/23 3:04 AM,26/Nov/18 9:33 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0007b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Write a sample that demonstrate complete migration process,FAB-12990,35609,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,tock,tock,26/Nov/18 8:52 PM,28/Oct/19 11:46 PM,28/Oct/23 3:04 AM,28/Oct/19 11:46 PM,,,,,,,,,,,,,,0,ipm,,,"Start from a network similar to BYFN:
 * one ordering org, with kafka-based ordering service, 3 OSNs
 * 2 peer orgs, 2 peers each
 * 1 kafka server + 1 zookeeper
 * add a channel

Migrate the network to an etcd/raft ordering service
 * etcd/raft with 3 consenters based on same OSNs
 * show how to prepare the config update txs
 * show how to submit said txs
 * restart OSNs, verify etcd/raft OSNs 
 * shut down kafka+zookeeper
 * test functionality by executing chaincode txs

all this should be scripted and documented",,guoger,sykesm,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:91",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jul/19 11:08 AM;guoger;[~tock] what kind of sample were you planning to introduce? (I think our byfn is already bloat up enough...);;;","10/Jul/19 2:45 PM;tock;The intention was to add a sample separate from BYFN, not add to it. That is, put it in different folder altogether. The implementation borrowed heavily from BYFN, though.

However, adding samples (of any kind) seems to be low priority, so this task can be closed or split out of this story, in my opinion.;;;","28/Oct/19 11:46 PM;sykesm;We're trying to keep samples focused on exemplars rather than guides.;;;",,,,,,,,,,,,,,,,,,,,,,
Integration tests for kafka to raft migration - green path,FAB-12991,35610,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,26/Nov/18 8:53 PM,04/Mar/19 9:11 PM,28/Oct/23 3:04 AM,19/Feb/19 10:32 PM,,,,,,,,,,,,,,0,,,,"This task focuses on testing the consensus-type migration ""green"" path, that was introduced in  FAB-13264.

The main contribution is in migration_test.go, which defines 3 test-cases that test the green path. This is not the complete test suite for migration. It is introduced in this stage to allow reviewers to get the full picture of the feature defined in  FAB-13264. The tests for the abort path and failure scenarios will be added in later tasks.

The three test-cases are:
 # A test that executes the migration flow on the Kafka side (from START-TX until COMMIT-TX), on the system channel only.
 # A test that executes the migration flow on the Kafka side (from START-TX, CONTEXT-TX until COMMIT-TX), on the system channel and a single application channel. 
 # A test that executes the migration flow on the Raft side (from START-TX, CONTEXT-TX until COMMIT-TX, followed by restart of the orderer), on the system channel and a two application channel.

The tests are somewhat overlapping but are verifying different aspects of the expected behavior. Overall, the tests verify that the flow of:
 * START-TX => CONTEXT-TX (x #std-channels)=>COMMIT-TX, => Restart => (optional NONE-TX)

results in a functional etcdraft-based ordering service. That is, normal transactions can be executed, and new channels can be created.

 

The task introduces some minor changes to the nwo test framework in order to support the testing of the new feature:
 * Add OrdererCapabilites to Config, since kafka-to-raft migration is gates by a new V2_0 capability
 * Adds method to verify failure to update the OrdererConfig
 * Extends the configtx template to include support for the V2_0 orderer capability
 * Extend the network to
 ** support V2_0 orderer capability
 ** verify channel creation is blocked
 ** support ConsensusType.Type changes
 * Extend standard_networks.go to
 ** support V2_0 orderer capability
 ** define a Kafka2Raft and Kafka2RaftMultiChannel configurations for migration tests",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0007z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 8:57 PM;tock;[https://gerrit.hyperledger.org/r/#/c/28439/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
User facing documentation for the kafka to raft migration,FAB-12992,35611,39050,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,26/Nov/18 8:54 PM,03/Oct/19 2:45 PM,28/Oct/23 3:04 AM,10/Jul/19 11:06 AM,,,,,,,,,,,,,,0,,,,A design document is linked and attached to task FAB-15041 (the ancestor of this one).,,guoger,joe-alewine,sykesm,tock,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-16756,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00087:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,joe-alewine,sykesm,tock,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/May/19 1:29 AM;joe-alewine;Hi, Yoav. Is there a basic idea of what kind of documentation this will be/need? Is there a design doc for the revised design?;;;","30/May/19 5:09 PM;tock;[~joe-alewine] Hi Joe, I added a design doc. Check if it fits your needs for producing user facing documentation.;;;","11/Jun/19 5:26 AM;sykesm;Yoav, the initial draft of documentation comes from development. This is a task for you and Jason, i believe. This documentation should cover planning, risk mitigation, and the actual process.

Joe will help ensure it's in a format that's consistent with other docs.
;;;","12/Jun/19 3:57 PM;tock;[~joe-alewine], does the [current documentation|https://docs.google.com/document/d/1I7zWBomEPsgxgDYiYwE7ZPaT_Htll996nM2Y5A4xY-8/edit#heading=h.lq5yb4vsi0bo] meet you needs for producing user facing documentation? please reach out to me if you need anything additional to this.;;;","12/Jun/19 11:52 PM;joe-alewine;[~tock]

[~jyellick] and I discussed plans for the doc yesterday and decided on something of a more stripped down approach for it. While the linked design doc is not really a doc of the kind that trimmed and put into the docs, it does I think have enough information in it to be used to create a doc.;;;","20/Jun/19 5:39 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/fabric/+/31993;;;","26/Jun/19 10:25 PM;guoger;merged in master and i believe this should be cherry-picked to 1.4 branch? [~joe-alewine];;;",,,,,,,,,,,,,,,,,,
Develop Apps:Smart Contract context,FAB-12993,35615,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,27/Nov/18 2:54 AM,26/Mar/19 9:30 PM,28/Oct/23 3:04 AM,26/Mar/19 9:30 PM,v1.4.0,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,Add smart contract context topic,,denyeart,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|i0008n:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,odowdaibm,SjirNijssen,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 2:55 AM;odowdaibm;[~SjirNijssen] [~isaacwch] [~mbwhite] [~EdProsser] [~gormand]

 

Notification that I'm about to add smart contract context topic.

Worked diagram with Isaac today.  Should be able to push something decent by EOD 27.11.2018;;;","23/Jan/19 1:02 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27754/;;;",,,,,,,,,,,,,,,,,,,,,,,
Stop generating a fake from a foreign interface that requires path traversal,FAB-12994,35617,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,adc,sykesm,sykesm,27/Nov/18 4:11 AM,25/Sep/19 1:11 AM,28/Oct/23 3:04 AM,25/Sep/19 1:11 AM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,"The following traverses up the path to the msp directory and must not do that.

{code}
token/identity/identity_test.go
15://go:generate counterfeiter -o mock/identity.go -fake-name Identity ./../../msp/ Identity
{code}

If you need to generate a fake for an interface in the standard library or a package that you're importing, please use this idiom:

{code}
//go:generate counterfeiter -o fakes/http_handler.go --fake-name HTTPHandler . httpHandler

type httpHandler interface {
	http.Handler
}
{code}

This was introduced with FAB-12155",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12155,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00093:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/19 1:11 AM;jyellick;The token code has been removed;;;",,,,,,,,,,,,,,,,,,,,,,,,
add getPut and getPutPrivate to map.go cc,FAB-12995,35618,,Test Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,Ratnakar,scottz,scottz,27/Nov/18 4:17 AM,05/Jan/19 7:45 AM,28/Oct/23 3:04 AM,05/Jan/19 7:45 AM,,,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,,,,"Add new functions to the example chaincode https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go
to provide the capability to perform a common usecase of read/edit/write (in addition to the pure ""write"" or ""put"" functions which exist already for creation of key/values). In this simple chaincode, the ""edit"" portion of the read/edit/write sequence could be essentially nothing, which is desirable because it allows this same chaincode to be used for fabric/API performance testing of the common getPut and getPutPrivate scenarios for comparisons with and without private data.",,dongming,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5108,FAB-12740,FAB-12741,FAB-12742,FAB-12743,FAB-12935,FAB-12936,FAB-12937,FAB-12938,,,,,,,,,,,,,,"27/Nov/18 11:06 PM;Ratnakar;map.go;https://jira.hyperledger.org/secure/attachment/16321/map.go",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10083,,,No,,Unset,No,,,"1|i0009b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,Ratnakar,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Nov/18 11:08 PM;Ratnakar;[~dongming] Could you verify this file [^map.go] so that If it works fine , I shall submit a PR;;;",,,,,,,,,,,,,,,,,,,,,,,,
Convert fabric-chaincode-node job configuration to pipeline in release-1.1,FAB-12996,35619,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,vijaypunugubati,vijaypunugubati,27/Nov/18 4:37 AM,30/Nov/18 1:44 PM,28/Oct/23 3:04 AM,29/Nov/18 12:59 AM,,,,,,,,,,,,,,0,,,,Convert fabric-chaincode--node verify and merge job configuration to pipeline in release-1-.1 branch.,,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-333,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0009j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 1:24 AM;vijaypunugubati;Change was merged:

[https://gerrit.hyperledger.org/r/#/c/27742/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments for token tx validation and processor,FAB-12997,35620,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,27/Nov/18 7:59 AM,03/Dec/19 3:04 AM,28/Oct/23 3:04 AM,14/Dec/18 2:17 AM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,Address code review comments on token tx validation and processor,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11144,,,No,,Unset,No,,,"1|i0009r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 10:32 PM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27793/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
`WaitReady` API should properly reflect the status of Chain,FAB-12998,35623,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,27/Nov/18 4:24 PM,22/Jan/19 5:32 PM,28/Oct/23 3:04 AM,22/Jan/19 5:32 PM,,,,,,,,,,,,,,0,,,,"{{WaitReady}} should *block* when:
- config env is in-flight *or*
- catching up *or*

it should *return error* when:
- chain is not started *or*
- chain is stopped",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000af:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor the internal datastructure to support property validation,FAB-12999,35630,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,27/Nov/18 10:38 PM,05/Dec/18 10:24 PM,28/Oct/23 3:04 AM,05/Dec/18 10:24 PM,,,,,,,,,,,,,,0,,,,,,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000bb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Release the ledger resources in the token transactor,FAB-13000,35631,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mathiasb303,mathiasb303,mathiasb303,27/Nov/18 11:48 PM,01/Dec/18 11:52 AM,28/Oct/23 3:04 AM,01/Dec/18 11:52 AM,,,,,,v1.4.0,,,,,,,,0,fabtoken,,,"The token transactor needs to call done on the QueryExecutor, which implements the token LedgerReader interface, when it is done with it. In case this is not done, the resources are not released, and timeouts will occur.",,mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000bj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mathiasb303,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"The fabric-test-lte-daily-master job has been failing consistently in all test cases, Assertion Error VaryNumParallelTxPerChain",FAB-13001,35634,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,sambhavdutt,sambhavdutt,28/Nov/18 1:16 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Dec/18 1:08 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The lte daily test for master branch has been failing consistently in master branch, VaryNumParallelTxPerChain error observed in all lte test cases(goleveldb, couchdb) 

These tests failed in just 4 minutes after start, it usually takes around 3 hours on Jenkins vm for the complete lte test.  This has been observed in two runs as the tests were not triggered from 17th November to 26th November.


{code:java}
15:39:08 ledger_lte.py::perf_goleveldb::test_FAB_3790_VaryNumParallelTxPerChain FAILED
15:39:12 ledger_lte.py::perf_goleveldb::test_FAB_3795_VaryNumChains FAILED
15:39:16 ledger_lte.py::perf_goleveldb::test_FAB_3798_VaryNumParallelTxWithSingleChain FAILED
15:39:20 ledger_lte.py::perf_goleveldb::test_FAB_3799_VaryNumChainsWithNoParallelism FAILED
15:39:24 ledger_lte.py::perf_goleveldb::test_FAB_3800a_VaryNumWritesInEachTx FAILED
15:39:29 ledger_lte.py::perf_goleveldb::test_FAB_3800b_VaryNumReadsInEachTx FAILED
15:39:33 ledger_lte.py::perf_goleveldb::test_FAB_3801_VaryKVSize FAILED
15:39:37 ledger_lte.py::perf_goleveldb::test_FAB_3802_VaryBatchSize FAILED
15:39:40 ledger_lte.py::perf_goleveldb::test_FAB_3803_VaryNumTxs FAILED
15:39:53 ledger_lte.py::perf_couchdb::test_FAB_3870_VaryNumParallelTxPerChain FAILED
15:40:04 ledger_lte.py::perf_couchdb::test_FAB_3871_VaryNumChain FAILED
15:40:16 ledger_lte.py::perf_couchdb::test_FAB_3872_VaryNumParallelTxWithSingleChain FAILED
15:40:28 ledger_lte.py::perf_couchdb::test_FAB_3873_VaryNumChainWithNoParallelism FAILED
15:40:40 ledger_lte.py::perf_couchdb::test_FAB_3874_VaryKVSize FAILED
15:40:55 ledger_lte.py::perf_couchdb::test_FAB_3875_VaryBatchSize FAILED
15:41:09 ledger_lte.py::perf_couchdb::test_FAB_3876a_VaryNumWritesInEachTx FAILED
15:41:21 ledger_lte.py::perf_couchdb::test_FAB_3876b_VaryNumReadsInEachTx FAILED
15:41:33 ledger_lte.py::perf_couchdb::test_FAB_3877_VaryNumTxs FAILED
.
.
15:41:33         logfile = open(""output_VaryNumParallelTxPerChain.log"", ""w"")
15:41:33         returncode = subprocess.call(
15:41:33                 ""./runbenchmarks.sh -f parameters_daily_CI.sh ""
15:41:33                 ""varyNumParallelTxPerChain"",
15:41:33                 shell=True, stderr=subprocess.STDOUT, stdout=logfile,
15:41:33                 cwd=tool_directory)
15:41:33         logfile.close()
15:41:33         self.assertEqual(returncode, 0, msg=""VaryNumParallelTxPerChain ""
15:41:33                 ""performance test failed. \nPlease check the logfile ""
15:41:33 >               +logfile.name+"" for more details."")
15:41:33 E       AssertionError: VaryNumParallelTxPerChain performance test failed. 
15:41:33 E       Please check the logfile output_VaryNumParallelTxPerChain.log for more details.
{code}


*Error Logs*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/85/testReport/

https://github.com/hyperledger/fabric-test/blob/9475b717fd889fbaabe71403d729a200b47599de/regression/daily/ledger_lte.py#L46

*Build Logs*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/85/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/85/",,AdnanChoudhury,latitiah,manish-sethi,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,1f75139,Unset,No,,,"1|i000c7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,latitiah,manish-sethi,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"30/Nov/18 4:47 AM;AdnanChoudhury;Failing since this CR went in
https://github.com/hyperledger/fabric/commit/e79652873d9b8bc575bd611c9bdde99dde1fd3e1
Fail message: 

{code:java}
BenchmarkInsertTxs-8   	panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x20 pc=0x473833b]

goroutine 27 [running]:
github.com/hyperledger/fabric/core/ledger/kvledger.newStats(0x0, 0x0, 0x4a57560)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/core/ledger/kvledger/metrics.go:26 +0x5b
github.com/hyperledger/fabric/core/ledger/kvledger.(*Provider).Initialize(0xc42010c700, 0xc4200fe0f0, 0x0, 0x0)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger_provider.go:92 +0x2b5
github.com/hyperledger/fabric/core/ledger/ledgermgmt.initialize(0xc4200bf140)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:72 +0x41e
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize.func1()
	/Users/adnanc/go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:52 +0x2a
sync.(*Once).Do(0x5007948, 0xc420071e38)
	/usr/local/go/src/sync/once.go:44 +0xbe
github.com/hyperledger/fabric/core/ledger/ledgermgmt.Initialize(0xc4200bf140)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/core/ledger/ledgermgmt/ledger_mgmt.go:51 +0x4d
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.newChainsMgr(0xc42000dc80, 0xc420459160, 0x480e201, 0xc420202020)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:55 +0xff
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.InitTestEnv(0xc42000dc80, 0xc420459160, 0x408af01, 0x5c003ffe)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/testenv.go:34 +0x77
github.com/hyperledger/fabric/test/tools/LTE/experiments.BenchmarkInsertTxs(0xc42048e300)
	/Users/adnanc/go/src/github.com/hyperledger/fabric/test/tools/LTE/experiments/insert_txs_test.go:44 +0x58
testing.(*B).runN(0xc42048e300, 0x1)
	/usr/local/go/src/testing/benchmark.go:141 +0xb2
testing.(*B).run1.func1(0xc42048e300)
	/usr/local/go/src/testing/benchmark.go:214 +0x5a
created by testing.(*B).run1
	/usr/local/go/src/testing/benchmark.go:207 +0x80
exit status 2
FAIL	github.com/hyperledger/fabric/test/tools/LTE/experiments	0.151s
Failed to run the test.
{code}
;;;","01/Dec/18 12:34 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/27825/;;;",,,,,,,,,,,,,,,,,,,,,,,
Wire docker health check into peer,FAB-13002,35635,34512,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,28/Nov/18 1:30 AM,28/Nov/18 4:02 AM,28/Oct/23 3:04 AM,28/Nov/18 4:02 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000cf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 1:31 AM;sykesm;https://gerrit.hyperledger.org/r/27760 [FAB-13002] Active docker health check in peer;;;",,,,,,,,,,,,,,,,,,,,,,,,
Reimplement token  client test in ginkgo,FAB-13003,35637,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,28/Nov/18 4:00 AM,03/Dec/19 3:04 AM,28/Oct/23 3:04 AM,28/Nov/18 6:00 PM,,,,,,,,,,,,,,0,fabtoken,,,Reimplement token client test in ginkgo,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|i000cv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 6:11 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27278/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
cc2cc node sdk with enhanced Behave tests,FAB-13004,35638,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,28/Nov/18 4:57 AM,01/Aug/19 11:51 AM,28/Oct/23 3:04 AM,01/Aug/19 11:51 AM,,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"Preface: If any of the following test scenarios itemized below are covered in the fabric-sdk-node integration tests, then we could skip those scenarios and just add the missing tests (either here in Behave or in the node sdk integration test suite).

Test the functionality of chaincode-to-chaincode using node-sdk. Refer to FAB-5384, a story describing some chaincode testing done with Behave. Several subtasks are chaincode-to-chaincode testcases (using CLI). We should be able to add test scenarios for the use of the node-sdk to all of those testcases fairly easily, including the following. We should link this to the testcases which we ultimately choose to implement, from this subset of the tests in the chaincodes.feature file:

* FAB-4704
* FAB-4717
* FAB-4718
* FAB-4720
* FAB-4721
* FAB-4722
* FAB-5384

We can change them to Scenario Outlines, and run them twice, once with CLI and once with Node SDK. However, I don't think our behave framework supports service discovery, so this would only involve functional cc2cc tests with node sdk (without using service discovery). To include service discovery too, we would need additional enhancements to behave, which may not be warranted especially if other tests elsewhere cover the interactions with service discovery.
",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11725,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000d3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Integration Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 11:51 AM;scottz;Planning to deprecate behave.
Node SDK IT tests are responsible for covering these types of scenarios in their lifecycle tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Upgrade to v1.4,FAB-13005,35639,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,28/Nov/18 5:43 AM,12/Dec/18 11:05 PM,28/Oct/23 3:04 AM,12/Dec/18 11:05 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"The standard doc for every release, documenting the process for upgrading to v1.4 and adding the appropriate scripts to the fabric-samples repo.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|i000db:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 7:00 AM;joe-alewine;[~suryalnvs]

[~jyellick];;;","09/Dec/18 5:24 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/27883/;;;",,,,,,,,,,,,,,,,,,,,,,,
PTE support for service discovery with sidedb collection name,FAB-13006,35640,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,28/Nov/18 5:48 AM,23/Nov/19 5:25 AM,28/Oct/23 3:04 AM,23/Nov/19 3:32 AM,v1.4.0,,,,,Future,,,,fabric-quality,,,,0,,,,"Where appropriate, PTE must call the new node sdk API for a service discovery request using a sidedb collection name. Design an interface that takes the data from connection profile and/or collection metadata file, and uses it appropriately. Things to consider: when to use a collection name, and which collection name to use, and where to get the collection name, etc. I think the collection name must be used for the service discovery request itself, in addition to the invokes proposals sent to the peers; it is not relevant and not necessary for the transactions broadcasted to the orderers.

This testtask is a task, not a test, but is required for some tests that run sidedb traffic using service discovery.",,dongming,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11776,,,,,,,,,,,,FAB-12135,FAB-15392,,,,,,,,,,,,,FAB-17065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16240,,,No,,Unset,No,,,"1|i000dj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,true,"28/Nov/18 1:45 PM;scottz;Several tests will require this functionality in v1.4 (plus the 12135 which I linked because I am not sure how it got done without this PTE enhancement).;;;","21/Nov/19 3:09 AM;dongming;[https://gerrit.hyperledger.org/r/c/fabric-test/+/34436];;;","23/Nov/19 4:44 AM;dongming;cherrypick to 1.4 [https://gerrit.hyperledger.org/r/c/fabric-test/+/34463];;;",,,,,,,,,,,,,,,,,,,,,,
Enhance 10191 peer restarts test to verify transactions on ALL peers,FAB-13007,35642,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,scottz,scottz,28/Nov/18 8:20 AM,11/Jan/21 2:35 AM,28/Oct/23 3:04 AM,11/Jan/21 2:35 AM,v1.4.3,v2.0.0,,,,,,,,fabric-quality,,,,0,,,,"Testcase FAB-10191 needs to have this capability (to verify a transaction from any thread on ALL peers in the network), which was added to PTE using [https://gerrit.hyperledger.org/r/#/c/24723/] with FAB-10903.

The original plan was to add 10191 to the daily test suite, too. But now that we are restructuring tests using operator and azure pipelines, we can simply run two tests in parallel: one or more to run traffic, and one to do restarts; afterwards use action ""checkNetworkInSync"".

Solution:

When converting to test-input.yml file using operator, be sure to use the action ""checkNetworkInSync"" at the end of every test - especially those that include chaos (any node restarts or resets, etc).",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10191,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000dz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Docs for key-level endorsement policy convenience layer are not correct,FAB-13008,35643,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,mne,zhaochy,zhaochy,28/Nov/18 11:48 AM,04/Dec/18 5:35 AM,28/Oct/23 3:04 AM,04/Dec/18 5:35 AM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"The docs here : https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#setting-key-level-endorsement-policies
 !screenshot-1.png|thumbnail! 
interface KeyEndorsementPolicy have method ""DelAllOrgs""

however the code in both master and release-1.3 branches don't have this method.",,denyeart,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13071,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 11:50 AM;zhaochy;screenshot-1.png;https://jira.hyperledger.org/secure/attachment/16322/screenshot-1.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000e7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,zhaochy,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 3:32 AM;denyeart;[~mne] [~ales] Please take a look.;;;","04/Dec/18 5:35 AM;denyeart;Fixed in FAB-13071.;;;",,,,,,,,,,,,,,,,,,,,,,,
bootstrap.sh script fails to download fabric,FAB-13009,35644,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,tijohnson,denyeart,denyeart,28/Nov/18 12:37 PM,29/Nov/18 5:29 AM,28/Oct/23 3:04 AM,29/Nov/18 2:58 AM,,,,,,v1.4.0,,,,,,,,0,,,,"The documented Fabric download instructions:

{code:java}
curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0
{code}

is failing with error:

{code:java}
ERROR: Unexpected argument: --

Usage: bash [OPTION]... [version [ca_version [thirdparty_version]]]

OPTIONS:
-h|--help Print this message
-d Bypass docker image download
-s Bypass fabric-samples repo clone
-b Bypass download of platform-specific binaries

EXAMPLES:
To download docker images for version 1.3.0
==> /usr/local/Cellar/bash/4.4.23/bin/bash -sb 1.3.0
{code}

Similarly, if I run the bootstrap.sh script locally it fails with same error:

{code:java}
fabric/scripts/bootstrap.sh 1.3.0
{code}

The problem has been reproduced from mac os.

The problem seems to be caused by FAB-12211 https://gerrit.hyperledger.org/r/#/c/27032/
 ",,denyeart,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12211,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000ef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 9:41 PM;denyeart;[~tijohnson] [~ChristopherFerris] I've pushed a fix: https://gerrit.hyperledger.org/r/#/c/27778/;;;","28/Nov/18 11:02 PM;tijohnson;The problem is almost certainly because 'getopt', which is not a built-in (like getopts).

This revert will certainly get you going again. Another solution (as this issue is specific to OS X) is to have OS X users install 'getopt' on their machines. Although getopts could be used for this simple script, getopt is widely used in Linux. I know NOTHING about OS X but I assume it would not be hard to install this on OS X.;;;","29/Nov/18 12:15 AM;tijohnson;[mailto:enyeart@us.ibm.com] [mailto:chrisfer@us.ibm.com]

I have pushed a possible fix: https://gerrit.hyperledger.org/r/#/c/27782/
This fix uses getopts builtin  instead of getopt;;;","29/Nov/18 2:33 AM;denyeart;[~tijohnson] Thanks, let's go with your fix.;;;",,,,,,,,,,,,,,,,,,,,,
Document specifics in System Chaincode Plugin tutorial,FAB-13010,35645,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,28/Nov/18 2:20 PM,29/Nov/18 1:47 PM,28/Oct/23 3:04 AM,29/Nov/18 1:47 PM,,,,,,,,,,,,,,0,,,,"Based on the discussion in FAB-12975, it seems that the tutorial on System Chaincode Plugin lacks some explicit/direct instructions.

We can add notes on:
1. Golang stdlib matching => go toolchain version should match
2. Flag to enable dynamically linked peer in docker",,ChanderGovindarajan,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12965,,,,FAB-12975,,,,,,,,,,,,,,FAB-12965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000en:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Nov/18 2:21 PM;ChanderGovindarajan;[~denyeart] Is this acceptable?;;;","29/Nov/18 3:28 AM;denyeart;[~ChanderGovindarajan] Documentation improvements are always acceptable. Please coordinate the content updates with maintainer [~muralisr] who is intending to make related updates in FAB-12965. ;;;","29/Nov/18 1:46 PM;ChanderGovindarajan;[~denyeart], good to know that this is already being tracked.;;;",,,,,,,,,,,,,,,,,,,,,,
Add kafka consensus-type to fabric-samples first-network,FAB-13011,35646,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,28/Nov/18 4:20 PM,14/Dec/18 1:28 PM,28/Oct/23 3:04 AM,13/Dec/18 10:04 PM,,,,,,v1.4.0,,,,fabric-orderer,fabric-samples,,,0,kafka,,,"Augment the fabric-samples first-network sample to include a flag that allows a choice of  consensus-type.

Add a flag -o that allows users to choose between the solo or kafka consensus-type of the ordering service.

Use a single orderer node.

Use a single kafka server and a single zookeeper node.

Add two containers when kafka is selected - one for kafka one for zookeeper.",,denyeart,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12762,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000ev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Nov/18 8:06 PM;tock;[https://gerrit.hyperledger.org/r/#/c/27770/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Robust-ify the latest idemix tests (for Fabric 1.4 onwards) so that they work ALL the TIME,FAB-13012,35653,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,JonathanLevi,JonathanLevi,28/Nov/18 9:10 PM,03/Dec/18 5:32 PM,28/Oct/23 3:04 AM,03/Dec/18 5:32 PM,v1.4.0,,,,,v1.4.0,,,,,,,,0,idemix,,,"Some of the new idemix tests may either have a side-effect or have some external ""assumptions"" that should not be there. When running a clean run of the latest master branch 

git rev-parse HEAD
*17aae5cb8011c0052463662668b2ec036d43c0eb*

date
*Wed Nov 28 04:03:23 PST 2018*

I have been able to get this error thrown (sometimes!):

 

ok [github.com/hyperledger/fabric/bccsp/idemix|http://github.com/hyperledger/fabric/bccsp/idemix]12.292s coverage: 89.7% of statements
Running Suite: Plain Suite
==========================
Random Seed: 1543402834
Will run 90 of 90 specs

•••••
------------------------------
• Failure [0.855 seconds]
Idemix Bridge
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:20|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:20]
issuer
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:37|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:37]
public key import
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:103|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:103]
and it is modified
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:117|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:117]
fails to validate invalid issuer public key [It]
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:129|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:129]

Expected an error to have occurred. Got:
<nil>: nil

/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:136|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:136]
------------------------------
••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••

Summarizing 1 Failure:

[Fail] Idemix Bridge issuer public key import and it is modified [It] fails to validate invalid issuer public key
/Users/macuser/go/src/[github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:136|http://github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:136]

Ran 90 of 90 Specs in 53.070 seconds
FAIL! -- 89 Passed | 1 Failed | 0 Pending | 0 Skipped
--- FAIL: TestPlain (53.07s)
FAIL
coverage: 96.5% of statements
FAIL [github.com/hyperledger/fabric/bccsp/idemix/bridge|http://github.com/hyperledger/fabric/bccsp/idemix/bridge]53.957s
ok [github.com/hyperledger/fabric/bccsp/idemix/handlers|http://github.com/hyperledger/fabric/bccsp/idemix/handlers]0.613s coverage: 97.4% of statements
? [github.com/hyperledger/fabric/bccsp/idemix/handlers/mock |http://github.com/hyperledger/fabric/bccsp/idemix/handlers/mock][no test files]

 

-----

While at the same time, this passed (individually, both for me and for Angelo).

It is worth spending some time tackling this, so that other don't waste as much time on this, in Fabric 1.4 and/or onwards.

 ",,angelo.decaro,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000g7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,JonathanLevi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 9:32 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27777/;;;","28/Nov/18 9:33 PM;JonathanLevi;Thanks Angelo.;;;","28/Nov/18 9:33 PM;angelo.decaro;The issue can happen cause the way a proof is invalidate during a bad path test does not always succeed. That patch fixes this issue.;;;",,,,,,,,,,,,,,,,,,,,,,
address code review comments for reconciliation enablement (CR#26604),FAB-13013,35656,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nirro,nirro,nirro,28/Nov/18 10:27 PM,04/Dec/18 4:53 PM,28/Oct/23 3:04 AM,04/Dec/18 4:53 PM,,,,,,v1.4.0,,,,fabric-gossip,,,,0,,,,"need to fix comments of the following CR:
https://gerrit.hyperledger.org/r/#/c/26293/",,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11781,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i000gn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 9:24 PM;nirro;https://gerrit.hyperledger.org/r/27808;;;",,,,,,,,,,,,,,,,,,,,,,,,
Unable to open generated archives.log.gz file,FAB-13014,35658,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,rameshthoomu,pandrejko,pandrejko,28/Nov/18 10:40 PM,02/Dec/18 10:38 AM,28/Oct/23 3:04 AM,02/Dec/18 10:38 AM,,,,,,,,,,fabric-ci,,,,0,,,,"I received this e-mail about a broken link but I'm not able to open (or download) the file [archives.log.gz|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-docs-build-x86_64/1015/archives.log.gz] in the console output below.
{panel}
{quote}fabric-docs-build-x86_64 - Build # 1015 - Failure:
 
 Please refer to the logs server URL for console logs when possible
 and use the Jenkins Build URL as a last resort.
 
 Console Logs URL:
 [https://urldefense.proofpoint.com/v2/url?u=https-3A__logs.hyperledger.org_production_vex-2Dyul-2Dhyp-2Djenkins-2D3_fabric-2Ddocs-2Dbuild-2Dx86-5F64_1015&d=DwICaQ&c=jf_iaSHvJObTbx-siA1ZOg&r=g2TmmAGPlDZEnJj18lhpjA&m=aIcu06NUrf3ls7LucuxT1LAKL9v6J1BZxIW6Fdpi0oc&s=yHN3b12V8FZfiPG36PBOyOhyWIC-u2B76Aoe5aBjzB4&e=]
 
 Jenkins Build URL:
 [https://urldefense.proofpoint.com/v2/url?u=https-3A__jenkins.hyperledger.org_job_fabric-2Ddocs-2Dbuild-2Dx86-5F64_1015_&d=DwICaQ&c=jf_iaSHvJObTbx-siA1ZOg&r=g2TmmAGPlDZEnJj18lhpjA&m=aIcu06NUrf3ls7LucuxT1LAKL9v6J1BZxIW6Fdpi0oc&s=2QpXZaqmCQEczSNXe5lJgXT2QFIi3YQ8jA2aZb5QmoY&e=]{quote}
 
 
 
 
 {panel}
 
 
 
In 52 minutes HyperLedger Fabric Scrum on Rocket chat 9:30 am",,pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000h3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Dec/18 10:22 AM;rameshthoomu;[~pandrejko] I see the post build action is failed to send the correct URL in the email address. See the below error log
{code:java}
java.lang.InterruptedException
00:30:58 Build step 'Execute Scripts' changed build result to UNSTABLE
00:30:58 Build step 'Execute Scripts' marked build as failure
00:30:58 /home/jenkins/.local/bin/deploy: line 124: 3572 Terminated curl --netrc --upload-file ""$workspace/archives.zip"" ""${nexus_url}/service/local/repositories/logs/content-compressed/${nexus_path}""
00:30:58 /w/workspace/fabric-docs-build-x86_64
00:30:58 /tmp/jenkins2424442264995229922.sh: line 64: 3548 Terminated lftools deploy archives -p ""$ARCHIVE_ARTIFACTS"" ""$NEXUS_URL"" ""$NEXUS_PATH"" ""$WORKSPACE""{code}
Note: When you receive an email with build log information, please click on console.log.gz to see the failed build log information.

Closing this bug for now. Create new one if you see this again.;;;",,,,,,,,,,,,,,,,,,,,,,,,
The Integration Tests are failing consistently(e2e ./integration/e2e) in the master for the nightly release job,FAB-13015,35659,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wlahti,sambhavdutt,sambhavdutt,28/Nov/18 11:09 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,29/Nov/18 4:10 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"The integration test is failing consistently in the nightly-release-job-master, in  *e2e_test.go:313*


{code:java}
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.138 UTC [gossip.service] func1 -> INFO 066 Elected as a leader, starting delivery service for channel testchannel2
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.139 UTC [deliveryClient] try -> WARN 067 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 1s
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.139 UTC [blocksProvider] DeliverBlocks -> WARN 068 [testchannel1] Receive error: client is closing
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.139 UTC [gossip.gossip] Stop -> INFO 069 Stopping gossip
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.139 UTC [gossip.discovery] Stop -> INFO 06a Stopping
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.139 UTC [gossip.discovery] Stop -> INFO 06b Stopped
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.140 UTC [gossip.comm] Stop -> INFO 06c Stopping
23:37:40 [e][Org1.peer0] 2018-11-28 04:37:40.140 UTC [gossip.comm] Stop -> INFO 06d Stopped
23:37:40 [e][OrdererOrg.orderer] 2018-11-28 04:37:40.143 UTC [orderer.common.server] handleSignals -> INFO 096 Received signal: 15 (terminated)
23:37:40 
23:37:40 ------------------------------
23:37:40 • Failure [18.081 seconds]
23:37:40 EndToEnd basic single node etcdraft network with 2 orgs and 2 channels [It] executes a basic etcdraft network with 2 orgs and 2 channels 
23:37:40 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/e2e_test.go:313
23:37:40 
23:37:40   No future change is possible.  Bailing out early after 0.264s.
23:37:40   Expected
23:37:40       <int>: 1
23:37:40   to match exit code:
23:37:40       <int>: 0
23:37:40 
23:37:40   /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/deploy.go:83
23:37:40 ------------------------------
23:39:18 ••••
23:39:18 
23:39:18 Summarizing 1 Failure:
23:39:18 
23:39:18 [Fail] EndToEnd basic single node etcdraft network with 2 orgs and 2 channels [It] executes a basic etcdraft network with 2 orgs and 2 channels 
23:39:18 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/deploy.go:83
23:39:18 
23:39:18 Ran 11 of 11 Specs in 324.987 seconds
23:39:18 FAIL! -- 10 Passed | 1 Failed | 0 Pending | 0 Skipped
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-master-x86_64/220/

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-x86_64/220/consoleFull",,denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,8719f8bbd19cf3c4036b6cdc36d64ce3042794ee,Unset,No,,,"1|i000hb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 12:09 AM;wlahti;Noticing this failure consistently in Jenkins for CRs and also while running the test locally.;;;","29/Nov/18 12:29 AM;wlahti;Appears to be caused by this recently merged CR: [https://gerrit.hyperledger.org/r/c/27503/.|https://gerrit.hyperledger.org/r/c/27503/] I checked out the commit just prior to that one and the integration test for Raft passes again.

[~yacovm] - can you take a look?;;;","29/Nov/18 12:50 AM;yacovm;I might be mistaken but it seems like it failed because of:

{code}

06:37:40 • Failure [18.081 seconds]
06:37:40 EndToEnd basic single node etcdraft network with 2 orgs and 2 channels [It] executes a basic etcdraft network with 2 orgs and 2 channels 
06:37:40 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/e2e_test.go:313
06:37:40 
06:37:40   No future change is possible.  Bailing out early after 0.264s.
06:37:40   Expected
06:37:40       <int>: 1
06:37:40   to match exit code:
06:37:40       <int>: 0
06:37:40 
06:37:40   /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/nwo/deploy.go:83
06:37:40 ------------------------------
{code}

which is chaincode install... no? I don't think it's related to raft. ;;;","29/Nov/18 1:03 AM;wlahti;Oops, my bad. You're correct that it isn't caused by that CR. Thought I had tried checking out the code at both FAB-12552 and FAB-12816 and run the test but I must have accidentally gone back to master instead. 

I'll track this down further and report back.;;;","29/Nov/18 1:26 AM;wlahti;Ah, here it is. Caused by [https://gerrit.hyperledger.org/r/c/27103/,] which changed the behavior of failed installs.

The integration tests would have failed for this CR had it been rebased in the last month before it was merged. I'll push a CR shortly. ;;;","29/Nov/18 2:07 AM;wlahti;https://gerrit.hyperledger.org/r/c/27786/;;;",,,,,,,,,,,,,,,,,,,
Documenting java chaincode parity wherever necessary,FAB-13016,35660,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,joe-alewine,joe-alewine,joe-alewine,28/Nov/18 11:27 PM,23/Jan/19 11:25 AM,28/Oct/23 3:04 AM,23/Jan/19 11:25 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"So there are places where it will be good to mention these changes. We have made a lot of these changes already, but for example the Fabcar sample now can use java.

If people have places where they would like for this to be mentioned and any language they think is appropriate, please post it as a comment here.",,denyeart,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-1,,,No,,Unset,No,,,"1|i000hj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/19 11:25 AM;denyeart;I v1.4 parity items were documented in fabric-chaincode-java release notes, I think that is sufficient. (note that the java Fabcar sample did not get merged for v1.4).;;;",,,,,,,,,,,,,,,,,,,,,,,,
Intermittent fails in fabric-unit-test-daily-release-1.3 <x86_64> as context deadline exceeded in client_test.go,FAB-13017,35661,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,28/Nov/18 11:41 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,04/Dec/18 1:31 AM,v1.3.0,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"The fabric-unit-test-daily  <release-1.3> branch failing intermittently  as context deadline exceeded in client_test.go, Observed the below error

{code:java}
19:24:04 unit-tests_1  | --- FAIL: TestTLSClient (0.14s)
19:24:04 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	client_test.go:42
19:24:04 unit-tests_1  | 		
	Error:      	Received unexpected error:
19:24:04 unit-tests_1  | 		
	            	context deadline exceeded
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-x86_64/67/

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-x86_64/67/consoleFull",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d200615cd6f95f5ec19cf89fc5198aa754bfd57b,Unset,No,,,"1|i000hr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 2:54 AM;denyeart;[~sambhavdutt] Can you clarify whether this happens consistently, just once, or intermittently?;;;","30/Nov/18 7:04 PM;sambhavdutt;The test is failing again due to timeout error in *gossip_test.go:473* 

*fabric Commit: d200615cd6f95f5ec19cf89fc5198aa754bfd57b*

Noticed the errors below


{code:java}
00:20:16.056 unit-tests_1  | --- FAIL: TestConnectToAnchorPeers (367.06s)
00:20:16.056 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1529
00:20:16.056 unit-tests_1  | 		
	            	
			asm_amd64.s:2361
00:20:16.056 unit-tests_1  | 		
	Error:      	Didn't stop within a timely manner
00:20:16.056 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
00:20:16.056 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
00:20:16.056 unit-tests_1  | 		
	            	
			gossip_test.go:473
00:20:16.056 unit-tests_1  | 		
	Error:      	Timeout expired!
00:20:16.056 unit-tests_1  | 		
	Test:       	TestConnectToAnchorPeers
00:20:16.057 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	gossip_test.go:1589
00:20:16.057 unit-tests_1  | 		
	            	
			gossip_test.go:483
00:20:16.057 unit-tests_1  | 		
	Error:      	Timeout expired!
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-release-1.3-x86_64/69/consoleFull

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.3-x86_64/69/;;;","04/Dec/18 1:30 AM;sambhavdutt;The unit-tests <release-1.3> are not failing with the Timeouts from multiple builds.;;;","04/Dec/18 1:31 AM;sambhavdutt;The unit-tests <release-1.3> are not failing with the Timeouts from multiple builds.;;;",,,,,,,,,,,,,,,,,,,,,
"Change ""commitment"" glossary entry to ""commit""",FAB-13018,35662,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,28/Nov/18 11:43 PM,29/Nov/18 3:41 AM,28/Oct/23 3:04 AM,29/Nov/18 3:41 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"Commitment is something in cryptography when you send a hidden promise for a value, i.e - a coin toss, and that you cannot change your promise later on when you reveal the value",,joe-alewine,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000hz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Nov/18 11:44 PM;joe-alewine;[~yacovm];;;","28/Nov/18 11:47 PM;yacovm;how can i help?;;;","28/Nov/18 11:52 PM;joe-alewine;I just wanted to make you aware that we had finally opened an issue for this. Will be pushing a CR shortly.;;;","28/Nov/18 11:55 PM;joe-alewine;https://gerrit.hyperledger.org/r/c/27781/;;;",,,,,,,,,,,,,,,,,,,,,
fabric-unit-test-daily-master failed once in Stream Metrics test(interceptor_test.go),FAB-13019,35663,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,sambhavdutt,sambhavdutt,29/Nov/18 1:13 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Dec/18 3:18 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"The fabric-unit-test-daily-master failed once, in _/fabric/common/grpcmetrics/interceptor_test.go:283_    Observed the below errors in this test.


{code:java}
19:12:58 ------------------------------
19:12:58 • Failure [0.007 seconds]
19:12:58 Interceptor
19:12:58 /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:25
19:12:58   Stream Metrics
19:12:58   /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:177
19:12:58     when stream recv returns an error
19:12:58     /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:273
19:12:58       does not increment the update count [It]
19:12:58       /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:278
19:12:58 
19:12:58       Expected error:
19:12:58           <*errors.errorString | 0xc000098030>: {s: ""EOF""}
19:12:58           EOF
19:12:58       not to have occurred
19:12:58 
19:12:58       /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:283
19:12:58 ------------------------------
19:12:58 
19:12:58 
19:12:58 Summarizing 1 Failure:
19:12:58 
19:12:58 [Fail] Interceptor Stream Metrics when stream recv returns an error [It] does not increment the update count 
19:12:58 /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/interceptor_test.go:283

{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/280/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/280/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,5c8a405dde739567e5e996b8be12db8f1ebecf0a,Unset,No,,,"1|i000i7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 2:54 AM;denyeart;[~sambhavdutt] Can you clarify whether this happens consistently, just once, or intermittently?;;;","29/Nov/18 3:06 AM;sambhavdutt;[~denyeart]

This is the first time that the unit-test has failed in the Stream Metrics test.;;;","01/Dec/18 3:18 AM;sambhavdutt;This is a one time flakey fail in the unit-tests. ;;;",,,,,,,,,,,,,,,,,,,,,,
"CouchDB indexing test failed in the daily behave(master) tests in FAB-7251, kafka containers not ready in 300 seconds.",FAB-13020,35664,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,29/Nov/18 1:51 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,04/Dec/18 11:22 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The CouchDB indexing failed because of the timeout error in Master , maybe because this was on Sandbox or a unique fail case, Not prioritizing this as high for now, 

{code:java}
Failing step: Given I have a bootstrapped fabric network of type kafka using state-database couchdb with tls ... failed in 353.845s
Location: CouchDB_index.feature:11
Assertion Failed: The kafka containers are not ready in the allotted time (300 seconds)
Captured stdout:
testConfigs: configs/8da632cef2c511e8aad6fa163e54fdbd

{code}

*Error Log*
https://jenkins.hyperledger.org/sandbox/job/fabric-test-daily-behave-master-x86_64/2/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7251__Test_CouchDB_indexing_using_marbles_chaincode_using_GOLANG_with_1_channels_and_1_index_with_1_selector_____1_1_/
",,AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,1f75139,Unset,No,,,"1|i000if:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 11:22 PM;sambhavdutt;There is no timeout error from several builds.;;;",,,,,,,,,,,,,,,,,,,,,,,,
What's new in v1.4,FAB-13021,35665,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 3:00 AM,10/Dec/18 11:49 PM,28/Oct/23 3:04 AM,10/Dec/18 11:49 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"# Programming model.
 # Developing Apps doc section.
 # Serviceability.
 # Long Term Supported Version of Fabric.
 # Samples improvements.
 # Java chaincode parity.
 # Function test interoperability suite.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|i000in:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Dec/18 5:23 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/27998/;;;",,,,,,,,,,,,,,,,,,,,,,,,
fabric-ca service test is failing intermittently in FAB-6489,FAB-13022,35666,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,29/Nov/18 3:35 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,06/Jan/19 12:56 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"There is intermittent fail in the *Interoperability Test using solo based orderer -- @1.3* in the fabric-ca Service tests, in the daily Behave tests. There is an Assertion error and the expected container is not working. 

Intermittent: Yes

Branches: release-1.4, master

Error Snippet:
{code:java}
Failing step: And an admin deploys chaincode at path ""../../fabric-samples/chaincode/chaincode_example02/java"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""JAVA"" ... failed in 320.370s
Location: fabric-ca.feature:22
Assertion Failed: The expected chaincode container b156b0c0f1e111e8b689fa163ea54ef2-peer0.org1.example.com-mycc-0 is not running

{code}

*Error Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/4/Behave_Test_Logs/peer0.org1.example.com_FAB-6489:_Interoperability_Test_using_solo_based_orderer_--_@1.3_.log

*Build Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/114/Behave_Test_Logs/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/4/Behave_Test_Logs/",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,1f75139,Unset,No,,,"1|i000iv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 4:49 AM;latitiah;2 separate issues here: 
 1. npm install issues
{code:java}
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""npm WARN deprecated @types/winston@2.4.4: This is a stub types definition. winston provides its own type definitions, so you do not need this installed.\nnpm WARN deprecated boom@4.3.1: This version is no longer maintained. Please upgrade to the latest version.\nnpm ERR! cb() never called!\n\nnpm ERR! This is an error with npm itself. Please report this error at:\nnpm ERR!     <https://github.com/npm/npm/issues>\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-11-27T05_07_43_233Z-debug.log\n""\n
{code}
2. and the javaenv image looks to be missing from the environment
{code:java}
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-javaenv:amd64-1.4.0: API error (404): manifest for hyperledger/fabric-javaenv:amd64-1.4.0 not found\n
{code};;;","29/Nov/18 11:58 PM;scottz;Both of those actually seem familiar.

[~vijaypunugubati] Did you create bug for the first one? I expect you probably saw it while digging through logs for https://gerrit.hyperledger.org/r/#/c/27768/.

[~rameshthoomu] We've been fighting javaenv issues for awhile now; can you provide any info about the second one?;;;","01/Dec/18 4:04 AM;vijaypunugubati;Please check this link https://jira.hyperledger.org/browse/FAB-13075 for the above issue number-1.;;;","01/Dec/18 5:51 AM;scottz;That 13075 is an epic, currently set to v2.0, to upgrade node to version 10 and to remove dependency on x509 library. That will not be fixed now in 1.4, so...  is this a true failure that will block v1.4 release? Do we need to open a BUG in v1.4 for this, or is there some other workaround?;;;","06/Jan/19 12:56 AM;sambhavdutt;The Interop test is passing now in the last day's run for 

*FAB-6489: Interoperability Test using solo based orderer with a leveldb db using the NodeJS SDK with JAVA chaincode -- @1.3*

*Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/20/testReport/fabric-ca/Fabric-CA%20Service/FAB_6489__Interoperability_Test_using_solo_based_orderer_with_a_leveldb_db_using_the_NodeJS_SDK_with_JAVA_chaincode_____1_3_/;;;",,,,,,,,,,,,,,,,,,,,
Documentation for v1.4,FAB-13023,35667,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,,joe-alewine,joe-alewine,29/Nov/18 3:42 AM,24/Jan/19 4:04 AM,28/Oct/23 3:04 AM,12/Dec/18 11:06 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,An epic for the required/planned doc for v1.4,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Done,(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-5,,Documentation for v1.4,To Do,No,,Unset,No,,,"1|i000j3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Documenting improved Fabric samples,FAB-13024,35668,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 3:47 AM,12/Dec/18 7:27 AM,28/Oct/23 3:04 AM,12/Dec/18 6:44 AM,v1.4.0,,,,,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,"Documenting the changes associated with FAB-12631.

Will involve describing that Writing Your First App now uses the BYFN network, rather than ""basic network"", and the enhanced functionality of it (it's compatible with the programming model, for example).",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|i000jb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Dec/18 5:23 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/27824/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Serviceability improvements doc,FAB-13025,35669,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 3:53 AM,19/Dec/18 8:28 PM,28/Oct/23 3:04 AM,10/Dec/18 10:03 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"Documentation for three epics:

Troubleshooting: https://jira.hyperledger.org/browse/FAB-11853

Metrics: https://jira.hyperledger.org/browse/FAB-3388

Health monitoring: https://jira.hyperledger.org/browse/FAB-10851",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11853,,,No,,Unset,No,,,"1|i000jj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 5:15 AM;joe-alewine;[~sykesm]

Just an FYI that this is the doc issue for the Serviceability improvements.;;;","09/Dec/18 5:22 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/28008/;;;",,,,,,,,,,,,,,,,,,,,,,,
lockbased_txmgr.commitRWLock can possibly deadlock,FAB-13026,35671,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,Senthil1,anothermoth,anothermoth,29/Nov/18 4:55 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,06/Dec/18 11:35 AM,v1.3.0,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"A hang occurs because lockbased_txmgr.commitRWLock is read locked twice. Once when endorser.ProcessProposal does GetTxSimulator and once when ChaincodeContainerInfo does GetQueryExecutorForLedger. If there is an intervening concurrent attempt to acquire a write lock, the system deadlocks and no more progress can be made.

Find attached stack trace of hung goroutine.

 ",,anothermoth,ChanderGovindarajan,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Nov/18 4:43 AM;anothermoth;stacktrace.txt;https://jira.hyperledger.org/secure/attachment/16326/stacktrace.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000jz:",,,,Unset,Unset,,,"To reproduce:

1) bring up a HLF network with docker containers
2) start a steady stream of transactions submitted with low network timeouts and ignoring errors
3) docker restart A
4) sleep 20
5) peer chaincode invoke utilizing node A
6) if it didn't hang, go back to step 3
7) if it hung, get stack trace from pprof",,Unset,,,,,,Unset,,Unset,,(Please add usage information),anothermoth,ChanderGovindarajan,denyeart,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 2:04 AM;manish-sethi;Since golang locks are not reentrant, a single transaction simulation should not acquire overlapping instances of queryexecuter/txsimulator. This is something that should be handled in peer/chaincode package. [~sykesm];;;","05/Dec/18 3:04 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27925/ merged in master for v1.4.0.;;;","06/Dec/18 2:44 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27969/ release-1.3 for 1.3.1.;;;",,,,,,,,,,,,,,,,,,,,,,
Additional chaincode metrics for launch failure/timeout and execute timeout,FAB-13027,35672,33636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,29/Nov/18 5:02 AM,01/Dec/18 1:37 AM,28/Oct/23 3:04 AM,01/Dec/18 1:37 AM,,,,,,,,,,,,,,0,,,,"As suggested by [~muralisr], adding
 * chaincode launch failures
 * chaincode launch timeouts
 * chaincode execute timeouts",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000k7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 5:09 AM;wlahti;https://gerrit.hyperledger.org/r/c/27789/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Updated bootstrap.sh download script from FAB-12211 doesn't work with options,FAB-13028,35673,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,denyeart,denyeart,denyeart,29/Nov/18 5:25 AM,29/Nov/18 6:39 AM,28/Oct/23 3:04 AM,29/Nov/18 6:39 AM,,,,,,,,,,,,,,0,,,,"The updated bootstrap.sh download script from FAB-12211 doesn't work with options, for example:
curl -sSL http://bit.ly/2ysbOFE | bash -s 1.2.1 1.2.1 -s -b

Between this issue and the prior issue in FAB-13009, it would be better to revert the download script until more testing is performed.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000kf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 5:31 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27791/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Log gossip peer identities as hex strings instead of byte array values,FAB-13029,35677,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,29/Nov/18 6:21 AM,01/Dec/18 2:15 AM,28/Oct/23 3:04 AM,01/Dec/18 2:15 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000lb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 6:22 AM;sykesm;https://gerrit.hyperledger.org/r/27792 [FAB-13029] stringers avoid logging slice values;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Create new docs for deployment, operations",FAB-13031,35679,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 7:08 AM,10/Jan/20 11:10 PM,28/Oct/23 3:04 AM,10/Jan/20 11:10 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,,,joe-alewine,pandrejko,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000lr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,pandrejko,Vishal3152,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/20 7:56 AM;pandrejko;Currently working on.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Deployment guide,FAB-13032,35680,35679,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 7:09 AM,10/Jan/20 11:10 PM,28/Oct/23 3:04 AM,10/Jan/20 11:10 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000lz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer operations,FAB-13033,35681,35679,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,joe-alewine,joe-alewine,joe-alewine,29/Nov/18 7:10 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,stale-item,,,,,joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000m7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
cryptogen: generate SAN for TLS CA certificate,FAB-13034,35682,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,jamesruan,jamesruan,29/Nov/18 11:14 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-tools,,,,0,stale-item,,,It is allowable to define SAN field in CA section but no SAN field is generated in the TLS certificate.,,jamesruan,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13064,,,,,,FAB-3456,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000mf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jamesruan,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/18 9:58 PM;mastersingh24;https://jira.hyperledger.org/browse/FAB-13064?focusedCommentId=54163&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-54163;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
decouple plugin bccsp and host programs,FAB-13036,35684,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,mazyblue,mazyblue,mazyblue,29/Nov/18 3:32 PM,19/Aug/19 2:53 PM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-crypto,,,,0,,,,"In order to decouple plugins and host programs, go plugins should not depend on the host program's symbol.
(See [https://github.com/golang/go/issues/20481]  [https://github.com/akutz/gpds] )

The current bccsp interface is not implemented according to this best practice, so the bccsp plugin must be compiled and packaged in the same project with the fabric source code, and it needs to be recompiled synchronously when the fabric version is upgraded.",,mazyblue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000mv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mazyblue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"remove CollectionSupport and refactor peer.go, collection store, and gossip",FAB-13037,35686,35760,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,29/Nov/18 4:49 PM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,"Remove CollectionSupport defined in core/peer/peer.go and respective methods on them.

{{type CollectionSupport struct}}

{{     ledger.PeerLedger}}
 {{}}}

{{func (cs *CollectionSupport) GetQueryExecutorForLedger(cid string) (ledger.QueryExecutor, error) {}}
{{         return cs.NewQueryExecutor()}}
{{}}}

{{func (*CollectionSupport) GetIdentityDeserializer(chainID string) msp.IdentityDeserializer { }}
{{         return mspmgmt.GetManagerForChain(chainID)}}
{{}}}

CollectionSupport is created per chain and is passed to the simple collection store and the gossip. As it is created per chain, there is no need to pass the channelID for both GetQueryExecutorForLedger() and GetIdentityDeserializer(). Note that the cid passed to GetQueryExecutorForLedger is never used. Instead, we can directly pass the ledger.PeerLedger and msp.IdentityDeserializer to the simpleCollectionStore and pass only the msp.IdentityDeserializer to the gossip in createChain(). 

This will simplify the collection ACL which is to be performed at the peer chain code handler. Further, we need to refactor the existing code for readability. ",,MichaelWang,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000n3:",,,,Unset,Unset,v2.x,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),MichaelWang,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
add simpleCollectionStore to transactionContext,FAB-13038,35687,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,29/Nov/18 4:51 PM,03/Dec/18 11:42 PM,28/Oct/23 3:04 AM,03/Dec/18 11:42 PM,,,,,,,,,,,,,,0,,,,We need simpleCollectionStore in the transactionContext so that we can check whether the creator has access to the collection or not. ,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000nb:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
check membership info and perform ACL on private data access,FAB-13039,35688,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,29/Nov/18 4:52 PM,03/Dec/18 11:42 PM,28/Oct/23 3:04 AM,03/Dec/18 11:42 PM,,,,,,,,,,,,,,0,,,,"using the simpleCollectionStore in transactionContext, get the policy and evaluate it against the signedData to decide whether a private data access should be allowed or not. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000nj:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
use cache in txContext to avoid repeated collection ACL check,FAB-13040,35689,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,29/Nov/18 4:54 PM,03/Dec/18 11:42 PM,28/Oct/23 3:04 AM,03/Dec/18 11:42 PM,,,,,,,,,,,,,,0,,,,"We need to introduce a cache (i.e., Golang map) in the txContext so that we can avoid repeating the same collection ACL check for a given <ns, coll> during privateData access. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000nr:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
add a new parameter called `ReadAccessForNonMembers` in collection config,FAB-13041,35690,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,29/Nov/18 5:00 PM,18/Jan/19 12:14 AM,28/Oct/23 3:04 AM,03/Dec/18 11:42 PM,,,,,,,,,,,,,,0,,,,"We need to provide a new parameter named `memberOnlyRead` in the collectionConfig. 

Default when unset is false for compatibility with prior behavior, but set to 'true' in docs and samples.",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000nz:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
introduce capability tag if needed,FAB-13042,35692,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,29/Nov/18 5:00 PM,03/Dec/18 3:43 AM,28/Oct/23 3:04 AM,03/Dec/18 3:43 AM,,,,,,,,,,,,,,0,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000of:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/18 3:43 AM;denyeart;Not needed since there is no validation impact.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Document Prerequisites for Unit Test,FAB-13043,35694,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ynamiki,ynamiki,ynamiki,29/Nov/18 5:26 PM,18/Dec/18 9:50 PM,28/Oct/23 3:04 AM,18/Dec/18 9:50 PM,v1.3.0,,,,,,,,,fabric-docs,,,,0,,,,"We need to setup SoftHSM to run the unit test. Without this, the unit test will fail. The document should have the setup steps.

libsofthsm2 is not installed:
{code}
make unit-test
Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library: Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library  ForFabric: No PKCS11 library default]FAIL   github.com/hyperledger/fabric/bccsp/pkcs11      0.016s
{code}

libsofthsm2 is installed, but not configured:
{code}
make unit-test
Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library:/usr/lib/softhsm/libsofthsm2.so Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library /usr/lib/softhsm/libsofthsm2.so ForFabric: Could not get Slot List [pkcs11: 0x190: CKR_CRYPTOKI_NOT_INITIALIZED]]FAIL github.com/hyperledger/fabric/bccsp/pkcs11  0.038s
{code}

",,ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ynamiki,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 3:53 PM;ynamiki;https://gerrit.hyperledger.org/r/27800;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add fabcar chaincode sample using old programming model (Java),FAB-13044,35696,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sstone1,sstone1,sstone1,29/Nov/18 7:03 PM,06/Mar/19 11:44 PM,28/Oct/23 3:04 AM,06/Mar/19 11:44 PM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000p3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add fabcar application sample using old programming model (Java),FAB-13045,35697,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sstone1,sstone1,sstone1,29/Nov/18 7:04 PM,06/Mar/19 11:44 PM,28/Oct/23 3:04 AM,06/Mar/19 11:44 PM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000pb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
TypeScript fabcar contract sample broken by sinon changes,FAB-13046,35698,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,29/Nov/18 7:04 PM,03/Dec/18 3:58 PM,28/Oct/23 3:04 AM,03/Dec/18 3:58 PM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000pj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 7:07 PM;sstone1;https://gerrit.hyperledger.org/r/c/27801/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"If you attempt to put private data in Init, you do not get a good error message",FAB-13050,35702,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,denyeart,denyeart,29/Nov/18 10:04 PM,05/Dec/18 10:26 PM,28/Oct/23 3:04 AM,05/Dec/18 10:26 PM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Put of private data is not allowed in Init() since the private data collection configuration is not yet committed on the channel.

You will get an error like:
Failed to handle PUT_STATE. error: collection config not defined for chaincode [common], pass the collection configuration upon chaincode definition/instantiation

Need to provide a better error message indicating that it is not allowed in Init(). Also need to document this as well.",,denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i000qf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 1:15 AM;manish-sethi;Ledger does not have a context whether the call is coming from init or invoke. Chaincode handler is the perhaps the right place for this. [~sykesm];;;","04/Dec/18 3:47 AM;denyeart;[~Senthil1] Could you add a check in chaincode handler?;;;","04/Dec/18 5:06 AM;Senthil1;Sure, Dave.;;;","05/Dec/18 3:03 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27918/;;;",,,,,,,,,,,,,,,,,,,,,
The unit-test-daily-x86_64 in master branch failed once in 'Test Server Interceptor' (server_test.go:1832) tests.,FAB-13052,35706,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,29/Nov/18 10:19 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,04/Dec/18 1:24 AM,v1.4.0,,,,,,,,,fabric-common,,,,0,ci-flake,,,"There is a one time fail observed in the daily unit-tests, x86_64, in Master branch. Noticed errors in  +server_test.go:1832+ ,

{code:java}
00:18:36.496 2018-11-29 00:16:59.820 UTC [ConnProducer] DisableEndpoint -> WARN 001 Only 1 endpoint remained, will not black-list it
00:18:36.496 --- FAIL: TestServerInterceptors (0.03s)
00:18:36.496     <autogenerated>:1: 
00:18:36.496         	Error Trace:	server_test.go:1832
00:18:36.496         	Error:      	Not equal: 
00:18:36.496         	            	expected: ""EOF""
00:18:36.497         	            	actual  : ""error from interceptor""
00:18:36.497         	            	
00:18:36.497         	            	Diff:
00:18:36.497         	            	--- Expected
00:18:36.497         	            	+++ Actual
00:18:36.497         	            	@@ -1 +1 @@
00:18:36.497         	            	-EOF
00:18:36.497         	            	+error from interceptor
00:18:36.497         	Test:       	TestServerInterceptors
00:18:36.497         	Messages:   	Expected error from second ssi
00:18:36.497 2018-11-29 00:17:00.872 UTC [comm] GetDeliverServiceCredentials -> ERRO 002 Attempted to obtain root CA certs of a non existent channel: C
00:18:36.497 2018-11-29 00:17:02.323 UTC [ConnProducer] NewConnection -> ERRO 003 Failed connecting to c , error: Failed connecting to c
00:18:36.497 2018-11-29 00:17:02.324 UTC [ConnProducer] NewConnection -> ERRO 004 Failed connecting to a , error: Failed connecting to a
00:18:36.497 2018-11-29 00:17:02.324 UTC [ConnProducer] NewConnection -> ERRO 005 Failed connecting to b , error: Failed connecting to b
00:18:36.498 2018-11-29 00:17:02.331 UTC [comm] GetPeerCredentials -> WARN 006 Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
00:18:36.498 FAIL
00:18:36.498 coverage: 91.0% of statements
00:18:36.498 FAIL	github.com/hyperledger/fabric/core/comm	11.978s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/281/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/281/

",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,edc43d0b6d0c4fcc8cc227a52393503886c803c2,Unset,No,,,"1|i000rb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 3:39 AM;sambhavdutt;This is a one time flakey error observed in unit-tests. ;;;","04/Dec/18 1:24 AM;sambhavdutt;This is a one time flakey failed case.;;;",,,,,,,,,,,,,,,,,,,,,,,
Add UT to attest retransmission of lost MsgApp,FAB-13053,35707,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,29/Nov/18 10:21 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,13/Dec/18 9:38 AM,,,,,,,,,,,,,,0,,,,"if a MsgApp is lost on wire, next heartbeat will trigger the retransmission of it. We should add an UT to attest this behavior.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000rj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"29/Nov/18 10:24 PM;guoger;https://gerrit.hyperledger.org/r/c/27804/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address overflow in system channel bootstrap,FAB-13054,35711,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Nov/18 11:35 PM,11/Dec/18 12:06 AM,28/Oct/23 3:04 AM,11/Dec/18 12:06 AM,,,,,,,,,,,,,,0,,,,"Currently, the method IsReplicationNeeded checks whether the last block in the ledger is less than the bootstrap block's sequence in order to decide whether replication is needed or not. 

However, if the ledger contains 0 blocks, to get the latest sequence - it subtracts 1 from the ledger's height. 
Since the ledger height is represented in uint64 - subtracting one overflows to the max integer number, which causes a false negative. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000rz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 8:12 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28033/;;;",,,,,,,,,,,,,,,,,,,,,,,,
LedgerFactory close() prevents subsequent re-opening ,FAB-13055,35712,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Nov/18 11:37 PM,11/Dec/18 12:06 AM,28/Oct/23 3:04 AM,11/Dec/18 12:06 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"The current code of the replication closes the ledger factory, which prevents further re-opening of new ledgers. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000s7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 8:24 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28034/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Use bootstrap block system channel ID instead of from orderer.yaml,FAB-13056,35713,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,29/Nov/18 11:39 PM,11/Dec/18 12:07 AM,28/Oct/23 3:04 AM,11/Dec/18 12:06 AM,,,,,,,,,,,,,,0,,,,"The system channel ID in the onboarding code is using the orderer.yaml system channel ID, but it should really come from the bootstrap block. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000sf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 9:09 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28037/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Orderer node that joins from a recent config block expects a WAL to exist,FAB-13057,35714,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,yacovm,yacovm,29/Nov/18 11:42 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,12/Dec/18 7:18 AM,,,,,,,,,,,,,,0,,,,"If an orderer node joins the chain after blocks exist in it, it expects the WAL to exist, and fails because of it. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000sn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Dec/18 7:18 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28005/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts in fabric-samples,FAB-13058,35715,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,vijaypunugubati,vijaypunugubati,vijaypunugubati,29/Nov/18 11:55 PM,04/Jan/19 12:06 AM,28/Oct/23 3:04 AM,04/Jan/19 12:06 AM,,,,,,,,,,fabric-ci,fabric-samples,,,0,,,,,,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13433,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000sv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 6:15 AM;vijaypunugubati;Ram;;;","04/Jan/19 12:06 AM;vijaypunugubati;Duplicated and done.;;;",,,,,,,,,,,,,,,,,,,,,,,
Prune stale WAL and Snapshot files when new snapshot is taken,FAB-13059,35718,32829,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,guoger,guoger,guoger,30/Nov/18 2:33 AM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,31/Jan/19 11:47 PM,v2.0.0,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"A decision to be made:

etcd retains several (5 by default) stale wal/snap files, so that if the latest one is corrupted, it can read older ones.

Should we do the same?

This is better answered with:
{quote}
if one ledger file is corrupted, is orderer/peer still able to boot with the latest intact one before that file? (effectively with less height and need to catch up with other nodes)
{quote}

pls chime in [~yacovm] [~kchristidis]",,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000v3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Jan/19 7:45 PM;guoger;https://gerrit.hyperledger.org/r/c/28849/
https://gerrit.hyperledger.org/r/c/28850
https://gerrit.hyperledger.org/r/c/28880;;;","22/Jan/19 6:13 PM;yacovm;If a ledger file is corrupted then you can in theory remove it and delete the index files.
However I don't see how this is relevant? We're talking here about automatic recovery vs. manual recovery, no?;;;","22/Jan/19 7:29 PM;guoger;my thinking process is, you can do exactly the same to raft:
{quote} If a -ledger- wal file is corrupted then you can in theory remove it -and delete the index files.- {quote}
so, i guess we don't need to retain extra wal/snap files in case of corruption, since we don't do that to ledger files anyway.

obviously, delete of files need to be done manually...;;;","22/Jan/19 10:33 PM;yacovm;But does etcdraft use the alternative files if it files that some files are corrupt or do you need a manual intervention?;;;","24/Jan/19 9:07 AM;kchristidis;{quote}so, i guess we don't need to retain extra wal/snap files in case of corruption, since we don't do that to ledger files anyway.{quote}
I'm not sure I follow, can you expand? (I'd lean towards yes, on keeping older WAL files, but I want to make sure I get everything.)

I also think Yacov's question is key here.;;;","24/Jan/19 11:38 AM;guoger;the question is: *how many wal/snap files should we retain?*

Theoretically speaking, we only need the *latest* snap file _and_ wal files *after* that. (my current CR does this)

However, if that snap file is corrupted, etcd/snap would attempt to read an older one. Otherwise, operator needs to manually copy from other orderers.

To make a decision like this, i took a look at how we handle corrupted ledger files, and realized (i may be wrong) that we don't...

cc [~kchristidis];;;","24/Jan/19 12:11 PM;kchristidis;So, it sounds like the {{etcd/raft}} library will automatically pick an older snapshot if the most recent one is corrupted. Presumably, this means that we're also keeping all the WAL files needed to restore us to the what {{etcd/raft}} deems as the most recent state _from_ the oldest snapshot file we have laying around?

I still don't get why we're looking at corrupted ledger files though? This seems completely orthogonal?;;;","24/Jan/19 3:26 PM;guoger;{quote}Presumably, this means that we're also keeping all the WAL files needed to restore us to the what etcd/raft deems as the most recent state from the oldest snapshot file we have laying around?
{quote}
yep

{quote} I still don't get why we're looking at corrupted ledger files though? This seems completely orthogonal? {quote}
it *is* orthogonal. i was just using this as a reference, since it's in the same problem space as we have in raft here.

if we could agree on following statement, i guess we could go with the simple solution for now (keeping the latest snap only):
{quote} If some orderer files (ledger or raft) are corrupted, user intervention is required {quote};;;","26/Jan/19 12:07 AM;kchristidis;Just to recap the conclusions we reached during yesterday's scrum: Irrespective of what happens in the ledger component, if we can get this protection against corrupted files by the {{etcd/raft}} library cheaply, then we should go for it. (And we'll go for it.);;;","30/Jan/19 2:07 AM;kchristidis;[https://gerrit.hyperledger.org/r/c/28849/]

[https://gerrit.hyperledger.org/r/c/28850/]

 ;;;",,,,,,,,,,,,,,,
Minor updates to label names in the ledger metrics,FAB-13060,35720,33631,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,30/Nov/18 4:45 AM,01/Dec/18 2:15 AM,28/Oct/23 3:04 AM,01/Dec/18 2:15 AM,,,,,,,,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000vj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Nov/18 4:46 AM;sykesm;https://gerrit.hyperledger.org/r/27820 [FAB-13060] minor label name updates;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create a function to convert a pb.ChaincodeID to the format used in metrics labels,FAB-13061,35721,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,sykesm,sykesm,30/Nov/18 4:50 AM,03/Dec/19 6:57 AM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-common,,,,0,,,,"We have a number of places (at least some in the chaincode package and one in ledger) where we join the chaincode name and version together with a colon to use as the value of a chaincode label.

Given we want consistency in the label names and values, it probably makes sense to create a function somewhere that does the conversion of a *pb.ChaincodeID to the format needed by metrics. Normally that would simply be a method on the object but, since the object is generated by protobuf, it's not the best idea; we certainly can't change the fmt.Stringer implementation of the object...

/cc [~wlahti], [~skarim]",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000vr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Dec/18 2:15 AM;wlahti;-https://gerrit.hyperledger.org/r/c/28386-

Abandoned the CR. ;;;","03/Dec/19 6:57 AM;denyeart;[~sykesm] [~wlahti] Do you want to keep this in the backlog?;;;",,,,,,,,,,,,,,,,,,,,,,,
Document simple asset chaincode for java,FAB-13062,35723,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Invalid,joe-alewine,joe-alewine,joe-alewine,30/Nov/18 7:24 AM,04/Dec/18 6:38 AM,28/Oct/23 3:04 AM,04/Dec/18 6:37 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"When this merges: [https://gerrit.hyperledger.org/r/c/27340/]

Simple asset chaincode will exist in java as well as Go. We'll need to document this here:

[https://hyperledger-fabric.readthedocs.io/en/release-1.3/chaincode4ade.html#simple-asset-chaincode]

And possibly a few words here as well:

https://hyperledger-fabric.readthedocs.io/en/release-1.3/chaincode4noah.html#installing-chaincode",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCJ-1,,,No,,Unset,No,,,"1|hzwrro:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 6:37 AM;joe-alewine;Looking more deeply at these two docs, I think they do a good enough job saying that we can use Java. Don't need more doc.;;;",,,,,,,,,,,,,,,,,,,,,,,,
cryptogen: Not setting the SANS in a certificate (even though we pass the info),FAB-13064,35725,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,30/Nov/18 9:21 AM,03/Apr/19 11:05 PM,28/Oct/23 3:04 AM,03/Apr/19 11:03 PM,v1.4.0,,,,,v1.4.0,,,,fabric-tools,,,,0,,,,The cryptogen tool does not set the SANS values (Alternate DNSNames) even though the yaml file allows this as input to the tool. ,,latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13034,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000wf:",,,,Unset,Unset,,,"Given the following crypto.yaml file:
{code}
OrdererOrgs:
  - Name: MyOrg
    Domain: myorg.com
    CA:
      SANS:
        - myorg.com
        - myorg.org
    Specs:
      - Hostname: myOrderer

PeerOrgs:
  - Name: YourOrg
    Domain: yourOrg.com
    EnableNodeOUs: false
    CA:
      SANS:
        - yourorg.org
        - yourorg.com
    Template:
      Count: 2
    Users:
      Count: 1
{code}",,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Nov/18 9:44 AM;latitiah;https://gerrit.hyperledger.org/r/27828;;;","02/Dec/18 11:09 PM;mastersingh24;SANs have nothing to do with root signing certificates ... therefore they are not added to the CA root certificate(s).  It seems that you likely want to use the root certificates as TLS certificates as well ... which is again not intended and actually is likely to fail with some libraries as the proper usage extensions are not specified;;;","04/Dec/18 8:45 PM;latitiah;I am trying to use a TLS setup. I will verify that I am using the correct certificates with the JavaSDK. I was receiving an error and when I set the SANs it went away (though a different error came in it's place). I will post an update when I get more info.;;;","05/Mar/19 11:48 PM;latitiah;Now that there are times when the fabric-ca-client can be executed against a docker network from a location that is on the host or within the docker network, there is all the more reason to be able to add an alternate DNS to the SANs list for a CA. ;;;","12/Mar/19 3:28 AM;latitiah;This change allows for the use of the cryptogen tool to bootstrap certificate data for a set number of organizations with a single command and config file. While at the same time allowing for the ability to use the fabric-ca-client using the existing certificates generated from cryptogen. 

In order for this to be able to take place, the ability to have additional DNSNames should be allowed (as it is allowed if using fabric-ca server directly). ;;;","03/Apr/19 11:03 PM;latitiah;The TLS certificate is generated from fabric-ca-server if one is not set when starting the server. This generated certificate will contain the additional hostnames if the server start command adds the hostname to the {code}--csr.hosts{code} option. For example, {code}--csr.hosts ca.example.com,localhost{code} adds localhost as a SAN to the certificate. 

It should also be noted that the current codebase does not support IP address SANs.;;;",,,,,,,,,,,,,,,,,,,
Overwhelm a Peer,FAB-13066,35727,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,scottz,scottz,30/Nov/18 10:21 AM,11/Jan/21 2:35 AM,28/Oct/23 3:04 AM,11/Jan/21 2:35 AM,v1.4.0,,,,,Future,,,,fabric-quality,,,,0,,,,"NOTE:  This does not seem to be a good test for any automated test suite, however, we could try this in k8s network with small hosts resources (low cpu and low RAM), and again with just low cpu. (We have run tests already with low GBRAM and troubleshooted the problems - very much slowing response times before finally peer restarts, repeatedly.)

Set up a simple network with 2 orgs with 2 peers per org, solo orderer, one channel and one chaincode, requiring single endorsement, https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go.

Using multiple threads, possibly with multiple PTE tasks pointing at the same peer in the same network, send invoke getPut transactions at high rates (or even escalating rates) to a single peer to see where it chokes. Observe if it gracefully sheds work, and observe if the symptoms are appropriate (helpful logs, error codes, grpc connection requests denied, slowness, crash, etc).

Optionally run iterations by starting first with n threads, then repeat with 2n, 3n, 4n, etc.

Repeat test using sidedb getPutPrivate transactions.

What is the behavior like if this test is run on a vLaunch which has limited CPU resources?
What happens if it is run in a large host in IKS without CPU limitations?
Find the bottlenecks and stress points.",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i000wv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Expose orderer blockcutter metrics,FAB-13067,35730,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Nov/18 12:53 PM,21/Jan/19 8:09 PM,28/Oct/23 3:04 AM,04/Dec/18 6:34 AM,,,,,,v1.4.0,,,,fabric-orderer,,,,0,,,,"The only real tunables for the orderer as far as latency and throughput
goes is the batch parameters.  Therefore, it's critical for network
operators to be able to gain insight into the duration filling a block
takes to know whether they should relax or tighten their batch
parameters.",,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13783,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|i000xj:",,,,Unset,Unset,,,(Please add steps to reproduce),1.0,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 7:44 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27834/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Refactor blockcutter tests,FAB-13068,35731,35730,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Nov/18 12:53 PM,01/Dec/18 7:29 AM,28/Oct/23 3:04 AM,01/Dec/18 7:29 AM,,,,,,,,,,,,,,0,,,,,,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000xr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 7:29 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27833/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Master is broken,FAB-13069,35734,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,30/Nov/18 1:22 PM,01/Dec/18 12:00 AM,28/Oct/23 3:04 AM,30/Nov/18 11:59 PM,,,,,,v1.4.0,,,,,,,,0,,,,"Master currently fails to build with the error

{noformat}
# github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr [github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.test]
core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/txmgr_test.go:1272:6: no new variables on left side of :=
make: *** [Makefile:205: linter] Error 2
{noformat}",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13074,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000yf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
client.newEventHub is not a function,FAB-13070,35736,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,siddjain,siddjain,30/Nov/18 2:11 PM,30/Jun/19 8:28 PM,28/Oct/23 3:04 AM,30/Jun/19 8:28 PM,v1.3.0,,,,,,,,,fabric-samples,,,,0,,,,"in file [https://github.com/hyperledger/fabric-samples/blob/master/balance-transfer/typescript/lib/helper.ts] there is an exception when const eh = client.newEventHub(); is executed in the code below:

 
|if (forPeers) {|
| |targets.push(client.newPeer(ORGS[userOrg].peers[n].requests, grpcOpts));|
| |} else {|
| |const eh = client.newEventHub();|
| |eh.setPeerAddr(ORGS[userOrg].peers[n].events, grpcOpts);|
| |targets.push(eh);|
| |}|

 

there is no method newEventHub defined on the client object",,denyeart,mastersingh24,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000yv:",,,,Unset,Unset,,,run https://github.com/hyperledger/fabric-samples/tree/master/balance-transfer/typescript by following the instructions on the page. when testAPIs.sh is executed it will hang when in the request to join a channel. That is when code above gets executed and the exception happens.,,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,siddjain,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 4:38 AM;denyeart;Looks like references to old event hub need to be cleaned up in balance transfer typescript sample.;;;","30/Jun/19 8:28 PM;mastersingh24;balance transfer is gone;;;",,,,,,,,,,,,,,,,,,,,,,,
State-based EP - wrong documentation ,FAB-13071,35739,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sheetal-hlf,sheetal-hlf,30/Nov/18 3:03 PM,04/Dec/18 5:35 AM,28/Oct/23 3:04 AM,01/Dec/18 2:18 AM,v1.3.0,v1.4.0,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"Documentation and actual APIs differ

1. DelAllOrgs() is mentioned in documentation whereas type statebased.KeyEndorsementPolicy has no field or method DelAllOrgs

2. ListOrgs() described in documentation has return type ([]string, error) however it only returns ([]string)

 

Documentation Link - [https://hyperledger-fabric.readthedocs.io/en/latest/endorsement-policies.html#key-level-endorsement]

 

List of APIs - [https://godoc.org/github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased]

 ",,denyeart,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13008,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000zj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sheetal-hlf,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Nov/18 4:10 PM;sheetal-hlf;As per [KeyEndorsementPolicy |https://godoc.org/github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased#KeyEndorsementPolicy]

Removed DelAllOrgs() and corrected return type for ListOrgs() in documentation

[https://gerrit.hyperledger.org/r/27836] ;;;","01/Dec/18 2:20 AM;denyeart;Thanks, merged.
Also I've cherry picked to release-1.3 docs: https://gerrit.hyperledger.org/r/#/c/27850/;;;",,,,,,,,,,,,,,,,,,,,,,,
Unbounded range queries does not work with index,FAB-13072,35740,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,ShefaliMittal,ShefaliMittal,30/Nov/18 3:07 PM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,06/Dec/18 4:48 AM,v1.3.0,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Hi, 

I am working on marbles example of fabric 1.3. The current implementation of getMarblesByRange is like this - 

 
func (t *SimpleChaincode) getMarblesByRange(stub shim.ChaincodeStubInterface, args []string) pb.Response {

    if len(args) < 2 {
        return shim.Error(""Incorrect number of arguments. Expecting 2"")
    }

    startKey := args[0]
    endKey := args[1]

    resultsIterator, err := stub.GetStateByRange(startKey, endKey)
    if err != nil {
        return shim.Error(err.Error())
    }
    defer resultsIterator.Close()

    buffer, err := constructQueryResponseFromIterator(resultsIterator)
    if err != nil {
        return shim.Error(err.Error())
    }

    fmt.Printf(""- getMarblesByRange queryResult:\n%s\n"", buffer.String())

    return shim.Success(buffer.Bytes())
}
 
If while invoking this function, I try to pass startkey and endkey as an empty string """". It gives me error saying - 
 
GET_STATE_BY_RANGE failed: transaction ID: 1514f7e48055fd83a96a8878bee31e8106693e97147e793d32f20e346a9458c2: version field ~version was not found.
 
 ",,denyeart,ShefaliMittal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i000zr:",,,,Unset,Unset,,,"Run the marbles sample of fabric 1.3
invoke it twice with - 
peer chaincode invoke -C myc1 -n marbles -c '{""Args"":[""initMarble"",""marble1"",""blue"",""35"",""tom""]}'

 peer chaincode invoke -C myc1 -n marbles -c '{""Args"":[""initMarble"",""marble2"",""red"",""50"",""tom""]}'

Now query getMarblesByRange with empty startkey and endkey - 
peer chaincode query -C myc1 -n marbles -c '{""Args"":[""getMarblesByRange"","""",""""]}'


It fails with below error - 
GET_STATE_BY_RANGE failed: transaction ID: 1514f7e48055fd83a96a8878bee31e8106693e97147e793d32f20e346a9458c2: version field ~version was not found.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ShefaliMittal,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 2:11 PM;denyeart;[~ShefaliMittal] I see the issue... when an index is defined it gets created as a document in the CouchDB database. The index document gets returned in the range query, and it doesn't have the expected ~version field defined. The same issue happens if you try to GetState() on a key like ""_design/indexOwnerDoc"". Note that PutState() does not allow keys that begin with an underscore as it is a reserved character in CouchDB. A similar check needs to be made for the chaincode getters, to ignore keys with underscores. For the range query there will additionally be paging implications.

FYI [~Senthil1] [~manish-sethi];;;","04/Dec/18 3:44 AM;denyeart;For v1.4 Fabric can fix by either detecting the missing ~version and adding a dummy version, or pulling these records out of the result set. We will go with the latter. And to ensure we return the expected page size, will requery CouchDB for more records if needed.

A defect will also be opened against CouchDB to not return indexes (metadata) in queries for user data.;;;","05/Dec/18 1:33 PM;denyeart;Merged https://gerrit.hyperledger.org/r/#/c/27915/ to master (v1.4);;;","05/Dec/18 1:56 PM;denyeart;Cherry picked to release-1.3: https://gerrit.hyperledger.org/r/#/c/27948/;;;",,,,,,,,,,,,,,,,,,,,,
"fabric-unit-test-daily <x86_64> failed once in Master branch, panic error observed",FAB-13073,35745,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sambhavdutt,sambhavdutt,30/Nov/18 5:57 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,04/Dec/18 1:27 AM,v1.4.0,,,,,v1.4.0,,,,fabric-orderer,,,,0,ci-failure,,,"The fabric-unit-test-daily failed once in Master branch, <x86_64> platform,  *dispatcher_test.go:67*
 Observed the following errors 
{code:java}
00:18:42.290 FAIL	github.com/hyperledger/fabric/orderer/common/cluster	1.460s

00:18:42.293 2018-11-30 06:01:24.277 UTC [test] OnSubmit -> WARN 011 An attempt to submit a transaction to a non existing channel (notmychannel) was made by 1

00:18:42.293 2018-11-30 06:01:24.278 UTC [test] OnSubmit -> ERRO 012 Failed handling transaction on channel mychannel from 1: backend error
00:18:42.293 github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.TestDispatchSubmit
00:18:42.293 	/w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher_test.go:67

00:18:42.297 •2018-11-30 06:01:25.931 UTC [test] detectSelfID -> ERRO 01e Could not find cert.orderer0.org0 among [cert.orderer1.org1]

00:18:42.300 •••••••••••••••••••••panic: failed to write configuration block, failed to propose configuration update to Raft node: raft: stopped
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/284/

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-daily-master-x86_64/284/consoleFull
",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e4e5946f824a3d5a1b9961bc047df939ccff1db6,Unset,No,,,"1|i0010n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 12:02 AM;denyeart;[~kchristidis] [~yacovm] Can you take a look?;;;","01/Dec/18 12:18 AM;yacovm;i fixed it... https://gerrit.hyperledger.org/r/#/c/27602/ we just need to get it merged;;;","04/Dec/18 1:27 AM;sambhavdutt;I don't see unit-tests failing with the panic error now.;;;",,,,,,,,,,,,,,,,,,,,,,
"fabric-unit-test-coverage-daily, <x86_64>, failed once in Master branch in txmgr_test.go",FAB-13074,35747,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,30/Nov/18 6:36 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Dec/18 12:00 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"The fabric-unit-test-coverage-daily ,Master branch, <x86_64> platform test failed in *txmgr_test.go:1272:6*  Observed the below errors ,

{code:java}
00:21:22.710 # github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr [github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr.test]
00:21:22.710 core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr/txmgr_test.go:1272:6: no new variables on left side of :=
00:21:22.712 FAIL	github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/txmgr/lockbasedtxmgr [build failed]
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/279/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/279/",,denyeart,jyellick,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13069,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,9e87079fe9c6d394a4d6a775678f3a602947c44c,Unset,No,,,"1|i00113:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,jyellick,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Dec/18 12:00 AM;denyeart;Fixed in FAB-13069.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fabric Support for chaincode-triggered token transaction,FAB-13076,35752,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,angelo.decaro,angelo.decaro,30/Nov/18 10:44 PM,02/Dec/19 11:15 PM,28/Oct/23 3:04 AM,02/Dec/19 11:15 PM,,,,,,,,,,,,,,0,fabtoken,,,This story enable the support of the new transaction type that bound an endorsed action and a token transaction.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12787,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11965,,,No,,Unset,No,,,"1|i0011z:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New Transaction Protobuf,FAB-13077,35753,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,angelo.decaro,angelo.decaro,30/Nov/18 10:47 PM,08/Jan/19 10:03 PM,28/Oct/23 3:04 AM,08/Jan/19 10:03 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,Introduce the new transaction type and protobuf message that binds an endorsed action to a token transaction,,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00127:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Dec/18 5:33 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27890/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Endorser plugin,FAB-13078,35754,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,30/Nov/18 10:48 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,Introduce a new endorser plugin to be used by chaincodes that set a token expectation. The goal of this plugin is to make sure the proposal carries the right type.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0012f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verification Path,FAB-13079,35755,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,30/Nov/18 10:49 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,"Enable verification of the new transaction type. Verification does the following:
 # verify the endorsed action as it is done currently",,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0012n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jan/19 5:41 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/28559/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Custom Transaction Processor,FAB-13080,35756,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,angelo.decaro,angelo.decaro,30/Nov/18 10:50 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,"Introduce a custom transaction processor for the new transaction type. The processor does the following:
 # handle the token transaction
 # checks that the token transaction matches the expectation set in the endorsed action.",,angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0012v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 4:36 AM;wenjian;https://gerrit.hyperledger.org/r/#/c/28536/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Integration Test,FAB-13081,35757,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,angelo.decaro,angelo.decaro,30/Nov/18 10:52 PM,13/Jan/20 11:43 PM,28/Oct/23 3:04 AM,13/Jan/20 11:43 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,The goal is to have an integration test for the chaincode/token interoperability,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00133:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor CollectionStore,FAB-13082,35760,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,Senthil1,Senthil1,01/Dec/18 1:05 AM,07/Dec/20 11:24 PM,28/Oct/23 3:04 AM,,,,,,,Future,,,,fabric-ledger,,,,0,,,,"# Function such as RetrieveCollection() and RetrieveCollectionConfigPackage() are never used except in mocks and test files.
 # In gossip, at least in 7 different places, the following 3 operations
are repeated which can be avoided by introducing a API called IsAMemberOf().
 ** retrieves collection access policy by calling RetrieveCollectionAccessPolicy()
 ** get the access filter func from the collection access policy
 ** create the evaluation policy and check for membership
 # we would need a cache in collection store to avoid repeated crypto operation.
This would be simple to implement when we introduce IsAMemberOf() APIs.",,ChanderGovindarajan,MichaelWang,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10500,,,,,,,,,,,,,,FAB-13368,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i00wur:0idqy2i",,,,Unset,Unset,v2.x,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,MichaelWang,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove configuration for prometheus handler path,FAB-13083,35761,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/Dec/18 1:56 AM,02/Dec/18 2:43 AM,28/Oct/23 3:04 AM,02/Dec/18 2:43 AM,,,,,,v1.4.0,,,,fabric-common,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0013z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 1:58 AM;sykesm;https://gerrit.hyperledger.org/r/27848 Remove handler path from prometheus config
;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update sample configuration for operations endpoint,FAB-13084,35762,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/Dec/18 1:57 AM,14/Dec/18 1:16 AM,28/Oct/23 3:04 AM,09/Dec/18 2:22 AM,,,,,,v1.4.0,,,,fabric-common,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-9718,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00147:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 1:58 AM;sykesm;https://gerrit.hyperledger.org/r/27849 Update sample configurations with operations;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Behave test daily-Master failing consistently, solo orderer@1.1 , OSError: [Errno 7] Argument list too long.",FAB-13085,35765,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,nkl199,sambhavdutt,sambhavdutt,01/Dec/18 2:55 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,12/Dec/18 12:02 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The Behave test daily-Master failing consistently in FAB-3851- solo orderer@1.1 ,Observed Errors:

+OSError: [Errno 7] Argument list too long+ , followed by +IOError: [Errno 11] Resource temporarily unavailable+

{code:java}
07:56:08.649   Scenario Outline: FAB-3851: Message Payloads of size 1MB, for solo orderer -- @1.1                                  # orderer.feature:160
07:56:08.649     Given I have a bootstrapped fabric network of type solo using state-database couchdb                              # steps/basic_impl.py:197
.
.
07:59:20.824         File ""/usr/lib/python2.7/subprocess.py"", line 1343, in _execute_child
07:59:20.824           raise child_exception
07:59:20.824       OSError: [Errno 7] Argument list too long
07:59:20.824       
07:59:20.824       Captured stdout:
07:59:20.824       testConfigs: configs/194caa26f4ae11e8afc2fa163e2898db
07:59:20.824       npm install: make[1]: Entering directory '/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/dtrace-provider/build'
07:59:20.824         TOUCH Release/obj.target/DTraceProviderStub.stamp
07:59:20.824       make[1]: Leaving directory '/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/dtrace-provider/build'
07:59:20.825       make[1]: Entering directory '/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/pkcs11js/build'
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/main.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/dl.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/const.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/error.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/v8_convert.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/template.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/mech.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/param.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_aes.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_rsa.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/param_ecdh.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/pkcs11/pkcs11.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/async.o
07:59:20.825         CXX(target) Release/obj.target/pkcs11/src/node.o
07:59:20.825         SOLINK_MODULE(target) Release/obj.target/pkcs11.node
07:59:20.825         COPY Release/pkcs11.node
07:59:20.825       make[1]: Leaving directory '/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/pkcs11js/build'
07:59:20.826       [grpc] Success: ""/w/workspace/fabric-test-daily-behave-master-x86_64/gopath/src/github.com/node_modules/grpc/src/node/extension_binary/node-v57-linux-x64-glibc/grpc_node.node"" is installed via remote
07:59:20.826       added 937 packages from 1595 contributors and audited 4303 packages in 69.154s
07:59:20.826       found 43 vulnerabilities (6 low, 33 moderate, 4 high)
07:59:20.826         run `npm audit fix` to fix them, or `npm audit` for details
07:59:20.826       
.
.
07:59:20.841   File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1379, in run
07:59:20.841     formatter.result(self)
07:59:20.841   File ""/usr/local/lib/python2.7/dist-packages/behave/formatter/pretty.py"", line 151, in result
07:59:20.842     self.stream.write(indent(step.error_message.strip(), u""      ""))
07:59:20.842   File ""/usr/lib/python2.7/codecs.py"", line 370, in write
07:59:20.842     self.stream.write(data)
07:59:20.842 IOError: [Errno 11] Resource temporarily unavailable
{code}


*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/88/Behave_Test_Logs/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/88/consoleFull",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c95a14d,Unset,No,,,"1|i0014n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,true,"05/Dec/18 12:27 AM;latitiah;A change was merged that passes the node command on the command line instead of through memory. This needs to switch back to send the command in memory. The OS cannot handle commands that are as long as these need to be for these tests.;;;","11/Dec/18 10:33 AM;scottz;[~latitiah] are you working on this, or someone else (in which case it should be reassigned)?;;;","12/Dec/18 12:02 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/28045/;;;",,,,,,,,,,,,,,,,,,,,,,
Intermittent health check failure in integration tests,FAB-13086,35766,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,01/Dec/18 2:59 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,08/Dec/18 8:12 AM,,,,,,v2.0.0,,,,fabric-common,,,,0,ci-flake,,,"{code}
00:13:22.897 • Failure in Spec Teardown (AfterEach) [1.776 seconds]
00:13:22.898 Health [AfterEach] when the docker config is bad fails the health check 
00:13:22.898 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/health_test.go:54
00:13:22.898 
00:13:22.898   Timed out after 1.000s.
00:13:22.898   Expected
00:13:22.898       <<-chan error | len:1, cap:1>: 0xc00094ed20
00:13:22.898   to receive something.
00:13:22.898 
00:13:22.898   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/health_test.go:49
00:13:22.898 ------------------------------
00:13:49.896 •
00:13:49.896 
00:13:49.897 Summarizing 1 Failure:
00:13:49.897 
00:13:49.904 [Fail] Health [AfterEach] when the docker config is bad fails the health check 
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0014v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 6:08 AM;sykesm;https://gerrit.hyperledger.org/r/27936 [FAB-13086] longer wait for term in healh check
;;;",,,,,,,,,,,,,,,,,,,,,,,,
FabToken: re-org naming convention for token ids,FAB-13087,35768,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wenjian,wenjian,01/Dec/18 4:19 AM,13/Jan/20 11:42 PM,28/Oct/23 3:04 AM,13/Jan/20 11:42 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,"This came from code review: [https://gerrit.hyperledger.org/r/#/c/27588/10/token/tms/plain/verifier.go@234]
 
 
One for later, but how about we re-organise the naming conventions here? the word ""output"" has two meanings: 1) any new ledger keys that a transaction under evaluation proposes to create; 2) any existing ledger key that the transaction uses as input.
This is somewhat confusing: case in point: the first function that checkInputs() calls is createOutputKey() followed by getOutput().

If you don't disagree, would you mind creating a JIRA please?
 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12600,,,No,,Unset,No,,,"1|i0015b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
add endorser metrics,FAB-13088,35770,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,01/Dec/18 6:30 AM,20/Feb/19 7:42 AM,28/Oct/23 3:04 AM,12/Jan/19 8:17 PM,,,,,,v1.4.1,v2.0.0,,,,,,,0,operations,,,Add basic endorse metrics .,,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6781,FAB-9217,FAB-11930,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-3388,,,No,,Unset,No,,,"1|hzzq78:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 6:42 AM;muralisr;https://gerrit.hyperledger.org/r/#/c/27854/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fix CouchDB range query performance for binary data/attachments (v1.4),FAB-13089,35772,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChanderGovindarajan,denyeart,denyeart,01/Dec/18 7:52 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,08/Mar/19 4:24 AM,,,,,,v1.2.2,v1.4.0,,,fabric-ledger,,,,0,,,,Attachments (unlike JSON) currently do not come back in the Fabric range query from CouchDB.  For each record in the result set a separate CouchDB keyed query is performed to retrieve the attachment: https://github.com/hyperledger/fabric/blob/release-1.2/core/ledger/util/couchdb/couchdb.go#L964-L971.  This could be improved by passing attachments=true in the Fabric range query to CouchDB. This would greatly reduce the number of roundtrips to CouchDB.,,ChanderGovindarajan,chris.elder,denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6421,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0015z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,chris.elder,denyeart,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 1:20 PM;ChanderGovindarajan;I can take a stab at this.;;;","09/Dec/18 1:57 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/28014/;;;",,,,,,,,,,,,,,,,,,,,,,,
e2e integration test,FAB-13090,35773,32437,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,01/Dec/18 2:39 PM,08/Dec/18 12:13 PM,28/Oct/23 3:04 AM,08/Dec/18 12:13 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00167:",,,,Unset,Unset,Next Items- Ledger,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Dec/18 12:12 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27891/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pause compacting ram storage when there are snapshots in flight,FAB-13091,35774,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,guoger,guoger,01/Dec/18 3:22 PM,26/Jul/19 3:44 PM,28/Oct/23 3:04 AM,26/Jul/19 3:44 PM,,,,,,Future,,,,fabric-orderer,,,,0,help-wanted,ipm,raft,"This is to avoid snapshot sending cycles, per [comments|https://github.com/etcd-io/etcd/blob/dedae6eb7c253635e70403a1fb04842700277b23/etcdserver/server.go#L2173-L2177] in etcd:

{quote}
When sending a snapshot, etcd will pause compaction.
After receives a snapshot, the slow follower needs to get all the entries right after the snapshot sent to catch up. If we do not pause compaction, the log entries right after the snapshot sent might already be compacted. It happens when the snapshot takes long time to send and save. Pausing compaction avoids triggering a snapshot sending cycle.
{quote}",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11919,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i00n2e:8s",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"26/Jul/19 3:43 PM;guoger;I think we don't necessarily need to tackle this:
1) snapshot is small enough in Fabric (just a block)
2) if a slow node keeps getting snapshot (heavy traffic), catching up via snapshots is more efficient than pulling Raft entries from leader (writing blocks directly to ledger w/o persisting them to wal first)

so, let it be;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update hyperledger/fabric-lib-go dep,FAB-13092,35775,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,mastersingh24,mastersingh24,01/Dec/18 8:49 PM,01/Dec/18 11:42 PM,28/Oct/23 3:04 AM,01/Dec/18 11:42 PM,,,,,,v1.4.0,,,,,,,,0,,,,Pin to v1.0.0 rather than master,,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0016n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Dec/18 9:01 PM;mastersingh24;https://gerrit.hyperledger.org/r/27860;;;",,,,,,,,,,,,,,,,,,,,,,,,
PTE update barebones test report,FAB-13093,35776,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,01/Dec/18 11:08 PM,05/Dec/18 4:45 AM,28/Oct/23 3:04 AM,04/Dec/18 5:03 AM,,,,,,,,,,fabric-quality,,,,0,,,,Use get_pteReport.js for barebones test report,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i0016v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,true,"04/Dec/18 5:03 AM;dongming;https://gerrit.hyperledger.org/r/#/c/27861/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create fabric-chaincode-java release process document,FAB-13094,35781,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,02/Dec/18 9:50 AM,24/Apr/19 11:31 PM,28/Oct/23 3:04 AM,24/Apr/19 11:31 PM,,,,,,,,,,,,,,0,,,,Create chaincode-java release process document to explain how to publish chaincode--shim and chaincode--protos jars to maven central repository.,,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8461,,,No,,Unset,No,,,"1|i0017z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Apr/19 11:30 PM;rameshthoomu;Updated release document with the instructions of fabric-chaincode-java release process. See the instructions here. https://docs.google.com/document/d/12IpQnREUoJEUj2pF2z-0Up55geItFd94fcsbAkPacTg/edit Also, the transition has been given to [~mbwhite];;;",,,,,,,,,,,,,,,,,,,,,,,,
Cluster Service unit-test is failed on fabric master branch,FAB-13095,35782,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,rameshthoomu,rameshthoomu,02/Dec/18 10:10 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Dec/18 1:58 AM,v1.4.0,,,,,v2.0.0,,,,fabric-orderer,,,,0,ci-failure,,,"*Description:* Cluster Service unit-test is failed once on fabric master branch. See the below information

*GIT_COMMIT*=252940b

*Branch* = master

*Build Log:*
{code:java}
19:03:15 --- FAIL: TestAbortRPC (0.75s)
19:03:15 --- FAIL: TestAbortRPC/RPC_timeout (0.39s)
19:03:15 <autogenerated>:1: 
19:03:15 Error Trace: comm_test.go:496
19:03:15 comm_test.go:458
19:03:15 Error: Not equal: 
19:03:15 expected: 1
19:03:15 actual : 0
19:03:15 Test: TestAbortRPC/RPC_timeout
19:03:15 Messages: Expected number of calls (1) does not match the actual number of calls (0).{code}
Jenkins Build Log: [https://jenkins.hyperledger.org/view/fabric/job/fabric-merge-x86_64/5072/consoleFull]",,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzxok5:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 9:24 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28280/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Adding an Org to a Channel tutorial should include Org3 anchor peer setup,FAB-13096,35783,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mrosen52,denyeart,denyeart,02/Dec/18 10:42 PM,18/Jun/19 8:14 PM,28/Oct/23 3:04 AM,15/Jun/19 2:24 AM,,,,,,v2.0.0,,,,fabric-docs,fabric-samples,,,0,,,,*Adding an Org to a Channel tutorial* should include instructions for how to configure anchor peer for Org3.,,ahmedsajid,denyeart,joe-alewine,jyellick,mrosen52,pandrejko,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00187:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ahmedsajid,denyeart,joe-alewine,jyellick,mrosen52,pandrejko,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"02/Dec/18 10:50 PM;denyeart;[~jyellick] [~yacovm] Any suggestions/tips here to guide the work? e.g. would it be better to add the anchor peer with the Org3 config transaction? Or configure anchor peer in subsequent config transaction?

[~pandrejko] [~joe-alewine] FYI;;;","03/Dec/18 12:08 AM;yacovm;Jason would know for sure, as this is a channel config question, but - I think that manipulating the anchor peers requires a signature of the corresponding organization, so - it makes sense to first add the org and then add the anchor peers separately because I guess (usually) when you add an org, the existing organizations sign the transaction, and not the new organization. ;;;","04/Dec/18 3:04 PM;jyellick;+1 [~yacovm], it's generally natural that the anchor peer update would be performed as a discrete step from the addition of the org.  Adding an org to a channel is a decision of a quorum of members, adding an anchor peer for an org si a decision of that org.;;;","08/Jun/19 4:51 AM;mrosen52;https://gerrit.hyperledger.org/r/c/fabric/+/31772;;;",,,,,,,,,,,,,,,,,,,,,
Docs - glossary fix,FAB-13098,35785,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,reza-ebrahimi,reza-ebrahimi,reza-ebrahimi,03/Dec/18 2:39 AM,23/Jan/20 7:29 AM,28/Oct/23 3:04 AM,23/Jan/20 7:29 AM,v1.3.0,,,,,,,,,,,,,0,stale-item,,,"[https://hyperledger-fabric.readthedocs.io/en/release-1.3/glossary.html#endorsement-policy] 

In sentence ""A distinct endorsement policy for install and instantiate transactions is also required"", word transactions is wrong, it should fix with ""chaincode applications"".",,reza-ebrahimi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0018n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),reza-ebrahimi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 6:06 PM;reza-ebrahimi;I've committed the fix already but that was not updates here: https://gerrit.hyperledger.org/r/#/c/27867/;;;","23/Jan/20 7:29 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
Add a test for simulating a crash between prepare and commit/rollback of pvtdata stroage,FAB-13099,35786,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,manish-sethi,manish-sethi,03/Dec/18 2:50 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,,,,,,,,,,fabric-ledger,,,,0,stale-item,,,,,manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0018v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update print outed result,FAB-13100,35787,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,Specia1,Specia1,Specia1,03/Dec/18 2:56 PM,06/Feb/19 6:52 AM,28/Oct/23 3:04 AM,06/Feb/19 6:52 AM,,,,,,,,,,,,,,0,,,,"Fabric and fabric-sample version 1.3 printed the following results.
{code:java}
Generating certs and genesis block for channel 'mychannel' with CLI timeout of '10' seconds and CLI delay of '3' seconds
Continue? [Y/n]
proceeding ...{code}
 ",,Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrnw:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Specia1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Idemix Revocation Support,FAB-13103,35790,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,angelo.decaro,angelo.decaro,03/Dec/18 5:36 PM,22/Oct/19 7:41 PM,28/Oct/23 3:04 AM,,v1.4.0,,,,,Future,,,,fabric-ca,fabric-crypto,,,0,idemix,,,,,angelo.decaro,huxd,rickr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-588,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 3:22 PM;angelo.decaro;idemix-revocation.pdf;https://jira.hyperledger.org/secure/attachment/16415/idemix-revocation.pdf",,,,,,,,,,,,,,,,,,,,,,,,,,,,In development,Attached,Available,Unset,Required,ghx-label-13,,idemix-revocation,To Do,No,,Required,No,,,"1|i0019j:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,huxd,rickr,smithbk,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 11:41 PM;smithbk;Questions/comments regarding the attached PDF ...

1) On chart 4 ... the ""Issuance"" page:
    Can't ""get next revocation handle"" (step 4) fail, causing the CA to generate a new CRI?  Is that reflected anywhere? 

2) On chart 5 ... ""Revoking a credential"" page:
    a) How does the admin get the revocation handle (rh) for a user's credential?
    b) For X509 revocation, CA currently allows revoking a single cert (by serial number) and a user (which revokes all certs issued to the user and disables the account so the user can't enroll again.  We should support the same model for idemix credentials.  We revoke a single idemix credential issued to user1 which requires that the admin knows the revocation handle or something unique about the credential, or we revoke the user in which case the CA must know the revocation handle for each credential issued and not yet revoked for the user.
    c) I think we would want to wait to return the response to the admin (step 3) until after the generateCRI (step 4) and updated CRI (step 5) are complete in case there is an error in step 4 or 5.  Shouldn't the admin know about this failure?

3) On chart 6, ""Signing transactions"" page:
   a) I'm wondering why ""rh"" is passed to getCRI.  Is there a single current CRI per CA, or are there multiple but only one active per ""rh""?
   b) This chart seems to imply that we call the CA for each transaction.  I don't think we want this requirement.  There is also a timing window between when we get the current CRI and when verification occurs such that verification would fail because the CRI was updated.  I think the SDKs should recognize this particular type of verification failure and only get a new CRI then.

4) On chart 7, ""Verifying transactions"" page, we can't call the CA from the peer

5) WRT the two revocation approaches, are you recommending that we support both or just one for now? 
 If both, what is the effort to support both?  What does it mean adminstratively?  Could we switch between approaches automatically?
 If one, which one?  It looks like approach 2 is better when the number of credentials > 1000 to 10000, so I would lean towards 2.

;;;","13/Dec/18 3:16 PM;angelo.decaro;[~smithbk], thanks for you questions. Very good sanity checks. Let me answer one by one.
 # In case of a failure, the CA should not generate a new CRI. Indeed, I will add a new slide that shows an optimisation on that side. Namely, when a new idemix credential is issued, the CRI does not need to be regenerated (no epoch increment). There is a way to update it by essentially signing the new revocation handle with the epoch signing key. I have already submitted a change-set ([https://gerrit.hyperledger.org/r/#/c/28098/)] that add supports for updatable CRI. Anyway, I have updated the slide to show that at step 6 also an error can be returned.
 # Multiple answers here:
 ## To simplify admin's life, we should have fabric-ca storing the revocation handles binging them to the associated enrolment id. 
 ## If fabric-ca stores the revocation handles, then revoking a user is easy. To revoke a single credential, then I would say that the admin must know the revocation handle, like she has to know the x509 certificate. We can discuss further and see if we can alleviate this in some way.
 ## Agreed, I have updated the slide accordingly.
 # Multiple answers here:
 ## That's an optimisation. Indeed, a user does not need the entire CRI but only the common part and the part related to her revocation handle. 
 ## I agree with you. The user does not have to get the CRI each time. I have updated the slide to reflect this.
 # Totally agree. That slide is wrong. The peer retrieves the current epoch from the ledger.
 # I recommend approach 1. Approach 2 is much more expensive in terms of computation. Also, then a new CRI is created, the CA does not need to resign all the non-revoked revocation handles. This can be done also on the fly when the users start asking.;;;","13/Dec/18 3:22 PM;angelo.decaro;[~smithbk], I have updated the slides. Please, have a look again. Thanks :) ;;;","16/May/19 9:00 PM;rickr;Don't think there's any plan for this in v2.0 release. Can reassign and change status if anyone knows different.;;;",,,,,,,,,,,,,,,,,,,,,
Fabric Support,FAB-13104,35791,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,angelo.decaro,angelo.decaro,03/Dec/18 5:47 PM,03/Dec/18 5:51 PM,28/Oct/23 3:04 AM,03/Dec/18 5:51 PM,,,,,,,,,,,,,,0,idemix,,,,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0019r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Signature-based whitelisting,FAB-13105,35792,,Story,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,angelo.decaro,angelo.decaro,angelo.decaro,03/Dec/18 5:52 PM,03/Dec/19 2:43 AM,28/Oct/23 3:04 AM,,v1.4.0,,,,,,,,,fabric-crypto,,,,0,idemix,,,The goal of this story is to add support for the signature-based whitelisting revocation. The affected packages are *fabric/idemix* and *fabric/bccsp/idemix*.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10274,,FAB-8925,,,,FABJ-394,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-13103,,,No,,Unset,No,,,"1|i0019z:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 4:24 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27871/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Is golang chaincode payload so big？,FAB-13107,35797,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,ping40,ping40,03/Dec/18 7:26 PM,05/Dec/18 10:35 AM,28/Oct/23 3:04 AM,05/Dec/18 10:09 AM,,,,,,,,,,fabric-peer,,,,0,,,," 

in file : core/chaincode/platforms/golang/platform_test.go
{code:java}
payload, err := platform.GetDeploymentPayload(""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"")
{code}
the payload is about 2.5M

  
{code:java}
2522376 12月  3 17:58 a1203-5.tar.gz
{code}
the attachment file shows  source file name that the  payload contains.

  

there are two packages (calls the-two-packages )  that are provided by the ccenv or system:
{code:java}
""github.com/hyperledger/fabric/core/chaincode/shim"": true,
""github.com/hyperledger/fabric/protos/peer"": true, 
{code}
that means that the dependency source files of the-two-packages  also provided by the ccenv or system.

so the return of platform.GetDeploymentPayload should exclude all dependency source files of the-two-packages .

after that  , the chaincode payload  reduces to  2k size.

 ",,jyellick,ping40,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/18 7:07 PM;ping40;chaincode payload file.txt;https://jira.hyperledger.org/secure/attachment/16336/chaincode+payload+file.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001av:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,ping40,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 3:36 PM;jyellick;It does look like there's some problems with transitive dependencies not being resolved correctly.  As best as I can tell, the direct import of the fabric code is ignored, but then one of its imports also imports fabric, and this is not being stripped out.  I am a little concerned about the potential impacts for users though who may already be used to this behavior.  Would welcome other input. [~greg.haskins] [~mastersingh24];;;","04/Dec/18 7:36 PM;ping40;*Option one：*

If platform.GetDeploymentPayload  excludes all dependency source files of the-two-packages , it means that platform.GetDeploymentPayload  should find the following packages in gopath:
""github.com/hyperledger/fabric/core/chaincode/shim""""github.com/hyperledger/fabric/protos/peer""
 

It leads the following unit test fails:

 
{code:java}
func TestGetDeploymentPayload(t *testing.T) {
   testdataPath, err := filepath.Abs(""testdata"")
   .......
   {
      {gopath: defaultGopath, path: ""github.com/hyperledger/fabric/examples/chaincode/go/map"", succ: true},
      {gopath: defaultGopath, path: ""github.com/hyperledger/fabric/examples/bad/go/map"", succ: false},
      {gopath: testdataPath, path: ""chaincodes/BadImport"", succ: false},
      {gopath: testdataPath, path: ""chaincodes/BadMetadataInvalidIndex"", succ: false},
      {gopath: testdataPath, path: ""chaincodes/BadMetadataUnexpectedFolderContent"", succ: false},
      {gopath: testdataPath, path: ""chaincodes/BadMetadataIgnoreHiddenFile"", succ: true},
      {gopath: testdataPath, path: ""chaincodes/empty/"", succ: false},
   }

{code}
 

Maybe platform.GetDeploymentPayload  can omit the error when it cannot find ""github.com/hyperledger/fabric/core/chaincode/shim"" in gopath.

 

*Option two：*

If platform.GetDeploymentPayload  excludes only the two packages:
""github.com/hyperledger/fabric/core/chaincode/shim""""github.com/hyperledger/fabric/protos/peer""
 

It leads the chaincode payload is also big when when  sub sub package contains ""github.com/hyperledger/fabric/core/chaincode/shim"".

 ;;;","05/Dec/18 6:19 AM;sykesm;Instead of spending more time on writing another vendoring tool disguised as a chaincode builder, we need to move away from this model.

https://jira.hyperledger.org/browse/FAB-12031 is an example of a problem that we can't fix with the current structure. That issue includes some thoughts about where we need to go but we need to understand how we transition before doing that.;;;","05/Dec/18 10:08 AM;ping40;thanks,

 

discard it.;;;","05/Dec/18 10:09 AM;ping40;Instead of spending more time on writing another vendoring tool disguised as a chaincode builder, we need to move away from this model.

https://jira.hyperledger.org/browse/FAB-12031 is an example of a problem that we can't fix with the current structure. That issue includes some thoughts about where we need to go but we need to understand how we transition before doing that.;;;","05/Dec/18 10:35 AM;ping40;[https://gerrit.hyperledger.org/r/#/c/27912/]  abandoned;;;",,,,,,,,,,,,,,,,,,,
conn never return nil,FAB-13108,35798,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kutenglaoshu,kutenglaoshu,03/Dec/18 8:02 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,,,kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001b3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.4.0-rc1 release,FAB-13111,35802,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Dec/18 10:48 PM,29/Mar/19 11:48 PM,28/Oct/23 3:04 AM,23/Jan/19 2:04 AM,v1.4.0,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Prepare and publish v1.4.0-rc1 release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13388,FAB-14881,FAB-12136,,,,,,,,,,,,,,,,,,,,,FAB-13129,FABN-1045,FABJ-391,FAB-13131,FABC-761,FAB-13132,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001br:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support 1.4.0-rc1 release,FAB-13112,35803,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,03/Dec/18 10:48 PM,11/Dec/18 12:17 PM,28/Oct/23 3:04 AM,11/Dec/18 12:17 PM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,fabric-ci,,,Make sure all the release jobs are ready for release.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001bz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for 1.4.0-rc1 release,FAB-13113,35804,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,11/Dec/18 12:16 PM,28/Oct/23 3:04 AM,11/Dec/18 12:16 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001c7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 3:17 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/28050/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-13114,35805,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,11/Jul/19 5:32 AM,28/Oct/23 3:04 AM,11/Dec/18 3:38 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.4.0-rc1 release.

Update Makefile

BASE_VERSION = 1.4.0-rc1

PREV_VERSION = 1.3.0

EXPERIMENTAL ?= true

 

Also, update master branch to have BASE_VERSION=1.4.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001cf:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 2:35 PM;denyeart;CRs for master and release-1.4:
https://gerrit.hyperledger.org/r/#/q/FAB-13114;;;",,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for 1.4.0-rc1 release,FAB-13115,35806,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,11/Dec/18 12:16 PM,28/Oct/23 3:04 AM,11/Dec/18 12:16 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.4.0-rc1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0 v1.4.0-rc1

update release_notes/v1.4.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001cn:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-13116,35807,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,11/Dec/18 4:12 PM,28/Oct/23 3:04 AM,11/Dec/18 4:12 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001cv:",,,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 2:46 PM;denyeart;CRs for master and release-1.4:
https://gerrit.hyperledger.org/r/#/q/FAB-13116;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-13119,35810,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,03/Dec/18 10:48 PM,11/Dec/18 3:38 PM,28/Oct/23 3:04 AM,11/Dec/18 3:38 PM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001dj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-13120,35811,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,11/Dec/18 3:39 PM,28/Oct/23 3:04 AM,11/Dec/18 3:39 PM,,,,,,v1.4.0,,,,fabric-build,,,,0,,,,BASE_VERSION=1.4.0-rc1 scripts/multiarch.sh user password,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001dr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-13121,35812,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,12/Dec/18 11:39 PM,28/Oct/23 3:04 AM,12/Dec/18 11:39 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001dz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag repositories for 1.4.0-rc1,FAB-13122,35813,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,13/Dec/18 3:42 AM,28/Oct/23 3:04 AM,13/Dec/18 3:42 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.4.0-rc1 -F release_notes/v1.4.0-rc1.txt

{{% git push origin v1.4.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java ad fabric-samples (use v1.4.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.4.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.4.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.4.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001e7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release-1.4 branches,FAB-13123,35814,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,13/Dec/18 3:43 AM,28/Oct/23 3:04 AM,13/Dec/18 3:43 AM,,,,,,v1.4.0,,,,,,,,0,,,,"cut release-1.4 branch for fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-samples",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001ef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-13124,35815,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,rameshthoomu,denyeart,03/Dec/18 10:48 PM,11/Dec/18 3:40 PM,28/Oct/23 3:04 AM,11/Dec/18 3:40 PM,,,,,,v1.4.0,,,,fabric-ci,fabric-docs,fabric-release,,0,,,,Verify readthedocs version release-1.4 gets built and published from release-1.4 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001en:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Fabric README (if not done in release CR),FAB-13125,35816,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Dec/18 10:48 PM,11/Dec/18 3:40 PM,28/Oct/23 3:04 AM,11/Dec/18 3:40 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,Update Fabric README (if not done in release CR).,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001ev:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-samples for 1.4.0-rc1 release,FAB-13126,35817,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Dec/18 10:48 PM,13/Dec/18 3:21 AM,28/Oct/23 3:04 AM,13/Dec/18 3:21 AM,,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.4 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001f3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-13127,35818,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChristopherFerris,ChristopherFerris,denyeart,03/Dec/18 10:48 PM,09/Jan/19 1:48 AM,28/Oct/23 3:04 AM,09/Jan/19 1:48 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001fb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.4.0""",FAB-13128,35819,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,03/Dec/18 10:48 PM,13/Dec/18 3:24 AM,28/Oct/23 3:04 AM,13/Dec/18 3:24 AM,,,,,,v1.3.0,,,,fabric-samples,,,,0,,,,"*AFTER V1.4.0 ONLY... NOT AFTER V1.4.0-RC1.*

After creating release-1.4 branch, pin the fabric samples to use version ""~1.4.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.4 branch with the 1.4.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.4 branch, before fabric-samples is tagged with ""v1.4.0"".

 

*Clarification - for v1.4.0-rc1 node sdk had a release, therefore we pinned at ""1.4.0-rc1"" until final release.*",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i001fj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 3:23 AM;denyeart;Done as part of FAB-13126;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create fabric release notes for v1.4.0,FAB-13129,35820,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,denyeart,denyeart,03/Dec/18 10:50 PM,08/Dec/18 8:12 AM,28/Oct/23 3:04 AM,08/Dec/18 8:12 AM,,,,,,v1.4.0,,,,,,,,0,,,,,,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABN-1045,FAB-13131,,,,,,,,FAB-13111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001fr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/18 11:02 PM;denyeart;[~sykesm] Since most of the release notes will be related to the serviceability epics, can you take a first pass of the release notes in /fabric/release_notes/v1.4.0.txt. Note, we're not going to do a separate v1.4.0-rc1.txt release note anymore.;;;","05/Dec/18 11:14 AM;sykesm; https://gerrit.hyperledger.org/r/27944 [FAB-13129] 1.4 release notes for operations;;;",,,,,,,,,,,,,,,,,,,,,,,
Create fabric-chaincode-node release notes for v1.4.0,FAB-13131,35823,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,denyeart,denyeart,03/Dec/18 10:53 PM,06/Dec/18 10:59 PM,28/Oct/23 3:04 AM,06/Dec/18 10:59 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,denyeart,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13132,,FAB-13129,,,,,,,FAB-13111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001gf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.4,purge-pd,main-emeritius,main,correct-nodeenv-version,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 7:47 PM;mbwhite;Releases notes added under

https://gerrit.hyperledger.org/r/27983;;;","06/Dec/18 7:48 PM;mbwhite;Release Notes
-------------
Fabric 1.4.0 introduces a new programming model designed to improve developer productivity and ease of use.
A new NPM package `fabric-contract-api` is added that lets the developer focus on the functions they want to invoke
within the chaincode. They can also modularize their applications into 'Contracts' by extending a Contract class.

See https://hyperledger-fabric.readthedocs.io/en/developapps/developing_applications.html

To help client applications, and tooling and to make working with the transaction functions easier, a defined
schema of Contract Metadata has been introduced. Depending on language a large part of this can be automatically created.
Typescript Annotations are provided that are very useful in creating this data.

See https://fabric-shim.github.io/contract-schema.json


On the client application side, a new NPM package `fabric-network` is added which contains the classes and methods for writing
blockchain enabled applications in node.js using javascript or typescript.

See https://fabric-sdk-node.github.io/module-fabric-network.html;;;",,,,,,,,,,,,,,,,,,,,,,,
Create fabric-chaincode-java release notes for v1.4.0,FAB-13132,35824,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,gennadyl,denyeart,denyeart,03/Dec/18 10:54 PM,13/Dec/18 8:03 PM,28/Oct/23 3:04 AM,13/Dec/18 8:03 PM,,,,,,v1.4.0,,,,,,,,0,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-761,,FAB-13131,,,,,,,FAB-13111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001gn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ability to pass nonce to Sign function in cred request,FAB-13135,35833,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,skarim,skarim,04/Dec/18 12:33 AM,05/Dec/18 3:35 AM,28/Oct/23 3:04 AM,05/Dec/18 3:34 AM,,,,,,v1.4.0,,,,fabric-crypto,,,,0,idemix,,,"Currently the Sign function in bccsp/idemix/bridge/credrequest.go generates a nonce which it passes into NewCredRequest. But, from the Fabric CA server perspective the CA server generates a nonce which gets return to the client. The client then includes this nonce in the credential request, which on the CA server side is extracted and checked to make sure its valid to prevent replay attacks.

For this reason, need the ability to pass in nonce rather than have the Sign function generate it.",,angelo.decaro,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001in:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 5:13 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27884/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Wrong value for constant bccsp.AlgNoRevocation,FAB-13136,35834,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,skarim,skarim,04/Dec/18 12:35 AM,05/Dec/18 3:35 AM,28/Oct/23 3:04 AM,05/Dec/18 3:34 AM,v1.4.0,,,,,v1.4.0,,,,fabric-crypto,,,,0,idemix,,,"The iota needs to be the first line in the const block, otherwise we encounter an error at the following condition:
 
[https://github.com/hyperledger/fabric/blob/master/idemix/revocation_authority.go#L71]",,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001iv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
The Integration tests failed once in the fabric-nightly-job(x86_64) <Master> branch. End-to-end error observed.,FAB-13137,35835,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,04/Dec/18 12:44 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,07/Dec/18 2:35 PM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-flake,,,"I noticed that the Integration tests in <Master>, <x86_64> failed once, the EndToEnd basic solo network with 2 orgs, failed at {color:#57D9A3}gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74.{color} 
The same test passed in the last build.

Posting the errors below,

{code:java}
00:43:19.667 • Failure [59.344 seconds]
00:43:19.667 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
00:43:19.667 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
00:43:19.667 
00:43:19.668   Got stuck at:
00:43:19.668       foo
00:43:19.668       
00:43:19.668   Waiting for:
00:43:19.668       val1
00:43:19.668 
00:43:19.668   /w/workspace/fabric-nightly-release-job-master-

x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171


00:43:19.668 ------------------------------
00:43:19.668 
00:43:19.668 
00:43:19.668 Summarizing 1 Failure:
00:43:19.668 
00:43:19.669 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
00:43:19.669 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
00:43:19.669 
00:43:19.669 Ran 1 of 1 Specs in 71.313 seconds
00:43:19.672 FAIL! -- 0 Passed | 1 Failed | 0 Pending | 0 Skipped
00:43:19.672 --- FAIL: TestEndToEnd (71.31s)
00:43:19.673 FAIL
00:43:32.231 [1543799071] Token EndToEnd Suite - 1/1 specs S SUCCESS! 12.843138877s PASS
00:43:32.232 
00:43:32.232 There were failures detected in the following suites:
00:43:32.232 	sbe ./integration/sbe
00:43:32.260 
00:43:32.260 Ginkgo ran 11 suites in 15m43.317859593s
00:43:32.260 Test Suite Failed
{code}

*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-x86_64/228/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-master-x86_64/228/",,denyeart,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,38157497708640c67a0fd1288750a0ae4c0bbb90,Unset,No,,,"1|i001j3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 2:35 PM;sambhavdutt;The integration test just failed once. The integration tests are passing now.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test suite fail to run e2e suite first-time in Integration test fails nightly-release-job release-1.2 branch-x86_64,FAB-13138,35836,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,vijaypunugubati,vijaypunugubati,04/Dec/18 12:56 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Dec/18 12:17 AM,v1.2.0,,,,,v1.2.0,,,,fabric-build,,,,0,ci-failure,,,"Description:

Error found while running Ginkgo in the Test Suite.
{code:java}
/20:20:01 ------------------------------
20:20:01 • Failure [59.344 seconds]
20:20:01 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
20:20:01 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
20:20:01 
20:20:01   Got stuck at:
20:20:01       foo
20:20:01       
20:20:01   Waiting for:
20:20:01       val1
20:20:01 
20:20:01   /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
20:20:01 ------------------------------
20:20:01 
20:20:01 
20:20:01 Summarizing 1 Failure:
20:20:01 
20:20:01 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
20:20:01 /w/workspace/fabric-nightly-release-job-master-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
20:20:01 
20:20:01 Ran 1 of 1 Specs in 71.313 seconds
20:20:01 FAIL! -- 0 Passed | 1 Failed | 0 Pending | 0 Skipped
20:20:01 --- FAIL: TestEndToEnd (71.31s)
20:20:01 FAIL
20:20:14 [1543799071] Token EndToEnd Suite - 1/1 specs S SUCCESS! 12.843138877s PASS
20:20:14 
20:20:14 There were failures detected in the following suites:
20:20:14 	sbe ./integration/sbe
20:20:14 
20:20:14 Ginkgo ran 11 suites in 15m43.317859593s
20:20:14 Test Suite Failed/ code placeholder{code}
Build log: 

[https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-release-1.2-x86_64/199/consoleFull]

 

 ",,denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001jb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 12:17 AM;vijaypunugubati;Working as expected;;;",,,,,,,,,,,,,,,,,,,,,,,,
Recent idemix change causing Java End2EndIdemixIT failure,FAB-13139,35840,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,adc,skarim,skarim,04/Dec/18 5:45 AM,07/Dec/18 12:00 AM,28/Oct/23 3:04 AM,07/Dec/18 12:00 AM,,,,,,v1.4.0,,,,fabric-crypto,,,,0,idemix,,,"Something recently introduced in fabric is causing the Java End2EndIdemixIT test to fail with not enough endorser error. The error below is now being seen in all recent Java SDK CRs.

 
{code:java}
java.lang.AssertionError: Test failed with error : java.lang.AssertionError: Test failed with java.util.concurrent.CompletionException exception java.lang.AssertionError: Not enough endorsers for invoke(move a,b,100):2 endorser error: Channel Channel{id: 333, name: foo} Sending proposal with transaction: f7e55d65c81d704fe611b09cb4fe7d8e4de1f602e0776833ec93ff40cdeef388 to Peer{ id: 337, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} failed because of: gRPC failure=Status{code=UNKNOWN, description=access denied: channel [foo] creator org [idemixMSPID1], cause=null}. Was verified: false
20:18:00 	at org.hyperledger.fabric.sdkintegration.End2endIdemixIT.setup(End2endIdemixIT.java:56) {code}
 

Full Logs: https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-x86_64/333/consoleFull",,angelo.decaro,denyeart,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001k7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,denyeart,rickr,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 5:58 AM;rickr;That console log was from Triggered by Gerrit: https://gerrit.hyperledger.org/r/27308
Which was merged and ran on  Nov 9 7:12 PM successfully

Patch Set 7: Build Successful https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-x86_64/332/ : SUCCESS Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-merge-x86_64/332 https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-1.0.0-x86_64/144/ : SUCCESS Logs: https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-sdk-java-merge-1.0.0-x86_64/144
Nov 9 7:12 PM
;;;","04/Dec/18 6:12 AM;skarim;[~adc] Do you have any insight?;;;","04/Dec/18 6:39 AM;denyeart;Clarification - the remerge job that Rick recently did in java sdk failed. The original merge from Nov 9 was good.  It is failing consistently now. So something broke between then and now in one of the dependent repositories.;;;","05/Dec/18 1:06 AM;angelo.decaro;so, the idemix crypto algorithms have *not* changed. What changed is only that the idemix-msp instead of calling fabric/idemix directly, uses bccsp. That's it. https://jira.hyperledger.org/browse/FAB-8930;;;","05/Dec/18 1:09 AM;angelo.decaro;Do you have the peer logs? Maybe there is something there!;;;","05/Dec/18 1:19 AM;skarim;You can reproduce this locally, by using the master fabric and running the Java SDK integration tests. You can then get the logs from the peer docker container.;;;","05/Dec/18 2:11 AM;angelo.decaro;so, the issue was in how BCCSP was serialising a pseudonym public key. With [https://gerrit.hyperledger.org/r/#/c/27923/,|https://gerrit.hyperledger.org/r/#/c/27923/] I have restored it to what was before, namely two big integers. ;;;","05/Dec/18 3:13 AM;rickr;Sounds like you know what the issue is, but just in case the logs for that run are https://jenkins.hyperledger.org/job/fabric-sdk-java-merge-x86_64/333/ 
peer logs should be in dockerlogfile.log;;;","05/Dec/18 5:22 AM;rickr;[~adc] Before it's just fixed can we see that there is a Fabric testcase that reproduces the error? I don't think this should get to the SDKs to have this coverage. [~lhaskins] [~sykesm];;;","05/Dec/18 4:32 PM;angelo.decaro;[~rickr], [~latitiah], [~sykesm], this is the change-set [https://gerrit.hyperledger.org/r/#/c/27923/] that patches the issue. Essentially, I was marshalling/unmarshalling a pseudonym public key in a different way and this caused the failure in parsing the transaction's creator field as produced by the java-sdk. This is just a bug. The different marshalling/unmarshalling strategy, that got in, is not needed. 

With the patch, I don't see the error anymore. May you confirm this, as well. [~skarim];;;","05/Dec/18 8:43 PM;angelo.decaro;I found another bug that caused the failure in the communication between fabric and java-sdk. I have fixed it here: [https://gerrit.hyperledger.org/r/#/c/27952/]

Now, all the java-sdk integration tests are passing using latest the above patch.;;;",,,,,,,,,,,,,,
Implement GetTransient() method of MockStub,FAB-13140,35842,,Story,To Do,FAB,Fabric,software,denyeart,,,Low,,,whathewatt,whathewatt,04/Dec/18 7:24 AM,12/May/20 4:05 AM,28/Oct/23 3:04 AM,,v1.1.0,v1.2.0,v1.3.0,,,,,,,,,,,0,chaincode,Golang,stale-item,"h2. Description

Having possibility to indicate transaction transient, will permit to test functionality which depends on transient arguments.
 [https://github.com/hyperledger/fabric/blob/release-1.3/core/chaincode/shim/mockstub.go]
h2. Implementation Details

New *transient* field in MockStub

 
{code:java}
type MockStub struct { 
//[...]
// TransientMap arguments
TransientMap map[string][]byte

//[...]
}
{code}
 

New method *SetTransient*
{code:java}
func (stub *MockStub) setTransient(tMap map[string][]byte) {
   stub.TransientMap = tMap
}
{code}
GetTransient will return *transient* field
{code:java}
func (stub *MockStub) GetTransient() (map[string][]byte, error) {
return stub.TransientMap, nil 
}{code}
*Constructor* to initialize :
{code:java}
// Constructor to initialise the internal State map
func NewMockStub(name string, cc Chaincode) *MockStub {
   //[..]
   s.TransientMap = make(map[string][]byte)
   //[...]
   return s
}{code}
h2. Deliverables
 * Implement *SetTransient()*
 * Implement *GetTransient()* ",,Pritam 12,sykesm,whathewatt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i001kn:",,,,No,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),Pritam 12,sykesm,whathewatt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-2.3,release-2.2,dependabot/go_modules/github.com/golang/protobuf-1.5.3,main,dependabot/go_modules/google.golang.org/grpc-1.54.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;","09/May/20 3:27 PM;Pritam 12;In v2.x 

[https://github.com/hyperledger/fabric-chaincode-go/blob/d7076418f212ef20f096cb1502cc1cc4928a940c/shimtest/mockstub.go#L403-L406]

 in v1.x

[https://github.com/hyperledger/fabric/blob/6112b9967864847e8d20df6ab76adb06ff30020c/core/chaincode/shim/mockstub.go#L363-L366]

 

In both versions, no GetTransient and SetTransient  method is implemented for mockStub;;;","09/May/20 3:30 PM;Pritam 12;Here is the commit for v2.x (fabric-chaincode-go/shimtest)

[https://github.com/hyperledger/fabric-chaincode-go/pull/25]

 ;;;",,,,,,,,,,,,,,,,,,,,,,
Add assert.Error() checking in msp_test.go,FAB-13141,35843,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,04/Dec/18 10:01 AM,14/Dec/18 4:16 PM,28/Oct/23 3:04 AM,14/Dec/18 4:16 PM,v1.0.0,v1.1.0,v1.2.0,v1.3.0,,v2.0.0,,,,,,,,0,,,,Add assert.Error() checking to the test.,,denyeart,diizuka,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001kv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,diizuka,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 5:47 AM;mastersingh24;[~diizuka] Can you please add more to the description?


Also, there is no fabric-membersrv anymore (I'll delete the component).;;;","14/Dec/18 2:25 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27898/;;;",,,,,,,,,,,,,,,,,,,,,,,
Return err instead of nil,FAB-13142,35844,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,diizuka,diizuka,diizuka,04/Dec/18 10:38 AM,17/Jan/19 12:53 AM,28/Oct/23 3:04 AM,17/Jan/19 12:53 AM,v1.1.0,v1.2.0,v1.3.0,,,v2.0.0,,,,fabric-peer,,,,0,,,,"On unit test subroutine:
  core/chaincode/exectransaction_test.go,
  func endTxSimulation(…),
when an error occurs, it returns the err.

But in L289, an error occurs but it returns nil.
It should return the err.
",,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001l3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
refactor gossip pull message classification,FAB-13143,35845,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,tyanj,tyanj,04/Dec/18 12:04 PM,29/Jan/19 10:18 PM,28/Oct/23 3:04 AM,29/Jan/19 10:18 PM,,,,,,v2.0.0,,,,fabric-gossip,,,,0,,,,"[gossip/gossip/pull/pullstore.go] HandleMessage(...)

From:

if helloMsg := msg.GetHello(); helloMsg != nil {
}
if digest := msg.GetDataDig(); digest != nil {
}
if req := msg.GetDataReq(); req != nil {
}
if res := msg.GetDataUpdate(); res != nil {
}

To:

if helloMsg := msg.GetHello(); helloMsg != nil {
} else if digest := msg.GetDataDig(); digest != nil {
} else if req := msg.GetDataReq(); req != nil {
} else if res := msg.GetDataUpdate(); res != nil {
}",,C0rWin,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001lb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 9:50 PM;C0rWin;https://gerrit.hyperledger.org/r/#/c/27899/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update pipeline scripts in fabric-samples project,FAB-13145,35849,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,04/Dec/18 2:41 PM,15/Jan/19 1:57 AM,28/Oct/23 3:04 AM,15/Jan/19 1:57 AM,v1.4.0,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,"Update pipeline script to fetch the correct patchset. Fetch the patchset version on verify job and clone the repository on merge job,",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001lz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Dec/18 3:14 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27902/;;;","15/Jan/19 1:56 AM;rameshthoomu;[https://gerrit.hyperledger.org/r/#/c/28368/] - merged;;;",,,,,,,,,,,,,,,,,,,,,,,
Modify the return value of NewMCS,FAB-13146,35850,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,gotoxu,gotoxu,gotoxu,04/Dec/18 3:49 PM,05/Dec/18 6:22 AM,28/Oct/23 3:04 AM,05/Dec/18 6:22 AM,v1.3.0,,,,,v1.4.0,,,,fabric-gossip,,,,0,,,,mspMessageCryptoService should become an exported type with private fields.,,gotoxu,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001m7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),gotoxu,mastersingh24,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 6:33 PM;yacovm;I don't agree.... it just needs to return a struct that implements the interface, which it does;;;","04/Dec/18 7:00 PM;gotoxu;exported func NewMCS returns unexported type *gossip.mspMessageCryptoService, which can be annoying to use. Why do you need to return the structure here, can you explain it? Thanks.;;;","04/Dec/18 7:28 PM;yacovm;oh, i see what you mean... hmmm - I guess we can either export the struct or just return the interface type.

[~sykesm] what do you say?;;;","04/Dec/18 8:49 PM;gotoxu;My suggestion is to return the MessageCryptoService interface type so that it works fine without breaking the encapsulation.;;;","05/Dec/18 5:53 AM;mastersingh24;We should return concrete types not interfaces;;;",,,,,,,,,,,,,,,,,,,,
reconciliation should be based on all collection configs between commit time and latest config,FAB-13147,35851,,Story,To Do,FAB,Fabric,software,denyeart,,,Medium,,,nirro,nirro,04/Dec/18 5:14 PM,03/Dec/19 2:57 AM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-gossip,fabric-ledger,,,0,,,,"in the current implementation, reconciliation is done based on two collection configs, the config that was in commit time, and the latest collection config. 
if the peer is eligible for the private data based on one of these two, it will get from other peers the missing data.

this should be extended to include all collection configs in between.",,denyeart,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5093,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i001mf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nirro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/19 7:48 AM;denyeart;While this is an edge case and should not happen too often, I think it's best to finish out the implementation as originally designed in FAB-5096:

[https://docs.google.com/document/d/1ORt3HFE13gnq204lXNp6i1BpMLMm-RAKVts8cH50kK4/edit#]

(see Proposed Approach section in page 5).

 

Further clarification from Manish chat on Nov 22nd:

As a summary, the deal was that if gossip is able to get any config (that enables) - in between most recent block and most recent config below the pvtdata in question, the asking peer is given access.

The way to achieve this was expected as below...

In a loop, gossip pulls the above mentioned config, using the MostRecentCollectionConfigBelow() api.

In the loop, if the config evaluates to true, the loop returns. Else, it continues for pulling the next config blow the ‘committing block of config used in the previous iteration’. The final circuit breaker for the loop is the config ‘most recent below pvtdata in question’.

 

And as an optimization, it would be better if the code first checked both end points, the most recent config and config effective at block height in question (as is done in v1.4.0 code), before checking the inbetween configs (as proposed in this Jira).

 ;;;","03/Dec/19 2:57 AM;denyeart;[~C0rWin] I assume this work item have not been worked on, returning to the general backlog...;;;",,,,,,,,,,,,,,,,,,,,,,,
Deactivate etcd/raft in 1.4,FAB-13149,35854,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,04/Dec/18 8:05 PM,05/Dec/18 3:01 AM,28/Oct/23 3:04 AM,05/Dec/18 12:48 AM,,,,,,v1.4.0,,,,fabric-orderer,,,,0,raft,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13150,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001n3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 3:01 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27907/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Re-activate etcd/raft ,FAB-13150,35856,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,04/Dec/18 8:07 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,12/Dec/18 6:34 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,raft,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13149,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001nj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 3:02 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27909/;;;",,,,,,,,,,,,,,,,,,,,,,,,
ReadDoc does not set attachment.Length field,FAB-13151,35858,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChanderGovindarajan,ChanderGovindarajan,ChanderGovindarajan,04/Dec/18 9:51 PM,08/Dec/18 2:46 AM,28/Oct/23 3:04 AM,07/Dec/18 1:36 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"In utils/couchdb.go, ReadDoc returns a CouchDoc instance without setting the Length field in the AttachmentInfo's in Attachments array. ",,ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001nz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChanderGovindarajan,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 9:57 PM;ChanderGovindarajan;https://gerrit.hyperledger.org/r/#/c/27910/;;;",,,,,,,,,,,,,,,,,,,,,,,,
make protos is broken,FAB-13152,35861,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,tock,tock,tock,04/Dec/18 11:08 PM,06/Dec/18 1:25 AM,28/Oct/23 3:04 AM,06/Dec/18 1:25 AM,v1.4.0,,,,,v1.4.0,,,,fabric-common,,,,0,,,,"make protos is broken on master.

It seems that [https://gerrit.hyperledger.org/r/#/c/27180/] introduced 

common/grpclogging/testpb/echo.proto

common/grpcmetrics/testpb/echo.proto

with wrong go_package path.

====================================

++ find . -name .protoroot -exec readlink -f '{}' ';'
+ PROTO_ROOT_FILES=/opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/protos/.protoroot
+ PROTO_ROOT_DIRS=/opt/gopath/src/github.com/hyperledger/fabric/protos
+++ for dir in '$PROTO_ROOT_DIRS'
+++ echo '-path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o '
++ find /opt/gopath/src/github.com/hyperledger/fabric -path /opt/gopath/src/github.com/hyperledger/fabric/protos -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/vendor -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/.build -prune -o -path /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/java -prune -o -name '*.proto' -exec readlink -f '{}' ';'
+ ROOTLESS_PROTO_FILES='/opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos/sample.proto
/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/testpb/echo.proto
/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb/echo.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/persistent_msgs.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/msgs/storage.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/msgs/msgs.proto
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/pvtdata_key.proto'
++ uniq
++ sort
++ dirname /opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos/sample.proto /opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/testpb/echo.proto /opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb/echo.proto /opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc/test.proto /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/persistent_msgs.proto /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/msgs/storage.proto /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/msgs/msgs.proto /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt/pvtdata_key.proto
+ ROOTLESS_PROTO_DIRS='/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb
/opt/gopath/src/github.com/hyperledger/fabric/common/grpcmetrics/testpb
/opt/gopath/src/github.com/hyperledger/fabric/common/tools/protolator/testprotos
/opt/gopath/src/github.com/hyperledger/fabric/core/comm/testdata/grpc
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/pvtstatepurgemgmt
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/statecouchdb/msgs
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/txmgmt/statedb/stateleveldb/msgs
/opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage'
+ for dir in '$ROOTLESS_PROTO_DIRS' '$PROTO_ROOT_DIRS'
+ echo Working on dir /opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb
Working on dir /opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb
++ uniq
++ sort
++ find /opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb -name '*.proto' -exec dirname '{}' ';'
+ for protos in '$(find ""$dir"" -name '\''*.proto'\'' -exec dirname {} \; | sort | uniq)'
+ protoc --proto_path=/opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb --go_out=plugins=grpc:/opt/gopath/src /opt/gopath/src/github.com/hyperledger/fabric/common/grpclogging/testpb/echo.proto
/opt/gopath/src/echo.pb.go: Permission deniedMakefile:409: recipe for target 'protos' failed
make: *** [protos] Error 1

 ",,sykesm,tock,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001of:",,,,Unset,Unset,,,"make clean
make protos",,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tock,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Dec/18 11:47 PM;tock;[https://gerrit.hyperledger.org/r/#/c/27914/]

 

adding correct go_package to echo.proto (x2 files) solves the issue.

rerun 'make protos' and committed CR.;;;","05/Dec/18 10:28 AM;sykesm;someone else can fix this - but the fix should be complete;;;","05/Dec/18 10:26 PM;tock;[~sykesm]

[~denyeart]

Here is another attempt, I hope this time I got it right.

https://gerrit.hyperledger.org/r/#/c/27914/

I updated the go_package path, and updated the go:generate parameters.

no matter how you generate the testpb/echo.pb.go,  'make protos' or 'go generate',  it does not break anything. ;;;",,,,,,,,,,,,,,,,,,,,,,
Add ppc64le to multiarch,FAB-13153,35863,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,harsha544,harsha544,harsha544,04/Dec/18 11:23 PM,02/Nov/19 1:21 AM,28/Oct/23 3:04 AM,02/Nov/19 1:21 AM,,,,,,WON'T FIX,,,,fabric-build,,,,0,,,,Update scripts/multiarch.sh & scripts/pull_build_artifacts.sh to include ppc64le.,,harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),harsha544,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Dec/18 11:31 PM;harsha544;https://gerrit.hyperledger.org/r/#/c/27913/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Build - Update multiarch script to publish m.n version - release-1.4 and master,FAB-13155,35865,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,05/Dec/18 12:11 AM,20/Jan/19 1:27 AM,28/Oct/23 3:04 AM,20/Jan/19 1:27 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,,,,"Changed the description to release-1.4.

As per [~rickr] request, publish multiarch images (ex: 1.4) along with 1.4.0 and :latest tags to docker hub

This helps sdk's to use 1.4 tag in docker-compose files to pull 1.4.0 (current latest), if the version is changed to 1.4.1 (future latest) that should work without changing the sdk scripts.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-131,,,No,,Unset,No,,,"1|i001p3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 1:32 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/27917/;;;","20/Jan/19 1:25 AM;rameshthoomu;The patch has been merged in master and release-1.4 branches. I don't think this is required now in release-1.4 branch.;;;",,,,,,,,,,,,,,,,,,,,,,,
Data race in etcd_raft test reported in CI,FAB-13158,35868,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kchristidis,sykesm,sykesm,05/Dec/18 12:19 AM,05/Dec/18 11:15 PM,28/Oct/23 3:04 AM,05/Dec/18 11:15 PM,,,,,,v1.4.0,,,,fabric-orderer,,,,0,race,raft,,"00:17:31.661 --- FAIL: TestEtcdraft (68.82s)
00:17:31.661     testing.go:771: race detected during execution of test
00:17:31.661 FAIL
00:17:31.661 coverage: 83.3% of statements
00:17:31.661 FAIL	github.com/hyperledger/fabric/orderer/consensus/etcdraft	73.953s",,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";05/Dec/18 11:16 AM;kchristidis;600",,0,600,,,0,600,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Dec/18 12:19 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/16338/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001pr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 12:20 AM;sykesm;/cc [~kchristidis];;;","05/Dec/18 11:16 AM;kchristidis;https://gerrit.hyperledger.org/r/c/27943/;;;",,,,,,,,,,,,,,,,,,,,,,,
CouchDB Index from chaincode - issue with dbArtifactsDir - v1.1.0,FAB-13159,30831,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,denyeart,hhasni42,hhasni42,01/Jun/18 11:32 PM,08/Jan/20 1:42 PM,28/Oct/23 3:04 AM,08/Jan/20 1:42 PM,v1.1.0,,,,,,,,,fabric-ledger,,,,1,,,,"Hello!

*ISSUE ABOUT v1.1.0*

I can't work with CouchDB Index from chaincode at installation/instantiation time following this documentation : [http://hyperledger-fabric.readthedocs.io/en/release-1.1/couchdb_as_state_database.html#using-couchdb-from-chaincode]

When I create my index manually it work very well. 
{code:java}
% curl -X POST http://localhost:5984/hhasni/_index -H ""Content-Type: application/json"" -d '{
 ""index"": {
 ""fields"": [""test""]
 },
 ""name"" : ""test-index"",
 ""type"" : ""json""
 }'{code}
 

 
{code:java}
% docker logs -f cdbp0.org0
 [...]
 [notice] 2018-05-30T10:31:10.356348Z nonode@nohost <0.16485.0> 1f6d4ebb83 localhost:5984 172.27.0.1 undefined POST /hhasni/_index 200 ok 42
 [...]{code}
 

 

But When i try tu use the path ""_META-INF/statedb/couchdb/indexes_"" it's not working

Indeed I have a build directory named ""_build-chaincode""_

 
{code:java}
""chaincode"": {
 ""name"":""blocktest-cc"",
 ""version"":""v0.0.1"",
 ""chaincode_path"":""../gocc/"",
 ""build_dir"":""build-chaincode"",
 ""channel_name"":""blocktest-channel"",
 ""key_val_store_path"":""/resources/tests/test-conf/keyValueStore"",
 ""config_path"":""/../resources/conf/Org0/p0/blocktest-channel.tx"",
 ""state_db_views_conf_path"":""/resources/views/testDesignDoc.json""
 }{code}
 

So my env look like this:


{code:java}
go/
 +-- src/
 +-- src/build-chaincode/
 +-- src/build-chaincode/chaincode.go
 +-- src/build-chaincode/META-INF/statedb/couchdb/indexes/indexTest.json{code}
 

I have to do some modifications in order to make it work with my env!

Let me know if it is my misunderstanding or it's is a useful feature.

 
{code:java}
diff --git a/core/common/ccprovider/cc_statedb_artifacts_provider.go b/core/common/ccprovider/cc_statedb_artifacts_provider.go
 index b145fb8c4..2dd48a4bd 100644
 — a/core/common/ccprovider/cc_statedb_artifacts_provider.go
 +++ b/core/common/ccprovider/cc_statedb_artifacts_provider.go
 @@ -17,7 +17,7 @@ import (
 )
const (

ccPackageStatedbDir = ""META-INF/statedb/""
 + CcPackageStatedbDir = ""META-INF/statedb/""
 )
// tarFileEntry encapsulates a file entry and it's contents inside a tar
 @@ -72,7 +72,7 @@ func ExtractStatedbArtifactsFromCCPackage(ccpackage CCPackage) (statedbArtifacts
 return nil, err
 }
 ccproviderLogger.Debugf(""header.Name = %s"", header.Name)

if !strings.HasPrefix(header.Name, ccPackageStatedbDir) {
 + if !strings.Contains(header.Name, CcPackageStatedbDir){
 continue
 }
 if err = tw.WriteHeader(header); err != nil {
 @@ -111,7 +111,9 @@ func ExtractFileEntries(tarBytes []byte, filterDirs map[string]bool) ([]*TarFile
 }
 ccproviderLogger.Debugf(""Processing entry from tar: %s"", tarHeader.Name)
 //Ensure that this is a file located in the dir present in the 'filterDirs' if !tarHeader.FileInfo().IsDir() && filterDirs[filepath.Dir(tarHeader.Name)] {
 + strings.Index(tarHeader.Name, ""/"")
 + tmp := tarHeader.Name[strings.Index(tarHeader.Name, CcPackageStatedbDir):]
 + if !tarHeader.FileInfo().IsDir() && filterDirs[filepath.Dir(tmp)] {
 ccproviderLogger.Debugf(""Selecting file entry from tar: %s"", tarHeader.Name)
 //read the tar entry into a byte array
 fileContent, err := ioutil.ReadAll(tarReader)
 diff --git a/core/common/ccprovider/metadata/validators.go b/core/common/ccprovider/metadata/validators.go
 index bb6473cca..0347a4751 100644    a/core/common/ccprovider/metadata/validators.go
 +++ b/core/common/ccprovider/metadata/validators.go
 @@ -12,18 +12,18 @@ import (
 ""path/filepath""
 ""reflect""
 ""strings""
 -
 ""github.com/hyperledger/fabric/common/flogging""
 )
var logger = flogging.MustGetLogger(""metadata"")
 +var metadataPath = ""META-INF/statedb/couchdb/indexes""
// fileValidators are used as handlers to validate specific metadata directories
 type fileValidator func(fileName string, fileBytes []byte) error
// Currently, the only metadata expected and allowed is for META-INF/statedb/couchdb/indexes.
 var fileValidators = map[string]fileValidator{

""META-INF/statedb/couchdb/indexes"": couchdbIndexFileValidator,
 + metadataPath : couchdbIndexFileValidator,
 }
// UnhandledDirectoryError is returned for metadata files in unhandled directories
 @@ -57,7 +57,8 @@ func (e *InvalidIndexContentError) Error() string {
 // according to the validation rules of the metadata directory (metadataType)
 func ValidateMetadataFile(fileName string, fileBytes []byte, metadataType string) error {
 // Get the validator handler for the metadata directory

fileValidator, ok := fileValidators[metadataType]
 + tmp := metadataType[strings.Index(metadataType, metadataPath):]
 + fileValidator, ok := fileValidators[tmp]
// If there is no validator handler for metadata directory, return UnhandledDirectoryError
 if !ok {
 
{code}
 

 ",,chris.elder,denyeart,hhasni42,mffrench,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jun/18 7:08 PM;hhasni42;diff;https://jira.hyperledger.org/secure/attachment/15044/diff","23/Jun/18 12:04 AM;hhasni42;peer_logs.txt;https://jira.hyperledger.org/secure/attachment/15159/peer_logs.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|hzzdrj:",,,,,,,,,,,,,,,,,,,,,chris.elder,denyeart,hhasni42,mffrench,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jun/18 5:32 AM;denyeart;[~hhasni42] Can you summarize what the problem was?  Are you working on a fix, or suggesting somebody make a fix?;;;","07/Jun/18 1:01 AM;hhasni42;[~denyeart] The problem is that the path used ""_*META-INF/statedb/couchdb/indexes*""_ do not match mine _""src/build-chaincode/*META-INF/statedb/couchdb/indexes*/indexTest.json""._

 

I made a fix for my own usage (attached in diff file) and it works like i expected it.

If it's something you think useful i can make a Pull Request, except if i didn't understand how it is supposed tu be use.;;;","08/Jun/18 10:51 PM;denyeart;[~hhasni42] Are you suggesting this was a user error?  Or a Fabric defect that needs to be fixed?;;;","09/Jun/18 3:05 AM;chris.elder;[~hhasni42] I a little unclear on how the chaincode in your scenario is deployed.   The assumption is that the chaincode (chaincode.go) is in the top level directory passed to the deployment command.

 peer chaincode install -n mycc -v 1.0 -p github.com/chaincode/chaincode_example

chaincode.go would be in the directory chaincode_example.   

META-INF/ would also appear in the chaincode_example directory as a peer to the chaincode.

How are you deploying the chaincode?  Through the CLI, or another method?

 

 ;;;","09/Jun/18 3:54 AM;chris.elder;My assessment at this point is that this is working as designed.;;;","06/Jul/18 3:00 AM;hhasni42;[~denyeart], [~chris.elder]

To answer your question: I use the Java SDK with this configuration:
{code:java}
...
 ""chaincode_path"": ""../blockgocc-test/"",
 ""build_dir"": ""build-chaincode"",
...{code}
  here is the code for the sdk:
{code:java}
 String buildDir = this.currentConfiguration.getChaincodeConfig().getBuildDir();
 this.chaincodeID = ChaincodeID.newBuilder().setName(name).setVersion(version).setPath(buildDir).build();
...
 InstallProposalRequest installProposalRequest = this.client.newInstallProposalRequest();
 installProposalRequest.setChaincodeID(chaincodeID);
 installProposalRequest.setChaincodeSourceLocation(new File(this.currentConfiguration.getChaincodeConfig().getChaincodePath()));
 installProposalRequest.setChaincodeVersion(chaincodeID.getVersion());


{code}
__________________________________________________________________________________________

So I tried you're recommandation:

I tried to set the chaincode_path variable to the root folder of my chaincode.go (and META-INF directory)

 
{code:java}
""chaincode_path"": ""../blockgocc-test/src/build-chaincode"",
""build_dir"": """",{code}
Also modified some code in order to use this conf.
{code:java}
 if (buildDir != null && !buildDir.isEmpty())
  this.chaincodeID = ChaincodeID.newBuilder().setName(name).setVersion(version).setPath(buildDir).build();
 else
  this.chaincodeID = ChaincodeID.newBuilder().setName(name).setVersion(version).build();{code}
 and i got this error:

 
{code:java}
org.hyperledger.fabric.sdk.exception.ProposalException: java.lang.IllegalArgumentException: Missing chaincodePath in InstallRequest

{code}
 

So i Fixed it:
{code:java}
if (buildDir != null && !buildDir.isEmpty())
 this.chaincodeID = ChaincodeID.newBuilder().setName(name).setVersion(version).setPath(buildDir).build();
else
 this.chaincodeID = ChaincodeID.newBuilder().setName(name).setVersion(version).setPath(""./"").build();{code}
and i got a new error:
{code:java}
org.hyperledger.fabric.sdk.exception.ProposalException: java.lang.IllegalArgumentException: The project source directory does not exist: /Users/hhasni/.sources/github.ibm.com/block4j-common/../blockgocc-test/src/build-chaincode/src/.{code}
a ""src"" is automatically concatenated at the end of my path...

 

- Do you know how to deploy this with the JAVA SDK without HLF patch such as the one I suggest? 

- Actually i didn't think that i made something bad. Also i expect that if the chaincode can compile with my original configuration it mean that the index deployment should work with the same configuration...;;;","10/Jul/18 7:21 PM;mffrench;Hi [~chris.elder] and [~denyeart],


as chaincodes are compiling successfully, I also tend to think it should also deploy indexes successfully. Anyway do you have any documentation showing how to deploy chaincodes with meta-inf indexes successfully though HLF SDK (Java or NodeJS) without patching HLF ? This could be really helpful to unlock our current work.

Best,;;;","04/Dec/18 6:45 AM;denyeart;[~rickr] Could you assess whether something is needed on java sdk side?;;;","05/Dec/18 12:41 AM;rickr;Just looked the example has how indices would be supplied https://github.com/hyperledger/fabric-sdk-java/blob/b9f61bd903f1a67c3608da7da515e2a09f3ae499/src/test/java/org/hyperledger/fabric/sdkintegration/End2endIT.java#L423

I just checked this and running that proudces a tar stream with:
-rw-r--r-- 0/0            6318 2018-11-13 12:33 src/github.com/example_cc/example_cc.go
-rw-r--r-- 0/0             114 2018-11-13 12:33 META-INF/statedb/couchdb/indexes/IndexA.json

I think that agrees with what I see documented here :  https://hyperledger-fabric.readthedocs.io/en/release-1.3/couchdb_as_state_database.html;;;","06/Dec/18 7:37 PM;denyeart;[~hhasni42] We are not able to reproduce an issue. Are you still seeing an issue?;;;","08/Jan/20 1:42 PM;denyeart;Have not been able to reproduce, closing.;;;",,,,,,,,,,,,,,
"fabric-test-lte-daily <master> is failing intermittently in test case, test_FAB_3876a_VaryNumWritesInEachTx, Assertion error",FAB-13160,35870,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,AdnanChoudhury,sambhavdutt,sambhavdutt,05/Dec/18 1:25 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,18/Dec/18 11:46 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The fabric-test-lte--daily in Master branch fails intermittently in couchdb test case {color:#DE350B}test_FAB_3876a_VaryNumWritesInEachTx{color} with panic error. 
The test took about 4 hours to complete which is to usual time for lte daily tests.

Observed these errors,

{code:java}
panic: Error:error reading response body: invalid byte in chunk length

goroutine 493 [running]:
github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x1316e80, 0xc00363f5a0)
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xa8
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc00118ede0)
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:122 +0x80
created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:115 +0x5e
exit status 2
FAIL	github.com/hyperledger/fabric/test/tools/LTE/experiments	56.652s
Failed to run the test.
Stopping couchdb container (id: c579da775990)...
{code}

*Error log* 
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/lastSuccessfulBuild/artifact/gopath/src/github.com/hyperledger/fabric-test/regression/daily/output_VaryNumWritesPerTx_couchdb.log


The other lte test cases have passed in today's test.

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/91/

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-lte-master-x86_64/91/console



",,AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e972065,Unset,No,,,"1|i001q7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/18 10:31 AM;scottz;[~AdnanChoudhury] did you triage this? can you add any comments from your investigation?;;;","13/Dec/18 1:25 AM;AdnanChoudhury;Actual error message:


{code:java}
panic: Error:error reading response body: invalid byte in chunk length

goroutine 498 [running]:
github.com/hyperledger/fabric/test/tools/LTE/common.PanicOnError(0x1318a00, 0xc00269da00)
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/common/util.go:24 +0xa8
github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit.func1(0xc0004bcae0)
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:122 +0x80
created by github.com/hyperledger/fabric/test/tools/LTE/chainmgmt.(*Chain).startBlockPollingAndCommit
	/w/workspace/fabric-test-daily-lte-master-x86_64/gopath/src/github.com/hyperledger/fabric/test/tools/LTE/chainmgmt/chains.go:115 +0x5e
exit status 2
FAIL	github.com/hyperledger/fabric/test/tools/LTE/experiments	25.958s
{code};;;","18/Dec/18 11:46 PM;sambhavdutt;This test case ""test_FAB_3876a_VaryNumWritesInEachTx"" has been passing from several builds. 

;;;",,,,,,,,,,,,,,,,,,,,,,
Add tips and tricks to couchDB doc,FAB-13161,35871,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,joe-alewine,joe-alewine,05/Dec/18 1:56 AM,09/Dec/18 12:17 PM,28/Oct/23 3:04 AM,09/Dec/18 12:17 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"When using JSON queries:
 * be sure to create indexes in the chaincode package.
 * avoid query operators such as {{$or}}, {{$in}} and {{$regex}}, which lead to full DB scan

For both range and JSON queries:
 * don’t query entire state database for purpose of aggregate reporting
 * utilize paging support (as of v1.3) instead of one large result set

For reporting/aggregate queries, utilize a fit-for-purpose data store.
 We need some wording in RTD similar to what was added in node.js sdk event tutorial:

Applications may use block or chaincode events to provide channel 
 data to other applications. For example an application could listen for 
 block events and write transaction data to a data store for the purpose 
 of performing queries or other analytics against the channel's data. For
 each block received, the block listener application could iterate 
 through the block transactions, and build a data store using the 
 key/value writes from each valid transaction's 'rwset'

Also, recommend replicating all the ledger data to an off chain database and use the replica for dashboard (client application) queries instead of the blockchain ledger.

To this doc: [https://hyperledger-fabric.readthedocs.io/en/latest/couchdb_as_state_database.html]{{}}",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|hzzdek:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 1:56 AM;joe-alewine;[~pandrejko];;;","05/Dec/18 7:01 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/27939/;;;",,,,,,,,,,,,,,,,,,,,,,,
Address comments for client config,FAB-13162,35875,35190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,05/Dec/18 3:36 AM,11/Dec/18 11:52 PM,28/Oct/23 3:04 AM,11/Dec/18 11:52 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,Address comments for token/client/config.go.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001qf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 3:41 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/27926/;;;",,,,,,,,,,,,,,,,,,,,,,,,
The calling environment is not passed to the orderer process in integration tests,FAB-13163,35877,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Dec/18 5:02 AM,08/Dec/18 8:11 AM,28/Oct/23 3:04 AM,08/Dec/18 8:11 AM,,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001qv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 5:04 AM;sykesm;https://gerrit.hyperledger.org/r/27933 [FAB-13163] propagate caller environ to orderer;;;",,,,,,,,,,,,,,,,,,,,,,,,
Revert FAB-12670 https://gerrit.hyperledger.org/r/c/27759/,FAB-13164,35878,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,05/Dec/18 5:40 AM,06/Dec/18 11:51 AM,28/Oct/23 3:04 AM,06/Dec/18 11:51 AM,,,,,,v1.4.0,,,,fabric-crypto,,,,0,,,,"The change introduced by that CR breaks local development.

Additionally, I have these concerns:

1. the build process should never modify items outside of the build tree
2. pkcs11 configuration is an aspect of how the build system is setup
3. creating the softhsm token may be inappropriate if the current environment has already configured PKCS11_LIB, PKCS11_PIN, and PKCS11_LABEL as required by the tests
4. this change conflicts with the pending documentation update that describes how to install and configure softhsm to use during development

/cc [~denyeart], [~mastersingh24], [~rameshthoomu]",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001r3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 11:48 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27934/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Revert FABCI-227 https://gerrit.hyperledger.org/r/#/c/27919/,FAB-13165,35879,35878,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,rameshthoomu,rameshthoomu,05/Dec/18 5:56 AM,06/Dec/18 11:51 AM,28/Oct/23 3:04 AM,06/Dec/18 11:51 AM,,,,,,,,,,fabric-ci,,,,0,,,,After the FAB-13164 is fixed revert related CI change here https://gerrit.hyperledger.org/r/#/c/27919/,,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001rb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Dec/18 11:50 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27935/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Duplicated lines in programming model docs,FAB-13166,35880,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,yuki-kon,yuki-kon,yuki-kon,05/Dec/18 7:02 AM,19/Dec/18 7:09 AM,28/Oct/23 3:04 AM,19/Dec/18 7:09 AM,v1.3.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"The programming model docs “fabric/docs/source/developapps/smartcontract.md” has duplicated lines.
The duplicated lines should be removed.

https://github.com/hyperledger/fabric/blob/6037aaa97479a993ed9286e3da7641769e343132/docs/source/developapps/smartcontract.md#the-contract-class

Duplicated lines
{noformat}
Notice also how the class constructor uses its superclass to initialize itself with a namespace:

constructor() {
    super('org.papernet.commercialpaper');
}
This can be really helpful if papercontract.js contained multiple smart contracts, as transactions with the same name can be scoped by their namespace to disambiguate them.
{noformat}
",,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13271,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001rj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Dec/18 8:00 AM;yuki-kon;CR is posted here. https://gerrit.hyperledger.org/r/#/c/27940/;;;","19/Dec/18 7:09 AM;yuki-kon;The doc was fixed by FAB-13271. ;;;",,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in idemix/bridge tests,FAB-13167,35881,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,adc,sykesm,sykesm,05/Dec/18 7:28 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,05/Dec/18 6:20 PM,,,,,,,,,,fabric-crypto,,,,0,ci-flake,,,"{code}
21:41:58 ------------------------------
21:41:58 •! Panic [3.670 seconds]
21:41:58 Idemix Bridge
21:41:58 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:23
21:41:58   setting up the environment with one issuer and one user
21:41:58   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:596
21:41:58     the environment is not valid with the respect to different parameters
21:41:58     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:750
21:41:58       invalid credential [It]
21:41:58       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:851
21:41:58 
21:41:58       Test Panicked
21:41:58       runtime error: invalid memory address or nil pointer dereference
21:41:58       /opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513
21:41:58 
21:41:58       Full Stack Trace
21:41:58       	/opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513 +0x1b9
21:41:58       github.com/hyperledger/fabric/bccsp/idemix/bridge_test.glob..func1.9.3.7()
21:41:58       	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:869 +0x5e6
21:41:58       github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000074540, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
21:41:58       	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_suite_test.go:18 +0xf7
21:41:58       testing.tRunner(0xc00029ad00, 0xae6d10)
21:41:58       	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0x163
21:41:58       created by testing.(*T).Run
21:41:58       	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x651
21:41:58       
21:41:58 ------------------------------
21:41:58 •••••••••••••••••••••••••••
21:41:58 
21:41:58 Summarizing 1 Failure:
21:41:58 
21:41:58 [Panic!] Idemix Bridge setting up the environment with one issuer and one user the environment is not valid with the respect to different parameters [It] invalid credential 
{code}
",,angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Dec/18 7:27 AM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16339/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001rr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 4:24 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/27950/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add new collection property memberOnlyRead to marbles02_private sample,FAB-13170,35886,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,05/Dec/18 12:16 PM,06/Dec/18 3:27 AM,28/Oct/23 3:04 AM,06/Dec/18 3:27 AM,,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,Add new private data collection property memberOnlyRead to marbles02_private sample.,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001sv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Dec/18 12:29 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/27947/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments for tx_submitter.go,FAB-13171,35887,35190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,05/Dec/18 12:35 PM,08/Jan/19 10:00 PM,28/Oct/23 3:04 AM,08/Jan/19 10:00 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,"Address code review comments for tx_submitter.go. Update related files accordingly.

Code review comments in [https://gerrit.hyperledger.org/r/#/c/27227/]",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001t3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 1:57 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/27956/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update token client with prover and TxSubmitter for real grpc communication,FAB-13173,35894,33095,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,05/Dec/18 10:43 PM,17/Jan/19 1:23 AM,28/Oct/23 3:04 AM,17/Jan/19 1:23 AM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,Create a new token client with a TxSubmitter so that clients can send transactions via real grpc clients and signing identity.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001u7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 1:56 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/27967/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update fabcar sample and commercial paper to have latest 1.4 contract metadata,FAB-13175,35898,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mbwhite,mbwhite,mbwhite,06/Dec/18 12:42 AM,12/Sep/19 10:40 PM,28/Oct/23 3:04 AM,12/Sep/19 10:40 PM,v1.4.0,,,,,v2.0.0,,,,fabric-samples,,,,0,,,,"* Commercial Paper to have metadata
 * Add in annotations to the fabcar ts chaincode",,denyeart,heatherp,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCN-7,,,No,,Unset,No,,,"1|i001un:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,heatherp,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Dec/18 7:54 PM;mbwhite;Attempting to get the build to work properly :(

[https://jenkins.hyperledger.org/job/fabric-samples-verify-byfn/97/console]

Have asked on the CI channel;;;","08/Jan/19 4:33 AM;denyeart;[~mbwhite] In my opinion this is a task under the metadata epic rather than a bug. Also I've updated FixVersion. Do you agree?;;;","12/Sep/19 10:40 PM;heatherp;This was merged so closing off;;;",,,,,,,,,,,,,,,,,,,,,,
System Chaincode documentation needs to be updated,FAB-13176,35901,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mastersingh24,Rajatsharma,Rajatsharma,06/Dec/18 5:17 AM,03/Dec/19 8:01 AM,28/Oct/23 3:04 AM,03/Dec/19 8:01 AM,,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,"As per https://jira.hyperledger.org/browse/FAB-7710  

Documentation[ https://hyperledger-fabric.readthedocs.io/en/release-1.3/systemchaincode.html |http://example.com/] needs to be updated, as by following the given documentation, one cannot deploy a System Chaincode.

As this capability is not enabled by default and instead requires the peer to be built using a build tag named ""pluginsenabled"". For building your peer to enable loading GO plugins.
{code:java}
GO_TAGS+="" pluginsenabled"" make peer{code}
 or,
{code:java}
 DOCKER_DYNAMIC_LINK=true GO_TAGS+="" pluginsenabled"" make peer-docker{code}
 which needs to be added to the documentation.

 ",,denyeart,mastersingh24,Rajatsharma,RajatSharma1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15343,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001vb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,Rajatsharma,RajatSharma1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Feb/19 5:56 AM;RajatSharma1;[~denyeart], we need to add this in the documentation. ;;;","18/Feb/19 1:43 PM;denyeart;[~mastersingh24] Can you look at the doc page https://hyperledger-fabric.readthedocs.io/en/release-1.3/systemchaincode.html and help clarify what is missing?;;;","30/Jul/19 5:04 PM;Rajatsharma;[~mastersingh24] [~denyeart] should I pick this task and complete it. This is still missing from v2.0.0 documentation.

 ;;;","28/Nov/19 6:38 PM;Rajatsharma;[~mastersingh24] [~denyeart], this is still missing from the documentation. Can I help in resolving this issue?;;;","03/Dec/19 8:01 AM;denyeart;[~Rajatsharma] System chaincode plugins are removed in v2.0, I'm making this a dup of the Jira FAB-15343 that will release note it.;;;",,,,,,,,,,,,,,,,,,,,
Extend cryptogen to support cluster certificates,FAB-13177,35904,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,kchristidis,kchristidis,06/Dec/18 10:29 AM,14/Dec/18 12:00 AM,28/Oct/23 3:04 AM,14/Dec/18 12:00 AM,,,,,,,,,,,,,,0,,,,"OSNs in the etcd/raft-based ordering service need two sets of TLS certificates: one for interacting with clients, and one for interacting with the rest of the cluster ([example|https://gerrit.hyperledger.org/r/c/27907/4/sampleconfig/configtx.yaml#b300]). In our {{nwo}} tests, we are currently re-using the one pair that {{cryptogen}} outputs.",,kchristidis,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001vr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Dec/18 10:30 AM;kchristidis;H/T to [~guoger] for bringing this up.;;;","06/Dec/18 10:36 PM;kchristidis;[~mastersingh24]: This can wait until after we've cut 1.4, but LMK if (a) this makes sense, and (b) how tricky you think the implementation of it might be.;;;","13/Dec/18 9:20 AM;yacovm;I don't think we should do this.

* We don't need two sets of TLS certificates - this is not a must, this is an option. [By default|https://gerrit.hyperledger.org/r/#/c/28107/5/sampleconfig/orderer.yaml] we don't need, and we use the ""general"" TLS certificate and the same TLS listener is used for both client facing gRPC calls and intra-cluster calls.
* Even if we want to exercise a separate listener - we don't need more than a single cert-key pair. We can just add it twice - once to the general TLS config and once to the cluster TLS config.
It doesn't matter to the code, that we cheated and used the same certificate twice.
* Cryptogen is ignorant of consensus type, and there is currently no way to specify it.  I believe we should strive to keep it that way unless there is no other way. 
* If someone really wants to give a different TLS certificate to the cluster and to the general TLS server, it can just specify twice the OSN nodes, and use the even ones as one and the odd ones as the other. ;;;","13/Dec/18 9:34 AM;yacovm;Another thing would be, that - the only reason you'd want to use 2 different listeners in the first place is - if you either need to rotate TLS certificates in the client facing server on a frequent basis, or want clients to not need to use fabric TLS CAs, and want them to use the operating system's root CA cert pool and use ""internet-CAs"" issued TLS certificates for client facing.


In any case - neither of these 2 (rotation + different issuer) are related to testing, but are related to production deployments with specific needs. ;;;","13/Dec/18 10:15 PM;kchristidis;I'm not sure if it's the ""must"" in the {{raft-must}} label that's throwing us off here? If that's it, let me say that WAL pruning is in the {{raft-must}} list and that's not needed for us to run tests either. {{raft-must}} is just a list of items that we should try to finish within the next two weeks.

Back to the comment in this thread — most of the argument boils down to ""we can run this just fine with the same cert"" and ""we don't need this for testing""; but the thing is, neither of those statements are in dispute. (In fact, I'm acknowledging the first statement in the Jira description.)

If the proper way to do it in production is by using two different certs, then we should look into having our tooling support that option — this is what this Jira is about.

If we say, ""look this messes up the configuration in cryptogen significantly"" (which is also why I asked Gari above, but it's an open question), or if we still say, ""this doesn't make sense because of reason X"", I'm absolutely fine with dropping this thread. (Less work!)

But if we do suggest rolling with different certs in production, the fact that we don't need this functionality for testing, or the fact that we can run just fine with the same cert is not relevant.;;;","13/Dec/18 10:24 PM;kchristidis;That said, I am thinking about this:

{quote}They can just specify twice the OSN nodes, and use the even ones as one and the odd ones as the other.{quote}

And I think it's a neat idea. [~guoger], [~adarshsaraf123] your thoughts?;;;","13/Dec/18 10:29 PM;yacovm;{quote}If the proper way to do it in production is by using two different certs, then we should look into having our tooling support that option — this is what this Jira is about.{quote}

But it doesn't matter if we use 2 different certs or the same cert twice. It's the same thing because 2 different TLS listeners don't care about each other. ;;;","14/Dec/18 12:00 AM;kchristidis;We discussed this during today's scrum. Since cryptogen is not meant for cert generation during production, there's no point in littering it with additional options. We won't pursue this thread then. Closing it.;;;",,,,,,,,,,,,,,,,,
etcd/raft-based orderer should not panic if blockcreator buffer is overflown,FAB-13178,35921,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,06/Dec/18 8:01 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,21/Jan/19 12:42 AM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,raft,,,"{{BlockCreator}} returns nil when buffer is full, which will cause [this|https://github.com/hyperledger/fabric/blob/b62cf0ddb8d29198a153983d0f6b33838157a770/orderer/consensus/etcdraft/chain.go#L546-L547] to panic",,adarshsaraf123,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12354,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001xz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"06/Dec/18 8:07 PM;guoger;Refactoring etcdraft chain:
https://gerrit.hyperledger.org/r/c/28345
https://gerrit.hyperledger.org/r/c/28204
https://gerrit.hyperledger.org/r/c/28427
https://gerrit.hyperledger.org/r/c/28428
https://gerrit.hyperledger.org/r/c/28478

Implement a naive version of blockcreator:
https://gerrit.hyperledger.org/r/c/28541

Use MaxInflightMsgs to throttle request (a.k.a buffer size):
https://gerrit.hyperledger.org/r/c/28650;;;",,,,,,,,,,,,,,,,,,,,,,,,
instantiate fabric-chaincode-java problem,FAB-13179,35926,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,pengle,pengle,06/Dec/18 8:52 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"I'm using fabric-chaincode-java in maven ([https://github.com/hyperledger/fabric-chaincode-java/tree/release-1.3/fabric-chaincode-example-maven)]

my project at github : [https://github.com/penggle/fabric-chaincode-example-bankmaster2]

when i execute docker exec cli peer chaincode instantiate ...

while i instantiate the chaincode successfully，the logback.xml(src/main/resource/logback.xml) was missing in chaincode.jar in docker container, but when i build the fabric-chaincode-example-bankmaster2 by command (mvn compile package) in *host machine* is correctly(the logback.xml is include in chaincode.jar)

{color:#172b4d}I don't understand why the logback.xml missing while execute docker exec cli peer chaincode instantiate ... {color}

 ",,pengle,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001y7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pengle,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Allow an OSN of the system channel to join an existing application channel,FAB-13180,35932,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,kchristidis,kchristidis,06/Dec/18 10:28 PM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,08/Jan/19 6:37 PM,,,,,,,,,,,,,,0,,,,"This was originally touched on the FAB-12729 discussion.

[~yacovm]:
{quote}Another question we need to ask ourselves is - what if we have an OSN that is in the system channel and was added to a new channel at a later point: It won't know the addition of itself through the system channel, because the transaction would point to the application channel. I think that ideally we'd want an administrative API that would trigger the onboarding code from FAB-12555 that will sync it to a point where its certificate is in the consenter set, and afterwards would start the chain.
{quote}",,adarshsaraf123,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001yv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Dec/18 8:12 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28391/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fabric-Samples build aborts for no obvious reason when pull docker images,FAB-13181,35934,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,rameshthoomu,mbwhite,mbwhite,06/Dec/18 11:07 PM,07/Dec/18 11:41 PM,28/Oct/23 3:04 AM,07/Dec/18 11:41 PM,,,,,,,,,,fabric-ci,,,,0,,,,"This is currently being seen on fabric-samples CR builds. Blocking attempts to update samples.
*10:29:34* + ./CI_Script.sh --pull_Docker_Images*10:29:34* ------> IMAGE_TAG: amd64-1.4.0-stable*10:29:34* -----------> pull ca image*10:29:34* *10:29:38* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca:amd64-1.4.0-stable*10:29:38* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca@sha256:5bfb8e3e741fa77d7c3b19c51601a8490de51d7e04772073ac7953f06e84edce*10:29:38* -----------> pull ca-peer image*10:29:38* *10:29:44* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca-peer:amd64-1.4.0-stable*10:29:44* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca-peer@sha256:a097d54528d94bf966434086931aa816c5b11b089fce99b8ff93772fec9dc906*10:29:44* -----------> pull ca-orderer image*10:29:44* *10:29:49* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca-orderer:amd64-1.4.0-stable*10:29:49* Untagged: nexus3.hyperledger.org:10001/hyperledger/fabric-ca-orderer@sha256:f79142be8aae1783f01b16a0d7c5a4335b7544907e80c5fe0d157bfb75be9cc5*10:29:49* -----------> pull ca-tools image*10:29:49* [Pipeline] }[Pipeline] // dir[Pipeline] }[Pipeline] // wrap[Pipeline] }[Pipeline] // stage[Pipeline] archiveArtifacts*10:29:49* Archiving artifacts[Pipeline] }[Pipeline] // timestamps[Pipeline] }[Pipeline] // node[Pipeline] End of PipelineERROR: script returned exit code 1
Finished: FAILURE",,mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i001zb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 11:41 PM;rameshthoomu;Not sure why the fabric-ca-tools images is not available in nexus3 repository though the nightly job published the image to nexus3. re-triggered nightly job resolved the issue. I have re-triggered [https://gerrit.hyperledger.org/r/#/c/27961/] this patch, and it worked as expected. Closing this for now.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"fabric-unit-test daily <s390x> <master> failed once, Softhsm prerequisite is not installed.",FAB-13182,35936,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,06/Dec/18 11:42 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,08/Dec/18 7:21 AM,v1.4.0,,,,,v1.4.0,,,,fabric-build,,,,0,ci-failure,,,"The fabric-unit-test-daily <s390x>, <master>, failed once as softhsm installation is not happening , there were problems observed with this installation and the related _make_ target was removed in *55a5194a9fdcf474a425854cae2af1f0dd509f89*
I see these errors,

{code:java}
00:28:04.223 Immutable = [false]Failed initiliazing BCCSP at [{SecLevel:256 HashFamily:SHA2 Ephemeral:false FileKeystore:<nil> DummyKeystore:<nil> Library:/usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so Label:ForFabric Pin:98765432 SoftVerify:true Immutable:false}]: [Failed initializing PKCS11 library /usr/lib/s390x-linux-gnu/softhsm/libsofthsm2.so ForFabric: Could not get Slot List [pkcs11: 0x190: CKR_CRYPTOKI_NOT_INITIALIZED]]FAIL	github.com/hyperledger/fabric/bccsp/pkcs11	0.041s
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-daily-s390x/396/console

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-daily-s390x/396/

",,ashutosh_kumar,C0rWin,denyeart,harsha544,JonathanLevi,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12670,,,,,,,,,,,,,,,,FAB-12670,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,b62cf0ddb8d29198a153983d0f6b33838157a770,Unset,No,,,"1|i001zr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,C0rWin,denyeart,harsha544,JonathanLevi,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invoke proposal failed in TestCase FAB7329_4i - release-1.3,FAB-13184,35940,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,07/Dec/18 1:25 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,28/Dec/18 4:25 AM,,,,,,,,,,fabric-quality,,,,0,ci-failure,,,"The pte-daily test <release-1.3> failed twice with the same errors in a common test case *test_FAB7329_4i_channel_events* This test started at 21 EST, and took about four and a half hours which is the usual time taken for a successful pte run on Jenkins. 


{code:java}
Test Summary[0]: [Nid:chan:org:id=0:testorgschannel1:org1:1 postEventProc:isExecDone] pte-exec:completed  Rcvd=0 sent= 10000 proposal failure 10000 tx orderer failure 0 INVOKE(MOVE) in 366690 ms, timestamp: start 1543987640483 end 1543988007173, #event timeout: 0, #event unreceived: 0, Throughput=0 TPS
[32minfo[39m: [PTE 0 main]: Test Summary[1]: [Nid:chan:org:id=0:testorgschannel1:org1:1 latency_output] pte-exec:completed peer latency stats: tx num= 10000, total time: 103078 ms, min= 4 ms, max= 114 ms, avg= 10.31 ms


Test Summary[5]: [Nid:chan:org:id=0:testorgschannel1:org2:0 postEventProc:isExecDone] pte-exec:completed  Rcvd=0 sent= 10000 proposal failure 10000 tx orderer failure 0 INVOKE(MOVE) in 368102 ms, timestamp: start 1543987640529 end 1543988008631, #event timeout: 0, #event unreceived: 0, Throughput=0 TPS
[32minfo[39m: [PTE 0 main]: Test Summary[6]: [Nid:chan:org:id=0:testorgschannel1:org2:0 latency_output] pte-exec:completed peer latency stats: tx num= 10000, total time: 104328 ms, min= 4 ms, max= 135 ms, avg= 10.43 ms


Test Summary[10]: [Nid:chan:org:id=0:testorgschannel1:org2:1 postEventProc:isExecDone] pte-exec:completed  Rcvd=0 sent= 10000 proposal failure 10000 tx orderer failure 0 INVOKE(MOVE) in 368026 ms, timestamp: start 1543987640673 end 1543988008699, #event timeout: 0, #event unreceived: 0, Throughput=0 TPS
[32minfo[39m: [PTE 0 main]: Test Summary[11]: [Nid:chan:org:id=0:testorgschannel1:org2:1 latency_output] pte-exec:completed peer latency stats: tx num= 10000, total time: 104351 ms, min= 4 ms, max= 151 ms, avg= 10.44 ms


Test Summary[15]: [Nid:chan:org:id=0:testorgschannel1:org1:0 postEventProc:isExecDone] pte-exec:completed  Rcvd=0 sent= 10000 proposal failure 10000 tx orderer failure 0 INVOKE(MOVE) in 368655 ms, timestamp: start 1543987640259 end 1543988008914, #event timeout: 0, #event unreceived: 0, Throughput=0 TPS
[32minfo[39m: [PTE 0 main]: Test Summary[16]: [Nid:chan:org:id=0:testorgschannel1:org1:0 latency_output] pte-exec:completed peer latency stats: tx num= 10000, total time: 105225 ms, min= 4 ms, max= 136 ms, avg= 10.52 ms

PTE testcase: FAB-7329-4i
======= PTE 0 main Test Summary: executed at Wed Dec 05 2018 05:27:07 GMT+0000 (UTC) =======
(testorgschannel1:sample_js_ch1): CONSTANT INVOKE transaction stats
(testorgschannel1:sample_js_ch1):	Total processes 4
(testorgschannel1:sample_js_ch1):	Total transactions sent 40000  received 0
(testorgschannel1:sample_js_ch1):	failures: proposal 40000  transactions 0
(testorgschannel1:sample_js_ch1):	event: received 0  timeout 0  unreceived 0
(testorgschannel1:sample_js_ch1):	start 1543987640259  end 1543988008914  duration 368655 ms 
(testorgschannel1:sample_js_ch1):	TPS 0.00
(testorgschannel1:sample_js_ch1): peer latency stats (endorsement)
(testorgschannel1:sample_js_ch1):	total transactions: 40000  total time: 416982 ms 
(testorgschannel1:sample_js_ch1):	min: 4 ms  max: 151 ms  avg: 10.42 ms 
(testorgschannel1:sample_js_ch1): orderer latency stats (transaction ack)
(testorgschannel1:sample_js_ch1):	total transactions: 0  total time: 0 ms 
(testorgschannel1:sample_js_ch1): event latency stats (end-to-end)
(testorgschannel1:sample_js_ch1):	total transactions: 0  total time: 0 ms 
=======  CONSTANT INVOKE Overall Performance Summary  =======
    CONSTANT INVOKE Overall number of PTE: 1
    CONSTANT INVOKE Overall processes: 4
    CONSTANT INVOKE Overall transactions: sent 40000 received 0
    CONSTANT INVOKE Overall failures: proposal 40000 transactions 0
    CONSTANT INVOKE Overall event: received 0 timeout 0 unreceived 0
    CONSTANT INVOKE Overall time: start 1543987640259 end 1543988008914 duration 368655
    CONSTANT INVOKE Overall CONSTANT INVOKE TPS 0.00
    CONSTANT INVOKE Overall latency summary
        CONSTANT INVOKE Overall proposals latency 40000 min 4 ms max 151 ms avg 10.42 ms
        CONSTANT INVOKE Overall transactions latency 0 min 0 ms max 0 ms avg NaN ms
        CONSTANT INVOKE Overall events latency 0 min 0 ms max 0 ms avg NaN ms
        CONSTANT INVOKE Overall TEST RESULTS FAILED

{code}

*Error Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/30/PTE_Test_Logs/FAB-7329-4i_1205052646.log.gz

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/30/PTE_Test_Logs/FAB-7329-4i-pteReport.log.gz

There was a new commit *9c409308b41b4859b77b6d887726583e1978878f* , the same errors were noticed before and after this commit.

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/30/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.3-x86_64/30/PTE_Test_Logs/

",,dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d05d5f96ad4bf59d8dd8d5d34b69d77e2f8e01b9,Unset,No,,,"1|i0020n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/18 10:29 AM;scottz;Busy with master release v1.4 these days, but a quick triage shows the network setup seemd ok, the other pte daily tests ran fine, and we simply saw ZERO successful transactions for this testcase. All were failures. Someone may have to run on desktop to gather peer logs for investigation.;;;","19/Dec/18 1:24 AM;sambhavdutt;The same test case failed for first time in master branch for 1.4.0 images, with same error. I will create a Bug If this fails again as we had some network issues on the build vm's last night. 
This test case passed with 2.0 images, and passed with 1.4.0 images in the previous night's build.

fabric-test Commit: *daafa38*

*Error Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.4-x86_64/3/PTE_Test_Logs/FAB-7329-4i-pteReport.log.gz;;;","28/Dec/18 4:26 AM;sambhavdutt;This test case has been passing in the daily tests.;;;",,,,,,,,,,,,,,,,,,,,,,
cleanup core.yaml comments,FAB-13185,35941,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,muralisr,muralisr,07/Dec/18 2:55 AM,08/Dec/18 8:22 AM,28/Oct/23 3:04 AM,08/Dec/18 8:17 AM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"{code:java}
TL;DR; This FAB is a minimal fix to remove the suggestion in core.yaml that users need to work with *core/scc/importsysccs.go* for creating system chaincode statically built into fabric.
{code}

Details :

The following section gives the impression that system chaincodes can be statically built into peer by ""importing"" them into *core/chaincode/importsysccs.go*. 
{code:java}
    # System chaincode plugins: in addition to being imported and compiled
    # into fabric through core/chaincode/importsysccs.go, system chaincodes
    # can also be loaded as shared objects compiled as Go plugins.
    # See examples/plugins/scc for an example.
    # Like regular system chaincodes, plugins must also be white listed in the
    # chaincode.system section above.
    systemPlugins:
      # example configuration:
      # - enabled: true
      #   name: myscc
      #   path: /opt/lib/myscc.so
      #   invokableExternal: true
      #   invokableCC2CC: true
{code}

Pre-1.3, sysccs were imported directly into `core/scc/importsysccs.go` :

{code:java}
import (
	//import system chaincodes here
	""github.com/hyperledger/fabric/core/aclmgmt""
	""github.com/hyperledger/fabric/core/common/ccprovider""
	""github.com/hyperledger/fabric/core/scc/cscc""
	""github.com/hyperledger/fabric/core/scc/lscc""
	""github.com/hyperledger/fabric/core/scc/qscc""
)
{code}

Post-1.3, the process for setting up system chaincode statically has changed considerably and maybe worth documenting. 

 
",,denyeart,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12965,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0020v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,muralisr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Dec/18 8:17 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/27992/;;;",,,,,,,,,,,,,,,,,,,,,,,,
peers fail during private DB test - fatal error: concurrent map read and map write,FAB-13186,35942,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,manish-sethi,dongming,dongming,07/Dec/18 3:21 AM,07/Dec/18 8:32 PM,28/Oct/23 3:04 AM,07/Dec/18 8:31 PM,v1.4.0,,,,,v1.4.0,,,,fabric-peer,,,,0,must-fix,,,"Level of Fabric: 1.4.0-stable pulled Dec 6th morning from nexus prior to launching the network.

Environment: IKS, Each peer is running in its own pod.

Peers are failing while running privateDB test with couchDB (FAB-12936, private DB with requiredPeerCount 0 and maxPeerCount 0). Our network contains 5 orgs, 4 of which are participating in private data collection and which are endorsing transactions. It appears SOME of the 8 peers panic. On different test runs, we have seen 5 panic, or 3 panic, or 1 panic. 12936 is a testcase designed for 100% PULL. We have also seen failures on the 100% PUSH testcase, FAB-12937.

Test procedures:

1. create channel and join channel, and update channel with setting anchor peer on each org.

2. install/instantiate chaincode (map cc) on each org

3. run invokes/queries sending 10000 transactions per thread with 4 and 8 threads

4. install/upgrade chaincode with private collection

5. run invokes/queries sending 10000 transactions per thread with 4 and 8 threads

The test passes for levelDB but fails for couchDB with peers restarts itself. Two test failure were observed: 5 peers restarts during the 4 threads invokes run for privateDB in one case and 2 peers restarts during the 8 threads invokes run for privateDB in the other case.",,dongming,manish-sethi,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12938,FAB-12937,FAB-12936,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Dec/18 3:21 AM;dongming;collection-FAB-12741.json;https://jira.hyperledger.org/secure/attachment/16363/collection-FAB-12741.json","07/Dec/18 6:50 AM;suryalnvs;peer_panic.log;https://jira.hyperledger.org/secure/attachment/16364/peer_panic.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00213:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,manish-sethi,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Dec/18 7:03 AM;suryalnvs;Attached the peer panic log.;;;","07/Dec/18 9:33 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28001/;;;",,,,,,,,,,,,,,,,,,,,,,,
Fabric Operational Metrics with StatsD: Fails to put the metrics in any other address than 127.0.0.1,FAB-13187,35944,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,AdnanChoudhury,AdnanChoudhury,07/Dec/18 8:19 AM,08/Dec/18 3:32 AM,28/Oct/23 3:04 AM,08/Dec/18 3:32 AM,v1.4.0,,,,,v1.4.0,,,,fabric-peer,,,,0,,,,"Setup:
 A docker network of 4 peers, with the `operations` section of core.yaml as follows
{code:java}
###############################################################################
operations:
    # host and port for the operations server
    listenAddress: 127.0.0.1:9443

    # TLS configuration for the operations endpoint
    tls:
        # TLS enabled
        enabled: false

        # path to PEM encoded server certificate for the operations server
        #cert:
        #    file: tls/server.crt

        # path to PEM encoded server key for the operations server
        #key:
        #    file: tls/server.key

        # require client certificate authentication to access all endpoints
        clientAuthRequired: false

        # paths to PEM encoded ca certificates to trust for client authentication
        clientRootCAs:
            files: []

    metrics:
        # statsd, prometheus, or disabled
        provider: statsd

        # statsd configuration
        statsd:
            # network type: tcp or udp
            network: udp

            # statsd server address
            address: graphite:8125

            # the interval at which locally cached counters and gauges are pushsed
            # to statsd; timings are pushed immediately
            writeInterval: 10s

            # prefix is prepended to all emitted statsd merics
            prefix: peer

{code}
In the same network, a container named graphite (containing graphite-statsd) from [https://github.com/graphite-project/docker-graphite-statsd]
 *Expected*:
 When the there are events in the network (peer join/install/instantiate/invoke/query) the metrics end up in the designated port of the designated address.
 *Observed*:
 There are no metrics in the statsd/graphite UI, and listening to the desginated address/port in the peer via netcat listen (
{code:java}
nc -lu graphite -p 8125{code}
) shows no action.

*Additional* info:
 manual netcat messages from the peer container (
{code:java}
echo -n ""example:$((RANDOM % 100))|c"" | nc -w 1 -u graphite 8125{code}
) successfully ends up in the graphite UI",,AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12871,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,7851d469454c96925848bb3ad4e0d81b4d567a99,Unset,No,,,"1|i0021j:",,,,Unset,Unset,,,"1. stand up a peer with the core.yaml section shown in the description
2. run install/instantiate/invoke on the peer.
3. expected: metrics generated, observed: no metrics in the address/port",,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Dec/18 3:32 AM;AdnanChoudhury;Working as expected after image refresh and setting these env. variables


{code:java}
- CORE_OPERATIONS_METRICS_STATSD_ADDRESS=graphite:8125
 - CORE_OPERATIONS_METRICS_PROVIDER=statsd{code};;;","08/Dec/18 3:32 AM;AdnanChoudhury;Working as expected after image refresh and setting these env. variables
{code:java}
- CORE_OPERATIONS_METRICS_STATSD_ADDRESS=graphite:8125
 - CORE_OPERATIONS_METRICS_PROVIDER=statsd{code};;;",,,,,,,,,,,,,,,,,,,,,,,
"Idemix MSP Configuration, Revocation: Epoch support",FAB-13188,35973,,Story,In CR Review,FAB,Fabric,software,denyeart,,,Medium,,angelo.decaro,angelo.decaro,angelo.decaro,07/Dec/18 6:56 PM,03/Dec/19 2:44 AM,28/Oct/23 3:04 AM,,v1.4.0,,,,,,,,,fabric-crypto,,,,0,idemix,,,The current implementation does not load the *epoch* field that is important for identity validation in relation to revocation. The goal of this story is to enable that.,,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13103,,,No,,Unset,No,,,"1|i0023r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 6:53 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28004/;;;",,,,,,,,,,,,,,,,,,,,,,,,
The operations server logspec handler should return a content type,FAB-13189,35991,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,07/Dec/18 11:53 PM,20/Mar/19 3:45 PM,28/Oct/23 3:04 AM,09/Dec/18 4:22 AM,,,,,,v1.4.0,,,,fabric-common,,,,0,,,,"The /logspec resource responds with a JSON body and should indicate that in the content type.
",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0024v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Dec/18 8:45 AM;sykesm;The health check handler is already doing the right thing.

https://gerrit.hyperledger.org/r/28011;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As an operator, I would like insight into the versions of code that I am running in support of a network.",FAB-13190,35992,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,08/Dec/18 12:00 AM,19/Dec/18 3:34 AM,28/Oct/23 3:04 AM,14/Dec/18 2:06 PM,,,,,,v2.0.0,,,,fabric-common,,,,0,operations,,,"The peer and orderer should export a gauge named 'fabric_version' with the following labels:
- version
- go_version
- commit_sha (tbd - could be high cardinality and should be implied by version)

The values can be obtained from fabric/common/metadata and runtime.Version.",,denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00253:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Dec/18 12:12 AM;sykesm;[~skarim] or [~wlahti] do either of you want to pick this up?;;;","12/Dec/18 12:28 AM;wlahti;[~sykesm] I'll take this one.;;;","12/Dec/18 1:09 AM;sykesm;Additional comments:

1. Let's skip the commit hash. If it turns out we want it, we can add it.
2. The gauge value is always 1 and is observed before returning the provider back to the caller.
3. It would be nice if the operations server configuration simply took a version string; the operations package would then declare the gauge options and populate the version label from what was provided and the go version from the runtime package. The operations package should not in any way depend on the metadata package.

Also, if this is being actively worked, please accept it.;;;","12/Dec/18 5:55 AM;wlahti;https://gerrit.hyperledger.org/r/c/28085/;;;","14/Dec/18 2:05 PM;denyeart;Merged in master (v2.0.0).

I don't think this is important enough to cherry pick to release-1.4, but if you disagree feel free...;;;","19/Dec/18 3:33 AM;wlahti;I know [~sykesm] strongly wants this in release-1.4. He just recently cherry-picked the CR to the branch: [https://gerrit.hyperledger.org/r/c/28253/];;;",,,,,,,,,,,,,,,,,,,
How to make node.js chaincode re-usable?,FAB-13191,35995,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,aspring,aspring,08/Dec/18 1:09 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"objective: use a json file to replace a json object variable definition, see the following. 

async myFunc(args) {

// the following var re-use failed
/* re-usable code has issue, 11/30/2018
var myVar = require('fieldsNvalues.json');
*/

// the following static var definition works
var MyVar = {
docType: 'text',
field1: args[1],
field2: args[2],
field3: args[3],
field4: args[4]
};

await someOtherFunc(args[0], JSON.stringfy(myVar));
// replacing JSON.stringfy and changed to the following resulted in the same failure
await someOtherFunc(args[0], JSON.parse(myVar));

// fieldsNvalues.json file is a valid json file, in current directory and it contains the following
{
docType: 'text',
field1: args[1],
field2: args[2],
field3: args[3],
field4: args[4]
}",,aspring,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0025r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),aspring,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Allow ChannelCreationPolicy to be set in configtx.yaml,FAB-13192,35998,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,mastersingh24,mastersingh24,08/Dec/18 5:00 AM,03/Dec/19 8:03 AM,28/Oct/23 3:04 AM,,,,,,,Future,,,,,,,,1,ipm,,,"There have been several requests to do this as people want to limit which orgs can actually create channels.
Using configtxgen is the most common way to generate the genesis block.",,dcrough13,denyeart,jgdomine,jyellick,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8zu",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dcrough13,denyeart,jgdomine,jyellick,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Dec/19 1:55 AM;denyeart;[~jyellick]Is there not yet a way to control who can create channels? Care to add to ipm backlog?;;;","03/Dec/19 3:09 AM;jyellick;We can add this to the backlog.  You may control who can create channels if you edit your genesis block or update the channel config using {{configtxlator}}, but there's no support for doing it via {{configtx.yaml}}.  We can add it to the backlog, but unless we decide it's a priority, I don't see this making v2.0.;;;","03/Dec/19 8:03 AM;denyeart;Removed FixVersion v2.0.;;;",,,,,,,,,,,,,,,,,,,,,,
The couchdb_processing_time metric is missing help text,FAB-13193,35999,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,08/Dec/18 6:14 AM,09/Dec/18 4:22 AM,28/Oct/23 3:04 AM,09/Dec/18 4:22 AM,,,,,,v1.4.0,,,,fabric-common,,,,0,,,,"{code}
	apiProcessingTimeOpts = metrics.HistogramOpts{
		Namespace:    ""couchdb"",
		Subsystem:    """",
		Name:         ""processing_time"",
		LabelNames:   []string{""database"", ""function_name"", ""result""},
		StatsdFormat: ""%{#fqname}.%{database}.%{function_name}.%{result}"",
	}
{code}

",,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0026n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Dec/18 2:20 AM;skarim;https://gerrit.hyperledger.org/r/c/28016/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make Fabric compatible with CouchDB 2.3,FAB-13196,36005,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,08/Dec/18 10:11 PM,14/Dec/19 12:01 AM,28/Oct/23 3:04 AM,21/Mar/19 8:03 PM,,,,,,v1.1.2,v1.2.2,v1.4.1,v2.0.0,fabric-ledger,,,,0,,,,"From fabric-peer-endorser-committer channel, it is reported that upgrading to CouchDB 2.3 will cause an error:
{code:java}
Error during CouchDB CreateDatabaseIfNotExist() for system dbName: _users  error: json: cannot unmarshal string into Go struct field DBInfo.purge_seq of type int
{code}
couchdb has changed the data type in response for `CreateDatabaseIfNotExist()` check from purge_seq of int to string, while couchdb client expects int. This is a bug opened against CouchDB: [https://github.com/apache/couchdb/issues/1809.]

 Also seeing:
{code:java}
2019-02-22 13:10:21.619 IST [couchdb] CreateSystemDatabasesIfNotExist -> ERRO 062 Error calling CouchDB CreateDatabaseIfNotExist() for system dbName: _users, error: error decoding response body: json: cannot unmarshal number into Go struct field DBInfo.update_seq of type string
{code}
Fabric will need to make a code change to tolerate the CouchDB change. Since Fabric doesn't use purge_seq or update_seq (which have changed in couchdb 2.3), Fabric will make a change to simply disregard these two fields.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-17260,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwtol:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,release-1.1,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Mar/19 4:05 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/30158/]

merged... cherry picking to prior releases as well...;;;",,,,,,,,,,,,,,,,,,,,,,,,
Timeout running etcdraft chain_test,FAB-13199,36011,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,High,Done,guoger,sykesm,sykesm,09/Dec/18 11:47 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,29/Jan/19 12:58 PM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Onn current master [6f8d4cab7f8b3edb1beb29cae9af33d348964019]:

{code}
panic: test timed out after 20m0s

goroutine 277 [running]:
testing.(*M).startAlarm.func1()
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:1296 +0x13a
created by time.goFunc
        /usr/local/Cellar/go/1.11.2/libexec/src/time/sleep.go:172 +0x52

goroutine 1 [chan receive, 19 minutes]:
testing.(*T).Run(0xc0000ee300, 0x4e478cf, 0xc, 0x4e84a50, 0xc000345b01)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:879 +0x689
testing.runTests.func1(0xc0000ee300)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:1119 +0xa9
testing.tRunner(0xc0000ee300, 0xc000345d20)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:827 +0x163
testing.runTests(0xc0000b39e0, 0x57ec080, 0x9, 0x9, 0xc000345dc8)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:1117 +0x4ef
testing.(*M).Run(0xc000460080, 0x0)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:1034 +0x2ef
main.main()
        _testmain.go:118 +0x333

goroutine 83 [semacquire, 16 minutes]:
sync.runtime_Semacquire(0xc000592258)
        /usr/local/Cellar/go/1.11.2/libexec/src/runtime/sema.go:56 +0x39
sync.(*WaitGroup).Wait(0xc000592250)
        /usr/local/Cellar/go/1.11.2/libexec/src/sync/waitgroup.go:130 +0xb5
github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.(*network).start(0xc00047f400, 0xc000402ef0, 0x2, 0x2)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2281 +0x13f
github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.3.3.1()
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1174 +0xf9
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000091e60, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:110 +0xbe
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).run(0xc000091e60, 0x3, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/runner.go:64 +0x16b
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*ItNode).Run(0xc0000b3680, 0x4f8cbe0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes/it_node.go:26 +0xa3
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).runSample(0xc00049b0e0, 0x0, 0x4f8cbe0, 0xc000173890)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:203 +0x767
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec.(*Spec).Run(0xc00049b0e0, 0x4f8cbe0, 0xc000173890)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/spec/spec.go:138 +0x146
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpec(0xc0001e9a40, 0xc00049b0e0, 0x0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:198 +0x173
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).runSpecs(0xc0001e9a40, 0x4e85e01)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:168 +0x4ae
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run(0xc0001e9a40, 0xe)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:64 +0x10b
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite.(*Suite).Run(0xc0000d50e0, 0x92d03c0, 0xc0000eee00, 0x4e48ea1, 0xe, 0xc000567530, 0x1, 0x1, 0x4fa34a0, 0xc000173890, ...)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/suite/suite.go:62 +0x3e2
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecsWithCustomReporters(0x4f8d660, 0xc0000eee00, 0x4e48ea1, 0xe, 0xc000067f18, 0x1, 0x1, 0x20)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:220 +0x368
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.RunSpecs(0x4f8d660, 0xc0000eee00, 0x4e48ea1, 0xe, 0x0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:201 +0x9a
github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.TestEtcdraft(0xc0000eee00)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/etcdraft_suite_test.go:20 +0x120
testing.tRunner(0xc0000eee00, 0x4e84a50)
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:827 +0x163
created by testing.(*T).Run
        /usr/local/Cellar/go/1.11.2/libexec/src/testing/testing.go:878 +0x651

goroutine 9 [syscall, 20 minutes]:
os/signal.signal_recv(0x40628a1)
        /usr/local/Cellar/go/1.11.2/libexec/src/runtime/sigqueue.go:139 +0x9f
os/signal.loop()
        /usr/local/Cellar/go/1.11.2/libexec/src/os/signal/signal_unix.go:23 +0x30
created by os/signal.init.0
        /usr/local/Cellar/go/1.11.2/libexec/src/os/signal/signal_unix.go:29 +0x4f

goroutine 84 [chan receive, 19 minutes]:
github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).registerForInterrupts(0xc0001e9a40)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:220 +0xe6
created by github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner.(*SpecRunner).Run
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/specrunner/spec_runner.go:59 +0x89

goroutine 86 [select, 19 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc000502080)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 87 [select]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.(*node).run(0xc00070e6c0, 0xc0000ef300)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:313 +0x53a
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.StartNode
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:210 +0x50c

goroutine 88 [select]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRaft(0xc0001806c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:624 +0x2c4
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:246 +0x5ba

goroutine 89 [select, 19 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest(0xc0001806c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:440 +0x58b
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:247 +0x5df

goroutine 256 [select, 17 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc00047e340)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 292 [select, 16 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRaft(0xc0000e4900)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:624 +0x2c4
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:246 +0x5ba

goroutine 236 [chan send, 17 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.2.7.11.3.5.2(0xc000041560, 0xc000205a00)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:854 +0x87
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.2.7.11.3.5
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:853 +0x6aa

goroutine 306 [select, 16 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc00017e2c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 269 [select, 17 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc00017f580)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 223 [select, 16 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.(*node).run(0xc00027c7e0, 0xc00045aa00)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:313 +0x53a
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.StartNode
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:210 +0x50c

goroutine 225 [select, 16 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest(0xc0000e46c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:440 +0x58b
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:247 +0x5df

goroutine 224 [select, 16 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRaft(0xc0000e46c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:624 +0x2c4
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:246 +0x5ba

goroutine 291 [select, 16 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.(*node).run(0xc000544120, 0xc000205000)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:313 +0x53a
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft.StartNode
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/raft/node.go:210 +0x50c

goroutine 276 [select, 16 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc00047e4c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 274 [select, 16 minutes]:
github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.(*filePipeline).run(0xc0000312c0)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:89 +0x1ab
created by github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal.newFilePipeline
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/vendor/github.com/coreos/etcd/wal/file_pipeline.go:47 +0x1d3

goroutine 293 [select, 16 minutes]:
github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest(0xc0000e4900)
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:440 +0x58b
created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
        /Users/sykesm/workspace/fabric/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:247 +0x5df
FAIL    github.com/hyperledger/fabric/orderer/consensus/etcdraft        1201.230s
{code}

/cc [~kchristidis]",,C0rWin,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 12:20 AM;sykesm;console-timestamp.log.gz.txt;https://jira.hyperledger.org/secure/attachment/16394/console-timestamp.log.gz.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00293:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 6:02 AM;C0rWin;seems like following test caused timeout:

{code}
			It(""late node can catch up"", func() {
				network.init()
				network.start(1, 2)
				network.elect(1)

				c1.cutter.CutNext = true
				err := c1.Order(env, 0)
				Expect(err).ToNot(HaveOccurred())

				Eventually(func() int { return c1.support.WriteBlockCallCount() }, LongEventualTimeout).Should(Equal(1))
				Eventually(func() int { return c2.support.WriteBlockCallCount() }, LongEventualTimeout).Should(Equal(1))
				Eventually(func() int { return c3.support.WriteBlockCallCount() }, LongEventualTimeout).Should(Equal(0))

				network.start(3)

				c1.clock.Increment(interval)
				Eventually(func() int { return c3.support.WriteBlockCallCount() }, LongEventualTimeout).Should(Equal(1))

				network.stop()
			})
{code}

/cc [~guoger];;;","12/Dec/18 12:20 AM;sykesm;Hit again on current master in ci.

 [^console-timestamp.log.gz.txt] ;;;","19/Dec/18 10:40 AM;sykesm;Hit again on current master in ci.

https://gerrit.hyperledger.org/r/c/28266/1
https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7304/console;;;","19/Jan/19 1:45 AM;sykesm;And again.  https://gerrit.hyperledger.org/r/c/28798/

{code}
16:42:45 panic: test timed out after 20m0s
{code};;;","21/Jan/19 11:54 AM;guoger;[https://gerrit.hyperledger.org/r/c/28846] hopefully makes this timeout more debuggable. l don't currently have a better approach except for waiting for its next occurrence...;;;","29/Jan/19 11:52 AM;guoger;This is fairly hard to reproduce locally, and CI doesn't give us much debug info. A CR is submitted to hopefully make this more debuggable. Given the rate of this occurrence is fairly low, I'm closing this task for now, and pls feel free to reopen when anyone hits this again.;;;",,,,,,,,,,,,,,,,,,,
Several etcdraft unit tests take too long,FAB-13200,36014,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,09/Dec/18 11:56 PM,29/Jan/19 12:04 PM,28/Oct/23 3:04 AM,29/Jan/19 12:04 PM,,,,,,,,,,fabric-orderer,,,,0,hygiene,raft,unit-test,"When running the etcdraft tests, ginkgo highlights that many of the the tests take longer than 5 seconds to complete. This is generally an indication of test pattern issues where test assets are not properly used, fake clocks need to be employed, timeouts are too long, or polling / notifications are not effectively.

The tests should be examined and adjusted to reduce their execution time to milliseconds instead of seconds.

/cc [~kchristidis]
",,adarshsaraf123,C0rWin,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002a7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,C0rWin,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Dec/18 2:54 AM;kchristidis;Copying [~guoger] and [~adarshsaraf123]. Let's discuss this and work towards a fix in tomorrow's scrum.;;;","11/Dec/18 3:51 AM;C0rWin;https://gerrit.hyperledger.org/r/28052;;;","12/Dec/18 11:26 PM;kchristidis;[https://gerrit.hyperledger.org/r/c/28083/];;;","12/Dec/18 11:33 PM;kchristidis;Irrespective of the CRs that are posted here and whether they get merged, let's please keep this Jira open until we have reworked our unit tests to the point where we're being good test citizens again. (I will close this after review with the team.);;;","20/Dec/18 12:27 AM;kchristidis;Just so that we have something to measure ourselves against: currently, tests in {{etcdraft}} take 36 seconds.;;;","20/Dec/18 12:52 AM;guoger;{quote}ok github.com/hyperledger/fabric/orderer/consensus/etcdraft 20.265s coverage: 86.4% of statements{quote}

[~kchristidis] Is there an objective?
i think it's still relatively slow mostly due to disk IO, which we probably couldn't do much about it...;;;","20/Dec/18 1:01 AM;sykesm;While I'd like to agree that it's disk IO, I can't. Most of us are running on systems with fast SSDs and huge disk caches.;;;","21/Dec/18 12:14 PM;guoger;Yep, you are right, i wasn't being very accurate. By disk IO, I was mostly talking about two thing:
- current bottleneck of etcdraft implementation is disk IO according to profiling
- i observed ""WAL sync takes too long (more than 1s)"" in CI sometimes, which does not happen locally on my laptop

Current two factors contribute to test slowness:
- use of {{gomega.Consistently}} in tests, which by default waits for 100ms
- interval between ticks sent to raft (which is reduced to 10ms in https://gerrit.hyperledger.org/r/c/28341)

with this change, {{ginkgo}} takes ~8s, {{ginkgo -p}} (4 nodes) takes ~2.5s on my machine.;;;","23/Jan/19 10:14 PM;guoger;Docker container on Macbook Pro mid-2015
{code}
Ran 71 of 73 Specs in 10.235 seconds
SUCCESS! -- 71 Passed | 0 Failed | 0 Pending | 2 Skipped
{code}

vs

CI
{code}
15:10:44 ok  	github.com/hyperledger/fabric/orderer/consensus/etcdraft	22.465s	coverage: 82.0% of statements
{code}

mostly due to slow disk on CI;;;","24/Jan/19 9:26 AM;kchristidis;What am I doing wrong? Mid-2015 maxed out MBP, with the latest master as of the time of this writing, and I swear I'm not mining Bitcoin in parallel: 48.446s to execute all tests.
{code:java}
$ go test ./...
ok      github.com/hyperledger/fabric/orderer/consensus/etcdraft        48.446s
?       github.com/hyperledger/fabric/orderer/consensus/etcdraft/mocks  [no test files]
{code}
At any rate, [~sykesm] can you give us your take on whether the execution time is more manageable now, or whether this is still within the unacceptable range?;;;","24/Jan/19 11:10 AM;guoger;[~kchristidis] it's because the syscall used by {{etcd/wal}} is different on OSX than Linux, and it is super slow (haven't figured out why...)

can you try in a container?


This is benchmark result from {{etcd/wall}}
MBP
{code}
BenchmarkWrite1000EntryWithoutBatch-8   	     100	  14199460 ns/op	   0.07 MB/s
{code}

Docker Container on MBP
{code}
BenchmarkWrite1000EntryWithoutBatch-4   	    5000	    361108 ns/op	   2.79 MB/s
{code};;;","24/Jan/19 12:23 PM;kchristidis;Thanks for that tip. My numbers are much closer to yours now:
{code:java}
vagrant@vagrant:~/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft$ go test ./...
ok      github.com/hyperledger/fabric/orderer/consensus/etcdraft        11.748s
?       github.com/hyperledger/fabric/orderer/consensus/etcdraft/mocks  [no test files] {code};;;","29/Jan/19 12:04 PM;guoger;We don't observe long test highlighted by ginkgo in CI anymore. Even though the whole suite still takes fairly long:
{code}
13:10:40 ok  	github.com/hyperledger/fabric/orderer/consensus/etcdraft	24.794s	coverage: 82.6% of statements
{code}
It's fairly quick on a Linux box with fast disk. (when ran in parallel, it takes ~2.5s to complete)

I personally think this story could be closed by now. But please feel free to reopen this if anyone thinks it still requires some investigation.;;;",,,,,,,,,,,,
Pull the latest javaenv image for fabric-test.,FAB-13201,36015,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,sambhavdutt,sambhavdutt,sambhavdutt,10/Dec/18 1:16 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,14/Dec/18 11:27 PM,v1.4.0,,,,,,,,,fabric-quality,,,,0,ci-failure,,,This change is to update the pull script in fabric-test to fetch the latest version javaenv from Nexus for master and release-1.3. ,,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002af:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
typos in chaincode,FAB-13202,36018,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,ping40,ping40,10/Dec/18 3:02 PM,13/Dec/18 2:56 AM,28/Oct/23 3:04 AM,13/Dec/18 2:56 AM,,,,,,,,,,,,,,0,,,,,,denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002b3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 10:21 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/28025/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create a benchmark suite that consists of well defined benchmark applications and performance analysis toolkit,FAB-13203,36020,,Epic,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tkueda,tkueda,tkueda,10/Dec/18 3:53 PM,23/Jan/20 7:33 AM,28/Oct/23 3:04 AM,23/Jan/20 7:33 AM,Not a Bug,,,,,Not a Bug,,,,,,,,0,performance,stale-item,,"We are planning to publish our benchmark suite STE (Solution Traffic Engine) as open source. The suite consists of 5 applications, including 3 real-world and 2 synthetic chaincode applications. The testing engine will be comprised of a configurable toolkit to automatically deploy Fabric networks and run applications on customizable network topologies in different environments, ranging from development machines to remote clouds. It will be able to generate measurement reports and will have a toolkit to identify bottleneck components that cause in idle CPU cycles by blocking other components.
We want to push the code into fabric-test/tools (https://github.com/hyperledger/fabric-test/tree/master/tools)

STE consists of the following three components.
 # A Fabric benchmark suite including real-world and synthetic chaincode applications
 ** 3 Real-World Apps
 *** Ubin: [http://www.mas.gov.sg/Singapore-Financial-Centre/Smart-Financial-Centre/Project-Ubin.aspx]
 *** Blockchain Insurance: [https://github.com/IBM/build-blockchain-insurance-app/blob/master/README.md]
 *** Trade finance logistics: [https://github.com/HyperledgerHandsOn/trade-finance-logistics]
 ** 2 Synthetic Apps
 *** ccperf: [https://github.com/yoheiueda/ccperf]
 *** SampleCC: [https://github.com/hyperledger/fabric-test/tree/master/chaincodes/samplecc]
 # A benchmark harness for deploying fabric and run applications by using the following existing tools
 ** Hyperledger Cello: Network deployment tool [https://www.hyperledger.org/projects/cello]
 ** PTE: Popular configurable benchmark tool [https://github.com/hyperledger/fabric-test/tree/master/tools/PTE]
 ** ATD: Ansible playbooks to generate input files for PTE [https://github.com/hyperledger/fabric-test/tree/master/tools/ATD]
 # A set of performance analysis tools",,C0rWin,davidkhala,inatatsu,sykesm,tkueda,vramaiitkgp,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,We will upload a chart that describes the design.,Available,Unset,Required,ghx-label-4,,STE: Benchmark Suite for Hyperledger Fabric,To Do,No,,Not Required,No,,,"1|i002bb:",,,,No,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,We will upload a chart that describes the details.,C0rWin,davidkhala,inatatsu,sykesm,tkueda,vramaiitkgp,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 10:37 PM;davidkhala;+ 1 but looks overlap functionality of hyperledger/caliper;;;","14/Jan/19 4:05 PM;vramaiitkgp;[~davidkhala] Sorry for the late response. You are right about there being some overlap with Hyperledger Caliper (which we have been following keenly), as there is bound to be; both Caliper and STE are measuring the performance (throughput, latency, etc.) of Fabric applications.

We feel STE fills a niche by providing a customizable and easy-to-use testing and analytics engine for applications developed on DLTs like Fabric. It supports out-of-the-box measurements using realistic and meaningful benchmark applications (listed above.)

Caliper is itself very useful and easy to use, and does some things that STE doesn't do yet (like run comparative measurements on different blockchain platforms: Sawtooth and Iroha in addition to Fabric), but STE also supports the dynamic provisioning of arbitrary networks (we have a proof-of-concept built for a particular cloud platform) and a completely automated end-to-end testing pipeline for any chaincode application a user would like to calibrate. STE is modular in terms of network topology, application, and workload, and in the future, we envision it supporting different DLT platforms in a modular way.

We are trying to figure out where a toolkit like STE ideally fits in the Hyperledger source. Thus far, we have targeted `hyperledger/fabric-test`, as STE currently only supports the testing of Fabric chaincodes. STE also depends on PTE, the core measurement engine within `fabric-test`, as well as adapted forms of `hyperledger/fabric-test/tools/ATD` and `hyperledger/cello`. Therefore, `fabric-test` seemed like a natural place to house STE, at least for the immediate future. In the longer run, we would be happy to consider integration with Caliper or any other measurement platform; whatever turns out to be most useful to the community.;;;","15/Jan/19 3:22 PM;davidkhala;[~vramaiitkgp]Great for your observation. It could be much better if your team can collaborate with Caliper ;;;","23/Jan/20 7:33 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
refactor gossip pull message classification,FAB-13204,36021,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kutenglaoshu,kutenglaoshu,kutenglaoshu,10/Dec/18 4:16 PM,14/Dec/18 2:14 PM,28/Oct/23 3:04 AM,13/Dec/18 5:51 PM,,,,,,v2.0.0,,,,,,,,0,,,,,,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002bj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dependency on fabric-client module,FAB-13206,36025,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,10/Dec/18 8:22 PM,11/Dec/18 1:59 AM,28/Oct/23 3:04 AM,11/Dec/18 12:57 AM,,,,,,,,,,,,,,0,,,,"The sample FabCar applications depend on fabric-client, but now that the fabric-network package has been fixed, this dependency can be removed.",,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002cf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 8:47 PM;sstone1;https://gerrit.hyperledger.org/r/#/c/28036/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove incorrect and unused discovery options,FAB-13207,36026,35274,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sstone1,sstone1,sstone1,10/Dec/18 8:34 PM,11/Dec/18 1:59 AM,28/Oct/23 3:04 AM,11/Dec/18 1:59 AM,,,,,,,,,,,,,,0,,,,,,sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002cn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 8:45 PM;sstone1;https://gerrit.hyperledger.org/r/#/c/28035/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add integration test,FAB-13208,36028,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Dec/18 10:19 PM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,22/Dec/18 12:44 AM,,,,,,,,,,,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002d3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Dec/18 12:44 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28243/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Token - Improve Performance, Finish Up, and Polish Code",FAB-13209,36029,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,wenjian,wenjian,wenjian,10/Dec/18 10:43 PM,13/Jan/20 11:42 PM,28/Oct/23 3:04 AM,13/Jan/20 11:42 PM,,,,,,Future,,,,fabric-token,,,,0,fabtoken,,,"Review the following design issues:
 # Using a separate ""tokenInputXXX"" key or a 'Spent"" field to specify a transaction output is already spent
 # Avoid scanning the entire tms namespace to list tokens
 # Naming confusion: InputIds mean unspent output ids",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Most of dev done.,https://docs.google.com/document/d/1fzxoQYARFPTTIM-eIw8zs6tYkg6t6uRVI6fmnCQJz9I,Available,Unset,Not Required,ghx-label-6,,Token - Improve Performance,To Do,No,,Not Required,No,,,"1|i002db:",,,,Yes,Not Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,Improve performance and usability. Have impact to SDK and e2e tests.,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove unused code,FAB-13210,36030,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,10/Dec/18 10:53 PM,11/Dec/18 12:05 AM,28/Oct/23 3:04 AM,11/Dec/18 12:04 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"{code:java}
// logFunc implements the go-kit Logger interface
type logFunc func(keyvals ...interface{}) error// Log creates a log record
func (l logFunc) Log(keyvals ...interface{}) error {
	return l(keyvals...)
} {code}
The above code in {{common/server/main.go}} is unused.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002dj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Dec/18 10:54 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28040/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update token transaction output key to include owner id,FAB-13212,36033,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,10/Dec/18 11:58 PM,03/Dec/19 3:05 AM,28/Oct/23 3:04 AM,20/Mar/19 10:10 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,"Currently, token transactions are stored using ""transaction id + output index"" as the state key. As a result, the ""ListTokens"" call will have to scan the entire ""tms"" namespace. If there are lots of token transactions in the ledger, this design may cause performance issue.

New Proposal: Add ""owner id"" to the token transaction keys when stored the state in ledger.

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13209,,,No,,Unset,No,,,"1|i002e7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Mar/19 4:22 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/29904/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make it explicit that operations service needs separate CA,FAB-13213,36034,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,joe-alewine,joe-alewine,11/Dec/18 12:17 AM,11/Dec/18 1:23 AM,28/Oct/23 3:04 AM,11/Dec/18 1:23 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,,,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|i002ef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 12:34 AM;joe-alewine;https://gerrit.hyperledger.org/r/c/28043/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Change link in upgrade doc,FAB-13214,36035,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,joe-alewine,joe-alewine,joe-alewine,11/Dec/18 12:35 AM,12/Dec/18 11:04 PM,28/Oct/23 3:04 AM,12/Dec/18 11:04 PM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"Logging control paragraph should point to the release notes, not the operations service doc.",,joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13023,,,No,,Unset,No,,,"1|i002en:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 12:41 AM;joe-alewine;[https://gerrit.hyperledger.org/r/c/28044/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Delete token output key to mark it has been spent,FAB-13215,36036,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bur,wenjian,wenjian,11/Dec/18 12:57 AM,03/Dec/19 3:05 AM,28/Oct/23 3:04 AM,11/Mar/19 5:43 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,"Current token transaction design:

When a token output is spent, token processor creates a new key (tokenInputXXX) to indicate the output is spent. This incurs
 # extra ledger calls when committing a token transaction,
 # cause confusion in relationship between tokenInputXXX and tokenOutputXXX,
 # the size of state db keeps growing.

An alternative approach is to delete the token output key to mark that that output is not available anymore. State DB then plays the role of the unspent tokens pool.

Note that this delete only impacts statedb. Fabric will still keeps the complete transaction history. 

 ",,bur,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-13209,,,No,,Unset,No,,,"1|i002ev:",,,,Unset,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),bur,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/19 10:43 PM;bur;https://gerrit.hyperledger.org/r/#/c/29164/;;;",,,,,,,,,,,,,,,,,,,,,,,,
SBE integration test intermitent failures,FAB-13223,36049,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mne,C0rWin,C0rWin,11/Dec/18 6:36 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,14/Jan/19 4:37 AM,,,,,,,,,,fabric-peer,,,,0,ci-flake,,,"There are several intermittent failures was observed in CI related to SBE e2e tests:

{quote}
21:28:49 • Failure [76.317 seconds]
21:28:49 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
21:28:49 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
21:28:49 
21:28:49   No future change is possible.  Bailing out early after 3.102s.
21:28:49   Expected
21:28:49       <int>: 1
21:28:49   to match exit code:
21:28:49       <int>: 0
21:28:49 
21:28:49   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:137
21:28:49 ------------------------------
21:28:49 
21:28:49 
21:28:49 Summarizing 1 Failure:
21:28:49 
21:28:49 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
{quote} 

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/3989/console

and 

{quote}
21:29:46 ------------------------------
21:29:46 • Failure [68.556 seconds]
21:29:46 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
21:29:46 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
21:29:46 
21:29:46   Got stuck at:
21:29:46       foo
21:29:46       
21:29:46   Waiting for:
21:29:46       val1
21:29:46 
21:29:46   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
21:29:46 ------------------------------
21:29:46 
21:29:46 
21:29:46 Summarizing 1 Failure:
21:29:46 
21:29:46 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
21:29:46 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
21:29:46 
21:29:46 Ran 1 of 1 Specs in 82.825 seconds
21:29:46 FAIL! -- 0 Passed | 1 Failed | 0 Pending | 0 Skipped
21:29:46 --- FAIL: TestEndToEnd (82.83s)
21:29:46 FAIL
{quote}

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/3988/console

/cc [~ales]",,C0rWin,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13593,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002hr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,mne,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 8:41 AM;C0rWin;observed a new one

{quote}
22:49:17 • Failure [63.759 seconds]
22:49:17 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
22:49:17 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
22:49:17 
22:49:17   Got stuck at:
22:49:17       
22:49:17       
22:49:17   Waiting for:
22:49:17       foo
22:49:17 
22:49:17   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:123
22:49:17 ------------------------------
22:49:17 
22:49:17 
22:49:17 Summarizing 1 Failure:
22:49:17 
22:49:17 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
22:49:17 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:123
22:49:17 
22:49:17 Ran 1 of 1 Specs in 75.644 seconds
22:49:17 FAIL! -- 0 Passed | 1 Failed | 0 Pending | 0 Skipped
22:49:17 --- FAIL: TestEndToEnd (75.64s)
{quote}

https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4040/console;;;","08/Jan/19 4:26 AM;denyeart;[~mne] FYI;;;","11/Jan/19 8:24 PM;mne;Same issue as in FAB-13593 - the peer has not received the transaction yet. Added explicit ledger synchronization (see the patch for FAB-13593).;;;",,,,,,,,,,,,,,,,,,,,,,
Blocks provider intermitent failure,FAB-13224,36051,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,11/Dec/18 7:41 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,14/Dec/18 1:59 PM,,,,,,v1.4.0,v2.0.0,,,,,,,0,ci-flake,,,"There is {{TestBlocksProviderImpl_GetBlockFromSpecified}} intermittent failure in CI:

{quote}
21:25:32 --- FAIL: TestBlocksProviderImpl_GetBlockFromSpecified (1.00s)
21:25:32     <autogenerated>:1: 
21:25:32         	Error Trace:	blocksprovider_test.go:97
21:25:32         	            				blocksprovider_test.go:85
21:25:32         	            				blocksprovider_test.go:135
21:25:32         	Error:      	Should be true
21:25:32         	Test:       	TestBlocksProviderImpl_GetBlockFromSpecified
{quote}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/6963/console

there is code which generates test case:

{code}
func makeTestCase(ledgerHeight uint64, mcs api.MessageCryptoService, shouldSucceed bool, rcv rcvFunc) func(*testing.T) {
	return func(t *testing.T) {
		gossipServiceAdapter := &mocks.MockGossipServiceAdapter{GossipBlockDisseminations: make(chan uint64)}
		deliverer := &mocks.MockBlocksDeliverer{Pos: ledgerHeight}
		deliverer.MockRecv = rcv
		provider := NewBlocksProvider(""***TEST_CHAINID***"", deliverer, gossipServiceAdapter, mcs)
		defer provider.Stop()
		ready := make(chan struct{})
		go func() {
			go provider.DeliverBlocks()
			// Send notification
			ready <- struct{}{}
		}()

		time.Sleep(time.Second)

		assertDelivery(t, gossipServiceAdapter, deliverer, shouldSucceed)
	}
}
{code}

where assertion is done before provider has been stopped, hence there is probability that during assertion one more block will be delivered:

{code}
func assertDelivery(t *testing.T, ga *mocks.MockGossipServiceAdapter, deliverer *mocks.MockBlocksDeliverer, shouldSucceed bool) {
	// Check that all blocks received eventually get gossiped and locally committed

	select {
	case <-ga.GossipBlockDisseminations:
		if !shouldSucceed {
			assert.Fail(t, ""Should not have succeede"")
		}
		assert.True(t, deliverer.RecvCount() == ga.AddPayloadCount())
	case <-time.After(time.Second):
		if shouldSucceed {
			assert.Fail(t, ""Didn't gossip a block within a timely manner"")
		}
	}
}
{code}

The fix should be to stop provider prior to checking assertion.
",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002i7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 7:46 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28055/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments for FAB-12552,FAB-13225,36052,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,11/Dec/18 8:11 AM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,12/Dec/18 7:18 AM,,,,,,,,,,,,,,0,,,,There are several comments were provided while underlined CR (https://gerrit.hyperledger.org/r/#/c/27163/) was merged. This JIRA is to keep record and take care of them.,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002if:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 8:12 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28058/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer failed to commit to the CouchDB after running for a while,FAB-13226,36053,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,,qizhang87,qizhang87,11/Dec/18 12:39 PM,08/Jan/19 4:24 AM,28/Oct/23 3:04 AM,08/Jan/19 4:24 AM,v1.2.0,,,,,,,,,fabric-ledger,,,,0,,,,Please see the error message from the attachment.,,denyeart,qizhang87,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/18 12:38 PM;qizhang87;chaincode.go;https://jira.hyperledger.org/secure/attachment/16385/chaincode.go","11/Dec/18 12:43 PM;qizhang87;error_msg.png;https://jira.hyperledger.org/secure/attachment/16386/error_msg.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002in:",,,,Unset,Unset,,,"1. Setup Fabric 1.2 with 1 Peer, 1 CA, 1 Orderer, and 1 CouchDB. All the containers are running on the same host.
2. Create a channel, join the peer to the channel, install and instantiate the attached chaincode.
3. Run a client which has 25 processes, and each process issues `invoke` request at the rate of 5 req/sec with the following parameters:
            ""fcn"": ""invoke"",
            ""args"": [""mint"", ""a1""].
4, The Fabric will run correctly for a while (as shown in the error_msg.png, 18 blocks have been successfully committed). Then the error occurs.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,qizhang87,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 4:24 AM;denyeart;Likely an environment issue, for example see:

[https://groups.google.com/forum/#!topic/couchdb-user-archive/6z84OmwhR7w]

We have not been able to reproduce this during system tests. If you think it is not an environment issue, or if you recommend a specific update to documentation or configuration, please re-open.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for next release,FAB-13228,36056,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,denyeart,11/Dec/18 3:44 PM,09/Jan/19 1:50 AM,28/Oct/23 3:04 AM,09/Jan/19 1:48 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"update package.json files with the SNAPSHOT release identifier

  ./package.json

  fabric-client/package.json

  fabric-ca-client/package.json",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13574,,FAB-12409,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i002jb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 4:00 AM;harrisob@us.ibm.com;will be worked under https://jira.hyperledger.org/browse/FABN-1066;;;",,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node 1.4.0-rc1 and rc2,FAB-13230,36058,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,andrew-coleman,ChristopherFerris,denyeart,11/Dec/18 3:48 PM,09/Jan/19 1:49 AM,28/Oct/23 3:04 AM,12/Dec/18 11:33 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh 2b862d7 v1.3.0 (have to use hash as there is no tag to find)

update release_notes/v1.3.0.txt

update package.json files with the release identifier

./package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""testFabricVersion"": ""master"",  -> ""testFabricVersion"": ""1.3.0"",

./fabric-ca-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.30"",

   ""tag"": ""unstable"" -> ""latest""

./fabric-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""tag"": ""unstable"" -> ""latest""

 ",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13573,,FAB-12408,,,FABN-1059,,,,,,,,,,,,,,,,,,FABN-1062,FABN-1063,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i002jr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Introduce Idemix Integration Test in Fabric,FAB-13231,36066,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Done,angelo.decaro,angelo.decaro,angelo.decaro,11/Dec/18 9:38 PM,03/Dec/19 6:41 AM,28/Oct/23 3:04 AM,10/Sep/19 5:32 AM,v1.4.0,,,,,v2.0.0,,,,,,,,0,,,,"Fabric misses an integration test for idemix that will ensure that a transaction signed with idemix is correctly processed by Fabric.
",,angelo.decaro,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10174,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-12758,,,No,,Unset,No,,,"1|i002lj:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Dec/18 9:40 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28069/;;;","10/Sep/19 5:32 AM;scottz;Merged Aug 16th.;;;",,,,,,,,,,,,,,,,,,,,,,,
chaincode-docker-devmode doesn't work,FAB-13232,36067,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,Tom-Xu-CNXA,Tom-Xu-CNXA,11/Dec/18 11:29 PM,13/Dec/18 1:51 AM,28/Oct/23 3:04 AM,13/Dec/18 1:51 AM,,,,,,v1.4.0,,,,fabric-samples,,,,0,1.4.0-rc1,,,"Dev mode gets failed in the 1.4.0-rc1.

*Environment:* Ubuntu 16.04

*Remark*: On the same machine, dev mode in fabric 1.3 works fine. And I tried several machines with fabric 1.4, all of them get failed. See attached the log devmode.log of 'docker-compose -f docker-compose-simple.yaml up'

 ",,sykesm,Tom-Xu-CNXA,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Dec/18 11:32 PM;Tom-Xu-CNXA;devmode.log;https://jira.hyperledger.org/secure/attachment/16393/devmode.log","11/Dec/18 11:28 PM;Tom-Xu-CNXA;devmode.log;https://jira.hyperledger.org/secure/attachment/16391/devmode.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002lr:",,,,Unset,Unset,,,"curl -sSL https://bit.ly/2ysbOFE | bash -s 1.4.0-rc1

docker-compose -f docker-compose-simple.yaml up",,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,Tom-Xu-CNXA,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Dec/18 12:58 AM;sykesm;The {{-o}} flag was unused and removed from peer/node/start in https://gerrit.hyperledger.org/r/c/27187. The compose file, however, continues to use the -o flag (https://github.com/hyperledger/fabric-samples/blob/master/chaincode-docker-devmode/docker-compose-simple.yaml#L38) and that causes the command to terminate.;;;","13/Dec/18 1:06 AM;sykesm;I do not want to add dead code back to the peer node start command and would prefer the fabric sample be corrected.;;;","13/Dec/18 1:23 AM;wlahti;On behalf of Matt, whose internet is currently not working: https://gerrit.hyperledger.org/r/c/28116/;;;",,,,,,,,,,,,,,,,,,,,,,
Minor changes to kvledger/tests,FAB-13234,36070,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,manish-sethi,manish-sethi,manish-sethi,12/Dec/18 12:38 AM,12/Dec/18 1:33 AM,28/Oct/23 3:04 AM,12/Dec/18 1:33 AM,,,,,,,,,,fabric-ledger,,,,0,,,,Use []string instead of policy porto in `collConf` for the sake of simplicity and uniformity with other fields.,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002mf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 1:33 AM;manish-sethi;Done as part of FAB-12969;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As an operator, I would like to observe how many log records have been emitted at each level",FAB-13237,36073,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,sykesm,sykesm,12/Dec/18 2:14 AM,12/Jan/19 1:11 AM,28/Oct/23 3:04 AM,09/Jan/19 11:26 PM,v1.4.1,v2.0.0,,,,v1.4.1,v2.0.0,,,fabric-common,,,,0,operations,,,"When operating a system, I would like to be able to observe whether there is an increase of info, error, and warning messages that are emitted by the logging framework as a metric.",,skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002n3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"09/Jan/19 6:27 AM;skarim;https://gerrit.hyperledger.org/r/c/28191/;;;",,,,,,,,,,,,,,,,,,,,,,,,
DockerVM#streamOutput stays in an infinite loop,FAB-13239,36075,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,sykesm,sykesm,12/Dec/18 3:06 AM,13/Dec/18 1:36 AM,28/Oct/23 3:04 AM,13/Dec/18 1:36 AM,,,,,,v1.4.0,v2.0.0,,,fabric-peer,,,,0,,,,"{code}
	go func() {
		// Block here until the attachment completes or we timeout
		select {
		case <-attached: // successful attach
			close(attached) // close indicates the streams can now be copied

		case <-time.After(10 * time.Second):
			dockerLogger.Errorf(""Timeout while attaching to IO channel in container %s"", containerName)
			return
		}

		// create a logger for the chaincode
		containerLogger := flogging.MustGetLogger(""peer.chaincode."" + containerName)

		is := bufio.NewReader(r)
		for {
			// Loop forever dumping lines of text into the containerLogger
			// until the pipe is closed
			line, err := is.ReadString('\n')
			switch err {
			case nil:
				containerLogger.Info(line)
			case io.EOF:
				dockerLogger.Infof(""Container %s has closed its IO channel"", containerName)
			default:
				dockerLogger.Errorf(""Error reading container output: %s"", err)
			}
		}
	}()
{code}

When an error encountered, the loop should exit.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002nj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Dec/18 4:31 AM;sykesm;ttps://gerrit.hyperledger.org/r/28081 [FAB-13239] terminate container streaming output loop;;;",,,,,,,,,,,,,,,,,,,,,,,,
peer panic when adding a new private data collection member,FAB-13240,36076,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,manish-sethi,dongming,dongming,12/Dec/18 6:53 AM,20/Dec/18 1:57 AM,28/Oct/23 3:04 AM,12/Dec/18 10:17 AM,v1.4.0,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,"Peer panic when install/upgrade chaincode to add an org to existing privateDB.

[~suryalnvs] will attach peer logs to the bug.

Not sure what triggered the panic, but we just noticed it some time later in the logs of two peers, both in org5. Created a network with 5 orgs, 2 peers per org. Installed and instantiated one chaincode in all peers with cc version 0. Orgs 1-4 (not 5) are all using the private collection. Installed cc versions 1, then 2, then 3, on the peers in orgs 1-4 (not 5) and upgraded one by one. Finally installed cc version 4 on ALL peers, and upgraded. Somewhere along the way, the peer panicked. Hopefully this might give some helpful insight.

 

 

Panic seeing in the committer peers:
{code:java}
2018-12-11 20:28:04.912 UTC [committer.txvalidator] Validate -> INFO 2262 [testorgschannel1] Validated block [2868] in 10ms2018-12-11 20:28:04.912 UTC [committer.txvalidator] Validate -> INFO 2262 [testorgschannel1] Validated block [2868] in 10ms2018-12-11 20:28:04.918 UTC [cceventmgmt] HandleStateUpdates -> INFO 2263 Channel [testorgschannel1]: Handling deploy or update of chaincode [map_cc_ch1]2018-12-11 20:28:04.925 UTC [pvtdatastorage] processCollElgEvents -> INFO 2264 Converting missing data entries from ineligible to eligible for [ns=map_cc_ch1, coll=collection-FAB-12743]panic: runtime error: slice bounds out of range
goroutine 288 [running]:github.com/hyperledger/fabric/core/ledger/util.DecodeReverseOrderVarUint64(0xc0042091b2, 0x2, 0x2, 0x14, 0xc003c78680) /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/util/uint64_encoding.go:45 +0x106github.com/hyperledger/fabric/core/ledger/pvtdatastorage.decodeMissingDataKey(0xc004209191, 0x24, 0x2f, 0x20) /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/kv_encoding.go:135 +0x38cgithub.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).processCollElgEvents(0xc0002c9320, 0x1388, 0x3e8) /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:873 +0x55cgithub.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc.func1(0xc0002c9320, 0x1388, 0x3e8) /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:838 +0xb9created by github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:833 +0x65
{code}
 ",,denyeart,dongming,manish-sethi,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 5:38 AM;dongming;collection-FAB-12743.json;https://jira.hyperledger.org/secure/attachment/16413/collection-FAB-12743.json","13/Dec/18 5:38 AM;dongming;collection-FAB-12773.json;https://jira.hyperledger.org/secure/attachment/16414/collection-FAB-12773.json",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002nr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dongming,manish-sethi,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Dec/18 7:30 AM;suryalnvs;Added the panic logs from committer peers in the description.;;;","12/Dec/18 8:34 AM;denyeart;Need a zip of the /var/hyperledger/production directory to troubleshoot.;;;","12/Dec/18 10:19 AM;manish-sethi;Master - https://gerrit.hyperledger.org/r/#/c/28090/
Cherry-pick to release-1.4 - https://gerrit.hyperledger.org/r/#/c/28091/;;;","13/Dec/18 5:42 AM;dongming;We have not got the latest fabric with your changes yet.  However, with RC1, we are able to reproduce the defect when adding an org (org5) to an existing collection

The existing collection

[^collection-FAB-12743.json]

The new collection

[^collection-FAB-12773.json];;;","13/Dec/18 7:41 AM;manish-sethi;Yes [~dongming] - without the fix, this should be reproducible if you perform the following.
 - Submit private data transactions with original collection config (i.e., without org5 as a member in it)
-  Commit at least 256 blocks and the last block (i.e., block 255) happens to contain private data - I believe that in this test anyways, all the blocks would be  containing the private data. The significance of block no. 255 is that, this is the first number whose encoding would lead to surface the bug
- Upgrade to new collection config (for including org5).;;;","14/Dec/18 1:47 PM;denyeart;The fix did not make it in time for rc1, but it will be in the final v1.4.0 release.;;;","15/Dec/18 12:07 AM;dongming;Rerun the test with the fix and peer panic does not occur.;;;",,,,,,,,,,,,,,,,,,
Wrong redirect link on readthedocs page,FAB-13241,36078,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,vikpande,vikpande,12/Dec/18 8:19 AM,15/Jan/20 6:19 AM,28/Oct/23 3:04 AM,15/Jan/20 6:19 AM,v1.3.0,,,,,,,,,fabric-docs,,,,0,Documentation,stale-item,,"Reported by a hyperledger member - [~nasht00]

"" Looking at this page: [https://hyperledger-fabric.readthedocs.io/en/latest/developapps/smartcontract.html]
It has a link to the ""Hyperledger Fabric Contract class"": [https://fabric-shim.github.io/fabric-contract-api.Contract.html]
However the page gets redirected to a completely different article...""

 

If anyone can share the proper link, i could create a ""change request"" with the correct link and update readthedocs. thanks. ",,pandrejko,vikpande,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2254,,,No,,Unset,No,,,"1|i002o7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,vikpande,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Jan/20 6:19 AM;pandrejko;Problem no longer exists;;;",,,,,,,,,,,,,,,,,,,,,,,,
"The submodules in fabric-test fail to build in fabric-test-daily <master> jobs consistently, and exit the daily tests.",FAB-13242,36080,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,12/Dec/18 12:34 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,15/Dec/18 4:04 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The git submodules fabric, ca,..etc are not building well in the fabric-test-daily <master> branch  This is consistently failing the daily builds before the actual tests start. There might be a bug in the submodule init, update. Posting the error observed,


{code:java}
19:58:24 	cd /w/workspace/fabric-test-daily-pte-master-x86_64/gopath/src/github.com/hyperledger/fabric && git pull https://gerrit.hyperledger.org/r/fabric; \
19:58:24 fi
19:58:24 fatal: Not a git repository (or any parent up to mount point /w)
{code}

{code:java}
00:23:45 	cd /w/workspace/fabric-test-daily-ote-master-x86_64/gopath/src/github.com/hyperledger; \
00:23:45 	git clone --single-branch -b master https://gerrit.hyperledger.org/r/fabric /w/workspace/fabric-test-daily-ote-master-x86_64/gopath/src/github.com/hyperledger/fabric; \
00:23:45 else \
00:23:45 	cd /w/workspace/fabric-test-daily-ote-master-x86_64/gopath/src/github.com/hyperledger/fabric && git pull https://gerrit.hyperledger.org/r/fabric; \
00:23:45 fi
00:23:45 fatal: Not a git repository (or any parent up to mount point /w)
{code}

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-master-x86_64/106/",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c1ec466,Unset,No,,,"1|i002on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,true,"13/Dec/18 6:50 AM;latitiah;The errors listed in this issue have nothing to do with git submodules. The makefile targets for executing OTE and PTE test are not correct and are attempting to clone the fabric repository. This should not be necessary since the needed docker images should simply be pulled and not built.

See the following console: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ote-master-x86_64/103/console;;;","13/Dec/18 7:02 AM;latitiah;https://gerrit.hyperledger.org/r/28142;;;",,,,,,,,,,,,,,,,,,,,,,,
Updatable CRI,FAB-13244,36083,,Story,In Progress,FAB,Fabric,software,denyeart,,,Medium,,angelo.decaro,angelo.decaro,angelo.decaro,12/Dec/18 4:22 PM,03/Dec/19 2:45 AM,28/Oct/23 3:04 AM,,v1.3.0,,,,,,,,,fabric-crypto,,,,1,,,,"Currently, in idemix, when a new user enrol, the CRI is regenerated, and the epoch increased, to allow the new come to get his revocation handle signed. This means that a new reconfiguration, with the new epoch, needs to be issued to all the channels that contains the MSP from which the user got her certification.

The goal of this story is no introduce an updatable CRI that does not need an increase of epoch when a new user is enrolled.",,angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABC-776,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13103,,,No,,Unset,No,,,"1|i002pb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Dec/18 6:22 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28098/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Kafka-to-Raft migration: Abort path,FAB-13245,36084,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tock,tock,tock,12/Dec/18 4:38 PM,04/Apr/19 4:41 PM,28/Oct/23 3:04 AM,04/Apr/19 4:37 PM,,,,,,,,,,,,,,0,,,,"The abort path builds on the ""green"" path described in an earlier task (FAB-13264) and adds the ability to abort a migration after it was started but before it is committed. Recall that starting a migration blocks all normal transactions. The ability to abort an on-going migration allows an admin to cope with errors and problems in the process of migration without freezing the ordering service during the entire time. 

Possible use cases for the abort path are the following:
 * An admin starts a migration, tries to commit, but receives a response that not all standard channels have the same metadata at the ""CONTEXT"".
 * An admin starts a migration, and while submitting a ""CONTEXT"" receives a response that the raft metadata in it is invalid. 
 * The admin can then abort, allowing the system to continue processing transactions, regroup, and try again in a later (maybe much later) time.

In the abort path:
 # System channel starts a migration by sending a config update tx (START-TX) on the system channel, where:
 ## ConsensusType.Type=""kafka""
 ## ConsensusType.MigrationState=START
 ## ConsensusType.MigrationContext=0
 ## ConsensusType.Metadata=\{empty}
 ## This transaction is accepted at block-height x (the *context*)
 # A subset S of standard channels (zero, 1 or more, or ALL) issue a config update-tx (CONTEXT-TX), where:
 ## ConsensusType.Type=""etcdraft""
 ## ConsensusType.MigrationState=CONTEXT
 ## ConsensusType.MigrationContext=context
 ## ConsensusType.Metadata={*A valid etcdraft metadata*}
 # In order to abort the on-going migration, every standard channel must issues a config update tx (ABORT-TX), where:
 ## ConsensusType.Type=""kafka""
 ## ConsensusType.MigrationState=ABORT
 ## ConsensusType.MigrationContext=context
 ## ConsensusType.Metadata=\{empty}
 # In order to abort the on-going migration, the system channel issues a config update tx (ABORT-TX), where:
 ## ConsensusType.Type=""kafka""
 ## ConsensusType.MigrationState=ABORT
 ## ConsensusType.MigrationContext=context
 ## ConsensusType.Metadata=\{empty}
 # Normal transactions can resume on standard channels ALL-S (i.e. those that did not issue a CONTEXT-TX)
 # In the next system channel config update transaction, the system channel can:

 ## Restart a new migration, or
 ## It must explicitly set 
 *** ConsensusType.MigrationState=NONE
 *** ConsensusType.MigrationContext=0
 *** In addition to other parameters that are updated (including channel creation).

 

 ",,kchristidis,tock,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002pj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,tock,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/19 4:41 PM;tock;Switching to alternative  migration design - v2;;;",,,,,,,,,,,,,,,,,,,,,,,,
Extend unit tests for components that were changed by migration,FAB-13246,36088,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,tock,tock,tock,12/Dec/18 4:53 PM,04/Apr/19 7:44 PM,28/Oct/23 3:04 AM,04/Apr/19 7:44 PM,,,,,,,,,,,,,,0,,,,"Here is a (possibly partial) list of components which need an update to their unit tests in order to cover the new migration code:
 * kafka/chain
 * kafka/consenter
 * channelconfig/orderer
 * orderer/multichannel/chainsupport
 * orderer/multichannel/registrar
 * etcdraft/chain
 * solo/chain

 

This will be updated as the implementation progresses.

Use ginkgo wherever possible / needed.",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002qf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Recover from orderer failure in the middle of migration,FAB-13247,36090,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tock,tock,tock,12/Dec/18 4:55 PM,04/Apr/19 4:42 PM,28/Oct/23 3:04 AM,04/Apr/19 4:38 PM,,,,,,,,,,,,,,0,,,,"*(Work in progress)*

This task addresses one main concern - an OSN that crashes before or during migration, and recovers during or after migration.  When this happens, there are two things that need to be done:

1. Restore the migration status of every chain 
 * While initializing the registrar, the last config block of every channel is retrieved. This is the time to inspect the ConsensusType.MigrationStatus & ConsensusType.MigrationContext of the chain, and restore the chain.MigrationStatus to its value before the crash.
 * It is necessary to change the start order of the chains, and start them only after the chain.MigrationStatus of all of them had been restored.

2. Carefully consume messages from Kafka in order to respect the order of migration commands
 * After the chains are started, they begin consuming messages from Kafka. Each chain consumes from a different topic. Messages on a single topic are ordered, but messages between topics may be consumed at arbitrary order, subject to thread scheduling.
 * Thus, although in the ""live"" set of OSN's messages where consumed in the order prescribed by the protocol ([see here|[https://docs.google.com/document/d/1g_M8KO9cdbYMLBsscHd6ffv-X_ZRLeHvDcIEoV7YXUE/edit?usp=sharing]),] a recovering node may consume they out of order. For example, on OSN-1 to OSN-J commands execute in order:

START (on sys-channel) -> 
                                           >->CONTEXT (on chan-A) ->  
                                           >->CONTEXT (on chan-B) ->
                                                                                        >-> COMMIT(on sys-channel)

(green path)

 

START (on sys-channel) -> 
                                           >->CONTEXT (on chan-A) ->  >->ABORT (on chan-A) ->  
                                                                                           >->ABORT (on chan-B) ->
                                                                                                                                        >-> ABORT(on sys-channel)

(abort path)

 
 * However, OSN-K wakes up and consumes from the channels (system/A/B) in arbitrary order, and may encounter a CONTEXT before the system channels consumes and commits the START. If the node drops the CONTEXT, a fork will be formed. This must be prevented.
 * Note that an OSN that recovers in the middle or after migration presents the same problems as a ""slow"" OSN in which the threads are slow to consume from the topics. 
 * 

The key to handling these scenarios is the following observation: when a node consumes from Kafka, it can be sure that a correct node allowed the message into Kafka and respected the order exemplified above. Thus, when a go-routine encounters a CONTEXT for example, it can be sure that the system channel go-routine already encountered a START, or will do so in the near future. It can therefore wait for this condition to materialize. In summary:
 * A CONTEXT on a standard channel waits for a START on the system channel
 * A COMMIT on the system channel waits for all standard channels to be in CONTEXT
 * An ABORT on the system channel waits for all standard channels to be in ABORT

 

Failure scenarios:
 * Recover from failure in the middle of migration before commit, single node, recover migration Status during init:

 # after START, some standard channel in CONTEXT. 
 # after START, some standard channel in CONTEXT. some in ABORT
 # after ABORT, system channel in ABORT, all standard channels in ABORT  
 # during COMMIT: bootstrap block replaced, block not written to ledger

 

Misc. Tasks:
 * refactor the migration package type names and structure to respect review comments in green path #2 CR
 * expose the DetectMigration(lastBlock) from chainsupport.go on the ConsenterSupport interface and reuse it in etcdraft/chain.go
 * decide if to panic or error on unmarshal failures after consuming transactions from Kafka

 ",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002qv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/19 4:42 PM;tock;Switching to alternative  migration design - v2;;;",,,,,,,,,,,,,,,,,,,,,,,,
core.yaml contains +lifecycle config parameter,FAB-13249,36103,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,13/Dec/18 12:35 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,13/Dec/18 1:42 AM,,,,,,v1.4.0,,,,,,,,0,,,,"In core.yaml, ""peer.chaincode.system.+lifecycle: enable"" was left in the codebase even though the code for +lifecycle was removed / disabled. This line should be removed to avoid any confusion.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002tr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Dec/18 12:49 AM;wlahti;release-1.4: [https://gerrit.hyperledger.org/r/c/28109]

release-1.3: https://gerrit.hyperledger.org/r/c/28114;;;",,,,,,,,,,,,,,,,,,,,,,,,
add nil check in ToGossipMessage,FAB-13251,36105,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Dec/18 1:22 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,13/Dec/18 9:36 PM,,,,,,v1.1.2,v1.2.2,v1.4.0,v2.0.0,fabric-gossip,,,,0,,,,,,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002u7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,main,release-1.1,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Dec/18 12:32 PM;denyeart;Merged in master and release-1.4. Backporting to prior releases.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Improve SDK compatibility documentation,FAB-13253,36110,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,13/Dec/18 2:08 AM,13/Dec/18 2:49 AM,28/Oct/23 3:04 AM,13/Dec/18 2:49 AM,,,,,,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,"Change:

Upgrade Fabric CA before upgrading Node SDK clients.

to:


Upgrade Fabric and Fabric CA before upgrading Node SDK clients. Fabric and Fabric CA are tested for backwards compatibility with older SDK clients.
While newer SDK clients often work with older Fabric and Fabric CA components, they may expose features that are not yet available in the older Fabric and Fabric CA components, and are not tested for full compatibility.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002v3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Commands based on 'curl' in 'install' doc are incorrect,FAB-13254,36111,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tijohnson,tijohnson,tijohnson,13/Dec/18 2:54 AM,14/Jan/19 12:08 PM,28/Oct/23 3:04 AM,14/Jan/19 12:08 PM,,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,"There are three examples in the documentatin (install.rst) of how to download and install the 'bootstrap.sh' script. The example are not ideal. 
    Currently: curl -sSL http://bit.ly/2ysbOFE | bash -s 1.4.0-rc1
    Should be: curl -sSL http://bit.ly/2ysbOFE | bash -s -- 1.4.0-rc1

The command parser in bash will pass all arguments after the '--' directly to the script being sourced without attempting to parse them. In these example it works but you try to pass a flag to boostrap.sh 'curl | bash -s -s version' it will fail whereas 'curl | bash -s -- -s version will work as expected.
",,ChristopherFerris,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002vb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,tijohnson,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
PTE[Enhancement] - Support asynchronous transaction load generation,FAB-13255,36112,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,dongming,nileshdeotale,nileshdeotale,13/Dec/18 3:21 AM,16/Jan/20 5:40 AM,28/Oct/23 3:04 AM,16/Jan/20 5:40 AM,,,,,,,,,,fabric-tools,,,,0,stale-item,,,"Currently PTE request transactions are synchronous in that unless promise is resolved or timed out, next transaction is not sent. For load generation purpose to benchmark capacity / load handling of fabric network, network test tool with asynchronous load generation capability is required. ",,nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i002vj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),nileshdeotale,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 3:26 AM;scottz;This could be worth the effort to do this in PTE, but it also depends on the node SDK handling everything asynchronously, instead of promise-based logic. [~nileshdeotale] did you confirm the SDK does that (at least for all the APIs for invokes and queries, if not the admin functions such as reconfigs, create channels, etc)?;;;","13/Dec/18 6:55 AM;scottz;Bret said: ""you have to wait for the proposals to finish before sending to the orderer, so no way to not have a async wait there, since the send to the orderer only waits till the orderer says it got the transaction and does not wait for the transaction to commit, so no real wait here. I do not see where the async waits of the NodeSDK is causing your issue. ""

If I understand it, the node SDK is built to wait until a transaction is sent to orderer. Only then can the client regain the thread control and submit a new transaction proposal. The go sdk must do things differently, which is why HFRD an send so many more transactions per thread ingress to the peers. It would take an overhaul of node-sdk and pte to resolve this story enhancement. I am thinking right now it is not worth the effort; PTE is useful for what it can do (a low-level system test traffic driver to exercise features code and validate, good for traffic comparisons between software releases, and automation).

;;;","16/Jan/20 5:40 AM;scottz;Let HFRD be used for testing with high offered input rates. This is not the way PTE is designed with nodesdk.;;;",,,,,,,,,,,,,,,,,,,,,,
Fix What's New link to release notes,FAB-13256,36116,35802,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,13/Dec/18 4:55 AM,13/Dec/18 5:00 AM,28/Oct/23 3:04 AM,13/Dec/18 5:00 AM,,,,,,,,,,,,,,0,,,,,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002wf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Clarity in the building of fabric-ca images for fabric-ca sample,FAB-13257,36117,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,13/Dec/18 5:55 AM,08/Jan/19 4:12 AM,28/Oct/23 3:04 AM,08/Jan/19 4:12 AM,v1.4.0,,,,,,,,,fabric-samples,,,,0,,,,"The README.md documentation for building local images for use with the fabric-ca samples is not clear. Namely, letter (c) in the https://github.com/hyperledger/fabric-samples/tree/master/fabric-ca#running-this-sample section.",,denyeart,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a79d7cf3aa68f6e91df22a3e1d25f26a64de1288,Unset,No,,,"1|i002wn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 6:01 AM;latitiah;https://gerrit.hyperledger.org/r/28139;;;","08/Jan/19 4:12 AM;denyeart;Fabric CA sample has been removed from fabric-samples.

A variant will be re-introduced as an integration test.;;;",,,,,,,,,,,,,,,,,,,,,,,
Incorrect fabric ca client binary in images,FAB-13258,36118,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,skarim,skarim,skarim,13/Dec/18 6:38 AM,08/Jan/19 4:11 AM,28/Oct/23 3:04 AM,08/Jan/19 4:11 AM,,,,,,,,,,fabric-samples,,,,0,,,,"The fabric-ca sample is incorrectly including darwin-amd64 fabric-ca-client binaries for in the fabric-ca-peer, fabric-ca-orderer, and fabric-ca-tools images. This should be fixed so that Linux based binaries are always used.",,denyeart,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002wv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"13/Dec/18 11:45 PM;skarim;https://gerrit.hyperledger.org/r/c/28141/;;;","08/Jan/19 4:11 AM;denyeart;Fabric CA sample has been removed from fabric-samples. A variant of it will be re-introduced as an integration test.;;;",,,,,,,,,,,,,,,,,,,,,,,
 Add command to the fabric-test ReadME file,FAB-13259,36120,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,ChandraLekhaChavva,ChandraLekhaChavva,ChandraLekhaChavva,13/Dec/18 7:26 AM,01/Aug/19 12:08 PM,28/Oct/23 3:04 AM,01/Aug/19 12:08 PM,v1.4.0,,,,,,,,,fabric-quality,,,,0,quality,,,"1. Run command `sudo pip install mozdownload` to resolve the error we got when we ran hook commands


2. cd $GOPATH/src/github.com/hyperledger/fabric-test/feature-upgrade
Setup python virtual environment wrapper usage
sudo pip install virtualenv
sudo pip install virtualenvwrapper
export WORKON_HOME=~/Envs
source /usr/local/bin/virtualenvwrapper.sh",,ChandraLekhaChavva,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002xb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 12:08 PM;scottz;Deprecating behave framework. This doc enhancement is no longer needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"fabric-unit-test-coverage-daily, <x86_64>, <release-1.4> and <master> failed once in Gossip tests, Authentication error.",FAB-13260,36121,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,13/Dec/18 12:42 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,15/Dec/18 12:04 AM,v1.4.0,,,,,v1.4.0,,,,fabric-gossip,,,,0,ci-failure,,,"The fabric-unit-test-coverage-daily, <x86_64>, <release-1.4> and <master> failed once in Gossip tests starting with Authentication error and times out,


{code:java}
21:07:46 2018-12-13 01:49:19.652 UTC [gossip.comm#7002] authenticateRemotePeer -> WARN 54b Identity store rejected 127.0.0.1:54184 : revoked
21:07:46 2018-12-13 01:49:19.652 UTC [gossip.comm#7002] GossipStream -> ERRO 54c Authentication failed: revoked

21:07:46 2018-12-13 01:49:19.653 UTC [gossip.comm#7001] GossipStream -> ERRO 553 Authentication failed: revoked
21:07:46 2018-12-13 01:49:19.653 UTC [gossip.comm#7000] GossipStream -> ERRO 554 Authentication failed: revoked

19:31:16 	/w/workspace/fabric-unit-test-coverage-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:349 +0x128
19:31:16 <<<TestDissemination>>>
19:31:16 --- FAIL: TestDissemination (184.10s)
19:31:16     gossip_test.go:707: Membership establishment took 3.002122933s
19:31:16     gossip_test.go:715: Block dissemination took 552.053132ms
19:31:16     gossip_test.go:718: Metadata dissemination took 875.893µs
19:31:16     gossip_test.go:747: Leadership message dissemination took 517.085034ms
19:31:16     gossip_test.go:753: Stopping peers
19:31:16     gossip_test.go:1531: 
19:31:16         	Error Trace:	gossip_test.go:1531
19:31:16         	            				asm_amd64.s:1333
19:31:16         	Error:      	Didn't stop within a timely manner
19:31:16         	Test:       	TestDissemination
19:31:16     gossip_test.go:1607: 
19:31:16         	Error Trace:	gossip_test.go:1607
19:31:16         	            				gossip_test.go:760
19:31:16         	Error:      	Timeout expired!
19:31:16         	Test:       	TestDissemination
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-release-1.4-x86_64/2/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/293/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c10e00c7cd7d031b654dcb115db3267b5b5dcc39,Unset,No,,,"1|i002xj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor function RetrieveBlocks,FAB-13261,36124,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tyanj,tyanj,tyanj,13/Dec/18 5:31 PM,03/Dec/19 1:53 AM,28/Oct/23 3:04 AM,03/Dec/19 1:52 AM,,,,,,v2.0.0,,,,,,,,0,,,,retrieveBlocks never return error,,denyeart,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002xz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Dec/19 1:53 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/fabric/+/28149/;;;",,,,,,,,,,,,,,,,,,,,,,,,
typo in configblock.go,FAB-13262,36127,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Dec/18 6:38 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,14/Dec/18 1:20 AM,,,,,,v2.0.0,,,,,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002yf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
 kafka-to-raft migration: Green path #1,FAB-13264,36132,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,13/Dec/18 8:53 PM,28/Mar/19 10:48 PM,28/Oct/23 3:04 AM,31/Jan/19 1:39 AM,,,,,,,,,,,,,,0,,,,"This is the first of four (*1/4*) sub-tasks that focus on the ""green"" path of consensus-type migration from Kafka to Raft. 

By ""green"" we mean that there are no failures or aborts along the way. The flow of the green path and the changes made in these 4 tasks are described below. The 4 sub-tasks are staged in a way that minimizes dependencies between them.

In this sub-task we introduce changes to the *orderer/common/bootstrap* package (see details in bold below). In essence, Just before the last config block of the system channel (COMMIT) is written to the ledger, the bootstrap file (a.k.a ""genesis.block"", do not confuse with the first block of the ledger) is swapped with the last block of the system channel. This sub-task extends package *orderer/common/bootstrap* to support this functionality.

 

The ""green"" path for migration is the following:
 # Start with a Kafka-based ordering service 
 # Send a config update tx (START-TX) on the system channel that:
 ## Has ConsensusType.MigrationState=START
 ## This will disable the creation of new channels
 ## This will disable the processing of normal (standard channel) transactions
 # Wait until the START-TX is committed and get the block height H of that tx
 # Send a config update tx (CONTEXT-TX) on each of the standard channels that:
 ## Has ConsensusType.MigrationState=CONTEXT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## Note: take special care that the metadata is valid!
 ## Note: all the channels should be supplied with the same metadata (same consenters, same options)
 ## Note: The consenter set should be composed of the live orderers that are currently connected to Kafka
 # Send a config update tx (COMMIT-TX) on the system channel that: 
 ## Has ConsensusType.MigrationState=COMMIT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## The metadata should be the same as for the standard channels, with the same precautions (this will be enforced in a later task).
 ## If committed successfully, no further configuration will be possible
 # Restart each orderer
 ## The orderer will bootstrap into an etcdraft mode
 ## Each channel will form a cluster
 ## Normal transactions can resume now 
 # In order to configure the channels (system or standard), make sure that the first config update tx (on any given channel) after migration has:
 ## Has ConsensusType.MigrationState=NONE
 ## Has ConsensusType.MigrationS=NONE
 ## In addition to other changes to the channel's config.

 

In previous CR's the MigrationState and MigrationContext fields were introduced onto the protos and OrdererConfig (see  link FAB-12984 and link FAB-13265)

To implement the green path the following changes were made (not a full list)
 * Change the message processing in the kafka broadcast phase (before Kafka ordering) to accept and pass on config-update-tx(s), with the following:
 ** Have a consensus-type change (currently prohibited)
 ** Carry migration commands via the  ""MigrationState"" field in the config-update-tx(s)
 ** Carry migration context via the  ""MigrationContext"" field in the config-update-tx(s)
 ** Validate that the state transitions of ""Migration State"" are approximately correct (in the bundle.ValidateNew)
 * Introduce a ""Migration Status"" into each chain
 ** Status is the state and context of each chain
 ** Allows to get/set the status of migration in each chain
 ** Can be exposed to Kafka broadcast phase (before ordering), commit phase (after a message is consumed from Kafka), and Registrar
 ** Expose whether a chain is system or standard channel
 * Extend the Registrar to function as ""migration consensus controller"". The registrar has access to all chains, and can therefore
 ** Coordinate and detect when migration has started (by START-TX)
 ** When migration is ready to be committed (all standard channels have CONTEXT-TX, system channel START-TX)
 ** When migration was committed on system channel (COMMIT-TX)
 * In the Kafka commit phase (after messages are consumed) the state machine of migration is enforced
 ** Illegal transitions that are triggered by the user cause the message to be dropped
 ** Unexpected transitions that are due to a bug cause panic
 ** Events on the system channel (START, COMMIT) cause coordination via the registrar to ensure that conditions are met
 ** Events on the standard channel (CONTEXT) are processes locally, referring to its local MigrationStatus
 * *Just before the last config block of the system channel (COMMIT) is written to the ledger, the bootstrap file (a.k.a ""genesis.block"", do not confuse with the first block of the ledger) is swapped:*
 ** *the original file with Type=""kafka"" is backed up*
 ** *the original file is overwritten with the last config block of the system channel, with Type=""etcdraft"" and Metadata=<raft-metadata>.*
 ** *this will allow the orderer to boot onto raft when it is restarted.*
 * After the orderer is restarted, it creates consenters of type ""etcdraft""
 ** Some changes where made to prevent the booting etcdraft chain/consenter from accessing the block metatdata, which in the COMMIT-TX still carries Kafka indices etc.
 ** Some changes where introduced to allow the etcdraft chain/consenter to detect that is is not experiencing a failed reconfiguration, but rather starting a new raft chain  
 * Most of the code above is guarded by the Kafka2RaftMigration() capability

 

Note: this CR chain passed integration test that was written specifically for migration. The test is introduced by https://jira.hyperledger.org/browse/FAB-12991

 

 ",,guoger,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002zb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 1:51 AM;tock;[https://gerrit.hyperledger.org/r/#/c/28435/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
consensus migration - kafka-based - channelconfig,FAB-13265,36134,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,13/Dec/18 9:21 PM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,14/Jan/19 11:21 PM,,,,,,,,,,,,,,0,,,,"This task focuses mainly on the broadcast phase of the orderer. That is, from reception of a config-update-tx, its processing by the chain specific broadcast handler, until it goes into ordering by kafka. 
 * Change the channel config of an Orderer to reflect the extension of ConsensusType
 ** MigrationState
 ** MigrationContext
 * ConsensusType now carries 4 items:
 ** Type
 ** Metadata
 ** MigrationState
 ** MigrationContext 
 * Change the bundle's ValidateNew to allow consensus-type change,
 * Add a method to the bundle to approximately validate the migration steps of a new versus old config.
 * Add test-cases to bundle_test.go to unit-test said method.",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i002zr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 1:23 AM;tock;[https://gerrit.hyperledger.org/r/#/c/28155/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
PTE run_scenarios tool: There needs to be option to *not* create the network but *do* the preconfigs (join+CC install/instantiate),FAB-13266,36138,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,AdnanChoudhury,AdnanChoudhury,14/Dec/18 1:46 AM,17/Jan/19 11:12 PM,28/Oct/23 3:04 AM,17/Jan/19 11:12 PM,,,,,,,,,,fabric-quality,,,,0,,,,"Right now, creating the docker network *and* running the preconfigs are tied together, and there is no way to run the preconfig part only. This capability is needed when there is already a network (so no need for network up) but we need to run the preconfigs.",,AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i0030f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"11/Jan/19 5:57 AM;dongming;Add an option, --preconfig, to execute preconfigs only

https://gerrit.hyperledger.org/r/#/c/28639/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a platform operator, I want to be able to determine if an orderer is healthy by hitting an http(s) endpoint on a configurable port.",FAB-13267,36139,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,wlahti,wlahti,14/Dec/18 2:17 AM,11/Jan/19 1:10 AM,28/Oct/23 3:04 AM,11/Jan/19 1:10 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,operations,,,"To prevent dragging bunch of unnecessary complexity, the healthcheck should be implemented as a basic http or https endpoint at /healthz. When the orderer is healthy, it will return with a status of `HTTP 200/OK` and JSON payload of '

{""status"": ""OK""}

'. If the orderer is responsive to the status check, but unhealthy, it will return with a status of `HTTP 503/Service Unavailable` and a JSON message that indicates which subsystem has failed the health check.",,kchristidis,nnao,sykesm,wlahti,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12358,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzzq7u:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,nnao,sykesm,wlahti,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/19 1:10 AM;sykesm;Extracted sub-tasks to top level stories;;;",,,,,,,,,,,,,,,,,,,,,,,,
private DB reconciliation default,FAB-13268,36141,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dongming,dongming,14/Dec/18 4:47 AM,20/Dec/18 9:20 PM,28/Oct/23 3:04 AM,20/Dec/18 9:18 PM,,,,,,v1.4.0,,,,,,,,0,,,,"When the private DB reconciliation parameter is missing in the core.yaml, the default is false.  This should be true when the parameter is missing.",,C0rWin,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00313:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 1:55 AM;denyeart;[~C0rWin] What do you think? We won't be able to change a default after v1.4 ships...;;;","20/Dec/18 6:28 AM;C0rWin;I think we need to change parameter name to contain new semantic, going to post an updated shortly.;;;","20/Dec/18 8:57 PM;C0rWin;https://gerrit.hyperledger.org/r/28318;;;","20/Dec/18 9:18 PM;denyeart;After more review with Artem... the precedent is to have 'enabled' config options in core.yaml set to true for things we want enabled for most users, even though viper will return false if the config option is missing.

While this is not great, we will keep the config options consistent. I believe there is consideration for moving away from viper in the future, which would resolve this. Cancelling as Won't Do.;;;",,,,,,,,,,,,,,,,,,,,,
private DB reconciliation is slow,FAB-13269,36142,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,C0rWin,dongming,dongming,14/Dec/18 4:50 AM,15/Dec/18 12:49 PM,28/Oct/23 3:04 AM,15/Dec/18 7:51 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"In a test case with 4 org in the private collection and have 1800 blocks in the couchDB. Then add a new org, org5, to the collection.  Reconciliation takes place but very slow.  It reconciles about 500 block in one hour.  The reconciliation batch size is 10 as default.",,C0rWin,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0031b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/18 7:07 AM;denyeart;From my trial with all core.yaml defaults, reconciliation will do 10 blocks and then go to sleep for 5 minutes.

I thought the expected behavior was for peer to reconcile to completion once awakened, pulling 10 blocks at a time, until reconciliation is complete, and THEN go to sleep for 5 minutes.;;;","15/Dec/18 1:49 AM;C0rWin;https://gerrit.hyperledger.org/r/28182;;;",,,,,,,,,,,,,,,,,,,,,,,
Commercial paper mkdir command typo,FAB-13270,36143,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,14/Dec/18 4:53 AM,14/Dec/18 8:08 AM,28/Oct/23 3:04 AM,14/Dec/18 8:08 AM,,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"[https://hyperledger-fabric.readthedocs.io/en/latest/tutorial/commercial_paper.html]

 

mkdir command does not work, it says:

mkdir -P $GOPATH/src/github.com/hyperledger/

should be

mkdir -p $GOPATH/src/github.com/hyperledger/",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrp:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/18 4:58 AM;pandrejko;https://gerrit.hyperledger.org/r/2816;;;",,,,,,,,,,,,,,,,,,,,,,,,
Broken links in Commerial Paper doc,FAB-13271,36144,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,manish-sethi,manish-sethi,14/Dec/18 5:35 AM,19/Dec/18 12:36 PM,28/Oct/23 3:04 AM,19/Dec/18 12:36 PM,,,,,,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,"The links in the docs for commercial paper do not lead to the file mentioned in the text but rather it goes to the top level fabric-samples github.

Example 1: the first link under this paragraph to file {{papercontract.js}} - [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/smartcontract.html#the-contract-class].

 

Further, the name of the files mentioned in the docs are not in sync with the files present in the commercial-paper folder in master branch.

Example 2: the file name mentioned later on {{ledgerutils}}.js does not appear in fabric-samples at all.

Example 3: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/application.html] application.js file does not exist in fabric-samples.

 

The links should point to actual files in master branch.

Note that the default branch for fabric-samples is currently release-1.3, it will be changed to release-1.4 next week, but we can link to master branch to avoid release specific issues.",,denyeart,manish-sethi,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13280,,,,,,,,,,,,,,,,,,,,FAB-13166,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0031j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,manish-sethi,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/18 10:17 PM;odowdaibm;Seen this, and happy to grab it and fix up.  Issue was that sample and docs done at different times.  Will look to push a a CR either over the weekend or Monday (I'm finishing up another topic atm.)  Thanks again, Anthony.;;;","15/Dec/18 12:12 AM;denyeart;Copying the comments from dup FAB-13280 :

 
Commercial Paper application document is not sync with sample code. There is not any application.js file in the sample code , and code snippet also need to be change.

[https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/application.html]

Towards the top of {{application.js}}, you’ll see two Fabric classes are brought into scope:
 const
{ FileSystemWallet, Gateway }
= require({color:#dd1144}'fabric-network'{color});
 You can read about these classes in the [node.js SDK on-line documentation|https://fabric-sdk-node.github.io/], but for now, let’s see how they are used to connect MagnetoCorp’s application to PaperNet. The application uses the Fabric *Wallet* class as follows:
 const wallet = {color:#263673}new{color} FileSystemWallet({color:#dd1144}'./wallet'{color});
 should be  -
 {color:#569cd6}const{color}{color:#d4d4d4} wallet {color}{color:#d4d4d4}={color} {color:#569cd6}new{color}{color:#d4d4d4} FileSystemWallet({color}{color:#ce9178}'../identity/user/isabella?/wallet'{color}{color:#d4d4d4});{color};;;",,,,,,,,,,,,,,,,,,,,,,,
Private data reconciliation - A new peer fails to get the missing private data which has not been purged by Block-To-Live.,FAB-13272,36145,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,,yuki-kon,yuki-kon,14/Dec/18 6:06 AM,14/Dec/18 9:59 AM,28/Oct/23 3:04 AM,14/Dec/18 9:59 AM,v1.4.0,,,,,v1.4.0,v2.0.0,,,fabric-peer,,,,0,,,,"A new peer joining the fabric network later fails to get the missing private data which has not been purged by Block-To-Live.
 Integration test has the following test case:
 - verifies private data is purged after BTL has passed and new peer doesn't pull private data that was purged

However, there is no test case:
 - verifies private data is NOT purged BEFORE BTL has passed and new peer can get private data that has not been purged.

To check this test case, I had a test manually and found a problem.
h2. Steps to reproduce

I used a chaincode and collection configuration in the private data tutorial ([http://hyperledger-fabric.readthedocs.io/en/latest/private_data_tutorial.html]).
 The sample has the collection configuration below.
{noformat}
{
   ""name"": ""collectionMarblePrivateDetails"",
   ""policy"": ""OR('Org1MSP.member')"",
   ""requiredPeerCount"": 0,
   ""maxPeerCount"": 3,
   ""blockToLive"":3,
   ""memberOnlyRead"": true
}
{noformat}
I followed the same steps described in the tutorial without stopping a peer1.org1 and restarting it to fetch the missing private data.
 1. Launch fabric network and install/instantiate chaincode.
 2. Stop a peer “peer1.org1.example.com”. peer0.org1 is still working.
 $ cd (fabric-samples)/first-network
 $ docker-compose -f docker-compose-cli.yaml stop peer1.org1.example.com
 3. Store private data “marble1”.
 4. Store private data “marble2”.
 5. Purge private data “marble1” by putting some transactions.
 6. Query “marble1” @peer0.org1 and confirm that it doesn’t exist because Block-to-live has passed.
 7. Query “marble2” @peer0.org1 and confirm that it still exists because Block-to-live has NOT passed.
 8. Restart a peer “peer1.org1.example.com”.
 $ docker-compose -f docker-compose-cli.yaml start peer1.org1.example.com
 9. Confirm peer1.org1 fetched the missing private data from other peer.
 $ docker logs peer1.org1.example.com 2>&1 | grep -i -a -E 'private|pvt|privdata'
 10. Query the purged data “marble1” @peer1.org1 and confirm that it doesn’t exist. 
 11. Query the data “marble2” @peer1.org1 and confirm that it still exist.
h2. Expected Results

A new peer “peer1.org1” added to the network can fetch the missing private data and read it according to the steps above.
h2. Actual Results

A new peer “peer1.org1” added to the network can fetch the missing private data.
 However, peer1.org1 fails to read the private data still available (i.e. Block-to-live has not passed).
 - Log messages in step 9 (docker logs peer1.org1.example.com 2>&1 | grep -i -a -E 'private|pvt|privdata')
{noformat}
2018-12-13 18:21:08.997 UTC [gossip.privdata] StoreBlock -> INFO 035 [mychannel] Received block [6] from buffer
2018-12-13 18:21:09.002 UTC [gossip.privdata] fetchFromPeers -> WARN 037 Missing key because was purged or will soon be purged, continue block commit without [{txID:d12b2c40545d43dbb9119709c59614988c06702daded8045bba138dda94700b6 seqInBlock:0 namespace:marblesp collection:collectionMarblePrivateDetails hash:5df64b386e1af066177edf6f6ddf321a19726a1792a74a14b68270c02b6248cd}] in private rwset
2018-12-13 18:21:09.002 UTC [gossip.privdata] StoreBlock -> INFO 038 [mychannel] Fetched all missing collection private write sets from remote peers for block [6] (0ms)
2018-12-13 18:21:09.016 UTC [kvledger] CommitWithPvtData -> INFO 039 [mychannel] Committed block [6] with 1 transaction(s) in 14ms (state_validation=0ms block_commit=8ms state_commit=3ms)
(snip)
2018-12-13 18:21:09.078 UTC [gossip.privdata] StoreBlock -> INFO 049 [mychannel] Received block [10] from buffer
2018-12-13 18:21:09.084 UTC [gossip.privdata] fetchFromPeers -> WARN 04b Missing key because was purged or will soon be purged, continue block commit without [{txID:ef6a48dcf3b69c9c295d9bf39a61333872bc7331867a7e37998167056c0a5e4a seqInBlock:0 namespace:marblesp collection:collectionMarblePrivateDetails hash:43f0b252cb6615c82fda29fdefa91d8d5477a8edf531e43ce64163552fc01bbe}] in private rwset
2018-12-13 18:21:09.084 UTC [gossip.privdata] StoreBlock -> INFO 04c [mychannel] Fetched all missing collection private write sets from remote peers for block [10] (3ms)
2018-12-13 18:21:09.098 UTC [kvledger] CommitWithPvtData -> INFO 04d [mychannel] Committed block [10] with 1 transaction(s) in 13ms (state_validation=0ms block_commit=7ms state_commit=4ms)
{noformat}

 - Log messages in step 10 and 11
{noformat}
root@410ddb1900b7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble1""]}'
Error: endorsement failure during query. response: status:500 message:""{\""Error\"":\""Marble private details does not exist: marble1\""}""
root@410ddb1900b7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble2""]}'
Error: endorsement failure during query. response: status:500 message:""{\""Error\"":\""Failed to get private details for marble2: GET_STATE failed: transaction ID: 7c49421c781e69793851a2d11769abf149ef1d7d038013ad18125cf860b8e1ff: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x7, TxNum:0x0}, Private data version = (*version.Height)(nil)\""}""
{noformat}",,denyeart,ScottAllan,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,commit 9769852b6ca26e30c54883331c9f8a5aaf262257,Unset,No,,,"1|i0031r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,ScottAllan,yuki-kon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 9:04 AM;denyeart;Thank you for the deep test.  But I think this is correct. Look closely at the Warning message:

""Missing key because was purged *or will soon be purged*, continue block commit without"".

 

The skipping of ""soon to be purged"" private data is required because in a high volume environment the catching up peer may request the private data at the same time other peers are purging the private data. This race condition would cause the catching up peer to pause. So there is a config option to skip soon to be purged private data, default is 10 blocks:

[https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/core.yaml#L183-L188]

Make sense?;;;","14/Dec/18 9:55 AM;yuki-kon;Hello, [~denyeart]. Thank you for your quick review and feedback.
After setting ""CORE_PEER_GOSSIP_PVTDATA_BTLPULLMARGIN=1"" to make the pulling margin short, a new peer can fetch and get private data in the latest block which are not ""soon to be purged"".
I will close the JIRA. Sorry for making an unnecessary bug report.

Here are the log messages.
- Log messages of reconciliation at a new peer.
{noformat}
2018-12-14 00:40:38.785 UTC [gossip.privdata] StoreBlock -> INFO 036 [mychannel] Received block [6] from buffer
2018-12-14 00:40:38.793 UTC [gossip.privdata] fetchFromPeers -> WARN 038 Missing key because was purged or will soon be purged, continue block commit without [{txID:e2987a9b82e2cc6ad8fefb3e1db617b6a759e8e57cc0faeecfec1d2cb887d1e1 seqInBlock:0 namespace:marblesp collection:collectionMarblePrivateDetails hash:5df64b386e1af066177edf6f6ddf321a19726a1792a74a14b68270c02b6248cd}] in private rwset
2018-12-14 00:40:38.793 UTC [gossip.privdata] StoreBlock -> INFO 039 [mychannel] Fetched all missing collection private write sets from remote peers for block [6] (4ms)
2018-12-14 00:40:38.806 UTC [kvledger] CommitWithPvtData -> INFO 03a [mychannel] Committed block [6] with 1 transaction(s) in 12ms (state_validation=0ms block_commit=6ms state_commit=4ms)
(snip)
2018-12-14 00:40:38.865 UTC [gossip.privdata] StoreBlock -> INFO 04a [mychannel] Received block [10] from buffer
2018-12-14 00:40:38.872 UTC [gossip.privdata] StoreBlock -> INFO 04c [mychannel] Fetched all missing collection private write sets from remote peers for block [10] (5ms)
2018-12-14 00:40:38.886 UTC [kvledger] CommitWithPvtData -> INFO 04d [mychannel] Committed block [10] with 1 transaction(s) in 14ms (state_validation=0ms block_commit=7ms state_commit=5ms)

{noformat}
- Log messages of query at a new peer.
{noformat}
root@d64ac35ce98d:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble1""]}'
Error: endorsement failure during query. response: status:500 message:""{\""Error\"":\""Marble private details does not exist: marble1\""}""
root@d64ac35ce98d:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble2""]}'
Error: endorsement failure during query. response: status:500 message:""{\""Error\"":\""Failed to get private details for marble2: GET_STATE failed: transaction ID: ee5283c4a0b4bbc3bbdb52b17651e856e1defb183f9b15f830c50d754916f0bd: private data matching public hash version is not available. Public hash version = &version.Height{BlockNum:0x7, TxNum:0x0}, Private data version = (*version.Height)(nil)\""}""
(snip)
root@d64ac35ce98d:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C mychannel -n marblesp -c '{""Args"":[""readMarblePrivateDetails"",""marble5""]}'
{""docType"":""marblePrivateDetails"",""name"":""marble5"",""price"":99}
{noformat};;;","14/Dec/18 9:59 AM;yuki-kon;A new peer couldn't read missing private data because it is ""soon to be purged"". This is expected by private data reconciliation. This is not a bug.;;;",,,,,,,,,,,,,,,,,,,,,,
Behave daily tests <master> branch are failing in Orderer Service test case FAB-3857,FAB-13273,36147,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ChandraLekhaChavva,sambhavdutt,sambhavdutt,14/Dec/18 6:37 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,14/Dec/18 11:36 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The behave daily tests <master> branch are failing in the Orderer Service test case FAB-3857. 


{code:java}
found 43 vulnerabilities (6 low, 33 moderate, 4 high)
  run `npm audit fix` to fix them, or `npm audit` for details
{code}

*Error Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/106/Behave_Test_Logs/orderer1.example.com_FAB-3857:_10_key_value_pairs_in_Payloads_of_size_512_--_@1.1_.log

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/106/",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6d45d6e,Unset,No,,,"1|i0032f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,,,,true,"14/Dec/18 6:50 AM;ChandraLekhaChavva;Added fix for this in this CR.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Query for instantiated chaincodes on a channel reveals private collection details,FAB-13274,36148,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,Ratnakar,Ratnakar,14/Dec/18 6:44 AM,17/Jan/19 1:44 AM,28/Oct/23 3:04 AM,17/Jan/19 1:44 AM,v1.2.1,v1.3.0,,,,v1.2.1,v1.3.0,,,fabric-peer,,,,0,,,,"* Installed privatedata collections chaincode on a channel
 * Queried the channel for instantiated chaincodes and the result was shown as following

{code:java}
GET query Instantiated chaincodes

[
  ""name: privatecc, version: v0, path: github.com/marbles/go"",
  ""name: \nR\n\u001ecollectionMarblePrivateDetails\u0012*\n(\u0012\f\u0012\n\b\u0001\u0012\u0002\b\u0000\u0012\u0002\b\u0001\u001a\u000b\u0012\t\n\u0007Org1MSP\u001a\u000b\u0012\t\n\u0007Org2MSP\u0018\u0001 \u0003(\u0003, version: , path: ""
]
{code}
Node-SDK client is used to query the instantiated chiancodes on a channel using the following API
{code:java}
channel.queryInstantiatedChaincodes(peer, true);
{code}
*Expected result:*

Instead it should return only the actual chaincodes that is instantiated and shoudn't display any collection related information
{code:java}
[
  ""name: privatecc, version: v0, path: github.com/marbles/go"",
]
{code}",,Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11039,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0032n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Ratnakar,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 7:26 AM;Ratnakar;Verified on v1.4-rc1 and it works as expected . The issue is seen on V1.2 and V1.3 releases.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add fabric-test daily jobs to trigger on release-1.4 images.,FAB-13275,36149,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,14/Dec/18 7:26 AM,26/Dec/18 4:09 AM,28/Oct/23 3:04 AM,26/Dec/18 4:09 AM,v1.4.0,,,,,v1.4.0,,,,fabric-ci,,,,0,fabric-ci,,,Add fabric-test daily jobs to trigger on release-1.4 images.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0032v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add a tag in pull docker script to allow variable override,FAB-13276,36151,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,14/Dec/18 8:05 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,25/Dec/18 3:54 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0033b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Fix typos in Writing Your First Application,FAB-13277,36152,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,wenjian,wenjian,14/Dec/18 10:17 AM,16/Dec/18 10:03 PM,28/Oct/23 3:04 AM,15/Dec/18 1:48 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,,,,"A couple of typos in [https://hyperledger-fabric.readthedocs.io/en/release-1.4/write_first_app.html]

1. typo in ""It is also worth nothing that"", 

 'nothing' should be 'noting'

2. redundant word in ""you’ll can see that""

should be ""you can see that"" or ""you'll see that""

 ",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0033j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Dec/18 1:34 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/28173/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Documention links not correct for 'Next' page,FAB-13278,36153,,Bug,Unverified,FAB,Fabric,software,denyeart,,,Medium,,joe-alewine,manish-sethi,manish-sethi,14/Dec/18 12:53 PM,02/Mar/20 1:40 PM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-docs,,,,0,,,,"The 'next' link on the bottom of the four pages under the heading ""Getting Started"" https://hyperledger-fabric.readthedocs.io/en/release-1.4/getting_started.html does not take to next pages. 

For instance
 - Next on page https://hyperledger-fabric.readthedocs.io/en/release-1.4/install.html, skips over the remaining pages in this section and goes to next high level topic.
 - Next on page https://hyperledger-fabric.readthedocs.io/en/release-1.4/getting_started.html#hyperledger-fabric-ca, loops back to the first pages in this section.",,joe-alewine,jyellick,manish-sethi,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0033r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),joe-alewine,jyellick,manish-sethi,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Sep/19 1:10 AM;jyellick;[~joe-alewine] this still shows broken to me, are you still working this?;;;","25/Sep/19 2:33 AM;joe-alewine;[~jyellick]I had quite honestly forgotten all about this. Frankly I wish we didn't have these ""Next"" links at all, as I don't think they're particularly useful given the way the Fabric docs are structured. 

As far as the issue itself goes, this seems to be where it happened: [https://github.com/hyperledger/fabric/commit/8c6452200cf826d5a294c435011cb00a6244a021#diff-6b2a3b2af56ac85765da22d15434ddf9]

I remember this issue somewhat hazily, but as I recall, it was due to fact that sections inside ""Getting Started"" were stubs that were links/docs in themselves (in other words, ""Install Samples, Binaries and Docker Images"" was both a section inside Getting Started as well as a separate doc that would appear in the left nav). This duplication is less than ideal, obviously, so the decision was made eliminate the ""Install Prerequisites"" and ""Install Samples, Binaries and Docker Images"" sections inside Getting Started and hide the toc to make the left nav look better. Breaking the ""Next"" button here was seen as better than duplicating entries in the toc (though it's possible we just didn't realize what would happen to the Next button, which is generated by RTD). 

[~pandrejko] is that your recollection as well?;;;","25/Sep/19 3:39 AM;jyellick;I'd tend to agree that the previous/next buttons don't strike me as very natural in most contexts, though I'm more than happy to defer to the doc team's expertise here.

Ignoring how it happened / why it's broken, concretely, how do we plan to address? Do we remove the buttons? Can we fix them?;;;","25/Sep/19 9:27 PM;pandrejko;Looking at this in detail, I think a simple way to fix this would be to create separate .rst files for the  topics:
h2. ccsdk.rst (Hyperledger Fabric smart contract (chaincode) SDKs) 
h2. appsdk.rst. (Hyperledger Fabric application SDKs)
h2. fabric-ca.rst  (Hyperledger Fabric CA)

 

and then add them to the getting_started.rst .. toctree:: as follows:



.. toctree::
 :maxdepth: 1
 :hidden:

prereqs
 install

ccsdk

appsdk

fabric-ca

 

[~joe-alewine]What do you think?

 ;;;","25/Sep/19 10:28 PM;joe-alewine;[~pandrejko]

We could do that, but we would have to remove the relevant headers in getting_started.rst like we did for the prereqs and install docs.

Actually, looking at the formatting of the various ""section"" docs, standardizing the format of these docs is something we probably should look at.

Look at the difference between the bare ""Key Concepts"" toc: https://hyperledger-fabric.readthedocs.io/en/release-1.4/key_concepts.html

As compared to the Tutorials toc: [https://hyperledger-fabric.readthedocs.io/en/release-1.4/tutorials.html]

Do we want a simple list of docs, or a few paragraphs explaining what's in the section, followed by a list (this would be my recommendation), and remove all of the headers that are causing this problem?;;;",,,,,,,,,,,,,,,,,,,,
update pvtdata tutorial to add the `member_only_read` option in collection definition,FAB-13279,36156,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,14/Dec/18 6:15 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-docs,,,,0,stale-item,,,"In the pvtdata architecture doc ( [https://hyperledger-fabric.readthedocs.io/en/release-1.4/private-data-arch.html),] collection definition is updated with the newly added `member_only_read` property.

However, in the pvtdata tutorial ([https://hyperledger-fabric.readthedocs.io/en/release-1.4/private_data_tutorial.html]), collection definition is not updated (both in the list of collection properties and in the given example). 

Further, we need to update the section named `Query the private data as an unauthorised peer` as the error message would change depending upon the value set for `member_only_read`. ",,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0034f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Commercial Paper application document is not sync with sample code,FAB-13280,36159,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,knagware9,knagware9,14/Dec/18 8:34 PM,15/Dec/18 12:11 AM,28/Oct/23 3:04 AM,15/Dec/18 12:11 AM,Future,v1.4.0,v2.0.0,,,,,,,fabric-samples,,,,0,,,,"Commercial Paper application document is not sync with sample code. There is not any application.js file in the sample code , and code snippet also need to be change.

[https://hyperledger-fabric.readthedocs.io/en/release-1.4/developapps/application.html]

Towards the top of {{application.js}}, you’ll see two Fabric classes are brought into scope:
const { FileSystemWallet, Gateway } = require({color:#dd1144}'fabric-network'{color});
You can read about these classes in the [node.js SDK on-line documentation|https://fabric-sdk-node.github.io/], but for now, let’s see how they are used to connect MagnetoCorp’s application to PaperNet. The application uses the Fabric *Wallet* class as follows:
const wallet = {color:#263673}new{color} FileSystemWallet({color:#dd1144}'./wallet'{color});
should be  -
{color:#569cd6}const{color}{color:#d4d4d4} wallet {color}{color:#d4d4d4}={color} {color:#569cd6}new{color}{color:#d4d4d4} FileSystemWallet({color}{color:#ce9178}'../identity/user/isabella?/wallet'{color}{color:#d4d4d4});{color}",,denyeart,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13271,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Dec/18 8:32 PM;knagware9;Screenshot from 2018-12-14 16-52-17.png;https://jira.hyperledger.org/secure/attachment/16424/Screenshot+from+2018-12-14+16-52-17.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00353:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/18 12:11 AM;denyeart;Let's track in existing FAB-13271;;;",,,,,,,,,,,,,,,,,,,,,,,,
Document trust relationships of the commercial paper sample,FAB-13281,36163,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,mne,mne,14/Dec/18 11:36 PM,17/Jan/19 9:28 PM,28/Oct/23 3:04 AM,17/Jan/19 9:28 PM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,"Weave the trust relationships in the PaperNet scenario of the commercial paper sample into the documentation, such that we can base an explanation of endorsement on them and introduce corresponding endorsement policies.",,mne,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|i0035r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Dec/18 11:39 PM;mne;https://gerrit.hyperledger.org/r/#/c/28176/;;;","18/Dec/18 4:23 AM;odowdaibm;Many thanks for starting this.  I have an update to Tutorial, to make network ore realistic, so will help endorsement policy topic. Helpful for you to start it – thanks again [~mne]   Hope to get to it later this week – will add you to review.;;;",,,,,,,,,,,,,,,,,,,,,,,
Clarify node dependency,FAB-13282,36164,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,15/Dec/18 12:32 AM,16/Dec/18 1:37 AM,28/Oct/23 3:04 AM,16/Dec/18 1:36 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0035z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Update commercial paper sample code and tutorial,FAB-13283,36165,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,15/Dec/18 12:43 AM,16/Dec/18 5:59 AM,28/Oct/23 3:04 AM,15/Dec/18 1:00 PM,,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,"1. got the following warning when installing and instantiating chaincode. Need to update commercial-paper/organization/magnetocorp/configuration/cli/docker-compose.yaml
 * 2018-12-14 14:18:19.941 UTC [main] InitCmd -> WARN 001 CORE_LOGGING_LEVEL is no longer supported, please use the FABRIC_LOGGING_SPEC environment variable

2. got the following error when running ""./monitordocker.sh net_basic"". Should update monitordocker.sh to take ""port"" as a parameter in case port 8000 is used.
 * Error starting userland proxy: listen tcp 127.0.0.1:8000: bind: address already in use.",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00367:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,release-1.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Dec/18 1:47 AM;wenjian;CRs:

sample code: [https://gerrit.hyperledger.org/r/#/c/28178/]

tutorial: https://gerrit.hyperledger.org/r/#/c/28180/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer crashes while doing invokes and then index-rebuild + invokes + queries - Need to document index update impact on peer,FAB-13286,36169,,Documentation,To Do,FAB,Fabric,software,denyeart,,,High,,denyeart,AdnanChoudhury,AdnanChoudhury,15/Dec/18 1:18 AM,02/Dec/19 10:58 PM,28/Oct/23 3:04 AM,,v1.4.0,,,,,,,,,fabric-ledger,,,,0,,,,"From system test FAB-8251 run in cluster.

Setup: 
Network Topology: 2 channels, 2 org, 2 peers per org, each peer with CouchDB container for stateDB, 4 kafka, 3 zookeepers, 3 orderers, 2 ca, TLS enabled, both org associate with all channels.
Client Driver: PTE
Test Steps:
1) chaincode: each channel has one chancode, marbles02 go chaincode, instantiated
2) 1 million transactions: 4 threads, each thread sends 250000 invokes concurrently with tx id from 1 to 250000

         thread 1 sends to org1 peer1 on channel 1
         thread 2 sends to org2 peer1 on channel 1
         thread 3 sends to org1 peer1 on channel 2
         thread 4 sends to org2 peer1 on channel 2
3) do the following 3 concurrently 
a) upgrade the chaincode with a new index to force an index rebuild 
b) 1 million transactions (like step 2 but with newer keys)
c) 2 million rich-queries of 2-field spread among the 4 threads on the 2 channels

Observation:
1) Peer crashes after step 2 is completed and step 3 has started.
3) PTE log indicates failure to reach peer

{code:java}
[[32minfo^[[39m: [PTE 2 main]: stdout: ^[[32minfo^[[39m: [PTE 2 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 queryValidation] query return: Error: failed to execute transaction 5daa42c33b62f48e876d0d8cac2b94f2aaf3197ad1351394fc392b86099cbfd7: error sending: timeout expired while executing transaction

^[[32minfo^[[39m: [PTE 1 main]: stdout: ^[[32minfo^[[39m: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel2:org2:0 invoke_move_const_evtBlock] proposal failed 9, ""9d067a43528440e39ab9d6275ad35c65bf0a93b4956e0c0861f748433558c82f""

{code}


peer log (attached) shows the peer Panics after it is unable to commit. CouchDB containers show CPU usage of near 100% that time.",,AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-8251,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"15/Dec/18 4:06 AM;suryalnvs;Peer1st-org1 restarts info.png;https://jira.hyperledger.org/secure/attachment/16433/Peer1st-org1+restarts+info.png","15/Dec/18 4:06 AM;suryalnvs;Peer1st-org2 restarts info.png;https://jira.hyperledger.org/secure/attachment/16434/Peer1st-org2+restarts+info.png","15/Dec/18 4:06 AM;suryalnvs;containers cpu usage.png;https://jira.hyperledger.org/secure/attachment/16430/containers+cpu+usage.png","18/Dec/18 4:59 AM;AdnanChoudhury;couchdb-peer1-org1.log.zip;https://jira.hyperledger.org/secure/attachment/16439/couchdb-peer1-org1.log.zip","15/Dec/18 4:06 AM;suryalnvs;couchdb-peer1st-org1 cpu usage.png;https://jira.hyperledger.org/secure/attachment/16431/couchdb-peer1st-org1+cpu+usage.png","15/Dec/18 4:06 AM;suryalnvs;couchdb-peer1st-org2 cpu usage.png;https://jira.hyperledger.org/secure/attachment/16432/couchdb-peer1st-org2+cpu+usage.png","18/Dec/18 4:02 AM;AdnanChoudhury;peer-panic.log.zip;https://jira.hyperledger.org/secure/attachment/16437/peer-panic.log.zip",,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00373:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 6:20 AM;AdnanChoudhury;If the test is modified to make the step 3b and 3c to send query and invokes at slower rate (tested with 1 invoke or query per second), 
1)the peer does not panic
2) the queries and  invokes are successful.;;;","22/Dec/18 2:17 AM;AdnanChoudhury;[~denyeart] added some more info above;;;","05/Jan/19 1:10 AM;AdnanChoudhury;This is a CPU utilization issue,. When the CouchDB is busy doing index rebuild, the CPU usage is already high, then the incoming endorsement requests and commits start aking up more CPU and queueing up and at one point, Couch container does not complete commit within timeout, and peer panics given that it has a frozen state DB.

This needs to be documented that index rebuilds may take large CPU shares, and prod networks might want to take a note of it to determine, say, the best time for for an index rebuild. ;;;","06/Jan/19 1:25 AM;denyeart;Thanks [~AdnanChoudhury].  As this is expected behavior during CPU resource constraint, I'll change this to a doc task so that we can document the resource requirements upon chaincode upgrades with index updates.;;;",,,,,,,,,,,,,,,,,,,,,
Fix chaincode instantiation to not look for a specific version of the javaenv docker image,FAB-13287,36170,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,latitiah,latitiah,15/Dec/18 1:31 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,v1.4.0,,,,,,,,,,,,,0,stale-item,,,"When instantiating a chaincode, the specific version of javaenv is used when starting a chaincode docker image that uses Java. Instead, it should be sufficient enough to use a ""latest"" tag. 

{code}peer chaincode instantiate --name mycc --version 0 --lang JAVA --channelID behavesystest --ctor '{""Args"": [""init"",""a"",""1000"",""b"",""2000""]}' --tls true --cafile /var/hyperledger/configs/53cd4632fbfd11e8860ffa163e090956/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --orderer orderer0.example.com:7050

 [34m2018-12-09 22:00:01.181 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001\x1b[0m Using default escc

 [34m2018-12-09 22:00:01.181 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002\x1b[0m Using default vscc Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: Failed to generate platform-specific docker build: Failed to pull hyperledger/fabric-javaenv:amd64-1.4.0: API error (404): manifest for hyperledger/fabric-javaenv:amd64-1.4.0 not found
{code}",,denyeart,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0037b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/18 3:44 AM;denyeart;The image version that peer uses can be configured here:

[https://github.com/hyperledger/fabric/blob/release-1.4/sampleconfig/core.yaml#L484]

 

Based on this, can we close as not a defect?;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
Fix minor issue in BYFN manual steps,FAB-13288,36177,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,15/Dec/18 2:32 AM,15/Dec/18 7:50 AM,28/Oct/23 3:04 AM,15/Dec/18 2:46 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0038v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Short url should point to release and not to master,FAB-13289,36178,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,ChristopherFerris,ales,ales,15/Dec/18 3:09 AM,08/Jan/19 3:24 AM,28/Oct/23 3:04 AM,08/Jan/19 3:24 AM,,,,,,,,,,,,,,0,,,,,,ales,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00393:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jan/19 12:37 AM;mastersingh24;I don't actually think this is a bug (although I thought the same thing previously).
I think the goal was to always use the same download script regardless of the release.

[~ChristopherFerris] can you verify this?  Will assign to you as well;;;","08/Jan/19 3:24 AM;denyeart;Chris and I confirmed this in [https://gerrit.hyperledger.org/r/#/c/28188/] comments, closing.;;;",,,,,,,,,,,,,,,,,,,,,,,
Create counter metric to track number of different logging emissions,FAB-13290,36179,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,skarim,skarim,skarim,15/Dec/18 3:40 AM,09/Jan/19 6:29 AM,28/Oct/23 3:04 AM,09/Jan/19 6:29 AM,,,,,,,,,,,,,,0,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0039b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wire in log metric with loggers,FAB-13291,36180,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,skarim,skarim,15/Dec/18 3:40 AM,09/Jan/19 6:29 AM,28/Oct/23 3:04 AM,09/Jan/19 6:29 AM,,,,,,,,,,,,,,0,,,,,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0039j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix version check in bootstrap.sh,FAB-13292,36181,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,15/Dec/18 4:08 AM,16/Dec/18 1:37 AM,28/Oct/23 3:04 AM,16/Dec/18 1:37 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0039r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"""goimports"" is failing in fabric release-1.0 & 1.1 branches.",FAB-13295,36186,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,16/Dec/18 12:49 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,29/Dec/18 10:26 PM,v1.0.0,v1.1.0,,,,v1.0.0,v1.1.0,,,fabric-build,,,,0,ci-failure,,,"Summary: ""goimports"" is failing in fabric release-1.0 & 1.1 branches.
Intermittent: Yes
Branch: release-1.0, release-1.1
Platform: < s390x, x86_64>

Jenkins Jobs failing due to this error
{color:#0747A6}fabric-end-2-end-daily-release-1.0-x86_64
fabric-end-2-end-daily-release-1.1-x86_64
fabric-unit-test-daily-release-1.0-s390x{color}

Error Snippet: 

{code:java}
21:26:33 Building golang.org/x/tools/cmd/goimports -> goimports
21:26:35 # golang.org/x/tools/go/internal/gcimporter
21:26:35 /opt/gotools/obj/gopath/src/golang.org/x/tools/go/internal/gcimporter/bexport.go:212: obj.IsAlias undefined (type *types.TypeName has no field or method IsAlias)
21:26:35 make[1]: *** [gotool.goimports] Error 2
21:26:35 make: *** [/opt/gotools/obj/gopath/bin/goimports] Error 2
21:26:35 Makefile:47: recipe for target 'gotool.goimports' failed
21:26:35 make[1]: Leaving directory '/opt/gopath/src/github.com/hyperledger/fabric/gotools'
21:26:35 Makefile:52: recipe for target '/opt/gotools/obj/gopath/bin/goimports' failed
21:26:36 Makefile:229: recipe for target 'build/docker/gotools' failed
21:26:36 make: *** [build/docker/gotools] Error 2
{code}

*Build Logs*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-release-1.0-x86_64/281/
",,denyeart,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,454fd93bb4eb3af9691f14aec13925be5ce0be09,Unset,No,,,"1|i003av:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,sykesm,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.0,release-1.1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:12 AM;sykesm;The root cause is that we do not version control the tools we use in our builds. This kind of issue will continue to arise until we employ proper versioning in the source tree.;;;","20/Dec/18 1:47 AM;rameshthoomu;[~mastersingh24] [~denyeart] ^^ Need your inputs to address these issues. For now,  I will disable these builds from CI until we fix these consistent failures.;;;","20/Dec/18 3:49 AM;sykesm;The answer is pretty simple: stop linting the old builds. No new work happens on those releases as most activity are backports of fixes from newer releases.

As we begin our focus on CI in earnest in the new year, we need to lock our tool versions to prevent changes to master of our tools from impacting us.;;;","20/Dec/18 8:23 PM;denyeart;[~rameshthoomu] Could your team push a change to stop linting the old builds?  If we got a production issue in a hosted v1.1 environment, we'd want ability to push a fix quickly without hitting these obstacles.;;;","21/Dec/18 1:24 AM;sambhavdutt;I have pushed CR's to remove the  the ""goimports"" from the list in GOTOOLS, from release-1.0 and release-1.1

https://gerrit.hyperledger.org/r/#/c/28309/

https://gerrit.hyperledger.org/r/#/c/28310/

I have tested this in Jenkins Sandbox, I see that the e2e tests are passing now without running into the `goimports` error in r-1.0 and r-1.1
https://jenkins.hyperledger.org/sandbox/job/fabric-end-2-end-daily-release-1.0-x86_64/1/consoleFull  - *1.0*

https://jenkins.hyperledger.org/sandbox/job/fabric-end-2-end-daily-release-1.0-x86_64/2/consoleFull - *1.1*

The unit-test is passing the `goimports` but running into test fails in the unit-tests, 

https://jenkins.hyperledger.org/sandbox/job/fabric-unit-test-daily-release-1.0-s390x/5/console

;;;",,,,,,,,,,,,,,,,,,,,
Remove unused code,FAB-13297,36190,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,16/Dec/18 8:06 AM,16/Dec/18 10:58 PM,28/Oct/23 3:04 AM,16/Dec/18 10:02 PM,,,,,,,,,,,,,,0,,,,,,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003br:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Dec/18 10:02 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/28200/;;;","16/Dec/18 10:58 PM;sykesm;code died with commit 4645c3ac1197602d2a25be1d4ada949b5b55f027 / FAB-11034;;;",,,,,,,,,,,,,,,,,,,,,,,
TestCofnigureClusterListener fails on Darwin (macOS),FAB-13298,36191,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,16/Dec/18 11:03 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,18/Dec/18 3:29 AM,,,,,,v2.0.0,,,,,,,,0,,,,"{code}
2018-12-16 09:00:37.257 EST [orderer.common.server] configureClusterListener -> PANI 02c Failed creating gRPC server on 99.99.99.99:5000 due to listen tcp 99.99.99.99:5000: bind: can't assign requested address
--- FAIL: TestConfigureClusterListener (0.00s)
    --- FAIL: TestConfigureClusterListener/bad_listen_address (0.00s)
        main_test.go:544: 
            	Error Trace:	main_test.go:544
            	Error:      	func (assert.PanicTestFunc)(0x48aed50) should panic with value:	""Failed creating gRPC server on 99.99.99.99:5000 due to listen tcp 99.99.99.99:5000: bind: cannot assign requested address""
            	            		Panic value:	""Failed creating gRPC server on 99.99.99.99:5000 due to listen tcp 99.99.99.99:5000: bind: can't assign requested address""
            	Test:       	TestConfigureClusterListener/bad_listen_address
{code}

/cc [~yacovm]",,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003bz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Dec/18 2:52 AM;yacovm;damn... I should have just made it port 0 :( ;;;","17/Dec/18 3:07 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28202/;;;",,,,,,,,,,,,,,,,,,,,,,,
Skip comitting blocks when recovering from a crash while onboarding,FAB-13299,36192,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,17/Dec/18 6:40 AM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,18/Dec/18 1:08 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"If we onboard a new OSN, and crash in the middle, we start with a ledger that has some blocks, in some channels.

The onboarding phase, has to fetch all blocks in order to verify the hash chain and verify the blocks, but we should skip committing blocks that we already committed before.

The alternative, is to always delete the entire ledger prior to onboarding.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003c7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Dec/18 6:42 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28205/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Consistent Assertion errors in FAB-6439, in <master>, <release-1.4> branches  Test chaincode enccc_example.go, solo orderer -- @1.1, # chaincodes.feature:331",FAB-13300,36193,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Duplicate,,sambhavdutt,sambhavdutt,17/Dec/18 7:45 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,20/Dec/18 12:46 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"Consistent Assertion errors observed in in FAB-6439,  Test chaincode enccc_example.go, solo orderer -- @1.1, chaincodes.feature:331. The expected chaincodes container is not running, in the Behave daily tests.


+Branch:+ <master>, <release-1.4>



 
{code:java}
Scenario Outline: FAB-6439: Test chaincode enccc_example.go which uses encshim library extensions for solo orderer -- @1.1
04:38:13.145 UTC [chaincode.platform.golang] func1 -> DEBU 047\x1b[0m Discarding GOROOT package fmt\n\x1b[36m2018-12-16 04:38:13.145 UTC [chaincode.platform.golang] func1 -> DEBU 048\x1b[0m Accepting import: github.com/hyperledger/fabric/bccsp\n\x1b[36m2018-12-16 04:38:13.145 UTC [chaincode.platform.golang] func1 -> DEBU 049\x1b[0m Accepting import: github.com/hyperledger return run_behave(config)
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/__main__.py"", line 127, in run_behave
23:43:19 failed = runner.run()
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 804, in run
23:43:19 return self.run_with_paths()
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 824, in run_with_paths
23:43:19 return self.run_model()
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/runner.py"", line 626, in run_model
23:43:19 failed = feature.run(self)
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 321, in run
23:43:19 failed = scenario.run(runner)
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1114, in run
23:43:19 failed = scenario.run(runner)
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 711, in run
23:43:19 if not step.run(runner):
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/model.py"", line 1379, in run
23:43:19 formatter.result(self)
23:43:19 File ""/usr/local/lib/python2.7/dist-packages/behave/formatter/pretty.py"", line 153, in result
23:43:19 self.stream.flush()
23:43:19 IOError: [Errno 11] Resource temporarily unavailable
{code}
 
*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-master-x86_64/108/
",,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,0439bb52a150530030d4a51f64db058296809bca,Unset,No,,,"1|i003cf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"17/Dec/18 3:12 PM;latitiah;This error has to do with resource problems. {code}02:12:22       Assertion Failed: The expected chaincode container a33009ae01c911e99b32fa163e096ff7-peer0.org1.example.com-mycc3-0 is not running
02:12:22       CONTAINER ID        IMAGE                                                                                                                              COMMAND                  CREATED             STATUS              PORTS                                                                                                NAMES
02:12:22       aa8606d5615e        a33009ae01c911e99b32fa163e096ff7-peer0.org1.example.com-mycc2-0-c9069354975915514c533b5ff47793a6e23cd5d0ab77dd70c79901e75111d3a8   ""/bin/sh -c 'cd /usrâ¦""   5 minutes ago       Up 5 minutes                                                                                                             a33009ae01c911e99b32fa163e096ff7-peer0.org1.example.com-mycc2-0
02:12:22       2a89ed5088d5        a33009ae01c911e99b32fa163e096ff7-peer0.org1.example.com-mycc1-0-c512661410301fe406dcd83aa1161406aaf01bf251a376273ef0e73bbed78e22   ""/bin/sh -c 'cd /usrâ¦""   6 minutes ago       Up 6 minutes                                                                                                             a33009ae01c911e99b32fa163e096ff7-peer0.org1.example.com-mycc1-0
02:12:22       7ca2ebcbecb3        hyperledger/fabric-tools                                                                                                           ""/bin/bash -c 'sleepâ¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32935->9092/tcp                                                                              cli
02:12:22       d5984f77e70b        hyperledger/fabric-ca-peer                                                                                                         ""peer node start""        10 minutes ago      Up 10 minutes       0.0.0.0:10051->7051/tcp, 0.0.0.0:32934->7051/tcp, 0.0.0.0:10053->7053/tcp, 0.0.0.0:32933->7053/tcp   peer1.org2.example.com
02:12:22       775e825761ec        hyperledger/fabric-ca-peer                                                                                                         ""peer node start""        10 minutes ago      Up 10 minutes       0.0.0.0:8051->7051/tcp, 0.0.0.0:32932->7051/tcp, 0.0.0.0:8053->7053/tcp, 0.0.0.0:32931->7053/tcp     peer1.org1.example.com
02:12:22       6141f175f5b9        hyperledger/fabric-ca-peer                                                                                                         ""peer node start""        10 minutes ago      Up 10 minutes       0.0.0.0:9051->7051/tcp, 0.0.0.0:32930->7051/tcp, 0.0.0.0:9053->7053/tcp, 0.0.0.0:32929->7053/tcp     peer0.org2.example.com
02:12:22       72788729c8f7        hyperledger/fabric-ca-peer                                                                                                         ""peer node start""        10 minutes ago      Up 10 minutes       0.0.0.0:7051->7051/tcp, 0.0.0.0:7053->7053/tcp, 0.0.0.0:32928->7051/tcp, 0.0.0.0:32927->7053/tcp     peer0.org1.example.com
02:12:22       c422ddaad652        hyperledger/fabric-ca-orderer                                                                                                      ""orderer""                10 minutes ago      Up 10 minutes       0.0.0.0:8050->7050/tcp, 0.0.0.0:32925->7050/tcp                                                      orderer1.example.com
02:12:22       9184cc4608aa        hyperledger/fabric-ca-orderer                                                                                                      ""orderer""                10 minutes ago      Up 10 minutes       0.0.0.0:7050->7050/tcp, 0.0.0.0:32926->7050/tcp                                                      orderer0.example.com
02:12:22       4974ad143226        hyperledger/fabric-ca-orderer                                                                                                      ""orderer""                10 minutes ago      Up 10 minutes       0.0.0.0:9050->7050/tcp, 0.0.0.0:32924->7050/tcp                                                      orderer2.example.com
02:12:22       5eaf26b4bc63        hyperledger/fabric-kafka                                                                                                           ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       9093/tcp, 0.0.0.0:32923->9092/tcp                                                                    kafka1
02:12:22       f76fde8fab2e        hyperledger/fabric-kafka                                                                                                           ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       9093/tcp, 0.0.0.0:32922->9092/tcp                                                                    kafka0
02:12:22       914c0aa08ce0        hyperledger/fabric-kafka                                                                                                           ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       9093/tcp, 0.0.0.0:32921->9092/tcp                                                                    kafka2
02:12:22       50fef0c8fc47        hyperledger/fabric-kafka                                                                                                           ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       9093/tcp, 0.0.0.0:32920->9092/tcp                                                                    kafka3
02:12:22       a854a2e4fc00        hyperledger/fabric-zookeeper                                                                                                       ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32919->2181/tcp, 0.0.0.0:32917->2888/tcp, 0.0.0.0:32915->3888/tcp                            zookeeper0
02:12:22       171885c67270        hyperledger/fabric-ca                                                                                                              ""/bin/bash -c 'fabriâ¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32914->7054/tcp                                                                              ca.org1.example.com
02:12:22       2282cb3ff96e        hyperledger/fabric-couchdb                                                                                                         ""tini -- /docker-entâ¦""   10 minutes ago      Up 10 minutes       4369/tcp, 9100/tcp, 0.0.0.0:6984->5984/tcp                                                           couchdb02
02:12:22       8701319cb72a        hyperledger/fabric-zookeeper                                                                                                       ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32918->2181/tcp, 0.0.0.0:32916->2888/tcp, 0.0.0.0:32913->3888/tcp                            zookeeper2
02:12:22       1cfcac2135eb        hyperledger/fabric-zookeeper                                                                                                       ""/docker-entrypoint.â¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32912->2181/tcp, 0.0.0.0:32911->2888/tcp, 0.0.0.0:32910->3888/tcp                            zookeeper1
02:12:22       034e5dcc89e1        hyperledger/fabric-couchdb                                                                                                         ""tini -- /docker-entâ¦""   10 minutes ago      Up 10 minutes       4369/tcp, 9100/tcp, 0.0.0.0:7984->5984/tcp                                                           couchdb11
02:12:22       83aeef6f2fc7        hyperledger/fabric-ca                                                                                                              ""/bin/bash -c 'fabriâ¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32909->7054/tcp                                                                              ca.org2.example.com
02:12:22       c92f83b894c2        hyperledger/fabric-couchdb                                                                                                         ""tini -- /docker-entâ¦""   10 minutes ago      Up 10 minutes       4369/tcp, 9100/tcp, 0.0.0.0:8984->5984/tcp                                                           couchdb12
02:12:22       25fbba3d46ad        hyperledger/fabric-couchdb                                                                                                         ""tini -- /docker-entâ¦""   10 minutes ago      Up 10 minutes       4369/tcp, 9100/tcp, 0.0.0.0:5984->5984/tcp                                                           couchdb01
02:12:22       c57f2b3a17d7        hyperledger/fabric-ca                                                                                                              ""/bin/bash -c 'fabriâ¦""   10 minutes ago      Up 10 minutes       0.0.0.0:32908->7054/tcp                                                                              ca.example.com{code}

For whatever reason, the system looks to be running incredibly slow. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Use autogenerated mocks for reconciliation test (gossip package),FAB-13301,36194,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,17/Dec/18 7:48 AM,18/Dec/18 4:21 AM,28/Oct/23 3:04 AM,18/Dec/18 4:21 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"Switch to use {{mockery}} instead of hand crafted mocks for reconciliation {{unit-tests}}. Currently {{Committer}} mock is manually implemented, need to replace with auto generated files.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003cn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Dec/18 8:07 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28207/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Check for commit success while reconciling pvt data,FAB-13302,36195,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,17/Dec/18 7:51 AM,18/Dec/18 4:21 AM,28/Oct/23 3:04 AM,18/Dec/18 4:21 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"Currently after reconciler commits missing private data it gets list of mismatched elements and error. However code first print mismatched elements before testing for error, which might cause a problem and lead to nil panic.",,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003cv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Dec/18 8:07 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28208/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Increase test coverage of gossip pvt data reconciliation.,FAB-13303,36196,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,C0rWin,C0rWin,17/Dec/18 7:52 AM,18/Dec/18 4:21 AM,28/Oct/23 3:04 AM,18/Dec/18 4:21 AM,v1.4.0,v2.0.0,,,,v2.0.0,,,,,,,,0,,,,Add failures tests for gossip reconciliation package.,,C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003d3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Dec/18 8:07 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28209/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update the pull_build_artifacts script in fabric to get the latest version of images and binaries in fabric.,FAB-13304,36197,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,17/Dec/18 9:43 AM,22/Mar/19 10:10 AM,28/Oct/23 3:04 AM,25/Dec/18 3:52 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,0,,,,Update the pull_build_artifacts script in fabric to get the latest version of images and binaries in fabric.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003db:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Jenkins script to pull the latest version binaries in master branch.,FAB-13305,36198,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,sambhavdutt,sambhavdutt,sambhavdutt,17/Dec/18 9:52 AM,04/Jan/19 11:03 PM,28/Oct/23 3:04 AM,28/Dec/18 3:17 AM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,0,,,,Update Jenkins script to pull the latest binaries in master branch.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003dj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
fix make targets issue,FAB-13306,36199,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,rameshthoomu,17/Dec/18 12:32 PM,18/Dec/18 1:57 AM,28/Oct/23 3:04 AM,18/Dec/18 1:57 AM,,,,,,,,,,fabric-quality,,,,0,,,,"git-init is not working in CI as the pte, ote make targets are executing pull-images followed by pull-binaries  targets. As the pull-binaries script is creating fabric directory before git-init the script is failing to clone the fabric as the same directory is already available.",,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003dr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,,,,true,"18/Dec/18 1:57 AM;rameshthoomu;https://gerrit.hyperledger.org/r/#/c/28211/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Cucumber test using discovery,FAB-13307,36200,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,14gracel,nkl199,nkl199,17/Dec/18 8:34 PM,16/Jan/19 6:35 PM,28/Oct/23 3:04 AM,16/Jan/19 6:35 PM,,,,,,,,,,,,,,0,,,,As discussed and agreed with [~andrew-coleman] The scenario test framework should include a test that drives a series of transactions and queries using discovery.,,andrew-coleman,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003dz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),andrew-coleman,nkl199,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dev,main,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jan/19 12:54 AM;andrew-coleman;https://gerrit.hyperledger.org/r/c/28319/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Additional Documentation for metadata in main Fabric Docs,FAB-13311,36204,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,mbwhite,mbwhite,17/Dec/18 10:25 PM,12/Sep/19 10:42 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,0,,,,Source material can be found at https://github.com/ampretia/fabric-application-examples/tree/europa/docs,,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FABCN-7,,,No,,Unset,No,,,"1|i003ev:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
META-INF folder should allow for chaincode metadata,FAB-13312,36207,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,awjh-ibm,awjh-ibm,17/Dec/18 11:19 PM,29/Jul/19 11:16 PM,28/Oct/23 3:04 AM,,v2.0.0,,,,,,,,,,,,,0,,,,The META-INF folder only currently allows information about the statedb. It should also allow for files describing the structure of chaincode. This would allow fabric-chaincode-node's contract API and other future contract API's to use this folder to allow users to overwrite the reflected metadata from the contracts.,,awjh-ibm,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003fj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),awjh-ibm,denyeart,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jul/19 10:02 PM;denyeart;[~awjh-ibm] Are you suggesting to allow for any open-ended usage of META-INF?  Or for specific prescribed use cases with specific reserved subdirectories?;;;","29/Jul/19 10:38 PM;jyellick;I'd say rather than extend the META-INF blindly, we should take a more holistic view on packaging, and where we'd like it to go.  IMO we need to aim for a strict boundary between artifacts meant to be consumed by Fabric and artifacts to be consumed by the chaincode.;;;","29/Jul/19 10:50 PM;awjh-ibm;The reason this came to light for me recently was that in a Java chaincode I was writing my own annotation and wanted to add annotation processing which requires adding a folder called services inside META-INF. It threw me a bit that Fabric was blocking me being able to use a fairly core component of Java when it was nothing to do with fabric.;;;","29/Jul/19 11:05 PM;jyellick;Agreed -- it was a poor choice to use an already reserved name for the db indices.  Though I'm still in favor of re-examining packaging overall, if this target is for v2.0.;;;",,,,,,,,,,,,,,,,,,,,,
"""peerclient_test"" unit-test is failing intermittently on release-1.2",FAB-13313,36208,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,17/Dec/18 11:21 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,28/Dec/18 4:28 AM,v1.2.0,,,,,v1.2.0,,,,fabric-common,,,,0,ci-failure,,,"The unit-tests are failing intermittently in release-1.2 branch, Endorser client failed to connect, 

Intermittent: Yes

Branch: release-1.2

Platform: x86_64

Error Snippet: 

{code:java}
20:06:58 unit-tests_1  | --- FAIL: TestPeerClient (0.01s)
20:06:58 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	peerclient_test.go:98
20:06:58 unit-tests_1  | 		
	Error:      	Received unexpected error:
20:06:58 unit-tests_1  | 		
context deadline exceeded
.
.
endorser client failed to connect to 127.0.0.1:35172
20:06:58 unit-tests_1  | 		
	Test:       	TestPeerClient
20:06:58 unit-tests_1  | 	assertions.go:247: 
                          
	Error Trace:	peerclient_test.go:99
20:06:58 unit-tests_1  | 		
	Error:      	Expected value not to be nil.
20:06:58 unit-tests_1  | 		
	Test:       	TestPeerClient
20:06:58 unit-tests_1  | FAIL
20:06:58 unit-tests_1  | coverage: 62.3% of statements
20:06:58 unit-tests_1  | FAIL	github.com/hyperledger/fabric/peer/common	0.233s
{code}

*Build Logs:* 

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/88/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,97cc9d0eebfc99bc28151de468c638b0e11612cb,Unset,No,,,"1|i003fr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cache configuration,FAB-13314,36209,12402,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,17/Dec/18 11:38 PM,21/Nov/19 3:06 AM,28/Oct/23 3:04 AM,21/Nov/19 3:06 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,0,,,,"We need allow users to configure the cache size via core.yaml. 
 * userCacheSize: int

We also need to get system namespaces and pass it to the cache creation function.

 ",,Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003fz:",,,,Unset,Unset,v2.x,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
slowness of private DB rconciliation,FAB-13318,36217,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,C0rWin,dongming,dongming,18/Dec/18 1:01 AM,03/Jan/19 12:41 AM,28/Oct/23 3:04 AM,03/Jan/19 12:41 AM,,,,,,,,,,,,,,0,,,,"With the latest fix, with sleep interval 30 sec, reconciliation block size 50, reconciliation take more than a day to process 1300 blocks.

Surya will attach log to the bug",,C0rWin,denyeart,dongming,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13368,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/18 4:42 AM;suryalnvs;logs-from-peer1st-org5-in-peer1st-org5.txt;https://jira.hyperledger.org/secure/attachment/16438/logs-from-peer1st-org5-in-peer1st-org5.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003h3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,dongming,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Dec/18 4:30 AM;manish-sethi;From what I saw, the problem was that it was not proceeding (not that it was slow). The asking peer was in a loop where it tries to get missing data for 50 blocks and then prints that the data is not available on any of the peer. The noticeable part was that the time between log for ""tries to get missing data for 50 blocks"" and ""data is not available on any of the peer"" was in the order of hours...;;;","18/Dec/18 9:56 PM;C0rWin;https://gerrit.hyperledger.org/r/28237;;;","03/Jan/19 12:41 AM;denyeart;Fixed in ledger layer instead.;;;",,,,,,,,,,,,,,,,,,,,,,
couchDB -- remove the old version cache,FAB-13320,36219,12402,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,Senthil1,Senthil1,Senthil1,18/Dec/18 1:22 AM,13/Mar/20 10:56 AM,28/Oct/23 3:04 AM,13/Mar/20 10:56 AM,,,,,,v2.0.0,,,,fabric-ledger,,,,0,,,,,,Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10794,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003hj:",,,,Unset,Unset,v2.x,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Only Perform `npm install` before BEHAVE and PTE once in Makefile,FAB-13321,36220,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,ChandraLekhaChavva,ChandraLekhaChavva,ChandraLekhaChavva,18/Dec/18 1:38 AM,01/Aug/19 12:06 PM,28/Oct/23 3:04 AM,01/Aug/19 12:06 PM,,,,,,,,,,fabric-quality,,,,0,,,,"Can we use the same npm install for Behave & PTE

Work for this:

1. Check both package.json (See the dependencies)

2. If there is no difference, can we run `npm install` at the beginning of the makefile",,ChandraLekhaChavva,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003hr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Aug/19 12:06 PM;scottz;Since we will be deprecating behave tests and framework, this is not needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Pass TLS client cert hash for mutual TLS,FAB-13325,36228,33095,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,wenjian,wenjian,wenjian,18/Dec/18 4:45 AM,17/Jan/19 1:34 AM,28/Oct/23 3:04 AM,17/Jan/19 1:34 AM,,,,,,v2.0.0,,,,fabric-token,,,,0,fabtoken,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003jb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Architecture Explained doc is not 100% accurate,FAB-13327,36236,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,18/Dec/18 12:16 PM,19/Dec/18 3:17 AM,28/Oct/23 3:04 AM,19/Dec/18 3:17 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"The Architecture Explained document is taken from the initial Fabric architectural proposal.

Need to add a notice that the document does not 100% represent Hyperledger Fabric as implemented.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003l3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Dec/18 12:20 PM;denyeart;https://gerrit.hyperledger.org/r/#/c/28234/;;;",,,,,,,,,,,,,,,,,,,,,,,,
make only one function to use the committedDataCache at a time,FAB-13328,36242,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,18/Dec/18 8:56 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,19/Dec/18 12:33 PM,,,,,,v1.4.0,v2.0.0,,,fabric-ledger,,,,0,,,,"Among ValidateAndPrepare(), PrepareExpiringKeys(), and RemoveStaleAndCommitPvtDataOfOldBlocks(), we can allow only one function to execute at a time. The reason is that each function calls LoadCommittedVersions() which would clear the existing entries in the transient buffer and load new entries (such a transient buffer is not applicable for the golevelDB). As a result, these three functions can interleave and nullify the optimization provided by the bulk read API. Once the ledger cache (FAB-103) is introduced and existing LoadCommittedVersions() is refactored to return a map, we can allow these three functions to execute parallely. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:6",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
update existing toPurge list rather than creation a new one,FAB-13329,36244,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,18/Dec/18 9:30 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,19/Dec/18 12:33 PM,,,,,,v1.4.0,v2.0.0,,,fabric-ledger,,,,0,,,,"When we commit the old pvtdata, some of these pvtdata might be expiring at the next block commit. As toPurgeList might have been already constructed by the last Commit() call, we need to update the toPurgeList with old pvtdata if it is expiring. Currently, we create a new toPurgeList. ",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:7",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Rename GetConfigBlock to GetConfig,FAB-13330,36245,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 9:51 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,20/Dec/18 9:07 AM,,,,,,,,,,fabric-orderer,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003mf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:36 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28240/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Refactor integration test consensus metadata update,FAB-13331,36246,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 9:53 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,21/Dec/18 10:05 PM,,,,,,,,,,,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003mn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:37 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28241/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Extend cryptogen command in integration tests,FAB-13332,36247,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 9:54 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,20/Dec/18 9:07 AM,,,,,,,,,,fabric-common,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003mv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:37 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28239/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make orderer channel update use orderer credentials,FAB-13333,36248,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 9:55 PM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,22/Dec/18 12:42 AM,,,,,,,,,,fabric-common,,,,0,,,,"To pull a system channel block, we need to use the orderer credentials, and not the peer credentials. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003n3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:43 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28242/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Allow empty channels,FAB-13334,36249,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 9:55 PM,01/Mar/19 10:12 PM,28/Oct/23 3:04 AM,20/Dec/18 9:07 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"Currently, onboarding assumes there is at least block other than the genesis in the channel.
This makes onboarding fail when the network contains empty channels. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003nb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 3:37 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28239/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Unit test coverage is failing intermittently in gossip discovery test with timeout errors in <master>, <release-1.4> ",FAB-13335,36250,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,18/Dec/18 10:05 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,26/Dec/18 10:24 PM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-gossip,,,,0,ci-flake,,,"There are multiple failed cases in unit-test coverage, Failed connecting to channel due to timeout, 

+Intermittent:+ Yes

+Branch:+ master, release-1.4

+Platform:+ x86_64

+Error Snippet:+ 

{code:java}
19:32:55 2018-12-18 00:32:20.607 UTC [gossip.discovery#localhost:22612] expireDeadMembers -> WARN 037 Closing connection to Endpoint: localhost:22610, InternalEndpoint: localhost:22610, PKI-ID: 6c6f63616c686f73743a3232363130, Metadata: 
19:32:55 2018-12-18 00:32:20.607 UTC [gossip.discovery#localhost:22610] expireDeadMembers -> WARN 038 Exiting
19:32:55 2018-12-18 00:32:20.607 UTC [gossip.discovery#localhost:22612] expireDeadMembers -> WARN 039 Exiting
19:32:55 Ping to localhost:5511 failed
.
.
*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.025 UTC [gossip/state] directMessage -> ERRO 002 Got nil message via end-to-end channel, should not happen!*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.025 UTC [gossip/privdata] NewCoordinator -> WARN 003 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.025 UTC [gossip/state] NewGossipStateProvider -> CRIT 004 Committer height cannot be zero, ledger should include at least one block (genesis).*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.025 UTC [gossip/privdata] NewCoordinator -> WARN 005 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.025 UTC [gossip/privdata] NewCoordinator -> WARN 006 Configuration key peer.gossip.pvtData.transientstoreMaxBlockRetention isn't set, defaulting to 1000*21:30:45* unit-tests_1  | 2018-12-18 02:30:18.028 UTC [gossip/privdata] StoreBlock -> ERRO 008 Validation failed: foobar*21:30:45* unit-tests_1  | --- FAIL: TestHaltChainProcessing (0.00s)*21:30:45* unit-tests_1  | 	assertions.go:247: 
{code}


*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-release-1.4-x86_64/7/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003nj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Developing Apps: Chaincode namespace,FAB-13336,36251,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,odowdaibm,odowdaibm,odowdaibm,18/Dec/18 10:31 PM,17/Jan/19 8:13 PM,28/Oct/23 3:04 AM,17/Jan/19 8:13 PM,v1.4.0,,,,,v1.4.1,v2.0.0,,,fabric-docs,,,,0,,,,A short topic on chaincode namespaces,,denyeart,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,FAB-11459,,,No,,Unset,No,,,"1|i003nr:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),denyeart,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"18/Dec/18 10:32 PM;odowdaibm;[~SjirNijssen] [~isaacwch] Just letting you know I'm starting this topic.  First pass will be a diagram, as discussed.;;;","17/Jan/19 9:44 AM;denyeart;Merged in master.

Cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/28772/;;;",,,,,,,,,,,,,,,,,,,,,,,
"Channels that aren't pulled during onboarding, report not found",FAB-13337,36252,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,18/Dec/18 11:11 PM,22/Dec/18 12:45 AM,28/Oct/23 3:04 AM,22/Dec/18 12:45 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"However, when an orderer is onboarded, it skips pulling chains it is not part of.
As a result, the genesis blocks aren't committed into the ledger, and when the orderer starts up (after onboarding) - it doesn't have the proper chain objects in the in-memory mapping, and thus it might classify transactions to channels that it doesn't have, as transactions of channel creation that are targeted to the system channel.

Therefore, we maybe should only commit the genesis block and nothing else. 

Currently, when an orderer is restarted (one that didn't go through onboarding, but was in the cluster since the dawn of time) and sees that it is not part of a channel it has a config block for - it always returns an error to the clients, saying it is not part of the channel.

If we commit the genesis block (only) for channels that we're not part of (during onboarding) - we'll then present clients a uniform error (""we're not in the channel""), and not have heterogeneous responses that depend on whether the OSN was in the system channel since the beginning or not.",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003nz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 9:28 AM;yacovm;[~kchristidis] wdyt?;;;","20/Dec/18 12:09 AM;kchristidis;A couple of things that are unclear from the write-up:

# OSN A belongs to cluster at time T. At time T+1, a request to create channel ""foo"" comes in, and it doesn't include A. Does A commit the genesis block for ""foo""? My understanding is that it does.
# ""Currently, when an orderer is restarted"" - It's unclear to me why the ""restarted"" part is a necessary condition here?;;;","20/Dec/18 12:16 AM;yacovm;1. Yeah... that's what existing OSNs do. That's why I want the onboarding OSNs to reach the same state as existing OSNs.
2. Ah, you're right. it is confusing. I wrote it at 2 AM, and I was thinking about a situation where you're removed from the channel membership and then restarted. 
I should've just said ""whenever a chain is created"" ;;;","20/Dec/18 12:21 AM;kchristidis;I agree that onboarded OSNs should behave the same as those that were there from the start, and kept out of channels. So +1 on having them commit the genesis block. Good call.;;;","21/Dec/18 1:42 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28330/;;;",,,,,,,,,,,,,,,,,,,,
Documentation: Upgrading your network fabric-network package missing ,FAB-13338,36253,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,latitiah,latitiah,19/Dec/18 12:19 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,v1.4.0,,,,,v2.0.0,,,,fabric-docs,,,,0,stale-item,,,"There is no reference to install the latest fabric-network node module in the section: 
https://hyperledger-fabric.readthedocs.io/en/latest/upgrading_your_network_tutorial.html#upgrade-node-sdk-clients",,denyeart,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003o7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,latitiah,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 12:39 AM;denyeart;fabric-network is new in v1.4, so no upgrade would be needed. I think it should be added for v2.0.0 though.  I updated FixVersion, do you agree [~latitiah];;;","03/Jan/19 9:33 PM;latitiah;When upgrading from v1.3 to v1.4, you will need to install fabric-network, so I do believe that the ""npm install"" line is still needed here.;;;","03/Jan/19 10:32 PM;denyeart;[~latitiah] If the existing app doesn't use fabric-network library at all (and it won't since it didn't exist before), then why would you need to install fabric-network?  There should be no requirement to use fabric-network... or am I missing some dependency?

If you want to 'migrate' an existing app to the new programming model, then yes you would need to install fabric-network and make significant code changes.;;;","04/Jan/19 12:09 AM;latitiah;Maybe that's the distinction that is missing. If there is no desire to use new API calls, but only existing calls, then yes, I agree, the new library is not needed here. 

I don't see where the docs on this page differentiate between a migration and an upgrade. It may be helpful to add a note that says ""When migrating to use the v1.4 library calls, be sure to install fabric-network@latest as well."";;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,
"lte test failed first time in test case perf_couchdb.test_FAB_3873_VaryNumChainWithNoParallelism, in the last build, <master> branch with 2.0 images",FAB-13339,36254,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,AdnanChoudhury,sambhavdutt,sambhavdutt,19/Dec/18 12:37 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,22/Dec/18 4:00 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,ci-failure,,,"lte test failed first time in test case *perf_couchdb.test_FAB_3873_VaryNumChainWithNoParallelism*, in the last build, <master> branch with 2.0 images.  The same test case passed with fabric 1.4.0 images. 

The lte tests started 8 PM EST last night and took almost 4 hours to complete which is the usual build time for lte daily tests. 


Error:
{code:java}
00:06:31         returncode = subprocess.call(
00:06:31                 ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
00:06:31                 ""varyNumChainsWithNoParallelism"", shell=True,
00:06:31                 stderr=subprocess.STDOUT, stdout=logfile, cwd=tool_directory)
00:06:31         logfile.close()
00:06:31         self.assertEqual(returncode, 0, msg=""varyNumChainsWithNoParallelism ""
00:06:31                 ""performance test for CouchDB failed. \nPlease check the logfile ""
00:06:31 >               +logfile.name+"" for more details."")
00:06:31 E       AssertionError: varyNumChainsWithNoParallelism performance test for CouchDB failed. 
00:06:31 E       Please check the logfile output_VaryNumChainsWithNoParallelism_couchdb.log for more details.
{code}

I am Assigning the priority to Medium for now as there were some fabric unit test fails observed due to a slow network connection on LF vm's last night.

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-master-x86_64/112/

",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,daafa38,Unset,No,,,"1|i003of:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private data reconciliation - couchdb bulk load not working,FAB-13340,36255,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,denyeart,denyeart,denyeart,19/Dec/18 12:42 AM,19/Dec/18 1:54 AM,28/Oct/23 3:04 AM,19/Dec/18 1:54 AM,v1.4.0,,,,,v1.4.0,v2.0.0,,,fabric-ledger,,,,0,,,,"During commit of reconciled private data, the bulk load of versions from CouchDB is not working correctly.  Only one of the keys is getting bulk loaded instead of all N keys. For example when committing four different reconciled keys, we see only a single key in the debug four times in a row:

 
{code:java}
2018-12-18 15:38:17.077 UTC [statecouchdb] LoadCommittedVersions -> DEBU 23a Load into version cache: marblesp$$hcollectionMarblePrivateDetails~/X5qdx6o8jkNHing1oMPaWjGcl8Ms6e8UCB6Wra8K7I=
2018-12-18 15:38:17.077 UTC [statecouchdb] LoadCommittedVersions -> DEBU 23b Load into version cache: marblesp$$hcollectionMarblePrivateDetails~/X5qdx6o8jkNHing1oMPaWjGcl8Ms6e8UCB6Wra8K7I=
2018-12-18 15:38:17.077 UTC [statecouchdb] LoadCommittedVersions -> DEBU 23c Load into version cache: marblesp$$hcollectionMarblePrivateDetails~/X5qdx6o8jkNHing1oMPaWjGcl8Ms6e8UCB6Wra8K7I=
2018-12-18 15:38:17.077 UTC [statecouchdb] LoadCommittedVersions -> DEBU 23d Load into version cache: marblesp$$hcollectionMarblePrivateDetails~/X5qdx6o8jkNHing1oMPaWjGcl8Ms6e8UCB6Wra8K7I=
2018-12-18 15:38:17.078 UTC [statecouchdb] executeBatches -> DEBU 23e Executing batches = [nsMetadataRetriever:ns=marblesp$$hcollectionMarblePrivateDetails, num keys=4]{code}",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|i003on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Add Kafka health check,FAB-13341,36256,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,wlahti,wlahti,19/Dec/18 12:58 AM,27/Jun/19 7:43 PM,28/Oct/23 3:04 AM,12/Feb/19 12:37 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,ipm-planned,operations,,,,skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15825,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzzq7t:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Feb/19 11:47 PM;skarim;https://gerrit.hyperledger.org/r/c/28904/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add Zookeeper health check,FAB-13342,36257,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wlahti,wlahti,19/Dec/18 12:58 AM,16/Jan/19 11:55 PM,28/Oct/23 3:04 AM,16/Jan/19 11:55 PM,,,,,,,,,,,,,,0,operations,,,,,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10851,,,No,,Unset,No,,,"1|hzzq7t:i",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/19 11:55 PM;sykesm;As important as zookeeper is to the kafka based ordering system, Fabric doesn't interact with it directly; it's a dependency of kafka. That means we shouldn't be doing anything with zk directly.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Merge the two RWSets from endorsement and token transaction,FAB-13343,36259,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,wenjian,wenjian,19/Dec/18 2:43 AM,13/Jan/20 11:42 PM,28/Oct/23 3:04 AM,13/Jan/20 11:42 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,stale-item,,"For token endorser transactions, there are 2 RWSets, one from proposal endorsement, and the other from token transaction. Need to merge them.",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003pj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove dead code from fabric,FAB-13344,36260,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,19/Dec/18 3:29 AM,10/Jan/19 4:02 AM,28/Oct/23 3:04 AM,10/Jan/19 4:02 AM,,,,,,,,,,,,,,0,hygiene,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003pr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 7:05 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/28259 [FAB-13344] remove dead production code from bccsp
remote:   https://gerrit.hyperledger.org/r/28260 [FAB-13344] remove dead production code from cmd
remote:   https://gerrit.hyperledger.org/r/28261 [FAB-13344] remove dead code from fabric/common
remote:   https://gerrit.hyperledger.org/r/28262 [FAB-13344] remove dead code from core/aclmgmt
remote:   https://gerrit.hyperledger.org/r/28263 [FAB-13344] remove dead code from core/chaincode
remote:   https://gerrit.hyperledger.org/r/28264 [FAB-13344] remove dead code from core/committer
remote:   https://gerrit.hyperledger.org/r/28265 [FAB-13344] remove dead code from core/common
remote:   https://gerrit.hyperledger.org/r/28266 [FAB-13344] remove dead code from core/container
remote:   https://gerrit.hyperledger.org/r/28267 [FAB-13344] remove dead code from core/handlers
remote:   https://gerrit.hyperledger.org/r/28268 [FAB-13344] remove dead code from core/ledger
remote:   https://gerrit.hyperledger.org/r/28269 [FAB-13344] remove dead code from examples
remote:   https://gerrit.hyperledger.org/r/28270 [FAB-13344] remove dead code from gossip
remote:   https://gerrit.hyperledger.org/r/28271 [FAB-13344] remove dead code from integration
remote:   https://gerrit.hyperledger.org/r/28272 [FAB-13344] remove dead code from msp
remote:   https://gerrit.hyperledger.org/r/28273 [FAB-13344] remove dead code from orderer/common
remote:   https://gerrit.hyperledger.org/r/28274 [FAB-13344] remove dead code from orderer/consensus
remote:   https://gerrit.hyperledger.org/r/28275 [FAB-13344] remove dead code from peer/chaincode
remote:   https://gerrit.hyperledger.org/r/28276 [FAB-13344] cleanup file modes of test fixtures
remote:   https://gerrit.hyperledger.org/r/28277 [FAB-13344] remove dead code from token
remote:   https://gerrit.hyperledger.org/r/28278 [FAB-13344] move protoc target out of testdata;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update the fabric-test pull script in release-1.3 and release-1.2 branches to pull binaries from Nexus.,FAB-13345,36261,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,sambhavdutt,sambhavdutt,sambhavdutt,19/Dec/18 5:23 AM,15/Jul/19 8:29 PM,28/Oct/23 3:04 AM,25/Dec/18 1:51 AM,v1.2.1,,,,,v1.2.1,,,,fabric-quality,,,,0,fabric-test,,,"Now that all binaries from the nightly job  are published to Nexus Snapshots, Point the pull scripts to the Nexus `snapshots` for release-1.3 and release-1.2 branches.",,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003pz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.3,release-1.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Dec/18 1:55 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/28283/
https://gerrit.hyperledger.org/r/#/c/28281/

The CRs have been merged;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer error and crash while querying the peer with nodeSDK channel.queryBlock(qi),FAB-13347,36263,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,AdnanChoudhury,AdnanChoudhury,19/Dec/18 7:19 AM,21/Jan/20 11:33 AM,28/Oct/23 3:04 AM,10/Jan/19 3:08 AM,v1.4.0,,,,,v1.4.1,v2.0.0,,,fabric-peer,,,,0,,,,"While using `channel.queryBlock(qi)` to query the blocks, if there are more than 10K threads, the peer crashes.

The peer log is attached.

",,adc,AdnanChoudhury,ales,btl5037,denyeart,kchristidis,manish-sethi,mastersingh24,Senthil1,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Security issue,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 7:34 AM;AdnanChoudhury;query_block.log.zip;https://jira.hyperledger.org/secure/attachment/16449/query_block.log.zip",,,,,,,,,,,,,,,,,adc,ales,btl5037,denyeart,kchristidis,manish-sethi,Senthil1,sykesm,wenjian,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003qf:",,,,Unset,Unset,,,"In a peer with more than 10K blocks, the PTE tool for query-blocks was used to traverse the blocks from block 0 to block 17K.
`/go/src/github.com/hyperledger/fabric-test/tools/PTE$ ./pte_driver.sh sampleccInputs/runCases-queryblock-TLS.txt`
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),adc,AdnanChoudhury,ales,btl5037,denyeart,kchristidis,manish-sethi,mastersingh24,Senthil1,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jan/19 11:56 PM;mastersingh24;The actual error is thread exhaustion as the program hits the 10000 OS thread limit:


{code:java}
runtime: program exceeds 10000-thread limit
fatal error: thread exhaustion{code};;;","06/Jan/19 12:29 AM;mastersingh24; 
{code:java}
grep ""^goroutine "" query_block.log | perl -npe 's/\d+/n/' | sort | uniq -c 
   1 goroutine n [IO wait, 109 minutes]:
   3 goroutine n [IO wait, 2 minutes]:
   1 goroutine n [IO wait, 68 minutes]:
   2 goroutine n [IO wait]:
   1 goroutine n [chan receive, 109 minutes]:
   2 goroutine n [chan receive, 2 minutes]:
   4 goroutine n [chan receive, 68 minutes]:
   1 goroutine n [chan receive, 89 minutes]:
 316 goroutine n [runnable]:
   1 goroutine n [select, 108 minutes]:
  24 goroutine n [select, 109 minutes]:
  14 goroutine n [select, 2 minutes]:
  17 goroutine n [select, 68 minutes]:
   1 goroutine n [select, 88 minutes]:
  17 goroutine n [select, 89 minutes]:
6636 goroutine n [select]:
   4 goroutine n [semacquire, 2 minutes]:
2339 goroutine n [semacquire]:
   8 goroutine n [sleep]:
   1 goroutine n [syscall, 109 minutes]:
 306 goroutine n [syscall]:
{code}
 ;;;","06/Jan/19 12:32 AM;mastersingh24;[~sykesm]  - would you mind taking a look at this one when you get a chance?  ;;;","07/Jan/19 3:48 AM;denyeart;I think the question is, how to protect peer from a denial of service attack from a client sending thousands of requests.;;;","08/Jan/19 3:23 AM;sykesm;> I think the question is, how to protect peer from a denial of service attack from a client sending thousands of requests.

A: throttle at admission

We can use server interceptors and a counting semaphore to implement that.

As for where these threads are coming from, they're almost certainly a result of how we interact with the block storage. Every time a syscall is made from go (e.g. os.OpenFile, os.File#ReadAt), the M (machine/native thread) associated with the G (go routine) is blocked and a new M proc is allocated. These M's are never released.

So, IMO, we need to things to come out of this:

1. A throttle for the grpc server (comm or peer)
2. An investigation into whether or not there are easy optimizations we can make in fsblkstorage to reduce the number of OpenFile calls that are made. This is a secondary issue.;;;","09/Jan/19 7:12 AM;sykesm;notes:

We probably need to extend this a bit further. Initially I had hoped to have two throttles - global and per connection. That's a bit difficult to implement correctly without a resource leak.;;;",,,,,,,,,,,,,,,,,,,
"Intermittent test failures in consensus/etcdraft/chain_test purges blockcutter, stops timer and discards created blocks if leadership is lost [It]",FAB-13348,36265,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sykesm,sykesm,19/Dec/18 10:34 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,29/Jan/19 12:59 PM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Failing test in CI.

{code}
22:39:25 • Failure [2.481 seconds]
22:39:25 Chain
22:39:25 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
22:39:25   Multiple Raft nodes
22:39:25   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
22:39:25     when 3/3 nodes are running
22:39:25     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1747
22:39:25       failover
22:39:25       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2020
22:39:25         purges blockcutter, stops timer and discards created blocks if leadership is lost [It]
22:39:25         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2118
22:39:25 
22:39:25         Timed out after 1.000s.
22:39:25         Expected
22:39:25             <uint64>: 4
22:39:25         to equal
22:39:25             <uint64>: 5
22:39:25 
22:39:25         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2582
22:39:25 ------------------------------
22:39:25 ••
22:39:25 
22:39:25 Summarizing 1 Failure:
22:39:25 
22:39:25 [Fail] Chain Multiple Raft nodes when 3/3 nodes are running failover [It] purges blockcutter, stops timer and discards created blocks if leadership is lost 
22:39:25 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2582
22:39:25 
22:39:25 Ran 69 of 69 Specs in 25.394 seconds
22:39:25 FAIL! -- 68 Passed | 1 Failed | 0 Pending | 0 Skipped
22:39:25 --- FAIL: TestEtcdraft (25.39s)
22:39:25 FAIL
22:39:25 coverage: 86.4% of statements
22:39:25 FAIL	github.com/hyperledger/fabric/orderer/consensus/etcdraft	30.535s
{code}

/cc [~kchristidis]",,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 12:20 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16458/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003qv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 12:01 AM;kchristidis;[~sykesm]: Do you happen to have the link to the CI report handy? (Or re-zip the attachment? For some reason, neither I or Jay are able to unzip it.);;;","20/Dec/18 12:21 AM;sykesm;updated;;;","29/Jan/19 11:57 AM;guoger;This test has been edited during the refactoring of etcdraft chain implementation. *Not* saying it's *not* flaky anymore, but simply wait for next hit to re-open this jira;;;",,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in consensus/etcdraft/chain_test Multiple Raft nodes when reconfiguring raft cluster reconfiguration removes leader from replica set,FAB-13349,36266,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,19/Dec/18 10:37 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,22/Dec/18 2:41 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Hit in CI
{code}
22:45:03 ------------------------------
22:45:03 • Failure in Spec Setup (BeforeEach) [3.211 seconds]
22:45:03 Chain
22:45:03 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
22:45:03   Multiple Raft nodes
22:45:03   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
22:45:03     when reconfiguring raft cluster
22:45:03     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1266
22:45:03       reconfiguration [BeforeEach]
22:45:03       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1336
22:45:03         removes leader from replica set
22:45:03         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1695
22:45:03 
22:45:03         Timed out after 1.000s.
22:45:03         When passed a matcher, ReceiveMatcher's channel *must* receive something.
22:45:03 
22:45:03         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2639
{code}

/cc [~kchristidis]",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 10:38 AM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16451/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003r3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 12:13 AM;guoger;I've not been able to reproduce this locally, but my suspicion is that following leader election is performed too quickly that c1 has not yet exited. hopefully [https://gerrit.hyperledger.org/r/28295] can prevent this from happening. feel free to update this Jira if it does happen.

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in consensus/etcdraft/chain_test ensures that despite leader failure cluster continue to process configuration to remove the leader,FAB-13350,36267,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,19/Dec/18 10:47 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,19/Dec/18 9:50 PM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"{code}
22:37:54 •••••••••••••••••••••••••••••••••STEP: Submitting first tx to cut the block
22:37:54 STEP: sending config transaction
22:37:54 
22:37:54 ------------------------------
22:37:54 • Failure [5.248 seconds]
22:37:54 Chain
22:37:54 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
22:37:54   Multiple Raft nodes
22:37:54   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
22:37:54     when reconfiguring raft cluster
22:37:54     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1266
22:37:54       reconfiguration
22:37:54       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1336
22:37:54         ensures that despite leader failure cluster continue to process configuration to remove the leader [It]
22:37:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1652
22:37:54 
22:37:54         Timed out after 5.000s.
22:37:54         Expected
22:37:54             <int>: 0
22:37:54         to equal
22:37:54             <int>: 1
22:37:54 
22:37:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1677
22:37:54 ------------------------------
22:37:54 ••••••••••••••2018-12-18 22:37:06.298462 W | wal: sync duration of 1.845528555s, expected less than 1s
22:37:54 •••
22:37:54 
22:37:54 Summarizing 1 Failure:
22:37:54 
22:37:54 [Fail] Chain Multiple Raft nodes when reconfiguring raft cluster reconfiguration [It] ensures that despite leader failure cluster continue to process configuration to remove the leader 
22:37:54 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1677
22:37:54 
22:37:54 Ran 69 of 69 Specs in 26.962 seconds
22:37:54 FAIL! -- 68 Passed | 1 Failed | 0 Pending | 0 Skipped
22:37:54 --- FAIL: TestEtcdraft (26.96s)
22:37:54 FAIL
22:37:54 coverage: 85.1% of statements
22:37:54 FAIL	github.com/hyperledger/fabric/orderer/consensus/etcdraft	31.705s
{code}

/cc [~kchristidis]",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 10:49 AM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16452/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003rb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Dec/18 2:08 PM;guoger;https://gerrit.hyperledger.org/r/28285;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in idemix/bridge_test invalid credential request in verifying credential,FAB-13351,36268,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,sykesm,sykesm,19/Dec/18 10:52 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,21/Dec/18 10:58 PM,,,,,,,,,,fabric-crypto,,,,0,ci-flake,,,"Encountered in CI. Similar to FAB-13167.

{code}
22:25:12 ------------------------------
22:25:12 •! Panic [1.882 seconds]
22:25:12 Idemix Bridge
22:25:12 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:23
22:25:12   setting up the environment with one issuer and one user
22:25:12   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:596
22:25:12     the environment is not valid with the respect to different parameters
22:25:12     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:750
22:25:12       invalid credential request in verifying credential [It]
22:25:12       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:790
22:25:12 
22:25:12       Test Panicked
22:25:12       runtime error: invalid memory address or nil pointer dereference
22:25:12       /opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513
22:25:12 
22:25:12       Full Stack Trace
22:25:12       	/opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513 +0x1b9
22:25:12       github.com/hyperledger/fabric/bccsp/idemix/bridge_test.glob..func1.9.3.4()
22:25:12       	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_test.go:805 +0x62c
22:25:12       github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/internal/leafnodes.(*runner).runSync(0xc000075740, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
22:25:12       	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/bccsp/idemix/bridge/bridge_suite_test.go:18 +0xf7
22:25:12       testing.tRunner(0xc0000d1100, 0xb3eae8)
22:25:12       	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0x163
22:25:12       created by testing.(*T).Run
22:25:12       	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x651
22:25:12       
22:25:12 ------------------------------
22:25:12 ••••••••••••••••••••••••••••••
22:25:12 
22:25:12 Summarizing 1 Failure:
22:25:12 
22:25:12 [Panic!] Idemix Bridge setting up the environment with one issuer and one user the environment is not valid with the respect to different parameters [It] invalid credential request in verifying credential 
22:25:12 /opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513
22:25:12 
22:25:12 Ran 95 of 95 Specs in 74.458 seconds
22:25:12 FAIL! -- 94 Passed | 1 Failed | 0 Pending | 0 Skipped
{code}

/cc [~adc]",,angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 10:53 AM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16453/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003rj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Dec/18 4:28 PM;angelo.decaro;https://gerrit.hyperledger.org/r/#/c/28342/ ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Address comments for orderer_client.go,FAB-13352,36269,35190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,wenjian,wenjian,19/Dec/18 12:08 PM,13/Jan/20 11:35 PM,28/Oct/23 3:04 AM,13/Jan/20 11:35 PM,,,,,,,,,,,,,,0,,,,,,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003rr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 4:56 AM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/28287/;;;","13/Jan/20 11:35 PM;sykesm;CR was abandoned.;;;",,,,,,,,,,,,,,,,,,,,,,,
Address comments for deliver_client.go,FAB-13353,36270,35190,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,wenjian,wenjian,19/Dec/18 12:11 PM,13/Jan/20 11:36 PM,28/Oct/23 3:04 AM,13/Jan/20 11:36 PM,,,,,,Future,,,,fabric-token,,,,0,fabtoken,,,,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003rz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 4:57 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/28302/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
separate the missingPvtData handling code from lockbased_txmgr.go,FAB-13354,36271,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,Senthil1,Senthil1,Senthil1,19/Dec/18 12:20 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,02/Dec/19 9:20 PM,,,,,,,,,,fabric-ledger,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12950,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:8",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Flakiness in etcdraft UT - `Order` may return error when a node has just been elected and performing failover check,FAB-13355,36272,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,guoger,guoger,19/Dec/18 2:14 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,29/Jan/19 12:48 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,ci-flake,,,"[this assertion|https://github.com/hyperledger/fabric/blob/d1a8e80ed23e464c78bbe9dca8ad8ff68a64ebf9/orderer/consensus/etcdraft/chain_test.go#L1286] may fail because it's done right after election, and the chain may be still performing [this check|https://github.com/hyperledger/fabric/blob/a08d1a11f9cd9ad2d63d4ef0176ecdac7decfc6b/orderer/consensus/etcdraft/chain.go#L662-L683], which causes an error being returned [here|https://github.com/hyperledger/fabric/blob/a08d1a11f9cd9ad2d63d4ef0176ecdac7decfc6b/orderer/consensus/etcdraft/chain.go#L391]",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003sf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 12:48 PM;guoger;After the refactor of chain, this is not an issue anymore.;;;",,,,,,,,,,,,,,,,,,,,,,,,
add debug logs in ledger ,FAB-13356,36273,32194,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,19/Dec/18 3:07 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,20/Dec/18 6:57 AM,,,,,,v1.4.0,,,,fabric-ledger,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:9",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Gossip data dissemination protocol_Static leader election not correct,FAB-13357,36275,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,amolpednekar,knagware9,knagware9,19/Dec/18 5:56 PM,07/Jan/19 11:56 AM,28/Oct/23 3:04 AM,05/Jan/19 2:29 PM,Future,v1.1.0,v1.2.0,v1.3.0,v1.4.0,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,"h3. Static leader election - point 2 has wrong variables ,both are {{CORE_PEER_GOSSIP_USELEADERELECTION}} , I think second variable should be

export CORE_PEER_GOSSIP_ORGLEADER

 

Wrong :- Setting {{CORE_PEER_GOSSIP_USELEADERELECTION}} and {{CORE_PEER_GOSSIP_USELEADERELECTION}} with {{true}} value is ambiguous and will lead to an error.

Correct :

Setting {{CORE_PEER_GOSSIP_USELEADERELECTION}} and CORE_PEER_GOSSIP_ORGLEADER with {{true}} value is ambiguous and will lead to an error.

 

Please check.

Thanks",,amolpednekar,denyeart,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003sv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),amolpednekar,denyeart,knagware9,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jan/19 4:36 PM;amolpednekar;CR: [https://gerrit.hyperledger.org/r/#/c/28477/];;;","05/Jan/19 8:10 AM;denyeart;Cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/28494/;;;",,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failures in grpc logging 'uses the levels returned by the levelers',FAB-13359,36278,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,19/Dec/18 9:05 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,20/Dec/18 3:19 AM,,,,,,,,,,fabric-common,,,,0,ci-flake,,,"Encountered in CI

{code}
01:53:35 • Failure [0.470 seconds]
01:53:35 Server
01:53:35 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:36
01:53:35   StreamServerInterceptor
01:53:35   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:363
01:53:35     when options are used
01:53:35     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:590
01:53:35       uses the levels returned by the levelers [It]
01:53:35       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:647
01:53:35 
01:53:35       Expected
01:53:35           <int>: 0
01:53:35       to equal
01:53:35           <int>: 1
01:53:35 
01:53:35       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:648
01:53:35 ------------------------------
01:53:35 ••••••••••
01:53:35 
01:53:35 Summarizing 1 Failure:
01:53:35 
01:53:35 [Fail] Server StreamServerInterceptor when options are used [It] uses the levels returned by the levelers 
01:53:35 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:648
01:53:35 
01:53:35 Ran 31 of 31 Specs in 13.439 seconds
01:53:35 FAIL! -- 30 Passed | 1 Failed | 0 Pending | 0 Skipped
01:53:35 --- FAIL: TestGrpclogging (13.44s)
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 9:06 PM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16455/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003tb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 1:12 AM;sykesm;https://gerrit.hyperledger.org/r/28298 [FAB-13359] fix grpclogging flake;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in consensus/etcdraft/chain_test Multiple Raft nodes  when 3/3 nodes are running leader retransmits lost messages,FAB-13360,36279,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,19/Dec/18 9:21 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,22/Dec/18 6:36 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Hit in CI:

{code}
12:13:56 • Failure [1.566 seconds]
12:13:56 Chain
12:13:56 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
12:13:56   Multiple Raft nodes
12:13:56   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
12:13:56     when 3/3 nodes are running
12:13:56     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1747
12:13:56       leader retransmits lost messages [It]
12:13:56       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1808
12:13:56 
12:13:56       Timed out after 1.000s.
12:13:56       Expected
12:13:56           <int>: 10
12:13:56       to equal
12:13:56           <int>: 9
12:13:56 
12:13:56       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1825
{code}

/cc [~kchristidis]",,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"19/Dec/18 9:22 PM;sykesm;console-timestamp.log.gz;https://jira.hyperledger.org/secure/attachment/16457/console-timestamp.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003tj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 1:15 AM;sykesm;Recurrence at https://gerrit.hyperledger.org/r/c/28272/

{code}
16:09:21 • Failure [1.557 seconds]
16:09:21 Chain
16:09:21 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
16:09:21   Multiple Raft nodes
16:09:21   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
16:09:21     when 3/3 nodes are running
16:09:21     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1747
16:09:21       leader retransmits lost messages [It]
16:09:21       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1808
16:09:21 
16:09:21       Timed out after 1.000s.
16:09:21       Expected
16:09:21           <int>: 10
16:09:21       to equal
16:09:21           <int>: 9
16:09:21 
16:09:21       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1825
{code};;;","21/Dec/18 11:51 AM;guoger;https://gerrit.hyperledger.org/r/c/28341;;;",,,,,,,,,,,,,,,,,,,,,,,
Extend fabcar sample with operational samples,FAB-13361,36282,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sstone1,sstone1,sstone1,19/Dec/18 11:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"The fabcar sample currently includes smart contract and application samples. It would be nice if it also included some operational samples that demonstrate using the Node.js, Java, and Go SDKs to perform operational tasks such as installing and instantiating smart contracts. Currently, the fabcar sample uses the Fabric CLI (peer command) to perform these operations.",,sstone1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|i003tz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sstone1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Correctly classify channels I don't have permission to pull,FAB-13362,36283,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,19/Dec/18 11:15 PM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,01/Jan/19 11:59 PM,,,,,,,,,,,,,,0,,,,"When onboarding, some channels might not be allowed to be pulled (for the new orderer).
Currently, we do not handle these errors and classify them as general errors.

we should therefore - do different handling for channels we try to pull but get ""Access denied"" type of errors.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003u7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Dec/18 9:51 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28366/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Verify application channel blocks when pulling them,FAB-13363,36284,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,19/Dec/18 11:18 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,22/Jan/19 3:46 AM,,,,,,,,,,,,,,0,,,,"When pulling application channel blocks, we currently don't verify them.
We should do that in the following manner:

When we list the channels, we will save the genesis block, out of which we will create Bundles which would be used for the policy managers that are going to verify the blocks. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003uf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Jan/19 3:20 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28770/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Fix system behave daily tests due to changes,FAB-13365,36287,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,ChandraLekhaChavva,latitiah,latitiah,19/Dec/18 11:53 PM,15/May/19 12:38 AM,28/Oct/23 3:04 AM,15/May/19 12:38 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,There are a few failures that we are seeing in the system behave tests that have started failing due to recent changes. ,,latitiah,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15241,,,,,,,,,,,,,,FAB-13492,FAB-13493,,,,,,,"03/Jan/19 10:45 PM;latitiah;Screen Shot 2019-01-03 at 8.44.37 AM.png;https://jira.hyperledger.org/secure/attachment/16504/Screen+Shot+2019-01-03+at+8.44.37+AM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003uv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,sambhavdutt,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"27/Dec/18 12:36 PM;sambhavdutt;The following test cases are failing consistently in the daily behave tests for release-1.4,

*fabric-test commit: 45a15dd*

{color:#0747a6}*CouchDB_Index*{color}

*FAB-7264**: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade – @1.1*

Snippet:
{code:java}
Then a user receives error response of {""error"":""not_found"",""reason"":""missing""} from the couchDB container ... 
failed in 0.000s
 When a user requests to get the design doc ""indexdoc_behave_test"" for the chaincode named ""mycc2"" in the channel ""mychannel2"" and from the CouchDB instance ""http://localhost:5984"" ... skipped in 0.000s
{code}
*Error log*
 [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/10/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/]

 

 

*FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade – @1.2*

*Error Log* 
[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/10/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/]


{color:#0747a6}*Orderer*{color}

*FAB-4808,FAB-3937,FAB-3938: Orderer_BatchTimeOut is honored, for kafka orderer -- @1.2* 

*Error log*

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/10/testReport/orderer/Orderer%20Service/FAB_4808_FAB_3937_FAB_3938__Orderer_BatchTimeOut_is_honored__for_kafka_orderer_____1_2_/]



 ;;;","03/Jan/19 2:28 AM;scottz;A quick look at https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/12/console shows the stdout containing a very lengthy output from the ""ls -l"" command when the failure occurs. It shows the logs files for ALL the containers from all previous test scenarios, not just the failing scenario, so it looks like behave is no longer cleaning up the logfiles after a test is completed. This may be what is causing the resource exhaustion.;;;","03/Jan/19 10:02 PM;latitiah;Yes, there are a good number of failures with the log files saved as a result of the failures. behave only generates log files when errors occur. We've had more failures than this before without the resource error due to the log files...

There is definitely *something* going on with the CI nodes. You can see from 1 job run to another where over 118 tests are executed with 19 failures to a behave crash due to resource errors after only 26 tests are executed with 9 failures. (see attached screenshot from last 7 Jenkins runs)
 
This had 9 failures at the point of the crash, so there are going to be a large number of files for each of the failed tests (1 file for each container for each failure > 56 files)

There are 2 items that need to be explored:
- How much space is being allocated for each of these jobs?
- What is causing these failures? Are there missing binaries (such as cryptogen or configtxgen)? Are there failures when starting any of the containers? etc...
;;;","04/Jan/19 5:56 AM;scottz;Is there any correlation to the changes in loglevel that we merged? If all the tests after date X fail after N tests, whereas the dates before that time showed test suites that required more (or fewer) failures to use up all the system memory;;;","06/Jan/19 1:33 AM;sambhavdutt;There are 2 failed test(recurring) cases in the *CouchDB_Index* test for +release-1.4+ branch
*fabric-test commit: 99dadfb*

*CouchDB_index.Testing Fabric CouchDB indexing.FAB-7264: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade -- @1.1* 

~There is no response from peer0.org1.example.com~

*Error Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/20/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/


*CouchDB_index.Testing Fabric CouchDB indexing.FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2 *

~There is no response from peer0.org1.example.com~

*Error Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/20/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/

*Chaincodes test Error Log*

https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/20/testReport/TESTS-chaincodes/xml/_failed_to_read_/

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/20/Behave_Test_Logs/;;;","13/Mar/19 11:15 PM;scottz;Is there any progress on this issue? Is it still being worked?;;;",,,,,,,,,,,,,,,,,,,
panic in gossip/state.TestGossipStateProvider_TestStateMessages while running unit tests,FAB-13366,36290,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,C0rWin,sykesm,sykesm,20/Dec/18 12:47 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,20/Dec/18 8:33 PM,,,,,,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,"Hit during ci of https://gerrit.hyperledger.org/r/c/28270/

{code}
15:31:07 panic: runtime error: invalid memory address or nil pointer dereference
15:31:07 [signal SIGSEGV: segmentation violation code=0x1 addr=0x28 pc=0xe87391]
15:31:07 
15:31:07 goroutine 218 [running]:
15:31:07 github.com/hyperledger/fabric/gossip/state.TestGossipStateProvider_TestStateMessages.func3(0xc0001e4d20, 0xc0000f5300, 0xc000368d30)
15:31:07 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state_test.go:1094 +0xf1
15:31:07 created by github.com/hyperledger/fabric/gossip/state.TestGossipStateProvider_TestStateMessages
15:31:07 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state_test.go:1091 +0x2a9
15:31:07 FAIL	github.com/hyperledger/fabric/gossip/state	9.242s
{code}

/cc [~C0rWin]",,C0rWin,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 12:47 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16459/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003vj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 7:53 AM;C0rWin;https://gerrit.hyperledger.org/r/28304;;;",,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in consensus/etcdraft/chain_test [Fail] Chain Multiple Raft nodes when reconfiguring raft cluster reconfiguration [It] stop cluster quorum and continue reconfiguration after the restart ,FAB-13367,36291,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,sykesm,sykesm,20/Dec/18 12:51 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,22/Dec/18 12:43 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Hit in ci of https://gerrit.hyperledger.org/r/c/28272/

{code}
15:32:12 •••••••••••••••••••••••••••STEP: Submitting first tx to cut the block
15:32:12 STEP: adding new node to the network
15:32:12 STEP: sending config transaction
15:32:12 
15:32:12 ------------------------------
15:32:12 • Failure [5.318 seconds]
15:32:12 Chain
15:32:12 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
15:32:12   Multiple Raft nodes
15:32:12   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
15:32:12     when reconfiguring raft cluster
15:32:12     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1266
15:32:12       reconfiguration
15:32:12       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1336
15:32:12         stop cluster quorum and continue reconfiguration after the restart [It]
15:32:12         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1572
15:32:12 
15:32:12         Timed out after 5.000s.
15:32:12         Expected
15:32:12             <int>: 0
15:32:12         to equal
15:32:12             <int>: 1
15:32:12 
15:32:12         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1614
15:32:12 ------------------------------
15:32:12 ••••••••••••••••••
15:32:12 
15:32:12 Summarizing 1 Failure:
15:32:12 
15:32:12 [Fail] Chain Multiple Raft nodes when reconfiguring raft cluster reconfiguration [It] stop cluster quorum and continue reconfiguration after the restart 
15:32:12 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1614
15:32:12 
15:32:12 Ran 69 of 69 Specs in 21.796 seconds
15:32:12 FAIL! -- 68 Passed | 1 Failed | 0 Pending | 0 Skipped
15:32:12 --- FAIL: TestEtcdraft (21.80s)
{code}

/cc [~kchristidis]",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 12:51 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16460/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003vr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 1:17 AM;sykesm;Recurrence at https://gerrit.hyperledger.org/r/c/28270/

{code}
16:12:54 • Failure [5.265 seconds]
16:12:54 Chain
16:12:54 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:63
16:12:54   Multiple Raft nodes
16:12:54   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1135
16:12:54     when reconfiguring raft cluster
16:12:54     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1266
16:12:54       reconfiguration
16:12:54       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1336
16:12:54         stop cluster quorum and continue reconfiguration after the restart [It]
16:12:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1572
16:12:54 
16:12:54         Timed out after 5.000s.
16:12:54         Expected
16:12:54             <int>: 0
16:12:54         to equal
16:12:54             <int>: 1
16:12:54 
16:12:54         /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1614
{code};;;","20/Dec/18 12:10 PM;guoger;https://gerrit.hyperledger.org/r/28308

side note: this test is flaky due to the same reason as FAB-13350;;;",,,,,,,,,,,,,,,,,,,,,,,
Performance issue with collection config lookups - lsccStateCache for CouchDB,FAB-13368,36292,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,20/Dec/18 12:56 AM,03/Jan/19 12:41 AM,28/Oct/23 3:04 AM,20/Dec/18 6:57 AM,,,,,,v1.4.0,v2.0.0,,,fabric-ledger,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10500,FAB-13318,,,,,FAB-103,FAB-13082,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003vz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Run gossip and etcdraft unit tests first,FAB-13369,36293,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Dec/18 12:58 AM,22/Dec/18 6:30 AM,28/Oct/23 3:04 AM,22/Dec/18 6:30 AM,,,,,,v2.0.0,,,,fabric-build,,,,0,,,,"There are a number of flaky unit tests in fabric right now and, currently, most of those flakes are in gossip and the etcdraft consensus components.

To help highlight the impact these flakes have, we should run these tests first as new code in other components will not be tested until these components pass. Hopefully this leads to developers opening issues and driving flake resolution.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003w7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 12:59 AM;sykesm;remote:   https://gerrit.hyperledger.org/r/28296 [FAB-13369] gossip and etcdraft tests run first
;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in chaincode/exectransaction_test TestChaincodeInvokeChaincode,FAB-13370,36294,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,sykesm,sykesm,20/Dec/18 1:21 AM,30/Oct/21 1:26 AM,28/Oct/23 3:04 AM,21/Dec/18 7:30 AM,,,,,,v2.0.0,,,,,,,,0,ci-flake,,,"It appears that the hard-coded timeout in our code may be a bit too aggressive. This failure has occurred at least a couple of times over the past day or two.

{code}
15:38:20 --- FAIL: TestChaincodeInvokeChaincode (163.89s)
15:38:20     --- FAIL: TestChaincodeInvokeChaincode/GOLANG (37.51s)
15:38:20         exectransaction_test.go:619: Error initializing chaincode cc_go_496672(Error deploying <cc_go_496672:0>: Error getting code command <go env>: failed with error: ""timed out after 10s""
15:38:20             )
{code}",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003wf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 3:23 AM;sykesm;https://gerrit.hyperledger.org/r/28300 [FAB-13370] increase go env timeout from 10s to 1m;;;","21/Dec/18 12:25 AM;denyeart;Seen again in release-1.4 branch: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7413/consoleFull;;;","30/Oct/21 1:26 AM;denyeart;Backported to v1.4.10 as well - https://github.com/hyperledger/fabric/commit/e876e6478ae81978d0b33fb73cb085a31beefcab;;;",,,,,,,,,,,,,,,,,,,,,,
Address regression in etcdraft tests,FAB-13371,36295,,Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,guoger,kchristidis,kchristidis,20/Dec/18 1:48 AM,26/Feb/19 5:39 PM,28/Oct/23 3:04 AM,26/Feb/19 5:37 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"Certain tests in the {{etcdraft}} package are either too slow (FAB-13200) or too brittle.

If you bump into CI failures, please post the Jenkins link here as a comment. It makes tracking easier for us.

Our course of action should be:
# Delete the offending test.
# Rewrite the offending test.

Sub-tasks should not be marked as Done unless the offending test has either been rewritten, or we have concluded it is not necessary anymore.",,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14121,FAB-13996,FAB-14163,FAB-14122,FAB-14120,FAB-14119,FAB-14117,FAB-14116,FAB-14115,FAB-14114,FAB-13766,FAB-13920,FAB-14278,FAB-14343,FAB-14326,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i0089z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 2:28 AM;kchristidis;CI has bumped into {{etcdraft}} failures in all of these CRs (FAB-13199, FAB-13348, FAB-13349, FAB-13360, FAB-13367):

https://gerrit.hyperledger.org/r/c/27894/
https://gerrit.hyperledger.org/r/c/28262/
https://gerrit.hyperledger.org/r/c/28265/
https://gerrit.hyperledger.org/r/c/28266/
https://gerrit.hyperledger.org/r/c/28270/
https://gerrit.hyperledger.org/r/c/28272/;;;","19/Jan/19 4:19 AM;kchristidis;[https://gerrit.hyperledger.org/r/c/28814/] (Matt filed this one: https://jira.hyperledger.org/browse/FAB-13766);;;","17/Feb/19 1:38 AM;kchristidis;More CI failures:

[https://gerrit.hyperledger.org/r/c/29153/#message-b691f445_99c227bb]

[https://gerrit.hyperledger.org/r/c/29054/#message-67296a40_0a896dac]  (three failures in a row)

I've also gone ahead and linked in this Jira all etcd/raft flakes I could find under the {{flakes}} label.

Given the number of flakes related to etcd/raft, as a temporary measure to decrease the pain we inflict on others, I propose that we go back to executing all {{etcdraft}} tests serially, before any other tests in the project. (Basically, the {{gossip}} treatment.)

We need to figure out a way to address these issues in a permanent manner however. _If_ CI infra is what's killing us, given that I don't see it changing any time soon, we'll need to fall-back to less strict checks in our tests, though this is understandably easier said than done.

[~guoger]: I know this one's been keeping you busy for quite a while. What is your take on how to handle this?;;;","18/Feb/19 3:17 PM;guoger;bq. Given the number of flakes related to etcd/raft, as a temporary measure to decrease the pain we inflict on others, I propose that we go back to executing all etcdraft tests serially, before any other tests in the project. (Basically, the gossip treatment.)
Can this be done with *Integration Tests*? I think they are ran in serial be default?

as for etcdraft *unit tests*, I still see occasional flakes, although with lower frequency than before AFAIK. And once [debug log is enabled by default|https://gerrit.hyperledger.org/r/c/29323/7/orderer/consensus/etcdraft/chain_test.go#2794], I think I'll be able to fix those flakes much quicker.

back to two integration tests failures you linked, I'll post more info in FAB-13920;;;","26/Feb/19 5:39 PM;guoger;If new flaky test emerges, please create a bug, label it with {{raft}} and {{flakes}}, and optionally link here;;;",,,,,,,,,,,,,,,,,,,,
Node SDK samples do not return error messages,FAB-13372,36296,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,harrisob@us.ibm.com,denyeart,denyeart,20/Dec/18 2:43 AM,05/Jan/19 4:29 AM,28/Oct/23 3:04 AM,05/Jan/19 4:23 AM,,,,,,,,,,fabric-samples,,,,0,,,,"The various node sdk application samples, upon instantiate or invoke errors, log a generic error message instead of including the specific message that came back from peer.

Here's one example from balance transfer:

""{color:#444444}[ERROR] instantiate-chaincode - Failed to instantiate. cause:Failed to send Proposal and receive all good ProposalResponse{color}""

The peer logs typically don't log chaincode error messages for data privacy reasons. So it is up to the client application to get the error message from the peer response.  When the samples do not log the peer's error message or return it to the calling app, the root cause of the problem goes unknown. To make matters worse, many people copy the samples for their own applications.

Each of the samples needs to be fixed to report the underlying error message.",,bestbeforetoday,denyeart,harrisob@us.ibm.com,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13489,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|i003wv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,denyeart,harrisob@us.ibm.com,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 2:50 AM;denyeart;As this impacts so many users every week, I've opened as High.  [~andrew-coleman] [~sstone1] [~odowdaibm] [~harrisob@us.ibm.com] .;;;","20/Dec/18 3:15 AM;odowdaibm;Thanks [~denyeart]  We should prioritize Fabrcar and Commercial paper as part of this. [~sstone1] [~andrew-coleman] Do we need to do more than the following to get these errors out per David's comments above?

//
|console.log(`Error processing transaction. ${error}`);|
|console.log(error.stack);|

//

I think we'd all prefer if the SDK did as much as reasonable here, so that applications can simply generate accurate errors.

 ;;;","20/Dec/18 3:47 AM;denyeart;The error needs to be extracted from the response.message field:

https://github.com/hyperledger/fabric/blob/release-1.4/protos/peer/proposal_response.proto#L64;;;","20/Dec/18 5:30 AM;harrisob@us.ibm.com;I will fix this in 1.4, should we back port the fix to 1.3;;;","20/Dec/18 5:08 PM;odowdaibm;Ty, Just making sure that the fabric-network programming model makes it super easy for applications to get this out wherever it's been read from in the underlying APIs. I'm sure you're synched with [~andrew-coleman], so many thanks Bret.;;;","20/Dec/18 11:36 PM;bestbeforetoday;The error thrown by the fabric-network API when submit of a transaction fails due to bad proposal responses should already include all of the bad proposal response messages (and be logged at error level). Even if some good responses are returned, allowing the transaction to proceed, any bad responses are logged at warning level. So I think any sample code that uses the fabric-network API should be fairly well covered without having to do any special handling in application code.

The example given by Dave in this Jira is an instantiate failure and so is certainly using only the fabric-client API. Here the response.error message returned from the peer should be included as the message property for the Error returned as the proposal response to the application code. It is also logged at debug level but, since we wouldn't expect applications to run normally with debug enabled, we are relying on the application code to do something helpful with that message – exactly Dave's point.

We could change fabric-client to log bad proposal responses at a log level that should be recorded by default (either client_utils.sendPeersProposal() or Peer.sendProposal()), or change the sample code to surface the bad response messages, or (perhaps better) both.;;;","21/Dec/18 5:48 AM;denyeart;I would vote for both - logging error messages and surfacing to client applications. Probably want to do this for any return.status >= 400, since status of 400 and greater will not be endorsed by endorsing peer (most often it is a 500... but chaincode can return any status they like).;;;","22/Dec/18 11:33 PM;denyeart;Note - I've tested fabcar (new javascript version) and it looks like it does indeed handle errors well.

Invoke failures get logged with the chaincode response error message:
{code:java}
warn: [Transaction]: _validatePeerResponses: Received error response from peer: message=transaction returned with failure: Error: xCAR12 does not exist, stack=Error: transaction returned with failure: Error: xCAR12 does not exist{code}
And transaction invalidations get logged with the invalidation reason code:
{code:java}
Failed to submit transaction: Error: Peer localhost:7051 has rejected transaction ""e271a5b4b28e3467efc74a679957f52d73620df781d2eb403b8fe3e7a8b0ae52"" with code ""MVCC_READ_CONFLICT""{code}
[~harrisob@us.ibm.com] So I'd suggest focus on all the fabric-client based samples.

 ;;;","05/Jan/19 4:27 AM;denyeart;Fixed for balance transfer in : [https://gerrit.hyperledger.org/r/#/c/28399/]

[~harrisob@us.ibm.com] Could you also fix for fabcar low level sample (FAB-13489): [https://github.com/hyperledger/fabric-samples/tree/master/fabcar/javascript-low-level];;;",,,,,,,,,,,,,,,,
intermittent test failure in grpclogging server test,FAB-13373,36297,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Dec/18 3:25 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,20/Dec/18 4:57 AM,,,,,,,,,,,,,,0,ci-flake,,,"Slow execution results in mismatched time stamps.

{code}
Server
/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:36
  StreamServerInterceptor
  /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:363
    logs stream data [It]
    /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:364

    Expected
        <time.Time>: 2018-12-19T16:25:26.466630919Z
    to be ~
        <time.Time>: 2018-12-19T16:25:26.472857777Z

    /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:424
{code}",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003x3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 3:36 AM;sykesm;https://gerrit.hyperledger.org/r/28301 [FAB-13373] endTime is after messages are logged;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure due to panic in leveldb while running core/ledger/kvledger tests,FAB-13374,36298,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,sykesm,sykesm,20/Dec/18 3:41 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,11/Jan/19 11:47 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,0,ci-flake,,,"Hit in ci: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7370/consoleFull

{code}
18:23:56 2018-12-19 18:21:15.017 UTC [kvledger] CommitWithPvtData -> INFO 573 [ledger1] Committed block [0] with 1 transaction(s) in 36ms (state_validation=2ms block_commit=21ms state_commit=6ms)
18:23:56 panic: runtime error: invalid memory address or nil pointer dereference
18:23:56 [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x11913e2]
18:23:56 
18:23:56 goroutine 830 [running]:
18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newRawIterator(0xc0070eb380, 0x0, 0x0, 0x0, 0x0, 0xc00321adb0, 0xc0024e0df0, 0x1, 0xc001f4ed40)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:54 +0x3c2
18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).newIterator(0xc0070eb380, 0x0, 0x0, 0x0, 0x0, 0x5, 0xc006db78d0, 0xc0024e0df0, 0x7f6624bdf000)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db_iter.go:79 +0xaa
18:23:56 github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb.(*DB).NewIterator(0xc0070eb380, 0xc006db78d0, 0xc0024e0df0, 0x0, 0x0)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/syndtr/goleveldb/leveldb/db.go:887 +0x1db
18:23:56 github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DB).GetIterator(0xc0025450c0, 0xc001f4ed00, 0x12, 0x20, 0xc00045ad00, 0xa, 0x10, 0x2, 0xc00045ace1)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_helper.go:143 +0xed
18:23:56 github.com/hyperledger/fabric/common/ledger/util/leveldbhelper.(*DBHandle).GetIterator(0xc002a98080, 0xc00045acc0, 0xa, 0x10, 0xc00045ace0, 0x2, 0x8, 0x89a2af)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/ledger/util/leveldbhelper/leveldb_provider.go:113 +0x5bb
18:23:56 github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).processCollElgEvents(0xc00e5ea360, 0x1388, 0x3e8)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:849 +0x19a
18:23:56 github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc.func1(0xc00e5ea360, 0x1388, 0x3e8)
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:834 +0x51
18:23:56 created by github.com/hyperledger/fabric/core/ledger/pvtdatastorage.(*store).launchCollElgProc
18:23:56 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/ledger/pvtdatastorage/store_impl.go:833 +0x73
18:23:56 FAIL	github.com/hyperledger/fabric/core/ledger/kvledger	81.050s
{code}

/cc [~manish-sethi]",,denyeart,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 3:41 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16461/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003xb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/19 3:10 AM;denyeart;[~Senthil1] mentioned he will take a look.;;;","10/Jan/19 1:14 PM;Senthil1;Thanks [~manish-sethi] for providing the lead. As you mentioned, we do not have a lock between GetIterator() and Close() in our levelDB helper. After digging a bit deeper, I found that all Get(), Put(), Write(), NewIterator() in the levelDB implementation first checks whether the db is closed
 if err := db.ok(); err != nil

{       return err }

where db.ok() checks whether db is closed. As you mentioned, when GetIterator() and Close() interleave, we get into nil pointer exception. Though we see this nil pointer exception with GetIterator() call only (due to the test scenario), we could get a similar problem with get, put, writeBatch call too. Hence, instead of using a sync.Mutex, we need to use a sync.RWMutex and acquire a write lock during Close() and read lock for all other functions. ;;;","10/Jan/19 1:52 PM;Senthil1;Just recording it here for future reference. Only during a graceful peer shutdown (and in unit-test), we would close the DB. When we implement peer shutdown command, with our new locking mechanism, endorsers and committers would get error (instead of nil pointer exception) while trying to access the DB. As it does not look graceful enough, when we do a peer shutdown, we might need to wait for all txSim to complete execution as well as for the in-progress block commit before closing all DBs for peer shutdown. Given the amount of work and code complexity, not sure whether it is worth to have a graceful peer shutdown command. Having said that, db platform like postgreSQL supports graceful db shutdown command.  

 ;;;",,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in orderer/consensus/solo,FAB-13375,36299,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,20/Dec/18 4:01 AM,13/Aug/19 3:13 PM,28/Oct/23 3:04 AM,03/Jan/19 12:02 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,ci-flake,,,"{code}
18:50:36 --- FAIL: TestHaltBeforeTimeout (0.00s)
18:50:36     consensus_test.go:71: Expected no invocations of Append
18:50:36 2018-12-19 18:49:33.890 UTC [orderer.consensus.solo] main -> DEBU 004 Exiting
18:50:36 2018-12-19 18:49:33.891 UTC [orderer.consensus.solo] main -> DEBU 005 Just began 1ms batch timer
18:50:36 2018-12-19 18:49:33.892 UTC [orderer.consensus.solo] main -> DEBU 006 Batch timer expired, creating block
18:50:36 2018-12-19 18:49:33.892 UTC [orderer.consensus.solo] main -> DEBU 007 Just began 1ms batch timer
18:50:36 2018-12-19 18:49:33.893 UTC [orderer.consensus.solo] main -> DEBU 008 Batch timer expired, creating block
18:50:36 2018-12-19 18:49:33.893 UTC [orderer.consensus.solo] main -> DEBU 009 Just began 10s batch timer
18:50:36 2018-12-19 18:49:33.994 UTC [orderer.consensus.solo] main -> DEBU 00a Exiting
18:50:36 2018-12-19 18:49:33.995 UTC [orderer.consensus.solo] main -> DEBU 00b Just began 1h0m0s batch timer
18:50:36 2018-12-19 18:49:33.995 UTC [orderer.consensus.solo] main -> DEBU 00c Just began 1ms batch timer
18:50:36 2018-12-19 18:49:33.997 UTC [orderer.consensus.solo] main -> DEBU 00d Batch timer expired, creating block
18:50:36 2018-12-19 18:49:33.997 UTC [orderer.consensus.solo] main -> DEBU 00e Exiting
18:50:36 2018-12-19 18:49:33.997 UTC [orderer.consensus.solo] main -> DEBU 00f Just began 1h0m0s batch timer
18:50:36 2018-12-19 18:49:33.998 UTC [orderer.consensus.solo] main -> DEBU 010 Exiting
18:50:36 2018-12-19 18:49:33.998 UTC [orderer.consensus.solo] main -> DEBU 011 Just began 1h0m0s batch timer
18:50:36 2018-12-19 18:49:33.999 UTC [orderer.consensus.solo] main -> DEBU 012 Exiting
18:50:36 2018-12-19 18:49:33.999 UTC [orderer.consensus.solo] main -> DEBU 013 Just began 1ms batch timer
18:50:36 2018-12-19 18:49:34.000 UTC [orderer.consensus.solo] main -> WARN 014 Batch timer expired with no pending requests, this might indicate a bug
18:50:36 2018-12-19 18:49:34.100 UTC [orderer.consensus.solo] main -> DEBU 015 Exiting
18:50:36 2018-12-19 18:49:34.101 UTC [orderer.consensus.solo] main -> WARN 016 Discarding bad config message: Config message is not valid
18:50:36 2018-12-19 18:49:34.202 UTC [orderer.consensus.solo] main -> WARN 017 Discarding bad normal message: Normal message is not valid
18:50:36 2018-12-19 18:49:34.303 UTC [orderer.consensus.solo] main -> DEBU 018 Exiting
18:50:36 2018-12-19 18:49:34.303 UTC [orderer.consensus.solo] main -> DEBU 019 Just began 500ms batch timer
18:50:36 2018-12-19 18:49:34.804 UTC [orderer.consensus.solo] main -> DEBU 01a Batch timer expired, creating block
18:50:36 2018-12-19 18:49:34.804 UTC [orderer.consensus.solo] main -> DEBU 01b Exiting
18:50:36 FAIL
18:50:36 coverage: 96.4% of statements
18:50:36 FAIL	github.com/hyperledger/fabric/orderer/consensus/solo	1.256s
{code}

/cc [~kchristidis]",,denyeart,guoger,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 4:01 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16462/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003xj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Dec/18 3:22 AM;wlahti;Recently hit this in CI for a CR: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7452;;;","03/Jan/19 12:02 PM;denyeart;[https://gerrit.hyperledger.org/r/#/c/28393/] merged;;;","09/Aug/19 3:17 PM;guoger;https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/14342/console hit here again. Instead of 10ms timeout, we could just do 1 hr... ;;;","09/Aug/19 3:20 PM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/32806;;;",,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in gossip/gossip,FAB-13376,36300,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,wlahti,wlahti,20/Dec/18 4:47 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,17/Feb/19 10:21 PM,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"{code:java}
14:22:16 goroutine 70049 [semacquire, 18 minutes]:
14:22:16 sync.runtime_Semacquire(0xc0042e8d48)
14:22:16 	/opt/go/go1.11.1.linux.amd64/src/runtime/sema.go:56 +0x39
14:22:16 sync.(*WaitGroup).Wait(0xc0042e8d40)
14:22:16 	/opt/go/go1.11.1.linux.amd64/src/sync/waitgroup.go:130 +0x64
14:22:16 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Stop(0xc0034f6a00)
14:22:16 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:768 +0x18a
14:22:16 github.com/hyperledger/fabric/gossip/gossip.stopPeers.func1(0xc007488920, 0x2, 0xf8bb80, 0xc0034f6a00)
14:22:16 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1540 +0x57
14:22:16 created by github.com/hyperledger/fabric/gossip/gossip.stopPeers
14:22:16 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_test.go:1538 +0xb2
14:22:16 FAIL	github.com/hyperledger/fabric/gossip/gossip	1200.013s {code}
Hit by [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7374/]",,C0rWin,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12068,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 4:51 AM;wlahti;console.log.gz;https://jira.hyperledger.org/secure/attachment/16463/console.log.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003xr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/Feb/19 10:21 PM;C0rWin;Closing since there is another ticket opened to track this flaky test (FAB-12068). ;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in gossip TestDissemination,FAB-13377,36301,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,MHBauer,sykesm,sykesm,20/Dec/18 5:02 AM,29/May/19 5:06 AM,28/Oct/23 3:04 AM,24/May/19 9:12 PM,,,,,,v1.4.1,v2.0.0,,,fabric-gossip,,,,0,ci-flake,,,"Encountered in ci: https://gerrit.hyperledger.org/r/c/27491/

{code}
19:05:25  --- FAIL: TestDissemination (184.05s)
19:05:25      gossip_test.go:707: Membership establishment took 3.000902018s
19:05:25      gossip_test.go:715: Block dissemination took 1.008631913s
19:05:25      gossip_test.go:718: Metadata dissemination took 3.259968ms
19:05:25      gossip_test.go:747: Leadership message dissemination took 12.452546ms
19:05:25      gossip_test.go:753: Stopping peers
19:05:25      gossip_test.go:1531: 
19:05:25          	Error Trace:	gossip_test.go:1531
19:05:25          	            				asm_amd64.s:1333
19:05:25          	Error:      	Didn't stop within a timely manner
19:05:25          	Test:       	TestDissemination
19:05:25      gossip_test.go:1607: 
19:05:25          	Error Trace:	gossip_test.go:1607
19:05:25          	            				gossip_test.go:760
19:05:25          	Error:      	Timeout expired!
19:05:25          	Test:       	TestDissemination
19:05:25      gossip_test.go:761: Stop took 3m0.001675945s
19:05:25      gossip_test.go:762: Took 3m4.051188887s
{code}",,C0rWin,denyeart,MHBauer,naaman,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14776,,FAB-14956,,,,FAB-15309,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 5:02 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16465/console.log","15/May/19 9:22 AM;MHBauer;testdissemination.txt;https://jira.hyperledger.org/secure/attachment/17236/testdissemination.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003xz:",,,,Unset,Unset,,,go test -race -v -count 10 -failfast -run TestDissemination ,,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,MHBauer,naaman,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 8:57 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28305/;;;","20/Mar/19 3:02 PM;denyeart;[~C0rWin] Still seeing this one in release-1.4, e.g.:

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/10684/consoleFull

I've re-opened the bug.;;;","02/Apr/19 6:43 AM;C0rWin;{quote}
08:18:15 --- FAIL: TestDissemination (184.09s)
08:18:15     gossip_test.go:808: Membership establishment took 2.528055227s
08:18:15     gossip_test.go:816: Block dissemination took 985.061415ms
08:18:15     gossip_test.go:819: Metadata dissemination took 2.656175ms
08:18:15     gossip_test.go:848: Leadership message dissemination took 538.403653ms
08:18:15     gossip_test.go:854: Stopping peers
08:18:15     gossip_test.go:1688: 
08:18:15         	Error Trace:	gossip_test.go:1688
08:18:15         	            				asm_amd64.s:1333
08:18:15         	Error:      	Didn't stop within a timely manner
08:18:15         	Test:       	TestDissemination
08:18:15     gossip_test.go:1763: 
08:18:15         	Error Trace:	gossip_test.go:1763
08:18:15         	            				gossip_test.go:861
08:18:15         	Error:      	Timeout expired, while %s
08:18:15         	Test:       	TestDissemination
08:18:15         	Messages:   	waiting for all instances to stop
08:18:15     gossip_test.go:862: Stop took 3m0.003271464s
08:18:15     gossip_test.go:863: Took 3m4.093595859s
08:18:15 FAIL
08:18:15 coverage: 85.1% of statements
08:18:15 FAIL	github.com/hyperledger/fabric/gossip/gossip	226.146s
{quote}
related to CI build of following CR: https://gerrit.hyperledger.org/r/#/c/30525/ 
failure observed in: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11165/consoleFull

{code}
08:18:28 mock: Unexpected Method Call
08:18:28 -----------------------------
08:18:28 
08:18:28 GetMembership()
08:18:28 		
08:18:28 
08:18:28 The closest call I have is: 
08:18:28 
08:18:28 GetMembership()
08:18:28 		
08:18:28 
08:18:28 
08:18:28 Diff: No differences.
08:18:28 
08:18:28 goroutine 130 [running]:
08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).fail(0xc0003355e0, 0xed82d3, 0x6f, 0xc000656200, 0x4, 0x4)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:235 +0x16d
08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).MethodCalled(0xc0003355e0, 0x1414da1, 0xd, 0x0, 0x0, 0x0, 0x4, 0xe33240, 0x7f4a4836a801)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:357 +0x7f1
08:18:28 github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock.(*Mock).Called(0xc0003355e0, 0x0, 0x0, 0x0, 0x10, 0x0, 0x10)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/stretchr/testify/mock/mock.go:333 +0x147
08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipAdapterMock).GetMembership(0xc0003355e0, 0x90, 0xc000052190, 0xc000050f00)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel_test.go:221 +0x42
08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).GetPeers(0xc00030b900, 0x1, 0xc0000d8d70, 0xc00021b560)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:363 +0x78
08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*gossipChannel).GetPeers-fm(0xc0003dde58, 0xc0003dde28, 0x2)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:289 +0x2a
08:18:28 github.com/hyperledger/fabric/gossip/gossip/channel.(*membershipTracker).trackMembershipChanges(0xc0002c8ec0)
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:1099 +0x326
08:18:28 created by github.com/hyperledger/fabric/gossip/gossip/channel.NewGossipChannel
08:18:28 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/channel/channel.go:297 +0xa13
08:18:28 FAIL	github.com/hyperledger/fabric/gossip/gossip/channel	0.133s
{code}

seems as not related to current issue, will open a new ticket.
;;;","04/Apr/19 9:29 AM;sykesm;{code}
19:57:15 <<<TestDissemination>>>
19:57:15 --- FAIL: TestDissemination (184.06s)
19:57:15     gossip_test.go:808: Membership establishment took 3.083772055s
19:57:15     gossip_test.go:816: Block dissemination took 443.154336ms
19:57:15     gossip_test.go:819: Metadata dissemination took 482.894µs
19:57:15     gossip_test.go:848: Leadership message dissemination took 516.59666ms
19:57:15     gossip_test.go:854: Stopping peers
19:57:15     gossip_test.go:1688: 
19:57:15         	Error Trace:	gossip_test.go:1688
19:57:15         	            				asm_amd64.s:1333
19:57:15         	Error:      	Didn't stop within a timely manner
19:57:15         	Test:       	TestDissemination
19:57:15     gossip_test.go:1763: 
19:57:15         	Error Trace:	gossip_test.go:1763
19:57:15         	            				gossip_test.go:861
19:57:15         	Error:      	Timeout expired, while %s
19:57:15         	Test:       	TestDissemination
19:57:15         	Messages:   	waiting for all instances to stop
19:57:15     gossip_test.go:862: Stop took 3m0.001982361s
19:57:15     gossip_test.go:863: Took 3m4.059669415s
19:57:15 FAIL
19:57:15 coverage: 85.0% of statements
19:57:15 FAIL	github.com/hyperledger/fabric/gossip/gossip	220.877s
{code}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11327/console;;;","12/Apr/19 2:51 AM;denyeart;Hit again: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11464/consoleFull;;;","02/May/19 1:09 AM;wlahti;Hit again here: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11838/console];;;","02/May/19 2:01 AM;MHBauer;This is fairly easy to repro when running the test locally.

 

With the race detector on it sees a race as well.

 [^testdissemination.txt] a local stacktrace from only the test running.;;;","15/May/19 10:24 AM;MHBauer;In demux.go, the channel buffer fills up in a DeMultiplex(), and holds the lock, which prevents the demux.close() from proceeding, as it also takes the lock.
This backs up into comm_impl and then into gossip_impl, and prevents a clean shutdown.;;;","20/May/19 3:44 AM;naaman;We should change the ChannelDeMultiplexer code to use non-blocking channel access. This should allow a goroutine that is waiting on a blocked channel to to exit and free up the lock when the channel is closed (as part of the stop procedure).

We should check for similar cases of goroutines that might be blocked on a channel without the ability to get notified that the channel should be closed.;;;","21/May/19 8:32 AM;MHBauer;[~naaman] can you make suggestions on  [https://gerrit.hyperledger.org/r/#/c/fabric/+/31374/] ? I would appreciate the help to know how you think we should be avoiding a block on the channel. So far I can't tell if the blocking is desired behavior or accidental. Non-blocking would result in dropping of messages.

Given that we're in gossip, I would think that all of this should be capable of handling very lossy message channels.;;;","22/May/19 11:37 AM;MHBauer;I think the proposed change should be satisfactory to everybody at this point.;;;",,,,,,,,,,,,,,
gossip service test TestJCMInterface times out,FAB-13378,36302,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,wael,sykesm,sykesm,20/Dec/18 5:56 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,07/Jan/19 5:52 PM,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"Encountered in build https://gerrit.hyperledger.org/r/c/27491/

{code}
0:48:29 panic: test timed out after 20m0s
20:48:29 
20:48:29 goroutine 483 [running]:
20:48:29 testing.(*M).startAlarm.func1()
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1296 +0xfd
20:48:29 created by time.goFunc
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/time/sleep.go:172 +0x44
20:48:29 
20:48:29 goroutine 1 [chan receive, 20 minutes]:
20:48:29 testing.(*T).Run(0xc000422200, 0x10c9392, 0x21, 0x10e9478, 0x860a01)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:879 +0x37a
20:48:29 testing.runTests.func1(0xc0000f4300)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1119 +0x78
20:48:29 testing.tRunner(0xc0000f4300, 0xc00034dda0)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
20:48:29 testing.runTests(0xc000469680, 0x19712e0, 0x10, 0x10, 0x7f024f)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1117 +0x2aa
20:48:29 testing.(*M).Run(0xc000102080, 0x0)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1034 +0x165
20:48:29 main.main()
20:48:29 	_testmain.go:122 +0x205
20:48:29 
20:48:29 goroutine 9 [chan receive, 20 minutes]:
20:48:29 testing.(*T).Parallel(0xc000422000)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa
20:48:29 github.com/hyperledger/fabric/gossip/service.TestJCMInterface(0xc000422000)
20:48:29 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:109 +0x2b
20:48:29 testing.tRunner(0xc000422000, 0x10e9428)
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
20:48:29 created by testing.(*T).Run
20:48:29 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353
...
20:48:29 FAIL	github.com/hyperledger/fabric/gossip/service	1200.042s
{code}",,sykesm,wael,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 5:56 AM;sykesm;console.log;https://jira.hyperledger.org/secure/attachment/16466/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003y7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wael,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 4:02 AM;sykesm;https://gerrit.hyperledger.org/r/c/28308/

{code}
18:01:57 panic: test timed out after 20m0s
18:01:57 
18:01:57 goroutine 1179 [running]:
18:01:57 testing.(*M).startAlarm.func1()
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1296 +0xfd
18:01:57 created by time.goFunc
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/time/sleep.go:172 +0x44
18:01:57 
18:01:57 goroutine 1 [chan receive, 19 minutes]:
18:01:57 testing.(*T).Run(0xc00020a400, 0x10d98b0, 0x36, 0x10e9470, 0x860a01)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:879 +0x37a
18:01:57 testing.runTests.func1(0xc0000f6300)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1119 +0x78
18:01:57 testing.tRunner(0xc0000f6300, 0xc00043dda0)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
18:01:57 testing.runTests(0xc0003376a0, 0x19712e0, 0x10, 0x10, 0x7f024f)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1117 +0x2aa
18:01:57 testing.(*M).Run(0xc000466100, 0x0)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1034 +0x165
18:01:57 main.main()
18:01:57 	_testmain.go:122 +0x205
18:01:57 
18:01:57 goroutine 71 [chan receive, 20 minutes]:
18:01:57 testing.(*T).Parallel(0xc00020a000)
18:01:57 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa
18:01:57 github.com/hyperledger/fabric/gossip/service.TestJCMInterface(0xc00020a000)
{code};;;","07/Jan/19 5:51 PM;wael;could not recapture the bug again.;;;",,,,,,,,,,,,,,,,,,,,,,,
Improve private data reconciliation performance - optimize private data hash check,FAB-13379,36303,,Task,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,dongming,dongming,20/Dec/18 5:57 AM,03/Jul/23 11:05 PM,28/Oct/23 3:04 AM,,,,,,,,,,,fabric-ledger,,,,0,,,,"对于 IKS 上的 30 个事务，提取哈希并进行比较大约需要 1042 秒（每个哈希检查 x 30 个事务 1042 毫秒），有关详细信息，请参阅随附的日志：
{code:java}
[36m2018-12-19 19:45:00.594 UTC [kvledger] findValidAndInvalidBlockPvtData -> DEBU 932ab[0m Retrieving rwset of txNum: 581 blockNum: 17
[36m2018-12-19 19:45:00.624 UTC [kvledger] findValidAndInvalidBlockPvtData -> DEBU 932ac[0m Constructing valid and invalid pvtData using rwset of txNum: 581 blockNum: 17{code}
测试步骤：
 - 每个组织 1 个通道、5 个组织、2 个对等方

 - 集合包含 0RG1 - org4

 - 发送 40k 公共数据库事务

 - 发送 120k 个私有数据库事务

 - 将组织 5 添加到集合

 - 观察对帐以启动和收集日志

 

 ",,dongming,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 5:53 AM;dongming;1219-snippet-10blocks.log;https://jira.hyperledger.org/secure/attachment/16467/1219-snippet-10blocks.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00wur:0ip9i",,,,Unset,Unset,v2.x,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 6:04 AM;manish-sethi;[~dongming] - Please measure and include here the iops for random read for this machine.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Using dev mode documentation needs to be updated,FAB-13381,36307,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Kuro1,Kuro1,Kuro1,20/Dec/18 11:48 AM,29/Dec/18 12:02 AM,28/Oct/23 3:04 AM,29/Dec/18 12:01 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,"[https://hyperledger-fabric.readthedocs.io/en/latest/peer-chaincode-devmode.html]

Some path needs to be updated.
 # outdated chaincode path
 # sampleconfig/*

 

Starting peer requires adding an environment variable, otherwise the chaincode cannot connect to peer.",,Kuro1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003zb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Kuro1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"20/Dec/18 12:11 PM;Kuro1;[https://gerrit.hyperledger.org/r/#/c/28307/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Disable ""goimports"" in gotools in release-1.0 and release-1.1.",FAB-13382,36308,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,20/Dec/18 12:53 PM,01/Jan/19 3:53 AM,28/Oct/23 3:04 AM,01/Jan/19 3:53 AM,v1.0.0,v1.1.0,,,,v1.0.0,v1.1.0,,,fabric-build,,,,0,,,,The goimports fails to build in the unit-tests and the end-to-end daily tests.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003zj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Missed ""github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased"" in whitelist",FAB-13383,36309,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,baohua,baohua,20/Dec/18 1:09 PM,08/Jan/19 3:08 AM,28/Oct/23 3:04 AM,08/Jan/19 3:08 AM,,,,,,,,,,fabric-peer,,,,0,,,,"There's white list for chaincode dependencies, currently it includes
 * ""github.com/hyperledger/fabric/core/chaincode/shim""
 * ""github.com/hyperledger/fabric/protos/peer""

We need to add github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased to allow support the state-based endorsement.

Besides, the ccenv image should include the dependencies too.",,baohua,denyeart,mastersingh24,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13463,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i003zr:",,,,Unset,Unset,,,"1. import github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased in the chaincode;
2. when install in a clean client, will report Error: error getting chaincode code chenhuicc_3: error getting chaincode package bytes: Error obtaining dependencies for github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased: <go, [list -f {{ join .Deps “\n”}} github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased]>: failed with error: “exit status 1""
can’t load package: package github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased: cannot find package “github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased” in any of:
    /opt/go/src/github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased (from $GOROOT)
    /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased (from $GOPATH)",,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,denyeart,mastersingh24,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 9:56 PM;denyeart;[~mne] [~ales] Could you provide your thoughts...;;;","20/Dec/18 10:09 PM;mne;State-based endorsement itself does not require the ext shim, which is a convenience layer to facilitate handling the endorsement policies for SBE.

For the ext-shim I thought that the preferred way of resolving such chaincode dependencies would be vendoring, which I also mention in the documentation of the SBE fabric sample [https://gerrit.hyperledger.org/r/#/c/26232/|https://gerrit.hyperledger.org/r/#/c/26232/).] 

However, if there is a ""whitelist"" for fabric-internal dependencies, then I guess it makes sense to add the SBE ext shim to it. I assume the ""github.com/hyperledger/fabric/core/chaincode/shim"" entry does not include subdirectories?;;;","20/Dec/18 10:10 PM;mastersingh24;We need to completely  move away from this model.  We need to separate out all user libraries and chaincode developers need to be responsible for vendoring all dependencies.
[~sykesm] - Anything to add?;;;","21/Dec/18 1:25 AM;sykesm;[~mastersingh24] - not really. At the end of the day, it was a mistake for fabric to try to accept any responsibility for go dependency management. This is especially true of how we explicitly remove packages that have been vendored (the white list that's referenced.)

Beyond that, binding the shim package implementation to fabric core has also generated a lot of angst and we need to address that be completely separating it from the fabric repo. It's this tight coupling that complicates our story and makes life more difficult for developers of
go chaincode.;;;","27/Dec/18 12:41 AM;denyeart;I agree with Matt and Gari.

Given the CURRENT chaincode model, it would make sense to track this item as a bug.  Given the FUTURE intent however, it would make sense to close this as Won't Do, upon meeting these two criteria:

1) Merge the interest rate swap sample https://gerrit.hyperledger.org/r/#/c/26232/ so that people know that they need to vendor the dependencies in v1.4 timeframe.

2) Create Jira items describing the future chaincode intent and link to this item.

[~sykesm] or [~mastersingh24] could you help with #1 and #2 so that we can close this item?;;;","27/Dec/18 10:50 AM;baohua;[~denyeart]

I read the doc and think it's a nice guideline for the new state-based feature.

For the v1.4.0 timeframe, do you think i should highlight the vendor step in the official doc?

Thanks!;;;","01/Jan/19 4:02 AM;denyeart;[~baohua] I've improved the vendoring documentation here: [https://gerrit.hyperledger.org/r/#/c/28436/]

The interest rate swap state-based endorsement sample with vendoring instructions is now merged: [https://github.com/hyperledger/fabric-samples/tree/master/interest_rate_swaps#prerequesites]

[~sykesm] Let us know when you create the Jiras to capture the future chaincode improvements (even if they are slim placeholders, it will be helpful to have anchors for the work).;;;","08/Jan/19 3:08 AM;denyeart;Let's go ahead and close as Won't Do now that the vendoring solution is documented.;;;",,,,,,,,,,,,,,,,,
fabric-chaincode-node RC2 preparation,FAB-13386,36315,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,mbwhite,mbwhite,20/Dec/18 6:35 PM,21/Dec/18 3:25 AM,28/Oct/23 3:04 AM,21/Dec/18 3:25 AM,,,,,,,,,,,,,,0,,,,"Update to rc2 - can't test at this time as the docker images for rc2 not yet available,.",,denyeart,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-151,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0040n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 3:25 AM;denyeart;[https://gerrit.hyperledger.org/r/#/c/28311/];;;",,,,,,,,,,,,,,,,,,,,,,,,
Cut v1.4.0-rc2 release,FAB-13388,36321,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,20/Dec/18 8:50 PM,09/Jan/19 1:33 AM,28/Oct/23 3:04 AM,24/Dec/18 11:35 PM,v1.4.0,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Prepare and publish v1.4.0-rc2 release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13553,,FAB-13111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0041b:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support 1.4.0-rc2 release,FAB-13389,36322,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,20/Dec/18 8:50 PM,20/Dec/18 11:20 PM,28/Oct/23 3:04 AM,20/Dec/18 11:20 PM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,fabric-ci,,,Make sure all the release jobs are ready for release.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0041j:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for 1.4.0-rc2 release,FAB-13390,36323,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 3:24 AM,28/Oct/23 3:04 AM,21/Dec/18 3:24 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0041r:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-13391,36324,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 5:30 AM,28/Oct/23 3:04 AM,21/Dec/18 5:30 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.4.0-rc1 release.

Update Makefile

BASE_VERSION = 1.4.0-rc1

PREV_VERSION = 1.3.0

EXPERIMENTAL ?= true

 

Also, update master branch to have BASE_VERSION=1.4.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0041z:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for 1.4.0-rc2 release,FAB-13392,36325,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 3:24 AM,28/Oct/23 3:04 AM,21/Dec/18 3:24 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.4.0-rc1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0 v1.4.0-rc1

update release_notes/v1.4.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00427:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-13393,36326,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,02/Mar/19 7:40 AM,28/Oct/23 3:04 AM,21/Dec/18 5:30 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0042f:",,,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-13394,36327,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,20/Dec/18 8:50 PM,21/Dec/18 2:16 AM,28/Oct/23 3:04 AM,21/Dec/18 2:16 AM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0042n:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 2:16 AM;rameshthoomu;Published 1.4.0-rc2 fabric and fabric-ca images with multiarch tags. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-13395,36328,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 2:17 AM,28/Oct/23 3:04 AM,21/Dec/18 2:17 AM,,,,,,v1.4.0,,,,fabric-build,,,,0,,,,BASE_VERSION=1.4.0-rc2 TWO_DIGIT_VERSION=1.4 scripts/multiarch.sh user password,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0042v:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 2:17 AM;rameshthoomu;Published fabric, fabric-ca and javaenv images.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-13396,36329,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 3:25 AM,28/Oct/23 3:04 AM,21/Dec/18 3:25 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00433:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag repositories for 1.4.0-rc2,FAB-13403,36336,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 4:40 AM,28/Oct/23 3:04 AM,21/Dec/18 4:40 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.4.0-rc1 -F release_notes/v1.4.0-rc1.txt

{{% git push origin v1.4.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java ad fabric-samples (use v1.4.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.4.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.4.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.4.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0044n:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release-1.4 branches,FAB-13404,36337,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,21/Dec/18 7:54 AM,28/Oct/23 3:04 AM,21/Dec/18 7:54 AM,,,,,,v1.4.0,,,,,,,,0,,,,"cut release-1.4 branch for fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-samples",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0044v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 7:54 AM;denyeart;Will do fabric-samples upon final v1.4.0 release day.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-13405,36338,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,rameshthoomu,denyeart,20/Dec/18 8:50 PM,21/Dec/18 4:40 AM,28/Oct/23 3:04 AM,21/Dec/18 4:40 AM,,,,,,v1.4.0,,,,fabric-ci,fabric-docs,fabric-release,,0,,,,Verify readthedocs version release-1.4 gets built and published from release-1.4 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i00453:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update Fabric README (if not done in release CR),FAB-13406,36339,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,20/Dec/18 8:50 PM,21/Dec/18 3:26 AM,28/Oct/23 3:04 AM,21/Dec/18 3:26 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,Update Fabric README (if not done in release CR).,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0045b:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-samples for 1.4.0-rc2 release,FAB-13407,36340,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,20/Dec/18 8:50 PM,21/Dec/18 7:49 AM,28/Oct/23 3:04 AM,21/Dec/18 7:49 AM,,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.4 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0045j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Dec/18 5:31 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/28338/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-13408,36341,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,20/Dec/18 8:50 PM,24/Dec/18 11:35 PM,28/Oct/23 3:04 AM,24/Dec/18 11:35 PM,,,,,,v1.3.0,,,,fabric-release,,,,0,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0045r:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.4.0""",FAB-13409,36342,36321,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,20/Dec/18 8:50 PM,21/Dec/18 6:43 AM,28/Oct/23 3:04 AM,21/Dec/18 6:43 AM,,,,,,v1.3.0,,,,fabric-samples,,,,0,,,,"*AFTER V1.4.0 ONLY... NOT AFTER V1.4.0-RC1.*

After creating release-1.4 branch, pin the fabric samples to use version ""~1.4.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.4 branch with the 1.4.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.4 branch, before fabric-samples is tagged with ""v1.4.0"".

 

*Clarification - for v1.4.0-rc1 node sdk had a release, therefore we pinned at ""1.4.0-rc1"" until final release.*",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i0045z:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in comm TestServerInterceptors,FAB-13411,36351,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,20/Dec/18 11:27 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,05/Jan/19 6:49 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,ci-flake,,,"failing test in ci: https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7398/console

I've seen this once or twice before but don't have pointers to builds.

{code}
22:56:24 2018-12-20 03:47:17.612 UTC [ConnProducer] DisableEndpoint -> WARN 001 Only 1 endpoint remained, will not black-list it
22:56:24 --- FAIL: TestServerInterceptors (0.01s)
22:56:24     <autogenerated>:1: 
22:56:24         	Error Trace:	server_test.go:1832
22:56:24         	Error:      	Not equal: 
22:56:24         	            	expected: ""EOF""
22:56:24         	            	actual  : ""error from interceptor""
22:56:24         	            	
22:56:24         	            	Diff:
22:56:24         	            	--- Expected
22:56:24         	            	+++ Actual
22:56:24         	            	@@ -1 +1 @@
22:56:24         	            	-EOF
22:56:24         	            	+error from interceptor
22:56:24         	Test:       	TestServerInterceptors
22:56:24         	Messages:   	Expected error from second ssi
22:56:24 2018-12-20 03:47:19.273 UTC [ConnProducer] NewConnection -> ERRO 003 Failed connecting to a , error: Failed connecting to a
22:56:24 2018-12-20 03:47:19.426 UTC [ConnProducer] NewConnection -> ERRO 004 Failed connecting to b , error: Failed connecting to b
22:56:24 2018-12-20 03:47:19.427 UTC [ConnProducer] NewConnection -> ERRO 005 Failed connecting to c , error: Failed connecting to c
22:56:24 2018-12-20 03:47:19.427 UTC [ConnProducer] NewConnection -> ERRO 006 Failed connecting to a , error: Failed connecting to a
22:56:24 2018-12-20 03:47:20.056 UTC [comm] GetPeerCredentials -> WARN 007 Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
22:56:24 2018-12-20 03:47:20.708 UTC [comm] GetDeliverServiceCredentials -> ERRO 008 Attempted to obtain root CA certs of a non existent channel: C
22:56:24 FAIL
22:56:24 coverage: 91.0% of statements
22:56:24 FAIL	github.com/hyperledger/fabric/core/comm	9.984s
{code}",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12178,,,,,,,,,,,,,,,,,,,,,,,,,,,,"20/Dec/18 11:27 PM;sykesm;console-timestamp.log.txt;https://jira.hyperledger.org/secure/attachment/16472/console-timestamp.log.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00473:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Dec/18 1:37 AM;sykesm;This flake can occur when the context provided to the empty service client times out before stream.Send is called.;;;","21/Dec/18 3:39 AM;sykesm;So, this can surface in other ways. If stream.Send fails, the error for that gets returned instead of stream error.

The structure of the test does not require Send to get called as the second interceptor just returns an error. So, if the stream gets torn down fast enough, send will return an EOF error and that gets returned instead of the stream error.

This is just a plain old race.;;;","21/Dec/18 3:59 AM;sykesm;https://gerrit.hyperledger.org/r/28333 [FAB-13411] fix flake in TestServerInterceptors;;;","05/Jan/19 5:44 AM;denyeart;Cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/28492/;;;",,,,,,,,,,,,,,,,,,,,,
PTE break queryblock into batch,FAB-13412,36352,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,20/Dec/18 11:58 PM,21/Dec/18 3:43 AM,28/Oct/23 3:04 AM,21/Dec/18 3:43 AM,,,,,,,,,,fabric-quality,,,,0,,,,Divide queryblock into 100 blocks per batch.,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i0047b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,release-1.3,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"21/Dec/18 12:04 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28328/;;;",,,,,,,,,,,,,,,,,,,,,,,,
NL update,FAB-13414,36355,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,21/Dec/18 4:27 AM,17/Jan/19 9:51 AM,28/Oct/23 3:04 AM,05/Jan/19 7:13 AM,,,,,,,,,,fabric-quality,,,,0,,,,Update Network Launcher to v1.4,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|i0047z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"21/Dec/18 4:36 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28336/;;;",,,,,,,,,,,,,,,,,,,,,,,,
DRY UpdateConsensusMetadata by adding consensus specific metadata functions,FAB-13415,36356,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,21/Dec/18 6:48 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,22/Dec/18 1:04 AM,,,,,,,,,,fabric-orderer,,,,0,,,,,,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00487:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Dec/18 1:03 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28346/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"SideDB - Reconciliation when add org and join peer, with two private collections",FAB-13416,36357,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,dongming,scottz,scottz,21/Dec/18 7:24 AM,01/Aug/19 6:29 AM,28/Oct/23 3:04 AM,01/Aug/19 6:29 AM,v1.4.1,,,,,,,,,fabric-quality,,,,0,,,,"This is similar to running 11772 and 11773 together, while using 2 private collections. It is a good candidate for a single regression test to use in future releases to cover most variations of SideDB Reconciliation.

*+*Setup:*+ 
Network Topology: 1 channel, 5 orgs, 2 peers per org, each peer with CouchDB container for stateDB, 3 kafka, 1 zookeepers, 3 orderers, 2 ca, TLS enabled.
+When start network+:
* Join all peers in org1,org2,org3,org4 to the channel, and join org5.peer0 too but *do not join org5.peer1 yet* 
* Submit the anchor peer updates for all orgs.
* Put only the peers in org1,org2,org3,org4 (NOT org5) in both the private collections from the start
* set BTL=0 (no purge)

Client Driver: PTE
+Traffic patterns+:  Require 2 endorsements (1 peer from any 2 orgs), and send traffic using 16 traffic patterns:
# public creates put (without private data), send to org1,org2 with privateCollection1
# sidedb creates putPrivate *push=0, required=0*, send to org1,org2 with privateCollection1
# sidedb creates putPrivate *push=7, required=0*, send to org1,org2 with privateCollection1
# sidedb creates putPrivate *push=7, required=7*, send to org1,org2 with privateCollection1
# public updates getPut (without private data), send to org1,org2 with privateCollection1
# sidedb updates getPutPrivate *push=0, required=0*, send to org1,org2 with privateCollection1
# sidedb updates getPutPrivate *push=7, required=0*, send to org1,org2 with privateCollection1
# sidedb updates getPutPrivate *push=7, required=7*, send to org1,org2 with privateCollection1
AND
Duplicate the same 8 traffic patterns but instead use org3,org4 with privateCollection2

+*Test Steps:*+

1) chaincode: install only one chaincode on all peers, https://github.com/hyperledger/fabric/blob/master/examples/chaincode/go/map/map.go
Join only the peers in orgs 1-4 to the channel1, plus org5.peer0. Do include all peers in orgs 1-4 (but neither peer in org5) in the privatedb collections definitions, and instantiate on channel1 on org1peer0.

2) Send 16 traffic threads of invokes as defined above, each 10,000 TXs

3) *Add org5 to both of the collections*:
* Perform a cc upgrade (instantiate a new chaincode version) along with new privatedb collection files. Org5peer0 is in the channel, so this will cause it to start reconciliation for both private collections.

4) *Add/join a new peer org5peer1 to the channel, which already contains a large chain with large amount of private data history, to force this new peer to catch up all ledger blocks AND start reconciliation for both private collection chains.

5) Simultaneously send transactions to all peers (see the patterns above, plus add some to invoke on org5 peers), WHILE Query ALL types of the transactions on the newly joined org peers


Analyze TPS on all peers, and ensure all queries work (after the reconciliation is done). Note: we may need to use longer pte query timeout values. And/or to configure a reduced timeout value in the peer from 60 secs to 1 or 2 secs to hurry things along (refer to FAB-10599 for details).

+*Report Results in fields TestResult and TestDetails:*+
1) hardware setup
2) Observe if TPS achieved for queries is too slow, or any other problems
3) CPU and memory usage for the Peers and CouchDB containers",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11773,FAB-11772,FAB-16074,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10082,,,No,,Unset,No,,,"1|i0048f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"SideDB - Reconciliation, with purge, BTL > 0",FAB-13417,36358,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,,scottz,scottz,21/Dec/18 7:29 AM,11/Jan/21 2:35 AM,28/Oct/23 3:04 AM,11/Jan/21 2:35 AM,v1.4.1,,,,,Future,,,,fabric-quality,,,,0,,,,"Rerun existing testcase, such as 13416 or 11772 or 11773, using purge functionality by setting BTL = 1000 or other suggested value.
This was functionally tested, but we could consider adding this to the k8s test suite, along with the reconciliation test. Otherwise, we could just close this.",,btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11772,FAB-11773,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-16061,,,No,,Unset,No,,,"1|i0048n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,System Test,,(Please add usage information),btl5037,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/21 2:10 AM;btl5037;As part of backlog grooming closing issue as stale. Issue can be reopened in the future.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make message dissemination in etcdraft UT framework more flexible and deterministic,FAB-13418,36361,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,guoger,guoger,21/Dec/18 12:43 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-orderer,,,,0,raft,stale-item,,"The etcdraft UT framework mocks {{cluster.RPC}} by calling the RPC method on dest node in a goroutine, if dest is not stopped/unstarted, nor disconnected, see [here|https://github.com/hyperledger/fabric/blob/6e56e6e30274579b1895d84980a4bd5b8950a52e/orderer/consensus/etcdraft/chain_test.go#L2441-L2467].

However, this does not give us much flexibility to make assertions on messages being exchanged on RPC. We should implement a producer/consumer queue, where filters and rules can be applied. One potential useful case can be:
bq. After node 1 sends X messages of type A to node 2, drop subsequent Y messages of type B sent from node 1 to node 2, and then resume. (X,Y are integers)
or
bq. Wait till Z messages of type C are sent from node 1 to 2, and perform certain assertions afterwards.

This can also make UT more deterministic and i believe this can be useful for future consensus implementations, i.e. BFT.

/cc [~kchristidis] [~C0rWin]",,guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0049b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"05/Jan/19 2:38 AM;kchristidis;I like this idea and I'm all for it. Thanks for documenting this.;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
SIGSEGV when running the peer,FAB-13419,36365,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,rsoeldner,rsoeldner,21/Dec/18 5:49 PM,24/Nov/20 12:26 AM,28/Oct/23 3:04 AM,24/Nov/20 12:26 AM,v1.3.0,,,,,,,,,fabric-peer,,,,1,,,,"Hi,

running the peer yields in
{code:java}
 peer0.org1.example.com    | 2018-12-21 08:39:17.707 UTC [nodeCmd] func8 -> INFO 0e5 Starting profiling server with listenAddress = 0.0.0.0:6060 
 peer0.org1.example.com    | fatal error: unexpected signal during runtime execution 
 peer0.org1.example.com    | [signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x7f20d025d259] 
 peer0.org1.example.com    |  
 peer0.org1.example.com    | runtime stack: 
 peer0.org1.example.com    | runtime.throw(0x111434c, 0x2a) 
 peer0.org1.example.com    |     /opt/go/src/runtime/panic.go:616 +0x81 
 peer0.org1.example.com    | runtime.sigpanic() 
 peer0.org1.example.com    |     /opt/go/src/runtime/signal_unix.go:372 +0x28e 
 peer0.org1.example.com    |  
 peer0.org1.example.com    | goroutine 212 [syscall]: 
 peer0.org1.example.com    | runtime.cgocall(0xd23670, 0xc422b53df8, 0x29) 
 peer0.org1.example.com    |     /opt/go/src/runtime/cgocall.go:128 +0x64 fp=0xc422b53db8 sp=0xc422b53d80 pc=0x402134 
 peer0.org1.example.com    | net._C2func_getaddrinfo(0xc422a3cc60, 0x0, 0xc422a43da0, 0xc4204ea118, 0x0, 0x0, 0x0) 
 peer0.org1.example.com    |     _cgo_gotypes.go:92 +0x55 fp=0xc422b53df8 sp=0xc422b53db8 pc=0x5f6bc5 
 peer0.org1.example.com    | net.cgoLookupIPCNAME.func1(0xc422a3cc60, 0x0, 0xc422a43da0, 0xc4204ea118, 0x17, 0x17, 0xc422b6e2c0) 
 peer0.org1.example.com    |     /opt/go/src/net/cgo_unix.go:149 +0x13b fp=0xc422b53e40 sp=0xc422b53df8 pc=0x5fd92b 
 peer0.org1.example.com    | net.cgoLookupIPCNAME(0xc42003a0db, 0x16, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) 
 peer0.org1.example.com    |     /opt/go/src/net/cgo_unix.go:149 +0x174 fp=0xc422b53f38 sp=0xc422b53e40 pc=0x5f8234 
 peer0.org1.example.com    | net.cgoIPLookup(0xc422b70180, 0xc42003a0db, 0x16) 
 peer0.org1.example.com    |     /opt/go/src/net/cgo_unix.go:201 +0x4d fp=0xc422b53fc8 sp=0xc422b53f38 pc=0x5f88fd 
 peer0.org1.example.com    | runtime.goexit() 
 peer0.org1.example.com    |     /opt/go/src/runtime/asm_amd64.s:2361 +0x1 fp=0xc422b53fd0 sp=0xc422b53fc8 pc=0x45bb01 
 peer0.org1.example.com    | created by net.cgoLookupIP 
 peer0.org1.example.com    |     /opt/go/src/net/cgo_unix.go:211 +0xaf
 {code}

From [here|https://www.codementor.io/alibabacloud/hyperledger-fabric-deployment-on-alibaba-cloud-environment-sigsegv-problem-analysis-and-solutions-naxdqprd6] I found the environment variable, 
{code:java}
GODEBUG=netdns=go
{code}

Which fixed the error, but now I'm not able to find other peers 

{code:java}
 [] peer1.org1.example.com:7051 <nil> <nil>} : context deadline exceeded
peer0.org1.example.com    | 2018-12-21 08:45:30.939 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0e7 Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:35.939 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0e8 Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:40.939 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0e9 Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:45.940 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0ea Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:50.939 UTC [gossip/discovery] periodicalReconnectToDead -> DEBU 0eb Sleeping 25s
peer0.org1.example.com    | 2018-12-21 08:45:50.940 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0ec Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:55.940 UTC [gossip/discovery] periodicalSendAlive -> DEBU 0ed Sleeping 5s
peer0.org1.example.com    | 2018-12-21 08:45:56.941 UTC [gossip/discovery] func1 -> WARN 0ee Could not connect to {peer1.org1.example.com:7051 [] [] peer1.org1.example.com:7051 <nil> <nil>} : context deadline exceeded
{code}

*System*
Docker 18.09.0
go 1.11
OS: NixOS
",,knagware9,mahoney1,manish-sethi,mastersingh24,mrudav.shukla,rsoeldner,siddjain,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-5822,FAB-14803,,,,,FAB-5822,,,,,,,,,,,,,,,,,,,,,,"21/Dec/18 5:48 PM;rsoeldner;.env;https://jira.hyperledger.org/secure/attachment/16475/.env","22/Jan/20 10:59 PM;mrudav.shukla;chaincode_installation_logs.txt;https://jira.hyperledger.org/secure/attachment/18059/chaincode_installation_logs.txt","21/Dec/18 5:47 PM;rsoeldner;configtx.yaml;https://jira.hyperledger.org/secure/attachment/16480/configtx.yaml","21/Dec/18 5:47 PM;rsoeldner;crypto-config.yaml;https://jira.hyperledger.org/secure/attachment/16478/crypto-config.yaml","21/Dec/18 5:47 PM;rsoeldner;docker-compose-base.yaml;https://jira.hyperledger.org/secure/attachment/16477/docker-compose-base.yaml","21/Dec/18 5:47 PM;rsoeldner;docker-compose-cli.yaml;https://jira.hyperledger.org/secure/attachment/16479/docker-compose-cli.yaml","21/Dec/18 5:47 PM;rsoeldner;peer-base.yaml;https://jira.hyperledger.org/secure/attachment/16476/peer-base.yaml",,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0049j:",,,,Unset,Unset,,,"1. cryptogen generate --config./crypto-config.yaml
2. export FABRIC_CFG_PATH=$PWD
   mkdir channel-artifacts
   configtxgen -profile TwoOrgsOrdererGenesis -channelID byfn-sys-channel -outputBlock ./channel-artifacts/genesis.block
3. creating channel configuration
   configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID ""mychannel""
   configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID ""mychannel"" -asOrg Org1MSP
   configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID ""mychannel"" -asOrg Org2MSP
4. docker-compose -f docker-compose-cli.yaml up
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),knagware9,mahoney1,manish-sethi,mastersingh24,mrudav.shukla,rsoeldner,siddjain,sykesm,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 8:10 AM;sykesm;I'm assuming you're using the fabric images that are published by the project...

The peer image that's published to docker hub is built as a statically linked binary, but cgo isn't explicitly disabled. What that means in practice is that the binary includes some golang code that makes use of cgo. One of these bits of code is is the cgo implementation of DNS resolution. This gets highlighted during the build:

{code}
/tmp/go-link-851602395/000004.o: In function `_cgo_18049202ccd9_C2func_getaddrinfo':
/tmp/go-build/cgo-gcc-prolog:49: warning: Using 'getaddrinfo' in statically linked applications requires at runtime the shared libraries from the glibc version used for linking 
{code}

In most cases, the pure go implementation of DNS resolution is used but, in some scenarios [1], go will try to use the native resolver library through cgo. This appears to be what is happening in your environment and is probably necessary for your configuration given  {{GODEBUG=netdns=go}} is unable to resolve the names.

Unfortunately, use of dlopen from a static binary is known to have issues. I'd recommend you try to find out why netgo isn't viable in your environment or attempt to build a peer without the static flags.

1: https://golang.org/pkg/net/#hdr-Name_Resolution;;;","18/Jan/19 9:32 PM;sykesm;A couple of notes:
- We’ve recently moved to an alpine based image in master and no longer build static by default. This should improve things in future releases.
- https://gist.github.com/sykesm/13d33764b49dd0e7ea6ff5aae1b8da6a contains a simple program that will segfault when linked statically due to name resolution;;;","18/Feb/19 8:37 PM;knagware9;I am still getting this issue ,

2019-02-18 11:34:44.207 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00d Exit with ccEndpoint: peer0.org1.example.com:70522019-02-18 11:34:44.207 UTC [nodeCmd] computeChaincodeEndpoint -> INFO 00d Exit with ccEndpoint: peer0.org1.example.com:70522019-02-18 11:34:44.207 UTC [nodeCmd] createChaincodeServer -> WARN 00e peer.chaincodeListenAddress is not set, using peer0.org1.example.com:7052fatal error: unexpected signal during runtime execution[signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x7f1d38323259]
runtime stack:runtime.throw(0x123f0ff, 0x2a) /opt/go/src/runtime/panic.go:608 +0x72runtime.sigpanic() /opt/go/src/runtime/signal_unix.go:374 +0x2f2
goroutine 88 [syscall]:runtime.cgocall(0xe1bdc0, 0xc0003cf600, 0x29) /opt/go/src/runtime/cgocall.go:128 +0x5e fp=0xc0003cf5c8 sp=0xc0003cf590 pc=0x4039eenet._C2func_getaddrinfo(0xc00047da40, 0x0, 0xc000319980, 0xc00000e2e0, 0x0, 0x0, 0x0) _cgo_gotypes.go:92 +0x55 fp=0xc0003cf600 sp=0xc0003cf5c8 pc=0x615b95net.cgoLookupIPCNAME.func1(0xc00047da40, 0x0, 0xc000319980, 0xc00000e2e0, 0x17, 0x17, 0xc00018de60) /opt/go/src/net/cgo_unix.go:149 +0x131 fp=0xc0003cf648 sp=0xc0003cf600 pc=0x61b2b1net.cgoLookupIPCNAME(0xc00047d760, 0x16, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0) /opt/go/src/net/cgo_unix.go:149 +0x153 fp=0xc0003cf738 sp=0xc0003cf648 pc=0x617153net.cgoIPLookup(0xc000338660, 0xc00047d760, 0x16) /opt/go/src/net/cgo_unix.go:201 +0x4d fp=0xc0003cf7c8 sp=0xc0003cf738 pc=0x61780druntime.goexit() /opt/go/src/runtime/asm_amd64.s:1333 +0x1 fp=0xc0003cf7d0 sp=0xc0003cf7c8 pc=0x45dc81created by net.cgoLookupIP /opt/go/src/net/cgo_unix.go:211 +0xad;;;","28/May/19 9:11 PM;mahoney1;[~sykesm] I've seen the CGO issue surface too, so just adding a comment here - I am using 1.4.1 images just fyi.  In my case, I'm starting a local Fabric using the VS Code extension on Ubuntu 18.04.2 LTS bionic. Are we saying the resolution is to explicitly set the `- GODEBUG=netdns=go` in your environment section (ie for the nodes in your Fabric docker-compose file - which of course works fine, and I can set it)?. 

[5/28/2019 12:01:30 PM] [INFO] Hyperledger Fabric started in 2 seconds
[5/28/2019 12:01:30 PM] [INFO] 2019-05-28 12:01:30.629 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
[5/28/2019 12:01:30 PM] [INFO] Error: received bad response, status 500: Invalid chain ID, mychannel
[5/28/2019 12:01:30 PM] [INFO] 2019-05-28 12:01:30.847 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
[5/28/2019 12:01:30 PM] [INFO] fatal error: unexpected signal during runtime execution
[5/28/2019 12:01:30 PM] [INFO] [signal SIGSEGV: segmentation violation code=0x1 addr=0x63 pc=0x7f328cba6259]
[5/28/2019 12:01:30 PM] [INFO] runtime stack:
[5/28/2019 12:01:30 PM] [INFO] runtime.throw(0x1272c18, 0x2a)
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/runtime/panic.go:608 +0x72
[5/28/2019 12:01:30 PM] [INFO] runtime.sigpanic()
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/runtime/signal_unix.go:374 +0x2f2
[5/28/2019 12:01:30 PM] [INFO] goroutine 50 [syscall]:
[5/28/2019 12:01:30 PM] [INFO] runtime.cgocall(0xe455e0, 0xc000455600, 0x29)
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/runtime/cgocall.go:128 +0x5e fp=0xc0004555c8 sp=0xc000455590 pc=0x4039ee
[5/28/2019 12:01:30 PM] [INFO] net._C2func_getaddrinfo(0xc000162480, 0x0, 0xc00012b1a0, 0xc0001720c0, 0x0, 0x0, 0x0)
[5/28/2019 12:01:30 PM] [INFO] _cgo_gotypes.go:91 +0x55 fp=0xc000455600 sp=0xc0004555c8 pc=0x616c85
[5/28/2019 12:01:30 PM] [INFO] net.cgoLookupIPCNAME.func1(0xc000162480, 0x0, 0xc00012b1a0, 0xc0001720c0, 0x14, 0x14, 0xbf3366a6f294461d)
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/net/cgo_unix.go:149 +0x131 fp=0xc000455648 sp=0xc000455600 pc=0x61c3b1
[5/28/2019 12:01:30 PM] [INFO] net.cgoLookupIPCNAME(0x7ffd3d8faae3, 0x13, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/net/cgo_unix.go:149 +0x153 fp=0xc000455738 sp=0xc000455648 pc=0x618243
[5/28/2019 12:01:30 PM] [INFO] net.cgoIPLookup(0xc000141680, 0x7ffd3d8faae3, 0x13)
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/net/cgo_unix.go:201 +0x4d fp=0xc0004557c8 sp=0xc000455738 pc=0x6188fd
[5/28/2019 12:01:30 PM] [INFO] runtime.goexit()
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/runtime/asm_amd64.s:1333 +0x1 fp=0xc0004557d0 sp=0xc0004557c8 pc=0x45de51
[5/28/2019 12:01:30 PM] [INFO] created by net.cgoLookupIP
[5/28/2019 12:01:30 PM] [INFO] /opt/go/src/net/cgo_unix.go:211 +0xad
[5/28/2019 12:01:30 PM] [INFO] goroutine 1 [select]:
[5/28/2019 12:01:30 PM] [INFO] github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).WaitForStateChange(0xc000229080, 0x13b7a60, 0xc000140ea0, 0x1, 0xc00018b301)

 ;;;","07/Jul/19 8:13 PM;mastersingh24;Not sure if there's anything we should really do at this point for the 1.4.x line .... we could explicitly try to disable cgo in our static builds ... but I think moving forward with 2.x things should generally be fine.;;;","09/Jul/19 3:33 AM;sykesm;> Are we saying the resolution is to explicitly set the `- GODEBUG=netdns=go` in your environment section (ie for the nodes in your Fabric docker-compose file - which of course works fine, and I can set it)?.

You should try that. It will force the go runtime to use the pure-go implementation of DNS resolution under linux. If you have a conventional /etc/resolv.conf with a {{nameserver}} line that points to an address that can resolve the names used within your environment, you should be fine. If not, we don't have a good answer until the 2.x stream.

Details on the resolution constraints are in the go source: https://golang.org/src/net/net.go;;;","20/Jan/20 11:08 PM;mrudav.shukla;I have my setup on aws eks. For the peer and orderer, I have created my custom images from hyperledger/fabric-peer:1.4.3 and hyperledger/fabric-orderer:1.4.3 and I am pushing and pulling them from aws elastic container repositories. I have been able to setup the network, the peers are able to create and join the channel. When I try to install the chaincode in the peer, I get the following error:

 
{code:java}
fatal error: unexpected signal during runtime execution
[signal SIGSEGV: segmentation violation code=0x1 addr=0xe5 pc=0x7f91000763f8]
runtime stack:
runtime.throw(0x128d76a, 0x2a)
 /opt/go/src/runtime/panic.go:608 +0x72
runtime.sigpanic()
 /opt/go/src/runtime/signal_unix.go:374 +0x2f2
goroutine 1 [syscall]:
runtime.cgocall(0xe5b6c0, 0xc00043ed40, 0x29)
{code}
 

 

However, when I retry consequently, out of 10, 3 times the request completes successfully. Of course, considering if the chaincode is already installed, it shows an appropriate message.

 

Another thing that I noted is if I use any of the fabric-samples chaincode, say, fabcar. I am able install and instantiate it successfully each time.

Referring to this ticket, I have also checked if GODEBUG path is set correctly in the container and it is set to netdns=go. What could be the cause of this error?

Apart from this, I am not able to instantiate the installed chaincode as well, the peer logs shows the following error:
2020-01-20 12:10:04.166 UTC [endorser] SimulateProposal -> ERRO fe33d [testchannel][526d30b4] failed to invoke chaincode name:""lscc"" , error: container exited with 12020-01-20 12:10:04.166 UTC [endorser] SimulateProposal -> ERRO fe33d [testchannel][526d30b4] failed to invoke chaincode name:""lscc"" , error: container exited with 1github.com/hyperledger/fabric/core/chaincode.(*RuntimeLauncher).Launch.func1 /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/runtime_launcher.go:63runtime.goexit /opt/go/src/runtime/asm_amd64.s:1333chaincode registration failed
 

Is it that I've to build my peer images using hyperledger/fabric-peer:amd64-1.4.3 rather than hyperledger/fabric-peer:1.4.3?;;;","22/Jan/20 4:53 AM;mastersingh24;[~mrudav.shukla] - are you seeing this error when you try to use the peer as a CLI to install chaincode or is your actual peer crashing?
Might be helpful if we can see a bit more of the log.;;;","22/Jan/20 10:59 PM;mrudav.shukla;[~mastersingh24]: Yes. I am using peer as a CLI to install the chaincode. Attaching the complete logs here: [^chaincode_installation_logs.txt]

 

 ;;;","22/Jan/20 11:44 PM;sykesm;From the logs, you're hitting the other bit of the go runtime that requires cgo: the user and groups from /etc/passwd and friends.

Same basic problems with uid/gid and DNS. When the binaries are built as static, go cannot use the necessary cgo functions.

Same suggestion: build a dynamically linked peer and peer cli and this problem will go away.;;;","24/Nov/20 12:26 AM;manish-sethi;Please feel free to open if you see a real issue in this context.;;;",,,,,,,,,,,,,,
pvtdata fetch error on committer peer,FAB-13420,36366,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Works as Expected,C0rWin,sae imSon,sae imSon,21/Dec/18 6:19 PM,13/Aug/19 11:44 PM,28/Oct/23 3:04 AM,03/Jan/19 12:19 AM,v1.2.0,,,,,,,,,fabric-gossip,,,,1,,,,"My fabric environment is on cloud.

3 endorsing peers (AND policy)

2 committer peers (no chaincode installed)

5 pvt collections are defined.  Each collection name followed org's MSP id so each org's private data is protected and accessed by only owner org.

I could see tx in pvtdataledger of 3 endorsing peers but not committer peers.

Committer's log and collection file, endorsing policy shows below.

==========================================================

^[[36m2018-12-21 17:54:24.932 KST [gossip/discovery] periodicalSendAlive -> DEBU 2a96^[[0m Sleeping 5s
^[[36m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> DEBU 2a97^[[0m Total members in channel: []
^[[36m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> DEBU 2a98^[[0m Total members that fit some digest: []
^[[33m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> WARN 2a99^[[0m Do not know any peer in the channel( kosgldcurkrw ) that matches the policies , aborting
^[[33m2018-12-21 17:54:25.238 KST [gossip/privdata] fetchFromPeers -> WARN 2a9a^[[0m Failed fetching private data for block 1832 from peers: Empty membership

===========================================================

collection

[
 {
 ""name"": ""Endorsers"",
 ""policy"": ""OR('KosOrgMSP.member', 'IssuerOrgMSP.member','Bank1OrgMSP.member')"",
 ""requiredPeerCount"": 0,
 ""maxPeerCount"": 3,
 ""blockToLive"":0
 },

{
 ""name"": ""IssuerOrgMSP"",
 ""policy"": ""OR('KosOrgMSP.member', 'IssuerOrgMSP.member','Bank1OrgMSP.member')"",
 ""requiredPeerCount"": 0,
 ""maxPeerCount"": 3,
 ""blockToLive"":0
 },

{
 ""name"": ""Bank1OrgMSP"",
 ""policy"": ""OR('KosOrgMSP.member', 'IssuerOrgMSP.member','Bank1OrgMSP.member')"",
 ""requiredPeerCount"": 0,
 ""maxPeerCount"": 3,
 ""blockToLive"":0
 },

{
 ""name"": ""Firm1OrgMSP"",
 ""policy"": ""OR('Firm1OrgMSP.member','KosOrgMSP.member', 'IssuerOrgMSP.member','Bank1OrgMSP.member')"",
 ""requiredPeerCount"": 0,
 ""maxPeerCount"": 4,
 ""blockToLive"":0
 },

{
 ""name"": ""Firm2OrgMSP"",
 ""policy"": ""OR('Firm2OrgMSP.member','KosOrgMSP.member', 'IssuerOrgMSP.member','Bank1OrgMSP.member')"",
 ""requiredPeerCount"": 0,
 ""maxPeerCount"": 4,
 ""blockToLive"":0
 }


]

==========================================================

endorse policy


 -P ""AND ('KosOrgMSP.member','IssuerOrgMSP.member', 'Bank1OrgMSP.member')"" \

 ",,C0rWin,denyeart,nextisd,sae imSon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Dec/18 3:28 PM;sae imSon;pvterror.log;https://jira.hyperledger.org/secure/attachment/16481/pvterror.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0049r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,nextisd,sae imSon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Dec/18 5:21 PM;C0rWin;{quote}
[[36m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> DEBU 2a97[[0m Total members in channel: []
[[36m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> DEBU 2a98[[0m Total members that fit some digest: []
[[33m2018-12-21 17:54:25.238 KST [gossip/privdata] fetch -> WARN 2a99[[0m Do not know any peer in the channel( kosgldcurkrw ) that matches the policies , aborting
{quote}

can you check whenever you have proper configuration of the anchor peers? how many organizations do you have? also would it be possible to attach your log files?;;;","24/Dec/18 3:27 PM;sae imSon;*1. consortium* 
 total 5 orgs
 3 orgs have two endorser peers each.
 the rest 2 orgs have one committer peers each. anchor peer is not configurated for these two orgs since each org has only one peers.
 In addition,  pvt gossip has no problem without anchor peer configuration in vagrant env with exactly same consortium setup.  
  
 *2. log file*
 full log file is too big so I 'grep' pvt error part.;;;","24/Dec/18 11:46 PM;denyeart;[~sae imSon] Is the problem reproducible for every transaction?  Does it happen on an org with 1 peer or an org with 2 peers?  Are you sure you are endorsing on the org that owns the collection?  If you endorse on a peer that doesn't own the collection, it will not save the private data, and if gossip is not configured for cross-org communication (anchor peers), it will not push the data to collection members, and the data will be lost.

I recommend look at debug for one transaction (endorsement and commit) for the following components. :

{color:#34bc26}gossip.privdata,transientstore,ledgerstorage,pvtdatastorage{color}

{color:#34bc26} {color};;;","27/Dec/18 1:13 PM;sae imSon;Problem is solved by below tasks.
 # clear existing ledger.  
 # create and apply anchor update tx for all peers. -> I still don't understand why anchor peer info for each org is not reflected, even though it was defined in configtx.yaml
 # set up external endpoint of all peers. ;;;",,,,,,,,,,,,,,,,,,,,,
Prepare for chaincode publish,FAB-13422,36371,,Task,Closed,FAB,Fabric,software,denyeart,,,High,Done,mbwhite,mbwhite,mbwhite,21/Dec/18 8:11 PM,15/Jul/19 8:28 PM,28/Oct/23 3:04 AM,21/Dec/18 9:11 PM,,,,,,,,,,,,,,0,,,,"Specifically to address issues with x509 level

release-1.3

https://gerrit.hyperledger.org/r/28344 [FAB-13422] Publish 1.3.2",,mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004af:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mbwhite,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Assertion error in daily lte tests, perf_couchdb.test_FAB_3875 in one build.",FAB-13424,36375,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,AdnanChoudhury,sambhavdutt,sambhavdutt,22/Dec/18 4:30 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,28/Dec/18 4:24 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"There was an Assertion error observed in *perf_couchdb.test_FAB_3875_VaryBatchSize* , varyBatchSize for CouchDB performance test failed. This test took 4 hours starting at 7:40 PM which is the usual time for daily lte tests. 

Intermittent: No

Branch: release-1.4

Error Snippet:

{code:java}
""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh ""
23:46:24                 ""varyBatchSize"", shell=True, stderr=subprocess.STDOUT,
23:46:24                 stdout=logfile, cwd=tool_directory)
23:46:24         logfile.close()
23:46:24         self.assertEqual(returncode, 0, msg=""varyBatchSize for CouchDB ""
23:46:24                 ""performance test failed. \nPlease check the logfile ""
23:46:24 >               +logfile.name+"" for more etails."")
.
AssertionError: varyBatchSize for CouchDB performance test failed.
ledger_lte.py:322: AssertionError
{code}

This may not be a high priority as there was outage in some on the x nodes which failed other tests too. 

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-release-1.4-x86_64/5/",,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,380fde3,Unset,No,,,"1|i004b3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add e2e test for verifying that a removed org does not receive new pvt data,FAB-13425,36376,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,22/Dec/18 5:00 AM,30/Dec/18 8:38 PM,28/Oct/23 3:04 AM,30/Dec/18 8:38 PM,,,,,,,,,,fabric-gossip,,,,0,,,,,,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004bb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Dec/18 8:38 PM;mastersingh24;https://gerrit.hyperledger.org/r/28353;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make cluster replication tests not be time dependant,FAB-13427,36378,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Dec/18 7:44 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,25/Dec/18 9:51 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"Sometimes the server is stuck for too long, and it makes the client side time out, thus the server side mock gets out of sync with the tested client side (the replication code).

",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004br:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Dec/18 8:29 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28354/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make TestReplicateChainsFailures not depend on luck,FAB-13428,36379,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,22/Dec/18 8:17 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,25/Dec/18 9:52 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,The test TestReplicateChainsFailures sometimes fails due to a redundant sending of a block.,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004bz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Dec/18 8:27 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28355/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Protect ProverPeer for panics,FAB-13430,36381,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,angelo.decaro,angelo.decaro,angelo.decaro,22/Dec/18 6:35 PM,03/Dec/19 3:22 AM,28/Oct/23 3:04 AM,12/Mar/19 10:59 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,,,"In the event that something goes wrong at the prover peer, we have to make sure that panics are caught when the prover peer endpoint is used.",,angelo.decaro,Garrett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004cf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),angelo.decaro,Garrett,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"30/Dec/18 12:49 PM;Garrett;What do you mean by ""panic"" are caught? As in throwing an error if a function does not complete?;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update Jenkinsfile to fetch the patchset on verify and clone the repo on merge,FAB-13432,36384,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,rameshthoomu,rameshthoomu,23/Dec/18 11:19 AM,02/Feb/19 5:25 AM,28/Oct/23 3:04 AM,02/Feb/19 5:25 AM,,,,,,,,,,,,,,0,,,,"The existing script is cloning the repo first and then apply the Gerrit Patchset on top of it. The existing script is doing force rebase. Modify this change in *master, release-1.3, release-1.2 and release-1.1 branches.*
 * Update Jenkinsfile to fetch the patchset on verify and clone the repo on merge.
 * Update the npm publish script to publish npm modules with the default unstable version if the version is not available on npm registry.
 * Keep node modules in a for loop instead of keeping them alone.

Follow the similar changes already made on the release-1.4 brach.

npm*-publish script:*

[https://github.com/hyperledger/fabric-chaincode-node/blob/release-1.4/scripts/Jenkins_Scripts/Publish_NPM_Modules.sh]

Jenkinsfile*:*

https://github.com/hyperledger/fabric-chaincode-node/blob/release-1.4/Jenkinsfile.x

 

 

 ",,rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004d3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Dec/18 7:12 AM;vijaypunugubati;Please check the below links for the above changes.

[https://gerrit.hyperledger.org/r/#/c/28367/]

[https://gerrit.hyperledger.org/r/#/c/28369/]

[https://gerrit.hyperledger.org/r/#/c/28371/]

 ;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update Jenkinsfile to fetch the patchset on verify and clone the repo on merge,FAB-13433,36385,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,rameshthoomu,rameshthoomu,23/Dec/18 11:23 AM,04/Jan/19 11:02 PM,28/Oct/23 3:04 AM,04/Jan/19 11:02 PM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,0,,,,"The existing script is cloning the repo first and then apply the Gerrit Patchset on top of it. The existing script is doing force rebase. Modify this change in *master, release-1.3, release-1.2 branches.*
 * Update Jenkinsfile to fetch the patchset on verify and clone the repo on merge.

Follow the similar change made on fabric-sdk-node release-1.4 branch.

Jenkinsfile*:*

https://github.com/hyperledger/fabric-sdk-node/blob/release-1.3/Jenkinsfile.x

 ",,mne,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13058,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004db:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Dec/18 3:08 AM;sambhavdutt;The CRs have been tested successfully. Wating for reviews/merge.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Configure CI pipeline for fabric-samples release-1.1 & 1.0 branches,FAB-13434,36386,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,sambhavdutt,rameshthoomu,rameshthoomu,23/Dec/18 11:25 AM,18/Apr/19 10:36 PM,28/Oct/23 3:04 AM,18/Apr/19 10:36 PM,v1.0.7,v1.1.1,,,,v1.0.7,v1.1.1,,,fabric-samples,,,,0,fabric-ci,,,"After migrate from freestyle to pipeline in fabric-samples, CI pipeline changes are not integrated in release-1.1 and 1.0 branches. Follow the similar changes made in master branch and configure CI changes in above said branches.",,rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004dj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Apr/19 10:36 PM;sambhavdutt;This change is not required in release 1.0 and 1.1 branches in fabric-samples;;;",,,,,,,,,,,,,,,,,,,,,,,,
Interoperability: Atomic commit of transactions between channels and networks,FAB-13437,36389,,Epic,Backlog,FAB,Fabric,software,denyeart,,,Medium,,praveen.j,Senthil1,Senthil1,24/Dec/18 12:08 PM,28/Aug/20 11:48 AM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,3,,,,"*Use-case for atomic transactions between two Fabric networks:* Either commit all transactions or none

Consider the following two Fabric networks
 # logistic network – a global supply chain platform for trade 
 # finance network – a trade finance platform

Consider the following two transactions
 # *T1* --> _on the logistic network,_ a shipment which belongs to user *A* is delivered by company *X* 
 # *T2* --> _on the finance network,_ a payment is made to company *X* by user *A*

*Requirement:* either commit both T1 (loading of shipment) and T2 (payment) or none",,baohua,C0rWin,dakshshah,grapebaba,hagarm,inatatsu,jmason900,lc303,logannwu,nauqnew,nileshv,praveen.j,Senthil1,seokm0,sheehan,titogelo,troyronda,vukolic,xixuejia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15584,,,,,,,,"05/Apr/19 8:41 PM;praveen.j;fabric-interoperability-v3.pptx;https://jira.hyperledger.org/secure/attachment/17074/fabric-interoperability-v3.pptx",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,Required,Unset,Required,ghx-label-10,,Interoperability,To Do,No,,Required,No,,,"1|hzwr7b:",,,,Yes,Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,C0rWin,dakshshah,grapebaba,hagarm,inatatsu,jmason900,lc303,logannwu,nauqnew,nileshv,praveen.j,Senthil1,seokm0,sheehan,titogelo,troyronda,vukolic,xixuejia,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Mar/19 3:56 AM;vukolic;The idea for using time instead of blockheight for Block Time Locks (BTL) in the proposal is simplistic and not viable. 

In bad case (asynchrony, faults), ordering service (based on a protocol designed to tolerate asynchrony such as Raft, Kafka or some BFT) cannot guarantee to emit a block every X seconds.

 

 

 

 ;;;","21/Mar/19 11:15 AM;baohua;[~vukolic], i guess the reason is that:

in bitcoin, ledger height actually guaranteed time clock, while Fabric's block emit time varies.

Hence we need to find some way to represent the time. I know this is always difficult in distributed system.

On the other hand, directly using ledger height in fabric should be OK for most cases.;;;","21/Mar/19 11:18 AM;baohua;Besides, the idea of HTLC itself is not a big problem, but definitely requires some changes to existing implementation.

Several major ones (potentially because of the EOV model):
 * waiting list;
 * send secret;
 * permissioned.;;;","21/Mar/19 2:43 PM;praveen.j;[~marko.vukolic] Yes, we have intentionally kept the time aspect very simple and approximate. Note that we need the notion of time only as a timeout, i.e., a client should have sufficient time to provide the secret to commit a transaction in HTLC. So, some clock drift can be easily tolerated. In the event that a particular use case requires synchronized clocks, we can incorporate time synchronization, but we dont think its necessary.

Further, if the logical clock based on block creation is slower than absolute time, there is no impact to safety of the protocol. It is highly unlikely that blocks will be created faster than absolute time.


Finally, as [~baohua] mentioned, directly using ledger height for timeout can be made the default option, which should work for most scenarios.;;;","21/Mar/19 9:54 PM;hagarm;I don't think that using ledger height for timeout should work for most scenarios.
In order to guaranty the atomicity of transactions the timeouts used by the HTLC most be chosen such that one is less than the other.
 However, when using ledger height to determine the time, there is no relation between the ""time"" of one channel and another channel, no assurance that one timeout is less than the other. 
 So I don't see how using the ledger height can work for any scenario.

Moreover, the other proposal of making the ordering service emit a block on a timeout (instead of block size), might solve the HTLC timeout issue, but has its own risks and effects on Fabric and needs to be carefully examined.;;;","21/Mar/19 10:12 PM;praveen.j;[~hagarm] You are right in that the rate of forming blocks in 2 channels may have no correlation whatsoever. What I intended was to say that the onus would be on the client applications to set large enough timeouts on both channels (we can provide some defaults). They would have to approximate the timeout in terms of block height in both channels independently, to cater to the needs of HTLC (one timeout being larger than the other). Clients not setting proper timeouts is a pitfall of the HTLC protocol itself (the issue is worse in blockchains that do not guarantee finality of transactions).

 

There is a risk in the ordering service emiting a block based on timeout instead of block size. The risk is that if this timeout is not properly selected, it could result in a queue build up (when load is high).

 

 

 ;;;","21/Mar/19 10:45 PM;C0rWin;[~praveen.j]
{quote}
They would have to approximate the timeout in terms of block height in both channels independently, to cater to the needs of HTLC (one timeout being larger than the other).
{quote}
Even if client could approximate the timeout, the adversary could easily construct the runaway attack by speeding up block formation.

{quote}
There is a risk in the ordering service emiting a block based on timeout instead of block size. The risk is that if this timeout is not properly selected, it could result in a queue build up (when load is high).
{quote}

Can you elaborate about the queue part? What do you suggest to do if no incoming transactions for given ordering service? Are you suggesting to emit empty blocks? IMO this is might be a bit expensive storage wise in a long term.

I think the corner stone here is the absence of time, therefore prior to going into HTLC or any timeout based models for atomic exchanges we probably need to provide convincing/reasonable solution which could provide good time approximation.;;;","22/Mar/19 4:04 AM;Senthil1;[~C0rWin]

I agree that there are both pros and cons with any proposed approach. I think the issue related to storage consumption can be handled. As you know, we will be working on the checkpointing and pruning (the tentative proposal is here: [https://blockchain-fabric.blogspot.com/2018/09/checkpointing-for-efficient-blockchain.html)|https://blockchain-fabric.blogspot.com/2018/09/checkpointing-for-efficient-blockchain.html] which can take care of the storage consumption issue. Without checkpointing feature also, we could save the storage space by avoid storing a lot of duplicate certificates (assume that the same set of endorsers are endorsing all transaction, we will have the same certificate in all transactions). I am just saying that there could be a lot of mechanisms to solve the storage consumption issues and hence, an empty block should not be adding much of a burden. Having said that, i agree that having an empty block looks little odd.

Other than HTLC, [~manish-sethi] and I also looked at 2-phase commit protocol which became too complex in our design. Our initial thought on this can be found here [https://blockchain-fabric.blogspot.com/2019/02/fabric-interoperability-atomic-commit.html] Though the designed protocol may not be accurate or correct, we understood the complexity and moved to the design of HTLC approach. Further, to perform an atomic commit with other platforms such as Ethereum, we need HTLC rather than 2 phase commit protocol.

As you know, there is a Jira FAB-3678 and proposal from [~elli-androulaki] [~adc] on mapping the blockchain time to real-world time to detect x509 certificate expiry. We can see whether the same proposal can be employed here or can be extended to support HTLC. Note, currently, we support block to live for the private data expiry which is defined based on the block height. If we use the elapsed time calculated approximately out of the block timeout, it could help both the private data expiry and HTLC. 

There is two major work in achieving the HTLC. One set of changes needed at the ledger and another at the orderer or some other new mechanism to express the time. Once the ledger related module for HTLC is implemented, I think the block height based, approximate elapsed time, real-time, etc... can be pluggable in to decide the duration of the lock and the trust model. IMO, both work can happen in parallel.   ;;;","25/Mar/19 8:16 PM;yacovm;I agree with [~hagarm]  that relying on block number isn't a good approach, since there is no correlation between the amount of blocks and the time that passed, and like [~C0rWin] pointed out - this exposes any protocol that relies on time to malicious attacks that artificially speed up time. 

However, I am not sure that cutting a block upon a timeout is such a bad idea, as our use case essentially can work if we have a discretization of the continuous time to periods of a certain coarse granularity.  

I'd say that aborts in cross chain transactions are rare, since the parties usually agree out of band on the details of the swap, and therefore a timeout of ~ 30 minutes would suffice, and there is no need to go any lower than that (but it should be configurable by the channel admins).

So, if we tie each data block to its corresponding half an hour time period - we can perhaps use this as a building block for a timeout.
What if we had a special field in the block that associates it to its corresponding ""time bucket"", and if we have no traffic in the channel - we emit a block once per 30 minutes.

First, let's compute the overhead of such a feature: if we have transactions then we can piggyback this to the existing blocks, so we the overhead is zero.
If we have no transactions, then we need to emit a block once per 30 minutes. A block signature signed by a CFT orderer (let's overlook BFT for now) is around 700 bytes, and there is no data in that block - just the header, so it means 700 bytes per half an hour, which sounds pretty cheap to me (an upper bound would be 12MB per year).

The hard part in this, is that leaders now need to keep track of time, which isn't possible because leaders can come and go. What we can do, is to persist in each block the time the leader created it, and then have the leader keep track of the blocks created an hour minutes ago and when 30 minutes pass - either a new ""time block"" is created, or the 30 minutes indicator is piggybacked to the next created block. This works also if the leader crashes, as the leader taking over would simply look back at the earlier blocks and then emit a time block or piggyback it upon demand. 

However, this gets complex in the Byzantine setting, as a byzantine leader might not create a block within a timely manner, and the other consenters would need to be aware of it and overthrow that leader, but at the same time - if a Byzantine leader cuts a block prematurely - it hurts the correctness of the protocol, because the Byzantine leader of the counterparty blockchain may cut blocks too late, and then the x2 timeout guarantee won't hold. 
;;;","25/Mar/19 8:20 PM;vukolic;If ordering service is to output a timestamp that resembles what humans call ""real-time"" - we should have another Jira only for that.

Doing this in BFT is not at all trivial - but it is doable with adequate assumptions.;;;","28/Mar/19 3:45 AM;praveen.j;[~yacovm] What you suggest is workable, but as both you and [~vukolic] call out, ensuring it works in a Byzantine setting could be non-trivial. Which is why we had suggested an intermediate solution of cutting blocks only on timeout and not based on size (no one can speed up block formation). We do not need a strict notion of time to enforce timeouts and a discussion on how to enforce 'real' time is an orthogonal topic that requires a separate discussion. As [~Senthil1] pointed out, how the timeout is specified and enforced can be pluggable and modified later as well.;;;",,,,,,,,,,,,,,
Chain must communicate to the Deliver that the cluster is failed,FAB-13438,36393,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,yacovm,yacovm,25/Dec/18 2:57 AM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,21/Jan/19 12:42 AM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"Currently, the deliver loop blocks until 1 of the three events happen:

# The client disconnects
# A new block is received by the iterator
# The chain's Errored()'s returned channel is closed

However, the etcdraft OSN returns the DoneC channel in the implementation of Errored(), which can only be closed one time. 
However, an OSN needs to tell a connected peer that it cannot connect to the cluster.

We need 2 things:
* Periodically try and probe the state of the *raft.Node* to see if a leader exists
* If a leader doesn't exist, we need to notify all consumers by closing the channel we returned by the *Errored()* method.",,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12709,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004f3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Dec/18 6:59 PM;guoger;We need to enable `CheckQuorum` in etcdraft so that leader can voluntarily steps down to follower, so that disconnected orderer knows when to error out;;;","27/Dec/18 7:32 PM;yacovm;We also want followers to return service unavailable to the peers/clients that connect to them, if they don't know who is the leader.;;;","05/Jan/19 11:19 AM;kchristidis;Let me be the devil's advocate for a second: why should we drop the Deliver RPC if the cluster is temporarily leaderless? I can see the arguments for this going both ways?;;;","05/Jan/19 5:38 PM;yacovm;Temporary leaderless is fine, I agree.
However - leader loss detection anyway comes with a delay of its own (since we don't have a callback from Raft.Node (or do we? Is there a Ready message saying we lost leadership?)), so I think that if leadership loss events distribute uniformly and we detect loss of leadership by probing the soft state once in an interval of T seconds, it means that on average - we lost leadership T/2 seconds ago, so we already have some temporal aspect here, and writing logic that does book-keeping of how much time we are leaderless isn't that cost-effective IMO.

Though, I think that having a ""second chance"" detection is not that complex - instead of refusing deliver when we detect leadership loss, we can refuse deliver only after we detect leadership loss in 2 consecutive probes. This ensures leadership was either lost, or was flaky (gained, lost, gained, and lost again, etc.) for a period of time that is at least T.

wdyt?;;;","08/Jan/19 7:41 AM;kchristidis;The lazy person in me says that this we should probably backlog this, i.e. for now a client may maintain a Deliver session with an OSN even if that OSN is unaware of a leader.

[~guoger], [~adarshsaraf123]: Your thoughts on this?;;;","10/Jan/19 4:02 PM;guoger;https://gerrit.hyperledger.org/r/c/28585
https://gerrit.hyperledger.org/r/c/28588
https://gerrit.hyperledger.org/r/c/28619;;;","16/Jan/19 12:51 AM;guoger;A side note, this makes a disconnected node non-readable/-writeable. IIRC, if a chain is disconnected from kafka, it's still readable. So in some sense, it breaks the contract there. cc [~yacovm][~kchristidis];;;","16/Jan/19 1:01 AM;yacovm;But we have code sections like this:

{code}
				switch kafkaErr.Err {
				case sarama.ErrOffsetOutOfRange:
					// the kafka consumer will auto retry for all errors except for ErrOffsetOutOfRange
					logger.Errorf(""[channel: %s] Unrecoverable error during consumption: %s"", chain.ChainID(), kafkaErr)
close(chain.errorChan)
{code};;;",,,,,,,,,,,,,,,,,
Certificate generated by Fabric cannot be verified by libssl 1.1,FAB-13439,36395,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mastersingh24,qizhang87,qizhang87,25/Dec/18 11:03 AM,21/Jan/19 8:51 PM,28/Oct/23 3:04 AM,03/Jan/19 1:37 AM,,,,,,v1.4.0,v2.0.0,,,fabric-crypto,,,,0,,,,"The credential files created by `cryptogen` in Fabric can be successfully verified by libssl 1.0, but not libssl 1.1.",,denyeart,mastersingh24,qizhang87,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004fj:",,,,Unset,Unset,,,"1. On the Fabric server, create the crypto-config using fabric/.build/bin/cryptogen
2. Copy crypto-config from the Fabric server machine to the Fabric client machine
3. Start a Fabric network on the server, in which the Orderer is using port 5005
4. Use the following command on the client machine to verify the Orderer certificate:

openssl s_client -CAfile crypto-config/ordererOrganizations/example.com/orderers/orderer0.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -connect server_ip:5005

5. The above verification can be successful when using openssl 1.0.*., but failed (as shown below) when using openssl 1.1

CONNECTED(00000003)
depth=1 C = US, ST = California, L = San Francisco, O = example.com, CN = tlsca.example.com
verify error:num=26:unsupported certificate purpose
---
Certificate chain
 0 s:/C=US/ST=California/L=San Francisco/CN=orderer0.example.com
   i:/C=US/ST=California/L=San Francisco/O=example.com/CN=tlsca.example.com
---
Server certificate
-----BEGIN CERTIFICATE-----
MIICXDCCAgOgAwIBAgIRAI8SnnkcWUDApi6zuTD2UFAwCgYIKoZIzj0EAwIwbDEL
MAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG
cmFuY2lzY28xFDASBgNVBAoTC2V4YW1wbGUuY29tMRowGAYDVQQDExF0bHNjYS5l
eGFtcGxlLmNvbTAeFw0xODEyMjQxOTE4MDBaFw0yODEyMjExOTE4MDBaMFkxCzAJ
BgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJh
bmNpc2NvMR0wGwYDVQQDExRvcmRlcmVyMC5leGFtcGxlLmNvbTBZMBMGByqGSM49
AgEGCCqGSM49AwEHA0IABLxA3JkAOwoY7AabkJdxL1eXG6IWqOZfQWULOidcKLxW
64+wm1jWFd9fSySKITiIEW3jzSmwgNPe4LPhF1ybgwajgZgwgZUwDgYDVR0PAQH/
BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAMBgNVHRMBAf8E
AjAAMCsGA1UdIwQkMCKAIOIxVLHQUC1ZFibuxsqaEciZtlH9SBKFgbsga0Dp6HS/
MCkGA1UdEQQiMCCCFG9yZGVyZXIwLmV4YW1wbGUuY29tgghvcmRlcmVyMDAKBggq
hkjOPQQDAgNHADBEAiBFHOoidds9tvQLCrtyeyeK5u+ti99cb6Q/Jn+CKi1mjAIg
MCJwx0wS8Jk2Pfj0VLpGgV+EGxnf+GPdRCplYXGsUHY=
-----END CERTIFICATE-----
subject=/C=US/ST=California/L=San Francisco/CN=orderer0.example.com
issuer=/C=US/ST=California/L=San Francisco/O=example.com/CN=tlsca.example.com
---
No client certificate CA names sent
Client Certificate Types: RSA sign, ECDSA sign
Requested Signature Algorithms: RSA+SHA256:ECDSA+SHA256:RSA+SHA384:ECDSA+SHA384:RSA+SHA512:ECDSA+SHA512:RSA+SHA1:ECDSA+SHA1
Peer signing digest: SHA256
Server Temp Key: X25519, 253 bits
---
SSL handshake has read 890 bytes and written 398 bytes
Verification error: unsupported certificate purpose
---
New, TLSv1.2, Cipher is ECDHE-ECDSA-AES256-GCM-SHA384
Server public key is 256 bit
Secure Renegotiation IS supported
Compression: NONE
Expansion: NONE
No ALPN negotiated
SSL-Session:
    Protocol  : TLSv1.2
    Cipher    : ECDHE-ECDSA-AES256-GCM-SHA384
    Session-ID:
    Session-ID-ctx:
    Master-Key: C148E132C6752E74C2CBEF4C977484581BBC14FBC76D916D1983BEC625A79E0B05C9A87A6D82022CFD624E5E7550340F
    PSK identity: None
    PSK identity hint: None
    SRP username: None
    Start Time: 1545704194
    Timeout   : 7200 (sec)
    Verify return code: 26 (unsupported certificate purpose)
    Extended master secret: no
---
read:errno=0",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,qizhang87,silliman,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"31/Dec/18 12:29 AM;denyeart;[~qizhang87] Is there a reason [~ChristopherFerris] is assigned? This looks more like something for [~angelo.decaro];;;","02/Jan/19 7:28 PM;qizhang87;[~denyeart] I assigned it to [~ChristopherFerris] just because I saw he was in a crypto related Jira issue. Reassigned it to [~angelo.decaro] as you suggested.;;;","02/Jan/19 11:26 PM;mastersingh24;OK ... well this is a very obscure rule now being enforced by openssl.  Basically, the CA cannot have the `anyExtendedKeyUsage` attribute and should explicitly set the extended key usages it sign certificates with.;;;","02/Jan/19 11:30 PM;mastersingh24;https://gerrit.hyperledger.org/r/28448;;;","02/Jan/19 11:32 PM;mastersingh24;We can backport this to 1.4 although I'm not sure it's really necessary:

https://gerrit.hyperledger.org/r/#/c/28449/;;;","04/Jan/19 2:15 AM;mastersingh24;[~qizhang87]  - this should be fixed on the master and release-1.4 branches;;;",,,,,,,,,,,,,,,,,,,
enable to  accept endorsements,FAB-13440,36397,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ping40,ping40,ping40,25/Dec/18 8:02 PM,14/Jan/19 4:50 AM,28/Oct/23 3:04 AM,14/Jan/19 4:50 AM,,,,,,v2.0.0,,,,,,,,0,,,,"in method CreateSignedCCDepSpecForInstall, the endorsement of argument pack should be included.

 
{code:java}
// CreateSignedCCDepSpecForInstall creates the final package from a set of packages signed by
// owners.  This is similar to how the SDK assembles a TX from various proposal
// responses from the signatures.
func CreateSignedCCDepSpecForInstall(pack []*common.Envelope) (*common.Envelope, error) {
....
}{code}",,ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004fz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ping40,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"25/Dec/18 8:05 PM;ping40;https://gerrit.hyperledger.org/r/#/c/28374/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Reconfiguration and onboarding test improperly tests log output,FAB-13441,36401,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Dec/18 1:00 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,01/Jan/19 11:59 PM,,,,,,,,,,,,,,0,,,,"It uses the Buffer() method, which always returns an empty gbytes.Buffer.
Instead, it should've used the Err() method which contains the process's output.",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004gv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jan/19 2:54 AM;kchristidis;https://gerrit.hyperledger.org/r/c/28377/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Do not panic upon inability to pull channels ,FAB-13442,36402,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Dec/18 3:32 AM,29/Apr/19 6:47 PM,28/Oct/23 3:04 AM,29/Apr/19 6:47 PM,,,,,,,,,,fabric-orderer,,,,0,,,,"Consider the following use case:

A channel is created and then the organizations decide they don't want it anymore:
* A channel is created with an improper name and is then created again with the proper name, and the first channel is never used
* A channel might represent some business operation, and that business operation may cease, i.e - all organizations of that channel leave the channel.

In such a case, the operators of the raft cluster might decide to perform a series of config updates that remove all consenters from the channel.
* When a running OSN is removed from a channel, its chain object ceases operation and should return always* service not available*.
* When an OSN is booted up and it sees that it is not a member of a channel, it runs a special chain that always returns *service unavailable* to any request.

Now, the problem is the following:

Let's say that some new OSN instance joins the cluster. It:
# Pulls the system channel to see what channels exist
# For each channel, it probes all the consenters of the system channel, to retrieve the last config block of the channel in order to check whether it is among the consenters of the channel or not.
## If it gets unauthorized from all *reachable consenters* (we classify service_unavailable in the same way as an unreachable consenter while pulling blocks, because that OSN itself might not be able to reach the majority of the cluster...) it deduces that it shouldn't pull the channel.
## If it cannot reach any system channel consenter or all consenters return *service unavailable*, it has a problem, because it cannot distinguish between the following 2 scenarios:
### All consenters that service the application channel are in the middle of leader election, or it could be that the application channel is serviced by consenters that are currently offline, and the remaining consenters alive are the ones that don't service the application channel.
### All consenters of the system channel, do not service this channel at all.

A way distinguish between the 2, is to ensure that:
# *All consenters* in the system channel respond (no one is unreachable) to the attempt to pull blocks from the application channel in question.
# All consenters in the system channel unanimously return that they do not service the channel. 

Meaning, that if at least one consenter is unreachable, and the rest return that they do not service the channel - we do not proceed to skip pulling that channel.
This is problematic, since one of the reasons for onboarding a new OSN might be because some OSN is dead for good due to a fire, flood, etc.

Obviously, this is also a problem when we consider the byzantine model where a consenter may lie, thus it can always return service unavailable with any reason to an onboarded OSN.

Another option would be to ensure that a channel can never be deserted completely - if we enforce that config updates never remove the last consenter. However this is a problem too - what if the last consenter, is unavailable right now? 

Therefore, I see that we don't really have a choice but to make onboarding skip channels that cannot be pulled because of service unavailable, and that could be taken care of via FAB-13180 which ensures we can onboard existing OSNs to channels, via an API call on the OSN while it is running.

Thus I see - FAB-13180 as being crucial to even cases where you bring up a completely fresh OSN, since a temporary failure of a chain needs to be addressed. ",,jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004h3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/19 8:20 AM;kchristidis;This _should_ be covered by Yacov's code in master, but we'll add an integration test to make sure.

Low priority item, backlogged.;;;","29/Mar/19 12:41 PM;jyellick;[~yacovm] Can this be closed?;;;","29/Mar/19 4:58 PM;yacovm;I was supposed to add an integration test, but I never did. Now that we are all trying to save time in integration tests I guess what we can do is crash the cluster during dynamic onboarding and ensure it doesn't fail.;;;","29/Mar/19 5:39 PM;yacovm;I verified it locally [~jyellick];;;",,,,,,,,,,,,,,,,,,,,,
Error occur while .s file in fabric vendor,FAB-13443,36408,,Story,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,williamfu,williamfu,26/Dec/18 4:05 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,v1.1.0,,,,,,,,,fabric-crypto,,,,0,stale-item,,,"I have checked the core/chaincode/platforms/golang/package.go file

the content is below.

var includeFileTypes = map[string]bool

{ "".c"": true, "".h"": true, "".s"": true, "".go"": true, "".yaml"": true, "".json"": true,}

 

var logger = flogging.MustGetLogger(""golang-platform"")

I got the error as below.

github.com/hyperledger/fabric/vendor/golang.org/x/crypto/curve25519
opt/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/crypto/curve25519/mont25519_amd64.go:15:6: missing function body

What should I do?",,sykesm,williamfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Yes,Unset,,,,,No,,Unset,No,,,"1|i004if:",,,,Yes,Unset,,,(Please add steps to reproduce),,Yes,,,,,,Unset,,Unset,,(Please add usage information),sykesm,williamfu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Refactor onboarding code to prepare for many-time replication ,FAB-13444,36410,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,26/Dec/18 10:17 PM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,03/Jan/19 6:33 PM,,,,,,,,,,fabric-orderer,,,,0,,,,"Currently, the onboarding logic can only be used one time.
However, in order to join an existing orderer to a channel, we need to invoke the logic in the onboarding code many times. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004iv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"27/Dec/18 12:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28385/;;;",,,,,,,,,,,,,,,,,,,,,,,,
BYFN tests failing consistently to pull hyperledger/fabric-nodeenv in daily end-2-end tests.,FAB-13445,36411,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,sambhavdutt,sambhavdutt,26/Dec/18 11:14 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,29/Dec/18 1:33 AM,v2.0.0,,,,,v2.0.0,,,,fabric-samples,,,,0,ci-failure,,,"The end-2-end daily tests are failing consistently in the BYFN tests, the BYFN-node chaincode tests are unable to pull the *hyperledger/fabric-nodeenv* image.

Consistent: Yes

Branch: master

Platform:  x86_64, s390x

Error Snippet: 

{code:java}
19:03:06 Error: could not assemble transaction, err proposal response was not successful, error code 500, msg error starting container: error starting container: pull access denied for hyperledger/fabric-nodeenv, repository does not exist or may require 'docker login'
{code}


*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-end-2-end-daily-master-x86_64/323/",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d6204d744f045b146b844fa20c363d96e0776b14,Unset,No,,,"1|i004j3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Dec/18 1:34 AM;sambhavdutt;The fabric-nodeenv image is now available in the e2e tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,
docker-all target fails consistently to build fabric-ca-orderer in master branch.,FAB-13446,36412,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,sambhavdutt,sambhavdutt,27/Dec/18 9:39 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,01/Jan/19 1:26 AM,v2.0.0,,,,,v2.0.0,,,,fabric-ca-build,,,,0,ci-failure,,,"The make docker-all fails to build the fabric-ca-orderer image with the error */bin/sh: apt-get: not found*

Consistent: Yes

Branch: master

Platform: x86_64, s390x

Jenkins Jobs affected:
fabric-nightly-release-job-master-s390x
fabric-nightly-release-job-master-x86_64

Error Snippet:

{code:java}
20:01:39 /bin/sh: apt-get: not found

14:57:56 The command '/bin/sh -c apt-get update && apt-get install -y netcat && rm -rf /var/cache/apt' returned a non-zero code: 127
14:57:56 Makefile:134: recipe for target 'build/image/fabric-ca-orderer/.dummy-amd64-2.0.0-stable' failed
14:57:56 make: *** [build/image/fabric-ca-orderer/.dummy-amd64-2.0.0-stable] Error 127
{code}


*Build Log*

https://jenkins.hyperledger.org/view/Daily/job/fabric-nightly-release-job-master-s390x/200/consoleFull",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,7a317af,Unset,No,,,"1|i004jb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"27/Dec/18 9:52 AM;rameshthoomu;This is failing after recent changes made in fabric https://github.com/hyperledger/fabric/commit/fdd1c72eaf45bb987e407b57ba09d7ba72e5bc31
fabric-ca-orderer image is failing to execute `apt-get` command as we are now using alpine image in fabric-orderer image. To fix this issue, we are building fabric-ca-* images first and then build fabric images.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"upon leader election, etcdraft chain should commit in-flight blocks before accepting new envelopes",FAB-13447,36413,31897,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,27/Dec/18 5:22 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,21/Jan/19 12:42 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"{code:go}
It(""new leader should wait for in-fight blocks to commit before accepting new env"", func() {
					// Scenario: when a node is elected as new leader and there are still in-flight blocks,
					// it should not immediately start accepting new envelopes, instead it should wait for
					// those in-flight blocks to be committed, otherwise we may create uncle block which
					// forks and panicks chain.
					//
					// Steps:
					// - start raft cluster with three nodes and genesis block0
					// - order env1 on c1, which creates block1
					// - drop MsgApp from 1 to 3
					// - drop second round of MsgApp sent from 1 to 2, so that block1 is only committed on c1
					// - disconnect c1 and elect c2
					// - order env2 on c2. This env must NOT be immediately accepted, otherwise c2 would create
					//   an uncle block1 based on block0.
					// - c2 commits block1
					// - c2 accepts env2, and creates block2
					// - c2 commits block2
					c1.cutter.CutNext = true
					c2.cutter.CutNext = true

					step := c1.rpc.StepStub
					c1.rpc.StepStub = func(dest uint64, msg *orderer.StepRequest) (*orderer.StepResponse, error) {
						stepMsg := &raftpb.Message{}
						Expect(proto.Unmarshal(msg.Payload, stepMsg)).NotTo(HaveOccurred())

						if dest == 3 {
							return nil, nil
						}

						if stepMsg.Type == raftpb.MsgApp && len(stepMsg.Entries) == 0 {
							return nil, nil
						}

						return step(dest, msg)
					}

					Expect(c1.Order(env, 0)).NotTo(HaveOccurred())

					Eventually(c1.support.WriteBlockCallCount, LongEventualTimeout).Should(Equal(1))
					Consistently(c2.support.WriteBlockCallCount).Should(Equal(0))
					Consistently(c3.support.WriteBlockCallCount).Should(Equal(0))

					network.disconnect(1)

					step = c2.rpc.StepStub
					c2.rpc.StepStub = func(dest uint64, msg *orderer.StepRequest) (*orderer.StepResponse, error) {
						stepMsg := &raftpb.Message{}
						Expect(proto.Unmarshal(msg.Payload, stepMsg)).NotTo(HaveOccurred())

						if stepMsg.Type == raftpb.MsgApp && len(stepMsg.Entries) != 0 && dest == 3 {
							for _, ent := range stepMsg.Entries {
								if len(ent.Data) != 0 {
									return nil, nil
								}
							}
						}
						return step(dest, msg)
					}

					network.elect(2)

					go func() {
						Expect(c2.Order(env, 0)).NotTo(HaveOccurred())
					}()

					Consistently(c2.support.WriteBlockCallCount).Should(Equal(0))
					Consistently(c3.support.WriteBlockCallCount).Should(Equal(0))

					c2.rpc.StepStub = step
					c2.clock.Increment(interval)

					Eventually(c2.support.WriteBlockCallCount, LongEventualTimeout).Should(Equal(2))
					Eventually(c3.support.WriteBlockCallCount, LongEventualTimeout).Should(Equal(2))

					b, _ := c2.support.WriteBlockArgsForCall(0)
					Expect(b.Header.Number).To(Equal(uint64(1)))
					b, _ = c2.support.WriteBlockArgsForCall(1)
					Expect(b.Header.Number).To(Equal(uint64(2)))
				})
{code}",,guoger,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13641,FAB-13660,FAB-13661,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004jj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jan/19 5:29 AM;kchristidis;Thanks for catching this! Do you think it belongs to FAB-11161?;;;","07/Jan/19 10:37 PM;guoger;[~kchristidis] yes it does;;;","10/Jan/19 1:38 AM;guoger;https://gerrit.hyperledger.org/r/c/28581
https://gerrit.hyperledger.org/r/c/28582;;;",,,,,,,,,,,,,,,,,,,,,,
Extend state-based endorsement sample to demonstrate ListOrgs(),FAB-13448,36416,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,mne,denyeart,denyeart,28/Dec/18 1:01 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,fabric-samples,,,,0,stale-item,,,"Clients often need to know which org endorsements are required for a certain key that is protected by state-based endorsement.

The interest rate swap sample for state-based endorsement can be extended to demonstrate use of ListOrgs() so that the list of required endorsing orgs can be returned to client.

Clients can then use service discovery to find the peers of the orgs.",,denyeart,mne,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-8812,,,No,,Unset,No,,,"1|i004k7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mne,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"28/Dec/18 1:02 AM;denyeart;[~mne] Is this something you could add to the irs sample?;;;","29/Dec/18 2:38 AM;yacovm;I think it's a good idea - we can add to the chaincode, a query function that uses ListOrgs() and returns a result that is the orgs that are required to endorse, and then the application can use a discovery peer membership query to get a mapping of orgs to peers, and then the application can simply pick peers according to who owns the items in the intended transaction.;;;","29/Dec/18 11:13 PM;denyeart;Right. Note that the interest rate swap SBE sample does not use a client SDK application, so the ListOrgs() query can be added to the chaincode, and then the sample readme can simply mention that the returned org MSP IDs could be used by a client SDK application to find the peers associated with those orgs via service discovery.

Note that [~jyellick] is designing a more comprehensive sample that uses SDK and state-based endorsement, so the full end-to-end sample could be included in that sample.;;;","30/Dec/18 12:08 AM;yacovm;the discovery CLI returns JSONs. I think we can script something together using *jq* , *discover* and *peer CLI* . ;;;","03/Jan/19 10:20 PM;mne;Sounds good. I'll get started implementing this using the peer and discover CLIs.;;;","04/Jan/19 1:56 AM;mne;https://gerrit.hyperledger.org/r/#/c/28458/;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,
Update CouchDB tutorial with more examples of best practices,FAB-13449,36417,,Documentation,Closed,FAB,Fabric,software,denyeart,,,High,Done,negupta,pandrejko,pandrejko,28/Dec/18 1:05 AM,21/Mar/19 9:10 PM,28/Oct/23 3:04 AM,28/Feb/19 12:30 AM,,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,"Some general notes about indexing in CouchDB:

- All fields in the index must be represented in the query selector in order for the index to be honored by the query engine.

- Indexes should be planned carefully.  Adding indexes increases the overall load on CouchDB since indexes have to be updated following updates.

- More complex queries have a lower chance of matching and performing well with an index.

.. note:: There is no metric for the number of indexes that should be used in CouchDB.  Three to four well planned indexes will have a good impact on supported queries.  Adding large numbers of indexes will increase the processing load for CouchDB to update indexes following every commit.

The following are some examples demonstrating index operations with JSON
documents based on the following model:

  \{""color"":""yellow"",""docType"":""marble"",""name"":""marble100"",""owner"":""tom"",""size"":18}

It is assumed that an index with the following definition is created:

  \{""index"":{""fields"":[""docType"",""owner""]},""ddoc"":""indexOwnerDoc"", ""name"":""indexOwner"",""type"":""json""}

Example 1:

Query Selector: \{""selector"":{""docType"":""marble"",""owner"":""tom""}}

Result: This query is fully supported by the index and has the fastest response
time since both fields in the index are contained in the selector and no
additional fields are included.

Example 2:

Query Selector: \{""selector"":{""docType"":""marble"",""owner"":""tom"",""color"":""red""}}

Result: This query is supported by the index. The additional field reduces the
response time from CouchDB since the index has to be scanned for results due
to the additional field.   Since the index is scanned instead of the full table,
performance is much better than the full table scan, but not as good as the
exact match in Example 1.

Example 3:

Query Selector: \{""selector"":{""docType"":""marble"",""owner"":""tom"",""$or"":[{""color"":""red""},\{""color"":""yellow""}]}}

Result: This query is supported by the index. The additional field including
an ``$or`` condition does not invalidate the index since the two fields of the
index are represented with an implicit ``$and`` condition at the top level of the
query.  Performance of the query will be less than Example 1 due to the scan
of the index.

Example 4:

Query Selector: \{""selector"":{""docType"":""marble""}}

Result: This query is not supported by the index and will cause a full table
scan since the fields in the index are not included in the query selector.

Example 5:

Query Selector: \{""selector"":{""$or"":[{""docType"":""marble"",""owner"":""tom""}]}}

Result: This query is supported by the index but will have extremely poor
performance since the ``$or`` condition at the top level of the query will
force a full scan of the index.",,negupta,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrq:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),negupta,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jan/19 6:45 AM;negupta;https://gerrit.hyperledger.org/r/#/c/28644/;;;","21/Mar/19 9:10 PM;negupta;This has been merged.;;;",,,,,,,,,,,,,,,,,,,,,,,
Intermittent failure in SBE integration tests,FAB-13450,36418,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,mne,wlahti,wlahti,28/Dec/18 2:03 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,14/Jan/19 4:36 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,ci-flake,,,"Hit in build: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4359
{code:java}
• Failure [93.932 seconds]
11:02:21 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
11:02:21 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
11:02:21 
11:02:21   Got stuck at:
11:02:21       
11:02:21       
11:02:21   Waiting for:
11:02:21       foo
11:02:21 
11:02:21   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:123{code}
cc [~mne]",,mne,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13593,,,,FAB-13593,,,,,,,,,,,,,,,,,,,,,,"28/Dec/18 2:06 AM;wlahti;console.log;https://jira.hyperledger.org/secure/attachment/16491/console.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004kf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mne,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/19 1:28 AM;wlahti;Hit again here: https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4606/;;;","11/Jan/19 8:24 PM;mne;Same issue as in FAB-13593 - missing synchronization for the ledger height on all peers. I submitted a patch for FAB-13593.;;;",,,,,,,,,,,,,,,,,,,,,,,
misdescription,FAB-13451,36423,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,tyanj,tyanj,28/Dec/18 7:21 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,{color:#333333}GetPrivateDataQueryResult was written as GetQueryResult{color},,sykesm,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004l3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
gossip.service test is failing  intermittently in the daily unit-tests,FAB-13452,36425,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,28/Dec/18 10:04 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,29/Dec/18 11:00 PM,v2.0.0,,,,,v2.0.0,,,,fabric-gossip,,,,0,ci-failure,,,"The unit-tests are failing intermittently in the gossip service tests. The daily unit-tests and unit-test-coverage-daily have been failing in the gossip.service tests

Intermittent: Yes

Branch: master

Platform: x86_64

Error Snippet:
{code:java}
19:25:42 	/w/workspace/fabri--- FAIL: TestLeaderYield (117.02s)
19:25:42     integration_test.go:156: p0 started its delivery service
19:25:42     integration_test.go:161: p0 stopped its delivery service
19:25:42     integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1
19:25:42 2018-12-28 00:24:53.581 UTC [gossip.service] updateAnchors -> ERRO 08e Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting
.
19:25:42 FAIL	github.com/hyperledger/fabric/gossip/service	232.230s

2018-12-28 00:22:56.561 UTC [gossip.service] updateAnchors -> ERRO 036 Tried joining channel foo but our org( SampleOrg ), isn't among the orgs of the channel: [ORG1] , aborting.
{code}
*Build Log*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/316/]

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-coverage-daily-master-x86_64/308/]",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,d6204d744f045b146b844fa20c363d96e0776b14,Unset,No,,,"1|i004lj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Dec/18 11:00 PM;denyeart;[~sambhavdutt] Before opening new Jira issues, please search on the failing test name like ""TestLeaderYield"" to see if a Jira is already open. If you find it is already open, please add comments to that Jira instead of opening a duplicate. I'm closing yours as duplicate of FAB-12065, which is already being worked.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"The daily pte tests are failing consistently in multiple test cases, and exit with timeout error.",FAB-13453,36429,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,29/Dec/18 2:26 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Jan/19 11:10 PM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"The daily-pte tests are failing consistently in multiple test cases. The pte-daily that usually takes four hours to complete is waiting for 14 hours and timing out before all the pte test cases are executed. There have been no changes in fabric-test that could have affected the daily test. There are no log files generated for these test fails.

Branches: release-1.4, master

Error Snippet:

{code:java}
00:34:59.496 systest_pte.py::Perf_Stress_CouchDB::test_FAB3832_4i_FAB3834_4q FAILED
01:00:03.646 systest_pte.py::Perf_Stress_CouchDB::test_FAB3833_2i_FAB3810_2q FAILED
01:30:14.224 systest_pte.py::Perf_Stress_CouchDB::test_FAB6813_4i_marbles_FAB8199_4q_FAB8200_4q_FAB8201_4q FAILED
01:52:45.305 systest_pte.py::Perf_Stress_LevelDB::test_FAB3807_4i_FAB3835_4q FAILED
02:16:17.149 systest_pte.py::Perf_Stress_LevelDB::test_FAB3808_2i_FAB3811_2q FAILED
02:35:33.857 systest_pte.py::Perf_Stress_LevelDB::test_FAB7329_4i_channel_events FAILED
02:54:45.342 systest_pte.py::Perf_Stress_LevelDB::test_FAB7333_4i_filtered_block_events FAILED
14:00:00.546 systest_pte.py::Perf_Stress_LevelDB::test_FAB7647_1i_latency Build timed out (after 840 minutes). Marking the build as failed.
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.4-x86_64/13/",,dongming,rameshthoomu,sambhavdutt,scottz,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,380fde3,Unset,No,,,"1|i004mf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,rameshthoomu,sambhavdutt,scottz,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 1:38 AM;tijohnson;
The log tells me what test timed out (test_FAB7647_1i_latency). I need to know 'what' that the test was trying to do when it timed out.  I may also need to know if there were any earlier errors (that were ignored) that may have caused the timeout.
;;;","03/Jan/19 2:56 AM;scottz;The tests started failing on Dec 28. (They passed on the Dec 27 test run in v1.4 branch.)
Initial triage of v1.4 tests console log on that day, https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.4-x86_64/13/console, reveals that the same error occurs before the traffic even starts, which may cause all the tests to fail:

 [PTE 0 main]: stdout: [32minfo[39m: [PTE 0 exec]: [Nid:chan:org:id=0:testorgschannel1:org1:1 eventRegisterFilteredBlock] pte-exec: Failure - received block with undefined filtered_block.number: {""channel_id"":""testorgschannel1"",""number"":""0"",""filtered_transactions"":[{""Data"":null,""txid"":"""",""type"":""CONFIG"",""tx_validation_code"":""VALID"",""transaction_actions"":null}]}

And later at the end of the test report, we see these other msgs which might indicate the instantiation never happened successfully:

[PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_query_simple] query[10000] result[0]: Error: make sure the chaincode sample_cc_ch1 has been successfully instantiated and try again: chaincode sample_cc_ch1 not found

[32minfo[39m: [PTE 1 main]: stdout: [32minfo[39m: [PTE 1 exec]: [Nid:chan:org:id=0:testorgschannel1:org2:0 invoke_query_simple] query result[0]: Error: make sure the chaincode sample_cc_ch1 has been successfully instantiated and try again: chaincode sample_cc_ch1 not found
;;;","05/Jan/19 11:10 PM;sambhavdutt;The PTE test cases are working fine now after the release-1.4 sub-modules are used in the tests. The test is back to its normal operation time of 4 hours after this change
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-pte-release-1.4-x86_64/test_results_analyzer/

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-pte-release-1.4-x86_64/21/;;;",,,,,,,,,,,,,,,,,,,,,,
 Possible Idempotency Issue while sending many transactions with same TxId - v1.3,FAB-13454,36430,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Test Error,ales,emmanuel.kiametis,emmanuel.kiametis,29/Dec/18 5:13 AM,03/Jan/19 10:03 PM,28/Oct/23 3:04 AM,03/Jan/19 11:21 AM,v1.3.0,,,,,,,,,fabric-peer,,,,0,ledger,node-SDK,," 
We found a possible Issue in Hyperledger Fabric 1.3.0 about Idempotency while sending many transactions with same TxId.
 
*SUMMARY*
 
Hyperledger Fabric does not guarantee the idempotency of the TransactionID, before it has been commited to the Ledger.
 
*DATABASE*
 
- CouchDB
 
*SCENARIO*
 
In Hyperledger Fabric, version 1.3, using a version of the ""*fabric-client:1.3.0*"" *SDK*, I'm generating a new transaction with ""*newTransactionID()*"" method of the ""*Client*"" class.
 
Based on TransactionID returned by the called method, I am performing an ""*invoke*"" on ""*chaincode*"", where the readset and writeset are dynamically generated, meaning there will be no version conflict. Because of that, transactions do not need to be serialized.
 
 ",,denyeart,emmanuel.kiametis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jan/19 9:46 PM;emmanuel.kiametis;Logfile.txt;https://jira.hyperledger.org/secure/attachment/16502/Logfile.txt","03/Jan/19 10:02 PM;emmanuel.kiametis;configtx.yaml;https://jira.hyperledger.org/secure/attachment/16503/configtx.yaml","02/Jan/19 9:39 PM;emmanuel.kiametis;configtx.yaml;https://jira.hyperledger.org/secure/attachment/16501/configtx.yaml",,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004mn:",,,,Unset,Unset,,,"CASE 1 - Idempotency is preserved
 
1.1) Generate the TransactionID by calling ""Client.newTransactionID()""
 
1.2) Call ""invoke"" method
 
1.3) Wait for the transaction to be validated
 
1.4) Try to perform an ""invoke"" with the same TransactionID from step ""1.1)"" - Idempotency preserved
 
 
CASE 2 - Idempotency is not preserved (strange behavior)
 
2.1) Generate the TransactionID by calling ""Client.newTransactionID()""
 
2.2) Call ""invoke"" the chaincode multiple times, with the same TransactionID, before any of the transactions has time to be committed.
 
2.3) Consult the status of the Ledger by ""query"" method. (In the Ledger state, all generated transaction states in step ""2.2)"" have been saved in CouchDB) - Idempotency not preserved. The same TransactionId produced several changes in the World State.
 
2.4) See ""Channel.queryTransaction(tx_id)"". The transaction returned by the Ledger contains the payload of only one of the submitted transactions - Strange behavior",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,emmanuel.kiametis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Dec/18 8:12 AM;yacovm;[~denyeart] ;;;","30/Dec/18 12:22 AM;denyeart;[~emmanuel.kiametis] I am not able to reproduce.

I've sent multiple invokes with the same txid and the peer always detects this during validation and invalidates the subsequent transactions. I've tested scenarios where the invokes are in the same block and different blocks, and I always get the expected invalidations like:
{code:java}
2018-12-29 09:39:06.346 EST [valimpl] preprocessProtoBlock -> WARN db4 Channel [myc]: Block [20] Transaction index [1] TxId [008dea72f5fcfef07c5a7a803907eae00c1d76603397c43b68d7704c6b1375ad] marked as invalid by committer. Reason code [DUPLICATE_TXID]{code}
In these cases, the subsequent invalid transactions are not committed to state database.

What is your ApplicationCapability set to in the config transaction (see configtx.yaml)?

Can you provide a full peer debug, e.g.:
{code:java}
CORE_LOGGING_LEVEL=DEBUG peer node start{code}
Please include just two transactions in the debug, the one that should be valid and the one that should be invalid.

[~ales] Any other ideas on what might cause this? Since you have worked on dup transaction id checks, can you check the debug logs once we receive them?;;;","02/Jan/19 9:47 PM;emmanuel.kiametis;[~denyeart] I attached my [^configtx.yaml] and I don't have this property '*ApplicationCapability*' in this file.

But, I repeated the test case and I could reproduce an output log information. In this case, there were four attempts completed, and after validation block, just one has failed. All attempts has been executed with the same txID *042433e8e1e80784c80fda679e8e4595dc20f77f5c1264beeb81f4a78ae5316e*.



Log: [^Logfile.txt]

 ;;;","03/Jan/19 12:00 AM;denyeart;[~emmanuel.kiametis] Ok, I think the missing capabilities explains it. There is a dup txid fix when using an application capability of 1.1 or greater. Please use the V1_3 application capability as demonstrated in the sample at [https://github.com/hyperledger/fabric/blob/release-1.3/sampleconfig/configtx.yaml#L59-L116] .  You will need to re-create your channel (or send a config update transaction to the channel).;;;","03/Jan/19 2:45 AM;emmanuel.kiametis;[~denyeart] it works!!

I applied the capabilities configuration and it works!! Thank you so much!!

But, I have a question. If I send a config update transaction to the channel, I will not need to re-create my channel in a production network?;;;","03/Jan/19 3:04 AM;denyeart;[~emmanuel.kiametis] Correct, if you send a config update, for example a capability update, it will update an existing channel (no need to re-create the channel). Peers will start behaving with the new capability from that block height onwards.  It is designed as such so that all peers validate transactions deterministically and consistently for any given block height.;;;","03/Jan/19 3:07 AM;emmanuel.kiametis;[~denyeart] ok.

Thanks!!;;;","03/Jan/19 10:03 PM;emmanuel.kiametis;Solution example: [^configtx.yaml]

(y);;;",,,,,,,,,,,,,,,,,
Chain block puller should be instantiated on demand and not on chain creation,FAB-13455,36431,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,yacovm,yacovm,29/Dec/18 8:08 AM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,30/Jan/19 8:00 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"The chain block puller is initialized in {{consenter.go}} once the chain is created.

The method that creates the block puller enumerates the TLS CA certificates from the config block:
{code}
	// Extract the TLS CA certs and endpoints from the configuration,
	endpointConfig, err := EndpointconfigFromFromSupport(support)
	if err != nil {
		return nil, err
}
{code}

This is problematic when done only once, because a channel config might change these and then the block puller(s) for the chain(s) won't work... 
we need to do it dynamically - either to create the puller each time we need one, or just replace just its TLS CA certificates and overriding them at runtime, via the *stdDialer.Dialer.SetConfig(secureConfig)* method as is done in the [creation itself|https://github.com/hyperledger/fabric/blob/master/orderer/consensus/etcdraft/util.go#L154].

[~guoger] [~kchristidis] ",,C0rWin,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004mv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,guoger,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Jan/19 11:14 PM;kchristidis;Creating the puller each time we need one seems like the best approach? Any tradeoffs we're overlooking?;;;","14/Jan/19 11:15 PM;yacovm;I think so, it's pretty cheap - it just parses a config block and takes out its endpoints and TLS CA certs;;;","14/Jan/19 11:20 PM;kchristidis;(y);;;","22/Jan/19 5:09 PM;guoger;https://gerrit.hyperledger.org/r/c/28885/;;;",,,,,,,,,,,,,,,,,,,,,
Newly-joined node to etcd/raft network should bootstrap with empty peer list,FAB-13456,36432,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,30/Dec/18 1:47 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,03/Jan/19 6:33 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"it should be doing [this|https://github.com/etcd-io/etcd/blob/cc8d446a6ec334d7a10a291279b77389b4f2faf7/contrib/raftexample/raft.go#L290-L292] in etcd raftexample, instead of [this|https://github.com/hyperledger/fabric/blob/d3e80320e5bd97bf7e1232f327be6377c66e3d5f/orderer/consensus/etcdraft/consenter.go#L120] in consenter.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004n3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"30/Dec/18 10:47 AM;guoger;https://gerrit.hyperledger.org/r/28402;;;",,,,,,,,,,,,,,,,,,,,,,,,
The fabric-end-2-end tests are failing in sdk-java test consistently.,FAB-13457,36433,,Bug,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,sambhavdutt,sambhavdutt,sambhavdutt,31/Dec/18 11:15 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,04/Jan/19 2:04 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-sdk-java,,,,0,ci-failure,,,"The fabric end-2-end tests are failing in the sdk-java tests consistently, with error , `timeout expired while starting chaincode example_cc_node` . This fail is seen more in the master branch when compared to release-1.4

Consistent: Yes

Branch: master, release-1.4

Error Snippet:

{code:java}
*00:33:57.100* Tests run: 47, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 724.478 sec <<< FAILURE! - in org.hyperledger.fabric.sdkintegration.IntegrationSuite*00:33:57.100* setup(org.hyperledger.fabric.sdkintegration.End2endNodeIT)  Time elapsed: 302.941 sec  <<< FAILURE!*00:33:57.100* 

java.lang.AssertionError: Not enough endorsers for instantiate :0endorser failed with timeout expired while starting chaincode example_cc_node:1 for transaction. Was verified:false*00:33:57.100* 	at org.hyperledger.fabric.sdkintegration.End2endNodeIT.setup(End2endNodeIT.java:51)*00:33:57.100* *00:33:57.101* 
.
java.lang.AssertionError:
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-merge-end-2-end-x86_64/3988/",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,e3353f514bdedc106f27fc1a803cc49b85843502,Unset,No,,,"1|i004nb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Dec/18 12:21 PM;rameshthoomu;I see below error in e2e Java tests
{code:java}
00:31:39.904 Failed tests: 
00:31:39.904 End2endAndBackAgainNodeIT.setup:36->End2endAndBackAgainIT.runFabricTest:260->End2endAndBackAgainIT.reconstructChannel:733 Peer peer0.org1.example.com is missing instantiated chaincode name: example_cc_node, path:null, version: null
00:31:39.904 End2endIdemixIT.setup:56->End2endIT.runFabricTest:211->End2endIT.runChannel:527 Not enough endorsers for instantiate :0endorser failed with error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""chaincode/input/src/github.com/example_cc/example_cc.go:25:2: cannot find package ""github.com/hyperledger/fabric/core/chaincode/shim/ext/cid"" in any of:
00:31:39.904 /usr/local/go/src/github.com/hyperledger/fabric/core/chaincode/shim/ext/cid (from $GOROOT)
00:31:39.904 /chaincode/input/src/github.com/hyperledger/fabric/core/chaincode/shim/ext/cid (from $GOPATH)
00:31:39.904 /go/src/github.com/hyperledger/fabric/core/chaincode/shim/ext/cid
00:31:39.904 "". Was verified:false
00:31:39.904 End2endNodeIT.setup:51->End2endIT.runFabricTest:211->End2endIT.runChannel:527 Not enough endorsers for instantiate :0endorser failed with timeout expired while starting chaincode example_cc_node:1 for transaction. Was verified:false
00:31:39.904 
00:31:39.904 Tests run: 47, Failures: 3, Errors: 0, Skipped: 0
00:31:39.904 {code};;;","31/Dec/18 10:54 PM;denyeart;[~rameshthoomu] [~sambhavdutt] That error means that fabric is not cloned to one of the directories:

/usr/local/go/src/github.com/hyperledger/fabric

/chaincode/input/src/github.com/hyperledger/fabric

Has there been any changes in the environment that would cause this?

 

[~rickr] Note that to avoid requiring the dependency at runtime, you can vendor the fabric dependencies into your test chaincode, for instructions see:

https://hyperledger-fabric.readthedocs.io/en/latest/chaincode4ade.html#managing-external-dependencies-for-chaincode-written-in-go;;;","31/Dec/18 11:25 PM;sambhavdutt;[~denyeart][~rickr][~rameshthoomu]

The fabric is cloned in the same location like before, there have been no changes here. 
*""/gopath/src/github.com/hyperledger/fabric""*;;;","03/Jan/19 4:53 AM;rameshthoomu;I don't think, the error is because of GOPATH or GOROOT. I observed that the peer0.org1 container is not starting or taking time to start.

 
{code:java}
00:30:55.518 2019-01-02 17:07:56,631 main DEBUG Channel:4112 - Channel foo, transaction: 1d0ecfd9a98e73dc9f7b44b6bb8d1de0112527a6adf109b874b1b0eb807735e9 got back from peer Peer{ id: 247, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} status: 500, message: error starting container: error starting container: Failed to generate platform-specific docker build: Error returned from build: 1 ""chaincode/input/src/github.com/example_cc/example_cc.go:25:2: cannot find package ""github.com/hyperledger/fabric/core/chaincode/shim/ext/cid"" in any of:{code}
Below is the recent success case:
{code:java}
00:14:32.349 2019-01-02 16:52:21,039 main DEBUG Channel:4112 - Channel foo, transaction: 2b59fbeff57353b55dd99ca8109b9d2006e3f0f1b6cf8253b4f56d555505d27c got back from peer Peer{ id: 5, name: peer0.org1.example.com, channelName: foo, url: grpcs://localhost:7051} status: 200, message: {code}
[~sambhavdutt] Is there a way to get the container logs. If yes, could you please write them in the console log.

 ;;;","03/Jan/19 1:27 PM;rameshthoomu;I see the sdk-java tests are failing consistently when we use fabric latest images. but the same working with existing sdk-ava configuration i.e 1.3.0 images. Please see further details on what;s happening with 1.3.0 images on master daily job FABJ-397

[https://jenkins.hyperledger.org/sandbox/job/fabric-end-2-end-daily-master-x86_64/7/]

as master daily and e2e jobs are failing with this error, I suggest to disable sdk-java tests for now from these two job types.

 ;;;","04/Jan/19 2:04 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/28455/
The sdk-java tests have been disabled on master branch as of now. The java tests will be updated when FABJ-397 is resolved.;;;",,,,,,,,,,,,,,,,,,,
Could not find default PKCS11 BCCSP when initializing fabric-ca-server v1.4.0,FAB-13458,36434,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,akshay.sood,akshay.sood,31/Dec/18 3:18 PM,31/Dec/18 4:16 PM,28/Oct/23 3:04 AM,31/Dec/18 4:15 PM,v1.4.0,,,,,,,,,fabric-ca,,,,0,,,,"I am tring to init fabric-ca-server with pkcs11 set as default in BCCSP section.




fabric-ca-server version info:
{code:java}
$ fabric-ca-server version
fabric-ca-server:
 Version: 1.4.0-snapshot-b191f9c
 Go version: go1.11.1
 OS/Arch: linux/amd64
{code}

How I built the binaries of CA
 
{code:java}
git checkout -b release-1.4 https://github.com/hyperledger/fabric-ca.git
cd fabric-ca
make all
{code}


Modify bccsp section in fabric-ca-server-config.yaml

{code:java}
bccsp:
  default: PKCS11
  pkcs11:
    Library: /usr/local/lib/softhsm/libsofthsm2.so
    Pin: 1234
    Label: Fabric2
    hash: SHA2
    security: 256
    filekeystore:
      # The directory used for the software file-based keystore
      keystore: msp/keystore
{code}

Now initialise fabric-ca-server
{code:java}
$ fabric-ca-server init -b admin:admin -d
2018/12/31 11:37:34 [DEBUG] Home directory: /home/akshay/dev/fabric-ca/fabric-ca-server
2018/12/31 11:37:34 [INFO] Configuration file location: /home/akshay/dev/fabric-ca/fabric-ca-server/fabric-ca-server-config.yaml
2018/12/31 11:37:34 [DEBUG] Set log level: 
2018/12/31 11:37:34 [INFO] Server Version: 1.4.0-snapshot-b191f9c
2018/12/31 11:37:34 [INFO] Server Levels: &{Identity:2 Affiliation:1 Certificate:1 Credential:1 RAInfo:1 Nonce:1}
2018/12/31 11:37:34 [DEBUG] Making server filenames absolute
2018/12/31 11:37:34 [DEBUG] Initializing default CA in directory /home/akshay/dev/fabric-ca/fabric-ca-server
2018/12/31 11:37:34 [DEBUG] Init CA with home /home/akshay/dev/fabric-ca/fabric-ca-server and config {Version:1.4.0 Cfg:{Identities:{PasswordAttempts:10 AllowRemove:false} Affiliations:{AllowRemove:false}} CA:{Name: Keyfile: Certfile:ca-cert.pem Chainfile:ca-chain.pem} Signing:0xc000289ce0 CSR:{CN:ca.org1.example.com Names:[{C:IN ST:Punjab L:Chandigarh O:org1.example.com OU:IT Services SerialNumber:}] Hosts:[akshay localhost] KeyRequest:0xc00029e060 CA:0xc00029e0e0 SerialNumber:} Registry:{MaxEnrollments:-1 Identities:[{ Name:**** Pass:**** Type:client Affiliation: MaxEnrollments:0 Attrs:map[hf.Registrar.Roles:* hf.Registrar.DelegateRoles:* hf.Revoker:1 hf.IntermediateCA:1 hf.GenCRL:1 hf.Registrar.Attributes:* hf.AffiliationMgr:1]  }]} Affiliations:map[org1:[department1 department2] org2:[department1]] LDAP:{ Enabled:false URL:ldap://****:****@<host>:<port>/<base> UserFilter:(uid=%s) GroupFilter:(memberUid=%s) Attribute:{[uid member] [{ }] map[groups:[{ }]]} TLS:{false [] { }}  } DB:{ Type:sqlite3 Datasource:fabric-ca-server.db TLS:{false [] { }}  } CSP:0xc00033fc40 Client:<nil> Intermediate:{ParentServer:{ URL: CAName:  } TLS:{Enabled:false CertFiles:[] Client:{KeyFile: CertFile:}} Enrollment:{ Name: Secret:**** CAName: AttrReqs:[] Profile: Label: CSR:<nil> Type:x509  }} CRL:{Expiry:24h0m0s} Idemix:{IssuerPublicKeyfile: IssuerSecretKeyfile: RevocationPublicKeyfile: RevocationPrivateKeyfile: RHPoolSize:1000 NonceExpiration:15s NonceSweepInterval:15m}}
2018/12/31 11:37:34 [DEBUG] CA Home Directory: /home/akshay/dev/fabric-ca/fabric-ca-server
2018/12/31 11:37:34 [DEBUG] Checking configuration file version '1.4.0' against server version: '1.4.0-snapshot-b191f9c'
2018/12/31 11:37:34 [DEBUG] Initializing BCCSP: &{ProviderName:PKCS11 SwOpts:<nil> PluginOpts:<nil>}
2018/12/31 11:37:34 [DEBUG] Closing server DBs
2018/12/31 11:37:34 [FATAL] Initialization failure: Failed to initialize BCCSP Factories: %!s(<nil>)
Could not find default `PKCS11` BCCSP
{code}



",,akshay.sood,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004nj:",,,,Unset,Unset,,,"1. Build fabric-ca images

2. Modify bccsp section in fabric-ca-server-config.yaml

3. now initialise fabric-ca-server

This error will appear
Could not find default `PKCS11` BCCSP

",,Unset,,,,,,Unset,,Unset,,(Please add usage information),akshay.sood,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"31/Dec/18 4:15 PM;akshay.sood;When I build binary with

{code:java}
GO_TAGS=pkcs11 make fabric-ca-server
{code}

the binary works perfectly fine.
;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update to Go 1.12,FAB-13459,36435,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,mastersingh24,mastersingh24,31/Dec/18 7:08 PM,21/Jun/19 3:24 AM,28/Oct/23 3:04 AM,21/Jun/19 3:24 AM,,,,,,v2.1.0,,,,,,,,0,,,,Go 1.12 is scheduled for release in Feb 2019,,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13460,,,,,,,,FAB-14359,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004nr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"21/Jun/19 3:24 AM;denyeart;Done in FAB-14359.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add support for TLS 1.3,FAB-13460,36437,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,btl5037,mastersingh24,mastersingh24,31/Dec/18 11:32 PM,16/Jun/20 11:15 AM,28/Oct/23 3:04 AM,16/Jun/20 11:15 AM,,,,,,v2.2.0,,,,,,,,0,,,,,,ashutosh_kumar,bmos299,btl5037,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13459,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004o7:",,Yes,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ashutosh_kumar,bmos299,btl5037,denyeart,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"22/Apr/20 1:32 AM;denyeart;Go 1.12 added opt-in support for TLS 1.3.
Go 1.13 uses TLS 1.3 by default.
Fabric shifted to Go 1.13 in v2.0 and v1.4.7 (next release).

[~mastersingh24] [~ashutosh_kumar] [~btl5037] [~sykesm] Please keep me honest...;;;","22/Apr/20 4:05 AM;btl5037;Will add support on the comm stack for TLS1.3, right now both the min and max version are set to TLS1.2. Ill keep min at 1.2 and set max at 1.3 so we support either, just as I did in the CA;;;","22/Apr/20 4:21 AM;ashutosh_kumar;What is the ask here ? Only allow TLS 1.3 or allow both TLS 1.2 and 1.3. What go version we are upgrading to ? Seems like 1.13.
 # Golang 1.13 and only TLS 1.3.
 # Golang 1.13 and only TLS 1.2.
 # Golang 1.12 and TLS 1.2 and 1.3 both.
 # Golang 1.12 and only TLS 1.3.
 # Golang 1.12 and only TLS 1.2.
 # Golang 1.12 and TLS 1.2 and 1.3 both.

Config steps that [~btl5037] has outlined above seems correct for one of the combinations above.TLS 1.3 supopots very limited set of Cipher suite , so that imposes TLS version limitation on client. But Fabric also supports very limited set of Cipher Suite.;;;","22/Apr/20 4:35 AM;bmos299;I think allowing both is a safe bet.  If you run into a mixed environment you will have an issue without the configuration setting. ;;;","22/Apr/20 4:40 AM;ashutosh_kumar;Fabric supports very limited set of Cipher Suite. Regardless TLS 1.2 and 1.3 has subtle differences.,

 ;;;","22/Apr/20 8:26 AM;btl5037;[https://github.com/golang/go/issues/29349]

If I'm reading this right, by implementing TLS1.3, we can't configure a set of DefaultCiphersSuites, as Go considers all cipher suites in their CipherSuites list to be secure enough for use. I've tested this, and when TLS1.3 is enabled, I can connect with any cipher suite in the GoLang Supported CipherSuite list when the client is using TLS1.3, even those outside our DefaultList on a gRPC server created with the defaultCipherList set.;;;","22/Apr/20 8:56 AM;ashutosh_kumar;That is what I expected and put in PR. So , if you TLS 1.3 on server , only TLS 1.3 client will be supported.;;;","22/Apr/20 9:42 AM;ashutosh_kumar;Can you give me the TLS 1.3 enabled Fabric End point with defaultCipherSuite configured ? I'll try to run some tests. Looks like whatever ciphersuite you are selecting for 1.3  , it is being ignored by TLS engine.

 ;;;","22/Apr/20 10:25 AM;btl5037;I've got it straightened out (required some restructuring of the tests since there are no failure scenarios on TLS1.3);;;","22/Apr/20 1:32 PM;btl5037;[https://github.com/hyperledger/fabric/pull/1144|https://github.com/hyperledger/fabric/pull/1144/files];;;",,,,,,,,,,,,,,,
OTE daily performance tests are failing consistently in all test cases due to Assertion and Resource error.,FAB-13461,36439,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,,sambhavdutt,sambhavdutt,01/Jan/19 12:09 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Jan/19 11:05 PM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"There are consistent fails in all the test cases in the OTE daily tests. I noticed Assertion error, and ""Resource temporarily unavailable"" in all the tests, the tests take around one hour for execution which is the usual time taken for successful tests.

Consistent: Yes

Branches: master, release-1.4 and release-1.3(one instance)

Error Snippet:


{code:java}
completed.\n====================Completed FAB-7024_30ktx_1ch_solo_500batchsize test====================\n'
00:58:03.283 
00:58:03.283 orderer_ote.py:64: AssertionError
{code}


{code:java}
00:58:03.289   File ""/usr/lib/python2.7/dist-packages/py/_io/terminalwriter.py"", line 333, in write_out
00:58:03.289     fil.write(msg)
00:58:03.289 IOError: [Errno 11] Resource temporarily unavailable
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-release-1.4-x86_64/13/

",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13468,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,380fde3,Unset,No,,,"1|i004on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 2:41 AM;scottz;Initial triage of v1.4 tests https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ote-release-1.4-x86_64/13/consoleFull reveals that the same error causes all the tests to fail:

github.com/hyperledger/fabric/OTE\n/usr/local/go/pkg/tool/linux_amd64/link: running gcc failed: exec: ""gcc"": executable file not found in $PATH\n\n# runtime/cgo\nexec: ""gcc"": executable file not found in $PATH\nFAIL\tgithub.com/hyperledger/fabric/OTE;;;","03/Jan/19 2:22 PM;scottz;Hmmm, I marked the 13468 as a duplicate of this one, because of same gcc error. But probably someone needs to look more closely to confirm the first and actual root cause (whether is the gcc error, or if is related to resource problem IN-42).;;;","05/Jan/19 11:05 PM;sambhavdutt;The daily OTE tests have been successful in the last build. 
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-ote-release-1.4-x86_64/test_results_analyzer/

The builds before the last, fetched the master repositories/sub-modules. The tests are running on release-1.4 branch now on all sub-modules.

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-ote-release-1.4-x86_64/21/ ;;;",,,,,,,,,,,,,,,,,,,,,,
Document vendoring for shim extensions,FAB-13463,36441,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,01/Jan/19 3:30 AM,02/Jan/19 9:13 PM,28/Oct/23 3:04 AM,02/Jan/19 9:13 PM,,,,,,v1.4.0,v2.0.0,,,fabric-docs,,,,0,,,,Document vendoring for shim extensions,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13383,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004p3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Jan/19 3:58 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/28436/;;;",,,,,,,,,,,,,,,,,,,,,,,,
peer node start not working when PKCS11 set to BCCSP,FAB-13464,36442,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,ashutosh_kumar,akshay.sood,akshay.sood,01/Jan/19 3:30 PM,06/Aug/19 6:21 AM,28/Oct/23 3:04 AM,06/Jan/19 12:05 AM,v1.4.0,,,,,,,,,fabric-peer,,,,0,,,,"I am trying to run network with SoftHSMv2 enabled. The certificates are generated using _fabric-ca._

*Directory Structure of certs:*
{code:java}
.
├── channel-artifacts
│   ├── channel.tx
│   ├── genesis.block
│   └── Org1MSPanchors.tx
├── configtx.yaml
├── fabric-ca-client-config.yaml
├── msp
│   ├── cacerts
│   │   └── localhost-7054.pem
│   ├── IssuerPublicKey
│   ├── IssuerRevocationPublicKey
│   ├── keystore
│   ├── signcerts
│   │   └── cert.pem
│   └── user
├── orderer
│   ├── admincerts
│   │   └── cert.pem
│   ├── cacerts
│   │   └── localhost-7054.pem
│   ├── IssuerPublicKey
│   ├── IssuerRevocationPublicKey
│   ├── keystore
│   ├── signcerts
│   │   └── cert.pem
│   └── user
└── peer0
    ├── admincerts
    │   └── cert.pem
    ├── cacerts
    │   └── localhost-7054.pem
    ├── config.yaml
    ├── IssuerPublicKey
    ├── IssuerRevocationPublicKey
    ├── keystore
    ├── signcerts
    │   └── cert.pem
    └── user
{code}
 

I installed softHSMv2 and created a token using the following command
{code:java}
softhsm2-util --init-token --slot 0 --label ""Fabric""
{code}
SO Pin=1234

User Pin=1234

 

Generate the certs, channel artifacts as directed in *Steps to Reproduce* section.
 When you try to bootstrap your peer node, you will see the following error:

 
{code:java}
$ peer node start
2019-01-01 12:02:20.520 IST [main] InitCmd -> ERRO 001 Cannot run peer because error when setting up MSP of type bccsp from directory /home/akshay/dev/fabric-ca/client/peer0: KeyMaterial not found in SigningIdentityInfo

{code}
 

*Version Info:*

_peer version:_
{code:java}
$ peer version
peer:
 Version: 1.4.0
 Commit SHA: 99959b9
 Go version: go1.11.2
 OS/Arch: linux/amd64
 Chaincode:
  Base Image Version: 0.4.14
  Base Docker Namespace: hyperledger
  Base Docker Label: org.hyperledger.fabric
  Docker Namespace: hyperledger
{code}
_fabric-ca-client version:_
{code:java}
$ fabric-ca-client version
fabric-ca-client:
 Version: 1.4.0-snapshot-b191f9c
 Go version: go1.11.2
 OS/Arch: linux/amd64
{code}
_fabric-ca-server version:_
{code:java}
$ fabric-ca-server version
fabric-ca-server:
 Version: 1.4.0-snapshot-b191f9c
 Go version: go1.11.2
 OS/Arch: linux/amd64
{code}
 

*How I build the binaries:*

_Fabric-CA:_

1. Clone repo by command:
{code:java}
git clone -b release-1.4 https://github.com/hyperledger/fabric-ca.git
{code}
2.  Create builds
{code:java}
GO_TAGS=pkcs11 make fabric-ca-server
{code}
{code:java}
GO_TAGS=pkcs11 make fabric-ca-client
{code}
_Peer, Orderer:_ 

1. Clone repo by command:
{code:java}
git clone -b release-1.4 https://github.com/hyperledger/fabric.git
{code}
2.  Create builds
{code:java}
GO_TAGS=pkcs11 make peer
{code}
{code:java}
GO_TAGS=pkcs11 make orderer
{code}
 

The whole ca-server content & ca-client content and certs has been attached. 

 

Please follow the *Steps to Reproduce* section.

 EDIT:

Running peer with DEBUG logs available:

 

Logs => [https://hastebin.com/irosobayis.sql]

 ",,akshay.sood,ashutosh_kumar,denyeart,joaquimpedrooliveira,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jan/19 3:46 PM;akshay.sood;certs.tar.gz;https://jira.hyperledger.org/secure/attachment/16493/certs.tar.gz",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004pb:",,,,Unset,Unset,,,"1. Install SoftHSMv2 and follow the installation guide from https://github.com/opendnssec/SoftHSMv2

2. Create a token with slot=0, label=Fabric, SO Pin=1234, User PIN=1234

3. Create a fabric-ca-server dir and create a file fabric-ca-server-config.yaml. The content of fabric-ca-server-config.yaml is here: https://hastebin.com/qagalexoxa.shell

4. Start Fabric Ca server with -b admin:admin

5. Create client dir for identity nodes certs.
6. Create fabric-ca-client-config.yaml. The content of my file is here https://hastebin.com/milopetela.bash
7. Enroll admin using `fabric-ca-client enroll -u http://admin:admin@localhost:7054`
8. Register peer identity using `fabric-ca-client register --id.name peer0.org1.example.com --id.secret admin --id.type peer`
9. Enroll peer in peer0 dir using command:  `fabric-ca-client enroll -u http://peer0.org1.example.com:admin@localhost:7054 -M $PWD/peer0`
10.  Register orderer by command: `fabric-ca-client register --id.name orderer.example.com --id.secret admin --id.type orderer`
11.  Enroll Orderer:`fabric-ca-client enroll -u http://peer0.org1.example.com:admin@localhost:7054 -M $PWD/orderer`
12. Copy admin cert file in peer0/admincerts & orderer/admincerts dir from fabric-ca/client/msp/signcerts/cert.pem
13. Generate channel artifacts.
14. Update core.yaml file in /home/akshay/go/src/github.com/hyperledger/fabric/sampleconfig dir and my content of core.yaml file is here https://hastebin.com/gacijidelu.coffeescript
14. set the following env:
     export CORE_PEER_LOCALMSPID=Org1MSP
     export CORE_PEER_ADDRESS=peer0.org1.example.com:7051
     export CORE_PEER_ID=peer0.org1.example.com
     export CORE_LEDGER_STATE_STATEDATABASE=CouchDB
     export CORE_LEDGER_STATE_COUCHDBCONFIG_COUCHDBADDRESS=localhost:5984
     export CORE_LEDGER_STATE_COUCHDBCONFIG_USERNAME=
     export CORE_LEDGER_STATE_COUCHDBCONFIG_PASSWORD=
     export CORE_PEER_MSPCONFIGPATH=$PWD/peer0
     export FABRIC_CFG_PATH=/home/akshay/go/src/github.com/hyperledger/fabric/sampleconfig/
15. start peer by: `peer node start`

you will see the following error:
`$ peer node start
2019-01-01 12:02:20.520 IST [main] InitCmd -> ERRO 001 Cannot run peer because error when setting up MSP of type bccsp from directory /home/akshay/dev/fabric-ca/client/peer0: KeyMaterial not found in SigningIdentityInfo`

The whole ca-server content & ca-client content and certs has been attached. ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),akshay.sood,ashutosh_kumar,denyeart,joaquimpedrooliveira,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Jan/19 11:48 PM;denyeart;[~skarim] [~ashutosh_kumar] Please take a look.;;;","05/Jan/19 1:26 AM;ashutosh_kumar;[~akshay.sood] , can you provide Fabricca client log with Debug on ?

Looking at your log , it seems like pkcs11 is not being picked as bccsp type on your Peer node. Looking into it.;;;","05/Jan/19 11:41 PM;mastersingh24;[~akshay.sood]  - I think we resolved this?;;;","06/Jan/19 12:05 AM;akshay.sood;Changing BCCSP config in config.yaml 

from:
{code:java}
bccsp:
        default: PKCS11
        pkcs11:
            Library: /usr/local/lib/softhsm/libsofthsm2.so
            Pin: 1234
            Label: Fabric
            hash: SHA2
            security: 256
            filekeystore:
                keystore: /home/akshay/dev/fabric-ca/client/peer0/keystore
{code}
to:
{code:java}
BCCSP:
        Default: PKCS11
        PKCS11:
            Library: /usr/local/lib/softhsm/libsofthsm2.so
            Pin: 1234
            Label: Fabric
            Hash: SHA2
            Security: 256
            Filekeystore:
                Keystore: /home/akshay/dev/fabric-ca/client/peer0/keystore
{code}
Fixed the issue.

 

Thanks [~mastersingh24];;;","06/Aug/19 6:21 AM;rameshthoomu;It worked for me with the below steps:

`GO_TAGS=pkcs11 make fabric-ca-server`
 and updated the fabric-ca-server-config.yaml pointing softHSM data.
fabric-ca-server start -b admin:adminpw;;;",,,,,,,,,,,,,,,,,,,,
Implement max retry attempts,FAB-13465,36443,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,02/Jan/19 12:22 AM,01/Mar/19 10:20 PM,28/Oct/23 3:04 AM,08/Jan/19 2:12 AM,,,,,,,,,,,,,,0,,,,"The block puller currently retries indefinitely upon failure, because it was originally implement to be used by the etcdraft chain for snapshots.
A node that needs a snapshot, cannot do anything else without it - so it makes sense to block until it can obtain the blocks for the snapshot from some OSN.

However, since onboarding is serial - a channel that may be unavailable might block the onboarding of other blocks via the following series of events:

# A node starts up and decides it needs to onboard the cluster.
# It pulls the system chain and enumerates the existing channels.
# It successfully pulls the last config block for channel *foo* (at this phase, channels that aren't available - are skipped, and not included in the final list of channels that should be pulled).
# It starts pulling all channels it needs, and reaches the phase
where it needs to pull the blocks of channel *foo*, and it retries indefinitely. 

To prevent this problem, we need to introduce a configuration option for the block puller which will be activated only for the onboarding, and not for the consensus. ",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004pj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jan/19 10:52 PM;yacovm;https://gerrit.hyperledger.org/r/#/c/28442/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Getting error REQUEST_TIMEOUT:localhost:7051,FAB-13466,36444,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,denyeart,nageshbandaru,nageshbandaru,02/Jan/19 3:37 AM,18/Nov/19 12:10 PM,28/Oct/23 3:04 AM,03/Jan/19 12:09 AM,,,,,,,,,,,,,,0,,,,"Hi,

 

I am using 'balance transfer' example and trying to use my own names for the orderer, CA, peers, so i just updated and renamed in the config files.

Once i start the network, i am able to register user, join peer, install and instantiate chain code. but while invoke the chain code it is showing below error (Node running window):
 * 
 ** I am using Fabric 1.3 version and all prerequisites are installed based on document.

Note:  I have not done any changes to Node SDK provide in the balance transfer. i have created my own chaincode and using that. 

 Attached all the configuration files and log files, also i have attached chaincode i am running(recon.js)

 

below is the error from node console:

[2019-01-01 23:53:32.131] [ERROR] invoke-chaincode - REQUEST_TIMEOUT:localhost:7051
 [2019-01-01 23:53:32.132] [ERROR] invoke-chaincode - Error: ChannelEventHub has been shutdown
 at ChannelEventHub.disconnect (/home/seeraj/blockchain/blockchainpoc/node_modules/fabric-client/lib/ChannelEventHub.js:494:21)
 at Timeout.setTimeout (/home/seeraj/blockchain/blockchainpoc/app/invoke-transaction.js:89:10)
 at ontimeout (timers.js:498:11)
 at tryOnTimeout (timers.js:323:5)
 at Timer.listOnTimeout (timers.js:290:5)
 [2019-01-01 23:53:32.138] [ERROR] invoke-chaincode - Error: ChannelEventHub has been shutdown
 at ChannelEventHub.disconnect (/home/seeraj/blockchain/blockchainpoc/node_modules/fabric-client/lib/ChannelEventHub.js:494:21)
 at Timeout.setTimeout (/home/seeraj/blockchain/blockchainpoc/app/invoke-transaction.js:89:10)
 at ontimeout (timers.js:498:11)
 at tryOnTimeout (timers.js:323:5)
 at Timer.listOnTimeout (timers.js:290:5)
 [2019-01-01 23:53:32.145] [ERROR] invoke-chaincode - Failed to invoke chaincode. cause:Error: ChannelEventHub has been shutdown
 (node:11458) UnhandledPromiseRejectionWarning: Error: Failed to invoke chaincode. cause:Error: ChannelEventHub has been shutdown
 at Object.invokeChaincode (/home/seeraj/blockchain/blockchainpoc/app/invoke-transaction.js:171:9)
 at <anonymous>
 at process._tickCallback (internal/process/next_tick.js:189:7)
 (node:11458) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 5)

 

 ",,denyeart,nageshbandaru,nitishbhardwaj19,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"02/Jan/19 3:39 AM;nageshbandaru;docker-compose.yaml;https://jira.hyperledger.org/secure/attachment/16496/docker-compose.yaml","02/Jan/19 3:39 AM;nageshbandaru;network-config.yaml;https://jira.hyperledger.org/secure/attachment/16497/network-config.yaml","02/Jan/19 3:38 AM;nageshbandaru;ordererlogs.txt;https://jira.hyperledger.org/secure/attachment/16494/ordererlogs.txt","02/Jan/19 3:39 AM;nageshbandaru;peer.txt;https://jira.hyperledger.org/secure/attachment/16495/peer.txt","02/Jan/19 3:39 AM;nageshbandaru;provider1.yaml;https://jira.hyperledger.org/secure/attachment/16498/provider1.yaml","02/Jan/19 3:39 AM;nageshbandaru;provider2.yaml;https://jira.hyperledger.org/secure/attachment/16499/provider2.yaml","02/Jan/19 3:40 AM;nageshbandaru;reconpoc.js;https://jira.hyperledger.org/secure/attachment/16500/reconpoc.js","17/Nov/19 8:31 PM;nitishbhardwaj19;testAPI.txt;https://jira.hyperledger.org/secure/attachment/17938/testAPI.txt",,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004pr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,nageshbandaru,nitishbhardwaj19,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 12:09 AM;denyeart;[~nageshbandaru] Are you able to reproduce using the existing fabric samples?  If not, this is likely a user error in the edits rather than a Fabric bug.  I will close for now, feel free to re-open if you believe there is a Fabric bug.;;;","03/Jan/19 1:36 AM;nageshbandaru;If I run the balance transfer with out any changes it is working fine. as and when I change the names (org names) it is throwing errors. not sure what is happening behind the sense. but we might not be using the same names given in documentation as always. so need some help to identify issue.;;;","17/Nov/19 8:30 PM;nitishbhardwaj19;[~denyeart] I am facing this issue too. I just _cloned fabric-samples_ and r*unning balance-transfer.*

 

*Node version: 8.16.2*

*GOLang: 1.10.4*

 ** I get an error when on invoke function:  {color:#ff0000}*Failed to invoke chaincode. cause:Error: ChannelEventHub has been shutdown*{color}

 

{color:#172b4d}I am running testAPI.sh. Attached testAPI logs for reference.{color};;;",,,,,,,,,,,,,,,,,,,,,,
Make more peer's keep-alive options configurable,FAB-13467,36445,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,02/Jan/19 2:40 PM,10/Jan/19 12:33 PM,28/Oct/23 3:04 AM,10/Jan/19 10:08 AM,v1.3.0,v1.4.0,,,,v2.0.0,,,,fabric-gossip,,,,0,,,,"gRPC server's keep-alive values are important as it may affect both stability and performance.

Currently the peer only allow to config the peer.keepalive.minInterval, however, the following items are also useful sometimes.

// ServerInterval is the duration after which if the server does not see
// any activity from the client it pings the client to see if it is alive
ServerInterval time.Duration
// ServerTimeout is the duration the server waits for a response
// from the client after sending a ping before closing the connection
ServerTimeout time.Duration

We will expose the config to allow setting values from core.yaml or ENV variables.",,baohua,mplisov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004pz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,mplisov,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jan/19 11:48 AM;baohua;[https://gerrit.hyperledger.org/r/#/c/28453/]

Will consider to backport if needed.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Chaincodes test is failing in FAB-6211 in the smoke test,FAB-13468,36446,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,02/Jan/19 11:44 PM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,05/Jan/19 10:56 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The chaincodes test *FAB-6211* is failing in the smoke tests , timeout expired while starting chaincode for mycc. 

Intermittent: Yes

Branch: Master(2.0)

Error Snippet:

{code:java}
@smoke
  Scenario: FAB-6211: Test example02 chaincode written using NODE without tls
    Given I have a bootstrapped fabric network of type solo without tls ... passed in 21.815s
    When an admin sets up a channel ... passed in 38.208s
    And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... failed in 620.621s
{code}



There are other failed cases in the smoke test, the OTE tests are failing with the error,

{code:java}
00:32:07.674 /usr/local/go/pkg/tool/linux_amd64/link: running gcc failed: exec: ""gcc"": executable file not found in $PATH
00:32:07.674 
00:32:07.674 # runtime/cgo
00:32:07.674 exec: ""gcc"": executable file not found in $PATH
00:32:07.674 mv: can't rename 'ote-*.log': No such file or directory
00:32:07.674 Error: No such container:path: OTE:/opt/gopath/src/github.com/hyperledger/fabric/OTE/ote.log
00:32:07.674 grep: ./logs/FAB-7936_100tx_3ch_3ord_3kb.log: No such file or directory
00:32:07.674 ./runote.sh: line 355: [: too many arguments
00:32:07.674 Removing OTE ... 
{code}

I also see the Resource error in PTE tests.

~00:52:03.978 IOError: [Errno 11] Resource temporarily unavailable~

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/565/",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13461,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,a20cdbedc566081e7769be485693384a4e84de51,Unset,No,,,"1|i004q7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Jan/19 12:21 AM;latitiah;The node chaincode test looks to be failing due to the merge of FAB-11096.;;;","04/Jan/19 12:46 AM;scottz;The ote errors are also seen in the daily tests, and being tracked with bug FAB-13461.;;;","04/Jan/19 6:08 AM;scottz;[~latitiah] This is supposed to be testing v1.4 fabric, not master. Alpine was put only into master.

Looking at the logs, I noticed we might be pulling fabric from master (mistakenly):

    git clone --single-branch -b master https://gerrit.hyperledger.org/r/fabric /w/workspace/fabric-test-merge-x86_64/gopath/src/github.com/hyperledger/fabric;

In the fabric-test makefile, we set BRANCH = master. Remember that we had planned to skip the cloning of fabric repo and just pull all images, but that did not work out, so we added back the code to pull fabric. What we did not fix (for this temporary window) was the fact that we clone master (instead of v1.4) version of fabric. 
;;;","05/Jan/19 10:56 PM;sambhavdutt;The Chaincodes test is passing in the smoke tests now along with the other tests

*Latest Test Results*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-merge-x86_64/test_results_analyzer/

*Build Logs*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/569/;;;",,,,,,,,,,,,,,,,,,,,,
FAIL: TestTLSClient,FAB-13469,36447,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,mastersingh24,mastersingh24,03/Jan/19 12:47 AM,01/Jul/19 4:20 AM,28/Oct/23 3:04 AM,01/Jul/19 4:20 AM,,,,,,v1.4.2,v2.0.0,,,fabric-common,,,,0,ci-flake,,," 
{code:java}
09:55:40 ok github.com/hyperledger/fabric/cmd/common 0.631s coverage: 86.3% of statements
 09:55:40 2019-01-02 14:54:25.792 UTC [bccsp] GetDefault -> WARN 001 Before using BCCSP, please call InitFactories(). Falling back to bootBCCSP.
 09:55:40 — FAIL: TestTLSClient (5.03s)
 09:55:40 <autogenerated>:1: 
 09:55:40 Error Trace: client_test.go:39
 09:55:40 Error: Received unexpected error:
 09:55:40 context deadline exceeded
 09:55:40 github.com/hyperledger/fabric/core/comm.(*GRPCClient).NewConnection
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/core/comm/client.go:190
 09:55:40 github.com/hyperledger/fabric/cmd/common/comm.(*Client).NewDialer.func1
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client.go:50
 09:55:40 github.com/hyperledger/fabric/cmd/common/comm.TestTLSClient
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client_test.go:38
 09:55:40 testing.tRunner
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827
 09:55:40 runtime.goexit
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/runtime/asm_amd64.s:1333
 09:55:40 failed to create new connection
 09:55:40 github.com/hyperledger/fabric/cmd/common/comm.(*Client).NewDialer.func1
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client.go:52
 09:55:40 github.com/hyperledger/fabric/cmd/common/comm.TestTLSClient
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client_test.go:38
 09:55:40 testing.tRunner
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827
 09:55:40 runtime.goexit
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/runtime/asm_amd64.s:1333
 09:55:40 Test: TestTLSClient
 09:55:40 panic: runtime error: invalid memory address or nil pointer dereference [recovered]
 09:55:40 panic: runtime error: invalid memory address or nil pointer dereference
 09:55:40 [signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0xcab4f3]
 09:55:40 
 09:55:40 goroutine 6 [running]:
 09:55:40 testing.tRunner.func1(0xc0000d2600)
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:792 +0x6a7
 09:55:40 panic(0xe94740, 0x1650c10)
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/runtime/panic.go:513 +0x1b9
 09:55:40 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*ClientConn).Close(0x0, 0x0, 0x0)
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/clientconn.go:761 +0x53
 09:55:40 github.com/hyperledger/fabric/cmd/common/comm.TestTLSClient(0xc0000d2600)
 09:55:40 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/cmd/common/comm/client_test.go:40 +0x4fe
 09:55:40 testing.tRunner(0xc0000d2600, 0xf586d8)
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0x163
 09:55:40 created by testing.(*T).Run
 09:55:40 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x651
 09:55:40 FAIL github.com/hyperledger/fabric/cmd/common/comm 5.061s{code}",,denyeart,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004qf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jan/19 2:00 AM;sykesm;The dial timed out after 5s - the default timeout from the code.

Because the timeout failed, we got an error. The error was reported out of the assertion but, because it's assert and not require, it then tried to close the nil connection and panicked.

I don't know what can be done with this one. With the exception of mixing and matching 127.0.0.1 and localhost, the test looks okay.  (localhost can resolve to 127.0.0.1 or ::1 depending on your current network topology);;;","19/Jan/19 2:06 AM;sykesm;Using this to fix the two things I pointed out.;;;","19/Jan/19 2:06 AM;sykesm;https://gerrit.hyperledger.org/r/28812 [FAB-13469] consistently use 127.0.0.1;;;","01/Jul/19 2:59 AM;denyeart;Hit in release-1.4... cherry picking back... https://gerrit.hyperledger.org/r/#/c/fabric/+/32136/;;;",,,,,,,,,,,,,,,,,,,,,
peer panic with invalid blocks,FAB-13470,36448,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,dongming,dongming,03/Jan/19 12:52 AM,05/Jan/19 4:53 AM,28/Oct/23 3:04 AM,05/Jan/19 4:53 AM,v1.4.0,,,,,,,,,fabric-gossip,fabric-peer,,,0,,,,"Test scenarios:

network: 1 channel, 5 orgs, 2 peers per org, only org5 has persistent data
 * execute transactions
 * bring down network, org5 has blocks
 * then bring up network with org 5 has persistent data from previous test
 * create the same channel and join to channel, the peers of org5 fails as expected due to persistent data
 * ledgers begin to catch-up since the persistent data in org5 peers
 * then the first peer of org1-org4 panic

 

The peer log from peer1 of org1:

2018-12-31 19:19:10.990 UTC [gossip.privdata] StoreBlock -> DEBU 1eb [testorgschannel1] No missing collection private write sets to fetch from remote peers
2018-12-31 19:19:10.994 UTC [gossip.state] commitBlock -> ERRO 1ec Got error while committing(unexpected Previous block hash. Expected PreviousHash = [8c6051f32c1c4b99da4eab9979eaa90c30c795932dbec5d6e61d31923bcf869c], PreviousHash referred in the latest block= [a4ce6643c4379723edcbf81f9fad80b3acddf1f3be1e290ece3d2e7e8c0a2525]
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*blockfileMgr).addBlock
 /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/blockfile_mgr.go:254
github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage.(*fsBlockStore).AddBlock
 /opt/gopath/src/github.com/hyperledger/fabric/common/ledger/blkstorage/fsblkstorage/fs_blockstore.go:42
github.com/hyperledger/fabric/core/ledger/ledgerstorage.(*Store).CommitWithPvtData
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/ledgerstorage/store.go:132
github.com/hyperledger/fabric/core/ledger/kvledger.(*kvLedger).CommitWithPvtData
 /opt/gopath/src/github.com/hyperledger/fabric/core/ledger/kvledger/kv_ledger.go:312
github.com/hyperledger/fabric/core/ledger/ledgermgmt.(*closableLedger).CommitWithPvtData
 <autogenerated>:1
github.com/hyperledger/fabric/core/committer.(*LedgerCommitter).CommitWithPvtData
 /opt/gopath/src/github.com/hyperledger/fabric/core/committer/committer_impl.go:93
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:233
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558
runtime.goexit
 /opt/go/src/runtime/asm_amd64.s:1333
commit failed
github.com/hyperledger/fabric/gossip/privdata.(*coordinator).StoreBlock
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/privdata/coordinator.go:235
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:771
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558
runtime.goexit
 /opt/go/src/runtime/asm_amd64.s:1333
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).commitBlock
/opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:772
github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).deliverPayloads
 /opt/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:558
runtime.goexit
 /opt/go/src/runtime/asm_amd64.s:1333)

 

It is understood that ledger catch-up will fail, due to the test scenario leading to the hash mismatch.

Our questions:
1. Are peers on other orgs expected to panic due to the catch-up failure?
2. Is there a good reason why the peers have to panic? Why not just halt processing blocks on that one chain? We think the peer should still be able to continue with other blockchains.",,denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004qn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Jan/19 9:56 PM;denyeart;[~dongming] Only the peer with the hash mismatch should fail. In this scenario the peer has to be rebuilt (it's not possible to 'fix' one channel at a time). Therefore it is correct for the peer to panic so that the admin knows to rebuild the peer.  Usually these problems are in dev/test environments due to data from a prior test, rather than real production problems.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Chaincode installation fails with timeout error,FAB-13471,36449,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,raft 3,raft 3,03/Jan/19 12:56 AM,24/Dec/19 1:33 AM,28/Oct/23 3:04 AM,23/Jan/19 12:37 AM,v1.2.0,v1.3.0,v1.4.0,,,v1.2.2,v1.4.1,v2.0.0,,fabric-peer,,,,1,,,,"We run multiple chaincode upgrade processes in parallel for different chaincodes through a single CLI container in our CI/CD pipelines . Steps are as below: 
{code:java}
1. Iterate through peers and install new version of chaincode
2. Upgrade chaincode on first peer
3. Iterate through peers and invoke chaincode
4. Iterate through peers and list installed and instantiated chaincode{code}
Some peer(s) accept the *install* command without any error, but actually new version is neither installed nor instantiated.

After that point, any *install* command on that peer fails with timeout error. Also restarting the peer doesnt fix the issue.

Looks like this is not an actual timeout but something has stuck on *lscc* system chaincode on that peer. Installing chaincode on other peers completes almost instantly.

CLI command output:
{code:java}
root@2bc2a8ee383c:/# peer chaincode install -n pivt -v 1.1 -l node -p /opt/gopath/src/github.com/chaincode/pivt
2019-01-02 15:42:58.441 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-01-02 15:42:58.441 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
2019-01-02 15:43:28.445 UTC [chaincodeCmd] install -> INFO 003 Installed remotely response:<status:500 message:""failed to execute transaction dd8b66c50d4c33b528b5ca36f2f47a90da3e630ff5089bd7e902ffffd0167b73: error sending: timeout expired while executing transaction"" >{code}
Peer logs:
{code:java}
2019-01-02 15:42:58.444 UTC [endorser] callChaincode -> INFO 080 [][dd8b66c5] Entry chaincode: name:""lscc""
2019-01-02 15:43:28.444 UTC [endorser] callChaincode -> INFO 081 [][dd8b66c5] Exit chaincode: name:""lscc""  (30000ms)
2019-01-02 15:43:28.445 UTC [endorser] SimulateProposal -> ERRO 082 [][dd8b66c5] failed to invoke chaincode name:""lscc"" , error: timeout expired while executing transaction
github.com/hyperledger/fabric/core/chaincode.(*Handler).Execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/handler.go:1129
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:304
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Invoke
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:293
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:230
github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147
github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:142
github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237
github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456
github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
        /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:162
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1011
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1249
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:680
runtime.goexit
        /opt/go/src/runtime/asm_amd64.s:2361
error sending
failed to execute transaction dd8b66c50d4c33b528b5ca36f2f47a90da3e630ff5089bd7e902ffffd0167b73
github.com/hyperledger/fabric/core/chaincode.processChaincodeExecutionResult
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:236
github.com/hyperledger/fabric/core/chaincode.(*ChaincodeSupport).Execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/chaincode/chaincode_support.go:231
github.com/hyperledger/fabric/core/endorser.(*SupportImpl).Execute
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/support.go:147
github.com/hyperledger/fabric/core/endorser.(*Endorser).callChaincode
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:142
github.com/hyperledger/fabric/core/endorser.(*Endorser).SimulateProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:237
github.com/hyperledger/fabric/core/endorser.(*Endorser).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/endorser/endorser.go:456
github.com/hyperledger/fabric/core/handlers/auth/filter.(*expirationCheckFilter).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/expiration.go:61
github.com/hyperledger/fabric/core/handlers/auth/filter.(*filter).ProcessProposal
        /opt/gopath/src/github.com/hyperledger/fabric/core/handlers/auth/filter/filter.go:32
github.com/hyperledger/fabric/protos/peer._Endorser_ProcessProposal_Handler
        /opt/gopath/src/github.com/hyperledger/fabric/protos/peer/peer.pb.go:162
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).processUnaryRPC
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1011
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleStream
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:1249
github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams.func1.1
        /opt/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:680
runtime.goexit
        /opt/go/src/runtime/asm_amd64.s:2361
{code}",,bmos299,denyeart,GingerMoon,hakan.eryargi,latitiah,manish-sethi,mastersingh24,mplisov,raft 3,sykesm,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"24/Dec/19 1:31 AM;hakan.eryargi;peer.logs.23.12.2019;https://jira.hyperledger.org/secure/attachment/18051/peer.logs.23.12.2019","03/Jan/19 11:01 PM;raft 3;peer_logs.txt;https://jira.hyperledger.org/secure/attachment/16505/peer_logs.txt","07/Jan/19 7:59 PM;raft 3;peer_logs2.txt;https://jira.hyperledger.org/secure/attachment/16507/peer_logs2.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004qv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bmos299,denyeart,GingerMoon,hakan.eryargi,latitiah,manish-sethi,mastersingh24,mplisov,raft 3,sykesm,yacovm,ymlbright,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,main,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"03/Jan/19 9:46 PM;denyeart;[~raft 3] Please attach peer debug (env variable CORE_LOGGING_LEVEL=DEBUG).;;;","03/Jan/19 11:03 PM;raft 3;[~denyeart] please see attached logs. They are very verbose, I just set log level to debug, restarted peer, tried an *install* and captured all logs.;;;","04/Jan/19 10:29 PM;raft 3;Also, during parallel upgrading, almost always we got errors on some peers like below:
{code:java}
Error: could not assemble transaction, err proposal response was not successful, error code 500, msg cannot get package for chaincode (<chaincode_name>:<version>){code}
To my understanding, error states that version of chaincode is not installed, but it's actually installed, I can see it with:
{code:java}
peer chaincode list --installed{code}
Also I can manually do an upgrade based on that version. I added a 10 seconds sleep between install and upgrade, helped a bit but didnt solve it completely.;;;","05/Jan/19 11:58 PM;denyeart;Looks like lscc install step does indeed hang until timeout, the install never completes:
{code:java}
[36m2019-01-03 13:58:07.800 UTC [endorser] SimulateProposal -> DEBU 704[0m [][e36c3e59] Entry chaincode: name:""lscc"" 
[34m2019-01-03 13:58:07.800 UTC [endorser] callChaincode -> INFO 705[0m [][e36c3e59] Entry chaincode: name:""lscc"" 
[36m2019-01-03 13:58:07.800 UTC [chaincode] Execute -> DEBU 706[0m Entry
[36m2019-01-03 13:58:07.801 UTC [chaincode-metadata] GetMetadataAsTarEntries -> DEBU 707[0m Created metadata tar
[36m2019-01-03 13:58:07.801 UTC [cceventmgmt] HandleChaincodeInstall -> DEBU 708[0m HandleChaincodeInstall() - chaincodeDefinition=&cceventmgmt.ChaincodeDefinition{Name:""pivt"", Hash:[]uint8{0xdd, 0xf1, 0x37, 0xd5, 0x5, 0x5b, 0x64, 0x3a, 0x11, 0x10, 0xc6, 0x3b, 0x86, 0x27, 0x79, 0x6a, 0x23, 0xb0, 0xa1, 0xb7, 0xe6, 0xea, 0xb6, 0xce, 0x4, 0x82, 0xeb, 0x57, 0x75, 0x2e, 0x9c, 0xae}, Version:""1.1"", CollectionConfigs:[]uint8(nil)}{code};;;","07/Jan/19 8:02 PM;raft 3;[~denyeart] please also see the new attached logs. In another identical network we ended up with the same state. These logs contains everything from the beginning, so it might give a clue.;;;","14/Jan/19 8:40 PM;mastersingh24;[~raft 3]  - any chance you can run with logging set to debug?;;;","14/Jan/19 8:45 PM;raft 3;[~mastersingh24] the first set of logs 'peer_logs.txt' is in debug mode;;;","19/Jan/19 1:21 AM;sykesm;From the logs, it looks like we've entered core/ledger/cceventmgr.Mgr#HandleChaincodeInstall. We never see anything else (errors or otherwise) implying we're waiting for a lock or, less likely, there were no registered lifecycle listeners.

logs:
{code}
[36m2019-01-03 13:58:07.801 UTC [chaincode-metadata] GetMetadataAsTarEntries -> DEBU 707[0m Created metadata tar
[36m2019-01-03 13:58:07.801 UTC [cceventmgmt] HandleChaincodeInstall -> DEBU 708[0m HandleChaincodeInstall() - chaincodeDefinition=&cceventmgmt.ChaincodeDefinition{Name:""pivt"", Hash:[]uint8{0xdd, 0xf1, 0x37, 0xd5, 0x5, 0x5b, 0x64, 0x3a, 0x11, 0x10, 0xc6, 0x3b, 0x86, 0x27, 0x79, 0x6a, 0x23, 0xb0, 0xa1, 0xb7, 0xe6, 0xea, 0xb6, 0xce, 0x4, 0x82, 0xeb, 0x57, 0x75, 0x2e, 0x9c, 0xae}, Version:""1.1"", CollectionConfigs:[]uint8(nil)}
{code}

code:
{code}
// HandleChaincodeInstall is expected to get invoked during installation of a chaincode package
func (m *Mgr) HandleChaincodeInstall(chaincodeDefinition *ChaincodeDefinition, dbArtifacts []byte, sccp sysccprovider.SystemChaincodeProvider) error {
	logger.Debugf(""HandleChaincodeInstall() - chaincodeDefinition=%#v"", chaincodeDefinition)
	// Write lock prevents concurrent deploy operations
	m.rwlock.Lock()
	for chainid := range m.ccLifecycleListeners {
		logger.Debugf(""Channel [%s]: Handling chaincode install event for chaincode [%s]"", chainid, chaincodeDefinition)
...
		logger.Debugf(""Channel [%s]: Handled chaincode install event for chaincode [%s]"", chainid, chaincodeDefinition)
	}
	return nil
{code}

Not very familiar with this code but my guess is that we're blocked on the lock. It looks like HandleChaincodeDeploy obtains the read lock and install obtains the write lock. Getting a go routine dump during the hang would confirm this.;;;","21/Jan/19 8:55 AM;manish-sethi;Looking at the logs (peer_logs.txt), I find that there are two chaincode upgrade transactions in a single block. In the code for release 1.3 (and I believe that this has not changed since then), the chaincode-events-listener of the discovery service code writes the event to a golang channel (and processes all the events only on block commit). This channel is initialized with capacity one and hence it gets stuck on the second call. CCing [~yacovm].

Relevant logs from peer_logs.txt
{code}
[36m2019-01-03 13:57:45.978 UTC [cceventmgmt] HandleStateUpdates -> DEBU 475[0m Channel [puo2channel]: Handling state updates in LSCC namespace - stateUpdates=[]*kvrwset.KVWrite{(*kvrwset.KVWrite)(0xc421f4f9f0), (*kvrwset.KVWrite)(0xc421f4fa40)}
[34m2019-01-03 13:57:45.978 UTC [cceventmgmt] HandleStateUpdates -> INFO 476[0m Channel [puo2channel]: Handling LSCC state update for chaincode [info]
[34m2019-01-03 13:57:45.978 UTC [cceventmgmt] HandleStateUpdates -> INFO 477[0m Channel [puo2channel]: Handling LSCC state update for chaincode [puo]
[36m2019-01-03 13:57:45.979 UTC [cceventmgmt] HandleChaincodeDeploy -> DEBU 479[0m Channel [puo2channel]: Handling chaincode deploy event for chaincode [[Name=info, Version=3723, Hash=[]byte{0xce, ...} Name=puo, Version=3725, Hash=[]byte{0x6d, ...}]]
[36m2019-01-03 13:57:45.986 UTC [discovery/lifecycle] HandleChaincodeDeploy -> DEBU 486[0m Channel puo2channel got a new deployment: Name=info, Version=3723, Hash=[]byte{0xce, ...}
[36m2019-01-03 13:57:45.986 UTC [cceventmgmt] HandleChaincodeDeploy -> DEBU 487[0m Channel [puo2channel]: Handled chaincode deploy event for chaincode [[Name=info, Version=3723, Hash=[]byte{0xce, ...} Name=puo, Version=3725, Hash=[]byte{0x6d, ...}]]
[36m2019-01-03 13:57:45.988 UTC [discovery/lifecycle] HandleChaincodeDeploy -> DEBU 48a[0m Channel puo2channel got a new deployment: Name=puo, Version=3725, Hash=[]byte{0x6d, ...}
........... NO LOG ENTRY HERE FOR puo chaincode saying that ""Handled chaincode deploy event for chaincode [[Name=puo"" 
{code}

Relevant code snippets
{code}
// HandleChaincodeDeploy is expected to be invoked when a chaincode is deployed via a deploy transaction and the chaicndoe was already
// installed on the peer. This also gets invoked when an already deployed chaincode is installed on the peer
func (sub *Subscription) HandleChaincodeDeploy(chaincodeDefinition *cceventmgmt.ChaincodeDefinition, dbArtifactsTar []byte) error {
	Logger.Debug(""Channel"", sub.channel, ""got a new deployment:"", chaincodeDefinition)
	sub.pendingUpdates <- chaincodeDefinition
	return nil
}


// NewChannelSubscription subscribes to a channel
func (lc *Lifecycle) NewChannelSubscription(channel string, queryCreator QueryCreator) (*Subscription, error) {
	sub := &Subscription{
		lc:             lc,
		channel:        channel,
		queryCreator:   queryCreator,
		pendingUpdates: make(chan *cceventmgmt.ChaincodeDefinition, 1),
	}
{code};;;","21/Jan/19 9:07 AM;yacovm;[~manish-sethi] I guess the ChaincodeDeployDone is only called by the ledger after all the HandleChaincodeDeploy are called and not 1 by 1? ;;;","21/Jan/19 9:10 AM;manish-sethi;Yes, [~yacovm] that is correct.;;;","21/Jan/19 9:47 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28841/ , https://gerrit.hyperledger.org/r/#/c/28842, https://gerrit.hyperledger.org/r/#/c/28843 https://gerrit.hyperledger.org/r/#/c/28844 
;;;","21/Jan/19 9:56 AM;yacovm;I should've realized that is how it works... no clue why I thought (wishful thinking?) it's 1 by 1 :(;;;","23/Jan/19 5:31 AM;yacovm;[~denyeart] , [~bmos299] does SVT cover chaincode upgrades?;;;","23/Jan/19 6:58 AM;bmos299;[~yacovm] yes.  Upgrade cc testing is performed.  I see FAB-8252.  In the past it was part of our fvt testing.  I do not see this in our daily run or a behave test.  [~scottz] [~suryalnvs] [~latitiah] was this tested in 1.3 and 1.4?  Now that we aren't doing fvt, this could be missed.   ;;;","23/Jan/19 3:18 PM;denyeart;The test scenario that was missed was the scenario of having multiple chaincode upgrade transactions in the same block. This is not a very common scenario and therefore missed in both function and system tests.;;;","23/Jan/19 11:39 PM;latitiah;There are currently 3 different chaincode upgrade scenarios being tested through CI that are described in these 2 issues: FAB-7407 FAB-8759. All 3 scenarios have been passing without problems. If you are interested in seeing the steps and/or the results, here is a link to the test matrix https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/test_results_analyzer/. Drill down into the peer tests and find the tests with the before-mentioned issue numbers. (ex.: https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-master-x86_64/143/testReport/peer/Peer%20Service/FAB_7407__Update_the_channel_policies___add_an_organization)

None of these test cases have the scenario of having multiple chaincode upgrade transactions in the same block or in parallel.  ;;;","03/Apr/19 2:40 AM;raft 3;Hey Guys, might there be a similar issue with chaincode *instantiation* in parallel? We are experimenting with install/instantiate in parallel but doesnt look much stable, fails sometimes. We are using version: *1.4.1-rc1*;;;","24/Dec/19 1:33 AM;hakan.eryargi;I guess this issue isnt solved completely or there is another similar issue. 

One of our peers stucked in a very similar state. After that, all chaincode installations failed with timeout error. Fortunately resolved after restarting the peer.

Complete peer logs are attached: peer.logs.23.12.2019;;;",,,,,,
"unit tests are failing in dockercontroller test, container is not running.",FAB-13472,36450,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,03/Jan/19 1:11 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,11/Jan/19 12:06 AM,v1.2.0,,,,,v1.2.0,,,,fabric-common,,,,0,ci-failure,,,"The unit-test is failing in the dockercontroller_test.go as an expected container is not running,

Intermittent: No

Branch: release-1.2

Platform: x86_64

Error Snippet:

{code:java}
00:12:26.230 unit-tests_1  | 2019-01-02 01:08:17.922 UTC [dockercontroller] Start -> ERRO 003 start-could not recreate container <simple>, because of Error creating the container
00:12:26.230 unit-tests_1  | 2019-01-02 01:08:17.924 UTC [dockercontroller] Start -> ERRO 004 start-could not find image <simple-a7a39b72f29718e653e73503210fbb597057b7a1c77d1fe321a1afcff041d4e1>, because of no such image
00:12:26.230 unit-tests_1  | 2019-01-02 01:08:20.514 UTC [dockercontroller] Start -> ERRO 005 start-could not start container: Error starting the container
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.2-x86_64/105/
",,denyeart,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,97cc9d0eebfc99bc28151de468c638b0e11612cb,Unset,No,,,"1|i004r3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
01-02-19 broken links report,FAB-13474,36455,33080,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,pandrejko,pandrejko,03/Jan/19 6:33 AM,14/Jan/20 1:57 AM,28/Oct/23 3:04 AM,14/Jan/20 1:57 AM,v1.4.0,,,,,v1.4.0,,,,fabric-docs,,,,0,stale-item,,,"Broken link report: [https://jenkins.hyperledger.org/sandbox/job/fabric-docs-build-x86_64/1/console]

 

1. ../developapps/developing_applications.html 
  
 [https://www.npmjs.com/package/fabric-network]

 

2. upgrading_your_network_tutorial

[https://github.com/hyperledger/fabric/releases/tag/v1.4.0]
 - 404 Client Error: Not Found for url:
 [https://github.com/hyperledger/fabric/releases/tag/v1.4.0]

3. whats new
  
 [(line 120) https://github.com/hyperledger/fabric/releases/tag/v1.4.0|https://github.com/hyperledger/fabric/releases/tag/v1.4.0]
  
 [(line 121) https://github.com/hyperledger/fabric-ca/releases/tag/v1.4.0|https://github.com/hyperledger/fabric-ca/releases/tag/v1.4.0]

 

4. msp (false positive)
  
 [http://www.ietf.org/rfc/rfc5280.txt]

 ",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004s7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/20 1:57 AM;pandrejko;Broken link checker no longer works on new CI/CD pipeline.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Make dynamic onboarding code more idiomatic,FAB-13481,36467,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,04/Jan/19 3:47 AM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,09/Jan/19 8:07 AM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,,,,"Address code review comments from: https://gerrit.hyperledger.org/r/#/c/28391/

Namely:

* extract the exponential backoff to its own file
* make the contract of the exponential backoff be similar to the ticker",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004uv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jan/19 8:51 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28473/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Set the BRANCH variable in fabric-test Makefile.,FAB-13482,36468,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,sambhavdutt,sambhavdutt,sambhavdutt,04/Jan/19 6:16 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,28/Feb/19 1:16 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004v3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prep for v1.4 branching of fabric-test,FAB-13483,36469,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,04/Jan/19 6:33 AM,07/Jan/19 10:21 PM,28/Oct/23 3:04 AM,07/Jan/19 10:21 PM,,,,,,v1.4.0,,,,fabric-quality,,,,0,,,,"There are a few items that need to be done when branching fabric-test to v1.4.
 * update the PTE version in the following files (may be done before branching):
 ** tools/ATD/vars/1channel.yml (tag: ""1.4.0"")
 ** tools/ATD/vars/FAB12135.yml (tag: ""1.4.0"")
 * change .gitmodules
** add ""branch = release-1.4"" to each of the repos *minus* cello (until cello releases supporting versions)
* change Makefile
** ""git-latest"" target needs to explicitly pull from the set branch
** fabric replace ""master"" with ""release-1.4""
** ca replace ""master"" with ""release-1.4""
** fabric-chaincode-java replace ""master"" with ""release-1.4""
** (Once we are pulling images successfully for the test runs, we also need to ensure that pullDockerImages.sh pulls the correct images from dockerhub)
* feature/package.json
** change ""unstable"" to ""unstable-1.4""
* tools/PTE/package.json
** change ""unstable"" to ""unstable-1.4""
* tools/PTE/README.md
** change ""master"" to ""release-1.4""
* tools/PTE/CITest/README.md
** change ""master"" to ""release-1.4""",,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12546,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004vb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jan/19 8:27 AM;latitiah;In the Makefile, change the BRANCH to release-1.4 instead of master.

In scripts/pullDockerImages.sh, 
- change LATEST_TAG to ""1.4.0-stable"" instead of ""latest""
- change ""latest"" in dockerThirdParty() function to the correct version for v1.4 ($ARCH-0.4.14)

In scripts/pullBinaries.sh, change RELEASE_VERSION to ""1.4.0-stable"" instead of ""latest"";;;","05/Jan/19 2:16 AM;latitiah;Note: not all repos have been changed to v1.4.

The git-latest target in Makefile was changed to:
{code:java}
cd $(HYPERLEDGER_DIR)/fabric-test/cello && git checkout master && git fetch origin master && git reset --hard FETCH_HEAD && git show-ref HEAD
cd $(HYPERLEDGER_DIR)/fabric-test/fabric && git checkout $(BRANCH) && git fetch origin $(BRANCH) && git reset --hard FETCH_HEAD && git show-ref HEAD
cd $(HYPERLEDGER_DIR)/fabric-test/fabric-ca && git checkout $(BRANCH) && git fetch origin $(BRANCH) && git reset --hard FETCH_HEAD && git show-ref HEAD
cd $(HYPERLEDGER_DIR)/fabric-test/fabric-samples && git checkout master && git fetch origin master && git reset --hard FETCH_HEAD && git show-ref HEAD
cd $(HYPERLEDGER_DIR)/fabric-test/fabric-sdk-node && git checkout $(BRANCH) && git fetch origin $(BRANCH) && git reset --hard FETCH_HEAD && git show-ref HEAD
{code};;;","05/Jan/19 2:18 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/28472/;;;",,,,,,,,,,,,,,,,,,,,,,
"Intermittent fails in unit-tests, prover_test fails to connect to peer.",FAB-13484,36470,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,04/Jan/19 9:41 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,12/Jan/19 1:04 AM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,0,ci-failure,,,"There have been intermittent failures in verify unit-tests, the prover_test failed to connect to prover peer.

Intermitent: Yes

Branch: Master

Platform: x86_64

Error Snippet:

{code:java}
00:30:48.712 Summarizing 1 Failure:
00:30:48.712 
00:30:48.712 [Fail] TokenClient NewProver when it fails to connect to prover peer [It] returns an error 
00:30:48.712 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/token/client/prover_test.go:551
00:30:48.713 
00:30:48.713 Ran 74 of 74 Specs in 3.216 seconds
00:30:48.713 FAIL! -- 73 Passed | 1 Failed | 0 Pending | 0 Skipped
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/7595/
",,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,02b76305714b932c6e2e6b8ee6e656449541b318,Unset,No,,,"1|i004vj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doc: add the info that CouchDB index rebuild can potentially utilize high CPU ,FAB-13485,36473,36169,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,05/Jan/19 1:16 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,,,AdnanChoudhury,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004w7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
SBE test: compare peer CPU usage with and without SBE,FAB-13486,36475,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,AdnanChoudhury,AdnanChoudhury,AdnanChoudhury,05/Jan/19 1:33 AM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,,,,,,Future,,,,,,,,0,stale-item,,,"Test setup: a peer joins an established network with 10,000 blocks already present. the newly joined peer will ask for all blocks, and will commit them.
Scenario A: the blocks have transactions that has SBE for all.  
Scenario B: the blocks have transactions that has SBE for none.

The comparison between  the peer cpu usage of scenario A vs scenario B should indicate if the SBE increases the resource utilization and by how much. ",,AdnanChoudhury,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004wn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove the fabric-ca samples test from the daily jobs.,FAB-13487,36476,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,05/Jan/19 2:05 AM,09/Jan/19 6:30 AM,28/Oct/23 3:04 AM,09/Jan/19 6:30 AM,v1.3.0,v1.4.0,v2.0.0,,,,,,,fabric-ci,,,,0,fabric-samples,,,The BYFN fabric-ca samples job is not required hereafter in the daily tests. This test will be removed from the  list of BYFN tests.,,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004wv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Don't trigger daily jobs if there are no updates/changes.,FAB-13488,36478,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,05/Jan/19 4:14 AM,09/Jan/19 6:30 AM,28/Oct/23 3:04 AM,09/Jan/19 6:30 AM,,,,,,,,,,fabric-ci,,,,0,fabric-ci,,,The daily jobs trigger on time everyday when there are no changes in a repository(e.g. fabric). Trigger the daily jobs only if there are changes or new commit in that repository,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004xb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Node SDK sample does not return error messages - fabcar low level,FAB-13489,36479,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,harrisob@us.ibm.com,denyeart,denyeart,05/Jan/19 4:28 AM,23/Feb/19 4:45 AM,28/Oct/23 3:04 AM,23/Feb/19 4:45 AM,,,,,,v1.4.1,v2.0.0,,,fabric-samples,,,,0,,,,"The various node sdk application samples, upon instantiate or invoke errors, log a generic error message instead of including the specific message that came back from peer.

Here's one example from balance transfer:

""{color:#444444}[ERROR] instantiate-chaincode - Failed to instantiate. cause:Failed to send Proposal and receive all good ProposalResponse{color}""

The peer logs typically don't log chaincode error messages for data privacy reasons. So it is up to the client application to get the error message from the peer response.  When the samples do not log the peer's error message or return it to the calling app, the root cause of the problem goes unknown. To make matters worse, many people copy the samples for their own applications.

Each of the samples needs to be fixed to report the underlying error message.",,bestbeforetoday,denyeart,harrisob@us.ibm.com,mastersingh24,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13372,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-12631,,,No,,Unset,No,,,"1|i004xj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bestbeforetoday,denyeart,harrisob@us.ibm.com,mastersingh24,odowdaibm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"05/Jan/19 4:28 AM;denyeart;Fixed for balance transfer in : [https://gerrit.hyperledger.org/r/#/c/28399/]

[~harrisob@us.ibm.com] Could you also fix for fabcar low level sample using this Jira item: [https://github.com/hyperledger/fabric-samples/tree/master/fabcar/javascript-low-level];;;","09/Jan/19 1:26 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/28539/;;;","22/Feb/19 10:01 PM;mastersingh24;merged in master; need one more +2 for 1.4;;;","23/Feb/19 4:45 AM;denyeart;merged in 1.4 as well.;;;",,,,,,,,,,,,,,,,,,,,,
"FAB-3874 CouchDB test failed in ledger_lte daily, Assertion error observed.",FAB-13491,36482,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,AdnanChoudhury,sambhavdutt,sambhavdutt,06/Jan/19 1:17 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,06/Jan/19 11:42 PM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"There was one failed test case *ledger_lte.perf_couchdb.test_FAB_3874_VaryKVSize* in the daily lte tests due to Assertion Error. This is the first fail in the +release-1.4+ test run. 

Intermittent: No

Branch: release-1.4

Error Snippet:


{code:java}
ledger_lte.py::perf_couchdb::test_FAB_3874_VaryKVSize FAILED
.
____________________ perf_couchdb.test_FAB_3874_VaryKVSize _____________________
.
03:51:57.730         self.assertEqual(returncode, 0, msg=""varyKVSize for CouchDB performance""
03:51:57.730 >               "" test failed. \nPlease check the logfile ""+logfile.name+"" for ""
03:51:57.730                 ""more details."")
03:51:57.730 E       AssertionError: varyKVSize for CouchDB performance test failed. 
03:51:57.730 E       Please check the logfile output_VaryKVSize_couchdb.log for more details.
03:51:57.730 
03:51:57.730 ledger_lte.py:300: AssertionError
03:51:57.731 =================== 1 failed, 17 passed in 13875.02 seconds ====================
{code}

I am creating this with Medium priority for now as this could be due to network lag. 

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-release-1.4-x86_64/20/",,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i004y7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"06/Jan/19 11:42 PM;sambhavdutt;The *ledger_lte.perf_couchdb.test_FAB_3874_VaryKVSize* performance test passed successfully in the last run. ;;;",,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB indexing tests (FAB-7264, FAB-7269) are failing consistently in the daily Behave tests.",FAB-13492,36484,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,latitiah,sambhavdutt,sambhavdutt,06/Jan/19 4:33 AM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,11/Jan/19 11:43 PM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"The CouchDB indexing tests are failing consistently in the release-1.4 and in the master branch for FAB-7264, FAB-7269 there is no response from the container *peer0.org1.example.com*

There is another CouchDB_index test failing in the last behave daily test,

*CouchDB_index.Testing Fabric CouchDB indexing.FAB-7270, FAB-7271, FAB-7272: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 3 upgrade – @1.2* --> NPM Err observed.

*Consistent:* Yes

*Branches:* Master, release-1.4

*Error Snippet:*
{code:java}
10:21:37 Failing scenarios:
10:21:37   CouchDB_index.feature:237  FAB-7264: Test CouchDB indexing using CC upgrade with marbles chaincode using GOLANG with 3 channels and 1 upgrade -- @1.1 
.
.
10:21:37   CouchDB_index.feature:238  FAB-7269: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 1 upgrade -- @1.2 
{code}
{code:java}
CouchDB_index.Testing Fabric CouchDB indexing.FAB-7270, FAB-7271, FAB-7272: Test CouchDB indexing using CC upgrade with marbles chaincode using NODE with 3 channels and 3 upgrade -- @1.2 

EINTEGRITY\nnpm ERR! sha512-55Kcx1MhPZX0zTbVosMQEO5R6/rikNXd9b6RQK4KSPcrSIIwoXTtebIczUrXlwaSrbz4x8XUVThGPob1n8I4QA== integrity checksum failed when using sha512: wanted sha512-55Kcx1MhPZX0zTbVosMQEO5R6/rikNXd9b6RQK4KSPcrSIIwoXTtebIczUrXlwaSrbz4x8XUVThGPob1n8I4QA== but got sha512-PiJq19YTknEgnbAoc5Bmppu5qZgVNadeoBkmHPeVuXkcHjJshu29VZa4ADxkSAG2bHpUWrsOyUw+AuSYw+tMSw==. (428678 bytes)\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-01-09T02_11_51_323Z-debug.log\n""\n'}
{code}
*Error Logs*
 [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/24/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7264__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_GOLANG_with_3_channels_and_1_upgrade_____1_1_/]

[https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/24/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7269__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_1_upgrade_____1_2_/]

 [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/24/testReport/CouchDB_index/Testing%20Fabric%20CouchDB%20indexing/FAB_7270__FAB_7271__FAB_7272__Test_CouchDB_indexing_using_CC_upgrade_with_marbles_chaincode_using_NODE_with_3_channels_and_3_upgrade_____1_2_/]

*Build Log*
 [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/24/Behave_Test_Logs/]",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13365,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i004yn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"11/Jan/19 11:43 PM;latitiah;https://gerrit.hyperledger.org/r/#/c/28631/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"Chaincodes tests are failing consistently in test cases FAB-5791, FAB-6439, FAB-6650",FAB-13493,36485,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Invalid: Environment Issue,,sambhavdutt,sambhavdutt,06/Jan/19 4:56 AM,19/Mar/19 8:13 PM,28/Oct/23 3:04 AM,18/Jan/19 6:47 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"The chaincodes tests are failing consistently with Assertion in test cases FAB-5791, FAB-6439, FAB-6650 , FAB-5791 in the daily Behave tests. The same test cases are failing in the release-1.4 and master branches.

*Consistent:* Yes

*Branches:* release-1.4, master,

*Error Snippet:*
{code:java}
10:21:37   chaincodes.feature:331  FAB-6439: Test chaincode enccc_example.go which uses encshim library extensions for solo orderer -- @1.1 

10:21:37   chaincodes.feature:332  FAB-6439: Test chaincode enccc_example.go which uses encshim library extensions for kafka orderer -- @1.2 

10:21:37   chaincodes.feature:372  FAB-6650: Test chaincode enccc_example.go negative scenario, passing in bad ENCRYPTION(ENC), IV, and SIGNATURE(SIG) KEYS -- @1.1 

10:21:37   chaincodes.feature:546  FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for solo orderer leveldb db GOLANG lang -- @1.1 

10:21:37   chaincodes.feature:547  FAB-5791: Test API in SHIM interface using marbles02 and shimApiDriver chaincodes for kafka orderer couchdb db GOLANG lang -- @1.2 
{code}
*Build Logs*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/24/Behave_Test_Logs/|https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/20/Behave_Test_Logs/]",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13365,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i004yv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 6:44 AM;latitiah;These tests are no longer failing in v1.4. The ""master"" branch has different problems stemming from image restructuring in 2.0.0. ;;;","18/Jan/19 6:47 AM;latitiah;These tests are no longer failing in v1.4. The failures seen in master are due to docker images being restructured in v2.0.0;;;",,,,,,,,,,,,,,,,,,,,,,,
TESTS-Chaincodes xml wrapper consistently fails to retrieve output in Test Results.,FAB-13494,36486,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,scottz,sambhavdutt,sambhavdutt,06/Jan/19 5:12 AM,27/Jul/19 4:54 AM,28/Oct/23 3:04 AM,27/Jul/19 4:54 AM,v1.4.0,v2.0.0,,,,v1.4.0,v2.0.0,,,fabric-quality,,,,0,ci-failure,,,"The TESTS-Chaincodes xml file consistently fails to display output in Test Results Analyzer plugin, the other xml test case wrappers are working fine in master and release-1.4 daily Behave tests.

Consistent: Yes

Branches: master, release-1.4

Error Snippet:

{code:java}
Failed to read test report file /w/workspace/fabric-test-daily-behave-release-1.4-x86_64/gopath/src/github.com/hyperledger/fabric-test/regression/daily/TESTS-chaincodes.xml
org.dom4j.DocumentException: Error on line 939 of document  : An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"". Nested exception: An invalid XML character (Unicode: 0x1b) was found in the value of attribute ""message"" and element is ""failure"".
{code}

*Error Log*
https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/20/testReport/TESTS-chaincodes/xml/_failed_to_read_/

The errors are displayed well in the full console output, Jenkins.

*Build Log*
https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/20/
",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 7:49 AM;latitiah;TESTS-chaincodes.xml;https://jira.hyperledger.org/secure/attachment/16596/TESTS-chaincodes.xml",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i004z3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 7:25 AM;latitiah;This error occurs because the Jenkins plugin is unable to read the generated xml file at line 939. This occurs when the error that is generated has unicode characters that the plugin does not recognize.

There are some test failures that with certain chaincodes (such as enccc_example.go) that display details of the failures. We can decrease the information that is stored in the output. By doing so, we also lose some post-run debug data. In this specific example, the install failed and the details from every step up to the point of failure is included in the error message.

As a first pass, I'll have the debug written as a string instead of unicode. 

The offending xml file has been included in the issue. Note line 939, the offending line.;;;","27/Jul/19 4:54 AM;vijaypunugubati;tool framework issue. we are deprecating both jenkins and behave, so no point in pursuing this.;;;",,,,,,,,,,,,,,,,,,,,,,,
Attach onboarding max retry logic to the orderer,FAB-13495,36487,34813,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,06/Jan/19 8:05 AM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,09/Jan/19 12:27 AM,,,,,,,,,,fabric-orderer,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004zb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jan/19 10:18 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28499/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Validate all Raft-Metadata is the same before commit,FAB-13496,36489,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,tock,tock,tock,06/Jan/19 8:27 PM,04/Apr/19 4:45 PM,28/Oct/23 3:04 AM,04/Apr/19 4:40 PM,Future,,,,,,,,,fabric-orderer,,,,0,,,,"Validate that the Raft ConsensusType.Metadata is valid, i.e. has what ""seems"" to be valid consenters, options, etc.

Do this before CONTEXT & COMMIT, to reduce the risk of committing to a Raft cluster that cannot boot. Do this in the broadcast phase to provide better feedback to user.

Before COMMIT, as a condition for ordering and executing it, verify that the Raft metadata is the same on all channels.
This will ensure that all channels start with the same set of consenters, and thus all succeed or fail to form a cluster, no mixed results.

 ",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004zr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Apr/19 4:45 PM;tock;Switching to alternative  migration design - v2;;;",,,,,,,,,,,,,,,,,,,,,,,,
gossip test is timing out intermittently  in the code-coverage & unit-test daily tests,FAB-13497,36490,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,07/Jan/19 1:22 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,22/Jan/19 11:55 PM,v1.4.0,v2.0.0,,,,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,,"The gossip tests are timing out in the daily unit-test-code-coverage jobs, these timeouts are happening in multiple branches.

Intermittent: Yes

Platform: x86_64

Error Snippet:


{code:java}
00:43:50.677 /opt/go/go1.11.1.linux.amd64/src/runtime/<<<TestMembershipConvergence>>>
00:43:50.677 --- FAIL: TestMembershipConvergence (575.19s)
00:43:50.677     gossip_test.go:799: Sets of peers connected successfully
00:43:50.677     gossip_test.go:1531: 
00:43:50.677         	Error Trace:	gossip_test.go:1531
00:43:50.677         	            				asm_amd64.s:1333
00:43:50.677         	Error:      	Didn't stop within a timely manner
00:43:50.677         	Test:       	TestMembershipConvergence
00:43:50.677     gossip_test.go:1591: 
00:43:50.677         	Error Trace:	gossip_test.go:1591
00:43:50.677         	            				gossip_test.go:816
00:43:50.677         	Error:      	Timeout expired!
00:43:50.677         	Test:       	TestMembershipConvergence	/opt/go/go1.11.1.linux.amd64/src/runtime/<<<TestMembershipConvergence>>>
00:43:50.677 --- FAIL: TestMembershipConvergence (575.19s)
00:43:50.677     gossip_test.go:799: Sets of peers connected successfully
00:43:50.677     gossip_test.go:1531: 
00:43:50.677         	Error Trace:	gossip_test.go:1531
00:43:50.677         	            				asm_amd64.s:1333
00:43:50.677         	Error:      	Didn't stop within a timely manner
00:43:50.677         	Test:       	TestMembershipConvergence
00:43:50.677     gossip_test.go:1591: 
00:43:50.677         	Error Trace:	gossip_test.go:1591
00:43:50.677         	            				gossip_test.go:816
00:43:50.677         	Error:      	Timeout expired!
00:43:50.677         	Test:       	TestMembershipConvergence
{code}

*Build Logs*

https://jenkins.hyperledger.org/view/Daily/job/fabric-unit-test-coverage-daily-master-x86_64/317/consoleFull

",,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004zz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Jan/19 3:50 AM;denyeart;[~sambhavdutt] We should add 'flakes' label to these. [~C0rWin] FYI;;;","22/Jan/19 11:56 PM;sambhavdutt;There are no recent fails with timeout error in the gossip tests;;;",,,,,,,,,,,,,,,,,,,,,,,
Documentation for policies contains a typo,FAB-13498,36471,,Bug,Closed,FAB,Fabric,software,denyeart,,,Lowest,Done,berendeanicolae,berendeanicolae,berendeanicolae,04/Jan/19 9:57 PM,07/Jan/19 11:55 AM,28/Oct/23 3:04 AM,06/Jan/19 3:16 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,Documentation,,,"The file `fabric\docs\source\policies.rst` contains a typo in the complex example for the SignaturePolicyEnvelope. Instead of 


``mspP0``, and another signature which either satisfies ``mspP2`` or

on line 215, it should be 

``mspP1``, and another signature which either satisfies ``mspP2`` or",,berendeanicolae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,900,900,,0%,900,900,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i004vr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),berendeanicolae,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"04/Jan/19 10:36 PM;berendeanicolae;I created commit [https://gerrit.hyperledger.org/r/#/c/28480/] for this issue;;;",,,,,,,,,,,,,,,,,,,,,,,,
basic-network sample's scrypt doesn't match docker's imagetag. ,FAB-13499,36494,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nicezic,nicezic,nicezic,07/Jan/19 12:19 PM,07/Jan/19 1:48 PM,28/Oct/23 3:04 AM,07/Jan/19 1:48 PM,v1.3.0,,,,,v1.3.0,,,,fabric-samples,,,,0,,,,"If you use v1.3.0 version of fabric-samples, basic-network's script uses latest version, currently v1.4.0.

In basic-network sample, it uses lastest version of fabric docker images, which is currently 1.4.0.

 

In addition to that, other samples such as fabcar uses basic-network sample.

You can aslo see the warning of v1.4.0 new logging feature, CORE_LOGGING_LEVEL, when you run ./fabcar/startFabric.sh.

 ",,nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0050v:",,,,Unset,Unset,,,"### 1. Setting up fabric-samples. ###

$ cd ./basic-networks
$ git checkout release-1.3
$ cd scripts
$ ./bootstrap.sh
# downloding latest(1.3) docker images.
$ cd ..

### 2. start basic-network. ###

$ cd ./basic-network
$ ./start.sh

# it will pull( downloading ) fabric's latest version of the images, which is 1.4.0
# However, fabric-sample is 1.3.0.

### 3. checking the peer's version.

$ docker exec -it 2d93348b28aa bash

# in the peer's container.

$ peer version  
peer:
 Version: 1.4.0-rc2
 Commit SHA: b87ec80
 Go version: go1.11.1
 OS/Arch: linux/amd64
 Chaincode:
  Base Image Version: 0.4.14
  Base Docker Namespace: hyperledger
  Base Docker Label: org.hyperledger.fabric
  Docker Namespace: hyperledger",,Unset,,,,,,Unset,,Unset,,(Please add usage information),nicezic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a way to serialize structures to the key value store.",FAB-13500,36495,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:23 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"The v1.x implementation of LSCC stored all of the chaincode information (except for collections) in a single monolithic value using protobuf.  This has the problem that any change to the chaincode definition invalidates all in-flight requests, so for instance changing the endorsement policy (which has no affect on the output of the tx) will invalidate a transaction unnecessarily.

Therefore, it's desirable to have a way to store individual structure fields as keys, but without introducing the complexity of serializing all fields individually.

The implementation should allow for abitrary structures with int64, uint64, string, and byte fields to be serialized.
",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00513:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
" As a fabric developer, I need a way to deserialize structures serialized ot the key value store.",FAB-13501,36496,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:24 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,This is a symmetrical story to FAB-13500.  The structures serialized must be able to be deserialized.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0051b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
" As a fabric devleoper, I need a way to deserialize individual fields without deserializing the whole structure.",FAB-13502,36497,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:24 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"The rationale behind custom marshaling for FAB-13500 is to allow more fine-grained dependencies in the read set of transactions depending on the chaincode (or other namespace) definition.  Therefore, it's necessary to allow the deserialization of single fields from serialized structures.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0051j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a way to check if a structure has been serialized with hash-only read access to the state.",FAB-13503,36498,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:25 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Because agreement is going to be stored in private-data collections which are only accessible to the owning organization, other orgs will need to be able to verify agreement without being able to actually read the data (only its hashes).

The implementation should effectively serialize the structure, then confirm that the hash of serialized version matches the stored hashes.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0051r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a way to uniformly access state data, whether the state is in the public world state, in a collection, when accessed via the chaincode shim.",FAB-13504,36499,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:25 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"For the purposes of serialization/deserialization, the part of the state that the keys reside in is irrelevant, so, we need a uniform way to access the state.  This can be accomplished via shims which pass through to the underlying implementation.
",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0051z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need to be able to define a chaincode for an organization.",FAB-13505,36500,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:26 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"For the new lifecycle, each organization maintains state as to whether that org agrees with a particular chaincode definition.  If the chaincode is already defined, then making any definition other than the current one does not make sense.  If the chaincode is not defined, then any definition should be allowed as part of the voting mechanic.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00527:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need to be able to define a chaincode for a channel.",FAB-13506,36501,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:27 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"For the new lifecycle, each organization records whatever definnition they desire for the new chaincode definition.  This function should read all of the votes, and return a slice of which organizations agree to a given definition.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0052f:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need to be able to query a chaincode definition for a channel.",FAB-13507,36502,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:27 PM,20/Feb/19 2:23 PM,28/Oct/23 3:04 AM,20/Feb/19 2:23 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0052n:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I need a SCC function which exposes the ability to query a chaincode definition for a channel.",FAB-13508,36503,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:28 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0052v:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need to be able to query all serialized objects.",FAB-13509,36504,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:28 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00533:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need to be able to list all defined namespaces.",FAB-13510,36505,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:29 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0053b:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I need a SCC function which exposes the ability to query all defined namespaces.",FAB-13511,36506,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:29 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0053j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Add an integration test to confirm basic lifecycle functionality is valid and consistent.,FAB-13512,36507,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:30 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0053r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,MichaelWang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
DRY Serialization to prepare for hashed serialization checking,FAB-13513,36508,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:30 PM,20/Feb/19 2:24 PM,28/Oct/23 3:04 AM,20/Feb/19 2:24 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0053z:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a uniform way to query state ranges.",FAB-13514,36509,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:30 PM,28/Jan/19 2:02 PM,28/Oct/23 3:04 AM,28/Jan/19 2:02 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00547:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need a uniform way to enforce ACLs based on policies local to the peer.",FAB-13515,36510,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,jyellick,jyellick,07/Jan/19 12:56 PM,20/Feb/19 6:29 AM,28/Oct/23 3:04 AM,20/Feb/19 6:29 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Existing ACLs work in a generic way only for 'c' or 'channel' type ACLs which are defined in a channel.  But, there are other channel-less ACLs and ACLs which are specific to a peer's organization which must be enforced.  There was therefore the notion of 'p' type ACLs which was never implemented.  This story is to complete that implementation.
",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0054f:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need the existing legacy custom ACLs to be converted to the 'p' type ACLs.",FAB-13516,36511,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,muralisr,jyellick,jyellick,07/Jan/19 12:57 PM,20/Feb/19 6:29 AM,28/Oct/23 3:04 AM,20/Feb/19 6:29 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,Existing SCCs like lscc and cscc do custom local checking for ACLs for chain-less actions.  These should be converted to use the 'real' ACL infrastructure.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0054n:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric network operator, I need the +lifecycle functions to be protected by ACLs.",FAB-13517,36512,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:58 PM,08/Mar/19 3:01 AM,28/Oct/23 3:04 AM,08/Mar/19 3:01 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"This story is to wire the existing ACL provider (complete with 'p' type ACLs per FAB-13515) into the new +lifecycle chaincode.

The existing functions are:

+lifecycle/InstallChaincode -- Chainless, should be restricted to admin
+lifecycle/QueryInstalledChaincode -- Chainless
+lifecycle/QueryInstalledChaincodes -- Chainless
+lifecycle/DefineChaincodeForMyOrg -- Has chain, but should be restricted to local admin
+lifecycle/DefineChaincode -- Has chain, should be writers
+lifecycle/QueryDefinedChaincode -- Has chain, should be readers
+lifecycle/QueryDefinedNamespaces -- Has chain, should be readers",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0054v:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric developer, I need the new lifecycle to implement the existing chaincode.Lifecycle interface.",FAB-13518,36513,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 12:59 PM,08/Mar/19 3:06 AM,28/Oct/23 3:04 AM,08/Mar/19 3:06 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00553:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a fabric administrator, I need chaincodes to operate both from the old and new lifecycle.",FAB-13519,36514,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 1:01 PM,08/Mar/19 3:06 AM,28/Oct/23 3:04 AM,08/Mar/19 3:06 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"This story is to create a routing shim to satisfy the chaincode.Lifecycle interface defined in core/chaincode/chaincode_support.go.

It should first attempt to retrieve the chaincode definition from the new lifecycle, and if not found, it should fallback to looking for that definition in the old lscc lifecycle.

This new routing shim should be wired in place of the existing legacy lifecycle when constructing the chaincode support.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0055b:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
The new lifecycle implementation must satisfy the existing collections interfaces for the ledger and be able to provide the collection definitions for a namespace.,FAB-13520,36515,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 1:03 PM,08/Mar/19 3:07 AM,28/Oct/23 3:04 AM,08/Mar/19 3:07 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"The ledger was updated to rather than directly interrogate collections definitions from the lscc table, to instead delegate to an injected dependency which returns collection information based on changes to the world state.

This story is to have the existing lifecycle implement this interface so that it can be used (in time) to provide collection information to the ledger.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0055j:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The new lifecycle should report implicit collections for any chaincode namespace defined in the new lifecycle.,FAB-13521,36516,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,jyellick,jyellick,jyellick,07/Jan/19 1:05 PM,08/May/19 5:33 AM,28/Oct/23 3:04 AM,23/Jan/19 2:39 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"By reporting the existence of implicit collections for any chaincode namespace defined with the new lifecycle, we automatically get most of the implementation of implicit collections for free.

The implementation should additionally report the existence of implicit collections for the '+lifecycle' namespace to enable the new lifecycle functionality.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13839,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0055r:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the ability to include collection definitions within a chaincode definition.,FAB-13522,36517,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 1:06 PM,20/Feb/19 2:28 PM,28/Oct/23 3:04 AM,20/Feb/19 2:28 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"The current chaincode definition messages do not include any collection information.  This is because originally when the new lifecycle was designed, collection management was going to be delegated to within the chaincode itself.  Since this did not happen, it must be implemented in the new lifecycel.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0055z:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the validation code to take retrieve the validation parameters via an injected dependency.,FAB-13523,36518,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,jyellick,jyellick,07/Jan/19 1:08 PM,23/Jan/19 10:31 PM,28/Oct/23 3:04 AM,23/Jan/19 10:31 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Today, the validation code reaches directly into the LSCC namespace in order to retrieve information about which validation code to execute and what parameters to pass to it (endorsement policy).  In order to ultimately support the new lifecycle, the source of this information must be abstracted.  The first step is to remove the existing implementation out and into its own module, and inject it as a dependency.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13708,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00567:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the validation abstraction interface for the new lifecycle,FAB-13524,36519,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 1:12 PM,08/Mar/19 3:07 AM,28/Oct/23 3:04 AM,08/Mar/19 3:07 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"As a companion task to FAB-13523, the new lifecycle should implement the interface which returns the validation parameters for a chaincode.

Note, as a special edge case, this validation interface should also return the validation info for '+lifecycle' itself, beginning with an automatically generated signature policy requiring the majority of orgs to endorse.

Later, we should support evaluating channel config policies as endorsement policies, and this validation info can be changed.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0056f:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Create a validation info routing shim and wire it.,FAB-13525,36520,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,jyellick,jyellick,07/Jan/19 1:13 PM,14/Feb/19 4:19 AM,28/Oct/23 3:04 AM,14/Feb/19 4:19 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Per FAB-13523 and FAB-13524 the validation parameters obtained by the validation code should be injected as a dependency.  This story is to create a small routing shim which first checks the new lifecycle implementation to determine if there are validation parameters defined there, then, if none exists, falls back to the legacy LSCC implementation.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0056n:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Allow Init to be invoked as a normal transaction for chaincodes defined within the new lifecycle.,FAB-13526,36521,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,07/Jan/19 1:14 PM,08/Mar/19 3:08 AM,28/Oct/23 3:04 AM,08/Mar/19 3:08 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"This should be relatively straightforward as things have already been wired to allow this.  However, when the new lifecycle defines a chaincode, the Init function should be callable once and exactly once.",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0056v:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"As a chaincode developer, I need to be able to query the hashed value of private data for inspecting collections which I am not a member of.",FAB-13527,36522,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,jyellick,jyellick,07/Jan/19 1:15 PM,12/Dec/19 11:32 PM,28/Oct/23 3:04 AM,10/Jan/19 5:52 AM,,,,,,v1.4.2,v2.0.0,,,fabric-peer,,,,0,,,,The end result of this story should be a new GetPrivateDataHash function in the chaincode shim which exposes the underlying hashed value of a key.  It should accept 'plain' keys which are the unhashed version of the key name in the query.,,jyellick,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FABCN-25,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00573:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,manish-sethi,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/19 11:23 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28530/;;;","10/Jan/19 1:53 AM;mastersingh24;[~jyellick]  Probably missing something obvious, but I'm struggling to see the use case / requirement for this?  How will this be used by the lifecycle work?

I always worry with yet another function added to the already overly complicated stub;;;","10/Jan/19 5:54 AM;jyellick;This is required to address a couple issues and has some other uses the pipeline.

1. Before a peer endorses, it needs to check to see if the definition matches the one defined in its local collection.  Because this introduces a read dependency against the local collection, we would run into mis-matched RW sets unless every implicit collection has the key read in it.  So, this function allows us to introduce a read dependency without having the private data available to us.
2. It's going to be useful to be able to check to see who has agreed to a definition before it's actually defined and written into the world state.  Although we can't actually see the definition in other org's implicit collections, we can look at its hash to see if it matches the definition in ours.

Finally, there are some use cases in the pipeline for standard user chaincodes.  Particularly, imagine a buy/sell case where a buyer agrees to buy something a seller is selling at a given price.  We want the price to be private, and we don't want the seller to be able to mutate it, but, we want the seller to be able to validate that the agreement is to the correct price.  We can use this same function here to validate the agreement without actually having to have the seller be part of the collection distribution.;;;",,,,,,,,,,,,,,,,,,,,,,
"Build and start chaincodes on install, rebuilding if needed and starting if defined in any channel on startup.",FAB-13528,36523,,Story,Closed,FAB,Fabric,software,denyeart,,,Low,Done,jyellick,jyellick,jyellick,07/Jan/19 1:17 PM,20/Sep/19 4:34 AM,28/Oct/23 3:04 AM,20/Sep/19 4:34 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,ipm,,,One of the persistent problems with running a fabric network is that 'Init' transactions have extreme latency if the chaincode has not already been built and started.,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00n2c:rui93",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"Peer CLI: Add function for ""ApproveChaincodeDefinitionForMyOrg""",FAB-13529,36524,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,07/Jan/19 1:19 PM,02/Mar/19 6:24 AM,28/Oct/23 3:04 AM,02/Mar/19 6:24 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Refer to FAB-10726 for the system chaincode side of ApproveChaincodeDefinitionForMyOrg.

As a start, the CLI should only support the built-in endorsement and validation plugins (and thus return an error when those parameters are set).
{code:java}
peer chaincode approveformyorg -C <channel-id> --name <cc-name> --version <cc-version> --hash <hash-bytes> --sequence <sequence> --policy <e.g. plain-text endorsement policy when using escc>{code}
 ",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0057j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 2:22 AM;wlahti;CR is out for review but blocked until the server-side implementation is complete: https://gerrit.hyperledger.org/r/c/28634/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI: Add function for 'CommitChaincodeDefinition',FAB-13530,36525,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,07/Jan/19 1:20 PM,02/Mar/19 6:29 AM,28/Oct/23 3:04 AM,02/Mar/19 6:29 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"This needs more detail, but is a placeholder so as not to lose track of it.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i0057r:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/19 3:26 AM;wlahti;https://gerrit.hyperledger.org/r/c/29081;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove QueryNamespaceDefinitions function,FAB-13531,36526,39057,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,07/Jan/19 1:20 PM,29/Jul/19 6:29 PM,28/Oct/23 3:04 AM,29/Jul/19 6:29 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"As tokens are no longer expected to be supported in v2.0.0, we should remove QueryNamespaceDefinitions from the _lifecycle API. QueryChaincodeDefinitions has been implemented to provide the same type of functionality while including additional chaincode-specific fields. ",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0057z:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Peer CLI: Add function for 'QueryChaincodeDefinition',FAB-13532,36527,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,jyellick,jyellick,07/Jan/19 1:20 PM,05/Mar/19 11:59 PM,28/Oct/23 3:04 AM,05/Mar/19 11:59 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"This needs more detail, but is a placeholder so as not to lose track of it.",,jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i00587:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"21/Feb/19 3:27 AM;wlahti;https://gerrit.hyperledger.org/r/c/29082;;;",,,,,,,,,,,,,,,,,,,,,,,,
basic-network sample's scrypt doesn't match docker's imagetag,FAB-13533,36528,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,nicezic,nicezic,nicezic,07/Jan/19 1:51 PM,16/May/19 11:20 PM,28/Oct/23 3:04 AM,28/Apr/19 1:30 AM,v1.3.0,,,,,v1.3.0,,,,fabric-samples,,,,0,,,,"If you use v1.3.0 version of fabric-samples, basic-network's script uses latest version, currently v1.4.0.

In basic-network sample, it uses lastest version of fabric docker images, which is currently 1.4.0.

 

In addition to that, other samples such as fabcar uses basic-network sample.

You can aslo see the warning of v1.4.0 new logging feature, CORE_LOGGING_LEVEL, when you run ./fabcar/startFabric.sh.",,lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0058f:",,,,Unset,Unset,,,"### 1. Setting up fabric-samples. ###

$ cd ./basic-networks
$ git checkout release-1.3
$ cd scripts
$ ./bootstrap.sh
# downloding latest(1.3) docker images.
$ cd ..

### 2. start basic-network. ###

$ cd ./basic-network
$ ./start.sh

# it will pull( downloading ) fabric's latest version of the images, which is 1.4.0
# However, fabric-sample is 1.3.0.

### 3. checking the peer's version.

$ docker exec -it 2d93348b28aa bash

# in the peer's container.

$ peer version
peer:
 Version: 1.4.0-rc2
 Commit SHA: b87ec80
 Go version: go1.11.1
 OS/Arch: linux/amd64
 Chaincode:
  Base Image Version: 0.4.14
  Base Docker Namespace: hyperledger
  Base Docker Label: org.hyperledger.fabric
  Docker Namespace: hyperledger ",,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/May/19 11:20 PM;lehors;https://gerrit.hyperledger.org/r/#/c/27635/;;;",,,,,,,,,,,,,,,,,,,,,,,,
cache pushAckTimeout in pvt data,FAB-13534,36530,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,hagarm,hagarm,hagarm,07/Jan/19 7:49 PM,06/Apr/19 5:37 PM,28/Oct/23 3:04 AM,23/Jan/19 12:48 PM,,,,,,v2.0.0,,,,fabric-gossip,,,,0,,,,viper.GetDuration can take some time and so it is better to cache the pushAckTimeout instead of using GetDuration for every read ,,hagarm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrj0:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),hagarm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Jan/19 11:17 PM;hagarm;https://gerrit.hyperledger.org/r/#/c/28526/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Need fabric repo for tests,FAB-13535,36532,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,latitiah,latitiah,latitiah,07/Jan/19 10:29 PM,21/Sep/19 5:36 AM,28/Oct/23 3:04 AM,21/Sep/19 5:36 AM,,,,,,,,,,fabric-quality,,,,0,,,,"A number of tests need the fabric repository in order to run successfully. There are chaincode tests that fail due to the missing ""/opt/gopath/src/github.com/hyperledger/fabric/bccsp"" directory. 

Also, one of the PTE tests employ a chaincode (sbe_cc in fabric-test/chaincodes/sbe folder) that has external dependency, and using Govendor, it needs the fabric code in the specific directory (src/github.com/hyperledger/fabric/). without the fabric directory, govendor fails to do proper vendoring and marks the necessary libraries as missing, as evident when doing a ""govendor list"".",,latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00593:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-1.4,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"21/Sep/19 5:36 AM;scottz;Deprecating all behave tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,
JSDK with node cc - Interoperability Test FAB-11621 is failing inconsistently in the Behave daily tests,FAB-13537,36534,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Not Supported,,sambhavdutt,sambhavdutt,07/Jan/19 11:21 PM,11/Apr/19 9:08 AM,28/Oct/23 3:04 AM,11/Apr/19 9:08 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-failure,,,"The JSDK Interoperability test is failing consistently in FAB-11621(fabric-ca Service test) in the daily Behave tests, This test started at 7:45 EST, Jan 9 and took 10 hours to complete which is the usual time-frame for the Behave tests

*Consistent:* Yes

*Branch:* release-1.4

*Error Snippet:*
{code:java}
 Scenario Outline: FAB-11621: JavaSDK interoperability Test using NODE chaincode shim -- @1.2 
    Given I have a bootstrapped fabric network ... passed in 26.052s
    And I use the Java SDK interface ... passed in 0.240s
    And I enroll the following users using fabric-ca ... passed in 89.646s
      | username | organization     | password | role   |
      | latitia  | org1.example.com | h3ll0    | admin  |
      | scott    | org2.example.com | th3r3    | member |
      | adnan    | org1.example.com | wh@tsup  | member |
    When an admin sets up a channel ... passed in 43.335s
    And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... passed in 72.822s
    And I wait ""5"" seconds ... passed in 5.006s
    When a user ""adnan"" queries on the chaincode with args [""query"",""a""] ... failed in 40.458s
{code}
*Error Log*
 [https://jenkins.hyperledger.org/view/fabric-test/job/fabric-test-daily-behave-release-1.4-x86_64/24/testReport/fabric-ca/Fabric-CA%20Service/FAB_11621__JavaSDK_interoperability_Test_using_NODE_chaincode_shim_____1_2_/]

*Build Log*
 [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/24/Behave_Test_Logs/]",,ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 7:10 AM;latitiah;Screen Shot 2019-01-17 at 5.07.49 PM.png;https://jira.hyperledger.org/secure/attachment/16594/Screen+Shot+2019-01-17+at+5.07.49+PM.png","18/Jan/19 7:10 AM;latitiah;Screen Shot 2019-01-17 at 5.08.26 PM.png;https://jira.hyperledger.org/secure/attachment/16595/Screen+Shot+2019-01-17+at+5.08.26+PM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i0059j:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChandraLekhaChavva,latitiah,rameshthoomu,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"18/Jan/19 7:12 AM;latitiah;This is not a consistent failure (or passing) of this test. At this point, it is every other test that passes and fails (i.e. Job#26:passed; #27:failed; #28:passed; #29:failed...)  !Screen Shot 2019-01-17 at 5.07.49 PM.png|thumbnail! 

The execution time of this specific test is 4 min, 39 seconds.  !Screen Shot 2019-01-17 at 5.08.26 PM.png|thumbnail! 

It's also worth noting for triage purposes that this error occurs with the java SDK/node chaincode combination. The other chaincode shims seem to work pretty consistently with the JavaSDK.
;;;","25/Jan/19 1:27 AM;sambhavdutt;*fabric-ca.Fabric-CA Service.FAB-11621: JavaSDK interoperability Test using NODE chaincode shim -- @1.2* 
This test failed today after multiple successful runs, this might just be a flake. This test took around 4 minutes which is the usual run time for this test.

*FABRIC_TEST_COMMIT : a8492fe*

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-behave-release-1.4-x86_64/35/
;;;",,,,,,,,,,,,,,,,,,,,,,,
Raft Consensus - System Test,FAB-13538,36535,,Epic,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,scottz,scottz,07/Jan/19 11:51 PM,01/Aug/19 10:08 AM,28/Oct/23 3:04 AM,01/Aug/19 10:08 AM,v1.4.1,v2.0.0,,,,,,,,fabric-quality,,,,0,raft,,,"A new consensus option, etcd/raft, is being developed for the next release with FAB-6135. This is an associated epic to identify the tools and testcases necessary for system testing.

This is where add all system verification tests (SVT) involving the etcd/raft-based ordering service.

A few guidelines:
 # We'll be adding a test task per test.
 # For each test, we describe the test's setup, inputs, and expected outputs in detail.
 # We'll avoid acronyms as much as possible, and go with descriptions in plain english.
 # We'll keep logs of both successful and unsuccessful runs around.

Anything that applies to all system verification tests should be recorded as a comment under this epic.",,AdnanChoudhury,kchristidis,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-6135,,,,,,,,,,,,,,FAB-13597,FAB-14215,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,planning and developing tools,"FAB-6135 is the development epic.
Design notes are here: https://docs.google.com/document/d/138Brlx2BiYJm5bzFk_B0csuEUKYdXXr7Za9V7C76dwo/edit#heading=h.f5d514ch3rv7
Development sprints, and a tab with Handy References, are here:
https://docs.google.com/spreadsheets/d/1R02-xjdl4hNw90kN4NZ1kX0f4QoIYn51_1UHlwy-GQs/edit#gid=879975188
Check here for e2e_cli raft scripts: https://gerrit.hyperledger.org/r/#/c/27734/",Not Required,Unset,Not Required,ghx-label-13,,Raft Consensus - System Test,To Do,No,,Not Required,No,,,"1|hzx30k:",,,,No,Not Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,"Raft is another consensus option, in addition to solo or Kafka, which network operators can choose to configure as the basic ordering system for their blockchain network.",AdnanChoudhury,kchristidis,MichaelWang,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 2:44 AM;scottz;Instead of using a feature-specific test epic like this one, the release mgmt team prefers that any new testtasks should be added to development epic (in this case, FAB-6135). Or add automated regression tests to one of the existing system test category epics.;;;","15/Jan/19 8:07 AM;kchristidis;Example of an item that should be common across all tests and needs to be recorded here:

Logging for everything orderer-related should be set to DEBUG level. The only exception is {{orderer.common.cluster.step}}. (Thanks Yacov.);;;","15/Jan/19 8:10 AM;kchristidis;Cross-posting [~suryalnvs]'s comment:

*Environment*:
* IKS (3 worker nodes - Each node with 4CPU && 16 GB RAM)

*Fabric network*:
* 3 orderers, 2 organizations with 2 peers each are distributed across 3 workers nodes and running as each individual pod. Orderer and peer Data is persisted to IBM Cloud block storage and uses {{amd64-2.0.0-stable}} images from nexus.

*Configuration*:
 * Environment variables for the orderer processes: [https://hastebin.com/rodewawuli.cs]
 * {{configx.yaml}}: [https://hastebin.com/texozupite.coffeescript];;;","07/Feb/19 6:46 AM;kchristidis;[~suryalnvs], [~scottz]: Are the environment variables and configuration settings still current? If not, can we provide the updated list?;;;","09/Feb/19 6:50 AM;scottz;Updated our tests default settings in these files:
 * environment variables for orderers: [https://hastebin.com/rebunugama.cs] 
 * configtx.yaml: [https://hastebin.com/qupizomeyu.coffeescript |https://hastebin.com/qupizomeyu.coffeescript]

 ;;;","14/Feb/19 5:45 AM;scottz;Updated configtx.yaml to accomodate new format for SnapshotInterval to use 100 MB instead of 500 transactions. https://hastebin.com/egehezuqux.coffeescript;;;","14/Feb/19 7:15 AM;kchristidis;Thanks for making sure these are up-to-date!;;;","16/Feb/19 9:49 AM;scottz;New recommendations for logging levels for most tests: INFO for everything, except two:
{quote}FABRIC_LOGGING_SPEC=info:orderer.consensus.etcdraft=debug:orderer.common.cluster=debug
{quote}
Whereas for longruns and performance runs, use INFO (unless trying to reproduce issues to gather data).;;;",,,,,,,,,,,,,,,,,
Test flake fabric/gossip/comm.TestBasic,FAB-13539,36536,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ronenschafferibm,skarim,skarim,07/Jan/19 11:57 PM,03/Jul/19 4:10 AM,28/Oct/23 3:04 AM,19/Jun/19 8:19 PM,,,,,,v2.0.0,,,,fabric-gossip,,,,0,ci-flake,,," 
{code:java}
16:33:47 2019-01-04 21:33:26.254 UTC [gossip.comm#1111] func1 -> WARN 001 localhost:2222, PKIid:6c6f63616c686f73743a32323232 isn't responsive: EOF
16:33:47 2019-01-04 21:33:26.571 UTC [gossip.comm#1111] sendToEndpoint -> WARN 002 Failed obtaining connection for localhost:2222, PKIid:6c6f63616c686f73743a32323232 reason: context deadline exceeded

...

16:33:51 2019-01-04 21:33:47.288 UTC gossip.comm#1111 sendToEndpoint -> WARN 9c46
 Failed obtaining connection for localhost:2222, 
PKIid:6c6f63616c686f73743a32323232 reason: context deadline 
exceeded*16:33:51* panic: runtime error: invalid memory address or nil 
pointer dereference*16:33:51* [signal SIGSEGV: segmentation violation code=0x1 addr=0x28 pc=0xca18d0]

16:33:51 16:33:51 goroutine 348842 [running]:

16:33:51 github.com/hyperledger/fabric/gossip/comm.TestBasic.func1(0xc065ceade0)

16:33:51 
/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_test.go:394
 +0x50*16:33:51* created by 
github.com/hyperledger/fabric/gossip/comm.TestBasic*16:33:51* 
/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_test.go:397
 +0x24a*16:33:51* FAIL github.com/hyperledger/fabric/gossip/comm 23.116s
{code}
 

 ",,MHBauer,naaman,ronenschafferibm,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15309,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i0059z:",,,,Unset,Unset,,,"remove the sleep in the test and then run

go test -race -v -count 100 -failfast -run TestBasic
",,Unset,,,,,,Unset,,Unset,,(Please add usage information),MHBauer,naaman,ronenschafferibm,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/May/19 8:05 AM;MHBauer;The code looks significantly different now.

The provided has some info from lines 394 & 397. These lines are now in TestHandshake.

TestBasic is now lines 443-462.

 

I've run the whole package a couple dozen times each with racing on and off and with logging on and off, and haven't seen any failures in the current codebase at 892d4e6e86c59c375d33e8d9483925870a5462c2;;;","16/May/19 9:06 AM;MHBauer;This is really insidious.
It looks like the code is trying to do something clever and use one grpc connection to go both ways. The problem is it doesn't hang up symmetrically.

We need to look very carefully at the logic for onConnected and getConnection and make sure they both do the same thing, or do the simpler thing and let each direction have it's own connection.

This is at the core of everything in gossip so we should be very careful.;;;","19/May/19 4:04 PM;naaman;[~MHBauer] that's correct the code attempts to maintain a single connection between two members. There are important advantages to using a single connection, compared to using a different connection in each direction, so the design is good. The implementation, however, is lacking. [~ronenschafferibm] has already identified a few issues related to the communication between members. One issue is that the code doesn't properly handle the case where both members establish a connection to the other side at the same time (a common scenario in tests where both members are started together). Changing the bootstrap to include only a single member resolved these issues (only one member is establishing a connection) but that's obviously not an acceptable solution. Ronen is going to take a closer look into these issues. 

 ;;;","21/May/19 8:18 AM;MHBauer;What are the advantages?
Where is the design?
I would like to be included on finding a solution, where are we talking about this?;;;","21/May/19 7:25 PM;naaman;The advantages include the ability to establish bi-directional communication even if one node is behind a firewall, more reliable failure detection, simpler logic of maintaining membership, and more economic use of resources.

 ;;;","22/May/19 11:22 AM;MHBauer;If we're going to do open-source, we can't have secret design documents.;;;","22/May/19 11:24 AM;MHBauer;I'll give you the firewall thing. Maybe resource usage.

We don't seem to be able to detect failures, and if we do, we seem to not care about them.

The logic in the code of gossip is hardly simple.

We need something that works, not something that's clever.;;;","19/Jun/19 8:18 PM;ronenschafferibm;closing in favor of:

https://jira.hyperledger.org/browse/FAB-15613
https://gerrit.hyperledger.org/r/c/fabric/+/31841;;;","03/Jul/19 4:10 AM;MHBauer;test is gone as of https://gerrit.hyperledger.org/r/#/c/fabric/+/31841/;;;",,,,,,,,,,,,,,,,
Update pulldockerimages script in fabric-test master branch.,FAB-13540,36537,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,vijaypunugubati,vijaypunugubati,vijaypunugubati,08/Jan/19 12:18 AM,21/Jan/19 11:25 PM,28/Oct/23 3:04 AM,21/Jan/19 11:25 PM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,,,,"In fabric-test, pulldockerimages script is pulling latest image from nexus and tag them as 1.4.0 and 2.0.0 in master branch. So removing the tag 1.4.0 from master.",,latitiah,nramesh,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005a7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,nramesh,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"21/Jan/19 11:25 PM;vijaypunugubati;This patch fixes the above issue https://gerrit.hyperledger.org/r/#/c/28527/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Updates to Commercial paper tutorial,FAB-13541,36539,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,08/Jan/19 12:40 AM,08/Mar/19 7:10 PM,28/Oct/23 3:04 AM,08/Mar/19 7:10 PM,,,,,,v2.0.0,,,,fabric-docs,,,,0,,,,"1.Chaincode instantiate - add this may take a few minutes to complete.

2. Change
This is because it additionally submits an instantiate transaction to the orderer, which will include the transaction in the next block and distribute it to all peers that have joined mychannel, enabling any peer to execute the chaincode in their own isolated chaincode container.
To
This is because it additionally submits an instantiate transaction to the orderer, which will include the transaction in the next block and distribute the chaincode
to all peers that have joined mychannel, enabling any peer to execute the chaincode in their own isolated chaincode container.
 
3. Change:
Note that instantiate only needs to be issued once for papercontract even though typically it is installed on many peers.
To
Note that instantiate only needs to be issued once for papercontract on a channel even though typically it would have already been installed on all the peers that will run it.

4. networkConnection.yaml contains a reference to Hyperledger Composer ../gateway/networkConnection.yaml
# the ""x-type"" property with the ""hlfv1"" value example below is used by Hyperledger Composer to
# determine the type of Fabric networks (v0.6 vs. v1.0) it needs to work with.
#
 
 
5. I didn’t see any instructions on how the ../gateway/networkConnection.yaml.  As an application developer,  I would be interested to know where that comes from and if I need to provide it and how to create it.
 
6.Change
The response needs to deserialized from a buffer into paper, a CommercialPaper object which can interpreted correctly by the application.
To
The response needs to be deserialized from a buffer into paper, a CommercialPaper object which can interpreted correctly by the application.

7. Should `beta` be removed from here:
""dependencies"": {
    ""fabric-network"": ""^1.4.0-beta"",
    ""fabric-client"": ""^1.4.0-beta"",
    ""js-yaml"": ""^3.12.0""
  },

8. Let’s install these packages with the npm install command – this may take up to a minute to complete:
I think we need to tell them that `npm install` needs to be run from the ../commercial-paper/organization/magnetocorp/application directory",,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrp:i",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 3:12 AM;pandrejko;https://gerrit.hyperledger.org/r/28709;;;",,,,,,,,,,,,,,,,,,,,,,,,
StreamServerInterceptor test failed first-time in the daily unit-test,FAB-13542,36540,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,08/Jan/19 1:21 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,09/Jan/19 11:30 PM,v2.0.0,,,,,v2.0.0,,,,fabric-common,,,,0,ci-flake,,,"StreamServerInterceptor test failed in the last run, this is the first-time this error was observed in the daily unit-test.

Intermittent: No

Branch: master

Platform: x86_64

Error Snippet:

{code:java}
19:28:35 Summarizing 1 Failure:
19:28:35 
19:28:35 [Fail] Server StreamServerInterceptor when options are used [It] uses the levels returned by the levelers 
19:28:35 /w/workspace/fabric-unit-test-daily-master-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:649
19:28:35 
19:28:35 Ran 31 of 31 Specs in 17.849 seconds
19:28:35 FAIL! -- 30 Passed | 1 Failed | 0 Pending | 0 Skipped
19:28:35 --- FAIL: TestGrpclogging (17.85s)
19:28:35 FAIL
19:28:35 coverage: 100.0% of statements
19:28:35 FAIL	github.com/hyperledger/fabric/common/grpclogging	17.925s
{code}

*Build Log*

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-master-x86_64/326/",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6e3a79aab47921ac879ed7d9db9d35c8a29276a7,Unset,No,,,"1|i005av:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enhance endorser transaction proto message to include token transactions,FAB-13543,36541,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,wenjian,wenjian,08/Jan/19 2:14 AM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,"For chaincode-token integrated transactions, we have decided to enhance existing ENDORSER_TRANSACTION type instead of introducing a new transaction type. Use this CR to remove TokenEndorserTransaction proto message and enhance endorser transaction.

Benefits of this approach:
1. applications don't have to worry about different transaction types when invoking chaincode
2. don't have to face additional security issues related to introduce a new transaction type

 ",,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005b3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 4:37 AM;wenjian;CR: [https://gerrit.hyperledger.org/r/#/c/28533/]

 ;;;","23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
Expose metrics provider instance,FAB-13544,36542,,Story,Backlog,FAB,Fabric,software,denyeart,,,Medium,,,firas.qutishat,firas.qutishat,08/Jan/19 2:39 AM,14/Jun/19 11:44 PM,28/Oct/23 3:04 AM,,,,,,,,,,,,,,,0,,,,"Expose metrics provider instance so the System chaincode plugins can access it
",,firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005bb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),firas.qutishat,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jan/19 1:42 AM;firas.qutishat; [~sykesm] Can you suggest alternative solution for using the metrics provider within a SCC plugin

;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add Pipeline for fabric-samples release-1.1,FAB-13545,36543,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,sambhavdutt,sambhavdutt,sambhavdutt,08/Jan/19 5:27 AM,12/Jan/19 4:24 AM,28/Oct/23 3:04 AM,12/Jan/19 4:24 AM,v1.1.0,,,,,v1.1.0,,,,fabric-samples,,,,0,fabric-ci,,,Add Jenkins Pipeline verify and merge jobs for fabric-samples release-1.1 branch.,,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005bj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Replace third party weighted semaphore library with a simple in-tree implementation,FAB-13546,36544,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,08/Jan/19 7:57 AM,10/Jan/19 4:02 AM,28/Oct/23 3:04 AM,10/Jan/19 4:02 AM,,,,,,,,,,,,,,0,hygiene,,,"The transaction validator uses a ""weighed semaphore"" implementation from ""golang.org/x/sync/semaphore"". Since we don't use the weighting function, we don't need the complexity; this can be replaced by a simple buffered channel implementation.

Further, the current structure is broken. The semaphore is allocated in the peer as a package global and then passed down via the - wait for it - *support* structure to the validator. The only user is the validator so this should not be a global. Further, it's a bit of an implementation detail.

So, this is two things: fix the code and replace the dep.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005br:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Hide as many configuration options from the user as possible,FAB-13547,36545,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,kchristidis,kchristidis,08/Jan/19 9:00 AM,27/Mar/19 11:51 AM,28/Oct/23 3:04 AM,27/Mar/19 11:51 AM,,,,,,,,,,,,,,0,,,,"The mere presence of a configuration option overwhelms the user, even if it comes with sensible defaults.

We should therefore:

1. Remove configuration parameters that are not absolutely necessary
2. Document them so that users who do need them can reactivate them

See https://gerrit.hyperledger.org/r/c/28499/ as an example.",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005bz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"01/Mar/19 1:05 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/29717/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Show policy error location,FAB-13548,36547,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Won't Do,diizuka,diizuka,diizuka,08/Jan/19 4:27 PM,08/Jan/19 4:55 PM,28/Oct/23 3:04 AM,08/Jan/19 4:55 PM,v1.2.0,v1.3.0,,,,v1.4.0,,,,fabric-common,,,,0,,,," When policy string is wrong, this patch shows error location as offset from head of policy string,  to make BC administrator easy to fix it.
In current version, policy parsing implementation translates ""and"" to ""outof(n"",  ""or"" to ""outof(1"". Also, it adds internal argument “ID”.
 Thus, it cannot show correct location of parsing error on current version.

Error location showing examples:

Input: OR('A.member', Bmember)
ErrorMessage: Offset 16: Wrong format in policy

Input: OR('A.member', 'Bmember')
ErrorMessage:Offset 16: Principal form should be <MSP_ID>.<ROLE>

Input: OutOf(1)
ErrorMessage: Offset 7: Expected at least two arguments to NOutOf. Given 1",,diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005cf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),diizuka,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 4:55 PM;diizuka;This is not a bug. I posted related improvement, FAB-13548.;;;",,,,,,,,,,,,,,,,,,,,,,,,
translate v1.4's fabric-doc's [Key Concetps]'s [Blockchain network] from English to Chinese,FAB-13549,36548,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,Mr.Wang,Mr.Wang,Mr.Wang,08/Jan/19 5:41 PM,09/Aug/19 5:13 PM,28/Oct/23 3:04 AM,09/Aug/19 5:13 PM,v1.4.0,,,,,,,,,fabric-docs,,,,0,,,,,,Mr.Wang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 5:41 PM;Mr.Wang;blockchain network.html;https://jira.hyperledger.org/secure/attachment/16510/blockchain+network.html","11/Jan/19 3:12 PM;Mr.Wang;blockchain_network.html;https://jira.hyperledger.org/secure/attachment/16530/blockchain_network.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005cn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Mr.Wang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
explain Policy in fabric‘s docs  in code-way,FAB-13550,36549,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid,,Mr.Wang,Mr.Wang,08/Jan/19 6:03 PM,09/Aug/19 5:13 PM,28/Oct/23 3:04 AM,09/Aug/19 5:13 PM,,,,,,,,,,,,,,0,,,,"Policy is so important to configure fabric-network's components。But Policy’s code in Fabric is too complex to understand easily. When I translate gensis block to json format, I can't thoroughly understand the content of that and how Fabric control the rights of the components depend on that. Now in fabric's docs, explain the Policy in concept-way。Maybe it is helpful to add a code-way sample about Policy in docs.",,Mr.Wang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005cv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Mr.Wang,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Re-addition of a removed OSN in a channel,FAB-13552,36551,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,yacovm,yacovm,08/Jan/19 7:47 PM,14/Nov/19 10:12 PM,28/Oct/23 3:04 AM,14/Nov/19 10:12 PM,,,,,,v1.4.4,v2.0.0,,,fabric-orderer,,,,0,ipm,,,"Currently, when an OSN starts up, for each chain it doesn't participate in - it registers into an object that periodically tracks whether it is added to the channel, and starts an inactive.Chain which returns service unavailable to every request.

If the OSN detects its own addition to the channel, it pulls the blocks, and then starts the etcdraft chain, after which it replaces the chain instance of the inactive.Chain.

However, if the OSN is removed from the channel afterwards - it simply halts its chain operation when it detects its eviction from the channel. 

If it is re-added afterwards into the channel, it won't know that and won't re-activate the chain.
The only way to make it re-activate the chain is restart the OSN. 

In order to make this work without user intervention (i.e - restart), we need to pass the registration callback from the consenter into the etcdrart chain instance, which would make the chain register itself in the tracker object when the membership eviction is detected. 


I personally don't think this is a very pressing matter to attend to in the short term, but we should keep it in the backlog for now and take care of it when we have the time.

opinions? [~kchristidis] [~guoger] [~C0rWin] [~tock]",,denyeart,guoger,jyellick,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00n2e:8rq",,Yes,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,jyellick,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"26/Sep/19 12:02 AM;jyellick;This actually looks fairly straightforward to implement to me.  On consenter stop, we simply need to call into {{TrackChain}} and let the normal replication stuff take over.

Note, today, the replication expects a block as input.  This is very misleading, as if the chain already exists, this block is ultimately (mostly) ignored.  The requirement is that the block containing the channel creation transaction but the input, but, instead in the idle chain case, we are passing in the genesis block (which is wrong).  The replicator API should also be fixed to accept a nil block if the chain already exists.;;;","31/Oct/19 7:11 PM;guoger;bq. The replicator API should also be fixed to accept a nil block if the chain already exists.
Just to confirm i understand you correctly, do you mean {{TrackChain}} API here? and when it's nil, which implies that particular channel used to exist and the node should have its ledger, and simply skip appending genesis block.

Also, i think there's slightly more work to do. I think we should replace the etcdraft.chain in registrar with inactive.chain, so broadcast clients would get proper error {{this channel is not serviced by me}} instead of {{channel halted}}

[~jyellick];;;","02/Nov/19 1:03 AM;guoger;https://gerrit.hyperledger.org/r/c/fabric/+/34189;;;","11/Nov/19 11:12 PM;denyeart;[~guoger] [~jyellick] Looks like this is CRed in master only. Do you intend to backport to release-1.4?  For now I've switched FixVersion from v1.4.4 to v1.4.5.;;;","12/Nov/19 1:06 AM;sykesm;During IPM we determined we should try to get this into 1.4.4 so tagging with that release...;;;",,,,,,,,,,,,,,,,,,,,
Cut v1.4.0 release,FAB-13553,36555,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,09/Jan/19 1:33 AM,03/Apr/19 12:51 AM,28/Oct/23 3:04 AM,16/Jan/19 6:55 AM,v1.4.0,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Prepare and publish v1.4.0 release of Hyperledger Fabric. The tasks are listed in execution order and I have indicated any dependencies in the description of each.

 ",,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14964,,FAB-13388,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005dz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,JonathanLevi,mastersingh24,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[CI] - verify release jobs to support 1.4.0 release,FAB-13554,36556,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,09/Jan/19 1:33 AM,10/Jan/19 6:08 AM,28/Oct/23 3:04 AM,10/Jan/19 6:08 AM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,fabric-ci,,,Make sure all the release jobs are ready for release.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005e7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for 1.4.0 release,FAB-13555,36557,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,10/Jan/19 12:48 AM,28/Oct/23 3:04 AM,10/Jan/19 12:48 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

*----------*

{\{git checkout master }}

{{git pull}}

_*checkout the CR from Gerrit - be sure you have latest!!!*_ 

{{git checkout -b <newbranch>}}

{\{git rebase master }}

git commit --amend

*_make a tweak to commit message_*

git review

 

Check for clean CI passes

merge

----------------------

Changes

----------------------------

Update bootstrap.sh for latest baseimage:

export THIRDPARTY_IMAGE_VERSION=0.4.13

 

Update Makefile

{{BASE_VERSION}}
 {{PREV_VERSION}}

EXPERIMENTAL ?= false

 
 Update docs/source/install.rst 

e.g. 
 curl -sSL [https://goo.gl/6wtTN5] | bash -s 1.3.0-rc1--
  

grep code for last release number or rc1, ensure all other references updated.

{{release_notes/v1.3.0.txt should be created}}

{{docs/source/releases.rst should be updated with prose and link to GH release page}}

Update hard coded release version in cryptogen, configtxgen, configtxlator, idemixgen binaries, e.g. *common/tools/configtxlator/metadata/metadata.go* (try to resolve this in the future)

{{change log should be generated just *after* *rebasing* to pick up the last minute merged CRs and linked from docs/source/releases.rst}}

./scripts/changelog.sh v1.3.0-rc1 v1.3.0",,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005ef:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,luomin,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,release-1.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric for next release,FAB-13556,36558,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,10/Jan/19 9:07 PM,28/Oct/23 3:04 AM,10/Jan/19 9:07 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the v1.4.0-rc1 release.

Update Makefile

BASE_VERSION = 1.4.0-rc1

PREV_VERSION = 1.3.0

 

Also, update master branch to have BASE_VERSION=1.4.0

Note: Release should be tagged prior to merging this ""prepare for next CR"".",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005en:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for 1.4.0 release,FAB-13557,36559,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,10/Jan/19 12:48 AM,28/Oct/23 3:04 AM,10/Jan/19 12:48 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST BEFORE MERGING*

Check for clean CI

Update Makefile

{{BASE_VERSION = 1.4.0-rc1}}
 {{PREV_VERSION = 1.3.0}}
 {{IS_RELEASE = true}}

change log should be generated just *after* *rebasing* to pick up the last minute merged CRs 
 ./scripts/changelog.sh v1.3.0 v1.4.0-rc1

update release_notes/v1.4.0.txt

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005ev:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-ca for next release,FAB-13558,36560,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,10/Jan/19 9:07 PM,28/Oct/23 3:04 AM,10/Jan/19 9:07 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"Note that this change must be stacked on the previous CR to prepare for the next release on the release-1.2 branch

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""
  
 Note: Release should be tagged prior to merging this ""prepare for next CR"".

 Note, also update master branch with:

1. Update Makefile

{{BASE_VERSION = 1.4.0}}
 {{PREV_VERSION = 1.4.0-rc1}}
 {{IS_RELEASE = false}}

2. Update lib/metadata/version.go

var Version = ""1.4.0""",,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005f3:",,,,,,,,,,,,,,,,,,,,,aambati,ChristopherFerris,denyeart,rennman,rickr,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Verify fabric, fabric-ca docker images are published",FAB-13559,36561,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,rameshthoomu,denyeart,09/Jan/19 1:33 AM,10/Jan/19 6:08 AM,28/Oct/23 3:04 AM,10/Jan/19 6:08 AM,,,,,,v1.4.0,,,,fabric-ci,fabric-release,,,0,,,,"Verify fabric, fabric-ca docker images are published to hyperledger docker-hub account and make sure fabric-binaries are published to nexus repository.",,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005fb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Push multiarch manifests,FAB-13560,36562,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,16/Jan/19 6:55 AM,28/Oct/23 3:04 AM,16/Jan/19 6:55 AM,,,,,,v1.4.0,,,,fabric-build,,,,0,,,,BASE_VERSION=1.4.0-rc2 TWO_DIGIT_VERSION=1.4 scripts/multiarch.sh user password,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005fj:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Test download of release artifacts and samples across all platforms,FAB-13561,36563,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,rameshthoomu,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,16/Jan/19 6:55 AM,28/Oct/23 3:04 AM,16/Jan/19 6:55 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,test download of release artifacts and samples across all platforms,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005fr:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrijk,rameshthoomu,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Tag repositories for 1.4.0,FAB-13566,36568,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,10/Jan/19 8:18 AM,28/Oct/23 3:04 AM,10/Jan/19 8:18 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*NOTE:* depends on preceding related CRs being merged.

Tag each repository local clone with the release_notes/v1.2.0.txt as the tag comment

% git tag -a v1.4.0-rc1 -F release_notes/v1.4.0-rc1.txt

{{% git push origin v1.4.0-rc1 HEAD:refs/heads/master}}

Tag each of fabric, fabric-ca , fabric-chaincode-java ad fabric-samples (use v1.4.0-rc1).

 
----
Note, that one can also tag the repo at a specific commit-level.

NOTE *e4b4704 should be updated with latest commit sha*

E.g., to add the {color:#f79232}*v1.4.0-rc1*{color} tag at commit level {color:#205081}*e4b4704*{color}, I used

{{% git tag -a *{color:#f79232}v1.4.0-rc1{color} {color:#205081}e4b4704{color}* -}}F release_notes/v1.4.0-rc1.{{txt}}

 

 ",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005gv:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create release-1.4 branches,FAB-13567,36569,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,09/Jan/19 1:44 AM,28/Oct/23 3:04 AM,09/Jan/19 1:44 AM,,,,,,v1.4.0,,,,,,,,0,,,,"cut release-1.4 branch for fabric, fabric-ca, fabric-chaincode-java, fabric-chaincode-node, fabric-samples",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005h3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Verify doc build status on ReadTheDocs,FAB-13568,36570,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,rameshthoomu,denyeart,09/Jan/19 1:33 AM,10/Jan/19 6:09 AM,28/Oct/23 3:04 AM,10/Jan/19 6:09 AM,,,,,,v1.4.0,,,,fabric-ci,fabric-docs,fabric-release,,0,,,,Verify readthedocs version release-1.4 gets built and published from release-1.4 branch edits.,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005hb:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,rameshthoomu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-samples for 1.4.0 release,FAB-13570,36572,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,09/Jan/19 1:33 AM,10/Jan/19 6:07 AM,28/Oct/23 3:04 AM,10/Jan/19 6:07 AM,,,,,,v1.4.0,,,,fabric-samples,,,,0,,,,"Update version references in fabric-samples, and then tag fabric-samples and create release-1.4 branch.

See associated CR for updates.",,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005hr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Send email to hyperledger-fabric mailing list,FAB-13571,36573,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,ChristopherFerris,denyeart,09/Jan/19 1:33 AM,16/Jan/19 6:55 AM,28/Oct/23 3:04 AM,16/Jan/19 6:55 AM,,,,,,v1.3.0,,,,fabric-release,,,,0,,,,send email announcing the release to hyperledger-fabric@lists.hyperledger.org mailing list.,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005hz:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Pin fabric-samples to node.js ""~1.4.0""",FAB-13572,36574,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,denyeart,denyeart,denyeart,09/Jan/19 1:33 AM,10/Jan/19 6:07 AM,28/Oct/23 3:04 AM,10/Jan/19 6:07 AM,,,,,,v1.3.0,,,,fabric-samples,,,,0,,,,"*AFTER V1.4.0 ONLY... NOT AFTER V1.4.0-RC1.*

After creating release-1.4 branch, pin the fabric samples to use version ""~1.4.0"" of node sdk and node chaincode.  This will forever align fabric samples in release-1.4 branch with the 1.4.x node.js releases. 

fabric-samples master branch continues to use ""unstable"" to pick up the latest and greatest node.js releases.

This should be merged in release-1.4 branch, before fabric-samples is tagged with ""v1.4.0"".

 

*Clarification - for v1.4.0-rc1 node sdk had a release, therefore we pinned at ""1.4.0-rc1"" until final release.*",,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005i7:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Release fabric-sdk-node 1.4.0,FAB-13573,36575,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,andrew-coleman,ChristopherFerris,denyeart,09/Jan/19 1:49 AM,10/Jan/19 5:17 AM,28/Oct/23 3:04 AM,10/Jan/19 5:17 AM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"*MUST BE REBASED JUST PRIOR TO MERGING*

generate CHANGELOG.md just *after rebasing* to pick up last minute merged CRs

./scripts/changelog.sh 2b862d7 v1.3.0 (have to use hash as there is no tag to find)

update release_notes/v1.3.0.txt

update package.json files with the release identifier

./package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""testFabricVersion"": ""master"",  -> ""testFabricVersion"": ""1.3.0"",

./fabric-ca-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.30"",

   ""tag"": ""unstable"" -> ""latest""

./fabric-client/package.json

    ""version"": ""1.3.0-snapshot"",  -> ""version"": ""1.3.0"",

    ""tag"": ""unstable"" -> ""latest""

 ",,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13230,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005if:",,,,,,,,,,,,,,,,,,,,,andrew-coleman,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"09/Jan/19 10:44 PM;andrew-coleman;https://gerrit.hyperledger.org/r/c/28568/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Prepare fabric-sdk-node for next release,FAB-13574,36576,36555,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,harrisob@us.ibm.com,ChristopherFerris,denyeart,09/Jan/19 1:50 AM,10/Jan/19 5:27 PM,28/Oct/23 3:04 AM,10/Jan/19 5:27 PM,,,,,,v1.4.0,,,,fabric-release,,,,0,,,,"update package.json files with the SNAPSHOT release identifier

  ./package.json

  fabric-client/package.json

  fabric-ca-client/package.json",,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13228,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"1|i005in:",,,,,,,,,,,,,,,,,,,,,ChristopherFerris,denyeart,harrisob@us.ibm.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 7:43 AM;harrisob@us.ibm.com;https://gerrit.hyperledger.org/r/#/c/28607/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Update the Jenkins configuration for fabric-samples release-1.4 branch.,FAB-13575,36577,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sambhavdutt,sambhavdutt,sambhavdutt,09/Jan/19 2:33 AM,16/Jan/19 6:51 AM,28/Oct/23 3:04 AM,16/Jan/19 6:51 AM,v1.4.0,,,,,v1.4.0,,,,fabric-samples,,,,0,fabric-samples,,,"Now that we have release-1.4 branch for fabric-samples, make the necessary changes in the Jenkins files to match release-1.4 , not the master branch.",,sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005iv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 6:26 AM;sambhavdutt;https://gerrit.hyperledger.org/r/#/c/28571/

Waiting for review;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove hardcoded reference to lscc namespace in collection store,FAB-13579,36585,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,09/Jan/19 9:15 AM,11/Jan/19 12:12 PM,28/Oct/23 3:04 AM,11/Jan/19 12:12 PM,,,,,,,,,,,,,,0,,,,`simpleCollectionStore` (https://github.com/hyperledger/fabric/blob/0052b77250c943106673ca69902754ad4a69f824/core/common/privdata/store.go#L51) has assumption in the code about how lscc stores its data. This should be removed by injecting an explicit dependency on `DeployedChaincodeInfoProvider` (https://github.com/hyperledger/fabric/blob/0052b77250c943106673ca69902754ad4a69f824/core/ledger/ledger_interface.go#L462),,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i005kn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 11:39 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28567/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer should not panic when join a higher-capability channel,FAB-13580,36586,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,baohua,baohua,baohua,09/Jan/19 11:29 AM,02/Feb/19 7:20 PM,28/Oct/23 3:04 AM,02/Feb/19 7:20 PM,v1.3.0,v1.4.0,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"Currently, when a old version peer wanna join a newer version channel, the peer will panic and exit.

However, the local ledger structure for that channel has already been created.

Hence, when the peer restarts, it will go into the panic-restart loop again, e.g.,

```

UTC [peer] capabilitiesSupportedOrPanic -> CRIT 0d2 [channel &{ .... incompatible Application capability V1_3 is required but not supported
 UTC [peer] capabilitiesSupportedOrPanic -> CRIT 051 [channel &{ .... incompatible Application capability V1_3 is required but not supported
 UTC [peer] capabilitiesSupportedOrPanic -> CRIT 051 [channel &{ .... incompatible Application capability V1_3 is required but not supported

```

A potential improvement could be when a peer joins a channel, it first check the channel capabilities requirement.

If cannot meet the requirement, then return reject to the client before creating the local ledger structure.

Overall, we need some graceful reaction instead of the panic considering production usage.",,baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13607,FAB-13931,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005kv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 1:38 AM;mastersingh24;I think there are really two things here:

 
 # On JoinChannel, we should check that the peer has the required capabilities.  If it does not have the required capabilities, we should reject the JoinChannel call/request.  There is also a chance that the peer meets the capabilities for the initial config block passed in the JoinChannel call but the channel has actually been update in a later config block.  We could either sync the channel and then disconnect (per 2 below) OR we could be smarter and actually get the latest config block from the orderer and use it to decide whether or not to join.  I think this might be overkill.
 # If a peer has already joined a channel and the channel has been ""upgraded"", we should not actually panic ... we should log an error or warning message and simply not connect to the orderer or disconnect from the orderer if the peer receives a channel upgrade with capabilities it does not support.

I believe this issue is about item 1.
 I think there might already be a JIRA for item 2.  If not, we can open another issue.;;;","10/Jan/19 11:32 AM;baohua;Exactly, and there might be the 3rd issue.

When a peer start, it will read all local ledgers, If the capabilities is not in valid range, then the peer should ignore that channel instead of panic.

I created https://jira.hyperledger.org/browse/FAB-13607 to track this issue.

 

https://jira.hyperledger.org/browse/FAB-13931 is created to track the channel capabilities update issue.;;;","29/Jan/19 9:30 AM;baohua;https://gerrit.hyperledger.org/r/#/c/28996/;;;",,,,,,,,,,,,,,,,,,,,,,
memberOnlyWrite - config option for implicit collection ACL checks for writes based on membership (finalize integration test),FAB-13581,36587,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,09/Jan/19 12:40 PM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,09/Jan/20 3:27 AM,v2.0.0,,,,,v2.0.0,,,,fabric-ledger,,,,0,,,,"Add ""memberOnlyWrite"" support for collections.

Implicit org-specific collections would utilize memberOnlyWrite=true.

Validation needs to enforce (coordinate with [~ales] )",,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-11141,FABJ-481,,,,,,,,,,,,,FAB-11409,FABN-1096,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-5108,,,No,,Unset,No,,,"1|hzwqfn:a",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Peer and Chaincode cloud native deployment support,FAB-13582,36588,,Epic,In Progress,FAB,Fabric,software,denyeart,,,Medium,,binhn,binhn,binhn,09/Jan/19 1:02 PM,14/Sep/20 1:14 AM,28/Oct/23 3:04 AM,,,,,,,v2.0.0,,,,,,,,27,,,,"The current runtime model of a chaincode is that it has to be in a sandbox (Docker container) since it is co-located in the hosting peer's environment. To sandbox, the hosting peer builds the chaincode Docker image and launches the container during the instantiate transaction. This model causes nonconformance with standard security practices in certain production deployments:
 # Endorsing peers must run in privileged mode to build and launch Docker chaincode images
 # Chaincode container can’t be provisioned and scaled by cloud native tools (eg K8s)
 # Chaincode package contains source code that can be confidential due to sensitive business logic
 # Dependence on peer to build and launch chaincode which doesn’t work well with CI/CD process

We focus on resolving these issues with 2 phases of development:
 # We will remove the elevated privilege configuration from the peer container enabling it to be deployed like any typical microservices in cloud environment
 # We will enable auto provisioning and elastic scaling of chaincode container with cloud native tools

 ",,aatkddny,alexvicegrab,bbehlendorf,binhn,bryangross,bur,C0rWin,cagdast,CarlitoIBM,ChristopherFerris,colismit,david_dornseifer,G-DazWilkin,generak,GingerMoon,grapebaba,guoger,guolidong,gurrpi,hakan.eryargi,huxd,inatatsu,iwinoto,Jan_Rzepecki,jeffgarratt,jgdomine,joaquimpedrooliveira,knagware9,kofman.alex@gmail.com,mastersingh24,mbwhite,MichaelWang,mirioeggmann,misaelssantos,msteiner,mtessler,muralisr,mwagner,n-horiguchi,nnao,nyet,osmola,paranjan,plalanne,qiang0723,RobertMiroballi,RyanMathison,SebCasanova,silliman,sstone1,TiantianGao,troyronda,Udossohn,Vishal3152,yacovm,ymlbright,yoheiueda,zhaochy,zimabry,,,,,,,,,,FAB-15167,FAB-13584,,,,,,,,,FAB-7406,,,,,,,,,,,,,,,,,,,,FAB-12246,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,in review,https://docs.google.com/document/d/14l-0jjxw0SLrkpgEuXr0ZxAn0BtTJAQTupXvVkeIL2s/edit?usp=sharing,Required,Unset,Required,ghx-label-4,,Cloud Native,To Do,No,,Required,No,,,"1|i005lb:",,,,Yes,Not Required,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,"Operator can use cloud native management tools such as Kubernetes to orchestrate peer and chaincode containers, and Helm Charts to upgrade chaincode.",aatkddny,alexvicegrab,bbehlendorf,binhn,bryangross,bur,C0rWin,cagdast,CarlitoIBM,ChristopherFerris,colismit,david_dornseifer,G-DazWilkin,generak,GingerMoon,grapebaba,guoger,guolidong,gurrpi,hakan.eryargi,huxd,inatatsu,iwinoto,Jan_Rzepecki,jeffgarratt,jgdomine,joaquimpedrooliveira,knagware9,kofman.alex@gmail.com,mastersingh24,mbwhite,MichaelWang,mirioeggmann,misaelssantos,msteiner,mtessler,muralisr,mwagner,n-horiguchi,nnao,nyet,osmola,paranjan,plalanne,qiang0723,RobertMiroballi,RyanMathison,SebCasanova,silliman,sstone1,TiantianGao,troyronda,Udossohn,Vishal3152,yacovm,ymlbright,yoheiueda,zhaochy,zimabry,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Jan/19 4:32 AM;mastersingh24;I'm not quite sure I understand the first phase (or why it's needed).  If we are going to do this (which we should), should just do phase 2 and remove any build/deploy of images/containers from the peer (clearly we'd need to keep some level of support for backwards compatibility, but the new model should not involve the peer building / launching anything).

Very much looking forward to this!;;;","06/Feb/19 5:41 PM;yoheiueda;I read the design document, and noticed that this change will possibly lead to further performance improvements.

I think the phase 2 design will also enable an optimization that alleviates lock contention in peer as described in FAB-7744.

Current implementation uses a mutex lock to guard concurrent accesses to a GRPC stream between peer and chain code. I observed severe lock contention here.

[https://github.com/hyperledger/fabric/blob/v1.4.0/core/chaincode/handler.go#L324]

If we can use one GRPC stream per transaction proposal, we don’t need the mutex lock at all. Moreover, it will simplify the code of managing transactions. For example, currently we need to manage mapping of transaction contexts in order to correctly handle shim requests from chaincode, but if we use this solution, each transaction proposal simulation uses a dedicated stream for chaincode communication, so we don’t need to manage such relationship.

My microbenchmark in FAB-7744 shows that use of multiple GRPC streams is cheaper than mutex locking.

Creation of new GRPC streams must be initiated from client side. In the current implementation, peer starts a GRPC server, and a chaincode container establishes a TLS connection to the server at its startup. So peer is a server, and can’t initiate new GRPC streams. This limitation makes it difficult to create new GRPC stream for each transaction proposal.

Phase 2 design uses an opposite way. A chaincode container starts a GRPC server, and peer establishes a TLS connection to the server. In this design, peer can create new GRPC stream for each transaction proposal.

My point is that the phase 2 design will introduce optimization and refactoring opportunities for better performance in addition to security and operations.;;;","07/Feb/19 12:25 AM;muralisr;[~yoheiueda] yes, with this model we can make ""Invoke"" a service directly on the chaincode instead of Invokes ""tunneling"" on one overarching GRPC stream. Among other simplification, we wouldn't need the locks that protect the invokes any longer.

Bulk of the extra work would be in refactoring so the old and new models can coexist and use shared code. Certainly on the radar though.


{code:java}
My point is that the phase 2 design will introduce optimization and refactoring opportunities for better performance in addition to security and operations.
{code}

Agreed!;;;","17/Feb/19 1:16 AM;mastersingh24;{quote}Bulk of the extra work would be in refactoring so the old and new models can coexist and use shared code. Certainly on the radar though.
{quote}

I'm not sure it makes sense to share much code here ... we of course will need to support the old model for at least one release, but I really think we get into trouble every time we try to share code and/or use code paths with switch statements.  Perhaps that's not what is meant here, but we do need to watch out for that.;;;","17/Feb/19 4:48 AM;yacovm;{quote}My point is that the phase 2 design will introduce optimization and refactoring opportunities for better performance in addition to security and operations.
{quote}
 

It doesn't add any security in my opinion.
What I think is missing in the google doc, is a section that deals with how the chaincode shim authenticates the peer. 
We need the peer to prove he is who he is to the chaincode shim.;;;","19/Feb/19 11:40 PM;muralisr;[~mastersingh24] The work to separate the go-shim is independent (FAB-12246) from the new cc model and requires more design/discussion, slated for 2.01 currently. The work for the peer-chaincode separation and having chaincode run as server is minimal and isolated for most part on the shim side (the peer side is not too bad either but we have to have common code there anyway till we are ready to remove the support for old model). The plan is to do this first as this will get the new model out so everyone can use it (docs, test, users etc).

This is a low change, low risk effort with the significant benefits of the new model and sooner we get it out the better IMO. Also when we do take the shim to a new repo the common code would be separated easily. 

[~binhn] ;;;","19/Feb/19 11:45 PM;muralisr;[~yacovm] 
{code:java}
It doesn't add any security in my opinion.{code}

From a pure transport point of view it doesn't, true. But the users now have more control on the security model for the chaincode (on prem, cloud, secure enclaves (if/when) etc). 

{code:java}
What I think is missing in the google doc, is a section that deals with how the chaincode shim authenticates the peer. 
We need the peer to prove he is who he is to the chaincode shim.
{code}

See your comment/question the doc as well. Lets' address there.
;;;","09/Mar/19 2:23 AM;jeffgarratt;I am concerned that the issues raised with turning chaincode from a self initiated outbound only actor to a server will introduce far more complexities than imagined.  The simplicity in the original design was in the more innocuous mechanisms chaincode employs (i.e. preemptive outbound stream only communication to designated endpoint).  This tremendously decreases the vulnerability of the chaincode process itself.   Adding inbound port connectivity to the chaincode basically turns it from an interface requiring no concept of internal functional identity wrt to port access to one that must now make access control decisions.  Secondly, you are simply moving the ""privileged"" aspect from the peer to your administrative service (e.g. kubernetes, etc.). 

I could envision a simple way to achieve the same effect to be to augment the chaincode install request/response process without breaking backwards compatibility.  Add another arg to the install invocation to indicate lifecycle responsibility (Default to TRUE if arg omitted, and operate as today).    If FALSE, then the Peer simply does NOT perform any of the chaincode management processes (i.e. compile, launch, etc.), and returns TLS materials that would normally be used to preconfigure the chaincode in the Response to the install request (This makes sense as today install requires Peer Admin role).  The peer can then refer to the flag for future invocations and act accordingly.   The caller can then take responsibility for deployment and management of the chaincode however they wish utilizing the credentials from the Install response, as long as the chaincode can reach the peer.  Then you are free to have the chaincode run anyway you wish, as long as it can connect back to the peer.  This path would require minimal effort in my estimation with no compatibility issues that I can see offhand, while maintaining credential control within the peer.;;;","07/Nov/19 11:17 PM;jgdomine;Do we have an update on this topic?

We're still using Docker in Docker as a workaround and this is not production acceptable...

Thank you;;;","08/Nov/19 2:34 AM;muralisr;[~jgdomine] Slated for 2.0 and CR review in progress - https://gerrit.hyperledger.org/r/#/c/fabric/+/34100/;;;","08/Nov/19 5:00 PM;jgdomine;Thank you for your quick reply [~muralisr]

I followed the links to try to understand how this issue would be solved and read about the notion of external chaincode launcher and  saw that as a consequence the core.yaml would have an additional section.

But I'm not sure I understood everything because I'm no expert in HLF Fabric :)

By external launcher, do we talk about things such as K8S?

By the way, is the 2.0 release date planned yet?

Thank you for your insights;;;","09/Nov/19 1:24 AM;muralisr;Of course, [~jgdomine].

The CR set would be hard to follow and connect the dots. I just provided it to give an update on where we are.

As a background, currently the peer is entirely responsible for building and launching the chaincode. In 2.0 hooks are provided via the ""external chaincode launcher"" mechanism for users to optionally control overbuilding and launching of the chaincode using scripts. This is what you refer to with ""the core.yaml would have an additional section."" I won't describe this process but leave it to upcoming documentation... (and also defer to [~sykesm] [~jyellick]). One thing important to understand is this is a general mechanism - the ""external"" in ""external chaincode launcher"" refers to have the build/launch steps not being internal to peer.

What _is_ relevant to this JIRA is this:

We leverage the ""external chaincode launcher"" to let user provide connection information of the externally running chaincode to the peer (in the ""build"" step of the process) via the core.yaml section. This tells the peer where to connect to (along with other TLS information). Note that the ""build"" could also start the chaincode-as-server first in your k8s env but its not necessary - e..g., the chaincode could running a priori in your k8s env where you fully control the running of the chaincode.

There will be samples and documentation to help clarify of course. Meanwhile, hope this helps.

[~jyellick] [~sykesm] please do add/correct.;;;","15/Nov/19 5:25 PM;jgdomine;Thank you very much for the clarification [~muralisr].

I'm really looking forward these changes as from what I understand, this mechanism will enable the full management of the chaincode container lifecycle via Kubernetes

Hope 2.0 is coming soon

Regards;;;","15/Nov/19 10:38 PM;muralisr;_...from what I understand, this mechanism will enable the full management of the chaincode container lifecycle via Kubernetes_

That's correct [~jgdomine].;;;",,,,,,,,,,,
Retrieving Chaincode ID Correctly in Chaincode-Chaincode Calls.,FAB-13583,36589,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,dileban,dileban,09/Jan/19 1:10 PM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,Future,,,,fabric-peer,,,,0,stale-item,,,"Retrieving the chaincode ID is a little involved today and requires
 digging through signed proposal, specifically, looking at the
 ChaincodeHeaderExtension within the proposal's header.

Further, retrieving this chaincode ID can be counter-intutive to
 what a programmer would expect when the current chaincode was called
 by another. In this case, the chaincode ID is the ID of the calling
 chaincode, not the callee (current) chaincode.

This issue proposes adding a new method to the
 ChaincodeStubInterface that will simplify the process of retrieving
 the current or calling chaincode's ID.

Proposed methods to ChaincodeStubInterface:

// GetChaincodeID returns a sequence of chaincode IDs from the ""chaincode-call-stack"".
 // For instance, give an invoke sequence ChaincodeA->ChaincodeB->ChaincodeC
 // this function will return []string\{ChaincodeA, ChaincodeB, ChaincodeC}.
 GetChaincodeID() []string

In the case of a direct call, the function above would return a
 slice with just one element containing the ID of the executing
 chaincode. In the case of a series of calls, the function would
 return a slice of strings of chaincode IDs in the order in which the
 chaincode-to-chaincode invocation happened.",,dileban,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,No,Unset,,,,,No,,Unset,No,,,"1|i005lj:",,,,No,Unset,,,(Please add steps to reproduce),,No,,,,,,Unset,,Unset,,(Please add usage information),dileban,muralisr,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 7:33 AM;muralisr;[~dileban] just curious ... how do you plan to implement

{code:java}
// For instance, give an invoke sequence ChaincodeA->ChaincodeB->ChaincodeC
// this function will return []string{ChaincodeA, ChaincodeB, ChaincodeC}.
{code}
;;;","23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,
External chaincode builder and launcher,FAB-13584,36590,,Epic,Closed,FAB,Fabric,software,denyeart,,,High,Done,sykesm,Clayton Sims,Clayton Sims,09/Jan/19 1:43 PM,03/Feb/21 7:55 AM,28/Oct/23 3:04 AM,03/Feb/21 7:55 AM,,,,,,v2.0.0,,,,fabric-peer,,,,7,,,,"h1. Goals
 * Provide Fabric operators with a mechanism to build and launch chaincode outside of Docker (e.g. in Kubernetes - see FAB-13582)
 * Begin the process of decoupling and extracting chaincode build processing from the peer

h1. Background

Our current chaincode deployment model looks a lot like a PaaS; chaincode developers write code in the language of their choice and push it to the peer for execution. The peer, on demand, transforms the code into an executable package, launches the chaincode in an execution environment, and routes requests to the running chaincode.

Unfortunately, we have implemented this by hard coding the logic for packaging, building, and running chaincode inside Docker containers. In addition to making it difficult to experiment with new chaincode types, the implementation requires operators to grant the peer access to a Docker daemon. Since Docker daemon access enables the peer to perform a number of privileged actions, it's strongly discouraged in security conscious environments. This binding also prevents operators from using platforms like Kubernetes to host chaincode.
h1. Prior Art

Let's begin by looking at some of the technology in Cloud Foundry that supports staging and execution of applications.
h2. Buildpacks

A buildpack is a software package that implements the process of transforming user provided source assets to executable code. The contract is simple, but flexible enough to support pure binaries, scripting languages, and complicated build processes that use autoconf and make.

The buildpack contract is comprised of three scripts: detect, compile, and release. detect is used to determine if a buildpack is can be used with source assets provided by a user, compile is used to transform the assets into something that can be executed, and release is used to provide the start command to the platform.
h2. Lifecycle

Cloud Foundry uses lifecycle implementations to manage applications. Like a buildpack, a lifecycle consists of three executables: builder, launcher, and healthcheck. The builder is responsible for preparing an application for execution, the launcher is responsible for starting an application, and the healthcheck is called regularly to monitor the launched application for liveness.

In Cloud Foundry, two implementations of lifecycle exist: docker and buildpack. The buildpack lifecycle uses buildpack processing to build and launch an application while the docker lifecycle is used extract metadata from an image and launch it in inside a garden container.
h1. Proposal

Our proposal is to adapt patterns used by Cloud Foundry for building and running applications to the chaincode model of the peer. These patterns will introduce seams that enable operators to build and launch chaincode with the technology of their choice and, eventually, will enable us to remove hard code chaincode platforms from the peer.

Combining aspects of the buildpack and lifecycle models in Cloud Foundry, the proposed peer chaincode contract consists of three process based entry points: detect, build, and launch.
h2. detect

The purpose of *detect* is to determine if the external builder should be used with the chaincode. The executable will be called by the peer with one argument: the path to a source directory containing the contents of the chaincode package. If detect exits with a return code of 0, the external builder will be used to build the chaincode. Any other exit code will indicate the peer's internal builder should be used.

Any modifications to the contents of the source directory may be discarded. Messages written to stderr will be written to the peer's log.
h2. build

When detect has returned with a 0 return code, the *build* executable will be called to transform the chaincode package into something that can be launched by launch.

The executable will be called with two arguments: the first is the path to a source directory containing the contents of the chaincode package, and the second is the path to a build directory where the build can cache information or hold build outputs. A successful build operation must result in a 0 return code from build and any other return code will be treated as a failure.

When build is successful, the contents of the build directory will be saved on the peer's file system; any modifications to the source may be discarded. Messages written to stderr will be written to the peer's log.

A typical implementation of build might be to generate a build context from the input source, perform an unprivileged build using a tool like Google's kaniko, and then populate the docker image reference to the build directory.
h2. launch

The purpose of *launch* is to locate or start chaincode on behalf of the peer. The launch executable is called with three arguments: the first is the path to a directory containing chaincode package source, the second is the path to a directory containing the contents of the build tree, and the third is the path to a directory containing chaincode.json and any artifacts referenced by that file. This file will be used by the peer to provide metadata like the peer chaincode server address and assets such as generated TLS keys and certificates required for chaincode registration. It is up to the launcher to provide this information to the launched chaincode as appropriate.

The launch operation is considered successful when it exits with a return code of 0; any other return code is considered a failure. Prior to exiting, the launcher may write a JSON encoded message to the peer. This message is similar to chaincode.java in structure but is used to inform the peer about the chaincode invocation contract. In particular, it can specify the address of the running chaincode and provide TLS keys and credentials necessary to connect to chaincode. When this information is made available, the peer will consider registration complete and invoke chaincode at the target address using the provided credentials. If this information is not provided, the legacy chaincode model is assumed and the peer will wait for the chaincode instance to register.

A failure to parse the JSON message provided from launch to the peer will be treated as a launch failure. Fields that are unknown to the peer are ignored. Messages written to stderr will be written to the peer's log.

A typical implementation of launch might launch a container in a Kubernetes bare pod with the appropriate start command, environment and key material necessary to register with the peer's chaincode server. Once the pod object has been created, the launcher would return 0 with an empty JSON message of {} to stdout. A message that includes the ID of the new pod would be written to stderr and captured in the peer's log. The peer would then wait for chaincode registration to complete.

An alternative implementation of launch might retrieve the appropriate Kubernetes service definition and credentials to invoke the desired chaincode via some service, populate a message with the target information, write the message to stdout, and exit with a return code of 0. The peer would then parse the message and invoke the chaincode at the provided address with the provided credentials.
h2. Configuration

The peer configuration will be augmented to include a reference to a directory on the peer's local file system that contains the detect, build, and launch executables. These executables

When the feature is not configured, the peer will fallback to the existing implementation that is embedded within the peer.
h2. Logs

The proposed launch mechanism does not provide any mechanism to include externally launched chaincode in the peer logs. If log aggregation is required, the peer and chaincode should be configured to direct logs to a common destination that can merge the events.",,bjwswang,bur,colismit,denyeart,grapebaba,huxd,jgdomine,MHBauer,mirioeggmann,msteiner,SebCasanova,swetharepakula,sykesm,troyronda,Udossohn,Vishal3152,ymlbright,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13582,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"Main stories merged, other improvements ongoing.",(Please add high level design or a link to the design),Unset,Unset,Unset,ghx-label-6,,External chaincode builder and launcher,To Do,No,,Unset,No,,,"1|i005lr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bjwswang,bur,colismit,denyeart,grapebaba,huxd,jgdomine,MHBauer,mirioeggmann,msteiner,SebCasanova,swetharepakula,sykesm,troyronda,Udossohn,Vishal3152,ymlbright,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/Aug/19 12:52 AM;denyeart;Original gist proposal in markdown: https://gist.github.com/sykesm/0958550cc41b47f8b99b4f54697ac342;;;","19/Aug/19 10:41 PM;sykesm;updated slides: https://gist.github.com/sykesm/1e85b3cf43bd39d6c9ef877a6d7c14cf;;;",,,,,,,,,,,,,,,,,,,,,,,
Enhance CLI to support chaincode-triggered token transaction,FAB-13587,36603,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wenjian,wenjian,09/Jan/19 9:54 PM,23/Jan/20 7:31 AM,28/Oct/23 3:04 AM,23/Jan/20 7:31 AM,,,,,,,,,,,,,,0,stale-item,,,"CLI should be enhanced with the following:
 * check if proposal response payload contains token expectation
 * if yes, communicate to prover peer to get token transaction
 * generate transaction with both TransactionAction and TokenTransaction",,sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005nj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:31 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
reduce scope of rlock around logging observer,FAB-13591,36609,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,10/Jan/19 12:08 AM,12/Jan/19 1:11 AM,28/Oct/23 3:04 AM,10/Jan/19 4:03 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 4:04 AM;sykesm;done but waiting for 1.4.1 merge

https://gerrit.hyperledger.org/r/c/28577;;;",,,,,,,,,,,,,,,,,,,,,,,,
"CouchDB tests FAB-3870, FAB-3877 failed in ledger_lte daily with Assertion error",FAB-13592,36610,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Test Error,AdnanChoudhury,sambhavdutt,sambhavdutt,10/Jan/19 1:08 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,28/Feb/19 12:10 AM,v1.4.0,,,,,v1.4.0,,,,fabric-quality,,,,0,ci-flake,,,"There are two failed test cases FAB-3870, FAB-3877 in the daily lte tests, due to Assertion Error, The LTE tests started at 7:43 PM EST on 8th Jan, and took about 4 hours to complete which is the standard time for a successful LTE run.

*Intermittent:* No

*Branch:* release-1.4

*Error Snippet:* 
{code:java}
*23:30:35* =================================== FAILURES ===============
*23:30:35* _____________ perf_couchdb.test_FAB_3870_VaryNumParallelTxPerChain ___

*23:30:35* self = <ledger_lte.perf_couchdb 
testMethod=test_FAB_3870_VaryNumParallelTxPerChain>*23:30:35* *23:30:35*     def test_FAB_3870_VaryNumParallelTxPerChain(self):*23:30:35*         '''*23:30:35*              In this Performance test, we observe the performance (time to*23:30:35*              complete a set number of Ledger operations) of the Ledger component,*23:30:35*              with couchdb as the state database. We vary the number of parallel*23:30:35*              transactions per chain and observe the performance.*23:30:35* *23:30:35*              Passing criteria: Underlying LTE test completed successfully with*23:30:35*              exit code 0*23:30:35*             '''*23:30:35*         logfile = open(""output_VaryNumParallelTxPerChain_couchdb.log"", ""w"")*23:30:35*         returncode = subprocess.call( ""./runbenchmarks.sh -f ""*23:30:35*                 ""parameters_couchdb_daily_CI.sh varyNumParallelTxPerChain"",*23:30:35*                 shell=True, stderr=subprocess.STDOUT, stdout=logfile,*23:30:35*                 cwd=tool_directory)*23:30:35*         logfile.close()*23:30:35*         self.assertEqual(returncode, 0,*23:30:35*                 msg=""VaryNumParallelTxPerChain for CouchDB performance test""*23:30:35* >               ""failed. \nPlease check the logfile "" +logfile.name+"" for more""*23:30:35*                 "" details."")*23:30:35* E   AssertionError: VaryNumParallelTxPerChain for CouchDB performance testfailed. *23:30:35* E    Please check the logfile output_VaryNumParallelTxPerChain_couchdb.log for more details.*23:30:35* *23:30:35* ledger_lte.py:217: AssertionError{code}
{code:java}
23:30:35 ____________________ perf_couchdb.test_FAB_3877_VaryNumTxs ______________
23:30:35 
23:30:35 self = <ledger_lte.perf_couchdb testMethod=test_FAB_3877_VaryNumTxs>
23:30:35 
23:30:35     def test_FAB_3877_VaryNumTxs(self):
23:30:35         self.assertTrue(True)
23:30:35         '''
23:30:35              In this Performance test, we observe the performance (time to
23:30:35              complete a set number of Ledger operations) of the Ledger component,
23:30:35              with couchdb as the state database. We vary the number of
23:30:35              transactions carried out.
23:30:35     
23:30:35              Passing criteria: Underlying LTE test completed successfully with
23:30:35              exit code 0
23:30:35             '''
23:30:35         logfile = open(""output_VaryNumTxs_couchdb.log"", ""w"")
23:30:35         returncode = subprocess.call(
23:30:35                 ""./runbenchmarks.sh -f parameters_couchdb_daily_CI.sh varyNumTxs"",
23:30:35                 shell=True, stderr=subprocess.STDOUT, stdout=logfile,
23:30:35                 cwd=tool_directory)
23:30:35         logfile.close()
23:30:35         self.assertEqual(returncode, 0, msg=""varyNumTxs for CouchDB ""
23:30:35                 ""performance test failed. \nPlease check the logfile ""
23:30:35 >               +logfile.name+"" for more "" ""details."")
23:30:35 E       AssertionError: varyNumTxs for CouchDB performance test failed. 
23:30:35 E       Please check the logfile output_VaryNumTxs_couchdb.log for more details.
23:30:35 
23:30:35 ledger_lte.py:386: AssertionError
23:30:35 =================== 2 failed, 16 passed in 13576.66 seconds ====================
{code}

There has been no change in code which could have triggered this error. I am not giving this a high priority yet as this is a flake like many times.

*Build Log*
 [https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-release-1.4-x86_64/24/]",,sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,99dadfb,Unset,No,,,"1|i005ov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sambhavdutt,scottz,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 10:06 PM;sambhavdutt;There is another flaky test case fail *test_FAB_3875_VaryBatchSize* in *release-1.3* due to Assertion Error.
 The LTE tests started at 8:43 PM EST on 9th Jan, and took about 3:30 hours:mins to complete which is the standard time for a successful LTE run. 

There are no changes made in the code that could have triggered this fail.

*Intermittent:* No

*Branch:* release-1.3

*Error Snippet:*
{code:java}
E       AssertionError: varyBatchSize for CouchDB performance test failed. 
E       Please check the logfile output_VaryBatchSize_couchdb.log for more details.

ledger_lte.py:322: AssertionError
{code}
*Build Log*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-daily-lte-release-1.3-x86_64/68/];;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in SBE integration tests,FAB-13593,36611,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,mne,sykesm,sykesm,10/Jan/19 1:31 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,15/Jan/19 4:10 AM,,,,,,v1.4.1,v2.0.0,,,fabric-peer,,,,0,ci-flake,,,"Encountered in CR: https://gerrit.hyperledger.org/r/c/28569/

{code}
14:50:23 
14:50:23 ------------------------------
14:50:23 • Failure [71.623 seconds]
14:50:23 SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
14:50:23 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:74
14:50:23 
14:50:23   Got stuck at:
14:50:23       foo
14:50:23       
14:50:23   Waiting for:
14:50:23       val1
14:50:23 
14:50:23   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
14:50:23 ------------------------------
14:50:23 
14:50:23 
14:50:23 Summarizing 1 Failure:
14:50:23 
14:50:23 [Fail] SBE_E2E basic solo network with 2 orgs [It] executes a basic solo network with 2 orgs and SBE checks 
14:50:23 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/sbe/sbe_test.go:171
{code}

It appears that we're invoking chaincode against an org1 peer and waiting for the commit and then go to org2's peer to do the query. The block doesn't get to org2's peer until after the query is initiated.

{code}
14:50:23 STEP: org1 sets the value of the key
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.364 UTC [endorser] callChaincode -> INFO 0fd [testchannel][65faa67b] Entry chaincode: name:""mycc"" 
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.365 UTC [endorser] callChaincode -> INFO 0fe [testchannel][65faa67b] Exit chaincode: name:""mycc""  (1ms)
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.390 UTC [comm.grpc.server] 1 -> INFO 0ff unary call completed {""grpc.start_time"": ""2019-01-09T14:50:22.363Z"", ""grpc.service"": ""protos.Endorser"", ""grpc.method"": ""ProcessProposal"", ""grpc.peer_address"": ""127.0.0.1:47754"", ""grpc.code"": ""OK"", ""grpc.call_duration"": ""27.123179ms""}
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.401 UTC [gossip.privdata] StoreBlock -> INFO 100 [testchannel] Received block [18] from buffer
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.401 UTC [gossip.privdata] StoreBlock -> INFO 0d0 [testchannel] Received block [18] from buffer
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.402 UTC [committer.txvalidator] Validate -> INFO 0d1 [testchannel] Validated block [18] in 0ms
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.402 UTC [committer.txvalidator] Validate -> INFO 101 [testchannel] Validated block [18] in 0ms
14:50:23 [e][Org2.peer1] 2019-01-09 14:50:22.405 UTC [gossip.privdata] StoreBlock -> INFO 094 [testchannel] Received block [18] from buffer
14:50:23 [e][Org1.peer1] 2019-01-09 14:50:22.405 UTC [gossip.privdata] StoreBlock -> INFO 098 [testchannel] Received block [18] from buffer
14:50:23 [e][Org2.peer1] 2019-01-09 14:50:22.406 UTC [committer.txvalidator] Validate -> INFO 095 [testchannel] Validated block [18] in 1ms
14:50:23 [e][Org1.peer1] 2019-01-09 14:50:22.406 UTC [committer.txvalidator] Validate -> INFO 099 [testchannel] Validated block [18] in 0ms
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.461 UTC [kvledger] CommitWithPvtData -> INFO 102 [testchannel] Committed block [18] with 1 transaction(s) in 58ms (state_validation=0ms block_commit=37ms state_commit=13ms)
14:50:23 [e][peer-chaincode-invoke] 2019-01-09 14:50:22.462 UTC [chaincodeCmd] ClientWait -> INFO 001 txid [65faa67b1ea8177835d67e700cddb9ec4ed67c613dbc20c3545d85222a8429ea] committed with status (VALID) at 127.0.0.1:30003
14:50:23 [e][peer-chaincode-invoke] 2019-01-09 14:50:22.462 UTC [chaincodeCmd] chaincodeInvokeOrQuery -> INFO 002 Chaincode invoke successful. result: status:200 
14:50:23 [e][Org1.peer0] 2019-01-09 14:50:22.462 UTC [comm.grpc.server] 1 -> INFO 103 streaming call completed {""grpc.start_time"": ""2019-01-09T14:50:22.391Z"", ""grpc.service"": ""protos.Deliver"", ""grpc.method"": ""DeliverFiltered"", ""grpc.request_deadline"": ""2019-01-09T14:50:52.391Z"", ""grpc.peer_address"": ""127.0.0.1:47756"", ""error"": ""context finished before block retrieved: context canceled"", ""grpc.code"": ""Unknown"", ""grpc.call_duration"": ""71.018912ms""}
14:50:23 [e][OrdererOrg.orderer] 2019-01-09 14:50:22.463 UTC [orderer.common.broadcast] Handle -> WARN 042 Error reading from 127.0.0.1:47540: rpc error: code = Canceled desc = context canceled
14:50:23 [e][OrdererOrg.orderer] 2019-01-09 14:50:22.463 UTC [comm.grpc.server] 1 -> INFO 043 streaming call completed {""grpc.start_time"": ""2019-01-09T14:50:22.362Z"", ""grpc.service"": ""orderer.AtomicBroadcast"", ""grpc.method"": ""Broadcast"", ""grpc.peer_address"": ""127.0.0.1:47540"", ""error"": ""rpc error: code = Canceled desc = context canceled"", ""grpc.code"": ""Canceled"", ""grpc.call_duration"": ""100.601766ms""}
14:50:23 STEP: org2 checks that setting the value was successful by reading it
14:50:23 [e][Org2.peer1] 2019-01-09 14:50:22.467 UTC [kvledger] CommitWithPvtData -> INFO 096 [testchannel] Committed block [18] with 1 transaction(s) in 59ms (state_validation=0ms block_commit=36ms state_commit=14ms)
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.482 UTC [gossip.privdata] StoreBlock -> INFO 0d2 [testchannel] Fetched all missing collection private write sets from remote peers for block [18] (79ms)
14:50:23 [e][Org1.peer1] 2019-01-09 14:50:22.482 UTC [kvledger] CommitWithPvtData -> INFO 09a [testchannel] Committed block [18] with 1 transaction(s) in 75ms (state_validation=0ms block_commit=39ms state_commit=14ms)
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.522 UTC [endorser] callChaincode -> INFO 0d3 [testchannel][c0b06aaa] Entry chaincode: name:""mycc"" 
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.524 UTC [endorser] callChaincode -> INFO 0d4 [testchannel][c0b06aaa] Exit chaincode: name:""mycc""  (1ms)
14:50:23 [e][Org2.peer0] 2019-01-09 14:50:22.524 UTC [comm.grpc.server] 1 -> INFO 0d5 unary call completed {""grpc.start_time"": ""2019-01-09T14:50:22.522Z"", ""grpc.service"": ""protos.Endorser"", ""grpc.method"": ""ProcessProposal"", ""grpc.peer_address"": ""127.0.0.1:50924"", ""grpc.code"": ""OK"", ""grpc.call_duration"": ""2.346419ms""}
14:50:23 [o][peer-chaincode-query] foo
{code}

/cc [~mne]",,denyeart,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13450,FAB-13223,,,,,,,,,,,,,,,,,,,FAB-13450,,,,,,,,"10/Jan/19 1:32 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16513/console-timestamp.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005p3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mne,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 1:41 AM;mne;Thank you for the analysis [~sykesm]. Will have a look.;;;","11/Jan/19 8:23 PM;mne;I added explicit synchronization as in the private data integration tests: when checking a ledger value wait until all peers are at the same height.

https://gerrit.hyperledger.org/r/#/c/28653/;;;","14/Jan/19 4:29 AM;denyeart;Cherry picked to release-1.4: https://gerrit.hyperledger.org/r/#/c/28686/;;;",,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in acl e2e test,FAB-13594,36614,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,sykesm,sykesm,10/Jan/19 2:38 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,16/Jan/19 7:43 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,ci-flake,,,"Hit this in CR build: [https://gerrit.hyperledger.org/r/c/28569/]
{code:java}
15:25:00 ------------------------------
15:25:00 • Failure [35.962 seconds]
15:25:00 EndToEndACL [It] enforces access control list policies 
15:25:00 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/acl_test.go:91
15:25:00 
15:25:00   Got stuck at:
15:25:00       2019-01-09 15:24:58.547 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
15:25:00       2019-01-09 15:24:58.671 UTC [cli.common] readBlock -> INFO 002 Received block: 5
15:25:00       
15:25:00   Waiting for:
15:25:00       can't read the block: &{FORBIDDEN}
15:25:00 
15:25:00   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/acl_test.go:154
15:25:00 ------------------------------
15:25:02 ••PP
15:25:02 
15:25:02 Summarizing 1 Failure:
15:25:02 
15:25:02 [Fail] EndToEndACL [It] enforces access control list policies 
15:25:02 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/acl_test.go:154
15:25:02 
15:25:02 Ran 5 of 11 Specs in 197.996 seconds
15:25:02 FAIL! -- 4 Passed | 1 Failed | 6 Pending | 0 Skipped
{code}
It looks like the config update was part of block 5 on org1Peer0 but that the block did not get committed at org2Peer0 before the assertions started to run.
{code:java}
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:57.463 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:57.467 UTC [cli.common] readBlock -> INFO 002 Received block: 6
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:57.468 UTC [cli.common] readBlock -> INFO 003 Received block: 6
15:25:00 [e][OrdererOrg.orderer] 2019-01-09 15:24:57.469 UTC [common.deliver] Handle -> WARN 0a6 Error reading from 127.0.0.1:42892: rpc error: code = Canceled desc = context canceled
15:25:00 [e][OrdererOrg.orderer] 2019-01-09 15:24:57.470 UTC [comm.grpc.server] 1 -> INFO 0a7 streaming call completed {""grpc.start_time"": ""2019-01-09T15:24:57.464Z"", ""grpc.service"": ""orderer.AtomicBroadcast"", ""grpc.method"": ""Deliver"", ""grpc.peer_address"": ""127.0.0.1:42892"", ""error"": ""rpc error: code = Canceled desc = context canceled"", ""grpc.code"": ""Canceled"", ""grpc.call_duration"": ""5.501305ms""}

15:25:00 STEP: fetching the latest block from the peer as a permitted Org1 Admin identity
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:57.503 UTC [kvledger] CommitWithPvtData -> INFO 071 [testchannel] Committed block [4] with 1 transaction(s) in 4421ms (state_validation=0ms block_commit=4340ms state_commit=36ms)
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:57.503 UTC [gossip.privdata] StoreBlock -> INFO 072 [testchannel] Received block [5] from buffer
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:57.505 UTC [committer.txvalidator] Validate -> INFO 073 [testchannel] Validated block [5] in 1ms
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:57.523 UTC [kvledger] CommitWithPvtData -> INFO 048 [testchannel] Committed block [4] with 1 transaction(s) in 4433ms (state_validation=1ms block_commit=4348ms state_commit=31ms)
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:57.523 UTC [gossip.privdata] StoreBlock -> INFO 049 [testchannel] Received block [5] from buffer
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:57.526 UTC [committer.txvalidator] Validate -> INFO 04a [testchannel] Validated block [5] in 2ms
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:57.549 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.476 UTC [kvledger] CommitWithPvtData -> INFO 074 [testchannel] Committed block [5] with 1 transaction(s) in 970ms (state_validation=0ms block_commit=927ms state_commit=25ms)
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.477 UTC [gossip.privdata] StoreBlock -> INFO 075 [testchannel] Received block [6] from buffer
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:58.478 UTC [cli.common] readBlock -> INFO 002 Received block: 4
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.480 UTC [common.deliver] Handle -> WARN 076 Error reading from 127.0.0.1:44866: rpc error: code = Canceled desc = context canceled
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.480 UTC [comm.grpc.server] 1 -> INFO 077 streaming call completed {""grpc.start_time"": ""2019-01-09T15:24:57.55Z"", ""grpc.service"": ""protos.Deliver"", ""grpc.method"": ""Deliver"", ""grpc.peer_address"": ""127.0.0.1:44866"", ""error"": ""rpc error: code = Canceled desc = context canceled"", ""grpc.code"": ""Canceled"", ""grpc.call_duration"": ""929.862701ms""}

15:25:00 STEP: fetching the latest block from the peer as a forbidden org2 Admin identity
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.487 UTC [committer.txvalidator] Validate -> INFO 078 [testchannel] Validated block [6] in 9ms
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:58.547 UTC [channelCmd] InitCmdFactory -> INFO 001 Endorser and orderer connections initialized
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.669 UTC [kvledger] CommitWithPvtData -> INFO 04b [testchannel] Committed block [5] with 1 transaction(s) in 1142ms (state_validation=0ms block_commit=940ms state_commit=25ms)
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.670 UTC [gossip.privdata] StoreBlock -> INFO 04c [testchannel] Received block [6] from buffer
15:25:00 [e][peer-channel-fetch] 2019-01-09 15:24:58.671 UTC [cli.common] readBlock -> INFO 002 Received block: 5
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.673 UTC [common.deliver] Handle -> WARN 04d Error reading from 127.0.0.1:37192: rpc error: code = Canceled desc = context canceled
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.673 UTC [comm.grpc.server] 1 -> INFO 04e streaming call completed {""grpc.start_time"": ""2019-01-09T15:24:58.548Z"", ""grpc.service"": ""protos.Deliver"", ""grpc.method"": ""Deliver"", ""grpc.peer_address"": ""127.0.0.1:37192"", ""error"": ""rpc error: code = Canceled desc = context canceled"", ""grpc.code"": ""Canceled"", ""grpc.call_duration"": ""125.349035ms""}
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.678 UTC [nodeCmd] handleSignals -> INFO 04f Received signal: 15 (terminated)
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.678 UTC [nodeCmd] handleSignals -> INFO 079 Received signal: 15 (terminated)
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.678 UTC [gossip.service] Stop -> INFO 07a Stopping chain testchannel
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.678 UTC [gossip.service] Stop -> INFO 050 Stopping chain testchannel
15:25:00 [e][Org1.peer0] 2019-01-09 15:24:58.678 UTC [gossip.service] Stop -> INFO 07b Stopping leader election for testchannel
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.678 UTC [gossip.service] Stop -> INFO 051 Stopping leader election for testchannel
15:25:00 [e][Org2.peer0] 2019-01-09 15:24:58.688 UTC [committer.txvalidator] Validate -> INFO 052 [testchannel] Validated block [6] in 18ms
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.436 UTC [kvledger] CommitWithPvtData -> INFO 07c [testchannel] Committed block [6] with 1 transaction(s) in 1949ms (state_validation=0ms block_commit=1910ms state_commit=19ms)
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.gossip] Stop -> INFO 07d Stopping gossip
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.discovery] Stop -> INFO 07e Stopping
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.discovery] Stop -> INFO 07f Stopped
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [deliveryClient] try -> WARN 080 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 1s
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [blocksProvider] DeliverBlocks -> WARN 081 [testchannel] Receive error: client is closing
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.comm] Stop -> INFO 082 Stopping
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.comm] Stop -> INFO 083 Stopped
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.election] stopBeingLeader -> INFO 084 7526d7fdca921600fc59b5f1f75f3d65592fa6a5bb446631028c54e1c00b468e Stopped being a leader
15:25:00 [e][Org1.peer0] 2019-01-09 15:25:00.437 UTC [gossip.service] func1 -> INFO 085 Renounced leadership, stopping delivery service for channel testchannel
15:25:00 [e][OrdererOrg.orderer] 2019-01-09 15:25:00.437 UTC [comm.grpc.server] 1 -> INFO 0a8 streaming call completed {""grpc.start_time"": ""2019-01-09T15:24:33.009Z"", ""grpc.service"": ""orderer.AtomicBroadcast"", ""grpc.method"": ""Deliver"", ""grpc.peer_address"": ""127.0.0.1:42704"", ""grpc.peer_subject"": ""CN=peer0.org1.example.com,L=San Francisco,ST=California,C=US"", ""error"": ""context finished before block retrieved: context canceled"", ""grpc.code"": ""Unknown"", ""grpc.call_duration"": ""27.428281248s""}
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.442 UTC [kvledger] CommitWithPvtData -> INFO 053 [testchannel] Committed block [6] with 1 transaction(s) in 1753ms (state_validation=1ms block_commit=1742ms state_commit=6ms)
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.443 UTC [deliveryClient] try -> WARN 055 Got error: rpc error: code = Canceled desc = context canceled , at 1 attempt. Retrying in 1s
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.444 UTC [blocksProvider] DeliverBlocks -> WARN 056 [testchannel] Receive error: client is closing
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.443 UTC [gossip.gossip] Stop -> INFO 054 Stopping gossip
15:25:00 [e][OrdererOrg.orderer] 2019-01-09 15:25:00.444 UTC [comm.grpc.server] 1 -> INFO 0a9 streaming call completed {""grpc.start_time"": ""2019-01-09T15:24:33.703Z"", ""grpc.service"": ""orderer.AtomicBroadcast"", ""grpc.method"": ""Deliver"", ""grpc.peer_address"": ""127.0.0.1:42706"", ""grpc.peer_subject"": ""CN=peer0.org2.example.com,L=San Francisco,ST=California,C=US"", ""error"": ""context finished before block retrieved: context canceled"", ""grpc.code"": ""Unknown"", ""grpc.call_duration"": ""26.741174403s""}
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.444 UTC [gossip.discovery] Stop -> INFO 057 Stopping
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.444 UTC [gossip.discovery] Stop -> INFO 058 Stopped
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.444 UTC [gossip.comm] Stop -> INFO 059 Stopping
15:25:00 [e][Org2.peer0] 2019-01-09 15:25:00.444 UTC [gossip.comm] Stop -> INFO 05a Stopped
15:25:00 [e][OrdererOrg.orderer] 2019-01-09 15:25:00.448 UTC [orderer.common.server] handleSignals -> INFO 0aa Received signal: 15 (terminated)
15:25:00 
15:25:00 ------------------------------
15:25:00 • Failure [35.962 seconds]
{code}

/cc [~wlahti] - I think you may have written these initially?",,sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 2:39 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16514/console-timestamp.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005pr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 3:27 AM;wlahti;Hoping [https://gerrit.hyperledger.org/r/c/28587/] handles it.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Network Launcher supports raft orderering service,FAB-13595,36615,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,10/Jan/19 3:28 AM,17/Oct/19 2:51 AM,28/Oct/23 3:04 AM,19/Apr/19 4:47 AM,,,,,,,,,,fabric-quality,,,,0,,,,Network launcher supports raft orderering service,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6742,,,No,,Unset,No,,,"1|i005pz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,release-1.4,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,true,"09/Feb/19 6:23 AM;dongming;https://gerrit.hyperledger.org/r/#/c/29213/;;;",,,,,,,,,,,,,,,,,,,,,,,,
PTE supports orderers load balance,FAB-13596,36616,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,10/Jan/19 3:32 AM,12/Jan/19 6:48 AM,28/Oct/23 3:04 AM,12/Jan/19 6:48 AM,,,,,,,,,,fabric-quality,,,,0,,,,"Currently, PTE uses the orderer defined in ordererID in the Service Credentials File for all transactions. This is less flexibility of load balance in sending transactions to all orderers.  This task provides a method, round robin, to achieve better load balance in orderer transactions.

Current method:

User defines the orderer to be used for all transaction in *ordererID* in the PTE Service Credentials file for each org.  The defined orderer must be included in the orderer list in the same file.

Proposed method:

PTE will supply two methods of orderer selection:
 # UserDefined: same as current method, i.e. user defines the orderer to be used for all transactions for each org in the Service Credentials file
 # RoundRobin: PTE will assign an orderer from the orderer list defined in the Service Credentials File in a round robin fashion to each thread for all transactions in the thread.  Note that the orderer list should only include the orderers to participate in the transactions.

 ",,dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i005q7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"10/Jan/19 7:35 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28605/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"As a Fabric release manager, I want to run the etcd/raft-based ordering service through a series of system verification tests before releasing it to the public",FAB-13597,36617,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,scottz,kchristidis,kchristidis,10/Jan/19 4:27 AM,22/Jan/19 8:22 AM,28/Oct/23 3:04 AM,15/Jan/19 12:11 PM,,,,,,v2.0.0,,,,,,,,0,raft,,,"This is where add all system verification tests (SVT) involving the etcd/raft-based ordering service.

A few guidelines:

# We'll be adding a sub-task per test.
# We'll use the ""Description"" field in the sub-task to describe the test's setup, inputs, and expected outputs in detail.
# We'll avoid acronyms as much as possible, and go with descriptions in plain english.
# We'll keep logs of both successful and unsuccessful runs around.

Anything that applies to all system verification tests should be recorded in _this_ story.",,AdnanChoudhury,denyeart,kchristidis,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13538,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-6135,,,No,,Unset,No,,,"1|i008b3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),AdnanChoudhury,denyeart,kchristidis,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 4:29 AM;kchristidis;Example of an item that should be common across all tests and needs to be recorded here:

Logging for everything orderer-related should be set to DEBUG level. The only exception is {{orderer.common.cluster.step}}. (Thanks Yacov.);;;","15/Jan/19 1:20 AM;suryalnvs;Environment - IKS (3 worker nodes - Each node with 4CPU && 16 GB RAM)

Fabric Network - 3 Orderers, 2 Organizations with 2 peers each are distributed across 3 workers nodes and running as each individual pod. Orderer's and Peer's Data is persisted to IBM Cloud block storage and uses amd64-2.0.0-stable images from nexus

Orderer's env variables -
{code:java}
  containers:
    - name: orderer1st-ordererorg
      image: nexus3.hyperledger.org:10001/hyperledger/fabric-orderer:amd64-2.0.0-stable
      imagePullPolicy: Always
      env:
        - { name: ""FABRIC_LOGGING_SPEC"", value: ""debug:orderer.common.cluster.step=error"" }
        - { name: ""ORDERER_GENERAL_LISTENADDRESS"", value: ""0.0.0.0"" }
        - { name: ""ORDERER_FILELEDGER_LOCATION"", value: ""/shared/data"" }
        - { name: ""ORDERER_CONSENSUS_WALDIR"", value: ""/shared/data/etcdraft/wal"" }
        - { name: ""ORDERER_CONSENSUS_SNAPDIR"", value: ""/shared/data/etcdraft/snapshot"" }
        - { name: ""ORDERER_GENERAL_GENESISMETHOD"", value: ""file"" }
        - { name: ""ORDERER_GENERAL_GENESISFILE"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/genesis.block"" }
        - { name: ""ORDERER_GENERAL_LOCALMSPID"", value: ""ordererorg"" }
        - { name: ""ORDERER_GENERAL_LOCALMSPDIR"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/msp"" }
        - { name: ""ORDERER_GENERAL_TLS_ENABLED"", value: ""true"" }
        - { name: ""ORDERER_GENERAL_TLS_PRIVATEKEY"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.key"" }
        - { name: ""ORDERER_GENERAL_CLUSTER_CLIENTPRIVATEKEY"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.key"" }
        - { name: ""ORDERER_GENERAL_TLS_CERTIFICATE"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt"" }
        - { name: ""ORDERER_GENERAL_CLUSTER_CLIENTCERTIFICATE"", value: ""/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt"" }
        - { name: ""ORDERER_GENERAL_TLS_ROOTCAS"", value: ""[/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/ca.crt]"" }
        - { name: ""ORDERER_GENERAL_CLUSTER_ROOTCAS"", value: ""[/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/ca.crt]"" }
      volumeMounts:
        - { mountPath: ""/shared/data"", name: ""orderer-data-storage"" }
        - { mountPath: ""/etc/hyperledger/fabric/artifacts"", name: ""task-pv-storage"" }
      command: [""orderer""]
{code}
Other two orderer's configuration also will look like the same except the orderer name.

All the orderers are using the default orderer.yaml from orderer image.

configtx.yaml:
{code:java}
---
Organizations:
  - &ordererorg
    Name: ordererorg
    ID: ordererorg
    MSPDir: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/msp
    Policies:
        Readers:
            Type: Signature
            Rule: ""OR('ordererorg.member')""
        Writers:
            Type: Signature
            Rule: ""OR('ordererorg.member')""
        Admins:
            Type: Signature
            Rule: ""OR('ordererorg.admin')""  - &org1
    Name: org1
    ID: org1
    MSPDir: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/org1/msp
    Policies:
        Readers:
            Type: Signature
            Rule: ""OR('org1.admin', 'org1.peer')""
        Writers:
            Type: Signature
            Rule: ""OR('org1.admin', 'org1.client')""
        Admins:
            Type: Signature
            Rule: ""OR('org1.admin')""
    AnchorPeers:
      - Host: peer1st-org1
        Port: 7051  - &org2
    Name: org2
    ID: org2
    MSPDir: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/org2/msp
    Policies:
        Readers:
            Type: Signature
            Rule: ""OR('org2.admin', 'org2.peer')""
        Writers:
            Type: Signature
            Rule: ""OR('org2.admin', 'org2.client')""
        Admins:
            Type: Signature
            Rule: ""OR('org2.admin')""
    AnchorPeers:
      - Host: peer1st-org2
        Port: 7051
Capabilities:
  Global: &ChannelCapabilities
    V1_3: true  
  Orderer: &OrdererCapabilities
    V1_1: true
  Application: &ApplicationCapabilities
    V1_3: true
Orderer: &OrdererDefaults
  OrdererType: etcdraft
  Addresses:
    - orderer1st-ordererorg:7050
    - orderer2nd-ordererorg:7050
    - orderer3rd-ordererorg:7050
  BatchTimeout: 2s
  BatchSize:
    MaxMessageCount: 1
    AbsoluteMaxBytes: 98 MB
    PreferredMaxBytes: 512 KB
  EtcdRaft:
    Consenters:
      - Host: orderer1st-ordererorg
        Port: 7050
        ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt
        ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt
      - Host: orderer2nd-ordererorg
        Port: 7050
        ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt
        ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt
      - Host: orderer3rd-ordererorg
        Port: 7050
        ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer3rd-ordererorg.ordererorg/tls/server.crt
        ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer3rd-ordererorg.ordererorg/tls/server.crt
    Options:
      TickInterval: 100
      ElectionTick: 10
      HeartbeatTick: 1
      MaxInflightMsgs: 256
      MaxSizePerMsg: 1048576
  Organizations:
    - *ordererorg
  Policies:
      Readers:
          Type: ImplicitMeta
          Rule: ""ANY Readers""
      Writers:
          Type: ImplicitMeta
          Rule: ""ANY Writers""
      Admins:
          Type: ImplicitMeta
          Rule: ""MAJORITY Admins""
      BlockValidation:
          Type: ImplicitMeta
          Rule: ""ANY Writers""
  Capabilities:
    <<: *OrdererCapabilities
Application: &ApplicationDefaults
  Organizations:
    - *org1
    - *org2
  Policies:
      Readers:
          Type: ImplicitMeta
          Rule: ""ANY Readers""
      Writers:
          Type: ImplicitMeta
          Rule: ""ANY Writers""
      Admins:
          Type: ImplicitMeta
          Rule: ""MAJORITY Admins""
  Capabilities:
    <<: *ApplicationCapabilitiesChannel: &ChannelDefaults
    Policies:
        Readers:
            Type: ImplicitMeta
            Rule: ""ANY Readers""
        Writers:
            Type: ImplicitMeta
            Rule: ""ANY Writers""
        Admins:
            Type: ImplicitMeta
            Rule: ""MAJORITY Admins""Profiles:
  OrgChannel:
    Consortium: FabricConsortium
    Application:
      <<: *ApplicationDefaults
    Orderer:
      <<: *OrdererDefaults
      EtcdRaft:
        Consenters:
          - Host: orderer1st-ordererorg
            Port: 7050
            ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt
            ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer1st-ordererorg.ordererorg/tls/server.crt
          - Host: orderer2nd-ordererorg
            Port: 7050
            ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt
            ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt
          - Host: orderer3rd-ordererorg
            Port: 7050
            ClientTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer3rd-ordererorg.ordererorg/tls/server.crt
            ServerTLSCert: /home/ibmadmin/cello/src/agent/ansible/roles/deploy_k8s/../../vars/raft/fabric/keyfiles/ordererorg/orderers/orderer3rd-ordererorg.ordererorg/tls/server.crt
  OrdererGenesis:
    <<: *ChannelDefaults
    Capabilities:
      <<: *ChannelCapabilities
    Orderer:
      <<: *OrdererDefaults
    Consortiums:
      FabricConsortium:
        Organizations:
          - *org1
          - *org2
{code}
 ;;;","15/Jan/19 3:05 AM;denyeart;[~scottz] Why is this a Story?  Our precedent is to use Stories for user facing functions, while using Test Tasks for tests.;;;","15/Jan/19 8:03 AM;kchristidis;[~denyeart]: I know we discussed this offline but posting this here for reference as well.

I'm to blame for this. My thinking was the following:

If you consider the Raft epic to be a level-1 node, the level-2 nodes are its development stories, and the level-3 nodes are the sub-tasks of those stories.

> Raft epic
>> Dev story 1
>>> Sub-task 1-1
>>> Sub-task 1-2
>> Dev story 2
>>> Sub-task 2-1
>>> Sub-task 2-2

Given that we'll tackle a bunch of test cases, we would end up with an epic with 6-7 stories for development and, say, 40 test tasks, all in Level 2.

This makes visual tracking a bit difficult, so the tasks should be given equal weight, so they need to be treated as level-3 nodes.

This why I asked the team to create a container story and work with sub-tasks instead.

That said -- as you explained, I get that we need to track tests using the Test Case type because it carries special fields that we actually use, so we'll switch our MO.

Sorry about that.;;;","15/Jan/19 12:11 PM;kchristidis;Moving to https://jira.hyperledger.org/browse/FAB-13538 instead.;;;",,,,,,,,,,,,,,,,,,,,
including grpc.start_time in logs is noisy and unnecessary,FAB-13598,36620,,Bug,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,10/Jan/19 4:53 AM,12/Jan/19 6:30 AM,28/Oct/23 3:04 AM,11/Jan/19 7:59 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,"Example log record:

{code}
[e][Org2.peer0] 2019-01-09 14:49:53.924 EST [comm.grpc.server] 1 -> INFO 050 unary call completed grpc.start_time=2019-01-09T14:49:53.907-05:00 grpc.service=protos.Endorser grpc.method=ProcessProposal grpc.peer_address=127.0.0.1:56358 grpc.code=OK grpc.call_duration=17.110307ms
{code}

Since the log record is generated when the request completes and it includes the call duration, the start time should be easy to calculate. 

Given the ease with which we can determine arrival and the amount of data it generates when formatting it, we should probably remove it.",,denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005r3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 11:12 PM;sykesm;https://gerrit.hyperledger.org/r/28626 [FAB-13598] remove grpc_start_time from logs;;;","11/Jan/19 12:29 AM;denyeart;[~sykesm] please consider a cherry-pick to release-1.4 for v1.4.1, to reduce the chance of people writing log scraping that breaks when moving from v1.4.x to v2.x.;;;",,,,,,,,,,,,,,,,,,,,,,,
"Don't crash any OSN (single-thread invocations, 1 channel, latency mode)",FAB-13601,36624,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,suryalnvs,scottz,scottz,10/Jan/19 6:11 AM,24/Jan/19 12:01 PM,28/Oct/23 3:04 AM,10/Jan/19 7:38 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"h2. Setup
 # Create a Fabric network with:
 ## etcd/raft with 3 OSNs (all under the same org) in the system channel ({{orderersystemchannel}})
 ## {{batchSize.maxMessageCount}} = 1
 ## 2 peers (all under the same org)
 # Create application channel {{channel1}} with the same consenter set as {{orderersystemchannel}}.
 # Install {{samplecc}} on all peers.
 # Instantiate with simple endorsement policy requiring only 1 peer to endorse.
 # Provide scfile (configuration information) to the Performance Traffic Engine (PTE).
 # The network will be set up in IKS cluster. PTE itself can run in either its own container in the IKS cluster OR in a vLaunch container. For this test we will run in the vLaunch machine (preferred for convenience, but might incur longer transmission delays).
 # Run with logging enabled (per Raft System Test Epic FAB-13538 comments). Logs must be persistent, so we can retrieve them even in cases where a peer or orderer stops.

_Alternatively, the network could be set up in vLaunch VM instead of IKS, using Docker containers for all network nodes, including the PTE client._

h2. Inputs
 * Run a test similar to FAB-7647. PTE runs in ""latency mode"" with one thread, sending 10,000 transactions to one peer, one after another, after each event is received from the peer after validation.
 * PTE will send all traffic on the channel to first orderer.

h2. Expectations
 * All nodes remain in service throughout the test.
 * 10,002 blocks (genesis plus instantiation plus 10,000 TXs) successfully written to ledger.
 * No errors in the logs of peers and orderers.
 * PTE Test Passes and End2End Latency (avg per transaction) will be reported.
 * No failures or errors reported by PTE.",,AdnanChoudhury,dongming,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-7647,,,,,,,,,,,,,,FAB-13603,FAB-13604,FAB-13809,FAB-13703,,,,,"10/Jan/19 7:00 AM;AdnanChoudhury;FAB-7647.log;https://jira.hyperledger.org/secure/attachment/16518/FAB-7647.log","10/Jan/19 7:03 AM;suryalnvs;configtx.yml;https://jira.hyperledger.org/secure/attachment/16521/configtx.yml","10/Jan/19 6:53 AM;suryalnvs;orderer1.zip;https://jira.hyperledger.org/secure/attachment/16515/orderer1.zip","10/Jan/19 6:53 AM;suryalnvs;orderer2.zip;https://jira.hyperledger.org/secure/attachment/16516/orderer2.zip","10/Jan/19 6:53 AM;suryalnvs;orderer3.zip;https://jira.hyperledger.org/secure/attachment/16517/orderer3.zip","11/Jan/19 12:19 AM;AdnanChoudhury;pteReport.txt;https://jira.hyperledger.org/secure/attachment/16529/pteReport.txt","10/Jan/19 7:02 AM;AdnanChoudhury;query_block.log;https://jira.hyperledger.org/secure/attachment/16520/query_block.log",,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i005rz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,dongming,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 7:05 AM;AdnanChoudhury;Test ran successfully, passed. 
3 orderer logs are attached, the latency numbers are in pteRepot.txt, block height after the test is in query_block.log;;;","19/Jan/19 6:07 AM;kchristidis;{quote}two peers in one organization{quote}
I've commented on it elsewhere, but I still don't understand why we do 2 peers/org. Is there a reason?

If not, let's either adjust the test, or edit this information out of the description.;;;","19/Jan/19 6:50 AM;kchristidis;{quote}PTE will send all traffic on the channel to first orderer.{quote}
What do we mean by ""first orderer""?;;;","24/Jan/19 12:01 PM;kchristidis;Bump to the unanswered questions here.;;;",,,,,,,,,,,,,,,,,,,,,
gossip comm's readWithTimeout leaks a ticker,FAB-13602,36625,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,sykesm,sykesm,10/Jan/19 6:38 AM,12/Jan/19 7:08 AM,28/Oct/23 3:04 AM,11/Jan/19 12:30 AM,,,,,,v1.4.1,v2.0.0,,,fabric-gossip,,,,0,,,,"The ticker created by this select is never stopped or cleaned up. In addition to memory consumption, the ticker will continue to fire long after the select completes.

{code}
	select {
	case <-time.NewTicker(timeout).C:
		return nil, errors.Errorf(""Timed out waiting for connection message from %s"", address)
	case m := <-incChan:
		return m, nil
	case err := <-errChan:
		return nil, errors.WithStack(err)
	}
{code}",,mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005s7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),mastersingh24,sykesm,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.3,release-1.4,release-2.5,release-2.4,main,release-1.1,release-1.2,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 7:19 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28599/;;;","12/Jan/19 7:08 AM;mastersingh24;also backported to 1.4, 1.3, 1.2 and 1.1.;;;",,,,,,,,,,,,,,,,,,,,,,,
"Crash and restart follower OSNs (single-thread invocations, 1 channel, latency mode)",FAB-13603,36626,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,AdnanChoudhury,scottz,scottz,10/Jan/19 6:57 AM,19/Jan/19 8:18 AM,28/Oct/23 3:04 AM,19/Jan/19 8:18 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"*Note:* The first four rows of this table are simplified versions of the test scenarios described later on in this text. These are executed when no transactions are entered into the system, for simpler debugging. The full objectives of the two scenarios of this testcase are actually outlined by the last four rows.

||Date Done||Description||
|1/11|A. Stop follower OSN of orderersystemchannel|
|1/11|B. Restart follower OSN of orderersystemchannel|
|1/11|C. Stop follower OSN of channel1|
|1/14|D. Restart follower OSN of channel1|
|1/11|E. Stop non-ingress follower OSN of channel1 with single-thread invocations in latency mode|
|1/14|F. Restart non-ingress follower OSN of channel1 with single-thread invocations in latency mode|
|1/11|G. Stop ingress follower OSN of channel1 with single-thread invocations in latency mode|
|1/14|H. Restart ingress follower OSN of channel1 with single-thread invocations in latency mode|

h2. Setup
Create network as in FAB-13601.

h2. Scenario 1: Inputs
# Start transactions as in FAB-13601.
# Check orderer logs to determine which OSN is the leader (could be any of the three; ensure it is not the ingress OSN for this testcase).
# While the traffic is running, stop and start the non-ingress follower OSN. (See Table rows E and F).

h2. Scenario 1: Expectations
Same as in FAB-13601, with all nodes stable and no transactions lost. However, in the running OSNs, for the system channel and for each channel shared with the stopped OSN, we can expect to see an error log when their connection drops to the stopped OSN (followed by an info log indicating its recovery, whenever it is started again). Or something like that. The exact number of logs to expect for each channel are described in FAB-12687.

h2. Scenario 2: Inputs
# After the previous test completes, after things are stable and idle again, identify the number of existing blocks and then repeat testcase to send another 10K transactions - but this time while traffic running we should stop and start the ingress OSN, i.e. the follower OSN that IS receiving transactions from the client. (See Table rows G and H).

h2. Scenario 2: Expectations
Mostly same as above. Expect up to 10K additional blocks on the ledger; actually it will be less because we will see NACK'd transactions reported by the client (e.g. those TXs that are sent blindly to the O1 while O1 is stopped or not yet rejoined to the consensus group), and possibly another lost transaction if O1 receives and ACKs a TX but is stopped before forwarding it to the leader.",,AdnanChoudhury,dongming,kchristidis,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13601,FAB-13604,,,,,,,,,,,,,FAB-13633,,,,,,,,"15/Jan/19 11:19 PM;AdnanChoudhury;FAB-13603-scenario2-pterun.log;https://jira.hyperledger.org/secure/attachment/16549/FAB-13603-scenario2-pterun.log","15/Jan/19 11:19 PM;AdnanChoudhury;pteReport-FAB-13603-scenario2.txt;https://jira.hyperledger.org/secure/attachment/16550/pteReport-FAB-13603-scenario2.txt","15/Jan/19 1:31 AM;AdnanChoudhury;pteReport.txt;https://jira.hyperledger.org/secure/attachment/16542/pteReport.txt","15/Jan/19 1:31 AM;AdnanChoudhury;qblock-FAB-13603-Jan-14.log;https://jira.hyperledger.org/secure/attachment/16543/qblock-FAB-13603-Jan-14.log","15/Jan/19 11:19 PM;AdnanChoudhury;qblock_after_scenario_2.log;https://jira.hyperledger.org/secure/attachment/16551/qblock_after_scenario_2.log","15/Jan/19 11:19 PM;AdnanChoudhury;qblock_before_scenario_2.log;https://jira.hyperledger.org/secure/attachment/16552/qblock_before_scenario_2.log","15/Jan/19 1:31 AM;AdnanChoudhury;snapshot-OSN1-FAB-13603-1-jan14.log.zip;https://jira.hyperledger.org/secure/attachment/16544/snapshot-OSN1-FAB-13603-1-jan14.log.zip","15/Jan/19 11:19 PM;AdnanChoudhury;snapshot-OSN1-FAB-13603-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16553/snapshot-OSN1-FAB-13603-scenario2.log.zip","15/Jan/19 11:19 PM;AdnanChoudhury;snapshot-OSN1new-FAB-13603-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16554/snapshot-OSN1new-FAB-13603-scenario2.log.zip","15/Jan/19 1:31 AM;AdnanChoudhury;snapshot-OSN2-FAB-13603-1-jan14.log.zip;https://jira.hyperledger.org/secure/attachment/16545/snapshot-OSN2-FAB-13603-1-jan14.log.zip","15/Jan/19 11:19 PM;AdnanChoudhury;snapshot-OSN2-FAB-13603-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16555/snapshot-OSN2-FAB-13603-scenario2.log.zip","15/Jan/19 1:31 AM;AdnanChoudhury;snapshot-OSN2new-FAB-13603-1-jan14.log.zip;https://jira.hyperledger.org/secure/attachment/16546/snapshot-OSN2new-FAB-13603-1-jan14.log.zip","15/Jan/19 1:31 AM;AdnanChoudhury;snapshot-OSN3-FAB-13603-1-jan14.log.zip;https://jira.hyperledger.org/secure/attachment/16547/snapshot-OSN3-FAB-13603-1-jan14.log.zip","15/Jan/19 11:19 PM;AdnanChoudhury;snapshot-OSN3-FAB-13603-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16556/snapshot-OSN3-FAB-13603-scenario2.log.zip",,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i005sf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,dongming,kchristidis,scottz,suryalnvs,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"11/Jan/19 4:48 AM;scottz;We start preliminary testing by using only the system channel, without creating an application channel and without sending any transactions, and stop one of the followers. Once that is understood and ok, we will start over and create the applic channel (and add traffic), and stop the orderer that is the leader of the application channel.;;;","12/Jan/19 2:01 AM;kchristidis;During the execution of this test, we bumped into the bug described in FAB-13633 (which has also been added as a link to this JIRA). A fix has already been submitted.;;;","15/Jan/19 1:36 AM;AdnanChoudhury;Scenario 1 successfully passed. 
The qblock file matches with the expected number of Txs.
pteReport file shows no Tx loss or timeouts.
Orderer logs have error messages due to the taking down of OSN2. (also contain DEBU logs of grpc transport error messages).;;;","15/Jan/19 11:36 PM;AdnanChoudhury;Scenario 2 successfully passed.
pteReport for scenario 2 shows some transaction losses as expected (in this case, 60) 
The qblock file matches with the expected number of Txs.
Orderer logs have error messages due to the taking down of OSN1. (also contain DEBU logs of grpc transport error messages).;;;","19/Jan/19 5:17 AM;kchristidis;{quote}first without any traffic running.{quote}
What does this mean? What are we checking here?;;;","19/Jan/19 5:20 AM;kchristidis;I've updated the formatting in the description and turned that pseudo-table into an actual table, but I cannot parse what this table is supposed to show? How does it fit with the rest of the text in the description?;;;","19/Jan/19 5:21 AM;kchristidis;{quote}Expect a total max of 20,002 blocks{quote}
If we're sending 10K transactions and batch size = 1, why do we expect 20K blocks?;;;","19/Jan/19 8:01 AM;scottz;I edited the description and addressed your comments. The table helps to explain how we simplified the testcase and broke it down into simpler steps and tests, e.g. to be able to focus on the leader changes without traffic cluttering the logs, working up to the actual two test scenarios documented. Because we did so many things, the test description had evolved to be less specific. We adapted the testcase description in this way rather than splitting off to write more testcases. One can discuss pros (shared description for very similar testcases) and cons (confusing with multiple scenarios in one place) and how to do things differently, but this is how we handled it for this one.;;;","19/Jan/19 8:06 AM;kchristidis;(y);;;","19/Jan/19 8:06 AM;kchristidis;If both scenarios have successfully passed (based on Adnan's comments above), are we good to close this?;;;",,,,,,,,,,,,,,,
"Crash and restart leader OSN (single-thread invocations, 1 channel, latency mode)",FAB-13604,36627,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,scottz,scottz,scottz,10/Jan/19 7:30 AM,24/Jul/19 5:59 AM,28/Oct/23 3:04 AM,24/Jul/19 5:59 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"+SETUP+:
Create network as in FAB-13601.

*Note:* The first four rows of this table are simplified versions of the test scenarios described later on in this text. These are executed when no transactions are entered into the system, for simpler debugging. The full objectives of the two scenarios of this testcase are actually outlined by the last four rows.

||Date Done||Description||
|1/11|A. stop    leader OSN of orderersystemchannel
|1/11|B. restart leader OSN of orderersystemchannel
|1/11|C. stop    leader OSN of channel1
|1/11|D. restart leader OSN of channel1
|1/12|E. stop non-ingress    leader OSN of channel1 with single-thread transactions and single TX per block
|1/15|F. restart non-ingress leader OSN of channel1 with single-thread transactions and single TX per block
|1/12|G. stop ingress        leader OSN of channel1 with single-thread transactions and single TX per block
|1/15|H. restart ingress     leader OSN of channel1 with single-thread transactions and single TX per block


+INPUTS (scenario 1)+:
# Run transactions as in FAB-13601.
# Check orderer logs to determine which orderer is the leader of the application channel (could be any of the three; ensure it IS the ingress orderer for this testcase).
# While the traffic is running, stop and start the leader orderer (which is also currently the ingress orderer).

+EXPECTATIONS+:
Similar as in FAB-13601, but some transactions could be lost (e.g. those TXs that are sent blindly to the leader/ingress orderer while it is stopped will be NAK'd, plus any transactions received but not replicated to other orderers yet).
Also, in the running orderers, for the system channel and for each channel shared with the stopped orderer, we can expect to see an error log when their connection drops to the stopped orderer (followed by an info log indicating its recovery, whenever it is started again - refer to FAB-12687 for logging details). For the channels where the stopped orderer is the leader, the remaining active orderers should elect a new leader and be ready once the stopped orderer is restarted and rejoins the channel and starts forwarding transactions to the new leader.

+INPUTS (scenario 2):+
# After the previous test completes, repeat testcase to send another 10,000 transactions.
# Check orderer logs to determine which orderer is the leader (expect to be either of the other two (non-ingress) orderers).
# While traffic is running, stop and start the leader orderer, which is not the ingress orderer.

+EXPECTATIONS+:
More of the same. Expect less that 10,000 more blocks to be added to ledger. It is ok to see a few lost transactions. E.g. Those TXs that are sent to the ingress orderer while a new leader is being elected, possibly a few seconds, should be NAK'd. Plus, any transactions received by the ingress orderer and forwarded to the leader right before it was stopped and before it added them to blocks and replicated the blocks to other orderers yet).",,AdnanChoudhury,guoger,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13601,,,,,,,,,,,,,,FAB-13603,FAB-13778,FAB-13779,FAB-13854,,,,,"16/Jan/19 7:17 AM;AdnanChoudhury;FAB-13604-scenario1_after.log;https://jira.hyperledger.org/secure/attachment/16570/FAB-13604-scenario1_after.log","16/Jan/19 7:17 AM;AdnanChoudhury;FAB-13604-scenario1_before.log;https://jira.hyperledger.org/secure/attachment/16571/FAB-13604-scenario1_before.log","16/Jan/19 7:17 AM;AdnanChoudhury;FAB-13604_scenario1_ptelog.log;https://jira.hyperledger.org/secure/attachment/16569/FAB-13604_scenario1_ptelog.log","17/Jan/19 2:35 AM;AdnanChoudhury;FAB-13604_scenario2_ptelog.log;https://jira.hyperledger.org/secure/attachment/16580/FAB-13604_scenario2_ptelog.log","18/Jan/19 12:57 AM;scottz;bug5-description.txt;https://jira.hyperledger.org/secure/attachment/16592/bug5-description.txt","17/Jan/19 8:05 AM;scottz;bugs;https://jira.hyperledger.org/secure/attachment/16591/bugs","17/Jan/19 2:35 AM;AdnanChoudhury;pteReport-scenario2.txt;https://jira.hyperledger.org/secure/attachment/16581/pteReport-scenario2.txt","16/Jan/19 7:24 AM;AdnanChoudhury;pteReport.txt;https://jira.hyperledger.org/secure/attachment/16577/pteReport.txt","17/Jan/19 2:35 AM;AdnanChoudhury;queryblock_after_FAB-13604-scenario2.log;https://jira.hyperledger.org/secure/attachment/16582/queryblock_after_FAB-13604-scenario2.log","16/Jan/19 7:17 AM;AdnanChoudhury;snapshot-OSN1-FAB-13604-scenario1.log.zip;https://jira.hyperledger.org/secure/attachment/16573/snapshot-OSN1-FAB-13604-scenario1.log.zip","17/Jan/19 2:35 AM;AdnanChoudhury;snapshot-OSN1-FAB-13604-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16583/snapshot-OSN1-FAB-13604-scenario2.log.zip","16/Jan/19 7:17 AM;AdnanChoudhury;snapshot-OSN1new-FAB-13604-scenario1.log.zip;https://jira.hyperledger.org/secure/attachment/16574/snapshot-OSN1new-FAB-13604-scenario1.log.zip","16/Jan/19 7:17 AM;AdnanChoudhury;snapshot-OSN2-FAB-13604-scenario1.log.zip;https://jira.hyperledger.org/secure/attachment/16575/snapshot-OSN2-FAB-13604-scenario1.log.zip","17/Jan/19 2:35 AM;AdnanChoudhury;snapshot-OSN2-FAB-13604-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16584/snapshot-OSN2-FAB-13604-scenario2.log.zip","17/Jan/19 2:35 AM;AdnanChoudhury;snapshot-OSN2new-FAB-13604-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16585/snapshot-OSN2new-FAB-13604-scenario2.log.zip","16/Jan/19 7:17 AM;AdnanChoudhury;snapshot-OSN3-FAB-13604-scenario1.log.zip;https://jira.hyperledger.org/secure/attachment/16576/snapshot-OSN3-FAB-13604-scenario1.log.zip","17/Jan/19 2:35 AM;AdnanChoudhury;snapshot-OSN3-FAB-13604-scenario2.log.zip;https://jira.hyperledger.org/secure/attachment/16586/snapshot-OSN3-FAB-13604-scenario2.log.zip",,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i005sn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),AdnanChoudhury,guoger,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 7:45 AM;kchristidis;Scott, thanks for capturing this. Do you think there's any point in a scenario where:

1. A = leader, B = follower, C = follower
2. B = ingress OSN
3. We crash C (i.e. a non-leader, non-ingress node)

Then we expect 10002 blocks. Your call.;;;","10/Jan/19 7:52 AM;scottz;Yes, absolutely. We plan to do that and the other follower scenario (crash B) in 13603.
This jira is for only crashing the leader, when it is, or is not, the ingress node.;;;","14/Jan/19 3:14 PM;guoger;Please note that this test scenario is affected by FAB-13447;;;","16/Jan/19 7:23 AM;AdnanChoudhury;Scenario 2 successfully passed.
pteReport for scenario 2 shows some transaction losses as expected.The qblock file matches with the expected number of Txs.
Orderer logs have expected error messages due to the taking down of OSN1.;;;","16/Jan/19 8:08 AM;kchristidis;{quote}Orderer logs have error messages due to the taking down of OSN1.
{quote}
Unclear to the reader whether this is expected or not. Can we clarify?;;;","17/Jan/19 12:02 AM;AdnanChoudhury;Clarified (edited) my comment [~kchristidis];;;","17/Jan/19 12:45 AM;kchristidis;Perfect, thanks!;;;","17/Jan/19 2:48 AM;AdnanChoudhury;Scenario run results below.
# pteReprt file for scenario 2 shows 24 txs were dropped during the orderer outage. the ptelog file shows the details of each Tx.
([pteReport file scenario 2|https://jira.hyperledger.org/secure/attachment/16581/pteReport-scenario2.txt], [ptelog for scenario 2|https://jira.hyperledger.org/secure/attachment/16580/FAB-13604_scenario2_ptelog.log])
# the queryblock file after scenario 2 shows the total block number (""19667"") which is consistent with pte report. 
([queryblock after test run|https://jira.hyperledger.org/secure/attachment/16582/queryblock_after_FAB-13604-scenario2.log], look for ""returned block"")
# In the follower orderers, The time elapsed between first report of Orderer disconnect and the leader re-election is about 1.3 seconds.
([OSN1 log|https://jira.hyperledger.org/secure/attachment/16583/snapshot-OSN1-FAB-13604-scenario2.log.zip], [OSN3 log|https://jira.hyperledger.org/secure/attachment/16586/snapshot-OSN3-FAB-13604-scenario2.log.zip]. The leader during start of test was [OSN2 (log)|https://jira.hyperledger.org/secure/attachment/16584/snapshot-OSN2-FAB-13604-scenario2.log.zip] that was stopped. Here is [OSN2new log|https://jira.hyperledger.org/secure/attachment/16585/snapshot-OSN2new-FAB-13604-scenario2.log.zip] that is log after regenerate)
#One observation that does not look right is that the `orderersystemchannel` changes leadership about 2:45 minutes into orderer2 stop, even though its leader was not stopped (we stopped orderer2, but that was not the leader for ordererchannel).
;;;","17/Jan/19 9:28 AM;scottz;Upon close examination of the logs from the scenario2 of FAB-13604, we see some problems and feel we probably need to open some bugs. I attached a file called “bugs” to the jira to document some sequences of logs. This is the summary of possible problems:
```BUG5 - NO reponse from o1 for TX after channel1 leader change
BUG6 - orderersystemchannel changed leader for no apparent reason
BUG7 - more errors (connection to o2 failed) seen in o3 AFTER o3 recognized o2 as the leader, for 2 more seconds. WHY?
BUG8 - we noticed kafka mentioned in logs, but we are running Raft```
;;;","17/Jan/19 11:09 AM;guoger;[~scottz] Thanks for reporting this!

{quote}BUG5 - NO reponse from o1 for TX after channel1 leader change{quote}
Could you elaborate on it? here's what i inferred from log file:
- o1 & o2 are follower and o3 is leader
- o1 is ingress orderer
- o3 was brought down
- o2 is elected as new leader
- o1 got stuck
is this accurate?

{quote}BUG6 - orderersystemchannel changed leader for no apparent reason{quote}
No error logs at all? do you happen to have log at hand with etcdraft set to debug level?

{quote}BUG7 - more errors (connection to o2 failed) seen in o3 AFTER o3 recognized o2 as the leader, for 2 more seconds. WHY?{quote}
Is network still functioning? [~yacovm] any thoughts?

{quote}BUG8 - we noticed kafka mentioned in logs, but we are running Raft{quote}
I guess this is benign cuz we still have some kafka config options and they are printed. but just to confirm, could you post that particular line of log?;;;","17/Jan/19 2:02 PM;AdnanChoudhury;[~guoger]
About BUG5: 
 O1 is ingress, O2 leader, O3 follower. We start traffic, and during traffic, stop the leader (O2), then we see O1 starts giving SERVICE_UNAVAILABLE response to client (expected), meantime O3 is elected leader, and then O1 is stuck for 45 seconds on a connection from client (please see the attached file called ""bug"" that has more details and logs)

About BUG6: 
 You can find all the logs in the attached files. Or, please see my prev. comment. As this is scenario 2, so log files will be in snapshot-OSN1-FAB-13604-scenario2.log etc in the attachment section of this jira. etcdraft is I believe is already on debug level.

About BUG7:
 Yes, it was a functioning network that time.

About BUG8:
 here are Kafka reference grepped from the OSN2new (OSN2 after regenerating it)
{code:java}
MacBook-Air-2:Downloads achoudhury$ grep -nriIH ""kafka"" snapshot-OSN2new-FAB-13604-scenario2.log
snapshot-OSN2new-FAB-13604-scenario2.log:1:2019-01-16 15:32:19.855 UTC [viperutil] getKeysRecursively -> DEBU 001 Found map[interface{}]interface{} value for kafka
snapshot-OSN2new-FAB-13604-scenario2.log:2:2019-01-16 15:32:19.855 UTC [viperutil] getKeysRecursively -> DEBU 002 Found map[string]interface{} value for kafka.TLS
snapshot-OSN2new-FAB-13604-scenario2.log:4:2019-01-16 15:32:19.856 UTC [viperutil] getKeysRecursively -> DEBU 004 Found real value for kafka.TLS.Certificate setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:6:2019-01-16 15:32:19.856 UTC [viperutil] getKeysRecursively -> DEBU 006 Found real value for kafka.TLS.RootCAs setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:8:2019-01-16 15:32:19.856 UTC [viperutil] getKeysRecursively -> DEBU 008 Found real value for kafka.TLS.Enabled setting to bool false
snapshot-OSN2new-FAB-13604-scenario2.log:10:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 00a Found real value for kafka.TLS.PrivateKey setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:11:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 00b Found map[string]interface{} value for kafka.SASLPlain
snapshot-OSN2new-FAB-13604-scenario2.log:13:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 00d Found real value for kafka.SASLPlain.User setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:15:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 00f Found real value for kafka.SASLPlain.Password setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:17:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 011 Found real value for kafka.SASLPlain.Enabled setting to bool false
snapshot-OSN2new-FAB-13604-scenario2.log:19:2019-01-16 15:32:19.857 UTC [viperutil] getKeysRecursively -> DEBU 013 Found real value for kafka.Version setting to <nil> <nil>
snapshot-OSN2new-FAB-13604-scenario2.log:20:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 014 Found map[string]interface{} value for kafka.Retry
snapshot-OSN2new-FAB-13604-scenario2.log:22:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 016 Found real value for kafka.Retry.LongInterval setting to string 5m
snapshot-OSN2new-FAB-13604-scenario2.log:24:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 018 Found real value for kafka.Retry.LongTotal setting to string 12h
snapshot-OSN2new-FAB-13604-scenario2.log:25:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 019 Found map[string]interface{} value for kafka.Retry.NetworkTimeouts
snapshot-OSN2new-FAB-13604-scenario2.log:27:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 01b Found real value for kafka.Retry.NetworkTimeouts.WriteTimeout setting to string 10s
snapshot-OSN2new-FAB-13604-scenario2.log:29:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 01d Found real value for kafka.Retry.NetworkTimeouts.DialTimeout setting to string 10s
snapshot-OSN2new-FAB-13604-scenario2.log:31:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 01f Found real value for kafka.Retry.NetworkTimeouts.ReadTimeout setting to string 10s
snapshot-OSN2new-FAB-13604-scenario2.log:32:2019-01-16 15:32:19.858 UTC [viperutil] getKeysRecursively -> DEBU 020 Found map[string]interface{} value for kafka.Retry.Metadata
snapshot-OSN2new-FAB-13604-scenario2.log:34:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 022 Found real value for kafka.Retry.Metadata.RetryMax setting to int 3
snapshot-OSN2new-FAB-13604-scenario2.log:36:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 024 Found real value for kafka.Retry.Metadata.RetryBackoff setting to string 250ms
snapshot-OSN2new-FAB-13604-scenario2.log:37:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 025 Found map[string]interface{} value for kafka.Retry.Producer
snapshot-OSN2new-FAB-13604-scenario2.log:39:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 027 Found real value for kafka.Retry.Producer.RetryBackoff setting to string 100ms
snapshot-OSN2new-FAB-13604-scenario2.log:41:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 029 Found real value for kafka.Retry.Producer.RetryMax setting to int 3
snapshot-OSN2new-FAB-13604-scenario2.log:42:2019-01-16 15:32:19.859 UTC [viperutil] getKeysRecursively -> DEBU 02a Found map[string]interface{} value for kafka.Retry.Consumer
snapshot-OSN2new-FAB-13604-scenario2.log:44:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 02c Found real value for kafka.Retry.Consumer.RetryBackoff setting to string 2s
snapshot-OSN2new-FAB-13604-scenario2.log:46:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 02e Found real value for kafka.Retry.ShortInterval setting to string 1s
snapshot-OSN2new-FAB-13604-scenario2.log:48:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 030 Found real value for kafka.Retry.ShortTotal setting to string 30s
snapshot-OSN2new-FAB-13604-scenario2.log:49:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 031 Found map[string]interface{} value for kafka.Topic
snapshot-OSN2new-FAB-13604-scenario2.log:51:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 033 Found real value for kafka.Topic.ReplicationFactor setting to int 3
snapshot-OSN2new-FAB-13604-scenario2.log:53:2019-01-16 15:32:19.860 UTC [viperutil] getKeysRecursively -> DEBU 035 Found real value for kafka.Verbose setting to string true
snapshot-OSN2new-FAB-13604-scenario2.log:181:2019-01-16 15:32:19.870 UTC [viperutil] EnhancedExactUnmarshal -> DEBU 0b5 map[kafka:map[TLS:map[Certificate:<nil> RootCAs:<nil> Enabled:false PrivateKey:<nil>] SASLPlain:map[User:<nil> Password:<nil> Enabled:false] Version:<nil> Retry:map[LongInterval:5m LongTotal:12h NetworkTimeouts:map[ReadTimeout:10s WriteTimeout:10s DialTimeout:10s] Metadata:map[RetryMax:3 RetryBackoff:250ms] Producer:map[RetryBackoff:100ms RetryMax:3] Consumer:map[RetryBackoff:2s] ShortInterval:1s ShortTotal:30s] Topic:map[ReplicationFactor:3] Verbose:true] debug:map[BroadcastTraceDir:<nil> DeliverTraceDir:<nil>] operations:map[ListenAddress:127.0.0.1:8443 TLS:map[PrivateKey:<nil> ClientAuthRequired:false RootCAs:[] Enabled:false Certificate:<nil>]] metrics:map[Provider:disabled Statsd:map[Address:127.0.0.1:8125 WriteInterval:30s Prefix:<nil> Network:udp]] consensus:map[WALDir:/shared/data/etcdraft/wal SnapDir:/shared/data/etcdraft/snapshot] general:map[GenesisFile:/etc/hyperledger/fabric/artifacts/keyfiles/genesis.block Profile:map[Enabled:false Address:0.0.0.0:6060] BCCSP:map[Default:SW SW:map[Hash:SHA2 Security:256 FileKeyStore:map[KeyStore:<nil>]]] LocalMSPDir:/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/msp LedgerType:file Keepalive:map[ServerMinInterval:60s ServerInterval:7200s ServerTimeout:20s] ListenPort:7050 TLS:map[PrivateKey:/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.key Certificate:/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt RootCAs:[/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/ca.crt] ClientAuthRequired:false ClientRootCAs:<nil> Enabled:true] Cluster:map[ReplicationPullTimeout:5s ListenPort:<nil> ServerCertificate:<nil> ReplicationBufferSize:20971520 DialTimeout:5s RPCTimeout:7s ReplicationRetryTimeout:5s RootCAs:[/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/ca.crt] ReplicationBackgroundRefreshInterval:5m ClientPrivateKey:/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.key ServerPrivateKey:<nil> ListenAddress:<nil> ClientCertificate:/etc/hyperledger/fabric/artifacts/keyfiles/ordererorg/orderers/orderer2nd-ordererorg.ordererorg/tls/server.crt] Authentication:map[TimeWindow:15m] ListenAddress:0.0.0.0 LocalMSPID:ordererorg GenesisMethod:file GenesisProfile:SampleInsecureSolo] fileledger:map[Prefix:hyperledger-fabric-ordererledger Location:/shared/data] ramledger:map[HistorySize:1000]]
snapshot-OSN2new-FAB-13604-scenario2.log:182:2019-01-16 15:32:19.872 UTC [localconfig] completeInitialization -> INFO 0b6 Kafka.Version unset, setting to 0.10.2.0
snapshot-OSN2new-FAB-13604-scenario2.log:309:	Kafka.Retry.ShortInterval = 1s
snapshot-OSN2new-FAB-13604-scenario2.log:310:	Kafka.Retry.ShortTotal = 30s
snapshot-OSN2new-FAB-13604-scenario2.log:311:	Kafka.Retry.LongInterval = 5m0s
snapshot-OSN2new-FAB-13604-scenario2.log:312:	Kafka.Retry.LongTotal = 12h0m0s
snapshot-OSN2new-FAB-13604-scenario2.log:313:	Kafka.Retry.NetworkTimeouts.DialTimeout = 10s
snapshot-OSN2new-FAB-13604-scenario2.log:314:	Kafka.Retry.NetworkTimeouts.ReadTimeout = 10s
snapshot-OSN2new-FAB-13604-scenario2.log:315:	Kafka.Retry.NetworkTimeouts.WriteTimeout = 10s
snapshot-OSN2new-FAB-13604-scenario2.log:316:	Kafka.Retry.Metadata.RetryMax = 3
snapshot-OSN2new-FAB-13604-scenario2.log:317:	Kafka.Retry.Metadata.RetryBackoff = 250ms
snapshot-OSN2new-FAB-13604-scenario2.log:318:	Kafka.Retry.Producer.RetryMax = 3
snapshot-OSN2new-FAB-13604-scenario2.log:319:	Kafka.Retry.Producer.RetryBackoff = 100ms
snapshot-OSN2new-FAB-13604-scenario2.log:320:	Kafka.Retry.Consumer.RetryBackoff = 2s
snapshot-OSN2new-FAB-13604-scenario2.log:321:	Kafka.Verbose = true
snapshot-OSN2new-FAB-13604-scenario2.log:322:	Kafka.Version = 0.10.2.0
snapshot-OSN2new-FAB-13604-scenario2.log:323:	Kafka.TLS.Enabled = false
snapshot-OSN2new-FAB-13604-scenario2.log:324:	Kafka.TLS.PrivateKey = """"
snapshot-OSN2new-FAB-13604-scenario2.log:325:	Kafka.TLS.Certificate = """"
snapshot-OSN2new-FAB-13604-scenario2.log:326:	Kafka.TLS.RootCAs = []
snapshot-OSN2new-FAB-13604-scenario2.log:327:	Kafka.TLS.ClientAuthRequired = false
snapshot-OSN2new-FAB-13604-scenario2.log:328:	Kafka.TLS.ClientRootCAs = []
snapshot-OSN2new-FAB-13604-scenario2.log:329:	Kafka.SASLPlain.Enabled = false
snapshot-OSN2new-FAB-13604-scenario2.log:330:	Kafka.SASLPlain.User = """"
snapshot-OSN2new-FAB-13604-scenario2.log:331:	Kafka.SASLPlain.Password = """"
snapshot-OSN2new-FAB-13604-scenario2.log:332:	Kafka.Topic.ReplicationFactor = 3
snapshot-OSN2new-FAB-13604-scenario2.log:358:2019-01-16 15:32:20.530 UTC [common.channelconfig] initializeProtosStruct -> DEBU 0de Processing field: KafkaBrokers
snapshot-OSN2new-FAB-13604-scenario2.log:550:2019-01-16 15:32:21.160 UTC [common.channelconfig] initializeProtosStruct -> DEBU 153 Processing field: KafkaBrokers
snapshot-OSN2new-FAB-13604-scenario2.log:757:2019-01-16 15:32:21.312 UTC [common.channelconfig] initializeProtosStruct -> DEBU 1d7 Processing field: KafkaBrokers
snapshot-OSN2new-FAB-13604-scenario2.log:974:2019-01-16 15:32:21.372 UTC [common.channelconfig] initializeProtosStruct -> DEBU 265 Processing field: KafkaBrokers
snapshot-OSN2new-FAB-13604-scenario2.log:1285:2019-01-16 15:32:21.934 UTC [common.channelconfig] initializeProtosStruct -> DEBU 31f Processing field: KafkaBrokers
snapshot-OSN2new-FAB-13604-scenario2.log:1433:2019-01-16 15:32:22.028 UTC [common.channelconfig] initializeProtosStruct -> DEBU 39a Processing field: KafkaBrokers
{code};;;","17/Jan/19 5:23 PM;yacovm;{quote}    BUG7 - more errors (connection to o2 failed) seen in o3 AFTER o3 recognized o2 as the leader, for 2 more seconds. WHY?
 Yes, it was a functioning network that time.
{quote}
If you mean:

{quote}2019-01-16 15:32:55.794 UTC [orderer.consensus.etcdraft] serveRaft -> INFO 4f57f^[[0m Raft leader changed: 0 -> 2 {""channel"": ""orderersystemchannel"", ""node"": 3}

2019-01-16 15:32:55.875 UTC [orderer.consensus.etcdraft] send -> ERRO 4f59c^[[0m Failed to send StepRequest to 2, because: rpc error: code = Unavailable desc = all SubConns are in TransientFailure{quote}

Then it's not a bug - it can be that someone connected to you, however your gRPC connection still didn't connect to the other node. 
It actually makes sense because node 2 was restarted and node 3 tried to probe it on an exponential backoff logic, so node 2 has the timing advantage here over node 3. 
;;;","19/Jan/19 12:20 AM;scottz;BUG5 : we tested with yacov's developer image; seemed to work
BUG6 : still awaiting resolution
BUG7 : agree this issue is not a bug, and can be ignored
BUG8 : still awaiting resolution;;;","19/Jan/19 2:19 AM;kchristidis;[~scottz]: Thanks for updating this. Let's move on to create Bugs out of BUG5, BUG7, BUG8. Let's add the relevant artifacts to each JIRA, along with a summary of where we stand (what the issue is, and what the devs think is going on).;;;","19/Jan/19 6:32 AM;kchristidis;As is the case with FAB-13603, I cannot parse the contents of the table. I suspect the answer will be the same as for FAB-13603 though. Let's also format this properly as a table, the Jira editor gives us this option.;;;","19/Feb/19 7:43 AM;kchristidis;BUG8 is not a bug.

RE: BUG6 - [~guoger]: I suspect this is a harmless occurence not related to the protocol. But let's confirm so Scott & team can close this.;;;","06/Mar/19 1:36 AM;scottz;The bugs were created, and closed or fixed. And this was reexecuted last week during other tests. The basics work fine so we can close this. Another bug FAB-14454 was opened when executing a different restart testcase (chaos monkey) FAB-14220.;;;",,,,,,,,
Update copyright on documentation footer,FAB-13605,36628,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,pandrejko,pandrejko,pandrejko,10/Jan/19 7:39 AM,16/Jan/19 7:56 AM,28/Oct/23 3:04 AM,16/Jan/19 7:56 AM,,,,,,,,,,fabric-docs,,,,0,,,,"Documentation footer says Copyright Hyperledger 2018. 

 

I think this needs to be updated to 2019.

 

If you can tell me how to update the footer, I'm willing to learn.

 ",,ChristopherFerris,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwrrp:9",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ChristopherFerris,pandrejko,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jan/19 12:15 AM;ChristopherFerris;* 
in the template under docs/source/_template/footer.html
 * 
<div role=""contentinfo"">
<p>
{%- if show_copyright %}
{%- if hasdoc('copyright') %}
{% trans path=pathto('copyright'), copyright=copyright|e %}&copy; <a href=""\{{ path }}"">Copyright</a> \{{ copyright }}.\{% endtrans %}
{%- else %}
{% trans copyright=copyright|e %}&copy; Copyright Hyperledger 2018.\{% endtrans %}
{%- endif %}
{%- endif %};;;",,,,,,,,,,,,,,,,,,,,,,,,
Support token operations request in token client,FAB-13606,36630,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wenjian,wenjian,wenjian,10/Jan/19 11:22 AM,13/Jan/20 11:42 PM,28/Oct/23 3:04 AM,13/Jan/20 11:42 PM,,,,,,,,,,fabric-token,,,,0,fabtoken,stale-item,,"* add a new API for client to return token transactions based on an token operations
 * add RequestOperations to prover client that will communicate to prover peer to calculate
 token transactions based on token operations",,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005t3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 11:09 PM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/28617/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Peer should not panic when start with local higher-capability ledger,FAB-13607,36631,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,baohua,baohua,10/Jan/19 11:31 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"When a peer start, it will read all local ledgers, If the capabilities is not in valid range, then the peer should ignore that channel instead of panic.

 ",,baohua,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13580,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005tb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),baohua,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove hardcoded reference to lscc namespace in endorser package,FAB-13608,36632,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,10/Jan/19 11:42 AM,12/Jan/19 7:39 AM,28/Oct/23 3:04 AM,12/Jan/19 7:39 AM,,,,,,,,,,fabric-peer,,,,0,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i005tj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jan/19 7:39 AM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28612/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Allow lifecycle to serialize protos in structs,FAB-13609,36634,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,10/Jan/19 11:53 AM,20/Feb/19 2:28 PM,28/Oct/23 3:04 AM,20/Feb/19 2:28 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i005tz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Include information about collections in chaincode definition,FAB-13610,36635,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,10/Jan/19 11:53 AM,20/Feb/19 2:28 PM,28/Oct/23 3:04 AM,20/Feb/19 2:28 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i005u7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Add ability to specify collections to lifecycle SCC,FAB-13611,36636,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,10/Jan/19 11:53 AM,08/Mar/19 3:09 AM,28/Oct/23 3:04 AM,08/Mar/19 3:09 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i005uf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Clarify define sequence 0 error,FAB-13612,36637,36636,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,10/Jan/19 11:55 AM,08/Mar/19 3:09 AM,28/Oct/23 3:04 AM,08/Mar/19 3:09 AM,,,,,,,,,,,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005un:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Manipulating `StepStub` should be guarded by lock to avoid race,FAB-13613,36638,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,10/Jan/19 6:03 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,21/Jan/19 12:42 AM,,,,,,,,,,,,,,0,,,,"In our UT, sometimes we intercept `StepStub` call to insert extra logic to emulate certain network behavior, e.g. adding a filter to drop certain type of message.

However, this pattern is racy because code may call `Step` at the same time we manipulate the stub in UT.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005v3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"10/Jan/19 6:07 PM;guoger;https://gerrit.hyperledger.org/r/c/28621;;;",,,,,,,,,,,,,,,,,,,,,,,,
refactor peer Initialize function,FAB-13614,36639,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,kutenglaoshu,kutenglaoshu,kutenglaoshu,10/Jan/19 6:16 PM,21/Jun/19 6:12 AM,28/Oct/23 3:04 AM,09/Jun/19 5:28 PM,,,,,,v2.0.0,,,,,,,,0,,,,"since ledgermgmt.Initialize has been invoked in node start serve function, there is no need to call again in peer Initialize function, and this change make code more clearly",,kutenglaoshu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-15755,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005vb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 7:08 PM;mastersingh24;https://gerrit.hyperledger.org/r/#/c/28622/;;;","10/Jan/19 7:11 PM;mastersingh24;[~kutenglaoshu]  Thanks for the contribution.
I've taken the liberty of updating the status of the JIRA, but in the future please make sure to update the status when we take on a task:

1)  Assign to yourself
2) Mark in progress (begin work)
3) Update to ""In CR Review"" and add the link to the CR as a comment;;;",,,,,,,,,,,,,,,,,,,,,,,
Possibly support onboarding of empty networks,FAB-13616,36642,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,yacovm,yacovm,10/Jan/19 8:13 PM,12/Feb/19 7:20 AM,28/Oct/23 3:04 AM,12/Feb/19 7:20 AM,,,,,,,,,,fabric-orderer,,,,0,,,,"If the system channel has no application channels at all and the system channel contains only the genesis block + a system channel configuration transaction, the system chain's height will be 2, and the last config block's height will be 1.

The code that pulls a channel's blocks implicitly assumes the last config block of the system channel isn't a config block of sequence 1, because that can only happen if we create a network and then decide to onboard a new orderer node, before creating an application channel. ",,kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14142,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005vz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kchristidis,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Jan/19 3:24 AM;kchristidis;I remember this discussion in #fabric-orderer-dev. Do we agree that this is a low-priority item, and are we OK with moving this in the Backlog placeholder story?;;;","22/Jan/19 3:38 AM;yacovm;ah so actually i opened this because I thought it doesn't work but it should be in ""un-verified"" status as both me and [~guoger] tried and it appeared to be working... I need to verify once and for all if it works and close it if it does.

 

but yeah - definitely backlog for now.;;;",,,,,,,,,,,,,,,,,,,,,,,
"As a token infrastructure (peer) developer, I want to extend the transfer functionality to support delegated outputs",FAB-13617,36643,34271,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,KaoutarEL,KaoutarEL,KaoutarEL,10/Jan/19 9:33 PM,13/Jan/20 11:42 PM,28/Oct/23 3:04 AM,13/Jan/20 11:42 PM,,,,,,,,,,,,,,0,fabtoken,stale-item,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005w7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"01/Feb/19 6:13 PM;KaoutarEL;https://gerrit.hyperledger.org/r/#/c/28731/;;;",,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in integration/e2e/etcdraft_reconfig_test.go,FAB-13618,36644,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,sykesm,sykesm,10/Jan/19 11:26 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,06/Feb/19 3:13 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Failure occurred in https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4557

{code}
22:27:25 ------------------------------
22:27:25 • Failure [121.893 seconds]
22:27:25 EndToEnd reconfiguration and onboarding when the orderer certificates are all rotated [It] is still possible to onboard new orderers 
22:27:25 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:98
22:27:25 
22:27:25   No future change is possible.  Bailing out early after 30.314s.
22:27:25   Expected
22:27:25       <int>: 1
22:27:25   to match exit code:
22:27:25       <int>: 0
22:27:25 
22:27:25   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:567
{code}

/cc [~yacovm]",,guoger,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"10/Jan/19 11:27 PM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16528/console-timestamp.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005wf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jan/19 3:35 AM;sykesm;Hit again in https://gerrit.hyperledger.org/r/c/28587/

{code}
17:08:24 • Failure [122.327 seconds]
17:08:24 EndToEnd reconfiguration and onboarding when the orderer certificates are all rotated [It] is still possible to onboard new orderers 
17:08:24 /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:98
17:08:24 
17:08:24   No future change is possible.  Bailing out early after 30.133s.
17:08:24   Expected
17:08:24       <int>: 1
17:08:24   to match exit code:
17:08:24       <int>: 0
17:08:24 
17:08:24   /w/workspace/fabric-verify-integration-tests-x86_64/gopath/src/github.com/hyperledger/fabric/integration/e2e/etcdraft_reconfig_test.go:567
{code};;;","13/Jan/19 3:54 PM;guoger;hit [here|https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/4672/consoleFull]

There's an unexpected leader re-election:
{code}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.733 UTC [orderer.consensus.etcdraft] Step -> INFO 090 4 is starting a new election at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.733 UTC [orderer.consensus.etcdraft] becomePreCandidate -> INFO 091 4 became pre-candidate at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.733 UTC [orderer.consensus.etcdraft] poll -> INFO 092 4 received MsgPreVoteResp from 4 at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.733 UTC [orderer.consensus.etcdraft] campaign -> INFO 093 4 [logterm: 3, index: 14] sent MsgPreVote request to 5 at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.733 UTC [orderer.consensus.etcdraft] campaign -> INFO 094 4 [logterm: 3, index: 14] sent MsgPreVote request to 3 at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer2] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] Step -> INFO 05b 5 [logterm: 3, index: 14, vote: 3] cast MsgPreVote for 4 [logterm: 3, index: 14] at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] poll -> INFO 095 4 received MsgPreVoteResp from 5 at term 3 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] stepCandidate -> INFO 096 4 [quorum:2] has received 2 MsgPreVoteResp votes and 0 vote rejections {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] becomeCandidate -> INFO 097 4 became candidate at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] poll -> INFO 098 4 received MsgVoteResp from 4 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] campaign -> INFO 099 4 [logterm: 3, index: 14] sent MsgVote request to 5 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] campaign -> INFO 09a 4 [logterm: 3, index: 14] sent MsgVote request to 3 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer1] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] run -> INFO 09b raft.node: 4 lost leader 3 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:40 [e][OrdererOrg.orderer3] 2019-01-12 14:11:40.734 UTC [orderer.consensus.etcdraft] Step -> INFO 172 3 [logterm: 3, index: 15, vote: 3] rejected MsgPreVote from 4 [logterm: 3, index: 14] at term 3 {""channel"": ""systemchannel"", ""node"": 3}
...
...
:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:41.363 UTC [orderer.consensus.etcdraft] Step -> INFO 05c 5 is starting a new election at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:41.363 UTC [orderer.consensus.etcdraft] becomePreCandidate -> INFO 05d 5 became pre-candidate at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:41.363 UTC [orderer.consensus.etcdraft] poll -> INFO 05e 5 received MsgPreVoteResp from 5 at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:41.363 UTC [orderer.consensus.etcdraft] campaign -> INFO 05f 5 [logterm: 3, index: 14] sent MsgPreVote request to 3 at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:41.363 UTC [orderer.consensus.etcdraft] campaign -> INFO 060 5 [logterm: 3, index: 14] sent MsgPreVote request to 4 at term 3 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:41.364 UTC [orderer.consensus.etcdraft] Step -> INFO 183 3 [logterm: 3, index: 15, vote: 3] rejected MsgPreVote from 5 [logterm: 3, index: 14] at term 3 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:41.364 UTC [orderer.consensus.etcdraft] Step -> INFO 09c 4 [logterm: 3, index: 14, vote: 4] rejected MsgPreVote from 5 [logterm: 3, index: 14] at term 4 {""channel"": ""systemchannel"", ""node"": 4}
...
...
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.205148 W | wal: sync duration of 1.470361212s, expected less than 1s
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.205 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 09d Raft leader changed: 3 -> 0 {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.205 UTC [orderer.consensus.etcdraft] Step -> INFO 061 5 [term: 3] received a MsgVote message with higher term from 4 [term: 4] {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.205 UTC [orderer.consensus.etcdraft] becomeFollower -> INFO 062 5 became follower at term 4 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.205 UTC [orderer.consensus.etcdraft] Step -> INFO 063 5 [logterm: 3, index: 14, vote: 0] cast MsgVote for 4 [logterm: 3, index: 14] at term 4 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.205 UTC [orderer.consensus.etcdraft] run -> INFO 064 raft.node: 5 lost leader 3 at term 4 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.206 UTC [orderer.consensus.etcdraft] Step -> INFO 19c 3 [term: 3] received a MsgVote message with higher term from 4 [term: 4] {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.206 UTC [orderer.consensus.etcdraft] becomeFollower -> INFO 19d 3 became follower at term 4 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.206 UTC [orderer.consensus.etcdraft] Step -> INFO 19e 3 [logterm: 3, index: 15, vote: 0] rejected MsgVote from 4 [logterm: 3, index: 14] at term 4 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.206 UTC [orderer.consensus.etcdraft] run -> INFO 19f raft.node: 3 lost leader 3 at term 4 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.206 UTC [orderer.consensus.etcdraft] Step -> INFO 09e 4 [term: 4] ignored a MsgApp message with lower term from 3 [term: 3] {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.206291 W | wal: sync duration of 2.573402548s, expected less than 1s
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] Step -> INFO 065 5 [term: 4] ignored a MsgApp message with lower term from 3 [term: 3] {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 066 Raft leader changed: 3 -> 0 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] poll -> INFO 09f 4 received MsgVoteResp from 5 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] stepCandidate -> INFO 0a0 4 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] becomeLeader -> INFO 0a1 4 became leader at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.207 UTC [orderer.consensus.etcdraft] run -> INFO 0a2 raft.node: 4 elected leader 4 at term 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.208 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 1a0 Raft leader changed: 3 -> 0 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.208 UTC [orderer.consensus.etcdraft] Step -> INFO 0a3 4 [term: 4] ignored a MsgPreVoteResp message with lower term from 3 [term: 3] {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.209 UTC [orderer.consensus.etcdraft] Step -> INFO 067 5 [term: 4] ignored a MsgPreVoteResp message with lower term from 3 [term: 3] {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer1] 2019-01-12 14:11:42.209 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 0a4 Raft leader changed: 0 -> 4 {""channel"": ""systemchannel"", ""node"": 4}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.209 UTC [orderer.consensus.etcdraft] findConflict -> INFO 1a1 found conflict at index 15 [existing term: 3, conflicting term: 4] {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.209 UTC [orderer.consensus.etcdraft] truncateAndAppend -> INFO 1a2 replace the unstable entries from index 15 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.209 UTC [orderer.consensus.etcdraft] run -> INFO 1a3 raft.node: 3 elected leader 4 at term 4 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.210 UTC [orderer.consensus.etcdraft] run -> INFO 068 raft.node: 5 elected leader 4 at term 4 {""channel"": ""systemchannel"", ""node"": 5}
22:12:41 [e][OrdererOrg.orderer3] 2019-01-12 14:11:42.210 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 1a4 Raft leader changed: 0 -> 4 {""channel"": ""systemchannel"", ""node"": 3}
22:12:41 [e][OrdererOrg.orderer2] 2019-01-12 14:11:42.211 UTC [orderer.consensus.etcdraft] serveRequest -> INFO 069 Raft leader changed: 0 -> 4 {""channel"": ""systemchannel"", ""node"": 5}
{code};;;","05/Feb/19 1:33 PM;jyellick;https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5315/console
and
https://jenkins.hyperledger.org/job/fabric-verify-integration-tests-x86_64/5309/console

And seen others too.  This seems to happen very consistently for me.  Right now I think I am 4/4.;;;",,,,,,,,,,,,,,,,,,,,,,
Java SDK: enhance SDK to support token functions,FAB-13619,36646,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,wenjian,wenjian,11/Jan/19 1:01 AM,22/Oct/19 7:42 PM,28/Oct/23 3:04 AM,22/Oct/19 7:42 PM,,,,,,,,,,fabric-sdk-java,fabric-token,,,0,fabtoken,,,"Tokens in Fabric represents the assets that can be exchanged in an atomic fashion via Fabric transactions. Tokens in Fabric represents the assets that can be exchanged in an atomic fashion via Fabric transactions. Tokens are assigned to a Fabric network using an issue operation. From the moment token issuing takes place, new tokens are generated to represent the associated assets in Fabric network. Ownership of these tokens can be changed throughout Fabric transactions. The assets (tokens) themselves remain under the custody of Fabric network until when their owner claims the associated assets back via a redeem operation.


SDK needs to be enhanced to support tokens so that applications can call SDK API to perform the following token operations.
 * issue: creates new tokens to the specified users
 * transfer: transfers tokens from one user to other users
 * redeem: redeems existing tokens owned by the user
 * approve: authorizes to transfer owning tokens to other users
 * transfer from: transfers tokens that have been approved by the owner
 * swap: transfers tokens among multiple participants
 * list: lists unspent tokens owned by the user
 * allowance: amount of tokens approved by the owner that can be transferred to other users

 

To implement the above APIs, SDK needs to perform the following:
 # Communicate to a prover peer (via token.ProverClient grpc client) to get back a token transaction for each token operation mentioned above
 # Create a transaction envelope for the token transaction (common.HeaderType_TOKEN_TRANSACTION type) and broadcast it to the orderer
 # Allow the application to register for the transaction event


A token client package has been implemented in go that are used to test e2e token scenarios. This package can be used as a reference implementationfor SDK.  For more details of the token client package, refer to token-client-design.docx under the epic story FAB-11153 and CR https://gerrit.hyperledger.org/r/#/c/27631/ (see token/client and integration/token)",,heatherp,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11153,,,No,,Unset,No,,,"1|i005wv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),heatherp,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"22/Oct/19 7:42 PM;heatherp;We're not working on token anytime soon, so this isn't going to be actioned by the SDK team. Please re-open if you want to work on it;;;",,,,,,,,,,,,,,,,,,,,,,,,
add memberOnlyWrite option in collection config,FAB-13621,36650,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,11/Jan/19 4:06 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,17/Jan/19 8:32 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:b",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
simulation: check membership info and perform ACL on private data write,FAB-13622,36651,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,11/Jan/19 4:07 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,18/Jan/19 8:02 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:c",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
validation: check membership info and perform ACL on private data write ,FAB-13623,36652,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,11/Jan/19 4:08 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,25/Jan/19 2:38 AM,,,,,,,,,,fabric-peer,,,,0,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:d",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/19 2:38 AM;denyeart;No need to do... check will be done at endorsement time only, then validation will check that endorsement policy is fulfilled.;;;",,,,,,,,,,,,,,,,,,,,,,,,
introduce capability tag for validation,FAB-13624,36653,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,Senthil1,Senthil1,11/Jan/19 4:08 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,25/Jan/19 2:38 AM,,,,,,,,,,fabric-peer,,,,0,,,,,,denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:e",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"25/Jan/19 2:38 AM;denyeart;No need to do... check will be done at endorsement time only, then validation will check that endorsement policy is fulfilled.;;;",,,,,,,,,,,,,,,,,,,,,,,,
e2e integration test,FAB-13625,36654,36587,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,Senthil1,11/Jan/19 4:10 AM,12/Jun/20 12:31 AM,28/Oct/23 3:04 AM,08/Jan/20 11:28 PM,,,,,,v2.0.0,,,,,,,,0,,,,,,Senthil1,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|hzwqfn:f",,,,Unset,Unset,To Do,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"08/Jan/20 2:14 AM;wenjian;PR: https://github.com/hyperledger/fabric/pull/459;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add LTS to v1.4 What's New doc,FAB-13627,36657,,Documentation,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,denyeart,denyeart,11/Jan/19 5:38 AM,12/Jan/19 7:20 AM,28/Oct/23 3:04 AM,12/Jan/19 7:20 AM,,,,,,v1.4.0,v2.0.0,,,,,,,0,,,,Add LTS to v1.4 What's New doc,,denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005z3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"11/Jan/19 5:40 AM;denyeart;https://gerrit.hyperledger.org/r/#/c/28636/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Unable to pull openjdk 8-jdk-alpine3.8 on s390x  - master,FAB-13629,36662,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Environment Issue,,sambhavdutt,sambhavdutt,11/Jan/19 12:31 PM,19/Mar/19 8:12 PM,28/Oct/23 3:04 AM,12/Jan/19 6:00 AM,v2.0.0,,,,,v2.0.0,,,,fabric-build,,,,0,ci-failure,,,"The ccenv image failed to build as the manifest for the image was not found in openjdk library, this is the first time ccenv failed to build. This failed in the fabric-nightly-release-job.

*Intermittent:* No

*Platform:* s390x

*Branch:* Master

*Error Snippet:*
{code:java}
21:40:45 Step 14/25 : FROM openjdk:${JAVA_VER}-jdk-alpine${ALPINE_VER}
21:40:46 8-jdk-alpine3.8: Pulling from library/openjdk
21:40:46 no matching manifest for unknown in the manifest list entries
21:40:46 Makefile:260: recipe for target '.build/images/ccenv/.dummy-s390x-2.0.0-stable' failed
{code}

*Build Log*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-nightly-release-job-master-s390x/232/]",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,506153def3506cff9ee24fa812935b15f365efda,Unset,No,,,"1|i00607:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Chaincode lifecycle 2.0 - validation,FAB-13631,36665,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Jan/19 6:19 PM,09/May/19 9:54 PM,28/Oct/23 3:04 AM,09/May/19 9:54 PM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,This story contains all tasks related to the refactoring and new code necessary to enable chaincode lifecycle v2 in the validator component of the fabric peer,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i008rq:zzj",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Decouple vscc validation from validator component,FAB-13632,36680,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,11/Jan/19 7:51 PM,16/Jan/19 7:19 PM,28/Oct/23 3:04 AM,16/Jan/19 7:19 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i00647:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Make etcdraft Step() RPC non blocking if connection is in state connecting,FAB-13633,36692,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,11/Jan/19 11:15 PM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,12/Jan/19 4:17 AM,,,,,,,,,,fabric-orderer,,,,0,raft,,,"Per the [gRPC documentation|https://github.com/grpc/grpc/blob/master/doc/wait-for-ready.md]:

{quote}If an RPC is issued but the channel is in TRANSIENT_FAILURE or SHUTDOWN states, the RPC is unable to be transmited promptly. By default, gRPC implementations SHOULD fail such RPCs immediately. This is known as ""fail fast,"" but usage of the term is historical. 
{quote}

However... 

{quote}RPCs SHOULD NOT fail as a result of the channel being in other states (CONNECTING, READY, or IDLE). {quote}

Therefore, if it takes too much time for gRPC to move from a state of CONNECTING to TRANSIENT_FAILURE (i.e - packet drop, or DNS lookup failure) - it will slow down the entire Raft FSM.",,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13603,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006cv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jan/19 1:48 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28657/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test client failed for the first time in unit-test due to descriptor failure.,FAB-13634,36694,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,sambhavdutt,sambhavdutt,11/Jan/19 11:55 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,14/Jan/19 3:43 AM,v1.4.0,,,,,v1.4.0,,,,fabric-common,,,,0,ci-flake,,,"The client_test failed in discovery service in the daily unit-tests with this error --> +_Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination_+

*Intermittent:* No

*Branch:* release-1.4

*Platform:* x86_64

*Error Snippet:*
{code:java}
21:57:59 2019-01-11 02:56:24.447 UTC [discovery] chaincodeQuery -> ERRO 002 Failed constructing descriptor for chaincode chaincodes:<name:""mycc"" > ,: cannot satisfy any principal combination
21:57:59 --- FAIL: TestClient (0.43s)
21:57:59     --- FAIL: TestClient/Endorser_query_with_PrioritiesByHeight_selector (0.17s)
21:57:59         <autogenerated>:1: 
21:57:59             	Error Trace:	client_test.go:520
21:57:59             	Error:      	Not equal: 
21:57:59             	            	expected: 5
21:57:59             	            	actual  : 4
21:57:59             	Test:       	TestClient/Endorser_query_with_PrioritiesByHeight_selector
21:57:59             	Messages:   	expecting each endorser to be returned at least once
21:57:59 FAIL
{code}
*Build Log*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.4-x86_64/30/]",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6a82f9d5ef7af4eff82d405944253167904516cc,Unset,No,,,"1|i006db:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 3:43 AM;denyeart;[~sambhavdutt] please search Jira for the test name before opening a duplicate bug, for example in this case it is ""TestClient"":
{code:java}
--- FAIL: TestClient{code}
I'm returning this one as a duplicate of the existing Jira. When an existing flake in Jira is hit again, we should add a comment to the original jira. We should also increase its priority to High if seen 3 or more times.

Also, v1.4.0 has already shipped, so please don't use v1.4.0 as a FixVersion.  Typically we leave FixVersion empty until we decide which version to release the fix in.;;;",,,,,,,,,,,,,,,,,,,,,,,,
"gossip.service test failed in the unit-tests, Channel connection failed.",FAB-13635,36695,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sambhavdutt,sambhavdutt,12/Jan/19 12:31 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,23/Jan/19 12:16 AM,v1.4.0,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"The gossip service test(daily unit-tests) failed in TestLeaderYield with this error,
 
+_[gossip.service] updateAnchors -> ERRO 08b Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting._+
  
 *Intermittent:* Yes
 *Branch:* release-1.4
 *Platform:* s390x



*Error Snippet:* 
{code:java}
22:01:56 /w/workspace/fabric-unit-test-daily-release-1.4-s390x/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/int--- FAIL: TestLeaderYield (117.03s)22:01:56 integration_test.go:156: p0 started its delivery service*22:01:56* integration_test.go:161: p0 stopped its delivery service*22:01:56* integration_test.go:171: p1 hasn't taken over leadership within 1m0s: -1*22:01:56* 2019-01-10 22:01:07.362 EST [gossip.service] updateAnchors -> ERRO 08b Tried joining channel A but our org( OrgMSP0 ), isn't among the orgs of the channel: [Org0] , aborting.{code}

*Build Logs:* 

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-unit-test-daily-release-1.4-s390x/17/]",,C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6a82f9d5ef7af4eff82d405944253167904516cc,Unset,No,,,"1|i006dj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,rameshthoomu,sambhavdutt,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/19 12:16 AM;sambhavdutt;TestLeaderYield fail has not been observed in the recent unit-tests.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Implement Initial CLI Skeleton,FAB-13636,36696,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bpbuch,bpbuch,bpbuch,12/Jan/19 12:40 AM,09/Apr/19 11:22 PM,28/Oct/23 3:04 AM,09/Apr/19 11:22 PM,,,,,,,,,,,,,,0,,,,"The initial CLI with an example command should be implemented to provide a structural skeleton for the project.   The focus is to design a workflow regardless of the contents of a command.  Commands should be treated equally.

 

Configuration details should be stored in the local file system.  By default a “.fab” directory should be created at the user’s home directory.  An option should be made available to override this default.

 

Scripts will be needed to lint, build, and test. ",,bpbuch,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-10734,,,No,,Unset,No,,,"1|i006dr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),bpbuch,yoheiueda,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
peerEndpointError should be in the right place,FAB-13637,36697,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kutenglaoshu,kutenglaoshu,kutenglaoshu,12/Jan/19 1:03 AM,12/Jan/19 8:01 AM,28/Oct/23 3:04 AM,12/Jan/19 8:00 AM,,,,,,v2.0.0,,,,,,,,0,,,,,,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006dz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
add gossip state metrics,FAB-13638,36699,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,firas.qutishat,firas.qutishat,12/Jan/19 2:04 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,,,firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006ef:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),firas.qutishat,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
Decrease dial timeout on the couch db's http client,FAB-13639,36700,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,skarim,skarim,skarim,12/Jan/19 2:07 AM,01/Mar/19 1:03 AM,28/Oct/23 3:04 AM,01/Mar/19 1:03 AM,,,,,,v2.0.0,,,,,,,,0,,,,Currently the couch db instances uses a http client with the default dial timeout value of 30 seconds. This should be decreased to a more reasonable timeout of 5 seconds.,,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006en:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"12/Jan/19 3:35 AM;skarim;https://gerrit.hyperledger.org/r/c/28662/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Create validator routing layer,FAB-13640,36701,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,12/Jan/19 3:06 AM,16/Jan/19 7:19 PM,28/Oct/23 3:04 AM,16/Jan/19 7:19 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006ev:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
"Performance test: no crashes, concurrent invocations on 3 threads/peer/channel (1 channel, constant mode)",FAB-13641,36702,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,dongming,dongming,12/Jan/19 3:56 AM,01/Feb/19 4:46 AM,28/Oct/23 3:04 AM,26/Jan/19 8:27 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"h2. Setup
# Same as FAB-13760, except we run with one channel.

h2. Inputs
# Same as FAB-13760 with m=1.

h2. Expectations
# Same as FAB-13760.",,dongming,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13447,,,,FAB-13660,FAB-13661,,,,,,,,,,,FAB-13660,FAB-13661,,,,,,,,,,,,,FAB-13810,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Automated,,Unset,No,,,"1|i007uv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),dongming,kchristidis,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"19/Jan/19 5:03 AM;kchristidis;-Why do we need 2 peers per org? If the second peer is not used, can we remove it from the scenario?-

DM says we're good to say 1 peer/org.;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test flake gossip/service/integration_test,FAB-13642,36704,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,skarim,skarim,12/Jan/19 4:59 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,29/Jan/19 7:27 AM,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"{code:java}
<nil>, Metadata: : context deadline exceeded
 14:36:01 2019-01-11 19:35:08.540 UTC [gossip.discovery#localhost:30000] func1 -> WARN 08e Could not connect to Endpoint: localhost:30005, InternalEndpoint: localhost:30005, PKI-ID: <nil>, Metadata: : context deadline exceeded
 14:36:01 goroutine 1132 [running]:
 14:36:01 github.com/hyperledger/fabric/gossip/util.PrintStackTrace()
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/util/misc.go:144 +0x87
 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderYield(0xc000110500)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/integration_test.go:170 +0x7a4
 14:36:01 testing.tRunner(0xc000110500, 0x10e83b8)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
 14:36:01 created by testing.(*T).Run
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353
 14:36:01 
 14:36:01 goroutine 1 [chan receive, 1 minutes]:
 14:36:01 testing.(*T).Run(0xc000110500, 0x10b8cbd, 0xf, 0x10e83b8, 0x860401)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:879 +0x37a
 14:36:01 testing.runTests.func1(0xc000110300)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1119 +0x78
 14:36:01 testing.tRunner(0xc000110300, 0xc00044bda0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
 14:36:01 testing.runTests(0xc00034f6c0, 0x196f2e0, 0x10, 0x10, 0x7efc5f)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1117 +0x2aa
 14:36:01 testing.(*M).Run(0xc00011e080, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:1034 +0x165
 14:36:01 main.main()
 14:36:01 _testmain.go:122 +0x205
 14:36:01 
 14:36:01 goroutine 71 [chan receive, 2 minutes]:
 14:36:01 testing.(*T).Parallel(0xc000246000)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa
 14:36:01 github.com/hyperledger/fabric/gossip/service.TestJCMInterface(0xc000246000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:109 +0x2b
 14:36:01 testing.tRunner(0xc000246000, 0x10e8390)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
 14:36:01 created by testing.(*T).Run
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353
 14:36:01 
 14:36:01 goroutine 1144 [sleep]:
 14:36:01 time.Sleep(0x5d21dba00)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalReconnectToDead(0xc00010e140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:631 +0x294
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:131 +0x4c0
 14:36:01 
 14:36:01 goroutine 1593 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).follower(0xc0002403f0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:322 +0x248
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).run(0xc0002403f0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:266 +0xbd
 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:176 +0x9e
 14:36:01 
 14:36:01 goroutine 1518 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).listen(0xc0004b5200)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:252 +0x129
 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:237 +0x60c
 14:36:01 
 14:36:01 goroutine 1119 [sleep]:
 14:36:01 time.Sleep(0x5d21dba00)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc00010e140, 0xc000266280, 0xc0001e82f0, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4
 14:36:01 
 14:36:01 goroutine 1149 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).acceptMessages(0xc00010e000, 0xc0005316e0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:325 +0x1a6
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:316 +0xb4
 14:36:01 
 14:36:01 goroutine 1153 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00011e800)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
 14:36:01 
 14:36:01 goroutine 1099 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handlePresumedDeadPeers(0xc000360140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:286 +0x186
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:132 +0x4e5
 14:36:01 
 14:36:01 goroutine 1143 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handleMessages(0xc00010e140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:310 +0x1ab
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:130 +0x49b
 14:36:01 
 14:36:01 goroutine 1150 [sleep]:
 14:36:01 time.Sleep(0x77359400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc00011e600, 0x77359400)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1
 14:36:01 
 14:36:01 goroutine 1529 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).antiEntropy(0xc0004b5280)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:579 +0x177
 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:241 +0x650
 14:36:01 
 14:36:01 goroutine 1159 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00024ad80)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
 14:36:01 
 14:36:01 goroutine 1096 [sleep]:
 14:36:01 time.Sleep(0x9502f900)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).periodicalCheckAlive(0xc000360140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:685 +0xca
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:129 +0x476
 14:36:01 
 14:36:01 goroutine 1989 [IO wait]:
 14:36:01 internal/poll.runtime_pollWait(0x7fa42506ce30, 0x72, 0xc00027d928)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/netpoll.go:173 +0x66
 14:36:01 internal/poll.(*pollDesc).wait(0xc00024b618, 0x72, 0xffffffffffffff00, 0x118b700, 0x1976690)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:85 +0x9a
 14:36:01 internal/poll.(*pollDesc).waitRead(0xc00024b618, 0xc000468800, 0x400, 0x400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:90 +0x3d
 14:36:01 internal/poll.(*FD).Read(0xc00024b600, 0xc000468800, 0x400, 0x400, 0x0, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_unix.go:169 +0x179
 14:36:01 net.(*netFD).Read(0xc00024b600, 0xc000468800, 0x400, 0x400, 0x7eca9b, 0xc00001e000, 0xfbc360)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/fd_unix.go:202 +0x4f
 14:36:01 net.(*conn).Read(0xc000316320, 0xc000468800, 0x400, 0x400, 0x0, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/net.go:177 +0x68
 14:36:01 crypto/tls.(*block).readFromUntil(0xc0001d6360, 0x118a320, 0xc000316320, 0x5, 0xc000316320, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:492 +0x89
 14:36:01 crypto/tls.(*Conn).readRecord(0xc00030c000, 0x10ea617, 0xc00030c120, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:593 +0xdd
 14:36:01 crypto/tls.(*Conn).Read(0xc00030c000, 0xc0005e2000, 0x8000, 0x8000, 0x0, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/crypto/tls/conn.go:1145 +0xf1
 14:36:01 bufio.(*Reader).Read(0xc00029b500, 0xc000242578, 0x9, 0x9, 0x20, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/bufio/bufio.go:216 +0x22f
 14:36:01 io.ReadAtLeast(0x1188c80, 0xc00029b500, 0xc000242578, 0x9, 0x9, 0x9, 0xc01fcfaadd, 0x1fcfaadd007e577e, 0x5c38efec)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/io/io.go:310 +0x88
 14:36:01 io.ReadFull(0x1188c80, 0xc00029b500, 0xc000242578, 0x9, 0x9, 0xbf0659db1fcfaadd, 0x241b902c6e, 0x19b6400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/io/io.go:329 +0x58
 14:36:01 github.com/hyperledger/fabric/vendor/golang.org/x/net/http2.readFrameHeader(0xc000242578, 0x9, 0x9, 0x1188c80, 0xc00029b500, 0x0, 0x0, 0xc000438388, 0xc00027deb0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/net/http2/frame.go:237 +0x7b
 14:36:01 github.com/hyperledger/fabric/vendor/golang.org/x/net/http2.(*Framer).ReadFrame(0xc000242540, 0xc0004c2d00, 0xc0004c2d00, 0x0, 0x0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/golang.org/x/net/http2/frame.go:492 +0xa3
 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).HandleStreams(0xc00040e000, 0xc00032b830, 0x10e9af8)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:429 +0x7c
 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).serveStreams(0xc0002f1380, 0x119e5c0, 0xc00040e000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:682 +0xdd
 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn.func1(0xc0002f1380, 0x119e5c0, 0xc00040e000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:644 +0x43
 14:36:01 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).handleRawConn
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:643 +0x57e
 14:36:01 
 14:36:01 goroutine 1085 [chan receive, 1 minutes]:
 14:36:01 testing.(*T).Parallel(0xc0004fe000)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa
 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderElectionWithRealGossip(0xc0004fe000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:383 +0x43
 14:36:01 testing.tRunner(0xc0004fe000, 0x10e83b0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
 14:36:01 created by testing.(*T).Run
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353
 14:36:01 
 14:36:01 goroutine 72 [chan receive, 2 minutes]:
 14:36:01 testing.(*T).Parallel(0xc000246100)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:732 +0x1fa
 14:36:01 github.com/hyperledger/fabric/gossip/service.TestLeaderElectionWithDeliverClient(0xc000246100)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/service/gossip_service_test.go:113 +0x43
 14:36:01 testing.tRunner(0xc000246100, 0x10e83a8)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827 +0xbf
 14:36:01 created by testing.(*T).Run
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/testing/testing.go:878 +0x353
 14:36:01 
 14:36:01 goroutine 1194 [sleep]:
 14:36:01 time.Sleep(0x5d21dba00)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc000360140, 0xc000346920, 0xc000230470, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4
 14:36:01 
 14:36:01 goroutine 1988 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.(*http2Server).keepalive(0xc00040e000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:921 +0x1e4
 14:36:01 created by github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport.newHTTP2Server
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/internal/transport/http2_server.go:282 +0xdc6
 14:36:01 
 14:36:01 goroutine 1425 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).handleMessages(0xc000240120)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:185 +0x294
 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:174 +0x60
 14:36:01 
 14:36:01 goroutine 1140 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00011e580)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
 14:36:01 
 14:36:01 goroutine 1187 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handlePresumedDead(0xc0002d6000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:278 +0x1e9
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:299 +0x65
 14:36:01 
 14:36:01 goroutine 1523 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc000248fc0, 0xc0003ab020, 0xc0003ab080)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce
 14:36:01 
 14:36:01 goroutine 1115 [sleep]:
 14:36:01 time.Sleep(0x77359400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc0004b4300, 0x77359400)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1
 14:36:01 
 14:36:01 goroutine 1525 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept.func2(0xc0002d6000, 0xc0003ab0e0, 0xc0003ab140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:821 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:819 +0xdf
 14:36:01 
 14:36:01 goroutine 1533 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept.func2(0xc0002d6000, 0xc0003ab4a0, 0xc0003ab500)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:821 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:819 +0xdf
 14:36:01 
 14:36:01 goroutine 1527 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).listen(0xc0004b5280)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:252 +0x129
 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:237 +0x60c
 14:36:01 
 14:36:01 goroutine 1156 [sleep]:
 14:36:01 time.Sleep(0x77359400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc00024ac00, 0x77359400)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1
 14:36:01 
 14:36:01 goroutine 1517 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc0000e4120, 0xc0003aab40, 0xc0003aaba0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce
 14:36:01 
 14:36:01 goroutine 1188 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept.func1(0xc000248fc0, 0xc00052f020, 0xc00052f080)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:351 +0x186
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*commImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:345 +0x1ce
 14:36:01 
 14:36:01 goroutine 1530 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/state.(*GossipStateProviderImpl).processStateRequests(0xc0004b5280)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:367 +0x109
 14:36:01 created by github.com/hyperledger/fabric/gossip/state.NewGossipStateProvider
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/state/state.go:243 +0x672
 14:36:01 
 14:36:01 goroutine 1155 [sleep]:
 14:36:01 time.Sleep(0x1dcd6500)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*batchingEmitterImpl).periodicEmit(0xc000412f00)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/batcher.go:62 +0x2c
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.newBatchingEmitter
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/batcher.go:54 +0x150
 14:36:01 
 14:36:01 goroutine 1532 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).handleMessages(0xc0002403f0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:185 +0x294
 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:174 +0x60
 14:36:01 
 14:36:01 goroutine 1157 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/msgstore.(*messageStoreImpl).expirationRoutine(0xc00024ac80)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:240 +0xde
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/msgstore.NewMessageStoreExpirable
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/msgstore/msgs.go:53 +0xb2
 14:36:01 
 14:36:01 goroutine 1993 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection(0xc0002ee370, 0xf, 0xc00036a158)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:291 +0x21a
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*connectionStore).getConnection
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:121 +0x4a3
 14:36:01 
 14:36:01 goroutine 1137 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/identity.(*identityMapperImpl).periodicalPurgeUnusedIdentities(0xc0004f8150)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:92 +0xff
 14:36:01 created by github.com/hyperledger/fabric/gossip/identity.NewIdentityMapper
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/identity/identity.go:85 +0x210
 14:36:01 
 14:36:01 goroutine 1534 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*adapterImpl).Accept.func2(0xc0003ab500, 0xc000444ba0, 0xc000444a80)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/adapter.go:107 +0xe7
 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*adapterImpl).Accept
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/adapter.go:105 +0xd3
 14:36:01 
 14:36:01 goroutine 1146 [sleep]:
 14:36:01 time.Sleep(0x77359400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).syncDiscovery(0xc00010e000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:293 +0x198
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:298 +0x43
 14:36:01 
 14:36:01 goroutine 1100 [sleep]:
 14:36:01 time.Sleep(0x77359400)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter.func1(0xc0004f6100, 0x77359400)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:130 +0x43
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip/algo.NewPullEngineWithFilter
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/algo/pull.go:128 +0x2d1
 14:36:01 
 14:36:01 goroutine 1154 [IO wait, 1 minutes]:
 14:36:01 internal/poll.runtime_pollWait(0x7fa42506c6e0, 0x72, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/netpoll.go:173 +0x66
 14:36:01 internal/poll.(*pollDesc).wait(0xc00024ab18, 0x72, 0xc0001da000, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:85 +0x9a
 14:36:01 internal/poll.(*pollDesc).waitRead(0xc00024ab18, 0xffffffffffffff00, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_poll_runtime.go:90 +0x3d
 14:36:01 internal/poll.(*FD).Accept(0xc00024ab00, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/internal/poll/fd_unix.go:384 +0x1a0
 14:36:01 net.(*netFD).accept(0xc00024ab00, 0xc000316320, 0x0, 0x0)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/fd_unix.go:238 +0x42
 14:36:01 net.(*TCPListener).accept(0xc00000e058, 0xc000075e90, 0xc000075e98, 0x18)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/tcpsock_posix.go:139 +0x2e
 14:36:01 net.(*TCPListener).Accept(0xc00000e058, 0x10e9a90, 0xc0002f1380, 0x119d5a0, 0xc000316320)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/net/tcpsock.go:260 +0x47
 14:36:01 github.com/hyperledger/fabric/vendor/google.golang.org/grpc.(*Server).Serve(0xc0002f1380, 0x11997e0, 0xc00000e058, 0x0, 0x0)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/google.golang.org/grpc/server.go:557 +0x210
 14:36:01 github.com/hyperledger/fabric/gossip/comm.NewCommInstanceWithServer.func1(0xc000248fc0, 0xc0002f1380, 0x11997e0, 0xc00000e058)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:101 +0x6d
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.NewCommInstanceWithServer
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/comm_impl.go:99 +0x709
 14:36:01 
 14:36:01 goroutine 1121 [sleep]:
 14:36:01 time.Sleep(0x5d21dba00)
 14:36:01 /opt/go/go1.11.1.linux.amd64/src/runtime/time.go:105 +0x14f
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect.func1(0xc00010e140, 0xc000266300, 0xc0001e8320, 0xf, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:166 +0x1c9
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).Connect
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:158 +0x2a4
 14:36:01 
 14:36:01 goroutine 1612 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).follower(0xc000240120)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:322 +0x248
 14:36:01 github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).run(0xc000240120)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:266 +0xbd
 14:36:01 created by github.com/hyperledger/fabric/gossip/election.(*leaderElectionSvcImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/election/election.go:176 +0x9e
 14:36:01 
 14:36:01 goroutine 1145 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/discovery.(*gossipDiscoveryImpl).handlePresumedDeadPeers(0xc00010e140)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:286 +0x186
 14:36:01 created by github.com/hyperledger/fabric/gossip/discovery.NewDiscoveryService
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/discovery/discovery_impl.go:132 +0x4e5
 14:36:01 
 14:36:01 goroutine 1147 [select, 1 minutes]:
 14:36:01 github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).handlePresumedDead(0xc00010e000)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:278 +0x1e9
 14:36:01 created by github.com/hyperledger/fabric/gossip/gossip.(*gossipServiceImpl).start
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/gossip/gossip_impl.go:299 +0x65
 14:36:01 
 14:36:01 goroutine 1963 [select]:
 14:36:01 github.com/hyperledger/fabric/gossip/comm.(*connection).writeToStream(0xc00057e840)
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:312 +0x106
 14:36:01 created by github.com/hyperledger/fabric/gossip/comm.(*connection).serviceConnection
 14:36:01 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/gossip/comm/conn.go:288 +0x119{code}
 ",,C0rWin,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-12068,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006fj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,skarim,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 7:27 AM;C0rWin;This is a duplicate of FAB-12068, since describes same failure pattern;;;",,,,,,,,,,,,,,,,,,,,,,,,
Etcdraft leader crash and failover integration test,FAB-13643,36705,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,12/Jan/19 5:36 AM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,15/Jan/19 4:43 AM,,,,,,,,,,fabric-orderer,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006fr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jan/19 6:11 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28648/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Move away from deprecated prometheus handler,FAB-13644,36706,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,sykesm,sykesm,12/Jan/19 7:25 AM,15/Jan/19 4:44 AM,28/Oct/23 3:04 AM,15/Jan/19 4:44 AM,,,,,,v1.4.1,v2.0.0,,,,,,,0,,,,"A comment was added to the handler method a few months ago.

{code}
// Deprecated: Please note the issues described in the doc comment of
// InstrumentHandler. You might want to consider using promhttp.Handler instead.
{code}

So, switch to the new handler method.",,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006fz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Move Fab3 structs to its own file,FAB-13645,36707,,Task,Closed,FAB,Fabric,software,denyeart,,,Lowest,Won't Do,,swetharepakula,swetharepakula,12/Jan/19 8:16 AM,23/Jan/20 7:32 AM,28/Oct/23 3:04 AM,23/Jan/20 7:32 AM,,,,,,,,,,,,,,0,stale-item,,,"Due to the style of gorilla rpc many argument and response structs have been created.

 

For code cleanliness lets move the structs out of ethservice.go into its own file. ",,swetharepakula,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006g7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),swetharepakula,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"23/Jan/20 7:32 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,,,,
refactor getGoEnv() to support windows,FAB-13646,36710,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kutenglaoshu,kutenglaoshu,kutenglaoshu,12/Jan/19 11:34 AM,13/Jan/19 7:30 PM,28/Oct/23 3:04 AM,13/Jan/19 7:30 PM,,,,,,,,,,,,,,0,,,,"on windows run go env, show like:

PS C:\Users\laoshu> go env
set GOARCH=amd64
set GOBIN=
set GOCACHE=C:\Users\laoshu\AppData\Local\go-build
set GOEXE=.exe
set GOFLAGS=
set GOHOSTARCH=amd64
set GOHOSTOS=windows
set GOOS=windows

so need to TrimPrefix ""set ""


",,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006gv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
rename mux to mutex in leveldb helper,FAB-13647,36711,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,Senthil1,Senthil1,Senthil1,12/Jan/19 11:41 AM,13/Jan/19 9:02 PM,28/Oct/23 3:04 AM,13/Jan/19 9:02 PM,,,,,,v2.0.0,,,,fabric-ledger,,,,0,,,,,,Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006h3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),Senthil1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Add v20 validation capability,FAB-13648,36712,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,ales,ales,12/Jan/19 8:41 PM,12/Jan/19 9:02 PM,28/Oct/23 3:04 AM,12/Jan/19 8:44 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006hb:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add v20 validation capability,FAB-13649,36713,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,12/Jan/19 8:41 PM,16/Jan/19 7:19 PM,28/Oct/23 3:04 AM,16/Jan/19 7:19 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006hj:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Clone v1.4 validation component,FAB-13650,36714,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,12/Jan/19 8:58 PM,16/Jan/19 7:20 PM,28/Oct/23 3:04 AM,16/Jan/19 7:20 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006hr:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
intermittent test failure in TestMembershipConvergence,FAB-13651,36715,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Invalid: Works as Expected,,sykesm,sykesm,12/Jan/19 11:15 PM,04/Dec/19 5:24 AM,28/Oct/23 3:04 AM,04/Dec/19 5:24 AM,,,,,,,,,,fabric-gossip,,,,0,ci-flake,,,"Hit in https://gerrit.hyperledger.org/r/c/28666/

https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-verify-unit-tests-x86_64/7859
{code}
23:17:03 --- FAIL: TestMembershipConvergence (584.16s)
23:17:03     gossip_test.go:799: Sets of peers connected successfully
23:17:03     gossip_test.go:1531: 
23:17:03         	Error Trace:	gossip_test.go:1531
23:17:03         	            				asm_amd64.s:1333
23:17:03         	Error:      	Didn't stop within a timely manner
23:17:03         	Test:       	TestMembershipConvergence
23:17:03     gossip_test.go:1591: 
23:17:03         	Error Trace:	gossip_test.go:1591
23:17:03         	            				gossip_test.go:816
23:17:03         	Error:      	Timeout expired!
23:17:03         	Test:       	TestMembershipConvergence
23:17:03     gossip_test.go:818: Stopping connector...
23:17:03     gossip_test.go:820: Stopped
23:17:03     gossip_test.go:1591: 
23:17:03         	Error Trace:	gossip_test.go:1591
23:17:03         	            				gossip_test.go:832
23:17:03         	Error:      	Timeout expired!
23:17:03         	Test:       	TestMembershipConvergence
23:17:03     gossip_test.go:836: Started connector
23:17:03     gossip_test.go:1591: 
23:17:03         	Error Trace:	gossip_test.go:1591
23:17:03         	            				gossip_test.go:850
23:17:03         	Error:      	Timeout expired!
23:17:03         	Test:       	TestMembershipConvergence
23:17:03     gossip_test.go:854: Stopping peers
23:17:03     gossip_test.go:861: Took 9m44.162197944s
{code{",,C0rWin,caod,guoger,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"07/May/19 7:20 AM;MHBauer;11903-logunitForFAB-13651.txt;https://jira.hyperledger.org/secure/attachment/17211/11903-logunitForFAB-13651.txt",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006hz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,caod,guoger,MHBauer,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"03/Apr/19 6:19 PM;C0rWin;There was line of work in master (v2.0.0) to take care of major root causes for gossip flaky tests, now to address those flakes for 1.4 fixes being backported:

https://gerrit.hyperledger.org/r/#/c/30632/
https://gerrit.hyperledger.org/r/#/c/30633/
https://gerrit.hyperledger.org/r/#/c/30634/
https://gerrit.hyperledger.org/r/#/c/30635/
https://gerrit.hyperledger.org/r/#/c/30636/
https://gerrit.hyperledger.org/r/#/c/30636/
https://gerrit.hyperledger.org/r/#/c/30672/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30673/
https://gerrit.hyperledger.org/r/#/c/30676/
https://gerrit.hyperledger.org/r/#/c/30677/
https://gerrit.hyperledger.org/r/#/c/30678/
;;;","07/Apr/19 3:31 AM;C0rWin;Closing since stack of CRs above has been ported, they assumed to fix reported issue;;;","05/May/19 1:19 PM;guoger;Not sure if this is the same issue but hit another failure in this UT:
https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11903/consoleFull
{code}
11:32:20 --- FAIL: TestMembershipConvergence (207.18s)
11:32:20     gossip_test.go:904: Sets of peers connected successfully
11:32:20     gossip_test.go:925: Stopping connector...
11:32:20     gossip_test.go:927: Stopped
11:32:20     gossip_test.go:1688: 
11:32:20         	Error Trace:	gossip_test.go:1688
11:32:20         	            				asm_amd64.s:1333
11:32:20         	Error:      	Didn't stop within a timely manner
11:32:20         	Test:       	TestMembershipConvergence
11:32:20     gossip_test.go:1747: 
11:32:20         	Error Trace:	gossip_test.go:1747
11:32:20         	            				gossip_test.go:939
11:32:20         	Error:      	Timeout expired, while %s
11:32:20         	Test:       	TestMembershipConvergence
11:32:20         	Messages:   	waiting to ensure we evicted stopped connector
11:32:20     gossip_test.go:945: Started connector
11:32:20     gossip_test.go:963: Stopping peers
11:32:20     gossip_test.go:970: Took 3m27.179234669s
11:32:20 FAIL
{code};;;","07/May/19 7:21 AM;MHBauer;from that most recently reported log, there are other previous test failures, and from the logs, the Stop for all peers is timing out. I think that's an underlying issue for several of these flakes.;;;","07/May/19 7:23 AM;MHBauer;I was reading it wrong, this is another test where it fails in the middle and then keeps running.;;;","04/Dec/19 5:24 AM;caod;Closing as we've now moved to Azure pipelines and haven't seen this flake in some time. Reopen as needed if seen again on Azure.;;;",,,,,,,,,,,,,,,,,,,
Intermittent test failure in grpc logging test suite: logs the unknown code [BeforeEach],FAB-13652,36716,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,guoger,guoger,13/Jan/19 12:00 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,20/Jan/19 10:22 PM,,,,,,v2.0.0,,,,fabric-common,,,,0,ci-flake,,,"{code}
22:22:13 ------------------------------
22:22:13 • Failure in Spec Setup (BeforeEach) [0.790 seconds]
22:22:13 Server
22:22:13 /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:36
22:22:13   StreamServerInterceptor
22:22:13   /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:356
22:22:13     when the stream ends with an unknown error
22:22:13     /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:518
22:22:13       logs the unknown code [BeforeEach]
22:22:13       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:534
22:22:13 
22:22:13       Expected error:
22:22:13           <*errors.errorString | 0xc000098030>: {s: ""EOF""}
22:22:13           EOF
22:22:13       not to have occurred
22:22:13 
22:22:13       /w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/common/grpclogging/server_test.go:529
22:22:13 ------------------------------
{code}",,guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006i7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jan/19 12:23 AM;sykesm;Logs? Build reference?;;;","19/Jan/19 2:49 AM;sykesm;https://gerrit.hyperledger.org/r/28814 [FAB-13652] consume stream message before return;;;",,,,,,,,,,,,,,,,,,,,,,,
TestTicker/Stop_ticker_serially failed in CI,FAB-13653,36717,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,13/Jan/19 12:02 AM,03/Apr/19 10:35 AM,28/Oct/23 3:04 AM,02/Apr/19 6:28 AM,,,,,,v1.4.1,v2.0.0,,,fabric-orderer,,,,0,ci-flake,,,"16:35:21 --- FAIL: TestTicker (0.08s)
16:35:21     --- FAIL: TestTicker/Stop_ticker_serially (0.02s)
16:35:21         <autogenerated>:1: 
16:35:21             	Error Trace:	sched_test.go:48
16:35:21             	Error:      	Should be false
16:35:21             	Test:       	TestTicker/Stop_ticker_serially



https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7883/console",,C0rWin,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006if:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,denyeart,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"13/Jan/19 6:38 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28678/;;;","02/Apr/19 4:08 AM;denyeart;Hit again in release-1.4:
https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/11190/console 

[~yacovm] I assume the master fix simply needs to be cherry picked to release-1.4?;;;","02/Apr/19 4:49 AM;C0rWin;[~denyeart] https://gerrit.hyperledger.org/r/#/c/30607/;;;",,,,,,,,,,,,,,,,,,,,,,
Guard against change of etcdraft time parameters,FAB-13654,36719,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,adarshsaraf123,guoger,guoger,13/Jan/19 5:53 PM,28/Feb/19 5:00 AM,28/Oct/23 3:04 AM,26/Feb/19 4:29 PM,,,,,,v1.4.1,,,,fabric-orderer,,,,0,raft,,,"{code}
        # Options to be specified for all the etcd/raft nodes. The values here
        # are the defaults for all new channels and can be modified on a
        # per-channel basis via configuration updates.
        Options:
            # TickInterval is the time interval between two Node.Tick
            # invocations.
            # Unit: millisecond
            TickInterval: 100

            # ElectionTick is the number of Node.Tick invocations that must pass
            # between elections. That is, if a follower does not receive any
            # message from the leader of current term before ElectionTick has
            # elapsed, it will become candidate and start an election.
            # ElectionTick must be greater than HeartbeatTick.
            ElectionTick: 10

            # HeartbeatTick is the number of Node.Tick invocations that must
            # pass between heartbeats. That is, a leader sends heartbeat
            # messages to maintain its leadership every HeartbeatTick ticks.
            HeartbeatTick: 1

            # MaxInflightMsgs limits the max number of in-flight append messages
            # during optimistic replication phase.
            MaxInflightMsgs: 256

            # MaxSizePerMsg limits the max size of each append message. Smaller
            # value lowers the raft recovery cost(initial probing and message
            # lost during normal operation). On the other side, it might affect
            # the throughput during normal replication.
            MaxSizePerMsg: 1048576
{code}
Once chain is started with initial settings of these values, changing them does not take effect. And we should explicitly guard against configuring them.",,adarshsaraf123,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13804,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006iv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),adarshsaraf123,guoger,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 7:26 PM;guoger;If there's a requirement:
bq. i'm moving my cluster from LAN to WAN, and i want a longer tick interval. 
would this be solved by:
- send config update to change tick interval
- it doesn't take effect immediately
- it takes effect on next reboot

however, if some of nodes are rebooted, but some others are not, we have an unstable cluster. although i think user should have a very justifiable reason to bring down all nodes, migrate data to another environment, and reboot.

Just something to think about.;;;","30/Jan/19 5:37 PM;adarshsaraf123;I can volunteer to take this up once I finish up my current tasks.;;;","23/Feb/19 1:44 AM;guoger;[~adarshsaraf123] are you still willing to tackle this? i think this should be fixed in v1.4.1 timeframe;;;","26/Feb/19 11:58 AM;kchristidis;We discussed this earlier today, and we said we should try to implement this in time for 1.4.1, but based on discussions I had earlier today with folks who will be using this for a hosted service offering, I think we should go back to what we had written [here|https://jira.hyperledger.org/browse/FAB-11861?focusedCommentId=49914&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-49914]: we shouldn't be too clever with processing these updates. If a node wishes to pick up the new values, the administrator will have to reboot it. The issue is that someone may reboot the node, and someone else may not, so we have two nodes running on different settings, but I don't expect folks to touch these settings anyway, and if they do, they should get on the phone and be ready to reboot.

The main reason for this is that, even though the ordering service administrators do their best to come up with educated guesses for the optimal tick interval, they may get the setting wrong, and they need to have a way to update it.

I understand the risks involved with pushing changes and having only one node pick them up, but we should not forget the environment we're operating in. This is still CFT and modification of these changes will most likely be guarded by a majority of admins, _and_ I suspect that any modifications to, say, {{TickIntervall}} are only going to be marginal (say, from 600 ms to 500 ms). So even when there's no synchronized restarting of all the nodes in the channel, the restarted nodes will only get a slight edge (or handicap).

[~guoger] [~adarshsaraf123] [~yacovm]: Any strong disagreements on shelving this JIRA?;;;","26/Feb/19 2:45 PM;adarshsaraf123;I don't have any disagreement with this per se. 
However, I am wondering if it will not be enough to just restart the Raft node without restarting the etcdraft Chain. I am hoping this can reuse the infrastructure setup for the consenter set changes: you do not do anything else until the Raft node is restarted. 
Maybe, if there is a need to, we can also instantiate a new Raft node for the same Chain object with the new parameters. This new Raft node can anyways continue from where the older one left off thanks to snapshots and WAL. 

[~guoger] Do you see any challenges with this? I cannot be too sure but I _think_ it should be possible. ;;;","26/Feb/19 4:28 PM;guoger;[~kchristidis] to echo what we discussed earlier, i agree that users should still be able to reconfigure and reboot *all* nodes, in order to change those settings. so we don't need to touch this.

[~adarshsaraf123] this approach comes with certain complications - it essentially equals to _rebooting all nodes in this channel_, however, *implicitly without admins knowing it*. what if a node is late to the party and keeps operating in old settings, which results in unstable network. What makes it worse is that admin _may not_ reboot nodes now to solve the problem, because lagged node will always be the naughty boy in the room.

To properly reconfigure time settings, admin should:
 - send ConfigUpdate
 - pull latest config block from *all* nodes to make sure they are in sync
 - reboot *all* nodes.;;;","26/Feb/19 4:29 PM;guoger;Close for now. If this becomes an actual problem at certain point of time, feel free to re-open.;;;",,,,,,,,,,,,,,,,,,
Reconfiguring `SnapshotInterval` should take effect,FAB-13655,36720,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,13/Jan/19 5:54 PM,07/Mar/19 3:47 AM,28/Oct/23 3:04 AM,07/Mar/19 3:47 AM,,,,,,v1.4.1,v2.0.0,,,fabric-orderer,,,,0,raft,,,Currently it doesn't.,,denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006j3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"28/Feb/19 3:56 PM;guoger;https://gerrit.hyperledger.org/r/c/29696/;;;","05/Mar/19 11:58 PM;denyeart;Merged in master, need CR in release-1.4.;;;",,,,,,,,,,,,,,,,,,,,,,,
Take Snapshot by size instead of # of blocks,FAB-13656,36721,33490,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,guoger,guoger,guoger,13/Jan/19 5:56 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,09/Feb/19 5:19 AM,,,,,,,,,,,,,,0,,,,"Currently, Snapshot is taken every X blocks. Although it makes more sense to take snapshot every Y MB in size.

A default value (100MB) should also be set, so we avoid OOM due to memory never being compacted.",,guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-14065,,,,,,,,,,,,,,,,,,,,FAB-14065,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006jb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/19 3:45 AM;guoger;https://gerrit.hyperledger.org/r/c/29152/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove explicit capability checks,FAB-13657,36722,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,13/Jan/19 8:30 PM,16/Jan/19 7:20 PM,28/Oct/23 3:04 AM,16/Jan/19 7:20 PM,,,,,,,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006jj:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Failed to Instantiate Chaincode,FAB-13659,36725,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,GingerMoon,GingerMoon,GingerMoon,14/Jan/19 3:51 AM,15/Jan/19 3:55 AM,28/Oct/23 3:04 AM,15/Jan/19 1:15 AM,,,,,,,,,,fabric-peer,,,,0,,,,"I got the error below when instantiating my chaincode from within the CLI container:
{code:java}
peer chaincode instantiate -o $ORDER_CONTAINER:7050  -C $CHANNEL_NAME -n mycc6 -v 1.0 -c '{""Args"":[""init"",""a"", ""100"", ""b"",""200""]}' -P ""AND ('Org1MSP.peer','Org2MSP.peer')""2019-01-13 15:20:46.684 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc2019-01-13 15:20:46.684 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vsccError: could not assemble transaction, err proposal response was not successful, error code 500, msg timeout expired while starting chaincode mycc6:1.0 for transaction
{code}
{code:java}
 
{code}
The docker-compose-cli.yaml, peer log are attached.

 

I found that the container for the chaincode exits. This issue seems to be caused by the connection failure between the cc container and the peer container:
{code:java}
docker logs -f 1ff4f4d3191d
2019-01-14 08:28:45.372 UTC [shim] userChaincodeStreamGetter -> ERRO 001 context deadline exceeded
error trying to connect to local peer
github.com/chaincode/chaincode_example02/go/vendor/github.com/hyperledger/fabric/core/chaincode/shim.userChaincodeStreamGetter
        /chaincode/input/src/github.com/chaincode/chaincode_example02/go/vendor/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:112
github.com/chaincode/chaincode_example02/go/vendor/github.com/hyperledger/fabric/core/chaincode/shim.Start
        /chaincode/input/src/github.com/chaincode/chaincode_example02/go/vendor/github.com/hyperledger/fabric/core/chaincode/shim/chaincode.go:151
main.main
        /chaincode/input/src/github.com/chaincode/chaincode_example02/go/payment_cc.go:221
runtime.main
        /opt/go/src/runtime/proc.go:201
runtime.goexit
        /opt/go/src/runtime/asm_amd64.s:1333
2019-01-14 08:28:45.373 UTC [payment_cc] Errorf -> ERRO 002 Error starting payment chaincode: error trying to connect to local peer: context deadline exceeded

{code}
The inspect of the cc container is also attached.
""Args"": [
""-peer.address=10.255.xxx.xxx:7052""
],
 
 ",,denyeart,GingerMoon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 3:47 AM;GingerMoon;docker-compose-cli.yaml;https://jira.hyperledger.org/secure/attachment/16533/docker-compose-cli.yaml","14/Jan/19 6:21 PM;GingerMoon;inspect cc container.log;https://jira.hyperledger.org/secure/attachment/16539/inspect+cc+container.log","14/Jan/19 3:47 AM;GingerMoon;peer error.log;https://jira.hyperledger.org/secure/attachment/16534/peer+error.log",,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006k7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,GingerMoon,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 3:55 AM;GingerMoon;Added two similar issues.;;;","14/Jan/19 4:46 AM;denyeart;Removed one of the Related To bugs since it was specific to node chaincode.;;;","15/Jan/19 1:12 AM;GingerMoon;It'ts not a bug. The reason is I did not set the correct configuration.

The wrong configuration:

- CORE_PEER_ADDRESS=0.0.0.0:7051;;;","15/Jan/19 3:55 AM;denyeart;Ok, but receiving a timeout instead of the root cause error message could potentially be improved.  If you can provide more detailed recreation steps to force the timeout scenario, it could potentially be improved.;;;",,,,,,,,,,,,,,,,,,,,,
restart follower OSNs with multiple-threads sending transactions and multiple TX per block,FAB-13660,36726,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,14/Jan/19 11:13 AM,24/Jul/19 5:59 AM,28/Oct/23 3:04 AM,24/Jul/19 5:59 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"+SETUP+:
 Create network as in FAB-13641: 3 orgs, 1 peers per org, 3 raft orderers, and create 1 application channel.

+INPUTS+ (scenario 1):
 # Start transactions running in 3 threads with PTE running in ""constant mode"" which sends the next transaction once the previous transaction is broadcast to an orderer, as in FAB-13641: 1 thread to org1.peer1, 1 thread to org2.peer1, 1 thread to org3.peer1.
 # The client should be configured to broadcast transactions to different orderers (e.g. the client thread that sends to org1.peer1 could send to orderer1, etc).
 # Check orderer logs to determine which orderer is the leader (could be any of the three).
 # While the traffic is running, stop and start a follower orderer of the application channel.

+EXPECTATIONS+:
 * In the orderers that are not stopped, for the system channel and for each channel shared with the stopped orderer, we can expect to see an error log when their connection drops to the stopped orderer (followed by an info log indicating its recovery, whenever it is started again). Or something like that. The exact number of logs and loglevels to expect for each channel are described in FAB-12687.
 * Expect something less than the max of 30,002 transactions, delivered in a much smaller number of blocks since batchsize=500. We can expect to see NAK'd transactions reported by the client (e.g. those TXs that are sent blindly to the stopped orderer while it is stopped or not yet rejoined to the consensus group), and possibly lost transactions if the orderer receives and ACKs a TX but is stopped before forwarding it to the leader.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13447,FAB-13641,,,,,,,,,,,,,,,FAB-13661,,,,,,,,,,,,,,FAB-13641,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i006ki:",,,,Unset,Unset,Week ending 2019-Feb-01,,(Please add steps to reproduce),,Unset,,,,,,Pass,"Pulled image on Monday, 1/28, morning.",System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
restart leader OSN with multiple-threads sending transactions and multiple TX per block,FAB-13661,36727,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,scottz,scottz,14/Jan/19 11:31 AM,24/Jul/19 5:59 AM,28/Oct/23 3:04 AM,24/Jul/19 5:59 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"+SETUP+:
Create network as in FAB-13641: 3 orgs, 2 peers per org, 3 raft orderers, and create 1 application channel.

+INPUTS+ (scenario 1):
# Start transactions running in 3 threads with PTE running in ""constant mode"" which sends the next transaction once the previous transaction is broadcast to an orderer, as in FAB-13641: 1 thread to org1.peer1, 1 thread to org2.peer1, 1 thread to org3.peer1.
# The client should be configured to broadcast transactions to different orderers (e.g. the client thread that sends to org1.peer1 could send to orderer1, etc), so all orderers are receiving transactions.
# Check orderer logs to determine which orderer is the leader (could be any of the three).
# While the traffic is running, stop and start the application channel leader OSN.

+EXPECTATIONS+:
* In the orderers that are not stopped, for the system channel and for each channel shared with the stopped orderer, we can expect to see an error log when their connection drops to the stopped orderer (followed by an info log indicating its recovery, whenever it is started again). Or something like that. The exact number of logs and loglevels to expect for each channel are described in FAB-12687.
* The orderers that are not stopped will elect a new leader among themselves. This should happen rather quickly within a few seconds. And we should see only one leader change.
* Expect something less than the max of 30,002 transactions delivered. Also, with batchsize = 500, we can expect a much smaller number of blocks (athough we do not expect each block to be full). We can expect to see NAK'd transactions reported by the client (e.g. those TXs that are sent blindly to the stopped orderer while it is stopped or not yet rejoined to the consensus group), and more transactions lost if the stopped leader orderer had any partially filled blocks of transactions that had not been replicated to both other orderers yet.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13447,FAB-13641,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13660,FAB-13641,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i006ko:8",,,,Unset,Unset,Week ending 2019-Feb-01,,(Please add steps to reproduce),,Unset,,,,,,Pass,"Pulled image on Monday, 1/28, morning.",System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Installing 1.3.0 fabric-ca version after the 1.4.0-rc2 version,FAB-13662,36546,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,PPentakotaBC,PPentakotaBC,PPentakotaBC,08/Jan/19 11:36 AM,13/May/23 1:43 PM,28/Oct/23 3:04 AM,04/Apr/19 8:15 PM,v1.3.0,v1.4.0,,,,v1.4.1,,,,fabric-docs,,,,0,,,,"Hello

After 1.4.0-rc2 version update there is an error with the command 
""curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0"" it's referring to ""https://raw.githubusercontent.com/hyperledger/fabric/master/scripts/bootstrap.sh"" internally and it's downloading the 1.4.0-rc2 version of fabric-ca and all others( fabric-tools, fabric-peer, fabric-orderer etc) 1.3.0 version Is getting downloaded. 
Due to this facing issues while running fabric samples.",,denyeart,mastersingh24,PPentakotaBC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"08/Jan/19 11:35 AM;PPentakotaBC;Screenshot 2019-01-08 at 8.05.27 AM.png;https://jira.hyperledger.org/secure/attachment/16509/Screenshot+2019-01-08+at+8.05.27+AM.png",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i005c7:",,,,Unset,Unset,,,"1. Open the terminal in Mac OS
2. Run the following command ""sudo curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0""
3. Enter your password
4. Fabric samples, binaries and docker files would be downloaded.
5. Run the command ""docker images""
6. you will be able to see following versions
hyperledger/fabric-ca          1.4.0-rc2
hyperledger/fabric-javaenv     1.3.0 
hyperledger/fabric-tools       1.3.0  
hyperledger/fabric-ccenv       1.3.0  

Due to this variations in version we're facing the errors.",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,mastersingh24,PPentakotaBC,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"14/Jan/19 12:28 PM;denyeart;To download all components at 1.3.0 level, you need to execute:
{code:java}
curl -sSL http://bit.ly/2ysbOFE | bash -s 1.3.0 1.3.0 0.4.13{code}
The Fabric documentation needs to be clarified.;;;","04/Apr/19 8:15 PM;mastersingh24;This was done a while back;;;",,,,,,,,,,,,,,,,,,,,,,,
refactor getChaincodeDeploymentSpec,FAB-13663,36728,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,kutenglaoshu,kutenglaoshu,kutenglaoshu,14/Jan/19 12:52 PM,18/Jan/19 6:05 AM,28/Oct/23 3:04 AM,18/Jan/19 6:05 AM,,,,,,v2.0.0,,,,,,,,0,,,,"The purpose is to support dev mode.

In dev mode, when we run:
     peer chaincode install -n mycc -v 1.0 -l golang -p github.com/example02
 It will return:
     Error: Bad response: 500 - nil code package

Because ""chaincode.IsDevMode() == false"", see below code:

func getChaincodeDeploymentSpec(spec *pb.ChaincodeSpec, crtPkg bool) (*pb.ChaincodeDeploymentSpec, error) {
     var codePackageBytes []byte
     if chaincode.IsDevMode() == false && crtPkg

{     ...         codePackageBytes, err = container.GetChaincodePackageBytes(platformRegistry, spec)     ...     }

    chaincodeDeploymentSpec := &pb.ChaincodeDeploymentSpec\{ChaincodeSpec: spec, CodePackage: codePackageBytes}
     return chaincodeDeploymentSpec, nil
 }

That is in dev mode, getChaincodeDeploymentSpec did not get chaincode packageBytes, also we can find the reason from the code flow:

lscc Invoke()>executeInstall()>ExtractStatedbArtifactsForChaincode->ExtractStatedbArtifactsFromCCPackage->GetMetadataAsTarEntries()->getCode()

func (tgzProv *TargzMetadataProvider) getCode() ([]byte, error) {
     if tgzProv.Code == nil

{         return nil, errors.New(""nil code package"")     }

    return tgzProv.Code, nil
 }

So, if we remove ""chaincode.IsDevMode() == false &&"", all will ok.",,kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006kv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),kutenglaoshu,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Service discovery and private collections,FAB-13664,36732,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,,gstylianou,gstylianou,14/Jan/19 7:08 PM,23/Jan/20 7:34 AM,28/Oct/23 3:04 AM,23/Jan/20 7:34 AM,,,,,,,,,,,,,,0,stale-item,,,"I have a channel that has private collections. All the policies for the private collections and chaincode are 'OR'. Therefore, service discovery is not required for endorsement. Everything works correctly, chaincode and private chaincode, when service discovery is not enabled. 

However, when service discovery is enabled private collections related chaincode doesn't work correctly and the results are wrong. What happens?

 

Is this a bug or should we do something extra? Unfortunately, I couldn't find any relevant documentation.

 

*Detailed description of the failing scenario.*

Given 
- three different peers denoted as peerA, peerB, peerC
- three different channels denoted as channelA, channelB, channelC.
- a private collection that is implemented via private chaincode denoted as chaincodeA.
- a function in chaincodeA denoted as functionA, that takes a channel name as a parameter.

and the backend for peerB calls functionA [of chaincodeA] with parameter ChannelB.

*no service discovery;* the request goes through as described.
*with service discovery:* three different requests for each peer are logged. These are:
1. the backend for peerX calls functionA [of chaincodeA] with parameter ChannelA.
2. the backend for peerX calls functionA [of chaincodeA] with parameter ChannelB.
3. the backend for peerX calls functionA [of chaincodeA] with parameter ChannelC.",,denyeart,gstylianou,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006lb:",,,,Unset,Unset,,,"


",,Unset,,,,,,Unset,,Unset,,(Please add usage information),denyeart,gstylianou,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"04/Feb/19 3:10 AM;denyeart;[~gstylianou] I'm not understanding the scenario or the problem. Please update the Description to answer these questions:

Is this a chaincode calling chaincode scenario?  In chaincode calling chaincode scenarios, the call is made on the local peer, so I'm not seeing where service discovery comes into play here. What is the relation between peerB in the scenario and peerX in the results? Is there an actual error message in peer or returned to client?;;;","04/Feb/19 9:01 PM;gstylianou;[~denyeart] 

*Is this a chaincode calling chaincode scenario?*  

No, it is the backend (client) calling chaincode. Service Discovery is used for endorsing the transaction proposal. Currently I am using OR policy which doesn't require Service Discovery. However, when I activate Service Discovery (I want to switch to AND policy) everything works fine except the calls to private chaincode. The effect of this is that a call from one backend (client), of a peer, to a private Chaincode's function is multiplied, i.e. sent to all peers. This is observed via backend and chaincode logs.

 

*What is the relation between peerB in the scenario and peerX in the results? Is there an actual error message in peer or returned to client?*

Of course there is failure because the other peers must not receive the call.  I get errors in the logs. However, everything works just fine, as programmed, without Service Discovery enabled.

One last thing. I have a lot of code running, several peers, several chaincodes, etc. This issue, with Service Discovery enabled, occurs only with private chaincode [private collections]. The rest of the code runs perfectly fine.

 

 ;;;","05/Feb/19 2:26 AM;denyeart;[~gstylianou] Ok, the lack of mention of 'client' in the Description is what was confusing to me.  I understand now that when you say 'backend for peer' you mean 'client for peer'.

So the question is, why is the client making three endorsement requests when only one is needed. That is, is it a problem in the client/SDK, or is the client/SDK simply making three endorsement requests based on the service discovery response.

Which SDK is being used by the application client?  I assume the investigation should start with that SDK.

Alternatively, try the 'discover' CLI and provide the results of the endorser query, see doc at https://hyperledger-fabric.readthedocs.io/en/latest/discovery-cli.html#endorsers-query;;;","23/Jan/20 7:34 AM;sykesm;Stale;;;",,,,,,,,,,,,,,,,,,,,,
 kafka-to-raft migration: Green path #2,FAB-13665,36736,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,14/Jan/19 8:22 PM,03/Mar/19 9:58 PM,28/Oct/23 3:04 AM,13/Feb/19 6:32 PM,,,,,,,,,,,,,,0,,,,"This is the second of four (*2/4*) sub-tasks that focus on the ""green"" path of consensus-type migration from Kafka to Raft. 

By ""green"" we mean that there are no failures or aborts along the way. The flow of the green path and the changes made in these 4 tasks are described below. The 4 sub-tasks are staged in a way that minimizes dependencies between them.

In this sub-task we introduce a new package:  *orderer/consensus/migration* (see details in bold below). In this package we introduce the migration *Status*, which hold the state and context of each chain, and the migration *Stepper*, which enforces the migration state machine in the Kafka chain, post-ordering (i.e. after messages are consumed from Kafka). It also defines the interface of the migration *Controller* which is implemented by the Registrar.

 

The ""green"" path for migration is the following:
 # Start with a Kafka-based ordering service 
 # Send a config update tx (START-TX) on the system channel that:
 ## Has ConsensusType.MigrationState=START
 ## This will disable the creation of new channels
 ## This will disable the processing of normal (standard channel) transactions
 # Wait until the START-TX is committed and get the block height H of that tx
 # Send a config update tx (CONTEXT-TX) on each of the standard channels that:
 ## Has ConsensusType.MigrationState=CONTEXT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## Note: take special care that the metadata is valid!
 ## Note: all the channels should be supplied with the same metadata (same consenters, same options)
 ## Note: The consenter set should be composed of the live orderers that are currently connected to Kafka
 # Send a config update tx (COMMIT-TX) on the system channel that: 
 ## Has ConsensusType.MigrationState=COMMIT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## The metadata should be the same as for the standard channels, with the same precautions (this will be enforced in a later task).
 ## If committed successfully, no further configuration will be possible
 # Restart each orderer
 ## The orderer will bootstrap into an etcdraft mode
 ## Each channel will form a cluster
 ## Normal transactions can resume now 
 # In order to configure the channels (system or standard), make sure that the first config update tx (on any given channel) after migration has:
 ## Has ConsensusType.MigrationState=NONE
 ## Has ConsensusType.MigrationS=NONE
 ## In addition to other changes to the channel's config.

 

In previous CR's the MigrationState and MigrationContext fields were introduced onto the protos and OrdererConfig (see  link FAB-12984 and link FAB-13265)

To implement the green path the following changes were made (not a full list)
 * Change the message processing in the kafka broadcast phase (before Kafka ordering) to accept and pass on config-update-tx(s), with the following:
 ** Have a consensus-type change (currently prohibited)
 ** Carry migration commands via the  ""MigrationState"" field in the config-update-tx(s)
 ** Carry migration context via the  ""MigrationContext"" field in the config-update-tx(s)
 ** Validate that the state transitions of ""Migration State"" are approximately correct (in the bundle.ValidateNew)
 * Introduce a ""Migration Status"" into each chain
 ** *Status is the state and context of each chain*
 ** *Allows to get/set the status of migration in each chain*
 ** Can be exposed to Kafka broadcast phase (before ordering), commit phase (after a message is consumed from Kafka), and Registrar
 ** Expose whether a chain is system or standard channel
 * Extend the Registrar to function as ""migration consensus controller"". The registrar has access to all chains, and can therefore
 ** Coordinate and detect when migration has started (by START-TX)
 ** When migration is ready to be committed (all standard channels have CONTEXT-TX, system channel START-TX)
 ** When migration was committed on system channel (COMMIT-TX)
 * In the Kafka commit phase (after messages are consumed) *the state machine of migration is enforced*
 ** Illegal transitions that are triggered by the user cause the message to be dropped
 ** Unexpected transitions that are due to a bug cause panic
 ** Events on the system channel (START, COMMIT) cause coordination via the registrar to ensure that conditions are met
 ** Events on the standard channel (CONTEXT) are processes locally, referring to its local MigrationStatus
 * Just before the last config block of the system channel (COMMIT) is written to the ledger, the bootstrap file (a.k.a ""genesis.block"", do not confuse with the first block of the ledger) is swapped:
 ** the original file with Type=""kafka"" is backed up
 ** the original file is overwritten with the last config block of the system channel, with Type=""etcdraft"" and Metadata=<raft-metadata>.
 ** this will allow the orderer to boot onto raft when it is restarted.
 * After the orderer is restarted, it creates consenters of type ""etcdraft""
 ** Some changes where made to prevent the booting etcdraft chain/consenter from accessing the block metatdata, which in the COMMIT-TX still carries Kafka indices etc.
 ** Some changes where introduced to allow the etcdraft chain/consenter to detect that is is not experiencing a failed reconfiguration, but rather starting a new raft chain  
 * Most of the code above is guarded by the Kafka2RaftMigration() capability

 

Note: this CR chain passed integration test that was written specifically for migration. The test is introduced by https://jira.hyperledger.org/browse/FAB-12991

 

 ",,C0rWin,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006lr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),C0rWin,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"07/Feb/19 8:00 AM;C0rWin;https://gerrit.hyperledger.org/r/#/c/28705/;;;",,,,,,,,,,,,,,,,,,,,,,,,
 kafka-to-raft migration: Green path #3,FAB-13666,36737,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,14/Jan/19 8:22 PM,04/Mar/19 9:11 PM,28/Oct/23 3:04 AM,18/Feb/19 5:59 PM,,,,,,,,,,,,,,0,,,,"This is the third of four (*3/4*) sub-tasks that focus on the ""green"" path of consensus-type migration from Kafka to Raft. 

By ""green"" we mean that there are no failures or aborts along the way. The flow of the green path and the changes made in these 4 tasks are described below. The 4 sub-tasks are staged in a way that minimizes dependencies between them.

In this sub-task we introduce changes to the Kafka-base OSNs such that they implement  the entire green path, until they commit migration and are ready to be restarted (see bold below).  This change concludes all the changes needed to implement *the green path on the ""Kafka"" side.*

 

 

The ""green"" path for migration is the following:
 # Start with a Kafka-based ordering service 
 # Send a config update tx (START-TX) on the system channel that:
 ## Has ConsensusType.MigrationState=START
 ## This will disable the creation of new channels
 ## This will disable the processing of normal (standard channel) transactions
 # Wait until the START-TX is committed and get the block height H of that tx
 # Send a config update tx (CONTEXT-TX) on each of the standard channels that:
 ## Has ConsensusType.MigrationState=CONTEXT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## Note: take special care that the metadata is valid!
 ## Note: all the channels should be supplied with the same metadata (same consenters, same options)
 ## Note: The consenter set should be composed of the live orderers that are currently connected to Kafka
 # Send a config update tx (COMMIT-TX) on the system channel that: 
 ## Has ConsensusType.MigrationState=COMMIT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## The metadata should be the same as for the standard channels, with the same precautions (this will be enforced in a later task).
 ## If committed successfully, no further configuration will be possible
 # Restart each orderer
 ## The orderer will bootstrap into an etcdraft mode
 ## Each channel will form a cluster
 ## Normal transactions can resume now 
 # In order to configure the channels (system or standard), make sure that the first config update tx (on any given channel) after migration has:
 ## Has ConsensusType.MigrationState=NONE
 ## Has ConsensusType.MigrationS=NONE
 ## In addition to other changes to the channel's config.

 

In previous CR's the MigrationState and MigrationContext fields were introduced onto the protos and OrdererConfig (see  link FAB-12984 and link FAB-13265)

To implement the green path the following changes were made (not a full list)
 * *Change the message processing in the kafka broadcast phase (before Kafka ordering) to accept and pass on config-update-tx(s), with the following:*
 ** *Have a consensus-type change (currently prohibited)*
 ** *Carry migration commands via the  ""MigrationState"" field in the config-update-tx(s)*
 ** *Carry migration context via the  ""MigrationContext"" field in the config-update-tx(s)*
 ** *Validate that the state transitions of ""Migration State"" are approximately correct (in the bundle.ValidateNew)*
 * *Introduce a ""Migration Status"" into each chain*
 ** Status is the state and context of each chain
 ** Allows to get/set the status of migration in each chain
 ** *Can be exposed to Kafka broadcast phase (before ordering), commit phase (after a message is consumed from Kafka), and Registrar*
 ** *Expose whether a chain is system or standard channel*
 * *Extend the Registrar to function as ""migration consensus controller"". The registrar has access to all chains, and can therefore*
 ** *Coordinate and detect when migration has started (by START-TX)*
 ** *When migration is ready to be committed (all standard channels have CONTEXT-TX, system channel START-TX)*
 ** *When migration was committed on system channel (COMMIT-TX)*
 * *In the Kafka commit phase (after messages are consumed) the state machine of migration is enforced*
 ** *Illegal transitions that are triggered by the user cause the message to be dropped*
 ** *Unexpected transitions that are due to a bug cause panic*
 ** *Events on the system channel (START, COMMIT) cause coordination via the registrar to ensure that conditions are met*
 ** *Events on the standard channel (CONTEXT) are processes locally, referring to its local MigrationStatus*
 * Just before the last config block of the system channel (COMMIT) is written to the ledger, the bootstrap file (a.k.a ""genesis.block"", do not confuse with the first block of the ledger) is swapped:
 ** the original file with Type=""kafka"" is backed up
 ** the original file is overwritten with the last config block of the system channel, with Type=""etcdraft"" and Metadata=<raft-metadata>.
 ** this will allow the orderer to boot onto raft when it is restarted.
 * After the orderer is restarted, it creates consenters of type ""etcdraft""
 ** Some changes where made to prevent the booting etcdraft chain/consenter from accessing the block metatdata, which in the COMMIT-TX still carries Kafka indices etc.
 ** Some changes where introduced to allow the etcdraft chain/consenter to detect that is is not experiencing a failed reconfiguration, but rather starting a new raft chain  
 * Most of the code above is guarded by the Kafka2RaftMigration() capability

 

Note: this CR chain passed integration test that was written specifically for migration. The test is introduced by https://jira.hyperledger.org/browse/FAB-12991

 ",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006lz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Upgrade CLI / chaincode containers to have Golang version > 1.11 to enable usage of Go Modules,FAB-13667,36740,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,k.ramankishore,k.ramankishore,14/Jan/19 9:07 PM,17/Apr/20 3:02 PM,28/Oct/23 3:04 AM,17/Apr/20 3:02 PM,,,,,,,,,,,,,,0,,,,"Currently, the CLI/chaincode containers have Golang version 1.10

From version 1.11 onwards, Golang supports the use of ""Go Modules"" which makes dependency package management much simpler and also eliminates the restriction of setting GOPATH.

 Go Modules: [https://github.com/golang/go/wiki/Modules]

Thoughts?

 ",,k.ramankishore,medikent,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-10562,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006m7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),k.ramankishore,medikent,MHBauer,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"17/May/19 5:04 AM;medikent;The *go mod vendor* command worked great for me. I was able to build and install the chaincode within a *fabric-tools* CLI container. First I had to do *go mod init* before I could vendor the dependencies. Also, for Fabric 1.4 CLI containers the Golang version is 1.11.5.

So as far as I can tell this issue is closeable.;;;","26/Mar/20 2:49 AM;MHBauer;Is this only for v1.4? Is there a different work item for v2?

Is there other work that's been done already on this that shows obvious problems to be solved?;;;","17/Apr/20 3:02 PM;MHBauer;As of this comment:

ccenv for 1.4 has golang 1.13.4

ccenv for 2.0 has golang 1.13.4

ccenv for 2.1 has golang 1.14.1;;;","17/Apr/20 3:02 PM;MHBauer;Additionally, external builders allow the use of any chosen version.;;;",,,,,,,,,,,,,,,,,,,,,
BYFN's container volume mapping is bad,FAB-13668,36745,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,lehors,lehors,lehors,14/Jan/19 11:16 PM,30/Jan/19 6:38 AM,28/Oct/23 3:04 AM,30/Jan/19 6:38 AM,v1.4.0,,,,,v2.0.0,,,,fabric-docs,fabric-samples,,,0,,,,"The current container volume specification maps github.com/hyperledger/fabric-samples/chaincode to github.com/chaincode via:
{code:java}
- ./../chaincode/:/opt/gopath/src/github.com/chaincode{code}
Not only this is misleading and confusing, it also makes it impossible to use any chaincode that does an import of a fabric-samples go package because that path doesn't exist in the container:
{code:java}
peer chaincode install -n mycc -v 1.0 -l golang -p github.com/hyperledger/fabric-samples/chaincode/go/example02/cmd
2019-01-14 13:21:07.647 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001 Using default escc
2019-01-14 13:21:07.647 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002 Using default vscc
Error: error getting chaincode code mycc: error getting chaincode package bytes: Error obtaining dependencies for github.com/hyperledger/fabric-samples/chaincode/go/example02: <go, [list -f {{ join .Deps ""\n""}} github.com/hyperledger/fabric-samples/chaincode/go/example02]>: failed with error: ""exit status 1""
can't load package: package github.com/hyperledger/fabric-samples/chaincode/go/example02: cannot find package ""github.com/hyperledger/fabric-samples/chaincode/go/example02"" in any of:
 /opt/go/src/github.com/hyperledger/fabric-samples/chaincode/go/example02 (from $GOROOT)
 /opt/gopath/src/github.com/hyperledger/fabric-samples/chaincode/go/example02 (from $GOPATH){code}
github.com/hyperledger/fabric-samples needs to be mapped to the same name:
{code:java}
- ./../chaincode/:/opt/gopath/src/github.com/hyperledger/fabric-samples/chaincode{code}
 ",,lehors,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006n3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),lehors,mastersingh24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-6.11.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/tough-cookie-4.1.3,mergify/bp/release-2.2/pr-4374,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/grpc/grpc-js-1.8.17,dependabot/go_modules/high-throughput/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/word-wrap-1.2.4,main,mergify/bp/release-2.2/pr-3750,dependabot/go_modules/asset-transfer-basic/application-go/google.golang.org/grpc-1.53.0,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/semver-6.3.1,release-2.5,release-2.4,dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/protobufjs-and-fabric-network-7.2.4,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 12:18 AM;mastersingh24;While I don't have an issue making a change here, I think there is a larger problem in that people really need to stop ""misusing"" the samples .  On the other hand, maybe we need to stop doing things in samples as well.;;;","15/Jan/19 12:57 AM;lehors;I understand where you're coming from and I actually meant to make this an ""improvement"" rather than a ""bug"" (but somehow can't seem to be able to change it) because there is nothing broken per se but rather than fight what people are doing I think we're better off accepting it.

I think it's natural for people to build on top of the samples we provide, so we should have that in mind and make them a good basis for people to build on rather than try to tell them not to follow our examples.

 ;;;","30/Jan/19 6:06 AM;mastersingh24;I think my statement is really more about the whole CLI container in the end.;;;",,,,,,,,,,,,,,,,,,,,,,
 kafka-to-raft migration: Green path #4,FAB-13669,36746,35195,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,tock,tock,tock,14/Jan/19 11:22 PM,04/Mar/19 9:11 PM,28/Oct/23 3:04 AM,18/Feb/19 5:59 PM,,,,,,,,,,,,,,0,,,,"This is the fourth of four (*4/4*) sub-tasks that focus on the ""green"" path of consensus-type migration from Kafka to Raft. 

By ""green"" we mean that there are no failures or aborts along the way. The flow of the green path and the changes made in these 4 tasks are described below. The 4 sub-tasks are staged in a way that minimizes dependencies between them.

In this sub-task we introduce changes to the etcd/raft-base OSNs such that they can restart from a ledger that was started as Kafka, migrated, and restarted (see bold below). This change concludes all the changes needed to implement *the green path on the ""Raft"" side.*

 

 

The ""green"" path for migration is the following:
 # Start with a Kafka-based ordering service 
 # Send a config update tx (START-TX) on the system channel that:
 ## Has ConsensusType.MigrationState=START
 ## This will disable the creation of new channels
 ## This will disable the processing of normal (standard channel) transactions
 # Wait until the START-TX is committed and get the block height H of that tx
 # Send a config update tx (CONTEXT-TX) on each of the standard channels that:
 ## Has ConsensusType.MigrationState=CONTEXT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## Note: take special care that the metadata is valid!
 ## Note: all the channels should be supplied with the same metadata (same consenters, same options)
 ## Note: The consenter set should be composed of the live orderers that are currently connected to Kafka
 # Send a config update tx (COMMIT-TX) on the system channel that: 
 ## Has ConsensusType.MigrationState=COMMIT
 ## Has ConsensusType.MigrationContext=H
 ## Has ConsensusType.Type=""etcdraft""
 ## Has ConsensusType.Metadata=<a marshaled etcdraft metadata: Consenters, Options, etc>
 ## The metadata should be the same as for the standard channels, with the same precautions (this will be enforced in a later task).
 ## If committed successfully, no further configuration will be possible
 # Restart each orderer
 ## The orderer will bootstrap into an etcdraft mode
 ## Each channel will form a cluster
 ## Normal transactions can resume now 
 # In order to configure the channels (system or standard), make sure that the first config update tx (on any given channel) after migration has:
 ## Has ConsensusType.MigrationState=NONE
 ## Has ConsensusType.MigrationS=NONE
 ## In addition to other changes to the channel's config.

 

In previous CR's the MigrationState and MigrationContext fields were introduced onto the protos and OrdererConfig (see  link FAB-12984 and link FAB-13265)

To implement the green path the following changes were made (not a full list)
 * Change the message processing in the kafka broadcast phase (before Kafka ordering) to accept and pass on config-update-tx(s), with the following:
 ** Have a consensus-type change (currently prohibited)
 ** Carry migration commands via the  ""MigrationState"" field in the config-update-tx(s)
 ** Carry migration context via the  ""MigrationContext"" field in the config-update-tx(s)
 ** Validate that the state transitions of ""Migration State"" are approximately correct (in the bundle.ValidateNew)
 * Introduce a ""Migration Status"" into each chain
 ** Status is the state and context of each chain
 ** Allows to get/set the status of migration in each chain
 ** Can be exposed to Kafka broadcast phase (before ordering), commit phase (after a message is consumed from Kafka), and Registrar
 ** Expose whether a chain is system or standard channel
 * Extend the Registrar to function as ""migration consensus controller"". The registrar has access to all chains, and can therefore
 ** Coordinate and detect when migration has started (by START-TX)
 ** When migration is ready to be committed (all standard channels have CONTEXT-TX, system channel START-TX)
 ** When migration was committed on system channel (COMMIT-TX)
 * In the Kafka commit phase (after messages are consumed) the state machine of migration is enforced
 ** Illegal transitions that are triggered by the user cause the message to be dropped
 ** Unexpected transitions that are due to a bug cause panic
 ** Events on the system channel (START, COMMIT) cause coordination via the registrar to ensure that conditions are met
 ** Events on the standard channel (CONTEXT) are processes locally, referring to its local MigrationStatus
 * Just before the last config block of the system channel (COMMIT) is written to the ledger, the bootstrap file (a.k.a ""genesis.block"", do not confuse with the first block of the ledger) is swapped:
 ** the original file with Type=""kafka"" is backed up
 ** the original file is overwritten with the last config block of the system channel, with Type=""etcdraft"" and Metadata=<raft-metadata>.
 ** this will allow the orderer to boot onto raft when it is restarted.
 * *After the orderer is restarted, it creates consenters of type ""etcdraft""*
 ** *Some changes where made to prevent the booting etcdraft chain/consenter from accessing the block metatdata, which in the COMMIT-TX still carries Kafka indices etc.*
 ** *Some changes where introduced to allow the etcdraft chain/consenter to detect that is is not experiencing a failed reconfiguration, but rather starting a new raft chain*  
 * Most of the code above is guarded by the Kafka2RaftMigration() capability

 

Note: this CR chain passed integration test that was written specifically for migration. The test is introduced by https://jira.hyperledger.org/browse/FAB-12991

 ",,tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006nb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tock,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
finish up and polish code  ,FAB-13670,36747,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,KaoutarEL,KaoutarEL,KaoutarEL,15/Jan/19 12:05 AM,26/Feb/19 6:43 PM,28/Oct/23 3:04 AM,26/Feb/19 6:43 PM,,,,,,,,,,,,,,0,fabtoken,,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13209,,,No,,Unset,No,,,"1|i006nj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
verify that the identity of a recipient of an output is valid ,FAB-13671,36748,36747,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,KaoutarEL,KaoutarEL,15/Jan/19 12:07 AM,12/Feb/19 10:39 PM,28/Oct/23 3:04 AM,12/Feb/19 10:39 PM,,,,,,,,,,,,,,0,fabtoken,,,,,KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006nr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),KaoutarEL,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"12/Feb/19 10:39 PM;KaoutarEL;already addressed in https://jira.hyperledger.org/browse/FAB-14128;;;",,,,,,,,,,,,,,,,,,,,,,,,
Changes for Orgs implicit collection,FAB-13674,36752,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/Jan/19 1:00 AM,01/Apr/19 9:26 PM,28/Oct/23 3:04 AM,01/Apr/19 9:26 PM,,,,,,,,,,fabric-peer,,,,0,,,,,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i006on:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add channelName param in the functions that provide chaincode/collection info,FAB-13675,36753,36752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/Jan/19 1:07 AM,15/Jan/19 12:13 PM,28/Oct/23 3:04 AM,15/Jan/19 12:13 PM,,,,,,,,,,,,,,0,,,,Functions in the interface `DeployedChaincodeInfoProvider` (https://github.com/hyperledger/fabric/blob/ba5d8dc73eae9769d6d7c359e38f2cc9156ca28b/core/ledger/ledger_interface.go#L462) should take channel name so that the chaincode info/ collection info can include the Orgs implicit collection along with the explicit collections,,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006ov:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 12:12 PM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28706/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Remove github.com/hyperledger/fabric/orderer/consensus/etcdraft from the serial package list,FAB-13676,36755,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,15/Jan/19 4:40 AM,15/Jan/19 7:48 AM,28/Oct/23 3:04 AM,15/Jan/19 7:48 AM,,,,,,v2.0.0,,,,,,,,0,raft,,,,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006pb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 4:41 AM;sykesm;/cc [~kchristidis];;;","15/Jan/19 4:42 AM;sykesm;https://gerrit.hyperledger.org/r/28716 [FAB-13676] remove etcdraft from serial test list;;;",,,,,,,,,,,,,,,,,,,,,,,
Remove unit-test directory,FAB-13677,36757,,Task,Closed,FAB,Fabric,software,denyeart,,,Low,Done,sykesm,sykesm,sykesm,15/Jan/19 4:59 AM,19/Jan/19 2:37 AM,28/Oct/23 3:04 AM,19/Jan/19 2:37 AM,,,,,,v2.0.0,,,,,,,,0,,,,Move the script ./scripts/run-unit-tests.sh and update the Makefile,,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006pr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 6:56 AM;sykesm;https://gerrit.hyperledger.org/r/28719 [FAB-13677] remove unit-test dir;;;",,,,,,,,,,,,,,,,,,,,,,,,
cclifecycle DeployedChaincodes should support both old and new lifecycle,FAB-13679,36761,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Duplicate,,wlahti,wlahti,15/Jan/19 6:02 AM,09/May/19 8:17 PM,28/Oct/23 3:04 AM,09/May/19 8:17 PM,,,,,,v2.0.0,,,,,,,,0,,,,"The cclifecycle package currently uses a static function, DeployedChaincodes, that is hard-coded to check the LSCC for information regarding deployed chaincodes. DeployedChaincodes should move to the LSCC code and this dependency should be wired into cclifecycle. 

Eventually, once the server code is complete for defining chaincodes with the new lifecycle, a router will need to be added to list the deployed chaincodes for thew new lifecycle in addition to the (old) lscc.",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,No,,Unset,No,,,"1|i006qn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
cclifecycle naming cleanup,FAB-13680,36762,37108,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wlahti,wlahti,wlahti,15/Jan/19 6:09 AM,24/Apr/19 4:49 PM,28/Oct/23 3:04 AM,24/Apr/19 4:49 PM,,,,,,v2.0.0,,,,,,,,0,,,,"While looking into the history of the cclifecycle package (to help with my understanding of the code), I noticed [https://gerrit.hyperledger.org/r/c/14771/] and the many unaddressed code review comments. This task will be used to address (primarily) the naming-related comments in order to make the code and tests easier to read and understand. ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006qv:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"14/Mar/19 5:53 AM;wlahti;https://gerrit.hyperledger.org/r/c/28718/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Move cclifecycle.DeployedChaincodes function to LSCC and wire into cclifecycle,FAB-13681,36763,36761,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,wlahti,wlahti,wlahti,15/Jan/19 6:14 AM,11/Jun/19 1:04 AM,28/Oct/23 3:04 AM,11/Jun/19 1:04 AM,,,,,,,,,,,,,,0,,,,"The cclifecycle package currently uses a static function, DeployedChaincodes, that is hard-coded to check the LSCC for information regarding deployed chaincodes. DeployedChaincodes should move to the LSCC code and this dependency should be wired into cclifecycle. ",,wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006r3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wlahti,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PTE supports orderer reconnect,FAB-13682,36764,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,15/Jan/19 7:37 AM,23/Jan/19 8:40 AM,28/Oct/23 3:04 AM,16/Jan/19 6:57 AM,,,,,,,,,,fabric-quality,,,,0,,,,PTE supports orderer reconnect,,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i006rb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"15/Jan/19 7:43 AM;dongming;[https://gerrit.hyperledger.org/r/#/c/28720/]

Submit this CR for latency mode only that people may begin to use it.  The same changes will be added to other transaction modes soon.;;;","18/Jan/19 12:49 AM;dongming;[https://gerrit.hyperledger.org/r/#/c/28786/]

Add same changes to other transaction modes;;;",,,,,,,,,,,,,,,,,,,,,,,
Changes for including implicit collections,FAB-13683,36765,36752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,manish-sethi,manish-sethi,manish-sethi,15/Jan/19 12:18 PM,16/Jan/19 8:27 PM,28/Oct/23 3:04 AM,16/Jan/19 8:27 PM,,,,,,,,,,fabric-peer,,,,0,,,,"- Make changes to interface ledger.DeployedChaincodeInfoProvider to return the implicit collections
- Rename existing field `CollectionConfigPkg` to a meaningful name to reflect that it contains only explicit collections
- Change endorser code to use new API for including implicit collections
- Change Config history tracker code to merge the implicit collection with the results of explicit collections from the config history",,manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006rj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),manish-sethi,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"15/Jan/19 12:24 PM;manish-sethi;https://gerrit.hyperledger.org/r/#/c/28721/;;;",,,,,,,,,,,,,,,,,,,,,,,,
add ledger.pvtdataStore in core.yaml,FAB-13684,36766,,Story,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,,tyanj,tyanj,15/Jan/19 12:42 PM,20/Jan/19 2:48 PM,28/Oct/23 3:04 AM,20/Jan/19 2:48 PM,,,,,,v2.0.0,,,,,,,,0,,,,"{color:#569cd6}ledger{color}{color:#d4d4d4}:{color}
{color:#569cd6} pvtdataStore{color}{color:#d4d4d4}:{color}
{color:#d4d4d4}    {color}{color:#6a9955}# the maximum db batch size for converting{color}
{color:#d4d4d4}    {color}{color:#6a9955}# the ineligible missing data entries to eligible missing data entries{color}
{color:#d4d4d4}    {color}{color:#569cd6}collElgProcMaxDbBatchSize{color}{color:#d4d4d4}: {color}{color:#b5cea8}5000{color}
{color:#d4d4d4}    {color}{color:#6a9955}# the minimum duration (in milliseconds) between writing{color}
{color:#d4d4d4}    {color}{color:#6a9955}# two consecutive db batches for converting the ineligible missing data entries to eligible missing data entries{color}
{color:#d4d4d4}    {color}{color:#569cd6}collElgProcDbBatchesInterval{color}{color:#d4d4d4}: {color}{color:#b5cea8}1000{color}",,tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006rr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),tyanj,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Implement the ChaincodeDefinition method of chaincode.Lifecycle,FAB-13685,36767,36513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Jan/19 12:45 PM,08/Mar/19 3:02 AM,28/Oct/23 3:04 AM,08/Mar/19 3:02 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006rz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Tighten chaincode.Lifecycle interface,FAB-13686,36768,36513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Jan/19 12:47 PM,08/Mar/19 3:02 AM,28/Oct/23 3:04 AM,08/Mar/19 3:02 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,"The current chaincode.Lifecycle interface takes a full-blown query executor.  This is unnecessary, bloats mocks, and encourages reads against state which is not truly accessible in this context (like private data).",,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006s7:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Create ledger shim around SimpleQueryExecutor,FAB-13687,36769,36513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Jan/19 12:48 PM,08/Mar/19 3:02 AM,28/Oct/23 3:04 AM,08/Mar/19 3:02 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006sf:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Implement ChaincodeContainerInfo method of chaincode.Lifecycle,FAB-13688,36770,36513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Jan/19 12:49 PM,08/Mar/19 3:06 AM,28/Oct/23 3:04 AM,08/Mar/19 3:06 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006sn:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Factor out common mock implementation of backing ledger,FAB-13689,36771,36513,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,jyellick,jyellick,jyellick,15/Jan/19 12:52 PM,08/Mar/19 3:06 AM,28/Oct/23 3:04 AM,08/Mar/19 3:06 AM,,,,,,v2.0.0,,,,fabric-peer,,,,0,,,,,,jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006sv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Flake for core/comm/TestNewConnection,FAB-13690,36772,,Bug,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,sykesm,jyellick,jyellick,15/Jan/19 1:30 PM,20/Mar/19 3:33 PM,28/Oct/23 3:04 AM,21/Jan/19 12:35 PM,,,,,,v2.0.0,,,,fabric-common,,,,0,ci-flake,,,"{noformat}
23:10:26 ok  	github.com/hyperledger/fabric/core/chaincode/shim/ext/statebased	0.536s	coverage: 89.1% of statements
23:10:26 2019-01-15 04:02:38.884 UTC [ConnProducer] DisableEndpoint -> WARN 001 Only 1 endpoint remained, will not black-list it
23:10:26 2019-01-15 04:02:39.362 UTC [ConnProducer] NewConnection -> ERRO 003 Failed connecting to a , error: Failed connecting to a
23:10:26 2019-01-15 04:02:39.423 UTC [ConnProducer] NewConnection -> ERRO 004 Failed connecting to b , error: Failed connecting to b
23:10:26 2019-01-15 04:02:39.423 UTC [ConnProducer] NewConnection -> ERRO 005 Failed connecting to c , error: Failed connecting to c
23:10:26 2019-01-15 04:02:39.423 UTC [ConnProducer] NewConnection -> ERRO 006 Failed connecting to a , error: Failed connecting to a
23:10:26 2019-01-15 04:02:39.430 UTC [comm] GetPeerCredentials -> WARN 007 Failed adding certificates to peer's client TLS trust pool: asn1: syntax error: data truncated
23:10:26 2019-01-15 04:02:40.375 UTC [comm] GetDeliverServiceCredentials -> ERRO 008 Attempted to obtain root CA certs of a non existent channel: C
23:10:26 --- FAIL: TestNewConnection (0.02s)
23:10:26     --- FAIL: TestNewConnection/client_/_server_wrong_port (1.00s)
23:10:26         client_test.go:355: failed to create new connection: context deadline exceeded
23:10:26         <autogenerated>:1: 
23:10:26             	Error Trace:	client_test.go:356
23:10:26             	Error:      	""failed to create new connection: context deadline exceeded"" does not contain ""connection refused""
23:10:26             	Test:       	TestNewConnection/client_/_server_wrong_port
23:10:26 FAIL
23:10:26 coverage: 91.3% of statements
23:10:26 FAIL	github.com/hyperledger/fabric/core/comm	9.098s
{noformat}

https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7976/console",,jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,6f021adaf72cf7a416908029590f0313692cd70b,Unset,No,,,"1|i006t3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),jyellick,sykesm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"19/Jan/19 3:42 AM;sykesm;https://gerrit.hyperledger.org/r/28817 [FAB-13690] use listener in TestClient as bad addr;;;",,,,,,,,,,,,,,,,,,,,,,,,
Test flake in TestDispatchSubmit,FAB-13691,36773,36295,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Won't Do,guoger,jyellick,jyellick,15/Jan/19 3:22 PM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,10/Mar/19 11:50 PM,,,,,,v2.0.0,,,,fabric-orderer,,,,0,ci-flake,,,"https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/7974/console

{noformat}
23:07:31 ?   	github.com/hyperledger/fabric/orderer/consensus	[no test files]
23:07:31 2019-01-15 04:06:15.767 UTC [test] OnStep -> WARN 001 An attempt to send a StepRequest to a non existing channel (notmychannel) was made by 1
23:07:31 2019-01-15 04:06:15.769 UTC [test] OnSubmit -> WARN 002 An attempt to submit a transaction to a non existing channel (notmychannel) was made by 1
23:07:31 2019-01-15 04:06:15.771 UTC [test] OnSubmit -> ERRO 003 Failed handling transaction on channel mychannel from 1: backend error
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.TestDispatchSubmit
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/dispatcher_test.go:67
23:07:31 testing.tRunner
23:07:31 	/opt/go/go1.11.1.linux.amd64/src/testing/testing.go:827
23:07:31 runtime.goexit
23:07:31 	/opt/go/go1.11.1.linux.amd64/src/runtime/asm_amd64.s:1333
23:07:31 Running Suite: Etcdraft Suite
23:07:31 =============================
23:07:31 Random Seed: 1547525169
23:07:31 Will run 69 of 69 specs
23:07:31 
23:07:31 •••••2019-01-15 04:06:15.790 UTC [test] ReceiverByChain -> WARN 004 Chain notraftchain is of type *multichannel.ChainSupport and not etcdraft.Chain
23:07:31 •2019-01-15 04:06:15.793 UTC [test] ReceiverByChain -> PANI 005 Programming error - Chain badChainObject is nil although it exists in the mapping
23:07:31 •2019-01-15 04:06:17.463 UTC [test] createWAL -> INFO 006 No WAL data found, creating new WAL at path '/tmp/snap-715153057/wal-' {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:17.516 UTC [test] Start -> INFO 007 Starting Raft node {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:17.517 UTC [test] Start -> INFO 008 Starting raft node as part of a new channel {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:17.518 UTC [test] becomeFollower -> INFO 009 1 became follower at term 0 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:17.518 UTC [test] newRaft -> INFO 00a newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0] {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:17.518 UTC [test] becomeFollower -> INFO 00b 1 became follower at term 1 {""channel"": """", ""node"": 1}
23:07:31 •2019-01-15 04:06:17.522 UTC [test] detectSelfID -> ERRO 00c Could not find cert.orderer0.org0 among [cert.orderer1.org1]
23:07:31 ••••••••••••2019-01-15 04:06:18.919 UTC [test] Step -> INFO 00d 1 is starting a new election at term 1 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.919 UTC [test] becomePreCandidate -> INFO 00e 1 became pre-candidate at term 1 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.919 UTC [test] poll -> INFO 00f 1 received MsgPreVoteResp from 1 at term 1 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.919 UTC [test] becomeCandidate -> INFO 010 1 became candidate at term 2 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.920 UTC [test] poll -> INFO 011 1 received MsgVoteResp from 1 at term 2 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.920 UTC [test] becomeLeader -> INFO 012 1 became leader at term 2 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.920 UTC [test] run -> INFO 013 raft.node: 1 elected leader 1 at term 2 {""channel"": """", ""node"": 1}
23:07:31 2019-01-15 04:06:18.922 UTC [test] serveRaft -> INFO 014 Raft leader changed: 0 -> 1 {""channel"": """", ""node"": 1}
23:07:31 •••••••••••••••••••••••••••••panic: 
23:07:31 Your test failed.
23:07:31 Ginkgo panics to prevent subsequent assertions from running.
23:07:31 Normally Ginkgo rescues this panic so you shouldn't see it.
23:07:31 
23:07:31 But, if you make an assertion in a goroutine, Ginkgo can't capture the panic.
23:07:31 To circumvent this, you should call
23:07:31 
23:07:31 	defer GinkgoRecover()
23:07:31 
23:07:31 at the top of the goroutine that caused this panic.
23:07:31 
23:07:31 
23:07:31 goroutine 692 [running]:
23:07:31 github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo.Fail(0xc0000382d0, 0x49, 0xc00027c488, 0x1, 0x1)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/ginkgo/ginkgo_dsl.go:257 +0x12f
23:07:31 github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).match.func1(0x170544e, 0x9)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:130 +0x518
23:07:31 github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).match(0xc0000c1600, 0x1865ca0, 0xc000173b00, 0x1, 0x0, 0x0, 0x0, 0x1646c20)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:152 +0x4d9
23:07:31 github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion.(*AsyncAssertion).Should(0xc0000c1600, 0x1865ca0, 0xc000173b00, 0x0, 0x0, 0x0, 0xc0000c1600)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/vendor/github.com/onsi/gomega/internal/asyncassertion/async_assertion.go:49 +0xc2
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.(*network).elect(0xc000172b70, 0x2, 0x13b2)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2659 +0xca9
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft_test.glob..func1.3.4.5.4.1(0xc000390040, 0xc00051e000, 0x13b2, 0x13b2)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1524 +0xc2
23:07:31 github.com/hyperledger/fabric/orderer/consensus/mocks.(*FakeConsenterSupport).WriteConfigBlock(0xc000409700, 0xc000390040, 0xc00051e000, 0x13b2, 0x13b2)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/mocks/mock_consenter_support.go:773 +0x37f
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).writeConfigBlock(0xc000120480, 0xc000390040, 0x6, 0xc0000c0d08, 0x8f8d8c)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:924 +0x18f
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).writeBlock(0xc000120480, 0xc000390040, 0x6, 0x1)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:507 +0xf9
23:07:31 github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).serveRequest(0xc000120480)
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:468 +0xb85
23:07:31 created by github.com/hyperledger/fabric/orderer/consensus/etcdraft.(*Chain).Start
23:07:31 	/w/workspace/fabric-verify-unit-tests-x86_64/gopath/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain.go:252 +0x679
23:07:31 FAIL	github.com/hyperledger/fabric/orderer/consensus/etcdraft	15.347s
23:07:31 ?   	github.com/hyperledger/fabric/orderer/consensus/etcdraft/mocks	[no test files]
{noformat}",,guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006tb:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),guoger,jyellick,kchristidis,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jan/19 12:07 PM;guoger;We've made some changes to etcdraft UT, which hopefully mitigate this flake. Please feel free to reopen this if anyone hits it again.;;;","30/Jan/19 8:08 AM;kchristidis;[~guoger]: I _think_ we bumped into this here: [https://jenkins.hyperledger.org/job/fabric-verify-unit-tests-x86_64/8451/consoleText] (corresponding CR: [https://gerrit.hyperledger.org/r/c/29012/|https://gerrit.hyperledger.org/r/c/29012/]);;;","31/Jan/19 12:16 AM;guoger;[~kchristidis] looked at the failure log, and it's actually a different issue. Something goes wrong in the test body, which affects proper teardown in {{AfterEach}}. It hangs till timeout, and coredump. Although it covers up the real cause within test body. I opened FAB-13967 for this.;;;",,,,,,,,,,,,,,,,,,,,,,
Remove direct invocation of LSCC from validator,FAB-13693,36777,36665,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,ales,ales,ales,15/Jan/19 8:12 PM,22/Jan/19 1:32 AM,28/Oct/23 3:04 AM,22/Jan/19 1:32 AM,,,,,,v2.0.0,,,,,,,,0,,,,,,ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006u7:",,,,Unset,Unset,v2.0,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),ales,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
Move etcdraft.LastConfigBlock to orderer common space,FAB-13694,36779,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,yacovm,yacovm,yacovm,15/Jan/19 9:21 PM,01/Mar/19 10:35 PM,28/Oct/23 3:04 AM,11/Feb/19 5:20 PM,,,,,,,,,,fabric-orderer,,,,0,,,,,,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006un:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jan/19 1:33 AM;yacovm;https://gerrit.hyperledger.org/r/#/c/28732/;;;",,,,,,,,,,,,,,,,,,,,,,,,
"""node chaincode + solo + without tls"" - tests are failing with timeout error while deploying chaincode - FAB-6211",FAB-13696,36791,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Won't Do,,sambhavdutt,sambhavdutt,16/Jan/19 12:13 AM,29/Jul/19 2:56 AM,28/Oct/23 3:04 AM,29/Jul/19 2:56 AM,v2.0.0,,,,,,,,,fabric-quality,,,,0,ci-failure,,,"The test case FAB-6211( chaincodes) is failing consistently in the smoke tests, while deploying the chaincode, the chaincode container took too long to spinup.  Hence the test case failed with timeout error after 10 mins.

Consistent: Yes

Branch: master

Error Snippet:
{code:java}
Failing step: And an admin deploys chaincode at path ""../../fabric-test/chaincodes/example02/node"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc"" with language ""NODE"" ... failed in 621.781s
Location: chaincodes.feature:184
Assertion Failed: The expected chaincode container 454c768617ab11e9bf89fa163e8ce6c4-peer0.org1.example.com-mycc-0 is not running

[/bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/454c768617ab11e9bf89fa163e8ce6c4/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode instantiate --name mycc --version 0 --lang NODE --channelID behavesystest --ctor '{\""Args\"": [\""init\"",\""a\"",\""1000\"",\""b\"",\""2000\""]}' --orderer orderer0.example.com:7050 ""]: {'peer0.org1.example.com': 'Error occurred [u\'docker exec peer0.org1.example.com /bin/bash -c ""CORE_PEER_MSPCONFIGPATH=/var/hyperledger/configs/454c768617ab11e9bf89fa163e8ce6c4/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp CORE_PEER_LOCALMSPID=org1.example.com CORE_PEER_ID=peer0.org1.example.com CORE_PEER_ADDRESS=peer0.org1.example.com:7051 peer chaincode instantiate --name mycc --version 0 --lang NODE --channelID behavesystest --ctor \\\'{\\\\""Args\\\\"": [\\\\""init\\\\"",\\\\""a\\\\"",\\\\""1000\\\\"",\\\\""b\\\\"",\\\\""2000\\\\""]}\\\' --orderer orderer0.example.com:7050 ""\']: \x1b[34m2019-01-14 03:21:26.480 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 001\x1b[0m Using default escc\n\x1b[34m2019-01-14 03:21:26.480 UTC [chaincodeCmd] checkChaincodeCmdParams -> INFO 002\x1b[0m Using default vscc\nError: could not assemble transaction, err proposal response was not successful, error code 500, msg timeout expired while starting chaincode mycc:0 for transaction\n'}

{code}
*Build Log:*

[https://logs.hyperledger.org/production/vex-yul-hyp-jenkins-3/fabric-test-merge-x86_64/576/]",,latitiah,rameshthoomu,sambhavdutt,scottz,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,c1e15cd6bfc19bf6f61c04cce8817c16de806561,Unset,No,,,"1|i006xj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),latitiah,rameshthoomu,sambhavdutt,scottz,tijohnson,vijaypunugubati,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"29/Jul/19 2:55 AM;vijaypunugubati;This test case from chaincodes.feature was incorporated in the interoperability test, and no modifications suggested in behave frame. Closing this bug.;;;","29/Jul/19 2:56 AM;vijaypunugubati;The test case was incorporated in the interoperability test.;;;",,,,,,,,,,,,,,,,,,,,,,,
PTE gen_cfgInputs.sh option for orderer selection,FAB-13697,36792,,Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,dongming,dongming,dongming,16/Jan/19 12:14 AM,17/Jan/19 4:14 AM,28/Oct/23 3:04 AM,17/Jan/19 4:14 AM,,,,,,,,,,fabric-quality,,,,0,,,,"PTE has orderer select option, UserDefined vs RoundRobin, to have orderere load balance.  This task is to add this option to gen_cfgInputs.sh.",,dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-2247,,,No,,Unset,No,,,"1|i006xr:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),dongming,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"16/Jan/19 7:16 AM;dongming;https://gerrit.hyperledger.org/r/#/c/28750/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Intermittent test failure in orderer/common/cluster TestReconnect,FAB-13698,36793,,Bug,Closed,FAB,Fabric,software,denyeart,,,High,Done,yacovm,sykesm,sykesm,16/Jan/19 12:20 AM,19/Mar/19 7:57 PM,28/Oct/23 3:04 AM,16/Jan/19 7:32 AM,,,,,,,,,,fabric-orderer,,,,0,ci-flake,,,"Hit  in https://gerrit.hyperledger.org/r/c/28719/2

{code}
22:43:31 --- FAIL: TestReconnect (1.09s)
22:43:31     <autogenerated>:1: 
22:43:31         	Error Trace:	comm_test.go:581
22:43:31         	Error:      	""rpc error: code = Unavailable desc = transport is closing"" does not contain ""127.0.0.1:34578""
22:43:31         	Test:       	TestReconnect
22:43:31 FAIL
22:43:31 coverage: 97.4% of statements
{code}",,sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/19 12:21 AM;sykesm;console-timestamp.log;https://jira.hyperledger.org/secure/attachment/16557/console-timestamp.log",,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006xz:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),sykesm,wlahti,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-1.4,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"16/Jan/19 12:34 AM;wlahti;Also hit by https://gerrit.hyperledger.org/r/c/28721/.;;;","16/Jan/19 4:47 AM;sykesm;And again:  https://gerrit.hyperledger.org/r/c/28719/

{code}
00:29:13.421 2019-01-15 15:54:53.913 UTC [test] Configure -> INFO 2f5 Exiting
00:29:13.421 --- FAIL: TestReconnect (0.15s)
00:29:13.421     <autogenerated>:1: 
00:29:13.421         	Error Trace:	comm_test.go:581
00:29:13.421         	Error:      	""rpc error: code = Unavailable desc = transport is closing"" does not contain ""127.0.0.1:41654""
00:29:13.421         	Test:       	TestReconnect
00:29:13.421 2019-01-15 15:54:53.914 UTC [test] Configure -> INFO 2f6 Entering, channel: test, nodes: [ID: 12
00:29:13.421 Endpoint: 127.0.0.1:44000
{code};;;","16/Jan/19 4:53 AM;wlahti;And here: https://gerrit.hyperledger.org/r/c/28722/;;;","16/Jan/19 5:01 AM;yacovm;

https://gerrit.hyperledger.org/r/#/c/28747/ 

I'll disable this for now. No point in investing time since I'm going to rewrite the tests next week anyway because I need to do some changes to the gRPC interfaces.;;;",,,,,,,,,,,,,,,,,,,,,
Undo TokenEndorserTransaction proto message,FAB-13700,36797,35752,Sub-task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,wenjian,wenjian,wenjian,16/Jan/19 5:41 AM,04/Feb/19 11:31 PM,28/Oct/23 3:04 AM,04/Feb/19 11:31 PM,,,,,,v2.0.0,,,,fabric-token,,,,0,,,,Undo FAB-13077. Do not need the new transaction type because we have decided to reuse endorser transaction to integrate with chaincode.,,wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,,,,No,,Unset,No,,,"1|i006yv:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Unset,,Unset,,(Please add usage information),wenjian,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,mergify/bp/release-2.2/pr-4374,release-2.5,release-2.4,main,mergify/bp/release-2.2/pr-3750,mergify/bp/release-2.5/pr-3782,mergify/bp/release-2.4/pr-3646,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,true,"17/Jan/19 10:38 PM;wenjian;CR: https://gerrit.hyperledger.org/r/#/c/28748/;;;",,,,,,,,,,,,,,,,,,,,,,,,
Add the ability to use the new lifecycle workflow to the interoperability tests,FAB-13701,36798,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,latitiah,latitiah,latitiah,16/Jan/19 5:52 AM,03/Apr/19 8:51 AM,28/Oct/23 3:04 AM,03/Apr/19 8:51 AM,,,,,,,,,,,,,,0,,,,"The new workflow involves adding new commands as well as a new workflow. This needs to be added to allow for testing.

Initially, both chaincode lifecycles will be supported, but eventually, the new chaincode lifecycle will become THE chaincode lifecycle.

This also adds the ability to automate testing of the upgrade scenarios.

The following functionality is needed:
* generate a tarball file from chaincode path
* “peer chaincode package <tar file> --newlifecycle --path <chaincode path> --lang <chaincode language>”
* “peer chaincode install <tar file> --newlifecycle --name <chaincode name> --version <chaincode version>”
* “peer chaincode approveformyorg --channelID <channel name> --name <chaincode name> --version <chaincode version> --hash <hash returned from the install step> --sequence <integer to indicate definition sequence> --policy <endorsement policy>” (The sequence number should be 0 on a deploy and increase on upgrades.) See test plan and design doc for more details.
* “peer chaincode commitchaincodedefinition --channelID <channel name> --name <chaincode name> --version <chaincode version> --hash <hash returned from the install step> --sequence <integer to indicate definition sequence> --policy <endorsement policy>”
",,jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-11237,,,Automated,,Unset,No,,,"1|i006z3:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,"There are 2 failures in this area. The new lifecycle upgrading chaincode using the new lifecycle currently does not work. This was the test case that was used to develop much of the test code for the new lifecycle and verify that things were working as expected.

Also if no policy is supplied a failure occurs during a query. 

This test passes with the changes that are included in https://gerrit.hyperledger.org/r/c/30290/",Interoperability Test,,(Please add usage information),jyellick,latitiah,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,release-2.4,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,"01/Feb/19 12:38 AM;latitiah;With these changes, the happy path will be performed to follow the following steps:
{code}
  Given I have a bootstrapped fabric network of type solo
  And I want to use the new chaincode lifecycle
  When an admin sets up a channel

  And an admin builds a chaincode package
  And the organization admins install the built chaincode package on all peers
  Then a hash value is received on all peers
  When the organization admins approve the chaincode package on all peers
  And an admin commits the chaincode package to the channel
  And a user invokes on the chaincode with args [""init"",""a"",""1000"",""b"",""2000""]
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 1000

  When an admin builds chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"" as version ""2"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc2"" on all peers
  And the organization admins install the built chaincode package on all peers
  Then a hash value is received on all peers
  When the organization admins approve the upgraded chaincode package on all peers
  And an admin commits the chaincode package to the channel
  And a user invokes on the chaincode with args [""init"",""a"",""1000"",""b"",""2000""]
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 1000
{code};;;","01/Feb/19 3:45 AM;jyellick;>  When the organization admins approve the ""ex04"" chaincode package on ""channel1"" for all peers

Strictly speaking this should only have to happen for each org (one peer per org).

> When an admin builds chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"" as version ""2"" with args [""init"",""a"",""1000"",""b"",""2000""] with name ""mycc2"" on all peers

The admin doesn't build the chaincode, the admin packages the chaincode, and it only happens once.  This package is then installed.

I'm also missing the sequence numbers in this flow?  Are they intentionally omitted because this is the first definition for the channel?
;;;","01/Feb/19 4:20 AM;latitiah;Ah yes, the wording has been gravely simplified, but I can reword to look like the following:

{code}When each organization admin approves the ""ex04"" chaincode package on ""channel1""{code}
and 
{code}When an admin packages chaincode at path ""github.com/hyperledger/fabric/examples/chaincode/go/example02/cmd"" as version ""2"" with name ""mycc2""{code}

Yes, on an initial deploy the sequence is at 0, on every upgrade it is incremented from the value returned from a call to QueryDefinedChaincode (not sure what this would be for the CLI command).;;;","05/Feb/19 12:41 AM;latitiah;Discovered that the initial sequence should be set to 1 on a deploy, then incremented from there. Initially, the CLI command is ""peer chaincode list --committed"";;;","07/Feb/19 5:41 AM;latitiah;The following are the test scenarios that do not work at this time:
{code}  Given I changed the ""Application"" capability to version ""2_0""
  And I have a bootstrapped fabric network of type solo
  And I want to use the new chaincode lifecycle
  When an admin sets up a channel
  And an admin packages a chaincode
  And the organization admins install the chaincode package on all peers
  Then a hash value is received on all peers
  When each organization admin approves the chaincode package with policy ""OR ('org1.example.com.member','org2.example.com.member')""
  And an admin commits the chaincode package to the channel
  And a user invokes on the chaincode with args [""init"",""a"",""1000"",""b"",""2000""] on both orgs
  And I wait up to ""30"" seconds for deploy to complete
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 1000
  When an admin packages chaincode at path ""github.com/hyperledger/fabric-test/chaincodes/example02/go/cmd"" as version ""2"" with name ""mycc2""
  And the organization admins install the chaincode package on all peers
  Then a hash value is received on all peers
  When each organization admin approves the upgraded chaincode package
  And an admin commits the chaincode package to the channel
  And a user invokes on the chaincode with args [""init"",""a"",""1000"",""b"",""2000""] on both orgs
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 100{code}

The following is the ""no policy"" scenario:
{code}  Given I changed the ""Application"" capability to version ""2_0""
  And I have a bootstrapped fabric network of type solo
  And I want to use the new chaincode lifecycle
  When an admin sets up a channel
  And an admin packages a chaincode
  And the organization admins install the chaincode package on all peers
  Then a hash value is received on all peers
  When each organization admin approves the chaincode package
  And an admin commits the chaincode package to the channel
  And a user invokes on the chaincode with args [""init"",""a"",""1000"",""b"",""2000""] on both orgs
  And I wait up to ""30"" seconds for deploy to complete
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 1000
  When a user invokes on the chaincode with args [""invoke"",""a"",""b"",""10""]
  And I wait ""5"" seconds
  When a user queries on the chaincode with args [""query"",""a""]
  Then a user receives a success response of 990{code};;;","08/Feb/19 6:26 AM;latitiah;https://gerrit.hyperledger.org/r/#/c/28928/;;;","29/Mar/19 10:01 PM;latitiah;As of today, all current tests in this area are passing.;;;",,,,,,,,,,,,,,,,,,
"Onboard an OSN dynamically (no crashes of other OSNs), starting with channel orderers as subset of all orderers in systemchannel",FAB-13702,36803,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Medium,Done,bharadwajambati1,scottz,scottz,16/Jan/19 9:05 AM,07/Apr/20 10:21 PM,28/Oct/23 3:04 AM,24/Jul/19 5:59 AM,v2.0.0,,,,,v1.4.2,v2.0.0,,,fabric-quality,,,,0,raft,watchlist,,"An admin decides to increase the number of OSNs servicing an application channel, using an OSN that is already part of the consenter set of the system channel.
h2. Setup
 # Define a fabric network with:
 ## etcd/raft with 4 OSNs (all under the same orderer organization)
 ## minimum 1 peer in 1 org
 # Configure the network with OSNs O1, O2, O3, O4 in the {{orderersystemchannel}} consenter set.
 # Bring up O1, O2, O3, and O4.
 # Create application channel {{channel1}} with OSNs O1-O3 (no O4!) in its consenter set, and proceed through the rest of the setup as in FAB-13601.

h2. Inputs
 # Start traffic, generating 100K transactions. Batchsize may be any value.
 # *Verify* O4 does not obtain any blocks in {{channel1}}, and we see no logs in O4 about {{channel1}}.
 # After traffic running for a few minutes, while it is still running, onboard O4 dynamically to channel1:
 ## Edit the {{channel1}} configuration to add O4.
 ## Sign and submit the channel update transaction to O1.
 ## Watch O4 blockheight grow as it retrieves blocks from another orderer.
 ## And after it catches up it should continue to grow while the new blocks arrive.

h2. Expectations
 # Verify all 100K blocks in {{channel1}} are retrieved by O4.
 # Observe the rate, how long it takes to catch up.
 # All nodes remain in service throughout the test.
 # No errors in the logs of peers and orderers.
 # No failures or errors reported by PTE.

h2. More variations for consideration

Which of these are worthwhile?
 # Stop O1 or O2 or O3 and restart them while the new OSN is onboarding and collecting blocks for the {{channel1}} from them. (Wait to do this until after the basic orderer restarts tests pass, e.g. FAB-13604)
 # Onboard another OSN with traffic running on channel1.
 # Onboard two new OSNs at once.",,bharadwajambati1,chintanr11,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13858,FAB-14346,FAB-14453,FAB-14607,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13856,FAB-13861,,,,,,,"07/Apr/20 8:59 PM;chintanr11;configtx.yaml;https://jira.hyperledger.org/secure/attachment/18211/configtx.yaml","15/Mar/19 1:38 AM;bharadwajambati1;configtx.yml;https://jira.hyperledger.org/secure/attachment/16932/configtx.yml",,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i006zb:w",,,,Unset,Unset,Week ending 2019-Mar-08,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),bharadwajambati1,chintanr11,kchristidis,scottz,yacovm,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"16/Jan/19 9:09 AM;scottz;Reference:
https://github.com/hyperledger/fabric/blob/master/integration/e2e/etcdraft_reconfig_test.go#L97-L122
integration/e2e/etcdraft_reconfig_test.go:97-122;;;","19/Jan/19 7:05 AM;kchristidis;Thanks for capturing this.

I've edited the Description a bit, please feel free to go over and re-edit anything you think might have been taken out incorrectly.

As for the variations for consideration, 1 and 3 sound good. I would only do 3 as an extension of this test for now. I would leave 1 for the week after, after we've ensured that the onboarding path sans crashes/restarts work well. Also, when you say ""other orderer node(s)"" you mean any of O1-O3, correct?;;;","19/Jan/19 7:24 AM;scottz;Thanks for that. Yes, I meant and fixed the wording to say O1-O3.;;;","24/Jan/19 3:25 AM;scottz;This testcase is blocked, pending some code development in configtxgen.;;;","20/Feb/19 2:55 AM;kchristidis;Progress on this should now be unblocked.;;;","26/Feb/19 5:20 AM;bharadwajambati1;Orderer4th gets removed from the orderer system channel, when created an application channel with three orderers in the consenters. Created a bug FAB-14346.;;;","15/Mar/19 1:30 AM;bharadwajambati1;Re-tested FAB-13702 with [~yacovm] fix for bug FAB-14607 and found no error logs

Version: 1.4.1
 Commit SHA: bf34e30;;;","15/Mar/19 1:44 AM;yacovm;thanks;;;",,,,,,,,,,,,,,,,,
"3 orderers, PTE latency mode 1 thread X 3 channels",FAB-13703,36804,,Test Task,Closed,FAB,Fabric,software,denyeart,,,Highest,Done,dongming,scottz,scottz,16/Jan/19 9:47 AM,02/Feb/19 1:06 AM,28/Oct/23 3:04 AM,26/Jan/19 8:21 AM,v2.0.0,,,,,v2.0.0,,,,fabric-quality,,,,0,raft,,,"Traffic test: extend 13601 to use multiple channels.

Start with 3 channels for this testcase.

Spread transactions to all orderers. (Each thread can choose an orderer to send TXs).
 Keep batchsize=1, using PTE latency mode for transaction pattern.",,scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,FAB-13601,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(Please add high level design or a link to the design),Unset,Unset,Unset,,FAB-13538,,,Manual,,Unset,No,,,"1|i006zj:",,,,Unset,Unset,,,(Please add steps to reproduce),,Unset,,,,,,Pass,,System Test,,(Please add usage information),scottz,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,dependabot/go_modules/regression/publish/golang.org/x/sys-0.1.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/crypto-0.1.0,dependabot/go_modules/tools/operator/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/smoke/golang.org/x/net-0.7.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/golang.org/x/net-0.7.0,dependabot/go_modules/tools/gotools/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/smoke/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/publish/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/smoke/golang.org/x/text-0.3.8,release-2.5,release-2.4,lindluni-patch-1,dependabot/go_modules/regression/publish/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/barebones/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/basicnetwork/k8s.io/client-go-0.20.0,dependabot/go_modules/tools/chaincode-integration/resources/chaincode/simple-go/golang.org/x/text-0.3.8,dependabot/go_modules/regression/publish/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/publish/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/net-0.7.0,dependabot/go_modules/regression/barebones/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/smoke/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/basicnetwork/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/golang.org/x/text-0.3.8,revert-342-mergify/bp/main/pr-340,dependabot/go_modules/regression/smoke/k8s.io/client-go-0.20.0,dependabot/go_modules/regression/basicnetwork/golang.org/x/sys-0.1.0,dependabot/go_modules/regression/publish/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/tools/operator/golang.org/x/text-0.3.8,dependabot/go_modules/tools/operator/golang.org/x/net-0.7.0,dependabot/go_modules/regression/basicnetwork/github.com/docker/docker-20.10.24incompatible,dependabot/go_modules/regression/basicnetwork/golang.org/x/text-0.3.8,dependabot/go_modules/regression/smoke/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/crypto-0.1.0,dependabot/go_modules/regression/barebones/golang.org/x/sys-0.1.0,dependabot/go_modules/tools/operator/github.com/opencontainers/runc-1.1.5,dependabot/go_modules/regression/barebones/k8s.io/client-go-0.20.0,dependabot/go_modules/chaincodes/marbles02_private/go/golang.org/x/net-0.7.0,dependabot/go_modules/tools/operator/github.com/docker/docker-20.10.24incompatible,,,,true,,,,,,,,,,,,,,,,,,,,,,,,,
